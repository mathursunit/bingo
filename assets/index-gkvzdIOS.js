(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function xk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cy={exports:{}},yu={};var m1;function _k(){if(m1)return yu;m1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:l}}return yu.Fragment=e,yu.jsx=n,yu.jsxs=n,yu}var p1;function wk(){return p1||(p1=1,cy.exports=_k()),cy.exports}var b=wk(),uy={exports:{}},Fe={};var g1;function Tk(){if(g1)return Fe;g1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),_=Symbol.iterator;function A(T){return T===null||typeof T!="object"?null:(T=_&&T[_]||T["@@iterator"],typeof T=="function"?T:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,N={};function z(T,U,W){this.props=T,this.context=U,this.refs=N,this.updater=W||M}z.prototype.isReactComponent={},z.prototype.setState=function(T,U){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,U,"setState")},z.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function $(){}$.prototype=z.prototype;function q(T,U,W){this.props=T,this.context=U,this.refs=N,this.updater=W||M}var ae=q.prototype=new $;ae.constructor=q,D(ae,z.prototype),ae.isPureReactComponent=!0;var te=Array.isArray;function le(){}var I={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function O(T,U,W){var re=W.ref;return{$$typeof:t,type:T,key:U,ref:re!==void 0?re:null,props:W}}function k(T,U){return O(T.type,U,T.props)}function j(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}function B(T){var U={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(W){return U[W]})}var V=/\/+/g;function xe(T,U){return typeof T=="object"&&T!==null&&T.key!=null?B(""+T.key):U.toString(36)}function ke(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(le,le):(T.status="pending",T.then(function(U){T.status==="pending"&&(T.status="fulfilled",T.value=U)},function(U){T.status==="pending"&&(T.status="rejected",T.reason=U)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function Z(T,U,W,re,pe){var ge=typeof T;(ge==="undefined"||ge==="boolean")&&(T=null);var fe=!1;if(T===null)fe=!0;else switch(ge){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(T.$$typeof){case t:case e:fe=!0;break;case g:return fe=T._init,Z(fe(T._payload),U,W,re,pe)}}if(fe)return pe=pe(T),fe=re===""?"."+xe(T,0):re,te(pe)?(W="",fe!=null&&(W=fe.replace(V,"$&/")+"/"),Z(pe,U,W,"",function(Ee){return Ee})):pe!=null&&(j(pe)&&(pe=k(pe,W+(pe.key==null||T&&T.key===pe.key?"":(""+pe.key).replace(V,"$&/")+"/")+fe)),U.push(pe)),1;fe=0;var ve=re===""?".":re+":";if(te(T))for(var _e=0;_e<T.length;_e++)re=T[_e],ge=ve+xe(re,_e),fe+=Z(re,U,W,ge,pe);else if(_e=A(T),typeof _e=="function")for(T=_e.call(T),_e=0;!(re=T.next()).done;)re=re.value,ge=ve+xe(re,_e++),fe+=Z(re,U,W,ge,pe);else if(ge==="object"){if(typeof T.then=="function")return Z(ke(T),U,W,re,pe);throw U=String(T),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return fe}function H(T,U,W){if(T==null)return T;var re=[],pe=0;return Z(T,re,"","",function(ge){return U.call(W,ge,pe++)}),re}function G(T){if(T._status===-1){var U=T._result;U=U(),U.then(function(W){(T._status===0||T._status===-1)&&(T._status=1,T._result=W)},function(W){(T._status===0||T._status===-1)&&(T._status=2,T._result=W)}),T._status===-1&&(T._status=0,T._result=U)}if(T._status===1)return T._result.default;throw T._result}var X=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},L={map:H,forEach:function(T,U,W){H(T,function(){U.apply(this,arguments)},W)},count:function(T){var U=0;return H(T,function(){U++}),U},toArray:function(T){return H(T,function(U){return U})||[]},only:function(T){if(!j(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return Fe.Activity=v,Fe.Children=L,Fe.Component=z,Fe.Fragment=n,Fe.Profiler=a,Fe.PureComponent=q,Fe.StrictMode=r,Fe.Suspense=d,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(T){return I.H.useMemoCache(T)}},Fe.cache=function(T){return function(){return T.apply(null,arguments)}},Fe.cacheSignal=function(){return null},Fe.cloneElement=function(T,U,W){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var re=D({},T.props),pe=T.key;if(U!=null)for(ge in U.key!==void 0&&(pe=""+U.key),U)!C.call(U,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&U.ref===void 0||(re[ge]=U[ge]);var ge=arguments.length-2;if(ge===1)re.children=W;else if(1<ge){for(var fe=Array(ge),ve=0;ve<ge;ve++)fe[ve]=arguments[ve+2];re.children=fe}return O(T.type,pe,re)},Fe.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:l,_context:T},T},Fe.createElement=function(T,U,W){var re,pe={},ge=null;if(U!=null)for(re in U.key!==void 0&&(ge=""+U.key),U)C.call(U,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(pe[re]=U[re]);var fe=arguments.length-2;if(fe===1)pe.children=W;else if(1<fe){for(var ve=Array(fe),_e=0;_e<fe;_e++)ve[_e]=arguments[_e+2];pe.children=ve}if(T&&T.defaultProps)for(re in fe=T.defaultProps,fe)pe[re]===void 0&&(pe[re]=fe[re]);return O(T,ge,pe)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(T){return{$$typeof:h,render:T}},Fe.isValidElement=j,Fe.lazy=function(T){return{$$typeof:g,_payload:{_status:-1,_result:T},_init:G}},Fe.memo=function(T,U){return{$$typeof:m,type:T,compare:U===void 0?null:U}},Fe.startTransition=function(T){var U=I.T,W={};I.T=W;try{var re=T(),pe=I.S;pe!==null&&pe(W,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(le,X)}catch(ge){X(ge)}finally{U!==null&&W.types!==null&&(U.types=W.types),I.T=U}},Fe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Fe.use=function(T){return I.H.use(T)},Fe.useActionState=function(T,U,W){return I.H.useActionState(T,U,W)},Fe.useCallback=function(T,U){return I.H.useCallback(T,U)},Fe.useContext=function(T){return I.H.useContext(T)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(T,U){return I.H.useDeferredValue(T,U)},Fe.useEffect=function(T,U){return I.H.useEffect(T,U)},Fe.useEffectEvent=function(T){return I.H.useEffectEvent(T)},Fe.useId=function(){return I.H.useId()},Fe.useImperativeHandle=function(T,U,W){return I.H.useImperativeHandle(T,U,W)},Fe.useInsertionEffect=function(T,U){return I.H.useInsertionEffect(T,U)},Fe.useLayoutEffect=function(T,U){return I.H.useLayoutEffect(T,U)},Fe.useMemo=function(T,U){return I.H.useMemo(T,U)},Fe.useOptimistic=function(T,U){return I.H.useOptimistic(T,U)},Fe.useReducer=function(T,U,W){return I.H.useReducer(T,U,W)},Fe.useRef=function(T){return I.H.useRef(T)},Fe.useState=function(T){return I.H.useState(T)},Fe.useSyncExternalStore=function(T,U,W){return I.H.useSyncExternalStore(T,U,W)},Fe.useTransition=function(){return I.H.useTransition()},Fe.version="19.2.3",Fe}var y1;function t0(){return y1||(y1=1,uy.exports=Tk()),uy.exports}var S=t0();const St=xk(S);var hy={exports:{}},vu={},dy={exports:{}},fy={};var v1;function Ek(){return v1||(v1=1,(function(t){function e(Z,H){var G=Z.length;Z.push(H);e:for(;0<G;){var X=G-1>>>1,L=Z[X];if(0<a(L,H))Z[X]=H,Z[G]=L,G=X;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var H=Z[0],G=Z.pop();if(G!==H){Z[0]=G;e:for(var X=0,L=Z.length,T=L>>>1;X<T;){var U=2*(X+1)-1,W=Z[U],re=U+1,pe=Z[re];if(0>a(W,G))re<L&&0>a(pe,W)?(Z[X]=pe,Z[re]=G,X=re):(Z[X]=W,Z[U]=G,X=U);else if(re<L&&0>a(pe,G))Z[X]=pe,Z[re]=G,X=re;else break e}}return H}function a(Z,H){var G=Z.sortIndex-H.sortIndex;return G!==0?G:Z.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],m=[],g=1,v=null,_=3,A=!1,M=!1,D=!1,N=!1,z=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function ae(Z){for(var H=n(m);H!==null;){if(H.callback===null)r(m);else if(H.startTime<=Z)r(m),H.sortIndex=H.expirationTime,e(d,H);else break;H=n(m)}}function te(Z){if(D=!1,ae(Z),!M)if(n(d)!==null)M=!0,le||(le=!0,B());else{var H=n(m);H!==null&&ke(te,H.startTime-Z)}}var le=!1,I=-1,C=5,O=-1;function k(){return N?!0:!(t.unstable_now()-O<C)}function j(){if(N=!1,le){var Z=t.unstable_now();O=Z;var H=!0;try{e:{M=!1,D&&(D=!1,$(I),I=-1),A=!0;var G=_;try{t:{for(ae(Z),v=n(d);v!==null&&!(v.expirationTime>Z&&k());){var X=v.callback;if(typeof X=="function"){v.callback=null,_=v.priorityLevel;var L=X(v.expirationTime<=Z);if(Z=t.unstable_now(),typeof L=="function"){v.callback=L,ae(Z),H=!0;break t}v===n(d)&&r(d),ae(Z)}else r(d);v=n(d)}if(v!==null)H=!0;else{var T=n(m);T!==null&&ke(te,T.startTime-Z),H=!1}}break e}finally{v=null,_=G,A=!1}H=void 0}}finally{H?B():le=!1}}}var B;if(typeof q=="function")B=function(){q(j)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,xe=V.port2;V.port1.onmessage=j,B=function(){xe.postMessage(null)}}else B=function(){z(j,0)};function ke(Z,H){I=z(function(){Z(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(Z){switch(_){case 1:case 2:case 3:var H=3;break;default:H=_}var G=_;_=H;try{return Z()}finally{_=G}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(Z,H){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var G=_;_=Z;try{return H()}finally{_=G}},t.unstable_scheduleCallback=function(Z,H,G){var X=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?X+G:X):G=X,Z){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=G+L,Z={id:g++,callback:H,priorityLevel:Z,startTime:G,expirationTime:L,sortIndex:-1},G>X?(Z.sortIndex=G,e(m,Z),n(d)===null&&Z===n(m)&&(D?($(I),I=-1):D=!0,ke(te,G-X))):(Z.sortIndex=L,e(d,Z),M||A||(M=!0,le||(le=!0,B()))),Z},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(Z){var H=_;return function(){var G=_;_=H;try{return Z.apply(this,arguments)}finally{_=G}}}})(fy)),fy}var b1;function Sk(){return b1||(b1=1,dy.exports=Ek()),dy.exports}var my={exports:{}},ii={};var x1;function Ak(){if(x1)return ii;x1=1;var t=t0();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,m,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:m,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ii.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ii.createPortal=function(d,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(d,m,null,g)},ii.flushSync=function(d){var m=c.T,g=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=m,r.p=g,r.d.f()}},ii.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(d,m))},ii.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},ii.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var g=m.as,v=h(g,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:A}):g==="script"&&r.d.X(d,{crossOrigin:v,integrity:_,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ii.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(d)},ii.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,v=h(g,m.crossOrigin);r.d.L(d,g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ii.preloadModule=function(d,m){if(typeof d=="string")if(m){var g=h(m.as,m.crossOrigin);r.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(d)},ii.requestFormReset=function(d){r.d.r(d)},ii.unstable_batchedUpdates=function(d,m){return d(m)},ii.useFormState=function(d,m,g){return c.H.useFormState(d,m,g)},ii.useFormStatus=function(){return c.H.useHostTransitionStatus()},ii.version="19.2.3",ii}var _1;function tA(){if(_1)return my.exports;_1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),my.exports=Ak(),my.exports}var w1;function Ck(){if(w1)return vu;w1=1;var t=Sk(),e=t0(),n=tA();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return d(p),i;if(y===u)return d(p),s;y=y.sibling}throw Error(r(188))}if(o.return!==u.return)o=p,u=y;else{for(var w=!1,R=p.child;R;){if(R===o){w=!0,o=p,u=y;break}if(R===u){w=!0,u=p,o=y;break}R=R.sibling}if(!w){for(R=y.child;R;){if(R===o){w=!0,o=y,u=p;break}if(R===u){w=!0,u=y,o=p;break}R=R.sibling}if(!w)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function g(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=g(i),s!==null)return s;i=i.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),q=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=j&&i[j]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function xe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case z:return"Profiler";case N:return"StrictMode";case te:return"Suspense";case le:return"SuspenseList";case O:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case q:return i.displayName||"Context";case $:return(i._context.displayName||"Context")+".Consumer";case ae:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return s=i.displayName||null,s!==null?s:xe(i.type)||"Memo";case C:s=i._payload,i=i._init;try{return xe(i(s))}catch{}}return null}var ke=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},X=[],L=-1;function T(i){return{current:i}}function U(i){0>L||(i.current=X[L],X[L]=null,L--)}function W(i,s){L++,X[L]=i.current,i.current=s}var re=T(null),pe=T(null),ge=T(null),fe=T(null);function ve(i,s){switch(W(ge,s),W(pe,i),W(re,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?jw(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=jw(s),i=Lw(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}U(re),W(re,i)}function _e(){U(re),U(pe),U(ge)}function Ee(i){i.memoizedState!==null&&W(fe,i);var s=re.current,o=Lw(s,i.type);s!==o&&(W(pe,i),W(re,o))}function Le(i){pe.current===i&&(U(re),U(pe)),fe.current===i&&(U(fe),fu._currentValue=G)}var Ve,ut;function Ie(i){if(Ve===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ve=s&&s[1]||"",ut=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ve+i+ut}var vt=!1;function mt(i,s){if(!i||vt)return"";vt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(oe){var ie=oe}Reflect.construct(i,[],he)}else{try{he.call()}catch(oe){ie=oe}i.call(he.prototype)}}else{try{throw Error()}catch(oe){ie=oe}(he=i())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(oe){if(oe&&ie&&typeof oe.stack=="string")return[oe.stack,ie.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),w=y[0],R=y[1];if(w&&R){var F=w.split(`
`),ee=R.split(`
`);for(p=u=0;u<F.length&&!F[u].includes("DetermineComponentFrameRoot");)u++;for(;p<ee.length&&!ee[p].includes("DetermineComponentFrameRoot");)p++;if(u===F.length||p===ee.length)for(u=F.length-1,p=ee.length-1;1<=u&&0<=p&&F[u]!==ee[p];)p--;for(;1<=u&&0<=p;u--,p--)if(F[u]!==ee[p]){if(u!==1||p!==1)do if(u--,p--,0>p||F[u]!==ee[p]){var ce=`
`+F[u].replace(" at new "," at ");return i.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",i.displayName)),ce}while(1<=u&&0<=p);break}}}finally{vt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ie(o):""}function qt(i,s){switch(i.tag){case 26:case 27:case 5:return Ie(i.type);case 16:return Ie("Lazy");case 13:return i.child!==s&&s!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return mt(i.type,!1);case 11:return mt(i.type.render,!1);case 1:return mt(i.type,!0);case 31:return Ie("Activity");default:return""}}function Xt(i){try{var s="",o=null;do s+=qt(i,o),o=i,i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Je=Object.prototype.hasOwnProperty,Pe=t.unstable_scheduleCallback,sn=t.unstable_cancelCallback,Di=t.unstable_shouldYield,Gi=t.unstable_requestPaint,Ot=t.unstable_now,hi=t.unstable_getCurrentPriorityLevel,An=t.unstable_ImmediatePriority,$n=t.unstable_UserBlockingPriority,an=t.unstable_NormalPriority,di=t.unstable_LowPriority,$i=t.unstable_IdlePriority,fn=t.log,Cn=t.unstable_setDisableYieldValue,Kn=null,Ht=null;function jn(i){if(typeof fn=="function"&&Cn(i),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Kn,i)}catch{}}var kt=Math.clz32?Math.clz32:$s,fr=Math.log,mr=Math.LN2;function $s(i){return i>>>=0,i===0?32:31-(fr(i)/mr|0)|0}var xi=256,pr=262144,Be=4194304;function lt(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function pt(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var p=0,y=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var R=u&134217727;return R!==0?(u=R&~y,u!==0?p=lt(u):(w&=R,w!==0?p=lt(w):o||(o=R&~i,o!==0&&(p=lt(o))))):(R=u&~y,R!==0?p=lt(R):w!==0?p=lt(w):o||(o=u&~i,o!==0&&(p=lt(o)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:p}function At(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Rn(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wt(){var i=Be;return Be<<=1,(Be&62914560)===0&&(Be=4194304),i}function Gt(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function mn(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Xe(i,s,o,u,p,y){var w=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var R=i.entanglements,F=i.expirationTimes,ee=i.hiddenUpdates;for(o=w&~o;0<o;){var ce=31-kt(o),he=1<<ce;R[ce]=0,F[ce]=-1;var ie=ee[ce];if(ie!==null)for(ee[ce]=null,ce=0;ce<ie.length;ce++){var oe=ie[ce];oe!==null&&(oe.lane&=-536870913)}o&=~he}u!==0&&Qt(i,u,0),y!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=y&~(w&~s))}function Qt(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-kt(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Mt(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-kt(o),p=1<<u;p&s|i[u]&s&&(i[u]|=s),o&=~p}}function pn(i,s){var o=s&-s;return o=(o&42)!==0?1:Nn(o),(o&(i.suspendedLanes|s))!==0?0:o}function Nn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function on(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ti(){var i=H.p;return i!==0?i:(i=window.event,i===void 0?32:o1(i.type))}function In(i,s){var o=H.p;try{return H.p=i,s()}finally{H.p=o}}var Ln=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Ln,ln="__reactProps$"+Ln,_i="__reactContainer$"+Ln,ls="__reactEvents$"+Ln,Ec="__reactListeners$"+Ln,Xo="__reactHandles$"+Ln,Ja="__reactResources$"+Ln,Ki="__reactMarker$"+Ln;function Ks(i){delete i[Jt],delete i[ln],delete i[ls],delete i[Ec],delete i[Xo]}function Un(i){var s=i[Jt];if(s)return s;for(var o=i.parentNode;o;){if(s=o[_i]||o[Jt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=Gw(i);i!==null;){if(o=i[Jt])return o;i=Gw(i)}return s}i=o,o=i.parentNode}return null}function ki(i){if(i=i[Jt]||i[_i]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function ni(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Mi(i){var s=i[Ja];return s||(s=i[Ja]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Zt(i){i[Ki]=!0}var ne=new Set,Se={};function bt(i,s){_t(i,s),_t(i+"Capture",s)}function _t(i,s){for(Se[i]=s,i=0;i<s.length;i++)ne.add(s[i])}var Ut=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),en={},Dn={};function fi(i){return Je.call(Dn,i)?!0:Je.call(en,i)?!1:Ut.test(i)?Dn[i]=!0:(en[i]=!0,!1)}function Wo(i,s,o){if(fi(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Pi(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function gn(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}function zn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ys(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Sc(i,s,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(w){o=""+w,y.call(this,w)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function wt(i){if(!i._valueTracker){var s=Ys(i)?"checked":"value";i._valueTracker=Sc(i,s,""+i[s])}}function Za(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=Ys(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function jr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var eo=/[\n"\\]/g;function wi(i){return i.replace(eo,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Qo(i,s,o,u,p,y,w,R){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),s!=null?w==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+zn(s)):i.value!==""+zn(s)&&(i.value=""+zn(s)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),s!=null?Ac(i,w,zn(s)):o!=null?Ac(i,w,zn(o)):u!=null&&i.removeAttribute("value"),p==null&&y!=null&&(i.defaultChecked=!!y),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.name=""+zn(R):i.removeAttribute("name")}function Lh(i,s,o,u,p,y,w,R){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){wt(i);return}o=o!=null?""+zn(o):"",s=s!=null?""+zn(s):o,R||s===i.value||(i.value=s),i.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=R?i.checked:!!u,i.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w),wt(i)}function Ac(i,s,o){s==="number"&&jr(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Xs(i,s,o,u){if(i=i.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<i.length;o++)p=s.hasOwnProperty("$"+i[o].value),i[o].selected!==p&&(i[o].selected=p),p&&u&&(i[o].defaultSelected=!0)}else{for(o=""+zn(o),s=null,p=0;p<i.length;p++){if(i[p].value===o){i[p].selected=!0,u&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function Uh(i,s,o){if(s!=null&&(s=""+zn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+zn(o):""}function Ws(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(ke(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=zn(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),wt(i)}function Ti(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var zh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cc(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||zh.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Rc(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&o[p]!==u&&Cc(i,p,u)}else for(var y in s)s.hasOwnProperty(y)&&Cc(i,y,s[y])}function Jo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zo(i){return Qs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function gr(){}var Nc=null;function Yi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Js=null,Lr=null;function to(i){var s=ki(i);if(s&&(i=s.stateNode)){var o=i[ln]||null;e:switch(i=s.stateNode,s.type){case"input":if(Qo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+wi(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var p=u[ln]||null;if(!p)throw Error(r(90));Qo(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&Za(u)}break e;case"textarea":Uh(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Xs(i,!!o.multiple,s,!1)}}}var el=!1;function Zs(i,s,o){if(el)return i(s,o);el=!0;try{var u=i(s);return u}finally{if(el=!1,(Js!==null||Lr!==null)&&(Pd(),Js&&(s=Js,i=Lr,Lr=Js=null,to(s),i)))for(s=0;s<i.length;s++)to(i[s])}}function yr(i,s){var o=i.stateNode;if(o===null)return null;var u=o[ln]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),no=!1;if(Xi)try{var Ct={};Object.defineProperty(Ct,"passive",{get:function(){no=!0}}),window.addEventListener("test",Ct,Ct),window.removeEventListener("test",Ct,Ct)}catch{no=!1}var Ur=null,Ic=null,io=null;function Dc(){if(io)return io;var i,s=Ic,o=s.length,u,p="value"in Ur?Ur.value:Ur.textContent,y=p.length;for(i=0;i<o&&s[i]===p[i];i++);var w=o-i;for(u=1;u<=w&&s[o-u]===p[y-u];u++);return io=p.slice(i,1<u?1-u:void 0)}function ro(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function cs(){return!0}function vr(){return!1}function Yn(i){function s(o,u,p,y,w){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(o=i[R],this[R]=o?o(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?cs:vr,this.isPropagationStopped=vr,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),s}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zr=Yn(us),ea=v({},us,{view:0,detail:0}),kc=Yn(ea),ta,tl,Br,nl=v({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:na,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Br&&(Br&&i.type==="mousemove"?(ta=i.screenX-Br.screenX,tl=i.screenY-Br.screenY):tl=ta=0,Br=i),ta)},movementY:function(i){return"movementY"in i?i.movementY:tl}}),Mc=Yn(nl),so=v({},nl,{dataTransfer:0}),Fh=Yn(so),qh=v({},ea,{relatedTarget:0}),ao=Yn(qh),Pc=v({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),Hh=Yn(Pc),il=v({},us,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Gh=Yn(il),$h=v({},us,{data:0}),Fr=Yn($h),Kh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wh(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Xh[i])?!!s[i]:!1}function na(){return Wh}var mi=v({},ea,{key:function(i){if(i.key){var s=Kh[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ro(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Yh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:na,charCode:function(i){return i.type==="keypress"?ro(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ro(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Qh=Yn(mi),Jh=v({},nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hs=Yn(Jh),f=v({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:na}),x=Yn(f),E=v({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),P=Yn(E),Q=v({},nl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),se=Yn(Q),ye=v({},us,{newState:0,oldState:0}),Ge=Yn(ye),cn=[9,13,27,32],gt=Xi&&"CompositionEvent"in window,zt=null;Xi&&"documentMode"in document&&(zt=document.documentMode);var Wi=Xi&&"TextEvent"in window&&!zt,qr=Xi&&(!gt||zt&&8<zt&&11>=zt),br=" ",xr=!1;function oo(i,s){switch(i){case"keyup":return cn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rl(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var sl=!1;function HI(i,s){switch(i){case"compositionend":return rl(s);case"keypress":return s.which!==32?null:(xr=!0,br);case"textInput":return i=s.data,i===br&&xr?null:i;default:return null}}function GI(i,s){if(sl)return i==="compositionend"||!gt&&oo(i,s)?(i=Dc(),io=Ic=Ur=null,sl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return qr&&s.locale!=="ko"?null:s.data;default:return null}}var $I={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yb(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!$I[i.type]:s==="textarea"}function Xb(i,s,o,u){Js?Lr?Lr.push(u):Lr=[u]:Js=u,s=Bd(s,"onChange"),0<s.length&&(o=new zr("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var Oc=null,Vc=null;function KI(i){Dw(i,0)}function Zh(i){var s=ni(i);if(Za(s))return i}function Wb(i,s){if(i==="change")return s}var Qb=!1;if(Xi){var gp;if(Xi){var yp="oninput"in document;if(!yp){var Jb=document.createElement("div");Jb.setAttribute("oninput","return;"),yp=typeof Jb.oninput=="function"}gp=yp}else gp=!1;Qb=gp&&(!document.documentMode||9<document.documentMode)}function Zb(){Oc&&(Oc.detachEvent("onpropertychange",ex),Vc=Oc=null)}function ex(i){if(i.propertyName==="value"&&Zh(Vc)){var s=[];Xb(s,Vc,i,Yi(i)),Zs(KI,s)}}function YI(i,s,o){i==="focusin"?(Zb(),Oc=s,Vc=o,Oc.attachEvent("onpropertychange",ex)):i==="focusout"&&Zb()}function XI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Zh(Vc)}function WI(i,s){if(i==="click")return Zh(s)}function QI(i,s){if(i==="input"||i==="change")return Zh(s)}function JI(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Oi=typeof Object.is=="function"?Object.is:JI;function jc(i,s){if(Oi(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!Je.call(s,p)||!Oi(i[p],s[p]))return!1}return!0}function tx(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function nx(i,s){var o=tx(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=tx(o)}}function ix(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?ix(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function rx(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=jr(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=jr(i.document)}return s}function vp(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var ZI=Xi&&"documentMode"in document&&11>=document.documentMode,al=null,bp=null,Lc=null,xp=!1;function sx(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;xp||al==null||al!==jr(u)||(u=al,"selectionStart"in u&&vp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Lc&&jc(Lc,u)||(Lc=u,u=Bd(bp,"onSelect"),0<u.length&&(s=new zr("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=al)))}function lo(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var ol={animationend:lo("Animation","AnimationEnd"),animationiteration:lo("Animation","AnimationIteration"),animationstart:lo("Animation","AnimationStart"),transitionrun:lo("Transition","TransitionRun"),transitionstart:lo("Transition","TransitionStart"),transitioncancel:lo("Transition","TransitionCancel"),transitionend:lo("Transition","TransitionEnd")},_p={},ax={};Xi&&(ax=document.createElement("div").style,"AnimationEvent"in window||(delete ol.animationend.animation,delete ol.animationiteration.animation,delete ol.animationstart.animation),"TransitionEvent"in window||delete ol.transitionend.transition);function co(i){if(_p[i])return _p[i];if(!ol[i])return i;var s=ol[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in ax)return _p[i]=s[o];return i}var ox=co("animationend"),lx=co("animationiteration"),cx=co("animationstart"),eD=co("transitionrun"),tD=co("transitionstart"),nD=co("transitioncancel"),ux=co("transitionend"),hx=new Map,wp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wp.push("scrollEnd");function _r(i,s){hx.set(i,s),bt(s,[i])}var ed=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Qi=[],ll=0,Tp=0;function td(){for(var i=ll,s=Tp=ll=0;s<i;){var o=Qi[s];Qi[s++]=null;var u=Qi[s];Qi[s++]=null;var p=Qi[s];Qi[s++]=null;var y=Qi[s];if(Qi[s++]=null,u!==null&&p!==null){var w=u.pending;w===null?p.next=p:(p.next=w.next,w.next=p),u.pending=p}y!==0&&dx(o,p,y)}}function nd(i,s,o,u){Qi[ll++]=i,Qi[ll++]=s,Qi[ll++]=o,Qi[ll++]=u,Tp|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Ep(i,s,o,u){return nd(i,s,o,u),id(i)}function uo(i,s){return nd(i,null,null,s),id(i)}function dx(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var p=!1,y=i.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(p=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,p&&s!==null&&(p=31-kt(o),i=y.hiddenUpdates,u=i[p],u===null?i[p]=[s]:u.push(s),s.lane=o|536870912),y):null}function id(i){if(50<au)throw au=0,Mg=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var cl={};function iD(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vi(i,s,o,u){return new iD(i,s,o,u)}function Sp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ds(i,s){var o=i.alternate;return o===null?(o=Vi(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function fx(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function rd(i,s,o,u,p,y){var w=0;if(u=i,typeof i=="function")Sp(i)&&(w=1);else if(typeof i=="string")w=lk(i,o,re.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case O:return i=Vi(31,o,s,p),i.elementType=O,i.lanes=y,i;case D:return ho(o.children,p,y,s);case N:w=8,p|=24;break;case z:return i=Vi(12,o,s,p|2),i.elementType=z,i.lanes=y,i;case te:return i=Vi(13,o,s,p),i.elementType=te,i.lanes=y,i;case le:return i=Vi(19,o,s,p),i.elementType=le,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case q:w=10;break e;case $:w=9;break e;case ae:w=11;break e;case I:w=14;break e;case C:w=16,u=null;break e}w=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=Vi(w,o,s,p),s.elementType=i,s.type=u,s.lanes=y,s}function ho(i,s,o,u){return i=Vi(7,i,u,s),i.lanes=o,i}function Ap(i,s,o){return i=Vi(6,i,null,s),i.lanes=o,i}function mx(i){var s=Vi(18,null,null,0);return s.stateNode=i,s}function Cp(i,s,o){return s=Vi(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var px=new WeakMap;function Ji(i,s){if(typeof i=="object"&&i!==null){var o=px.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Xt(s)},px.set(i,s),s)}return{value:i,source:s,stack:Xt(s)}}var ul=[],hl=0,sd=null,Uc=0,Zi=[],er=0,ia=null,Hr=1,Gr="";function fs(i,s){ul[hl++]=Uc,ul[hl++]=sd,sd=i,Uc=s}function gx(i,s,o){Zi[er++]=Hr,Zi[er++]=Gr,Zi[er++]=ia,ia=i;var u=Hr;i=Gr;var p=32-kt(u)-1;u&=~(1<<p),o+=1;var y=32-kt(s)+p;if(30<y){var w=p-p%5;y=(u&(1<<w)-1).toString(32),u>>=w,p-=w,Hr=1<<32-kt(s)+p|o<<p|u,Gr=y+i}else Hr=1<<y|o<<p|u,Gr=i}function Rp(i){i.return!==null&&(fs(i,1),gx(i,1,0))}function Np(i){for(;i===sd;)sd=ul[--hl],ul[hl]=null,Uc=ul[--hl],ul[hl]=null;for(;i===ia;)ia=Zi[--er],Zi[er]=null,Gr=Zi[--er],Zi[er]=null,Hr=Zi[--er],Zi[er]=null}function yx(i,s){Zi[er++]=Hr,Zi[er++]=Gr,Zi[er++]=ia,Hr=s.id,Gr=s.overflow,ia=i}var Xn=null,Vt=null,st=!1,ra=null,tr=!1,Ip=Error(r(519));function sa(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zc(Ji(s,i)),Ip}function vx(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[Jt]=i,s[ln]=u,o){case"dialog":Qe("cancel",s),Qe("close",s);break;case"iframe":case"object":case"embed":Qe("load",s);break;case"video":case"audio":for(o=0;o<lu.length;o++)Qe(lu[o],s);break;case"source":Qe("error",s);break;case"img":case"image":case"link":Qe("error",s),Qe("load",s);break;case"details":Qe("toggle",s);break;case"input":Qe("invalid",s),Lh(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Qe("invalid",s);break;case"textarea":Qe("invalid",s),Ws(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||Ow(s.textContent,o)?(u.popover!=null&&(Qe("beforetoggle",s),Qe("toggle",s)),u.onScroll!=null&&Qe("scroll",s),u.onScrollEnd!=null&&Qe("scrollend",s),u.onClick!=null&&(s.onclick=gr),s=!0):s=!1,s||sa(i,!0)}function bx(i){for(Xn=i.return;Xn;)switch(Xn.tag){case 5:case 31:case 13:tr=!1;return;case 27:case 3:tr=!0;return;default:Xn=Xn.return}}function dl(i){if(i!==Xn)return!1;if(!st)return bx(i),st=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Yg(i.type,i.memoizedProps)),o=!o),o&&Vt&&sa(i),bx(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Vt=Hw(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Vt=Hw(i)}else s===27?(s=Vt,ba(i.type)?(i=Zg,Zg=null,Vt=i):Vt=s):Vt=Xn?ir(i.stateNode.nextSibling):null;return!0}function fo(){Vt=Xn=null,st=!1}function Dp(){var i=ra;return i!==null&&(Ci===null?Ci=i:Ci.push.apply(Ci,i),ra=null),i}function zc(i){ra===null?ra=[i]:ra.push(i)}var kp=T(null),mo=null,ms=null;function aa(i,s,o){W(kp,s._currentValue),s._currentValue=o}function ps(i){i._currentValue=kp.current,U(kp)}function Mp(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function Pp(i,s,o,u){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var y=p.dependencies;if(y!==null){var w=p.child;y=y.firstContext;e:for(;y!==null;){var R=y;y=p;for(var F=0;F<s.length;F++)if(R.context===s[F]){y.lanes|=o,R=y.alternate,R!==null&&(R.lanes|=o),Mp(y.return,o,i),u||(w=null);break e}y=R.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(r(341));w.lanes|=o,y=w.alternate,y!==null&&(y.lanes|=o),Mp(w,o,i),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===i){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function fl(i,s,o,u){i=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var R=p.type;Oi(p.pendingProps.value,w.value)||(i!==null?i.push(R):i=[R])}}else if(p===fe.current){if(w=p.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(fu):i=[fu])}p=p.return}i!==null&&Pp(s,i,o,u),s.flags|=262144}function ad(i){for(i=i.firstContext;i!==null;){if(!Oi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function po(i){mo=i,ms=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Wn(i){return xx(mo,i)}function od(i,s){return mo===null&&po(i),xx(i,s)}function xx(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},ms===null){if(i===null)throw Error(r(308));ms=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ms=ms.next=s;return o}var rD=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},sD=t.unstable_scheduleCallback,aD=t.unstable_NormalPriority,yn={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Op(){return{controller:new rD,data:new Map,refCount:0}}function Bc(i){i.refCount--,i.refCount===0&&sD(aD,function(){i.controller.abort()})}var Fc=null,Vp=0,ml=0,pl=null;function oD(i,s){if(Fc===null){var o=Fc=[];Vp=0,ml=Ug(),pl={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Vp++,s.then(_x,_x),s}function _x(){if(--Vp===0&&Fc!==null){pl!==null&&(pl.status="fulfilled");var i=Fc;Fc=null,ml=0,pl=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function lD(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var wx=Z.S;Z.S=function(i,s){sw=Ot(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&oD(i,s),wx!==null&&wx(i,s)};var go=T(null);function jp(){var i=go.current;return i!==null?i:Dt.pooledCache}function ld(i,s){s===null?W(go,go.current):W(go,s.pool)}function Tx(){var i=jp();return i===null?null:{parent:yn._currentValue,pool:i}}var gl=Error(r(460)),Lp=Error(r(474)),cd=Error(r(542)),ud={then:function(){}};function Ex(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Sx(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(gr,gr),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Cx(i),i;default:if(typeof s.status=="string")s.then(gr,gr);else{if(i=Dt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Cx(i),i}throw vo=s,gl}}function yo(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(vo=o,gl):o}}var vo=null;function Ax(){if(vo===null)throw Error(r(459));var i=vo;return vo=null,i}function Cx(i){if(i===gl||i===cd)throw Error(r(483))}var yl=null,qc=0;function hd(i){var s=qc;return qc+=1,yl===null&&(yl=[]),Sx(yl,i,s)}function Hc(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function dd(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Rx(i){function s(Y,K){if(i){var J=Y.deletions;J===null?(Y.deletions=[K],Y.flags|=16):J.push(K)}}function o(Y,K){if(!i)return null;for(;K!==null;)s(Y,K),K=K.sibling;return null}function u(Y){for(var K=new Map;Y!==null;)Y.key!==null?K.set(Y.key,Y):K.set(Y.index,Y),Y=Y.sibling;return K}function p(Y,K){return Y=ds(Y,K),Y.index=0,Y.sibling=null,Y}function y(Y,K,J){return Y.index=J,i?(J=Y.alternate,J!==null?(J=J.index,J<K?(Y.flags|=67108866,K):J):(Y.flags|=67108866,K)):(Y.flags|=1048576,K)}function w(Y){return i&&Y.alternate===null&&(Y.flags|=67108866),Y}function R(Y,K,J,ue){return K===null||K.tag!==6?(K=Ap(J,Y.mode,ue),K.return=Y,K):(K=p(K,J),K.return=Y,K)}function F(Y,K,J,ue){var Me=J.type;return Me===D?ce(Y,K,J.props.children,ue,J.key):K!==null&&(K.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===C&&yo(Me)===K.type)?(K=p(K,J.props),Hc(K,J),K.return=Y,K):(K=rd(J.type,J.key,J.props,null,Y.mode,ue),Hc(K,J),K.return=Y,K)}function ee(Y,K,J,ue){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=Cp(J,Y.mode,ue),K.return=Y,K):(K=p(K,J.children||[]),K.return=Y,K)}function ce(Y,K,J,ue,Me){return K===null||K.tag!==7?(K=ho(J,Y.mode,ue,Me),K.return=Y,K):(K=p(K,J),K.return=Y,K)}function he(Y,K,J){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Ap(""+K,Y.mode,J),K.return=Y,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case A:return J=rd(K.type,K.key,K.props,null,Y.mode,J),Hc(J,K),J.return=Y,J;case M:return K=Cp(K,Y.mode,J),K.return=Y,K;case C:return K=yo(K),he(Y,K,J)}if(ke(K)||B(K))return K=ho(K,Y.mode,J,null),K.return=Y,K;if(typeof K.then=="function")return he(Y,hd(K),J);if(K.$$typeof===q)return he(Y,od(Y,K),J);dd(Y,K)}return null}function ie(Y,K,J,ue){var Me=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Me!==null?null:R(Y,K,""+J,ue);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return J.key===Me?F(Y,K,J,ue):null;case M:return J.key===Me?ee(Y,K,J,ue):null;case C:return J=yo(J),ie(Y,K,J,ue)}if(ke(J)||B(J))return Me!==null?null:ce(Y,K,J,ue,null);if(typeof J.then=="function")return ie(Y,K,hd(J),ue);if(J.$$typeof===q)return ie(Y,K,od(Y,J),ue);dd(Y,J)}return null}function oe(Y,K,J,ue,Me){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Y=Y.get(J)||null,R(K,Y,""+ue,Me);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case A:return Y=Y.get(ue.key===null?J:ue.key)||null,F(K,Y,ue,Me);case M:return Y=Y.get(ue.key===null?J:ue.key)||null,ee(K,Y,ue,Me);case C:return ue=yo(ue),oe(Y,K,J,ue,Me)}if(ke(ue)||B(ue))return Y=Y.get(J)||null,ce(K,Y,ue,Me,null);if(typeof ue.then=="function")return oe(Y,K,J,hd(ue),Me);if(ue.$$typeof===q)return oe(Y,K,J,od(K,ue),Me);dd(K,ue)}return null}function Ae(Y,K,J,ue){for(var Me=null,ht=null,Ne=K,Ke=K=0,et=null;Ne!==null&&Ke<J.length;Ke++){Ne.index>Ke?(et=Ne,Ne=null):et=Ne.sibling;var dt=ie(Y,Ne,J[Ke],ue);if(dt===null){Ne===null&&(Ne=et);break}i&&Ne&&dt.alternate===null&&s(Y,Ne),K=y(dt,K,Ke),ht===null?Me=dt:ht.sibling=dt,ht=dt,Ne=et}if(Ke===J.length)return o(Y,Ne),st&&fs(Y,Ke),Me;if(Ne===null){for(;Ke<J.length;Ke++)Ne=he(Y,J[Ke],ue),Ne!==null&&(K=y(Ne,K,Ke),ht===null?Me=Ne:ht.sibling=Ne,ht=Ne);return st&&fs(Y,Ke),Me}for(Ne=u(Ne);Ke<J.length;Ke++)et=oe(Ne,Y,Ke,J[Ke],ue),et!==null&&(i&&et.alternate!==null&&Ne.delete(et.key===null?Ke:et.key),K=y(et,K,Ke),ht===null?Me=et:ht.sibling=et,ht=et);return i&&Ne.forEach(function(Ea){return s(Y,Ea)}),st&&fs(Y,Ke),Me}function Oe(Y,K,J,ue){if(J==null)throw Error(r(151));for(var Me=null,ht=null,Ne=K,Ke=K=0,et=null,dt=J.next();Ne!==null&&!dt.done;Ke++,dt=J.next()){Ne.index>Ke?(et=Ne,Ne=null):et=Ne.sibling;var Ea=ie(Y,Ne,dt.value,ue);if(Ea===null){Ne===null&&(Ne=et);break}i&&Ne&&Ea.alternate===null&&s(Y,Ne),K=y(Ea,K,Ke),ht===null?Me=Ea:ht.sibling=Ea,ht=Ea,Ne=et}if(dt.done)return o(Y,Ne),st&&fs(Y,Ke),Me;if(Ne===null){for(;!dt.done;Ke++,dt=J.next())dt=he(Y,dt.value,ue),dt!==null&&(K=y(dt,K,Ke),ht===null?Me=dt:ht.sibling=dt,ht=dt);return st&&fs(Y,Ke),Me}for(Ne=u(Ne);!dt.done;Ke++,dt=J.next())dt=oe(Ne,Y,Ke,dt.value,ue),dt!==null&&(i&&dt.alternate!==null&&Ne.delete(dt.key===null?Ke:dt.key),K=y(dt,K,Ke),ht===null?Me=dt:ht.sibling=dt,ht=dt);return i&&Ne.forEach(function(bk){return s(Y,bk)}),st&&fs(Y,Ke),Me}function It(Y,K,J,ue){if(typeof J=="object"&&J!==null&&J.type===D&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case A:e:{for(var Me=J.key;K!==null;){if(K.key===Me){if(Me=J.type,Me===D){if(K.tag===7){o(Y,K.sibling),ue=p(K,J.props.children),ue.return=Y,Y=ue;break e}}else if(K.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===C&&yo(Me)===K.type){o(Y,K.sibling),ue=p(K,J.props),Hc(ue,J),ue.return=Y,Y=ue;break e}o(Y,K);break}else s(Y,K);K=K.sibling}J.type===D?(ue=ho(J.props.children,Y.mode,ue,J.key),ue.return=Y,Y=ue):(ue=rd(J.type,J.key,J.props,null,Y.mode,ue),Hc(ue,J),ue.return=Y,Y=ue)}return w(Y);case M:e:{for(Me=J.key;K!==null;){if(K.key===Me)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){o(Y,K.sibling),ue=p(K,J.children||[]),ue.return=Y,Y=ue;break e}else{o(Y,K);break}else s(Y,K);K=K.sibling}ue=Cp(J,Y.mode,ue),ue.return=Y,Y=ue}return w(Y);case C:return J=yo(J),It(Y,K,J,ue)}if(ke(J))return Ae(Y,K,J,ue);if(B(J)){if(Me=B(J),typeof Me!="function")throw Error(r(150));return J=Me.call(J),Oe(Y,K,J,ue)}if(typeof J.then=="function")return It(Y,K,hd(J),ue);if(J.$$typeof===q)return It(Y,K,od(Y,J),ue);dd(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,K!==null&&K.tag===6?(o(Y,K.sibling),ue=p(K,J),ue.return=Y,Y=ue):(o(Y,K),ue=Ap(J,Y.mode,ue),ue.return=Y,Y=ue),w(Y)):o(Y,K)}return function(Y,K,J,ue){try{qc=0;var Me=It(Y,K,J,ue);return yl=null,Me}catch(Ne){if(Ne===gl||Ne===cd)throw Ne;var ht=Vi(29,Ne,null,Y.mode);return ht.lanes=ue,ht.return=Y,ht}}}var bo=Rx(!0),Nx=Rx(!1),oa=!1;function Up(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zp(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function la(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ca(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(yt&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=id(i),dx(i,null,o),s}return nd(i,u,s,o),id(i)}function Gc(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,Mt(i,o)}}function Bp(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=w:y=y.next=w,o=o.next}while(o!==null);y===null?p=y=s:y=y.next=s}else p=y=s;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var Fp=!1;function $c(){if(Fp){var i=pl;if(i!==null)throw i}}function Kc(i,s,o,u){Fp=!1;var p=i.updateQueue;oa=!1;var y=p.firstBaseUpdate,w=p.lastBaseUpdate,R=p.shared.pending;if(R!==null){p.shared.pending=null;var F=R,ee=F.next;F.next=null,w===null?y=ee:w.next=ee,w=F;var ce=i.alternate;ce!==null&&(ce=ce.updateQueue,R=ce.lastBaseUpdate,R!==w&&(R===null?ce.firstBaseUpdate=ee:R.next=ee,ce.lastBaseUpdate=F))}if(y!==null){var he=p.baseState;w=0,ce=ee=F=null,R=y;do{var ie=R.lane&-536870913,oe=ie!==R.lane;if(oe?(Ze&ie)===ie:(u&ie)===ie){ie!==0&&ie===ml&&(Fp=!0),ce!==null&&(ce=ce.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Ae=i,Oe=R;ie=s;var It=o;switch(Oe.tag){case 1:if(Ae=Oe.payload,typeof Ae=="function"){he=Ae.call(It,he,ie);break e}he=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Oe.payload,ie=typeof Ae=="function"?Ae.call(It,he,ie):Ae,ie==null)break e;he=v({},he,ie);break e;case 2:oa=!0}}ie=R.callback,ie!==null&&(i.flags|=64,oe&&(i.flags|=8192),oe=p.callbacks,oe===null?p.callbacks=[ie]:oe.push(ie))}else oe={lane:ie,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ce===null?(ee=ce=oe,F=he):ce=ce.next=oe,w|=ie;if(R=R.next,R===null){if(R=p.shared.pending,R===null)break;oe=R,R=oe.next,oe.next=null,p.lastBaseUpdate=oe,p.shared.pending=null}}while(!0);ce===null&&(F=he),p.baseState=F,p.firstBaseUpdate=ee,p.lastBaseUpdate=ce,y===null&&(p.shared.lanes=0),ma|=w,i.lanes=w,i.memoizedState=he}}function Ix(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Dx(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Ix(o[i],s)}var vl=T(null),fd=T(0);function kx(i,s){i=Es,W(fd,i),W(vl,s),Es=i|s.baseLanes}function qp(){W(fd,Es),W(vl,vl.current)}function Hp(){Es=fd.current,U(vl),U(fd)}var ji=T(null),nr=null;function ua(i){var s=i.alternate;W(un,un.current&1),W(ji,i),nr===null&&(s===null||vl.current!==null||s.memoizedState!==null)&&(nr=i)}function Gp(i){W(un,un.current),W(ji,i),nr===null&&(nr=i)}function Mx(i){i.tag===22?(W(un,un.current),W(ji,i),nr===null&&(nr=i)):ha()}function ha(){W(un,un.current),W(ji,ji.current)}function Li(i){U(ji),nr===i&&(nr=null),U(un)}var un=T(0);function md(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Qg(o)||Jg(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var gs=0,$e=null,Rt=null,vn=null,pd=!1,bl=!1,xo=!1,gd=0,Yc=0,xl=null,cD=0;function tn(){throw Error(r(321))}function $p(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Oi(i[o],s[o]))return!1;return!0}function Kp(i,s,o,u,p,y){return gs=y,$e=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=i===null||i.memoizedState===null?g_:lg,xo=!1,y=o(u,p),xo=!1,bl&&(y=Ox(s,o,u,p)),Px(i),y}function Px(i){Z.H=Qc;var s=Rt!==null&&Rt.next!==null;if(gs=0,vn=Rt=$e=null,pd=!1,Yc=0,xl=null,s)throw Error(r(300));i===null||bn||(i=i.dependencies,i!==null&&ad(i)&&(bn=!0))}function Ox(i,s,o,u){$e=i;var p=0;do{if(bl&&(xl=null),Yc=0,bl=!1,25<=p)throw Error(r(301));if(p+=1,vn=Rt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Z.H=y_,y=s(o,u)}while(bl);return y}function uD(){var i=Z.H,s=i.useState()[0];return s=typeof s.then=="function"?Xc(s):s,i=i.useState()[0],(Rt!==null?Rt.memoizedState:null)!==i&&($e.flags|=1024),s}function Yp(){var i=gd!==0;return gd=0,i}function Xp(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Wp(i){if(pd){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}pd=!1}gs=0,vn=Rt=$e=null,bl=!1,Yc=gd=0,xl=null}function pi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?$e.memoizedState=vn=i:vn=vn.next=i,vn}function hn(){if(Rt===null){var i=$e.alternate;i=i!==null?i.memoizedState:null}else i=Rt.next;var s=vn===null?$e.memoizedState:vn.next;if(s!==null)vn=s,Rt=i;else{if(i===null)throw $e.alternate===null?Error(r(467)):Error(r(310));Rt=i,i={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},vn===null?$e.memoizedState=vn=i:vn=vn.next=i}return vn}function yd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xc(i){var s=Yc;return Yc+=1,xl===null&&(xl=[]),i=Sx(xl,i,s),s=$e,(vn===null?s.memoizedState:vn.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?g_:lg),i}function vd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Xc(i);if(i.$$typeof===q)return Wn(i)}throw Error(r(438,String(i)))}function Qp(i){var s=null,o=$e.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=$e.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=yd(),$e.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=k;return s.index++,o}function ys(i,s){return typeof s=="function"?s(i):s}function bd(i){var s=hn();return Jp(s,Rt,i)}function Jp(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var p=i.baseQueue,y=u.pending;if(y!==null){if(p!==null){var w=p.next;p.next=y.next,y.next=w}s.baseQueue=p=y,u.pending=null}if(y=i.baseState,p===null)i.memoizedState=y;else{s=p.next;var R=w=null,F=null,ee=s,ce=!1;do{var he=ee.lane&-536870913;if(he!==ee.lane?(Ze&he)===he:(gs&he)===he){var ie=ee.revertLane;if(ie===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),he===ml&&(ce=!0);else if((gs&ie)===ie){ee=ee.next,ie===ml&&(ce=!0);continue}else he={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},F===null?(R=F=he,w=y):F=F.next=he,$e.lanes|=ie,ma|=ie;he=ee.action,xo&&o(y,he),y=ee.hasEagerState?ee.eagerState:o(y,he)}else ie={lane:he,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},F===null?(R=F=ie,w=y):F=F.next=ie,$e.lanes|=he,ma|=he;ee=ee.next}while(ee!==null&&ee!==s);if(F===null?w=y:F.next=R,!Oi(y,i.memoizedState)&&(bn=!0,ce&&(o=pl,o!==null)))throw o;i.memoizedState=y,i.baseState=w,i.baseQueue=F,u.lastRenderedState=y}return p===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Zp(i){var s=hn(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,p=o.pending,y=s.memoizedState;if(p!==null){o.pending=null;var w=p=p.next;do y=i(y,w.action),w=w.next;while(w!==p);Oi(y,s.memoizedState)||(bn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,u]}function Vx(i,s,o){var u=$e,p=hn(),y=st;if(y){if(o===void 0)throw Error(r(407));o=o()}else o=s();var w=!Oi((Rt||p).memoizedState,o);if(w&&(p.memoizedState=o,bn=!0),p=p.queue,ng(Ux.bind(null,u,p,i),[i]),p.getSnapshot!==s||w||vn!==null&&vn.memoizedState.tag&1){if(u.flags|=2048,_l(9,{destroy:void 0},Lx.bind(null,u,p,o,s),null),Dt===null)throw Error(r(349));y||(gs&127)!==0||jx(u,s,o)}return o}function jx(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=$e.updateQueue,s===null?(s=yd(),$e.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function Lx(i,s,o,u){s.value=o,s.getSnapshot=u,zx(s)&&Bx(i)}function Ux(i,s,o){return o(function(){zx(s)&&Bx(i)})}function zx(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Oi(i,o)}catch{return!0}}function Bx(i){var s=uo(i,2);s!==null&&Ri(s,i,2)}function eg(i){var s=pi();if(typeof i=="function"){var o=i;if(i=o(),xo){jn(!0);try{o()}finally{jn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:i},s}function Fx(i,s,o,u){return i.baseState=o,Jp(i,Rt,typeof u=="function"?u:ys)}function hD(i,s,o,u,p){if(wd(i))throw Error(r(485));if(i=s.action,i!==null){var y={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};Z.T!==null?o(!0):y.isTransition=!1,u(y),o=s.pending,o===null?(y.next=s.pending=y,qx(s,y)):(y.next=o.next,s.pending=o.next=y)}}function qx(i,s){var o=s.action,u=s.payload,p=i.state;if(s.isTransition){var y=Z.T,w={};Z.T=w;try{var R=o(p,u),F=Z.S;F!==null&&F(w,R),Hx(i,s,R)}catch(ee){tg(i,s,ee)}finally{y!==null&&w.types!==null&&(y.types=w.types),Z.T=y}}else try{y=o(p,u),Hx(i,s,y)}catch(ee){tg(i,s,ee)}}function Hx(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Gx(i,s,u)},function(u){return tg(i,s,u)}):Gx(i,s,o)}function Gx(i,s,o){s.status="fulfilled",s.value=o,$x(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,qx(i,o)))}function tg(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,$x(s),s=s.next;while(s!==u)}i.action=null}function $x(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Kx(i,s){return s}function Yx(i,s){if(st){var o=Dt.formState;if(o!==null){e:{var u=$e;if(st){if(Vt){t:{for(var p=Vt,y=tr;p.nodeType!==8;){if(!y){p=null;break t}if(p=ir(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Vt=ir(p.nextSibling),u=p.data==="F!";break e}}sa(u)}u=!1}u&&(s=o[0])}}return o=pi(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kx,lastRenderedState:s},o.queue=u,o=f_.bind(null,$e,u),u.dispatch=o,u=eg(!1),y=og.bind(null,$e,!1,u.queue),u=pi(),p={state:s,dispatch:null,action:i,pending:null},u.queue=p,o=hD.bind(null,$e,p,y,o),p.dispatch=o,u.memoizedState=i,[s,o,!1]}function Xx(i){var s=hn();return Wx(s,Rt,i)}function Wx(i,s,o){if(s=Jp(i,s,Kx)[0],i=bd(ys)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Xc(s)}catch(w){throw w===gl?cd:w}else u=s;s=hn();var p=s.queue,y=p.dispatch;return o!==s.memoizedState&&($e.flags|=2048,_l(9,{destroy:void 0},dD.bind(null,p,o),null)),[u,y,i]}function dD(i,s){i.action=s}function Qx(i){var s=hn(),o=Rt;if(o!==null)return Wx(s,o,i);hn(),s=s.memoizedState,o=hn();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function _l(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=$e.updateQueue,s===null&&(s=yd(),$e.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function Jx(){return hn().memoizedState}function xd(i,s,o,u){var p=pi();$e.flags|=i,p.memoizedState=_l(1|s,{destroy:void 0},o,u===void 0?null:u)}function _d(i,s,o,u){var p=hn();u=u===void 0?null:u;var y=p.memoizedState.inst;Rt!==null&&u!==null&&$p(u,Rt.memoizedState.deps)?p.memoizedState=_l(s,y,o,u):($e.flags|=i,p.memoizedState=_l(1|s,y,o,u))}function Zx(i,s){xd(8390656,8,i,s)}function ng(i,s){_d(2048,8,i,s)}function fD(i){$e.flags|=4;var s=$e.updateQueue;if(s===null)s=yd(),$e.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function e_(i){var s=hn().memoizedState;return fD({ref:s,nextImpl:i}),function(){if((yt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function t_(i,s){return _d(4,2,i,s)}function n_(i,s){return _d(4,4,i,s)}function i_(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function r_(i,s,o){o=o!=null?o.concat([i]):null,_d(4,4,i_.bind(null,s,i),o)}function ig(){}function s_(i,s){var o=hn();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&$p(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function a_(i,s){var o=hn();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&$p(s,u[1]))return u[0];if(u=i(),xo){jn(!0);try{i()}finally{jn(!1)}}return o.memoizedState=[u,s],u}function rg(i,s,o){return o===void 0||(gs&1073741824)!==0&&(Ze&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=ow(),$e.lanes|=i,ma|=i,o)}function o_(i,s,o,u){return Oi(o,s)?o:vl.current!==null?(i=rg(i,o,u),Oi(i,s)||(bn=!0),i):(gs&42)===0||(gs&1073741824)!==0&&(Ze&261930)===0?(bn=!0,i.memoizedState=o):(i=ow(),$e.lanes|=i,ma|=i,s)}function l_(i,s,o,u,p){var y=H.p;H.p=y!==0&&8>y?y:8;var w=Z.T,R={};Z.T=R,og(i,!1,s,o);try{var F=p(),ee=Z.S;if(ee!==null&&ee(R,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ce=lD(F,u);Wc(i,s,ce,Bi(i))}else Wc(i,s,u,Bi(i))}catch(he){Wc(i,s,{then:function(){},status:"rejected",reason:he},Bi())}finally{H.p=y,w!==null&&R.types!==null&&(w.types=R.types),Z.T=w}}function mD(){}function sg(i,s,o,u){if(i.tag!==5)throw Error(r(476));var p=c_(i).queue;l_(i,p,s,G,o===null?mD:function(){return u_(i),o(u)})}function c_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:G},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function u_(i){var s=c_(i);s.next===null&&(s=i.alternate.memoizedState),Wc(i,s.next.queue,{},Bi())}function ag(){return Wn(fu)}function h_(){return hn().memoizedState}function d_(){return hn().memoizedState}function pD(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Bi();i=la(o);var u=ca(s,i,o);u!==null&&(Ri(u,s,o),Gc(u,s,o)),s={cache:Op()},i.payload=s;return}s=s.return}}function gD(i,s,o){var u=Bi();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},wd(i)?m_(s,o):(o=Ep(i,s,o,u),o!==null&&(Ri(o,i,u),p_(o,s,u)))}function f_(i,s,o){var u=Bi();Wc(i,s,o,u)}function Wc(i,s,o,u){var p={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(wd(i))m_(s,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var w=s.lastRenderedState,R=y(w,o);if(p.hasEagerState=!0,p.eagerState=R,Oi(R,w))return nd(i,s,p,0),Dt===null&&td(),!1}catch{}if(o=Ep(i,s,p,u),o!==null)return Ri(o,i,u),p_(o,s,u),!0}return!1}function og(i,s,o,u){if(u={lane:2,revertLane:Ug(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},wd(i)){if(s)throw Error(r(479))}else s=Ep(i,o,u,2),s!==null&&Ri(s,i,2)}function wd(i){var s=i.alternate;return i===$e||s!==null&&s===$e}function m_(i,s){bl=pd=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function p_(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,Mt(i,o)}}var Qc={readContext:Wn,use:vd,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn};Qc.useEffectEvent=tn;var g_={readContext:Wn,use:vd,useCallback:function(i,s){return pi().memoizedState=[i,s===void 0?null:s],i},useContext:Wn,useEffect:Zx,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,xd(4194308,4,i_.bind(null,s,i),o)},useLayoutEffect:function(i,s){return xd(4194308,4,i,s)},useInsertionEffect:function(i,s){xd(4,2,i,s)},useMemo:function(i,s){var o=pi();s=s===void 0?null:s;var u=i();if(xo){jn(!0);try{i()}finally{jn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=pi();if(o!==void 0){var p=o(s);if(xo){jn(!0);try{o(s)}finally{jn(!1)}}}else p=s;return u.memoizedState=u.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},u.queue=i,i=i.dispatch=gD.bind(null,$e,i),[u.memoizedState,i]},useRef:function(i){var s=pi();return i={current:i},s.memoizedState=i},useState:function(i){i=eg(i);var s=i.queue,o=f_.bind(null,$e,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:ig,useDeferredValue:function(i,s){var o=pi();return rg(o,i,s)},useTransition:function(){var i=eg(!1);return i=l_.bind(null,$e,i.queue,!0,!1),pi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=$e,p=pi();if(st){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),Dt===null)throw Error(r(349));(Ze&127)!==0||jx(u,s,o)}p.memoizedState=o;var y={value:o,getSnapshot:s};return p.queue=y,Zx(Ux.bind(null,u,y,i),[i]),u.flags|=2048,_l(9,{destroy:void 0},Lx.bind(null,u,y,o,s),null),o},useId:function(){var i=pi(),s=Dt.identifierPrefix;if(st){var o=Gr,u=Hr;o=(u&~(1<<32-kt(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=gd++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=cD++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:ag,useFormState:Yx,useActionState:Yx,useOptimistic:function(i){var s=pi();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=og.bind(null,$e,!0,o),o.dispatch=s,[i,s]},useMemoCache:Qp,useCacheRefresh:function(){return pi().memoizedState=pD.bind(null,$e)},useEffectEvent:function(i){var s=pi(),o={impl:i};return s.memoizedState=o,function(){if((yt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},lg={readContext:Wn,use:vd,useCallback:s_,useContext:Wn,useEffect:ng,useImperativeHandle:r_,useInsertionEffect:t_,useLayoutEffect:n_,useMemo:a_,useReducer:bd,useRef:Jx,useState:function(){return bd(ys)},useDebugValue:ig,useDeferredValue:function(i,s){var o=hn();return o_(o,Rt.memoizedState,i,s)},useTransition:function(){var i=bd(ys)[0],s=hn().memoizedState;return[typeof i=="boolean"?i:Xc(i),s]},useSyncExternalStore:Vx,useId:h_,useHostTransitionStatus:ag,useFormState:Xx,useActionState:Xx,useOptimistic:function(i,s){var o=hn();return Fx(o,Rt,i,s)},useMemoCache:Qp,useCacheRefresh:d_};lg.useEffectEvent=e_;var y_={readContext:Wn,use:vd,useCallback:s_,useContext:Wn,useEffect:ng,useImperativeHandle:r_,useInsertionEffect:t_,useLayoutEffect:n_,useMemo:a_,useReducer:Zp,useRef:Jx,useState:function(){return Zp(ys)},useDebugValue:ig,useDeferredValue:function(i,s){var o=hn();return Rt===null?rg(o,i,s):o_(o,Rt.memoizedState,i,s)},useTransition:function(){var i=Zp(ys)[0],s=hn().memoizedState;return[typeof i=="boolean"?i:Xc(i),s]},useSyncExternalStore:Vx,useId:h_,useHostTransitionStatus:ag,useFormState:Qx,useActionState:Qx,useOptimistic:function(i,s){var o=hn();return Rt!==null?Fx(o,Rt,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Qp,useCacheRefresh:d_};y_.useEffectEvent=e_;function cg(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:v({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var ug={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=Bi(),p=la(u);p.payload=s,o!=null&&(p.callback=o),s=ca(i,p,u),s!==null&&(Ri(s,i,u),Gc(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=Bi(),p=la(u);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=ca(i,p,u),s!==null&&(Ri(s,i,u),Gc(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Bi(),u=la(o);u.tag=2,s!=null&&(u.callback=s),s=ca(i,u,o),s!==null&&(Ri(s,i,o),Gc(s,i,o))}};function v_(i,s,o,u,p,y,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,y,w):s.prototype&&s.prototype.isPureReactComponent?!jc(o,u)||!jc(p,y):!0}function b_(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&ug.enqueueReplaceState(s,s.state,null)}function _o(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=v({},o));for(var p in i)o[p]===void 0&&(o[p]=i[p])}return o}function x_(i){ed(i)}function __(i){console.error(i)}function w_(i){ed(i)}function Td(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function T_(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function hg(i,s,o){return o=la(o),o.tag=3,o.payload={element:null},o.callback=function(){Td(i,s)},o}function E_(i){return i=la(i),i.tag=3,i}function S_(i,s,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;i.payload=function(){return p(y)},i.callback=function(){T_(s,o,u)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){T_(s,o,u),typeof p!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function yD(i,s,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&fl(s,o,p,!0),o=ji.current,o!==null){switch(o.tag){case 31:case 13:return nr===null?Od():o.alternate===null&&nn===0&&(nn=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===ud?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Vg(i,u,p)),!1;case 22:return o.flags|=65536,u===ud?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Vg(i,u,p)),!1}throw Error(r(435,o.tag))}return Vg(i,u,p),Od(),!1}if(st)return s=ji.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==Ip&&(i=Error(r(422),{cause:u}),zc(Ji(i,o)))):(u!==Ip&&(s=Error(r(423),{cause:u}),zc(Ji(s,o))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,u=Ji(u,o),p=hg(i.stateNode,u,p),Bp(i,p),nn!==4&&(nn=2)),!1;var y=Error(r(520),{cause:u});if(y=Ji(y,o),su===null?su=[y]:su.push(y),nn!==4&&(nn=2),s===null)return!0;u=Ji(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=p&-p,o.lanes|=i,i=hg(o.stateNode,u,i),Bp(o,i),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(pa===null||!pa.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=E_(p),S_(p,i,o,u),Bp(o,p),!1}o=o.return}while(o!==null);return!1}var dg=Error(r(461)),bn=!1;function Qn(i,s,o,u){s.child=i===null?Nx(s,null,o,u):bo(s,i.child,o,u)}function A_(i,s,o,u,p){o=o.render;var y=s.ref;if("ref"in u){var w={};for(var R in u)R!=="ref"&&(w[R]=u[R])}else w=u;return po(s),u=Kp(i,s,o,w,y,p),R=Yp(),i!==null&&!bn?(Xp(i,s,p),vs(i,s,p)):(st&&R&&Rp(s),s.flags|=1,Qn(i,s,u,p),s.child)}function C_(i,s,o,u,p){if(i===null){var y=o.type;return typeof y=="function"&&!Sp(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,R_(i,s,y,u,p)):(i=rd(o.type,null,u,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!xg(i,p)){var w=y.memoizedProps;if(o=o.compare,o=o!==null?o:jc,o(w,u)&&i.ref===s.ref)return vs(i,s,p)}return s.flags|=1,i=ds(y,u),i.ref=s.ref,i.return=s,s.child=i}function R_(i,s,o,u,p){if(i!==null){var y=i.memoizedProps;if(jc(y,u)&&i.ref===s.ref)if(bn=!1,s.pendingProps=u=y,xg(i,p))(i.flags&131072)!==0&&(bn=!0);else return s.lanes=i.lanes,vs(i,s,p)}return fg(i,s,o,u,p)}function N_(i,s,o,u){var p=u.children,y=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,i!==null){for(u=s.child=i.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~y}else u=0,s.child=null;return I_(i,s,y,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&ld(s,y!==null?y.cachePool:null),y!==null?kx(s,y):qp(),Mx(s);else return u=s.lanes=536870912,I_(i,s,y!==null?y.baseLanes|o:o,o,u)}else y!==null?(ld(s,y.cachePool),kx(s,y),ha(),s.memoizedState=null):(i!==null&&ld(s,null),qp(),ha());return Qn(i,s,p,o),s.child}function Jc(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function I_(i,s,o,u,p){var y=jp();return y=y===null?null:{parent:yn._currentValue,pool:y},s.memoizedState={baseLanes:o,cachePool:y},i!==null&&ld(s,null),qp(),Mx(s),i!==null&&fl(i,s,u,!0),s.childLanes=p,null}function Ed(i,s){return s=Ad({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function D_(i,s,o){return bo(s,i.child,null,o),i=Ed(s,s.pendingProps),i.flags|=2,Li(s),s.memoizedState=null,i}function vD(i,s,o){var u=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(st){if(u.mode==="hidden")return i=Ed(s,u),s.lanes=536870912,Jc(null,i);if(Gp(s),(i=Vt)?(i=qw(i,tr),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ia!==null?{id:Hr,overflow:Gr}:null,retryLane:536870912,hydrationErrors:null},o=mx(i),o.return=s,s.child=o,Xn=s,Vt=null)):i=null,i===null)throw sa(s);return s.lanes=536870912,null}return Ed(s,u)}var y=i.memoizedState;if(y!==null){var w=y.dehydrated;if(Gp(s),p)if(s.flags&256)s.flags&=-257,s=D_(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(bn||fl(i,s,o,!1),p=(o&i.childLanes)!==0,bn||p){if(u=Dt,u!==null&&(w=pn(u,o),w!==0&&w!==y.retryLane))throw y.retryLane=w,uo(i,w),Ri(u,i,w),dg;Od(),s=D_(i,s,o)}else i=y.treeContext,Vt=ir(w.nextSibling),Xn=s,st=!0,ra=null,tr=!1,i!==null&&yx(s,i),s=Ed(s,u),s.flags|=4096;return s}return i=ds(i.child,{mode:u.mode,children:u.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Sd(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function fg(i,s,o,u,p){return po(s),o=Kp(i,s,o,u,void 0,p),u=Yp(),i!==null&&!bn?(Xp(i,s,p),vs(i,s,p)):(st&&u&&Rp(s),s.flags|=1,Qn(i,s,o,p),s.child)}function k_(i,s,o,u,p,y){return po(s),s.updateQueue=null,o=Ox(s,u,o,p),Px(i),u=Yp(),i!==null&&!bn?(Xp(i,s,y),vs(i,s,y)):(st&&u&&Rp(s),s.flags|=1,Qn(i,s,o,y),s.child)}function M_(i,s,o,u,p){if(po(s),s.stateNode===null){var y=cl,w=o.contextType;typeof w=="object"&&w!==null&&(y=Wn(w)),y=new o(u,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=ug,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=u,y.state=s.memoizedState,y.refs={},Up(s),w=o.contextType,y.context=typeof w=="object"&&w!==null?Wn(w):cl,y.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(cg(s,o,w,u),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&ug.enqueueReplaceState(y,y.state,null),Kc(s,u,y,p),$c(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){y=s.stateNode;var R=s.memoizedProps,F=_o(o,R);y.props=F;var ee=y.context,ce=o.contextType;w=cl,typeof ce=="object"&&ce!==null&&(w=Wn(ce));var he=o.getDerivedStateFromProps;ce=typeof he=="function"||typeof y.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,ce||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R||ee!==w)&&b_(s,y,u,w),oa=!1;var ie=s.memoizedState;y.state=ie,Kc(s,u,y,p),$c(),ee=s.memoizedState,R||ie!==ee||oa?(typeof he=="function"&&(cg(s,o,he,u),ee=s.memoizedState),(F=oa||v_(s,o,F,u,ie,ee,w))?(ce||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=ee),y.props=u,y.state=ee,y.context=w,u=F):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,zp(i,s),w=s.memoizedProps,ce=_o(o,w),y.props=ce,he=s.pendingProps,ie=y.context,ee=o.contextType,F=cl,typeof ee=="object"&&ee!==null&&(F=Wn(ee)),R=o.getDerivedStateFromProps,(ee=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==he||ie!==F)&&b_(s,y,u,F),oa=!1,ie=s.memoizedState,y.state=ie,Kc(s,u,y,p),$c();var oe=s.memoizedState;w!==he||ie!==oe||oa||i!==null&&i.dependencies!==null&&ad(i.dependencies)?(typeof R=="function"&&(cg(s,o,R,u),oe=s.memoizedState),(ce=oa||v_(s,o,ce,u,ie,oe,F)||i!==null&&i.dependencies!==null&&ad(i.dependencies))?(ee||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,oe,F),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,oe,F)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===i.memoizedProps&&ie===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&ie===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=oe),y.props=u,y.state=oe,y.context=F,u=ce):(typeof y.componentDidUpdate!="function"||w===i.memoizedProps&&ie===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&ie===i.memoizedState||(s.flags|=1024),u=!1)}return y=u,Sd(i,s),u=(s.flags&128)!==0,y||u?(y=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&u?(s.child=bo(s,i.child,null,p),s.child=bo(s,null,o,p)):Qn(i,s,o,p),s.memoizedState=y.state,i=s.child):i=vs(i,s,p),i}function P_(i,s,o,u){return fo(),s.flags|=256,Qn(i,s,o,u),s.child}var mg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pg(i){return{baseLanes:i,cachePool:Tx()}}function gg(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=zi),i}function O_(i,s,o){var u=s.pendingProps,p=!1,y=(s.flags&128)!==0,w;if((w=y)||(w=i!==null&&i.memoizedState===null?!1:(un.current&2)!==0),w&&(p=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,i===null){if(st){if(p?ua(s):ha(),(i=Vt)?(i=qw(i,tr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ia!==null?{id:Hr,overflow:Gr}:null,retryLane:536870912,hydrationErrors:null},o=mx(i),o.return=s,s.child=o,Xn=s,Vt=null)):i=null,i===null)throw sa(s);return Jg(i)?s.lanes=32:s.lanes=536870912,null}var R=u.children;return u=u.fallback,p?(ha(),p=s.mode,R=Ad({mode:"hidden",children:R},p),u=ho(u,p,o,null),R.return=s,u.return=s,R.sibling=u,s.child=R,u=s.child,u.memoizedState=pg(o),u.childLanes=gg(i,w,o),s.memoizedState=mg,Jc(null,u)):(ua(s),yg(s,R))}var F=i.memoizedState;if(F!==null&&(R=F.dehydrated,R!==null)){if(y)s.flags&256?(ua(s),s.flags&=-257,s=vg(i,s,o)):s.memoizedState!==null?(ha(),s.child=i.child,s.flags|=128,s=null):(ha(),R=u.fallback,p=s.mode,u=Ad({mode:"visible",children:u.children},p),R=ho(R,p,o,null),R.flags|=2,u.return=s,R.return=s,u.sibling=R,s.child=u,bo(s,i.child,null,o),u=s.child,u.memoizedState=pg(o),u.childLanes=gg(i,w,o),s.memoizedState=mg,s=Jc(null,u));else if(ua(s),Jg(R)){if(w=R.nextSibling&&R.nextSibling.dataset,w)var ee=w.dgst;w=ee,u=Error(r(419)),u.stack="",u.digest=w,zc({value:u,source:null,stack:null}),s=vg(i,s,o)}else if(bn||fl(i,s,o,!1),w=(o&i.childLanes)!==0,bn||w){if(w=Dt,w!==null&&(u=pn(w,o),u!==0&&u!==F.retryLane))throw F.retryLane=u,uo(i,u),Ri(w,i,u),dg;Qg(R)||Od(),s=vg(i,s,o)}else Qg(R)?(s.flags|=192,s.child=i.child,s=null):(i=F.treeContext,Vt=ir(R.nextSibling),Xn=s,st=!0,ra=null,tr=!1,i!==null&&yx(s,i),s=yg(s,u.children),s.flags|=4096);return s}return p?(ha(),R=u.fallback,p=s.mode,F=i.child,ee=F.sibling,u=ds(F,{mode:"hidden",children:u.children}),u.subtreeFlags=F.subtreeFlags&65011712,ee!==null?R=ds(ee,R):(R=ho(R,p,o,null),R.flags|=2),R.return=s,u.return=s,u.sibling=R,s.child=u,Jc(null,u),u=s.child,R=i.child.memoizedState,R===null?R=pg(o):(p=R.cachePool,p!==null?(F=yn._currentValue,p=p.parent!==F?{parent:F,pool:F}:p):p=Tx(),R={baseLanes:R.baseLanes|o,cachePool:p}),u.memoizedState=R,u.childLanes=gg(i,w,o),s.memoizedState=mg,Jc(i.child,u)):(ua(s),o=i.child,i=o.sibling,o=ds(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(w=s.deletions,w===null?(s.deletions=[i],s.flags|=16):w.push(i)),s.child=o,s.memoizedState=null,o)}function yg(i,s){return s=Ad({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Ad(i,s){return i=Vi(22,i,null,s),i.lanes=0,i}function vg(i,s,o){return bo(s,i.child,null,o),i=yg(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function V_(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Mp(i.return,s,o)}function bg(i,s,o,u,p,y){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p,treeForkCount:y}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=u,w.tail=o,w.tailMode=p,w.treeForkCount=y)}function j_(i,s,o){var u=s.pendingProps,p=u.revealOrder,y=u.tail;u=u.children;var w=un.current,R=(w&2)!==0;if(R?(w=w&1|2,s.flags|=128):w&=1,W(un,w),Qn(i,s,u,o),u=st?Uc:0,!R&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&V_(i,o,s);else if(i.tag===19)V_(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(o=s.child,p=null;o!==null;)i=o.alternate,i!==null&&md(i)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),bg(s,!1,p,o,y,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&md(i)===null){s.child=p;break}i=p.sibling,p.sibling=o,o=p,p=i}bg(s,!0,o,null,y,u);break;case"together":bg(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function vs(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),ma|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(fl(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=ds(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=ds(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function xg(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&ad(i)))}function bD(i,s,o){switch(s.tag){case 3:ve(s,s.stateNode.containerInfo),aa(s,yn,i.memoizedState.cache),fo();break;case 27:case 5:Ee(s);break;case 4:ve(s,s.stateNode.containerInfo);break;case 10:aa(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Gp(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ua(s),s.flags|=128,null):(o&s.child.childLanes)!==0?O_(i,s,o):(ua(s),i=vs(i,s,o),i!==null?i.sibling:null);ua(s);break;case 19:var p=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(fl(i,s,o,!1),u=(o&s.childLanes)!==0),p){if(u)return j_(i,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),W(un,un.current),u)break;return null;case 22:return s.lanes=0,N_(i,s,o,s.pendingProps);case 24:aa(s,yn,i.memoizedState.cache)}return vs(i,s,o)}function L_(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)bn=!0;else{if(!xg(i,o)&&(s.flags&128)===0)return bn=!1,bD(i,s,o);bn=(i.flags&131072)!==0}else bn=!1,st&&(s.flags&1048576)!==0&&gx(s,Uc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(i=yo(s.elementType),s.type=i,typeof i=="function")Sp(i)?(u=_o(i,u),s.tag=1,s=M_(null,s,i,u,o)):(s.tag=0,s=fg(null,s,i,u,o));else{if(i!=null){var p=i.$$typeof;if(p===ae){s.tag=11,s=A_(null,s,i,u,o);break e}else if(p===I){s.tag=14,s=C_(null,s,i,u,o);break e}}throw s=xe(i)||i,Error(r(306,s,""))}}return s;case 0:return fg(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,p=_o(u,s.pendingProps),M_(i,s,u,p,o);case 3:e:{if(ve(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var y=s.memoizedState;p=y.element,zp(i,s),Kc(s,u,null,o);var w=s.memoizedState;if(u=w.cache,aa(s,yn,u),u!==y.cache&&Pp(s,[yn],o,!0),$c(),u=w.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=P_(i,s,u,o);break e}else if(u!==p){p=Ji(Error(r(424)),s),zc(p),s=P_(i,s,u,o);break e}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Vt=ir(i.firstChild),Xn=s,st=!0,ra=null,tr=!0,o=Nx(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(fo(),u===p){s=vs(i,s,o);break e}Qn(i,s,u,o)}s=s.child}return s;case 26:return Sd(i,s),i===null?(o=Xw(s.type,null,s.pendingProps,null))?s.memoizedState=o:st||(o=s.type,i=s.pendingProps,u=Fd(ge.current).createElement(o),u[Jt]=s,u[ln]=i,Jn(u,o,i),Zt(u),s.stateNode=u):s.memoizedState=Xw(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ee(s),i===null&&st&&(u=s.stateNode=$w(s.type,s.pendingProps,ge.current),Xn=s,tr=!0,p=Vt,ba(s.type)?(Zg=p,Vt=ir(u.firstChild)):Vt=p),Qn(i,s,s.pendingProps.children,o),Sd(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&st&&((p=u=Vt)&&(u=XD(u,s.type,s.pendingProps,tr),u!==null?(s.stateNode=u,Xn=s,Vt=ir(u.firstChild),tr=!1,p=!0):p=!1),p||sa(s)),Ee(s),p=s.type,y=s.pendingProps,w=i!==null?i.memoizedProps:null,u=y.children,Yg(p,y)?u=null:w!==null&&Yg(p,w)&&(s.flags|=32),s.memoizedState!==null&&(p=Kp(i,s,uD,null,null,o),fu._currentValue=p),Sd(i,s),Qn(i,s,u,o),s.child;case 6:return i===null&&st&&((i=o=Vt)&&(o=WD(o,s.pendingProps,tr),o!==null?(s.stateNode=o,Xn=s,Vt=null,i=!0):i=!1),i||sa(s)),null;case 13:return O_(i,s,o);case 4:return ve(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=bo(s,null,u,o):Qn(i,s,u,o),s.child;case 11:return A_(i,s,s.type,s.pendingProps,o);case 7:return Qn(i,s,s.pendingProps,o),s.child;case 8:return Qn(i,s,s.pendingProps.children,o),s.child;case 12:return Qn(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,aa(s,s.type,u.value),Qn(i,s,u.children,o),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,po(s),p=Wn(p),u=u(p),s.flags|=1,Qn(i,s,u,o),s.child;case 14:return C_(i,s,s.type,s.pendingProps,o);case 15:return R_(i,s,s.type,s.pendingProps,o);case 19:return j_(i,s,o);case 31:return vD(i,s,o);case 22:return N_(i,s,o,s.pendingProps);case 24:return po(s),u=Wn(yn),i===null?(p=jp(),p===null&&(p=Dt,y=Op(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),s.memoizedState={parent:u,cache:p},Up(s),aa(s,yn,p)):((i.lanes&o)!==0&&(zp(i,s),Kc(s,null,null,o),$c()),p=i.memoizedState,y=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),aa(s,yn,u)):(u=y.cache,aa(s,yn,u),u!==p.cache&&Pp(s,[yn],o,!0))),Qn(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function bs(i){i.flags|=4}function _g(i,s,o,u,p){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(hw())i.flags|=8192;else throw vo=ud,Lp}else i.flags&=-16777217}function U_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!e1(s))if(hw())i.flags|=8192;else throw vo=ud,Lp}function Cd(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Wt():536870912,i.lanes|=s,Sl|=s)}function Zc(i,s){if(!st)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function jt(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var p=i.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function xD(i,s,o){var u=s.pendingProps;switch(Np(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(s),null;case 1:return jt(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ps(yn),_e(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(dl(s)?bs(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Dp())),jt(s),null;case 26:var p=s.type,y=s.memoizedState;return i===null?(bs(s),y!==null?(jt(s),U_(s,y)):(jt(s),_g(s,p,null,u,o))):y?y!==i.memoizedState?(bs(s),jt(s),U_(s,y)):(jt(s),s.flags&=-16777217):(i=i.memoizedProps,i!==u&&bs(s),jt(s),_g(s,p,i,u,o)),null;case 27:if(Le(s),o=ge.current,p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&bs(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return jt(s),null}i=re.current,dl(s)?vx(s):(i=$w(p,u,o),s.stateNode=i,bs(s))}return jt(s),null;case 5:if(Le(s),p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&bs(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return jt(s),null}if(y=re.current,dl(s))vx(s);else{var w=Fd(ge.current);switch(y){case 1:y=w.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=w.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=w.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?w.createElement("select",{is:u.is}):w.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?w.createElement(p,{is:u.is}):w.createElement(p)}}y[Jt]=s,y[ln]=u;e:for(w=s.child;w!==null;){if(w.tag===5||w.tag===6)y.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===s)break e;for(;w.sibling===null;){if(w.return===null||w.return===s)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}s.stateNode=y;e:switch(Jn(y,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&bs(s)}}return jt(s),_g(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&bs(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=ge.current,dl(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,p=Xn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}i[Jt]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Ow(i.nodeValue,o)),i||sa(s,!0)}else i=Fd(i).createTextNode(u),i[Jt]=s,s.stateNode=i}return jt(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(u=dl(s),o!==null){if(i===null){if(!u)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Jt]=s}else fo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;jt(s),i=!1}else o=Dp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(Li(s),s):(Li(s),null);if((s.flags&128)!==0)throw Error(r(558))}return jt(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=dl(s),u!==null&&u.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Jt]=s}else fo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;jt(s),p=!1}else p=Dp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Li(s),s):(Li(s),null)}return Li(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),Cd(s,s.updateQueue),jt(s),null);case 4:return _e(),i===null&&qg(s.stateNode.containerInfo),jt(s),null;case 10:return ps(s.type),jt(s),null;case 19:if(U(un),u=s.memoizedState,u===null)return jt(s),null;if(p=(s.flags&128)!==0,y=u.rendering,y===null)if(p)Zc(u,!1);else{if(nn!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=md(i),y!==null){for(s.flags|=128,Zc(u,!1),i=y.updateQueue,s.updateQueue=i,Cd(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)fx(o,i),o=o.sibling;return W(un,un.current&1|2),st&&fs(s,u.treeForkCount),s.child}i=i.sibling}u.tail!==null&&Ot()>kd&&(s.flags|=128,p=!0,Zc(u,!1),s.lanes=4194304)}else{if(!p)if(i=md(y),i!==null){if(s.flags|=128,p=!0,i=i.updateQueue,s.updateQueue=i,Cd(s,i),Zc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!st)return jt(s),null}else 2*Ot()-u.renderingStartTime>kd&&o!==536870912&&(s.flags|=128,p=!0,Zc(u,!1),s.lanes=4194304);u.isBackwards?(y.sibling=s.child,s.child=y):(i=u.last,i!==null?i.sibling=y:s.child=y,u.last=y)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Ot(),i.sibling=null,o=un.current,W(un,p?o&1|2:o&1),st&&fs(s,u.treeForkCount),i):(jt(s),null);case 22:case 23:return Li(s),Hp(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(jt(s),s.subtreeFlags&6&&(s.flags|=8192)):jt(s),o=s.updateQueue,o!==null&&Cd(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&U(go),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ps(yn),jt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function _D(i,s){switch(Np(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ps(yn),_e(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Le(s),null;case 31:if(s.memoizedState!==null){if(Li(s),s.alternate===null)throw Error(r(340));fo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Li(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));fo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return U(un),null;case 4:return _e(),null;case 10:return ps(s.type),null;case 22:case 23:return Li(s),Hp(),i!==null&&U(go),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return ps(yn),null;case 25:return null;default:return null}}function z_(i,s){switch(Np(s),s.tag){case 3:ps(yn),_e();break;case 26:case 27:case 5:Le(s);break;case 4:_e();break;case 31:s.memoizedState!==null&&Li(s);break;case 13:Li(s);break;case 19:U(un);break;case 10:ps(s.type);break;case 22:case 23:Li(s),Hp(),i!==null&&U(go);break;case 24:ps(yn)}}function eu(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&i)===i){u=void 0;var y=o.create,w=o.inst;u=y(),w.destroy=u}o=o.next}while(o!==p)}}catch(R){Et(s,s.return,R)}}function da(i,s,o){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&i)===i){var w=u.inst,R=w.destroy;if(R!==void 0){w.destroy=void 0,p=s;var F=o,ee=R;try{ee()}catch(ce){Et(p,F,ce)}}}u=u.next}while(u!==y)}}catch(ce){Et(s,s.return,ce)}}function B_(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{Dx(s,o)}catch(u){Et(i,i.return,u)}}}function F_(i,s,o){o.props=_o(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Et(i,s,u)}}function tu(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(p){Et(i,s,p)}}function $r(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){Et(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Et(i,s,p)}else o.current=null}function q_(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){Et(i,i.return,p)}}function wg(i,s,o){try{var u=i.stateNode;qD(u,i.type,o,s),u[ln]=s}catch(p){Et(i,i.return,p)}}function H_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ba(i.type)||i.tag===4}function Tg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||H_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ba(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Eg(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=gr));else if(u!==4&&(u===27&&ba(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(Eg(i,s,o),i=i.sibling;i!==null;)Eg(i,s,o),i=i.sibling}function Rd(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&ba(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Rd(i,s,o),i=i.sibling;i!==null;)Rd(i,s,o),i=i.sibling}function G_(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Jn(s,u,o),s[Jt]=i,s[ln]=o}catch(y){Et(i,i.return,y)}}var xs=!1,xn=!1,Sg=!1,$_=typeof WeakSet=="function"?WeakSet:Set,Bn=null;function wD(i,s){if(i=i.containerInfo,$g=Xd,i=rx(i),vp(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var w=0,R=-1,F=-1,ee=0,ce=0,he=i,ie=null;t:for(;;){for(var oe;he!==o||p!==0&&he.nodeType!==3||(R=w+p),he!==y||u!==0&&he.nodeType!==3||(F=w+u),he.nodeType===3&&(w+=he.nodeValue.length),(oe=he.firstChild)!==null;)ie=he,he=oe;for(;;){if(he===i)break t;if(ie===o&&++ee===p&&(R=w),ie===y&&++ce===u&&(F=w),(oe=he.nextSibling)!==null)break;he=ie,ie=he.parentNode}he=oe}o=R===-1||F===-1?null:{start:R,end:F}}else o=null}o=o||{start:0,end:0}}else o=null;for(Kg={focusedElem:i,selectionRange:o},Xd=!1,Bn=s;Bn!==null;)if(s=Bn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Bn=i;else for(;Bn!==null;){switch(s=Bn,y=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)p=i[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,o=s,p=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var Ae=_o(o.type,p);i=u.getSnapshotBeforeUpdate(Ae,y),u.__reactInternalSnapshotBeforeUpdate=i}catch(Oe){Et(o,o.return,Oe)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Wg(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Wg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Bn=i;break}Bn=s.return}}function K_(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ws(i,o),u&4&&eu(5,o);break;case 1:if(ws(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(w){Et(o,o.return,w)}else{var p=_o(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(w){Et(o,o.return,w)}}u&64&&B_(o),u&512&&tu(o,o.return);break;case 3:if(ws(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Dx(i,s)}catch(w){Et(o,o.return,w)}}break;case 27:s===null&&u&4&&G_(o);case 26:case 5:ws(i,o),s===null&&u&4&&q_(o),u&512&&tu(o,o.return);break;case 12:ws(i,o);break;case 31:ws(i,o),u&4&&W_(i,o);break;case 13:ws(i,o),u&4&&Q_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=DD.bind(null,o),QD(i,o))));break;case 22:if(u=o.memoizedState!==null||xs,!u){s=s!==null&&s.memoizedState!==null||xn,p=xs;var y=xn;xs=u,(xn=s)&&!y?Ts(i,o,(o.subtreeFlags&8772)!==0):ws(i,o),xs=p,xn=y}break;case 30:break;default:ws(i,o)}}function Y_(i){var s=i.alternate;s!==null&&(i.alternate=null,Y_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ks(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Bt=null,Ei=!1;function _s(i,s,o){for(o=o.child;o!==null;)X_(i,s,o),o=o.sibling}function X_(i,s,o){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Kn,o)}catch{}switch(o.tag){case 26:xn||$r(o,s),_s(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:xn||$r(o,s);var u=Bt,p=Ei;ba(o.type)&&(Bt=o.stateNode,Ei=!1),_s(i,s,o),uu(o.stateNode),Bt=u,Ei=p;break;case 5:xn||$r(o,s);case 6:if(u=Bt,p=Ei,Bt=null,_s(i,s,o),Bt=u,Ei=p,Bt!==null)if(Ei)try{(Bt.nodeType===9?Bt.body:Bt.nodeName==="HTML"?Bt.ownerDocument.body:Bt).removeChild(o.stateNode)}catch(y){Et(o,s,y)}else try{Bt.removeChild(o.stateNode)}catch(y){Et(o,s,y)}break;case 18:Bt!==null&&(Ei?(i=Bt,Bw(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Ml(i)):Bw(Bt,o.stateNode));break;case 4:u=Bt,p=Ei,Bt=o.stateNode.containerInfo,Ei=!0,_s(i,s,o),Bt=u,Ei=p;break;case 0:case 11:case 14:case 15:da(2,o,s),xn||da(4,o,s),_s(i,s,o);break;case 1:xn||($r(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&F_(o,s,u)),_s(i,s,o);break;case 21:_s(i,s,o);break;case 22:xn=(u=xn)||o.memoizedState!==null,_s(i,s,o),xn=u;break;default:_s(i,s,o)}}function W_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Ml(i)}catch(o){Et(s,s.return,o)}}}function Q_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ml(i)}catch(o){Et(s,s.return,o)}}function TD(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new $_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new $_),s;default:throw Error(r(435,i.tag))}}function Nd(i,s){var o=TD(i);s.forEach(function(u){if(!o.has(u)){o.add(u);var p=kD.bind(null,i,u);u.then(p,p)}})}function Si(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],y=i,w=s,R=w;e:for(;R!==null;){switch(R.tag){case 27:if(ba(R.type)){Bt=R.stateNode,Ei=!1;break e}break;case 5:Bt=R.stateNode,Ei=!1;break e;case 3:case 4:Bt=R.stateNode.containerInfo,Ei=!0;break e}R=R.return}if(Bt===null)throw Error(r(160));X_(y,w,p),Bt=null,Ei=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)J_(s,i),s=s.sibling}var wr=null;function J_(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Si(s,i),Ai(i),u&4&&(da(3,i,i.return),eu(3,i),da(5,i,i.return));break;case 1:Si(s,i),Ai(i),u&512&&(xn||o===null||$r(o,o.return)),u&64&&xs&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=wr;if(Si(s,i),Ai(i),u&512&&(xn||o===null||$r(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Ki]||y[Jt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),Jn(y,u,o),y[Jt]=i,Zt(y),u=y;break e;case"link":var w=Jw("link","href",p).get(u+(o.href||""));if(w){for(var R=0;R<w.length;R++)if(y=w[R],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(R,1);break t}}y=p.createElement(u),Jn(y,u,o),p.head.appendChild(y);break;case"meta":if(w=Jw("meta","content",p).get(u+(o.content||""))){for(R=0;R<w.length;R++)if(y=w[R],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(R,1);break t}}y=p.createElement(u),Jn(y,u,o),p.head.appendChild(y);break;default:throw Error(r(468,u))}y[Jt]=i,Zt(y),u=y}i.stateNode=u}else Zw(p,i.type,i.stateNode);else i.stateNode=Qw(p,u,i.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?Zw(p,i.type,i.stateNode):Qw(p,u,i.memoizedProps)):u===null&&i.stateNode!==null&&wg(i,i.memoizedProps,o.memoizedProps)}break;case 27:Si(s,i),Ai(i),u&512&&(xn||o===null||$r(o,o.return)),o!==null&&u&4&&wg(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Si(s,i),Ai(i),u&512&&(xn||o===null||$r(o,o.return)),i.flags&32){p=i.stateNode;try{Ti(p,"")}catch(Ae){Et(i,i.return,Ae)}}u&4&&i.stateNode!=null&&(p=i.memoizedProps,wg(i,p,o!==null?o.memoizedProps:p)),u&1024&&(Sg=!0);break;case 6:if(Si(s,i),Ai(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(Ae){Et(i,i.return,Ae)}}break;case 3:if(Gd=null,p=wr,wr=qd(s.containerInfo),Si(s,i),wr=p,Ai(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ml(s.containerInfo)}catch(Ae){Et(i,i.return,Ae)}Sg&&(Sg=!1,Z_(i));break;case 4:u=wr,wr=qd(i.stateNode.containerInfo),Si(s,i),Ai(i),wr=u;break;case 12:Si(s,i),Ai(i);break;case 31:Si(s,i),Ai(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Nd(i,u)));break;case 13:Si(s,i),Ai(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Dd=Ot()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Nd(i,u)));break;case 22:p=i.memoizedState!==null;var F=o!==null&&o.memoizedState!==null,ee=xs,ce=xn;if(xs=ee||p,xn=ce||F,Si(s,i),xn=ce,xs=ee,Ai(i),u&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(o===null||F||xs||xn||wo(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){F=o=s;try{if(y=F.stateNode,p)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{R=F.stateNode;var he=F.memoizedProps.style,ie=he!=null&&he.hasOwnProperty("display")?he.display:null;R.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Ae){Et(F,F.return,Ae)}}}else if(s.tag===6){if(o===null){F=s;try{F.stateNode.nodeValue=p?"":F.memoizedProps}catch(Ae){Et(F,F.return,Ae)}}}else if(s.tag===18){if(o===null){F=s;try{var oe=F.stateNode;p?Fw(oe,!0):Fw(F.stateNode,!1)}catch(Ae){Et(F,F.return,Ae)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Nd(i,o))));break;case 19:Si(s,i),Ai(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Nd(i,u)));break;case 30:break;case 21:break;default:Si(s,i),Ai(i)}}function Ai(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(H_(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var p=o.stateNode,y=Tg(i);Rd(i,y,p);break;case 5:var w=o.stateNode;o.flags&32&&(Ti(w,""),o.flags&=-33);var R=Tg(i);Rd(i,R,w);break;case 3:case 4:var F=o.stateNode.containerInfo,ee=Tg(i);Eg(i,ee,F);break;default:throw Error(r(161))}}catch(ce){Et(i,i.return,ce)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Z_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Z_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ws(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)K_(i,s.alternate,s),s=s.sibling}function wo(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:da(4,s,s.return),wo(s);break;case 1:$r(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&F_(s,s.return,o),wo(s);break;case 27:uu(s.stateNode);case 26:case 5:$r(s,s.return),wo(s);break;case 22:s.memoizedState===null&&wo(s);break;case 30:wo(s);break;default:wo(s)}i=i.sibling}}function Ts(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=i,y=s,w=y.flags;switch(y.tag){case 0:case 11:case 15:Ts(p,y,o),eu(4,y);break;case 1:if(Ts(p,y,o),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(ee){Et(u,u.return,ee)}if(u=y,p=u.updateQueue,p!==null){var R=u.stateNode;try{var F=p.shared.hiddenCallbacks;if(F!==null)for(p.shared.hiddenCallbacks=null,p=0;p<F.length;p++)Ix(F[p],R)}catch(ee){Et(u,u.return,ee)}}o&&w&64&&B_(y),tu(y,y.return);break;case 27:G_(y);case 26:case 5:Ts(p,y,o),o&&u===null&&w&4&&q_(y),tu(y,y.return);break;case 12:Ts(p,y,o);break;case 31:Ts(p,y,o),o&&w&4&&W_(p,y);break;case 13:Ts(p,y,o),o&&w&4&&Q_(p,y);break;case 22:y.memoizedState===null&&Ts(p,y,o),tu(y,y.return);break;case 30:break;default:Ts(p,y,o)}s=s.sibling}}function Ag(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Bc(o))}function Cg(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Bc(i))}function Tr(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ew(i,s,o,u),s=s.sibling}function ew(i,s,o,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Tr(i,s,o,u),p&2048&&eu(9,s);break;case 1:Tr(i,s,o,u);break;case 3:Tr(i,s,o,u),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Bc(i)));break;case 12:if(p&2048){Tr(i,s,o,u),i=s.stateNode;try{var y=s.memoizedProps,w=y.id,R=y.onPostCommit;typeof R=="function"&&R(w,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(F){Et(s,s.return,F)}}else Tr(i,s,o,u);break;case 31:Tr(i,s,o,u);break;case 13:Tr(i,s,o,u);break;case 23:break;case 22:y=s.stateNode,w=s.alternate,s.memoizedState!==null?y._visibility&2?Tr(i,s,o,u):nu(i,s):y._visibility&2?Tr(i,s,o,u):(y._visibility|=2,wl(i,s,o,u,(s.subtreeFlags&10256)!==0||!1)),p&2048&&Ag(w,s);break;case 24:Tr(i,s,o,u),p&2048&&Cg(s.alternate,s);break;default:Tr(i,s,o,u)}}function wl(i,s,o,u,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=i,w=s,R=o,F=u,ee=w.flags;switch(w.tag){case 0:case 11:case 15:wl(y,w,R,F,p),eu(8,w);break;case 23:break;case 22:var ce=w.stateNode;w.memoizedState!==null?ce._visibility&2?wl(y,w,R,F,p):nu(y,w):(ce._visibility|=2,wl(y,w,R,F,p)),p&&ee&2048&&Ag(w.alternate,w);break;case 24:wl(y,w,R,F,p),p&&ee&2048&&Cg(w.alternate,w);break;default:wl(y,w,R,F,p)}s=s.sibling}}function nu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,p=u.flags;switch(u.tag){case 22:nu(o,u),p&2048&&Ag(u.alternate,u);break;case 24:nu(o,u),p&2048&&Cg(u.alternate,u);break;default:nu(o,u)}s=s.sibling}}var iu=8192;function Tl(i,s,o){if(i.subtreeFlags&iu)for(i=i.child;i!==null;)tw(i,s,o),i=i.sibling}function tw(i,s,o){switch(i.tag){case 26:Tl(i,s,o),i.flags&iu&&i.memoizedState!==null&&ck(o,wr,i.memoizedState,i.memoizedProps);break;case 5:Tl(i,s,o);break;case 3:case 4:var u=wr;wr=qd(i.stateNode.containerInfo),Tl(i,s,o),wr=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=iu,iu=16777216,Tl(i,s,o),iu=u):Tl(i,s,o));break;default:Tl(i,s,o)}}function nw(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function ru(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Bn=u,rw(u,i)}nw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)iw(i),i=i.sibling}function iw(i){switch(i.tag){case 0:case 11:case 15:ru(i),i.flags&2048&&da(9,i,i.return);break;case 3:ru(i);break;case 12:ru(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Id(i)):ru(i);break;default:ru(i)}}function Id(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Bn=u,rw(u,i)}nw(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:da(8,s,s.return),Id(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Id(s));break;default:Id(s)}i=i.sibling}}function rw(i,s){for(;Bn!==null;){var o=Bn;switch(o.tag){case 0:case 11:case 15:da(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Bc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Bn=u;else e:for(o=i;Bn!==null;){u=Bn;var p=u.sibling,y=u.return;if(Y_(u),u===o){Bn=null;break e}if(p!==null){p.return=y,Bn=p;break e}Bn=y}}}var ED={getCacheForType:function(i){var s=Wn(yn),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return Wn(yn).controller.signal}},SD=typeof WeakMap=="function"?WeakMap:Map,yt=0,Dt=null,We=null,Ze=0,Tt=0,Ui=null,fa=!1,El=!1,Rg=!1,Es=0,nn=0,ma=0,To=0,Ng=0,zi=0,Sl=0,su=null,Ci=null,Ig=!1,Dd=0,sw=0,kd=1/0,Md=null,pa=null,kn=0,ga=null,Al=null,Ss=0,Dg=0,kg=null,aw=null,au=0,Mg=null;function Bi(){return(yt&2)!==0&&Ze!==0?Ze&-Ze:Z.T!==null?Ug():ti()}function ow(){if(zi===0)if((Ze&536870912)===0||st){var i=pr;pr<<=1,(pr&3932160)===0&&(pr=262144),zi=i}else zi=536870912;return i=ji.current,i!==null&&(i.flags|=32),zi}function Ri(i,s,o){(i===Dt&&(Tt===2||Tt===9)||i.cancelPendingCommit!==null)&&(Cl(i,0),ya(i,Ze,zi,!1)),mn(i,o),((yt&2)===0||i!==Dt)&&(i===Dt&&((yt&2)===0&&(To|=o),nn===4&&ya(i,Ze,zi,!1)),Kr(i))}function lw(i,s,o){if((yt&6)!==0)throw Error(r(327));var u=!o&&(s&127)===0&&(s&i.expiredLanes)===0||At(i,s),p=u?RD(i,s):Og(i,s,!0),y=u;do{if(p===0){El&&!u&&ya(i,s,0,!1);break}else{if(o=i.current.alternate,y&&!AD(o)){p=Og(i,s,!1),y=!1;continue}if(p===2){if(y=s,i.errorRecoveryDisabledLanes&y)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var R=i;p=su;var F=R.current.memoizedState.isDehydrated;if(F&&(Cl(R,w).flags|=256),w=Og(R,w,!1),w!==2){if(Rg&&!F){R.errorRecoveryDisabledLanes|=y,To|=y,p=4;break e}y=Ci,Ci=p,y!==null&&(Ci===null?Ci=y:Ci.push.apply(Ci,y))}p=w}if(y=!1,p!==2)continue}}if(p===1){Cl(i,0),ya(i,s,0,!0);break}e:{switch(u=i,y=p,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ya(u,s,zi,!fa);break e;case 2:Ci=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=Dd+300-Ot(),10<p)){if(ya(u,s,zi,!fa),pt(u,0,!0)!==0)break e;Ss=s,u.timeoutHandle=Uw(cw.bind(null,u,o,Ci,Md,Ig,s,zi,To,Sl,fa,y,"Throttled",-0,0),p);break e}cw(u,o,Ci,Md,Ig,s,zi,To,Sl,fa,y,null,-0,0)}}break}while(!0);Kr(i)}function cw(i,s,o,u,p,y,w,R,F,ee,ce,he,ie,oe){if(i.timeoutHandle=-1,he=s.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gr},tw(s,y,he);var Ae=(y&62914560)===y?Dd-Ot():(y&4194048)===y?sw-Ot():0;if(Ae=uk(he,Ae),Ae!==null){Ss=y,i.cancelPendingCommit=Ae(yw.bind(null,i,s,y,o,u,p,w,R,F,ce,he,null,ie,oe)),ya(i,y,w,!ee);return}}yw(i,s,y,o,u,p,w,R,F)}function AD(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],y=p.getSnapshot;p=p.value;try{if(!Oi(y(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ya(i,s,o,u){s&=~Ng,s&=~To,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var p=s;0<p;){var y=31-kt(p),w=1<<y;u[y]=-1,p&=~w}o!==0&&Qt(i,o,s)}function Pd(){return(yt&6)===0?(ou(0),!1):!0}function Pg(){if(We!==null){if(Tt===0)var i=We.return;else i=We,ms=mo=null,Wp(i),yl=null,qc=0,i=We;for(;i!==null;)z_(i.alternate,i),i=i.return;We=null}}function Cl(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,$D(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Ss=0,Pg(),Dt=i,We=o=ds(i.current,null),Ze=s,Tt=0,Ui=null,fa=!1,El=At(i,s),Rg=!1,Sl=zi=Ng=To=ma=nn=0,Ci=su=null,Ig=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var p=31-kt(u),y=1<<p;s|=i[p],u&=~y}return Es=s,td(),o}function uw(i,s){$e=null,Z.H=Qc,s===gl||s===cd?(s=Ax(),Tt=3):s===Lp?(s=Ax(),Tt=4):Tt=s===dg?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ui=s,We===null&&(nn=1,Td(i,Ji(s,i.current)))}function hw(){var i=ji.current;return i===null?!0:(Ze&4194048)===Ze?nr===null:(Ze&62914560)===Ze||(Ze&536870912)!==0?i===nr:!1}function dw(){var i=Z.H;return Z.H=Qc,i===null?Qc:i}function fw(){var i=Z.A;return Z.A=ED,i}function Od(){nn=4,fa||(Ze&4194048)!==Ze&&ji.current!==null||(El=!0),(ma&134217727)===0&&(To&134217727)===0||Dt===null||ya(Dt,Ze,zi,!1)}function Og(i,s,o){var u=yt;yt|=2;var p=dw(),y=fw();(Dt!==i||Ze!==s)&&(Md=null,Cl(i,s)),s=!1;var w=nn;e:do try{if(Tt!==0&&We!==null){var R=We,F=Ui;switch(Tt){case 8:Pg(),w=6;break e;case 3:case 2:case 9:case 6:ji.current===null&&(s=!0);var ee=Tt;if(Tt=0,Ui=null,Rl(i,R,F,ee),o&&El){w=0;break e}break;default:ee=Tt,Tt=0,Ui=null,Rl(i,R,F,ee)}}CD(),w=nn;break}catch(ce){uw(i,ce)}while(!0);return s&&i.shellSuspendCounter++,ms=mo=null,yt=u,Z.H=p,Z.A=y,We===null&&(Dt=null,Ze=0,td()),w}function CD(){for(;We!==null;)mw(We)}function RD(i,s){var o=yt;yt|=2;var u=dw(),p=fw();Dt!==i||Ze!==s?(Md=null,kd=Ot()+500,Cl(i,s)):El=At(i,s);e:do try{if(Tt!==0&&We!==null){s=We;var y=Ui;t:switch(Tt){case 1:Tt=0,Ui=null,Rl(i,s,y,1);break;case 2:case 9:if(Ex(y)){Tt=0,Ui=null,pw(s);break}s=function(){Tt!==2&&Tt!==9||Dt!==i||(Tt=7),Kr(i)},y.then(s,s);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:Ex(y)?(Tt=0,Ui=null,pw(s)):(Tt=0,Ui=null,Rl(i,s,y,7));break;case 5:var w=null;switch(We.tag){case 26:w=We.memoizedState;case 5:case 27:var R=We;if(w?e1(w):R.stateNode.complete){Tt=0,Ui=null;var F=R.sibling;if(F!==null)We=F;else{var ee=R.return;ee!==null?(We=ee,Vd(ee)):We=null}break t}}Tt=0,Ui=null,Rl(i,s,y,5);break;case 6:Tt=0,Ui=null,Rl(i,s,y,6);break;case 8:Pg(),nn=6;break e;default:throw Error(r(462))}}ND();break}catch(ce){uw(i,ce)}while(!0);return ms=mo=null,Z.H=u,Z.A=p,yt=o,We!==null?0:(Dt=null,Ze=0,td(),nn)}function ND(){for(;We!==null&&!Di();)mw(We)}function mw(i){var s=L_(i.alternate,i,Es);i.memoizedProps=i.pendingProps,s===null?Vd(i):We=s}function pw(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=k_(o,s,s.pendingProps,s.type,void 0,Ze);break;case 11:s=k_(o,s,s.pendingProps,s.type.render,s.ref,Ze);break;case 5:Wp(s);default:z_(o,s),s=We=fx(s,Es),s=L_(o,s,Es)}i.memoizedProps=i.pendingProps,s===null?Vd(i):We=s}function Rl(i,s,o,u){ms=mo=null,Wp(s),yl=null,qc=0;var p=s.return;try{if(yD(i,p,s,o,Ze)){nn=1,Td(i,Ji(o,i.current)),We=null;return}}catch(y){if(p!==null)throw We=p,y;nn=1,Td(i,Ji(o,i.current)),We=null;return}s.flags&32768?(st||u===1?i=!0:El||(Ze&536870912)!==0?i=!1:(fa=i=!0,(u===2||u===9||u===3||u===6)&&(u=ji.current,u!==null&&u.tag===13&&(u.flags|=16384))),gw(s,i)):Vd(s)}function Vd(i){var s=i;do{if((s.flags&32768)!==0){gw(s,fa);return}i=s.return;var o=xD(s.alternate,s,Es);if(o!==null){We=o;return}if(s=s.sibling,s!==null){We=s;return}We=s=i}while(s!==null);nn===0&&(nn=5)}function gw(i,s){do{var o=_D(i.alternate,i);if(o!==null){o.flags&=32767,We=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){We=i;return}We=i=o}while(i!==null);nn=6,We=null}function yw(i,s,o,u,p,y,w,R,F){i.cancelPendingCommit=null;do jd();while(kn!==0);if((yt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=Tp,Xe(i,o,y,w,R,F),i===Dt&&(We=Dt=null,Ze=0),Al=s,ga=i,Ss=o,Dg=y,kg=p,aw=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,MD(an,function(){return ww(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,p=H.p,H.p=2,w=yt,yt|=4;try{wD(i,s,o)}finally{yt=w,H.p=p,Z.T=u}}kn=1,vw(),bw(),xw()}}function vw(){if(kn===1){kn=0;var i=ga,s=Al,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=H.p;H.p=2;var p=yt;yt|=4;try{J_(s,i);var y=Kg,w=rx(i.containerInfo),R=y.focusedElem,F=y.selectionRange;if(w!==R&&R&&R.ownerDocument&&ix(R.ownerDocument.documentElement,R)){if(F!==null&&vp(R)){var ee=F.start,ce=F.end;if(ce===void 0&&(ce=ee),"selectionStart"in R)R.selectionStart=ee,R.selectionEnd=Math.min(ce,R.value.length);else{var he=R.ownerDocument||document,ie=he&&he.defaultView||window;if(ie.getSelection){var oe=ie.getSelection(),Ae=R.textContent.length,Oe=Math.min(F.start,Ae),It=F.end===void 0?Oe:Math.min(F.end,Ae);!oe.extend&&Oe>It&&(w=It,It=Oe,Oe=w);var Y=nx(R,Oe),K=nx(R,It);if(Y&&K&&(oe.rangeCount!==1||oe.anchorNode!==Y.node||oe.anchorOffset!==Y.offset||oe.focusNode!==K.node||oe.focusOffset!==K.offset)){var J=he.createRange();J.setStart(Y.node,Y.offset),oe.removeAllRanges(),Oe>It?(oe.addRange(J),oe.extend(K.node,K.offset)):(J.setEnd(K.node,K.offset),oe.addRange(J))}}}}for(he=[],oe=R;oe=oe.parentNode;)oe.nodeType===1&&he.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<he.length;R++){var ue=he[R];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Xd=!!$g,Kg=$g=null}finally{yt=p,H.p=u,Z.T=o}}i.current=s,kn=2}}function bw(){if(kn===2){kn=0;var i=ga,s=Al,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=H.p;H.p=2;var p=yt;yt|=4;try{K_(i,s.alternate,s)}finally{yt=p,H.p=u,Z.T=o}}kn=3}}function xw(){if(kn===4||kn===3){kn=0,Gi();var i=ga,s=Al,o=Ss,u=aw;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?kn=5:(kn=0,Al=ga=null,_w(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(pa=null),on(o),s=s.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Kn,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Z.T,p=H.p,H.p=2,Z.T=null;try{for(var y=i.onRecoverableError,w=0;w<u.length;w++){var R=u[w];y(R.value,{componentStack:R.stack})}}finally{Z.T=s,H.p=p}}(Ss&3)!==0&&jd(),Kr(i),p=i.pendingLanes,(o&261930)!==0&&(p&42)!==0?i===Mg?au++:(au=0,Mg=i):au=0,ou(0)}}function _w(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Bc(s)))}function jd(){return vw(),bw(),xw(),ww()}function ww(){if(kn!==5)return!1;var i=ga,s=Dg;Dg=0;var o=on(Ss),u=Z.T,p=H.p;try{H.p=32>o?32:o,Z.T=null,o=kg,kg=null;var y=ga,w=Ss;if(kn=0,Al=ga=null,Ss=0,(yt&6)!==0)throw Error(r(331));var R=yt;if(yt|=4,iw(y.current),ew(y,y.current,w,o),yt=R,ou(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Kn,y)}catch{}return!0}finally{H.p=p,Z.T=u,_w(i,s)}}function Tw(i,s,o){s=Ji(o,s),s=hg(i.stateNode,s,2),i=ca(i,s,2),i!==null&&(mn(i,2),Kr(i))}function Et(i,s,o){if(i.tag===3)Tw(i,i,o);else for(;s!==null;){if(s.tag===3){Tw(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(pa===null||!pa.has(u))){i=Ji(o,i),o=E_(2),u=ca(s,o,2),u!==null&&(S_(o,u,s,i),mn(u,2),Kr(u));break}}s=s.return}}function Vg(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new SD;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(o)||(Rg=!0,p.add(o),i=ID.bind(null,i,s,o),s.then(i,i))}function ID(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,Dt===i&&(Ze&o)===o&&(nn===4||nn===3&&(Ze&62914560)===Ze&&300>Ot()-Dd?(yt&2)===0&&Cl(i,0):Ng|=o,Sl===Ze&&(Sl=0)),Kr(i)}function Ew(i,s){s===0&&(s=Wt()),i=uo(i,s),i!==null&&(mn(i,s),Kr(i))}function DD(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),Ew(i,o)}function kD(i,s){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,p=i.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),Ew(i,o)}function MD(i,s){return Pe(i,s)}var Ld=null,Nl=null,jg=!1,Ud=!1,Lg=!1,va=0;function Kr(i){i!==Nl&&i.next===null&&(Nl===null?Ld=Nl=i:Nl=Nl.next=i),Ud=!0,jg||(jg=!0,OD())}function ou(i,s){if(!Lg&&Ud){Lg=!0;do for(var o=!1,u=Ld;u!==null;){if(i!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var w=u.suspendedLanes,R=u.pingedLanes;y=(1<<31-kt(42|i)+1)-1,y&=p&~(w&~R),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Rw(u,y))}else y=Ze,y=pt(u,u===Dt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||At(u,y)||(o=!0,Rw(u,y));u=u.next}while(o);Lg=!1}}function PD(){Sw()}function Sw(){Ud=jg=!1;var i=0;va!==0&&GD()&&(i=va);for(var s=Ot(),o=null,u=Ld;u!==null;){var p=u.next,y=Aw(u,s);y===0?(u.next=null,o===null?Ld=p:o.next=p,p===null&&(Nl=o)):(o=u,(i!==0||(y&3)!==0)&&(Ud=!0)),u=p}kn!==0&&kn!==5||ou(i),va!==0&&(va=0)}function Aw(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var w=31-kt(y),R=1<<w,F=p[w];F===-1?((R&o)===0||(R&u)!==0)&&(p[w]=Rn(R,s)):F<=s&&(i.expiredLanes|=R),y&=~R}if(s=Dt,o=Ze,o=pt(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(Tt===2||Tt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&sn(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||At(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&sn(u),on(o)){case 2:case 8:o=$n;break;case 32:o=an;break;case 268435456:o=$i;break;default:o=an}return u=Cw.bind(null,i),o=Pe(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&sn(u),i.callbackPriority=2,i.callbackNode=null,2}function Cw(i,s){if(kn!==0&&kn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(jd()&&i.callbackNode!==o)return null;var u=Ze;return u=pt(i,i===Dt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(lw(i,u,s),Aw(i,Ot()),i.callbackNode!=null&&i.callbackNode===o?Cw.bind(null,i):null)}function Rw(i,s){if(jd())return null;lw(i,s,!0)}function OD(){KD(function(){(yt&6)!==0?Pe(An,PD):Sw()})}function Ug(){if(va===0){var i=ml;i===0&&(i=xi,xi<<=1,(xi&261888)===0&&(xi=256)),va=i}return va}function Nw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Zo(""+i)}function Iw(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function VD(i,s,o,u,p){if(s==="submit"&&o&&o.stateNode===p){var y=Nw((p[ln]||null).action),w=u.submitter;w&&(s=(s=w[ln]||null)?Nw(s.formAction):w.getAttribute("formAction"),s!==null&&(y=s,w=null));var R=new zr("action","action",null,u,p);i.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(va!==0){var F=w?Iw(p,w):new FormData(p);sg(o,{pending:!0,data:F,method:p.method,action:y},null,F)}}else typeof y=="function"&&(R.preventDefault(),F=w?Iw(p,w):new FormData(p),sg(o,{pending:!0,data:F,method:p.method,action:y},y,F))},currentTarget:p}]})}}for(var zg=0;zg<wp.length;zg++){var Bg=wp[zg],jD=Bg.toLowerCase(),LD=Bg[0].toUpperCase()+Bg.slice(1);_r(jD,"on"+LD)}_r(ox,"onAnimationEnd"),_r(lx,"onAnimationIteration"),_r(cx,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(eD,"onTransitionRun"),_r(tD,"onTransitionStart"),_r(nD,"onTransitionCancel"),_r(ux,"onTransitionEnd"),_t("onMouseEnter",["mouseout","mouseover"]),_t("onMouseLeave",["mouseout","mouseover"]),_t("onPointerEnter",["pointerout","pointerover"]),_t("onPointerLeave",["pointerout","pointerover"]),bt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bt("onBeforeInput",["compositionend","keypress","textInput","paste"]),bt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lu));function Dw(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],p=u.event;u=u.listeners;e:{var y=void 0;if(s)for(var w=u.length-1;0<=w;w--){var R=u[w],F=R.instance,ee=R.currentTarget;if(R=R.listener,F!==y&&p.isPropagationStopped())break e;y=R,p.currentTarget=ee;try{y(p)}catch(ce){ed(ce)}p.currentTarget=null,y=F}else for(w=0;w<u.length;w++){if(R=u[w],F=R.instance,ee=R.currentTarget,R=R.listener,F!==y&&p.isPropagationStopped())break e;y=R,p.currentTarget=ee;try{y(p)}catch(ce){ed(ce)}p.currentTarget=null,y=F}}}}function Qe(i,s){var o=s[ls];o===void 0&&(o=s[ls]=new Set);var u=i+"__bubble";o.has(u)||(kw(s,i,2,!1),o.add(u))}function Fg(i,s,o){var u=0;s&&(u|=4),kw(o,i,u,s)}var zd="_reactListening"+Math.random().toString(36).slice(2);function qg(i){if(!i[zd]){i[zd]=!0,ne.forEach(function(o){o!=="selectionchange"&&(UD.has(o)||Fg(o,!1,i),Fg(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[zd]||(s[zd]=!0,Fg("selectionchange",!1,s))}}function kw(i,s,o,u){switch(o1(s)){case 2:var p=fk;break;case 8:p=mk;break;default:p=ry}o=p.bind(null,s,o,i),p=void 0,!no||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?i.addEventListener(s,o,{capture:!0,passive:p}):i.addEventListener(s,o,!0):p!==void 0?i.addEventListener(s,o,{passive:p}):i.addEventListener(s,o,!1)}function Hg(i,s,o,u,p){var y=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var R=u.stateNode.containerInfo;if(R===p)break;if(w===4)for(w=u.return;w!==null;){var F=w.tag;if((F===3||F===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;R!==null;){if(w=Un(R),w===null)return;if(F=w.tag,F===5||F===6||F===26||F===27){u=y=w;continue e}R=R.parentNode}}u=u.return}Zs(function(){var ee=y,ce=Yi(o),he=[];e:{var ie=hx.get(i);if(ie!==void 0){var oe=zr,Ae=i;switch(i){case"keypress":if(ro(o)===0)break e;case"keydown":case"keyup":oe=Qh;break;case"focusin":Ae="focus",oe=ao;break;case"focusout":Ae="blur",oe=ao;break;case"beforeblur":case"afterblur":oe=ao;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Mc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=x;break;case ox:case lx:case cx:oe=Hh;break;case ux:oe=P;break;case"scroll":case"scrollend":oe=kc;break;case"wheel":oe=se;break;case"copy":case"cut":case"paste":oe=Gh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=hs;break;case"toggle":case"beforetoggle":oe=Ge}var Oe=(s&4)!==0,It=!Oe&&(i==="scroll"||i==="scrollend"),Y=Oe?ie!==null?ie+"Capture":null:ie;Oe=[];for(var K=ee,J;K!==null;){var ue=K;if(J=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||J===null||Y===null||(ue=yr(K,Y),ue!=null&&Oe.push(cu(K,ue,J))),It)break;K=K.return}0<Oe.length&&(ie=new oe(ie,Ae,null,o,ce),he.push({event:ie,listeners:Oe}))}}if((s&7)===0){e:{if(ie=i==="mouseover"||i==="pointerover",oe=i==="mouseout"||i==="pointerout",ie&&o!==Nc&&(Ae=o.relatedTarget||o.fromElement)&&(Un(Ae)||Ae[_i]))break e;if((oe||ie)&&(ie=ce.window===ce?ce:(ie=ce.ownerDocument)?ie.defaultView||ie.parentWindow:window,oe?(Ae=o.relatedTarget||o.toElement,oe=ee,Ae=Ae?Un(Ae):null,Ae!==null&&(It=l(Ae),Oe=Ae.tag,Ae!==It||Oe!==5&&Oe!==27&&Oe!==6)&&(Ae=null)):(oe=null,Ae=ee),oe!==Ae)){if(Oe=Mc,ue="onMouseLeave",Y="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(Oe=hs,ue="onPointerLeave",Y="onPointerEnter",K="pointer"),It=oe==null?ie:ni(oe),J=Ae==null?ie:ni(Ae),ie=new Oe(ue,K+"leave",oe,o,ce),ie.target=It,ie.relatedTarget=J,ue=null,Un(ce)===ee&&(Oe=new Oe(Y,K+"enter",Ae,o,ce),Oe.target=J,Oe.relatedTarget=It,ue=Oe),It=ue,oe&&Ae)t:{for(Oe=zD,Y=oe,K=Ae,J=0,ue=Y;ue;ue=Oe(ue))J++;ue=0;for(var Me=K;Me;Me=Oe(Me))ue++;for(;0<J-ue;)Y=Oe(Y),J--;for(;0<ue-J;)K=Oe(K),ue--;for(;J--;){if(Y===K||K!==null&&Y===K.alternate){Oe=Y;break t}Y=Oe(Y),K=Oe(K)}Oe=null}else Oe=null;oe!==null&&Mw(he,ie,oe,Oe,!1),Ae!==null&&It!==null&&Mw(he,It,Ae,Oe,!0)}}e:{if(ie=ee?ni(ee):window,oe=ie.nodeName&&ie.nodeName.toLowerCase(),oe==="select"||oe==="input"&&ie.type==="file")var ht=Wb;else if(Yb(ie))if(Qb)ht=QI;else{ht=XI;var Ne=YI}else oe=ie.nodeName,!oe||oe.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?ee&&Jo(ee.elementType)&&(ht=Wb):ht=WI;if(ht&&(ht=ht(i,ee))){Xb(he,ht,o,ce);break e}Ne&&Ne(i,ie,ee),i==="focusout"&&ee&&ie.type==="number"&&ee.memoizedProps.value!=null&&Ac(ie,"number",ie.value)}switch(Ne=ee?ni(ee):window,i){case"focusin":(Yb(Ne)||Ne.contentEditable==="true")&&(al=Ne,bp=ee,Lc=null);break;case"focusout":Lc=bp=al=null;break;case"mousedown":xp=!0;break;case"contextmenu":case"mouseup":case"dragend":xp=!1,sx(he,o,ce);break;case"selectionchange":if(ZI)break;case"keydown":case"keyup":sx(he,o,ce)}var Ke;if(gt)e:{switch(i){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else sl?oo(i,o)&&(et="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(et="onCompositionStart");et&&(qr&&o.locale!=="ko"&&(sl||et!=="onCompositionStart"?et==="onCompositionEnd"&&sl&&(Ke=Dc()):(Ur=ce,Ic="value"in Ur?Ur.value:Ur.textContent,sl=!0)),Ne=Bd(ee,et),0<Ne.length&&(et=new Fr(et,i,null,o,ce),he.push({event:et,listeners:Ne}),Ke?et.data=Ke:(Ke=rl(o),Ke!==null&&(et.data=Ke)))),(Ke=Wi?HI(i,o):GI(i,o))&&(et=Bd(ee,"onBeforeInput"),0<et.length&&(Ne=new Fr("onBeforeInput","beforeinput",null,o,ce),he.push({event:Ne,listeners:et}),Ne.data=Ke)),VD(he,i,ee,o,ce)}Dw(he,s)})}function cu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Bd(i,s){for(var o=s+"Capture",u=[];i!==null;){var p=i,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=yr(i,o),p!=null&&u.unshift(cu(i,p,y)),p=yr(i,s),p!=null&&u.push(cu(i,p,y))),i.tag===3)return u;i=i.return}return[]}function zD(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Mw(i,s,o,u,p){for(var y=s._reactName,w=[];o!==null&&o!==u;){var R=o,F=R.alternate,ee=R.stateNode;if(R=R.tag,F!==null&&F===u)break;R!==5&&R!==26&&R!==27||ee===null||(F=ee,p?(ee=yr(o,y),ee!=null&&w.unshift(cu(o,ee,F))):p||(ee=yr(o,y),ee!=null&&w.push(cu(o,ee,F)))),o=o.return}w.length!==0&&i.push({event:s,listeners:w})}var BD=/\r\n?/g,FD=/\u0000|\uFFFD/g;function Pw(i){return(typeof i=="string"?i:""+i).replace(BD,`
`).replace(FD,"")}function Ow(i,s){return s=Pw(s),Pw(i)===s}function Nt(i,s,o,u,p,y){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Ti(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Ti(i,""+u);break;case"className":Pi(i,"class",u);break;case"tabIndex":Pi(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Pi(i,o,u);break;case"style":Rc(i,u,y);break;case"data":if(s!=="object"){Pi(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Zo(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&Nt(i,s,"name",p.name,p,null),Nt(i,s,"formEncType",p.formEncType,p,null),Nt(i,s,"formMethod",p.formMethod,p,null),Nt(i,s,"formTarget",p.formTarget,p,null)):(Nt(i,s,"encType",p.encType,p,null),Nt(i,s,"method",p.method,p,null),Nt(i,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Zo(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=gr);break;case"onScroll":u!=null&&Qe("scroll",i);break;case"onScrollEnd":u!=null&&Qe("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Zo(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Qe("beforetoggle",i),Qe("toggle",i),Wo(i,"popover",u);break;case"xlinkActuate":gn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":gn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":gn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":gn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":gn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":gn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":gn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":gn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":gn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Wo(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Bh.get(o)||o,Wo(i,o,u))}}function Gg(i,s,o,u,p,y){switch(o){case"style":Rc(i,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Ti(i,u):(typeof u=="number"||typeof u=="bigint")&&Ti(i,""+u);break;case"onScroll":u!=null&&Qe("scroll",i);break;case"onScrollEnd":u!=null&&Qe("scrollend",i);break;case"onClick":u!=null&&(i.onclick=gr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Se.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),y=i[ln]||null,y=y!=null?y[o]:null,typeof y=="function"&&i.removeEventListener(s,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,p);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Wo(i,o,u)}}}function Jn(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",i),Qe("load",i);var u=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var w=o[y];if(w!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Nt(i,s,y,w,o,null)}}p&&Nt(i,s,"srcSet",o.srcSet,o,null),u&&Nt(i,s,"src",o.src,o,null);return;case"input":Qe("invalid",i);var R=y=w=p=null,F=null,ee=null;for(u in o)if(o.hasOwnProperty(u)){var ce=o[u];if(ce!=null)switch(u){case"name":p=ce;break;case"type":w=ce;break;case"checked":F=ce;break;case"defaultChecked":ee=ce;break;case"value":y=ce;break;case"defaultValue":R=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,s));break;default:Nt(i,s,u,ce,o,null)}}Lh(i,y,R,F,ee,w,p,!1);return;case"select":Qe("invalid",i),u=w=y=null;for(p in o)if(o.hasOwnProperty(p)&&(R=o[p],R!=null))switch(p){case"value":y=R;break;case"defaultValue":w=R;break;case"multiple":u=R;default:Nt(i,s,p,R,o,null)}s=y,o=w,i.multiple=!!u,s!=null?Xs(i,!!u,s,!1):o!=null&&Xs(i,!!u,o,!0);return;case"textarea":Qe("invalid",i),y=p=u=null;for(w in o)if(o.hasOwnProperty(w)&&(R=o[w],R!=null))switch(w){case"value":u=R;break;case"defaultValue":p=R;break;case"children":y=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:Nt(i,s,w,R,o,null)}Ws(i,u,p,y);return;case"option":for(F in o)o.hasOwnProperty(F)&&(u=o[F],u!=null)&&(F==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":Nt(i,s,F,u,o,null));return;case"dialog":Qe("beforetoggle",i),Qe("toggle",i),Qe("cancel",i),Qe("close",i);break;case"iframe":case"object":Qe("load",i);break;case"video":case"audio":for(u=0;u<lu.length;u++)Qe(lu[u],i);break;case"image":Qe("error",i),Qe("load",i);break;case"details":Qe("toggle",i);break;case"embed":case"source":case"link":Qe("error",i),Qe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in o)if(o.hasOwnProperty(ee)&&(u=o[ee],u!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Nt(i,s,ee,u,o,null)}return;default:if(Jo(s)){for(ce in o)o.hasOwnProperty(ce)&&(u=o[ce],u!==void 0&&Gg(i,s,ce,u,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(u=o[R],u!=null&&Nt(i,s,R,u,o,null))}function qD(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,w=null,R=null,F=null,ee=null,ce=null;for(oe in o){var he=o[oe];if(o.hasOwnProperty(oe)&&he!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":F=he;default:u.hasOwnProperty(oe)||Nt(i,s,oe,null,u,he)}}for(var ie in u){var oe=u[ie];if(he=o[ie],u.hasOwnProperty(ie)&&(oe!=null||he!=null))switch(ie){case"type":y=oe;break;case"name":p=oe;break;case"checked":ee=oe;break;case"defaultChecked":ce=oe;break;case"value":w=oe;break;case"defaultValue":R=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,s));break;default:oe!==he&&Nt(i,s,ie,oe,u,he)}}Qo(i,w,R,F,ee,ce,y,p);return;case"select":oe=w=R=ie=null;for(y in o)if(F=o[y],o.hasOwnProperty(y)&&F!=null)switch(y){case"value":break;case"multiple":oe=F;default:u.hasOwnProperty(y)||Nt(i,s,y,null,u,F)}for(p in u)if(y=u[p],F=o[p],u.hasOwnProperty(p)&&(y!=null||F!=null))switch(p){case"value":ie=y;break;case"defaultValue":R=y;break;case"multiple":w=y;default:y!==F&&Nt(i,s,p,y,u,F)}s=R,o=w,u=oe,ie!=null?Xs(i,!!o,ie,!1):!!u!=!!o&&(s!=null?Xs(i,!!o,s,!0):Xs(i,!!o,o?[]:"",!1));return;case"textarea":oe=ie=null;for(R in o)if(p=o[R],o.hasOwnProperty(R)&&p!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Nt(i,s,R,null,u,p)}for(w in u)if(p=u[w],y=o[w],u.hasOwnProperty(w)&&(p!=null||y!=null))switch(w){case"value":ie=p;break;case"defaultValue":oe=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==y&&Nt(i,s,w,p,u,y)}Uh(i,ie,oe);return;case"option":for(var Ae in o)ie=o[Ae],o.hasOwnProperty(Ae)&&ie!=null&&!u.hasOwnProperty(Ae)&&(Ae==="selected"?i.selected=!1:Nt(i,s,Ae,null,u,ie));for(F in u)ie=u[F],oe=o[F],u.hasOwnProperty(F)&&ie!==oe&&(ie!=null||oe!=null)&&(F==="selected"?i.selected=ie&&typeof ie!="function"&&typeof ie!="symbol":Nt(i,s,F,ie,u,oe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in o)ie=o[Oe],o.hasOwnProperty(Oe)&&ie!=null&&!u.hasOwnProperty(Oe)&&Nt(i,s,Oe,null,u,ie);for(ee in u)if(ie=u[ee],oe=o[ee],u.hasOwnProperty(ee)&&ie!==oe&&(ie!=null||oe!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,s));break;default:Nt(i,s,ee,ie,u,oe)}return;default:if(Jo(s)){for(var It in o)ie=o[It],o.hasOwnProperty(It)&&ie!==void 0&&!u.hasOwnProperty(It)&&Gg(i,s,It,void 0,u,ie);for(ce in u)ie=u[ce],oe=o[ce],!u.hasOwnProperty(ce)||ie===oe||ie===void 0&&oe===void 0||Gg(i,s,ce,ie,u,oe);return}}for(var Y in o)ie=o[Y],o.hasOwnProperty(Y)&&ie!=null&&!u.hasOwnProperty(Y)&&Nt(i,s,Y,null,u,ie);for(he in u)ie=u[he],oe=o[he],!u.hasOwnProperty(he)||ie===oe||ie==null&&oe==null||Nt(i,s,he,ie,u,oe)}function Vw(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function HD(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var p=o[u],y=p.transferSize,w=p.initiatorType,R=p.duration;if(y&&R&&Vw(w)){for(w=0,R=p.responseEnd,u+=1;u<o.length;u++){var F=o[u],ee=F.startTime;if(ee>R)break;var ce=F.transferSize,he=F.initiatorType;ce&&Vw(he)&&(F=F.responseEnd,w+=ce*(F<R?1:(R-ee)/(F-ee)))}if(--u,s+=8*(y+w)/(p.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var $g=null,Kg=null;function Fd(i){return i.nodeType===9?i:i.ownerDocument}function jw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lw(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Yg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Xg=null;function GD(){var i=window.event;return i&&i.type==="popstate"?i===Xg?!1:(Xg=i,!0):(Xg=null,!1)}var Uw=typeof setTimeout=="function"?setTimeout:void 0,$D=typeof clearTimeout=="function"?clearTimeout:void 0,zw=typeof Promise=="function"?Promise:void 0,KD=typeof queueMicrotask=="function"?queueMicrotask:typeof zw<"u"?function(i){return zw.resolve(null).then(i).catch(YD)}:Uw;function YD(i){setTimeout(function(){throw i})}function ba(i){return i==="head"}function Bw(i,s){var o=s,u=0;do{var p=o.nextSibling;if(i.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(p),Ml(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")uu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,uu(o);for(var y=o.firstChild;y;){var w=y.nextSibling,R=y.nodeName;y[Ki]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=w}}else o==="body"&&uu(i.ownerDocument.body);o=p}while(o);Ml(s)}function Fw(i,s){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Wg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Wg(o),Ks(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function XD(i,s,o,u){for(;i.nodeType===1;){var p=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ki])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=ir(i.nextSibling),i===null)break}return null}function WD(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ir(i.nextSibling),i===null))return null;return i}function qw(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=ir(i.nextSibling),i===null))return null;return i}function Qg(i){return i.data==="$?"||i.data==="$~"}function Jg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function QD(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ir(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Zg=null;function Hw(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return ir(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function Gw(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function $w(i,s,o){switch(s=Fd(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function uu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ks(i)}var rr=new Map,Kw=new Set;function qd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var As=H.d;H.d={f:JD,r:ZD,D:ek,C:tk,L:nk,m:ik,X:sk,S:rk,M:ak};function JD(){var i=As.f(),s=Pd();return i||s}function ZD(i){var s=ki(i);s!==null&&s.tag===5&&s.type==="form"?u_(s):As.r(i)}var Il=typeof document>"u"?null:document;function Yw(i,s,o){var u=Il;if(u&&typeof s=="string"&&s){var p=wi(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Kw.has(p)||(Kw.add(p),i={rel:i,crossOrigin:o,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),Jn(s,"link",i),Zt(s),u.head.appendChild(s)))}}function ek(i){As.D(i),Yw("dns-prefetch",i,null)}function tk(i,s){As.C(i,s),Yw("preconnect",i,s)}function nk(i,s,o){As.L(i,s,o);var u=Il;if(u&&i&&s){var p='link[rel="preload"][as="'+wi(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+wi(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+wi(o.imageSizes)+'"]')):p+='[href="'+wi(i)+'"]';var y=p;switch(s){case"style":y=Dl(i);break;case"script":y=kl(i)}rr.has(y)||(i=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),rr.set(y,i),u.querySelector(p)!==null||s==="style"&&u.querySelector(hu(y))||s==="script"&&u.querySelector(du(y))||(s=u.createElement("link"),Jn(s,"link",i),Zt(s),u.head.appendChild(s)))}}function ik(i,s){As.m(i,s);var o=Il;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+wi(u)+'"][href="'+wi(i)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=kl(i)}if(!rr.has(y)&&(i=v({rel:"modulepreload",href:i},s),rr.set(y,i),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(du(y)))return}u=o.createElement("link"),Jn(u,"link",i),Zt(u),o.head.appendChild(u)}}}function rk(i,s,o){As.S(i,s,o);var u=Il;if(u&&i){var p=Mi(u).hoistableStyles,y=Dl(i);s=s||"default";var w=p.get(y);if(!w){var R={loading:0,preload:null};if(w=u.querySelector(hu(y)))R.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":s},o),(o=rr.get(y))&&ey(i,o);var F=w=u.createElement("link");Zt(F),Jn(F,"link",i),F._p=new Promise(function(ee,ce){F.onload=ee,F.onerror=ce}),F.addEventListener("load",function(){R.loading|=1}),F.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Hd(w,s,u)}w={type:"stylesheet",instance:w,count:1,state:R},p.set(y,w)}}}function sk(i,s){As.X(i,s);var o=Il;if(o&&i){var u=Mi(o).hoistableScripts,p=kl(i),y=u.get(p);y||(y=o.querySelector(du(p)),y||(i=v({src:i,async:!0},s),(s=rr.get(p))&&ty(i,s),y=o.createElement("script"),Zt(y),Jn(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function ak(i,s){As.M(i,s);var o=Il;if(o&&i){var u=Mi(o).hoistableScripts,p=kl(i),y=u.get(p);y||(y=o.querySelector(du(p)),y||(i=v({src:i,async:!0,type:"module"},s),(s=rr.get(p))&&ty(i,s),y=o.createElement("script"),Zt(y),Jn(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function Xw(i,s,o,u){var p=(p=ge.current)?qd(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Dl(o.href),o=Mi(p).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Dl(o.href);var y=Mi(p).hoistableStyles,w=y.get(i);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,w),(y=p.querySelector(hu(i)))&&!y._p&&(w.instance=y,w.state.loading=5),rr.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},rr.set(i,o),y||ok(p,i,o,w.state))),s&&u===null)throw Error(r(528,""));return w}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=kl(o),o=Mi(p).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Dl(i){return'href="'+wi(i)+'"'}function hu(i){return'link[rel="stylesheet"]['+i+"]"}function Ww(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function ok(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Jn(s,"link",o),Zt(s),i.head.appendChild(s))}function kl(i){return'[src="'+wi(i)+'"]'}function du(i){return"script[async]"+i}function Qw(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+wi(o.href)+'"]');if(u)return s.instance=u,Zt(u),u;var p=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Zt(u),Jn(u,"style",p),Hd(u,o.precedence,i),s.instance=u;case"stylesheet":p=Dl(o.href);var y=i.querySelector(hu(p));if(y)return s.state.loading|=4,s.instance=y,Zt(y),y;u=Ww(o),(p=rr.get(p))&&ey(u,p),y=(i.ownerDocument||i).createElement("link"),Zt(y);var w=y;return w._p=new Promise(function(R,F){w.onload=R,w.onerror=F}),Jn(y,"link",u),s.state.loading|=4,Hd(y,o.precedence,i),s.instance=y;case"script":return y=kl(o.src),(p=i.querySelector(du(y)))?(s.instance=p,Zt(p),p):(u=o,(p=rr.get(y))&&(u=v({},o),ty(u,p)),i=i.ownerDocument||i,p=i.createElement("script"),Zt(p),Jn(p,"link",u),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Hd(u,o.precedence,i));return s.instance}function Hd(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,w=0;w<u.length;w++){var R=u[w];if(R.dataset.precedence===s)y=R;else if(y!==p)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function ey(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function ty(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Gd=null;function Jw(i,s,o){if(Gd===null){var u=new Map,p=Gd=new Map;p.set(o,u)}else p=Gd,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),p=0;p<o.length;p++){var y=o[p];if(!(y[Ki]||y[Jt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(s)||"";w=i+w;var R=u.get(w);R?R.push(y):u.set(w,[y])}}return u}function Zw(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function lk(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function e1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function ck(i,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Dl(u.href),y=s.querySelector(hu(p));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=$d.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=y,Zt(y);return}y=s.ownerDocument||s,u=Ww(u),(p=rr.get(p))&&ey(u,p),y=y.createElement("link"),Zt(y);var w=y;w._p=new Promise(function(R,F){w.onload=R,w.onerror=F}),Jn(y,"link",u),o.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=$d.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var ny=0;function uk(i,s){return i.stylesheets&&i.count===0&&Yd(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&Yd(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+s);0<i.imgBytes&&ny===0&&(ny=62500*HD());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Yd(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>ny?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function $d(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Kd=null;function Yd(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Kd=new Map,s.forEach(hk,i),Kd=null,$d.call(i))}function hk(i,s){if(!(s.state.loading&4)){var o=Kd.get(i);if(o)var u=o.get(null);else{o=new Map,Kd.set(i,o);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var w=p[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),u=w)}u&&o.set(null,u)}p=s.instance,w=p.getAttribute("data-precedence"),y=o.get(w)||u,y===u&&o.set(null,p),o.set(w,p),this.count++,u=$d.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var fu={$$typeof:q,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function dk(i,s,o,u,p,y,w,R,F){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gt(0),this.hiddenUpdates=Gt(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function t1(i,s,o,u,p,y,w,R,F,ee,ce,he){return i=new dk(i,s,o,w,F,ee,ce,he,R),s=1,y===!0&&(s|=24),y=Vi(3,null,null,s),i.current=y,y.stateNode=i,s=Op(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:s},Up(y),i}function n1(i){return i?(i=cl,i):cl}function i1(i,s,o,u,p,y){p=n1(p),u.context===null?u.context=p:u.pendingContext=p,u=la(s),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=ca(i,u,s),o!==null&&(Ri(o,i,s),Gc(o,i,s))}function r1(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function iy(i,s){r1(i,s),(i=i.alternate)&&r1(i,s)}function s1(i){if(i.tag===13||i.tag===31){var s=uo(i,67108864);s!==null&&Ri(s,i,67108864),iy(i,67108864)}}function a1(i){if(i.tag===13||i.tag===31){var s=Bi();s=Nn(s);var o=uo(i,s);o!==null&&Ri(o,i,s),iy(i,s)}}var Xd=!0;function fk(i,s,o,u){var p=Z.T;Z.T=null;var y=H.p;try{H.p=2,ry(i,s,o,u)}finally{H.p=y,Z.T=p}}function mk(i,s,o,u){var p=Z.T;Z.T=null;var y=H.p;try{H.p=8,ry(i,s,o,u)}finally{H.p=y,Z.T=p}}function ry(i,s,o,u){if(Xd){var p=sy(u);if(p===null)Hg(i,s,u,Wd,o),l1(i,u);else if(gk(p,i,s,o,u))u.stopPropagation();else if(l1(i,u),s&4&&-1<pk.indexOf(i)){for(;p!==null;){var y=ki(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=lt(y.pendingLanes);if(w!==0){var R=y;for(R.pendingLanes|=2,R.entangledLanes|=2;w;){var F=1<<31-kt(w);R.entanglements[1]|=F,w&=~F}Kr(y),(yt&6)===0&&(kd=Ot()+500,ou(0))}}break;case 31:case 13:R=uo(y,2),R!==null&&Ri(R,y,2),Pd(),iy(y,2)}if(y=sy(u),y===null&&Hg(i,s,u,Wd,o),y===p)break;p=y}p!==null&&u.stopPropagation()}else Hg(i,s,u,null,o)}}function sy(i){return i=Yi(i),ay(i)}var Wd=null;function ay(i){if(Wd=null,i=Un(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===31){if(i=h(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Wd=i,null}function o1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hi()){case An:return 2;case $n:return 8;case an:case di:return 32;case $i:return 268435456;default:return 32}default:return 32}}var oy=!1,xa=null,_a=null,wa=null,mu=new Map,pu=new Map,Ta=[],pk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l1(i,s){switch(i){case"focusin":case"focusout":xa=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":mu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":pu.delete(s.pointerId)}}function gu(i,s,o,u,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},s!==null&&(s=ki(s),s!==null&&s1(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function gk(i,s,o,u,p){switch(s){case"focusin":return xa=gu(xa,i,s,o,u,p),!0;case"dragenter":return _a=gu(_a,i,s,o,u,p),!0;case"mouseover":return wa=gu(wa,i,s,o,u,p),!0;case"pointerover":var y=p.pointerId;return mu.set(y,gu(mu.get(y)||null,i,s,o,u,p)),!0;case"gotpointercapture":return y=p.pointerId,pu.set(y,gu(pu.get(y)||null,i,s,o,u,p)),!0}return!1}function c1(i){var s=Un(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,In(i.priority,function(){a1(o)});return}}else if(s===31){if(s=h(o),s!==null){i.blockedOn=s,In(i.priority,function(){a1(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Qd(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=sy(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Nc=u,o.target.dispatchEvent(u),Nc=null}else return s=ki(o),s!==null&&s1(s),i.blockedOn=o,!1;s.shift()}return!0}function u1(i,s,o){Qd(i)&&o.delete(s)}function yk(){oy=!1,xa!==null&&Qd(xa)&&(xa=null),_a!==null&&Qd(_a)&&(_a=null),wa!==null&&Qd(wa)&&(wa=null),mu.forEach(u1),pu.forEach(u1)}function Jd(i,s){i.blockedOn===s&&(i.blockedOn=null,oy||(oy=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,yk)))}var Zd=null;function h1(i){Zd!==i&&(Zd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Zd===i&&(Zd=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],p=i[s+2];if(typeof u!="function"){if(ay(u||o)===null)continue;break}var y=ki(o);y!==null&&(i.splice(s,3),s-=3,sg(y,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function Ml(i){function s(F){return Jd(F,i)}xa!==null&&Jd(xa,i),_a!==null&&Jd(_a,i),wa!==null&&Jd(wa,i),mu.forEach(s),pu.forEach(s);for(var o=0;o<Ta.length;o++){var u=Ta[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Ta.length&&(o=Ta[0],o.blockedOn===null);)c1(o),o.blockedOn===null&&Ta.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],y=o[u+1],w=p[ln]||null;if(typeof y=="function")w||h1(o);else if(w){var R=null;if(y&&y.hasAttribute("formAction")){if(p=y,w=y[ln]||null)R=w.formAction;else if(ay(p)!==null)continue}else R=w.action;typeof R=="function"?o[u+1]=R:(o.splice(u,3),u-=3),h1(o)}}}function d1(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(w){return p=w})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function ly(i){this._internalRoot=i}ef.prototype.render=ly.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Bi();i1(o,u,i,s,null,null)},ef.prototype.unmount=ly.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;i1(i.current,2,null,i,null,null),Pd(),s[_i]=null}};function ef(i){this._internalRoot=i}ef.prototype.unstable_scheduleHydration=function(i){if(i){var s=ti();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Ta.length&&s!==0&&s<Ta[o].priority;o++);Ta.splice(o,0,i),o===0&&c1(i)}};var f1=e.version;if(f1!=="19.2.3")throw Error(r(527,f1,"19.2.3"));H.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var vk={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tf.isDisabled&&tf.supportsFiber)try{Kn=tf.inject(vk),Ht=tf}catch{}}return vu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",p=x_,y=__,w=w_;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),s=t1(i,1,!1,null,null,o,u,null,p,y,w,d1),i[_i]=s.current,qg(i),new ly(s)},vu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,p="",y=x_,w=__,R=w_,F=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.formState!==void 0&&(F=o.formState)),s=t1(i,1,!0,s,o??null,u,p,F,y,w,R,d1),s.context=n1(null),o=s.current,u=Bi(),u=Nn(u),p=la(u),p.callback=null,ca(o,p,u),o=u,s.current.lanes=o,mn(s,o),Kr(s),i[_i]=s.current,qg(i),new ef(s)},vu.version="19.2.3",vu}var T1;function Rk(){if(T1)return hy.exports;T1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hy.exports=Ck(),hy.exports}var Nk=Rk();var E1="popstate";function Ik(t={}){function e(r,a){let{pathname:l,search:c,hash:h}=r.location;return ev("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Ku(a)}return kk(e,n,null,t)}function Ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Dk(){return Math.random().toString(36).substring(2,10)}function S1(t,e){return{usr:t.state,key:t.key,idx:e}}function ev(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?cc(e):e,state:n,key:e&&e.key||r||Dk()}}function Ku({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function cc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function kk(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,h="POP",d=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function v(){h="POP";let N=g(),z=N==null?null:N-m;m=N,d&&d({action:h,location:D.location,delta:z})}function _(N,z){h="PUSH";let $=ev(D.location,N,z);m=g()+1;let q=S1($,m),ae=D.createHref($);try{c.pushState(q,"",ae)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;a.location.assign(ae)}l&&d&&d({action:h,location:D.location,delta:1})}function A(N,z){h="REPLACE";let $=ev(D.location,N,z);m=g();let q=S1($,m),ae=D.createHref($);c.replaceState(q,"",ae),l&&d&&d({action:h,location:D.location,delta:0})}function M(N){return Mk(N)}let D={get action(){return h},get location(){return t(a,c)},listen(N){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(E1,v),d=N,()=>{a.removeEventListener(E1,v),d=null}},createHref(N){return e(a,N)},createURL:M,encodeLocation(N){let z=M(N);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:_,replace:A,go(N){return c.go(N)}};return D}function Mk(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ft(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Ku(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function nA(t,e,n="/"){return Pk(t,e,n,!1)}function Pk(t,e,n,r){let a=typeof e=="string"?cc(e):e,l=Us(a.pathname||"/",n);if(l==null)return null;let c=iA(t);Ok(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let m=$k(l);h=Hk(c[d],m,r)}return h}function iA(t,e=[],n=[],r="",a=!1){let l=(c,h,d=a,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&d)return;Ft(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let v=Ps([r,g.relativePath]),_=n.concat(g);c.children&&c.children.length>0&&(Ft(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),iA(c.children,e,_,v,d)),!(c.path==null&&!c.index)&&e.push({path:v,score:Fk(v,c.index),routesMeta:_})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))l(c,h);else for(let d of rA(c.path))l(c,h,!0,d)}),e}function rA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=rA(r.join("/")),h=[];return h.push(...c.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...c),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function Ok(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Vk=/^:[\w-]+$/,jk=3,Lk=2,Uk=1,zk=10,Bk=-2,A1=t=>t==="*";function Fk(t,e){let n=t.split("/"),r=n.length;return n.some(A1)&&(r+=Bk),e&&(r+=Lk),n.filter(a=>!A1(a)).reduce((a,l)=>a+(Vk.test(l)?jk:l===""?Uk:zk),r)}function qk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function Hk(t,e,n=!1){let{routesMeta:r}=t,a={},l="/",c=[];for(let h=0;h<r.length;++h){let d=r[h],m=h===r.length-1,g=l==="/"?e:e.slice(l.length)||"/",v=zf({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},g),_=d.route;if(!v&&m&&n&&!r[r.length-1].route.index&&(v=zf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:Ps([l,v.pathname]),pathnameBase:Wk(Ps([l,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(l=Ps([l,v.pathnameBase]))}return c}function zf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Gk(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:v},_)=>{if(g==="*"){let M=h[_]||"";c=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const A=h[_];return v&&!A?m[g]=void 0:m[g]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function Gk(t,e=!1,n=!0){dr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function $k(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Us(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var sA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kk=t=>sA.test(t);function Yk(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?cc(t):t,l;if(n)if(Kk(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),dr(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=C1(n.substring(1),"/"):l=C1(n,e)}else l=e;return{pathname:l,search:Qk(r),hash:Jk(a)}}function C1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function py(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Xk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function n0(t){let e=Xk(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function i0(t,e,n,r=!1){let a;typeof t=="string"?a=cc(t):(a={...t},Ft(!a.pathname||!a.pathname.includes("?"),py("?","pathname","search",a)),Ft(!a.pathname||!a.pathname.includes("#"),py("#","pathname","hash",a)),Ft(!a.search||!a.search.includes("#"),py("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=n;else{let v=e.length-1;if(!r&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),v-=1;a.pathname=_.join("/")}h=v>=0?e[v]:"/"}let d=Yk(a,h),m=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||g)&&(d.pathname+="/"),d}var Ps=t=>t.join("/").replace(/\/\/+/g,"/"),Wk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Qk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Jk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Zk=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function eM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function tM(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var aA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function oA(t,e){let n=t;if(typeof n!="string"||!sA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(aA)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),h=Us(c.pathname,e);c.origin===l.origin&&h!=null?n=h+c.search+c.hash:a=!0}catch{dr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var lA=["POST","PUT","PATCH","DELETE"];new Set(lA);var nM=["GET",...lA];new Set(nM);var uc=S.createContext(null);uc.displayName="DataRouter";var Dm=S.createContext(null);Dm.displayName="DataRouterState";var iM=S.createContext(!1),cA=S.createContext({isTransitioning:!1});cA.displayName="ViewTransition";var rM=S.createContext(new Map);rM.displayName="Fetchers";var sM=S.createContext(null);sM.displayName="Await";var Hi=S.createContext(null);Hi.displayName="Navigation";var hh=S.createContext(null);hh.displayName="Location";var Vr=S.createContext({outlet:null,matches:[],isDataRoute:!1});Vr.displayName="Route";var r0=S.createContext(null);r0.displayName="RouteError";var uA="REACT_ROUTER_ERROR",aM="REDIRECT",oM="ROUTE_ERROR_RESPONSE";function lM(t){if(t.startsWith(`${uA}:${aM}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function cM(t){if(t.startsWith(`${uA}:${oM}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Zk(e.status,e.statusText,e.data)}catch{}}function uM(t,{relative:e}={}){Ft(hc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(Hi),{hash:a,pathname:l,search:c}=dh(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Ps([n,l])),r.createHref({pathname:h,search:c,hash:a})}function hc(){return S.useContext(hh)!=null}function Gs(){return Ft(hc(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(hh).location}var hA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dA(t){S.useContext(Hi).static||S.useLayoutEffect(t)}function km(){let{isDataRoute:t}=S.useContext(Vr);return t?EM():hM()}function hM(){Ft(hc(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(uc),{basename:e,navigator:n}=S.useContext(Hi),{matches:r}=S.useContext(Vr),{pathname:a}=Gs(),l=JSON.stringify(n0(r)),c=S.useRef(!1);return dA(()=>{c.current=!0}),S.useCallback((d,m={})=>{if(dr(c.current,hA),!c.current)return;if(typeof d=="number"){n.go(d);return}let g=i0(d,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ps([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,l,a,t])}S.createContext(null);function dM(){let{matches:t}=S.useContext(Vr),e=t[t.length-1];return e?e.params:{}}function dh(t,{relative:e}={}){let{matches:n}=S.useContext(Vr),{pathname:r}=Gs(),a=JSON.stringify(n0(n));return S.useMemo(()=>i0(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function fM(t,e){return fA(t,e)}function fA(t,e,n,r,a){Ft(hc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=S.useContext(Hi),{matches:c}=S.useContext(Vr),h=c[c.length-1],d=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",v=h&&h.route;{let $=v&&v.path||"";pA(m,!v||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let _=Gs(),A;if(e){let $=typeof e=="string"?cc(e):e;Ft(g==="/"||$.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${$.pathname}" was given in the \`location\` prop.`),A=$}else A=_;let M=A.pathname||"/",D=M;if(g!=="/"){let $=g.replace(/^\//,"").split("/");D="/"+M.replace(/^\//,"").split("/").slice($.length).join("/")}let N=nA(t,{pathname:D});dr(v||N!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),dr(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=vM(N&&N.map($=>Object.assign({},$,{params:Object.assign({},d,$.params),pathname:Ps([g,l.encodeLocation?l.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?g:Ps([g,l.encodeLocation?l.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),c,n,r,a);return e&&z?S.createElement(hh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},z):z}function mM(){let t=TM(),e=eM(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:l},"ErrorBoundary")," or"," ",S.createElement("code",{style:l},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:a},n):null,c)}var pM=S.createElement(mM,null),mA=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=cM(t.digest);n&&(t=n)}let e=t!==void 0?S.createElement(Vr.Provider,{value:this.props.routeContext},S.createElement(r0.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?S.createElement(gM,{error:t},e):e}};mA.contextType=iM;var gy=new WeakMap;function gM({children:t,error:e}){let{basename:n}=S.useContext(Hi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=lM(e.digest);if(r){let a=gy.get(e);if(a)throw a;let l=oA(r.location,n);if(aA&&!gy.get(e))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw gy.set(e,c),c}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function yM({routeContext:t,match:e,children:n}){let r=S.useContext(uc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Vr.Provider,{value:t},n)}function vM(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let g=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);Ft(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,d=-1;if(n)for(let g=0;g<l.length;g++){let v=l[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=g),v.route.id){let{loaderData:_,errors:A}=n,M=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!A||A[v.route.id]===void 0);if(v.route.lazy||M){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let m=n&&r?(g,v)=>{r(g,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:tM(n.matches),errorInfo:v})}:void 0;return l.reduceRight((g,v,_)=>{let A,M=!1,D=null,N=null;n&&(A=c&&v.route.id?c[v.route.id]:void 0,D=v.route.errorElement||pM,h&&(d<0&&_===0?(pA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,N=null):d===_&&(M=!0,N=v.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,_+1)),$=()=>{let q;return A?q=D:M?q=N:v.route.Component?q=S.createElement(v.route.Component,null):v.route.element?q=v.route.element:q=g,S.createElement(yM,{match:v,routeContext:{outlet:g,matches:z,isDataRoute:n!=null},children:q})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?S.createElement(mA,{location:n.location,revalidation:n.revalidation,component:D,error:A,children:$(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:m}):$()},null)}function s0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bM(t){let e=S.useContext(uc);return Ft(e,s0(t)),e}function xM(t){let e=S.useContext(Dm);return Ft(e,s0(t)),e}function _M(t){let e=S.useContext(Vr);return Ft(e,s0(t)),e}function a0(t){let e=_M(t),n=e.matches[e.matches.length-1];return Ft(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function wM(){return a0("useRouteId")}function TM(){let t=S.useContext(r0),e=xM("useRouteError"),n=a0("useRouteError");return t!==void 0?t:e.errors?.[n]}function EM(){let{router:t}=bM("useNavigate"),e=a0("useNavigate"),n=S.useRef(!1);return dA(()=>{n.current=!0}),S.useCallback(async(a,l={})=>{dr(n.current,hA),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var R1={};function pA(t,e,n){!e&&!R1[t]&&(R1[t]=!0,dr(!1,n))}S.memo(SM);function SM({routes:t,future:e,state:n,onError:r}){return fA(t,void 0,n,r,e)}function Eo({to:t,replace:e,state:n,relative:r}){Ft(hc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=S.useContext(Hi);dr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=S.useContext(Vr),{pathname:c}=Gs(),h=km(),d=i0(t,n0(l),c,r==="path"),m=JSON.stringify(d);return S.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:r})},[h,m,r,e,n]),null}function Rs(t){Ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AM({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){Ft(!hc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),d=S.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[h,a,l,c]);typeof n=="string"&&(n=cc(n));let{pathname:m="/",search:g="",hash:v="",state:_=null,key:A="default"}=n,M=S.useMemo(()=>{let D=Us(m,h);return D==null?null:{location:{pathname:D,search:g,hash:v,state:_,key:A},navigationType:r}},[h,m,g,v,_,A,r]);return dr(M!=null,`<Router basename="${h}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:S.createElement(Hi.Provider,{value:d},S.createElement(hh.Provider,{children:e,value:M}))}function CM({children:t,location:e}){return fM(tv(t),e)}function tv(t,e=[]){let n=[];return S.Children.forEach(t,(r,a)=>{if(!S.isValidElement(r))return;let l=[...e,a];if(r.type===S.Fragment){n.push.apply(n,tv(r.props.children,l));return}Ft(r.type===Rs,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ft(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=tv(r.props.children,l)),n.push(c)}),n}var wf="get",Tf="application/x-www-form-urlencoded";function Mm(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function RM(t){return Mm(t)&&t.tagName.toLowerCase()==="button"}function NM(t){return Mm(t)&&t.tagName.toLowerCase()==="form"}function IM(t){return Mm(t)&&t.tagName.toLowerCase()==="input"}function DM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kM(t,e){return t.button===0&&(!e||e==="_self")&&!DM(t)}var nf=null;function MM(){if(nf===null)try{new FormData(document.createElement("form"),0),nf=!1}catch{nf=!0}return nf}var PM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yy(t){return t!=null&&!PM.has(t)?(dr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tf}"`),null):t}function OM(t,e){let n,r,a,l,c;if(NM(t)){let h=t.getAttribute("action");r=h?Us(h,e):null,n=t.getAttribute("method")||wf,a=yy(t.getAttribute("enctype"))||Tf,l=new FormData(t)}else if(RM(t)||IM(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?Us(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||wf,a=yy(t.getAttribute("formenctype"))||yy(h.getAttribute("enctype"))||Tf,l=new FormData(h,t),!MM()){let{name:m,type:g,value:v}=t;if(g==="image"){let _=m?`${m}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else m&&l.append(m,v)}}else{if(Mm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wf,r=null,a=Tf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function o0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function VM(t,e,n,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:e&&Us(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function jM(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LM(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function UM(t,e,n){let r=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await jM(l,n);return c.links?c.links():[]}return[]}));return qM(r.flat(1).filter(LM).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function N1(t,e,n,r,a,l){let c=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,h=(d,m)=>n[m].pathname!==d.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,m)=>c(d,m)||h(d,m)):l==="data"?e.filter((d,m)=>{let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(c(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function zM(t,e,{includeHydrateFallback:n}={}){return BM(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function BM(t){return[...new Set(t)]}function FM(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function qM(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let l=JSON.stringify(FM(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function gA(){let t=S.useContext(uc);return o0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function HM(){let t=S.useContext(Dm);return o0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var l0=S.createContext(void 0);l0.displayName="FrameworkContext";function yA(){let t=S.useContext(l0);return o0(t,"You must render this element inside a <HydratedRouter> element"),t}function GM(t,e){let n=S.useContext(l0),[r,a]=S.useState(!1),[l,c]=S.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:g,onTouchStart:v}=e,_=S.useRef(null);S.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let D=z=>{z.forEach($=>{c($.isIntersecting)})},N=new IntersectionObserver(D,{threshold:.5});return _.current&&N.observe(_.current),()=>{N.disconnect()}}},[t]),S.useEffect(()=>{if(r){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[r]);let A=()=>{a(!0)},M=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,_,{}]:[l,_,{onFocus:bu(h,A),onBlur:bu(d,M),onMouseEnter:bu(m,A),onMouseLeave:bu(g,M),onTouchStart:bu(v,A)}]:[!1,_,{}]}function bu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function $M({page:t,...e}){let{router:n}=gA(),r=S.useMemo(()=>nA(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?S.createElement(YM,{page:t,matches:r,...e}):null}function KM(t){let{manifest:e,routeModules:n}=yA(),[r,a]=S.useState([]);return S.useEffect(()=>{let l=!1;return UM(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),r}function YM({page:t,matches:e,...n}){let r=Gs(),{future:a,manifest:l,routeModules:c}=yA(),{basename:h}=gA(),{loaderData:d,matches:m}=HM(),g=S.useMemo(()=>N1(t,e,m,l,r,"data"),[t,e,m,l,r]),v=S.useMemo(()=>N1(t,e,m,l,r,"assets"),[t,e,m,l,r]),_=S.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let D=new Set,N=!1;if(e.forEach($=>{let q=l.routes[$.route.id];!q||!q.hasLoader||(!g.some(ae=>ae.route.id===$.route.id)&&$.route.id in d&&c[$.route.id]?.shouldRevalidate||q.hasClientLoader?N=!0:D.add($.route.id))}),D.size===0)return[];let z=VM(t,h,a.unstable_trailingSlashAwareDataRequests,"data");return N&&D.size>0&&z.searchParams.set("_routes",e.filter($=>D.has($.route.id)).map($=>$.route.id).join(",")),[z.pathname+z.search]},[h,a.unstable_trailingSlashAwareDataRequests,d,r,l,g,e,t,c]),A=S.useMemo(()=>zM(v,l),[v,l]),M=KM(v);return S.createElement(S.Fragment,null,_.map(D=>S.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),A.map(D=>S.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),M.map(({key:D,link:N})=>S.createElement("link",{key:D,nonce:n.nonce,...N})))}function XM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var WM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{WM&&(window.__reactRouterVersion="7.12.0")}catch{}function QM({basename:t,children:e,unstable_useTransitions:n,window:r}){let a=S.useRef();a.current==null&&(a.current=Ik({window:r,v5Compat:!0}));let l=a.current,[c,h]=S.useState({action:l.action,location:l.location}),d=S.useCallback(m=>{n===!1?h(m):S.startTransition(()=>h(m))},[n]);return S.useLayoutEffect(()=>l.listen(d),[l,d]),S.createElement(AM,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var vA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,c0=S.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:h,target:d,to:m,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:_,...A},M){let{basename:D,unstable_useTransitions:N}=S.useContext(Hi),z=typeof m=="string"&&vA.test(m),$=oA(m,D);m=$.to;let q=uM(m,{relative:a}),[ae,te,le]=GM(r,A),I=eP(m,{replace:c,state:h,target:d,preventScrollReset:g,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:_,unstable_useTransitions:N});function C(k){e&&e(k),k.defaultPrevented||I(k)}let O=S.createElement("a",{...A,...le,href:$.absoluteURL||q,onClick:$.isExternal||l?e:C,ref:XM(M,te),target:d,"data-discover":!z&&n==="render"?"true":void 0});return ae&&!z?S.createElement(S.Fragment,null,O,S.createElement($M,{page:q})):O});c0.displayName="Link";var bA=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:h,children:d,...m},g){let v=dh(c,{relative:m.relative}),_=Gs(),A=S.useContext(Dm),{navigator:M,basename:D}=S.useContext(Hi),N=A!=null&&sP(v)&&h===!0,z=M.encodeLocation?M.encodeLocation(v).pathname:v.pathname,$=_.pathname,q=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||($=$.toLowerCase(),q=q?q.toLowerCase():null,z=z.toLowerCase()),q&&D&&(q=Us(q,D)||q);const ae=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let te=$===z||!a&&$.startsWith(z)&&$.charAt(ae)==="/",le=q!=null&&(q===z||!a&&q.startsWith(z)&&q.charAt(z.length)==="/"),I={isActive:te,isPending:le,isTransitioning:N},C=te?e:void 0,O;typeof r=="function"?O=r(I):O=[r,te?"active":null,le?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(I):l;return S.createElement(c0,{...m,"aria-current":C,className:O,ref:g,style:k,to:c,viewTransition:h},typeof d=="function"?d(I):d)});bA.displayName="NavLink";var JM=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:l,method:c=wf,action:h,onSubmit:d,relative:m,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:_,...A},M)=>{let{unstable_useTransitions:D}=S.useContext(Hi),N=iP(),z=rP(h,{relative:m}),$=c.toLowerCase()==="get"?"get":"post",q=typeof h=="string"&&vA.test(h),ae=te=>{if(d&&d(te),te.defaultPrevented)return;te.preventDefault();let le=te.nativeEvent.submitter,I=le?.getAttribute("formmethod")||c,C=()=>N(le||te.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:a,state:l,relative:m,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:_});D&&n!==!1?S.startTransition(()=>C()):C()};return S.createElement("form",{ref:M,method:$,action:z,onSubmit:r?d:ae,...A,"data-discover":!q&&t==="render"?"true":void 0})});JM.displayName="Form";function ZM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xA(t){let e=S.useContext(uc);return Ft(e,ZM(t)),e}function eP(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let m=km(),g=Gs(),v=dh(t,{relative:l});return S.useCallback(_=>{if(kM(_,e)){_.preventDefault();let A=n!==void 0?n:Ku(g)===Ku(v),M=()=>m(t,{replace:A,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h});d?S.startTransition(()=>M()):M()}},[g,m,v,n,r,e,t,a,l,c,h,d])}var tP=0,nP=()=>`__${String(++tP)}__`;function iP(){let{router:t}=xA("useSubmit"),{basename:e}=S.useContext(Hi),n=wM(),r=t.fetch,a=t.navigate;return S.useCallback(async(l,c={})=>{let{action:h,method:d,encType:m,formData:g,body:v}=OM(l,e);if(c.navigate===!1){let _=c.fetcherKey||nP();await r(_,n,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:v,formMethod:c.method||d,formEncType:c.encType||m,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:v,formMethod:c.method||d,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,e,n])}function rP(t,{relative:e}={}){let{basename:n}=S.useContext(Hi),r=S.useContext(Vr);Ft(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...dh(t||".",{relative:e})},c=Gs();if(t==null){l.search=c.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let g=h.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ps([n,l.pathname])),Ku(l)}function sP(t,{relative:e}={}){let n=S.useContext(cA);Ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=xA("useViewTransitionState"),a=dh(t,{relative:e});if(!n.isTransitioning)return!1;let l=Us(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Us(n.nextLocation.pathname,r)||n.nextLocation.pathname;return zf(a.pathname,c)!=null||zf(a.pathname,l)!=null}var Su=tA();const aP=()=>b.jsx("div",{className:"noise-overlay"}),oP="modulepreload",lP=function(t){return"/"+t},I1={},Ol=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let d=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=c?.nonce||c?.getAttribute("nonce");a=d(n.map(m=>{if(m=lP(m),m in I1)return;I1[m]=!0;const g=m.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const _=document.createElement("link");if(_.rel=g?"stylesheet":oP,g||(_.as="script"),_.crossOrigin="",_.href=m,h&&_.setAttribute("nonce",h),document.head.appendChild(_),g)return new Promise((A,M)=>{_.addEventListener("load",A),_.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},cP=()=>{};var D1={};const _A=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},uP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],h=t[n++],d=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},wA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,h=c?t[a+1]:0,d=a+2<t.length,m=d?t[a+2]:0,g=l>>2,v=(l&3)<<4|h>>4;let _=(h&15)<<2|m>>6,A=m&63;d||(A=64,c||(_=64)),r.push(n[g],n[v],n[_],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_A(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||m==null||v==null)throw new hP;const _=l<<2|h>>4;if(r.push(_),m!==64){const A=h<<4&240|m>>2;if(r.push(A),v!==64){const M=m<<6&192|v;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dP=function(t){const e=_A(t);return wA.encodeByteArray(e,!0)},Bf=function(t){return dP(t).replace(/\./g,"")},TA=function(t){try{return wA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function fP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const mP=()=>fP().__FIREBASE_DEFAULTS__,pP=()=>{if(typeof process>"u"||typeof D1>"u")return;const t=D1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&TA(t[1]);return e&&JSON.parse(e)},Pm=()=>{try{return cP()||mP()||pP()||gP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},EA=t=>Pm()?.emulatorHosts?.[t],SA=t=>{const e=EA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},AA=()=>Pm()?.config,CA=t=>Pm()?.[`_${t}`];class yP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Ho(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function u0(t){return(await fetch(t,{credentials:"include"})).ok}function RA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Bf(JSON.stringify(n)),Bf(JSON.stringify(c)),""].join(".")}const Du={};function vP(){const t={prod:[],emulator:[]};for(const e of Object.keys(Du))Du[e]?t.emulator.push(e):t.prod.push(e);return t}function bP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let k1=!1;function h0(t,e){if(typeof window>"u"||typeof document>"u"||!Ho(window.location.host)||Du[t]===e||Du[t]||k1)return;Du[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",l=vP().prod.length>0;function c(){const _=document.getElementById(r);_&&_.remove()}function h(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function d(_,A){_.setAttribute("width","24"),_.setAttribute("id",A),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function m(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{k1=!0,c()},_}function g(_,A){_.setAttribute("id",A),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function v(){const _=bP(r),A=n("text"),M=document.getElementById(A)||document.createElement("span"),D=n("learnmore"),N=document.getElementById(D)||document.createElement("a"),z=n("preprendIcon"),$=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const q=_.element;h(q),g(N,D);const ae=m();d($,z),q.append($,M,N,ae),document.body.appendChild(q)}l?(M.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function ui(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ui())}function _P(){const t=Pm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function EP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SP(){const t=ui();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AP(){return!_P()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CP(){try{return typeof indexedDB=="object"}catch{return!1}}function RP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const NP="FirebaseError";class as extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=NP,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fh.prototype.create)}}class fh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?IP(l,r):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new as(a,h,r)}}function IP(t,e){return t.replace(DP,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const DP=/\{\$([^}]+)}/g;function kP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Uo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],c=e[a];if(M1(l)&&M1(c)){if(!Uo(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function M1(t){return t!==null&&typeof t=="object"}function mh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function MP(t,e){const n=new PP(t,e);return n.subscribe.bind(n)}class PP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");OP(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=vy),a.error===void 0&&(a.error=vy),a.complete===void 0&&(a.complete=vy);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vy(){}function Sn(t){return t&&t._delegate?t._delegate:t}class Va{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const No="[DEFAULT]";class VP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LP(e))try{this.getOrInitializeService({instanceIdentifier:No})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=No){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=No){return this.instances.has(e)}getOptions(e=No){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);r===h&&c.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=No){return this.component?this.component.multipleInstances?e:No:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jP(t){return t===No?void 0:t}function LP(t){return t.instantiationMode==="EAGER"}class UP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const zP={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},BP=tt.INFO,FP={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},qP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=FP[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class d0{constructor(e){this.name=e,this._logLevel=BP,this._logHandler=qP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const HP=(t,e)=>e.some(n=>t instanceof n);let P1,O1;function GP(){return P1||(P1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $P(){return O1||(O1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NA=new WeakMap,nv=new WeakMap,IA=new WeakMap,by=new WeakMap,f0=new WeakMap;function KP(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Da(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&NA.set(n,t)}).catch(()=>{}),f0.set(e,t),e}function YP(t){if(nv.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});nv.set(t,e)}let iv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return nv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Da(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XP(t){iv=t(iv)}function WP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xy(this),e,...n);return IA.set(r,e.sort?e.sort():[e]),Da(r)}:$P().includes(t)?function(...e){return t.apply(xy(this),e),Da(NA.get(this))}:function(...e){return Da(t.apply(xy(this),e))}}function QP(t){return typeof t=="function"?WP(t):(t instanceof IDBTransaction&&YP(t),HP(t,GP())?new Proxy(t,iv):t)}function Da(t){if(t instanceof IDBRequest)return KP(t);if(by.has(t))return by.get(t);const e=QP(t);return e!==t&&(by.set(t,e),f0.set(e,t)),e}const xy=t=>f0.get(t);function JP(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),h=Da(c);return r&&c.addEventListener("upgradeneeded",d=>{r(Da(c.result),d.oldVersion,d.newVersion,Da(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const ZP=["get","getKey","getAll","getAllKeys","count"],eO=["put","add","delete","clear"],_y=new Map;function V1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_y.get(e))return _y.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=eO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||ZP.includes(n)))return;const l=async function(c,...h){const d=this.transaction(c,a?"readwrite":"readonly");let m=d.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),a&&d.done]))[0]};return _y.set(e,l),l}XP(t=>({...t,get:(e,n,r)=>V1(e,n)||t.get(e,n,r),has:(e,n)=>!!V1(e,n)||t.has(e,n)}));class tO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function nO(t){return t.getComponent()?.type==="VERSION"}const rv="@firebase/app",j1="0.14.7";const zs=new d0("@firebase/app"),iO="@firebase/app-compat",rO="@firebase/analytics-compat",sO="@firebase/analytics",aO="@firebase/app-check-compat",oO="@firebase/app-check",lO="@firebase/auth",cO="@firebase/auth-compat",uO="@firebase/database",hO="@firebase/data-connect",dO="@firebase/database-compat",fO="@firebase/functions",mO="@firebase/functions-compat",pO="@firebase/installations",gO="@firebase/installations-compat",yO="@firebase/messaging",vO="@firebase/messaging-compat",bO="@firebase/performance",xO="@firebase/performance-compat",_O="@firebase/remote-config",wO="@firebase/remote-config-compat",TO="@firebase/storage",EO="@firebase/storage-compat",SO="@firebase/firestore",AO="@firebase/ai",CO="@firebase/firestore-compat",RO="firebase",NO="12.8.0";const sv="[DEFAULT]",IO={[rv]:"fire-core",[iO]:"fire-core-compat",[sO]:"fire-analytics",[rO]:"fire-analytics-compat",[oO]:"fire-app-check",[aO]:"fire-app-check-compat",[lO]:"fire-auth",[cO]:"fire-auth-compat",[uO]:"fire-rtdb",[hO]:"fire-data-connect",[dO]:"fire-rtdb-compat",[fO]:"fire-fn",[mO]:"fire-fn-compat",[pO]:"fire-iid",[gO]:"fire-iid-compat",[yO]:"fire-fcm",[vO]:"fire-fcm-compat",[bO]:"fire-perf",[xO]:"fire-perf-compat",[_O]:"fire-rc",[wO]:"fire-rc-compat",[TO]:"fire-gcs",[EO]:"fire-gcs-compat",[SO]:"fire-fst",[CO]:"fire-fst-compat",[AO]:"fire-vertex","fire-js":"fire-js",[RO]:"fire-js-all"};const Ff=new Map,DO=new Map,av=new Map;function L1(t,e){try{t.container.addComponent(e)}catch(n){zs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zo(t){const e=t.name;if(av.has(e))return zs.debug(`There were multiple attempts to register component ${e}.`),!1;av.set(e,t);for(const n of Ff.values())L1(n,t);for(const n of DO.values())L1(n,t);return!0}function Om(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function or(t){return t==null?!1:t.settings!==void 0}const kO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ka=new fh("app","Firebase",kO);class MO{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ka.create("app-deleted",{appName:this._name})}}const Go=NO;function DA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:sv,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw ka.create("bad-app-name",{appName:String(a)});if(n||(n=AA()),!n)throw ka.create("no-options");const l=Ff.get(a);if(l){if(Uo(n,l.options)&&Uo(r,l.config))return l;throw ka.create("duplicate-app",{appName:a})}const c=new UP(a);for(const d of av.values())c.addComponent(d);const h=new MO(n,r,c);return Ff.set(a,h),h}function m0(t=sv){const e=Ff.get(t);if(!e&&t===sv&&AA())return DA();if(!e)throw ka.create("no-app",{appName:t});return e}function Wr(t,e,n){let r=IO[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zs.warn(c.join(" "));return}zo(new Va(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const PO="firebase-heartbeat-database",OO=1,Yu="firebase-heartbeat-store";let wy=null;function kA(){return wy||(wy=JP(PO,OO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ka.create("idb-open",{originalErrorMessage:t.message})})),wy}async function VO(t){try{const n=(await kA()).transaction(Yu),r=await n.objectStore(Yu).get(MA(t));return await n.done,r}catch(e){if(e instanceof as)zs.warn(e.message);else{const n=ka.create("idb-get",{originalErrorMessage:e?.message});zs.warn(n.message)}}}async function U1(t,e){try{const r=(await kA()).transaction(Yu,"readwrite");await r.objectStore(Yu).put(e,MA(t)),await r.done}catch(n){if(n instanceof as)zs.warn(n.message);else{const r=ka.create("idb-set",{originalErrorMessage:n?.message});zs.warn(r.message)}}}function MA(t){return`${t.name}!${t.options.appId}`}const jO=1024,LO=30;class UO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=z1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>LO){const a=FO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){zs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=z1(),{heartbeatsToSend:n,unsentEntries:r}=zO(this._heartbeatsCache.heartbeats),a=Bf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return zs.warn(e),""}}}function z1(){return new Date().toISOString().substring(0,10)}function zO(t,e=jO){const n=[];let r=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),B1(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),B1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class BO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CP()?RP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return U1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return U1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function B1(t){return Bf(JSON.stringify({version:2,heartbeats:t})).length}function FO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function qO(t){zo(new Va("platform-logger",e=>new tO(e),"PRIVATE")),zo(new Va("heartbeat",e=>new UO(e),"PRIVATE")),Wr(rv,j1,t),Wr(rv,j1,"esm2020"),Wr("fire-js","")}qO("");var HO="firebase",GO="12.8.0";Wr(HO,GO,"app");function PA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OA=PA,VA=new fh("auth","Firebase",PA());const qf=new d0("@firebase/auth");function $O(t,...e){qf.logLevel<=tt.WARN&&qf.warn(`Auth (${Go}): ${t}`,...e)}function Ef(t,...e){qf.logLevel<=tt.ERROR&&qf.error(`Auth (${Go}): ${t}`,...e)}function ts(t,...e){throw g0(t,...e)}function Dr(t,...e){return g0(t,...e)}function p0(t,e,n){const r={...OA(),[e]:n};return new fh("auth","Firebase",r).create(e,{appName:t.name})}function jo(t){return p0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KO(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ts(t,"argument-error"),p0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function g0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return VA.create(t,...e)}function Ue(t,e,...n){if(!t)throw g0(e,...n)}function ks(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ef(e),new Error(e)}function Bs(t,e){t||ks(e)}function ov(){return typeof self<"u"&&self.location?.href||""}function YO(){return F1()==="http:"||F1()==="https:"}function F1(){return typeof self<"u"&&self.location?.protocol||null}function XO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YO()||TP()||"connection"in navigator)?navigator.onLine:!0}function WO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class ph{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bs(n>e,"Short delay should be less than long delay!"),this.isMobile=xP()||EP()}get(){return XO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function y0(t,e){Bs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class jA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const QO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const JO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZO=new ph(3e4,6e4);function v0(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function $o(t,e,n,r,a={}){return LA(t,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const h=mh({key:t.config.apiKey,...c}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:d,...l};return wP()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Ho(t.emulatorConfig.host)&&(m.credentials="include"),jA.fetch()(await UA(t,t.config.apiHost,n,h),m)})}async function LA(t,e,n){t._canInitEmulator=!1;const r={...QO,...e};try{const a=new t4(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw rf(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw rf(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw rf(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw rf(t,"user-disabled",c);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw p0(t,g,m);ts(t,g)}}catch(a){if(a instanceof as)throw a;ts(t,"network-request-failed",{message:String(a)})}}async function e4(t,e,n,r,a={}){const l=await $o(t,e,n,r,a);return"mfaPendingCredential"in l&&ts(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function UA(t,e,n,r){const a=`${e}${n}?${r}`,l=t,c=l.config.emulator?y0(t.config,a):`${t.config.apiScheme}://${a}`;return JO.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class t4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Dr(this.auth,"network-request-failed")),ZO.get())})}}function rf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Dr(t,e,r);return a.customData._tokenResponse=n,a}async function n4(t,e){return $o(t,"POST","/v1/accounts:delete",e)}async function Hf(t,e){return $o(t,"POST","/v1/accounts:lookup",e)}function ku(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zA(t,e=!1){const n=Sn(t),r=await n.getIdToken(e),a=b0(r);Ue(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:r,authTime:ku(Ty(a.auth_time)),issuedAtTime:ku(Ty(a.iat)),expirationTime:ku(Ty(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Ty(t){return Number(t)*1e3}function b0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ef("JWT malformed, contained fewer than 3 sections"),null;try{const a=TA(n);return a?JSON.parse(a):(Ef("Failed to decode base64 JWT payload"),null)}catch(a){return Ef("Caught error parsing JWT payload as JSON",a?.toString()),null}}function q1(t){const e=b0(t);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Zl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof as&&i4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function i4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class r4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class lv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ku(this.lastLoginAt),this.creationTime=ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Gf(t){const e=t.auth,n=await t.getIdToken(),r=await Zl(t,Hf(e,{idToken:n}));Ue(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?FA(a.providerUserInfo):[],c=s4(t.providerData,l),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!c?.length,m=h?d:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new lv(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function BA(t){const e=Sn(t);await Gf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function s4(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function FA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function a4(t,e){const n=await LA(t,{},async()=>{const r=mh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await UA(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return t.emulatorConfig&&Ho(t.emulatorConfig.host)&&(d.credentials="include"),jA.fetch()(c,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function o4(t,e){return $o(t,"POST","/v2/accounts:revokeToken",v0(t,e))}class Gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):q1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const n=q1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await a4(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,c=new Gl;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Ue(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ue(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gl,this.toJSON())}_performRefresh(){return ks("not implemented")}}function Sa(t,e){Ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Rr{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new r4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new lv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Zl(this,this.stsTokenManager.getToken(this.auth,e));return Ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zA(this,e)}reload(){return BA(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Rr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Gf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(jo(this.auth));const e=await this.getIdToken();return await Zl(this,n4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,m=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:v,emailVerified:_,isAnonymous:A,providerData:M,stsTokenManager:D}=n;Ue(v&&D,e,"internal-error");const N=Gl.fromJSON(this.name,D);Ue(typeof v=="string",e,"internal-error"),Sa(r,e.name),Sa(a,e.name),Ue(typeof _=="boolean",e,"internal-error"),Ue(typeof A=="boolean",e,"internal-error"),Sa(l,e.name),Sa(c,e.name),Sa(h,e.name),Sa(d,e.name),Sa(m,e.name),Sa(g,e.name);const z=new Rr({uid:v,auth:e,email:a,emailVerified:_,displayName:r,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:h,stsTokenManager:N,createdAt:m,lastLoginAt:g});return M&&Array.isArray(M)&&(z.providerData=M.map($=>({...$}))),d&&(z._redirectEventId=d),z}static async _fromIdTokenResponse(e,n,r=!1){const a=new Gl;a.updateFromServerResponse(n);const l=new Rr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Gf(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Ue(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?FA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,h=new Gl;h.updateFromIdToken(r);const d=new Rr({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new lv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,m),d}}const H1=new Map;function Ms(t){Bs(t instanceof Function,"Expected a class definition");let e=H1.get(t);return e?(Bs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,H1.set(t,e),e)}class qA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qA.type="NONE";const cv=qA;function Sf(t,e,n){return`firebase:${t}:${e}:${n}`}class $l{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=Sf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Sf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Hf(this.auth,{idToken:e}).catch(()=>{});return n?Rr._fromGetAccountInfoResponse(this.auth,n,e):null}return Rr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new $l(Ms(cv),e,r);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Ms(cv);const c=Sf(r,e.config.apiKey,e.name);let h=null;for(const m of n)try{const g=await m._get(c);if(g){let v;if(typeof g=="string"){const _=await Hf(e,{idToken:g}).catch(()=>{});if(!_)break;v=await Rr._fromGetAccountInfoResponse(e,_,g)}else v=Rr._fromJSON(e,g);m!==l&&(h=v),l=m;break}}catch{}const d=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new $l(l,e,r):(l=d[0],h&&await l._set(c,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new $l(l,e,r))}}function G1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XA(e))return"Blackberry";if(WA(e))return"Webos";if(GA(e))return"Safari";if((e.includes("chrome/")||$A(e))&&!e.includes("edge/"))return"Chrome";if(YA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function HA(t=ui()){return/firefox\//i.test(t)}function GA(t=ui()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $A(t=ui()){return/crios\//i.test(t)}function KA(t=ui()){return/iemobile/i.test(t)}function YA(t=ui()){return/android/i.test(t)}function XA(t=ui()){return/blackberry/i.test(t)}function WA(t=ui()){return/webos/i.test(t)}function x0(t=ui()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function l4(t=ui()){return x0(t)&&!!window.navigator?.standalone}function c4(){return SP()&&document.documentMode===10}function QA(t=ui()){return x0(t)||YA(t)||WA(t)||XA(t)||/windows phone/i.test(t)||KA(t)}function JA(t,e=[]){let n;switch(t){case"Browser":n=G1(ui());break;case"Worker":n=`${G1(ui())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Go}/${r}`}class u4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((c,h)=>{try{const d=e(l);c(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function h4(t,e={}){return $o(t,"GET","/v2/passwordPolicy",v0(t,e))}const d4=6;class f4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??d4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class m4{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $1(this),this.idTokenSubscription=new $1(this),this.beforeStateQueue=new u4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ms(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $l.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Hf(this,{idToken:e}),r=await Rr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(or(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(or(this.app))return Promise.reject(jo(this));const n=e?Sn(e):null;return n&&Ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return or(this.app)?Promise.reject(jo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return or(this.app)?Promise.reject(jo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ms(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await h4(this),n=new f4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await o4(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ms(e)||this._popupRedirectResolver;Ue(n,this,"argument-error"),this.redirectPersistenceManager=await $l.create(this,[Ms(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&$O(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Vm(t){return Sn(t)}class $1{constructor(e){this.auth=e,this.observer=null,this.addObserver=MP(n=>this.observer=n)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function p4(t){_0=t}function g4(t){return _0.loadJS(t)}function y4(){return _0.gapiScript}function v4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function ZA(t,e){const n=Om(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Uo(l,e??{}))return a;ts(a,"already-initialized")}return n.initialize({options:e})}function b4(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ms);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function eC(t,e,n){const r=Vm(t);Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=tC(e),{host:c,port:h}=x4(e),d=h===null?"":`:${h}`,m={url:`${l}//${c}${d}/`},g=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ue(Uo(m,r.config.emulator)&&Uo(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Ho(c)?(u0(`${l}//${c}${d}`),h0("Auth",!0)):_4()}function tC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function x4(t){const e=tC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:K1(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:K1(c)}}}function K1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class w0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ks("not implemented")}_getIdTokenResponse(e){return ks("not implemented")}_linkToIdToken(e,n){return ks("not implemented")}_getReauthenticationResolver(e){return ks("not implemented")}}async function Kl(t,e){return e4(t,"POST","/v1/accounts:signInWithIdp",v0(t,e))}const w4="http://localhost";class ja extends w0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ja(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ts("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=n;if(!r||!a)return null;const c=new ja(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Kl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Kl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Kl(e,n)}buildRequest(){const e={requestUri:w4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mh(n)}return e}}class T0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gh extends T0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ns extends gh{constructor(){super("facebook.com")}static credential(e){return ja._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ns.PROVIDER_ID="facebook.com";class Xr extends gh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ja._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Xr.credential(n,r)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";class Is extends gh{constructor(){super("github.com")}static credential(e){return ja._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.GITHUB_SIGN_IN_METHOD="github.com";Is.PROVIDER_ID="github.com";class Ds extends gh{constructor(){super("twitter.com")}static credential(e,n){return ja._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ds.credential(n,r)}catch{return null}}}Ds.TWITTER_SIGN_IN_METHOD="twitter.com";Ds.PROVIDER_ID="twitter.com";class ec{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await Rr._fromIdTokenResponse(e,r,a),c=Y1(r);return new ec({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=Y1(r);return new ec({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function Y1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class $f extends as{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,$f.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new $f(e,n,r,a)}}function nC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?$f._fromErrorAndOperation(t,l,e,r):l})}async function T4(t,e,n=!1){const r=await Zl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ec._forOperation(t,"link",r)}async function E4(t,e,n=!1){const{auth:r}=t;if(or(r.app))return Promise.reject(jo(r));const a="reauthenticate";try{const l=await Zl(t,nC(r,a,e,t),n);Ue(l.idToken,r,"internal-error");const c=b0(l.idToken);Ue(c,r,"internal-error");const{sub:h}=c;return Ue(t.uid===h,r,"user-mismatch"),ec._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ts(r,"user-mismatch"),l}}async function S4(t,e,n=!1){if(or(t.app))return Promise.reject(jo(t));const r="signIn",a=await nC(t,r,e),l=await ec._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}async function A4(t,e){return $o(t,"POST","/v1/accounts:update",e)}async function C4(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Sn(t),l={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Zl(r,A4(r.auth,l));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const h=r.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function iC(t,e,n,r){return Sn(t).onIdTokenChanged(e,n,r)}function rC(t,e,n){return Sn(t).beforeAuthStateChanged(e,n)}function sC(t,e,n,r){return Sn(t).onAuthStateChanged(e,n,r)}function aC(t){return Sn(t).signOut()}const Kf="__sak";class oC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kf,"1"),this.storage.removeItem(Kf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const R4=1e3,N4=10;class lC extends oC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);c4()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,N4):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},R4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lC.type="LOCAL";const cC=lC;class uC extends oC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uC.type="SESSION";const E0=uC;function I4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class jm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new jm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(c).map(async m=>m(n.origin,l)),d=await I4(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jm.receivers=[];function S0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class D4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,d)=>{const m=S0("",20);a.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(v){const _=v;if(_.data.eventId===m)switch(_.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(_.data.response);break;default:clearTimeout(g),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Qr(){return window}function k4(t){Qr().location.href=t}function hC(){return typeof Qr().WorkerGlobalScope<"u"&&typeof Qr().importScripts=="function"}async function M4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function P4(){return navigator?.serviceWorker?.controller||null}function O4(){return hC()?self:null}const dC="firebaseLocalStorageDb",V4=1,Yf="firebaseLocalStorage",fC="fbase_key";class yh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lm(t,e){return t.transaction([Yf],e?"readwrite":"readonly").objectStore(Yf)}function j4(){const t=indexedDB.deleteDatabase(dC);return new yh(t).toPromise()}function uv(){const t=indexedDB.open(dC,V4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Yf,{keyPath:fC})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Yf)?e(r):(r.close(),await j4(),e(await uv()))})})}async function X1(t,e,n){const r=Lm(t,!0).put({[fC]:e,value:n});return new yh(r).toPromise()}async function L4(t,e){const n=Lm(t,!1).get(e),r=await new yh(n).toPromise();return r===void 0?null:r.value}function W1(t,e){const n=Lm(t,!0).delete(e);return new yh(n).toPromise()}const U4=800,z4=3;class mC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>z4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jm._getInstance(O4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await M4(),!this.activeServiceWorker)return;this.sender=new D4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||P4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await uv();return await X1(e,Kf,"1"),await W1(e,Kf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>X1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>L4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>W1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Lm(a,!1).getAll();return new yh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),U4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mC.type="LOCAL";const pC=mC;new ph(3e4,6e4);function gC(t,e){return e?Ms(e):(Ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class A0 extends w0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Kl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Kl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function B4(t){return S4(t.auth,new A0(t),t.bypassAuthState)}function F4(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),E4(n,new A0(t),t.bypassAuthState)}async function q4(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),T4(n,new A0(t),t.bypassAuthState)}class yC{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B4;case"linkViaPopup":case"linkViaRedirect":return q4;case"reauthViaPopup":case"reauthViaRedirect":return F4;default:ts(this.auth,"internal-error")}}resolve(e){Bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const H4=new ph(2e3,1e4);async function vC(t,e,n){if(or(t.app))return Promise.reject(Dr(t,"operation-not-supported-in-this-environment"));const r=Vm(t);KO(t,e,T0);const a=gC(r,n);return new ko(r,"signInViaPopup",e,a).executeNotNull()}class ko extends yC{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,ko.currentPopupAction&&ko.currentPopupAction.cancel(),ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){Bs(this.filter.length===1,"Popup operations only handle one event");const e=S0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,H4.get())};e()}}ko.currentPopupAction=null;const G4="pendingRedirect",Af=new Map;class $4 extends yC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Af.get(this.auth._key());if(!e){try{const r=await K4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Af.set(this.auth._key(),e)}return this.bypassAuthState||Af.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function K4(t,e){const n=W4(e),r=X4(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function Y4(t,e){Af.set(t._key(),e)}function X4(t){return Ms(t._redirectPersistence)}function W4(t){return Sf(G4,t.config.apiKey,t.name)}async function Q4(t,e,n=!1){if(or(t.app))return Promise.reject(jo(t));const r=Vm(t),a=gC(r,e),c=await new $4(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const J4=600*1e3;class Z4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!bC(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Dr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=J4&&this.cachedEventUids.clear(),this.cachedEventUids.has(Q1(e))}saveEventToCache(e){this.cachedEventUids.add(Q1(e)),this.lastProcessedEventTime=Date.now()}}function Q1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function eV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bC(t);default:return!1}}async function tV(t,e={}){return $o(t,"GET","/v1/projects",e)}const nV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iV=/^https?/;async function rV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await tV(t);for(const n of e)try{if(sV(n))return}catch{}ts(t,"unauthorized-domain")}function sV(t){const e=ov(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!iV.test(n))return!1;if(nV.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const aV=new ph(3e4,6e4);function J1(){const t=Qr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function oV(t){return new Promise((e,n)=>{function r(){J1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{J1(),n(Dr(t,"network-request-failed"))},timeout:aV.get()})}if(Qr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Qr().gapi?.load)r();else{const a=v4("iframefcb");return Qr()[a]=()=>{gapi.load?r():n(Dr(t,"network-request-failed"))},g4(`${y4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Cf=null,e})}let Cf=null;function lV(t){return Cf=Cf||oV(t),Cf}const cV=new ph(5e3,15e3),uV="__/auth/iframe",hV="emulator/auth/iframe",dV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mV(t){const e=t.config;Ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?y0(e,hV):`https://${t.config.authDomain}/${uV}`,r={apiKey:e.apiKey,appName:t.name,v:Go},a=fV.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${mh(r).slice(1)}`}async function pV(t){const e=await lV(t),n=Qr().gapi;return Ue(n,t,"internal-error"),e.open({where:document.body,url:mV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dV,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=Dr(t,"network-request-failed"),h=Qr().setTimeout(()=>{l(c)},cV.get());function d(){Qr().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{l(c)})}))}const gV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yV=500,vV=600,bV="_blank",xV="http://localhost";class Z1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _V(t,e,n,r=yV,a=vV){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d={...gV,width:r.toString(),height:a.toString(),top:l,left:c},m=ui().toLowerCase();n&&(h=$A(m)?bV:n),HA(m)&&(e=e||xV,d.scrollbars="yes");const g=Object.entries(d).reduce((_,[A,M])=>`${_}${A}=${M},`,"");if(l4(m)&&h!=="_self")return wV(e||"",h),new Z1(null);const v=window.open(e||"",h,g);Ue(v,t,"popup-blocked");try{v.focus()}catch{}return new Z1(v)}function wV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const TV="__/auth/handler",EV="emulator/auth/handler",SV=encodeURIComponent("fac");async function eT(t,e,n,r,a,l){Ue(t.config.authDomain,t,"auth-domain-config-required"),Ue(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Go,eventId:a};if(e instanceof T0){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",kP(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))c[g]=v}if(e instanceof gh){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),m=d?`#${SV}=${encodeURIComponent(d)}`:"";return`${AV(t)}?${mh(h).slice(1)}${m}`}function AV({config:t}){return t.emulator?y0(t,EV):`https://${t.authDomain}/${TV}`}const Ey="webStorageSupport";class CV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=E0,this._completeRedirectFn=Q4,this._overrideRedirectResult=Y4}async _openPopup(e,n,r,a){Bs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await eT(e,n,r,ov(),a);return _V(e,l,S0())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await eT(e,n,r,ov(),a);return k4(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Bs(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await pV(e),r=new Z4(e);return n.register("authEvent",a=>(Ue(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ey,{type:Ey},a=>{const l=a?.[0]?.[Ey];l!==void 0&&n(!!l),ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QA()||GA()||x0()}}const xC=CV;var tT="@firebase/auth",nT="1.12.0";class RV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function NV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IV(t){zo(new Va("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;Ue(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JA(t)},m=new m4(r,a,l,d);return b4(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zo(new Va("auth-internal",e=>{const n=Vm(e.getProvider("auth").getImmediate());return(r=>new RV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(tT,nT,NV(t)),Wr(tT,nT,"esm2020")}const DV=300,kV=CA("authIdTokenMaxAge")||DV;let iT=null;const MV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>kV)return;const a=n?.token;iT!==a&&(iT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function _C(t=m0()){const e=Om(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ZA(t,{popupRedirectResolver:xC,persistence:[pC,cC,E0]}),r=CA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=MV(l.toString());rC(n,c,()=>c(n.currentUser)),iC(n,h=>c(h))}}const a=EA("auth");return a&&eC(n,`http://${a}`),n}function PV(){return document.getElementsByTagName("head")?.[0]??document}p4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=Dr("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",PV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IV("Browser");const OV=Object.freeze(Object.defineProperty({__proto__:null,AuthCredential:w0,FacebookAuthProvider:Ns,GithubAuthProvider:Is,GoogleAuthProvider:Xr,OAuthCredential:ja,TwitterAuthProvider:Ds,beforeAuthStateChanged:rC,browserLocalPersistence:cC,browserPopupRedirectResolver:xC,browserSessionPersistence:E0,connectAuthEmulator:eC,getAuth:_C,getIdTokenResult:zA,inMemoryPersistence:cv,indexedDBLocalPersistence:pC,initializeAuth:ZA,onAuthStateChanged:sC,onIdTokenChanged:iC,prodErrorMap:OA,reload:BA,signInWithPopup:vC,signOut:aC,updateProfile:C4},Symbol.toStringTag,{value:"Module"}));var rT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ma,wC;(function(){var t;function e(I,C){function O(){}O.prototype=C.prototype,I.F=C.prototype,I.prototype=new O,I.prototype.constructor=I,I.D=function(k,j,B){for(var V=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)V[xe-2]=arguments[xe];return C.prototype[j].apply(k,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,C,O){O||(O=0);const k=Array(16);if(typeof C=="string")for(var j=0;j<16;++j)k[j]=C.charCodeAt(O++)|C.charCodeAt(O++)<<8|C.charCodeAt(O++)<<16|C.charCodeAt(O++)<<24;else for(j=0;j<16;++j)k[j]=C[O++]|C[O++]<<8|C[O++]<<16|C[O++]<<24;C=I.g[0],O=I.g[1],j=I.g[2];let B=I.g[3],V;V=C+(B^O&(j^B))+k[0]+3614090360&4294967295,C=O+(V<<7&4294967295|V>>>25),V=B+(j^C&(O^j))+k[1]+3905402710&4294967295,B=C+(V<<12&4294967295|V>>>20),V=j+(O^B&(C^O))+k[2]+606105819&4294967295,j=B+(V<<17&4294967295|V>>>15),V=O+(C^j&(B^C))+k[3]+3250441966&4294967295,O=j+(V<<22&4294967295|V>>>10),V=C+(B^O&(j^B))+k[4]+4118548399&4294967295,C=O+(V<<7&4294967295|V>>>25),V=B+(j^C&(O^j))+k[5]+1200080426&4294967295,B=C+(V<<12&4294967295|V>>>20),V=j+(O^B&(C^O))+k[6]+2821735955&4294967295,j=B+(V<<17&4294967295|V>>>15),V=O+(C^j&(B^C))+k[7]+4249261313&4294967295,O=j+(V<<22&4294967295|V>>>10),V=C+(B^O&(j^B))+k[8]+1770035416&4294967295,C=O+(V<<7&4294967295|V>>>25),V=B+(j^C&(O^j))+k[9]+2336552879&4294967295,B=C+(V<<12&4294967295|V>>>20),V=j+(O^B&(C^O))+k[10]+4294925233&4294967295,j=B+(V<<17&4294967295|V>>>15),V=O+(C^j&(B^C))+k[11]+2304563134&4294967295,O=j+(V<<22&4294967295|V>>>10),V=C+(B^O&(j^B))+k[12]+1804603682&4294967295,C=O+(V<<7&4294967295|V>>>25),V=B+(j^C&(O^j))+k[13]+4254626195&4294967295,B=C+(V<<12&4294967295|V>>>20),V=j+(O^B&(C^O))+k[14]+2792965006&4294967295,j=B+(V<<17&4294967295|V>>>15),V=O+(C^j&(B^C))+k[15]+1236535329&4294967295,O=j+(V<<22&4294967295|V>>>10),V=C+(j^B&(O^j))+k[1]+4129170786&4294967295,C=O+(V<<5&4294967295|V>>>27),V=B+(O^j&(C^O))+k[6]+3225465664&4294967295,B=C+(V<<9&4294967295|V>>>23),V=j+(C^O&(B^C))+k[11]+643717713&4294967295,j=B+(V<<14&4294967295|V>>>18),V=O+(B^C&(j^B))+k[0]+3921069994&4294967295,O=j+(V<<20&4294967295|V>>>12),V=C+(j^B&(O^j))+k[5]+3593408605&4294967295,C=O+(V<<5&4294967295|V>>>27),V=B+(O^j&(C^O))+k[10]+38016083&4294967295,B=C+(V<<9&4294967295|V>>>23),V=j+(C^O&(B^C))+k[15]+3634488961&4294967295,j=B+(V<<14&4294967295|V>>>18),V=O+(B^C&(j^B))+k[4]+3889429448&4294967295,O=j+(V<<20&4294967295|V>>>12),V=C+(j^B&(O^j))+k[9]+568446438&4294967295,C=O+(V<<5&4294967295|V>>>27),V=B+(O^j&(C^O))+k[14]+3275163606&4294967295,B=C+(V<<9&4294967295|V>>>23),V=j+(C^O&(B^C))+k[3]+4107603335&4294967295,j=B+(V<<14&4294967295|V>>>18),V=O+(B^C&(j^B))+k[8]+1163531501&4294967295,O=j+(V<<20&4294967295|V>>>12),V=C+(j^B&(O^j))+k[13]+2850285829&4294967295,C=O+(V<<5&4294967295|V>>>27),V=B+(O^j&(C^O))+k[2]+4243563512&4294967295,B=C+(V<<9&4294967295|V>>>23),V=j+(C^O&(B^C))+k[7]+1735328473&4294967295,j=B+(V<<14&4294967295|V>>>18),V=O+(B^C&(j^B))+k[12]+2368359562&4294967295,O=j+(V<<20&4294967295|V>>>12),V=C+(O^j^B)+k[5]+4294588738&4294967295,C=O+(V<<4&4294967295|V>>>28),V=B+(C^O^j)+k[8]+2272392833&4294967295,B=C+(V<<11&4294967295|V>>>21),V=j+(B^C^O)+k[11]+1839030562&4294967295,j=B+(V<<16&4294967295|V>>>16),V=O+(j^B^C)+k[14]+4259657740&4294967295,O=j+(V<<23&4294967295|V>>>9),V=C+(O^j^B)+k[1]+2763975236&4294967295,C=O+(V<<4&4294967295|V>>>28),V=B+(C^O^j)+k[4]+1272893353&4294967295,B=C+(V<<11&4294967295|V>>>21),V=j+(B^C^O)+k[7]+4139469664&4294967295,j=B+(V<<16&4294967295|V>>>16),V=O+(j^B^C)+k[10]+3200236656&4294967295,O=j+(V<<23&4294967295|V>>>9),V=C+(O^j^B)+k[13]+681279174&4294967295,C=O+(V<<4&4294967295|V>>>28),V=B+(C^O^j)+k[0]+3936430074&4294967295,B=C+(V<<11&4294967295|V>>>21),V=j+(B^C^O)+k[3]+3572445317&4294967295,j=B+(V<<16&4294967295|V>>>16),V=O+(j^B^C)+k[6]+76029189&4294967295,O=j+(V<<23&4294967295|V>>>9),V=C+(O^j^B)+k[9]+3654602809&4294967295,C=O+(V<<4&4294967295|V>>>28),V=B+(C^O^j)+k[12]+3873151461&4294967295,B=C+(V<<11&4294967295|V>>>21),V=j+(B^C^O)+k[15]+530742520&4294967295,j=B+(V<<16&4294967295|V>>>16),V=O+(j^B^C)+k[2]+3299628645&4294967295,O=j+(V<<23&4294967295|V>>>9),V=C+(j^(O|~B))+k[0]+4096336452&4294967295,C=O+(V<<6&4294967295|V>>>26),V=B+(O^(C|~j))+k[7]+1126891415&4294967295,B=C+(V<<10&4294967295|V>>>22),V=j+(C^(B|~O))+k[14]+2878612391&4294967295,j=B+(V<<15&4294967295|V>>>17),V=O+(B^(j|~C))+k[5]+4237533241&4294967295,O=j+(V<<21&4294967295|V>>>11),V=C+(j^(O|~B))+k[12]+1700485571&4294967295,C=O+(V<<6&4294967295|V>>>26),V=B+(O^(C|~j))+k[3]+2399980690&4294967295,B=C+(V<<10&4294967295|V>>>22),V=j+(C^(B|~O))+k[10]+4293915773&4294967295,j=B+(V<<15&4294967295|V>>>17),V=O+(B^(j|~C))+k[1]+2240044497&4294967295,O=j+(V<<21&4294967295|V>>>11),V=C+(j^(O|~B))+k[8]+1873313359&4294967295,C=O+(V<<6&4294967295|V>>>26),V=B+(O^(C|~j))+k[15]+4264355552&4294967295,B=C+(V<<10&4294967295|V>>>22),V=j+(C^(B|~O))+k[6]+2734768916&4294967295,j=B+(V<<15&4294967295|V>>>17),V=O+(B^(j|~C))+k[13]+1309151649&4294967295,O=j+(V<<21&4294967295|V>>>11),V=C+(j^(O|~B))+k[4]+4149444226&4294967295,C=O+(V<<6&4294967295|V>>>26),V=B+(O^(C|~j))+k[11]+3174756917&4294967295,B=C+(V<<10&4294967295|V>>>22),V=j+(C^(B|~O))+k[2]+718787259&4294967295,j=B+(V<<15&4294967295|V>>>17),V=O+(B^(j|~C))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(j+(V<<21&4294967295|V>>>11))&4294967295,I.g[2]=I.g[2]+j&4294967295,I.g[3]=I.g[3]+B&4294967295}r.prototype.v=function(I,C){C===void 0&&(C=I.length);const O=C-this.blockSize,k=this.C;let j=this.h,B=0;for(;B<C;){if(j==0)for(;B<=O;)a(this,I,B),B+=this.blockSize;if(typeof I=="string"){for(;B<C;)if(k[j++]=I.charCodeAt(B++),j==this.blockSize){a(this,k),j=0;break}}else for(;B<C;)if(k[j++]=I[B++],j==this.blockSize){a(this,k),j=0;break}}this.h=j,this.o+=C},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;C=this.o*8;for(var O=I.length-8;O<I.length;++O)I[O]=C&255,C/=256;for(this.v(I),I=Array(16),C=0,O=0;O<4;++O)for(let k=0;k<32;k+=8)I[C++]=this.g[O]>>>k&255;return I};function l(I,C){var O=h;return Object.prototype.hasOwnProperty.call(O,I)?O[I]:O[I]=C(I)}function c(I,C){this.h=C;const O=[];let k=!0;for(let j=I.length-1;j>=0;j--){const B=I[j]|0;k&&B==C||(O[j]=B,k=!1)}this.g=O}var h={};function d(I){return-128<=I&&I<128?l(I,function(C){return new c([C|0],C<0?-1:0)}):new c([I|0],I<0?-1:0)}function m(I){if(isNaN(I)||!isFinite(I))return v;if(I<0)return N(m(-I));const C=[];let O=1;for(let k=0;I>=O;k++)C[k]=I/O|0,O*=4294967296;return new c(C,0)}function g(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return N(g(I.substring(1),C));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=m(Math.pow(C,8));let k=v;for(let B=0;B<I.length;B+=8){var j=Math.min(8,I.length-B);const V=parseInt(I.substring(B,B+j),C);j<8?(j=m(Math.pow(C,j)),k=k.j(j).add(m(V))):(k=k.j(O),k=k.add(m(V)))}return k}var v=d(0),_=d(1),A=d(16777216);t=c.prototype,t.m=function(){if(D(this))return-N(this).m();let I=0,C=1;for(let O=0;O<this.g.length;O++){const k=this.i(O);I+=(k>=0?k:4294967296+k)*C,C*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(M(this))return"0";if(D(this))return"-"+N(this).toString(I);const C=m(Math.pow(I,6));var O=this;let k="";for(;;){const j=ae(O,C).g;O=z(O,j.j(C));let B=((O.g.length>0?O.g[0]:O.h)>>>0).toString(I);if(O=j,M(O))return B+k;for(;B.length<6;)B="0"+B;k=B+k}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function M(I){if(I.h!=0)return!1;for(let C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function D(I){return I.h==-1}t.l=function(I){return I=z(this,I),D(I)?-1:M(I)?0:1};function N(I){const C=I.g.length,O=[];for(let k=0;k<C;k++)O[k]=~I.g[k];return new c(O,~I.h).add(_)}t.abs=function(){return D(this)?N(this):this},t.add=function(I){const C=Math.max(this.g.length,I.g.length),O=[];let k=0;for(let j=0;j<=C;j++){let B=k+(this.i(j)&65535)+(I.i(j)&65535),V=(B>>>16)+(this.i(j)>>>16)+(I.i(j)>>>16);k=V>>>16,B&=65535,V&=65535,O[j]=V<<16|B}return new c(O,O[O.length-1]&-2147483648?-1:0)};function z(I,C){return I.add(N(C))}t.j=function(I){if(M(this)||M(I))return v;if(D(this))return D(I)?N(this).j(N(I)):N(N(this).j(I));if(D(I))return N(this.j(N(I)));if(this.l(A)<0&&I.l(A)<0)return m(this.m()*I.m());const C=this.g.length+I.g.length,O=[];for(var k=0;k<2*C;k++)O[k]=0;for(k=0;k<this.g.length;k++)for(let j=0;j<I.g.length;j++){const B=this.i(k)>>>16,V=this.i(k)&65535,xe=I.i(j)>>>16,ke=I.i(j)&65535;O[2*k+2*j]+=V*ke,$(O,2*k+2*j),O[2*k+2*j+1]+=B*ke,$(O,2*k+2*j+1),O[2*k+2*j+1]+=V*xe,$(O,2*k+2*j+1),O[2*k+2*j+2]+=B*xe,$(O,2*k+2*j+2)}for(I=0;I<C;I++)O[I]=O[2*I+1]<<16|O[2*I];for(I=C;I<2*C;I++)O[I]=0;return new c(O,0)};function $(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function q(I,C){this.g=I,this.h=C}function ae(I,C){if(M(C))throw Error("division by zero");if(M(I))return new q(v,v);if(D(I))return C=ae(N(I),C),new q(N(C.g),N(C.h));if(D(C))return C=ae(I,N(C)),new q(N(C.g),C.h);if(I.g.length>30){if(D(I)||D(C))throw Error("slowDivide_ only works with positive integers.");for(var O=_,k=C;k.l(I)<=0;)O=te(O),k=te(k);var j=le(O,1),B=le(k,1);for(k=le(k,2),O=le(O,2);!M(k);){var V=B.add(k);V.l(I)<=0&&(j=j.add(O),B=V),k=le(k,1),O=le(O,1)}return C=z(I,j.j(C)),new q(j,C)}for(j=v;I.l(C)>=0;){for(O=Math.max(1,Math.floor(I.m()/C.m())),k=Math.ceil(Math.log(O)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),B=m(O),V=B.j(C);D(V)||V.l(I)>0;)O-=k,B=m(O),V=B.j(C);M(B)&&(B=_),j=j.add(B),I=z(I,V)}return new q(j,I)}t.B=function(I){return ae(this,I).h},t.and=function(I){const C=Math.max(this.g.length,I.g.length),O=[];for(let k=0;k<C;k++)O[k]=this.i(k)&I.i(k);return new c(O,this.h&I.h)},t.or=function(I){const C=Math.max(this.g.length,I.g.length),O=[];for(let k=0;k<C;k++)O[k]=this.i(k)|I.i(k);return new c(O,this.h|I.h)},t.xor=function(I){const C=Math.max(this.g.length,I.g.length),O=[];for(let k=0;k<C;k++)O[k]=this.i(k)^I.i(k);return new c(O,this.h^I.h)};function te(I){const C=I.g.length+1,O=[];for(let k=0;k<C;k++)O[k]=I.i(k)<<1|I.i(k-1)>>>31;return new c(O,I.h)}function le(I,C){const O=C>>5;C%=32;const k=I.g.length-O,j=[];for(let B=0;B<k;B++)j[B]=C>0?I.i(B+O)>>>C|I.i(B+O+1)<<32-C:I.i(B+O);return new c(j,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,wC=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=g,Ma=c}).apply(typeof rT<"u"?rT:typeof self<"u"?self:typeof window<"u"?window:{});var sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var TC,Au,EC,Rf,hv,SC,AC,CC;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof sf=="object"&&sf];for(var x=0;x<f.length;++x){var E=f[x];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function a(f,x){if(x)e:{var E=r;f=f.split(".");for(var P=0;P<f.length-1;P++){var Q=f[P];if(!(Q in E))break e;E=E[Q]}f=f[f.length-1],P=E[f],x=x(P),x!=P&&x!=null&&e(E,f,{configurable:!0,writable:!0,value:x})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(x){var E=[],P;for(P in x)Object.prototype.hasOwnProperty.call(x,P)&&E.push([P,x[P]]);return E}});var l=l||{},c=this||self;function h(f){var x=typeof f;return x=="object"&&f!=null||x=="function"}function d(f,x,E){return f.call.apply(f.bind,arguments)}function m(f,x,E){return m=d,m.apply(null,arguments)}function g(f,x){var E=Array.prototype.slice.call(arguments,1);return function(){var P=E.slice();return P.push.apply(P,arguments),f.apply(this,P)}}function v(f,x){function E(){}E.prototype=x.prototype,f.Z=x.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(P,Q,se){for(var ye=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ye[Ge-2]=arguments[Ge];return x.prototype[Q].apply(P,ye)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function A(f){const x=f.length;if(x>0){const E=Array(x);for(let P=0;P<x;P++)E[P]=f[P];return E}return[]}function M(f,x){for(let P=1;P<arguments.length;P++){const Q=arguments[P];var E=typeof Q;if(E=E!="object"?E:Q?Array.isArray(Q)?"array":E:"null",E=="array"||E=="object"&&typeof Q.length=="number"){E=f.length||0;const se=Q.length||0;f.length=E+se;for(let ye=0;ye<se;ye++)f[E+ye]=Q[ye]}else f.push(Q)}}class D{constructor(x,E){this.i=x,this.j=E,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function N(f){c.setTimeout(()=>{throw f},0)}function z(){var f=I;let x=null;return f.g&&(x=f.g,f.g=f.g.next,f.g||(f.h=null),x.next=null),x}class ${constructor(){this.h=this.g=null}add(x,E){const P=q.get();P.set(x,E),this.h?this.h.next=P:this.g=P,this.h=P}}var q=new D(()=>new ae,f=>f.reset());class ae{constructor(){this.next=this.g=this.h=null}set(x,E){this.h=x,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let te,le=!1,I=new $,C=()=>{const f=Promise.resolve(void 0);te=()=>{f.then(O)}};function O(){for(var f;f=z();){try{f.h.call(f.g)}catch(E){N(E)}var x=q;x.j(f),x.h<100&&(x.h++,f.next=x.g,x.g=f)}le=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(f,x){this.type=f,this.g=this.target=x,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,x=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};c.addEventListener("test",E,x),c.removeEventListener("test",E,x)}catch{}return f})();function V(f){return/^[\s\xa0]*$/.test(f)}function xe(f,x){j.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,x)}v(xe,j),xe.prototype.init=function(f,x){const E=this.type=f.type,P=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=x,x=f.relatedTarget,x||(E=="mouseover"?x=f.fromElement:E=="mouseout"&&(x=f.toElement)),this.relatedTarget=x,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ke="closure_listenable_"+(Math.random()*1e6|0),Z=0;function H(f,x,E,P,Q){this.listener=f,this.proxy=null,this.src=x,this.type=E,this.capture=!!P,this.ha=Q,this.key=++Z,this.da=this.fa=!1}function G(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function X(f,x,E){for(const P in f)x.call(E,f[P],P,f)}function L(f,x){for(const E in f)x.call(void 0,f[E],E,f)}function T(f){const x={};for(const E in f)x[E]=f[E];return x}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(f,x){let E,P;for(let Q=1;Q<arguments.length;Q++){P=arguments[Q];for(E in P)f[E]=P[E];for(let se=0;se<U.length;se++)E=U[se],Object.prototype.hasOwnProperty.call(P,E)&&(f[E]=P[E])}}function re(f){this.src=f,this.g={},this.h=0}re.prototype.add=function(f,x,E,P,Q){const se=f.toString();f=this.g[se],f||(f=this.g[se]=[],this.h++);const ye=ge(f,x,P,Q);return ye>-1?(x=f[ye],E||(x.fa=!1)):(x=new H(x,this.src,se,!!P,Q),x.fa=E,f.push(x)),x};function pe(f,x){const E=x.type;if(E in f.g){var P=f.g[E],Q=Array.prototype.indexOf.call(P,x,void 0),se;(se=Q>=0)&&Array.prototype.splice.call(P,Q,1),se&&(G(x),f.g[E].length==0&&(delete f.g[E],f.h--))}}function ge(f,x,E,P){for(let Q=0;Q<f.length;++Q){const se=f[Q];if(!se.da&&se.listener==x&&se.capture==!!E&&se.ha==P)return Q}return-1}var fe="closure_lm_"+(Math.random()*1e6|0),ve={};function _e(f,x,E,P,Q){if(Array.isArray(x)){for(let se=0;se<x.length;se++)_e(f,x[se],E,P,Q);return null}return E=Xt(E),f&&f[ke]?f.J(x,E,h(P)?!!P.capture:!1,Q):Ee(f,x,E,!1,P,Q)}function Ee(f,x,E,P,Q,se){if(!x)throw Error("Invalid event type");const ye=h(Q)?!!Q.capture:!!Q;let Ge=mt(f);if(Ge||(f[fe]=Ge=new re(f)),E=Ge.add(x,E,P,ye,se),E.proxy)return E;if(P=Le(),E.proxy=P,P.src=f,P.listener=E,f.addEventListener)B||(Q=ye),Q===void 0&&(Q=!1),f.addEventListener(x.toString(),P,Q);else if(f.attachEvent)f.attachEvent(Ie(x.toString()),P);else if(f.addListener&&f.removeListener)f.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Le(){function f(E){return x.call(f.src,f.listener,E)}const x=vt;return f}function Ve(f,x,E,P,Q){if(Array.isArray(x))for(var se=0;se<x.length;se++)Ve(f,x[se],E,P,Q);else P=h(P)?!!P.capture:!!P,E=Xt(E),f&&f[ke]?(f=f.i,se=String(x).toString(),se in f.g&&(x=f.g[se],E=ge(x,E,P,Q),E>-1&&(G(x[E]),Array.prototype.splice.call(x,E,1),x.length==0&&(delete f.g[se],f.h--)))):f&&(f=mt(f))&&(x=f.g[x.toString()],f=-1,x&&(f=ge(x,E,P,Q)),(E=f>-1?x[f]:null)&&ut(E))}function ut(f){if(typeof f!="number"&&f&&!f.da){var x=f.src;if(x&&x[ke])pe(x.i,f);else{var E=f.type,P=f.proxy;x.removeEventListener?x.removeEventListener(E,P,f.capture):x.detachEvent?x.detachEvent(Ie(E),P):x.addListener&&x.removeListener&&x.removeListener(P),(E=mt(x))?(pe(E,f),E.h==0&&(E.src=null,x[fe]=null)):G(f)}}}function Ie(f){return f in ve?ve[f]:ve[f]="on"+f}function vt(f,x){if(f.da)f=!0;else{x=new xe(x,this);const E=f.listener,P=f.ha||f.src;f.fa&&ut(f),f=E.call(P,x)}return f}function mt(f){return f=f[fe],f instanceof re?f:null}var qt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xt(f){return typeof f=="function"?f:(f[qt]||(f[qt]=function(x){return f.handleEvent(x)}),f[qt])}function Je(){k.call(this),this.i=new re(this),this.M=this,this.G=null}v(Je,k),Je.prototype[ke]=!0,Je.prototype.removeEventListener=function(f,x,E,P){Ve(this,f,x,E,P)};function Pe(f,x){var E,P=f.G;if(P)for(E=[];P;P=P.G)E.push(P);if(f=f.M,P=x.type||x,typeof x=="string")x=new j(x,f);else if(x instanceof j)x.target=x.target||f;else{var Q=x;x=new j(P,f),W(x,Q)}Q=!0;let se,ye;if(E)for(ye=E.length-1;ye>=0;ye--)se=x.g=E[ye],Q=sn(se,P,!0,x)&&Q;if(se=x.g=f,Q=sn(se,P,!0,x)&&Q,Q=sn(se,P,!1,x)&&Q,E)for(ye=0;ye<E.length;ye++)se=x.g=E[ye],Q=sn(se,P,!1,x)&&Q}Je.prototype.N=function(){if(Je.Z.N.call(this),this.i){var f=this.i;for(const x in f.g){const E=f.g[x];for(let P=0;P<E.length;P++)G(E[P]);delete f.g[x],f.h--}}this.G=null},Je.prototype.J=function(f,x,E,P){return this.i.add(String(f),x,!1,E,P)},Je.prototype.K=function(f,x,E,P){return this.i.add(String(f),x,!0,E,P)};function sn(f,x,E,P){if(x=f.i.g[String(x)],!x)return!0;x=x.concat();let Q=!0;for(let se=0;se<x.length;++se){const ye=x[se];if(ye&&!ye.da&&ye.capture==E){const Ge=ye.listener,cn=ye.ha||ye.src;ye.fa&&pe(f.i,ye),Q=Ge.call(cn,P)!==!1&&Q}}return Q&&!P.defaultPrevented}function Di(f,x){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:c.setTimeout(f,x||0)}function Gi(f){f.g=Di(()=>{f.g=null,f.i&&(f.i=!1,Gi(f))},f.l);const x=f.h;f.h=null,f.m.apply(null,x)}class Ot extends k{constructor(x,E){super(),this.m=x,this.l=E,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Gi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hi(f){k.call(this),this.h=f,this.g={}}v(hi,k);var An=[];function $n(f){X(f.g,function(x,E){this.g.hasOwnProperty(E)&&ut(x)},f),f.g={}}hi.prototype.N=function(){hi.Z.N.call(this),$n(this)},hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var an=c.JSON.stringify,di=c.JSON.parse,$i=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function fn(){}function Cn(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){j.call(this,"d")}v(Ht,j);function jn(){j.call(this,"c")}v(jn,j);var kt={},fr=null;function mr(){return fr=fr||new Je}kt.Ia="serverreachability";function $s(f){j.call(this,kt.Ia,f)}v($s,j);function xi(f){const x=mr();Pe(x,new $s(x))}kt.STAT_EVENT="statevent";function pr(f,x){j.call(this,kt.STAT_EVENT,f),this.stat=x}v(pr,j);function Be(f){const x=mr();Pe(x,new pr(x,f))}kt.Ja="timingevent";function lt(f,x){j.call(this,kt.Ja,f),this.size=x}v(lt,j);function pt(f,x){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},x)}function At(){this.g=!0}At.prototype.ua=function(){this.g=!1};function Rn(f,x,E,P,Q,se){f.info(function(){if(f.g)if(se){var ye="",Ge=se.split("&");for(let gt=0;gt<Ge.length;gt++){var cn=Ge[gt].split("=");if(cn.length>1){const zt=cn[0];cn=cn[1];const Wi=zt.split("_");ye=Wi.length>=2&&Wi[1]=="type"?ye+(zt+"="+cn+"&"):ye+(zt+"=redacted&")}}}else ye=null;else ye=se;return"XMLHTTP REQ ("+P+") [attempt "+Q+"]: "+x+`
`+E+`
`+ye})}function Wt(f,x,E,P,Q,se,ye){f.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+Q+"]: "+x+`
`+E+`
`+se+" "+ye})}function Gt(f,x,E,P){f.info(function(){return"XMLHTTP TEXT ("+x+"): "+Xe(f,E)+(P?" "+P:"")})}function mn(f,x){f.info(function(){return"TIMEOUT: "+x})}At.prototype.info=function(){};function Xe(f,x){if(!f.g)return x;if(!x)return null;try{const se=JSON.parse(x);if(se){for(f=0;f<se.length;f++)if(Array.isArray(se[f])){var E=se[f];if(!(E.length<2)){var P=E[1];if(Array.isArray(P)&&!(P.length<1)){var Q=P[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ye=1;ye<P.length;ye++)P[ye]=""}}}}return an(se)}catch{return x}}var Qt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pn;function Nn(){}v(Nn,fn),Nn.prototype.g=function(){return new XMLHttpRequest},pn=new Nn;function on(f){return encodeURIComponent(String(f))}function ti(f){var x=1;f=f.split(":");const E=[];for(;x>0&&f.length;)E.push(f.shift()),x--;return f.length&&E.push(f.join(":")),E}function In(f,x,E,P){this.j=f,this.i=x,this.l=E,this.S=P||1,this.V=new hi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ln}function Ln(){this.i=null,this.g="",this.h=!1}var Jt={},ln={};function _i(f,x,E){f.M=1,f.A=Za(gn(x)),f.u=E,f.R=!0,ls(f,null)}function ls(f,x){f.F=Date.now(),Ki(f),f.B=gn(f.A);var E=f.B,P=f.S;Array.isArray(P)||(P=[String(P)]),Jo(E.i,"t",P),f.C=0,E=f.j.L,f.h=new Ln,f.g=Xh(f.j,E?x:null,!f.u),f.P>0&&(f.O=new Ot(m(f.Y,f,f.g),f.P)),x=f.V,E=f.g,P=f.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(An[0]=Q.toString()),Q=An);for(let se=0;se<Q.length;se++){const ye=_e(E,Q[se],P||x.handleEvent,!1,x.h||x);if(!ye)break;x.g[ye.key]=ye}x=f.J?T(f.J):{},f.u?(f.v||(f.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,x)):(f.v="GET",f.g.ea(f.B,f.v,null,x)),xi(),Rn(f.i,f.v,f.B,f.l,f.S,f.u)}In.prototype.ba=function(f){f=f.target;const x=this.O;x&&vr(f)==3?x.j():this.Y(f)},In.prototype.Y=function(f){try{if(f==this.g)e:{const Ge=vr(this.g),cn=this.g.ya(),gt=this.g.ca();if(!(Ge<3)&&(Ge!=3||this.g&&(this.h.h||this.g.la()||Yn(this.g)))){this.K||Ge!=4||cn==7||(cn==8||gt<=0?xi(3):xi(2)),Un(this);var x=this.g.ca();this.X=x;var E=Ec(this);if(this.o=x==200,Wt(this.i,this.v,this.B,this.l,this.S,Ge,x),this.o){if(this.U&&!this.L){t:{if(this.g){var P,Q=this.g;if((P=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(P)){var se=P;break t}}se=null}if(f=se)Gt(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Mi(this,f);else{this.o=!1,this.m=3,Be(12),ni(this),ki(this);break e}}if(this.R){f=!0;let zt;for(;!this.K&&this.C<E.length;)if(zt=Ja(this,E),zt==ln){Ge==4&&(this.m=4,Be(14),f=!1),Gt(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Jt){this.m=4,Be(15),Gt(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else Gt(this.i,this.l,zt,null),Mi(this,zt);if(Xo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ge!=4||E.length!=0||this.h.h||(this.m=1,Be(16),f=!1),this.o=this.o&&f,!f)Gt(this.i,this.l,E,"[Invalid Chunked Response]"),ni(this),ki(this);else if(E.length>0&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.aa&&!ye.P&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Pc(ye),ye.P=!0,Be(11))}}else Gt(this.i,this.l,E,null),Mi(this,E);Ge==4&&ni(this),this.o&&!this.K&&(Ge==4?Gh(this.j,this):(this.o=!1,Ki(this)))}else us(this.g),x==400&&E.indexOf("Unknown SID")>0?(this.m=3,Be(12)):(this.m=0,Be(13)),ni(this),ki(this)}}}catch{}};function Ec(f){if(!Xo(f))return f.g.la();const x=Yn(f.g);if(x==="")return"";let E="";const P=x.length,Q=vr(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return ni(f),ki(f),"";f.h.i=new c.TextDecoder}for(let se=0;se<P;se++)f.h.h=!0,E+=f.h.i.decode(x[se],{stream:!(Q&&se==P-1)});return x.length=0,f.h.g+=E,f.C=0,f.h.g}function Xo(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Ja(f,x){var E=f.C,P=x.indexOf(`
`,E);return P==-1?ln:(E=Number(x.substring(E,P)),isNaN(E)?Jt:(P+=1,P+E>x.length?ln:(x=x.slice(P,P+E),f.C=P+E,x)))}In.prototype.cancel=function(){this.K=!0,ni(this)};function Ki(f){f.T=Date.now()+f.H,Ks(f,f.H)}function Ks(f,x){if(f.D!=null)throw Error("WatchDog timer not null");f.D=pt(m(f.aa,f),x)}function Un(f){f.D&&(c.clearTimeout(f.D),f.D=null)}In.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(mn(this.i,this.B),this.M!=2&&(xi(),Be(17)),ni(this),this.m=2,ki(this)):Ks(this,this.T-f)};function ki(f){f.j.I==0||f.K||Gh(f.j,f)}function ni(f){Un(f);var x=f.O;x&&typeof x.dispose=="function"&&x.dispose(),f.O=null,$n(f.V),f.g&&(x=f.g,f.g=null,x.abort(),x.dispose())}function Mi(f,x){try{var E=f.j;if(E.I!=0&&(E.g==f||_t(E.h,f))){if(!f.L&&_t(E.h,f)&&E.I==3){try{var P=E.Ba.g.parse(x)}catch{P=null}if(Array.isArray(P)&&P.length==3){var Q=P;if(Q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)il(E),ta(E);else break e;ao(E),Be(18)}}else E.xa=Q[1],0<E.xa-E.K&&Q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=pt(m(E.Va,E),6e3));bt(E.h)<=1&&E.ta&&(E.ta=void 0)}else Fr(E,11)}else if((f.L||E.g==f)&&il(E),!V(x))for(Q=E.Ba.g.parse(x),x=0;x<Q.length;x++){let gt=Q[x];const zt=gt[0];if(!(zt<=E.K))if(E.K=zt,gt=gt[1],E.I==2)if(gt[0]=="c"){E.M=gt[1],E.ba=gt[2];const Wi=gt[3];Wi!=null&&(E.ka=Wi,E.j.info("VER="+E.ka));const qr=gt[4];qr!=null&&(E.za=qr,E.j.info("SVER="+E.za));const br=gt[5];br!=null&&typeof br=="number"&&br>0&&(P=1.5*br,E.O=P,E.j.info("backChannelRequestTimeoutMs_="+P)),P=E;const xr=f.g;if(xr){const oo=xr.g?xr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oo){var se=P.h;se.g||oo.indexOf("spdy")==-1&&oo.indexOf("quic")==-1&&oo.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Ut(se,se.h),se.h=null))}if(P.G){const rl=xr.g?xr.g.getResponseHeader("X-HTTP-Session-Id"):null;rl&&(P.wa=rl,wt(P.J,P.G,rl))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),P=E;var ye=f;if(P.na=Yh(P,P.L?P.ba:null,P.W),ye.L){en(P.h,ye);var Ge=ye,cn=P.O;cn&&(Ge.H=cn),Ge.D&&(Un(Ge),Ki(Ge)),P.g=ye}else qh(P);E.i.length>0&&Br(E)}else gt[0]!="stop"&&gt[0]!="close"||Fr(E,7);else E.I==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?Fr(E,7):kc(E):gt[0]!="noop"&&E.l&&E.l.qa(gt),E.A=0)}}xi(4)}catch{}}var Zt=class{constructor(f,x){this.g=f,this.map=x}};function ne(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Se(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function bt(f){return f.h?1:f.g?f.g.size:0}function _t(f,x){return f.h?f.h==x:f.g?f.g.has(x):!1}function Ut(f,x){f.g?f.g.add(x):f.h=x}function en(f,x){f.h&&f.h==x?f.h=null:f.g&&f.g.has(x)&&f.g.delete(x)}ne.prototype.cancel=function(){if(this.i=Dn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Dn(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let x=f.i;for(const E of f.g.values())x=x.concat(E.G);return x}return A(f.i)}var fi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wo(f,x){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const P=f[E].indexOf("=");let Q,se=null;P>=0?(Q=f[E].substring(0,P),se=f[E].substring(P+1)):Q=f[E],x(Q,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function Pi(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;f instanceof Pi?(this.l=f.l,zn(this,f.j),this.o=f.o,this.g=f.g,Ys(this,f.u),this.h=f.h,Sc(this,Bh(f.i)),this.m=f.m):f&&(x=String(f).match(fi))?(this.l=!1,zn(this,x[1]||"",!0),this.o=jr(x[2]||""),this.g=jr(x[3]||"",!0),Ys(this,x[4]),this.h=jr(x[5]||"",!0),Sc(this,x[6]||"",!0),this.m=jr(x[7]||"")):(this.l=!1,this.i=new Ws(null,this.l))}Pi.prototype.toString=function(){const f=[];var x=this.j;x&&f.push(eo(x,Qo,!0),":");var E=this.g;return(E||x=="file")&&(f.push("//"),(x=this.o)&&f.push(eo(x,Qo,!0),"@"),f.push(on(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(eo(E,E.charAt(0)=="/"?Ac:Lh,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",eo(E,Uh)),f.join("")},Pi.prototype.resolve=function(f){const x=gn(this);let E=!!f.j;E?zn(x,f.j):E=!!f.o,E?x.o=f.o:E=!!f.g,E?x.g=f.g:E=f.u!=null;var P=f.h;if(E)Ys(x,f.u);else if(E=!!f.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var Q=x.h.lastIndexOf("/");Q!=-1&&(P=x.h.slice(0,Q+1)+P)}if(Q=P,Q==".."||Q==".")P="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){P=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const se=[];for(let ye=0;ye<Q.length;){const Ge=Q[ye++];Ge=="."?P&&ye==Q.length&&se.push(""):Ge==".."?((se.length>1||se.length==1&&se[0]!="")&&se.pop(),P&&ye==Q.length&&se.push("")):(se.push(Ge),P=!0)}P=se.join("/")}else P=Q}return E?x.h=P:E=f.i.toString()!=="",E?Sc(x,Bh(f.i)):E=!!f.m,E&&(x.m=f.m),x};function gn(f){return new Pi(f)}function zn(f,x,E){f.j=E?jr(x,!0):x,f.j&&(f.j=f.j.replace(/:$/,""))}function Ys(f,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);f.u=x}else f.u=null}function Sc(f,x,E){x instanceof Ws?(f.i=x,Zo(f.i,f.l)):(E||(x=eo(x,Xs)),f.i=new Ws(x,f.l))}function wt(f,x,E){f.i.set(x,E)}function Za(f){return wt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function jr(f,x){return f?x?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function eo(f,x,E){return typeof f=="string"?(f=encodeURI(f).replace(x,wi),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function wi(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Qo=/[#\/\?@]/g,Lh=/[#\?:]/g,Ac=/[#\?]/g,Xs=/[#\?@]/g,Uh=/#/g;function Ws(f,x){this.h=this.g=null,this.i=f||null,this.j=!!x}function Ti(f){f.g||(f.g=new Map,f.h=0,f.i&&Wo(f.i,function(x,E){f.add(decodeURIComponent(x.replace(/\+/g," ")),E)}))}t=Ws.prototype,t.add=function(f,x){Ti(this),this.i=null,f=Qs(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(x),this.h+=1,this};function zh(f,x){Ti(f),x=Qs(f,x),f.g.has(x)&&(f.i=null,f.h-=f.g.get(x).length,f.g.delete(x))}function Cc(f,x){return Ti(f),x=Qs(f,x),f.g.has(x)}t.forEach=function(f,x){Ti(this),this.g.forEach(function(E,P){E.forEach(function(Q){f.call(x,Q,P,this)},this)},this)};function Rc(f,x){Ti(f);let E=[];if(typeof x=="string")Cc(f,x)&&(E=E.concat(f.g.get(Qs(f,x))));else for(f=Array.from(f.g.values()),x=0;x<f.length;x++)E=E.concat(f[x]);return E}t.set=function(f,x){return Ti(this),this.i=null,f=Qs(this,f),Cc(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[x]),this.h+=1,this},t.get=function(f,x){return f?(f=Rc(this,f),f.length>0?String(f[0]):x):x};function Jo(f,x,E){zh(f,x),E.length>0&&(f.i=null,f.g.set(Qs(f,x),A(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],x=Array.from(this.g.keys());for(let P=0;P<x.length;P++){var E=x[P];const Q=on(E);E=Rc(this,E);for(let se=0;se<E.length;se++){let ye=Q;E[se]!==""&&(ye+="="+on(E[se])),f.push(ye)}}return this.i=f.join("&")};function Bh(f){const x=new Ws;return x.i=f.i,f.g&&(x.g=new Map(f.g),x.h=f.h),x}function Qs(f,x){return x=String(x),f.j&&(x=x.toLowerCase()),x}function Zo(f,x){x&&!f.j&&(Ti(f),f.i=null,f.g.forEach(function(E,P){const Q=P.toLowerCase();P!=Q&&(zh(this,P),Jo(this,Q,E))},f)),f.j=x}function gr(f,x){const E=new At;if(c.Image){const P=new Image;P.onload=g(Yi,E,"TestLoadImage: loaded",!0,x,P),P.onerror=g(Yi,E,"TestLoadImage: error",!1,x,P),P.onabort=g(Yi,E,"TestLoadImage: abort",!1,x,P),P.ontimeout=g(Yi,E,"TestLoadImage: timeout",!1,x,P),c.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=f}else x(!1)}function Nc(f,x){const E=new At,P=new AbortController,Q=setTimeout(()=>{P.abort(),Yi(E,"TestPingServer: timeout",!1,x)},1e4);fetch(f,{signal:P.signal}).then(se=>{clearTimeout(Q),se.ok?Yi(E,"TestPingServer: ok",!0,x):Yi(E,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Q),Yi(E,"TestPingServer: error",!1,x)})}function Yi(f,x,E,P,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),P(E)}catch{}}function Js(){this.g=new $i}function Lr(f){this.i=f.Sb||null,this.h=f.ab||!1}v(Lr,fn),Lr.prototype.g=function(){return new to(this.i,this.h)};function to(f,x){Je.call(this),this.H=f,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(to,Je),t=to.prototype,t.open=function(f,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=x,this.readyState=1,yr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(x.body=f),(this.H||c).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zs(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,yr(this)),this.g&&(this.readyState=3,yr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;el(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function el(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var x=f.value?f.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!f.done}))&&(this.response=this.responseText+=x)}f.done?Zs(this):yr(this),this.readyState==3&&el(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,Zs(this))},t.Na=function(f){this.g&&(this.response=f,Zs(this))},t.ga=function(){this.g&&Zs(this)};function Zs(f){f.readyState=4,f.l=null,f.j=null,f.B=null,yr(f)}t.setRequestHeader=function(f,x){this.A.append(f,x)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],x=this.h.entries();for(var E=x.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=x.next();return f.join(`\r
`)};function yr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(to.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Xi(f){let x="";return X(f,function(E,P){x+=P,x+=":",x+=E,x+=`\r
`}),x}function no(f,x,E){e:{for(P in E){var P=!1;break e}P=!0}P||(E=Xi(E),typeof f=="string"?E!=null&&on(E):wt(f,x,E))}function Ct(f){Je.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Ct,Je);var Ur=/^https?$/i,Ic=["POST","PUT"];t=Ct.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,x,E,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);x=x?x.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pn.g(),this.g.onreadystatechange=_(m(this.Ca,this));try{this.B=!0,this.g.open(x,String(f),!0),this.B=!1}catch(se){io(this,se);return}if(f=E||"",E=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var Q in P)E.set(Q,P[Q]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const se of P.keys())E.set(se,P.get(se));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(E.keys()).find(se=>se.toLowerCase()=="content-type"),Q=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(Ic,x,void 0)>=0)||P||Q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,ye]of E)this.g.setRequestHeader(se,ye);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(se){io(this,se)}};function io(f,x){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=x,f.o=5,Dc(f),cs(f)}function Dc(f){f.A||(f.A=!0,Pe(f,"complete"),Pe(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Pe(this,"complete"),Pe(this,"abort"),cs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cs(this,!0)),Ct.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ro(this):this.Xa())},t.Xa=function(){ro(this)};function ro(f){if(f.h&&typeof l<"u"){if(f.v&&vr(f)==4)setTimeout(f.Ca.bind(f),0);else if(Pe(f,"readystatechange"),vr(f)==4){f.h=!1;try{const se=f.ca();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var E;if(!(E=x)){var P;if(P=se===0){let ye=String(f.D).match(fi)[1]||null;!ye&&c.self&&c.self.location&&(ye=c.self.location.protocol.slice(0,-1)),P=!Ur.test(ye?ye.toLowerCase():"")}E=P}if(E)Pe(f,"complete"),Pe(f,"success");else{f.o=6;try{var Q=vr(f)>2?f.g.statusText:""}catch{Q=""}f.l=Q+" ["+f.ca()+"]",Dc(f)}}finally{cs(f)}}}}function cs(f,x){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,x||Pe(f,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function vr(f){return f.g?f.g.readyState:0}t.ca=function(){try{return vr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var x=this.g.responseText;return f&&x.indexOf(f)==0&&(x=x.substring(f.length)),di(x)}};function Yn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function us(f){const x={};f=(f.g&&vr(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<f.length;P++){if(V(f[P]))continue;var E=ti(f[P]);const Q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const se=x[Q]||[];x[Q]=se,se.push(E)}L(x,function(P){return P.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zr(f,x,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||x}function ea(f){this.za=0,this.i=[],this.j=new At,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zr("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zr("baseRetryDelayMs",5e3,f),this.Za=zr("retryDelaySeedMs",1e4,f),this.Ta=zr("forwardChannelMaxRetries",2,f),this.va=zr("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new ne(f&&f.concurrentRequestLimit),this.Ba=new Js,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ea.prototype,t.ka=8,t.I=1,t.connect=function(f,x,E,P){Be(0),this.W=f,this.H=x||{},E&&P!==void 0&&(this.H.OSID=E,this.H.OAID=P),this.F=this.X,this.J=Yh(this,null,this.W),Br(this)};function kc(f){if(tl(f),f.I==3){var x=f.V++,E=gn(f.J);if(wt(E,"SID",f.M),wt(E,"RID",x),wt(E,"TYPE","terminate"),so(f,E),x=new In(f,f.j,x),x.M=2,x.A=Za(gn(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(x.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=x.A,E=!0),E||(x.g=Xh(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Ki(x)}Kh(f)}function ta(f){f.g&&(Pc(f),f.g.cancel(),f.g=null)}function tl(f){ta(f),f.v&&(c.clearTimeout(f.v),f.v=null),il(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function Br(f){if(!Se(f.h)&&!f.m){f.m=!0;var x=f.Ea;te||C(),le||(te(),le=!0),I.add(x,f),f.D=0}}function nl(f,x){return bt(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=x.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=pt(m(f.Ea,f,x),$h(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Q=new In(this,this.j,f);let se=this.o;if(this.U&&(se?(se=T(se),W(se,this.U)):se=this.U),this.u!==null||this.R||(Q.J=se,se=null),this.S)e:{for(var x=0,E=0;E<this.i.length;E++){t:{var P=this.i[E];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(x+=P,x>4096){x=E;break e}if(x===4096||E===this.i.length-1){x=E+1;break e}}x=1e3}else x=1e3;x=Fh(this,Q,x),E=gn(this.J),wt(E,"RID",f),wt(E,"CVER",22),this.G&&wt(E,"X-HTTP-Session-Id",this.G),so(this,E),se&&(this.R?x="headers="+on(Xi(se))+"&"+x:this.u&&no(E,this.u,se)),Ut(this.h,Q),this.Ra&&wt(E,"TYPE","init"),this.S?(wt(E,"$req",x),wt(E,"SID","null"),Q.U=!0,_i(Q,E,null)):_i(Q,E,x),this.I=2}}else this.I==3&&(f?Mc(this,f):this.i.length==0||Se(this.h)||Mc(this))};function Mc(f,x){var E;x?E=x.l:E=f.V++;const P=gn(f.J);wt(P,"SID",f.M),wt(P,"RID",E),wt(P,"AID",f.K),so(f,P),f.u&&f.o&&no(P,f.u,f.o),E=new In(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),x&&(f.i=x.G.concat(f.i)),x=Fh(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Ut(f.h,E),_i(E,P,x)}function so(f,x){f.H&&X(f.H,function(E,P){wt(x,P,E)}),f.l&&X({},function(E,P){wt(x,P,E)})}function Fh(f,x,E){E=Math.min(f.i.length,E);const P=f.l?m(f.l.Ka,f.l,f):null;e:{var Q=f.i;let Ge=-1;for(;;){const cn=["count="+E];Ge==-1?E>0?(Ge=Q[0].g,cn.push("ofs="+Ge)):Ge=0:cn.push("ofs="+Ge);let gt=!0;for(let zt=0;zt<E;zt++){var se=Q[zt].g;const Wi=Q[zt].map;if(se-=Ge,se<0)Ge=Math.max(0,Q[zt].g-100),gt=!1;else try{se="req"+se+"_"||"";try{var ye=Wi instanceof Map?Wi:Object.entries(Wi);for(const[qr,br]of ye){let xr=br;h(br)&&(xr=an(br)),cn.push(se+qr+"="+encodeURIComponent(xr))}}catch(qr){throw cn.push(se+"type="+encodeURIComponent("_badmap")),qr}}catch{P&&P(Wi)}}if(gt){ye=cn.join("&");break e}}ye=void 0}return f=f.i.splice(0,E),x.G=f,ye}function qh(f){if(!f.g&&!f.v){f.Y=1;var x=f.Da;te||C(),le||(te(),le=!0),I.add(x,f),f.A=0}}function ao(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=pt(m(f.Da,f),$h(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,Hh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=pt(m(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Be(10),ta(this),Hh(this))};function Pc(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function Hh(f){f.g=new In(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var x=gn(f.na);wt(x,"RID","rpc"),wt(x,"SID",f.M),wt(x,"AID",f.K),wt(x,"CI",f.F?"0":"1"),!f.F&&f.ia&&wt(x,"TO",f.ia),wt(x,"TYPE","xmlhttp"),so(f,x),f.u&&f.o&&no(x,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=Za(gn(x)),E.u=null,E.R=!0,ls(E,f)}t.Va=function(){this.C!=null&&(this.C=null,ta(this),ao(this),Be(19))};function il(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Gh(f,x){var E=null;if(f.g==x){il(f),Pc(f),f.g=null;var P=2}else if(_t(f.h,x))E=x.G,en(f.h,x),P=1;else return;if(f.I!=0){if(x.o)if(P==1){E=x.u?x.u.length:0,x=Date.now()-x.F;var Q=f.D;P=mr(),Pe(P,new lt(P,E)),Br(f)}else qh(f);else if(Q=x.m,Q==3||Q==0&&x.X>0||!(P==1&&nl(f,x)||P==2&&ao(f)))switch(E&&E.length>0&&(x=f.h,x.i=x.i.concat(E)),Q){case 1:Fr(f,5);break;case 4:Fr(f,10);break;case 3:Fr(f,6);break;default:Fr(f,2)}}}function $h(f,x){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*x}function Fr(f,x){if(f.j.info("Error code "+x),x==2){var E=m(f.bb,f),P=f.Ua;const Q=!P;P=new Pi(P||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||zn(P,"https"),Za(P),Q?gr(P.toString(),E):Nc(P.toString(),E)}else Be(2);f.I=0,f.l&&f.l.pa(x),Kh(f),tl(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Be(2)):(this.j.info("Failed to ping google.com"),Be(1))};function Kh(f){if(f.I=0,f.ja=[],f.l){const x=Dn(f.h);(x.length!=0||f.i.length!=0)&&(M(f.ja,x),M(f.ja,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.oa()}}function Yh(f,x,E){var P=E instanceof Pi?gn(E):new Pi(E);if(P.g!="")x&&(P.g=x+"."+P.g),Ys(P,P.u);else{var Q=c.location;P=Q.protocol,x=x?x+"."+Q.hostname:Q.hostname,Q=+Q.port;const se=new Pi(null);P&&zn(se,P),x&&(se.g=x),Q&&Ys(se,Q),E&&(se.h=E),P=se}return E=f.G,x=f.wa,E&&x&&wt(P,E,x),wt(P,"VER",f.ka),so(f,P),P}function Xh(f,x,E){if(x&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=f.Aa&&!f.ma?new Ct(new Lr({ab:E})):new Ct(f.ma),x.Fa(f.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wh(){}t=Wh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function na(){}na.prototype.g=function(f,x){return new mi(f,x)};function mi(f,x){Je.call(this),this.g=new ea(x),this.l=f,this.h=x&&x.messageUrlParams||null,f=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(f?f["X-WebChannel-Content-Type"]=x.messageContentType:f={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(f?f["X-WebChannel-Client-Profile"]=x.sa:f={"X-WebChannel-Client-Profile":x.sa}),this.g.U=f,(f=x&&x.Qb)&&!V(f)&&(this.g.u=f),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!V(x)&&(this.g.G=x,f=this.h,f!==null&&x in f&&(f=this.h,x in f&&delete f[x])),this.j=new hs(this)}v(mi,Je),mi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mi.prototype.close=function(){kc(this.g)},mi.prototype.o=function(f){var x=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=an(f),f=E);x.i.push(new Zt(x.Ya++,f)),x.I==3&&Br(x)},mi.prototype.N=function(){this.g.l=null,delete this.j,kc(this.g),delete this.g,mi.Z.N.call(this)};function Qh(f){Ht.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var x=f.__sm__;if(x){e:{for(const E in x){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,x=x!==null&&f in x?x[f]:void 0),this.data=x}else this.data=f}v(Qh,Ht);function Jh(){jn.call(this),this.status=1}v(Jh,jn);function hs(f){this.g=f}v(hs,Wh),hs.prototype.ra=function(){Pe(this.g,"a")},hs.prototype.qa=function(f){Pe(this.g,new Qh(f))},hs.prototype.pa=function(f){Pe(this.g,new Jh)},hs.prototype.oa=function(){Pe(this.g,"b")},na.prototype.createWebChannel=na.prototype.g,mi.prototype.send=mi.prototype.o,mi.prototype.open=mi.prototype.m,mi.prototype.close=mi.prototype.close,CC=function(){return new na},AC=function(){return mr()},SC=kt,hv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Qt.NO_ERROR=0,Qt.TIMEOUT=8,Qt.HTTP_ERROR=6,Rf=Qt,Mt.COMPLETE="complete",EC=Mt,Cn.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",Je.prototype.listen=Je.prototype.J,Au=Cn,Ct.prototype.listenOnce=Ct.prototype.K,Ct.prototype.getLastError=Ct.prototype.Ha,Ct.prototype.getLastErrorCode=Ct.prototype.ya,Ct.prototype.getStatus=Ct.prototype.ca,Ct.prototype.getResponseJson=Ct.prototype.La,Ct.prototype.getResponseText=Ct.prototype.la,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Fa,TC=Ct}).apply(typeof sf<"u"?sf:typeof self<"u"?self:typeof window<"u"?window:{});let ai=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ai.UNAUTHENTICATED=new ai(null),ai.GOOGLE_CREDENTIALS=new ai("google-credentials-uid"),ai.FIRST_PARTY=new ai("first-party-uid"),ai.MOCK_USER=new ai("mock-user");let dc="12.8.0";function VV(t){dc=t}const Bo=new d0("@firebase/firestore");function Vl(){return Bo.logLevel}function we(t,...e){if(Bo.logLevel<=tt.DEBUG){const n=e.map(C0);Bo.debug(`Firestore (${dc}): ${t}`,...n)}}function Fs(t,...e){if(Bo.logLevel<=tt.ERROR){const n=e.map(C0);Bo.error(`Firestore (${dc}): ${t}`,...n)}}function Fo(t,...e){if(Bo.logLevel<=tt.WARN){const n=e.map(C0);Bo.warn(`Firestore (${dc}): ${t}`,...n)}}function C0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function je(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,RC(t,r,n)}function RC(t,e,n){let r=`FIRESTORE (${dc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Fs(r),new Error(r)}function xt(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||RC(e,a,r)}function He(t,e){return t}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends as{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Os{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class NC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ai.UNAUTHENTICATED)))}shutdown(){}}class jV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class LV{constructor(e){this.t=e,this.currentUser=ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xt(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let l=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Os,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const d=l;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Os)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt(typeof r.accessToken=="string",31837,{l:r}),new NC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xt(e===null||typeof e=="string",2055,{h:e}),new ai(e)}}class UV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ai.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class zV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new UV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ai.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,or(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xt(this.o===void 0,3512);const r=l=>{l.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,we("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new sT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(xt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new sT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function FV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Um{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=FV(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=e.charAt(a[l]%62))}return r}}function nt(t,e){return t<e?-1:t>e?1:0}function dv(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),l=e.charAt(r);if(a!==l)return Sy(a)===Sy(l)?nt(a,l):Sy(a)?1:-1}return nt(t.length,e.length)}const qV=55296,HV=57343;function Sy(t){const e=t.charCodeAt(0);return e>=qV&&e<=HV}function tc(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}const aT="__name__";class Yr{constructor(e,n,r){n===void 0?n=0:n>e.length&&je(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&je(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Yr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yr?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=Yr.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return nt(e.length,n.length)}static compareSegments(e,n){const r=Yr.isNumericId(e),a=Yr.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Yr.extractNumericId(e).compare(Yr.extractNumericId(n)):dv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ma.fromString(e.substring(4,e.length-2))}}class Pt extends Yr{construct(e,n,r){return new Pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Pt(n)}static emptyPath(){return new Pt([])}}const GV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hn extends Yr{construct(e,n,r){return new Hn(e,n,r)}static isValidIdentifier(e){return GV.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===aT}static keyField(){return new Hn([aT])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new be(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new be(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new be(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(r+=h,a++):(l(),a++)}if(l(),c)throw new be(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hn(n)}static emptyPath(){return new Hn([])}}class De{constructor(e){this.path=e}static fromPath(e){return new De(Pt.fromString(e))}static fromName(e){return new De(Pt.fromString(e).popFirst(5))}static empty(){return new De(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Pt(e.slice()))}}function DC(t,e,n){if(!n)throw new be(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kC(t,e,n,r){if(e===!0&&r===!0)throw new be(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function oT(t){if(!De.isDocumentKey(t))throw new be(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lT(t){if(De.isDocumentKey(t))throw new be(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function MC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function zm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":je(12329,{type:typeof t})}function vi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zm(t);throw new be(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function En(t,e){const n={typeString:t};return e&&(n.value=e),n}function vh(t,e){if(!MC(t))throw new be(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(a&&typeof c!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${r}' field to equal '${l.value}'`;break}}if(n)throw new be(de.INVALID_ARGUMENT,n);return!0}const cT=-62135596800,uT=1e6;class qe{static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*uT);return new qe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<cT)throw new be(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uT}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vh(e,qe._jsonSchema))return new qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-cT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qe._jsonSchemaVersion="firestore/timestamp/1.0",qe._jsonSchema={type:En("string",qe._jsonSchemaVersion),seconds:En("number"),nanoseconds:En("number")};class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new qe(0,0))}static max(){return new ze(new qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Xu=-1;function $V(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=ze.fromTimestamp(r===1e9?new qe(n+1,0):new qe(n,r));return new La(a,De.empty(),e)}function KV(t){return new La(t.readTime,t.key,Xu)}class La{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new La(ze.min(),De.empty(),Xu)}static max(){return new La(ze.max(),De.empty(),Xu)}}function YV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:nt(t.largestBatchId,e.largestBatchId))}const XV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function fc(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==XV)throw t;we("LocalStore","Unexpectedly lost primary lease")}class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new me(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof me?n:me.resolve(n)}catch(n){return me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):me.reject(n)}static resolve(e){return new me(((n,r)=>{n(e)}))}static reject(e){return new me(((n,r)=>{r(e)}))}static waitFor(e){return new me(((n,r)=>{let a=0,l=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++l,c&&l===a&&n()}),(d=>r(d)))})),c=!0,l===a&&n()}))}static or(e){let n=me.resolve(!1);for(const r of e)n=n.next((a=>a?me.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,l)=>{r.push(n.call(this,a,l))})),this.waitFor(r)}static mapArray(e,n){return new me(((r,a)=>{const l=e.length,c=new Array(l);let h=0;for(let d=0;d<l;d++){const m=d;n(e[m]).next((g=>{c[m]=g,++h,h===l&&r(c)}),(g=>a(g)))}}))}static doWhile(e,n){return new me(((r,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):r()};l()}))}}function QV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function mc(t){return t.name==="IndexedDbTransactionError"}class Bm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Bm.ce=-1;const R0=-1;function Fm(t){return t==null}function Xf(t){return t===0&&1/t==-1/0}function JV(t){return typeof t=="number"&&Number.isInteger(t)&&!Xf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const PC="";function ZV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=hT(e)),e=e5(t.get(n),e);return hT(e)}function e5(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case PC:n+="";break;default:n+=l}}return n}function hT(t){return t+PC+""}function dT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ka(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function OC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Yt{constructor(e,n){this.comparator=e,this.root=n||ei.EMPTY}insert(e,n){return new Yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ei.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ei.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new af(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new af(this.root,e,this.comparator,!1)}getReverseIterator(){return new af(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new af(this.root,e,this.comparator,!0)}}class af{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ei{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??ei.RED,this.left=a??ei.EMPTY,this.right=l??ei.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new ei(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ei.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return ei.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ei.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ei.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw je(27949);return e+(this.isRed()?0:1)}}ei.EMPTY=null,ei.RED=!0,ei.BLACK=!1;ei.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(e,n,r,a,l){return this}insert(e,n,r){return new ei(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vn{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fT(this.data.getIterator())}getIteratorFrom(e){return new fT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Vn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vn(this.comparator);return n.data=e,n}}class fT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qi{constructor(e){this.fields=e,e.sort(Hn.comparator)}static empty(){return new qi([])}unionWith(e){let n=new Vn(Hn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class VC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Gn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new VC("Invalid base64 string: "+l):l}})(e);return new Gn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new Gn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gn.EMPTY_BYTE_STRING=new Gn("");const t5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ua(t){if(xt(!!t,39018),typeof t=="string"){let e=0;const n=t5.exec(t);if(xt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dn(t.seconds),nanos:dn(t.nanos)}}function dn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function za(t){return typeof t=="string"?Gn.fromBase64String(t):Gn.fromUint8Array(t)}const jC="server_timestamp",LC="__type__",UC="__previous_value__",zC="__local_write_time__";function N0(t){return(t?.mapValue?.fields||{})[LC]?.stringValue===jC}function qm(t){const e=t.mapValue.fields[UC];return N0(e)?qm(e):e}function Wu(t){const e=Ua(t.mapValue.fields[zC].timestampValue);return new qe(e.seconds,e.nanos)}class n5{constructor(e,n,r,a,l,c,h,d,m,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=g,this.apiKey=v}}const Wf="(default)";class nc{constructor(e,n){this.projectId=e,this.database=n||Wf}static empty(){return new nc("","")}get isDefaultDatabase(){return this.database===Wf}isEqual(e){return e instanceof nc&&e.projectId===this.projectId&&e.database===this.database}}function i5(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new be(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nc(t.options.projectId,e)}const BC="__type__",r5="__max__",of={mapValue:{}},FC="__vector__",Qf="value";function Ba(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?N0(t)?4:a5(t)?9007199254740991:s5(t)?10:11:je(28295,{value:t})}function ns(t,e){if(t===e)return!0;const n=Ba(t);if(n!==Ba(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wu(t).isEqual(Wu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ua(a.timestampValue),h=Ua(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return za(a.bytesValue).isEqual(za(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return dn(a.geoPointValue.latitude)===dn(l.geoPointValue.latitude)&&dn(a.geoPointValue.longitude)===dn(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return dn(a.integerValue)===dn(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=dn(a.doubleValue),h=dn(l.doubleValue);return c===h?Xf(c)===Xf(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return tc(t.arrayValue.values||[],e.arrayValue.values||[],ns);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(dT(c)!==dT(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!ns(c[d],h[d])))return!1;return!0})(t,e);default:return je(52216,{left:t})}}function Qu(t,e){return(t.values||[]).find((n=>ns(n,e)))!==void 0}function ic(t,e){if(t===e)return 0;const n=Ba(t),r=Ba(e);if(n!==r)return nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=dn(l.integerValue||l.doubleValue),d=dn(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return mT(t.timestampValue,e.timestampValue);case 4:return mT(Wu(t),Wu(e));case 5:return dv(t.stringValue,e.stringValue);case 6:return(function(l,c){const h=za(l),d=za(c);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),d=c.split("/");for(let m=0;m<h.length&&m<d.length;m++){const g=nt(h[m],d[m]);if(g!==0)return g}return nt(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=nt(dn(l.latitude),dn(c.latitude));return h!==0?h:nt(dn(l.longitude),dn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return pT(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const h=l.fields||{},d=c.fields||{},m=h[Qf]?.arrayValue,g=d[Qf]?.arrayValue,v=nt(m?.values?.length||0,g?.values?.length||0);return v!==0?v:pT(m,g)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===of.mapValue&&c===of.mapValue)return 0;if(l===of.mapValue)return 1;if(c===of.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),m=c.fields||{},g=Object.keys(m);d.sort(),g.sort();for(let v=0;v<d.length&&v<g.length;++v){const _=dv(d[v],g[v]);if(_!==0)return _;const A=ic(h[d[v]],m[g[v]]);if(A!==0)return A}return nt(d.length,g.length)})(t.mapValue,e.mapValue);default:throw je(23264,{he:n})}}function mT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nt(t,e);const n=Ua(t),r=Ua(e),a=nt(n.seconds,r.seconds);return a!==0?a:nt(n.nanos,r.nanos)}function pT(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=ic(n[a],r[a]);if(l)return l}return nt(n.length,r.length)}function rc(t){return fv(t)}function fv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ua(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return za(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return De.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=fv(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${fv(n.fields[c])}`;return a+"}"})(t.mapValue):je(61005,{value:t})}function Nf(t){switch(Ba(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qm(t);return e?16+Nf(e):16;case 5:return 2*t.stringValue.length;case 6:return za(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+Nf(l)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return Ka(r.fields,((l,c)=>{a+=l.length+Nf(c)})),a})(t.mapValue);default:throw je(13486,{value:t})}}function gT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function mv(t){return!!t&&"integerValue"in t}function I0(t){return!!t&&"arrayValue"in t}function yT(t){return!!t&&"nullValue"in t}function vT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function If(t){return!!t&&"mapValue"in t}function s5(t){return(t?.mapValue?.fields||{})[BC]?.stringValue===FC}function Mu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ka(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Mu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mu(t.arrayValue.values[n]);return e}return{...t}}function a5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===r5}class Ii{constructor(e){this.value=e}static empty(){return new Ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!If(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mu(n)}setAll(e){let n=Hn.emptyPath(),r={},a=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=h.popLast()}c?r[h.lastSegment()]=Mu(c):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());If(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ns(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];If(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){Ka(n,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new Ii(Mu(this.value))}}function qC(t){const e=[];return Ka(t.fields,((n,r)=>{const a=new Hn([n]);if(If(r)){const l=qC(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new qi(e)}class li{constructor(e,n,r,a,l,c,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new li(e,0,ze.min(),ze.min(),ze.min(),Ii.empty(),0)}static newFoundDocument(e,n,r,a){return new li(e,1,n,ze.min(),r,a,0)}static newNoDocument(e,n){return new li(e,2,n,ze.min(),ze.min(),Ii.empty(),0)}static newUnknownDocument(e,n){return new li(e,3,n,ze.min(),ze.min(),Ii.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof li&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new li(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jf{constructor(e,n){this.position=e,this.inclusive=n}}function bT(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?r=De.comparator(De.fromName(c.referenceValue),n.key):r=ic(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function xT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ns(t.position[n],e.position[n]))return!1;return!0}class Zf{constructor(e,n="asc"){this.field=e,this.dir=n}}function o5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class HC{}class Tn extends HC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new c5(e,n,r):n==="array-contains"?new d5(e,r):n==="in"?new f5(e,r):n==="not-in"?new m5(e,r):n==="array-contains-any"?new p5(e,r):new Tn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new u5(e,r):new h5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ic(n,this.value)):n!==null&&Ba(this.value)===Ba(n)&&this.matchesComparison(ic(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mr extends HC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Mr(e,n)}matches(e){return GC(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function GC(t){return t.op==="and"}function $C(t){return l5(t)&&GC(t)}function l5(t){for(const e of t.filters)if(e instanceof Mr)return!1;return!0}function pv(t){if(t instanceof Tn)return t.field.canonicalString()+t.op.toString()+rc(t.value);if($C(t))return t.filters.map((e=>pv(e))).join(",");{const e=t.filters.map((n=>pv(n))).join(",");return`${t.op}(${e})`}}function KC(t,e){return t instanceof Tn?(function(r,a){return a instanceof Tn&&r.op===a.op&&r.field.isEqual(a.field)&&ns(r.value,a.value)})(t,e):t instanceof Mr?(function(r,a){return a instanceof Mr&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,c,h)=>l&&KC(c,a.filters[h])),!0):!1})(t,e):void je(19439)}function YC(t){return t instanceof Tn?(function(n){return`${n.field.canonicalString()} ${n.op} ${rc(n.value)}`})(t):t instanceof Mr?(function(n){return n.op.toString()+" {"+n.getFilters().map(YC).join(" ,")+"}"})(t):"Filter"}class c5 extends Tn{constructor(e,n,r){super(e,n,r),this.key=De.fromName(r.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class u5 extends Tn{constructor(e,n){super(e,"in",n),this.keys=XC("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class h5 extends Tn{constructor(e,n){super(e,"not-in",n),this.keys=XC("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function XC(t,e){return(e.arrayValue?.values||[]).map((n=>De.fromName(n.referenceValue)))}class d5 extends Tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return I0(n)&&Qu(n.arrayValue,this.value)}}class f5 extends Tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qu(this.value.arrayValue,n)}}class m5 extends Tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Qu(this.value.arrayValue,n)}}class p5 extends Tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!I0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Qu(this.value.arrayValue,r)))}}class g5{constructor(e,n=null,r=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function _T(t,e=null,n=[],r=[],a=null,l=null,c=null){return new g5(t,e,n,r,a,l,c)}function D0(t){const e=He(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>pv(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Fm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>rc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>rc(r))).join(",")),e.Te=n}return e.Te}function k0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!o5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!KC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xT(t.startAt,e.startAt)&&xT(t.endAt,e.endAt)}function gv(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class bh{constructor(e,n=null,r=[],a=[],l=null,c="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function y5(t,e,n,r,a,l,c,h){return new bh(t,e,n,r,a,l,c,h)}function Hm(t){return new bh(t)}function wT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function v5(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function WC(t){return t.collectionGroup!==null}function Pu(t){const e=He(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Vn(Hn.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Zf(l,r))})),n.has(Hn.keyField().canonicalString())||e.Ie.push(new Zf(Hn.keyField(),r))}return e.Ie}function Jr(t){const e=He(t);return e.Ee||(e.Ee=b5(e,Pu(t))),e.Ee}function b5(t,e){if(t.limitType==="F")return _T(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Zf(a.field,l)}));const n=t.endAt?new Jf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Jf(t.startAt.position,t.startAt.inclusive):null;return _T(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function yv(t,e){const n=t.filters.concat([e]);return new bh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vv(t,e,n){return new bh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gm(t,e){return k0(Jr(t),Jr(e))&&t.limitType===e.limitType}function QC(t){return`${D0(Jr(t))}|lt:${t.limitType}`}function jl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>YC(a))).join(", ")}]`),Fm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>rc(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>rc(a))).join(",")),`Target(${r})`})(Jr(t))}; limitType=${t.limitType})`}function $m(t,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):De.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,a){for(const l of Pu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(c,h,d){const m=bT(c,h,d);return c.inclusive?m<=0:m<0})(r.startAt,Pu(r),a)||r.endAt&&!(function(c,h,d){const m=bT(c,h,d);return c.inclusive?m>=0:m>0})(r.endAt,Pu(r),a))})(t,e)}function x5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function JC(t){return(e,n)=>{let r=!1;for(const a of Pu(t)){const l=_5(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function _5(t,e,n){const r=t.field.isKeyField()?De.comparator(e.key,n.key):(function(l,c,h){const d=c.data.field(l),m=h.data.field(l);return d!==null&&m!==null?ic(d,m):je(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return je(19790,{direction:t.dir})}}class Ko{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ka(this.inner,((n,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return OC(this.inner)}size(){return this.innerSize}}const w5=new Yt(De.comparator);function qs(){return w5}const ZC=new Yt(De.comparator);function Cu(...t){let e=ZC;for(const n of t)e=e.insert(n.key,n);return e}function eR(t){let e=ZC;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Mo(){return Ou()}function tR(){return Ou()}function Ou(){return new Ko((t=>t.toString()),((t,e)=>t.isEqual(e)))}const T5=new Yt(De.comparator),E5=new Vn(De.comparator);function it(...t){let e=E5;for(const n of t)e=e.add(n);return e}const S5=new Vn(nt);function A5(){return S5}function M0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xf(e)?"-0":e}}function nR(t){return{integerValue:""+t}}function C5(t,e){return JV(e)?nR(e):M0(t,e)}class Km{constructor(){this._=void 0}}function R5(t,e,n){return t instanceof em?(function(a,l){const c={fields:{[LC]:{stringValue:jC},[zC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&N0(l)&&(l=qm(l)),l&&(c.fields[UC]=l),{mapValue:c}})(n,e):t instanceof Ju?rR(t,e):t instanceof Zu?sR(t,e):(function(a,l){const c=iR(a,l),h=TT(c)+TT(a.Ae);return mv(c)&&mv(a.Ae)?nR(h):M0(a.serializer,h)})(t,e)}function N5(t,e,n){return t instanceof Ju?rR(t,e):t instanceof Zu?sR(t,e):n}function iR(t,e){return t instanceof tm?(function(r){return mv(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class em extends Km{}class Ju extends Km{constructor(e){super(),this.elements=e}}function rR(t,e){const n=aR(e);for(const r of t.elements)n.some((a=>ns(a,r)))||n.push(r);return{arrayValue:{values:n}}}class Zu extends Km{constructor(e){super(),this.elements=e}}function sR(t,e){let n=aR(e);for(const r of t.elements)n=n.filter((a=>!ns(a,r)));return{arrayValue:{values:n}}}class tm extends Km{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function TT(t){return dn(t.integerValue||t.doubleValue)}function aR(t){return I0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function I5(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof Ju&&a instanceof Ju||r instanceof Zu&&a instanceof Zu?tc(r.elements,a.elements,ns):r instanceof tm&&a instanceof tm?ns(r.Ae,a.Ae):r instanceof em&&a instanceof em})(t.transform,e.transform)}class D5{constructor(e,n){this.version=e,this.transformResults=n}}class cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Df(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ym{}function oR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new P0(t.key,cr.none()):new xh(t.key,t.data,cr.none());{const n=t.data,r=Ii.empty();let a=new Vn(Hn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Ya(t.key,r,new qi(a.toArray()),cr.none())}}function k5(t,e,n){t instanceof xh?(function(a,l,c){const h=a.value.clone(),d=ST(a.fieldTransforms,l,c.transformResults);h.setAll(d),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Ya?(function(a,l,c){if(!Df(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=ST(a.fieldTransforms,l,c.transformResults),d=l.data;d.setAll(lR(a)),d.setAll(h),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Vu(t,e,n,r){return t instanceof xh?(function(l,c,h,d){if(!Df(l.precondition,c))return h;const m=l.value.clone(),g=AT(l.fieldTransforms,d,c);return m.setAll(g),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ya?(function(l,c,h,d){if(!Df(l.precondition,c))return h;const m=AT(l.fieldTransforms,d,c),g=c.data;return g.setAll(lR(l)),g.setAll(m),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(l,c,h){return Df(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function M5(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=iR(r.transform,a||null);l!=null&&(n===null&&(n=Ii.empty()),n.set(r.field,l))}return n||null}function ET(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&tc(r,a,((l,c)=>I5(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xh extends Ym{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ya extends Ym{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function lR(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function ST(t,e,n){const r=new Map;xt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,h=e.data.field(l.field);r.set(l.field,N5(c,h,n[a]))}return r}function AT(t,e,n){const r=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);r.set(a.field,R5(l,c,e))}return r}class P0 extends Ym{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class P5 extends Ym{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class O5{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&k5(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tR();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(a.key)?null:h;const d=oR(c,h);d!==null&&r.set(a.key,d),c.isValidDocument()||c.convertToNoDocument(ze.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),it())}isEqual(e){return this.batchId===e.batchId&&tc(this.mutations,e.mutations,((n,r)=>ET(n,r)))&&tc(this.baseMutations,e.baseMutations,((n,r)=>ET(n,r)))}}class O0{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){xt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return T5})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new O0(e,n,r,a)}}class V5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class j5{constructor(e,n){this.count=e,this.unchangedNames=n}}var _n,ct;function L5(t){switch(t){case de.OK:return je(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return je(15467,{code:t})}}function cR(t){if(t===void 0)return Fs("GRPC error has no .code"),de.UNKNOWN;switch(t){case _n.OK:return de.OK;case _n.CANCELLED:return de.CANCELLED;case _n.UNKNOWN:return de.UNKNOWN;case _n.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case _n.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case _n.INTERNAL:return de.INTERNAL;case _n.UNAVAILABLE:return de.UNAVAILABLE;case _n.UNAUTHENTICATED:return de.UNAUTHENTICATED;case _n.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case _n.NOT_FOUND:return de.NOT_FOUND;case _n.ALREADY_EXISTS:return de.ALREADY_EXISTS;case _n.PERMISSION_DENIED:return de.PERMISSION_DENIED;case _n.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case _n.ABORTED:return de.ABORTED;case _n.OUT_OF_RANGE:return de.OUT_OF_RANGE;case _n.UNIMPLEMENTED:return de.UNIMPLEMENTED;case _n.DATA_LOSS:return de.DATA_LOSS;default:return je(39323,{code:t})}}(ct=_n||(_n={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";function U5(){return new TextEncoder}const z5=new Ma([4294967295,4294967295],0);function CT(t){const e=U5().encode(t),n=new wC;return n.update(e),new Uint8Array(n.digest())}function RT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ma([n,r],0),new Ma([a,l],0)]}class V0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ru(`Invalid padding: ${n}`);if(r<0)throw new Ru(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ru(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ru(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ma.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Ma.fromNumber(r)));return a.compare(z5)===1&&(a=new Ma([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=CT(e),[r,a]=RT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);if(!this.we(c))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new V0(l,a,n);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=CT(e),[r,a]=RT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);this.be(c)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Xm{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,_h.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xm(ze.min(),a,new Yt(nt),qs(),it())}}class _h{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _h(r,n,it(),it(),it())}}class kf{constructor(e,n,r,a){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=a}}class uR{constructor(e,n){this.targetId=e,this.Ce=n}}class hR{constructor(e,n,r=Gn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class NT{constructor(){this.ve=0,this.Fe=IT(),this.Me=Gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=it(),n=it(),r=it();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:je(38017,{changeType:l})}})),new _h(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=IT()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,xt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class B5{constructor(e){this.Ge=e,this.ze=new Map,this.je=qs(),this.He=lf(),this.Je=lf(),this.Ze=new Yt(nt)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:je(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(gv(l))if(r===0){const c=new De(l.path);this.et(n,c,li.newNoDocument(c,ze.min()))}else xt(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const h=this.ut(e),d=h?this.ct(h,e,c):1;if(d!==0){this.it(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let c,h;try{c=za(r).toUint8Array()}catch(d){if(d instanceof VC)return Fo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new V0(c,a,l)}catch(d){return Fo(d instanceof Ru?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&gv(h.target)){const d=new De(h.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,li.newNoDocument(d,e))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let r=it();this.Je.forEach(((l,c)=>{let h=!0;c.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Xm(e,n,this.Ze,this.je,r);return this.je=qs(),this.He=lf(),this.Je=lf(),this.Ze=new Yt(nt),a}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new NT,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Vn(nt),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Vn(nt),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new NT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function lf(){return new Yt(De.comparator)}function IT(){return new Yt(De.comparator)}const F5={asc:"ASCENDING",desc:"DESCENDING"},q5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},H5={and:"AND",or:"OR"};class G5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bv(t,e){return t.useProto3Json||Fm(e)?e:{value:e}}function nm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $5(t,e){return nm(t,e.toTimestamp())}function Zr(t){return xt(!!t,49232),ze.fromTimestamp((function(n){const r=Ua(n);return new qe(r.seconds,r.nanos)})(t))}function j0(t,e){return xv(t,e).canonicalString()}function xv(t,e){const n=(function(a){return new Pt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function fR(t){const e=Pt.fromString(t);return xt(vR(e),10190,{key:e.toString()}),e}function _v(t,e){return j0(t.databaseId,e.path)}function Ay(t,e){const n=fR(e);if(n.get(1)!==t.databaseId.projectId)throw new be(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(pR(n))}function mR(t,e){return j0(t.databaseId,e)}function K5(t){const e=fR(t);return e.length===4?Pt.emptyPath():pR(e)}function wv(t){return new Pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pR(t){return xt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function DT(t,e,n){return{name:_v(t,e),fields:n.value.mapValue.fields}}function Y5(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:je(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(m,g){return m.useProto3Json?(xt(g===void 0||typeof g=="string",58123),Gn.fromBase64String(g||"")):(xt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Gn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(m){const g=m.code===void 0?de.UNKNOWN:cR(m.code);return new be(g,m.message||"")})(c);n=new hR(r,a,l,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Ay(t,r.document.name),l=Zr(r.document.updateTime),c=r.document.createTime?Zr(r.document.createTime):ze.min(),h=new Ii({mapValue:{fields:r.document.fields}}),d=li.newFoundDocument(a,l,c,h),m=r.targetIds||[],g=r.removedTargetIds||[];n=new kf(m,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Ay(t,r.document),l=r.readTime?Zr(r.readTime):ze.min(),c=li.newNoDocument(a,l),h=r.removedTargetIds||[];n=new kf([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Ay(t,r.document),l=r.removedTargetIds||[];n=new kf([],l,a,null)}else{if(!("filter"in e))return je(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new j5(a,l),h=r.targetId;n=new uR(h,c)}}return n}function X5(t,e){let n;if(e instanceof xh)n={update:DT(t,e.key,e.value)};else if(e instanceof P0)n={delete:_v(t,e.key)};else if(e instanceof Ya)n={update:DT(t,e.key,e.data),updateMask:rj(e.fieldMask)};else{if(!(e instanceof P5))return je(16599,{dt:e.type});n={verify:_v(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const h=c.transform;if(h instanceof em)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ju)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Zu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof tm)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw je(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:$5(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:je(27497)})(t,e.precondition)),n}function W5(t,e){return t&&t.length>0?(xt(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?Zr(a.updateTime):Zr(l);return c.isEqual(ze.min())&&(c=Zr(l)),new D5(c,a.transformResults||[])})(n,e)))):[]}function Q5(t,e){return{documents:[mR(t,e.path)]}}function J5(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mR(t,a);const l=(function(m){if(m.length!==0)return yR(Mr.create(m,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((g=>(function(_){return{field:Ll(_.field),direction:tj(_.dir)}})(g)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=bv(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:a}}function Z5(t){let e=K5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){xt(r===1,65062);const g=n.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let l=[];n.where&&(l=(function(v){const _=gR(v);return _ instanceof Mr&&$C(_)?_.getFilters():[_]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((_=>(function(M){return new Zf(Ul(M.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(_)))})(n.orderBy));let h=null;n.limit&&(h=(function(v){let _;return _=typeof v=="object"?v.value:v,Fm(_)?null:_})(n.limit));let d=null;n.startAt&&(d=(function(v){const _=!!v.before,A=v.values||[];return new Jf(A,_)})(n.startAt));let m=null;return n.endAt&&(m=(function(v){const _=!v.before,A=v.values||[];return new Jf(A,_)})(n.endAt)),y5(e,a,c,l,h,"F",d,m)}function ej(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gR(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ul(n.unaryFilter.field);return Tn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Ul(n.unaryFilter.field);return Tn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ul(n.unaryFilter.field);return Tn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ul(n.unaryFilter.field);return Tn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Tn.create(Ul(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Mr.create(n.compositeFilter.filters.map((r=>gR(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return je(1026)}})(n.compositeFilter.op))})(t):je(30097,{filter:t})}function tj(t){return F5[t]}function nj(t){return q5[t]}function ij(t){return H5[t]}function Ll(t){return{fieldPath:t.canonicalString()}}function Ul(t){return Hn.fromServerFormat(t.fieldPath)}function yR(t){return t instanceof Tn?(function(n){if(n.op==="=="){if(vT(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NAN"}};if(yT(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vT(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NOT_NAN"}};if(yT(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ll(n.field),op:nj(n.op),value:n.value}}})(t):t instanceof Mr?(function(n){const r=n.getFilters().map((a=>yR(a)));return r.length===1?r[0]:{compositeFilter:{op:ij(n.op),filters:r}}})(t):je(54877,{filter:t})}function rj(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function vR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function bR(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Na{constructor(e,n,r,a,l=ze.min(),c=ze.min(),h=Gn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Na(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class sj{constructor(e){this.yt=e}}function aj(t){const e=Z5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vv(e,e.limit,"L"):e}class oj{constructor(){this.Sn=new lj}addToCollectionParentIndex(e,n){return this.Sn.add(n),me.resolve()}getCollectionParents(e,n){return me.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return me.resolve()}deleteFieldIndex(e,n){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,n){return me.resolve()}getDocumentsMatchingTarget(e,n){return me.resolve(null)}getIndexType(e,n){return me.resolve(0)}getFieldIndexes(e,n){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,n){return me.resolve(La.min())}getMinOffsetFromCollectionGroup(e,n){return me.resolve(La.min())}updateCollectionGroup(e,n,r){return me.resolve()}updateIndexEntries(e,n){return me.resolve()}}class lj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Vn(Pt.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Vn(Pt.comparator)).toArray()}}const kT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xR=41943040;class Ni{static withCacheSize(e){return new Ni(e,Ni.DEFAULT_COLLECTION_PERCENTILE,Ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Ni.DEFAULT_COLLECTION_PERCENTILE=10,Ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ni.DEFAULT=new Ni(xR,Ni.DEFAULT_COLLECTION_PERCENTILE,Ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ni.DISABLED=new Ni(-1,0,0);class sc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new sc(0)}static ar(){return new sc(-1)}}const MT="LruGarbageCollector",cj=1048576;function PT([t,e],[n,r]){const a=nt(t,n);return a===0?nt(e,r):a}class uj{constructor(e){this.Pr=e,this.buffer=new Vn(PT),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();PT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class hj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){we(MT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){mc(n)?we(MT,"Ignoring IndexedDB error during garbage collection: ",n):await fc(n)}await this.Ar(3e5)}))}}class dj{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return me.resolve(Bm.ce);const r=new uj(n);return this.Vr.forEachTarget(e,(a=>r.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>r.Er(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(kT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kT):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,a,l,c,h,d,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(r=v,h=Date.now(),this.removeTargets(e,r,n)))).next((v=>(l=v,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(m=Date.now(),Vl()<=tt.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(m-d)+`ms
Total Duration: ${m-g}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function fj(t,e){return new dj(t,e)}class mj{constructor(){this.changes=new Ko((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,li.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?me.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class pj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class gj{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&Vu(r.mutation,a,qi.empty(),qe.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,it()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=it()){const a=Mo();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((l=>{let c=Cu();return l.forEach(((h,d)=>{c=c.insert(h,d.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=Mo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,it())))}populateOverlays(e,n,r){const a=[];return r.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,r,a){let l=qs();const c=Ou(),h=(function(){return Ou()})();return n.forEach(((d,m)=>{const g=r.get(m.key);a.has(m.key)&&(g===void 0||g.mutation instanceof Ya)?l=l.insert(m.key,m):g!==void 0?(c.set(m.key,g.mutation.getFieldMask()),Vu(g.mutation,m,g.mutation.getFieldMask(),qe.now())):c.set(m.key,qi.empty())})),this.recalculateAndSaveOverlays(e,l).next((d=>(d.forEach(((m,g)=>c.set(m,g))),n.forEach(((m,g)=>h.set(m,new pj(g,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=Ou();let a=new Yt(((c,h)=>c-h)),l=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((d=>{const m=n.get(d);if(m===null)return;let g=r.get(d)||qi.empty();g=h.applyToLocalView(m,g),r.set(d,g);const v=(a.get(h.batchId)||it()).add(d);a=a.insert(h.batchId,v)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,g=d.value,v=tR();g.forEach((_=>{if(!l.has(_)){const A=oR(n.get(_),r.get(_));A!==null&&v.set(_,A),l=l.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,v))}return me.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return v5(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):me.resolve(Mo());let h=Xu,d=l;return c.next((m=>me.forEach(m,((g,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(g)?me.resolve():this.remoteDocumentCache.getEntry(e,g).next((_=>{d=d.insert(g,_)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,d,m,it()))).next((g=>({batchId:h,changes:eR(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next((r=>{let a=Cu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const l=n.collectionGroup;let c=Cu();return this.indexManager.getCollectionParents(e,l).next((h=>me.forEach(h,(d=>{const m=(function(v,_){return new bh(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,r,a).next((g=>{g.forEach(((v,_)=>{c=c.insert(v,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,a)))).next((c=>{l.forEach(((d,m)=>{const g=m.getKey();c.get(g)===null&&(c=c.insert(g,li.newInvalidDocument(g)))}));let h=Cu();return c.forEach(((d,m)=>{const g=l.get(d);g!==void 0&&Vu(g.mutation,m,qi.empty(),qe.now()),$m(n,m)&&(h=h.insert(d,m))})),h}))}}class yj{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return me.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Zr(a.createTime)}})(n)),me.resolve()}getNamedQuery(e,n){return me.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:aj(a.bundledQuery),readTime:Zr(a.readTime)}})(n)),me.resolve()}}class vj{constructor(){this.overlays=new Yt(De.comparator),this.Lr=new Map}getOverlay(e,n){return me.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Mo();return me.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,l)=>{this.bt(e,n,l)})),me.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.Lr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(r)),me.resolve()}getOverlaysForCollection(e,n,r){const a=Mo(),l=n.length+1,c=new De(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&d.largestBatchId>r&&a.set(d.getKey(),d)}return me.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new Yt(((m,g)=>m-g));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let g=l.get(m.largestBatchId);g===null&&(g=Mo(),l=l.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const h=Mo(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,g)=>h.set(m,g))),!(h.size()>=a)););return me.resolve(h)}bt(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(r.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new V5(n,r));let l=this.Lr.get(n);l===void 0&&(l=it(),this.Lr.set(n,l)),this.Lr.set(n,l.add(r.key))}}class bj{constructor(){this.sessionToken=Gn.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,me.resolve()}}class L0{constructor(){this.kr=new Vn(Fn.Kr),this.qr=new Vn(Fn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Fn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Fn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new De(new Pt([])),r=new Fn(n,e),a=new Fn(n,e+1),l=[];return this.qr.forEachInRange([r,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new De(new Pt([])),r=new Fn(n,e),a=new Fn(n,e+1);let l=it();return this.qr.forEachInRange([r,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new Fn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Fn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return De.comparator(e.key,n.key)||nt(e.Hr,n.Hr)}static Ur(e,n){return nt(e.Hr,n.Hr)||De.comparator(e.key,n.key)}}class xj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Vn(Fn.Kr)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new O5(l,n,r,a);this.mutationQueue.push(c);for(const h of a)this.Jr=this.Jr.add(new Fn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return me.resolve(c)}lookupMutationBatch(e,n){return me.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.Xr(r),l=a<0?0:a;return me.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?R0:this.Yn-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Fn(n,0),a=new Fn(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([r,a],(c=>{const h=this.Zr(c.Hr);l.push(h)})),me.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vn(nt);return n.forEach((a=>{const l=new Fn(a,0),c=new Fn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(h=>{r=r.add(h.Hr)}))})),me.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;De.isDocumentKey(l)||(l=l.child(""));const c=new Fn(new De(l),0);let h=new Vn(nt);return this.Jr.forEachWhile((d=>{const m=d.key.path;return!!r.isPrefixOf(m)&&(m.length===a&&(h=h.add(d.Hr)),!0)}),c),me.resolve(this.Yr(h))}Yr(e){const n=[];return e.forEach((r=>{const a=this.Zr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){xt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return me.forEach(n.mutations,(a=>{const l=new Fn(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Fn(n,0),a=this.Jr.firstAfterOrEqual(r);return me.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class _j{constructor(e){this.ti=e,this.docs=(function(){return new Yt(De.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return me.resolve(r?r.document.mutableCopy():li.newInvalidDocument(n))}getEntries(e,n){let r=qs();return n.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():li.newInvalidDocument(a))})),me.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=qs();const c=n.path,h=new De(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:g}}=d.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||YV(KV(g),r)<=0||(a.has(g.key)||$m(n,g))&&(l=l.insert(g.key,g.mutableCopy()))}return me.resolve(l)}getAllFromCollectionGroup(e,n,r,a){je(9500)}ni(e,n){return me.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new wj(this)}getSize(e){return me.resolve(this.size)}}class wj extends mj{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(r)})),me.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class Tj{constructor(e){this.persistence=e,this.ri=new Ko((n=>D0(n)),k0),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.ii=0,this.si=new L0,this.targetCount=0,this.oi=sc._r()}forEachTarget(e,n){return this.ri.forEach(((r,a)=>n(a))),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),me.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new sc(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,me.resolve()}updateTargetData(e,n){return this.lr(n),me.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),me.waitFor(l).next((()=>a))}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return me.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),me.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),me.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),me.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return me.resolve(r)}containsKey(e,n){return me.resolve(this.si.containsKey(n))}}class _R{constructor(e,n){this._i={},this.overlays={},this.ai=new Bm(0),this.ui=!1,this.ui=!0,this.ci=new bj,this.referenceDelegate=e(this),this.li=new Tj(this),this.indexManager=new oj,this.remoteDocumentCache=(function(a){return new _j(a)})((r=>this.referenceDelegate.hi(r))),this.serializer=new sj(n),this.Pi=new yj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new xj(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const a=new Ej(this.ai.next());return this.referenceDelegate.Ti(),r(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return me.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class Ej extends WV{constructor(e){super(),this.currentSequenceNumber=e}}class U0{constructor(e){this.persistence=e,this.Ri=new L0,this.Ai=null}static Vi(e){return new U0(e)}get di(){if(this.Ai)return this.Ai;throw je(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),me.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),me.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.di,(r=>{const a=De.fromPath(r);return this.mi(e,a).next((l=>{l||n.removeEntry(a,ze.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return me.or([()=>me.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class im{constructor(e,n){this.persistence=e,this.fi=new Ko((r=>ZV(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=fj(this,n)}static Vi(e,n){return new im(e,n)}Ti(){}Ii(e){return me.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return me.forEach(this.fi,((r,a)=>this.wr(e,r,a).next((l=>l?me.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,n).next((h=>{h||(r++,l.removeEntry(c,ze.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),me.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),me.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),me.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nf(e.data.value)),n}wr(e,n,r){return me.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return me.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class z0{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=a}static Es(e,n){let r=it(),a=it();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new z0(e,n.fromCache,r,a)}}class Sj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Aj{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return AP()?8:QV(ui())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const l={result:null};return this.gs(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,n,a,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new Sj;return this.ys(e,n,c).next((h=>{if(l.result=h,this.As)return this.ws(e,n,c,h.size)}))})).next((()=>l.result))}ws(e,n,r,a){return r.documentReadCount<this.Vs?(Vl()<=tt.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",jl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),me.resolve()):(Vl()<=tt.DEBUG&&we("QueryEngine","Query:",jl(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Vl()<=tt.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",jl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jr(n))):me.resolve())}gs(e,n){if(wT(n))return me.resolve(null);let r=Jr(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=vv(n,null,"F"),r=Jr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=it(...l);return this.fs.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((d=>{const m=this.bs(n,h);return this.Ss(n,m,c,d.readTime)?this.gs(e,vv(n,null,"F")):this.Ds(e,m,n,d)}))))})))))}ps(e,n,r,a){return wT(n)||a.isEqual(ze.min())?me.resolve(null):this.fs.getDocuments(e,r).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,r,a)?me.resolve(null):(Vl()<=tt.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),jl(n)),this.Ds(e,c,n,$V(a,Xu)).next((h=>h)))}))}bs(e,n){let r=new Vn(JC(e));return n.forEach(((a,l)=>{$m(e,l)&&(r=r.add(l))})),r}Ss(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,r){return Vl()<=tt.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",jl(n)),this.fs.getDocumentsMatchingQuery(e,n,La.min(),r)}Ds(e,n,r,a){return this.fs.getDocumentsMatchingQuery(e,r,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const B0="LocalStore",Cj=3e8;class Rj{constructor(e,n,r,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new Yt(nt),this.Fs=new Ko((l=>D0(l)),k0),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gj(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function Nj(t,e,n,r){return new Rj(t,e,n,r)}async function wR(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],h=[];let d=it();for(const m of a){c.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}for(const m of l){h.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(r,d).next((m=>({Ns:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function Ij(t,e){const n=He(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(h,d,m,g){const v=m.batch,_=v.keys();let A=me.resolve();return _.forEach((M=>{A=A.next((()=>g.getEntry(d,M))).next((D=>{const N=m.docVersions.get(M);xt(N!==null,48541),D.version.compareTo(N)<0&&(v.applyToRemoteDocument(D,m),D.isValidDocument()&&(D.setReadTime(m.commitVersion),g.addEntry(D)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let d=it();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function TR(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function Dj(t,e){const n=He(t),r=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const h=[];e.targetChanges.forEach(((g,v)=>{const _=a.get(v);if(!_)return;h.push(n.li.removeMatchingKeys(l,g.removedDocuments,v).next((()=>n.li.addMatchingKeys(l,g.addedDocuments,v))));let A=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?A=A.withResumeToken(Gn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):g.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(g.resumeToken,r)),a=a.insert(v,A),(function(D,N,z){return D.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=Cj?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(_,A,g)&&h.push(n.li.updateTargetData(l,A))}));let d=qs(),m=it();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,g))})),h.push(kj(l,c,e.documentUpdates).next((g=>{d=g.Bs,m=g.Ls}))),!r.isEqual(ze.min())){const g=n.li.getLastRemoteSnapshotVersion(l).next((v=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,r)));h.push(g)}return me.waitFor(h).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,d,m))).next((()=>d))})).then((l=>(n.vs=a,l)))}function kj(t,e,n){let r=it(),a=it();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let c=qs();return n.forEach(((h,d)=>{const m=l.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(ze.min())?(e.removeEntry(h,d.readTime),c=c.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),c=c.insert(h,d)):we(B0,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)})),{Bs:c,Ls:a}}))}function Mj(t,e){const n=He(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=R0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Pj(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.li.getTargetData(r,e).next((l=>l?(a=l,me.resolve(a)):n.li.allocateTargetId(r).next((c=>(a=new Na(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.vs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Tv(t,e,n){const r=He(t),a=r.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!mc(c))throw c;we(B0,`Failed to update sequence numbers for target ${e}: ${c}`)}r.vs=r.vs.remove(e),r.Fs.delete(a.target)}function OT(t,e,n){const r=He(t);let a=ze.min(),l=it();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,m,g){const v=He(d),_=v.Fs.get(g);return _!==void 0?me.resolve(v.vs.get(_)):v.li.getTargetData(m,g)})(r,c,Jr(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,h.targetId).next((d=>{l=d}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,n?a:ze.min(),n?l:it()))).next((h=>(Oj(r,x5(e),h),{documents:h,ks:l})))))}function Oj(t,e,n){let r=t.Ms.get(e)||ze.min();n.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.Ms.set(e,r)}class VT{constructor(){this.activeTargetIds=A5()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Vj{constructor(){this.vo=new VT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new VT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jj{Mo(e){}shutdown(){}}const jT="ConnectivityMonitor";class LT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){we(jT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){we(jT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let cf=null;function Ev(){return cf===null?cf=(function(){return 268435456+Math.round(2147483648*Math.random())})():cf++,"0x"+cf.toString(16)}const Cy="RestConnection",Lj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Uj{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${a}`,this.$o=this.databaseId.database===Wf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(e,n,r,a,l){const c=Ev(),h=this.Qo(e,n.toUriEncodedString());we(Cy,`Sending RPC '${e}' ${c}:`,h,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,a,l);const{host:m}=new URL(h),g=Ho(m);return this.zo(e,h,d,r,g).then((v=>(we(Cy,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw Fo(Cy,`RPC '${e}' ${c} failed with error: `,v,"url: ",h,"request:",r),v}))}jo(e,n,r,a,l,c){return this.Wo(e,n,r,a,l)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+dc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const r=Lj[e];let a=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class zj{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const ri="WebChannelConnection",xu=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Yl extends Uj{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Yl.c_){const e=AC();xu(e,SC.STAT_EVENT,(n=>{n.stat===hv.PROXY?we(ri,"STAT_EVENT: detected buffering proxy"):n.stat===hv.NOPROXY&&we(ri,"STAT_EVENT: detected no buffering proxy")})),Yl.c_=!0}}zo(e,n,r,a,l){const c=Ev();return new Promise(((h,d)=>{const m=new TC;m.setWithCredentials(!0),m.listenOnce(EC.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Rf.NO_ERROR:const v=m.getResponseJson();we(ri,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),h(v);break;case Rf.TIMEOUT:we(ri,`RPC '${e}' ${c} timed out`),d(new be(de.DEADLINE_EXCEEDED,"Request time out"));break;case Rf.HTTP_ERROR:const _=m.getStatus();if(we(ri,`RPC '${e}' ${c} failed with status:`,_,"response text:",m.getResponseText()),_>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const M=A?.error;if(M&&M.status&&M.message){const D=(function(z){const $=z.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf($)>=0?$:de.UNKNOWN})(M.status);d(new be(D,M.message))}else d(new be(de.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new be(de.UNAVAILABLE,"Connection failed."));break;default:je(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{we(ri,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(a);we(ri,`RPC '${e}' ${c} sending request:`,a),m.send(n,"POST",g,r,15)}))}T_(e,n,r){const a=Ev(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=l.join("");we(ri,`Creating RPC '${e}' stream ${a}: ${m}`,h);const g=c.createWebChannel(m,h);this.I_(g);let v=!1,_=!1;const A=new zj({Ho:M=>{_?we(ri,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(v||(we(ri,`Opening RPC '${e}' stream ${a} transport.`),g.open(),v=!0),we(ri,`RPC '${e}' stream ${a} sending:`,M),g.send(M))},Jo:()=>g.close()});return xu(g,Au.EventType.OPEN,(()=>{_||(we(ri,`RPC '${e}' stream ${a} transport opened.`),A.i_())})),xu(g,Au.EventType.CLOSE,(()=>{_||(_=!0,we(ri,`RPC '${e}' stream ${a} transport closed`),A.o_(),this.E_(g))})),xu(g,Au.EventType.ERROR,(M=>{_||(_=!0,Fo(ri,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),A.o_(new be(de.UNAVAILABLE,"The operation could not be completed")))})),xu(g,Au.EventType.MESSAGE,(M=>{if(!_){const D=M.data[0];xt(!!D,16349);const N=D,z=N?.error||N[0]?.error;if(z){we(ri,`RPC '${e}' stream ${a} received error:`,z);const $=z.status;let q=(function(le){const I=_n[le];if(I!==void 0)return cR(I)})($),ae=z.message;q===void 0&&(q=de.INTERNAL,ae="Unknown error status: "+$+" with message "+z.message),_=!0,A.o_(new be(q,ae)),g.close()}else we(ri,`RPC '${e}' stream ${a} received:`,D),A.__(D)}})),Yl.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return CC()}}function Bj(t){return new Yl(t)}function Ry(){return typeof document<"u"?document:null}function Wm(t){return new G5(t,!0)}Yl.c_=!1;class ER{constructor(e,n,r=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&we("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const UT="PersistentStream";class SR{constructor(e,n,r,a,l,c,h,d){this.Ci=e,this.b_=r,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ER(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(Fs(n.toString()),Fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new be(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(UT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(we(UT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Fj extends SR{constructor(e,n,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Y5(this.serializer,e),r=(function(l){if(!("targetChange"in l))return ze.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ze.min():c.readTime?Zr(c.readTime):ze.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=wv(this.serializer),n.addTarget=(function(l,c){let h;const d=c.target;if(h=gv(d)?{documents:Q5(l,d)}:{query:J5(l,d).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=dR(l,c.resumeToken);const m=bv(l,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(ze.min())>0){h.readTime=nm(l,c.snapshotVersion.toTimestamp());const m=bv(l,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const r=ej(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=wv(this.serializer),n.removeTarget=e,this.K_(n)}}class qj extends SR{constructor(e,n,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return xt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=W5(e.writeResults,e.commitTime),r=Zr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=wv(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>X5(this.serializer,r)))};this.K_(n)}}class Hj{}class Gj extends Hj{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new be(de.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,xv(n,r),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new be(de.UNKNOWN,l.toString())}))}jo(e,n,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(e,xv(n,r),a,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new be(de.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function $j(t,e,n,r){return new Gj(t,e,n,r)}class Kj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fs(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const qo="RemoteStore";class Yj{constructor(e,n,r,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{Yo(this)&&(we(qo,"Restarting streams for network reachability change."),await(async function(d){const m=He(d);m.Ea.add(4),await wh(m),m.Va.set("Unknown"),m.Ea.delete(4),await Qm(m)})(this))}))})),this.Va=new Kj(r,a)}}async function Qm(t){if(Yo(t))for(const e of t.Ra)await e(!0)}async function wh(t){for(const e of t.Ra)await e(!1)}function AR(t,e){const n=He(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),G0(n)?H0(n):pc(n).O_()&&q0(n,e))}function F0(t,e){const n=He(t),r=pc(n);n.Ia.delete(e),r.O_()&&CR(n,e),n.Ia.size===0&&(r.O_()?r.L_():Yo(n)&&n.Va.set("Unknown"))}function q0(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pc(t).Z_(e)}function CR(t,e){t.da.$e(e),pc(t).X_(e)}function H0(t){t.da=new B5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),pc(t).start(),t.Va.ua()}function G0(t){return Yo(t)&&!pc(t).x_()&&t.Ia.size>0}function Yo(t){return He(t).Ea.size===0}function RR(t){t.da=void 0}async function Xj(t){t.Va.set("Online")}async function Wj(t){t.Ia.forEach(((e,n)=>{q0(t,e)}))}async function Qj(t,e){RR(t),G0(t)?(t.Va.ha(e),H0(t)):t.Va.set("Unknown")}async function Jj(t,e,n){if(t.Va.set("Online"),e instanceof hR&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.da.removeTarget(h))})(t,e)}catch(r){we(qo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rm(t,r)}else if(e instanceof kf?t.da.Xe(e):e instanceof uR?t.da.st(e):t.da.tt(e),!n.isEqual(ze.min()))try{const r=await TR(t.localStore);n.compareTo(r)>=0&&await(function(l,c){const h=l.da.Tt(c);return h.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const g=l.Ia.get(m);g&&l.Ia.set(m,g.withResumeToken(d.resumeToken,c))}})),h.targetMismatches.forEach(((d,m)=>{const g=l.Ia.get(d);if(!g)return;l.Ia.set(d,g.withResumeToken(Gn.EMPTY_BYTE_STRING,g.snapshotVersion)),CR(l,d);const v=new Na(g.target,d,m,g.sequenceNumber);q0(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){we(qo,"Failed to raise snapshot:",r),await rm(t,r)}}async function rm(t,e,n){if(!mc(e))throw e;t.Ea.add(1),await wh(t),t.Va.set("Offline"),n||(n=()=>TR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{we(qo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Qm(t)}))}function NR(t,e){return e().catch((n=>rm(t,n,e)))}async function Jm(t){const e=He(t),n=Fa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:R0;for(;Zj(e);)try{const a=await Mj(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,e3(e,a)}catch(a){await rm(e,a)}IR(e)&&DR(e)}function Zj(t){return Yo(t)&&t.Ta.length<10}function e3(t,e){t.Ta.push(e);const n=Fa(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function IR(t){return Yo(t)&&!Fa(t).x_()&&t.Ta.length>0}function DR(t){Fa(t).start()}async function t3(t){Fa(t).ra()}async function n3(t){const e=Fa(t);for(const n of t.Ta)e.ea(n.mutations)}async function i3(t,e,n){const r=t.Ta.shift(),a=O0.from(r,e,n);await NR(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Jm(t)}async function r3(t,e){e&&Fa(t).Y_&&await(async function(r,a){if((function(c){return L5(c)&&c!==de.ABORTED})(a.code)){const l=r.Ta.shift();Fa(r).B_(),await NR(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Jm(r)}})(t,e),IR(t)&&DR(t)}async function zT(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),we(qo,"RemoteStore received new credentials");const r=Yo(n);n.Ea.add(3),await wh(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Qm(n)}async function s3(t,e){const n=He(t);e?(n.Ea.delete(2),await Qm(n)):e||(n.Ea.add(2),await wh(n),n.Va.set("Unknown"))}function pc(t){return t.ma||(t.ma=(function(n,r,a){const l=He(n);return l.sa(),new Fj(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:Xj.bind(null,t),Yo:Wj.bind(null,t),t_:Qj.bind(null,t),J_:Jj.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),G0(t)?H0(t):t.Va.set("Unknown")):(await t.ma.stop(),RR(t))}))),t.ma}function Fa(t){return t.fa||(t.fa=(function(n,r,a){const l=He(n);return l.sa(),new qj(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:t3.bind(null,t),t_:r3.bind(null,t),ta:n3.bind(null,t),na:i3.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Jm(t)):(await t.fa.stop(),t.Ta.length>0&&(we(qo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class $0{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,l){const c=Date.now()+r,h=new $0(e,n,c,a,l);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function K0(t,e){if(Fs("AsyncQueue",`${e}: ${t}`),mc(t))return new be(de.UNAVAILABLE,`${e}: ${t}`);throw t}class Xl{static emptySet(e){return new Xl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||De.comparator(n.key,r.key):(n,r)=>De.comparator(n.key,r.key),this.keyedMap=Cu(),this.sortedSet=new Yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Xl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class BT{constructor(){this.ga=new Yt(De.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):je(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class ac{constructor(e,n,r,a,l,c,h,d,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,a,l){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new ac(e,n,Xl.emptySet(n),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class a3{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class o3{constructor(){this.queries=FT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=He(n),l=a.queries;a.queries=FT(),l.forEach(((c,h)=>{for(const d of h.ba)d.onError(r)}))})(this,new be(de.ABORTED,"Firestore shutting down"))}}function FT(){return new Ko((t=>QC(t)),Gm)}async function Y0(t,e){const n=He(t);let r=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(r=2):(l=new a3,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=K0(c,`Initialization of query '${jl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&W0(n)}async function X0(t,e){const n=He(t),r=e.query;let a=3;const l=n.queries.get(r);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function l3(t,e){const n=He(t);let r=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const h of c.ba)h.Fa(a)&&(r=!0);c.wa=a}}r&&W0(n)}function c3(t,e,n){const r=He(t),a=r.queries.get(e);if(a)for(const l of a.ba)l.onError(n);r.queries.delete(e)}function W0(t){t.Ca.forEach((e=>{e.next()}))}var Sv,qT;(qT=Sv||(Sv={})).Ma="default",qT.Cache="cache";class Q0{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new ac(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ac.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sv.Cache}}class kR{constructor(e){this.key=e}}class MR{constructor(e){this.key=e}}class u3{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=it(),this.mutatedKeys=it(),this.eu=JC(e),this.tu=new Xl(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new BT,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,v)=>{const _=a.get(g),A=$m(this.query,v)?v:null,M=!!_&&this.mutatedKeys.has(_.key),D=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let N=!1;_&&A?_.data.isEqual(A.data)?M!==D&&(r.track({type:3,doc:A}),N=!0):this.su(_,A)||(r.track({type:2,doc:A}),N=!0,(d&&this.eu(A,d)>0||m&&this.eu(A,m)<0)&&(h=!0)):!_&&A?(r.track({type:0,doc:A}),N=!0):_&&!A&&(r.track({type:1,doc:_}),N=!0,(d||m)&&(h=!0)),N&&(A?(c=c.add(A),l=D?l.add(g):l.delete(g)):(c=c.delete(g),l=l.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),l=l.delete(g.key),r.track({type:1,doc:g})}return{tu:c,iu:r,Ss:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,v)=>(function(A,M){const D=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{Vt:N})}};return D(A)-D(M)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(r),a=a??!1;const h=n&&!a?this._u():[],d=this.Ya.size===0&&this.current&&!a?1:0,m=d!==this.Xa;return this.Xa=d,c.length!==0||m?{snapshot:new ac(this.query,e.tu,l,c,e.mutatedKeys,d===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new BT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=it(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new MR(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new kR(r))})),n}cu(e){this.Za=e.ks,this.Ya=it();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ac.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const J0="SyncEngine";class h3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class d3{constructor(e){this.key=e,this.hu=!1}}class f3{constructor(e,n,r,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ko((h=>QC(h)),Gm),this.Iu=new Map,this.Eu=new Set,this.Ru=new Yt(De.comparator),this.Au=new Map,this.Vu=new L0,this.du={},this.mu=new Map,this.fu=sc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function m3(t,e,n=!0){const r=UR(t);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await PR(r,e,n,!0),a}async function p3(t,e){const n=UR(t);await PR(n,e,!0,!1)}async function PR(t,e,n,r){const a=await Pj(t.localStore,Jr(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let h;return r&&(h=await g3(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&AR(t.remoteStore,a),h}async function g3(t,e,n,r,a){t.pu=(v,_,A)=>(async function(D,N,z,$){let q=N.view.ru(z);q.Ss&&(q=await OT(D.localStore,N.query,!1).then((({documents:I})=>N.view.ru(I,q))));const ae=$&&$.targetChanges.get(N.targetId),te=$&&$.targetMismatches.get(N.targetId)!=null,le=N.view.applyChanges(q,D.isPrimaryClient,ae,te);return GT(D,N.targetId,le.au),le.snapshot})(t,v,_,A);const l=await OT(t.localStore,e,!0),c=new u3(e,l.ks),h=c.ru(l.documents),d=_h.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),m=c.applyChanges(h,t.isPrimaryClient,d);GT(t,n,m.au);const g=new h3(e,n,c);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function y3(t,e,n){const r=He(t),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((c=>!Gm(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Tv(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&F0(r.remoteStore,a.targetId),Av(r,a.targetId)})).catch(fc)):(Av(r,a.targetId),await Tv(r.localStore,a.targetId,!0))}async function v3(t,e){const n=He(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),F0(n.remoteStore,r.targetId))}async function b3(t,e,n){const r=A3(t);try{const a=await(function(c,h){const d=He(c),m=qe.now(),g=h.reduce(((A,M)=>A.add(M.key)),it());let v,_;return d.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let M=qs(),D=it();return d.xs.getEntries(A,g).next((N=>{M=N,M.forEach(((z,$)=>{$.isValidDocument()||(D=D.add(z))}))})).next((()=>d.localDocuments.getOverlayedDocuments(A,M))).next((N=>{v=N;const z=[];for(const $ of h){const q=M5($,v.get($.key).overlayedDocument);q!=null&&z.push(new Ya($.key,q,qC(q.value.mapValue),cr.exists(!0)))}return d.mutationQueue.addMutationBatch(A,m,z,h)})).next((N=>{_=N;const z=N.applyToLocalDocumentSet(v,D);return d.documentOverlayCache.saveOverlays(A,N.batchId,z)}))})).then((()=>({batchId:_.batchId,changes:eR(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,h,d){let m=c.du[c.currentUser.toKey()];m||(m=new Yt(nt)),m=m.insert(h,d),c.du[c.currentUser.toKey()]=m})(r,a.batchId,n),await Th(r,a.changes),await Jm(r.remoteStore)}catch(a){const l=K0(a,"Failed to persist write");n.reject(l)}}async function OR(t,e){const n=He(t);try{const r=await Dj(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(xt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?xt(c.hu,14607):a.removedDocuments.size>0&&(xt(c.hu,42227),c.hu=!1))})),await Th(n,r,e)}catch(r){await fc(r)}}function HT(t,e,n){const r=He(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((l,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const d=He(c);d.onlineState=h;let m=!1;d.queries.forEach(((g,v)=>{for(const _ of v.ba)_.va(h)&&(m=!0)})),m&&W0(d)})(r.eventManager,e),a.length&&r.Pu.J_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function x3(t,e,n){const r=He(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),l=a&&a.key;if(l){let c=new Yt(De.comparator);c=c.insert(l,li.newNoDocument(l,ze.min()));const h=it().add(l),d=new Xm(ze.min(),new Map,new Yt(nt),c,h);await OR(r,d),r.Ru=r.Ru.remove(l),r.Au.delete(e),Z0(r)}else await Tv(r.localStore,e,!1).then((()=>Av(r,e,n))).catch(fc)}async function _3(t,e){const n=He(t),r=e.batch.batchId;try{const a=await Ij(n.localStore,e);jR(n,r,null),VR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Th(n,a)}catch(a){await fc(a)}}async function w3(t,e,n){const r=He(t);try{const a=await(function(c,h){const d=He(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return d.mutationQueue.lookupMutationBatch(m,h).next((v=>(xt(v!==null,37113),g=v.keys(),d.mutationQueue.removeMutationBatch(m,v)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,g,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>d.localDocuments.getDocuments(m,g)))}))})(r.localStore,e);jR(r,e,n),VR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Th(r,a)}catch(a){await fc(a)}}function VR(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function jR(t,e,n){const r=He(t);let a=r.du[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.du[r.currentUser.toKey()]=a}}function Av(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||LR(t,r)}))}function LR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(F0(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Z0(t))}function GT(t,e,n){for(const r of n)r instanceof kR?(t.Vu.addReference(r.key,e),T3(t,r)):r instanceof MR?(we(J0,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||LR(t,r.key)):je(19791,{wu:r})}function T3(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(we(J0,"New document in limbo: "+n),t.Eu.add(r),Z0(t))}function Z0(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new De(Pt.fromString(e)),r=t.fu.next();t.Au.set(r,new d3(n)),t.Ru=t.Ru.insert(n,r),AR(t.remoteStore,new Na(Jr(Hm(n.path)),r,"TargetPurposeLimboResolution",Bm.ce))}}async function Th(t,e,n){const r=He(t),a=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,d)=>{c.push(r.pu(d,e,n).then((m=>{if((m||n)&&r.isPrimaryClient){const g=m?!m.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(m){a.push(m);const g=z0.Es(d.targetId,m);l.push(g)}})))})),await Promise.all(c),r.Pu.J_(a),await(async function(d,m){const g=He(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>me.forEach(m,(_=>me.forEach(_.Ts,(A=>g.persistence.referenceDelegate.addReference(v,_.targetId,A))).next((()=>me.forEach(_.Is,(A=>g.persistence.referenceDelegate.removeReference(v,_.targetId,A)))))))))}catch(v){if(!mc(v))throw v;we(B0,"Failed to update sequence numbers: "+v)}for(const v of m){const _=v.targetId;if(!v.fromCache){const A=g.vs.get(_),M=A.snapshotVersion,D=A.withLastLimboFreeSnapshotVersion(M);g.vs=g.vs.insert(_,D)}}})(r.localStore,l))}async function E3(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){we(J0,"User change. New user:",e.toKey());const r=await wR(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new be(de.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Th(n,r.Ns)}}function S3(t,e){const n=He(t),r=n.Au.get(e);if(r&&r.hu)return it().add(r.key);{let a=it();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const h=n.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function UR(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=S3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=x3.bind(null,e),e.Pu.J_=l3.bind(null,e.eventManager),e.Pu.yu=c3.bind(null,e.eventManager),e}function A3(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=w3.bind(null,e),e}class sm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Nj(this.persistence,new Aj,e.initialUser,this.serializer)}Cu(e){return new _R(U0.Vi,this.serializer)}Du(e){return new Vj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sm.provider={build:()=>new sm};class C3 extends sm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){xt(this.persistence.referenceDelegate instanceof im,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new hj(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ni.withCacheSize(this.cacheSizeBytes):Ni.DEFAULT;return new _R((r=>im.Vi(r,n)),this.serializer)}}class Cv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>HT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=E3.bind(null,this.syncEngine),await s3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new o3})()}createDatastore(e){const n=Wm(e.databaseInfo.databaseId),r=Bj(e.databaseInfo);return $j(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,l,c,h){return new Yj(r,a,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>HT(this.syncEngine,n,0)),(function(){return LT.v()?new LT:new jj})())}createSyncEngine(e,n){return(function(a,l,c,h,d,m,g){const v=new f3(a,l,c,h,d,m);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=He(n);we(qo,"RemoteStore shutting down."),r.Ea.add(5),await wh(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cv.provider={build:()=>new Cv};class eb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const qa="FirestoreClient";class R3{constructor(e,n,r,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=a,this.user=ai.UNAUTHENTICATED,this.clientId=Um.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{we(qa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(we(qa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=K0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ny(t,e){t.asyncQueue.verifyOperationInProgress(),we(qa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await wR(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function $T(t,e){t.asyncQueue.verifyOperationInProgress();const n=await N3(t);we(qa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>zT(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>zT(e.remoteStore,a))),t._onlineComponents=e}async function N3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(qa,"Using user provided OfflineComponentProvider");try{await Ny(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===de.FAILED_PRECONDITION||a.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Fo("Error using user provided cache. Falling back to memory cache: "+n),await Ny(t,new sm)}}else we(qa,"Using default OfflineComponentProvider"),await Ny(t,new C3(void 0));return t._offlineComponents}async function zR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(qa,"Using user provided OnlineComponentProvider"),await $T(t,t._uninitializedComponentsProvider._online)):(we(qa,"Using default OnlineComponentProvider"),await $T(t,new Cv))),t._onlineComponents}function I3(t){return zR(t).then((e=>e.syncEngine))}async function am(t){const e=await zR(t),n=e.eventManager;return n.onListen=m3.bind(null,e.syncEngine),n.onUnlisten=y3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=p3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=v3.bind(null,e.syncEngine),n}function D3(t,e,n,r){const a=new eb(r),l=new Q0(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>Y0(await am(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>X0(await am(t),l)))}}function k3(t,e,n={}){const r=new Os;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,d,m){const g=new eb({next:_=>{g.Nu(),c.enqueueAndForget((()=>X0(l,v)));const A=_.docs.has(h);!A&&_.fromCache?m.reject(new be(de.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&_.fromCache&&d&&d.source==="server"?m.reject(new be(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(_)},error:_=>m.reject(_)}),v=new Q0(Hm(h.path),g,{includeMetadataChanges:!0,Ka:!0});return Y0(l,v)})(await am(t),t.asyncQueue,e,n,r))),r.promise}function M3(t,e,n={}){const r=new Os;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,d,m){const g=new eb({next:_=>{g.Nu(),c.enqueueAndForget((()=>X0(l,v))),_.fromCache&&d.source==="server"?m.reject(new be(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(_)},error:_=>m.reject(_)}),v=new Q0(h,g,{includeMetadataChanges:!0,Ka:!0});return Y0(l,v)})(await am(t),t.asyncQueue,e,n,r))),r.promise}function P3(t,e){const n=new Os;return t.asyncQueue.enqueueAndForget((async()=>b3(await I3(t),e,n))),n.promise}function BR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const O3="ComponentProvider",KT=new Map;function V3(t,e,n,r,a){return new n5(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,BR(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,r)}const FR="firestore.googleapis.com",YT=!0;class XT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FR,this.ssl=YT}else this.host=e.host,this.ssl=e.ssl??YT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cj)throw new be(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BR(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new be(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new be(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new be(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zm{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new IC;switch(r.type){case"firstParty":return new zV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=KT.get(n);r&&(we(O3,"Removing Datastore"),KT.delete(n),r.terminate())})(this),Promise.resolve()}}function qR(t,e,n,r={}){t=vi(t,Zm);const a=Ho(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(u0(`https://${h}`),h0("Firestore",!0)),l.host!==FR&&l.host!==h&&Fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:h,ssl:a,emulatorOptions:r};if(!Uo(d,c)&&(t._setSettings(d),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=ai.MOCK_USER;else{m=RA(r.mockUserToken,t._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new be(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new ai(v)}t._authCredentials=new jV(new NC(m,g))}}class Xa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xa(this.firestore,e,this._query)}}class Kt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(vh(n,Kt._jsonSchema))return new Kt(e,r||null,new De(Pt.fromString(n.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:En("string",Kt._jsonSchemaVersion),referencePath:En("string")};class Vs extends Xa{constructor(e,n,r){super(e,n,Hm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new De(e))}withConverter(e){return new Vs(this.firestore,e,this._path)}}function Po(t,e,...n){if(t=Sn(t),DC("collection","path",e),t instanceof Zm){const r=Pt.fromString(e,...n);return lT(r),new Vs(t,null,r)}{if(!(t instanceof Kt||t instanceof Vs))throw new be(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return lT(r),new Vs(t.firestore,null,r)}}function Nr(t,e,...n){if(t=Sn(t),arguments.length===1&&(e=Um.newId()),DC("doc","path",e),t instanceof Zm){const r=Pt.fromString(e,...n);return oT(r),new Kt(t,null,new De(r))}{if(!(t instanceof Kt||t instanceof Vs))throw new be(de.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return oT(r),new Kt(t.firestore,t instanceof Vs?t.converter:null,new De(r))}}const WT="AsyncQueue";class QT{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ER(this,"async_queue_retry"),this._c=()=>{const r=Ry();r&&we(WT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ry();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ry();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Os;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!mc(e))throw e;we(WT,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Fs("INTERNAL UNHANDLED ERROR: ",JT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=$0.createAndSchedule(this,e,n,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&je(47125,{Pc:JT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function JT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class is extends Zm{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new QT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new QT(e),this._firestoreClient=void 0,await e}}}function HR(t,e){const n=typeof t=="object"?t:m0(),r=typeof t=="string"?t:Wf,a=Om(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=SA("firestore");l&&qR(a,...l)}return a}function Eh(t){if(t._terminated)throw new be(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||j3(t),t._firestoreClient}function j3(t){const e=t._freezeSettings(),n=V3(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new R3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class Fi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fi(Gn.fromBase64String(e))}catch(n){throw new be(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fi(Gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vh(e,Fi._jsonSchema))return Fi.fromBase64String(e.bytes)}}Fi._jsonSchemaVersion="firestore/bytes/1.0",Fi._jsonSchema={type:En("string",Fi._jsonSchemaVersion),bytes:En("string")};class ep{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class tp{constructor(e){this._methodName=e}}class kr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:kr._jsonSchemaVersion}}static fromJSON(e){if(vh(e,kr._jsonSchema))return new kr(e.latitude,e.longitude)}}kr._jsonSchemaVersion="firestore/geoPoint/1.0",kr._jsonSchema={type:En("string",kr._jsonSchemaVersion),latitude:En("number"),longitude:En("number")};class ur{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ur._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vh(e,ur._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ur(e.vectorValues);throw new be(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ur._jsonSchemaVersion="firestore/vectorValue/1.0",ur._jsonSchema={type:En("string",ur._jsonSchemaVersion),vectorValues:En("object")};const L3=/^__.*__$/;class U3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ya(e,this.data,this.fieldMask,n,this.fieldTransforms):new xh(e,this.data,n,this.fieldTransforms)}}class GR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ya(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $R(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je(40011,{dataSource:t})}}class tb{constructor(e,n,r,a,l,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new tb({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return om(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if($R(this.dataSource)&&L3.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class z3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wm(e)}createContext(e,n,r,a=!1){return new tb({dataSource:e,methodName:n,targetDoc:r,path:Hn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function np(t){const e=t._freezeSettings(),n=Wm(t._databaseId);return new z3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function KR(t,e,n,r,a,l={}){const c=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);nb("Data must be an object, but it was:",c,r);const h=YR(r,c);let d,m;if(l.merge)d=new qi(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const g=[];for(const v of l.mergeFields){const _=oc(e,v,n);if(!c.contains(_))throw new be(de.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);QR(g,_)||g.push(_)}d=new qi(g),m=c.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,m=c.fieldTransforms;return new U3(new Ii(h),d,m)}class Sh extends tp{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sh}}function B3(t,e,n,r){const a=t.createContext(1,e,n);nb("Data must be an object, but it was:",a,r);const l=[],c=Ii.empty();Ka(r,((d,m)=>{const g=WR(e,d,n);m=Sn(m);const v=a.childContextForFieldPath(g);if(m instanceof Sh)l.push(g);else{const _=Ah(m,v);_!=null&&(l.push(g),c.set(g,_))}}));const h=new qi(l);return new GR(c,h,a.fieldTransforms)}function F3(t,e,n,r,a,l){const c=t.createContext(1,e,n),h=[oc(e,r,n)],d=[a];if(l.length%2!=0)throw new be(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<l.length;_+=2)h.push(oc(e,l[_])),d.push(l[_+1]);const m=[],g=Ii.empty();for(let _=h.length-1;_>=0;--_)if(!QR(m,h[_])){const A=h[_];let M=d[_];M=Sn(M);const D=c.childContextForFieldPath(A);if(M instanceof Sh)m.push(A);else{const N=Ah(M,D);N!=null&&(m.push(A),g.set(A,N))}}const v=new qi(m);return new GR(g,v,c.fieldTransforms)}function q3(t,e,n,r=!1){return Ah(n,t.createContext(r?4:3,e))}function Ah(t,e){if(XR(t=Sn(t)))return nb("Unsupported field value:",e,t),YR(t,e);if(t instanceof tp)return(function(r,a){if(!$R(a.dataSource))throw a.createError(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,a){const l=[];let c=0;for(const h of r){let d=Ah(h,a.childContextForArray(c));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),c++}return{arrayValue:{values:l}}})(t,e)}return(function(r,a){if((r=Sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return C5(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=qe.fromDate(r);return{timestampValue:nm(a.serializer,l)}}if(r instanceof qe){const l=new qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nm(a.serializer,l)}}if(r instanceof kr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fi)return{bytesValue:dR(a.serializer,r._byteString)};if(r instanceof Kt){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:j0(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof ur)return(function(c,h){const d=c instanceof ur?c.toArray():c;return{mapValue:{fields:{[BC]:{stringValue:FC},[Qf]:{arrayValue:{values:d.map((g=>{if(typeof g!="number")throw h.createError("VectorValues must only contain numeric values.");return M0(h.serializer,g)}))}}}}}})(r,a);if(bR(r))return r._toProto(a.serializer);throw a.createError(`Unsupported field value: ${zm(r)}`)})(t,e)}function YR(t,e){const n={};return OC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ka(t,((r,a)=>{const l=Ah(a,e.childContextForField(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function XR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof kr||t instanceof Fi||t instanceof Kt||t instanceof tp||t instanceof ur||bR(t))}function nb(t,e,n){if(!XR(n)||!MC(n)){const r=zm(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function oc(t,e,n){if((e=Sn(e))instanceof ep)return e._internalPath;if(typeof e=="string")return WR(t,e);throw om("Field path arguments must be of type string or ",t,!1,void 0,n)}const H3=new RegExp("[~\\*/\\[\\]]");function WR(t,e,n){if(e.search(H3)>=0)throw om(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ep(...e.split("."))._internalPath}catch{throw om(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function om(t,e,n,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||c)&&(d+=" (found",l&&(d+=` in field ${r}`),c&&(d+=` in document ${a}`),d+=")"),new be(de.INVALID_ARGUMENT,h+t+d)}function QR(t,e){return t.some((n=>n.isEqual(e)))}class JR{convertValue(e,n="none"){switch(Ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw je(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ka(e,((a,l)=>{r[a]=this.convertValue(l,n)})),r}convertVectorValue(e){const n=e.fields?.[Qf].arrayValue?.values?.map((r=>dn(r.doubleValue)));return new ur(n)}convertGeoPoint(e){return new kr(dn(e.latitude),dn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=qm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wu(e));default:return null}}convertTimestamp(e){const n=Ua(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pt.fromString(e);xt(vR(r),9688,{name:e});const a=new nc(r.get(1),r.get(3)),l=new De(r.popFirst(5));return a.isEqual(n)||Fs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class ib extends JR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}function lm(){return new Sh("deleteField")}const ZT="@firebase/firestore",eE="4.10.0";function tE(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class ZR{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new G3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(oc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class G3 extends ZR{data(){return super.data()}}function e2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rb{}class t2 extends rb{}function eh(t,e,...n){let r=[];e instanceof rb&&r.push(e),r=r.concat(n),(function(l){const c=l.filter((d=>d instanceof ip)).length,h=l.filter((d=>d instanceof Ch)).length;if(c>1||c>0&&h>0)throw new be(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class Ch extends t2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ch(e,n,r)}_apply(e){const n=this._parse(e);return n2(e._query,n),new Xa(e.firestore,e.converter,yv(e._query,n))}_parse(e){const n=np(e.firestore);return(function(l,c,h,d,m,g,v){let _;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new be(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){iE(v,g);const M=[];for(const D of v)M.push(nE(d,l,D));_={arrayValue:{values:M}}}else _=nE(d,l,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||iE(v,g),_=q3(h,c,v,g==="in"||g==="not-in");return Tn.create(m,g,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function th(t,e,n){const r=e,a=oc("where",t);return Ch._create(a,r,n)}class ip extends rb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ip(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Mr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const h=l.getFlattenedFilters();for(const d of h)n2(c,d),c=yv(c,d)})(e._query,n),new Xa(e.firestore,e.converter,yv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function nE(t,e,n){if(typeof(n=Sn(n))=="string"){if(n==="")throw new be(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WC(e)&&n.indexOf("/")!==-1)throw new be(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pt.fromString(n));if(!De.isDocumentKey(r))throw new be(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gT(t,new De(r))}if(n instanceof Kt)return gT(t,n._key);throw new be(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zm(n)}.`)}function iE(t,e){if(!Array.isArray(t)||t.length===0)throw new be(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function n2(t,e){const n=(function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new be(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function i2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pa extends ZR{constructor(e,n,r,a,l,c){super(e,n,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ju(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(oc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Pa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Pa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pa._jsonSchema={type:En("string",Pa._jsonSchemaVersion),bundleSource:En("string","DocumentSnapshot"),bundleName:En("string"),bundle:En("string")};class ju extends Pa{data(e={}){return super.data(e)}}class Oa{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new zl(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ju(this._firestore,this._userDataWriter,r.key,r,new zl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const d=new ju(a._firestore,a._userDataWriter,h.doc.key,h.doc,new zl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new ju(a._firestore,a._userDataWriter,h.doc.key,h.doc,new zl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,g=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),g=c.indexOf(h.doc.key)),{type:$3(h.type),doc:d,oldIndex:m,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Oa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Um.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:t})}}Oa._jsonSchemaVersion="firestore/querySnapshot/1.0",Oa._jsonSchema={type:En("string",Oa._jsonSchemaVersion),bundleSource:En("string","QuerySnapshot"),bundleName:En("string"),bundle:En("string")};function Rh(t){t=vi(t,Kt);const e=vi(t.firestore,is),n=Eh(e);return k3(n,t._key).then((r=>o2(e,t,r)))}function Wl(t){t=vi(t,Xa);const e=vi(t.firestore,is),n=Eh(e),r=new ib(e);return e2(t._query),M3(n,t._query).then((a=>new Oa(e,r,t,a)))}function cm(t,e,n){t=vi(t,Kt);const r=vi(t.firestore,is),a=i2(t.converter,e,n),l=np(r);return Nh(r,[KR(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,cr.none())])}function si(t,e,n,...r){t=vi(t,Kt);const a=vi(t.firestore,is),l=np(a);let c;return c=typeof(e=Sn(e))=="string"||e instanceof ep?F3(l,"updateDoc",t._key,e,n,r):B3(l,"updateDoc",t._key,e),Nh(a,[c.toMutation(t._key,cr.exists(!0))])}function r2(t){return Nh(vi(t.firestore,is),[new P0(t._key,cr.none())])}function s2(t,e){const n=vi(t.firestore,is),r=Nr(t),a=i2(t.converter,e),l=np(t.firestore);return Nh(n,[KR(l,"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,cr.exists(!1))]).then((()=>r))}function a2(t,...e){t=Sn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||tE(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(tE(e[r])){const m=e[r];e[r]=m.next?.bind(m),e[r+1]=m.error?.bind(m),e[r+2]=m.complete?.bind(m)}let l,c,h;if(t instanceof Kt)c=vi(t.firestore,is),h=Hm(t._key.path),l={next:m=>{e[r]&&e[r](o2(c,t,m))},error:e[r+1],complete:e[r+2]};else{const m=vi(t,Xa);c=vi(m.firestore,is),h=m._query;const g=new ib(c);l={next:v=>{e[r]&&e[r](new Oa(c,g,m,v))},error:e[r+1],complete:e[r+2]},e2(t._query)}const d=Eh(c);return D3(d,h,a,l)}function Nh(t,e){const n=Eh(t);return P3(n,e)}function o2(t,e,n){const r=n.docs.get(e._key),a=new ib(t);return new Pa(t,a,e._key,r,new zl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){VV(Go),zo(new Va("firestore",((r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),h=new is(new LV(r.getProvider("auth-internal")),new BV(c,r.getProvider("app-check-internal")),i5(c,a),c);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),Wr(ZT,eE,e),Wr(ZT,eE,"esm2020")})();const rE=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:JR,Bytes:Fi,CollectionReference:Vs,DocumentReference:Kt,DocumentSnapshot:Pa,FieldPath:ep,FieldValue:tp,Firestore:is,FirestoreError:be,GeoPoint:kr,Query:Xa,QueryCompositeFilterConstraint:ip,QueryConstraint:t2,QueryDocumentSnapshot:ju,QueryFieldFilterConstraint:Ch,QuerySnapshot:Oa,SnapshotMetadata:zl,Timestamp:qe,VectorValue:ur,_AutoId:Um,_ByteString:Gn,_DatabaseId:nc,_DocumentKey:De,_EmptyAuthCredentialsProvider:IC,_FieldPath:Hn,_cast:vi,_logWarn:Fo,_validateIsNotUsedTogether:kC,addDoc:s2,collection:Po,connectFirestoreEmulator:qR,deleteDoc:r2,deleteField:lm,doc:Nr,ensureFirestoreConfigured:Eh,executeWrite:Nh,getDoc:Rh,getDocs:Wl,getFirestore:HR,onSnapshot:a2,query:eh,setDoc:cm,updateDoc:si,where:th},Symbol.toStringTag,{value:"Module"}));const l2="firebasestorage.googleapis.com",K3="storageBucket",Y3=120*1e3,X3=600*1e3;class os extends as{constructor(e,n,r=0){super(Iy(e),`Firebase Storage: ${n} (${Iy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,os.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Iy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var rs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(rs||(rs={}));function Iy(t){return"storage/"+t}function W3(){const t="An unknown error occurred, please check the error payload for server response.";return new os(rs.UNKNOWN,t)}function Q3(){return new os(rs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function J3(){return new os(rs.CANCELED,"User canceled the upload/download.")}function Z3(t){return new os(rs.INVALID_URL,"Invalid URL '"+t+"'.")}function eL(t){return new os(rs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function sE(t){return new os(rs.INVALID_ARGUMENT,t)}function c2(){return new os(rs.APP_DELETED,"The Firebase app was deleted.")}function tL(t){return new os(rs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Ir{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ir.makeFromUrl(e,n)}catch{return new Ir(e,"")}if(r.path==="")return r;throw eL(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+a+c,"i"),d={bucket:1,path:3};function m(ae){ae.path_=decodeURIComponent(ae.path)}const g="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",A=new RegExp(`^https?://${v}/${g}/b/${a}/o${_}`,"i"),M={bucket:1,path:3},D=n===l2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",z=new RegExp(`^https?://${D}/${a}/${N}`,"i"),q=[{regex:h,indices:d,postModify:l},{regex:A,indices:M,postModify:m},{regex:z,indices:{bucket:1,path:2},postModify:m}];for(let ae=0;ae<q.length;ae++){const te=q[ae],le=te.regex.exec(e);if(le){const I=le[te.indices.bucket];let C=le[te.indices.path];C||(C=""),r=new Ir(I,C),te.postModify(r);break}}if(r==null)throw Z3(e);return r}}class nL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function iL(t,e,n){let r=1,a=null,l=null,c=!1,h=0;function d(){return h===2}let m=!1;function g(...N){m||(m=!0,e.apply(null,N))}function v(N){a=setTimeout(()=>{a=null,t(A,d())},N)}function _(){l&&clearTimeout(l)}function A(N,...z){if(m){_();return}if(N){_(),g.call(null,N,...z);return}if(d()||c){_(),g.call(null,N,...z);return}r<64&&(r*=2);let q;h===1?(h=2,q=0):q=(r+Math.random())*1e3,v(q)}let M=!1;function D(N){M||(M=!0,_(),!m&&(a!==null?(N||(h=2),clearTimeout(a),v(0)):N||(h=1)))}return v(0),l=setTimeout(()=>{c=!0,D(!0)},n),D}function rL(t){t(!1)}function sL(t){return t!==void 0}function aE(t,e,n,r){if(r<e)throw sE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw sE(`Invalid value for '${t}'. Expected ${n} or less.`)}function aL(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var um;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(um||(um={}));function oL(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class lL{constructor(e,n,r,a,l,c,h,d,m,g,v,_=!0,A=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=v,this.retry=_,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,D)=>{this.resolve_=M,this.reject_=D,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new uf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=h=>{const d=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const h=l.getErrorCode()===um.NO_ERROR,d=l.getStatus();if(!h||oL(d,this.additionalRetryCodes_)&&this.retry){const g=l.getErrorCode()===um.ABORT;r(!1,new uf(!1,null,g));return}const m=this.successCodes_.indexOf(d)!==-1;r(!0,new uf(m,l))})},n=(r,a)=>{const l=this.resolve_,c=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());sL(d)?l(d):l()}catch(d){c(d)}else if(h!==null){const d=W3();d.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,d)):c(d)}else if(a.canceled){const d=this.appDelete_?c2():J3();c(d)}else{const d=Q3();c(d)}};this.canceled_?n(!1,new uf(!1,null,!0)):this.backoffId_=iL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&rL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class uf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function cL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function uL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function hL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function dL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function fL(t,e,n,r,a,l,c=!0,h=!1){const d=aL(t.urlParams),m=t.url+d,g=Object.assign({},t.headers);return hL(g,e),cL(g,n),uL(g,l),dL(g,r),new lL(m,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,h)}function mL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function pL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class hm{constructor(e,n){this._service=e,n instanceof Ir?this._location=n:this._location=Ir.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new hm(e,n)}get root(){const e=new Ir(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pL(this._location.path)}get storage(){return this._service}get parent(){const e=mL(this._location.path);if(e===null)return null;const n=new Ir(this._location.bucket,e);return new hm(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw tL(e)}}function oE(t,e){const n=e?.[K3];return n==null?null:Ir.makeFromBucketSpec(n,t)}function gL(t,e,n,r={}){t.host=`${e}:${n}`;const a=Ho(e);a&&(u0(`https://${t.host}/b`),h0("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=r;l&&(t._overrideAuthToken=typeof l=="string"?l:RA(l,t.app.options.projectId))}class yL{constructor(e,n,r,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=l2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Y3,this._maxUploadRetryTime=X3,this._requests=new Set,a!=null?this._bucket=Ir.makeFromBucketSpec(a,this._host):this._bucket=oE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ir.makeFromBucketSpec(this._url,e):this._bucket=oE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){aE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){aE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new hm(this,e)}_makeRequest(e,n,r,a,l=!0){if(this._deleted)return new nL(c2());{const c=fL(e,this._appId,r,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const lE="@firebase/storage",cE="0.14.0";const u2="storage";function vL(t=m0(),e){t=Sn(t);const r=Om(t,u2).getImmediate({identifier:e}),a=SA("storage");return a&&bL(r,...a),r}function bL(t,e,n,r={}){gL(t,e,n,r)}function xL(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new yL(n,r,a,e,Go)}function _L(){zo(new Va(u2,xL,"PUBLIC").setMultipleInstances(!0)),Wr(lE,cE,""),Wr(lE,cE,"esm2020")}_L();const wL={apiKey:"AIzaSyC7IaK8e0JimVT2DeKQovTDLPyufibEu_4",authDomain:"sunsar-bingo.firebaseapp.com",projectId:"sunsar-bingo",storageBucket:"sunsar-bingo.firebasestorage.app",messagingSenderId:"256131852935",appId:"1:256131852935:web:fe514c1e6758e5af252622"},rp=DA(wL),Io=_C(rp),h2=new Xr,oi=HR(rp);vL(rp);const uE=Object.freeze(Object.defineProperty({__proto__:null,app:rp,auth:Io,db:oi,googleProvider:h2},Symbol.toStringTag,{value:"Module"})),d2=S.createContext(void 0),TL=({children:t})=>{const[e,n]=S.useState(null),[r,a]=S.useState(!0),[l,c]=S.useState(null);S.useEffect(()=>{const g=sC(Io,async v=>{if(v){const _={uid:v.uid,email:v.email,displayName:v.displayName,photoURL:v.photoURL};n(_),c(null);try{const{doc:A,setDoc:M,Timestamp:D}=await Ol(async()=>{const{doc:z,setDoc:$,Timestamp:q}=await Promise.resolve().then(()=>rE);return{doc:z,setDoc:$,Timestamp:q}},[]),{db:N}=await Ol(async()=>{const{db:z}=await Promise.resolve().then(()=>uE);return{db:z}},void 0);await M(A(N,"users",v.uid),{..._,lastSeen:D.now()},{merge:!0})}catch(A){console.error("Error syncing user profile:",A)}}else n(null);a(!1)});return()=>g()},[]);const h=async()=>{c(null);try{await vC(Io,h2)}catch(g){c(g.message||"Failed to sign in")}},d=async()=>{await aC(Io)},m=async g=>{if(Io.currentUser)try{const{updateProfile:v}=await Ol(async()=>{const{updateProfile:D}=await Promise.resolve().then(()=>OV);return{updateProfile:D}},void 0);await v(Io.currentUser,{displayName:g}),n(D=>D?{...D,displayName:g}:null);const{doc:_,updateDoc:A}=await Ol(async()=>{const{doc:D,updateDoc:N}=await Promise.resolve().then(()=>rE);return{doc:D,updateDoc:N}},void 0),{db:M}=await Ol(async()=>{const{db:D}=await Promise.resolve().then(()=>uE);return{db:D}},void 0);await A(_(M,"users",Io.currentUser.uid),{displayName:g})}catch(v){throw console.error("Error updating profile:",v),v}};return b.jsx(d2.Provider,{value:{user:e,loading:r,signIn:h,logout:d,updateProfileName:m,error:l},children:t})},Wa=()=>{const t=S.useContext(d2);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},sb=S.createContext({});function ab(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const f2=typeof window<"u",m2=f2?S.useLayoutEffect:S.useEffect,sp=S.createContext(null);function ob(t,e){t.indexOf(e)===-1&&t.push(e)}function lb(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ss=(t,e,n)=>n>e?e:n<t?t:n;let cb=()=>{};const Hs={},p2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function g2(t){return typeof t=="object"&&t!==null}const y2=t=>/^0[^.\s]+$/u.test(t);function ub(t){let e;return()=>(e===void 0&&(e=t()),e)}const hr=t=>t,EL=(t,e)=>n=>e(t(n)),Ih=(...t)=>t.reduce(EL),nh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class hb{constructor(){this.subscriptions=[]}add(e){return ob(this.subscriptions,e),()=>lb(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const js=t=>t*1e3,lr=t=>t/1e3;function v2(t,e){return e?t*(1e3/e):0}const b2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,SL=1e-7,AL=12;function CL(t,e,n,r,a){let l,c,h=0;do c=e+(n-e)/2,l=b2(c,r,a)-t,l>0?n=c:e=c;while(Math.abs(l)>SL&&++h<AL);return c}function Dh(t,e,n,r){if(t===e&&n===r)return hr;const a=l=>CL(l,0,1,t,n);return l=>l===0||l===1?l:b2(a(l),e,r)}const x2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,_2=t=>e=>1-t(1-e),w2=Dh(.33,1.53,.69,.99),db=_2(w2),T2=x2(db),E2=t=>(t*=2)<1?.5*db(t):.5*(2-Math.pow(2,-10*(t-1))),fb=t=>1-Math.sin(Math.acos(t)),S2=_2(fb),A2=x2(fb),RL=Dh(.42,0,1,1),NL=Dh(0,0,.58,1),C2=Dh(.42,0,.58,1),IL=t=>Array.isArray(t)&&typeof t[0]!="number",R2=t=>Array.isArray(t)&&typeof t[0]=="number",DL={linear:hr,easeIn:RL,easeInOut:C2,easeOut:NL,circIn:fb,circInOut:A2,circOut:S2,backIn:db,backInOut:T2,backOut:w2,anticipate:E2},kL=t=>typeof t=="string",hE=t=>{if(R2(t)){cb(t.length===4);const[e,n,r,a]=t;return Dh(e,n,r,a)}else if(kL(t))return DL[t];return t},hf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ML(t,e){let n=new Set,r=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(g){c.has(g)&&(m.schedule(g),t()),g(h)}const m={schedule:(g,v=!1,_=!1)=>{const M=_&&a?n:r;return v&&c.add(g),M.has(g)||M.add(g),g},cancel:g=>{r.delete(g),c.delete(g)},process:g=>{if(h=g,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(d),n.clear(),a=!1,l&&(l=!1,m.process(g))}};return m}const PL=40;function N2(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=hf.reduce((q,ae)=>(q[ae]=ML(l),q),{}),{setup:h,read:d,resolveKeyframes:m,preUpdate:g,update:v,preRender:_,render:A,postRender:M}=c,D=()=>{const q=Hs.useManualTiming?a.timestamp:performance.now();n=!1,Hs.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(q-a.timestamp,PL),1)),a.timestamp=q,a.isProcessing=!0,h.process(a),d.process(a),m.process(a),g.process(a),v.process(a),_.process(a),A.process(a),M.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(D))},N=()=>{n=!0,r=!0,a.isProcessing||t(D)};return{schedule:hf.reduce((q,ae)=>{const te=c[ae];return q[ae]=(le,I=!1,C=!1)=>(n||N(),te.schedule(le,I,C)),q},{}),cancel:q=>{for(let ae=0;ae<hf.length;ae++)c[hf[ae]].cancel(q)},state:a,steps:c}}const{schedule:Lt,cancel:Ha,state:Zn,steps:Dy}=N2(typeof requestAnimationFrame<"u"?requestAnimationFrame:hr,!0);let Mf;function OL(){Mf=void 0}const gi={now:()=>(Mf===void 0&&gi.set(Zn.isProcessing||Hs.useManualTiming?Zn.timestamp:performance.now()),Mf),set:t=>{Mf=t,queueMicrotask(OL)}},I2=t=>e=>typeof e=="string"&&e.startsWith(t),D2=I2("--"),VL=I2("var(--"),mb=t=>VL(t)?jL.test(t.split("/*")[0].trim()):!1,jL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function dE(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const gc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ih={...gc,transform:t=>ss(0,1,t)},df={...gc,default:1},Lu=t=>Math.round(t*1e5)/1e5,pb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function LL(t){return t==null}const UL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,gb=(t,e)=>n=>!!(typeof n=="string"&&UL.test(n)&&n.startsWith(t)||e&&!LL(n)&&Object.prototype.hasOwnProperty.call(n,e)),k2=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,l,c,h]=r.match(pb);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},zL=t=>ss(0,255,t),ky={...gc,transform:t=>Math.round(zL(t))},Oo={test:gb("rgb","red"),parse:k2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ky.transform(t)+", "+ky.transform(e)+", "+ky.transform(n)+", "+Lu(ih.transform(r))+")"};function BL(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Rv={test:gb("#"),parse:BL,transform:Oo.transform},kh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ca=kh("deg"),es=kh("%"),Te=kh("px"),FL=kh("vh"),qL=kh("vw"),fE={...es,parse:t=>es.parse(t)/100,transform:t=>es.transform(t*100)},Bl={test:gb("hsl","hue"),parse:k2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+es.transform(Lu(e))+", "+es.transform(Lu(n))+", "+Lu(ih.transform(r))+")"},wn={test:t=>Oo.test(t)||Rv.test(t)||Bl.test(t),parse:t=>Oo.test(t)?Oo.parse(t):Bl.test(t)?Bl.parse(t):Rv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Oo.transform(t):Bl.transform(t),getAnimatableNone:t=>{const e=wn.parse(t);return e.alpha=0,wn.transform(e)}},HL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GL(t){return isNaN(t)&&typeof t=="string"&&(t.match(pb)?.length||0)+(t.match(HL)?.length||0)>0}const M2="number",P2="color",$L="var",KL="var(",mE="${}",YL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function rh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(YL,d=>(wn.test(d)?(r.color.push(l),a.push(P2),n.push(wn.parse(d))):d.startsWith(KL)?(r.var.push(l),a.push($L),n.push(d)):(r.number.push(l),a.push(M2),n.push(parseFloat(d))),++l,mE)).split(mE);return{values:n,split:h,indexes:r,types:a}}function O2(t){return rh(t).values}function V2(t){const{split:e,types:n}=rh(t),r=e.length;return a=>{let l="";for(let c=0;c<r;c++)if(l+=e[c],a[c]!==void 0){const h=n[c];h===M2?l+=Lu(a[c]):h===P2?l+=wn.transform(a[c]):l+=a[c]}return l}}const XL=t=>typeof t=="number"?0:wn.test(t)?wn.getAnimatableNone(t):t;function WL(t){const e=O2(t);return V2(t)(e.map(XL))}const Ga={test:GL,parse:O2,createTransformer:V2,getAnimatableNone:WL};function My(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function QL({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=My(d,h,t+1/3),l=My(d,h,t),c=My(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function dm(t,e){return n=>n>0?e:t}const $t=(t,e,n)=>t+(e-t)*n,Py=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},JL=[Rv,Oo,Bl],ZL=t=>JL.find(e=>e.test(t));function pE(t){const e=ZL(t);if(!e)return!1;let n=e.parse(t);return e===Bl&&(n=QL(n)),n}const gE=(t,e)=>{const n=pE(t),r=pE(e);if(!n||!r)return dm(t,e);const a={...n};return l=>(a.red=Py(n.red,r.red,l),a.green=Py(n.green,r.green,l),a.blue=Py(n.blue,r.blue,l),a.alpha=$t(n.alpha,r.alpha,l),Oo.transform(a))},Nv=new Set(["none","hidden"]);function e6(t,e){return Nv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function t6(t,e){return n=>$t(t,e,n)}function yb(t){return typeof t=="number"?t6:typeof t=="string"?mb(t)?dm:wn.test(t)?gE:r6:Array.isArray(t)?j2:typeof t=="object"?wn.test(t)?gE:n6:dm}function j2(t,e){const n=[...t],r=n.length,a=t.map((l,c)=>yb(l)(l,e[c]));return l=>{for(let c=0;c<r;c++)n[c]=a[c](l);return n}}function n6(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=yb(t[a])(t[a],e[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function i6(t,e){const n=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][r[l]],h=t.values[c]??0;n[a]=h,r[l]++}return n}const r6=(t,e)=>{const n=Ga.createTransformer(e),r=rh(t),a=rh(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Nv.has(t)&&!a.values.length||Nv.has(e)&&!r.values.length?e6(t,e):Ih(j2(i6(r,a),a.values),n):dm(t,e)};function L2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?$t(t,e,n):yb(t)(t,e)}const s6=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Lt.update(e,n),stop:()=>Ha(e),now:()=>Zn.isProcessing?Zn.timestamp:gi.now()}},U2=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)r+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},fm=2e4;function vb(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<fm;)e+=n,r=t.next(e);return e>=fm?1/0:e}function a6(t,e=100,n){const r=n({...t,keyframes:[0,e]}),a=Math.min(vb(r),fm);return{type:"keyframes",ease:l=>r.next(a*l).value/e,duration:lr(a)}}const o6=5;function z2(t,e,n){const r=Math.max(e-o6,0);return v2(n-t(r),e-r)}const rn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Oy=.001;function l6({duration:t=rn.duration,bounce:e=rn.bounce,velocity:n=rn.velocity,mass:r=rn.mass}){let a,l,c=1-e;c=ss(rn.minDamping,rn.maxDamping,c),t=ss(rn.minDuration,rn.maxDuration,lr(t)),c<1?(a=m=>{const g=m*c,v=g*t,_=g-n,A=Iv(m,c),M=Math.exp(-v);return Oy-_/A*M},l=m=>{const v=m*c*t,_=v*n+n,A=Math.pow(c,2)*Math.pow(m,2)*t,M=Math.exp(-v),D=Iv(Math.pow(m,2),c);return(-a(m)+Oy>0?-1:1)*((_-A)*M)/D}):(a=m=>{const g=Math.exp(-m*t),v=(m-n)*t+1;return-Oy+g*v},l=m=>{const g=Math.exp(-m*t),v=(n-m)*(t*t);return g*v});const h=5/t,d=u6(a,l,h);if(t=js(t),isNaN(d))return{stiffness:rn.stiffness,damping:rn.damping,duration:t};{const m=Math.pow(d,2)*r;return{stiffness:m,damping:c*2*Math.sqrt(r*m),duration:t}}}const c6=12;function u6(t,e,n){let r=n;for(let a=1;a<c6;a++)r=r-t(r)/e(r);return r}function Iv(t,e){return t*Math.sqrt(1-e*e)}const h6=["duration","bounce"],d6=["stiffness","damping","mass"];function yE(t,e){return e.some(n=>t[n]!==void 0)}function f6(t){let e={velocity:rn.velocity,stiffness:rn.stiffness,damping:rn.damping,mass:rn.mass,isResolvedFromDuration:!1,...t};if(!yE(t,d6)&&yE(t,h6))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*ss(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:rn.mass,stiffness:a,damping:l}}else{const n=l6(t);e={...e,...n,mass:rn.mass},e.isResolvedFromDuration=!0}return e}function mm(t=rn.visualDuration,e=rn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:m,mass:g,duration:v,velocity:_,isResolvedFromDuration:A}=f6({...n,velocity:-lr(n.velocity||0)}),M=_||0,D=m/(2*Math.sqrt(d*g)),N=c-l,z=lr(Math.sqrt(d/g)),$=Math.abs(N)<5;r||(r=$?rn.restSpeed.granular:rn.restSpeed.default),a||(a=$?rn.restDelta.granular:rn.restDelta.default);let q;if(D<1){const te=Iv(z,D);q=le=>{const I=Math.exp(-D*z*le);return c-I*((M+D*z*N)/te*Math.sin(te*le)+N*Math.cos(te*le))}}else if(D===1)q=te=>c-Math.exp(-z*te)*(N+(M+z*N)*te);else{const te=z*Math.sqrt(D*D-1);q=le=>{const I=Math.exp(-D*z*le),C=Math.min(te*le,300);return c-I*((M+D*z*N)*Math.sinh(C)+te*N*Math.cosh(C))/te}}const ae={calculatedDuration:A&&v||null,next:te=>{const le=q(te);if(A)h.done=te>=v;else{let I=te===0?M:0;D<1&&(I=te===0?js(M):z2(q,te,le));const C=Math.abs(I)<=r,O=Math.abs(c-le)<=a;h.done=C&&O}return h.value=h.done?c:le,h},toString:()=>{const te=Math.min(vb(ae),fm),le=U2(I=>ae.next(te*I).value,te,30);return te+"ms "+le},toTransition:()=>{}};return ae}mm.applyToOptions=t=>{const e=a6(t,100,mm);return t.ease=e.ease,t.duration=js(e.duration),t.type="keyframes",t};function Dv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:d,restDelta:m=.5,restSpeed:g}){const v=t[0],_={done:!1,value:v},A=C=>h!==void 0&&C<h||d!==void 0&&C>d,M=C=>h===void 0?d:d===void 0||Math.abs(h-C)<Math.abs(d-C)?h:d;let D=n*e;const N=v+D,z=c===void 0?N:c(N);z!==N&&(D=z-v);const $=C=>-D*Math.exp(-C/r),q=C=>z+$(C),ae=C=>{const O=$(C),k=q(C);_.done=Math.abs(O)<=m,_.value=_.done?z:k};let te,le;const I=C=>{A(_.value)&&(te=C,le=mm({keyframes:[_.value,M(_.value)],velocity:z2(q,C,_.value),damping:a,stiffness:l,restDelta:m,restSpeed:g}))};return I(0),{calculatedDuration:null,next:C=>{let O=!1;return!le&&te===void 0&&(O=!0,ae(C),I(C)),te!==void 0&&C>=te?le.next(C-te):(!O&&ae(C),_)}}}function m6(t,e,n){const r=[],a=n||Hs.mix||L2,l=t.length-1;for(let c=0;c<l;c++){let h=a(t[c],t[c+1]);if(e){const d=Array.isArray(e)?e[c]||hr:e;h=Ih(d,h)}r.push(h)}return r}function p6(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const l=t.length;if(cb(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=m6(e,r,a),d=h.length,m=g=>{if(c&&g<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const _=nh(t[v],t[v+1],g);return h[v](_)};return n?g=>m(ss(t[0],t[l-1],g)):m}function g6(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=nh(0,e,r);t.push($t(n,1,a))}}function y6(t){const e=[0];return g6(e,t.length-1),e}function v6(t,e){return t.map(n=>n*e)}function b6(t,e){return t.map(()=>e||C2).splice(0,t.length-1)}function Uu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=IL(r)?r.map(hE):hE(r),l={done:!1,value:e[0]},c=v6(n&&n.length===e.length?n:y6(e),t),h=p6(c,e,{ease:Array.isArray(a)?a:b6(e,a)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const x6=t=>t!==null;function bb(t,{repeat:e,repeatType:n="loop"},r,a=1){const l=t.filter(x6),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||r===void 0?l[h]:r}const _6={decay:Dv,inertia:Dv,tween:Uu,keyframes:Uu,spring:mm};function B2(t){typeof t.type=="string"&&(t.type=_6[t.type])}class xb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const w6=t=>t/100;class _b extends xb{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==gi.now()&&this.tick(gi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;B2(e);const{type:n=Uu,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:h}=e;const d=n||Uu;d!==Uu&&typeof h[0]!="number"&&(this.mixKeyframes=Ih(w6,L2(h[0],h[1])),h=[0,100]);const m=d({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=vb(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:g,repeat:v,repeatType:_,repeatDelay:A,type:M,onUpdate:D,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const z=this.currentTime-m*(this.playbackSpeed>=0?1:-1),$=this.playbackSpeed>=0?z<0:z>a;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let q=this.currentTime,ae=r;if(v){const C=Math.min(this.currentTime,a)/h;let O=Math.floor(C),k=C%1;!k&&C>=1&&(k=1),k===1&&O--,O=Math.min(O,v+1),O%2&&(_==="reverse"?(k=1-k,A&&(k-=A/h)):_==="mirror"&&(ae=c)),q=ss(0,1,k)*h}const te=$?{done:!1,value:g[0]}:ae.next(q);l&&(te.value=l(te.value));let{done:le}=te;!$&&d!==null&&(le=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&le);return I&&M!==Dv&&(te.value=bb(g,this.options,N,this.speed)),D&&D(te.value),I&&this.finish(),te}then(e,n){return this.finished.then(e,n)}get duration(){return lr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+lr(e)}get time(){return lr(this.currentTime)}set time(e){e=js(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(gi.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=lr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=s6,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(gi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function T6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Vo=t=>t*180/Math.PI,kv=t=>{const e=Vo(Math.atan2(t[1],t[0]));return Mv(e)},E6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:kv,rotateZ:kv,skewX:t=>Vo(Math.atan(t[1])),skewY:t=>Vo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Mv=t=>(t=t%360,t<0&&(t+=360),t),vE=kv,bE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),xE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),S6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bE,scaleY:xE,scale:t=>(bE(t)+xE(t))/2,rotateX:t=>Mv(Vo(Math.atan2(t[6],t[5]))),rotateY:t=>Mv(Vo(Math.atan2(-t[2],t[0]))),rotateZ:vE,rotate:vE,skewX:t=>Vo(Math.atan(t[4])),skewY:t=>Vo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Pv(t){return t.includes("scale")?1:0}function Ov(t,e){if(!t||t==="none")return Pv(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=S6,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=E6,a=h}if(!a)return Pv(e);const l=r[e],c=a[1].split(",").map(C6);return typeof l=="function"?l(c):c[l]}const A6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ov(n,e)};function C6(t){return parseFloat(t.trim())}const yc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vc=new Set(yc),_E=t=>t===gc||t===Te,R6=new Set(["x","y","z"]),N6=yc.filter(t=>!R6.has(t));function I6(t){const e=[];return N6.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ia={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ov(e,"x"),y:(t,{transform:e})=>Ov(e,"y")};Ia.translateX=Ia.x;Ia.translateY=Ia.y;const Lo=new Set;let Vv=!1,jv=!1,Lv=!1;function F2(){if(jv){const t=Array.from(Lo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=I6(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,c])=>{r.getValue(l)?.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}jv=!1,Vv=!1,Lo.forEach(t=>t.complete(Lv)),Lo.clear()}function q2(){Lo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(jv=!0)})}function D6(){Lv=!0,q2(),F2(),Lv=!1}class wb{constructor(e,n,r,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Lo.add(this),Vv||(Vv=!0,Lt.read(q2),Lt.resolveKeyframes(F2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const h=r.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}T6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Lo.delete(this)}cancel(){this.state==="scheduled"&&(Lo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const k6=t=>t.startsWith("--");function M6(t,e,n){k6(e)?t.style.setProperty(e,n):t.style[e]=n}const P6=ub(()=>window.ScrollTimeline!==void 0),O6={};function V6(t,e){const n=ub(t);return()=>O6[e]??n()}const H2=V6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Nu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,wE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nu([0,.65,.55,1]),circOut:Nu([.55,0,1,.45]),backIn:Nu([.31,.01,.66,-.59]),backOut:Nu([.33,1.53,.69,.99])};function G2(t,e){if(t)return typeof t=="function"?H2()?U2(t,e):"ease-out":R2(t)?Nu(t):Array.isArray(t)?t.map(n=>G2(n,e)||wE.easeOut):wE[t]}function j6(t,e,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:d}={},m=void 0){const g={[e]:n};d&&(g.offset=d);const v=G2(h,a);Array.isArray(v)&&(g.easing=v);const _={delay:r,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(_.pseudoElement=m),t.animate(g,_)}function $2(t){return typeof t=="function"&&"applyToOptions"in t}function L6({type:t,...e}){return $2(t)&&H2()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class U6 extends xb{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,cb(typeof e.type!="string");const m=L6(e);this.animation=j6(n,r,a,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=bb(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):M6(n,r,g),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return lr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+lr(e)}get time(){return lr(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=js(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&P6()?(this.animation.timeline=e,hr):n(this)}}const K2={anticipate:E2,backInOut:T2,circInOut:A2};function z6(t){return t in K2}function B6(t){typeof t.ease=="string"&&z6(t.ease)&&(t.ease=K2[t.ease])}const Vy=10;class F6 extends U6{constructor(e){B6(e),B2(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new _b({...c,autoplay:!1}),d=Math.max(Vy,gi.now()-this.startTime),m=ss(0,Vy,d-Vy);n.setWithVelocity(h.sample(Math.max(0,d-m)).value,h.sample(d).value,m),h.stop()}}const TE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ga.test(t)||t==="0")&&!t.startsWith("url("));function q6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function H6(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=TE(a,e),h=TE(l,e);return!c||!h?!1:q6(t)||(n==="spring"||$2(n))&&r}function Uv(t){t.duration=0,t.type="keyframes"}const G6=new Set(["opacity","clipPath","filter","transform"]),$6=ub(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function K6(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=e.owner.getProps();return $6()&&n&&G6.has(n)&&(n!=="transform"||!m)&&!d&&!r&&a!=="mirror"&&l!==0&&c!=="inertia"}const Y6=40;class X6 extends xb{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:d,motionValue:m,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=gi.now();const _={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:c,name:d,motionValue:m,element:g,...v},A=g?.KeyframeResolver||wb;this.keyframeResolver=new A(h,(M,D,N)=>this.onKeyframesResolved(M,D,_,!N),d,m,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:d,isHandoff:m,onUpdate:g}=r;this.resolvedAt=gi.now(),H6(e,l,c,h)||((Hs.instantAnimations||!d)&&g?.(bb(e,r,n)),e[0]=e[e.length-1],Uv(r),r.repeat=0);const _={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Y6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},A=!m&&K6(_)?new F6({..._,element:_.motionValue.owner.current}):new _b(_);A.finished.then(()=>this.notifyFinished()).catch(hr),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),D6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const W6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Q6(t){const e=W6.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function Y2(t,e,n=1){const[r,a]=Q6(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const c=l.trim();return p2(c)?parseFloat(c):c}return mb(a)?Y2(a,e,n+1):a}function Tb(t,e){return t?.[e]??t?.default??t}const J6={type:"spring",stiffness:500,damping:25,restSpeed:10},Z6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),eU={type:"keyframes",duration:.8},tU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nU=(t,{keyframes:e})=>e.length>2?eU:vc.has(t)?t.startsWith("scale")?Z6(e[1]):J6:tU;function iU({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:d,elapsed:m,...g}){return!!Object.keys(g).length}const rU=t=>t!==null;function sU(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter(rU),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function X2(t,e,n,r=0,a=1){const l=Array.from(t).sort((m,g)=>m.sortNodePosition(g)).indexOf(e),c=t.size,h=(c-1)*r;return typeof n=="function"?n(l,c):a===1?l*r:h-l*r}const Eb=(t,e,n,r={},a,l)=>c=>{const h=Tb(r,t)||{},d=h.delay||r.delay||0;let{elapsed:m=0}=r;m=m-js(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:_=>{e.set(_),h.onUpdate&&h.onUpdate(_)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};iU(h)||Object.assign(g,nU(t,g)),g.duration&&(g.duration=js(g.duration)),g.repeatDelay&&(g.repeatDelay=js(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Uv(g),g.delay===0&&(v=!0)),(Hs.instantAnimations||Hs.skipAnimations)&&(v=!0,Uv(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,v&&!l&&e.get()!==void 0){const _=sU(g.keyframes,h);if(_!==void 0){Lt.update(()=>{g.onUpdate(_),g.onComplete()});return}}return h.isSync?new _b(g):new X6(g)},W2=new Set(["width","height","top","left","right","bottom",...yc]),EE=30,aU=t=>!isNaN(parseFloat(t));class oU{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const a=gi.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=gi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=aU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new hb);const r=this.events[e].add(n);return e==="change"?()=>{r(),Lt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=gi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>EE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,EE);return v2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function lc(t,e){return new oU(t,e)}function SE(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Sb(t,e,n,r){if(typeof e=="function"){const[a,l]=SE(r);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=SE(r);e=e(n!==void 0?n:t.custom,a,l)}return e}function Ql(t,e,n){const r=t.getProps();return Sb(r,e,n!==void 0?n:r.custom,t)}const zv=t=>Array.isArray(t);function lU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,lc(n))}function cU(t){return zv(t)?t[t.length-1]||0:t}function uU(t,e){const n=Ql(t,e);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const c in l){const h=cU(l[c]);lU(t,c,h)}}const ci=t=>!!(t&&t.getVelocity);function hU(t){return!!(ci(t)&&t.add)}function Bv(t,e){const n=t.getValue("willChange");if(hU(n))return n.add(e);if(!n&&Hs.WillChange){const r=new Hs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Ab(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const dU="framerAppearId",Q2="data-"+Ab(dU);function J2(t){return t.props[Q2]}function fU({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Z2(t,e,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...h}=e;r&&(l=r);const d=[],m=a&&t.animationState&&t.animationState.getState()[a];for(const g in h){const v=t.getValue(g,t.latestValues[g]??null),_=h[g];if(_===void 0||m&&fU(m,g))continue;const A={delay:n,...Tb(l||{},g)},M=v.get();if(M!==void 0&&!v.isAnimating&&!Array.isArray(_)&&_===M&&!A.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const z=J2(t);if(z){const $=window.MotionHandoffAnimation(z,g,Lt);$!==null&&(A.startTime=$,D=!0)}}Bv(t,g),v.start(Eb(g,v,_,t.shouldReduceMotion&&W2.has(g)?{type:!1}:A,t,D));const N=v.animation;N&&d.push(N)}return c&&Promise.all(d).then(()=>{Lt.update(()=>{c&&uU(t,c)})}),d}function Fv(t,e,n={}){const r=Ql(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(Z2(t,r,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:v}=a;return mU(t,e,d,m,g,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,m]=h==="beforeChildren"?[l,c]:[c,l];return d().then(()=>m())}else return Promise.all([l(),c(n.delay)])}function mU(t,e,n=0,r=0,a=0,l=1,c){const h=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),h.push(Fv(d,e,{...c,delay:n+(typeof r=="function"?0:r)+X2(t.variantChildren,d,r,a,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function pU(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(l=>Fv(t,l,n));r=Promise.all(a)}else if(typeof e=="string")r=Fv(t,e,n);else{const a=typeof e=="function"?Ql(t,e,n.custom):e;r=Promise.all(Z2(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const gU={test:t=>t==="auto",parse:t=>t},eN=t=>e=>e.test(t),tN=[gc,Te,es,Ca,qL,FL,gU],AE=t=>tN.find(eN(t));function yU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||y2(t):!0}const vU=new Set(["brightness","contrast","saturate","opacity"]);function bU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(pb)||[];if(!r)return t;const a=n.replace(r,"");let l=vU.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+a+")"}const xU=/\b([a-z-]*)\(.*?\)/gu,qv={...Ga,getAnimatableNone:t=>{const e=t.match(xU);return e?e.map(bU).join(" "):t}},CE={...gc,transform:Math.round},_U={rotate:Ca,rotateX:Ca,rotateY:Ca,rotateZ:Ca,scale:df,scaleX:df,scaleY:df,scaleZ:df,skew:Ca,skewX:Ca,skewY:Ca,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:ih,originX:fE,originY:fE,originZ:Te},Cb={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,inset:Te,insetBlock:Te,insetBlockStart:Te,insetBlockEnd:Te,insetInline:Te,insetInlineStart:Te,insetInlineEnd:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,paddingBlock:Te,paddingBlockStart:Te,paddingBlockEnd:Te,paddingInline:Te,paddingInlineStart:Te,paddingInlineEnd:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,marginBlock:Te,marginBlockStart:Te,marginBlockEnd:Te,marginInline:Te,marginInlineStart:Te,marginInlineEnd:Te,backgroundPositionX:Te,backgroundPositionY:Te,..._U,zIndex:CE,fillOpacity:ih,strokeOpacity:ih,numOctaves:CE},wU={...Cb,color:wn,backgroundColor:wn,outlineColor:wn,fill:wn,stroke:wn,borderColor:wn,borderTopColor:wn,borderRightColor:wn,borderBottomColor:wn,borderLeftColor:wn,filter:qv,WebkitFilter:qv},nN=t=>wU[t];function iN(t,e){let n=nN(t);return n!==qv&&(n=Ga),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const TU=new Set(["auto","none","0"]);function EU(t,e,n){let r=0,a;for(;r<t.length&&!a;){const l=t[r];typeof l=="string"&&!TU.has(l)&&rh(l).values.length&&(a=t[r]),r++}if(a&&n)for(const l of e)t[l]=iN(n,a)}class SU extends wb{constructor(e,n,r,a,l){super(e,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let v=e[g];if(typeof v=="string"&&(v=v.trim(),mb(v))){const _=Y2(v,n.current);_!==void 0&&(e[g]=_),g===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!W2.has(r)||e.length!==2)return;const[a,l]=e,c=AE(a),h=AE(l),d=dE(a),m=dE(l);if(d!==m&&Ia[r]){this.needsMeasurement=!0;return}if(c!==h)if(_E(c)&&_E(h))for(let g=0;g<e.length;g++){const v=e[g];typeof v=="string"&&(e[g]=parseFloat(v))}else Ia[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||yU(e[a]))&&r.push(a);r.length&&EU(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ia[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=Ia[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function AU(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const a=n?.[t]??r.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const rN=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function sN(t){return g2(t)&&"offsetHeight"in t}const{schedule:Rb}=N2(queueMicrotask,!1),Sr={x:!1,y:!1};function aN(){return Sr.x||Sr.y}function CU(t){return t==="x"||t==="y"?Sr[t]?null:(Sr[t]=!0,()=>{Sr[t]=!1}):Sr.x||Sr.y?null:(Sr.x=Sr.y=!0,()=>{Sr.x=Sr.y=!1})}function oN(t,e){const n=AU(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function RE(t){return!(t.pointerType==="touch"||aN())}function RU(t,e,n={}){const[r,a,l]=oN(t,n),c=h=>{if(!RE(h))return;const{target:d}=h,m=e(d,h);if(typeof m!="function"||!d)return;const g=v=>{RE(v)&&(m(v),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,a)};return r.forEach(h=>{h.addEventListener("pointerenter",c,a)}),l}const lN=(t,e)=>e?t===e?!0:lN(t,e.parentElement):!1,Nb=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,NU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function cN(t){return NU.has(t.tagName)||t.isContentEditable===!0}const Pf=new WeakSet;function NE(t){return e=>{e.key==="Enter"&&t(e)}}function jy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const IU=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=NE(()=>{if(Pf.has(n))return;jy(n,"down");const a=NE(()=>{jy(n,"up")}),l=()=>jy(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function IE(t){return Nb(t)&&!aN()}function DU(t,e,n={}){const[r,a,l]=oN(t,n),c=h=>{const d=h.currentTarget;if(!IE(h))return;Pf.add(d);const m=e(d,h),g=(A,M)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",_),Pf.has(d)&&Pf.delete(d),IE(A)&&typeof m=="function"&&m(A,{success:M})},v=A=>{g(A,d===window||d===document||n.useGlobalTarget||lN(d,A.target))},_=A=>{g(A,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",_,a)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),sN(h)&&(h.addEventListener("focus",m=>IU(m,a)),!cN(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function uN(t){return g2(t)&&"ownerSVGElement"in t}function kU(t){return uN(t)&&t.tagName==="svg"}const MU=[...tN,wn,Ga],PU=t=>MU.find(eN(t)),DE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fl=()=>({x:DE(),y:DE()}),kE=()=>({min:0,max:0}),Pn=()=>({x:kE(),y:kE()}),Hv={current:null},hN={current:!1},OU=typeof window<"u";function VU(){if(hN.current=!0,!!OU)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Hv.current=t.matches;t.addEventListener("change",e),e()}else Hv.current=!1}const jU=new WeakMap;function ap(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function sh(t){return typeof t=="string"||Array.isArray(t)}const Ib=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Db=["initial",...Ib];function op(t){return ap(t.animate)||Db.some(e=>sh(t[e]))}function dN(t){return!!(op(t)||t.variants)}function LU(t,e,n){for(const r in e){const a=e[r],l=n[r];if(ci(a))t.addValue(r,a);else if(ci(l))t.addValue(r,lc(a,{owner:t}));else if(l!==a)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(r);t.addValue(r,lc(c!==void 0?c:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const ME=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let pm={};function fN(t){pm=t}function UU(){return pm}class zU{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=gi.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Lt.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=op(n),this.isVariantNode=dN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in v){const A=v[_];d[_]!==void 0&&ci(A)&&A.set(d[_])}}mount(e){this.current=e,jU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(hN.current||VU(),this.shouldReduceMotion=Hv.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ha(this.notifyUpdate),Ha(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=vc.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Lt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in pm){const n=pm[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ME.length;r++){const a=ME[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=LU(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=lc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(p2(r)||y2(r))?r=parseFloat(r):!PU(r)&&Ga.test(n)&&(r=iN(e,n)),this.setBaseTarget(e,ci(r)?r.get():r)),ci(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=Sb(this.props,n,this.presenceContext?.custom);l&&(r=l[e])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!ci(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new hb),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Rb.render(this.render)}}class Qa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class mN extends zU{constructor(){super(...arguments),this.KeyframeResolver=SU}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ci(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function pN({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function BU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function FU(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ly(t){return t===void 0||t===1}function Gv({scale:t,scaleX:e,scaleY:n}){return!Ly(t)||!Ly(e)||!Ly(n)}function Do(t){return Gv(t)||gN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function gN(t){return PE(t.x)||PE(t.y)}function PE(t){return t&&t!=="0%"}function gm(t,e,n){const r=t-n,a=e*r;return n+a}function OE(t,e,n,r,a){return a!==void 0&&(t=gm(t,a,r)),gm(t,n,r)+e}function $v(t,e=0,n=1,r,a){t.min=OE(t.min,e,n,r,a),t.max=OE(t.max,e,n,r,a)}function yN(t,{x:e,y:n}){$v(t.x,e.translate,e.scale,e.originPoint),$v(t.y,n.translate,n.scale,n.originPoint)}const VE=.999999999999,jE=1.0000000000001;function qU(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let h=0;h<a;h++){l=n[h],c=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Hl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,yN(t,c)),r&&Do(l.latestValues)&&Hl(t,l.latestValues))}e.x<jE&&e.x>VE&&(e.x=1),e.y<jE&&e.y>VE&&(e.y=1)}function ql(t,e){t.min=t.min+e,t.max=t.max+e}function LE(t,e,n,r,a=.5){const l=$t(t.min,t.max,a);$v(t,e,n,l,r)}function Hl(t,e){LE(t.x,e.x,e.scaleX,e.scale,e.originX),LE(t.y,e.y,e.scaleY,e.scale,e.originY)}function vN(t,e){return pN(FU(t.getBoundingClientRect(),e))}function HU(t,e,n){const r=vN(t,n),{scroll:a}=e;return a&&(ql(r.x,a.offset.x),ql(r.y,a.offset.y)),r}const GU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$U=yc.length;function KU(t,e,n){let r="",a=!0;for(let l=0;l<$U;l++){const c=yc[l],h=t[c];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(c.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const m=rN(h,Cb[c]);if(!d){a=!1;const g=GU[c]||c;r+=`${g}(${m}) `}n&&(e[c]=m)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function kb(t,e,n){const{style:r,vars:a,transformOrigin:l}=t;let c=!1,h=!1;for(const d in e){const m=e[d];if(vc.has(d)){c=!0;continue}else if(D2(d)){a[d]=m;continue}else{const g=rN(m,Cb[d]);d.startsWith("origin")?(h=!0,l[d]=g):r[d]=g}}if(e.transform||(c||n?r.transform=KU(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:d="50%",originY:m="50%",originZ:g=0}=l;r.transformOrigin=`${d} ${m} ${g}`}}function bN(t,{style:e,vars:n},r,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,r);for(c in n)l.setProperty(c,n[c])}function UE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const _u={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const n=UE(t,e.target.x),r=UE(t,e.target.y);return`${n}% ${r}%`}},YU={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=Ga.parse(t);if(a.length>5)return r;const l=Ga.createTransformer(t),c=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+c]/=h,a[1+c]/=d;const m=$t(h,d,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),l(a)}},Kv={borderRadius:{..._u,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_u,borderTopRightRadius:_u,borderBottomLeftRadius:_u,borderBottomRightRadius:_u,boxShadow:YU};function xN(t,{layout:e,layoutId:n}){return vc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Kv[t]||t==="opacity")}function Mb(t,e,n){const r=t.style,a=e?.style,l={};if(!r)return l;for(const c in r)(ci(r[c])||a&&ci(a[c])||xN(c,t)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=r[c]);return l}function XU(t){return window.getComputedStyle(t)}class WU extends mN{constructor(){super(...arguments),this.type="html",this.renderInstance=bN}readValueFromInstance(e,n){if(vc.has(n))return this.projection?.isProjecting?Pv(n):A6(e,n);{const r=XU(e),a=(D2(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return vN(e,n)}build(e,n,r){kb(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Mb(e,n,r)}}const QU={offset:"stroke-dashoffset",array:"stroke-dasharray"},JU={offset:"strokeDashoffset",array:"strokeDasharray"};function ZU(t,e,n=1,r=0,a=!0){t.pathLength=1;const l=a?QU:JU;t[l.offset]=Te.transform(-r);const c=Te.transform(e),h=Te.transform(n);t[l.array]=`${c} ${h}`}const e9=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function _N(t,{attrX:e,attrY:n,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},d,m,g){if(kb(t,h,m),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:_}=t;v.transform&&(_.transform=v.transform,delete v.transform),(_.transform||v.transformOrigin)&&(_.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),_.transform&&(_.transformBox=g?.transformBox??"fill-box",delete v.transformBox);for(const A of e9)v[A]!==void 0&&(_[A]=v[A],delete v[A]);e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),a!==void 0&&ZU(v,a,l,c,!1)}const wN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),TN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function t9(t,e,n,r){bN(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(wN.has(a)?a:Ab(a),e.attrs[a])}function EN(t,e,n){const r=Mb(t,e,n);for(const a in t)if(ci(t[a])||ci(e[a])){const l=yc.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=t[a]}return r}class n9 extends mN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(vc.has(n)){const r=nN(n);return r&&r.default||0}return n=wN.has(n)?n:Ab(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return EN(e,n,r)}build(e,n,r){_N(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,a){t9(e,n,r,a)}mount(e){this.isSVGTag=TN(e.tagName),super.mount(e)}}const i9=Db.length;function SN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?SN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<i9;n++){const r=Db[n],a=t.props[r];(sh(a)||a===!1)&&(e[r]=a)}return e}function AN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const r9=[...Ib].reverse(),s9=Ib.length;function a9(t){return e=>Promise.all(e.map(({animation:n,options:r})=>pU(t,n,r)))}function o9(t){let e=a9(t),n=zE(),r=!0;const a=d=>(m,g)=>{const v=Ql(t,g,d==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:_,transitionEnd:A,...M}=v;m={...m,...M,...A}}return m};function l(d){e=d(t)}function c(d){const{props:m}=t,g=SN(t.parent)||{},v=[],_=new Set;let A={},M=1/0;for(let N=0;N<s9;N++){const z=r9[N],$=n[z],q=m[z]!==void 0?m[z]:g[z],ae=sh(q),te=z===d?$.isActive:null;te===!1&&(M=N);let le=q===g[z]&&q!==m[z]&&ae;if(le&&r&&t.manuallyAnimateOnMount&&(le=!1),$.protectedKeys={...A},!$.isActive&&te===null||!q&&!$.prevProp||ap(q)||typeof q=="boolean")continue;const I=l9($.prevProp,q);let C=I||z===d&&$.isActive&&!le&&ae||N>M&&ae,O=!1;const k=Array.isArray(q)?q:[q];let j=k.reduce(a(z),{});te===!1&&(j={});const{prevResolvedValues:B={}}=$,V={...B,...j},xe=H=>{C=!0,_.has(H)&&(O=!0,_.delete(H)),$.needsAnimating[H]=!0;const G=t.getValue(H);G&&(G.liveStyle=!1)};for(const H in V){const G=j[H],X=B[H];if(A.hasOwnProperty(H))continue;let L=!1;zv(G)&&zv(X)?L=!AN(G,X):L=G!==X,L?G!=null?xe(H):_.add(H):G!==void 0&&_.has(H)?xe(H):$.protectedKeys[H]=!0}$.prevProp=q,$.prevResolvedValues=j,$.isActive&&(A={...A,...j}),r&&t.blockInitialAnimation&&(C=!1);const ke=le&&I;C&&(!ke||O)&&v.push(...k.map(H=>{const G={type:z};if(typeof H=="string"&&r&&!ke&&t.manuallyAnimateOnMount&&t.parent){const{parent:X}=t,L=Ql(X,H);if(X.enteringChildren&&L){const{delayChildren:T}=L.transition||{};G.delay=X2(X.enteringChildren,t,T)}}return{animation:H,options:G}}))}if(_.size){const N={};if(typeof m.initial!="boolean"){const z=Ql(t,Array.isArray(m.initial)?m.initial[0]:m.initial);z&&z.transition&&(N.transition=z.transition)}_.forEach(z=>{const $=t.getBaseTarget(z),q=t.getValue(z);q&&(q.liveStyle=!0),N[z]=$??null}),v.push({animation:N})}let D=!!v.length;return r&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(D=!1),r=!1,D?e(v):Promise.resolve()}function h(d,m){if(n[d].isActive===m)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(d,m)),n[d].isActive=m;const g=c(d);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=zE()}}}function l9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!AN(e,t):!1}function So(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function zE(){return{animate:So(!0),whileInView:So(),whileHover:So(),whileTap:So(),whileDrag:So(),whileFocus:So(),exit:So()}}const CN=1e-4,c9=1-CN,u9=1+CN,RN=.01,h9=0-RN,d9=0+RN;function yi(t){return t.max-t.min}function f9(t,e,n){return Math.abs(t-e)<=n}function BE(t,e,n,r=.5){t.origin=r,t.originPoint=$t(e.min,e.max,t.origin),t.scale=yi(n)/yi(e),t.translate=$t(n.min,n.max,t.origin)-t.originPoint,(t.scale>=c9&&t.scale<=u9||isNaN(t.scale))&&(t.scale=1),(t.translate>=h9&&t.translate<=d9||isNaN(t.translate))&&(t.translate=0)}function zu(t,e,n,r){BE(t.x,e.x,n.x,r?r.originX:void 0),BE(t.y,e.y,n.y,r?r.originY:void 0)}function FE(t,e,n){t.min=n.min+e.min,t.max=t.min+yi(e)}function m9(t,e,n){FE(t.x,e.x,n.x),FE(t.y,e.y,n.y)}function qE(t,e,n){t.min=e.min-n.min,t.max=t.min+yi(e)}function ym(t,e,n){qE(t.x,e.x,n.x),qE(t.y,e.y,n.y)}function HE(t,e,n,r,a){return t-=e,t=gm(t,1/n,r),a!==void 0&&(t=gm(t,1/a,r)),t}function p9(t,e=0,n=1,r=.5,a,l=t,c=t){if(es.test(e)&&(e=parseFloat(e),e=$t(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=$t(l.min,l.max,r);t===l&&(h-=e),t.min=HE(t.min,e,n,h,a),t.max=HE(t.max,e,n,h,a)}function GE(t,e,[n,r,a],l,c){p9(t,e[n],e[r],e[a],e.scale,l,c)}const g9=["x","scaleX","originX"],y9=["y","scaleY","originY"];function $E(t,e,n,r){GE(t.x,e,g9,n?n.x:void 0,r?r.x:void 0),GE(t.y,e,y9,n?n.y:void 0,r?r.y:void 0)}function KE(t,e){t.min=e.min,t.max=e.max}function Er(t,e){KE(t.x,e.x),KE(t.y,e.y)}function YE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function XE(t){return t.translate===0&&t.scale===1}function NN(t){return XE(t.x)&&XE(t.y)}function WE(t,e){return t.min===e.min&&t.max===e.max}function v9(t,e){return WE(t.x,e.x)&&WE(t.y,e.y)}function QE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function IN(t,e){return QE(t.x,e.x)&&QE(t.y,e.y)}function JE(t){return yi(t.x)/yi(t.y)}function ZE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function sr(t){return[t("x"),t("y")]}function b9(t,e,n){let r="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(r=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:v,rotateY:_,skewX:A,skewY:M}=n;m&&(r=`perspective(${m}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),_&&(r+=`rotateY(${_}deg) `),A&&(r+=`skewX(${A}deg) `),M&&(r+=`skewY(${M}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(r+=`scale(${h}, ${d})`),r||"none"}const DN=["TopLeft","TopRight","BottomLeft","BottomRight"],x9=DN.length,eS=t=>typeof t=="string"?parseFloat(t):t,tS=t=>typeof t=="number"||Te.test(t);function _9(t,e,n,r,a,l){a?(t.opacity=$t(0,n.opacity??1,w9(r)),t.opacityExit=$t(e.opacity??1,0,T9(r))):l&&(t.opacity=$t(e.opacity??1,n.opacity??1,r));for(let c=0;c<x9;c++){const h=`border${DN[c]}Radius`;let d=nS(e,h),m=nS(n,h);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||tS(d)===tS(m)?(t[h]=Math.max($t(eS(d),eS(m),r),0),(es.test(m)||es.test(d))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=$t(e.rotate||0,n.rotate||0,r))}function nS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const w9=kN(0,.5,S2),T9=kN(.5,.95,hr);function kN(t,e,n){return r=>r<t?0:r>e?1:n(nh(t,e,r))}function E9(t,e){const n=gi.now(),r=({timestamp:a})=>{const l=a-n;l>=e&&(Ha(r),t(l-e))};return Lt.setup(r,!0),()=>Ha(r)}function ah(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Of(t){return ci(t)?t.get():t}function S9(t,e,n){const r=ci(t)?t:lc(t);return r.start(Eb("",r,e,n)),r.animation}const A9=(t,e)=>t.depth-e.depth;class C9{constructor(){this.children=[],this.isDirty=!1}add(e){ob(this.children,e),this.isDirty=!0}remove(e){lb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(A9),this.isDirty=!1,this.children.forEach(e)}}class R9{constructor(){this.members=[]}add(e){ob(this.members,e),e.scheduleRender()}remove(e){if(lb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Vf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Uy=["","X","Y","Z"],N9=1e3;let I9=0;function zy(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function MN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=J2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Lt,!(a||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&MN(r)}function PN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},h=e?.()){this.id=I9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(M9),this.nodes.forEach(j9),this.nodes.forEach(L9),this.nodes.forEach(P9)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new C9)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new hb),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const d=this.eventHandlers.get(c);d&&d.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=uN(c)&&!kU(c),this.instance=c;const{layoutId:h,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let g,v=0;const _=()=>this.root.updateBlockedByResize=!1;Lt.read(()=>{v=window.innerWidth}),t(c,()=>{const A=window.innerWidth;A!==v&&(v=A,this.root.updateBlockedByResize=!0,g&&g(),g=E9(_,250),Vf.hasAnimatedSinceResize&&(Vf.hasAnimatedSinceResize=!1,this.nodes.forEach(sS)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:_,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||m.getDefaultTransition()||q9,{onLayoutAnimationStart:D,onLayoutAnimationComplete:N}=m.getProps(),z=!this.targetLayout||!IN(this.targetLayout,A),$=!v&&_;if(this.options.layoutRoot||this.resumeFrom||$||v&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...Tb(M,"layout"),onPlay:D,onComplete:N};(m.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(g,$)}else v||sS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ha(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(U9),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&MN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(iS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(rS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(V9),this.nodes.forEach(D9),this.nodes.forEach(k9)):this.nodes.forEach(rS),this.clearAllSnapshots();const h=gi.now();Zn.delta=ss(0,1e3/60,h-Zn.timestamp),Zn.timestamp=h,Zn.isProcessing=!0,Dy.update.process(Zn),Dy.preRender.process(Zn),Dy.render.process(Zn),Zn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Rb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(O9),this.sharedNodes.forEach(z9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Lt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yi(this.snapshot.measuredBox.x)&&!yi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Pn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!NN(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&this.instance&&(h||Do(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return c&&(d=this.removeTransform(d)),H9(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Pn();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(G9))){const{scroll:m}=this.root;m&&(ql(h.x,m.offset.x),ql(h.y,m.offset.y))}return h}removeElementScroll(c){const h=Pn();if(Er(h,c),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:g,options:v}=m;m!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&Er(h,c),ql(h.x,g.offset.x),ql(h.y,g.offset.y))}return h}applyTransform(c,h=!1){const d=Pn();Er(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Hl(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Do(g.latestValues)&&Hl(d,g.latestValues)}return Do(this.latestValues)&&Hl(d,this.latestValues),d}removeTransform(c){const h=Pn();Er(h,c);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!Do(m.latestValues))continue;Gv(m.latestValues)&&m.updateSnapshot();const g=Pn(),v=m.measurePageBox();Er(g,v),$E(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Do(this.latestValues)&&$E(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Zn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!this.layout||!(g||v))return;this.resolvedRelativeTargetAt=Zn.timestamp;const _=this.getClosestProjectingParent();_&&this.linkedParentVersion!==_.layoutVersion&&!_.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(_&&_.layout?this.createRelativeTarget(_,this.layout.layoutBox,_.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pn(),this.targetWithTransforms=Pn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),m9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Er(this.target,this.layout.layoutBox),yN(this.target,this.targetDelta)):Er(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?this.createRelativeTarget(_,this.target,_.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Gv(this.parent.latestValues)||gN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,d){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pn(),this.relativeTargetOrigin=Pn(),ym(this.relativeTargetOrigin,h,d),Er(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Zn.timestamp&&(d=!1),d)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Er(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,_=this.treeScale.y;qU(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Pn());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(YE(this.prevProjectionDelta.x,this.projectionDelta.x),YE(this.prevProjectionDelta.y,this.projectionDelta.y)),zu(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==_||!ZE(this.projectionDelta.x,this.prevProjectionDelta.x)||!ZE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fl(),this.projectionDelta=Fl(),this.projectionDeltaWithTransform=Fl()}setAnimationOrigin(c,h=!1){const d=this.snapshot,m=d?d.latestValues:{},g={...this.latestValues},v=Fl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const _=Pn(),A=d?d.source:void 0,M=this.layout?this.layout.source:void 0,D=A!==M,N=this.getStack(),z=!N||N.members.length<=1,$=!!(D&&!z&&this.options.crossfade===!0&&!this.path.some(F9));this.animationProgress=0;let q;this.mixTargetDelta=ae=>{const te=ae/1e3;aS(v.x,c.x,te),aS(v.y,c.y,te),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ym(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),B9(this.relativeTarget,this.relativeTargetOrigin,_,te),q&&v9(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=Pn()),Er(q,this.relativeTarget)),D&&(this.animationValues=g,_9(g,m,this.latestValues,te,$,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=te},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ha(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Lt.update(()=>{Vf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=lc(0)),this.currentAnimation=S9(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(N9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:d,layout:m,latestValues:g}=c;if(!(!h||!d||!m)){if(this!==c&&this.layout&&m&&ON(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||Pn();const v=yi(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+v;const _=yi(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+_}Er(h,d),Hl(h,g),zu(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new R9),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const m={};d.z&&zy("z",c,m,this.animationValues);for(let g=0;g<Uy.length;g++)zy(`rotate${Uy[g]}`,c,m,this.animationValues),zy(`skew${Uy[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Of(h?.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Of(h?.pointerEvents)||""),this.hasProjected&&!Do(this.latestValues)&&(c.transform=d?d({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=b9(this.projectionDeltaWithTransform,this.treeScale,g);d&&(v=d(g,v)),c.transform=v;const{x:_,y:A}=this.projectionDelta;c.transformOrigin=`${_.origin*100}% ${A.origin*100}% 0`,m.animationValues?c.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const M in Kv){if(g[M]===void 0)continue;const{correct:D,applyTo:N,isCSSVariable:z}=Kv[M],$=v==="none"?g[M]:D(g[M],m);if(N){const q=N.length;for(let ae=0;ae<q;ae++)c[N[ae]]=$}else z?this.options.visualElement.renderState.vars[M]=$:c[M]=$}this.options.layoutId&&(c.pointerEvents=m===this?Of(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(iS),this.root.sharedNodes.clear()}}}function D9(t){t.updateLayout()}function k9(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?sr(g=>{const v=l?e.measuredBox[g]:e.layoutBox[g],_=yi(v);v.min=n[g].min,v.max=v.min+_}):ON(a,e.layoutBox,n)&&sr(g=>{const v=l?e.measuredBox[g]:e.layoutBox[g],_=yi(n[g]);v.max=v.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+_)});const c=Fl();zu(c,n,e.layoutBox);const h=Fl();l?zu(h,t.applyTransform(r,!0),e.measuredBox):zu(h,n,e.layoutBox);const d=!NN(c);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:_}=g;if(v&&_){const A=Pn();ym(A,e.layoutBox,v.layoutBox);const M=Pn();ym(M,n,_.layoutBox),IN(A,M)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=M,t.relativeTargetOrigin=A,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function M9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function P9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function O9(t){t.clearSnapshot()}function iS(t){t.clearMeasurements()}function rS(t){t.isLayoutDirty=!1}function V9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function sS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function j9(t){t.resolveTargetDelta()}function L9(t){t.calcProjection()}function U9(t){t.resetSkewAndRotation()}function z9(t){t.removeLeadSnapshot()}function aS(t,e,n){t.translate=$t(e.translate,0,n),t.scale=$t(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function oS(t,e,n,r){t.min=$t(e.min,n.min,r),t.max=$t(e.max,n.max,r)}function B9(t,e,n,r){oS(t.x,e.x,n.x,r),oS(t.y,e.y,n.y,r)}function F9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const q9={duration:.45,ease:[.4,0,.1,1]},lS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),cS=lS("applewebkit/")&&!lS("chrome/")?Math.round:hr;function uS(t){t.min=cS(t.min),t.max=cS(t.max)}function H9(t){uS(t.x),uS(t.y)}function ON(t,e,n){return t==="position"||t==="preserve-aspect"&&!f9(JE(e),JE(n),.2)}function G9(t){return t!==t.root&&t.scroll?.wasRoot}const $9=PN({attachResizeListener:(t,e)=>ah(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),By={current:void 0},VN=PN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!By.current){const t=new $9({});t.mount(window),t.setOptions({layoutScroll:!0}),By.current=t}return By.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Pb=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function hS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function K9(...t){return e=>{let n=!1;const r=t.map(a=>{const l=hS(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<r.length;a++){const l=r[a];typeof l=="function"?l():hS(t[a],null)}}}}function Y9(...t){return S.useCallback(K9(...t),t)}class X9 extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=sN(r)&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function W9({children:t,isPresent:e,anchorX:n,root:r}){const a=S.useId(),l=S.useRef(null),c=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=S.useContext(Pb),d=t.props?.ref??t?.ref,m=Y9(l,d);return S.useInsertionEffect(()=>{const{width:g,height:v,top:_,left:A,right:M}=c.current;if(e||!l.current||!g||!v)return;const D=n==="left"?`left: ${A}`:`right: ${M}`;l.current.dataset.motionPopId=a;const N=document.createElement("style");h&&(N.nonce=h);const z=r??document.head;return z.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${v}px !important;
            ${D}px !important;
            top: ${_}px !important;
          }
        `),()=>{z.contains(N)&&z.removeChild(N)}},[e]),b.jsx(X9,{isPresent:e,childRef:l,sizeRef:c,children:S.cloneElement(t,{ref:m})})}const Q9=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:c,anchorX:h,root:d})=>{const m=ab(J9),g=S.useId();let v=!0,_=S.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:n,custom:a,onExitComplete:A=>{m.set(A,!0);for(const M of m.values())if(!M)return;r&&r()},register:A=>(m.set(A,!1),()=>m.delete(A))}),[n,m,r]);return l&&v&&(_={..._}),S.useMemo(()=>{m.forEach((A,M)=>m.set(M,!1))},[n]),S.useEffect(()=>{!n&&!m.size&&r&&r()},[n]),c==="popLayout"&&(t=b.jsx(W9,{isPresent:n,anchorX:h,root:d,children:t})),b.jsx(sp.Provider,{value:_,children:t})};function J9(){return new Map}function jN(t=!0){const e=S.useContext(sp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,l=S.useId();S.useEffect(()=>{if(t)return a(l)},[t]);const c=S.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,c]:[!0]}const ff=t=>t.key||"";function dS(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const Ar=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",root:d})=>{const[m,g]=jN(c),v=S.useMemo(()=>dS(t),[t]),_=c&&!m?[]:v.map(ff),A=S.useRef(!0),M=S.useRef(v),D=ab(()=>new Map),N=S.useRef(new Set),[z,$]=S.useState(v),[q,ae]=S.useState(v);m2(()=>{A.current=!1,M.current=v;for(let I=0;I<q.length;I++){const C=ff(q[I]);_.includes(C)?(D.delete(C),N.current.delete(C)):D.get(C)!==!0&&D.set(C,!1)}},[q,_.length,_.join("-")]);const te=[];if(v!==z){let I=[...v];for(let C=0;C<q.length;C++){const O=q[C],k=ff(O);_.includes(k)||(I.splice(C,0,O),te.push(O))}return l==="wait"&&te.length&&(I=te),ae(dS(I)),$(v),null}const{forceRender:le}=S.useContext(sb);return b.jsx(b.Fragment,{children:q.map(I=>{const C=ff(I),O=c&&!m?!1:v===q||_.includes(C),k=()=>{if(N.current.has(C))return;if(N.current.add(C),D.has(C))D.set(C,!0);else return;let j=!0;D.forEach(B=>{B||(j=!1)}),j&&(le?.(),ae(M.current),c&&g?.(),r&&r())};return b.jsx(Q9,{isPresent:O,initial:!A.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:O?void 0:k,anchorX:h,children:I},C)})})},LN=S.createContext({strict:!1}),fS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let mS=!1;function Z9(){if(mS)return;const t={};for(const e in fS)t[e]={isEnabled:n=>fS[e].some(r=>!!n[r])};fN(t),mS=!0}function UN(){return Z9(),UU()}function ez(t){const e=UN();for(const n in t)e[n]={...e[n],...t[n]};fN(e)}const tz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||tz.has(t)}let zN=t=>!vm(t);function nz(t){typeof t=="function"&&(zN=e=>e.startsWith("on")?!vm(e):t(e))}try{nz(require("@emotion/is-prop-valid").default)}catch{}function iz(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(zN(a)||n===!0&&vm(a)||!e&&!vm(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}const lp=S.createContext({});function rz(t,e){if(op(t)){const{initial:n,animate:r}=t;return{initial:n===!1||sh(n)?n:void 0,animate:sh(r)?r:void 0}}return t.inherit!==!1?e:{}}function sz(t){const{initial:e,animate:n}=rz(t,S.useContext(lp));return S.useMemo(()=>({initial:e,animate:n}),[pS(e),pS(n)])}function pS(t){return Array.isArray(t)?t.join(" "):t}const Ob=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function BN(t,e,n){for(const r in e)!ci(e[r])&&!xN(r,n)&&(t[r]=e[r])}function az({transformTemplate:t},e){return S.useMemo(()=>{const n=Ob();return kb(n,e,t),Object.assign({},n.vars,n.style)},[e])}function oz(t,e){const n=t.style||{},r={};return BN(r,n,t),Object.assign(r,az(t,e)),r}function lz(t,e){const n={},r=oz(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const FN=()=>({...Ob(),attrs:{}});function cz(t,e,n,r){const a=S.useMemo(()=>{const l=FN();return _N(l,e,TN(r),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};BN(l,t.style,t),a.style={...l,...a.style}}return a}const uz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vb(t){return typeof t!="string"||t.includes("-")?!1:!!(uz.indexOf(t)>-1||/[A-Z]/u.test(t))}function hz(t,e,n,{latestValues:r},a,l=!1,c){const d=(c??Vb(t)?cz:lz)(e,r,a,t),m=iz(e,typeof t=="string",l),g=t!==S.Fragment?{...m,...d,ref:n}:{},{children:v}=e,_=S.useMemo(()=>ci(v)?v.get():v,[v]);return S.createElement(t,{...g,children:_})}function dz({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,a){return{latestValues:fz(n,r,a,t),renderState:e()}}function fz(t,e,n,r){const a={},l=r(t,{});for(const _ in l)a[_]=Of(l[_]);let{initial:c,animate:h}=t;const d=op(t),m=dN(t);e&&m&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const v=g?h:c;if(v&&typeof v!="boolean"&&!ap(v)){const _=Array.isArray(v)?v:[v];for(let A=0;A<_.length;A++){const M=Sb(t,_[A]);if(M){const{transitionEnd:D,transition:N,...z}=M;for(const $ in z){let q=z[$];if(Array.isArray(q)){const ae=g?q.length-1:0;q=q[ae]}q!==null&&(a[$]=q)}for(const $ in D)a[$]=D[$]}}}return a}const qN=t=>(e,n)=>{const r=S.useContext(lp),a=S.useContext(sp),l=()=>dz(t,e,r,a);return n?l():ab(l)},mz=qN({scrapeMotionValuesFromProps:Mb,createRenderState:Ob}),pz=qN({scrapeMotionValuesFromProps:EN,createRenderState:FN}),gz=Symbol.for("motionComponentSymbol");function yz(t,e,n){const r=S.useRef(n);S.useInsertionEffect(()=>{r.current=n});const a=S.useRef(null);return S.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const c=r.current;if(typeof c=="function")if(l){const h=c(l);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[e])}const HN=S.createContext({});function Iu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function vz(t,e,n,r,a,l){const{visualElement:c}=S.useContext(lp),h=S.useContext(LN),d=S.useContext(sp),m=S.useContext(Pb).reducedMotion,g=S.useRef(null);r=r||h.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:c,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m,isSVG:l}));const v=g.current,_=S.useContext(HN);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&bz(g.current,n,a,_);const A=S.useRef(!1);S.useInsertionEffect(()=>{v&&A.current&&v.update(n,d)});const M=n[Q2],D=S.useRef(!!M&&!window.MotionHandoffIsComplete?.(M)&&window.MotionHasOptimisedAnimation?.(M));return m2(()=>{v&&(A.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),D.current&&v.animationState&&v.animationState.animateChanges())}),S.useEffect(()=>{v&&(!D.current&&v.animationState&&v.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(M)}),D.current=!1),v.enteringChildren=void 0)}),v}function bz(t,e,n,r){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:GN(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&Iu(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:d,layoutRoot:m})}function GN(t){if(t)return t.options.allowProjection!==!1?t.projection:GN(t.parent)}function Fy(t,{forwardMotionProps:e=!1,type:n}={},r,a){r&&ez(r);const l=n?n==="svg":Vb(t),c=l?pz:mz;function h(m,g){let v;const _={...S.useContext(Pb),...m,layoutId:xz(m)},{isStatic:A}=_,M=sz(m),D=c(m,A);if(!A&&f2){_z();const N=wz(_);v=N.MeasureLayout,M.visualElement=vz(t,D,_,a,N.ProjectionNode,l)}return b.jsxs(lp.Provider,{value:M,children:[v&&M.visualElement?b.jsx(v,{visualElement:M.visualElement,..._}):null,hz(t,m,yz(D,M.visualElement,g),D,A,e,l)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const d=S.forwardRef(h);return d[gz]=t,d}function xz({layoutId:t}){const e=S.useContext(sb).id;return e&&t!==void 0?e+"-"+t:t}function _z(t,e){S.useContext(LN).strict}function wz(t){const e=UN(),{drag:n,layout:r}=e;if(!n&&!r)return{};const a={...n,...r};return{MeasureLayout:n?.isEnabled(t)||r?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function Tz(t,e){if(typeof Proxy>"u")return Fy;const n=new Map,r=(l,c)=>Fy(l,c,t,e),a=(l,c)=>r(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?r:(n.has(c)||n.set(c,Fy(c,void 0,t,e)),n.get(c))})}const Ez=(t,e)=>e.isSVG??Vb(t)?new n9(e):new WU(e,{allowProjection:t!==S.Fragment});class Sz extends Qa{constructor(e){super(e),e.animationState||(e.animationState=o9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ap(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Az=0;class Cz extends Qa{constructor(){super(...arguments),this.id=Az++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Rz={animation:{Feature:Sz},exit:{Feature:Cz}};function Mh(t){return{point:{x:t.pageX,y:t.pageY}}}const Nz=t=>e=>Nb(e)&&t(e,Mh(e));function Bu(t,e,n,r){return ah(t,e,Nz(n),r)}const $N=({current:t})=>t?t.ownerDocument.defaultView:null,gS=(t,e)=>Math.abs(t-e);function Iz(t,e){const n=gS(t.x,e.x),r=gS(t.y,e.y);return Math.sqrt(n**2+r**2)}const yS=new Set(["auto","scroll"]);class KN{constructor(e,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=A=>{this.handleScroll(A.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Hy(this.lastMoveEventInfo,this.history),M=this.startEvent!==null,D=Iz(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!M&&!D)return;const{point:N}=A,{timestamp:z}=Zn;this.history.push({...N,timestamp:z});const{onStart:$,onMove:q}=this.handlers;M||($&&$(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,A)},this.handlePointerMove=(A,M)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=qy(M,this.transformPagePoint),Lt.update(this.updatePoint,!0)},this.handlePointerUp=(A,M)=>{this.end();const{onEnd:D,onSessionEnd:N,resumeAnimation:z}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&z&&z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const $=Hy(A.type==="pointercancel"?this.lastMoveEventInfo:qy(M,this.transformPagePoint),this.history);this.startEvent&&D&&D(A,$),N&&N(A,$)},!Nb(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=a||window;const d=Mh(e),m=qy(d,this.transformPagePoint),{point:g}=m,{timestamp:v}=Zn;this.history=[{...g,timestamp:v}];const{onSessionStart:_}=n;_&&_(e,Hy(m,this.history)),this.removeListeners=Ih(Bu(this.contextWindow,"pointermove",this.handlePointerMove),Bu(this.contextWindow,"pointerup",this.handlePointerUp),Bu(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(yS.has(r.overflowX)||yS.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,a=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),Lt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ha(this.updatePoint)}}function qy(t,e){return e?{point:e(t.point)}:t}function vS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Hy({point:t},e){return{point:t,delta:vS(t,YN(e)),offset:vS(t,Dz(e)),velocity:kz(e,.1)}}function Dz(t){return t[0]}function YN(t){return t[t.length-1]}function kz(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=YN(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>js(e)));)n--;if(!r)return{x:0,y:0};const l=lr(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Mz(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?$t(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?$t(n,t,r.max):Math.min(t,n)),t}function bS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Pz(t,{top:e,left:n,bottom:r,right:a}){return{x:bS(t.x,n,a),y:bS(t.y,e,r)}}function xS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Oz(t,e){return{x:xS(t.x,e.x),y:xS(t.y,e.y)}}function Vz(t,e){let n=.5;const r=yi(t),a=yi(e);return a>r?n=nh(e.min,e.max-r,t.min):r>a&&(n=nh(t.min,t.max-a,e.min)),ss(0,1,n)}function jz(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Yv=.35;function Lz(t=Yv){return t===!1?t=0:t===!0&&(t=Yv),{x:_S(t,"left","right"),y:_S(t,"top","bottom")}}function _S(t,e,n){return{min:wS(t,e),max:wS(t,n)}}function wS(t,e){return typeof t=="number"?t:t[e]||0}const Uz=new WeakMap;class zz{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{n?(this.stopAnimation(),this.snapToCursor(Mh(v).point)):this.pauseAnimation()},c=(v,_)=>{this.stopAnimation();const{drag:A,dragPropagation:M,onDragStart:D}=this.getProps();if(A&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=CU(A),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),sr(z=>{let $=this.getAxisMotionValue(z).get()||0;if(es.test($)){const{projection:q}=this.visualElement;if(q&&q.layout){const ae=q.layout.layoutBox[z];ae&&($=yi(ae)*(parseFloat($)/100))}}this.originPoint[z]=$}),D&&Lt.postRender(()=>D(v,_)),Bv(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},h=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_;const{dragPropagation:A,dragDirectionLock:M,onDirectionLock:D,onDrag:N}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:z}=_;if(M&&this.currentDirection===null){this.currentDirection=Bz(z),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",_.point,z),this.updateAxis("y",_.point,z),this.visualElement.render(),N&&N(v,_)},d=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_,this.stop(v,_),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>sr(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new KN(e,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:$N(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!r)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&Lt.postRender(()=>h(r,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!mf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=Mz(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Iu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Pz(r.layoutBox,e):this.constraints=!1,this.elastic=Lz(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&sr(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=jz(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Iu(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=HU(r,a.root,this.visualElement.getTransformPagePoint());let c=Oz(a.layout.layoutBox,l);if(n){const h=n(BU(c));this.hasMutatedConstraints=!!h,h&&(c=pN(h))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},m=sr(g=>{if(!mf(g,n,this.currentDirection))return;let v=d&&d[g]||{};c&&(v={min:0,max:0});const _=a?200:1e6,A=a?40:1e7,M={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(g,M)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Bv(this.visualElement,e),r.start(Eb(e,r,0,n,this.visualElement,!1))}stopAnimation(){sr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){sr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){sr(n=>{const{drag:r}=this.getProps();if(!mf(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n],d=l.get()||0;l.set(e[n]-$t(c,h,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Iu(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};sr(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const d=h.get();a[c]=Vz({min:d,max:d},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),sr(c=>{if(!mf(c,e,null))return;const h=this.getAxisMotionValue(c),{min:d,max:m}=this.constraints[c];h.set($t(d,m,a[c]))})}addListeners(){if(!this.visualElement.current)return;Uz.set(this.visualElement,this);const e=this.visualElement.current,n=Bu(e,"pointerdown",d=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&!cN(d.target)&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Iu(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Lt.read(r);const c=ah(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(sr(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=d[g].translate,v.set(v.get()+d[g].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Yv,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function mf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Bz(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Fz extends Qa{constructor(e){super(e),this.removeGroupControls=hr,this.removeListeners=hr,this.controls=new zz(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||hr}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const TS=t=>(e,n)=>{t&&Lt.postRender(()=>t(e,n))};class qz extends Qa{constructor(){super(...arguments),this.removePointerDownListener=hr}onPointerDown(e){this.session=new KN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$N(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:TS(e),onStart:TS(n),onMove:r,onEnd:(l,c)=>{delete this.session,a&&Lt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Bu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Gy=!1;class Hz extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),Gy&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Vf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,{projection:c}=r;return c&&(c.isPresent=l,Gy=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Lt.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Rb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;Gy=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function XN(t){const[e,n]=jN(),r=S.useContext(sb);return b.jsx(Hz,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(HN),isPresent:e,safeToRemove:n})}const Gz={pan:{Feature:qz},drag:{Feature:Fz,ProjectionNode:VN,MeasureLayout:XN}};function ES(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&Lt.postRender(()=>l(e,Mh(e)))}class $z extends Qa{mount(){const{current:e}=this.node;e&&(this.unmount=RU(e,(n,r)=>(ES(this.node,r,"Start"),a=>ES(this.node,a,"End"))))}unmount(){}}class Kz extends Qa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ih(ah(this.node.current,"focus",()=>this.onFocus()),ah(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function SS(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&Lt.postRender(()=>l(e,Mh(e)))}class Yz extends Qa{mount(){const{current:e}=this.node;e&&(this.unmount=DU(e,(n,r)=>(SS(this.node,r,"Start"),(a,{success:l})=>SS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xv=new WeakMap,$y=new WeakMap,Xz=t=>{const e=Xv.get(t.target);e&&e(t)},Wz=t=>{t.forEach(Xz)};function Qz({root:t,...e}){const n=t||document;$y.has(n)||$y.set(n,{});const r=$y.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(Wz,{root:t,...e})),r[a]}function Jz(t,e,n){const r=Qz(e);return Xv.set(t,n),r.observe(t),()=>{Xv.delete(t),r.unobserve(t)}}const Zz={some:0,all:1};class eB extends Qa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Zz[a]},h=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),_=m?g:v;_&&_(d)};return Jz(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(tB(e,n))&&this.startObserver()}unmount(){}}function tB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const nB={inView:{Feature:eB},tap:{Feature:Yz},focus:{Feature:Kz},hover:{Feature:$z}},iB={layout:{ProjectionNode:VN,MeasureLayout:XN}},rB={...Rz,...nB,...Gz,...iB},at=Tz(rB,Ez);const sB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aB=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),AS=t=>{const e=aB(t);return e.charAt(0).toUpperCase()+e.slice(1)},WN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),oB=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var lB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const cB=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:c,...h},d)=>S.createElement("svg",{ref:d,...lB,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:WN("lucide",a),...!l&&!oB(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,g])=>S.createElement(m,g)),...Array.isArray(l)?l:[l]]));const rt=(t,e)=>{const n=S.forwardRef(({className:r,...a},l)=>S.createElement(cB,{ref:l,iconNode:e,className:WN(`lucide-${sB(AS(t))}`,`lucide-${t}`,r),...a}));return n.displayName=AS(t),n};const uB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],hB=rt("arrow-left",uB);const dB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],fB=rt("arrow-right",dB);const mB=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],bm=rt("award",mB);const pB=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],xm=rt("book-open",pB);const gB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_m=rt("calendar",gB);const yB=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],wm=rt("camera",yB);const vB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Cr=rt("check",vB);const bB=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],QN=rt("chevron-left",bB);const xB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],JN=rt("chevron-right",xB);const _B=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],CS=rt("circle-alert",_B);const wB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],TB=rt("circle-check-big",wB);const EB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ZN=rt("circle-question-mark",EB);const SB=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],AB=rt("clock",SB);const CB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],RB=rt("grid-3x3",CB);const NB=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],eI=rt("layout-grid",NB);const IB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],tI=rt("log-out",IB);const DB=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],kB=rt("mail",DB);const MB=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],PB=rt("menu",MB);const OB=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],RS=rt("palette",OB);const VB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Fu=rt("pen",VB);const jB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],LB=rt("pencil",jB);const UB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],oh=rt("plus",UB);const zB=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],BB=rt("printer",zB);const FB=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],NS=rt("rocket",FB);const qB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],HB=rt("settings",qB);const GB=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],jf=rt("share-2",GB);const $B=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],KB=rt("sparkles",$B);const YB=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],XB=rt("square-check-big",YB);const WB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Lf=rt("trash-2",WB);const QB=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],JB=rt("trophy",QB);const ZB=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],e8=rt("type",ZB);const t8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],n8=rt("user-plus",t8);const i8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Tm=rt("user",i8);const r8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],s8=rt("users",r8);const a8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ls=rt("x",a8);const o8=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],IS=rt("zap",o8),nI=S.createContext(null),iI=()=>{const t=S.useContext(nI);if(!t)throw new Error("useDialog must be used within a DialogProvider");return t},l8=({children:t})=>{const[e,n]=S.useState({isOpen:!1,type:"alert",options:{message:""},resolve:null}),[r,a]=S.useState(""),[l,c]=S.useState("editor"),h=S.useCallback((M,D)=>new Promise(N=>{a(D.inputDefaultValue||""),c("editor"),n({isOpen:!0,type:M,options:D,resolve:N})}),[]),d=S.useCallback(M=>{e.resolve&&e.resolve(M),n(D=>({...D,isOpen:!1,resolve:null}))},[e.resolve]),m=S.useCallback((M,D)=>h("alert",{message:M,title:"Notice",confirmText:"OK",type:"info",...D}),[h]),g=S.useCallback((M,D)=>h("confirm",{message:M,title:"Confirm",confirmText:"Yes",cancelText:"Cancel",type:"warning",...D}),[h]),v=S.useCallback((M,D)=>h("prompt",{message:M,title:"Input",confirmText:"OK",cancelText:"Cancel",inputPlaceholder:"",...D}),[h]),_=S.useCallback((M,D)=>h("share",{message:M,title:"Share Board",confirmText:"Send Invite",cancelText:"Cancel",showRoleSelector:!0,inputPlaceholder:"Enter email address",...D}),[h]),A=()=>{switch(e.options.type){case"success":return b.jsx(TB,{className:"w-8 h-8 text-green-400"});case"warning":return b.jsx(CS,{className:"w-8 h-8 text-amber-400"});case"error":return b.jsx(CS,{className:"w-8 h-8 text-red-400"});default:return b.jsx(ZN,{className:"w-8 h-8 text-accent-primary"})}};return b.jsxs(nI.Provider,{value:{alert:m,confirm:g,prompt:v,sharePrompt:_},children:[t,b.jsx(Ar,{children:e.isOpen&&b.jsx(at.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{e.type==="alert"?d(void 0):e.type==="confirm"?d(!1):d(null)},children:b.jsxs(at.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-slate-900 border border-white/20 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",onClick:M=>M.stopPropagation(),children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[e.type==="share"?b.jsx(kB,{className:"w-6 h-6 text-accent-primary"}):A(),b.jsx("h3",{className:"text-lg font-bold text-white",children:e.options.title})]}),b.jsx("button",{onClick:()=>{e.type==="alert"?d(void 0):e.type==="confirm"?d(!1):d(null)},className:"p-1 text-slate-400 hover:text-white rounded-full hover:bg-white/10 transition-colors",children:b.jsx(Ls,{size:20})})]}),b.jsxs("div",{className:"p-6",children:[b.jsx("p",{className:"text-slate-300 mb-4 whitespace-pre-wrap",children:e.options.message}),(e.type==="prompt"||e.type==="share")&&b.jsx("input",{type:e.type==="share"?"email":"text",autoFocus:!0,value:r,onChange:M=>a(M.target.value),placeholder:e.options.inputPlaceholder,className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors mb-4",onKeyDown:M=>{M.key==="Enter"&&r.trim()&&(e.type==="share"?d({email:r.trim(),role:l}):d(r.trim()))}}),e.type==="share"&&e.options.showRoleSelector&&b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"text-sm font-medium text-slate-400 mb-2 block",children:"Access Level"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>c("viewer"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="viewer"?"bg-accent-primary/20 text-accent-primary border border-accent-primary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Viewer"}),b.jsx("button",{onClick:()=>c("editor"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Editor"})]}),b.jsx("p",{className:"text-xs text-slate-500 mt-2",children:l==="viewer"?"Can view the board but not make changes":"Can view and edit the board"})]})]}),b.jsxs("div",{className:"flex gap-3 p-4 pt-0",children:[e.type!=="alert"&&b.jsx("button",{onClick:()=>{e.type==="confirm"?d(!1):d(null)},className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:e.options.cancelText}),b.jsx("button",{onClick:()=>{e.type==="alert"?d(void 0):e.type==="confirm"?d(!0):e.type==="share"?r.trim()&&d({email:r.trim(),role:l}):d(r.trim()||null)},disabled:(e.type==="prompt"||e.type==="share")&&!r.trim(),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:e.options.confirmText})]})]})})})]})};function rI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=rI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function c8(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=rI(t))&&(r&&(r+=" "),r+=e);return r}const u8=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},h8=(t,e)=>({classGroupId:t,validator:e}),sI=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Em="-",DS=[],d8="arbitrary..",f8=t=>{const e=p8(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return m8(c);const h=c.split(Em),d=h[0]===""&&h.length>1?1:0;return aI(h,d,e)},getConflictingClassGroupIds:(c,h)=>{if(h){const d=r[c],m=n[c];return d?m?u8(m,d):d:m||DS}return n[c]||DS}}},aI=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const m=aI(t,e+1,l);if(m)return m}const c=n.validators;if(c===null)return;const h=e===0?t.join(Em):t.slice(e).join(Em),d=c.length;for(let m=0;m<d;m++){const g=c[m];if(g.validator(h))return g.classGroupId}},m8=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?d8+r:void 0})(),p8=t=>{const{theme:e,classGroups:n}=t;return g8(n,e)},g8=(t,e)=>{const n=sI();for(const r in t){const a=t[r];jb(a,n,r,e)}return n},jb=(t,e,n,r)=>{const a=t.length;for(let l=0;l<a;l++){const c=t[l];y8(c,e,n,r)}},y8=(t,e,n,r)=>{if(typeof t=="string"){v8(t,e,n);return}if(typeof t=="function"){b8(t,e,n,r);return}x8(t,e,n,r)},v8=(t,e,n)=>{const r=t===""?e:oI(e,t);r.classGroupId=n},b8=(t,e,n,r)=>{if(_8(t)){jb(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(h8(n,t))},x8=(t,e,n,r)=>{const a=Object.entries(t),l=a.length;for(let c=0;c<l;c++){const[h,d]=a[c];jb(d,oI(e,h),n,r)}},oI=(t,e)=>{let n=t;const r=e.split(Em),a=r.length;for(let l=0;l<a;l++){const c=r[l];let h=n.nextPart.get(c);h||(h=sI(),n.nextPart.set(c,h)),n=h}return n},_8=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,w8=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const a=(l,c)=>{n[l]=c,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=r[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},Wv="!",kS=":",T8=[],MS=(t,e,n,r,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:a}),E8=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=a=>{const l=[];let c=0,h=0,d=0,m;const g=a.length;for(let D=0;D<g;D++){const N=a[D];if(c===0&&h===0){if(N===kS){l.push(a.slice(d,D)),d=D+1;continue}if(N==="/"){m=D;continue}}N==="["?c++:N==="]"?c--:N==="("?h++:N===")"&&h--}const v=l.length===0?a:a.slice(d);let _=v,A=!1;v.endsWith(Wv)?(_=v.slice(0,-1),A=!0):v.startsWith(Wv)&&(_=v.slice(1),A=!0);const M=m&&m>d?m-d:void 0;return MS(l,A,_,M)};if(e){const a=e+kS,l=r;r=c=>c.startsWith(a)?l(c.slice(a.length)):MS(T8,!1,c,void 0,!0)}if(n){const a=r;r=l=>n({className:l,parseClassName:a})}return r},S8=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],h=c[0]==="[",d=e.has(c);h||d?(a.length>0&&(a.sort(),r.push(...a),a=[]),r.push(c)):a.push(c)}return a.length>0&&(a.sort(),r.push(...a)),r}},A8=t=>({cache:w8(t.cacheSize),parseClassName:E8(t),sortModifiers:S8(t),...f8(t)}),C8=/\s+/,R8=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],h=t.trim().split(C8);let d="";for(let m=h.length-1;m>=0;m-=1){const g=h[m],{isExternal:v,modifiers:_,hasImportantModifier:A,baseClassName:M,maybePostfixModifierPosition:D}=n(g);if(v){d=g+(d.length>0?" "+d:d);continue}let N=!!D,z=r(N?M.substring(0,D):M);if(!z){if(!N){d=g+(d.length>0?" "+d:d);continue}if(z=r(M),!z){d=g+(d.length>0?" "+d:d);continue}N=!1}const $=_.length===0?"":_.length===1?_[0]:l(_).join(":"),q=A?$+Wv:$,ae=q+z;if(c.indexOf(ae)>-1)continue;c.push(ae);const te=a(z,N);for(let le=0;le<te.length;++le){const I=te[le];c.push(q+I)}d=g+(d.length>0?" "+d:d)}return d},N8=(...t)=>{let e=0,n,r,a="";for(;e<t.length;)(n=t[e++])&&(r=lI(n))&&(a&&(a+=" "),a+=r);return a},lI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=lI(t[r]))&&(n&&(n+=" "),n+=e);return n},I8=(t,...e)=>{let n,r,a,l;const c=d=>{const m=e.reduce((g,v)=>v(g),t());return n=A8(m),r=n.cache.get,a=n.cache.set,l=h,h(d)},h=d=>{const m=r(d);if(m)return m;const g=R8(d,n);return a(d,g),g};return l=c,(...d)=>l(N8(...d))},D8=[],Mn=t=>{const e=n=>n[t]||D8;return e.isThemeGetter=!0,e},cI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,uI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,k8=/^\d+\/\d+$/,M8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,P8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,O8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,V8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,j8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pl=t=>k8.test(t),Ye=t=>!!t&&!Number.isNaN(Number(t)),Aa=t=>!!t&&Number.isInteger(Number(t)),Ky=t=>t.endsWith("%")&&Ye(t.slice(0,-1)),Cs=t=>M8.test(t),L8=()=>!0,U8=t=>P8.test(t)&&!O8.test(t),hI=()=>!1,z8=t=>V8.test(t),B8=t=>j8.test(t),F8=t=>!Ce(t)&&!Re(t),q8=t=>bc(t,mI,hI),Ce=t=>cI.test(t),Ao=t=>bc(t,pI,U8),Yy=t=>bc(t,Y8,Ye),PS=t=>bc(t,dI,hI),H8=t=>bc(t,fI,B8),pf=t=>bc(t,gI,z8),Re=t=>uI.test(t),wu=t=>xc(t,pI),G8=t=>xc(t,X8),OS=t=>xc(t,dI),$8=t=>xc(t,mI),K8=t=>xc(t,fI),gf=t=>xc(t,gI,!0),bc=(t,e,n)=>{const r=cI.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},xc=(t,e,n=!1)=>{const r=uI.exec(t);return r?r[1]?e(r[1]):n:!1},dI=t=>t==="position"||t==="percentage",fI=t=>t==="image"||t==="url",mI=t=>t==="length"||t==="size"||t==="bg-size",pI=t=>t==="length",Y8=t=>t==="number",X8=t=>t==="family-name",gI=t=>t==="shadow",W8=()=>{const t=Mn("color"),e=Mn("font"),n=Mn("text"),r=Mn("font-weight"),a=Mn("tracking"),l=Mn("leading"),c=Mn("breakpoint"),h=Mn("container"),d=Mn("spacing"),m=Mn("radius"),g=Mn("shadow"),v=Mn("inset-shadow"),_=Mn("text-shadow"),A=Mn("drop-shadow"),M=Mn("blur"),D=Mn("perspective"),N=Mn("aspect"),z=Mn("ease"),$=Mn("animate"),q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],te=()=>[...ae(),Re,Ce],le=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],C=()=>[Re,Ce,d],O=()=>[Pl,"full","auto",...C()],k=()=>[Aa,"none","subgrid",Re,Ce],j=()=>["auto",{span:["full",Aa,Re,Ce]},Aa,Re,Ce],B=()=>[Aa,"auto",Re,Ce],V=()=>["auto","min","max","fr",Re,Ce],xe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ke=()=>["start","end","center","stretch","center-safe","end-safe"],Z=()=>["auto",...C()],H=()=>[Pl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],G=()=>[t,Re,Ce],X=()=>[...ae(),OS,PS,{position:[Re,Ce]}],L=()=>["no-repeat",{repeat:["","x","y","space","round"]}],T=()=>["auto","cover","contain",$8,q8,{size:[Re,Ce]}],U=()=>[Ky,wu,Ao],W=()=>["","none","full",m,Re,Ce],re=()=>["",Ye,wu,Ao],pe=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],fe=()=>[Ye,Ky,OS,PS],ve=()=>["","none",M,Re,Ce],_e=()=>["none",Ye,Re,Ce],Ee=()=>["none",Ye,Re,Ce],Le=()=>[Ye,Re,Ce],Ve=()=>[Pl,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Cs],breakpoint:[Cs],color:[L8],container:[Cs],"drop-shadow":[Cs],ease:["in","out","in-out"],font:[F8],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Cs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Cs],shadow:[Cs],spacing:["px",Ye],text:[Cs],"text-shadow":[Cs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Pl,Ce,Re,N]}],container:["container"],columns:[{columns:[Ye,Ce,Re,h]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:te()}],overflow:[{overflow:le()}],"overflow-x":[{"overflow-x":le()}],"overflow-y":[{"overflow-y":le()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[Aa,"auto",Re,Ce]}],basis:[{basis:[Pl,"full","auto",h,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ye,Pl,"auto","initial","none",Ce]}],grow:[{grow:["",Ye,Re,Ce]}],shrink:[{shrink:["",Ye,Re,Ce]}],order:[{order:[Aa,"first","last","none",Re,Ce]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:j()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:j()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...xe(),"normal"]}],"justify-items":[{"justify-items":[...ke(),"normal"]}],"justify-self":[{"justify-self":["auto",...ke()]}],"align-content":[{content:["normal",...xe()]}],"align-items":[{items:[...ke(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ke(),{baseline:["","last"]}]}],"place-content":[{"place-content":xe()}],"place-items":[{"place-items":[...ke(),"baseline"]}],"place-self":[{"place-self":["auto",...ke()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:Z()}],mx:[{mx:Z()}],my:[{my:Z()}],ms:[{ms:Z()}],me:[{me:Z()}],mt:[{mt:Z()}],mr:[{mr:Z()}],mb:[{mb:Z()}],ml:[{ml:Z()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:H()}],w:[{w:[h,"screen",...H()]}],"min-w":[{"min-w":[h,"screen","none",...H()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...H()]}],h:[{h:["screen","lh",...H()]}],"min-h":[{"min-h":["screen","lh","none",...H()]}],"max-h":[{"max-h":["screen","lh",...H()]}],"font-size":[{text:["base",n,wu,Ao]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Re,Yy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ky,Ce]}],"font-family":[{font:[G8,Ce,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Re,Ce]}],"line-clamp":[{"line-clamp":[Ye,"none",Re,Yy]}],leading:[{leading:[l,...C()]}],"list-image":[{"list-image":["none",Re,Ce]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Re,Ce]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ye,"from-font","auto",Re,Ao]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[Ye,"auto",Re,Ce]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Re,Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Re,Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:X()}],"bg-repeat":[{bg:L()}],"bg-size":[{bg:T()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Aa,Re,Ce],radial:["",Re,Ce],conic:[Aa,Re,Ce]},K8,H8]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...pe(),"hidden","none"]}],"divide-style":[{divide:[...pe(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ye,Re,Ce]}],"outline-w":[{outline:["",Ye,wu,Ao]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",g,gf,pf]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",v,gf,pf]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[Ye,Ao]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",_,gf,pf]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[Ye,Re,Ce]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ye]}],"mask-image-linear-from-pos":[{"mask-linear-from":fe()}],"mask-image-linear-to-pos":[{"mask-linear-to":fe()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":fe()}],"mask-image-t-to-pos":[{"mask-t-to":fe()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":fe()}],"mask-image-r-to-pos":[{"mask-r-to":fe()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":fe()}],"mask-image-b-to-pos":[{"mask-b-to":fe()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":fe()}],"mask-image-l-to-pos":[{"mask-l-to":fe()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":fe()}],"mask-image-x-to-pos":[{"mask-x-to":fe()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":fe()}],"mask-image-y-to-pos":[{"mask-y-to":fe()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[Re,Ce]}],"mask-image-radial-from-pos":[{"mask-radial-from":fe()}],"mask-image-radial-to-pos":[{"mask-radial-to":fe()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ae()}],"mask-image-conic-pos":[{"mask-conic":[Ye]}],"mask-image-conic-from-pos":[{"mask-conic-from":fe()}],"mask-image-conic-to-pos":[{"mask-conic-to":fe()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:X()}],"mask-repeat":[{mask:L()}],"mask-size":[{mask:T()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Re,Ce]}],filter:[{filter:["","none",Re,Ce]}],blur:[{blur:ve()}],brightness:[{brightness:[Ye,Re,Ce]}],contrast:[{contrast:[Ye,Re,Ce]}],"drop-shadow":[{"drop-shadow":["","none",A,gf,pf]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",Ye,Re,Ce]}],"hue-rotate":[{"hue-rotate":[Ye,Re,Ce]}],invert:[{invert:["",Ye,Re,Ce]}],saturate:[{saturate:[Ye,Re,Ce]}],sepia:[{sepia:["",Ye,Re,Ce]}],"backdrop-filter":[{"backdrop-filter":["","none",Re,Ce]}],"backdrop-blur":[{"backdrop-blur":ve()}],"backdrop-brightness":[{"backdrop-brightness":[Ye,Re,Ce]}],"backdrop-contrast":[{"backdrop-contrast":[Ye,Re,Ce]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ye,Re,Ce]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ye,Re,Ce]}],"backdrop-invert":[{"backdrop-invert":["",Ye,Re,Ce]}],"backdrop-opacity":[{"backdrop-opacity":[Ye,Re,Ce]}],"backdrop-saturate":[{"backdrop-saturate":[Ye,Re,Ce]}],"backdrop-sepia":[{"backdrop-sepia":["",Ye,Re,Ce]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Re,Ce]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ye,"initial",Re,Ce]}],ease:[{ease:["linear","initial",z,Re,Ce]}],delay:[{delay:[Ye,Re,Ce]}],animate:[{animate:["none",$,Re,Ce]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[D,Re,Ce]}],"perspective-origin":[{"perspective-origin":te()}],rotate:[{rotate:_e()}],"rotate-x":[{"rotate-x":_e()}],"rotate-y":[{"rotate-y":_e()}],"rotate-z":[{"rotate-z":_e()}],scale:[{scale:Ee()}],"scale-x":[{"scale-x":Ee()}],"scale-y":[{"scale-y":Ee()}],"scale-z":[{"scale-z":Ee()}],"scale-3d":["scale-3d"],skew:[{skew:Le()}],"skew-x":[{"skew-x":Le()}],"skew-y":[{"skew-y":Le()}],transform:[{transform:[Re,Ce,"","none","gpu","cpu"]}],"transform-origin":[{origin:te()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ve()}],"translate-x":[{"translate-x":Ve()}],"translate-y":[{"translate-y":Ve()}],"translate-z":[{"translate-z":Ve()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Re,Ce]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Re,Ce]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[Ye,wu,Ao,Yy]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Q8=I8(W8);function ft(...t){return Q8(c8(t))}const J8=()=>{const{isSettingsOpen:t,closeSettings:e,settings:n,updateSettings:r}=cp(),a=St.useRef(n);if(St.useEffect(()=>{t&&(a.current=n)},[t]),!t)return null;const l=()=>{r(a.current,!1),e()},c=()=>{r(n,!0),e()},h=[{id:"light",name:"Light",color:"bg-white from-slate-100 to-sky-50"},{id:"dawn",name:"Dawn",color:"bg-[#0f111a] from-violet-500/20 to-pink-500/20"},{id:"cosmic",name:"Cosmic",color:"bg-[#2e1065] from-violet-600/20 to-pink-600/20"},{id:"lavender",name:"Lavender",color:"bg-[#3b0764] from-fuchsia-500/20 to-purple-500/20"},{id:"midnight",name:"Midnight",color:"bg-[#020617] from-sky-500/20 to-indigo-500/20"},{id:"forest",name:"Forest",color:"bg-[#052e16] from-green-500/20 to-emerald-500/20"},{id:"ocean",name:"Ocean",color:"bg-[#083344] from-cyan-500/20 to-teal-500/20"},{id:"sunset",name:"Sunset",color:"bg-[#2a0a0a] from-orange-500/20 to-rose-500/20"}],d=[{id:"outfit",name:"Modern",family:"font-[Outfit]"},{id:"inter",name:"Clean",family:"font-[Inter]"},{id:"playfair",name:"Elegant",family:'font-["Playfair_Display"]'},{id:"mono",name:"Tech",family:'font-["Fira_Code"]'}];return b.jsx(Ar,{children:t&&b.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 font-sans",children:[b.jsx(at.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:l}),b.jsxs(at.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-lg bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden max-h-[85vh] flex flex-col",children:[b.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center sticky top-0 bg-slate-900 z-10",children:[b.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[b.jsx(RS,{className:"w-5 h-5 text-accent-primary"}),"Customization"]}),b.jsx("button",{onClick:l,className:"text-slate-400 hover:text-white transition-colors",children:b.jsx(Ls,{className:"w-6 h-6"})})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[b.jsxs("section",{children:[b.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[b.jsx(RS,{className:"w-4 h-4"})," Theme"]}),b.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:h.map(m=>b.jsxs("button",{onClick:()=>r({theme:m.id},!1),className:ft("relative group overflow-hidden rounded-xl border transition-all duration-300",n.theme===m.id?"border-accent-primary ring-2 ring-accent-primary/50":"border-white/10 hover:border-white/30"),children:[b.jsx("div",{className:ft("h-16 w-full bg-gradient-to-br",m.color)}),b.jsx("div",{className:"p-3 bg-slate-800/50",children:b.jsx("span",{className:ft("text-sm font-medium",n.theme===m.id?"text-white":"text-slate-400"),children:m.name})}),n.theme===m.id&&b.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 bg-accent-primary rounded-full flex items-center justify-center shadow-lg",children:b.jsx(Cr,{className:"w-3 h-3 text-white"})})]},m.id))})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[b.jsx(e8,{className:"w-4 h-4"})," Typography"]}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:d.map(m=>b.jsxs("button",{onClick:()=>r({font:m.id},!1),className:ft("flex items-center justify-between p-4 rounded-xl border transition-all duration-200 text-left",n.font===m.id?"bg-white/10 border-accent-primary text-white":"bg-white/5 border-white/5 hover:bg-white/10 text-slate-300"),children:[b.jsxs("div",{children:[b.jsx("span",{className:ft("text-lg block mb-0.5",m.family),children:"Aa"}),b.jsx("span",{className:"text-xs text-slate-400",children:m.name})]}),n.font===m.id&&b.jsx(Cr,{className:"w-5 h-5 text-accent-primary"})]},m.id))}),b.jsx("div",{className:"mt-4 p-4 rounded-xl bg-black/20 border border-white/5",children:b.jsx("p",{className:ft("text-sm text-slate-300 leading-relaxed",n.font==="outfit"&&"font-[Outfit]",n.font==="inter"&&"font-[Inter]",n.font==="playfair"&&'font-["Playfair_Display"]',n.font==="mono"&&'font-["Fira_Code"]'),children:"The quick brown fox jumps over the lazy dog. 1234567890."})})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[b.jsx(IS,{className:"w-4 h-4"})," Experience"]}),b.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10 mb-3",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:ft("p-2 rounded-lg",n.enableAnimation?"bg-accent-primary/20 text-accent-primary":"bg-slate-700 text-slate-400"),children:b.jsx(IS,{size:20})}),b.jsxs("div",{children:[b.jsx("div",{className:"font-medium text-white",children:"Live Backgrounds"}),b.jsx("div",{className:"text-xs text-slate-400",children:"Dynamic particles and ambient effects"})]})]}),b.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:n.enableAnimation,onChange:m=>r({enableAnimation:m.target.checked},!1),className:"sr-only peer"}),b.jsx("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-accent-primary rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-primary"})]})]}),b.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:ft("p-2 rounded-lg",n.enableSound?"bg-emerald-500/20 text-emerald-400":"bg-slate-700 text-slate-400"),children:b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),b.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"}),b.jsx("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14"})]})}),b.jsxs("div",{children:[b.jsx("div",{className:"font-medium text-white",children:"Sound Effects"}),b.jsx("div",{className:"text-xs text-slate-400",children:"Satisfying clicks and celebrations"})]})]}),b.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:n.enableSound,onChange:m=>r({enableSound:m.target.checked},!1),className:"sr-only peer"}),b.jsx("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-emerald-500 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]})]})]})]}),b.jsxs("div",{className:"p-6 border-t border-white/10 flex justify-end gap-3 sticky bottom-0 bg-slate-900 z-10 shrink-0",children:[b.jsx("button",{onClick:l,className:"px-4 py-2 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),b.jsx("button",{onClick:c,className:"px-6 py-2 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all active:scale-95",children:"Save Changes"})]})]})]})})},yf={theme:"dawn",font:"outfit",enableAnimation:!0,enableSound:!0},yI=S.createContext(null),cp=()=>{const t=S.useContext(yI);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},Z8=({children:t})=>{const{user:e}=Wa(),[n,r]=S.useState(()=>{try{const m=localStorage.getItem("bingo_settings");return m?{...yf,...JSON.parse(m)}:yf}catch(m){return console.error("Error parsing local settings",m),yf}}),[a,l]=S.useState(!1);S.useEffect(()=>{(async()=>{if(e)try{const g=Nr(oi,"users",e.uid),v=await Rh(g);if(v.exists()&&v.data().settings){const _={...yf,...v.data().settings};r(_),localStorage.setItem("bingo_settings",JSON.stringify(_))}}catch(g){console.error("Error loading settings:",g)}})()},[e]),S.useEffect(()=>{const m=document.body;m.classList.remove("theme-midnight","theme-forest","theme-ocean","theme-sunset","theme-cosmic","theme-lavender","theme-light"),n.theme!=="dawn"&&m.classList.add(`theme-${n.theme}`),m.classList.remove("font-inter","font-playfair","font-mono","font-comic"),n.font!=="outfit"&&m.classList.add(`font-${n.font}`),n.enableAnimation?m.classList.remove("reduce-motion"):m.classList.add("reduce-motion")},[n]);const c=async(m,g=!0)=>{const v={...n,...m};r(v);try{localStorage.setItem("bingo_settings",JSON.stringify(v))}catch(_){console.error("Failed to save settings locally",_)}if(e&&g)try{await cm(Nr(oi,"users",e.uid),{settings:v},{merge:!0})}catch(_){console.error("Error saving settings to DB:",_)}},h=()=>l(!0),d=()=>l(!1);return b.jsxs(yI.Provider,{value:{settings:n,updateSettings:c,isSettingsOpen:a,openSettings:h,closeSettings:d},children:[t,b.jsx(J8,{})]})},eF=()=>{const{signIn:t,error:e}=Wa();return b.jsxs("div",{className:"relative flex flex-col items-center justify-center min-h-screen p-4 text-center overflow-hidden bg-transparent text-slate-100 font-sans",children:[b.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none",children:b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-transparent"})}),b.jsxs("div",{className:"relative z-10 w-full max-w-[400px] animate-fade-in-up",children:[b.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[b.jsxs("div",{className:"relative w-20 h-20 mb-4 bg-gradient-to-br from-indigo-500/20 to-purple-500/20 rounded-2xl flex items-center justify-center border border-white/10 shadow-xl shadow-indigo-500/10 backdrop-blur-sm",children:[b.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-12 h-12 object-contain drop-shadow-lg"}),b.jsx("div",{className:"absolute -top-2 -right-2",children:b.jsx(KB,{className:"w-6 h-6 text-accent-gold animate-bounce-gentle"})})]}),b.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white mb-2",children:"SunSar Bingo"}),b.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"The social way to achieve your 2026 goals."})]}),b.jsx("div",{className:"bg-bg-card/50 backdrop-blur-md border border-[var(--theme-border)] rounded-2xl p-6 sm:p-8 shadow-2xl",children:b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"text-left space-y-2",children:[b.jsx("h2",{className:"text-xl font-semibold text-white",children:"Welcome back"}),b.jsx("p",{className:"text-sm text-slate-400",children:"Sign in to continue to your bingo boards."})]}),e&&b.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-200 px-4 py-3 rounded-xl text-sm flex items-start text-left",children:[b.jsx("span",{className:"mr-2",children:""}),e]}),b.jsxs("button",{onClick:t,className:"group relative w-full flex items-center justify-center gap-3 px-4 py-3 bg-white text-slate-900 font-bold rounded-xl hover:bg-slate-200 transition-all duration-200 shadow-lg hover:tracking-wide active:scale-[0.98]",children:[b.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"G",className:"w-5 h-5"}),b.jsx("span",{children:"Continue with Google"}),b.jsx(fB,{className:"w-4 h-4 text-slate-400 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),b.jsxs("div",{className:"relative my-6",children:[b.jsx("div",{className:"absolute inset-0 flex items-center",children:b.jsx("span",{className:"w-full border-t border-white/10"})}),b.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:b.jsx("span",{className:"bg-bg-card px-2 text-slate-500",children:"New to SunSar?"})})]}),b.jsx(c0,{to:"/help",className:"block w-full py-3 px-4 rounded-xl border border-white/10 text-slate-300 font-medium hover:bg-white/5 hover:text-white transition-colors text-sm",children:"Check out how it works"})]})}),b.jsx("div",{className:"mt-8 text-center",children:b.jsxs("p",{className:"text-xs text-slate-500",children:[" 2026 SunSar Bingo  ",b.jsx("a",{href:"#",className:"hover:text-slate-400 underline decoration-slate-700",children:"Privacy"}),"  ",b.jsx("a",{href:"#",className:"hover:text-slate-400 underline decoration-slate-700",children:"Terms"})]})})]})]})};var Lb={};(function t(e,n,r,a){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",h=(function(){if(!e.OffscreenCanvas)return!1;try{var L=new OffscreenCanvas(1,1),T=L.getContext("2d");T.fillRect(0,0,1,1);var U=L.transferToImageBitmap();T.createPattern(U,"no-repeat")}catch{return!1}return!0})();function d(){}function m(L){var T=n.exports.Promise,U=T!==void 0?T:e.Promise;return typeof U=="function"?new U(L):(L(d,d),null)}var g=(function(L,T){return{transform:function(U){if(L)return U;if(T.has(U))return T.get(U);var W=new OffscreenCanvas(U.width,U.height),re=W.getContext("2d");return re.drawImage(U,0,0),T.set(U,W),W},clear:function(){T.clear()}}})(h,new Map),v=(function(){var L=Math.floor(16.666666666666668),T,U,W={},re=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(T=function(pe){var ge=Math.random();return W[ge]=requestAnimationFrame(function fe(ve){re===ve||re+L-1<ve?(re=ve,delete W[ge],pe()):W[ge]=requestAnimationFrame(fe)}),ge},U=function(pe){W[pe]&&cancelAnimationFrame(W[pe])}):(T=function(pe){return setTimeout(pe,L)},U=function(pe){return clearTimeout(pe)}),{frame:T,cancel:U}})(),_=(function(){var L,T,U={};function W(re){function pe(ge,fe){re.postMessage({options:ge||{},callback:fe})}re.init=function(fe){var ve=fe.transferControlToOffscreen();re.postMessage({canvas:ve},[ve])},re.fire=function(fe,ve,_e){if(T)return pe(fe,null),T;var Ee=Math.random().toString(36).slice(2);return T=m(function(Le){function Ve(ut){ut.data.callback===Ee&&(delete U[Ee],re.removeEventListener("message",Ve),T=null,g.clear(),_e(),Le())}re.addEventListener("message",Ve),pe(fe,Ee),U[Ee]=Ve.bind(null,{data:{callback:Ee}})}),T},re.reset=function(){re.postMessage({reset:!0});for(var fe in U)U[fe](),delete U[fe]}}return function(){if(L)return L;if(!r&&l){var re=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{L=new Worker(URL.createObjectURL(new Blob([re])))}catch(pe){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",pe),null}W(L)}return L}})(),A={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function M(L,T){return T?T(L):L}function D(L){return L!=null}function N(L,T,U){return M(L&&D(L[T])?L[T]:A[T],U)}function z(L){return L<0?0:Math.floor(L)}function $(L,T){return Math.floor(Math.random()*(T-L))+L}function q(L){return parseInt(L,16)}function ae(L){return L.map(te)}function te(L){var T=String(L).replace(/[^0-9a-f]/gi,"");return T.length<6&&(T=T[0]+T[0]+T[1]+T[1]+T[2]+T[2]),{r:q(T.substring(0,2)),g:q(T.substring(2,4)),b:q(T.substring(4,6))}}function le(L){var T=N(L,"origin",Object);return T.x=N(T,"x",Number),T.y=N(T,"y",Number),T}function I(L){L.width=document.documentElement.clientWidth,L.height=document.documentElement.clientHeight}function C(L){var T=L.getBoundingClientRect();L.width=T.width,L.height=T.height}function O(L){var T=document.createElement("canvas");return T.style.position="fixed",T.style.top="0px",T.style.left="0px",T.style.pointerEvents="none",T.style.zIndex=L,T}function k(L,T,U,W,re,pe,ge,fe,ve){L.save(),L.translate(T,U),L.rotate(pe),L.scale(W,re),L.arc(0,0,1,ge,fe,ve),L.restore()}function j(L){var T=L.angle*(Math.PI/180),U=L.spread*(Math.PI/180);return{x:L.x,y:L.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:L.startVelocity*.5+Math.random()*L.startVelocity,angle2D:-T+(.5*U-Math.random()*U),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:L.color,shape:L.shape,tick:0,totalTicks:L.ticks,decay:L.decay,drift:L.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:L.gravity*3,ovalScalar:.6,scalar:L.scalar,flat:L.flat}}function B(L,T){T.x+=Math.cos(T.angle2D)*T.velocity+T.drift,T.y+=Math.sin(T.angle2D)*T.velocity+T.gravity,T.velocity*=T.decay,T.flat?(T.wobble=0,T.wobbleX=T.x+10*T.scalar,T.wobbleY=T.y+10*T.scalar,T.tiltSin=0,T.tiltCos=0,T.random=1):(T.wobble+=T.wobbleSpeed,T.wobbleX=T.x+10*T.scalar*Math.cos(T.wobble),T.wobbleY=T.y+10*T.scalar*Math.sin(T.wobble),T.tiltAngle+=.1,T.tiltSin=Math.sin(T.tiltAngle),T.tiltCos=Math.cos(T.tiltAngle),T.random=Math.random()+2);var U=T.tick++/T.totalTicks,W=T.x+T.random*T.tiltCos,re=T.y+T.random*T.tiltSin,pe=T.wobbleX+T.random*T.tiltCos,ge=T.wobbleY+T.random*T.tiltSin;if(L.fillStyle="rgba("+T.color.r+", "+T.color.g+", "+T.color.b+", "+(1-U)+")",L.beginPath(),c&&T.shape.type==="path"&&typeof T.shape.path=="string"&&Array.isArray(T.shape.matrix))L.fill(H(T.shape.path,T.shape.matrix,T.x,T.y,Math.abs(pe-W)*.1,Math.abs(ge-re)*.1,Math.PI/10*T.wobble));else if(T.shape.type==="bitmap"){var fe=Math.PI/10*T.wobble,ve=Math.abs(pe-W)*.1,_e=Math.abs(ge-re)*.1,Ee=T.shape.bitmap.width*T.scalar,Le=T.shape.bitmap.height*T.scalar,Ve=new DOMMatrix([Math.cos(fe)*ve,Math.sin(fe)*ve,-Math.sin(fe)*_e,Math.cos(fe)*_e,T.x,T.y]);Ve.multiplySelf(new DOMMatrix(T.shape.matrix));var ut=L.createPattern(g.transform(T.shape.bitmap),"no-repeat");ut.setTransform(Ve),L.globalAlpha=1-U,L.fillStyle=ut,L.fillRect(T.x-Ee/2,T.y-Le/2,Ee,Le),L.globalAlpha=1}else if(T.shape==="circle")L.ellipse?L.ellipse(T.x,T.y,Math.abs(pe-W)*T.ovalScalar,Math.abs(ge-re)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI):k(L,T.x,T.y,Math.abs(pe-W)*T.ovalScalar,Math.abs(ge-re)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI);else if(T.shape==="star")for(var Ie=Math.PI/2*3,vt=4*T.scalar,mt=8*T.scalar,qt=T.x,Xt=T.y,Je=5,Pe=Math.PI/Je;Je--;)qt=T.x+Math.cos(Ie)*mt,Xt=T.y+Math.sin(Ie)*mt,L.lineTo(qt,Xt),Ie+=Pe,qt=T.x+Math.cos(Ie)*vt,Xt=T.y+Math.sin(Ie)*vt,L.lineTo(qt,Xt),Ie+=Pe;else L.moveTo(Math.floor(T.x),Math.floor(T.y)),L.lineTo(Math.floor(T.wobbleX),Math.floor(re)),L.lineTo(Math.floor(pe),Math.floor(ge)),L.lineTo(Math.floor(W),Math.floor(T.wobbleY));return L.closePath(),L.fill(),T.tick<T.totalTicks}function V(L,T,U,W,re){var pe=T.slice(),ge=L.getContext("2d"),fe,ve,_e=m(function(Ee){function Le(){fe=ve=null,ge.clearRect(0,0,W.width,W.height),g.clear(),re(),Ee()}function Ve(){r&&!(W.width===a.width&&W.height===a.height)&&(W.width=L.width=a.width,W.height=L.height=a.height),!W.width&&!W.height&&(U(L),W.width=L.width,W.height=L.height),ge.clearRect(0,0,W.width,W.height),pe=pe.filter(function(ut){return B(ge,ut)}),pe.length?fe=v.frame(Ve):Le()}fe=v.frame(Ve),ve=Le});return{addFettis:function(Ee){return pe=pe.concat(Ee),_e},canvas:L,promise:_e,reset:function(){fe&&v.cancel(fe),ve&&ve()}}}function xe(L,T){var U=!L,W=!!N(T||{},"resize"),re=!1,pe=N(T,"disableForReducedMotion",Boolean),ge=l&&!!N(T||{},"useWorker"),fe=ge?_():null,ve=U?I:C,_e=L&&fe?!!L.__confetti_initialized:!1,Ee=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Le;function Ve(Ie,vt,mt){for(var qt=N(Ie,"particleCount",z),Xt=N(Ie,"angle",Number),Je=N(Ie,"spread",Number),Pe=N(Ie,"startVelocity",Number),sn=N(Ie,"decay",Number),Di=N(Ie,"gravity",Number),Gi=N(Ie,"drift",Number),Ot=N(Ie,"colors",ae),hi=N(Ie,"ticks",Number),An=N(Ie,"shapes"),$n=N(Ie,"scalar"),an=!!N(Ie,"flat"),di=le(Ie),$i=qt,fn=[],Cn=L.width*di.x,Kn=L.height*di.y;$i--;)fn.push(j({x:Cn,y:Kn,angle:Xt,spread:Je,startVelocity:Pe,color:Ot[$i%Ot.length],shape:An[$(0,An.length)],ticks:hi,decay:sn,gravity:Di,drift:Gi,scalar:$n,flat:an}));return Le?Le.addFettis(fn):(Le=V(L,fn,ve,vt,mt),Le.promise)}function ut(Ie){var vt=pe||N(Ie,"disableForReducedMotion",Boolean),mt=N(Ie,"zIndex",Number);if(vt&&Ee)return m(function(Pe){Pe()});U&&Le?L=Le.canvas:U&&!L&&(L=O(mt),document.body.appendChild(L)),W&&!_e&&ve(L);var qt={width:L.width,height:L.height};fe&&!_e&&fe.init(L),_e=!0,fe&&(L.__confetti_initialized=!0);function Xt(){if(fe){var Pe={getBoundingClientRect:function(){if(!U)return L.getBoundingClientRect()}};ve(Pe),fe.postMessage({resize:{width:Pe.width,height:Pe.height}});return}qt.width=qt.height=null}function Je(){Le=null,W&&(re=!1,e.removeEventListener("resize",Xt)),U&&L&&(document.body.contains(L)&&document.body.removeChild(L),L=null,_e=!1)}return W&&!re&&(re=!0,e.addEventListener("resize",Xt,!1)),fe?fe.fire(Ie,qt,Je):Ve(Ie,qt,Je)}return ut.reset=function(){fe&&fe.reset(),Le&&Le.reset()},ut}var ke;function Z(){return ke||(ke=xe(null,{useWorker:!0,resize:!0})),ke}function H(L,T,U,W,re,pe,ge){var fe=new Path2D(L),ve=new Path2D;ve.addPath(fe,new DOMMatrix(T));var _e=new Path2D;return _e.addPath(ve,new DOMMatrix([Math.cos(ge)*re,Math.sin(ge)*re,-Math.sin(ge)*pe,Math.cos(ge)*pe,U,W])),_e}function G(L){if(!c)throw new Error("path confetti are not supported in this browser");var T,U;typeof L=="string"?T=L:(T=L.path,U=L.matrix);var W=new Path2D(T),re=document.createElement("canvas"),pe=re.getContext("2d");if(!U){for(var ge=1e3,fe=ge,ve=ge,_e=0,Ee=0,Le,Ve,ut=0;ut<ge;ut+=2)for(var Ie=0;Ie<ge;Ie+=2)pe.isPointInPath(W,ut,Ie,"nonzero")&&(fe=Math.min(fe,ut),ve=Math.min(ve,Ie),_e=Math.max(_e,ut),Ee=Math.max(Ee,Ie));Le=_e-fe,Ve=Ee-ve;var vt=10,mt=Math.min(vt/Le,vt/Ve);U=[mt,0,0,mt,-Math.round(Le/2+fe)*mt,-Math.round(Ve/2+ve)*mt]}return{type:"path",path:T,matrix:U}}function X(L){var T,U=1,W="#000000",re='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof L=="string"?T=L:(T=L.text,U="scalar"in L?L.scalar:U,re="fontFamily"in L?L.fontFamily:re,W="color"in L?L.color:W);var pe=10*U,ge=""+pe+"px "+re,fe=new OffscreenCanvas(pe,pe),ve=fe.getContext("2d");ve.font=ge;var _e=ve.measureText(T),Ee=Math.ceil(_e.actualBoundingBoxRight+_e.actualBoundingBoxLeft),Le=Math.ceil(_e.actualBoundingBoxAscent+_e.actualBoundingBoxDescent),Ve=2,ut=_e.actualBoundingBoxLeft+Ve,Ie=_e.actualBoundingBoxAscent+Ve;Ee+=Ve+Ve,Le+=Ve+Ve,fe=new OffscreenCanvas(Ee,Le),ve=fe.getContext("2d"),ve.font=ge,ve.fillStyle=W,ve.fillText(T,ut,Ie);var vt=1/U;return{type:"bitmap",bitmap:fe.transferToImageBitmap(),matrix:[vt,0,0,vt,-Ee*vt/2,-Le*vt/2]}}n.exports=function(){return Z().apply(this,arguments)},n.exports.reset=function(){Z().reset()},n.exports.create=xe,n.exports.shapeFromPath=G,n.exports.shapeFromText=X})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Lb,!1);const Qv=Lb.exports;Lb.exports.create;const Tu=(t=1)=>{const e=200*t,n={origin:{y:.7}};function r(a,l){Qv(Object.assign({},n,l,{particleCount:Math.floor(e*a)}))}r(.25,{spread:26,startVelocity:55}),r(.2,{spread:60}),r(.35,{spread:100,decay:.91,scalar:.8}),r(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),r(.1,{spread:120,startVelocity:45})},VS={cloudName:"dia6ped7h",uploadPreset:"bingo_proofs"},jS=async t=>{const e=new FormData;e.append("file",t),e.append("upload_preset",VS.uploadPreset),e.append("folder","bingo-proofs");const n=await fetch(`https://api.cloudinary.com/v1_1/${VS.cloudName}/image/upload`,{method:"POST",body:e});if(!n.ok){const a=await n.json();throw console.error("Cloudinary upload error:",a),new Error(a.error?.message||"Failed to upload image")}return(await n.json()).secure_url},tF="2026",Xy=5,nF=["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"],iF=t=>{const{user:e}=Wa(),[n,r]=S.useState([]),[a,l]=S.useState({}),[c,h]=S.useState(!0),[d,m]=S.useState(!1),[g,v]=S.useState(!1),[_,A]=S.useState(""),[M,D]=S.useState(Xy),N=S.useMemo(()=>t?Nr(oi,"boards",t):Nr(oi,"years",tF),[t]),z=(H,G)=>{if(!H.length)return;const X=[];for(let T=0;T<G;T++)X.push(H.slice(T*G,(T+1)*G));let L=!1;for(let T=0;T<G;T++)if(X[T]&&X[T].every(U=>U.isCompleted||U.isFreeSpace)){L=!0;break}if(!L){for(let T=0;T<G;T++)if(X.map(U=>U[T]).every(U=>U&&(U.isCompleted||U.isFreeSpace))){L=!0;break}}!L&&X.map((T,U)=>T[U]).every(T=>T&&(T.isCompleted||T.isFreeSpace))&&(L=!0),!L&&X.map((T,U)=>T[G-1-U]).every(T=>T&&(T.isCompleted||T.isFreeSpace))&&(L=!0),L&&!d?(m(!0),Tu(2)):L||m(!1)},$=async(H=Xy)=>{const G=H*H,X=H%2===1?Math.floor(G/2):-1,L=[...nF].sort(()=>.5-Math.random()),T=[];let U=0;for(let W=0;W<G;W++)W===X&&H%2===1?T.push({id:W,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(T.push({id:W,text:L[U%L.length]||`Goal ${W+1}`,isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),U++);await cm(N,{year:2026,gridSize:H,items:T,isLocked:!1,createdAt:qe.now(),lastUpdated:qe.now(),...e?{ownerId:e.uid,members:{[e.uid]:"owner"}}:{}},{merge:!0})};S.useEffect(()=>{if(!e)return;h(!0);const H=a2(N,G=>{if(G.exists()){const X=G.data(),L=X.gridSize||Xy;D(L),r(X.items||[]),l(X.members||{}),v(X.isLocked||!1),A(X.title||""),z(X.items||[],L)}else $();h(!1)},G=>{console.error("Error fetching bingo board:",G),h(!1)});return()=>H()},[N,e]);const q=async H=>{if(!n.length)return;const G=n.map(U=>({...U})),X=G[H];if(X.isFreeSpace)return;const L=X.targetCount||1,T=X.currentCount||0;if(X.isCompleted){const U=Math.max(0,T-1);X.currentCount=U,X.isCompleted=U>=L,U===0&&(X.completedBy=null,X.completedAt=null)}else{const U=Math.min(L,T+1);X.currentCount=U,X.isCompleted=U>=L,X.completedBy=e?.displayName||e?.email||"Unknown",X.completedAt=qe.now(),Tu(.5)}r(G),z(G,M);try{await si(N,{items:G,lastUpdated:qe.now()})}catch(U){console.error("Error updating bingo board:",U)}},ae=async H=>{if(!n.length)return;const G=n.map(W=>({...W})),X=G[H];if(X.isFreeSpace)return;const L=X.currentCount||0;if(L<=0)return;const T=X.targetCount||1,U=L-1;X.currentCount=U,X.isCompleted=U>=T,U===0&&(X.completedBy=null,X.completedAt=null),r(G),z(G,M);try{await si(N,{items:G,lastUpdated:qe.now()})}catch(W){console.error("Error decrementing progress:",W)}},te=async(H,G)=>{if(!(!n.length||!e))try{const X=await jS(G),L=n.map(ge=>({...ge})),T=L[H];if(T.isFreeSpace)return;const U=T.targetCount||1,W=T.currentCount||0,re=Math.min(U,W+1);T.currentCount=re,T.isCompleted=re>=U,T.completedBy=e?.displayName||e?.email||"Unknown",T.completedAt=qe.now();const pe=T.proofPhotos||[];T.proofPhotos=[...pe,X],r(L),z(L,M),Tu(1),await si(N,{items:L,lastUpdated:qe.now()})}catch(X){throw console.error("Error completing with photo:",X),X}},le=async(H,G)=>{if(!n.length||!e)return;const X=n[H];!X.isCompleted&&(X.currentCount||0)<(X.targetCount||1);const L=X.proofPhotos||[];if(L.length>=5)throw new Error("Maximum 5 photos allowed per tile");try{const T=await jS(G),U=n.map(W=>({...W}));return U[H].proofPhotos=[...L,T],r(U),Tu(.3),await si(N,{items:U,lastUpdated:qe.now()}),T}catch(T){throw console.error("Error adding photo:",T),T}},I=async(H,G)=>{if(!n.length)return;const X=n.map(U=>({...U})),L=X[H];if(!L.proofPhotos)return;const T=[...L.proofPhotos];T.splice(G,1),L.proofPhotos=T,r(X);try{await si(N,{items:X,lastUpdated:qe.now()})}catch(U){console.error("Error deleting photo:",U)}},C=async(H,G)=>{if(e)try{const X=n.map(W=>({...W})),L=X[H],T={emoji:G,by:e.uid,byName:e.displayName||e.email?.split("@")[0]||"Friend",timestamp:Date.now()},U=L.reactions||[];L.reactions=[...U,T],r(X),await si(N,{items:X,lastUpdated:qe.now()}),Tu(.2)}catch(X){console.error("Error adding reaction:",X)}},O=async(H,G)=>{const X=n.map(L=>({...L}));G.text!==void 0&&(X[H].text=G.text),G.style!==void 0&&(X[H].style=G.style),r(X);try{await si(N,{items:X,lastUpdated:qe.now()})}catch(L){console.error("Error updating item:",L)}},k=async(H=!0)=>{const G=[...n];let X=G;if(H){const T=M*M,U=M%2===1?Math.floor(T/2):-1;if(U!==-1){const W=G[U],re=[...G.slice(0,U),...G.slice(U+1)];for(let pe=re.length-1;pe>0;pe--){const ge=Math.floor(Math.random()*(pe+1));[re[pe],re[ge]]=[re[ge],re[pe]]}X=[...re.slice(0,U),W,...re.slice(U)]}else{X=[...G];for(let W=X.length-1;W>0;W--){const re=Math.floor(Math.random()*(W+1));[X[W],X[re]]=[X[re],X[W]]}}r(X)}v(!0);const L={isLocked:!0,lastUpdated:qe.now()};H&&(L.items=X,L.itemsBackup=G),await cm(N,L,{merge:!0})},j=async()=>{try{const H=await Rh(N);if(H.exists()){const G=H.data();G.itemsBackup?await si(N,{items:G.itemsBackup,itemsBackup:lm(),isLocked:!1,lastUpdated:qe.now()}):await si(N,{isLocked:!1,lastUpdated:qe.now()})}}catch(H){console.error("Error unlocking board:",H)}},B=S.useMemo(()=>{const H=[[0,1,2,3,4],[5,6,7,8,9],[10,11,12,13,14],[15,16,17,18,19],[20,21,22,23,24],[0,5,10,15,20],[1,6,11,16,21],[2,7,12,17,22],[3,8,13,18,23],[4,9,14,19,24],[0,6,12,18,24],[4,8,12,16,20]],G=new Set(n.map((X,L)=>X.isCompleted||X.isFreeSpace?L:-1));return H.reduce((X,L)=>L.every(T=>G.has(T))?X+1:X,0)},[n]);return{items:n,members:a,loading:c,toggleItem:q,updateItem:O,hasWon:d,bingoCount:B,isLocked:g,unlockBoard:j,jumbleAndLock:k,saveBoard:async H=>{r(H);try{await si(N,{items:H,lastUpdated:qe.now()})}catch(G){console.error("Error saving board:",G)}},completeWithPhoto:te,addPhotoToTile:le,deletePhoto:I,addReaction:C,decrementProgress:ae,inviteUser:async(H,G="editor")=>{try{const X=eh(Po(oi,"users"),th("email","==",H)),L=await Wl(X);if(L.empty)return{success:!1,type:"not_found",message:"User not found"};const T=L.docs[0],U=T.id;return await si(N,{[`members.${U}`]:G}),{success:!0,type:"success",message:`Added ${T.data().displayName||H} as ${G}!`}}catch(X){return console.error("Error inviting user:",X),{success:!1,type:"error",message:"Failed to invite user"}}},removeMember:async H=>{try{return await si(N,{[`members.${H}`]:lm()}),{success:!0}}catch(G){return console.error("Error removing member:",G),{success:!1,error:G}}},title:_,gridSize:M,updateTitle:async H=>{try{await si(N,{title:H,lastUpdated:qe.now()}),A(H)}catch(G){console.error("Error updating title:",G)}}}};let qu=null;const Eu=()=>(qu||(qu=new(window.AudioContext||window.webkitAudioContext)),qu),rF=()=>{const{settings:t}=cp(),e=t.enableSound??!0,n=S.useRef(0);S.useEffect(()=>{const g=()=>{qu?.state==="suspended"&&qu.resume()};return document.addEventListener("click",g,{once:!0}),document.addEventListener("touchstart",g,{once:!0}),()=>{document.removeEventListener("click",g),document.removeEventListener("touchstart",g)}},[]);const r=S.useCallback(()=>{const g=Date.now();return g-n.current<50?!1:(n.current=g,!0)},[]),a=S.useCallback(()=>{if(!(!e||!r()))try{const g=Eu(),v=g.createOscillator(),_=g.createGain();v.connect(_),_.connect(g.destination),v.frequency.setValueAtTime(800,g.currentTime),v.frequency.exponentialRampToValueAtTime(400,g.currentTime+.1),v.type="sine",_.gain.setValueAtTime(.15,g.currentTime),_.gain.exponentialRampToValueAtTime(.001,g.currentTime+.1),v.start(g.currentTime),v.stop(g.currentTime+.1)}catch(g){console.warn("Audio playback failed:",g)}},[e,r]),l=S.useCallback(()=>{if(!(!e||!r()))try{const g=Eu();[523.25,659.25,783.99].forEach((_,A)=>{const M=g.createOscillator(),D=g.createGain();M.connect(D),D.connect(g.destination),M.frequency.setValueAtTime(_,g.currentTime),M.type="sine";const N=g.currentTime+A*.08;D.gain.setValueAtTime(0,N),D.gain.linearRampToValueAtTime(.12,N+.02),D.gain.exponentialRampToValueAtTime(.001,N+.3),M.start(N),M.stop(N+.3)})}catch(g){console.warn("Audio playback failed:",g)}},[e,r]),c=S.useCallback(()=>{if(e)try{const g=Eu();[{freq:523.25,time:0},{freq:659.25,time:.1},{freq:783.99,time:.2},{freq:1046.5,time:.35},{freq:1318.51,time:.5}].forEach(({freq:M,time:D})=>{const N=g.createOscillator(),z=g.createGain();N.connect(z),z.connect(g.destination),N.frequency.setValueAtTime(M,g.currentTime+D),N.type="sine",z.gain.setValueAtTime(0,g.currentTime+D),z.gain.linearRampToValueAtTime(.2,g.currentTime+D+.02),z.gain.exponentialRampToValueAtTime(.001,g.currentTime+D+.5),N.start(g.currentTime+D),N.stop(g.currentTime+D+.5)});const _=g.createOscillator(),A=g.createGain();_.connect(A),A.connect(g.destination),_.type="sine",_.frequency.setValueAtTime(2e3,g.currentTime+.6),_.frequency.exponentialRampToValueAtTime(4e3,g.currentTime+1.2),A.gain.setValueAtTime(0,g.currentTime+.6),A.gain.linearRampToValueAtTime(.05,g.currentTime+.7),A.gain.exponentialRampToValueAtTime(.001,g.currentTime+1.2),_.start(g.currentTime+.6),_.stop(g.currentTime+1.2)}catch(g){console.warn("Audio playback failed:",g)}},[e]),h=S.useRef(null),d=S.useCallback(()=>{if(!(!e||!r()))try{const g=Eu();if(!h.current){const M=g.sampleRate*.15,D=g.createBuffer(1,M,g.sampleRate),N=D.getChannelData(0);for(let z=0;z<M;z++)N[z]=(Math.random()*2-1)*(1-z/M);h.current=D}const v=g.createBufferSource(),_=g.createBiquadFilter(),A=g.createGain();v.buffer=h.current,_.type="lowpass",_.frequency.setValueAtTime(2e3,g.currentTime),_.frequency.exponentialRampToValueAtTime(500,g.currentTime+.15),v.connect(_),_.connect(A),A.connect(g.destination),A.gain.setValueAtTime(.08,g.currentTime),A.gain.exponentialRampToValueAtTime(.001,g.currentTime+.15),v.start(g.currentTime)}catch(g){console.warn("Audio playback failed:",g)}},[e,r]),m=S.useCallback(()=>{if(!(!e||!r()))try{const g=Eu(),v=g.createOscillator(),_=g.createGain();v.connect(_),_.connect(g.destination),v.frequency.setValueAtTime(200,g.currentTime),v.frequency.linearRampToValueAtTime(150,g.currentTime+.2),v.type="sine",_.gain.setValueAtTime(.15,g.currentTime),_.gain.exponentialRampToValueAtTime(.001,g.currentTime+.2),v.start(g.currentTime),v.stop(g.currentTime+.2)}catch(g){console.warn("Audio playback failed:",g)}},[e,r]);return{playClick:a,playSuccess:l,playBingo:c,playWhoosh:d,playError:m}},sF=({items:t,isOpen:e,onClose:n})=>{const[r,a]=S.useState(null),l=S.useMemo(()=>t.map((d,m)=>({...d,originalIndex:m})).filter(d=>d.proofPhotos&&d.proofPhotos.length>0).sort((d,m)=>{const g=d.completedAt?.toDate?.()||new Date(0);return(m.completedAt?.toDate?.()||new Date(0)).getTime()-g.getTime()}),[t]),c=S.useMemo(()=>{const d={};return l.forEach(m=>{const v=(m.completedAt?.toDate?.()||new Date).toLocaleDateString("en-US",{month:"long",year:"numeric"});d[v]||(d[v]=[]),d[v].push(m)}),d},[l]),h=d=>d?(d.toDate?d.toDate():new Date(d)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"";return e?b.jsx(Ar,{children:b.jsxs(at.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] bg-bg-dark overflow-y-auto",children:[b.jsx("div",{className:"sticky top-0 z-10 bg-bg-dark/95 backdrop-blur-md border-b border-white/10",children:b.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(xm,{className:"w-6 h-6 text-accent-gold"}),b.jsx("h1",{className:"text-xl font-bold text-white",children:"2026 Memories"}),b.jsxs("span",{className:"text-sm text-slate-400",children:["(",l.length," moments)"]})]}),b.jsx("button",{onClick:n,className:"p-2 text-slate-400 hover:text-white transition-colors rounded-full hover:bg-white/10",children:b.jsx(Ls,{size:24})})]})}),b.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6",children:l.length===0?b.jsxs("div",{className:"text-center py-20",children:[b.jsx(xm,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),b.jsx("h2",{className:"text-xl font-semibold text-slate-400 mb-2",children:"No memories yet"}),b.jsx("p",{className:"text-slate-500",children:"Complete tasks and add photos to build your 2026 album!"})]}):Object.entries(c).map(([d,m])=>b.jsxs("div",{className:"mb-8",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[b.jsx(_m,{className:"w-4 h-4 text-accent-primary"}),b.jsx("h2",{className:"text-lg font-semibold text-accent-primary",children:d}),b.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-accent-primary/30 to-transparent"})]}),b.jsx("div",{className:"space-y-6",children:m.map((g,v)=>b.jsxs(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},className:"bg-bg-card/80 rounded-2xl border border-white/10 overflow-hidden shadow-xl",children:[b.jsxs("div",{className:"relative aspect-video bg-black cursor-pointer",onClick:()=>a({memoryIdx:l.indexOf(g),photoIdx:0}),children:[b.jsx("img",{src:g.proofPhotos[0],alt:g.text,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}),g.proofPhotos.length>1&&b.jsxs("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/70 rounded-full text-white text-xs font-medium",children:["+",g.proofPhotos.length-1," more"]})]}),g.proofPhotos.length>1&&b.jsx("div",{className:"flex gap-1 p-2 bg-black/30 overflow-x-auto",children:g.proofPhotos.map((_,A)=>b.jsx("button",{onClick:()=>a({memoryIdx:l.indexOf(g),photoIdx:A}),className:"w-14 h-14 rounded-lg overflow-hidden flex-shrink-0 border-2 border-transparent hover:border-accent-primary transition-all",children:b.jsx("img",{src:_,alt:"",className:"w-full h-full object-cover"})},A))}),b.jsxs("div",{className:"p-4",children:[b.jsxs("h3",{className:"text-lg font-semibold text-white mb-2 flex items-center gap-2",children:[b.jsx("span",{className:"text-accent-gold",children:g.isCompleted?"":""}),g.text]}),b.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(Tm,{size:14}),g.isCompleted?g.completedBy:"In Progress"]}),g.isCompleted&&b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(_m,{size:14}),h(g.completedAt)]})]})]})]},g.id))})]},d))}),b.jsx(Ar,{children:r!==null&&l[r.memoryIdx]&&b.jsxs(at.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[300] bg-black/95 flex items-center justify-center p-4",onClick:()=>a(null),children:[b.jsx("button",{onClick:()=>a(null),className:"absolute top-4 right-4 p-2 text-white/70 hover:text-white",children:b.jsx(Ls,{size:32})}),(()=>{const d=l[r.memoryIdx],m=d.proofPhotos||[],g=r.photoIdx;return b.jsxs("div",{className:"relative max-w-4xl w-full",onClick:v=>v.stopPropagation(),children:[b.jsx("img",{src:m[g],alt:"",className:"w-full max-h-[80vh] object-contain rounded-lg"}),m.length>1&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>a({...r,photoIdx:g>0?g-1:m.length-1}),className:"absolute left-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:b.jsx(QN,{size:28})}),b.jsx("button",{onClick:()=>a({...r,photoIdx:g<m.length-1?g+1:0}),className:"absolute right-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:b.jsx(JN,{size:28})})]}),b.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:[b.jsx("p",{className:"text-white font-semibold",children:d.text}),b.jsxs("p",{className:"text-slate-300 text-sm",children:[g+1," / ",m.length,"  ",h(d.completedAt)]})]})]})})()]})})]})}):null},aF=({items:t})=>{const[e,n]=S.useState([]),r=S.useRef({}),a=S.useRef(!1);S.useEffect(()=>{if(!a.current){t.forEach(c=>{r.current[c.id]=c.reactions?.length||0}),a.current=!0;return}t.forEach(c=>{const h=c.reactions?.length||0,d=r.current[c.id]||0;h>d&&c.reactions.slice(d).forEach(g=>{l(g)}),r.current[c.id]=h})},[t]);const l=c=>{const h=Math.random().toString(36).substring(7),d=Math.random()*80+10;n(m=>[...m,{...c,id:h,x:d}]),setTimeout(()=>{n(m=>m.filter(g=>g.id!==h))},4e3)};return b.jsx("div",{className:"fixed inset-0 pointer-events-none z-[100] overflow-hidden",children:b.jsx(Ar,{children:e.map(c=>b.jsxs(at.div,{initial:{y:"110vh",opacity:0,x:`${c.x}vw`,scale:.5,rotate:0},animate:{y:"-10vh",opacity:[0,1,1,0],scale:[.5,1.5,1.2],rotate:[0,-10,10,0]},transition:{duration:4,ease:"easeOut"},className:"absolute top-0 flex flex-col items-center",children:[b.jsx("span",{className:"text-6xl drop-shadow-2xl filter",children:c.emoji}),c.byName&&b.jsx("div",{className:"text-sm font-bold text-white/90 text-center mt-2 bg-black/40 px-3 py-1 rounded-full backdrop-blur-md border border-white/10 shadow-lg",children:c.byName})]},c.id))})})};function oF(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return S.useMemo(()=>r=>{e.forEach(a=>a(r))},e)}const up=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function _c(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Ub(t){return"nodeType"in t}function bi(t){var e,n;return t?_c(t)?t:Ub(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function zb(t){const{Document:e}=bi(t);return t instanceof e}function Ph(t){return _c(t)?!1:t instanceof bi(t).HTMLElement}function vI(t){return t instanceof bi(t).SVGElement}function wc(t){return t?_c(t)?t.document:Ub(t)?zb(t)?t:Ph(t)||vI(t)?t.ownerDocument:document:document:document}const Pr=up?S.useLayoutEffect:S.useEffect;function hp(t){const e=S.useRef(t);return Pr(()=>{e.current=t}),S.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e.current==null?void 0:e.current(...r)},[])}function lF(){const t=S.useRef(null),e=S.useCallback((r,a)=>{t.current=setInterval(r,a)},[]),n=S.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function lh(t,e){e===void 0&&(e=[t]);const n=S.useRef(t);return Pr(()=>{n.current!==t&&(n.current=t)},e),n}function Oh(t,e){const n=S.useRef();return S.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function Sm(t){const e=hp(t),n=S.useRef(null),r=S.useCallback(a=>{a!==n.current&&e?.(a,n.current),n.current=a},[]);return[n,r]}function Am(t){const e=S.useRef();return S.useEffect(()=>{e.current=t},[t]),e.current}let Wy={};function Vh(t,e){return S.useMemo(()=>{if(e)return e;const n=Wy[t]==null?0:Wy[t]+1;return Wy[t]=n,t+"-"+n},[t,e])}function bI(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((l,c)=>{const h=Object.entries(c);for(const[d,m]of h){const g=l[d];g!=null&&(l[d]=g+t*m)}return l},{...e})}}const Jl=bI(1),ch=bI(-1);function cF(t){return"clientX"in t&&"clientY"in t}function dp(t){if(!t)return!1;const{KeyboardEvent:e}=bi(t.target);return e&&t instanceof e}function uF(t){if(!t)return!1;const{TouchEvent:e}=bi(t.target);return e&&t instanceof e}function Cm(t){if(uF(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return cF(t)?{x:t.clientX,y:t.clientY}:null}const $a=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[$a.Translate.toString(t),$a.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),LS="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function hF(t){return t.matches(LS)?t:t.querySelector(LS)}const dF={display:"none"};function fF(t){let{id:e,value:n}=t;return St.createElement("div",{id:e,style:dF},n)}function mF(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return St.createElement("div",{id:e,style:a,role:"status","aria-live":r,"aria-atomic":!0},n)}function pF(){const[t,e]=S.useState("");return{announce:S.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const xI=S.createContext(null);function gF(t){const e=S.useContext(xI);S.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function yF(){const[t]=S.useState(()=>new Set),e=S.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[S.useCallback(r=>{let{type:a,event:l}=r;t.forEach(c=>{var h;return(h=c[a])==null?void 0:h.call(c,l)})},[t]),e]}const vF={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},bF={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function xF(t){let{announcements:e=bF,container:n,hiddenTextDescribedById:r,screenReaderInstructions:a=vF}=t;const{announce:l,announcement:c}=pF(),h=Vh("DndLiveRegion"),[d,m]=S.useState(!1);if(S.useEffect(()=>{m(!0)},[]),gF(S.useMemo(()=>({onDragStart(v){let{active:_}=v;l(e.onDragStart({active:_}))},onDragMove(v){let{active:_,over:A}=v;e.onDragMove&&l(e.onDragMove({active:_,over:A}))},onDragOver(v){let{active:_,over:A}=v;l(e.onDragOver({active:_,over:A}))},onDragEnd(v){let{active:_,over:A}=v;l(e.onDragEnd({active:_,over:A}))},onDragCancel(v){let{active:_,over:A}=v;l(e.onDragCancel({active:_,over:A}))}}),[l,e])),!d)return null;const g=St.createElement(St.Fragment,null,St.createElement(fF,{id:r,value:a.draggable}),St.createElement(mF,{id:h,announcement:c}));return n?Su.createPortal(g,n):g}var On;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(On||(On={}));function Rm(){}function US(t,e){return S.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function _F(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return S.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Or=Object.freeze({x:0,y:0});function _I(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function wF(t,e){const n=Cm(t);if(!n)return"0 0";const r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function wI(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function TF(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function zS(t){let{left:e,top:n,height:r,width:a}=t;return[{x:e,y:n},{x:e+a,y:n},{x:e,y:n+r},{x:e+a,y:n+r}]}function TI(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function BS(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const EF=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const a=BS(e,e.left,e.top),l=[];for(const c of r){const{id:h}=c,d=n.get(h);if(d){const m=_I(BS(d),a);l.push({id:h,data:{droppableContainer:c,value:m}})}}return l.sort(wI)},SF=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const a=zS(e),l=[];for(const c of r){const{id:h}=c,d=n.get(h);if(d){const m=zS(d),g=a.reduce((_,A,M)=>_+_I(m[M],A),0),v=Number((g/4).toFixed(4));l.push({id:h,data:{droppableContainer:c,value:v}})}}return l.sort(wI)};function AF(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),a=Math.min(e.left+e.width,t.left+t.width),l=Math.min(e.top+e.height,t.top+t.height),c=a-r,h=l-n;if(r<a&&n<l){const d=e.width*e.height,m=t.width*t.height,g=c*h,v=g/(d+m-g);return Number(v.toFixed(4))}return 0}const CF=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const a=[];for(const l of r){const{id:c}=l,h=n.get(c);if(h){const d=AF(h,e);d>0&&a.push({id:c,data:{droppableContainer:l,value:d}})}}return a.sort(TF)};function RF(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function EI(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Or}function NF(t){return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),l=1;l<r;l++)a[l-1]=arguments[l];return a.reduce((c,h)=>({...c,top:c.top+t*h.y,bottom:c.bottom+t*h.y,left:c.left+t*h.x,right:c.right+t*h.x}),{...n})}}const IF=NF(1);function SI(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function DF(t,e,n){const r=SI(e);if(!r)return t;const{scaleX:a,scaleY:l,x:c,y:h}=r,d=t.left-c-(1-a)*parseFloat(n),m=t.top-h-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),g=a?t.width/a:t.width,v=l?t.height/l:t.height;return{width:g,height:v,top:m,right:d+g,bottom:m+v,left:d}}const kF={ignoreTransform:!1};function Tc(t,e){e===void 0&&(e=kF);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:m,transformOrigin:g}=bi(t).getComputedStyle(t);m&&(n=DF(n,m,g))}const{top:r,left:a,width:l,height:c,bottom:h,right:d}=n;return{top:r,left:a,width:l,height:c,bottom:h,right:d}}function FS(t){return Tc(t,{ignoreTransform:!0})}function MF(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function PF(t,e){return e===void 0&&(e=bi(t).getComputedStyle(t)),e.position==="fixed"}function OF(t,e){e===void 0&&(e=bi(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const l=e[a];return typeof l=="string"?n.test(l):!1})}function fp(t,e){const n=[];function r(a){if(e!=null&&n.length>=e||!a)return n;if(zb(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!Ph(a)||vI(a)||n.includes(a))return n;const l=bi(t).getComputedStyle(a);return a!==t&&OF(a,l)&&n.push(a),PF(a,l)?n:r(a.parentNode)}return t?r(t):n}function AI(t){const[e]=fp(t,1);return e??null}function Qy(t){return!up||!t?null:_c(t)?t:Ub(t)?zb(t)||t===wc(t).scrollingElement?window:Ph(t)?t:null:null}function CI(t){return _c(t)?t.scrollX:t.scrollLeft}function RI(t){return _c(t)?t.scrollY:t.scrollTop}function Jv(t){return{x:CI(t),y:RI(t)}}var qn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(qn||(qn={}));function NI(t){return!up||!t?!1:t===document.scrollingElement}function II(t){const e={x:0,y:0},n=NI(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},a=t.scrollTop<=e.y,l=t.scrollLeft<=e.x,c=t.scrollTop>=r.y,h=t.scrollLeft>=r.x;return{isTop:a,isLeft:l,isBottom:c,isRight:h,maxScroll:r,minScroll:e}}const VF={x:.2,y:.2};function jF(t,e,n,r,a){let{top:l,left:c,right:h,bottom:d}=n;r===void 0&&(r=10),a===void 0&&(a=VF);const{isTop:m,isBottom:g,isLeft:v,isRight:_}=II(t),A={x:0,y:0},M={x:0,y:0},D={height:e.height*a.y,width:e.width*a.x};return!m&&l<=e.top+D.height?(A.y=qn.Backward,M.y=r*Math.abs((e.top+D.height-l)/D.height)):!g&&d>=e.bottom-D.height&&(A.y=qn.Forward,M.y=r*Math.abs((e.bottom-D.height-d)/D.height)),!_&&h>=e.right-D.width?(A.x=qn.Forward,M.x=r*Math.abs((e.right-D.width-h)/D.width)):!v&&c<=e.left+D.width&&(A.x=qn.Backward,M.x=r*Math.abs((e.left+D.width-c)/D.width)),{direction:A,speed:M}}function LF(t){if(t===document.scrollingElement){const{innerWidth:l,innerHeight:c}=window;return{top:0,left:0,right:l,bottom:c,width:l,height:c}}const{top:e,left:n,right:r,bottom:a}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:a,width:t.clientWidth,height:t.clientHeight}}function DI(t){return t.reduce((e,n)=>Jl(e,Jv(n)),Or)}function UF(t){return t.reduce((e,n)=>e+CI(n),0)}function zF(t){return t.reduce((e,n)=>e+RI(n),0)}function kI(t,e){if(e===void 0&&(e=Tc),!t)return;const{top:n,left:r,bottom:a,right:l}=e(t);AI(t)&&(a<=0||l<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const BF=[["x",["left","right"],UF],["y",["top","bottom"],zF]];class Bb{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=fp(n),a=DI(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[l,c,h]of BF)for(const d of c)Object.defineProperty(this,d,{get:()=>{const m=h(r),g=a[l]-m;return this.rect[d]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Hu{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var a;(a=this.target)==null||a.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function FF(t){const{EventTarget:e}=bi(t);return t instanceof e?t:wc(t)}function Jy(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var ar;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(ar||(ar={}));function qS(t){t.preventDefault()}function qF(t){t.stopPropagation()}var ot;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(ot||(ot={}));const MI={start:[ot.Space,ot.Enter],cancel:[ot.Esc],end:[ot.Space,ot.Enter,ot.Tab]},HF=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case ot.Right:return{...n,x:n.x+25};case ot.Left:return{...n,x:n.x-25};case ot.Down:return{...n,y:n.y+25};case ot.Up:return{...n,y:n.y-25}}};class Fb{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Hu(wc(n)),this.windowListeners=new Hu(bi(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ar.Resize,this.handleCancel),this.windowListeners.add(ar.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ar.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&kI(r),n(Or)}handleKeyDown(e){if(dp(e)){const{active:n,context:r,options:a}=this.props,{keyboardCodes:l=MI,coordinateGetter:c=HF,scrollBehavior:h="smooth"}=a,{code:d}=e;if(l.end.includes(d)){this.handleEnd(e);return}if(l.cancel.includes(d)){this.handleCancel(e);return}const{collisionRect:m}=r.current,g=m?{x:m.left,y:m.top}:Or;this.referenceCoordinates||(this.referenceCoordinates=g);const v=c(e,{active:n,context:r.current,currentCoordinates:g});if(v){const _=ch(v,g),A={x:0,y:0},{scrollableAncestors:M}=r.current;for(const D of M){const N=e.code,{isTop:z,isRight:$,isLeft:q,isBottom:ae,maxScroll:te,minScroll:le}=II(D),I=LF(D),C={x:Math.min(N===ot.Right?I.right-I.width/2:I.right,Math.max(N===ot.Right?I.left:I.left+I.width/2,v.x)),y:Math.min(N===ot.Down?I.bottom-I.height/2:I.bottom,Math.max(N===ot.Down?I.top:I.top+I.height/2,v.y))},O=N===ot.Right&&!$||N===ot.Left&&!q,k=N===ot.Down&&!ae||N===ot.Up&&!z;if(O&&C.x!==v.x){const j=D.scrollLeft+_.x,B=N===ot.Right&&j<=te.x||N===ot.Left&&j>=le.x;if(B&&!_.y){D.scrollTo({left:j,behavior:h});return}B?A.x=D.scrollLeft-j:A.x=N===ot.Right?D.scrollLeft-te.x:D.scrollLeft-le.x,A.x&&D.scrollBy({left:-A.x,behavior:h});break}else if(k&&C.y!==v.y){const j=D.scrollTop+_.y,B=N===ot.Down&&j<=te.y||N===ot.Up&&j>=le.y;if(B&&!_.x){D.scrollTo({top:j,behavior:h});return}B?A.y=D.scrollTop-j:A.y=N===ot.Down?D.scrollTop-te.y:D.scrollTop-le.y,A.y&&D.scrollBy({top:-A.y,behavior:h});break}}this.handleMove(e,Jl(ch(v,this.referenceCoordinates),A))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Fb.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=MI,onActivation:a}=e,{active:l}=n;const{code:c}=t.nativeEvent;if(r.start.includes(c)){const h=l.activatorNode.current;return h&&t.target!==h?!1:(t.preventDefault(),a?.({event:t.nativeEvent}),!0)}return!1}}];function HS(t){return!!(t&&"distance"in t)}function GS(t){return!!(t&&"delay"in t)}class qb{constructor(e,n,r){var a;r===void 0&&(r=FF(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:l}=e,{target:c}=l;this.props=e,this.events=n,this.document=wc(c),this.documentListeners=new Hu(this.document),this.listeners=new Hu(r),this.windowListeners=new Hu(bi(c)),this.initialCoordinates=(a=Cm(l))!=null?a:Or,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(ar.Resize,this.handleCancel),this.windowListeners.add(ar.DragStart,qS),this.windowListeners.add(ar.VisibilityChange,this.handleCancel),this.windowListeners.add(ar.ContextMenu,qS),this.documentListeners.add(ar.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(GS(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(HS(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:a}=this.props;a(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(ar.Click,qF,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ar.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:a,props:l}=this,{onMove:c,options:{activationConstraint:h}}=l;if(!a)return;const d=(n=Cm(e))!=null?n:Or,m=ch(a,d);if(!r&&h){if(HS(h)){if(h.tolerance!=null&&Jy(m,h.tolerance))return this.handleCancel();if(Jy(m,h.distance))return this.handleStart()}if(GS(h)&&Jy(m,h.tolerance))return this.handleCancel();this.handlePending(h,m);return}e.cancelable&&e.preventDefault(),c(d)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===ot.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const GF={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Hb extends qb{constructor(e){const{event:n}=e,r=wc(n.target);super(e,GF,r)}}Hb.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const $F={move:{name:"mousemove"},end:{name:"mouseup"}};var Zv;(function(t){t[t.RightClick=2]="RightClick"})(Zv||(Zv={}));class KF extends qb{constructor(e){super(e,$F,wc(e.event.target))}}KF.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===Zv.RightClick?!1:(r?.({event:n}),!0)}}];const Zy={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class YF extends qb{constructor(e){super(e,Zy)}static setup(){return window.addEventListener(Zy.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Zy.move.name,e)};function e(){}}}YF.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:a}=n;return a.length>1?!1:(r?.({event:n}),!0)}}];var Gu;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Gu||(Gu={}));var Nm;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Nm||(Nm={}));function XF(t){let{acceleration:e,activator:n=Gu.Pointer,canScroll:r,draggingRect:a,enabled:l,interval:c=5,order:h=Nm.TreeOrder,pointerCoordinates:d,scrollableAncestors:m,scrollableAncestorRects:g,delta:v,threshold:_}=t;const A=QF({delta:v,disabled:!l}),[M,D]=lF(),N=S.useRef({x:0,y:0}),z=S.useRef({x:0,y:0}),$=S.useMemo(()=>{switch(n){case Gu.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Gu.DraggableRect:return a}},[n,a,d]),q=S.useRef(null),ae=S.useCallback(()=>{const le=q.current;if(!le)return;const I=N.current.x*z.current.x,C=N.current.y*z.current.y;le.scrollBy(I,C)},[]),te=S.useMemo(()=>h===Nm.TreeOrder?[...m].reverse():m,[h,m]);S.useEffect(()=>{if(!l||!m.length||!$){D();return}for(const le of te){if(r?.(le)===!1)continue;const I=m.indexOf(le),C=g[I];if(!C)continue;const{direction:O,speed:k}=jF(le,C,$,e,_);for(const j of["x","y"])A[j][O[j]]||(k[j]=0,O[j]=0);if(k.x>0||k.y>0){D(),q.current=le,M(ae,c),N.current=k,z.current=O;return}}N.current={x:0,y:0},z.current={x:0,y:0},D()},[e,ae,r,D,l,c,JSON.stringify($),JSON.stringify(A),M,m,te,g,JSON.stringify(_)])}const WF={x:{[qn.Backward]:!1,[qn.Forward]:!1},y:{[qn.Backward]:!1,[qn.Forward]:!1}};function QF(t){let{delta:e,disabled:n}=t;const r=Am(e);return Oh(a=>{if(n||!r||!a)return WF;const l={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[qn.Backward]:a.x[qn.Backward]||l.x===-1,[qn.Forward]:a.x[qn.Forward]||l.x===1},y:{[qn.Backward]:a.y[qn.Backward]||l.y===-1,[qn.Forward]:a.y[qn.Forward]||l.y===1}}},[n,e,r])}function JF(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Oh(a=>{var l;return e==null?null:(l=r??a)!=null?l:null},[r,e])}function ZF(t,e){return S.useMemo(()=>t.reduce((n,r)=>{const{sensor:a}=r,l=a.activators.map(c=>({eventName:c.eventName,handler:e(c.handler,r)}));return[...n,...l]},[]),[t,e])}var uh;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(uh||(uh={}));var e0;(function(t){t.Optimized="optimized"})(e0||(e0={}));const $S=new Map;function e7(t,e){let{dragging:n,dependencies:r,config:a}=e;const[l,c]=S.useState(null),{frequency:h,measure:d,strategy:m}=a,g=S.useRef(t),v=N(),_=lh(v),A=S.useCallback(function(z){z===void 0&&(z=[]),!_.current&&c($=>$===null?z:$.concat(z.filter(q=>!$.includes(q))))},[_]),M=S.useRef(null),D=Oh(z=>{if(v&&!n)return $S;if(!z||z===$S||g.current!==t||l!=null){const $=new Map;for(let q of t){if(!q)continue;if(l&&l.length>0&&!l.includes(q.id)&&q.rect.current){$.set(q.id,q.rect.current);continue}const ae=q.node.current,te=ae?new Bb(d(ae),ae):null;q.rect.current=te,te&&$.set(q.id,te)}return $}return z},[t,l,n,v,d]);return S.useEffect(()=>{g.current=t},[t]),S.useEffect(()=>{v||A()},[n,v]),S.useEffect(()=>{l&&l.length>0&&c(null)},[JSON.stringify(l)]),S.useEffect(()=>{v||typeof h!="number"||M.current!==null||(M.current=setTimeout(()=>{A(),M.current=null},h))},[h,v,A,...r]),{droppableRects:D,measureDroppableContainers:A,measuringScheduled:l!=null};function N(){switch(m){case uh.Always:return!1;case uh.BeforeDragging:return n;default:return!n}}}function Gb(t,e){return Oh(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function t7(t,e){return Gb(t,e)}function n7(t){let{callback:e,disabled:n}=t;const r=hp(e),a=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(r)},[r,n]);return S.useEffect(()=>()=>a?.disconnect(),[a]),a}function mp(t){let{callback:e,disabled:n}=t;const r=hp(e),a=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(r)},[n]);return S.useEffect(()=>()=>a?.disconnect(),[a]),a}function i7(t){return new Bb(Tc(t),t)}function KS(t,e,n){e===void 0&&(e=i7);const[r,a]=S.useState(null);function l(){a(d=>{if(!t)return null;if(t.isConnected===!1){var m;return(m=d??n)!=null?m:null}const g=e(t);return JSON.stringify(d)===JSON.stringify(g)?d:g})}const c=n7({callback(d){if(t)for(const m of d){const{type:g,target:v}=m;if(g==="childList"&&v instanceof HTMLElement&&v.contains(t)){l();break}}}}),h=mp({callback:l});return Pr(()=>{l(),t?(h?.observe(t),c?.observe(document.body,{childList:!0,subtree:!0})):(h?.disconnect(),c?.disconnect())},[t]),r}function r7(t){const e=Gb(t);return EI(t,e)}const YS=[];function s7(t){const e=S.useRef(t),n=Oh(r=>t?r&&r!==YS&&t&&e.current&&t.parentNode===e.current.parentNode?r:fp(t):YS,[t]);return S.useEffect(()=>{e.current=t},[t]),n}function a7(t){const[e,n]=S.useState(null),r=S.useRef(t),a=S.useCallback(l=>{const c=Qy(l.target);c&&n(h=>h?(h.set(c,Jv(c)),new Map(h)):null)},[]);return S.useEffect(()=>{const l=r.current;if(t!==l){c(l);const h=t.map(d=>{const m=Qy(d);return m?(m.addEventListener("scroll",a,{passive:!0}),[m,Jv(m)]):null}).filter(d=>d!=null);n(h.length?new Map(h):null),r.current=t}return()=>{c(t),c(l)};function c(h){h.forEach(d=>{const m=Qy(d);m?.removeEventListener("scroll",a)})}},[a,t]),S.useMemo(()=>t.length?e?Array.from(e.values()).reduce((l,c)=>Jl(l,c),Or):DI(t):Or,[t,e])}function XS(t,e){e===void 0&&(e=[]);const n=S.useRef(null);return S.useEffect(()=>{n.current=null},e),S.useEffect(()=>{const r=t!==Or;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?ch(t,n.current):Or}function o7(t){S.useEffect(()=>{if(!up)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function l7(t,e){return S.useMemo(()=>t.reduce((n,r)=>{let{eventName:a,handler:l}=r;return n[a]=c=>{l(c,e)},n},{}),[t,e])}function PI(t){return S.useMemo(()=>t?MF(t):null,[t])}const WS=[];function c7(t,e){e===void 0&&(e=Tc);const[n]=t,r=PI(n?bi(n):null),[a,l]=S.useState(WS);function c(){l(()=>t.length?t.map(d=>NI(d)?r:new Bb(e(d),d)):WS)}const h=mp({callback:c});return Pr(()=>{h?.disconnect(),c(),t.forEach(d=>h?.observe(d))},[t]),a}function OI(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Ph(e)?e:t}function u7(t){let{measure:e}=t;const[n,r]=S.useState(null),a=S.useCallback(m=>{for(const{target:g}of m)if(Ph(g)){r(v=>{const _=e(g);return v?{...v,width:_.width,height:_.height}:_});break}},[e]),l=mp({callback:a}),c=S.useCallback(m=>{const g=OI(m);l?.disconnect(),g&&l?.observe(g),r(g?e(g):null)},[e,l]),[h,d]=Sm(c);return S.useMemo(()=>({nodeRef:h,rect:n,setRef:d}),[n,h,d])}const h7=[{sensor:Hb,options:{}},{sensor:Fb,options:{}}],d7={current:{}},Uf={draggable:{measure:FS},droppable:{measure:FS,strategy:uh.WhileDragging,frequency:e0.Optimized},dragOverlay:{measure:Tc}};class $u extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const f7={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new $u,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Rm},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Uf,measureDroppableContainers:Rm,windowRect:null,measuringScheduled:!1},VI={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Rm,draggableNodes:new Map,over:null,measureDroppableContainers:Rm},jh=S.createContext(VI),jI=S.createContext(f7);function m7(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new $u}}}function p7(t,e){switch(e.type){case On.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case On.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case On.DragEnd:case On.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case On.RegisterDroppable:{const{element:n}=e,{id:r}=n,a=new $u(t.droppable.containers);return a.set(r,n),{...t,droppable:{...t.droppable,containers:a}}}case On.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=e,l=t.droppable.containers.get(n);if(!l||r!==l.key)return t;const c=new $u(t.droppable.containers);return c.set(n,{...l,disabled:a}),{...t,droppable:{...t.droppable,containers:c}}}case On.UnregisterDroppable:{const{id:n,key:r}=e,a=t.droppable.containers.get(n);if(!a||r!==a.key)return t;const l=new $u(t.droppable.containers);return l.delete(n),{...t,droppable:{...t.droppable,containers:l}}}default:return t}}function g7(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:a}=S.useContext(jh),l=Am(r),c=Am(n?.id);return S.useEffect(()=>{if(!e&&!r&&l&&c!=null){if(!dp(l)||document.activeElement===l.target)return;const h=a.get(c);if(!h)return;const{activatorNode:d,node:m}=h;if(!d.current&&!m.current)return;requestAnimationFrame(()=>{for(const g of[d.current,m.current]){if(!g)continue;const v=hF(g);if(v){v.focus();break}}})}},[r,e,a,c,l]),null}function LI(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((a,l)=>l({transform:a,...r}),n):n}function y7(t){return S.useMemo(()=>({draggable:{...Uf.draggable,...t?.draggable},droppable:{...Uf.droppable,...t?.droppable},dragOverlay:{...Uf.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function v7(t){let{activeNode:e,measure:n,initialRect:r,config:a=!0}=t;const l=S.useRef(!1),{x:c,y:h}=typeof a=="boolean"?{x:a,y:a}:a;Pr(()=>{if(!c&&!h||!e){l.current=!1;return}if(l.current||!r)return;const m=e?.node.current;if(!m||m.isConnected===!1)return;const g=n(m),v=EI(g,r);if(c||(v.x=0),h||(v.y=0),l.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const _=AI(m);_&&_.scrollBy({top:v.y,left:v.x})}},[e,c,h,r,n])}const pp=S.createContext({...Or,scaleX:1,scaleY:1});var Ra;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Ra||(Ra={}));const b7=S.memo(function(e){var n,r,a,l;let{id:c,accessibility:h,autoScroll:d=!0,children:m,sensors:g=h7,collisionDetection:v=CF,measuring:_,modifiers:A,...M}=e;const D=S.useReducer(p7,void 0,m7),[N,z]=D,[$,q]=yF(),[ae,te]=S.useState(Ra.Uninitialized),le=ae===Ra.Initialized,{draggable:{active:I,nodes:C,translate:O},droppable:{containers:k}}=N,j=I!=null?C.get(I):null,B=S.useRef({initial:null,translated:null}),V=S.useMemo(()=>{var Be;return I!=null?{id:I,data:(Be=j?.data)!=null?Be:d7,rect:B}:null},[I,j]),xe=S.useRef(null),[ke,Z]=S.useState(null),[H,G]=S.useState(null),X=lh(M,Object.values(M)),L=Vh("DndDescribedBy",c),T=S.useMemo(()=>k.getEnabled(),[k]),U=y7(_),{droppableRects:W,measureDroppableContainers:re,measuringScheduled:pe}=e7(T,{dragging:le,dependencies:[O.x,O.y],config:U.droppable}),ge=JF(C,I),fe=S.useMemo(()=>H?Cm(H):null,[H]),ve=pr(),_e=t7(ge,U.draggable.measure);v7({activeNode:I!=null?C.get(I):null,config:ve.layoutShiftCompensation,initialRect:_e,measure:U.draggable.measure});const Ee=KS(ge,U.draggable.measure,_e),Le=KS(ge?ge.parentElement:null),Ve=S.useRef({activatorEvent:null,active:null,activeNode:ge,collisionRect:null,collisions:null,droppableRects:W,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:k,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ut=k.getNodeFor((n=Ve.current.over)==null?void 0:n.id),Ie=u7({measure:U.dragOverlay.measure}),vt=(r=Ie.nodeRef.current)!=null?r:ge,mt=le?(a=Ie.rect)!=null?a:Ee:null,qt=!!(Ie.nodeRef.current&&Ie.rect),Xt=r7(qt?null:Ee),Je=PI(vt?bi(vt):null),Pe=s7(le?ut??ge:null),sn=c7(Pe),Di=LI(A,{transform:{x:O.x-Xt.x,y:O.y-Xt.y,scaleX:1,scaleY:1},activatorEvent:H,active:V,activeNodeRect:Ee,containerNodeRect:Le,draggingNodeRect:mt,over:Ve.current.over,overlayNodeRect:Ie.rect,scrollableAncestors:Pe,scrollableAncestorRects:sn,windowRect:Je}),Gi=fe?Jl(fe,O):null,Ot=a7(Pe),hi=XS(Ot),An=XS(Ot,[Ee]),$n=Jl(Di,hi),an=mt?IF(mt,Di):null,di=V&&an?v({active:V,collisionRect:an,droppableRects:W,droppableContainers:T,pointerCoordinates:Gi}):null,$i=TI(di,"id"),[fn,Cn]=S.useState(null),Kn=qt?Di:Jl(Di,An),Ht=RF(Kn,(l=fn?.rect)!=null?l:null,Ee),jn=S.useRef(null),kt=S.useCallback((Be,lt)=>{let{sensor:pt,options:At}=lt;if(xe.current==null)return;const Rn=C.get(xe.current);if(!Rn)return;const Wt=Be.nativeEvent,Gt=new pt({active:xe.current,activeNode:Rn,event:Wt,options:At,context:Ve,onAbort(Xe){if(!C.get(Xe))return;const{onDragAbort:Mt}=X.current,pn={id:Xe};Mt?.(pn),$({type:"onDragAbort",event:pn})},onPending(Xe,Qt,Mt,pn){if(!C.get(Xe))return;const{onDragPending:on}=X.current,ti={id:Xe,constraint:Qt,initialCoordinates:Mt,offset:pn};on?.(ti),$({type:"onDragPending",event:ti})},onStart(Xe){const Qt=xe.current;if(Qt==null)return;const Mt=C.get(Qt);if(!Mt)return;const{onDragStart:pn}=X.current,Nn={activatorEvent:Wt,active:{id:Qt,data:Mt.data,rect:B}};Su.unstable_batchedUpdates(()=>{pn?.(Nn),te(Ra.Initializing),z({type:On.DragStart,initialCoordinates:Xe,active:Qt}),$({type:"onDragStart",event:Nn}),Z(jn.current),G(Wt)})},onMove(Xe){z({type:On.DragMove,coordinates:Xe})},onEnd:mn(On.DragEnd),onCancel:mn(On.DragCancel)});jn.current=Gt;function mn(Xe){return async function(){const{active:Mt,collisions:pn,over:Nn,scrollAdjustedTranslate:on}=Ve.current;let ti=null;if(Mt&&on){const{cancelDrop:In}=X.current;ti={activatorEvent:Wt,active:Mt,collisions:pn,delta:on,over:Nn},Xe===On.DragEnd&&typeof In=="function"&&await Promise.resolve(In(ti))&&(Xe=On.DragCancel)}xe.current=null,Su.unstable_batchedUpdates(()=>{z({type:Xe}),te(Ra.Uninitialized),Cn(null),Z(null),G(null),jn.current=null;const In=Xe===On.DragEnd?"onDragEnd":"onDragCancel";if(ti){const Ln=X.current[In];Ln?.(ti),$({type:In,event:ti})}})}}},[C]),fr=S.useCallback((Be,lt)=>(pt,At)=>{const Rn=pt.nativeEvent,Wt=C.get(At);if(xe.current!==null||!Wt||Rn.dndKit||Rn.defaultPrevented)return;const Gt={active:Wt};Be(pt,lt.options,Gt)===!0&&(Rn.dndKit={capturedBy:lt.sensor},xe.current=At,kt(pt,lt))},[C,kt]),mr=ZF(g,fr);o7(g),Pr(()=>{Ee&&ae===Ra.Initializing&&te(Ra.Initialized)},[Ee,ae]),S.useEffect(()=>{const{onDragMove:Be}=X.current,{active:lt,activatorEvent:pt,collisions:At,over:Rn}=Ve.current;if(!lt||!pt)return;const Wt={active:lt,activatorEvent:pt,collisions:At,delta:{x:$n.x,y:$n.y},over:Rn};Su.unstable_batchedUpdates(()=>{Be?.(Wt),$({type:"onDragMove",event:Wt})})},[$n.x,$n.y]),S.useEffect(()=>{const{active:Be,activatorEvent:lt,collisions:pt,droppableContainers:At,scrollAdjustedTranslate:Rn}=Ve.current;if(!Be||xe.current==null||!lt||!Rn)return;const{onDragOver:Wt}=X.current,Gt=At.get($i),mn=Gt&&Gt.rect.current?{id:Gt.id,rect:Gt.rect.current,data:Gt.data,disabled:Gt.disabled}:null,Xe={active:Be,activatorEvent:lt,collisions:pt,delta:{x:Rn.x,y:Rn.y},over:mn};Su.unstable_batchedUpdates(()=>{Cn(mn),Wt?.(Xe),$({type:"onDragOver",event:Xe})})},[$i]),Pr(()=>{Ve.current={activatorEvent:H,active:V,activeNode:ge,collisionRect:an,collisions:di,droppableRects:W,draggableNodes:C,draggingNode:vt,draggingNodeRect:mt,droppableContainers:k,over:fn,scrollableAncestors:Pe,scrollAdjustedTranslate:$n},B.current={initial:mt,translated:an}},[V,ge,di,an,C,vt,mt,W,k,fn,Pe,$n]),XF({...ve,delta:O,draggingRect:an,pointerCoordinates:Gi,scrollableAncestors:Pe,scrollableAncestorRects:sn});const $s=S.useMemo(()=>({active:V,activeNode:ge,activeNodeRect:Ee,activatorEvent:H,collisions:di,containerNodeRect:Le,dragOverlay:Ie,draggableNodes:C,droppableContainers:k,droppableRects:W,over:fn,measureDroppableContainers:re,scrollableAncestors:Pe,scrollableAncestorRects:sn,measuringConfiguration:U,measuringScheduled:pe,windowRect:Je}),[V,ge,Ee,H,di,Le,Ie,C,k,W,fn,re,Pe,sn,U,pe,Je]),xi=S.useMemo(()=>({activatorEvent:H,activators:mr,active:V,activeNodeRect:Ee,ariaDescribedById:{draggable:L},dispatch:z,draggableNodes:C,over:fn,measureDroppableContainers:re}),[H,mr,V,Ee,z,L,C,fn,re]);return St.createElement(xI.Provider,{value:q},St.createElement(jh.Provider,{value:xi},St.createElement(jI.Provider,{value:$s},St.createElement(pp.Provider,{value:Ht},m)),St.createElement(g7,{disabled:h?.restoreFocus===!1})),St.createElement(xF,{...h,hiddenTextDescribedById:L}));function pr(){const Be=ke?.autoScrollEnabled===!1,lt=typeof d=="object"?d.enabled===!1:d===!1,pt=le&&!Be&&!lt;return typeof d=="object"?{...d,enabled:pt}:{enabled:pt}}}),x7=S.createContext(null),QS="button",_7="Draggable";function w7(t){let{id:e,data:n,disabled:r=!1,attributes:a}=t;const l=Vh(_7),{activators:c,activatorEvent:h,active:d,activeNodeRect:m,ariaDescribedById:g,draggableNodes:v,over:_}=S.useContext(jh),{role:A=QS,roleDescription:M="draggable",tabIndex:D=0}=a??{},N=d?.id===e,z=S.useContext(N?pp:x7),[$,q]=Sm(),[ae,te]=Sm(),le=l7(c,e),I=lh(n);Pr(()=>(v.set(e,{id:e,key:l,node:$,activatorNode:ae,data:I}),()=>{const O=v.get(e);O&&O.key===l&&v.delete(e)}),[v,e]);const C=S.useMemo(()=>({role:A,tabIndex:D,"aria-disabled":r,"aria-pressed":N&&A===QS?!0:void 0,"aria-roledescription":M,"aria-describedby":g.draggable}),[r,A,D,N,M,g.draggable]);return{active:d,activatorEvent:h,activeNodeRect:m,attributes:C,isDragging:N,listeners:r?void 0:le,node:$,over:_,setNodeRef:q,setActivatorNodeRef:te,transform:z}}function UI(){return S.useContext(jI)}const T7="Droppable",E7={timeout:25};function S7(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:a}=t;const l=Vh(T7),{active:c,dispatch:h,over:d,measureDroppableContainers:m}=S.useContext(jh),g=S.useRef({disabled:n}),v=S.useRef(!1),_=S.useRef(null),A=S.useRef(null),{disabled:M,updateMeasurementsFor:D,timeout:N}={...E7,...a},z=lh(D??r),$=S.useCallback(()=>{if(!v.current){v.current=!0;return}A.current!=null&&clearTimeout(A.current),A.current=setTimeout(()=>{m(Array.isArray(z.current)?z.current:[z.current]),A.current=null},N)},[N]),q=mp({callback:$,disabled:M||!c}),ae=S.useCallback((C,O)=>{q&&(O&&(q.unobserve(O),v.current=!1),C&&q.observe(C))},[q]),[te,le]=Sm(ae),I=lh(e);return S.useEffect(()=>{!q||!te.current||(q.disconnect(),v.current=!1,q.observe(te.current))},[te,q]),S.useEffect(()=>(h({type:On.RegisterDroppable,element:{id:r,key:l,disabled:n,node:te,rect:_,data:I}}),()=>h({type:On.UnregisterDroppable,key:l,id:r})),[r]),S.useEffect(()=>{n!==g.current.disabled&&(h({type:On.SetDroppableDisabled,id:r,key:l,disabled:n}),g.current.disabled=n)},[r,l,n,h]),{active:c,rect:_,isOver:d?.id===r,node:te,over:d,setNodeRef:le}}function A7(t){let{animation:e,children:n}=t;const[r,a]=S.useState(null),[l,c]=S.useState(null),h=Am(n);return!n&&!r&&h&&a(h),Pr(()=>{if(!l)return;const d=r?.key,m=r?.props.id;if(d==null||m==null){a(null);return}Promise.resolve(e(m,l)).then(()=>{a(null)})},[e,r,l]),St.createElement(St.Fragment,null,n,r?S.cloneElement(r,{ref:c}):null)}const C7={x:0,y:0,scaleX:1,scaleY:1};function R7(t){let{children:e}=t;return St.createElement(jh.Provider,{value:VI},St.createElement(pp.Provider,{value:C7},e))}const N7={position:"fixed",touchAction:"none"},I7=t=>dp(t)?"transform 250ms ease":void 0,D7=S.forwardRef((t,e)=>{let{as:n,activatorEvent:r,adjustScale:a,children:l,className:c,rect:h,style:d,transform:m,transition:g=I7}=t;if(!h)return null;const v=a?m:{...m,scaleX:1,scaleY:1},_={...N7,width:h.width,height:h.height,top:h.top,left:h.left,transform:$a.Transform.toString(v),transformOrigin:a&&r?wF(r,h):void 0,transition:typeof g=="function"?g(r):g,...d};return St.createElement(n,{className:c,style:_,ref:e},l)}),k7=t=>e=>{let{active:n,dragOverlay:r}=e;const a={},{styles:l,className:c}=t;if(l!=null&&l.active)for(const[h,d]of Object.entries(l.active))d!==void 0&&(a[h]=n.node.style.getPropertyValue(h),n.node.style.setProperty(h,d));if(l!=null&&l.dragOverlay)for(const[h,d]of Object.entries(l.dragOverlay))d!==void 0&&r.node.style.setProperty(h,d);return c!=null&&c.active&&n.node.classList.add(c.active),c!=null&&c.dragOverlay&&r.node.classList.add(c.dragOverlay),function(){for(const[d,m]of Object.entries(a))n.node.style.setProperty(d,m);c!=null&&c.active&&n.node.classList.remove(c.active)}},M7=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:$a.Transform.toString(e)},{transform:$a.Transform.toString(n)}]},P7={duration:250,easing:"ease",keyframes:M7,sideEffects:k7({styles:{active:{opacity:"0"}}})};function O7(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:a}=t;return hp((l,c)=>{if(e===null)return;const h=n.get(l);if(!h)return;const d=h.node.current;if(!d)return;const m=OI(c);if(!m)return;const{transform:g}=bi(c).getComputedStyle(c),v=SI(g);if(!v)return;const _=typeof e=="function"?e:V7(e);return kI(d,a.draggable.measure),_({active:{id:l,data:h.data,node:d,rect:a.draggable.measure(d)},draggableNodes:n,dragOverlay:{node:c,rect:a.dragOverlay.measure(m)},droppableContainers:r,measuringConfiguration:a,transform:v})})}function V7(t){const{duration:e,easing:n,sideEffects:r,keyframes:a}={...P7,...t};return l=>{let{active:c,dragOverlay:h,transform:d,...m}=l;if(!e)return;const g={x:h.rect.left-c.rect.left,y:h.rect.top-c.rect.top},v={scaleX:d.scaleX!==1?c.rect.width*d.scaleX/h.rect.width:1,scaleY:d.scaleY!==1?c.rect.height*d.scaleY/h.rect.height:1},_={x:d.x-g.x,y:d.y-g.y,...v},A=a({...m,active:c,dragOverlay:h,transform:{initial:d,final:_}}),[M]=A,D=A[A.length-1];if(JSON.stringify(M)===JSON.stringify(D))return;const N=r?.({active:c,dragOverlay:h,...m}),z=h.node.animate(A,{duration:e,easing:n,fill:"forwards"});return new Promise($=>{z.onfinish=()=>{N?.(),$()}})}}let JS=0;function j7(t){return S.useMemo(()=>{if(t!=null)return JS++,JS},[t])}const L7=St.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:a,transition:l,modifiers:c,wrapperElement:h="div",className:d,zIndex:m=999}=t;const{activatorEvent:g,active:v,activeNodeRect:_,containerNodeRect:A,draggableNodes:M,droppableContainers:D,dragOverlay:N,over:z,measuringConfiguration:$,scrollableAncestors:q,scrollableAncestorRects:ae,windowRect:te}=UI(),le=S.useContext(pp),I=j7(v?.id),C=LI(c,{activatorEvent:g,active:v,activeNodeRect:_,containerNodeRect:A,draggingNodeRect:N.rect,over:z,overlayNodeRect:N.rect,scrollableAncestors:q,scrollableAncestorRects:ae,transform:le,windowRect:te}),O=Gb(_),k=O7({config:r,draggableNodes:M,droppableContainers:D,measuringConfiguration:$}),j=O?N.setRef:void 0;return St.createElement(R7,null,St.createElement(A7,{animation:k},v&&I?St.createElement(D7,{key:I,id:v.id,ref:j,as:h,activatorEvent:g,adjustScale:e,className:d,transition:l,rect:O,style:{zIndex:m,...a},transform:C},n):null))});function $b(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function U7(t,e){return t.reduce((n,r,a)=>{const l=e.get(r);return l&&(n[a]=l),n},Array(t.length))}function vf(t){return t!==null&&t>=0}function z7(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function B7(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const Kb=t=>{let{rects:e,activeIndex:n,overIndex:r,index:a}=t;const l=$b(e,r,n),c=e[a],h=l[a];return!h||!c?null:{x:h.left-c.left,y:h.top-c.top,scaleX:h.width/c.width,scaleY:h.height/c.height}},zI="Sortable",BI=St.createContext({activeIndex:-1,containerId:zI,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Kb,disabled:{draggable:!1,droppable:!1}});function F7(t){let{children:e,id:n,items:r,strategy:a=Kb,disabled:l=!1}=t;const{active:c,dragOverlay:h,droppableRects:d,over:m,measureDroppableContainers:g}=UI(),v=Vh(zI,n),_=h.rect!==null,A=S.useMemo(()=>r.map(le=>typeof le=="object"&&"id"in le?le.id:le),[r]),M=c!=null,D=c?A.indexOf(c.id):-1,N=m?A.indexOf(m.id):-1,z=S.useRef(A),$=!z7(A,z.current),q=N!==-1&&D===-1||$,ae=B7(l);Pr(()=>{$&&M&&g(A)},[$,A,M,g]),S.useEffect(()=>{z.current=A},[A]);const te=S.useMemo(()=>({activeIndex:D,containerId:v,disabled:ae,disableTransforms:q,items:A,overIndex:N,useDragOverlay:_,sortedRects:U7(A,d),strategy:a}),[D,v,ae.draggable,ae.droppable,q,A,N,d,_,a]);return St.createElement(BI.Provider,{value:te},e)}const q7=t=>{let{id:e,items:n,activeIndex:r,overIndex:a}=t;return $b(n,r,a).indexOf(e)},H7=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:a,items:l,newIndex:c,previousItems:h,previousContainerId:d,transition:m}=t;return!m||!r||h!==l&&a===c?!1:n?!0:c!==a&&e===d},G7={duration:200,easing:"ease"},FI="transform",$7=$a.Transition.toString({property:FI,duration:0,easing:"linear"}),K7={roleDescription:"sortable"};function Y7(t){let{disabled:e,index:n,node:r,rect:a}=t;const[l,c]=S.useState(null),h=S.useRef(n);return Pr(()=>{if(!e&&n!==h.current&&r.current){const d=a.current;if(d){const m=Tc(r.current,{ignoreTransform:!0}),g={x:d.left-m.left,y:d.top-m.top,scaleX:d.width/m.width,scaleY:d.height/m.height};(g.x||g.y)&&c(g)}}n!==h.current&&(h.current=n)},[e,n,r,a]),S.useEffect(()=>{l&&c(null)},[l]),l}function X7(t){let{animateLayoutChanges:e=H7,attributes:n,disabled:r,data:a,getNewIndex:l=q7,id:c,strategy:h,resizeObserverConfig:d,transition:m=G7}=t;const{items:g,containerId:v,activeIndex:_,disabled:A,disableTransforms:M,sortedRects:D,overIndex:N,useDragOverlay:z,strategy:$}=S.useContext(BI),q=W7(r,A),ae=g.indexOf(c),te=S.useMemo(()=>({sortable:{containerId:v,index:ae,items:g},...a}),[v,a,ae,g]),le=S.useMemo(()=>g.slice(g.indexOf(c)),[g,c]),{rect:I,node:C,isOver:O,setNodeRef:k}=S7({id:c,data:te,disabled:q.droppable,resizeObserverConfig:{updateMeasurementsFor:le,...d}}),{active:j,activatorEvent:B,activeNodeRect:V,attributes:xe,setNodeRef:ke,listeners:Z,isDragging:H,over:G,setActivatorNodeRef:X,transform:L}=w7({id:c,data:te,attributes:{...K7,...n},disabled:q.draggable}),T=oF(k,ke),U=!!j,W=U&&!M&&vf(_)&&vf(N),re=!z&&H,pe=re&&W?L:null,fe=W?pe??(h??$)({rects:D,activeNodeRect:V,activeIndex:_,overIndex:N,index:ae}):null,ve=vf(_)&&vf(N)?l({id:c,items:g,activeIndex:_,overIndex:N}):ae,_e=j?.id,Ee=S.useRef({activeId:_e,items:g,newIndex:ve,containerId:v}),Le=g!==Ee.current.items,Ve=e({active:j,containerId:v,isDragging:H,isSorting:U,id:c,index:ae,items:g,newIndex:Ee.current.newIndex,previousItems:Ee.current.items,previousContainerId:Ee.current.containerId,transition:m,wasDragging:Ee.current.activeId!=null}),ut=Y7({disabled:!Ve,index:ae,node:C,rect:I});return S.useEffect(()=>{U&&Ee.current.newIndex!==ve&&(Ee.current.newIndex=ve),v!==Ee.current.containerId&&(Ee.current.containerId=v),g!==Ee.current.items&&(Ee.current.items=g)},[U,ve,v,g]),S.useEffect(()=>{if(_e===Ee.current.activeId)return;if(_e!=null&&Ee.current.activeId==null){Ee.current.activeId=_e;return}const vt=setTimeout(()=>{Ee.current.activeId=_e},50);return()=>clearTimeout(vt)},[_e]),{active:j,activeIndex:_,attributes:xe,data:te,rect:I,index:ae,newIndex:ve,items:g,isOver:O,isSorting:U,isDragging:H,listeners:Z,node:C,overIndex:N,over:G,setNodeRef:T,setActivatorNodeRef:X,setDroppableNodeRef:k,setDraggableNodeRef:ke,transform:ut??fe,transition:Ie()};function Ie(){if(ut||Le&&Ee.current.newIndex===ae)return $7;if(!(re&&!dp(B)||!m)&&(U||Ve))return $a.Transition.toString({...m,property:FI})}}function W7(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(r=t?.droppable)!=null?r:e.droppable}}function Im(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const Q7=[ot.Down,ot.Right,ot.Up,ot.Left],J7=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:a,droppableContainers:l,over:c,scrollableAncestors:h}}=e;if(Q7.includes(t.code)){if(t.preventDefault(),!n||!r)return;const d=[];l.getEnabled().forEach(v=>{if(!v||v!=null&&v.disabled)return;const _=a.get(v.id);if(_)switch(t.code){case ot.Down:r.top<_.top&&d.push(v);break;case ot.Up:r.top>_.top&&d.push(v);break;case ot.Left:r.left>_.left&&d.push(v);break;case ot.Right:r.left<_.left&&d.push(v);break}});const m=SF({collisionRect:r,droppableRects:a,droppableContainers:d});let g=TI(m,"id");if(g===c?.id&&m.length>1&&(g=m[1].id),g!=null){const v=l.get(n.id),_=l.get(g),A=_?a.get(_.id):null,M=_?.node.current;if(M&&A&&v&&_){const N=fp(M).some((le,I)=>h[I]!==le),z=qI(v,_),$=Z7(v,_),q=N||!z?{x:0,y:0}:{x:$?r.width-A.width:0,y:$?r.height-A.height:0},ae={x:A.left,y:A.top};return q.x&&q.y?ae:ch(ae,q)}}}};function qI(t,e){return!Im(t)||!Im(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function Z7(t,e){return!Im(t)||!Im(e)||!qI(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const eq=({id:t,children:e,disabled:n,className:r,onClick:a})=>{const{attributes:l,listeners:c,setNodeRef:h,transform:d,transition:m,isDragging:g}=X7({id:t,disabled:n}),v={transform:$a.Transform.toString(d),transition:m,zIndex:g?50:"auto",position:"relative"};return b.jsx("div",{ref:h,style:v,...l,...c,onClick:a,className:ft("w-full h-full",!n&&"touch-none cursor-grab active:cursor-grabbing",g&&"opacity-0",r),children:b.jsx("div",{className:ft("w-full h-full",g&&"opacity-0"),children:e})})},tq=({item:t,gridSize:e,editMode:n,activeId:r,onClick:a,onEdit:l,isLocked:c})=>{const h="relative w-full h-full flex flex-col items-center justify-center p-2 rounded-xl cursor-pointer select-none overflow-hidden transition-all duration-200 border shadow-sm",d=e>=5?"text-xs sm:text-sm":"text-sm sm:text-base",m={default:"bg-[var(--theme-bg-subtle)] border-[var(--theme-border)] hover:bg-[var(--theme-bg-base)] hover:border-zinc-600 text-slate-300",completed:"bg-emerald-950/20 border-emerald-500/20 text-emerald-200 shadow-[inset_0_0_20px_rgba(16,185,129,0.1)]",freeSpace:"bg-amber-950/20 border-amber-500/20 text-amber-500 shadow-[inset_0_0_20px_rgba(245,158,11,0.1)]",editing:"bg-slate-900 border-dashed border-slate-600 opacity-60 hover:opacity-100 hover:border-slate-400 shadow-none text-slate-500"};let g=m.default;return n?g=m.editing:t.isFreeSpace?g=m.freeSpace:t.isCompleted&&(g=m.completed),b.jsxs(at.div,{layout:!n&&!r,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:!n&&!r?{scale:1.02,y:-2,zIndex:10,boxShadow:"0 10px 30px -10px rgba(0,0,0,0.5)"}:void 0,whileTap:n?void 0:{scale:.98},onClick:n?l:a,className:ft(h,d,g),children:[b.jsx("div",{className:"z-10 text-center w-full px-1",children:t.isFreeSpace?b.jsxs("div",{className:"flex flex-col items-center gap-1",children:[b.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-amber-600/80",children:"Bonus"}),b.jsx("span",{className:"font-bold text-amber-500 text-sm sm:text-base",children:"FREE"})]}):b.jsx("span",{className:"font-medium leading-snug block line-clamp-4 break-words",style:{color:t.isCompleted&&!n?void 0:t.style?.color,fontWeight:t.style?.bold?"bold":void 0,fontStyle:t.style?.italic?"italic":void 0,fontSize:void 0},children:t.text})}),b.jsx("div",{className:"absolute top-1.5 right-1.5 flex flex-col gap-1 items-end z-20",children:t.proofPhotos&&t.proofPhotos.length>0&&b.jsx("div",{className:"bg-black/40 p-1 rounded-md backdrop-blur-sm",children:b.jsx(wm,{size:10,className:"text-white/90"})})}),t.dueDate&&!t.isCompleted&&!c&&b.jsxs("div",{className:ft("flex items-center gap-1 mt-1 text-[10px] font-medium absolute bottom-1.5 left-2 px-1 rounded bg-black/40 backdrop-blur-sm",(t.dueDate.toDate?t.dueDate.toDate():new Date(t.dueDate))<new Date?"text-red-400":"text-slate-400"),children:[b.jsx(AB,{size:10}),b.jsx("span",{children:(t.dueDate.toDate?t.dueDate.toDate():new Date(t.dueDate)).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),!t.isFreeSpace&&!n&&(t.targetCount||1)>1&&b.jsxs("div",{className:ft("absolute bottom-1.5 right-1.5 px-1.5 py-0.5 rounded text-[10px] font-bold shadow-sm",t.isCompleted?"bg-emerald-500/90 text-white":(t.currentCount||0)>0?"bg-amber-500/90 text-white":"bg-slate-700/90 text-slate-300"),children:[t.currentCount||0,"/",t.targetCount]}),n&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 bg-black/40 transition-opacity z-30",children:b.jsx(Fu,{size:20,className:"text-white drop-shadow-md"})}),t.isCompleted&&!t.isFreeSpace&&!n&&b.jsx(at.div,{initial:{scale:2,opacity:0,rotate:-45},animate:{scale:1,opacity:.1,rotate:12},transition:{type:"spring",stiffness:300,damping:15},className:"absolute -bottom-2 -right-2 transform origin-bottom-right pointer-events-none",children:b.jsx(Cr,{size:80,strokeWidth:3})}),t.isCompleted&&b.jsx("div",{className:"absolute inset-0 rounded-xl ring-1 ring-inset ring-white/10 pointer-events-none"})]})},bf=({isOpen:t,onClose:e,title:n,children:r,footer:a,size:l="md",className:c,showCloseButton:h=!0})=>{const d={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",full:"max-w-4xl"};return b.jsx(Ar,{children:t&&b.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[b.jsx(at.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:e}),b.jsxs(at.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},transition:{duration:.2},className:ft("relative w-full bg-[var(--theme-bg-subtle)] border border-[var(--theme-border)] rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",d[l],c),onClick:m=>m.stopPropagation(),children:[(n||h)&&b.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-[var(--theme-border)] shrink-0",children:[b.jsx("div",{className:"text-lg sm:text-xl font-bold text-slate-100 truncate pr-4",children:n}),h&&b.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-100 hover:bg-white/10 p-2 rounded-full transition-colors",children:b.jsx(Ls,{size:20})})]}),b.jsx("div",{className:"p-4 sm:p-6 overflow-y-auto custom-scrollbar",children:r}),a&&b.jsx("div",{className:"p-4 sm:p-6 border-t border-[var(--theme-border)] bg-[var(--theme-bg-base)]/50 shrink-0 flex justify-end gap-3 rounded-b-2xl",children:a})]})]})})},ZS=()=>{const{boardId:t,yearId:e}=dM(),n=e?void 0:t,{items:r,members:a,loading:l,toggleItem:c,hasWon:h,bingoCount:d,isLocked:m,unlockBoard:g,jumbleAndLock:v,saveBoard:_,completeWithPhoto:A,addPhotoToTile:M,addReaction:D,deletePhoto:N,decrementProgress:z,inviteUser:$,removeMember:q,title:ae,gridSize:te,updateTitle:le}=iF(n),{user:I}=Wa(),C=iI(),{playClick:O,playSuccess:k,playBingo:j,playWhoosh:B}=rF(),[V,xe]=S.useState(!1),[ke,Z]=S.useState(!1),[H,G]=S.useState(""),[X,L]=S.useState(r),[T,U]=S.useState(null);S.useEffect(()=>{(!T&&!V||V&&X.length===0&&r.length>0)&&L(r)},[r,T,V]);const W=_F(US(Hb,{activationConstraint:{distance:8}}),US(Fb,{coordinateGetter:J7})),re=ne=>{V&&U(ne.active.id)},pe=ne=>{const{active:Se,over:bt}=ne;U(null),bt&&Se.id!==bt.id&&V&&L(_t=>{const Ut=_t.findIndex(fi=>fi.id===Se.id),en=_t.findIndex(fi=>fi.id===bt.id),Dn=$b(_t,Ut,en);return _(Dn),Dn})},[ge,fe]=S.useState(!1),[ve,_e]=S.useState(!1),[Ee,Le]=S.useState(!1),[Ve,ut]=S.useState(!1),[Ie,vt]=S.useState([]),[mt,qt]=S.useState(null),[Xt,Je]=S.useState(""),[Pe,sn]=S.useState({}),[Di,Gi]=S.useState(1),[Ot,hi]=S.useState(""),[An,$n]=S.useState(!1),[an,di]=S.useState("complete"),[$i,fn]=S.useState(!1),[Cn,Kn]=S.useState(0),[Ht,jn]=S.useState(null),[kt,fr]=S.useState(!1);S.useEffect(()=>{!localStorage.getItem("hasSeenWalkthrough")&&!l&&r.length>0&&fn(!0)},[l,r]),S.useEffect(()=>{(async()=>{if(ve&&a){const Se=[];for(const[bt,_t]of Object.entries(a))if(_t!=="owner")try{const Ut=await Rh(Nr(oi,"users",bt));if(Ut.exists()){const en=Ut.data();Se.push({id:bt,name:en.displayName||"Unknown",email:en.email||"No email",role:_t})}}catch(Ut){console.error("Error fetching user:",Ut)}vt(Se)}})()},[ve,a]);const mr=async(ne,Se)=>{await C.confirm(`Are you sure you want to remove ${Se} from this board?`,{title:"Remove Member",type:"error",confirmText:"Remove"})&&((await q(ne)).success?(vt(Ut=>Ut.filter(en=>en.id!==ne)),await C.alert(`${Se} has been removed.`,{type:"success"})):await C.alert("Failed to remove member.",{type:"error"}))},$s=async()=>{const ne=await C.sharePrompt("Enter their email address to invite them to this board.",{title:"Invite User"});if(ne){const Se=await $(ne.email,ne.role);if(Se.type==="success")await C.alert(Se.message,{title:"Success!",type:"success"});else if(Se.type==="not_found"){if(await C.confirm(`"${ne.email}" hasn't signed up yet.

Would you like to send them an email invitation to join SunSar Bingo?`,{title:"User Not Found",confirmText:"Send Invite Email",type:"info"}))try{const{sendInviteEmail:_t,openMailtoFallback:Ut}=await Ol(async()=>{const{sendInviteEmail:Dn,openMailtoFallback:fi}=await import("./emailService-VFIujau9.js");return{sendInviteEmail:Dn,openMailtoFallback:fi}},[]);(await _t({recipientEmail:ne.email,senderName:I?.displayName||I?.email||"A friend"})).success?await C.alert(`Invitation sent to ${ne.email}! They'll receive an email with instructions to join.`,{title:"Invitation Sent!",type:"success"}):(Ut(ne.email,I?.displayName||"A friend"),await C.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"}))}catch{const Ut=encodeURIComponent("Join me on SunSar Bingo!"),en=encodeURIComponent(`Hey! Come join me on SunSar Bingo to track our 2026 goals together.

Sign up here: ${window.location.origin}`);window.open(`mailto:${ne.email}?subject=${Ut}&body=${en}`),await C.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"})}}else await C.alert(Se.message,{title:"Error",type:"error"})}},xi=()=>{Cn<2?Kn(ne=>ne+1):(fn(!1),localStorage.setItem("hasSeenWalkthrough","true"))},[pr,Be]=S.useState(!1),[lt,pt]=S.useState(null),[At,Rn]=S.useState(!1),Wt=S.useRef(null),[Gt,mn]=S.useState(!1),[Xe,Qt]=S.useState(null),[Mt,pn]=S.useState(null),[Nn,on]=S.useState(0),ti=S.useRef(null),[In,Ln]=S.useState(!1),[Jt,ln]=S.useState(()=>localStorage.getItem("celebrationDismissed")==="true"),[_i,ls]=S.useState(0);S.useEffect(()=>{_i===5&&(g(),ls(0),Qv({particleCount:100,spread:70,origin:{y:.6},colors:["#fbbf24","#ec4899","#ffffff"]}));let ne;return _i>0&&(ne=setTimeout(()=>ls(0),1e3)),()=>clearTimeout(ne)},[_i,g]);const Ec=()=>{O(),v(Ve),Qv({particleCount:150,spread:60,origin:{y:.7},colors:["#22c55e","#ffffff"]}),k(),Le(!1),xe(!1)},Xo=()=>{ln(!0),localStorage.setItem("celebrationDismissed","true")};St.useEffect(()=>{!l&&!h&&(ln(!1),localStorage.removeItem("celebrationDismissed"))},[h,l]);const Ja=S.useRef(h);St.useEffect(()=>{h&&!Ja.current&&!l&&j(),Ja.current=h},[h,l,j]);const Ki=ne=>{const Se=X.length>0?X:r;if(qt(ne),Je(Se[ne].text),sn(Se[ne].style||{color:"#ffffff",fontSize:"base",bold:!1,italic:!1}),Gi(Se[ne].targetCount||1),Se[ne].dueDate){const bt=Se[ne].dueDate,_t=typeof bt.toDate=="function"?bt.toDate():new Date(bt),Ut=_t.getFullYear(),en=String(_t.getMonth()+1).padStart(2,"0"),Dn=String(_t.getDate()).padStart(2,"0");hi(`${Ut}-${en}-${Dn}`)}else hi("");$n(!!Se[ne].isFreeSpace),fe(!0)},Ks=()=>{if(mt===null)return;let ne;Ot&&(ne=new Date(Ot+"T12:00:00"));const Se=[...X];Se[mt]={...Se[mt],text:Xt,style:Pe,targetCount:Di,dueDate:ne,isFreeSpace:An,isCompleted:Se[mt].isCompleted||An},L(Se),_(Se),fe(!1),qt(null)},Un=X.length>0?X:r;if(S.useEffect(()=>{Mt!==null&&Un?.[Mt]&&Qt(Un[Mt])},[Un,Mt]),l)return b.jsx("div",{className:"flex h-screen items-center justify-center text-accent-primary animate-pulse",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"w-12 h-12 border-4 border-accent-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),b.jsx("p",{children:"Loading Board..."})]})});const ni=r.filter(ne=>ne.isCompleted).length/25*100,Mi=ne=>{if(!ne)return"-";const Se=ne.toDate?ne.toDate():new Date(ne);return Se.toLocaleDateString()+" "+Se.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},Zt=ne=>{const Se=Un[ne];jn({index:ne,wasCompleted:Se.isCompleted}),Se.isCompleted?O():k(),c(ne),fr(!0),setTimeout(()=>fr(!1),3e3)};return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"min-h-screen bg-transparent text-white p-6 pb-24 relative overflow-x-hidden no-print",children:[b.jsx("input",{type:"file",accept:"image/*",ref:ti,className:"hidden",onChange:async ne=>{const Se=ne.target.files?.[0];if(Se&&Mt!==null){try{await M(Mt,Se)}catch(bt){console.error(bt),alert("Failed to add photo")}ne.target.value=""}}}),b.jsx(aF,{items:r}),b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsxs("header",{className:"flex justify-between items-center mb-8 py-2",children:[b.jsxs("div",{className:"flex-1 mx-4 min-w-0",children:[ke?b.jsx("input",{type:"text",value:H,onChange:ne=>G(ne.target.value),onBlur:()=>{H.trim()&&le(H.trim()),Z(!1)},onKeyDown:ne=>{ne.key==="Enter"?(H.trim()&&le(H.trim()),Z(!1)):ne.key==="Escape"&&Z(!1)},autoFocus:!0,className:"bg-transparent border-b-2 border-accent-primary text-white text-lg sm:text-xl font-bold outline-none w-full max-w-[200px]"}):b.jsxs("button",{onClick:()=>{G(ae||"My Bingo"),Z(!0)},className:"text-white text-lg sm:text-xl font-bold truncate max-w-[200px] hover:text-accent-primary transition-colors flex items-center gap-1 group",title:"Click to edit board name",children:[b.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent truncate",children:ae||"My Bingo"}),b.jsx(Fu,{size:14,className:"opacity-0 group-hover:opacity-70 transition-opacity flex-shrink-0"})]}),b.jsxs("p",{className:"text-slate-500 text-xs mt-0.5",children:[te,"",te,"  ",r.filter(ne=>ne.isCompleted&&!ne.isFreeSpace).length,"/",r.filter(ne=>!ne.isFreeSpace).length]})]}),b.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[b.jsx("button",{onClick:()=>Ln(!0),className:"p-2.5 text-slate-400 hover:text-accent-gold hover:bg-white/5 rounded-full transition-colors",title:"View Memories",children:b.jsx(xm,{size:20})}),b.jsx("button",{onClick:()=>_e(!0),className:"p-2.5 text-slate-400 hover:text-accent-primary hover:bg-white/5 rounded-full transition-colors",title:"Share Board",children:b.jsx(jf,{size:20})})]})]}),b.jsxs(b7,{sensors:W,collisionDetection:EF,onDragStart:re,onDragEnd:pe,children:[b.jsx("div",{className:"flex justify-center mb-6",children:b.jsx("div",{className:"w-full max-w-[520px] aspect-square relative",children:b.jsx(F7,{items:Un.map(ne=>ne.id),strategy:Kb,children:b.jsx("div",{className:ft("grid gap-1.5 sm:gap-2 w-full h-full",te===3&&"grid-cols-3 grid-rows-3",te===4&&"grid-cols-4 grid-rows-4",te===5&&"grid-cols-5 grid-rows-5",te===6&&"grid-cols-6 grid-rows-6"),style:{perspective:"1000px"},children:Un.map((ne,Se)=>b.jsx(eq,{id:ne.id,disabled:!V,children:b.jsx(tq,{item:ne,index:Se,gridSize:te,editMode:V,activeId:T,isLocked:m,onEdit:()=>Ki(Se),onClick:()=>{ne.isFreeSpace||(ne.isCompleted?ne.proofPhotos&&ne.proofPhotos.length>0?(Qt(ne),pn(Se),on(0),mn(!0)):Zt(Se):(B(),pt(Se),Be(!0)))}})},ne.id))})})})}),b.jsx(L7,{children:T?b.jsx("div",{className:ft("relative w-full h-full flex flex-col items-center justify-center p-1 sm:p-2 text-center select-none overflow-hidden","bingo-tile bg-white/10 backdrop-blur-md border-2 border-accent-primary shadow-2xl glass-panel"),style:{width:"100px",height:"100px"},children:b.jsx("span",{className:"text-white font-bold text-sm",children:X.find(ne=>ne.id===T)?.text})}):null})]})]}),b.jsx("div",{className:"flex justify-center",children:b.jsxs(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-[520px] glass-panel p-4 flex flex-col gap-4",children:[b.jsxs("div",{className:"w-full",children:[b.jsxs("div",{className:"flex justify-between text-xs text-slate-300 mb-1.5 px-1",children:[b.jsx("span",{className:"font-semibold",children:"Progress"}),b.jsxs("div",{className:"flex gap-3",children:[b.jsxs("span",{className:"font-mono text-accent-gold font-bold",children:[d,"/",te*2+2," Bingos"]}),b.jsxs("span",{className:"font-mono text-accent-primary",children:[Math.round(ni),"%"]})]})]}),b.jsx("div",{className:"h-3 bg-bg-dark/50 rounded-full overflow-hidden border border-white/5",children:b.jsx(at.div,{className:"h-full bg-gradient-to-r from-accent-primary to-accent-secondary relative",initial:{width:0},animate:{width:`${ni}%`},transition:{duration:1,ease:"easeOut"},children:b.jsx("div",{className:"absolute top-0 right-0 bottom-0 w-[1px] bg-white/50 shadow-[0_0_10px_white]"})})})]}),b.jsx("div",{className:"flex justify-center gap-2",children:V?b.jsx(b.Fragment,{children:b.jsxs("div",{className:"flex gap-2 w-full",children:[b.jsx("button",{onClick:()=>xe(!1),className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-white/5 text-slate-300 border border-white/10 hover:bg-white/10 transition-all",children:"Cancel"}),b.jsxs("button",{onClick:()=>{_(X),xe(!1)},className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-green-500/20 text-green-200 border border-green-500/50 hover:bg-green-500/30 transition-all flex items-center justify-center gap-2",children:[b.jsx(Cr,{size:16}),"Save Changes"]})]})}):b.jsxs("div",{className:"flex gap-2 justify-center w-full flex-wrap",children:[!m&&b.jsxs(b.Fragment,{children:[b.jsxs("button",{onClick:()=>{L([...r]),xe(!0)},className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[b.jsx(Fu,{size:12}),"Edit Board"]}),b.jsxs("button",{onClick:()=>{O(),Le(!0)},className:"flex-1 py-2 px-4 text-xs font-bold text-white bg-gradient-to-r from-accent-primary to-accent-secondary hover:shadow-lg hover:shadow-accent-primary/20 transition-all rounded-lg flex items-center justify-center gap-2 min-w-[120px]",children:[b.jsx(NS,{size:14}),"Go Live "]})]}),b.jsxs("button",{onClick:()=>window.print(),className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[b.jsx(BB,{size:12}),"Print Status"]})]})})]})}),b.jsx(Ar,{children:h&&!Jt&&b.jsx(at.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:b.jsxs(at.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:"glass-panel p-8 text-center max-w-sm w-full relative overflow-hidden border-accent-gold/30",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-accent-gold/10 to-transparent pointer-events-none"}),b.jsx(at.div,{animate:{rotate:[0,10,-10,0]},transition:{repeat:1/0,duration:2},className:"inline-block",children:b.jsx(bm,{className:"w-20 h-20 text-accent-gold mx-auto mb-4 drop-shadow-[0_0_15px_rgba(251,191,36,0.5)]"})}),b.jsx("h2",{className:"text-4xl font-heading font-bold text-transparent bg-clip-text bg-gradient-to-r from-accent-gold via-white to-accent-secondary mb-2",children:"BINGO!"}),b.jsx("p",{className:"text-slate-300 mb-8 leading-relaxed",children:"2026 is off to an amazing start!"}),b.jsx("button",{onClick:Xo,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-[0_0_20px_rgba(139,92,246,0.4)] transition-all transform hover:scale-105",children:"Keep Playing"})]})})}),b.jsxs(bf,{isOpen:ge,onClose:()=>fe(!1),title:"Edit Tile",size:"sm",footer:b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>fe(!1),className:"flex-1 py-2.5 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),b.jsx("button",{onClick:Ks,className:"flex-1 py-2.5 px-4 bg-gradient-to-r from-violet-600 to-fuchsia-600 rounded-xl font-bold text-white shadow-lg hover:shadow-violet-500/25 active:scale-95 transition-all",children:"Save Changes"})]}),children:[b.jsx("div",{className:"mb-6 flex justify-center",children:b.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-lg bg-bg-card/80 border border-white/10 flex items-center justify-center p-2 text-center overflow-hidden relative",children:b.jsx("span",{className:ft("font-hand font-semibold leading-tight break-words"),style:{color:Pe.color||"#ffffff",fontWeight:Pe.bold?"bold":"600",fontStyle:Pe.italic?"italic":"normal",fontSize:Pe.fontSize==="sm"?"12px":Pe.fontSize==="lg"?"18px":Pe.fontSize==="xl"?"22px":"16px"},children:Xt||"Preview Text"})})}),b.jsxs("div",{className:"mb-6",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-3 bg-white/5 p-3 rounded-xl border border-white/5",children:[b.jsxs("label",{className:"flex items-center gap-2 cursor-pointer flex-1",children:[b.jsx("input",{type:"checkbox",checked:An,onChange:ne=>{const Se=ne.target.checked;$n(Se),Se&&Je("FREE!")},className:"w-4 h-4 rounded border-gray-500 bg-black/50 text-accent-primary focus:ring-accent-primary"}),b.jsx("span",{className:ft("text-sm font-bold transition-colors",An?"text-accent-primary":"text-slate-300"),children:"Flag as FREE Space "})]}),An&&b.jsxs("div",{className:"flex gap-1 bg-black/80 rounded-full p-1 px-1.5 border border-white/20",children:[b.jsx("div",{className:"w-2 h-2 rounded-full bg-red-900/30"}),b.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-900/30"}),b.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 shadow-[0_0_8px_#22c55e]"})]})]}),b.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Text Content"}),b.jsx("textarea",{className:ft("w-full bg-black/20 text-white rounded-lg p-3 border border-white/10 focus:border-accent-primary outline-none min-h-[80px]",An&&"opacity-50 cursor-not-allowed"),disabled:An,value:Xt,onChange:ne=>Je(ne.target.value),placeholder:"Enter bingo task..."})]}),b.jsxs("div",{className:ft("transition-opacity duration-300",An&&"opacity-30 pointer-events-none"),children:[b.jsxs("div",{className:"mb-6 space-y-3",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Color"}),b.jsx("div",{className:"flex gap-2 flex-wrap",children:["#ffffff","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#ec4899","#a855f7"].map(ne=>b.jsx("button",{className:ft("w-6 h-6 rounded-full border border-white/10 transition-transform active:scale-90",Pe.color===ne&&"ring-2 ring-white scale-110"),style:{backgroundColor:ne},onClick:()=>sn(Se=>({...Se,color:ne}))},ne))})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Size"}),b.jsx("div",{className:"flex bg-black/20 rounded-lg p-1",children:["sm","base","lg","xl"].map(ne=>b.jsx("button",{onClick:()=>sn(Se=>({...Se,fontSize:ne})),className:ft("flex-1 py-1 text-[10px] font-bold rounded transition-colors uppercase",(Pe.fontSize||"base")===ne?"bg-accent-primary text-white":"text-slate-400 hover:text-white"),children:ne==="base"?"M":ne},ne))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Style"}),b.jsxs("div",{className:"flex gap-1 bg-black/20 rounded-lg p-1",children:[b.jsx("button",{onClick:()=>sn(ne=>({...ne,bold:!ne.bold})),className:ft("w-8 h-full rounded flex items-center justify-center font-bold transition-colors",Pe.bold?"bg-white text-black":"text-slate-400 hover:text-white"),children:"B"}),b.jsx("button",{onClick:()=>sn(ne=>({...ne,italic:!ne.italic})),className:ft("w-8 h-full rounded flex items-center justify-center italic transition-colors font-serif",Pe.italic?"bg-white text-black":"text-slate-400 hover:text-white"),children:"I"})]})]})]})]}),b.jsxs("div",{className:"space-y-4 pt-4 border-t border-white/10",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Repeat Goal"}),b.jsx("input",{type:"number",min:"1",max:"100",value:Di,onChange:ne=>Gi(parseInt(ne.target.value)||1),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors"}),b.jsx("p",{className:"text-xs text-slate-500",children:"How many times should this be completed?"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Due Date (Optional)"}),b.jsx("input",{type:"date",value:Ot,onChange:ne=>hi(ne.target.value),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors [color-scheme:dark]"})]})]})]})]}),(()=>{const ne=lt!==null?Un[lt]:null,Se=ne?.targetCount||1,bt=ne?.currentCount||0,_t=Se>1,Ut=bt>0;return ne?b.jsx(bf,{isOpen:pr&&lt!==null,onClose:()=>{Be(!1),pt(null)},title:ne.isCompleted?"Tile Details":Ut?"Add Progress":"Complete Task",size:"sm",children:b.jsxs("div",{className:"space-y-4",children:[b.jsxs("p",{className:"text-slate-300 text-sm text-center mb-4 line-clamp-3 italic",children:["",ne.text,""]}),_t&&b.jsx("div",{className:"text-center mb-4",children:b.jsxs("span",{className:ft("inline-block px-3 py-1 rounded-full text-sm font-bold",Ut?"bg-amber-500/20 text-amber-400":"bg-slate-600/50 text-slate-400"),children:["Progress: ",bt," / ",Se]})}),ne.proofPhotos&&ne.proofPhotos.length>0&&b.jsxs("div",{className:"mb-6 bg-black/20 p-3 rounded-xl border border-white/5",children:[b.jsx("label",{className:"text-xs text-slate-400 mb-2 block font-semibold uppercase tracking-wider",children:"Attached Photos"}),b.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:ne.proofPhotos.map((en,Dn)=>b.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0 group rounded-lg overflow-hidden border border-white/10 touch-none select-none",onContextMenu:fi=>fi.preventDefault(),children:[b.jsx("img",{src:en,alt:"",className:"w-full h-full object-cover pointer-events-none"}),b.jsx("button",{onClick:async fi=>{fi.stopPropagation(),window.confirm("Delete this photo?")&&await N(lt,Dn)},className:"absolute top-1 right-1 bg-red-500/90 p-1.5 rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600 shadow-md",children:b.jsx(Lf,{size:12})})]},Dn))})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("input",{type:"file",accept:"image/*",ref:Wt,className:"hidden",onChange:async en=>{const Dn=en.target.files?.[0];if(Dn&&lt!==null){Rn(!0);try{an==="complete"?await A(lt,Dn):await M(lt,Dn),Be(!1),pt(null)}catch{alert("Failed to upload photo.")}finally{Rn(!1),en.target.value=""}}}}),b.jsxs("button",{onClick:()=>{di("add"),setTimeout(()=>Wt.current?.click(),0)},disabled:At,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-blue-500/25 active:scale-95 transition-all disabled:opacity-50",children:[b.jsx(wm,{size:20}),At&&an==="add"?"Uploading...":"Add Photo (Keep Status)"]}),!ne.isCompleted&&b.jsxs("button",{onClick:()=>{di("complete"),setTimeout(()=>Wt.current?.click(),0)},disabled:At,className:"w-full py-3 px-4 bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-amber-500/25 active:scale-95 transition-all disabled:opacity-50",children:[b.jsx(Cr,{size:20}),At&&an==="complete"?"Uploading...":_t?"Add Photo & +1":"Add Photo & Complete"]}),b.jsxs("button",{onClick:()=>{c(lt),Be(!1),pt(null)},disabled:At,className:ft("w-full py-3 px-4 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 active:scale-95 transition-all disabled:opacity-50",ne.isCompleted?"bg-slate-700 hover:bg-slate-600":"bg-gradient-to-r from-green-600 to-emerald-600 hover:shadow-green-500/25"),children:[ne.isCompleted?b.jsx(Ls,{size:20}):b.jsx(Cr,{size:20}),ne.isCompleted?"Mark Incomplete":_t?`Mark +1 (${bt+1}/${Se})`:"Mark Complete"]}),Ut&&!ne.isCompleted&&b.jsxs("button",{onClick:()=>{z(lt),Be(!1),pt(null)},disabled:At,className:"w-full py-2 rounded-xl font-semibold text-red-400 hover:bg-red-500/10 transition-colors disabled:opacity-50",children:["Remove Progress (",bt-1,"/",Se,")"]}),b.jsx("button",{onClick:()=>{Be(!1),pt(null)},disabled:At,className:"w-full py-3 rounded-xl font-semibold bg-white/5 text-slate-400 hover:bg-white/10 transition-colors disabled:opacity-50",children:"Cancel"})]})]})}):null})(),b.jsx(Ar,{children:Gt&&Xe&&Xe.proofPhotos&&Xe.proofPhotos.length>0&&b.jsx(at.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",onClick:()=>{mn(!1),Qt(null),pn(null)},children:b.jsxs(at.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"relative max-w-lg w-full",onClick:ne=>ne.stopPropagation(),children:[b.jsx("button",{onClick:()=>{mn(!1),Qt(null),pn(null)},className:"absolute -top-12 right-0 p-2 text-white/70 hover:text-white transition-colors z-10",children:b.jsx(Ls,{size:28})}),b.jsxs("div",{className:"rounded-2xl overflow-hidden border border-white/10 shadow-2xl",children:[b.jsxs("div",{className:"relative bg-black",children:[b.jsx("img",{src:Xe.proofPhotos[Nn],alt:`Proof photo ${Nn+1}`,className:"w-full h-auto max-h-[50vh] object-contain"}),Xe.proofPhotos.length>1&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>on(ne=>ne>0?ne-1:Xe.proofPhotos.length-1),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:b.jsx(QN,{size:24})}),b.jsx("button",{onClick:()=>on(ne=>ne<Xe.proofPhotos.length-1?ne+1:0),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:b.jsx(JN,{size:24})})]}),b.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/60 rounded-full text-white text-xs font-medium",children:[Nn+1," / ",Xe.proofPhotos.length]})]}),Xe.proofPhotos.length>1&&b.jsx("div",{className:"flex gap-1 p-2 bg-bg-dark/80 overflow-x-auto",children:Xe.proofPhotos.map((ne,Se)=>b.jsx("button",{onClick:()=>on(Se),className:ft("w-12 h-12 rounded-md overflow-hidden border-2 flex-shrink-0 transition-all",Nn===Se?"border-accent-primary":"border-transparent opacity-60 hover:opacity-100"),children:b.jsx("img",{src:ne,alt:"",className:"w-full h-full object-cover"})},Se))}),b.jsxs("div",{className:"p-4 bg-bg-dark/95",children:[b.jsx("p",{className:"text-white font-semibold mb-1",children:Xe.text}),b.jsxs("p",{className:"text-slate-400 text-xs mb-4",children:["Completed by ",Xe.completedBy,"  ",Mi(Xe.completedAt)]}),b.jsx("div",{className:"flex gap-2 justify-center pb-1",children:["","","","","",""].map(ne=>b.jsx("button",{onClick:()=>{Mt!==null&&(D(Mt,ne),O())},className:"text-2xl hover:scale-125 transition-transform p-2 rounded-full hover:bg-white/10 active:scale-95",title:"React",children:ne},ne))})]})]}),b.jsxs("div",{className:"mt-4 flex gap-3 justify-center",children:[b.jsxs("button",{onClick:async()=>{window.confirm("Delete this photo?")&&(await N(Mt,Nn),Xe?.proofPhotos?.length===1?mn(!1):on(0))},className:"flex-1 py-3 bg-red-500/10 text-red-400 rounded-xl font-semibold hover:bg-red-500/20 flex items-center justify-center gap-2",children:[b.jsx(Lf,{size:20}),"Delete Photo"]}),b.jsxs("button",{onClick:()=>ti.current?.click(),className:"flex-1 py-3 bg-white/10 text-white rounded-xl font-semibold hover:bg-white/20 flex items-center justify-center gap-2",children:[b.jsx(oh,{size:20}),"Add Photo"]})]}),b.jsx("button",{onClick:()=>{const ne=r.findIndex(Se=>Se.id===Xe.id);ne!==-1&&c(ne),mn(!1),Qt(null),pn(null)},className:"mt-2 w-full py-2 text-sm text-red-400 hover:text-red-300 transition-colors",children:"Mark as In Progress"})]})})}),b.jsx(Ar,{children:kt&&Ht&&b.jsxs(at.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-24 left-1/2 -translate-x-1/2 bg-slate-900 border border-white/20 text-white px-6 py-3 rounded-full shadow-2xl z-50 flex items-center gap-4",children:[b.jsxs("span",{children:["Marked as ",Ht.wasCompleted?"incomplete":"complete"]}),b.jsx("button",{onClick:()=>{c(Ht.index),fr(!1)},className:"font-bold text-accent-primary hover:text-white transition-colors",children:"Undo"}),b.jsx("button",{onClick:()=>fr(!1),className:"text-slate-400 hover:text-white",children:b.jsx(Ls,{size:16})})]})}),b.jsx(Ar,{children:$i&&b.jsx(at.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",children:b.jsxs(at.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-slate-900 border border-white/20 rounded-3xl p-8 max-w-sm w-full shadow-2xl relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-20 pointer-events-none",children:b.jsx(bm,{className:"w-32 h-32 text-accent-gold rotate-12"})}),b.jsxs("div",{className:"relative z-10 text-center",children:[b.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Welcome! "}),b.jsxs("p",{className:"text-slate-400 mb-8 h-12",children:[Cn===0&&"Tap any tile to mark it as complete.",Cn===1&&"Start 'Edit Mode' to add your own tasks.",Cn===2&&"Invite friends to play together!"]}),b.jsx("div",{className:"flex justify-center mb-8",children:b.jsx("div",{className:"w-32 h-32 bg-black/40 rounded-2xl border border-white/10 flex items-center justify-center relative",children:b.jsxs(Ar,{mode:"wait",children:[Cn===0&&b.jsxs(at.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute inset-0 flex items-center justify-center",children:[b.jsx("div",{className:"w-16 h-16 bg-accent-primary/20 rounded-lg border border-accent-primary flex items-center justify-center",children:b.jsx(Cr,{className:"w-8 h-8 text-white"})}),b.jsx(at.div,{animate:{scale:[1,1.2,1],opacity:[0,1,0]},transition:{repeat:1/0,duration:1.5},className:"absolute w-20 h-20 rounded-full border-2 border-white/50"})]},"step0"),Cn===1&&b.jsx(at.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:b.jsx(Fu,{className:"w-12 h-12 text-blue-400"})},"step1"),Cn===2&&b.jsx(at.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:b.jsx(jf,{className:"w-12 h-12 text-green-400"})},"step2")]})})}),b.jsx("div",{className:"flex gap-2 justify-center mb-6",children:[0,1,2].map(ne=>b.jsx("div",{className:ft("w-2 h-2 rounded-full transition-colors",ne===Cn?"bg-white":"bg-white/20")},ne))}),b.jsx("button",{onClick:xi,className:"w-full py-3 bg-white text-black font-bold rounded-xl hover:bg-slate-200 transition-colors",children:Cn===2?"Let's Play!":"Next"})]})]})})})]}),b.jsxs("div",{className:"only-print hidden",children:[b.jsxs("div",{className:"flex justify-between items-end mb-4 border-b-2 border-black pb-2",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("img",{src:"/logo.png",className:"h-12 w-auto",alt:"Logo"}),b.jsx("h1",{className:"text-2xl font-bold",children:ae||"2026 Edition"})]}),b.jsxs("div",{className:"text-right",children:[b.jsxs("p",{className:"text-xs uppercase tracking-widest mb-0.5",children:["Status Report (",te,"",te,")"]}),b.jsxs("p",{className:"text-xl font-bold",children:[d," / ",te*2+2," Bingos"]})]})]}),b.jsx("div",{className:`grid gap-0 border-2 border-black ${te===3?"grid-cols-3":te===4?"grid-cols-4":te===5?"grid-cols-5":"grid-cols-6"}`,children:r.map(ne=>b.jsxs("div",{className:"aspect-square border border-black p-1.5 flex flex-col justify-between relative overflow-hidden min-h-[80px]",children:[b.jsx("div",{className:`font-bold leading-tight z-10 ${te>=5?"text-[10px]":"text-[11px]"}`,children:ne.text}),ne.isCompleted&&!ne.isFreeSpace&&b.jsxs("div",{className:"mt-0.5 relative z-10",children:[b.jsx("div",{className:"text-[7px] uppercase font-bold text-slate-700",children:"Completed by:"}),b.jsx("div",{className:"text-[9px] font-mono font-bold leading-none",children:ne.completedBy||"User"}),b.jsx("div",{className:"text-[7px] text-slate-600 mt-0.5",children:Mi(ne.completedAt)})]}),ne.isCompleted&&b.jsx("div",{className:"absolute bottom-1 right-1 text-3xl font-bold text-slate-200 opacity-60 pointer-events-none z-0",children:""}),ne.isFreeSpace&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center font-bold text-xl rotate-[-45deg] opacity-20",children:"FREE"})]},ne.id))}),b.jsxs("div",{className:"mt-4 text-[9px] text-center border-t border-black pt-2 flex justify-between text-slate-500",children:[b.jsxs("span",{children:["Generated on ",new Date().toLocaleDateString()," at ",new Date().toLocaleTimeString()]}),b.jsx("span",{children:"bingo.mysunsar.com"})]})]}),b.jsx(sF,{items:r,isOpen:In,onClose:()=>Ln(!1)}),b.jsx(bf,{isOpen:ve,onClose:()=>_e(!1),title:b.jsxs("span",{className:"flex items-center gap-2",children:[b.jsx(jf,{className:"w-5 h-5 text-accent-primary"}),"Shared With"]}),size:"md",children:b.jsxs("div",{children:[Ie.length===0?b.jsx("div",{className:"text-center text-slate-400 py-8",children:b.jsx("p",{children:"This board hasn't been shared yet."})}):b.jsx("div",{className:"space-y-4 mb-6",children:Ie.map(ne=>b.jsxs("div",{className:"flex items-center justify-between bg-white/5 p-3 rounded-xl border border-white/5",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold text-white",children:ne.name.charAt(0)}),b.jsxs("div",{children:[b.jsx("div",{className:"text-sm font-semibold text-white",children:ne.name}),b.jsxs("div",{className:"text-xs text-slate-400",children:[ne.email,"  ",ne.role]})]})]}),b.jsx("button",{onClick:()=>mr(ne.id,ne.name),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Remove User",children:b.jsx(Lf,{size:16})})]},ne.id))}),b.jsxs("button",{onClick:$s,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all flex items-center justify-center gap-2",children:[b.jsx(oh,{size:18}),"Invite New User"]})]})}),b.jsx(bf,{isOpen:Ee,onClose:()=>Le(!1),title:b.jsxs("span",{className:"flex items-center gap-2",children:[b.jsx(NS,{className:"w-5 h-5 text-accent-primary"}),"Ready to Go Live?"]}),size:"sm",footer:b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>Le(!1),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Not Yet"}),b.jsx("button",{onClick:Ec,className:"flex-1 py-3 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl font-bold text-white shadow-lg hover:shadow-green-500/25 transition-all",children:"Let's Go! "})]}),children:b.jsxs("div",{children:[b.jsxs("p",{className:"text-slate-300 mb-6 leading-relaxed",children:["Going live will ",b.jsx("strong",{children:"lock the board"})," for play mode. You won't be able to edit items easily anymore."]}),b.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 mb-6 cursor-pointer hover:bg-white/10 transition-colors",onClick:()=>ut(!Ve),children:b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx("div",{className:`mt-1 w-5 h-5 rounded border flex items-center justify-center transition-colors ${Ve?"bg-accent-primary border-accent-primary":"border-slate-500"}`,children:Ve&&b.jsx(Cr,{size:14,className:"text-white"})}),b.jsxs("div",{children:[b.jsx("div",{className:"font-semibold text-white",children:"Shuffle Items?"}),b.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Randomize the grid arrangement one last time before locking."})]})]})})]})})]})},Co=({className:t,...e})=>b.jsx("div",{className:ft("skeleton-glass",t),...e}),nq=()=>{const{user:t}=Wa(),e=iI(),n=km(),[r,a]=S.useState([]),[l,c]=S.useState(!0),[h,d]=S.useState(!1),[m,g]=S.useState(null),[v,_]=S.useState(5),[A,M]=S.useState(null),[D,N]=S.useState(""),z=(k,j)=>{k.preventDefault(),k.stopPropagation(),M(j.id),N(j.title)},$=async k=>{if(k.preventDefault(),k.stopPropagation(),!!A){try{await si(Nr(oi,"boards",A),{title:D}),a(j=>j.map(B=>B.id===A?{...B,title:D}:B))}catch(j){console.error("Error updating title:",j)}M(null)}},q=k=>{k.preventDefault(),k.stopPropagation(),M(null)},ae=k=>{k.key==="Enter"?$(k):k.key==="Escape"?(k.stopPropagation(),M(null)):k.stopPropagation()},te=[{size:3,label:"33",description:"Quick (9 tiles)",icon:""},{size:4,label:"44",description:"Compact (16 tiles)",icon:""},{size:5,label:"55",description:"Classic (25 tiles)",icon:""},{size:6,label:"66",description:"Extended (36 tiles)",icon:""}],le={blank:{name:"Blank Canvas ",items:[]},default:{name:"2026 Goals ",items:["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"]},fitness:{name:"Fitness Challenge ",items:["Run a 5k","Do 50 pushups in a row","Try a yoga class","Drink 3L water for a week","No sugar for 7 days","Go for a hike","Meal prep for a week","Climb a bouldering wall","Try Pilates","Walk 15k steps in a day","Do a spin class","Bike 20km","FREE SPACE","Touch your toes","Hold a plank for 2 min","Try CrossFit","Go swimming","Meditate for 10 mins x 7","Try a new sport","Sleep 8 hours x 5 days","Do 100 squats","Run a 10k","Go to the gym 4x in a week","Stretch daily for a week","Join a run club"]},couples:{name:"Couple Goals ",items:["Date night (no phones)","Cook a meal together","Weekend getaway","Watch a whole series","Breakfast in bed","Go for a long walk","Plan a future trip","Give each other massages","Recreate first date","Take a dance class","Stargazing date","Write love letters","FREE SPACE","Visit a winery/brewery","Do a puzzle together","Double date","Sunset picnic","Bake something sweet","Volunteer together","Learn a couple's skill","Game night","Make a photo album","Try a new restaurant","Surprise gift","Kiss in the rain"]},personal:{name:"Personal Growth ",items:["Read 1 book/month","Learn a new language","Start a journal","Digital detox (24h)","Meditate daily (1 week)","Drink 2L water daily","Wake up at 6am (1 week)","Declutter a room","Learn to invest","Take a solo trip","Volunteer","Compliment a stranger","FREE SPACE","No social media (weekend)","Learn an instrument","Cook a new cuisine","Write a gratitude list","Take a cold shower","Listen to a podcast","Fix sleep schedule","Walk 10k steps","Call an old friend","Create a vision board","Save 10% income","Take a course"]},knitting:{name:"Knitting Goals ",items:["Finish a WIP","Cast on a sweater","Learn brioche","Knit socks","Stash bust project","Try colorwork","Knit a hat","Use luxury yarn","Fix a mistake","Knit a gift","Block a project","Organize needles","FREE SPACE","Try a new fiber","Knit in public","Attend a knit night","Learn magic loop","Design a pattern","Teach someone to knit","Finish a blanket","Knit a shawl","Try cables","Buy souvenir yarn","Weave in ends immediately","Knit a gauge swatch"]},weaving:{name:"Weaving Goals ",items:["Warp the loom","Weave a rug","Try a new structure","Sample a pattern","Use handspun yarn","Finish a scarf","Hemstitching","Fix a broken warp","Weave a towel","Try tapestry","Mix fibers","Organize yarn stash","FREE SPACE","Weave a placemat","Attend a workshop","Try doublewidth","Weave transparency","Calculate warp correctly","Finish raw edges","Weave with rags","Try tablet weaving","Rigid heddle project","Floor loom project","Visit a mill","Share a project online"]},spinning:{name:"Spinning Goals ",items:["Spin 100g fiber","Ply a yarn","Try a new breed","Spin lace weight","Spin art yarn","Comb fleece","Card a batt","Spin on a drop spindle","Clean the wheel","Spin distinct colors","Skein and wash","Fractal spin","FREE SPACE","Spin silk","Spin cotton","Navajo ply","Spin for a project","Participate in Tour de Fleece","Sample a blend","Teach spinning","Spin consistent grist","Dye fiber","Blend colors on hackle","Spin exotic fiber","Fill a bobbin"]},painting:{name:"Painting Goals ",items:["Paint a landscape","Try watercolors","Paint a portrait","Mix a new color","Paint en plein air","Visit a gallery","Finish a sketchbook","Try oils","Paint a still life","Use a palette knife","Paint an animal","Try abstract","FREE SPACE","Clean brushes properly","Paint on canvas","Paint on wood","Follow a tutorial","Paint a sky","Try gouache","Varnish a painting","Frame a piece","Paint daily for a week","Recreate a master","Paint a self-portrait","Host a paint night"]},corporate:{name:"Corporate Bingo ",items:['"Circle back"',`"Let's take this offline"`,"Meeting that could be an email",'"Synergy"','"Low hanging fruit"','"Touch base"',"Someone forgets to mute","Screen share fails",'"Can you see my screen?"',"Awkward silence",'"Bandwidth"','"Deep dive"',"FREE SPACE","Pet interrupts video call","Echo on the line",'"Per my last email"','"Drill down"','"Out of pocket"','"Hard stop"','"Boil the ocean"',"Reply All disaster",'"Move the needle"','"Blue sky thinking"','"Paradigm shift"','"Quick win"']},travel:{name:"Travel Bucket List ",items:["Visit a new continent","Go on a solo trip","See the Northern Lights","Swim in an ocean","Road trip across 3 states","Fly First Class","Visit a National Park","Eat street food","Stay in a hostel","Learn 'Hello' in 5 languages","Visit a Wonder of the World","Go on a cruise","FREE SPACE","Make a travel vlog","Sleep under the stars","Visit a castle","Ride a train","See a volcano","Go scuba diving","Watch a sunrise on a mountain","Visit a winery","Ride a camel/elephant","Go skiing/snowboarding","Visit a tropical island","Send a postcard"]}};S.useEffect(()=>{if(!t)return;(async()=>{try{console.log("Fetching boards for user:",t.uid,t.email);const j=new Map;try{const H=eh(Po(oi,"boards"),th(`members.${t.uid}`,"in",["owner","editor","viewer"])),G=await Wl(H);console.log("Boards with membership found:",G.docs.length),G.docs.forEach(X=>{const L=X.data(),T=L.members?.[t.uid],U=L.members||{},W=Object.values(U).filter(re=>re!=="owner").length;j.set(X.id,{id:X.id,...L,sharedCount:W,myRole:T,members:U})})}catch(H){console.error("Error querying boards by membership:",H)}try{const H=eh(Po(oi,"years"),th("ownerId","==",t.uid)),G=await Wl(H);console.log("Legacy boards (years collection) found:",G.docs.length),G.docs.forEach(X=>{const L=X.data();j.set(`legacy_${X.id}`,{id:X.id,title:L.title||"2026 Bingo",createdAt:L.createdAt,isLocked:L.isLocked,ownerId:L.ownerId,myRole:"owner",members:{}})})}catch(H){console.log("Years collection query failed:",H)}try{const H=await Wl(Po(oi,"years"));console.log("All years docs:",H.docs.length),H.docs.forEach(G=>{const X=G.data();if(X.ownerId===t.uid||X.members?.[t.uid]){const L=`legacy_years_${G.id}`;j.has(L)||j.set(L,{id:G.id,title:X.title||`${G.id} Bingo`,createdAt:X.createdAt,isLocked:X.isLocked,ownerId:X.ownerId,myRole:X.ownerId===t.uid?"owner":X.members?.[t.uid]||"viewer",members:X.members||{}})}})}catch(H){console.log("Direct years fetch failed:",H)}const B=Array.from(j.values()),V=new Set;B.forEach(H=>{H.myRole!=="owner"&&(H.ownerId&&H.ownerId!==t.uid&&V.add(H.ownerId),H.members&&Object.entries(H.members).forEach(([G,X])=>{X==="owner"&&G!==t.uid&&V.add(G)}))});const xe=Array.from(V),ke={};for(const H of xe)try{const G=await Rh(Nr(oi,"users",H));if(G.exists()){const X=G.data();ke[H]=X.displayName||X.email||"Unknown"}}catch{console.log("Could not fetch owner info for:",H)}const Z=B.map(H=>{let G=H.ownerId;if(H.members){const X=Object.keys(H.members).find(L=>H.members[L]==="owner"&&L!==t.uid);X&&(G=X)}return H.myRole!=="owner"&&G&&ke[G]?{...H,ownerName:ke[G]}:H});console.log("Total boards to display:",Z.length,Z.map(H=>H.title)),a(Z)}catch(j){console.error("Error fetching boards:",j)}finally{c(!1)}})()},[t]);const I=async k=>{if(!t)return;const j=le[k],B=v,V=B*B,xe=B%2===1?Math.floor(V/2):-1,ke=B%2===1?V-1:V,Z=await e.prompt("What would you like to call this board?",{title:"Board Title",inputDefaultValue:j.name,confirmText:"Create"});if(Z)try{const H=j.items.filter(U=>U.trim().toUpperCase()!=="FREE SPACE"&&U!=="FREE SPACE"),G=[...H].sort(()=>.5-Math.random());for(;G.length<ke;)G.push(H[G.length%H.length]||`Goal ${G.length+1}`);const X=[];let L=0;for(let U=0;U<V;U++)U===xe&&B%2===1?X.push({id:U,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(X.push({id:U,text:G[L],isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),L++);const T=await s2(Po(oi,"boards"),{title:Z,gridSize:B,ownerId:t.uid,members:{[t.uid]:"owner"},items:X,createdAt:qe.now(),isLocked:!1,lastUpdated:qe.now()});n(`/board/${T.id}`)}catch(H){console.error("Error creating board:",H),await e.alert("Failed to create board. Please try again.",{title:"Error",type:"error"})}finally{d(!1),g(null),_(5)}};if(l)return b.jsx("div",{className:"min-h-screen bg-transparent p-6 relative",children:b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsxs("header",{className:"flex justify-between items-center mb-12 py-2",children:[b.jsx(Co,{className:"h-10 w-32 md:w-40"}),b.jsxs("div",{className:"flex gap-2 items-center",children:[b.jsx(Co,{className:"w-10 h-10 rounded-full"}),b.jsx(Co,{className:"w-10 h-10 rounded-full"}),b.jsx(Co,{className:"w-20 h-10 rounded-xl"})]})]}),b.jsxs("div",{className:"mb-10",children:[b.jsx(Co,{className:"h-12 w-64 mb-3 rounded-lg"}),b.jsx(Co,{className:"h-6 w-48 rounded-md"})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((k,j)=>b.jsx(Co,{className:"h-48 rounded-2xl"},j))})]})});const C=async(k,j,B)=>{if(k.stopPropagation(),await e.confirm(`This will permanently delete "${B}" and all its data.

This action cannot be undone.`,{title:"Delete Board?",confirmText:"Delete",type:"error"}))try{await r2(Nr(oi,"boards",j)),a(xe=>xe.filter(ke=>ke.id!==j)),await e.alert("Board deleted successfully.",{title:"Deleted",type:"success"})}catch(xe){console.error("Error deleting board:",xe),await e.alert("Failed to delete board. Please try again.",{title:"Error",type:"error"})}},O=async(k,j,B)=>{if(k.stopPropagation(),!t)return;if(await e.confirm(`You will no longer have access to "${B}".

You can ask the owner to re-share it if needed.`,{title:"Leave Board?",confirmText:"Leave",type:"warning"}))try{await si(Nr(oi,"boards",j),{[`members.${t.uid}`]:lm()}),a(xe=>xe.filter(ke=>ke.id!==j)),await e.alert("You have left the board.",{title:"Left Board",type:"success"})}catch(xe){console.error("Error leaving board:",xe),await e.alert("Failed to leave board. Please try again.",{title:"Error",type:"error"})}};return b.jsxs("div",{children:[b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsxs("div",{className:"mb-10 flex flex-col md:flex-row md:items-end justify-between gap-4",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-semibold text-white tracking-tight",children:"My Boards"}),b.jsxs("p",{className:"text-slate-400 mt-1",children:["Welcome back, ",b.jsx("span",{className:"text-white font-medium",children:t?.displayName?.split(" ")[0]||"Bingo Player"})]})]}),b.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 bg-white text-bg-dark font-bold rounded-lg hover:bg-slate-200 transition-colors shadow-lg active:scale-95",children:[b.jsx(oh,{className:"w-5 h-5"}),b.jsx("span",{children:"New Board"})]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.filter(k=>k.myRole==="owner").map(k=>{const B=k.id==="2026"||!k.ownerId?`/board/legacy/${k.id}`:`/board/${k.id}`;return b.jsxs("div",{onClick:V=>{V.preventDefault(),console.log("Navigating to board:",B),n(B)},className:"pro-card group relative h-48 p-6 flex flex-col justify-between cursor-pointer overflow-hidden active:scale-[0.99] hover:bg-zinc-900",children:[b.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:b.jsx("button",{onClick:V=>C(V,k.id,k.title),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-white/10 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",title:"Delete Board",children:b.jsx(Lf,{size:18})})}),b.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"h-7 mb-2",children:!!k.sharedCount&&k.sharedCount>0&&b.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider bg-emerald-500/20 text-emerald-400 border border-emerald-500/30",children:[b.jsx(s8,{size:10}),"Shared with ",k.sharedCount]})}),A===k.id?b.jsxs("div",{className:"flex items-center gap-2 mb-1.5 z-30 relative",onClick:V=>V.stopPropagation(),children:[b.jsx("input",{type:"text",value:D,onChange:V=>N(V.target.value),onKeyDown:ae,onClick:V=>V.stopPropagation(),autoFocus:!0,className:"bg-black/50 text-white font-bold text-xl rounded px-2 py-0.5 border border-accent-primary outline-none min-w-0 flex-1 w-full"}),b.jsx("button",{onClick:$,className:"p-1 text-green-400 hover:bg-green-400/20 rounded-full transition-colors",children:b.jsx(Cr,{size:18})}),b.jsx("button",{onClick:q,className:"p-1 text-red-400 hover:bg-red-400/20 rounded-full transition-colors",children:b.jsx(Ls,{size:18})})]}):b.jsxs("div",{className:"flex items-start gap-2 pr-8 mb-1.5",children:[b.jsx("h3",{className:"text-xl font-bold text-white line-clamp-2 group-hover:text-accent-primary transition-colors",children:k.title}),b.jsx("button",{onClick:V=>z(V,k),className:"opacity-0 group-hover:opacity-100 text-slate-400 hover:text-white p-1.5 rounded-full hover:bg-white/10 transition-all z-20",title:"Rename Board",children:b.jsx(LB,{size:14})})]}),b.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[b.jsx(_m,{className:"w-3.5 h-3.5"}),k.createdAt?.toDate?k.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),b.jsx("div",{className:"mt-4",children:b.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-primary/10 text-accent-primary border border-accent-primary/20 group-hover:bg-accent-primary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},k.id)})}),r.filter(k=>k.myRole!=="owner").length>0&&b.jsxs(b.Fragment,{children:[b.jsxs("h2",{className:"text-xl font-bold text-white mt-10 mb-6 flex items-center gap-2",children:[b.jsx("span",{className:"bg-gradient-to-r from-accent-secondary to-pink-500 bg-clip-text text-transparent",children:"Shared With Me"}),b.jsxs("span",{className:"text-sm font-normal text-slate-500",children:["(",r.filter(k=>k.myRole!=="owner").length,")"]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.filter(k=>k.myRole!=="owner").map(k=>{const B=k.id==="2026"||!k.ownerId?`/board/legacy/${k.id}`:`/board/${k.id}`;return b.jsxs("div",{onClick:V=>{V.preventDefault(),console.log("Navigating to shared board:",B),n(B)},className:"pro-card group relative h-48 p-6 flex flex-col justify-between cursor-pointer overflow-hidden active:scale-[0.99] hover:bg-zinc-900",children:[b.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity pointer-events-none",children:b.jsx(eI,{className:"w-24 h-24"})}),b.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:b.jsx("button",{onClick:V=>O(V,k.id,k.title),className:"p-2 text-slate-500 hover:text-amber-400 hover:bg-white/10 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",title:"Leave Board",children:b.jsx(tI,{size:18})})}),b.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"h-7 mb-2",children:b.jsx("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider ${k.myRole==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/30":"bg-blue-500/20 text-blue-400 border border-blue-500/30"}`,children:k.myRole==="editor"?" Editor":" Viewer"})}),b.jsx("h3",{className:"text-xl font-bold text-white mb-1 line-clamp-1 pr-8",children:k.title}),k.ownerName&&b.jsxs("div",{className:"text-xs text-slate-500 mb-1.5",children:["Shared by ",b.jsx("span",{className:"text-slate-400",children:k.ownerName})]}),b.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[b.jsx(_m,{className:"w-3.5 h-3.5"}),k.createdAt?.toDate?k.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),b.jsx("div",{className:"mt-4",children:b.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-secondary/10 text-accent-secondary border border-accent-secondary/20 group-hover:bg-accent-secondary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},k.id)})})]})]}),h&&b.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[b.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>{m?g(null):d(!1)}}),b.jsxs("div",{className:"relative w-full max-w-2xl bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[b.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center shrink-0",children:[b.jsx("h2",{className:"text-xl font-bold text-white",children:m?le[m].name:"Choose a Template"}),b.jsx("button",{onClick:()=>{m?g(null):d(!1)},className:"text-slate-400 hover:text-white",children:b.jsx(oh,{className:"w-6 h-6 rotate-45"})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:m?b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Grid Size"}),b.jsx("div",{className:"grid grid-cols-4 gap-2",children:te.map(({size:k,label:j,icon:B})=>b.jsxs("button",{onClick:()=>_(k),className:`p-3 rounded-xl border text-center transition-all ${v===k?"bg-accent-primary/20 border-accent-primary text-white":"bg-white/5 border-white/10 text-slate-400 hover:bg-white/10 hover:text-white"}`,children:[b.jsx("span",{className:"text-lg block",children:B}),b.jsx("span",{className:"font-bold text-sm",children:j}),b.jsxs("span",{className:"text-[10px] block opacity-70",children:[k*k," tiles"]})]},k))})]}),b.jsx("div",{className:"flex justify-center",children:b.jsx("div",{className:`aspect-square w-full max-w-[380px] grid gap-1.5 p-3 bg-slate-950/50 rounded-xl border border-white/10 ${v===3?"grid-cols-3":v===4?"grid-cols-4":v===5?"grid-cols-5":"grid-cols-6"}`,children:(()=>{const k=v*v,j=v%2===1?Math.floor(k/2):-1,B=le[m].items.filter(V=>V.trim().toUpperCase()!=="FREE SPACE");return Array.from({length:k},(V,xe)=>{const ke=xe===j&&v%2===1,Z=xe<j||j===-1?xe:xe-1,H=ke?"FREE":B[Z%B.length]||`Goal ${xe+1}`;return b.jsx("div",{className:`
                                                                relative rounded-lg flex items-center justify-center p-1 text-center select-none overflow-hidden 
                                                                ${v<=4?"text-[9px] sm:text-[11px]":"text-[7px] sm:text-[9px]"}
                                                                leading-tight font-medium border shadow-sm
                                                                ${ke?"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50 text-accent-gold font-bold":"bg-white/5 border-white/10 text-slate-300"}
                                                            `,children:b.jsx("span",{className:"line-clamp-2",children:H})},xe)})})()})}),b.jsxs("div",{className:"flex gap-3 pt-4",children:[b.jsx("button",{onClick:()=>g(null),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Back"}),b.jsxs("button",{onClick:()=>I(m),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all",children:["Create ",v,"",v," Board"]})]})]}):b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(le).map(([k,j])=>b.jsxs("button",{onClick:()=>g(k),className:"flex flex-col items-start p-4 rounded-xl bg-white/5 hover:bg-white/10 border border-white/5 hover:border-accent-primary/50 transition-all text-left group",children:[b.jsx("h3",{className:"font-bold text-white group-hover:text-accent-primary transition-colors",children:j.name}),b.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Click to preview"})]},k))})})]})]})]})},iq=()=>{const{settings:t}=cp(),e=S.useRef(null),n=S.useRef(null),r=S.useRef([]),a=S.useMemo(()=>{switch(t.theme){case"midnight":return{type:"stars",particleCount:150,baseColor:"rgba(100, 150, 255, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #0a1628 0%, #020617 50%, #000 100%)",shootingStars:!0};case"light":return{type:"clouds",particleCount:20,baseColor:"rgba(255, 255, 255, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #f0f9ff 0%, #e0f2fe 50%, #dbeafe 100%)",shootingStars:!1};case"cosmic":return{type:"stars",particleCount:200,baseColor:"rgba(139, 92, 246, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #1e1b4b 0%, #0f172a 40%, #020617 100%)",shootingStars:!0};case"lavender":return{type:"petals",particleCount:50,baseColor:"rgba(232, 121, 249, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #3b0764 0%, #2e1065 50%, #1a0525 100%)",shootingStars:!1};case"forest":return{type:"leaves",particleCount:40,baseColor:"rgba(100, 200, 120, ",bgGradient:"radial-gradient(ellipse at 30% 80%, #0a3d1a 0%, #052e16 50%, #021a09 100%)",shootingStars:!1};case"ocean":return{type:"bubbles",particleCount:60,baseColor:"rgba(100, 220, 255, ",bgGradient:"radial-gradient(ellipse at 50% 100%, #0c4a5e 0%, #083344 50%, #041825 100%)",shootingStars:!1};case"sunset":return{type:"embers",particleCount:50,baseColor:"rgba(255, 150, 80, ",bgGradient:"radial-gradient(ellipse at 50% 100%, #4a1a00 0%, #2a0a0a 50%, #1a0505 100%)",shootingStars:!1};default:return{type:"aurora",particleCount:80,baseColor:"rgba(180, 120, 255, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #1a1040 0%, #0f111a 50%, #0a0b10 100%)",shootingStars:!1}}},[t.theme]);return S.useEffect(()=>{const l=e.current;if(!l)return;const c=()=>{const d=[];for(let m=0;m<a.particleCount;m++)d.push(rq(l.width,l.height,a.type));r.current=d},h=()=>{l.width=window.innerWidth,l.height=window.innerHeight,c()};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[a]),S.useEffect(()=>{if(t.enableAnimation===!1)return;const l=e.current;if(!l)return;const c=l.getContext("2d");if(!c)return;let h=0,d=null;const m=()=>{c.clearRect(0,0,l.width,l.height),r.current.forEach(g=>{sq(g,l.width,l.height,a.type),aq(c,g,a)}),a.shootingStars&&(h++,h>300&&Math.random()<.01&&(d={x:Math.random()*l.width,y:Math.random()*l.height*.5,length:80+Math.random()*40,speed:15+Math.random()*10,opacity:1},h=0),d&&(c.beginPath(),c.strokeStyle=`rgba(255, 255, 255, ${d.opacity})`,c.lineWidth=2,c.moveTo(d.x,d.y),c.lineTo(d.x-d.length,d.y-d.length*.3),c.stroke(),d.x+=d.speed,d.y+=d.speed*.3,d.opacity-=.02,d.opacity<=0&&(d=null))),n.current=requestAnimationFrame(m)};return m(),()=>{n.current&&cancelAnimationFrame(n.current)}},[t.enableAnimation,a]),b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 z-0 transition-all duration-1000",style:{background:a.bgGradient}}),b.jsx("canvas",{ref:e,className:"fixed inset-0 z-0 pointer-events-none",style:{opacity:t.enableAnimation===!1?0:.8}}),b.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none overflow-hidden",children:[b.jsx("div",{className:`absolute w-[600px] h-[600px] rounded-full blur-[120px] animate-float-slow ${t.theme==="midnight"?"bg-blue-500/10":t.theme==="cosmic"?"bg-violet-600/20":t.theme==="forest"?"bg-green-500/10":t.theme==="ocean"?"bg-cyan-500/10":t.theme==="sunset"?"bg-orange-500/10":t.theme==="lavender"?"bg-fuchsia-500/10":t.theme==="light"?"bg-blue-300/20":"bg-purple-500/10"}`,style:{top:"-15%",left:"-10%"}}),b.jsx("div",{className:`absolute w-[500px] h-[500px] rounded-full blur-[100px] animate-float-slower ${t.theme==="midnight"?"bg-indigo-500/10":t.theme==="cosmic"?"bg-pink-600/20":t.theme==="forest"?"bg-emerald-500/10":t.theme==="ocean"?"bg-teal-500/10":t.theme==="sunset"?"bg-rose-500/10":t.theme==="lavender"?"bg-purple-600/20":t.theme==="light"?"bg-sky-300/20":"bg-pink-500/10"}`,style:{bottom:"-10%",right:"-5%"}})]})]})};function rq(t,e,n){const r={x:Math.random()*t,y:Math.random()*e,opacity:Math.random()*.5+.2};switch(n){case"stars":return{...r,size:Math.random()*3+1,speedX:0,speedY:0,opacity:Math.random()*.8+.4};case"clouds":return{...r,size:Math.random()*80+40,speedX:Math.random()*.3+.1,speedY:Math.random()*.05-.025,opacity:Math.random()*.4+.3};case"leaves":return{...r,size:Math.random()*6+3,speedX:Math.random()*.5-.25,speedY:Math.random()*.8+.3,hue:Math.random()*40+80};case"petals":return{...r,size:Math.random()*6+3,speedX:Math.random()*.5-.25,speedY:Math.random()*.5+.2,hue:Math.random()*40+280};case"bubbles":return{...r,size:Math.random()*8+2,speedX:Math.random()*.3-.15,speedY:-(Math.random()*.8+.3)};case"embers":return{...r,size:Math.random()*3+1,speedX:Math.random()*.4-.2,speedY:-(Math.random()*1+.5),hue:Math.random()*30+15};default:return{...r,size:Math.random()*4+1,speedX:Math.random()*.3-.15,speedY:Math.random()*.2-.1,hue:Math.random()*60+240}}}function sq(t,e,n,r){t.x+=t.speedX,t.y+=t.speedY,r==="stars"&&(t.opacity+=(Math.random()-.5)*.05,t.opacity=Math.max(.1,Math.min(1,t.opacity))),t.x<0&&(t.x=e),t.x>e&&(t.x=0),t.y<0&&(t.y=n),t.y>n&&(t.y=0)}function aq(t,e,n){switch(t.beginPath(),n.type){case"stars":t.fillStyle=`rgba(255, 255, 255, ${e.opacity})`,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill(),e.opacity>.7&&(t.beginPath(),t.fillStyle=`rgba(200, 220, 255, ${e.opacity*.3})`,t.arc(e.x,e.y,e.size*3,0,Math.PI*2),t.fill());break;case"clouds":t.save(),t.shadowColor="rgba(100, 150, 200, 0.3)",t.shadowBlur=20,t.fillStyle=`rgba(255, 255, 255, ${e.opacity})`,t.arc(e.x,e.y,e.size*.6,0,Math.PI*2),t.fill(),t.beginPath(),t.arc(e.x-e.size*.4,e.y+e.size*.1,e.size*.45,0,Math.PI*2),t.fill(),t.beginPath(),t.arc(e.x+e.size*.4,e.y+e.size*.1,e.size*.5,0,Math.PI*2),t.fill(),t.restore();break;case"leaves":t.fillStyle=`hsla(${e.hue}, 60%, 50%, ${e.opacity})`,t.ellipse(e.x,e.y,e.size,e.size*.5,e.x*.01,0,Math.PI*2),t.fill();break;case"petals":t.fillStyle=`hsla(${e.hue}, 70%, 60%, ${e.opacity})`,t.ellipse(e.x,e.y,e.size,e.size*.6,e.x*.02,0,Math.PI*2),t.fill();break;case"bubbles":t.strokeStyle=n.baseColor+`${e.opacity})`,t.lineWidth=1,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.stroke(),t.beginPath(),t.fillStyle=`rgba(255, 255, 255, ${e.opacity*.5})`,t.arc(e.x-e.size*.3,e.y-e.size*.3,e.size*.2,0,Math.PI*2),t.fill();break;case"embers":const r=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size);r.addColorStop(0,`hsla(${e.hue}, 100%, 70%, ${e.opacity})`),r.addColorStop(1,`hsla(${e.hue}, 100%, 50%, 0)`),t.fillStyle=r,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill();break;default:const a=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size*2);a.addColorStop(0,`hsla(${e.hue}, 80%, 60%, ${e.opacity})`),a.addColorStop(1,`hsla(${e.hue}, 80%, 60%, 0)`),t.fillStyle=a,t.arc(e.x,e.y,e.size*2,0,Math.PI*2),t.fill();break}}const Ro=({number:t,title:e,text:n,imageSrc:r})=>b.jsxs("div",{className:"relative pl-8 border-l border-white/10 pb-8 last:pb-0 last:border-l-0",children:[b.jsx("div",{className:"absolute -left-4 top-0 w-8 h-8 rounded-full bg-slate-900 border border-accent-primary text-accent-primary font-bold flex items-center justify-center text-sm shadow-[0_0_10px_rgba(139,92,246,0.2)]",children:t}),b.jsxs("div",{className:"mb-2",children:[b.jsx("h4",{className:"text-lg font-bold text-white",children:e}),b.jsx("p",{className:"text-slate-400 text-sm mt-1",children:n})]}),r&&b.jsxs(at.div,{whileHover:{scale:1.02},className:"mt-4 rounded-xl overflow-hidden border border-white/10 shadow-2xl bg-black/40 group relative",children:[b.jsx("img",{src:r,alt:e,className:"w-full h-auto object-cover opacity-80 group-hover:opacity-100 transition-opacity duration-500"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"})]})]}),oq=()=>{const t=km();return b.jsx("div",{className:"min-h-screen bg-transparent text-white p-6 relative overflow-x-hidden pb-32",children:b.jsxs("div",{className:"max-w-5xl mx-auto",children:[b.jsxs(at.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>t("/dashboard"),className:"flex items-center gap-2 text-slate-400 hover:text-white transition-colors mb-8 group",children:[b.jsx(hB,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),"Back to App"]}),b.jsxs("div",{className:"text-center mb-16",children:[b.jsx(at.div,{initial:{scale:0},animate:{scale:1},className:"inline-flex items-center justify-center w-20 h-20 rounded-3xl bg-gradient-to-br from-accent-primary to-accent-secondary mb-6 shadow-2xl shadow-accent-primary/20",children:b.jsx(xm,{size:40,className:"text-white"})}),b.jsxs(at.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl sm:text-5xl font-extrabold mb-4",children:["How to Play ",b.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent",children:"Bingo"})]}),b.jsx(at.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-xl text-slate-400 max-w-2xl mx-auto",children:"A step-by-step guide to turning your 2026 goals into a social game."})]}),b.jsxs("div",{className:"grid gap-12",children:[b.jsxs(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[b.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[b.jsx("div",{className:"p-3 bg-blue-500/20 rounded-xl text-blue-400",children:b.jsx(oh,{size:32})}),b.jsx("h2",{className:"text-3xl font-bold",children:"1. Creating a Board"})]}),b.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-8 backdrop-blur-sm",children:[b.jsx(Ro,{number:1,title:"Start from Dashboard",text:"Click the 'Create Board' button on your dashboard. You can choose to start fresh or use a template (like 'Self Care' or 'Travel').",imageSrc:"/assets/help/dashboard.png"}),b.jsx(Ro,{number:2,title:"Customize Setup",text:"Give your board a name (e.g., '2026 Goals') and choose a Grid Size. 3x3 is great for quick games, while 5x5 is the classic challenge."}),b.jsx(Ro,{number:3,title:"Fill Your Tiles",text:"The most fun part! Fill in each tile with a specific goal. You can drag to reorder or click 'Shuffle' to mix them up.",imageSrc:"/assets/help/grid.png"}),b.jsx(Ro,{number:4,title:"Lock & Play",text:"When you're happy, click 'Go Live'. This locks the grid structure so you can start marking progress."})]})]}),b.jsxs(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[b.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[b.jsx("div",{className:"p-3 bg-green-500/20 rounded-xl text-green-400",children:b.jsx(XB,{size:32})}),b.jsx("h2",{className:"text-3xl font-bold",children:"2. Playing & Tracking"})]}),b.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-8 backdrop-blur-sm",children:[b.jsx(Ro,{number:1,title:"Tap to Interact",text:"Tap any tile on your board. If it's a '1-time' goal, you can complete it instantly. For multi-count goals (e.g., 'Read 5 Books'), you can add progress."}),b.jsx(Ro,{number:2,title:"Add Photo Proof",text:"Don't just say you did itprove it! Upload photos directly to the tile. This is great for memories later.",imageSrc:"/assets/help/modal.png"}),b.jsx(Ro,{number:3,title:"Win with Bingo!",text:"Complete a full row, column, or diagonal to get a BINGO! Watch out for the confetti celebration."})]})]}),b.jsxs(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[b.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[b.jsx("div",{className:"p-3 bg-purple-500/20 rounded-xl text-purple-400",children:b.jsx(n8,{size:32})}),b.jsx("h2",{className:"text-3xl font-bold",children:"3. Playing with Friends"})]}),b.jsx("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-8 backdrop-blur-sm",children:b.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[b.jsxs("div",{children:[b.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[b.jsx(jf,{size:20,className:"text-accent-secondary"}),"Shared Boards"]}),b.jsxs("p",{className:"text-slate-400 mb-4",children:["Invite friends to the ",b.jsx("strong",{children:"same board"}),". You all share the same grid but complete tiles individually (or together!)."]}),b.jsxs("ul",{className:"space-y-3",children:[b.jsxs("li",{className:"flex items-start gap-3",children:[b.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary mt-2"}),b.jsx("span",{className:"text-sm text-slate-300",children:'Great for couples (e.g., "Our 2026 Bucket List")'})]}),b.jsxs("li",{className:"flex items-start gap-3",children:[b.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary mt-2"}),b.jsx("span",{className:"text-sm text-slate-300",children:"Perfect for team challenges"})]})]})]}),b.jsxs("div",{children:[b.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[b.jsx(JB,{size:20,className:"text-accent-gold"}),"Competition Mode"]}),b.jsxs("p",{className:"text-slate-400 mb-4",children:["When playing on a shared board, the tile shows ",b.jsx("strong",{children:"who completed it first"}),"."]}),b.jsx("div",{className:"bg-black/40 rounded-xl p-4 border border-white/5",children:b.jsxs("div",{className:"text-center",children:[b.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Tile Status"}),b.jsx("div",{className:"mt-2 font-bold text-white",children:'"Run a Marathon"'}),b.jsx("div",{className:"text-xs text-accent-primary mt-1",children:"Completed by You"})]})})]})]})})]})]}),b.jsx("div",{className:"mt-16 text-center",children:b.jsx("button",{onClick:()=>t("/dashboard"),className:"px-8 py-4 bg-white text-bg-dark font-bold rounded-2xl text-lg hover:scale-105 transition-transform shadow-xl shadow-white/10",children:"Let's Get Started"})})]})})},lq=()=>{const{user:t,updateProfileName:e}=Wa(),[n,r]=S.useState({totalBoards:0,totalTiles:0,totalBingos:0,totalPhotos:0}),[a,l]=S.useState(!1),[c,h]=S.useState(t?.displayName||"");S.useEffect(()=>{if(!t)return;h(t.displayName||""),(async()=>{try{const g=eh(Po(oi,"boards"),th(`members.${t.uid}`,"in",["owner","editor","viewer"])),v=await Wl(g);let _=0,A=0,M=0;v.docs.forEach(D=>{const N=D.data();_++,N.items&&N.items.forEach(z=>{z.isCompleted&&!z.isFreeSpace&&A++,z.proofPhotos&&(M+=z.proofPhotos.length)})}),r({totalBoards:_,totalTiles:A,totalBingos:0,totalPhotos:M})}catch(g){console.error("Error fetching stats",g)}})()},[t]);const d=async()=>{if(!(!t||!c.trim()))try{await e(c.trim()),l(!1)}catch(m){console.error("Failed to update name",m)}};return b.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-8 animate-in fade-in duration-500",children:[b.jsxs("div",{className:"bg-gradient-to-br from-indigo-900/50 to-slate-900/50 border border-white/10 rounded-3xl p-8 mb-12 shadow-2xl relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-accent-primary/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),b.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center gap-8",children:[b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"w-32 h-32 rounded-full bg-slate-800 border-4 border-white/10 flex items-center justify-center overflow-hidden shadow-xl",children:t?.photoURL?b.jsx("img",{src:t.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):b.jsx(Tm,{size:64,className:"text-slate-500"})}),b.jsx("button",{className:"absolute bottom-0 right-0 p-2 bg-accent-primary rounded-full text-white shadow-lg hover:scale-105 transition-transform",children:b.jsx(wm,{size:16})})]}),b.jsxs("div",{className:"flex-1 text-center md:text-left",children:[b.jsx("div",{className:"mb-2",children:b.jsx("span",{className:"text-sm font-semibold text-accent-secondary uppercase tracking-wider",children:"Player Profile"})}),a?b.jsxs("div",{className:"flex items-center gap-3 justify-center md:justify-start",children:[b.jsx("input",{value:c,onChange:m=>h(m.target.value),className:"bg-black/30 border border-white/20 rounded-lg px-4 py-2 text-2xl font-bold text-white outline-none focus:border-accent-primary w-full max-w-xs",autoFocus:!0}),b.jsx("button",{onClick:d,className:"p-2 bg-green-500/20 text-green-400 rounded-lg hover:bg-green-500/30",children:b.jsx(Cr,{size:24})})]}):b.jsxs("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center justify-center md:justify-start gap-3 group",children:[t?.displayName||"Bingo Player",b.jsx("button",{onClick:()=>l(!0),className:"opacity-0 group-hover:opacity-100 transition-opacity text-slate-400 hover:text-white",children:b.jsx(Fu,{size:20})})]}),b.jsx("p",{className:"text-slate-400",children:t?.email}),b.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Joined January 2026"})]})]})]}),b.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[b.jsx(bm,{className:"text-accent-gold"})," Lifetime Stats"]}),b.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[b.jsx(xf,{label:"Active Boards",value:n.totalBoards,icon:b.jsx(RB,{size:24,className:"text-violet-400"}),delay:0}),b.jsx(xf,{label:"Tiles Completed",value:n.totalTiles,icon:b.jsx(Cr,{size:24,className:"text-emerald-400"}),delay:.1}),b.jsx(xf,{label:"Bingos Won",value:"--",icon:b.jsx(bm,{size:24,className:"text-amber-400"}),delay:.2}),b.jsx(xf,{label:"Photos Added",value:n.totalPhotos,icon:b.jsx(wm,{size:24,className:"text-pink-400"}),delay:.3})]})]})},xf=({label:t,value:e,icon:n,delay:r})=>b.jsxs(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r},className:"bg-white/5 border border-white/10 p-6 rounded-2xl flex flex-col items-center justify-center text-center hover:bg-white/10 transition-colors",children:[b.jsx("div",{className:"mb-3 p-3 bg-white/5 rounded-full",children:n}),b.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:e}),b.jsx("div",{className:"text-sm text-slate-400 font-medium uppercase tracking-wide",children:t})]}),_f=({children:t})=>{const{logout:e,user:n}=Wa(),{openSettings:r,settings:a,updateSettings:l}=cp(),[c,h]=St.useState(!1),d=Gs();St.useEffect(()=>{h(!1)},[d.pathname]);const m=[{label:"Dashboard",path:"/dashboard",icon:eI},{label:"Profile",path:"/profile",icon:Tm},{label:"Help & Guide",path:"/help",icon:ZN}];return b.jsxs("div",{className:"min-h-screen bg-transparent text-slate-200 flex",children:[c&&b.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden backdrop-blur-sm",onClick:()=>h(!1)}),b.jsxs("aside",{className:ft("fixed inset-y-0 left-0 z-50 w-64 bg-[var(--theme-bg-subtle)] border-r border-[var(--theme-border)] transform transition-transform duration-200 lg:translate-x-0 lg:static flex flex-col",c?"translate-x-0":"-translate-x-full"),children:[b.jsx("div",{className:"h-16 flex items-center px-6 border-b border-[var(--theme-border)] shrink-0",children:b.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-8 w-auto"})}),b.jsxs("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:[b.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2 px-3",children:"Menu"}),m.map(g=>b.jsxs(bA,{to:g.path,className:({isActive:v})=>ft("flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",v?"bg-[var(--theme-accent-primary)]/10 text-[var(--theme-accent-primary)]":"text-slate-400 hover:text-slate-100 hover:bg-white/5"),children:[b.jsx(g.icon,{size:18}),g.label]},g.path)),b.jsxs("button",{onClick:r,className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium text-slate-400 hover:text-slate-100 hover:bg-white/5 transition-colors",children:[b.jsx(HB,{size:18}),"Settings"]}),b.jsxs("div",{className:"px-3 py-3 border-t border-white/5 mt-2",children:[b.jsx("div",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider mb-3",children:"Theme"}),b.jsx("div",{className:"flex justify-between gap-1",children:[{id:"light",color:"bg-slate-200 ring-1 ring-slate-400"},{id:"dawn",color:"bg-orange-400"},{id:"midnight",color:"bg-indigo-500"},{id:"cosmic",color:"bg-violet-500"},{id:"lavender",color:"bg-fuchsia-500"},{id:"forest",color:"bg-emerald-500"},{id:"ocean",color:"bg-cyan-500"},{id:"sunset",color:"bg-rose-500"}].map(g=>b.jsx("button",{onClick:()=>l({theme:g.id}),className:ft("w-6 h-6 rounded-full transition-all duration-300 relative",g.color,a.theme===g.id?"ring-2 ring-white ring-offset-2 ring-offset-[var(--theme-bg-subtle)] scale-110 z-10":"opacity-40 hover:opacity-100 hover:scale-105"),title:g.id},g.id))})]})]}),b.jsxs("div",{className:"p-4 border-t border-[var(--theme-border)] bg-[var(--theme-bg-subtle)] shrink-0",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-4 px-2",children:[n?.photoURL?b.jsx("img",{src:n.photoURL,className:"w-8 h-8 rounded-full bg-slate-800 object-cover",alt:"User"}):b.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-800 flex items-center justify-center",children:b.jsx(Tm,{size:14,className:"text-slate-400"})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("p",{className:"text-sm font-medium text-white truncate",children:n?.displayName||"User"}),b.jsx("p",{className:"text-xs text-slate-500 truncate",children:n?.email})]})]}),b.jsxs("button",{onClick:e,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-slate-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:[b.jsx(tI,{size:16}),"Sign Out"]})]})]}),b.jsxs("main",{className:"flex-1 min-w-0 flex flex-col h-screen overflow-hidden bg-transparent relative",children:[b.jsxs("header",{className:"h-16 flex items-center justify-between px-4 lg:hidden border-b border-[var(--theme-border)] bg-[var(--theme-bg-subtle)] shrink-0",children:[b.jsx("button",{onClick:()=>h(!0),className:"p-2 text-slate-400",children:b.jsx(PB,{size:24})}),b.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-8 w-auto"}),b.jsx("div",{className:"w-8"})," "]}),b.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-4 sm:p-6 lg:p-8",children:b.jsx("div",{className:"max-w-7xl mx-auto h-full",children:t})})]})]})},cq=()=>{const{user:t,loading:e}=Wa();return e?b.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-bg-dark text-slate-500",children:"Initializing..."}):b.jsxs(b.Fragment,{children:[b.jsx(iq,{}),b.jsx(aP,{}),b.jsx("div",{className:"relative z-10 min-h-screen",children:b.jsx(QM,{children:b.jsxs(CM,{children:[b.jsx(Rs,{path:"/login",element:t?b.jsx(Eo,{to:"/dashboard",replace:!0}):b.jsx(eF,{})}),b.jsx(Rs,{path:"/help",element:b.jsx(oq,{})}),b.jsx(Rs,{path:"/dashboard",element:t?b.jsx(_f,{children:b.jsx(nq,{})}):b.jsx(Eo,{to:"/login",replace:!0})}),b.jsx(Rs,{path:"/profile",element:t?b.jsx(_f,{children:b.jsx(lq,{})}):b.jsx(Eo,{to:"/login",replace:!0})}),b.jsx(Rs,{path:"/board/legacy/:yearId",element:t?b.jsx(_f,{children:b.jsx(ZS,{})}):b.jsx(Eo,{to:"/login",replace:!0})}),b.jsx(Rs,{path:"/board/:boardId",element:t?b.jsx(_f,{children:b.jsx(ZS,{})}):b.jsx(Eo,{to:"/login",replace:!0})}),b.jsx(Rs,{path:"/",element:b.jsx(Eo,{to:t?"/dashboard":"/login",replace:!0})}),b.jsx(Rs,{path:"*",element:b.jsx(Eo,{to:t?"/dashboard":"/login",replace:!0})})]})})})]})};function uq(){return b.jsx(TL,{children:b.jsx(Z8,{children:b.jsx(l8,{children:b.jsx(cq,{})})})})}console.log("Main.tsx full run");const eA=document.getElementById("root");eA?Nk.createRoot(eA).render(b.jsx(S.StrictMode,{children:b.jsx(uq,{})})):console.error("Root not found");export{Va as C,as as F,Om as _,Sn as a,SA as b,zo as c,or as d,rp as e,m0 as g,Ho as i,u0 as p,Wr as r,h0 as u};
