(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function QI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tg={exports:{}},Uu={};var HT;function XI(){if(HT)return Uu;HT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Uu.Fragment=e,Uu.jsx=n,Uu.jsxs=n,Uu}var qT;function WI(){return qT||(qT=1,tg.exports=XI()),tg.exports}var x=WI(),ng={exports:{}},Pe={};var GT;function ZI(){if(GT)return Pe;GT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),E=Symbol.iterator;function D(S){return S===null||typeof S!="object"?null:(S=E&&S[E]||S["@@iterator"],typeof S=="function"?S:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,k={};function B(S,K,ee){this.props=S,this.context=K,this.refs=k,this.updater=ee||L}B.prototype.isReactComponent={},B.prototype.setState=function(S,K){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,K,"setState")},B.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function q(){}q.prototype=B.prototype;function H(S,K,ee){this.props=S,this.context=K,this.refs=k,this.updater=ee||L}var ue=H.prototype=new q;ue.constructor=H,V(ue,B.prototype),ue.isPureReactComponent=!0;var ae=Array.isArray;function me(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(S,K,ee){var ie=ee.ref;return{$$typeof:t,type:S,key:K,ref:ie!==void 0?ie:null,props:ee}}function N(S,K){return C(S.type,K,S.props)}function M(S){return typeof S=="object"&&S!==null&&S.$$typeof===t}function U(S){var K={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(ee){return K[ee]})}var O=/\/+/g;function He(S,K){return typeof S=="object"&&S!==null&&S.key!=null?U(""+S.key):K.toString(36)}function Ke(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(me,me):(S.status="pending",S.then(function(K){S.status==="pending"&&(S.status="fulfilled",S.value=K)},function(K){S.status==="pending"&&(S.status="rejected",S.reason=K)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function Z(S,K,ee,ie,de){var pe=typeof S;(pe==="undefined"||pe==="boolean")&&(S=null);var fe=!1;if(S===null)fe=!0;else switch(pe){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(S.$$typeof){case t:case e:fe=!0;break;case y:return fe=S._init,Z(fe(S._payload),K,ee,ie,de)}}if(fe)return de=de(S),fe=ie===""?"."+He(S,0):ie,ae(de)?(ee="",fe!=null&&(ee=fe.replace(O,"$&/")+"/"),Z(de,K,ee,"",function(Le){return Le})):de!=null&&(M(de)&&(de=N(de,ee+(de.key==null||S&&S.key===de.key?"":(""+de.key).replace(O,"$&/")+"/")+fe)),K.push(de)),1;fe=0;var be=ie===""?".":ie+":";if(ae(S))for(var xe=0;xe<S.length;xe++)ie=S[xe],pe=be+He(ie,xe),fe+=Z(ie,K,ee,pe,de);else if(xe=D(S),typeof xe=="function")for(S=xe.call(S),xe=0;!(ie=S.next()).done;)ie=ie.value,pe=be+He(ie,xe++),fe+=Z(ie,K,ee,pe,de);else if(pe==="object"){if(typeof S.then=="function")return Z(Ke(S),K,ee,ie,de);throw K=String(S),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return fe}function he(S,K,ee){if(S==null)return S;var ie=[],de=0;return Z(S,ie,"","",function(pe){return K.call(ee,pe,de++)}),ie}function re(S){if(S._status===-1){var K=S._result;K=K(),K.then(function(ee){(S._status===0||S._status===-1)&&(S._status=1,S._result=ee)},function(ee){(S._status===0||S._status===-1)&&(S._status=2,S._result=ee)}),S._status===-1&&(S._status=0,S._result=K)}if(S._status===1)return S._result.default;throw S._result}var De=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},F={map:he,forEach:function(S,K,ee){he(S,function(){K.apply(this,arguments)},ee)},count:function(S){var K=0;return he(S,function(){K++}),K},toArray:function(S){return he(S,function(K){return K})||[]},only:function(S){if(!M(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return Pe.Activity=v,Pe.Children=F,Pe.Component=B,Pe.Fragment=n,Pe.Profiler=a,Pe.PureComponent=H,Pe.StrictMode=s,Pe.Suspense=m,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(S){return R.H.useMemoCache(S)}},Pe.cache=function(S){return function(){return S.apply(null,arguments)}},Pe.cacheSignal=function(){return null},Pe.cloneElement=function(S,K,ee){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var ie=V({},S.props),de=S.key;if(K!=null)for(pe in K.key!==void 0&&(de=""+K.key),K)!w.call(K,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&K.ref===void 0||(ie[pe]=K[pe]);var pe=arguments.length-2;if(pe===1)ie.children=ee;else if(1<pe){for(var fe=Array(pe),be=0;be<pe;be++)fe[be]=arguments[be+2];ie.children=fe}return C(S.type,de,ie)},Pe.createContext=function(S){return S={$$typeof:c,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:l,_context:S},S},Pe.createElement=function(S,K,ee){var ie,de={},pe=null;if(K!=null)for(ie in K.key!==void 0&&(pe=""+K.key),K)w.call(K,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(de[ie]=K[ie]);var fe=arguments.length-2;if(fe===1)de.children=ee;else if(1<fe){for(var be=Array(fe),xe=0;xe<fe;xe++)be[xe]=arguments[xe+2];de.children=be}if(S&&S.defaultProps)for(ie in fe=S.defaultProps,fe)de[ie]===void 0&&(de[ie]=fe[ie]);return C(S,pe,de)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(S){return{$$typeof:d,render:S}},Pe.isValidElement=M,Pe.lazy=function(S){return{$$typeof:y,_payload:{_status:-1,_result:S},_init:re}},Pe.memo=function(S,K){return{$$typeof:p,type:S,compare:K===void 0?null:K}},Pe.startTransition=function(S){var K=R.T,ee={};R.T=ee;try{var ie=S(),de=R.S;de!==null&&de(ee,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(me,De)}catch(pe){De(pe)}finally{K!==null&&ee.types!==null&&(K.types=ee.types),R.T=K}},Pe.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Pe.use=function(S){return R.H.use(S)},Pe.useActionState=function(S,K,ee){return R.H.useActionState(S,K,ee)},Pe.useCallback=function(S,K){return R.H.useCallback(S,K)},Pe.useContext=function(S){return R.H.useContext(S)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(S,K){return R.H.useDeferredValue(S,K)},Pe.useEffect=function(S,K){return R.H.useEffect(S,K)},Pe.useEffectEvent=function(S){return R.H.useEffectEvent(S)},Pe.useId=function(){return R.H.useId()},Pe.useImperativeHandle=function(S,K,ee){return R.H.useImperativeHandle(S,K,ee)},Pe.useInsertionEffect=function(S,K){return R.H.useInsertionEffect(S,K)},Pe.useLayoutEffect=function(S,K){return R.H.useLayoutEffect(S,K)},Pe.useMemo=function(S,K){return R.H.useMemo(S,K)},Pe.useOptimistic=function(S,K){return R.H.useOptimistic(S,K)},Pe.useReducer=function(S,K,ee){return R.H.useReducer(S,K,ee)},Pe.useRef=function(S){return R.H.useRef(S)},Pe.useState=function(S){return R.H.useState(S)},Pe.useSyncExternalStore=function(S,K,ee){return R.H.useSyncExternalStore(S,K,ee)},Pe.useTransition=function(){return R.H.useTransition()},Pe.version="19.2.3",Pe}var KT;function Fy(){return KT||(KT=1,ng.exports=ZI()),ng.exports}var P=Fy();const JI=QI(P);var ig={exports:{}},zu={},sg={exports:{}},rg={};var $T;function eD(){return $T||($T=1,(function(t){function e(Z,he){var re=Z.length;Z.push(he);e:for(;0<re;){var De=re-1>>>1,F=Z[De];if(0<a(F,he))Z[De]=he,Z[re]=F,re=De;else break e}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var he=Z[0],re=Z.pop();if(re!==he){Z[0]=re;e:for(var De=0,F=Z.length,S=F>>>1;De<S;){var K=2*(De+1)-1,ee=Z[K],ie=K+1,de=Z[ie];if(0>a(ee,re))ie<F&&0>a(de,ee)?(Z[De]=de,Z[ie]=re,De=ie):(Z[De]=ee,Z[K]=re,De=K);else if(ie<F&&0>a(de,re))Z[De]=de,Z[ie]=re,De=ie;else break e}}return he}function a(Z,he){var re=Z.sortIndex-he.sortIndex;return re!==0?re:Z.id-he.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var m=[],p=[],y=1,v=null,E=3,D=!1,L=!1,V=!1,k=!1,B=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function ue(Z){for(var he=n(p);he!==null;){if(he.callback===null)s(p);else if(he.startTime<=Z)s(p),he.sortIndex=he.expirationTime,e(m,he);else break;he=n(p)}}function ae(Z){if(V=!1,ue(Z),!L)if(n(m)!==null)L=!0,me||(me=!0,U());else{var he=n(p);he!==null&&Ke(ae,he.startTime-Z)}}var me=!1,R=-1,w=5,C=-1;function N(){return k?!0:!(t.unstable_now()-C<w)}function M(){if(k=!1,me){var Z=t.unstable_now();C=Z;var he=!0;try{e:{L=!1,V&&(V=!1,q(R),R=-1),D=!0;var re=E;try{t:{for(ue(Z),v=n(m);v!==null&&!(v.expirationTime>Z&&N());){var De=v.callback;if(typeof De=="function"){v.callback=null,E=v.priorityLevel;var F=De(v.expirationTime<=Z);if(Z=t.unstable_now(),typeof F=="function"){v.callback=F,ue(Z),he=!0;break t}v===n(m)&&s(m),ue(Z)}else s(m);v=n(m)}if(v!==null)he=!0;else{var S=n(p);S!==null&&Ke(ae,S.startTime-Z),he=!1}}break e}finally{v=null,E=re,D=!1}he=void 0}}finally{he?U():me=!1}}}var U;if(typeof H=="function")U=function(){H(M)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,He=O.port2;O.port1.onmessage=M,U=function(){He.postMessage(null)}}else U=function(){B(M,0)};function Ke(Z,he){R=B(function(){Z(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(Z){switch(E){case 1:case 2:case 3:var he=3;break;default:he=E}var re=E;E=he;try{return Z()}finally{E=re}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(Z,he){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var re=E;E=Z;try{return he()}finally{E=re}},t.unstable_scheduleCallback=function(Z,he,re){var De=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?De+re:De):re=De,Z){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=re+F,Z={id:y++,callback:he,priorityLevel:Z,startTime:re,expirationTime:F,sortIndex:-1},re>De?(Z.sortIndex=re,e(p,Z),n(m)===null&&Z===n(p)&&(V?(q(R),R=-1):V=!0,Ke(ae,re-De))):(Z.sortIndex=F,e(m,Z),L||D||(L=!0,me||(me=!0,U()))),Z},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(Z){var he=E;return function(){var re=E;E=he;try{return Z.apply(this,arguments)}finally{E=re}}}})(rg)),rg}var YT;function tD(){return YT||(YT=1,sg.exports=eD()),sg.exports}var ag={exports:{}},Sn={};var QT;function nD(){if(QT)return Sn;QT=1;var t=Fy();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:m,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Sn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},Sn.flushSync=function(m){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=y,s.d.f()}},Sn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},Sn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Sn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,v=d(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,D=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:D}):y==="script"&&s.d.X(m,{crossOrigin:v,integrity:E,fetchPriority:D,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Sn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},Sn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=d(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Sn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},Sn.requestFormReset=function(m){s.d.r(m)},Sn.unstable_batchedUpdates=function(m,p){return m(p)},Sn.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},Sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Sn.version="19.2.3",Sn}var XT;function iD(){if(XT)return ag.exports;XT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ag.exports=nD(),ag.exports}var WT;function sD(){if(WT)return zu;WT=1;var t=tD(),e=Fy(),n=iD();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return m(f),i;if(g===u)return m(f),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=g;else{for(var b=!1,A=f.child;A;){if(A===o){b=!0,o=f,u=g;break}if(A===u){b=!0,u=f,o=g;break}A=A.sibling}if(!b){for(A=g.child;A;){if(A===o){b=!0,o=g,u=f;break}if(A===u){b=!0,u=g,o=f;break}A=A.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),H=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=M&&i[M]||i["@@iterator"],typeof i=="function"?i:null)}var O=Symbol.for("react.client.reference");function He(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===O?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case V:return"Fragment";case B:return"Profiler";case k:return"StrictMode";case ae:return"Suspense";case me:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case L:return"Portal";case H:return i.displayName||"Context";case q:return(i._context.displayName||"Context")+".Consumer";case ue:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return r=i.displayName||null,r!==null?r:He(i.type)||"Memo";case w:r=i._payload,i=i._init;try{return He(i(r))}catch{}}return null}var Ke=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},De=[],F=-1;function S(i){return{current:i}}function K(i){0>F||(i.current=De[F],De[F]=null,F--)}function ee(i,r){F++,De[F]=i.current,i.current=r}var ie=S(null),de=S(null),pe=S(null),fe=S(null);function be(i,r){switch(ee(pe,r),ee(de,i),ee(ie,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?fT(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=fT(r),i=dT(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}K(ie),ee(ie,i)}function xe(){K(ie),K(de),K(pe)}function Le(i){i.memoizedState!==null&&ee(fe,i);var r=ie.current,o=dT(r,i.type);r!==o&&(ee(de,i),ee(ie,o))}function je(i){de.current===i&&(K(ie),K(de)),fe.current===i&&(K(fe),Pu._currentValue=re)}var $e,vt;function Me(i){if($e===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);$e=r&&r[1]||"",vt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$e+i+vt}var Et=!1;function qe(i,r){if(!i||Et)return"";Et=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(te){var X=te}Reflect.construct(i,[],oe)}else{try{oe.call()}catch(te){X=te}i.call(oe.prototype)}}else{try{throw Error()}catch(te){X=te}(oe=i())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(te){if(te&&X&&typeof te.stack=="string")return[te.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],A=g[1];if(b&&A){var j=b.split(`
`),Q=A.split(`
`);for(f=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;f<Q.length&&!Q[f].includes("DetermineComponentFrameRoot");)f++;if(u===j.length||f===Q.length)for(u=j.length-1,f=Q.length-1;1<=u&&0<=f&&j[u]!==Q[f];)f--;for(;1<=u&&0<=f;u--,f--)if(j[u]!==Q[f]){if(u!==1||f!==1)do if(u--,f--,0>f||j[u]!==Q[f]){var ne=`
`+j[u].replace(" at new "," at ");return i.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",i.displayName)),ne}while(1<=u&&0<=f);break}}}finally{Et=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Me(o):""}function Dt(i,r){switch(i.tag){case 26:case 27:case 5:return Me(i.type);case 16:return Me("Lazy");case 13:return i.child!==r&&r!==null?Me("Suspense Fallback"):Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return qe(i.type,!1);case 11:return qe(i.type.render,!1);case 1:return qe(i.type,!0);case 31:return Me("Activity");default:return""}}function un(i){try{var r="",o=null;do r+=Dt(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var st=Object.prototype.hasOwnProperty,tt=t.unstable_scheduleCallback,wn=t.unstable_cancelCallback,fr=t.unstable_shouldYield,Ns=t.unstable_requestPaint,Nt=t.unstable_now,Ci=t.unstable_getCurrentPriorityLevel,Ri=t.unstable_ImmediatePriority,ks=t.unstable_UserBlockingPriority,Kn=t.unstable_NormalPriority,Qi=t.unstable_LowPriority,Ii=t.unstable_IdlePriority,Xi=t.log,dr=t.unstable_setDisableYieldValue,Dn=null,nn=null;function On(i){if(typeof Xi=="function"&&dr(i),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(Dn,i)}catch{}}var Ot=Math.clz32?Math.clz32:mr,ba=Math.log,Wi=Math.LN2;function mr(i){return i>>>=0,i===0?32:31-(ba(i)/Wi|0)|0}var ai=256,W=262144,Ee=4194304;function bt(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function At(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var A=u&134217727;return A!==0?(u=A&~g,u!==0?f=bt(u):(b&=A,b!==0?f=bt(b):o||(o=A&~i,o!==0&&(f=bt(o))))):(A=u&~g,A!==0?f=bt(A):b!==0?f=bt(b):o||(o=u&~i,o!==0&&(f=bt(o)))),f===0?0:r!==0&&r!==f&&(r&g)===0&&(g=f&-f,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:f}function zt(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Zi(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Di(){var i=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),i}function $n(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Ta(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function am(i,r,o,u,f,g){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,j=i.expirationTimes,Q=i.hiddenUpdates;for(o=b&~o;0<o;){var ne=31-Ot(o),oe=1<<ne;A[ne]=0,j[ne]=-1;var X=Q[ne];if(X!==null)for(Q[ne]=null,ne=0;ne<X.length;ne++){var te=X[ne];te!==null&&(te.lane&=-536870913)}o&=~oe}u!==0&&Ea(i,u,0),g!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~r))}function Ea(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Ot(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function zl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-Ot(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function Bl(i,r){var o=r&-r;return o=(o&42)!==0?1:wa(o),(o&(i.suspendedLanes|r))!==0?0:o}function wa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ms(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function $c(){var i=he.p;return i!==0?i:(i=window.event,i===void 0?32:OT(i.type))}function Ni(i,r){var o=he.p;try{return he.p=i,r()}finally{he.p=o}}var ki=Math.random().toString(36).slice(2),Gt="__reactFiber$"+ki,cn="__reactProps$"+ki,Ji="__reactContainer$"+ki,go="__reactEvents$"+ki,om="__reactListeners$"+ki,Yc="__reactHandles$"+ki,Qc="__reactResources$"+ki,es="__reactMarker$"+ki;function yo(i){delete i[Gt],delete i[cn],delete i[go],delete i[om],delete i[Yc]}function ts(i){var r=i[Gt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ji]||o[Gt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=bT(i);i!==null;){if(o=i[Gt])return o;i=bT(i)}return r}i=o,o=i.parentNode}return null}function oi(i){if(i=i[Gt]||i[Ji]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Yn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function ns(i){var r=i[Qc];return r||(r=i[Qc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Kt(i){i[es]=!0}var Fl=new Set,Hl={};function is(i,r){ss(i,r),ss(i+"Capture",r)}function ss(i,r){for(Hl[i]=r,i=0;i<r.length;i++)Fl.add(r[i])}var ql=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gl={},Kl={};function Xc(i){return st.call(Kl,i)?!0:st.call(Gl,i)?!1:ql.test(i)?Kl[i]=!0:(Gl[i]=!0,!1)}function vo(i,r,o){if(Xc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Qn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function $t(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function hn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function pr(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function $l(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,g=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(b){o=""+b,g.call(this,b)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function ct(i){if(!i._valueTracker){var r=pr(i)?"checked":"value";i._valueTracker=$l(i,r,""+i[r])}}function Sa(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=pr(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function rs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var xa=/[\n"\\]/g;function Ln(i){return i.replace(xa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function _o(i,r,o,u,f,g,b,A){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),r!=null?b==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+hn(r)):i.value!==""+hn(r)&&(i.value=""+hn(r)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),r!=null?Yl(i,b,hn(r)):o!=null?Yl(i,b,hn(o)):u!=null&&i.removeAttribute("value"),f==null&&g!=null&&(i.defaultChecked=!!g),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+hn(A):i.removeAttribute("name")}function Wc(i,r,o,u,f,g,b,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){ct(i);return}o=o!=null?""+hn(o):"",r=r!=null?""+hn(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=A?i.checked:!!u,i.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b),ct(i)}function Yl(i,r,o){r==="number"&&rs(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function gr(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+hn(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Zc(i,r,o){if(r!=null&&(r=""+hn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+hn(o):""}function yr(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(Ke(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=hn(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),ct(i)}function jn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Jc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ql(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Jc.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Xl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&Ql(i,f,u)}else for(var g in r)r.hasOwnProperty(g)&&Ql(i,g,r[g])}function bo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function To(i){return vr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Mi(){}var Wl=null;function li(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var _r=null,as=null;function Aa(i){var r=oi(i);if(r&&(i=r.stateNode)){var o=i[cn]||null;e:switch(i=r.stateNode,r.type){case"input":if(_o(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ln(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[cn]||null;if(!f)throw Error(s(90));_o(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&Sa(u)}break e;case"textarea":Zc(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&gr(i,!!o.multiple,r,!1)}}}var Eo=!1;function br(i,r,o){if(Eo)return i(r,o);Eo=!0;try{var u=i(r);return u}finally{if(Eo=!1,(_r!==null||as!==null)&&($h(),_r&&(r=_r,i=as,as=_r=null,Aa(r),i)))for(r=0;r<i.length;r++)Aa(i[r])}}function Vi(i,r){var o=i.stateNode;if(o===null)return null;var u=o[cn]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ca=!1;if(ui)try{var dt={};Object.defineProperty(dt,"passive",{get:function(){Ca=!0}}),window.addEventListener("test",dt,dt),window.removeEventListener("test",dt,dt)}catch{Ca=!1}var os=null,Zl=null,Ra=null;function Jl(){if(Ra)return Ra;var i,r=Zl,o=r.length,u,f="value"in os?os.value:os.textContent,g=f.length;for(i=0;i<o&&r[i]===f[i];i++);var b=o-i;for(u=1;u<=b&&r[o-u]===f[g-u];u++);return Ra=f.slice(i,1<u?1-u:void 0)}function Ia(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Vs(){return!0}function Pi(){return!1}function gn(i){function r(o,u,f,g,b){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Vs:Pi,this.isPropagationStopped=Pi,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Vs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Vs)},persist:function(){},isPersistent:Vs}),r}var Ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ls=gn(Ps),Tr=v({},Ps,{view:0,detail:0}),eu=gn(Tr),Er,wo,us,So=v({},Tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==us&&(us&&i.type==="mousemove"?(Er=i.screenX-us.screenX,wo=i.screenY-us.screenY):wo=Er=0,us=i),Er)},movementY:function(i){return"movementY"in i?i.movementY:wo}}),tu=gn(So),Da=v({},So,{dataTransfer:0}),th=gn(Da),nh=v({},Tr,{relatedTarget:0}),Na=gn(nh),nu=v({},Ps,{animationName:0,elapsedTime:0,pseudoElement:0}),ih=gn(nu),xo=v({},Ps,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),sh=gn(xo),rh=v({},Ps,{data:0}),cs=gn(rh),ah={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=lh[i])?!!r[i]:!1}function wr(){return uh}var Nn=v({},Tr,{key:function(i){if(i.key){var r=ah[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Ia(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?oh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wr,charCode:function(i){return i.type==="keypress"?Ia(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ia(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ch=gn(Nn),hh=v({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Os=gn(hh),h=v({},Tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wr}),_=gn(h),T=v({},Ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=gn(T),$=v({},So,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),J=gn($),ge=v({},Ps,{newState:0,oldState:0}),Ue=gn(ge),Bt=[9,13,27,32],ot=ui&&"CompositionEvent"in window,Ct=null;ui&&"documentMode"in document&&(Ct=document.documentMode);var ci=ui&&"TextEvent"in window&&!Ct,hs=ui&&(!ot||Ct&&8<Ct&&11>=Ct),Oi=" ",Li=!1;function ka(i,r){switch(i){case"keyup":return Bt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ao(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Co=!1;function _2(i,r){switch(i){case"compositionend":return Ao(r);case"keypress":return r.which!==32?null:(Li=!0,Oi);case"textInput":return i=r.data,i===Oi&&Li?null:i;default:return null}}function b2(i,r){if(Co)return i==="compositionend"||!ot&&ka(i,r)?(i=Jl(),Ra=Zl=os=null,Co=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return hs&&r.locale!=="ko"?null:r.data;default:return null}}var T2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w0(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!T2[i.type]:r==="textarea"}function S0(i,r,o,u){_r?as?as.push(u):as=[u]:_r=u,r=ef(r,"onChange"),0<r.length&&(o=new ls("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var iu=null,su=null;function E2(i){aT(i,0)}function fh(i){var r=Yn(i);if(Sa(r))return i}function x0(i,r){if(i==="change")return r}var A0=!1;if(ui){var lm;if(ui){var um="oninput"in document;if(!um){var C0=document.createElement("div");C0.setAttribute("oninput","return;"),um=typeof C0.oninput=="function"}lm=um}else lm=!1;A0=lm&&(!document.documentMode||9<document.documentMode)}function R0(){iu&&(iu.detachEvent("onpropertychange",I0),su=iu=null)}function I0(i){if(i.propertyName==="value"&&fh(su)){var r=[];S0(r,su,i,li(i)),br(E2,r)}}function w2(i,r,o){i==="focusin"?(R0(),iu=r,su=o,iu.attachEvent("onpropertychange",I0)):i==="focusout"&&R0()}function S2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return fh(su)}function x2(i,r){if(i==="click")return fh(r)}function A2(i,r){if(i==="input"||i==="change")return fh(r)}function C2(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Xn=typeof Object.is=="function"?Object.is:C2;function ru(i,r){if(Xn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!st.call(r,f)||!Xn(i[f],r[f]))return!1}return!0}function D0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function N0(i,r){var o=D0(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=D0(o)}}function k0(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?k0(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function M0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=rs(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=rs(i.document)}return r}function cm(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var R2=ui&&"documentMode"in document&&11>=document.documentMode,Ro=null,hm=null,au=null,fm=!1;function V0(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;fm||Ro==null||Ro!==rs(u)||(u=Ro,"selectionStart"in u&&cm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),au&&ru(au,u)||(au=u,u=ef(hm,"onSelect"),0<u.length&&(r=new ls("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=Ro)))}function Ma(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Io={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},dm={},P0={};ui&&(P0=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function Va(i){if(dm[i])return dm[i];if(!Io[i])return i;var r=Io[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in P0)return dm[i]=r[o];return i}var O0=Va("animationend"),L0=Va("animationiteration"),j0=Va("animationstart"),I2=Va("transitionrun"),D2=Va("transitionstart"),N2=Va("transitioncancel"),U0=Va("transitionend"),z0=new Map,mm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mm.push("scrollEnd");function ji(i,r){z0.set(i,r),is(r,[i])}var dh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},hi=[],Do=0,pm=0;function mh(){for(var i=Do,r=pm=Do=0;r<i;){var o=hi[r];hi[r++]=null;var u=hi[r];hi[r++]=null;var f=hi[r];hi[r++]=null;var g=hi[r];if(hi[r++]=null,u!==null&&f!==null){var b=u.pending;b===null?f.next=f:(f.next=b.next,b.next=f),u.pending=f}g!==0&&B0(o,f,g)}}function ph(i,r,o,u){hi[Do++]=i,hi[Do++]=r,hi[Do++]=o,hi[Do++]=u,pm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function gm(i,r,o,u){return ph(i,r,o,u),gh(i)}function Pa(i,r){return ph(i,null,null,r),gh(i)}function B0(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(f=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,f&&r!==null&&(f=31-Ot(o),i=g.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),g):null}function gh(i){if(50<Ru)throw Ru=0,xp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var No={};function k2(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(i,r,o,u){return new k2(i,r,o,u)}function ym(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ls(i,r){var o=i.alternate;return o===null?(o=Wn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function F0(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function yh(i,r,o,u,f,g){var b=0;if(u=i,typeof i=="function")ym(i)&&(b=1);else if(typeof i=="string")b=LI(i,o,ie.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case C:return i=Wn(31,o,r,f),i.elementType=C,i.lanes=g,i;case V:return Oa(o.children,f,g,r);case k:b=8,f|=24;break;case B:return i=Wn(12,o,r,f|2),i.elementType=B,i.lanes=g,i;case ae:return i=Wn(13,o,r,f),i.elementType=ae,i.lanes=g,i;case me:return i=Wn(19,o,r,f),i.elementType=me,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case H:b=10;break e;case q:b=9;break e;case ue:b=11;break e;case R:b=14;break e;case w:b=16,u=null;break e}b=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Wn(b,o,r,f),r.elementType=i,r.type=u,r.lanes=g,r}function Oa(i,r,o,u){return i=Wn(7,i,u,r),i.lanes=o,i}function vm(i,r,o){return i=Wn(6,i,null,r),i.lanes=o,i}function H0(i){var r=Wn(18,null,null,0);return r.stateNode=i,r}function _m(i,r,o){return r=Wn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var q0=new WeakMap;function fi(i,r){if(typeof i=="object"&&i!==null){var o=q0.get(i);return o!==void 0?o:(r={value:i,source:r,stack:un(r)},q0.set(i,r),r)}return{value:i,source:r,stack:un(r)}}var ko=[],Mo=0,vh=null,ou=0,di=[],mi=0,Sr=null,fs=1,ds="";function js(i,r){ko[Mo++]=ou,ko[Mo++]=vh,vh=i,ou=r}function G0(i,r,o){di[mi++]=fs,di[mi++]=ds,di[mi++]=Sr,Sr=i;var u=fs;i=ds;var f=32-Ot(u)-1;u&=~(1<<f),o+=1;var g=32-Ot(r)+f;if(30<g){var b=f-f%5;g=(u&(1<<b)-1).toString(32),u>>=b,f-=b,fs=1<<32-Ot(r)+f|o<<f|u,ds=g+i}else fs=1<<g|o<<f|u,ds=i}function bm(i){i.return!==null&&(js(i,1),G0(i,1,0))}function Tm(i){for(;i===vh;)vh=ko[--Mo],ko[Mo]=null,ou=ko[--Mo],ko[Mo]=null;for(;i===Sr;)Sr=di[--mi],di[mi]=null,ds=di[--mi],di[mi]=null,fs=di[--mi],di[mi]=null}function K0(i,r){di[mi++]=fs,di[mi++]=ds,di[mi++]=Sr,fs=r.id,ds=r.overflow,Sr=i}var yn=null,wt=null,nt=!1,xr=null,pi=!1,Em=Error(s(519));function Ar(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw lu(fi(r,i)),Em}function $0(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Gt]=i,r[cn]=u,o){case"dialog":Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":case"embed":Qe("load",r);break;case"video":case"audio":for(o=0;o<Du.length;o++)Qe(Du[o],r);break;case"source":Qe("error",r);break;case"img":case"image":case"link":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"input":Qe("invalid",r),Wc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Qe("invalid",r);break;case"textarea":Qe("invalid",r),yr(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||cT(r.textContent,o)?(u.popover!=null&&(Qe("beforetoggle",r),Qe("toggle",r)),u.onScroll!=null&&Qe("scroll",r),u.onScrollEnd!=null&&Qe("scrollend",r),u.onClick!=null&&(r.onclick=Mi),r=!0):r=!1,r||Ar(i,!0)}function Y0(i){for(yn=i.return;yn;)switch(yn.tag){case 5:case 31:case 13:pi=!1;return;case 27:case 3:pi=!0;return;default:yn=yn.return}}function Vo(i){if(i!==yn)return!1;if(!nt)return Y0(i),nt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||zp(i.type,i.memoizedProps)),o=!o),o&&wt&&Ar(i),Y0(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));wt=_T(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));wt=_T(i)}else r===27?(r=wt,zr(i.type)?(i=Gp,Gp=null,wt=i):wt=r):wt=yn?yi(i.stateNode.nextSibling):null;return!0}function La(){wt=yn=null,nt=!1}function wm(){var i=xr;return i!==null&&(Fn===null?Fn=i:Fn.push.apply(Fn,i),xr=null),i}function lu(i){xr===null?xr=[i]:xr.push(i)}var Sm=S(null),ja=null,Us=null;function Cr(i,r,o){ee(Sm,r._currentValue),r._currentValue=o}function zs(i){i._currentValue=Sm.current,K(Sm)}function xm(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function Am(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var g=f.dependencies;if(g!==null){var b=f.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=f;for(var j=0;j<r.length;j++)if(A.context===r[j]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),xm(g.return,o,i),u||(b=null);break e}g=A.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(s(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),xm(b,o,i),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===i){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Po(i,r,o,u){i=null;for(var f=r,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var A=f.type;Xn(f.pendingProps.value,b.value)||(i!==null?i.push(A):i=[A])}}else if(f===fe.current){if(b=f.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Pu):i=[Pu])}f=f.return}i!==null&&Am(r,i,o,u),r.flags|=262144}function _h(i){for(i=i.firstContext;i!==null;){if(!Xn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ua(i){ja=i,Us=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function vn(i){return Q0(ja,i)}function bh(i,r){return ja===null&&Ua(i),Q0(i,r)}function Q0(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Us===null){if(i===null)throw Error(s(308));Us=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Us=Us.next=r;return o}var M2=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},V2=t.unstable_scheduleCallback,P2=t.unstable_NormalPriority,Yt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cm(){return{controller:new M2,data:new Map,refCount:0}}function uu(i){i.refCount--,i.refCount===0&&V2(P2,function(){i.controller.abort()})}var cu=null,Rm=0,Oo=0,Lo=null;function O2(i,r){if(cu===null){var o=cu=[];Rm=0,Oo=Np(),Lo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Rm++,r.then(X0,X0),r}function X0(){if(--Rm===0&&cu!==null){Lo!==null&&(Lo.status="fulfilled");var i=cu;cu=null,Oo=0,Lo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function L2(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var W0=Z.S;Z.S=function(i,r){Vb=Nt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&O2(i,r),W0!==null&&W0(i,r)};var za=S(null);function Im(){var i=za.current;return i!==null?i:_t.pooledCache}function Th(i,r){r===null?ee(za,za.current):ee(za,r.pool)}function Z0(){var i=Im();return i===null?null:{parent:Yt._currentValue,pool:i}}var jo=Error(s(460)),Dm=Error(s(474)),Eh=Error(s(542)),wh={then:function(){}};function J0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function e_(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Mi,Mi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,n_(i),i;default:if(typeof r.status=="string")r.then(Mi,Mi);else{if(i=_t,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,n_(i),i}throw Fa=r,jo}}function Ba(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Fa=o,jo):o}}var Fa=null;function t_(){if(Fa===null)throw Error(s(459));var i=Fa;return Fa=null,i}function n_(i){if(i===jo||i===Eh)throw Error(s(483))}var Uo=null,hu=0;function Sh(i){var r=hu;return hu+=1,Uo===null&&(Uo=[]),e_(Uo,i,r)}function fu(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function xh(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function i_(i){function r(G,z){if(i){var Y=G.deletions;Y===null?(G.deletions=[z],G.flags|=16):Y.push(z)}}function o(G,z){if(!i)return null;for(;z!==null;)r(G,z),z=z.sibling;return null}function u(G){for(var z=new Map;G!==null;)G.key!==null?z.set(G.key,G):z.set(G.index,G),G=G.sibling;return z}function f(G,z){return G=Ls(G,z),G.index=0,G.sibling=null,G}function g(G,z,Y){return G.index=Y,i?(Y=G.alternate,Y!==null?(Y=Y.index,Y<z?(G.flags|=67108866,z):Y):(G.flags|=67108866,z)):(G.flags|=1048576,z)}function b(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function A(G,z,Y,se){return z===null||z.tag!==6?(z=vm(Y,G.mode,se),z.return=G,z):(z=f(z,Y),z.return=G,z)}function j(G,z,Y,se){var Re=Y.type;return Re===V?ne(G,z,Y.props.children,se,Y.key):z!==null&&(z.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===w&&Ba(Re)===z.type)?(z=f(z,Y.props),fu(z,Y),z.return=G,z):(z=yh(Y.type,Y.key,Y.props,null,G.mode,se),fu(z,Y),z.return=G,z)}function Q(G,z,Y,se){return z===null||z.tag!==4||z.stateNode.containerInfo!==Y.containerInfo||z.stateNode.implementation!==Y.implementation?(z=_m(Y,G.mode,se),z.return=G,z):(z=f(z,Y.children||[]),z.return=G,z)}function ne(G,z,Y,se,Re){return z===null||z.tag!==7?(z=Oa(Y,G.mode,se,Re),z.return=G,z):(z=f(z,Y),z.return=G,z)}function oe(G,z,Y){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=vm(""+z,G.mode,Y),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case D:return Y=yh(z.type,z.key,z.props,null,G.mode,Y),fu(Y,z),Y.return=G,Y;case L:return z=_m(z,G.mode,Y),z.return=G,z;case w:return z=Ba(z),oe(G,z,Y)}if(Ke(z)||U(z))return z=Oa(z,G.mode,Y,null),z.return=G,z;if(typeof z.then=="function")return oe(G,Sh(z),Y);if(z.$$typeof===H)return oe(G,bh(G,z),Y);xh(G,z)}return null}function X(G,z,Y,se){var Re=z!==null?z.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Re!==null?null:A(G,z,""+Y,se);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case D:return Y.key===Re?j(G,z,Y,se):null;case L:return Y.key===Re?Q(G,z,Y,se):null;case w:return Y=Ba(Y),X(G,z,Y,se)}if(Ke(Y)||U(Y))return Re!==null?null:ne(G,z,Y,se,null);if(typeof Y.then=="function")return X(G,z,Sh(Y),se);if(Y.$$typeof===H)return X(G,z,bh(G,Y),se);xh(G,Y)}return null}function te(G,z,Y,se,Re){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return G=G.get(Y)||null,A(z,G,""+se,Re);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case D:return G=G.get(se.key===null?Y:se.key)||null,j(z,G,se,Re);case L:return G=G.get(se.key===null?Y:se.key)||null,Q(z,G,se,Re);case w:return se=Ba(se),te(G,z,Y,se,Re)}if(Ke(se)||U(se))return G=G.get(Y)||null,ne(z,G,se,Re,null);if(typeof se.then=="function")return te(G,z,Y,Sh(se),Re);if(se.$$typeof===H)return te(G,z,Y,bh(z,se),Re);xh(z,se)}return null}function Te(G,z,Y,se){for(var Re=null,rt=null,Ae=z,Be=z=0,We=null;Ae!==null&&Be<Y.length;Be++){Ae.index>Be?(We=Ae,Ae=null):We=Ae.sibling;var at=X(G,Ae,Y[Be],se);if(at===null){Ae===null&&(Ae=We);break}i&&Ae&&at.alternate===null&&r(G,Ae),z=g(at,z,Be),rt===null?Re=at:rt.sibling=at,rt=at,Ae=We}if(Be===Y.length)return o(G,Ae),nt&&js(G,Be),Re;if(Ae===null){for(;Be<Y.length;Be++)Ae=oe(G,Y[Be],se),Ae!==null&&(z=g(Ae,z,Be),rt===null?Re=Ae:rt.sibling=Ae,rt=Ae);return nt&&js(G,Be),Re}for(Ae=u(Ae);Be<Y.length;Be++)We=te(Ae,G,Be,Y[Be],se),We!==null&&(i&&We.alternate!==null&&Ae.delete(We.key===null?Be:We.key),z=g(We,z,Be),rt===null?Re=We:rt.sibling=We,rt=We);return i&&Ae.forEach(function(Gr){return r(G,Gr)}),nt&&js(G,Be),Re}function Ie(G,z,Y,se){if(Y==null)throw Error(s(151));for(var Re=null,rt=null,Ae=z,Be=z=0,We=null,at=Y.next();Ae!==null&&!at.done;Be++,at=Y.next()){Ae.index>Be?(We=Ae,Ae=null):We=Ae.sibling;var Gr=X(G,Ae,at.value,se);if(Gr===null){Ae===null&&(Ae=We);break}i&&Ae&&Gr.alternate===null&&r(G,Ae),z=g(Gr,z,Be),rt===null?Re=Gr:rt.sibling=Gr,rt=Gr,Ae=We}if(at.done)return o(G,Ae),nt&&js(G,Be),Re;if(Ae===null){for(;!at.done;Be++,at=Y.next())at=oe(G,at.value,se),at!==null&&(z=g(at,z,Be),rt===null?Re=at:rt.sibling=at,rt=at);return nt&&js(G,Be),Re}for(Ae=u(Ae);!at.done;Be++,at=Y.next())at=te(Ae,G,Be,at.value,se),at!==null&&(i&&at.alternate!==null&&Ae.delete(at.key===null?Be:at.key),z=g(at,z,Be),rt===null?Re=at:rt.sibling=at,rt=at);return i&&Ae.forEach(function(YI){return r(G,YI)}),nt&&js(G,Be),Re}function gt(G,z,Y,se){if(typeof Y=="object"&&Y!==null&&Y.type===V&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case D:e:{for(var Re=Y.key;z!==null;){if(z.key===Re){if(Re=Y.type,Re===V){if(z.tag===7){o(G,z.sibling),se=f(z,Y.props.children),se.return=G,G=se;break e}}else if(z.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===w&&Ba(Re)===z.type){o(G,z.sibling),se=f(z,Y.props),fu(se,Y),se.return=G,G=se;break e}o(G,z);break}else r(G,z);z=z.sibling}Y.type===V?(se=Oa(Y.props.children,G.mode,se,Y.key),se.return=G,G=se):(se=yh(Y.type,Y.key,Y.props,null,G.mode,se),fu(se,Y),se.return=G,G=se)}return b(G);case L:e:{for(Re=Y.key;z!==null;){if(z.key===Re)if(z.tag===4&&z.stateNode.containerInfo===Y.containerInfo&&z.stateNode.implementation===Y.implementation){o(G,z.sibling),se=f(z,Y.children||[]),se.return=G,G=se;break e}else{o(G,z);break}else r(G,z);z=z.sibling}se=_m(Y,G.mode,se),se.return=G,G=se}return b(G);case w:return Y=Ba(Y),gt(G,z,Y,se)}if(Ke(Y))return Te(G,z,Y,se);if(U(Y)){if(Re=U(Y),typeof Re!="function")throw Error(s(150));return Y=Re.call(Y),Ie(G,z,Y,se)}if(typeof Y.then=="function")return gt(G,z,Sh(Y),se);if(Y.$$typeof===H)return gt(G,z,bh(G,Y),se);xh(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,z!==null&&z.tag===6?(o(G,z.sibling),se=f(z,Y),se.return=G,G=se):(o(G,z),se=vm(Y,G.mode,se),se.return=G,G=se),b(G)):o(G,z)}return function(G,z,Y,se){try{hu=0;var Re=gt(G,z,Y,se);return Uo=null,Re}catch(Ae){if(Ae===jo||Ae===Eh)throw Ae;var rt=Wn(29,Ae,null,G.mode);return rt.lanes=se,rt.return=G,rt}}}var Ha=i_(!0),s_=i_(!1),Rr=!1;function Nm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function km(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ir(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Dr(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(lt&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=gh(i),B0(i,null,o),r}return ph(i,u,r,o),gh(i)}function du(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,zl(i,o)}}function Mm(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?f=g=r:g=g.next=r}else f=g=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Vm=!1;function mu(){if(Vm){var i=Lo;if(i!==null)throw i}}function pu(i,r,o,u){Vm=!1;var f=i.updateQueue;Rr=!1;var g=f.firstBaseUpdate,b=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var j=A,Q=j.next;j.next=null,b===null?g=Q:b.next=Q,b=j;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,A=ne.lastBaseUpdate,A!==b&&(A===null?ne.firstBaseUpdate=Q:A.next=Q,ne.lastBaseUpdate=j))}if(g!==null){var oe=f.baseState;b=0,ne=Q=j=null,A=g;do{var X=A.lane&-536870913,te=X!==A.lane;if(te?(Xe&X)===X:(u&X)===X){X!==0&&X===Oo&&(Vm=!0),ne!==null&&(ne=ne.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Te=i,Ie=A;X=r;var gt=o;switch(Ie.tag){case 1:if(Te=Ie.payload,typeof Te=="function"){oe=Te.call(gt,oe,X);break e}oe=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Ie.payload,X=typeof Te=="function"?Te.call(gt,oe,X):Te,X==null)break e;oe=v({},oe,X);break e;case 2:Rr=!0}}X=A.callback,X!==null&&(i.flags|=64,te&&(i.flags|=8192),te=f.callbacks,te===null?f.callbacks=[X]:te.push(X))}else te={lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ne===null?(Q=ne=te,j=oe):ne=ne.next=te,b|=X;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;te=A,A=te.next,te.next=null,f.lastBaseUpdate=te,f.shared.pending=null}}while(!0);ne===null&&(j=oe),f.baseState=j,f.firstBaseUpdate=Q,f.lastBaseUpdate=ne,g===null&&(f.shared.lanes=0),Pr|=b,i.lanes=b,i.memoizedState=oe}}function r_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function a_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)r_(o[i],r)}var zo=S(null),Ah=S(0);function o_(i,r){i=Qs,ee(Ah,i),ee(zo,r),Qs=i|r.baseLanes}function Pm(){ee(Ah,Qs),ee(zo,zo.current)}function Om(){Qs=Ah.current,K(zo),K(Ah)}var Zn=S(null),gi=null;function Nr(i){var r=i.alternate;ee(Ft,Ft.current&1),ee(Zn,i),gi===null&&(r===null||zo.current!==null||r.memoizedState!==null)&&(gi=i)}function Lm(i){ee(Ft,Ft.current),ee(Zn,i),gi===null&&(gi=i)}function l_(i){i.tag===22?(ee(Ft,Ft.current),ee(Zn,i),gi===null&&(gi=i)):kr()}function kr(){ee(Ft,Ft.current),ee(Zn,Zn.current)}function Jn(i){K(Zn),gi===i&&(gi=null),K(Ft)}var Ft=S(0);function Ch(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Hp(o)||qp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Bs=0,ze=null,mt=null,Qt=null,Rh=!1,Bo=!1,qa=!1,Ih=0,gu=0,Fo=null,j2=0;function Lt(){throw Error(s(321))}function jm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Xn(i[o],r[o]))return!1;return!0}function Um(i,r,o,u,f,g){return Bs=g,ze=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=i===null||i.memoizedState===null?G_:ep,qa=!1,g=o(u,f),qa=!1,Bo&&(g=c_(r,o,u,f)),u_(i),g}function u_(i){Z.H=_u;var r=mt!==null&&mt.next!==null;if(Bs=0,Qt=mt=ze=null,Rh=!1,gu=0,Fo=null,r)throw Error(s(300));i===null||Xt||(i=i.dependencies,i!==null&&_h(i)&&(Xt=!0))}function c_(i,r,o,u){ze=i;var f=0;do{if(Bo&&(Fo=null),gu=0,Bo=!1,25<=f)throw Error(s(301));if(f+=1,Qt=mt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=K_,g=r(o,u)}while(Bo);return g}function U2(){var i=Z.H,r=i.useState()[0];return r=typeof r.then=="function"?yu(r):r,i=i.useState()[0],(mt!==null?mt.memoizedState:null)!==i&&(ze.flags|=1024),r}function zm(){var i=Ih!==0;return Ih=0,i}function Bm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Fm(i){if(Rh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Rh=!1}Bs=0,Qt=mt=ze=null,Bo=!1,gu=Ih=0,Fo=null}function kn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?ze.memoizedState=Qt=i:Qt=Qt.next=i,Qt}function Ht(){if(mt===null){var i=ze.alternate;i=i!==null?i.memoizedState:null}else i=mt.next;var r=Qt===null?ze.memoizedState:Qt.next;if(r!==null)Qt=r,mt=i;else{if(i===null)throw ze.alternate===null?Error(s(467)):Error(s(310));mt=i,i={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Qt===null?ze.memoizedState=Qt=i:Qt=Qt.next=i}return Qt}function Dh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yu(i){var r=gu;return gu+=1,Fo===null&&(Fo=[]),i=e_(Fo,i,r),r=ze,(Qt===null?r.memoizedState:Qt.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?G_:ep),i}function Nh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return yu(i);if(i.$$typeof===H)return vn(i)}throw Error(s(438,String(i)))}function Hm(i){var r=null,o=ze.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=ze.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Dh(),ze.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=N;return r.index++,o}function Fs(i,r){return typeof r=="function"?r(i):r}function kh(i){var r=Ht();return qm(r,mt,i)}function qm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,g=u.pending;if(g!==null){if(f!==null){var b=f.next;f.next=g.next,g.next=b}r.baseQueue=f=g,u.pending=null}if(g=i.baseState,f===null)i.memoizedState=g;else{r=f.next;var A=b=null,j=null,Q=r,ne=!1;do{var oe=Q.lane&-536870913;if(oe!==Q.lane?(Xe&oe)===oe:(Bs&oe)===oe){var X=Q.revertLane;if(X===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),oe===Oo&&(ne=!0);else if((Bs&X)===X){Q=Q.next,X===Oo&&(ne=!0);continue}else oe={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},j===null?(A=j=oe,b=g):j=j.next=oe,ze.lanes|=X,Pr|=X;oe=Q.action,qa&&o(g,oe),g=Q.hasEagerState?Q.eagerState:o(g,oe)}else X={lane:oe,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},j===null?(A=j=X,b=g):j=j.next=X,ze.lanes|=oe,Pr|=oe;Q=Q.next}while(Q!==null&&Q!==r);if(j===null?b=g:j.next=A,!Xn(g,i.memoizedState)&&(Xt=!0,ne&&(o=Lo,o!==null)))throw o;i.memoizedState=g,i.baseState=b,i.baseQueue=j,u.lastRenderedState=g}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Gm(i){var r=Ht(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,g=r.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do g=i(g,b.action),b=b.next;while(b!==f);Xn(g,r.memoizedState)||(Xt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function h_(i,r,o){var u=ze,f=Ht(),g=nt;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var b=!Xn((mt||f).memoizedState,o);if(b&&(f.memoizedState=o,Xt=!0),f=f.queue,Ym(m_.bind(null,u,f,i),[i]),f.getSnapshot!==r||b||Qt!==null&&Qt.memoizedState.tag&1){if(u.flags|=2048,Ho(9,{destroy:void 0},d_.bind(null,u,f,o,r),null),_t===null)throw Error(s(349));g||(Bs&127)!==0||f_(u,r,o)}return o}function f_(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=ze.updateQueue,r===null?(r=Dh(),ze.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function d_(i,r,o,u){r.value=o,r.getSnapshot=u,p_(r)&&g_(i)}function m_(i,r,o){return o(function(){p_(r)&&g_(i)})}function p_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Xn(i,o)}catch{return!0}}function g_(i){var r=Pa(i,2);r!==null&&Hn(r,i,2)}function Km(i){var r=kn();if(typeof i=="function"){var o=i;if(i=o(),qa){On(!0);try{o()}finally{On(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:i},r}function y_(i,r,o,u){return i.baseState=o,qm(i,mt,typeof u=="function"?u:Fs)}function z2(i,r,o,u,f){if(Ph(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};Z.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,v_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function v_(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var g=Z.T,b={};Z.T=b;try{var A=o(f,u),j=Z.S;j!==null&&j(b,A),__(i,r,A)}catch(Q){$m(i,r,Q)}finally{g!==null&&b.types!==null&&(g.types=b.types),Z.T=g}}else try{g=o(f,u),__(i,r,g)}catch(Q){$m(i,r,Q)}}function __(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){b_(i,r,u)},function(u){return $m(i,r,u)}):b_(i,r,o)}function b_(i,r,o){r.status="fulfilled",r.value=o,T_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,v_(i,o)))}function $m(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,T_(r),r=r.next;while(r!==u)}i.action=null}function T_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function E_(i,r){return r}function w_(i,r){if(nt){var o=_t.formState;if(o!==null){e:{var u=ze;if(nt){if(wt){t:{for(var f=wt,g=pi;f.nodeType!==8;){if(!g){f=null;break t}if(f=yi(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){wt=yi(f.nextSibling),u=f.data==="F!";break e}}Ar(u)}u=!1}u&&(r=o[0])}}return o=kn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:E_,lastRenderedState:r},o.queue=u,o=F_.bind(null,ze,u),u.dispatch=o,u=Km(!1),g=Jm.bind(null,ze,!1,u.queue),u=kn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=z2.bind(null,ze,f,g,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function S_(i){var r=Ht();return x_(r,mt,i)}function x_(i,r,o){if(r=qm(i,r,E_)[0],i=kh(Fs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=yu(r)}catch(b){throw b===jo?Eh:b}else u=r;r=Ht();var f=r.queue,g=f.dispatch;return o!==r.memoizedState&&(ze.flags|=2048,Ho(9,{destroy:void 0},B2.bind(null,f,o),null)),[u,g,i]}function B2(i,r){i.action=r}function A_(i){var r=Ht(),o=mt;if(o!==null)return x_(r,o,i);Ht(),r=r.memoizedState,o=Ht();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function Ho(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=ze.updateQueue,r===null&&(r=Dh(),ze.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function C_(){return Ht().memoizedState}function Mh(i,r,o,u){var f=kn();ze.flags|=i,f.memoizedState=Ho(1|r,{destroy:void 0},o,u===void 0?null:u)}function Vh(i,r,o,u){var f=Ht();u=u===void 0?null:u;var g=f.memoizedState.inst;mt!==null&&u!==null&&jm(u,mt.memoizedState.deps)?f.memoizedState=Ho(r,g,o,u):(ze.flags|=i,f.memoizedState=Ho(1|r,g,o,u))}function R_(i,r){Mh(8390656,8,i,r)}function Ym(i,r){Vh(2048,8,i,r)}function F2(i){ze.flags|=4;var r=ze.updateQueue;if(r===null)r=Dh(),ze.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function I_(i){var r=Ht().memoizedState;return F2({ref:r,nextImpl:i}),function(){if((lt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function D_(i,r){return Vh(4,2,i,r)}function N_(i,r){return Vh(4,4,i,r)}function k_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function M_(i,r,o){o=o!=null?o.concat([i]):null,Vh(4,4,k_.bind(null,r,i),o)}function Qm(){}function V_(i,r){var o=Ht();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&jm(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function P_(i,r){var o=Ht();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&jm(r,u[1]))return u[0];if(u=i(),qa){On(!0);try{i()}finally{On(!1)}}return o.memoizedState=[u,r],u}function Xm(i,r,o){return o===void 0||(Bs&1073741824)!==0&&(Xe&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=Ob(),ze.lanes|=i,Pr|=i,o)}function O_(i,r,o,u){return Xn(o,r)?o:zo.current!==null?(i=Xm(i,o,u),Xn(i,r)||(Xt=!0),i):(Bs&42)===0||(Bs&1073741824)!==0&&(Xe&261930)===0?(Xt=!0,i.memoizedState=o):(i=Ob(),ze.lanes|=i,Pr|=i,r)}function L_(i,r,o,u,f){var g=he.p;he.p=g!==0&&8>g?g:8;var b=Z.T,A={};Z.T=A,Jm(i,!1,r,o);try{var j=f(),Q=Z.S;if(Q!==null&&Q(A,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ne=L2(j,u);vu(i,r,ne,ni(i))}else vu(i,r,u,ni(i))}catch(oe){vu(i,r,{then:function(){},status:"rejected",reason:oe},ni())}finally{he.p=g,b!==null&&A.types!==null&&(b.types=A.types),Z.T=b}}function H2(){}function Wm(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=j_(i).queue;L_(i,f,r,re,o===null?H2:function(){return U_(i),o(u)})}function j_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:re},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function U_(i){var r=j_(i);r.next===null&&(r=i.alternate.memoizedState),vu(i,r.next.queue,{},ni())}function Zm(){return vn(Pu)}function z_(){return Ht().memoizedState}function B_(){return Ht().memoizedState}function q2(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=ni();i=Ir(o);var u=Dr(r,i,o);u!==null&&(Hn(u,r,o),du(u,r,o)),r={cache:Cm()},i.payload=r;return}r=r.return}}function G2(i,r,o){var u=ni();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ph(i)?H_(r,o):(o=gm(i,r,o,u),o!==null&&(Hn(o,i,u),q_(o,r,u)))}function F_(i,r,o){var u=ni();vu(i,r,o,u)}function vu(i,r,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ph(i))H_(r,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var b=r.lastRenderedState,A=g(b,o);if(f.hasEagerState=!0,f.eagerState=A,Xn(A,b))return ph(i,r,f,0),_t===null&&mh(),!1}catch{}if(o=gm(i,r,f,u),o!==null)return Hn(o,i,u),q_(o,r,u),!0}return!1}function Jm(i,r,o,u){if(u={lane:2,revertLane:Np(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ph(i)){if(r)throw Error(s(479))}else r=gm(i,o,u,2),r!==null&&Hn(r,i,2)}function Ph(i){var r=i.alternate;return i===ze||r!==null&&r===ze}function H_(i,r){Bo=Rh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function q_(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,zl(i,o)}}var _u={readContext:vn,use:Nh,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt};_u.useEffectEvent=Lt;var G_={readContext:vn,use:Nh,useCallback:function(i,r){return kn().memoizedState=[i,r===void 0?null:r],i},useContext:vn,useEffect:R_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Mh(4194308,4,k_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Mh(4194308,4,i,r)},useInsertionEffect:function(i,r){Mh(4,2,i,r)},useMemo:function(i,r){var o=kn();r=r===void 0?null:r;var u=i();if(qa){On(!0);try{i()}finally{On(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=kn();if(o!==void 0){var f=o(r);if(qa){On(!0);try{o(r)}finally{On(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=G2.bind(null,ze,i),[u.memoizedState,i]},useRef:function(i){var r=kn();return i={current:i},r.memoizedState=i},useState:function(i){i=Km(i);var r=i.queue,o=F_.bind(null,ze,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Qm,useDeferredValue:function(i,r){var o=kn();return Xm(o,i,r)},useTransition:function(){var i=Km(!1);return i=L_.bind(null,ze,i.queue,!0,!1),kn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=ze,f=kn();if(nt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),_t===null)throw Error(s(349));(Xe&127)!==0||f_(u,r,o)}f.memoizedState=o;var g={value:o,getSnapshot:r};return f.queue=g,R_(m_.bind(null,u,g,i),[i]),u.flags|=2048,Ho(9,{destroy:void 0},d_.bind(null,u,g,o,r),null),o},useId:function(){var i=kn(),r=_t.identifierPrefix;if(nt){var o=ds,u=fs;o=(u&~(1<<32-Ot(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Ih++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=j2++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Zm,useFormState:w_,useActionState:w_,useOptimistic:function(i){var r=kn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Jm.bind(null,ze,!0,o),o.dispatch=r,[i,r]},useMemoCache:Hm,useCacheRefresh:function(){return kn().memoizedState=q2.bind(null,ze)},useEffectEvent:function(i){var r=kn(),o={impl:i};return r.memoizedState=o,function(){if((lt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},ep={readContext:vn,use:Nh,useCallback:V_,useContext:vn,useEffect:Ym,useImperativeHandle:M_,useInsertionEffect:D_,useLayoutEffect:N_,useMemo:P_,useReducer:kh,useRef:C_,useState:function(){return kh(Fs)},useDebugValue:Qm,useDeferredValue:function(i,r){var o=Ht();return O_(o,mt.memoizedState,i,r)},useTransition:function(){var i=kh(Fs)[0],r=Ht().memoizedState;return[typeof i=="boolean"?i:yu(i),r]},useSyncExternalStore:h_,useId:z_,useHostTransitionStatus:Zm,useFormState:S_,useActionState:S_,useOptimistic:function(i,r){var o=Ht();return y_(o,mt,i,r)},useMemoCache:Hm,useCacheRefresh:B_};ep.useEffectEvent=I_;var K_={readContext:vn,use:Nh,useCallback:V_,useContext:vn,useEffect:Ym,useImperativeHandle:M_,useInsertionEffect:D_,useLayoutEffect:N_,useMemo:P_,useReducer:Gm,useRef:C_,useState:function(){return Gm(Fs)},useDebugValue:Qm,useDeferredValue:function(i,r){var o=Ht();return mt===null?Xm(o,i,r):O_(o,mt.memoizedState,i,r)},useTransition:function(){var i=Gm(Fs)[0],r=Ht().memoizedState;return[typeof i=="boolean"?i:yu(i),r]},useSyncExternalStore:h_,useId:z_,useHostTransitionStatus:Zm,useFormState:A_,useActionState:A_,useOptimistic:function(i,r){var o=Ht();return mt!==null?y_(o,mt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Hm,useCacheRefresh:B_};K_.useEffectEvent=I_;function tp(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var np={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=ni(),f=Ir(u);f.payload=r,o!=null&&(f.callback=o),r=Dr(i,f,u),r!==null&&(Hn(r,i,u),du(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=ni(),f=Ir(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Dr(i,f,u),r!==null&&(Hn(r,i,u),du(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=ni(),u=Ir(o);u.tag=2,r!=null&&(u.callback=r),r=Dr(i,u,o),r!==null&&(Hn(r,i,o),du(r,i,o))}};function $_(i,r,o,u,f,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,b):r.prototype&&r.prototype.isPureReactComponent?!ru(o,u)||!ru(f,g):!0}function Y_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&np.enqueueReplaceState(r,r.state,null)}function Ga(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function Q_(i){dh(i)}function X_(i){console.error(i)}function W_(i){dh(i)}function Oh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Z_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function ip(i,r,o){return o=Ir(o),o.tag=3,o.payload={element:null},o.callback=function(){Oh(i,r)},o}function J_(i){return i=Ir(i),i.tag=3,i}function eb(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;i.payload=function(){return f(g)},i.callback=function(){Z_(r,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){Z_(r,o,u),typeof f!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function K2(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Po(r,o,f,!0),o=Zn.current,o!==null){switch(o.tag){case 31:case 13:return gi===null?Yh():o.alternate===null&&jt===0&&(jt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===wh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Rp(i,u,f)),!1;case 22:return o.flags|=65536,u===wh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Rp(i,u,f)),!1}throw Error(s(435,o.tag))}return Rp(i,u,f),Yh(),!1}if(nt)return r=Zn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==Em&&(i=Error(s(422),{cause:u}),lu(fi(i,o)))):(u!==Em&&(r=Error(s(423),{cause:u}),lu(fi(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=fi(u,o),f=ip(i.stateNode,u,f),Mm(i,f),jt!==4&&(jt=2)),!1;var g=Error(s(520),{cause:u});if(g=fi(g,o),Cu===null?Cu=[g]:Cu.push(g),jt!==4&&(jt=2),r===null)return!0;u=fi(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=ip(o.stateNode,u,i),Mm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Or===null||!Or.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=J_(f),eb(f,i,o,u),Mm(o,f),!1}o=o.return}while(o!==null);return!1}var sp=Error(s(461)),Xt=!1;function _n(i,r,o,u){r.child=i===null?s_(r,null,o,u):Ha(r,i.child,o,u)}function tb(i,r,o,u,f){o=o.render;var g=r.ref;if("ref"in u){var b={};for(var A in u)A!=="ref"&&(b[A]=u[A])}else b=u;return Ua(r),u=Um(i,r,o,b,g,f),A=zm(),i!==null&&!Xt?(Bm(i,r,f),Hs(i,r,f)):(nt&&A&&bm(r),r.flags|=1,_n(i,r,u,f),r.child)}function nb(i,r,o,u,f){if(i===null){var g=o.type;return typeof g=="function"&&!ym(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,ib(i,r,g,u,f)):(i=yh(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!fp(i,f)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:ru,o(b,u)&&i.ref===r.ref)return Hs(i,r,f)}return r.flags|=1,i=Ls(g,u),i.ref=r.ref,i.return=r,r.child=i}function ib(i,r,o,u,f){if(i!==null){var g=i.memoizedProps;if(ru(g,u)&&i.ref===r.ref)if(Xt=!1,r.pendingProps=u=g,fp(i,f))(i.flags&131072)!==0&&(Xt=!0);else return r.lanes=i.lanes,Hs(i,r,f)}return rp(i,r,o,u,f)}function sb(i,r,o,u){var f=u.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=r.child=i.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~g}else u=0,r.child=null;return rb(i,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Th(r,g!==null?g.cachePool:null),g!==null?o_(r,g):Pm(),l_(r);else return u=r.lanes=536870912,rb(i,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Th(r,g.cachePool),o_(r,g),kr(),r.memoizedState=null):(i!==null&&Th(r,null),Pm(),kr());return _n(i,r,f,o),r.child}function bu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function rb(i,r,o,u,f){var g=Im();return g=g===null?null:{parent:Yt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&Th(r,null),Pm(),l_(r),i!==null&&Po(i,r,u,!0),r.childLanes=f,null}function Lh(i,r){return r=Uh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function ab(i,r,o){return Ha(r,i.child,null,o),i=Lh(r,r.pendingProps),i.flags|=2,Jn(r),r.memoizedState=null,i}function $2(i,r,o){var u=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(nt){if(u.mode==="hidden")return i=Lh(r,u),r.lanes=536870912,bu(null,i);if(Lm(r),(i=wt)?(i=vT(i,pi),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Sr!==null?{id:fs,overflow:ds}:null,retryLane:536870912,hydrationErrors:null},o=H0(i),o.return=r,r.child=o,yn=r,wt=null)):i=null,i===null)throw Ar(r);return r.lanes=536870912,null}return Lh(r,u)}var g=i.memoizedState;if(g!==null){var b=g.dehydrated;if(Lm(r),f)if(r.flags&256)r.flags&=-257,r=ab(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Xt||Po(i,r,o,!1),f=(o&i.childLanes)!==0,Xt||f){if(u=_t,u!==null&&(b=Bl(u,o),b!==0&&b!==g.retryLane))throw g.retryLane=b,Pa(i,b),Hn(u,i,b),sp;Yh(),r=ab(i,r,o)}else i=g.treeContext,wt=yi(b.nextSibling),yn=r,nt=!0,xr=null,pi=!1,i!==null&&K0(r,i),r=Lh(r,u),r.flags|=4096;return r}return i=Ls(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function jh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function rp(i,r,o,u,f){return Ua(r),o=Um(i,r,o,u,void 0,f),u=zm(),i!==null&&!Xt?(Bm(i,r,f),Hs(i,r,f)):(nt&&u&&bm(r),r.flags|=1,_n(i,r,o,f),r.child)}function ob(i,r,o,u,f,g){return Ua(r),r.updateQueue=null,o=c_(r,u,o,f),u_(i),u=zm(),i!==null&&!Xt?(Bm(i,r,g),Hs(i,r,g)):(nt&&u&&bm(r),r.flags|=1,_n(i,r,o,g),r.child)}function lb(i,r,o,u,f){if(Ua(r),r.stateNode===null){var g=No,b=o.contextType;typeof b=="object"&&b!==null&&(g=vn(b)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=np,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},Nm(r),b=o.contextType,g.context=typeof b=="object"&&b!==null?vn(b):No,g.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(tp(r,o,b,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&np.enqueueReplaceState(g,g.state,null),pu(r,u,g,f),mu(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var A=r.memoizedProps,j=Ga(o,A);g.props=j;var Q=g.context,ne=o.contextType;b=No,typeof ne=="object"&&ne!==null&&(b=vn(ne));var oe=o.getDerivedStateFromProps;ne=typeof oe=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||Q!==b)&&Y_(r,g,u,b),Rr=!1;var X=r.memoizedState;g.state=X,pu(r,u,g,f),mu(),Q=r.memoizedState,A||X!==Q||Rr?(typeof oe=="function"&&(tp(r,o,oe,u),Q=r.memoizedState),(j=Rr||$_(r,o,j,u,X,Q,b))?(ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=Q),g.props=u,g.state=Q,g.context=b,u=j):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,km(i,r),b=r.memoizedProps,ne=Ga(o,b),g.props=ne,oe=r.pendingProps,X=g.context,Q=o.contextType,j=No,typeof Q=="object"&&Q!==null&&(j=vn(Q)),A=o.getDerivedStateFromProps,(Q=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==oe||X!==j)&&Y_(r,g,u,j),Rr=!1,X=r.memoizedState,g.state=X,pu(r,u,g,f),mu();var te=r.memoizedState;b!==oe||X!==te||Rr||i!==null&&i.dependencies!==null&&_h(i.dependencies)?(typeof A=="function"&&(tp(r,o,A,u),te=r.memoizedState),(ne=Rr||$_(r,o,ne,u,X,te,j)||i!==null&&i.dependencies!==null&&_h(i.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,te,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,te,j)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=te),g.props=u,g.state=te,g.context=j,u=ne):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,jh(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=Ha(r,i.child,null,f),r.child=Ha(r,null,o,f)):_n(i,r,o,f),r.memoizedState=g.state,i=r.child):i=Hs(i,r,f),i}function ub(i,r,o,u){return La(),r.flags|=256,_n(i,r,o,u),r.child}var ap={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function op(i){return{baseLanes:i,cachePool:Z0()}}function lp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=ti),i}function cb(i,r,o){var u=r.pendingProps,f=!1,g=(r.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(Ft.current&2)!==0),b&&(f=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,i===null){if(nt){if(f?Nr(r):kr(),(i=wt)?(i=vT(i,pi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Sr!==null?{id:fs,overflow:ds}:null,retryLane:536870912,hydrationErrors:null},o=H0(i),o.return=r,r.child=o,yn=r,wt=null)):i=null,i===null)throw Ar(r);return qp(i)?r.lanes=32:r.lanes=536870912,null}var A=u.children;return u=u.fallback,f?(kr(),f=r.mode,A=Uh({mode:"hidden",children:A},f),u=Oa(u,f,o,null),A.return=r,u.return=r,A.sibling=u,r.child=A,u=r.child,u.memoizedState=op(o),u.childLanes=lp(i,b,o),r.memoizedState=ap,bu(null,u)):(Nr(r),up(r,A))}var j=i.memoizedState;if(j!==null&&(A=j.dehydrated,A!==null)){if(g)r.flags&256?(Nr(r),r.flags&=-257,r=cp(i,r,o)):r.memoizedState!==null?(kr(),r.child=i.child,r.flags|=128,r=null):(kr(),A=u.fallback,f=r.mode,u=Uh({mode:"visible",children:u.children},f),A=Oa(A,f,o,null),A.flags|=2,u.return=r,A.return=r,u.sibling=A,r.child=u,Ha(r,i.child,null,o),u=r.child,u.memoizedState=op(o),u.childLanes=lp(i,b,o),r.memoizedState=ap,r=bu(null,u));else if(Nr(r),qp(A)){if(b=A.nextSibling&&A.nextSibling.dataset,b)var Q=b.dgst;b=Q,u=Error(s(419)),u.stack="",u.digest=b,lu({value:u,source:null,stack:null}),r=cp(i,r,o)}else if(Xt||Po(i,r,o,!1),b=(o&i.childLanes)!==0,Xt||b){if(b=_t,b!==null&&(u=Bl(b,o),u!==0&&u!==j.retryLane))throw j.retryLane=u,Pa(i,u),Hn(b,i,u),sp;Hp(A)||Yh(),r=cp(i,r,o)}else Hp(A)?(r.flags|=192,r.child=i.child,r=null):(i=j.treeContext,wt=yi(A.nextSibling),yn=r,nt=!0,xr=null,pi=!1,i!==null&&K0(r,i),r=up(r,u.children),r.flags|=4096);return r}return f?(kr(),A=u.fallback,f=r.mode,j=i.child,Q=j.sibling,u=Ls(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&65011712,Q!==null?A=Ls(Q,A):(A=Oa(A,f,o,null),A.flags|=2),A.return=r,u.return=r,u.sibling=A,r.child=u,bu(null,u),u=r.child,A=i.child.memoizedState,A===null?A=op(o):(f=A.cachePool,f!==null?(j=Yt._currentValue,f=f.parent!==j?{parent:j,pool:j}:f):f=Z0(),A={baseLanes:A.baseLanes|o,cachePool:f}),u.memoizedState=A,u.childLanes=lp(i,b,o),r.memoizedState=ap,bu(i.child,u)):(Nr(r),o=i.child,i=o.sibling,o=Ls(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(b=r.deletions,b===null?(r.deletions=[i],r.flags|=16):b.push(i)),r.child=o,r.memoizedState=null,o)}function up(i,r){return r=Uh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Uh(i,r){return i=Wn(22,i,null,r),i.lanes=0,i}function cp(i,r,o){return Ha(r,i.child,null,o),i=up(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function hb(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),xm(i.return,r,o)}function hp(i,r,o,u,f,g){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:g}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=o,b.tailMode=f,b.treeForkCount=g)}function fb(i,r,o){var u=r.pendingProps,f=u.revealOrder,g=u.tail;u=u.children;var b=Ft.current,A=(b&2)!==0;if(A?(b=b&1|2,r.flags|=128):b&=1,ee(Ft,b),_n(i,r,u,o),u=nt?ou:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&hb(i,o,r);else if(i.tag===19)hb(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&Ch(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),hp(r,!1,f,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&Ch(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}hp(r,!0,o,null,g,u);break;case"together":hp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Hs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Pr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Po(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Ls(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Ls(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function fp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&_h(i)))}function Y2(i,r,o){switch(r.tag){case 3:be(r,r.stateNode.containerInfo),Cr(r,Yt,i.memoizedState.cache),La();break;case 27:case 5:Le(r);break;case 4:be(r,r.stateNode.containerInfo);break;case 10:Cr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Lm(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Nr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?cb(i,r,o):(Nr(r),i=Hs(i,r,o),i!==null?i.sibling:null);Nr(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Po(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return fb(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ee(Ft,Ft.current),u)break;return null;case 22:return r.lanes=0,sb(i,r,o,r.pendingProps);case 24:Cr(r,Yt,i.memoizedState.cache)}return Hs(i,r,o)}function db(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Xt=!0;else{if(!fp(i,o)&&(r.flags&128)===0)return Xt=!1,Y2(i,r,o);Xt=(i.flags&131072)!==0}else Xt=!1,nt&&(r.flags&1048576)!==0&&G0(r,ou,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=Ba(r.elementType),r.type=i,typeof i=="function")ym(i)?(u=Ga(i,u),r.tag=1,r=lb(null,r,i,u,o)):(r.tag=0,r=rp(null,r,i,u,o));else{if(i!=null){var f=i.$$typeof;if(f===ue){r.tag=11,r=tb(null,r,i,u,o);break e}else if(f===R){r.tag=14,r=nb(null,r,i,u,o);break e}}throw r=He(i)||i,Error(s(306,r,""))}}return r;case 0:return rp(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=Ga(u,r.pendingProps),lb(i,r,u,f,o);case 3:e:{if(be(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;f=g.element,km(i,r),pu(r,u,null,o);var b=r.memoizedState;if(u=b.cache,Cr(r,Yt,u),u!==g.cache&&Am(r,[Yt],o,!0),mu(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=ub(i,r,u,o);break e}else if(u!==f){f=fi(Error(s(424)),r),lu(f),r=ub(i,r,u,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,wt=yi(i.firstChild),yn=r,nt=!0,xr=null,pi=!0,o=s_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(La(),u===f){r=Hs(i,r,o);break e}_n(i,r,u,o)}r=r.child}return r;case 26:return jh(i,r),i===null?(o=ST(r.type,null,r.pendingProps,null))?r.memoizedState=o:nt||(o=r.type,i=r.pendingProps,u=tf(pe.current).createElement(o),u[Gt]=r,u[cn]=i,bn(u,o,i),Kt(u),r.stateNode=u):r.memoizedState=ST(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Le(r),i===null&&nt&&(u=r.stateNode=TT(r.type,r.pendingProps,pe.current),yn=r,pi=!0,f=wt,zr(r.type)?(Gp=f,wt=yi(u.firstChild)):wt=f),_n(i,r,r.pendingProps.children,o),jh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&nt&&((f=u=wt)&&(u=SI(u,r.type,r.pendingProps,pi),u!==null?(r.stateNode=u,yn=r,wt=yi(u.firstChild),pi=!1,f=!0):f=!1),f||Ar(r)),Le(r),f=r.type,g=r.pendingProps,b=i!==null?i.memoizedProps:null,u=g.children,zp(f,g)?u=null:b!==null&&zp(f,b)&&(r.flags|=32),r.memoizedState!==null&&(f=Um(i,r,U2,null,null,o),Pu._currentValue=f),jh(i,r),_n(i,r,u,o),r.child;case 6:return i===null&&nt&&((i=o=wt)&&(o=xI(o,r.pendingProps,pi),o!==null?(r.stateNode=o,yn=r,wt=null,i=!0):i=!1),i||Ar(r)),null;case 13:return cb(i,r,o);case 4:return be(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Ha(r,null,u,o):_n(i,r,u,o),r.child;case 11:return tb(i,r,r.type,r.pendingProps,o);case 7:return _n(i,r,r.pendingProps,o),r.child;case 8:return _n(i,r,r.pendingProps.children,o),r.child;case 12:return _n(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Cr(r,r.type,u.value),_n(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,Ua(r),f=vn(f),u=u(f),r.flags|=1,_n(i,r,u,o),r.child;case 14:return nb(i,r,r.type,r.pendingProps,o);case 15:return ib(i,r,r.type,r.pendingProps,o);case 19:return fb(i,r,o);case 31:return $2(i,r,o);case 22:return sb(i,r,o,r.pendingProps);case 24:return Ua(r),u=vn(Yt),i===null?(f=Im(),f===null&&(f=_t,g=Cm(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),r.memoizedState={parent:u,cache:f},Nm(r),Cr(r,Yt,f)):((i.lanes&o)!==0&&(km(i,r),pu(r,null,null,o),mu()),f=i.memoizedState,g=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Cr(r,Yt,u)):(u=g.cache,Cr(r,Yt,u),u!==f.cache&&Am(r,[Yt],o,!0))),_n(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function qs(i){i.flags|=4}function dp(i,r,o,u,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(zb())i.flags|=8192;else throw Fa=wh,Dm}else i.flags&=-16777217}function mb(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!IT(r))if(zb())i.flags|=8192;else throw Fa=wh,Dm}function zh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Di():536870912,i.lanes|=r,$o|=r)}function Tu(i,r){if(!nt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function St(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function Q2(i,r,o){var u=r.pendingProps;switch(Tm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(r),null;case 1:return St(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),zs(Yt),xe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Vo(r)?qs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,wm())),St(r),null;case 26:var f=r.type,g=r.memoizedState;return i===null?(qs(r),g!==null?(St(r),mb(r,g)):(St(r),dp(r,f,null,u,o))):g?g!==i.memoizedState?(qs(r),St(r),mb(r,g)):(St(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&qs(r),St(r),dp(r,f,i,u,o)),null;case 27:if(je(r),o=pe.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&qs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return St(r),null}i=ie.current,Vo(r)?$0(r):(i=TT(f,u,o),r.stateNode=i,qs(r))}return St(r),null;case 5:if(je(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&qs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return St(r),null}if(g=ie.current,Vo(r))$0(r);else{var b=tf(pe.current);switch(g){case 1:g=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=b.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?b.createElement(f,{is:u.is}):b.createElement(f)}}g[Gt]=r,g[cn]=u;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)g.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=g;e:switch(bn(g,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&qs(r)}}return St(r),dp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&qs(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=pe.current,Vo(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=yn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[Gt]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||cT(i.nodeValue,o)),i||Ar(r,!0)}else i=tf(i).createTextNode(u),i[Gt]=r,r.stateNode=i}return St(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=Vo(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Gt]=r}else La(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;St(r),i=!1}else o=wm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Jn(r),r):(Jn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return St(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Vo(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Gt]=r}else La(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;St(r),f=!1}else f=wm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Jn(r),r):(Jn(r),null)}return Jn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),zh(r,r.updateQueue),St(r),null);case 4:return xe(),i===null&&Pp(r.stateNode.containerInfo),St(r),null;case 10:return zs(r.type),St(r),null;case 19:if(K(Ft),u=r.memoizedState,u===null)return St(r),null;if(f=(r.flags&128)!==0,g=u.rendering,g===null)if(f)Tu(u,!1);else{if(jt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Ch(i),g!==null){for(r.flags|=128,Tu(u,!1),i=g.updateQueue,r.updateQueue=i,zh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)F0(o,i),o=o.sibling;return ee(Ft,Ft.current&1|2),nt&&js(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&Nt()>Gh&&(r.flags|=128,f=!0,Tu(u,!1),r.lanes=4194304)}else{if(!f)if(i=Ch(g),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,zh(r,i),Tu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!nt)return St(r),null}else 2*Nt()-u.renderingStartTime>Gh&&o!==536870912&&(r.flags|=128,f=!0,Tu(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(i=u.last,i!==null?i.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Nt(),i.sibling=null,o=Ft.current,ee(Ft,f?o&1|2:o&1),nt&&js(r,u.treeForkCount),i):(St(r),null);case 22:case 23:return Jn(r),Om(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(St(r),r.subtreeFlags&6&&(r.flags|=8192)):St(r),o=r.updateQueue,o!==null&&zh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&K(za),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),zs(Yt),St(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function X2(i,r){switch(Tm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return zs(Yt),xe(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return je(r),null;case 31:if(r.memoizedState!==null){if(Jn(r),r.alternate===null)throw Error(s(340));La()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Jn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));La()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return K(Ft),null;case 4:return xe(),null;case 10:return zs(r.type),null;case 22:case 23:return Jn(r),Om(),i!==null&&K(za),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return zs(Yt),null;case 25:return null;default:return null}}function pb(i,r){switch(Tm(r),r.tag){case 3:zs(Yt),xe();break;case 26:case 27:case 5:je(r);break;case 4:xe();break;case 31:r.memoizedState!==null&&Jn(r);break;case 13:Jn(r);break;case 19:K(Ft);break;case 10:zs(r.type);break;case 22:case 23:Jn(r),Om(),i!==null&&K(za);break;case 24:zs(Yt)}}function Eu(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==f)}}catch(A){ft(r,r.return,A)}}function Mr(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&i)===i){var b=u.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,f=r;var j=o,Q=A;try{Q()}catch(ne){ft(f,j,ne)}}}u=u.next}while(u!==g)}}catch(ne){ft(r,r.return,ne)}}function gb(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{a_(r,o)}catch(u){ft(i,i.return,u)}}}function yb(i,r,o){o.props=Ga(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){ft(i,r,u)}}function wu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){ft(i,r,f)}}function ms(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){ft(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ft(i,r,f)}else o.current=null}function vb(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){ft(i,i.return,f)}}function mp(i,r,o){try{var u=i.stateNode;vI(u,i.type,o,r),u[cn]=r}catch(f){ft(i,i.return,f)}}function _b(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&zr(i.type)||i.tag===4}function pp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||_b(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&zr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function gp(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Mi));else if(u!==4&&(u===27&&zr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(gp(i,r,o),i=i.sibling;i!==null;)gp(i,r,o),i=i.sibling}function Bh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&zr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Bh(i,r,o),i=i.sibling;i!==null;)Bh(i,r,o),i=i.sibling}function bb(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);bn(r,u,o),r[Gt]=i,r[cn]=o}catch(g){ft(i,i.return,g)}}var Gs=!1,Wt=!1,yp=!1,Tb=typeof WeakSet=="function"?WeakSet:Set,fn=null;function W2(i,r){if(i=i.containerInfo,jp=uf,i=M0(i),cm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,A=-1,j=-1,Q=0,ne=0,oe=i,X=null;t:for(;;){for(var te;oe!==o||f!==0&&oe.nodeType!==3||(A=b+f),oe!==g||u!==0&&oe.nodeType!==3||(j=b+u),oe.nodeType===3&&(b+=oe.nodeValue.length),(te=oe.firstChild)!==null;)X=oe,oe=te;for(;;){if(oe===i)break t;if(X===o&&++Q===f&&(A=b),X===g&&++ne===u&&(j=b),(te=oe.nextSibling)!==null)break;oe=X,X=oe.parentNode}oe=te}o=A===-1||j===-1?null:{start:A,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(Up={focusedElem:i,selectionRange:o},uf=!1,fn=r;fn!==null;)if(r=fn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,fn=i;else for(;fn!==null;){switch(r=fn,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Te=Ga(o.type,f);i=u.getSnapshotBeforeUpdate(Te,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ie){ft(o,o.return,Ie)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Fp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Fp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,fn=i;break}fn=r.return}}function Eb(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:$s(i,o),u&4&&Eu(5,o);break;case 1:if($s(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(b){ft(o,o.return,b)}else{var f=Ga(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(b){ft(o,o.return,b)}}u&64&&gb(o),u&512&&wu(o,o.return);break;case 3:if($s(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{a_(i,r)}catch(b){ft(o,o.return,b)}}break;case 27:r===null&&u&4&&bb(o);case 26:case 5:$s(i,o),r===null&&u&4&&vb(o),u&512&&wu(o,o.return);break;case 12:$s(i,o);break;case 31:$s(i,o),u&4&&xb(i,o);break;case 13:$s(i,o),u&4&&Ab(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=aI.bind(null,o),AI(i,o))));break;case 22:if(u=o.memoizedState!==null||Gs,!u){r=r!==null&&r.memoizedState!==null||Wt,f=Gs;var g=Wt;Gs=u,(Wt=r)&&!g?Ys(i,o,(o.subtreeFlags&8772)!==0):$s(i,o),Gs=f,Wt=g}break;case 30:break;default:$s(i,o)}}function wb(i){var r=i.alternate;r!==null&&(i.alternate=null,wb(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&yo(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Rt=null,Un=!1;function Ks(i,r,o){for(o=o.child;o!==null;)Sb(i,r,o),o=o.sibling}function Sb(i,r,o){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Dn,o)}catch{}switch(o.tag){case 26:Wt||ms(o,r),Ks(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Wt||ms(o,r);var u=Rt,f=Un;zr(o.type)&&(Rt=o.stateNode,Un=!1),Ks(i,r,o),ku(o.stateNode),Rt=u,Un=f;break;case 5:Wt||ms(o,r);case 6:if(u=Rt,f=Un,Rt=null,Ks(i,r,o),Rt=u,Un=f,Rt!==null)if(Un)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(o.stateNode)}catch(g){ft(o,r,g)}else try{Rt.removeChild(o.stateNode)}catch(g){ft(o,r,g)}break;case 18:Rt!==null&&(Un?(i=Rt,gT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),tl(i)):gT(Rt,o.stateNode));break;case 4:u=Rt,f=Un,Rt=o.stateNode.containerInfo,Un=!0,Ks(i,r,o),Rt=u,Un=f;break;case 0:case 11:case 14:case 15:Mr(2,o,r),Wt||Mr(4,o,r),Ks(i,r,o);break;case 1:Wt||(ms(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&yb(o,r,u)),Ks(i,r,o);break;case 21:Ks(i,r,o);break;case 22:Wt=(u=Wt)||o.memoizedState!==null,Ks(i,r,o),Wt=u;break;default:Ks(i,r,o)}}function xb(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{tl(i)}catch(o){ft(r,r.return,o)}}}function Ab(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{tl(i)}catch(o){ft(r,r.return,o)}}function Z2(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Tb),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Tb),r;default:throw Error(s(435,i.tag))}}function Fh(i,r){var o=Z2(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var f=oI.bind(null,i,u);u.then(f,f)}})}function zn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=i,b=r,A=b;e:for(;A!==null;){switch(A.tag){case 27:if(zr(A.type)){Rt=A.stateNode,Un=!1;break e}break;case 5:Rt=A.stateNode,Un=!1;break e;case 3:case 4:Rt=A.stateNode.containerInfo,Un=!0;break e}A=A.return}if(Rt===null)throw Error(s(160));Sb(g,b,f),Rt=null,Un=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Cb(r,i),r=r.sibling}var Ui=null;function Cb(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:zn(r,i),Bn(i),u&4&&(Mr(3,i,i.return),Eu(3,i),Mr(5,i,i.return));break;case 1:zn(r,i),Bn(i),u&512&&(Wt||o===null||ms(o,o.return)),u&64&&Gs&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Ui;if(zn(r,i),Bn(i),u&512&&(Wt||o===null||ms(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[es]||g[Gt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),bn(g,u,o),g[Gt]=i,Kt(g),u=g;break e;case"link":var b=CT("link","href",f).get(u+(o.href||""));if(b){for(var A=0;A<b.length;A++)if(g=b[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(A,1);break t}}g=f.createElement(u),bn(g,u,o),f.head.appendChild(g);break;case"meta":if(b=CT("meta","content",f).get(u+(o.content||""))){for(A=0;A<b.length;A++)if(g=b[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(A,1);break t}}g=f.createElement(u),bn(g,u,o),f.head.appendChild(g);break;default:throw Error(s(468,u))}g[Gt]=i,Kt(g),u=g}i.stateNode=u}else RT(f,i.type,i.stateNode);else i.stateNode=AT(f,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?RT(f,i.type,i.stateNode):AT(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&mp(i,i.memoizedProps,o.memoizedProps)}break;case 27:zn(r,i),Bn(i),u&512&&(Wt||o===null||ms(o,o.return)),o!==null&&u&4&&mp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(zn(r,i),Bn(i),u&512&&(Wt||o===null||ms(o,o.return)),i.flags&32){f=i.stateNode;try{jn(f,"")}catch(Te){ft(i,i.return,Te)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,mp(i,f,o!==null?o.memoizedProps:f)),u&1024&&(yp=!0);break;case 6:if(zn(r,i),Bn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(Te){ft(i,i.return,Te)}}break;case 3:if(rf=null,f=Ui,Ui=nf(r.containerInfo),zn(r,i),Ui=f,Bn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{tl(r.containerInfo)}catch(Te){ft(i,i.return,Te)}yp&&(yp=!1,Rb(i));break;case 4:u=Ui,Ui=nf(i.stateNode.containerInfo),zn(r,i),Bn(i),Ui=u;break;case 12:zn(r,i),Bn(i);break;case 31:zn(r,i),Bn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Fh(i,u)));break;case 13:zn(r,i),Bn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(qh=Nt()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Fh(i,u)));break;case 22:f=i.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,Q=Gs,ne=Wt;if(Gs=Q||f,Wt=ne||j,zn(r,i),Wt=ne,Gs=Q,Bn(i),u&8192)e:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||j||Gs||Wt||Ka(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){j=o=r;try{if(g=j.stateNode,f)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=j.stateNode;var oe=j.memoizedProps.style,X=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;A.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Te){ft(j,j.return,Te)}}}else if(r.tag===6){if(o===null){j=r;try{j.stateNode.nodeValue=f?"":j.memoizedProps}catch(Te){ft(j,j.return,Te)}}}else if(r.tag===18){if(o===null){j=r;try{var te=j.stateNode;f?yT(te,!0):yT(j.stateNode,!1)}catch(Te){ft(j,j.return,Te)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Fh(i,o))));break;case 19:zn(r,i),Bn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Fh(i,u)));break;case 30:break;case 21:break;default:zn(r,i),Bn(i)}}function Bn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(_b(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,g=pp(i);Bh(i,g,f);break;case 5:var b=o.stateNode;o.flags&32&&(jn(b,""),o.flags&=-33);var A=pp(i);Bh(i,A,b);break;case 3:case 4:var j=o.stateNode.containerInfo,Q=pp(i);gp(i,Q,j);break;default:throw Error(s(161))}}catch(ne){ft(i,i.return,ne)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Rb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;Rb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function $s(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Eb(i,r.alternate,r),r=r.sibling}function Ka(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Mr(4,r,r.return),Ka(r);break;case 1:ms(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&yb(r,r.return,o),Ka(r);break;case 27:ku(r.stateNode);case 26:case 5:ms(r,r.return),Ka(r);break;case 22:r.memoizedState===null&&Ka(r);break;case 30:Ka(r);break;default:Ka(r)}i=i.sibling}}function Ys(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,g=r,b=g.flags;switch(g.tag){case 0:case 11:case 15:Ys(f,g,o),Eu(4,g);break;case 1:if(Ys(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Q){ft(u,u.return,Q)}if(u=g,f=u.updateQueue,f!==null){var A=u.stateNode;try{var j=f.shared.hiddenCallbacks;if(j!==null)for(f.shared.hiddenCallbacks=null,f=0;f<j.length;f++)r_(j[f],A)}catch(Q){ft(u,u.return,Q)}}o&&b&64&&gb(g),wu(g,g.return);break;case 27:bb(g);case 26:case 5:Ys(f,g,o),o&&u===null&&b&4&&vb(g),wu(g,g.return);break;case 12:Ys(f,g,o);break;case 31:Ys(f,g,o),o&&b&4&&xb(f,g);break;case 13:Ys(f,g,o),o&&b&4&&Ab(f,g);break;case 22:g.memoizedState===null&&Ys(f,g,o),wu(g,g.return);break;case 30:break;default:Ys(f,g,o)}r=r.sibling}}function vp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&uu(o))}function _p(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&uu(i))}function zi(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ib(i,r,o,u),r=r.sibling}function Ib(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:zi(i,r,o,u),f&2048&&Eu(9,r);break;case 1:zi(i,r,o,u);break;case 3:zi(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&uu(i)));break;case 12:if(f&2048){zi(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,b=g.id,A=g.onPostCommit;typeof A=="function"&&A(b,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(j){ft(r,r.return,j)}}else zi(i,r,o,u);break;case 31:zi(i,r,o,u);break;case 13:zi(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,b=r.alternate,r.memoizedState!==null?g._visibility&2?zi(i,r,o,u):Su(i,r):g._visibility&2?zi(i,r,o,u):(g._visibility|=2,qo(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),f&2048&&vp(b,r);break;case 24:zi(i,r,o,u),f&2048&&_p(r.alternate,r);break;default:zi(i,r,o,u)}}function qo(i,r,o,u,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,b=r,A=o,j=u,Q=b.flags;switch(b.tag){case 0:case 11:case 15:qo(g,b,A,j,f),Eu(8,b);break;case 23:break;case 22:var ne=b.stateNode;b.memoizedState!==null?ne._visibility&2?qo(g,b,A,j,f):Su(g,b):(ne._visibility|=2,qo(g,b,A,j,f)),f&&Q&2048&&vp(b.alternate,b);break;case 24:qo(g,b,A,j,f),f&&Q&2048&&_p(b.alternate,b);break;default:qo(g,b,A,j,f)}r=r.sibling}}function Su(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:Su(o,u),f&2048&&vp(u.alternate,u);break;case 24:Su(o,u),f&2048&&_p(u.alternate,u);break;default:Su(o,u)}r=r.sibling}}var xu=8192;function Go(i,r,o){if(i.subtreeFlags&xu)for(i=i.child;i!==null;)Db(i,r,o),i=i.sibling}function Db(i,r,o){switch(i.tag){case 26:Go(i,r,o),i.flags&xu&&i.memoizedState!==null&&jI(o,Ui,i.memoizedState,i.memoizedProps);break;case 5:Go(i,r,o);break;case 3:case 4:var u=Ui;Ui=nf(i.stateNode.containerInfo),Go(i,r,o),Ui=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=xu,xu=16777216,Go(i,r,o),xu=u):Go(i,r,o));break;default:Go(i,r,o)}}function Nb(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Au(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];fn=u,Mb(u,i)}Nb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)kb(i),i=i.sibling}function kb(i){switch(i.tag){case 0:case 11:case 15:Au(i),i.flags&2048&&Mr(9,i,i.return);break;case 3:Au(i);break;case 12:Au(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Hh(i)):Au(i);break;default:Au(i)}}function Hh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];fn=u,Mb(u,i)}Nb(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Mr(8,r,r.return),Hh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Hh(r));break;default:Hh(r)}i=i.sibling}}function Mb(i,r){for(;fn!==null;){var o=fn;switch(o.tag){case 0:case 11:case 15:Mr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:uu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,fn=u;else e:for(o=i;fn!==null;){u=fn;var f=u.sibling,g=u.return;if(wb(u),u===o){fn=null;break e}if(f!==null){f.return=g,fn=f;break e}fn=g}}}var J2={getCacheForType:function(i){var r=vn(Yt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return vn(Yt).controller.signal}},eI=typeof WeakMap=="function"?WeakMap:Map,lt=0,_t=null,Ye=null,Xe=0,ht=0,ei=null,Vr=!1,Ko=!1,bp=!1,Qs=0,jt=0,Pr=0,$a=0,Tp=0,ti=0,$o=0,Cu=null,Fn=null,Ep=!1,qh=0,Vb=0,Gh=1/0,Kh=null,Or=null,sn=0,Lr=null,Yo=null,Xs=0,wp=0,Sp=null,Pb=null,Ru=0,xp=null;function ni(){return(lt&2)!==0&&Xe!==0?Xe&-Xe:Z.T!==null?Np():$c()}function Ob(){if(ti===0)if((Xe&536870912)===0||nt){var i=W;W<<=1,(W&3932160)===0&&(W=262144),ti=i}else ti=536870912;return i=Zn.current,i!==null&&(i.flags|=32),ti}function Hn(i,r,o){(i===_t&&(ht===2||ht===9)||i.cancelPendingCommit!==null)&&(Qo(i,0),jr(i,Xe,ti,!1)),Ta(i,o),((lt&2)===0||i!==_t)&&(i===_t&&((lt&2)===0&&($a|=o),jt===4&&jr(i,Xe,ti,!1)),ps(i))}function Lb(i,r,o){if((lt&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||zt(i,r),f=u?iI(i,r):Cp(i,r,!0),g=u;do{if(f===0){Ko&&!u&&jr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!tI(o)){f=Cp(i,r,!1),g=!1;continue}if(f===2){if(g=r,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var A=i;f=Cu;var j=A.current.memoizedState.isDehydrated;if(j&&(Qo(A,b).flags|=256),b=Cp(A,b,!1),b!==2){if(bp&&!j){A.errorRecoveryDisabledLanes|=g,$a|=g,f=4;break e}g=Fn,Fn=f,g!==null&&(Fn===null?Fn=g:Fn.push.apply(Fn,g))}f=b}if(g=!1,f!==2)continue}}if(f===1){Qo(i,0),jr(i,r,0,!0);break}e:{switch(u=i,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:jr(u,r,ti,!Vr);break e;case 2:Fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=qh+300-Nt(),10<f)){if(jr(u,r,ti,!Vr),At(u,0,!0)!==0)break e;Xs=r,u.timeoutHandle=mT(jb.bind(null,u,o,Fn,Kh,Ep,r,ti,$a,$o,Vr,g,"Throttled",-0,0),f);break e}jb(u,o,Fn,Kh,Ep,r,ti,$a,$o,Vr,g,null,-0,0)}}break}while(!0);ps(i)}function jb(i,r,o,u,f,g,b,A,j,Q,ne,oe,X,te){if(i.timeoutHandle=-1,oe=r.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mi},Db(r,g,oe);var Te=(g&62914560)===g?qh-Nt():(g&4194048)===g?Vb-Nt():0;if(Te=UI(oe,Te),Te!==null){Xs=g,i.cancelPendingCommit=Te(Kb.bind(null,i,r,g,o,u,f,b,A,j,ne,oe,null,X,te)),jr(i,g,b,!Q);return}}Kb(i,r,g,o,u,f,b,A,j)}function tI(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!Xn(g(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function jr(i,r,o,u){r&=~Tp,r&=~$a,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var g=31-Ot(f),b=1<<g;u[g]=-1,f&=~b}o!==0&&Ea(i,o,r)}function $h(){return(lt&6)===0?(Iu(0),!1):!0}function Ap(){if(Ye!==null){if(ht===0)var i=Ye.return;else i=Ye,Us=ja=null,Fm(i),Uo=null,hu=0,i=Ye;for(;i!==null;)pb(i.alternate,i),i=i.return;Ye=null}}function Qo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,TI(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Xs=0,Ap(),_t=i,Ye=o=Ls(i.current,null),Xe=r,ht=0,ei=null,Vr=!1,Ko=zt(i,r),bp=!1,$o=ti=Tp=$a=Pr=jt=0,Fn=Cu=null,Ep=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-Ot(u),g=1<<f;r|=i[f],u&=~g}return Qs=r,mh(),o}function Ub(i,r){ze=null,Z.H=_u,r===jo||r===Eh?(r=t_(),ht=3):r===Dm?(r=t_(),ht=4):ht=r===sp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ei=r,Ye===null&&(jt=1,Oh(i,fi(r,i.current)))}function zb(){var i=Zn.current;return i===null?!0:(Xe&4194048)===Xe?gi===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?i===gi:!1}function Bb(){var i=Z.H;return Z.H=_u,i===null?_u:i}function Fb(){var i=Z.A;return Z.A=J2,i}function Yh(){jt=4,Vr||(Xe&4194048)!==Xe&&Zn.current!==null||(Ko=!0),(Pr&134217727)===0&&($a&134217727)===0||_t===null||jr(_t,Xe,ti,!1)}function Cp(i,r,o){var u=lt;lt|=2;var f=Bb(),g=Fb();(_t!==i||Xe!==r)&&(Kh=null,Qo(i,r)),r=!1;var b=jt;e:do try{if(ht!==0&&Ye!==null){var A=Ye,j=ei;switch(ht){case 8:Ap(),b=6;break e;case 3:case 2:case 9:case 6:Zn.current===null&&(r=!0);var Q=ht;if(ht=0,ei=null,Xo(i,A,j,Q),o&&Ko){b=0;break e}break;default:Q=ht,ht=0,ei=null,Xo(i,A,j,Q)}}nI(),b=jt;break}catch(ne){Ub(i,ne)}while(!0);return r&&i.shellSuspendCounter++,Us=ja=null,lt=u,Z.H=f,Z.A=g,Ye===null&&(_t=null,Xe=0,mh()),b}function nI(){for(;Ye!==null;)Hb(Ye)}function iI(i,r){var o=lt;lt|=2;var u=Bb(),f=Fb();_t!==i||Xe!==r?(Kh=null,Gh=Nt()+500,Qo(i,r)):Ko=zt(i,r);e:do try{if(ht!==0&&Ye!==null){r=Ye;var g=ei;t:switch(ht){case 1:ht=0,ei=null,Xo(i,r,g,1);break;case 2:case 9:if(J0(g)){ht=0,ei=null,qb(r);break}r=function(){ht!==2&&ht!==9||_t!==i||(ht=7),ps(i)},g.then(r,r);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:J0(g)?(ht=0,ei=null,qb(r)):(ht=0,ei=null,Xo(i,r,g,7));break;case 5:var b=null;switch(Ye.tag){case 26:b=Ye.memoizedState;case 5:case 27:var A=Ye;if(b?IT(b):A.stateNode.complete){ht=0,ei=null;var j=A.sibling;if(j!==null)Ye=j;else{var Q=A.return;Q!==null?(Ye=Q,Qh(Q)):Ye=null}break t}}ht=0,ei=null,Xo(i,r,g,5);break;case 6:ht=0,ei=null,Xo(i,r,g,6);break;case 8:Ap(),jt=6;break e;default:throw Error(s(462))}}sI();break}catch(ne){Ub(i,ne)}while(!0);return Us=ja=null,Z.H=u,Z.A=f,lt=o,Ye!==null?0:(_t=null,Xe=0,mh(),jt)}function sI(){for(;Ye!==null&&!fr();)Hb(Ye)}function Hb(i){var r=db(i.alternate,i,Qs);i.memoizedProps=i.pendingProps,r===null?Qh(i):Ye=r}function qb(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=ob(o,r,r.pendingProps,r.type,void 0,Xe);break;case 11:r=ob(o,r,r.pendingProps,r.type.render,r.ref,Xe);break;case 5:Fm(r);default:pb(o,r),r=Ye=F0(r,Qs),r=db(o,r,Qs)}i.memoizedProps=i.pendingProps,r===null?Qh(i):Ye=r}function Xo(i,r,o,u){Us=ja=null,Fm(r),Uo=null,hu=0;var f=r.return;try{if(K2(i,f,r,o,Xe)){jt=1,Oh(i,fi(o,i.current)),Ye=null;return}}catch(g){if(f!==null)throw Ye=f,g;jt=1,Oh(i,fi(o,i.current)),Ye=null;return}r.flags&32768?(nt||u===1?i=!0:Ko||(Xe&536870912)!==0?i=!1:(Vr=i=!0,(u===2||u===9||u===3||u===6)&&(u=Zn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Gb(r,i)):Qh(r)}function Qh(i){var r=i;do{if((r.flags&32768)!==0){Gb(r,Vr);return}i=r.return;var o=Q2(r.alternate,r,Qs);if(o!==null){Ye=o;return}if(r=r.sibling,r!==null){Ye=r;return}Ye=r=i}while(r!==null);jt===0&&(jt=5)}function Gb(i,r){do{var o=X2(i.alternate,i);if(o!==null){o.flags&=32767,Ye=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ye=i;return}Ye=i=o}while(i!==null);jt=6,Ye=null}function Kb(i,r,o,u,f,g,b,A,j){i.cancelPendingCommit=null;do Xh();while(sn!==0);if((lt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=pm,am(i,o,g,b,A,j),i===_t&&(Ye=_t=null,Xe=0),Yo=r,Lr=i,Xs=o,wp=g,Sp=f,Pb=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,lI(Kn,function(){return Wb(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,f=he.p,he.p=2,b=lt,lt|=4;try{W2(i,r,o)}finally{lt=b,he.p=f,Z.T=u}}sn=1,$b(),Yb(),Qb()}}function $b(){if(sn===1){sn=0;var i=Lr,r=Yo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=he.p;he.p=2;var f=lt;lt|=4;try{Cb(r,i);var g=Up,b=M0(i.containerInfo),A=g.focusedElem,j=g.selectionRange;if(b!==A&&A&&A.ownerDocument&&k0(A.ownerDocument.documentElement,A)){if(j!==null&&cm(A)){var Q=j.start,ne=j.end;if(ne===void 0&&(ne=Q),"selectionStart"in A)A.selectionStart=Q,A.selectionEnd=Math.min(ne,A.value.length);else{var oe=A.ownerDocument||document,X=oe&&oe.defaultView||window;if(X.getSelection){var te=X.getSelection(),Te=A.textContent.length,Ie=Math.min(j.start,Te),gt=j.end===void 0?Ie:Math.min(j.end,Te);!te.extend&&Ie>gt&&(b=gt,gt=Ie,Ie=b);var G=N0(A,Ie),z=N0(A,gt);if(G&&z&&(te.rangeCount!==1||te.anchorNode!==G.node||te.anchorOffset!==G.offset||te.focusNode!==z.node||te.focusOffset!==z.offset)){var Y=oe.createRange();Y.setStart(G.node,G.offset),te.removeAllRanges(),Ie>gt?(te.addRange(Y),te.extend(z.node,z.offset)):(Y.setEnd(z.node,z.offset),te.addRange(Y))}}}}for(oe=[],te=A;te=te.parentNode;)te.nodeType===1&&oe.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<oe.length;A++){var se=oe[A];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}uf=!!jp,Up=jp=null}finally{lt=f,he.p=u,Z.T=o}}i.current=r,sn=2}}function Yb(){if(sn===2){sn=0;var i=Lr,r=Yo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=he.p;he.p=2;var f=lt;lt|=4;try{Eb(i,r.alternate,r)}finally{lt=f,he.p=u,Z.T=o}}sn=3}}function Qb(){if(sn===4||sn===3){sn=0,Ns();var i=Lr,r=Yo,o=Xs,u=Pb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?sn=5:(sn=0,Yo=Lr=null,Xb(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Or=null),Ms(o),r=r.stateNode,nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Dn,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Z.T,f=he.p,he.p=2,Z.T=null;try{for(var g=i.onRecoverableError,b=0;b<u.length;b++){var A=u[b];g(A.value,{componentStack:A.stack})}}finally{Z.T=r,he.p=f}}(Xs&3)!==0&&Xh(),ps(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===xp?Ru++:(Ru=0,xp=i):Ru=0,Iu(0)}}function Xb(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,uu(r)))}function Xh(){return $b(),Yb(),Qb(),Wb()}function Wb(){if(sn!==5)return!1;var i=Lr,r=wp;wp=0;var o=Ms(Xs),u=Z.T,f=he.p;try{he.p=32>o?32:o,Z.T=null,o=Sp,Sp=null;var g=Lr,b=Xs;if(sn=0,Yo=Lr=null,Xs=0,(lt&6)!==0)throw Error(s(331));var A=lt;if(lt|=4,kb(g.current),Ib(g,g.current,b,o),lt=A,Iu(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Dn,g)}catch{}return!0}finally{he.p=f,Z.T=u,Xb(i,r)}}function Zb(i,r,o){r=fi(o,r),r=ip(i.stateNode,r,2),i=Dr(i,r,2),i!==null&&(Ta(i,2),ps(i))}function ft(i,r,o){if(i.tag===3)Zb(i,i,o);else for(;r!==null;){if(r.tag===3){Zb(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Or===null||!Or.has(u))){i=fi(o,i),o=J_(2),u=Dr(r,o,2),u!==null&&(eb(o,u,r,i),Ta(u,2),ps(u));break}}r=r.return}}function Rp(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new eI;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(bp=!0,f.add(o),i=rI.bind(null,i,r,o),r.then(i,i))}function rI(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,_t===i&&(Xe&o)===o&&(jt===4||jt===3&&(Xe&62914560)===Xe&&300>Nt()-qh?(lt&2)===0&&Qo(i,0):Tp|=o,$o===Xe&&($o=0)),ps(i)}function Jb(i,r){r===0&&(r=Di()),i=Pa(i,r),i!==null&&(Ta(i,r),ps(i))}function aI(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),Jb(i,o)}function oI(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),Jb(i,o)}function lI(i,r){return tt(i,r)}var Wh=null,Wo=null,Ip=!1,Zh=!1,Dp=!1,Ur=0;function ps(i){i!==Wo&&i.next===null&&(Wo===null?Wh=Wo=i:Wo=Wo.next=i),Zh=!0,Ip||(Ip=!0,cI())}function Iu(i,r){if(!Dp&&Zh){Dp=!0;do for(var o=!1,u=Wh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var b=u.suspendedLanes,A=u.pingedLanes;g=(1<<31-Ot(42|i)+1)-1,g&=f&~(b&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,iT(u,g))}else g=Xe,g=At(u,u===_t?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||zt(u,g)||(o=!0,iT(u,g));u=u.next}while(o);Dp=!1}}function uI(){eT()}function eT(){Zh=Ip=!1;var i=0;Ur!==0&&bI()&&(i=Ur);for(var r=Nt(),o=null,u=Wh;u!==null;){var f=u.next,g=tT(u,r);g===0?(u.next=null,o===null?Wh=f:o.next=f,f===null&&(Wo=o)):(o=u,(i!==0||(g&3)!==0)&&(Zh=!0)),u=f}sn!==0&&sn!==5||Iu(i),Ur!==0&&(Ur=0)}function tT(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-Ot(g),A=1<<b,j=f[b];j===-1?((A&o)===0||(A&u)!==0)&&(f[b]=Zi(A,r)):j<=r&&(i.expiredLanes|=A),g&=~A}if(r=_t,o=Xe,o=At(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(ht===2||ht===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&wn(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||zt(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&wn(u),Ms(o)){case 2:case 8:o=ks;break;case 32:o=Kn;break;case 268435456:o=Ii;break;default:o=Kn}return u=nT.bind(null,i),o=tt(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&wn(u),i.callbackPriority=2,i.callbackNode=null,2}function nT(i,r){if(sn!==0&&sn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Xh()&&i.callbackNode!==o)return null;var u=Xe;return u=At(i,i===_t?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(Lb(i,u,r),tT(i,Nt()),i.callbackNode!=null&&i.callbackNode===o?nT.bind(null,i):null)}function iT(i,r){if(Xh())return null;Lb(i,r,!0)}function cI(){EI(function(){(lt&6)!==0?tt(Ri,uI):eT()})}function Np(){if(Ur===0){var i=Oo;i===0&&(i=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Ur=i}return Ur}function sT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:To(""+i)}function rT(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function hI(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var g=sT((f[cn]||null).action),b=u.submitter;b&&(r=(r=b[cn]||null)?sT(r.formAction):b.getAttribute("formAction"),r!==null&&(g=r,b=null));var A=new ls("action","action",null,u,f);i.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ur!==0){var j=b?rT(f,b):new FormData(f);Wm(o,{pending:!0,data:j,method:f.method,action:g},null,j)}}else typeof g=="function"&&(A.preventDefault(),j=b?rT(f,b):new FormData(f),Wm(o,{pending:!0,data:j,method:f.method,action:g},g,j))},currentTarget:f}]})}}for(var kp=0;kp<mm.length;kp++){var Mp=mm[kp],fI=Mp.toLowerCase(),dI=Mp[0].toUpperCase()+Mp.slice(1);ji(fI,"on"+dI)}ji(O0,"onAnimationEnd"),ji(L0,"onAnimationIteration"),ji(j0,"onAnimationStart"),ji("dblclick","onDoubleClick"),ji("focusin","onFocus"),ji("focusout","onBlur"),ji(I2,"onTransitionRun"),ji(D2,"onTransitionStart"),ji(N2,"onTransitionCancel"),ji(U0,"onTransitionEnd"),ss("onMouseEnter",["mouseout","mouseover"]),ss("onMouseLeave",["mouseout","mouseover"]),ss("onPointerEnter",["pointerout","pointerover"]),ss("onPointerLeave",["pointerout","pointerover"]),is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),is("onBeforeInput",["compositionend","keypress","textInput","paste"]),is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function aT(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var b=u.length-1;0<=b;b--){var A=u[b],j=A.instance,Q=A.currentTarget;if(A=A.listener,j!==g&&f.isPropagationStopped())break e;g=A,f.currentTarget=Q;try{g(f)}catch(ne){dh(ne)}f.currentTarget=null,g=j}else for(b=0;b<u.length;b++){if(A=u[b],j=A.instance,Q=A.currentTarget,A=A.listener,j!==g&&f.isPropagationStopped())break e;g=A,f.currentTarget=Q;try{g(f)}catch(ne){dh(ne)}f.currentTarget=null,g=j}}}}function Qe(i,r){var o=r[go];o===void 0&&(o=r[go]=new Set);var u=i+"__bubble";o.has(u)||(oT(r,i,2,!1),o.add(u))}function Vp(i,r,o){var u=0;r&&(u|=4),oT(o,i,u,r)}var Jh="_reactListening"+Math.random().toString(36).slice(2);function Pp(i){if(!i[Jh]){i[Jh]=!0,Fl.forEach(function(o){o!=="selectionchange"&&(mI.has(o)||Vp(o,!1,i),Vp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Jh]||(r[Jh]=!0,Vp("selectionchange",!1,r))}}function oT(i,r,o,u){switch(OT(r)){case 2:var f=FI;break;case 8:f=HI;break;default:f=Xp}o=f.bind(null,r,o,i),f=void 0,!Ca||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function Op(i,r,o,u,f){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var A=u.stateNode.containerInfo;if(A===f)break;if(b===4)for(b=u.return;b!==null;){var j=b.tag;if((j===3||j===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;A!==null;){if(b=ts(A),b===null)return;if(j=b.tag,j===5||j===6||j===26||j===27){u=g=b;continue e}A=A.parentNode}}u=u.return}br(function(){var Q=g,ne=li(o),oe=[];e:{var X=z0.get(i);if(X!==void 0){var te=ls,Te=i;switch(i){case"keypress":if(Ia(o)===0)break e;case"keydown":case"keyup":te=ch;break;case"focusin":Te="focus",te=Na;break;case"focusout":Te="blur",te=Na;break;case"beforeblur":case"afterblur":te=Na;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=tu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=th;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=_;break;case O0:case L0:case j0:te=ih;break;case U0:te=I;break;case"scroll":case"scrollend":te=eu;break;case"wheel":te=J;break;case"copy":case"cut":case"paste":te=sh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Os;break;case"toggle":case"beforetoggle":te=Ue}var Ie=(r&4)!==0,gt=!Ie&&(i==="scroll"||i==="scrollend"),G=Ie?X!==null?X+"Capture":null:X;Ie=[];for(var z=Q,Y;z!==null;){var se=z;if(Y=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Y===null||G===null||(se=Vi(z,G),se!=null&&Ie.push(Nu(z,se,Y))),gt)break;z=z.return}0<Ie.length&&(X=new te(X,Te,null,o,ne),oe.push({event:X,listeners:Ie}))}}if((r&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",te=i==="mouseout"||i==="pointerout",X&&o!==Wl&&(Te=o.relatedTarget||o.fromElement)&&(ts(Te)||Te[Ji]))break e;if((te||X)&&(X=ne.window===ne?ne:(X=ne.ownerDocument)?X.defaultView||X.parentWindow:window,te?(Te=o.relatedTarget||o.toElement,te=Q,Te=Te?ts(Te):null,Te!==null&&(gt=l(Te),Ie=Te.tag,Te!==gt||Ie!==5&&Ie!==27&&Ie!==6)&&(Te=null)):(te=null,Te=Q),te!==Te)){if(Ie=tu,se="onMouseLeave",G="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(Ie=Os,se="onPointerLeave",G="onPointerEnter",z="pointer"),gt=te==null?X:Yn(te),Y=Te==null?X:Yn(Te),X=new Ie(se,z+"leave",te,o,ne),X.target=gt,X.relatedTarget=Y,se=null,ts(ne)===Q&&(Ie=new Ie(G,z+"enter",Te,o,ne),Ie.target=Y,Ie.relatedTarget=gt,se=Ie),gt=se,te&&Te)t:{for(Ie=pI,G=te,z=Te,Y=0,se=G;se;se=Ie(se))Y++;se=0;for(var Re=z;Re;Re=Ie(Re))se++;for(;0<Y-se;)G=Ie(G),Y--;for(;0<se-Y;)z=Ie(z),se--;for(;Y--;){if(G===z||z!==null&&G===z.alternate){Ie=G;break t}G=Ie(G),z=Ie(z)}Ie=null}else Ie=null;te!==null&&lT(oe,X,te,Ie,!1),Te!==null&&gt!==null&&lT(oe,gt,Te,Ie,!0)}}e:{if(X=Q?Yn(Q):window,te=X.nodeName&&X.nodeName.toLowerCase(),te==="select"||te==="input"&&X.type==="file")var rt=x0;else if(w0(X))if(A0)rt=A2;else{rt=S2;var Ae=w2}else te=X.nodeName,!te||te.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Q&&bo(Q.elementType)&&(rt=x0):rt=x2;if(rt&&(rt=rt(i,Q))){S0(oe,rt,o,ne);break e}Ae&&Ae(i,X,Q),i==="focusout"&&Q&&X.type==="number"&&Q.memoizedProps.value!=null&&Yl(X,"number",X.value)}switch(Ae=Q?Yn(Q):window,i){case"focusin":(w0(Ae)||Ae.contentEditable==="true")&&(Ro=Ae,hm=Q,au=null);break;case"focusout":au=hm=Ro=null;break;case"mousedown":fm=!0;break;case"contextmenu":case"mouseup":case"dragend":fm=!1,V0(oe,o,ne);break;case"selectionchange":if(R2)break;case"keydown":case"keyup":V0(oe,o,ne)}var Be;if(ot)e:{switch(i){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Co?ka(i,o)&&(We="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(We="onCompositionStart");We&&(hs&&o.locale!=="ko"&&(Co||We!=="onCompositionStart"?We==="onCompositionEnd"&&Co&&(Be=Jl()):(os=ne,Zl="value"in os?os.value:os.textContent,Co=!0)),Ae=ef(Q,We),0<Ae.length&&(We=new cs(We,i,null,o,ne),oe.push({event:We,listeners:Ae}),Be?We.data=Be:(Be=Ao(o),Be!==null&&(We.data=Be)))),(Be=ci?_2(i,o):b2(i,o))&&(We=ef(Q,"onBeforeInput"),0<We.length&&(Ae=new cs("onBeforeInput","beforeinput",null,o,ne),oe.push({event:Ae,listeners:We}),Ae.data=Be)),hI(oe,i,Q,o,ne)}aT(oe,r)})}function Nu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function ef(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Vi(i,o),f!=null&&u.unshift(Nu(i,f,g)),f=Vi(i,r),f!=null&&u.push(Nu(i,f,g))),i.tag===3)return u;i=i.return}return[]}function pI(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function lT(i,r,o,u,f){for(var g=r._reactName,b=[];o!==null&&o!==u;){var A=o,j=A.alternate,Q=A.stateNode;if(A=A.tag,j!==null&&j===u)break;A!==5&&A!==26&&A!==27||Q===null||(j=Q,f?(Q=Vi(o,g),Q!=null&&b.unshift(Nu(o,Q,j))):f||(Q=Vi(o,g),Q!=null&&b.push(Nu(o,Q,j)))),o=o.return}b.length!==0&&i.push({event:r,listeners:b})}var gI=/\r\n?/g,yI=/\u0000|\uFFFD/g;function uT(i){return(typeof i=="string"?i:""+i).replace(gI,`
`).replace(yI,"")}function cT(i,r){return r=uT(r),uT(i)===r}function pt(i,r,o,u,f,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||jn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&jn(i,""+u);break;case"className":Qn(i,"class",u);break;case"tabIndex":Qn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Qn(i,o,u);break;case"style":Xl(i,u,g);break;case"data":if(r!=="object"){Qn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=To(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&pt(i,r,"name",f.name,f,null),pt(i,r,"formEncType",f.formEncType,f,null),pt(i,r,"formMethod",f.formMethod,f,null),pt(i,r,"formTarget",f.formTarget,f,null)):(pt(i,r,"encType",f.encType,f,null),pt(i,r,"method",f.method,f,null),pt(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=To(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Mi);break;case"onScroll":u!=null&&Qe("scroll",i);break;case"onScrollEnd":u!=null&&Qe("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=To(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Qe("beforetoggle",i),Qe("toggle",i),vo(i,"popover",u);break;case"xlinkActuate":$t(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":$t(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":$t(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":$t(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":$t(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":$t(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":$t(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":$t(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":$t(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":vo(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=eh.get(o)||o,vo(i,o,u))}}function Lp(i,r,o,u,f,g){switch(o){case"style":Xl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?jn(i,u):(typeof u=="number"||typeof u=="bigint")&&jn(i,""+u);break;case"onScroll":u!=null&&Qe("scroll",i);break;case"onScrollEnd":u!=null&&Qe("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Mi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),g=i[cn]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):vo(i,o,u)}}}function bn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",i),Qe("load",i);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:pt(i,r,g,b,o,null)}}f&&pt(i,r,"srcSet",o.srcSet,o,null),u&&pt(i,r,"src",o.src,o,null);return;case"input":Qe("invalid",i);var A=g=b=f=null,j=null,Q=null;for(u in o)if(o.hasOwnProperty(u)){var ne=o[u];if(ne!=null)switch(u){case"name":f=ne;break;case"type":b=ne;break;case"checked":j=ne;break;case"defaultChecked":Q=ne;break;case"value":g=ne;break;case"defaultValue":A=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,r));break;default:pt(i,r,u,ne,o,null)}}Wc(i,g,A,j,Q,b,f,!1);return;case"select":Qe("invalid",i),u=b=g=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":g=A;break;case"defaultValue":b=A;break;case"multiple":u=A;default:pt(i,r,f,A,o,null)}r=g,o=b,i.multiple=!!u,r!=null?gr(i,!!u,r,!1):o!=null&&gr(i,!!u,o,!0);return;case"textarea":Qe("invalid",i),g=f=u=null;for(b in o)if(o.hasOwnProperty(b)&&(A=o[b],A!=null))switch(b){case"value":u=A;break;case"defaultValue":f=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:pt(i,r,b,A,o,null)}yr(i,u,f,g);return;case"option":for(j in o)o.hasOwnProperty(j)&&(u=o[j],u!=null)&&(j==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":pt(i,r,j,u,o,null));return;case"dialog":Qe("beforetoggle",i),Qe("toggle",i),Qe("cancel",i),Qe("close",i);break;case"iframe":case"object":Qe("load",i);break;case"video":case"audio":for(u=0;u<Du.length;u++)Qe(Du[u],i);break;case"image":Qe("error",i),Qe("load",i);break;case"details":Qe("toggle",i);break;case"embed":case"source":case"link":Qe("error",i),Qe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(u=o[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:pt(i,r,Q,u,o,null)}return;default:if(bo(r)){for(ne in o)o.hasOwnProperty(ne)&&(u=o[ne],u!==void 0&&Lp(i,r,ne,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&pt(i,r,A,u,o,null))}function vI(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,b=null,A=null,j=null,Q=null,ne=null;for(te in o){var oe=o[te];if(o.hasOwnProperty(te)&&oe!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":j=oe;default:u.hasOwnProperty(te)||pt(i,r,te,null,u,oe)}}for(var X in u){var te=u[X];if(oe=o[X],u.hasOwnProperty(X)&&(te!=null||oe!=null))switch(X){case"type":g=te;break;case"name":f=te;break;case"checked":Q=te;break;case"defaultChecked":ne=te;break;case"value":b=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,r));break;default:te!==oe&&pt(i,r,X,te,u,oe)}}_o(i,b,A,j,Q,ne,g,f);return;case"select":te=b=A=X=null;for(g in o)if(j=o[g],o.hasOwnProperty(g)&&j!=null)switch(g){case"value":break;case"multiple":te=j;default:u.hasOwnProperty(g)||pt(i,r,g,null,u,j)}for(f in u)if(g=u[f],j=o[f],u.hasOwnProperty(f)&&(g!=null||j!=null))switch(f){case"value":X=g;break;case"defaultValue":A=g;break;case"multiple":b=g;default:g!==j&&pt(i,r,f,g,u,j)}r=A,o=b,u=te,X!=null?gr(i,!!o,X,!1):!!u!=!!o&&(r!=null?gr(i,!!o,r,!0):gr(i,!!o,o?[]:"",!1));return;case"textarea":te=X=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:pt(i,r,A,null,u,f)}for(b in u)if(f=u[b],g=o[b],u.hasOwnProperty(b)&&(f!=null||g!=null))switch(b){case"value":X=f;break;case"defaultValue":te=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&pt(i,r,b,f,u,g)}Zc(i,X,te);return;case"option":for(var Te in o)X=o[Te],o.hasOwnProperty(Te)&&X!=null&&!u.hasOwnProperty(Te)&&(Te==="selected"?i.selected=!1:pt(i,r,Te,null,u,X));for(j in u)X=u[j],te=o[j],u.hasOwnProperty(j)&&X!==te&&(X!=null||te!=null)&&(j==="selected"?i.selected=X&&typeof X!="function"&&typeof X!="symbol":pt(i,r,j,X,u,te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in o)X=o[Ie],o.hasOwnProperty(Ie)&&X!=null&&!u.hasOwnProperty(Ie)&&pt(i,r,Ie,null,u,X);for(Q in u)if(X=u[Q],te=o[Q],u.hasOwnProperty(Q)&&X!==te&&(X!=null||te!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:pt(i,r,Q,X,u,te)}return;default:if(bo(r)){for(var gt in o)X=o[gt],o.hasOwnProperty(gt)&&X!==void 0&&!u.hasOwnProperty(gt)&&Lp(i,r,gt,void 0,u,X);for(ne in u)X=u[ne],te=o[ne],!u.hasOwnProperty(ne)||X===te||X===void 0&&te===void 0||Lp(i,r,ne,X,u,te);return}}for(var G in o)X=o[G],o.hasOwnProperty(G)&&X!=null&&!u.hasOwnProperty(G)&&pt(i,r,G,null,u,X);for(oe in u)X=u[oe],te=o[oe],!u.hasOwnProperty(oe)||X===te||X==null&&te==null||pt(i,r,oe,X,u,te)}function hT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _I(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],g=f.transferSize,b=f.initiatorType,A=f.duration;if(g&&A&&hT(b)){for(b=0,A=f.responseEnd,u+=1;u<o.length;u++){var j=o[u],Q=j.startTime;if(Q>A)break;var ne=j.transferSize,oe=j.initiatorType;ne&&hT(oe)&&(j=j.responseEnd,b+=ne*(j<A?1:(A-Q)/(j-Q)))}if(--u,r+=8*(g+b)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var jp=null,Up=null;function tf(i){return i.nodeType===9?i:i.ownerDocument}function fT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dT(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function zp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Bp=null;function bI(){var i=window.event;return i&&i.type==="popstate"?i===Bp?!1:(Bp=i,!0):(Bp=null,!1)}var mT=typeof setTimeout=="function"?setTimeout:void 0,TI=typeof clearTimeout=="function"?clearTimeout:void 0,pT=typeof Promise=="function"?Promise:void 0,EI=typeof queueMicrotask=="function"?queueMicrotask:typeof pT<"u"?function(i){return pT.resolve(null).then(i).catch(wI)}:mT;function wI(i){setTimeout(function(){throw i})}function zr(i){return i==="head"}function gT(i,r){var o=r,u=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(f),tl(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")ku(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,ku(o);for(var g=o.firstChild;g;){var b=g.nextSibling,A=g.nodeName;g[es]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=b}}else o==="body"&&ku(i.ownerDocument.body);o=f}while(o);tl(r)}function yT(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Fp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Fp(o),yo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function SI(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[es])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=yi(i.nextSibling),i===null)break}return null}function xI(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=yi(i.nextSibling),i===null))return null;return i}function vT(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=yi(i.nextSibling),i===null))return null;return i}function Hp(i){return i.data==="$?"||i.data==="$~"}function qp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function AI(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function yi(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Gp=null;function _T(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return yi(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function bT(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function TT(i,r,o){switch(r=tf(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function ku(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);yo(i)}var vi=new Map,ET=new Set;function nf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ws=he.d;he.d={f:CI,r:RI,D:II,C:DI,L:NI,m:kI,X:VI,S:MI,M:PI};function CI(){var i=Ws.f(),r=$h();return i||r}function RI(i){var r=oi(i);r!==null&&r.tag===5&&r.type==="form"?U_(r):Ws.r(i)}var Zo=typeof document>"u"?null:document;function wT(i,r,o){var u=Zo;if(u&&typeof r=="string"&&r){var f=Ln(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),ET.has(f)||(ET.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),bn(r,"link",i),Kt(r),u.head.appendChild(r)))}}function II(i){Ws.D(i),wT("dns-prefetch",i,null)}function DI(i,r){Ws.C(i,r),wT("preconnect",i,r)}function NI(i,r,o){Ws.L(i,r,o);var u=Zo;if(u&&i&&r){var f='link[rel="preload"][as="'+Ln(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Ln(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Ln(o.imageSizes)+'"]')):f+='[href="'+Ln(i)+'"]';var g=f;switch(r){case"style":g=Jo(i);break;case"script":g=el(i)}vi.has(g)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),vi.set(g,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(Mu(g))||r==="script"&&u.querySelector(Vu(g))||(r=u.createElement("link"),bn(r,"link",i),Kt(r),u.head.appendChild(r)))}}function kI(i,r){Ws.m(i,r);var o=Zo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Ln(u)+'"][href="'+Ln(i)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=el(i)}if(!vi.has(g)&&(i=v({rel:"modulepreload",href:i},r),vi.set(g,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Vu(g)))return}u=o.createElement("link"),bn(u,"link",i),Kt(u),o.head.appendChild(u)}}}function MI(i,r,o){Ws.S(i,r,o);var u=Zo;if(u&&i){var f=ns(u).hoistableStyles,g=Jo(i);r=r||"default";var b=f.get(g);if(!b){var A={loading:0,preload:null};if(b=u.querySelector(Mu(g)))A.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=vi.get(g))&&Kp(i,o);var j=b=u.createElement("link");Kt(j),bn(j,"link",i),j._p=new Promise(function(Q,ne){j.onload=Q,j.onerror=ne}),j.addEventListener("load",function(){A.loading|=1}),j.addEventListener("error",function(){A.loading|=2}),A.loading|=4,sf(b,r,u)}b={type:"stylesheet",instance:b,count:1,state:A},f.set(g,b)}}}function VI(i,r){Ws.X(i,r);var o=Zo;if(o&&i){var u=ns(o).hoistableScripts,f=el(i),g=u.get(f);g||(g=o.querySelector(Vu(f)),g||(i=v({src:i,async:!0},r),(r=vi.get(f))&&$p(i,r),g=o.createElement("script"),Kt(g),bn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function PI(i,r){Ws.M(i,r);var o=Zo;if(o&&i){var u=ns(o).hoistableScripts,f=el(i),g=u.get(f);g||(g=o.querySelector(Vu(f)),g||(i=v({src:i,async:!0,type:"module"},r),(r=vi.get(f))&&$p(i,r),g=o.createElement("script"),Kt(g),bn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function ST(i,r,o,u){var f=(f=pe.current)?nf(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Jo(o.href),o=ns(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Jo(o.href);var g=ns(f).hoistableStyles,b=g.get(i);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=f.querySelector(Mu(i)))&&!g._p&&(b.instance=g,b.state.loading=5),vi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},vi.set(i,o),g||OI(f,i,o,b.state))),r&&u===null)throw Error(s(528,""));return b}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=el(o),o=ns(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Jo(i){return'href="'+Ln(i)+'"'}function Mu(i){return'link[rel="stylesheet"]['+i+"]"}function xT(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function OI(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),bn(r,"link",o),Kt(r),i.head.appendChild(r))}function el(i){return'[src="'+Ln(i)+'"]'}function Vu(i){return"script[async]"+i}function AT(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+Ln(o.href)+'"]');if(u)return r.instance=u,Kt(u),u;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Kt(u),bn(u,"style",f),sf(u,o.precedence,i),r.instance=u;case"stylesheet":f=Jo(o.href);var g=i.querySelector(Mu(f));if(g)return r.state.loading|=4,r.instance=g,Kt(g),g;u=xT(o),(f=vi.get(f))&&Kp(u,f),g=(i.ownerDocument||i).createElement("link"),Kt(g);var b=g;return b._p=new Promise(function(A,j){b.onload=A,b.onerror=j}),bn(g,"link",u),r.state.loading|=4,sf(g,o.precedence,i),r.instance=g;case"script":return g=el(o.src),(f=i.querySelector(Vu(g)))?(r.instance=f,Kt(f),f):(u=o,(f=vi.get(g))&&(u=v({},o),$p(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),Kt(f),bn(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,sf(u,o.precedence,i));return r.instance}function sf(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,b=0;b<u.length;b++){var A=u[b];if(A.dataset.precedence===r)g=A;else if(g!==f)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Kp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function $p(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var rf=null;function CT(i,r,o){if(rf===null){var u=new Map,f=rf=new Map;f.set(o,u)}else f=rf,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var g=o[f];if(!(g[es]||g[Gt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(r)||"";b=i+b;var A=u.get(b);A?A.push(g):u.set(b,[g])}}return u}function RT(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function LI(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function IT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function jI(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Jo(u.href),g=r.querySelector(Mu(f));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=af.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Kt(g);return}g=r.ownerDocument||r,u=xT(u),(f=vi.get(f))&&Kp(u,f),g=g.createElement("link"),Kt(g);var b=g;b._p=new Promise(function(A,j){b.onload=A,b.onerror=j}),bn(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=af.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Yp=0;function UI(i,r){return i.stylesheets&&i.count===0&&lf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&lf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&Yp===0&&(Yp=62500*_I());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&lf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Yp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function af(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var of=null;function lf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,of=new Map,r.forEach(zI,i),of=null,af.call(i))}function zI(i,r){if(!(r.state.loading&4)){var o=of.get(i);if(o)var u=o.get(null);else{o=new Map,of.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var b=f[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}f=r.instance,b=f.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,f),o.set(b,f),this.count++,u=af.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var Pu={$$typeof:H,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function BI(i,r,o,u,f,g,b,A,j){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$n(0),this.hiddenUpdates=$n(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function DT(i,r,o,u,f,g,b,A,j,Q,ne,oe){return i=new BI(i,r,o,b,j,Q,ne,oe,A),r=1,g===!0&&(r|=24),g=Wn(3,null,null,r),i.current=g,g.stateNode=i,r=Cm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},Nm(g),i}function NT(i){return i?(i=No,i):No}function kT(i,r,o,u,f,g){f=NT(f),u.context===null?u.context=f:u.pendingContext=f,u=Ir(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Dr(i,u,r),o!==null&&(Hn(o,i,r),du(o,i,r))}function MT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Qp(i,r){MT(i,r),(i=i.alternate)&&MT(i,r)}function VT(i){if(i.tag===13||i.tag===31){var r=Pa(i,67108864);r!==null&&Hn(r,i,67108864),Qp(i,67108864)}}function PT(i){if(i.tag===13||i.tag===31){var r=ni();r=wa(r);var o=Pa(i,r);o!==null&&Hn(o,i,r),Qp(i,r)}}var uf=!0;function FI(i,r,o,u){var f=Z.T;Z.T=null;var g=he.p;try{he.p=2,Xp(i,r,o,u)}finally{he.p=g,Z.T=f}}function HI(i,r,o,u){var f=Z.T;Z.T=null;var g=he.p;try{he.p=8,Xp(i,r,o,u)}finally{he.p=g,Z.T=f}}function Xp(i,r,o,u){if(uf){var f=Wp(u);if(f===null)Op(i,r,u,cf,o),LT(i,u);else if(GI(f,i,r,o,u))u.stopPropagation();else if(LT(i,u),r&4&&-1<qI.indexOf(i)){for(;f!==null;){var g=oi(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=bt(g.pendingLanes);if(b!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var j=1<<31-Ot(b);A.entanglements[1]|=j,b&=~j}ps(g),(lt&6)===0&&(Gh=Nt()+500,Iu(0))}}break;case 31:case 13:A=Pa(g,2),A!==null&&Hn(A,g,2),$h(),Qp(g,2)}if(g=Wp(u),g===null&&Op(i,r,u,cf,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else Op(i,r,u,null,o)}}function Wp(i){return i=li(i),Zp(i)}var cf=null;function Zp(i){if(cf=null,i=ts(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return cf=i,null}function OT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ci()){case Ri:return 2;case ks:return 8;case Kn:case Qi:return 32;case Ii:return 268435456;default:return 32}default:return 32}}var Jp=!1,Br=null,Fr=null,Hr=null,Ou=new Map,Lu=new Map,qr=[],qI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function LT(i,r){switch(i){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":Ou.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lu.delete(r.pointerId)}}function ju(i,r,o,u,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},r!==null&&(r=oi(r),r!==null&&VT(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function GI(i,r,o,u,f){switch(r){case"focusin":return Br=ju(Br,i,r,o,u,f),!0;case"dragenter":return Fr=ju(Fr,i,r,o,u,f),!0;case"mouseover":return Hr=ju(Hr,i,r,o,u,f),!0;case"pointerover":var g=f.pointerId;return Ou.set(g,ju(Ou.get(g)||null,i,r,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,Lu.set(g,ju(Lu.get(g)||null,i,r,o,u,f)),!0}return!1}function jT(i){var r=ts(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,Ni(i.priority,function(){PT(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,Ni(i.priority,function(){PT(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function hf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Wp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Wl=u,o.target.dispatchEvent(u),Wl=null}else return r=oi(o),r!==null&&VT(r),i.blockedOn=o,!1;r.shift()}return!0}function UT(i,r,o){hf(i)&&o.delete(r)}function KI(){Jp=!1,Br!==null&&hf(Br)&&(Br=null),Fr!==null&&hf(Fr)&&(Fr=null),Hr!==null&&hf(Hr)&&(Hr=null),Ou.forEach(UT),Lu.forEach(UT)}function ff(i,r){i.blockedOn===r&&(i.blockedOn=null,Jp||(Jp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,KI)))}var df=null;function zT(i){df!==i&&(df=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){df===i&&(df=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(Zp(u||o)===null)continue;break}var g=oi(o);g!==null&&(i.splice(r,3),r-=3,Wm(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function tl(i){function r(j){return ff(j,i)}Br!==null&&ff(Br,i),Fr!==null&&ff(Fr,i),Hr!==null&&ff(Hr,i),Ou.forEach(r),Lu.forEach(r);for(var o=0;o<qr.length;o++){var u=qr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<qr.length&&(o=qr[0],o.blockedOn===null);)jT(o),o.blockedOn===null&&qr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],b=f[cn]||null;if(typeof g=="function")b||zT(o);else if(b){var A=null;if(g&&g.hasAttribute("formAction")){if(f=g,b=g[cn]||null)A=b.formAction;else if(Zp(f)!==null)continue}else A=b.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),zT(o)}}}function BT(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function eg(i){this._internalRoot=i}mf.prototype.render=eg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=ni();kT(o,u,i,r,null,null)},mf.prototype.unmount=eg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;kT(i.current,2,null,i,null,null),$h(),r[Ji]=null}};function mf(i){this._internalRoot=i}mf.prototype.unstable_scheduleHydration=function(i){if(i){var r=$c();i={blockedOn:null,target:i,priority:r};for(var o=0;o<qr.length&&r!==0&&r<qr[o].priority;o++);qr.splice(o,0,i),o===0&&jT(i)}};var FT=e.version;if(FT!=="19.2.3")throw Error(s(527,FT,"19.2.3"));he.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var $I={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pf.isDisabled&&pf.supportsFiber)try{Dn=pf.inject($I),nn=pf}catch{}}return zu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=Q_,g=X_,b=W_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=DT(i,1,!1,null,null,o,u,null,f,g,b,BT),i[Ji]=r.current,Pp(i),new eg(r)},zu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",g=Q_,b=X_,A=W_,j=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(j=o.formState)),r=DT(i,1,!0,r,o??null,u,f,j,g,b,A,BT),r.context=NT(null),o=r.current,u=ni(),u=wa(u),f=Ir(u),f.callback=null,Dr(o,f,u),o=u,r.current.lanes=o,Ta(r,o),ps(r),i[Ji]=r.current,Pp(i),new mf(r)},zu.version="19.2.3",zu}var ZT;function rD(){if(ZT)return ig.exports;ZT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ig.exports=sD(),ig.exports}var aD=rD();var JT="popstate";function oD(t={}){function e(s,a){let{pathname:l,search:c,hash:d}=s.location;return Bg("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:uc(a)}return uD(e,n,null,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ai(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lD(){return Math.random().toString(36).substring(2,10)}function eE(t,e){return{usr:t.state,key:t.key,idx:e}}function Bg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Cl(e):e,state:n,key:e&&e.key||s||lD()}}function uc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Cl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function uD(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function v(){d="POP";let k=y(),B=k==null?null:k-p;p=k,m&&m({action:d,location:V.location,delta:B})}function E(k,B){d="PUSH";let q=Bg(V.location,k,B);p=y()+1;let H=eE(q,p),ue=V.createHref(q);try{c.pushState(H,"",ue)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;a.location.assign(ue)}l&&m&&m({action:d,location:V.location,delta:1})}function D(k,B){d="REPLACE";let q=Bg(V.location,k,B);p=y();let H=eE(q,p),ue=V.createHref(q);c.replaceState(H,"",ue),l&&m&&m({action:d,location:V.location,delta:0})}function L(k){return cD(k)}let V={get action(){return d},get location(){return t(a,c)},listen(k){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(JT,v),m=k,()=>{a.removeEventListener(JT,v),m=null}},createHref(k){return e(a,k)},createURL:L,encodeLocation(k){let B=L(k);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:E,replace:D,go(k){return c.go(k)}};return V}function cD(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),It(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:uc(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function pS(t,e,n="/"){return hD(t,e,n,!1)}function hD(t,e,n,s){let a=typeof e=="string"?Cl(e):e,l=ar(a.pathname||"/",n);if(l==null)return null;let c=gS(t);fD(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=wD(l);d=TD(c[m],p,s)}return d}function gS(t,e=[],n=[],s="",a=!1){let l=(c,d,m=a,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;It(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let v=nr([s,y.relativePath]),E=n.concat(y);c.children&&c.children.length>0&&(It(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),gS(c.children,e,E,v,m)),!(c.path==null&&!c.index)&&e.push({path:v,score:_D(v,c.index),routesMeta:E})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of yS(c.path))l(c,d,!0,m)}),e}function yS(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=yS(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function fD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:bD(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var dD=/^:[\w-]+$/,mD=3,pD=2,gD=1,yD=10,vD=-2,tE=t=>t==="*";function _D(t,e){let n=t.split("/"),s=n.length;return n.some(tE)&&(s+=vD),e&&(s+=pD),n.filter(a=>!tE(a)).reduce((a,l)=>a+(dD.test(l)?mD:l===""?gD:yD),s)}function bD(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function TD(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],p=d===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=$f({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),E=m.route;if(!v&&p&&n&&!s[s.length-1].route.index&&(v=$f({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:nr([l,v.pathname]),pathnameBase:CD(nr([l,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(l=nr([l,v.pathnameBase]))}return c}function $f(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=ED(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:v},E)=>{if(y==="*"){let L=d[E]||"";c=l.slice(0,l.length-L.length).replace(/(.)\/+$/,"$1")}const D=d[E];return v&&!D?p[y]=void 0:p[y]=(D||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function ED(t,e=!1,n=!0){Ai(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function wD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ai(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ar(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var vS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SD=t=>vS.test(t);function xD(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Cl(t):t,l;if(n)if(SD(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Ai(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=nE(n.substring(1),"/"):l=nE(n,e)}else l=e;return{pathname:l,search:RD(s),hash:ID(a)}}function nE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function og(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hy(t){let e=AD(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function qy(t,e,n,s=!1){let a;typeof t=="string"?a=Cl(t):(a={...t},It(!a.pathname||!a.pathname.includes("?"),og("?","pathname","search",a)),It(!a.pathname||!a.pathname.includes("#"),og("#","pathname","hash",a)),It(!a.search||!a.search.includes("#"),og("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let v=e.length-1;if(!s&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),v-=1;a.pathname=E.join("/")}d=v>=0?e[v]:"/"}let m=xD(a,d),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var nr=t=>t.join("/").replace(/\/\/+/g,"/"),CD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),RD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ID=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,DD=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ND(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function kD(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var _S=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function bS(t,e){let n=t;if(typeof n!="string"||!vS.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(_S)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=ar(c.pathname,e);c.origin===l.origin&&d!=null?n=d+c.search+c.hash:a=!0}catch{Ai(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var TS=["POST","PUT","PATCH","DELETE"];new Set(TS);var MD=["GET",...TS];new Set(MD);var Rl=P.createContext(null);Rl.displayName="DataRouter";var Rd=P.createContext(null);Rd.displayName="DataRouterState";var VD=P.createContext(!1),ES=P.createContext({isTransitioning:!1});ES.displayName="ViewTransition";var PD=P.createContext(new Map);PD.displayName="Fetchers";var OD=P.createContext(null);OD.displayName="Await";var ri=P.createContext(null);ri.displayName="Navigation";var Sc=P.createContext(null);Sc.displayName="Location";var Yi=P.createContext({outlet:null,matches:[],isDataRoute:!1});Yi.displayName="Route";var Gy=P.createContext(null);Gy.displayName="RouteError";var wS="REACT_ROUTER_ERROR",LD="REDIRECT",jD="ROUTE_ERROR_RESPONSE";function UD(t){if(t.startsWith(`${wS}:${LD}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function zD(t){if(t.startsWith(`${wS}:${jD}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new DD(e.status,e.statusText,e.data)}catch{}}function BD(t,{relative:e}={}){It(Il(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(ri),{hash:a,pathname:l,search:c}=xc(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:nr([n,l])),s.createHref({pathname:d,search:c,hash:a})}function Il(){return P.useContext(Sc)!=null}function pa(){return It(Il(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Sc).location}var SS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xS(t){P.useContext(ri).static||P.useLayoutEffect(t)}function Id(){let{isDataRoute:t}=P.useContext(Yi);return t?tN():FD()}function FD(){It(Il(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(Rl),{basename:e,navigator:n}=P.useContext(ri),{matches:s}=P.useContext(Yi),{pathname:a}=pa(),l=JSON.stringify(Hy(s)),c=P.useRef(!1);return xS(()=>{c.current=!0}),P.useCallback((m,p={})=>{if(Ai(c.current,SS),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=qy(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:nr([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}P.createContext(null);function HD(){let{matches:t}=P.useContext(Yi),e=t[t.length-1];return e?e.params:{}}function xc(t,{relative:e}={}){let{matches:n}=P.useContext(Yi),{pathname:s}=pa(),a=JSON.stringify(Hy(n));return P.useMemo(()=>qy(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function qD(t,e){return AS(t,e)}function AS(t,e,n,s,a){It(Il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=P.useContext(ri),{matches:c}=P.useContext(Yi),d=c[c.length-1],m=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",v=d&&d.route;{let q=v&&v.path||"";RS(p,!v||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let E=pa(),D;if(e){let q=typeof e=="string"?Cl(e):e;It(y==="/"||q.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${q.pathname}" was given in the \`location\` prop.`),D=q}else D=E;let L=D.pathname||"/",V=L;if(y!=="/"){let q=y.replace(/^\//,"").split("/");V="/"+L.replace(/^\//,"").split("/").slice(q.length).join("/")}let k=pS(t,{pathname:V});Ai(v||k!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Ai(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=QD(k&&k.map(q=>Object.assign({},q,{params:Object.assign({},m,q.params),pathname:nr([y,l.encodeLocation?l.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?y:nr([y,l.encodeLocation?l.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),c,n,s,a);return e&&B?P.createElement(Sc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},B):B}function GD(){let t=eN(),e=ND(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:l},"ErrorBoundary")," or"," ",P.createElement("code",{style:l},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:a},n):null,c)}var KD=P.createElement(GD,null),CS=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=zD(t.digest);n&&(t=n)}let e=t!==void 0?P.createElement(Yi.Provider,{value:this.props.routeContext},P.createElement(Gy.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?P.createElement($D,{error:t},e):e}};CS.contextType=VD;var lg=new WeakMap;function $D({children:t,error:e}){let{basename:n}=P.useContext(ri);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=UD(e.digest);if(s){let a=lg.get(e);if(a)throw a;let l=bS(s.location,n);if(_S&&!lg.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw lg.set(e,c),c}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function YD({routeContext:t,match:e,children:n}){let s=P.useContext(Rl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Yi.Provider,{value:t},n)}function QD(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let y=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);It(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,m=-1;if(n)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=y),v.route.id){let{loaderData:E,errors:D}=n,L=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!D||D[v.route.id]===void 0);if(v.route.lazy||L){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&s?(y,v)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:kD(n.matches),errorInfo:v})}:void 0;return l.reduceRight((y,v,E)=>{let D,L=!1,V=null,k=null;n&&(D=c&&v.route.id?c[v.route.id]:void 0,V=v.route.errorElement||KD,d&&(m<0&&E===0?(RS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,k=null):m===E&&(L=!0,k=v.route.hydrateFallbackElement||null)));let B=e.concat(l.slice(0,E+1)),q=()=>{let H;return D?H=V:L?H=k:v.route.Component?H=P.createElement(v.route.Component,null):v.route.element?H=v.route.element:H=y,P.createElement(YD,{match:v,routeContext:{outlet:y,matches:B,isDataRoute:n!=null},children:H})};return n&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?P.createElement(CS,{location:n.location,revalidation:n.revalidation,component:V,error:D,children:q(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:p}):q()},null)}function Ky(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XD(t){let e=P.useContext(Rl);return It(e,Ky(t)),e}function WD(t){let e=P.useContext(Rd);return It(e,Ky(t)),e}function ZD(t){let e=P.useContext(Yi);return It(e,Ky(t)),e}function $y(t){let e=ZD(t),n=e.matches[e.matches.length-1];return It(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function JD(){return $y("useRouteId")}function eN(){let t=P.useContext(Gy),e=WD("useRouteError"),n=$y("useRouteError");return t!==void 0?t:e.errors?.[n]}function tN(){let{router:t}=XD("useNavigate"),e=$y("useNavigate"),n=P.useRef(!1);return xS(()=>{n.current=!0}),P.useCallback(async(a,l={})=>{Ai(n.current,SS),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var iE={};function RS(t,e,n){!e&&!iE[t]&&(iE[t]=!0,Ai(!1,n))}P.memo(nN);function nN({routes:t,future:e,state:n,onError:s}){return AS(t,void 0,n,s,e)}function sE({to:t,replace:e,state:n,relative:s}){It(Il(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=P.useContext(ri);Ai(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=P.useContext(Yi),{pathname:c}=pa(),d=Id(),m=qy(t,Hy(l),c,s==="path"),p=JSON.stringify(m);return P.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:s})},[d,p,s,e,n]),null}function Gu(t){It(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iN({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){It(!Il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),m=P.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof n=="string"&&(n=Cl(n));let{pathname:p="/",search:y="",hash:v="",state:E=null,key:D="default"}=n,L=P.useMemo(()=>{let V=ar(p,d);return V==null?null:{location:{pathname:V,search:y,hash:v,state:E,key:D},navigationType:s}},[d,p,y,v,E,D,s]);return Ai(L!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:P.createElement(ri.Provider,{value:m},P.createElement(Sc.Provider,{children:e,value:L}))}function sN({children:t,location:e}){return qD(Fg(t),e)}function Fg(t,e=[]){let n=[];return P.Children.forEach(t,(s,a)=>{if(!P.isValidElement(s))return;let l=[...e,a];if(s.type===P.Fragment){n.push.apply(n,Fg(s.props.children,l));return}It(s.type===Gu,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),It(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Fg(s.props.children,l)),n.push(c)}),n}var Nf="get",kf="application/x-www-form-urlencoded";function Dd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function rN(t){return Dd(t)&&t.tagName.toLowerCase()==="button"}function aN(t){return Dd(t)&&t.tagName.toLowerCase()==="form"}function oN(t){return Dd(t)&&t.tagName.toLowerCase()==="input"}function lN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function uN(t,e){return t.button===0&&(!e||e==="_self")&&!lN(t)}var gf=null;function cN(){if(gf===null)try{new FormData(document.createElement("form"),0),gf=!1}catch{gf=!0}return gf}var hN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ug(t){return t!=null&&!hN.has(t)?(Ai(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kf}"`),null):t}function fN(t,e){let n,s,a,l,c;if(aN(t)){let d=t.getAttribute("action");s=d?ar(d,e):null,n=t.getAttribute("method")||Nf,a=ug(t.getAttribute("enctype"))||kf,l=new FormData(t)}else if(rN(t)||oN(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(s=m?ar(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Nf,a=ug(t.getAttribute("formenctype"))||ug(d.getAttribute("enctype"))||kf,l=new FormData(d,t),!cN()){let{name:p,type:y,value:v}=t;if(y==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,v)}}else{if(Dd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nf,s=null,a=kf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dN(t,e,n,s){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:e&&ar(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function mN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function gN(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await mN(l,n);return c.links?c.links():[]}return[]}));return bN(s.flat(1).filter(pN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function rE(t,e,n,s,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,d=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?e.filter((m,p)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function yN(t,e,{includeHydrateFallback:n}={}){return vN(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function vN(t){return[...new Set(t)]}function _N(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function bN(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(_N(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function IS(){let t=P.useContext(Rl);return Yy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function TN(){let t=P.useContext(Rd);return Yy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Qy=P.createContext(void 0);Qy.displayName="FrameworkContext";function DS(){let t=P.useContext(Qy);return Yy(t,"You must render this element inside a <HydratedRouter> element"),t}function EN(t,e){let n=P.useContext(Qy),[s,a]=P.useState(!1),[l,c]=P.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,E=P.useRef(null);P.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let V=B=>{B.forEach(q=>{c(q.isIntersecting)})},k=new IntersectionObserver(V,{threshold:.5});return E.current&&k.observe(E.current),()=>{k.disconnect()}}},[t]),P.useEffect(()=>{if(s){let V=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(V)}}},[s]);let D=()=>{a(!0)},L=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,E,{}]:[l,E,{onFocus:Bu(d,D),onBlur:Bu(m,L),onMouseEnter:Bu(p,D),onMouseLeave:Bu(y,L),onTouchStart:Bu(v,D)}]:[!1,E,{}]}function Bu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function wN({page:t,...e}){let{router:n}=IS(),s=P.useMemo(()=>pS(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?P.createElement(xN,{page:t,matches:s,...e}):null}function SN(t){let{manifest:e,routeModules:n}=DS(),[s,a]=P.useState([]);return P.useEffect(()=>{let l=!1;return gN(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function xN({page:t,matches:e,...n}){let s=pa(),{future:a,manifest:l,routeModules:c}=DS(),{basename:d}=IS(),{loaderData:m,matches:p}=TN(),y=P.useMemo(()=>rE(t,e,p,l,s,"data"),[t,e,p,l,s]),v=P.useMemo(()=>rE(t,e,p,l,s,"assets"),[t,e,p,l,s]),E=P.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let V=new Set,k=!1;if(e.forEach(q=>{let H=l.routes[q.route.id];!H||!H.hasLoader||(!y.some(ue=>ue.route.id===q.route.id)&&q.route.id in m&&c[q.route.id]?.shouldRevalidate||H.hasClientLoader?k=!0:V.add(q.route.id))}),V.size===0)return[];let B=dN(t,d,a.unstable_trailingSlashAwareDataRequests,"data");return k&&V.size>0&&B.searchParams.set("_routes",e.filter(q=>V.has(q.route.id)).map(q=>q.route.id).join(",")),[B.pathname+B.search]},[d,a.unstable_trailingSlashAwareDataRequests,m,s,l,y,e,t,c]),D=P.useMemo(()=>yN(v,l),[v,l]),L=SN(v);return P.createElement(P.Fragment,null,E.map(V=>P.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),D.map(V=>P.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),L.map(({key:V,link:k})=>P.createElement("link",{key:V,nonce:n.nonce,...k})))}function AN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var CN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CN&&(window.__reactRouterVersion="7.12.0")}catch{}function RN({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=P.useRef();a.current==null&&(a.current=oD({window:s,v5Compat:!0}));let l=a.current,[c,d]=P.useState({action:l.action,location:l.location}),m=P.useCallback(p=>{n===!1?d(p):P.startTransition(()=>d(p))},[n]);return P.useLayoutEffect(()=>l.listen(m),[l,m]),P.createElement(iN,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var NS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kS=P.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:E,...D},L){let{basename:V,unstable_useTransitions:k}=P.useContext(ri),B=typeof p=="string"&&NS.test(p),q=bS(p,V);p=q.to;let H=BD(p,{relative:a}),[ue,ae,me]=EN(s,D),R=kN(p,{replace:c,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:E,unstable_useTransitions:k});function w(N){e&&e(N),N.defaultPrevented||R(N)}let C=P.createElement("a",{...D,...me,href:q.absoluteURL||H,onClick:q.isExternal||l?e:w,ref:AN(L,ae),target:m,"data-discover":!B&&n==="render"?"true":void 0});return ue&&!B?P.createElement(P.Fragment,null,C,P.createElement(wN,{page:H})):C});kS.displayName="Link";var IN=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},y){let v=xc(c,{relative:p.relative}),E=pa(),D=P.useContext(Rd),{navigator:L,basename:V}=P.useContext(ri),k=D!=null&&LN(v)&&d===!0,B=L.encodeLocation?L.encodeLocation(v).pathname:v.pathname,q=E.pathname,H=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(q=q.toLowerCase(),H=H?H.toLowerCase():null,B=B.toLowerCase()),H&&V&&(H=ar(H,V)||H);const ue=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let ae=q===B||!a&&q.startsWith(B)&&q.charAt(ue)==="/",me=H!=null&&(H===B||!a&&H.startsWith(B)&&H.charAt(B.length)==="/"),R={isActive:ae,isPending:me,isTransitioning:k},w=ae?e:void 0,C;typeof s=="function"?C=s(R):C=[s,ae?"active":null,me?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(R):l;return P.createElement(kS,{...p,"aria-current":w,className:C,ref:y,style:N,to:c,viewTransition:d},typeof m=="function"?m(R):m)});IN.displayName="NavLink";var DN=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=Nf,action:d,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:E,...D},L)=>{let{unstable_useTransitions:V}=P.useContext(ri),k=PN(),B=ON(d,{relative:p}),q=c.toLowerCase()==="get"?"get":"post",H=typeof d=="string"&&NS.test(d),ue=ae=>{if(m&&m(ae),ae.defaultPrevented)return;ae.preventDefault();let me=ae.nativeEvent.submitter,R=me?.getAttribute("formmethod")||c,w=()=>k(me||ae.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:E});V&&n!==!1?P.startTransition(()=>w()):w()};return P.createElement("form",{ref:L,method:q,action:B,onSubmit:s?m:ue,...D,"data-discover":!H&&t==="render"?"true":void 0})});DN.displayName="Form";function NN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MS(t){let e=P.useContext(Rl);return It(e,NN(t)),e}function kN(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let p=Id(),y=pa(),v=xc(t,{relative:l});return P.useCallback(E=>{if(uN(E,e)){E.preventDefault();let D=n!==void 0?n:uc(y)===uc(v),L=()=>p(t,{replace:D,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});m?P.startTransition(()=>L()):L()}},[y,p,v,n,s,e,t,a,l,c,d,m])}var MN=0,VN=()=>`__${String(++MN)}__`;function PN(){let{router:t}=MS("useSubmit"),{basename:e}=P.useContext(ri),n=JD(),s=t.fetch,a=t.navigate;return P.useCallback(async(l,c={})=>{let{action:d,method:m,encType:p,formData:y,body:v}=fN(l,e);if(c.navigate===!1){let E=c.fetcherKey||VN();await s(E,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:v,formMethod:c.method||m,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:v,formMethod:c.method||m,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,e,n])}function ON(t,{relative:e}={}){let{basename:n}=P.useContext(ri),s=P.useContext(Yi);It(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...xc(t||".",{relative:e})},c=pa();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(v=>v).forEach(v=>d.append("index",v));let y=d.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:nr([n,l.pathname])),uc(l)}function LN(t,{relative:e}={}){let n=P.useContext(ES);It(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=MS("useViewTransitionState"),a=xc(t,{relative:e});if(!n.isTransitioning)return!1;let l=ar(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=ar(n.nextLocation.pathname,s)||n.nextLocation.pathname;return $f(a.pathname,c)!=null||$f(a.pathname,l)!=null}const jN="modulepreload",UN=function(t){return"/"+t},aE={},Hg=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){let m=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");a=m(n.map(p=>{if(p=UN(p),p in aE)return;aE[p]=!0;const y=p.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const E=document.createElement("link");if(E.rel=y?"stylesheet":jN,y||(E.as="script"),E.crossOrigin="",E.href=p,d&&E.setAttribute("nonce",d),document.head.appendChild(E),y)return new Promise((D,L)=>{E.addEventListener("load",D),E.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})},zN=()=>{};var oE={};const VS=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},BN=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},PS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,y=l>>2,v=(l&3)<<4|d>>4;let E=(d&15)<<2|p>>6,D=p&63;m||(D=64,c||(E=64)),s.push(n[y],n[v],n[E],n[D])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):BN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||p==null||v==null)throw new FN;const E=l<<2|d>>4;if(s.push(E),p!==64){const D=d<<4&240|p>>2;if(s.push(D),v!==64){const L=p<<6&192|v;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HN=function(t){const e=VS(t);return PS.encodeByteArray(e,!0)},Yf=function(t){return HN(t).replace(/\./g,"")},OS=function(t){try{return PS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const GN=()=>qN().__FIREBASE_DEFAULTS__,KN=()=>{if(typeof process>"u"||typeof oE>"u")return;const t=oE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$N=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&OS(t[1]);return e&&JSON.parse(e)},Nd=()=>{try{return zN()||GN()||KN()||$N()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},LS=t=>Nd()?.emulatorHosts?.[t],jS=t=>{const e=LS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},US=()=>Nd()?.config,zS=t=>Nd()?.[`_${t}`];class YN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function ho(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Xy(t){return(await fetch(t,{credentials:"include"})).ok}function BS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Yf(JSON.stringify(n)),Yf(JSON.stringify(c)),""].join(".")}const Wu={};function QN(){const t={prod:[],emulator:[]};for(const e of Object.keys(Wu))Wu[e]?t.emulator.push(e):t.prod.push(e);return t}function XN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let lE=!1;function Wy(t,e){if(typeof window>"u"||typeof document>"u"||!ho(window.location.host)||Wu[t]===e||Wu[t]||lE)return;Wu[t]=e;function n(E){return`__firebase__banner__${E}`}const s="__firebase__banner",l=QN().prod.length>0;function c(){const E=document.getElementById(s);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,D){E.setAttribute("width","24"),E.setAttribute("id",D),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{lE=!0,c()},E}function y(E,D){E.setAttribute("id",D),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=XN(s),D=n("text"),L=document.getElementById(D)||document.createElement("span"),V=n("learnmore"),k=document.getElementById(V)||document.createElement("a"),B=n("preprendIcon"),q=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const H=E.element;d(H),y(k,V);const ue=p();m(q,B),H.append(q,L,k,ue),document.body.appendChild(H)}l?(L.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function In(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}function ZN(){const t=Nd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ek(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nk(){const t=In();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ik(){return!ZN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sk(){try{return typeof indexedDB=="object"}catch{return!1}}function rk(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const ak="FirebaseError";class Is extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ak,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ac.prototype.create)}}class Ac{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?ok(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Is(a,d,s)}}function ok(t,e){return t.replace(lk,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const lk=/\{\$([^}]+)}/g;function uk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ro(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(uE(l)&&uE(c)){if(!ro(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function uE(t){return t!==null&&typeof t=="object"}function Cc(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ck(t,e){const n=new hk(t,e);return n.subscribe.bind(n)}class hk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");fk(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=cg),a.error===void 0&&(a.error=cg),a.complete===void 0&&(a.complete=cg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cg(){}function ln(t){return t&&t._delegate?t._delegate:t}class aa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Wa="[DEFAULT]";class dk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new YN;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pk(e))try{this.getOrInitializeService({instanceIdentifier:Wa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wa){return this.instances.has(e)}getOptions(e=Wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:mk(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Wa){return this.component?this.component.multipleInstances?e:Wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mk(t){return t===Wa?void 0:t}function pk(t){return t.instantiationMode==="EAGER"}class gk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const yk={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},vk=Ze.INFO,_k={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},bk=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=_k[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zy{constructor(e){this.name=e,this._logLevel=vk,this._logHandler=bk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const Tk=(t,e)=>e.some(n=>t instanceof n);let cE,hE;function Ek(){return cE||(cE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wk(){return hE||(hE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FS=new WeakMap,qg=new WeakMap,HS=new WeakMap,hg=new WeakMap,Jy=new WeakMap;function Sk(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(ta(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&FS.set(n,t)}).catch(()=>{}),Jy.set(e,t),e}function xk(t){if(qg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});qg.set(t,e)}let Gg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ta(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ak(t){Gg=t(Gg)}function Ck(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(fg(this),e,...n);return HS.set(s,e.sort?e.sort():[e]),ta(s)}:wk().includes(t)?function(...e){return t.apply(fg(this),e),ta(FS.get(this))}:function(...e){return ta(t.apply(fg(this),e))}}function Rk(t){return typeof t=="function"?Ck(t):(t instanceof IDBTransaction&&xk(t),Tk(t,Ek())?new Proxy(t,Gg):t)}function ta(t){if(t instanceof IDBRequest)return Sk(t);if(hg.has(t))return hg.get(t);const e=Rk(t);return e!==t&&(hg.set(t,e),Jy.set(e,t)),e}const fg=t=>Jy.get(t);function Ik(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=ta(c);return s&&c.addEventListener("upgradeneeded",m=>{s(ta(c.result),m.oldVersion,m.newVersion,ta(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const Dk=["get","getKey","getAll","getAllKeys","count"],Nk=["put","add","delete","clear"],dg=new Map;function fE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dg.get(e))return dg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=Nk.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||Dk.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&m.done]))[0]};return dg.set(e,l),l}Ak(t=>({...t,get:(e,n,s)=>fE(e,n)||t.get(e,n,s),has:(e,n)=>!!fE(e,n)||t.has(e,n)}));class kk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Mk(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Mk(t){return t.getComponent()?.type==="VERSION"}const Kg="@firebase/app",dE="0.14.7";const or=new Zy("@firebase/app"),Vk="@firebase/app-compat",Pk="@firebase/analytics-compat",Ok="@firebase/analytics",Lk="@firebase/app-check-compat",jk="@firebase/app-check",Uk="@firebase/auth",zk="@firebase/auth-compat",Bk="@firebase/database",Fk="@firebase/data-connect",Hk="@firebase/database-compat",qk="@firebase/functions",Gk="@firebase/functions-compat",Kk="@firebase/installations",$k="@firebase/installations-compat",Yk="@firebase/messaging",Qk="@firebase/messaging-compat",Xk="@firebase/performance",Wk="@firebase/performance-compat",Zk="@firebase/remote-config",Jk="@firebase/remote-config-compat",eM="@firebase/storage",tM="@firebase/storage-compat",nM="@firebase/firestore",iM="@firebase/ai",sM="@firebase/firestore-compat",rM="firebase",aM="12.8.0";const $g="[DEFAULT]",oM={[Kg]:"fire-core",[Vk]:"fire-core-compat",[Ok]:"fire-analytics",[Pk]:"fire-analytics-compat",[jk]:"fire-app-check",[Lk]:"fire-app-check-compat",[Uk]:"fire-auth",[zk]:"fire-auth-compat",[Bk]:"fire-rtdb",[Fk]:"fire-data-connect",[Hk]:"fire-rtdb-compat",[qk]:"fire-fn",[Gk]:"fire-fn-compat",[Kk]:"fire-iid",[$k]:"fire-iid-compat",[Yk]:"fire-fcm",[Qk]:"fire-fcm-compat",[Xk]:"fire-perf",[Wk]:"fire-perf-compat",[Zk]:"fire-rc",[Jk]:"fire-rc-compat",[eM]:"fire-gcs",[tM]:"fire-gcs-compat",[nM]:"fire-fst",[sM]:"fire-fst-compat",[iM]:"fire-vertex","fire-js":"fire-js",[rM]:"fire-js-all"};const Qf=new Map,lM=new Map,Yg=new Map;function mE(t,e){try{t.container.addComponent(e)}catch(n){or.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ao(t){const e=t.name;if(Yg.has(e))return or.debug(`There were multiple attempts to register component ${e}.`),!1;Yg.set(e,t);for(const n of Qf.values())mE(n,t);for(const n of lM.values())mE(n,t);return!0}function kd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ti(t){return t==null?!1:t.settings!==void 0}const uM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},na=new Ac("app","Firebase",uM);class cM{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw na.create("app-deleted",{appName:this._name})}}const fo=aM;function qS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:$g,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw na.create("bad-app-name",{appName:String(a)});if(n||(n=US()),!n)throw na.create("no-options");const l=Qf.get(a);if(l){if(ro(n,l.options)&&ro(s,l.config))return l;throw na.create("duplicate-app",{appName:a})}const c=new gk(a);for(const m of Yg.values())c.addComponent(m);const d=new cM(n,s,c);return Qf.set(a,d),d}function ev(t=$g){const e=Qf.get(t);if(!e&&t===$g&&US())return qS();if(!e)throw na.create("no-app",{appName:t});return e}function _s(t,e,n){let s=oM[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),or.warn(c.join(" "));return}ao(new aa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const hM="firebase-heartbeat-database",fM=1,cc="firebase-heartbeat-store";let mg=null;function GS(){return mg||(mg=Ik(hM,fM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(cc)}catch(n){console.warn(n)}}}}).catch(t=>{throw na.create("idb-open",{originalErrorMessage:t.message})})),mg}async function dM(t){try{const n=(await GS()).transaction(cc),s=await n.objectStore(cc).get(KS(t));return await n.done,s}catch(e){if(e instanceof Is)or.warn(e.message);else{const n=na.create("idb-get",{originalErrorMessage:e?.message});or.warn(n.message)}}}async function pE(t,e){try{const s=(await GS()).transaction(cc,"readwrite");await s.objectStore(cc).put(e,KS(t)),await s.done}catch(n){if(n instanceof Is)or.warn(n.message);else{const s=na.create("idb-set",{originalErrorMessage:n?.message});or.warn(s.message)}}}function KS(t){return`${t.name}!${t.options.appId}`}const mM=1024,pM=30;class gM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vM(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>pM){const a=_M(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){or.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=gE(),{heartbeatsToSend:n,unsentEntries:s}=yM(this._heartbeatsCache.heartbeats),a=Yf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return or.warn(e),""}}}function gE(){return new Date().toISOString().substring(0,10)}function yM(t,e=mM){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),yE(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),yE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class vM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sk()?rk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return pE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return pE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function yE(t){return Yf(JSON.stringify({version:2,heartbeats:t})).length}function _M(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function bM(t){ao(new aa("platform-logger",e=>new kk(e),"PRIVATE")),ao(new aa("heartbeat",e=>new gM(e),"PRIVATE")),_s(Kg,dE,t),_s(Kg,dE,"esm2020"),_s("fire-js","")}bM("");var TM="firebase",EM="12.8.0";_s(TM,EM,"app");function $S(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wM=$S,YS=new Ac("auth","Firebase",$S());const Xf=new Zy("@firebase/auth");function SM(t,...e){Xf.logLevel<=Ze.WARN&&Xf.warn(`Auth (${fo}): ${t}`,...e)}function Mf(t,...e){Xf.logLevel<=Ze.ERROR&&Xf.error(`Auth (${fo}): ${t}`,...e)}function Ss(t,...e){throw nv(t,...e)}function Gi(t,...e){return nv(t,...e)}function tv(t,e,n){const s={...wM(),[e]:n};return new Ac("auth","Firebase",s).create(e,{appName:t.name})}function io(t){return tv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xM(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ss(t,"argument-error"),tv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nv(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return YS.create(t,...e)}function ke(t,e,...n){if(!t)throw nv(e,...n)}function er(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Mf(e),new Error(e)}function lr(t,e){t||er(e)}function Qg(){return typeof self<"u"&&self.location?.href||""}function AM(){return vE()==="http:"||vE()==="https:"}function vE(){return typeof self<"u"&&self.location?.protocol||null}function CM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AM()||ek()||"connection"in navigator)?navigator.onLine:!0}function RM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Rc{constructor(e,n){this.shortDelay=e,this.longDelay=n,lr(n>e,"Short delay should be less than long delay!"),this.isMobile=WN()||tk()}get(){return CM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function iv(t,e){lr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class QS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const IM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const DM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NM=new Rc(3e4,6e4);function sv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Dl(t,e,n,s,a={}){return XS(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const d=Cc({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return JN()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&ho(t.emulatorConfig.host)&&(p.credentials="include"),QS.fetch()(await WS(t,t.config.apiHost,n,d),p)})}async function XS(t,e,n){t._canInitEmulator=!1;const s={...IM,...e};try{const a=new MM(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw yf(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw yf(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw yf(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw yf(t,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw tv(t,y,p);Ss(t,y)}}catch(a){if(a instanceof Is)throw a;Ss(t,"network-request-failed",{message:String(a)})}}async function kM(t,e,n,s,a={}){const l=await Dl(t,e,n,s,a);return"mfaPendingCredential"in l&&Ss(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function WS(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?iv(t.config,a):`${t.config.apiScheme}://${a}`;return DM.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class MM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Gi(this.auth,"network-request-failed")),NM.get())})}}function yf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Gi(t,e,s);return a.customData._tokenResponse=n,a}async function VM(t,e){return Dl(t,"POST","/v1/accounts:delete",e)}async function Wf(t,e){return Dl(t,"POST","/v1/accounts:lookup",e)}function Zu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PM(t,e=!1){const n=ln(t),s=await n.getIdToken(e),a=rv(s);ke(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Zu(pg(a.auth_time)),issuedAtTime:Zu(pg(a.iat)),expirationTime:Zu(pg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function pg(t){return Number(t)*1e3}function rv(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Mf("JWT malformed, contained fewer than 3 sections"),null;try{const a=OS(n);return a?JSON.parse(a):(Mf("Failed to decode base64 JWT payload"),null)}catch(a){return Mf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function _E(t){const e=rv(t);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function hc(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Is&&OM(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function OM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class LM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Xg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zu(this.lastLoginAt),this.creationTime=Zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zf(t){const e=t.auth,n=await t.getIdToken(),s=await hc(t,Wf(e,{idToken:n}));ke(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?ZS(a.providerUserInfo):[],c=UM(t.providerData,l),d=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!c?.length,p=d?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Xg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function jM(t){const e=ln(t);await Zf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UM(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function ZS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function zM(t,e){const n=await XS(t,{},async()=>{const s=Cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await WS(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return t.emulatorConfig&&ho(t.emulatorConfig.host)&&(m.credentials="include"),QS.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function BM(t,e){return Dl(t,"POST","/v2/accounts:revokeToken",sv(t,e))}class fl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_E(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const n=_E(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await zM(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new fl;return s&&(ke(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(ke(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(ke(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fl,this.toJSON())}_performRefresh(){return er("not implemented")}}function Kr(t,e){ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Hi{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new LM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Xg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await hc(this,this.stsTokenManager.getToken(this.auth,e));return ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return PM(this,e)}reload(){return jM(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Zf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ti(this.auth.app))return Promise.reject(io(this.auth));const e=await this.getIdToken();return await hc(this,VM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:D,providerData:L,stsTokenManager:V}=n;ke(v&&V,e,"internal-error");const k=fl.fromJSON(this.name,V);ke(typeof v=="string",e,"internal-error"),Kr(s,e.name),Kr(a,e.name),ke(typeof E=="boolean",e,"internal-error"),ke(typeof D=="boolean",e,"internal-error"),Kr(l,e.name),Kr(c,e.name),Kr(d,e.name),Kr(m,e.name),Kr(p,e.name),Kr(y,e.name);const B=new Hi({uid:v,auth:e,email:a,emailVerified:E,displayName:s,isAnonymous:D,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:k,createdAt:p,lastLoginAt:y});return L&&Array.isArray(L)&&(B.providerData=L.map(q=>({...q}))),m&&(B._redirectEventId=m),B}static async _fromIdTokenResponse(e,n,s=!1){const a=new fl;a.updateFromServerResponse(n);const l=new Hi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Zf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];ke(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?ZS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new fl;d.updateFromIdToken(s);const m=new Hi({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Xg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const bE=new Map;function tr(t){lr(t instanceof Function,"Expected a class definition");let e=bE.get(t);return e?(lr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bE.set(t,e),e)}class JS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}JS.type="NONE";const TE=JS;function Vf(t,e,n){return`firebase:${t}:${e}:${n}`}class dl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Vf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Vf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Wf(this.auth,{idToken:e}).catch(()=>{});return n?Hi._fromGetAccountInfoResponse(this.auth,n,e):null}return Hi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new dl(tr(TE),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||tr(TE);const c=Vf(s,e.config.apiKey,e.name);let d=null;for(const p of n)try{const y=await p._get(c);if(y){let v;if(typeof y=="string"){const E=await Wf(e,{idToken:y}).catch(()=>{});if(!E)break;v=await Hi._fromGetAccountInfoResponse(e,E,y)}else v=Hi._fromJSON(e,y);p!==l&&(d=v),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new dl(l,e,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new dl(l,e,s))}}function EE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ix(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ex(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rx(e))return"Blackberry";if(ax(e))return"Webos";if(tx(e))return"Safari";if((e.includes("chrome/")||nx(e))&&!e.includes("edge/"))return"Chrome";if(sx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function ex(t=In()){return/firefox\//i.test(t)}function tx(t=In()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nx(t=In()){return/crios\//i.test(t)}function ix(t=In()){return/iemobile/i.test(t)}function sx(t=In()){return/android/i.test(t)}function rx(t=In()){return/blackberry/i.test(t)}function ax(t=In()){return/webos/i.test(t)}function av(t=In()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function FM(t=In()){return av(t)&&!!window.navigator?.standalone}function HM(){return nk()&&document.documentMode===10}function ox(t=In()){return av(t)||sx(t)||ax(t)||rx(t)||/windows phone/i.test(t)||ix(t)}function lx(t,e=[]){let n;switch(t){case"Browser":n=EE(In());break;case"Worker":n=`${EE(In())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fo}/${s}`}class qM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function GM(t,e={}){return Dl(t,"GET","/v2/passwordPolicy",sv(t,e))}const KM=6;class $M{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??KM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class YM{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wE(this),this.idTokenSubscription=new wE(this),this.beforeStateQueue=new qM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=tr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await dl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wf(this,{idToken:e}),s=await Hi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ti(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ti(this.app))return Promise.reject(io(this));const n=e?ln(e):null;return n&&ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ti(this.app)?Promise.reject(io(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ti(this.app)?Promise.reject(io(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GM(this),n=new $M(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ac("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await BM(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&tr(e)||this._popupRedirectResolver;ke(n,this,"argument-error"),this.redirectPersistenceManager=await dl.create(this,[tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&SM(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Md(t){return ln(t)}class wE{constructor(e){this.auth=e,this.observer=null,this.addObserver=ck(n=>this.observer=n)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ov={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QM(t){ov=t}function XM(t){return ov.loadJS(t)}function WM(){return ov.gapiScript}function ZM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function JM(t,e){const n=kd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(ro(l,e??{}))return a;Ss(a,"already-initialized")}return n.initialize({options:e})}function eV(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(tr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function tV(t,e,n){const s=Md(t);ke(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=ux(e),{host:c,port:d}=nV(e),m=d===null?"":`:${d}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){ke(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ke(ro(p,s.config.emulator)&&ro(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,ho(c)?(Xy(`${l}//${c}${m}`),Wy("Auth",!0)):iV()}function ux(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nV(t){const e=ux(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:SE(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:SE(c)}}}function SE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function iV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class cx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return er("not implemented")}_getIdTokenResponse(e){return er("not implemented")}_linkToIdToken(e,n){return er("not implemented")}_getReauthenticationResolver(e){return er("not implemented")}}async function ml(t,e){return kM(t,"POST","/v1/accounts:signInWithIdp",sv(t,e))}const sV="http://localhost";class oo extends cx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ss("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new oo(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return ml(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ml(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ml(e,n)}buildRequest(){const e={requestUri:sV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cc(n)}return e}}class lv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ic extends lv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qr extends Ic{constructor(){super("facebook.com")}static credential(e){return oo._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";class Js extends Ic{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oo._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Js.credential(n,s)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";class Xr extends Ic{constructor(){super("github.com")}static credential(e){return oo._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.GITHUB_SIGN_IN_METHOD="github.com";Xr.PROVIDER_ID="github.com";class Wr extends Ic{constructor(){super("twitter.com")}static credential(e,n){return oo._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Wr.credential(n,s)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";class vl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Hi._fromIdTokenResponse(e,s,a),c=xE(s);return new vl({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=xE(s);return new vl({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function xE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Jf extends Is{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Jf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Jf(e,n,s,a)}}function hx(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Jf._fromErrorAndOperation(t,l,e,s):l})}async function rV(t,e,n=!1){const s=await hc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vl._forOperation(t,"link",s)}async function aV(t,e,n=!1){const{auth:s}=t;if(Ti(s.app))return Promise.reject(io(s));const a="reauthenticate";try{const l=await hc(t,hx(s,a,e,t),n);ke(l.idToken,s,"internal-error");const c=rv(l.idToken);ke(c,s,"internal-error");const{sub:d}=c;return ke(t.uid===d,s,"user-mismatch"),vl._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ss(s,"user-mismatch"),l}}async function oV(t,e,n=!1){if(Ti(t.app))return Promise.reject(io(t));const s="signIn",a=await hx(t,s,e),l=await vl._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}function lV(t,e,n,s){return ln(t).onIdTokenChanged(e,n,s)}function uV(t,e,n){return ln(t).beforeAuthStateChanged(e,n)}function cV(t,e,n,s){return ln(t).onAuthStateChanged(e,n,s)}function hV(t){return ln(t).signOut()}const ed="__sak";class fx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ed,"1"),this.storage.removeItem(ed),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const fV=1e3,dV=10;class dx extends fx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ox(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);HM()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,dV):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},fV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dx.type="LOCAL";const mV=dx;class mx extends fx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mx.type="SESSION";const px=mx;function pV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Vd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Vd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,l)),m=await pV(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vd.receivers=[];function uv(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class gV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=uv("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(v){const E=v;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(E.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function bs(){return window}function yV(t){bs().location.href=t}function gx(){return typeof bs().WorkerGlobalScope<"u"&&typeof bs().importScripts=="function"}async function vV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _V(){return navigator?.serviceWorker?.controller||null}function bV(){return gx()?self:null}const yx="firebaseLocalStorageDb",TV=1,td="firebaseLocalStorage",vx="fbase_key";class Dc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pd(t,e){return t.transaction([td],e?"readwrite":"readonly").objectStore(td)}function EV(){const t=indexedDB.deleteDatabase(yx);return new Dc(t).toPromise()}function Wg(){const t=indexedDB.open(yx,TV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(td,{keyPath:vx})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(td)?e(s):(s.close(),await EV(),e(await Wg()))})})}async function AE(t,e,n){const s=Pd(t,!0).put({[vx]:e,value:n});return new Dc(s).toPromise()}async function wV(t,e){const n=Pd(t,!1).get(e),s=await new Dc(n).toPromise();return s===void 0?null:s.value}function CE(t,e){const n=Pd(t,!0).delete(e);return new Dc(n).toPromise()}const SV=800,xV=3;class _x{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>xV)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vd._getInstance(bV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await vV(),!this.activeServiceWorker)return;this.sender=new gV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_V()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wg();return await AE(e,ed,"1"),await CE(e,ed),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>AE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>wV(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>CE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Pd(a,!1).getAll();return new Dc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_x.type="LOCAL";const AV=_x;new Rc(3e4,6e4);function bx(t,e){return e?tr(e):(ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class cv extends cx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ml(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ml(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function CV(t){return oV(t.auth,new cv(t),t.bypassAuthState)}function RV(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),aV(n,new cv(t),t.bypassAuthState)}async function IV(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),rV(n,new cv(t),t.bypassAuthState)}class Tx{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CV;case"linkViaPopup":case"linkViaRedirect":return IV;case"reauthViaPopup":case"reauthViaRedirect":return RV;default:Ss(this.auth,"internal-error")}}resolve(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const DV=new Rc(2e3,1e4);async function NV(t,e,n){if(Ti(t.app))return Promise.reject(Gi(t,"operation-not-supported-in-this-environment"));const s=Md(t);xM(t,e,lv);const a=bx(s,n);return new Ja(s,"signInViaPopup",e,a).executeNotNull()}class Ja extends Tx{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){lr(this.filter.length===1,"Popup operations only handle one event");const e=uv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DV.get())};e()}}Ja.currentPopupAction=null;const kV="pendingRedirect",Pf=new Map;class MV extends Tx{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Pf.get(this.auth._key());if(!e){try{const s=await VV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Pf.set(this.auth._key(),e)}return this.bypassAuthState||Pf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VV(t,e){const n=LV(e),s=OV(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function PV(t,e){Pf.set(t._key(),e)}function OV(t){return tr(t._redirectPersistence)}function LV(t){return Vf(kV,t.config.apiKey,t.name)}async function jV(t,e,n=!1){if(Ti(t.app))return Promise.reject(io(t));const s=Md(t),a=bx(s,e),c=await new MV(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const UV=600*1e3;class zV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Ex(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Gi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UV&&this.cachedEventUids.clear(),this.cachedEventUids.has(RE(e))}saveEventToCache(e){this.cachedEventUids.add(RE(e)),this.lastProcessedEventTime=Date.now()}}function RE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ex({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function BV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ex(t);default:return!1}}async function FV(t,e={}){return Dl(t,"GET","/v1/projects",e)}const HV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qV=/^https?/;async function GV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await FV(t);for(const n of e)try{if(KV(n))return}catch{}Ss(t,"unauthorized-domain")}function KV(t){const e=Qg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!qV.test(n))return!1;if(HV.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const $V=new Rc(3e4,6e4);function IE(){const t=bs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function YV(t){return new Promise((e,n)=>{function s(){IE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{IE(),n(Gi(t,"network-request-failed"))},timeout:$V.get()})}if(bs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(bs().gapi?.load)s();else{const a=ZM("iframefcb");return bs()[a]=()=>{gapi.load?s():n(Gi(t,"network-request-failed"))},XM(`${WM()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Of=null,e})}let Of=null;function QV(t){return Of=Of||YV(t),Of}const XV=new Rc(5e3,15e3),WV="__/auth/iframe",ZV="emulator/auth/iframe",JV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tP(t){const e=t.config;ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?iv(e,ZV):`https://${t.config.authDomain}/${WV}`,s={apiKey:e.apiKey,appName:t.name,v:fo},a=eP.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Cc(s).slice(1)}`}async function nP(t){const e=await QV(t),n=bs().gapi;return ke(n,t,"internal-error"),e.open({where:document.body,url:tP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JV,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Gi(t,"network-request-failed"),d=bs().setTimeout(()=>{l(c)},XV.get());function m(){bs().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}const iP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sP=500,rP=600,aP="_blank",oP="http://localhost";class DE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lP(t,e,n,s=sP,a=rP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...iP,width:s.toString(),height:a.toString(),top:l,left:c},p=In().toLowerCase();n&&(d=nx(p)?aP:n),ex(p)&&(e=e||oP,m.scrollbars="yes");const y=Object.entries(m).reduce((E,[D,L])=>`${E}${D}=${L},`,"");if(FM(p)&&d!=="_self")return uP(e||"",d),new DE(null);const v=window.open(e||"",d,y);ke(v,t,"popup-blocked");try{v.focus()}catch{}return new DE(v)}function uP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const cP="__/auth/handler",hP="emulator/auth/handler",fP=encodeURIComponent("fac");async function NE(t,e,n,s,a,l){ke(t.config.authDomain,t,"auth-domain-config-required"),ke(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:fo,eventId:a};if(e instanceof lv){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",uk(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))c[y]=v}if(e instanceof Ic){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await t._getAppCheckToken(),p=m?`#${fP}=${encodeURIComponent(m)}`:"";return`${dP(t)}?${Cc(d).slice(1)}${p}`}function dP({config:t}){return t.emulator?iv(t,hP):`https://${t.authDomain}/${cP}`}const gg="webStorageSupport";class mP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=px,this._completeRedirectFn=jV,this._overrideRedirectResult=PV}async _openPopup(e,n,s,a){lr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await NE(e,n,s,Qg(),a);return lP(e,l,uv())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await NE(e,n,s,Qg(),a);return yV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(lr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await nP(e),s=new zV(e);return n.register("authEvent",a=>(ke(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gg,{type:gg},a=>{const l=a?.[0]?.[gg];l!==void 0&&n(!!l),Ss(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ox()||tx()||av()}}const pP=mP;var kE="@firebase/auth",ME="1.12.0";class gP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function yP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vP(t){ao(new aa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;ke(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lx(t)},p=new YM(s,a,l,m);return eV(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ao(new aa("auth-internal",e=>{const n=Md(e.getProvider("auth").getImmediate());return(s=>new gP(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_s(kE,ME,yP(t)),_s(kE,ME,"esm2020")}const _P=300,bP=zS("authIdTokenMaxAge")||_P;let VE=null;const TP=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>bP)return;const a=n?.token;VE!==a&&(VE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function EP(t=ev()){const e=kd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=JM(t,{popupRedirectResolver:pP,persistence:[AV,mV,px]}),s=zS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=TP(l.toString());uV(n,c,()=>c(n.currentUser)),lV(n,d=>c(d))}}const a=LS("auth");return a&&tV(n,`http://${a}`),n}function wP(){return document.getElementsByTagName("head")?.[0]??document}QM({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Gi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",wP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vP("Browser");var PE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ia,wx;(function(){var t;function e(R,w){function C(){}C.prototype=w.prototype,R.F=w.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(N,M,U){for(var O=Array(arguments.length-2),He=2;He<arguments.length;He++)O[He-2]=arguments[He];return w.prototype[M].apply(N,O)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,w,C){C||(C=0);const N=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)N[M]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(M=0;M<16;++M)N[M]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=R.g[0],C=R.g[1],M=R.g[2];let U=R.g[3],O;O=w+(U^C&(M^U))+N[0]+3614090360&4294967295,w=C+(O<<7&4294967295|O>>>25),O=U+(M^w&(C^M))+N[1]+3905402710&4294967295,U=w+(O<<12&4294967295|O>>>20),O=M+(C^U&(w^C))+N[2]+606105819&4294967295,M=U+(O<<17&4294967295|O>>>15),O=C+(w^M&(U^w))+N[3]+3250441966&4294967295,C=M+(O<<22&4294967295|O>>>10),O=w+(U^C&(M^U))+N[4]+4118548399&4294967295,w=C+(O<<7&4294967295|O>>>25),O=U+(M^w&(C^M))+N[5]+1200080426&4294967295,U=w+(O<<12&4294967295|O>>>20),O=M+(C^U&(w^C))+N[6]+2821735955&4294967295,M=U+(O<<17&4294967295|O>>>15),O=C+(w^M&(U^w))+N[7]+4249261313&4294967295,C=M+(O<<22&4294967295|O>>>10),O=w+(U^C&(M^U))+N[8]+1770035416&4294967295,w=C+(O<<7&4294967295|O>>>25),O=U+(M^w&(C^M))+N[9]+2336552879&4294967295,U=w+(O<<12&4294967295|O>>>20),O=M+(C^U&(w^C))+N[10]+4294925233&4294967295,M=U+(O<<17&4294967295|O>>>15),O=C+(w^M&(U^w))+N[11]+2304563134&4294967295,C=M+(O<<22&4294967295|O>>>10),O=w+(U^C&(M^U))+N[12]+1804603682&4294967295,w=C+(O<<7&4294967295|O>>>25),O=U+(M^w&(C^M))+N[13]+4254626195&4294967295,U=w+(O<<12&4294967295|O>>>20),O=M+(C^U&(w^C))+N[14]+2792965006&4294967295,M=U+(O<<17&4294967295|O>>>15),O=C+(w^M&(U^w))+N[15]+1236535329&4294967295,C=M+(O<<22&4294967295|O>>>10),O=w+(M^U&(C^M))+N[1]+4129170786&4294967295,w=C+(O<<5&4294967295|O>>>27),O=U+(C^M&(w^C))+N[6]+3225465664&4294967295,U=w+(O<<9&4294967295|O>>>23),O=M+(w^C&(U^w))+N[11]+643717713&4294967295,M=U+(O<<14&4294967295|O>>>18),O=C+(U^w&(M^U))+N[0]+3921069994&4294967295,C=M+(O<<20&4294967295|O>>>12),O=w+(M^U&(C^M))+N[5]+3593408605&4294967295,w=C+(O<<5&4294967295|O>>>27),O=U+(C^M&(w^C))+N[10]+38016083&4294967295,U=w+(O<<9&4294967295|O>>>23),O=M+(w^C&(U^w))+N[15]+3634488961&4294967295,M=U+(O<<14&4294967295|O>>>18),O=C+(U^w&(M^U))+N[4]+3889429448&4294967295,C=M+(O<<20&4294967295|O>>>12),O=w+(M^U&(C^M))+N[9]+568446438&4294967295,w=C+(O<<5&4294967295|O>>>27),O=U+(C^M&(w^C))+N[14]+3275163606&4294967295,U=w+(O<<9&4294967295|O>>>23),O=M+(w^C&(U^w))+N[3]+4107603335&4294967295,M=U+(O<<14&4294967295|O>>>18),O=C+(U^w&(M^U))+N[8]+1163531501&4294967295,C=M+(O<<20&4294967295|O>>>12),O=w+(M^U&(C^M))+N[13]+2850285829&4294967295,w=C+(O<<5&4294967295|O>>>27),O=U+(C^M&(w^C))+N[2]+4243563512&4294967295,U=w+(O<<9&4294967295|O>>>23),O=M+(w^C&(U^w))+N[7]+1735328473&4294967295,M=U+(O<<14&4294967295|O>>>18),O=C+(U^w&(M^U))+N[12]+2368359562&4294967295,C=M+(O<<20&4294967295|O>>>12),O=w+(C^M^U)+N[5]+4294588738&4294967295,w=C+(O<<4&4294967295|O>>>28),O=U+(w^C^M)+N[8]+2272392833&4294967295,U=w+(O<<11&4294967295|O>>>21),O=M+(U^w^C)+N[11]+1839030562&4294967295,M=U+(O<<16&4294967295|O>>>16),O=C+(M^U^w)+N[14]+4259657740&4294967295,C=M+(O<<23&4294967295|O>>>9),O=w+(C^M^U)+N[1]+2763975236&4294967295,w=C+(O<<4&4294967295|O>>>28),O=U+(w^C^M)+N[4]+1272893353&4294967295,U=w+(O<<11&4294967295|O>>>21),O=M+(U^w^C)+N[7]+4139469664&4294967295,M=U+(O<<16&4294967295|O>>>16),O=C+(M^U^w)+N[10]+3200236656&4294967295,C=M+(O<<23&4294967295|O>>>9),O=w+(C^M^U)+N[13]+681279174&4294967295,w=C+(O<<4&4294967295|O>>>28),O=U+(w^C^M)+N[0]+3936430074&4294967295,U=w+(O<<11&4294967295|O>>>21),O=M+(U^w^C)+N[3]+3572445317&4294967295,M=U+(O<<16&4294967295|O>>>16),O=C+(M^U^w)+N[6]+76029189&4294967295,C=M+(O<<23&4294967295|O>>>9),O=w+(C^M^U)+N[9]+3654602809&4294967295,w=C+(O<<4&4294967295|O>>>28),O=U+(w^C^M)+N[12]+3873151461&4294967295,U=w+(O<<11&4294967295|O>>>21),O=M+(U^w^C)+N[15]+530742520&4294967295,M=U+(O<<16&4294967295|O>>>16),O=C+(M^U^w)+N[2]+3299628645&4294967295,C=M+(O<<23&4294967295|O>>>9),O=w+(M^(C|~U))+N[0]+4096336452&4294967295,w=C+(O<<6&4294967295|O>>>26),O=U+(C^(w|~M))+N[7]+1126891415&4294967295,U=w+(O<<10&4294967295|O>>>22),O=M+(w^(U|~C))+N[14]+2878612391&4294967295,M=U+(O<<15&4294967295|O>>>17),O=C+(U^(M|~w))+N[5]+4237533241&4294967295,C=M+(O<<21&4294967295|O>>>11),O=w+(M^(C|~U))+N[12]+1700485571&4294967295,w=C+(O<<6&4294967295|O>>>26),O=U+(C^(w|~M))+N[3]+2399980690&4294967295,U=w+(O<<10&4294967295|O>>>22),O=M+(w^(U|~C))+N[10]+4293915773&4294967295,M=U+(O<<15&4294967295|O>>>17),O=C+(U^(M|~w))+N[1]+2240044497&4294967295,C=M+(O<<21&4294967295|O>>>11),O=w+(M^(C|~U))+N[8]+1873313359&4294967295,w=C+(O<<6&4294967295|O>>>26),O=U+(C^(w|~M))+N[15]+4264355552&4294967295,U=w+(O<<10&4294967295|O>>>22),O=M+(w^(U|~C))+N[6]+2734768916&4294967295,M=U+(O<<15&4294967295|O>>>17),O=C+(U^(M|~w))+N[13]+1309151649&4294967295,C=M+(O<<21&4294967295|O>>>11),O=w+(M^(C|~U))+N[4]+4149444226&4294967295,w=C+(O<<6&4294967295|O>>>26),O=U+(C^(w|~M))+N[11]+3174756917&4294967295,U=w+(O<<10&4294967295|O>>>22),O=M+(w^(U|~C))+N[2]+718787259&4294967295,M=U+(O<<15&4294967295|O>>>17),O=C+(U^(M|~w))+N[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(M+(O<<21&4294967295|O>>>11))&4294967295,R.g[2]=R.g[2]+M&4294967295,R.g[3]=R.g[3]+U&4294967295}s.prototype.v=function(R,w){w===void 0&&(w=R.length);const C=w-this.blockSize,N=this.C;let M=this.h,U=0;for(;U<w;){if(M==0)for(;U<=C;)a(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<w;)if(N[M++]=R.charCodeAt(U++),M==this.blockSize){a(this,N),M=0;break}}else for(;U<w;)if(N[M++]=R[U++],M==this.blockSize){a(this,N),M=0;break}}this.h=M,this.o+=w},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,C=0;C<4;++C)for(let N=0;N<32;N+=8)R[w++]=this.g[C]>>>N&255;return R};function l(R,w){var C=d;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=w(R)}function c(R,w){this.h=w;const C=[];let N=!0;for(let M=R.length-1;M>=0;M--){const U=R[M]|0;N&&U==w||(C[M]=U,N=!1)}this.g=C}var d={};function m(R){return-128<=R&&R<128?l(R,function(w){return new c([w|0],w<0?-1:0)}):new c([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return v;if(R<0)return k(p(-R));const w=[];let C=1;for(let N=0;R>=C;N++)w[N]=R/C|0,C*=4294967296;return new c(w,0)}function y(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return k(y(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(w,8));let N=v;for(let U=0;U<R.length;U+=8){var M=Math.min(8,R.length-U);const O=parseInt(R.substring(U,U+M),w);M<8?(M=p(Math.pow(w,M)),N=N.j(M).add(p(O))):(N=N.j(C),N=N.add(p(O)))}return N}var v=m(0),E=m(1),D=m(16777216);t=c.prototype,t.m=function(){if(V(this))return-k(this).m();let R=0,w=1;for(let C=0;C<this.g.length;C++){const N=this.i(C);R+=(N>=0?N:4294967296+N)*w,w*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(L(this))return"0";if(V(this))return"-"+k(this).toString(R);const w=p(Math.pow(R,6));var C=this;let N="";for(;;){const M=ue(C,w).g;C=B(C,M.j(w));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=M,L(C))return U+N;for(;U.length<6;)U="0"+U;N=U+N}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function L(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function V(R){return R.h==-1}t.l=function(R){return R=B(this,R),V(R)?-1:L(R)?0:1};function k(R){const w=R.g.length,C=[];for(let N=0;N<w;N++)C[N]=~R.g[N];return new c(C,~R.h).add(E)}t.abs=function(){return V(this)?k(this):this},t.add=function(R){const w=Math.max(this.g.length,R.g.length),C=[];let N=0;for(let M=0;M<=w;M++){let U=N+(this.i(M)&65535)+(R.i(M)&65535),O=(U>>>16)+(this.i(M)>>>16)+(R.i(M)>>>16);N=O>>>16,U&=65535,O&=65535,C[M]=O<<16|U}return new c(C,C[C.length-1]&-2147483648?-1:0)};function B(R,w){return R.add(k(w))}t.j=function(R){if(L(this)||L(R))return v;if(V(this))return V(R)?k(this).j(k(R)):k(k(this).j(R));if(V(R))return k(this.j(k(R)));if(this.l(D)<0&&R.l(D)<0)return p(this.m()*R.m());const w=this.g.length+R.g.length,C=[];for(var N=0;N<2*w;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(let M=0;M<R.g.length;M++){const U=this.i(N)>>>16,O=this.i(N)&65535,He=R.i(M)>>>16,Ke=R.i(M)&65535;C[2*N+2*M]+=O*Ke,q(C,2*N+2*M),C[2*N+2*M+1]+=U*Ke,q(C,2*N+2*M+1),C[2*N+2*M+1]+=O*He,q(C,2*N+2*M+1),C[2*N+2*M+2]+=U*He,q(C,2*N+2*M+2)}for(R=0;R<w;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=w;R<2*w;R++)C[R]=0;return new c(C,0)};function q(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function H(R,w){this.g=R,this.h=w}function ue(R,w){if(L(w))throw Error("division by zero");if(L(R))return new H(v,v);if(V(R))return w=ue(k(R),w),new H(k(w.g),k(w.h));if(V(w))return w=ue(R,k(w)),new H(k(w.g),w.h);if(R.g.length>30){if(V(R)||V(w))throw Error("slowDivide_ only works with positive integers.");for(var C=E,N=w;N.l(R)<=0;)C=ae(C),N=ae(N);var M=me(C,1),U=me(N,1);for(N=me(N,2),C=me(C,2);!L(N);){var O=U.add(N);O.l(R)<=0&&(M=M.add(C),U=O),N=me(N,1),C=me(C,1)}return w=B(R,M.j(w)),new H(M,w)}for(M=v;R.l(w)>=0;){for(C=Math.max(1,Math.floor(R.m()/w.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),U=p(C),O=U.j(w);V(O)||O.l(R)>0;)C-=N,U=p(C),O=U.j(w);L(U)&&(U=E),M=M.add(U),R=B(R,O)}return new H(M,R)}t.B=function(R){return ue(this,R).h},t.and=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let N=0;N<w;N++)C[N]=this.i(N)&R.i(N);return new c(C,this.h&R.h)},t.or=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let N=0;N<w;N++)C[N]=this.i(N)|R.i(N);return new c(C,this.h|R.h)},t.xor=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let N=0;N<w;N++)C[N]=this.i(N)^R.i(N);return new c(C,this.h^R.h)};function ae(R){const w=R.g.length+1,C=[];for(let N=0;N<w;N++)C[N]=R.i(N)<<1|R.i(N-1)>>>31;return new c(C,R.h)}function me(R,w){const C=w>>5;w%=32;const N=R.g.length-C,M=[];for(let U=0;U<N;U++)M[U]=w>0?R.i(U+C)>>>w|R.i(U+C+1)<<32-w:R.i(U+C);return new c(M,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,wx=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,ia=c}).apply(typeof PE<"u"?PE:typeof self<"u"?self:typeof window<"u"?window:{});var vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Sx,Ku,xx,Lf,Zg,Ax,Cx,Rx;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof vf=="object"&&vf];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function a(h,_){if(_)e:{var T=s;h=h.split(".");for(var I=0;I<h.length-1;I++){var $=h[I];if(!($ in T))break e;T=T[$]}h=h[h.length-1],I=T[h],_=_(I),_!=I&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var T=[],I;for(I in _)Object.prototype.hasOwnProperty.call(_,I)&&T.push([I,_[I]]);return T}});var l=l||{},c=this||self;function d(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,T){return h.call.apply(h.bind,arguments)}function p(h,_,T){return p=m,p.apply(null,arguments)}function y(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var I=T.slice();return I.push.apply(I,arguments),h.apply(this,I)}}function v(h,_){function T(){}T.prototype=_.prototype,h.Z=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(I,$,J){for(var ge=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ge[Ue-2]=arguments[Ue];return _.prototype[$].apply(I,ge)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function D(h){const _=h.length;if(_>0){const T=Array(_);for(let I=0;I<_;I++)T[I]=h[I];return T}return[]}function L(h,_){for(let I=1;I<arguments.length;I++){const $=arguments[I];var T=typeof $;if(T=T!="object"?T:$?Array.isArray($)?"array":T:"null",T=="array"||T=="object"&&typeof $.length=="number"){T=h.length||0;const J=$.length||0;h.length=T+J;for(let ge=0;ge<J;ge++)h[T+ge]=$[ge]}else h.push($)}}class V{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function k(h){c.setTimeout(()=>{throw h},0)}function B(){var h=R;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class q{constructor(){this.h=this.g=null}add(_,T){const I=H.get();I.set(_,T),this.h?this.h.next=I:this.g=I,this.h=I}}var H=new V(()=>new ue,h=>h.reset());class ue{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,me=!1,R=new q,w=()=>{const h=Promise.resolve(void 0);ae=()=>{h.then(C)}};function C(){for(var h;h=B();){try{h.h.call(h.g)}catch(T){k(T)}var _=H;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}me=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,_),c.removeEventListener("test",T,_)}catch{}return h})();function O(h){return/^[\s\xa0]*$/.test(h)}function He(h,_){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}v(He,M),He.prototype.init=function(h,_){const T=this.type=h.type,I=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&He.Z.h.call(this)},He.prototype.h=function(){He.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ke="closure_listenable_"+(Math.random()*1e6|0),Z=0;function he(h,_,T,I,$){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!I,this.ha=$,this.key=++Z,this.da=this.fa=!1}function re(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function De(h,_,T){for(const I in h)_.call(T,h[I],I,h)}function F(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function S(h){const _={};for(const T in h)_[T]=h[T];return _}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(h,_){let T,I;for(let $=1;$<arguments.length;$++){I=arguments[$];for(T in I)h[T]=I[T];for(let J=0;J<K.length;J++)T=K[J],Object.prototype.hasOwnProperty.call(I,T)&&(h[T]=I[T])}}function ie(h){this.src=h,this.g={},this.h=0}ie.prototype.add=function(h,_,T,I,$){const J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);const ge=pe(h,_,I,$);return ge>-1?(_=h[ge],T||(_.fa=!1)):(_=new he(_,this.src,J,!!I,$),_.fa=T,h.push(_)),_};function de(h,_){const T=_.type;if(T in h.g){var I=h.g[T],$=Array.prototype.indexOf.call(I,_,void 0),J;(J=$>=0)&&Array.prototype.splice.call(I,$,1),J&&(re(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function pe(h,_,T,I){for(let $=0;$<h.length;++$){const J=h[$];if(!J.da&&J.listener==_&&J.capture==!!T&&J.ha==I)return $}return-1}var fe="closure_lm_"+(Math.random()*1e6|0),be={};function xe(h,_,T,I,$){if(Array.isArray(_)){for(let J=0;J<_.length;J++)xe(h,_[J],T,I,$);return null}return T=un(T),h&&h[Ke]?h.J(_,T,d(I)?!!I.capture:!1,$):Le(h,_,T,!1,I,$)}function Le(h,_,T,I,$,J){if(!_)throw Error("Invalid event type");const ge=d($)?!!$.capture:!!$;let Ue=qe(h);if(Ue||(h[fe]=Ue=new ie(h)),T=Ue.add(_,T,I,ge,J),T.proxy)return T;if(I=je(),T.proxy=I,I.src=h,I.listener=T,h.addEventListener)U||($=ge),$===void 0&&($=!1),h.addEventListener(_.toString(),I,$);else if(h.attachEvent)h.attachEvent(Me(_.toString()),I);else if(h.addListener&&h.removeListener)h.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return T}function je(){function h(T){return _.call(h.src,h.listener,T)}const _=Et;return h}function $e(h,_,T,I,$){if(Array.isArray(_))for(var J=0;J<_.length;J++)$e(h,_[J],T,I,$);else I=d(I)?!!I.capture:!!I,T=un(T),h&&h[Ke]?(h=h.i,J=String(_).toString(),J in h.g&&(_=h.g[J],T=pe(_,T,I,$),T>-1&&(re(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete h.g[J],h.h--)))):h&&(h=qe(h))&&(_=h.g[_.toString()],h=-1,_&&(h=pe(_,T,I,$)),(T=h>-1?_[h]:null)&&vt(T))}function vt(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Ke])de(_.i,h);else{var T=h.type,I=h.proxy;_.removeEventListener?_.removeEventListener(T,I,h.capture):_.detachEvent?_.detachEvent(Me(T),I):_.addListener&&_.removeListener&&_.removeListener(I),(T=qe(_))?(de(T,h),T.h==0&&(T.src=null,_[fe]=null)):re(h)}}}function Me(h){return h in be?be[h]:be[h]="on"+h}function Et(h,_){if(h.da)h=!0;else{_=new He(_,this);const T=h.listener,I=h.ha||h.src;h.fa&&vt(h),h=T.call(I,_)}return h}function qe(h){return h=h[fe],h instanceof ie?h:null}var Dt="__closure_events_fn_"+(Math.random()*1e9>>>0);function un(h){return typeof h=="function"?h:(h[Dt]||(h[Dt]=function(_){return h.handleEvent(_)}),h[Dt])}function st(){N.call(this),this.i=new ie(this),this.M=this,this.G=null}v(st,N),st.prototype[Ke]=!0,st.prototype.removeEventListener=function(h,_,T,I){$e(this,h,_,T,I)};function tt(h,_){var T,I=h.G;if(I)for(T=[];I;I=I.G)T.push(I);if(h=h.M,I=_.type||_,typeof _=="string")_=new M(_,h);else if(_ instanceof M)_.target=_.target||h;else{var $=_;_=new M(I,h),ee(_,$)}$=!0;let J,ge;if(T)for(ge=T.length-1;ge>=0;ge--)J=_.g=T[ge],$=wn(J,I,!0,_)&&$;if(J=_.g=h,$=wn(J,I,!0,_)&&$,$=wn(J,I,!1,_)&&$,T)for(ge=0;ge<T.length;ge++)J=_.g=T[ge],$=wn(J,I,!1,_)&&$}st.prototype.N=function(){if(st.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const T=h.g[_];for(let I=0;I<T.length;I++)re(T[I]);delete h.g[_],h.h--}}this.G=null},st.prototype.J=function(h,_,T,I){return this.i.add(String(h),_,!1,T,I)},st.prototype.K=function(h,_,T,I){return this.i.add(String(h),_,!0,T,I)};function wn(h,_,T,I){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let $=!0;for(let J=0;J<_.length;++J){const ge=_[J];if(ge&&!ge.da&&ge.capture==T){const Ue=ge.listener,Bt=ge.ha||ge.src;ge.fa&&de(h.i,ge),$=Ue.call(Bt,I)!==!1&&$}}return $&&!I.defaultPrevented}function fr(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function Ns(h){h.g=fr(()=>{h.g=null,h.i&&(h.i=!1,Ns(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Nt extends N{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ns(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ci(h){N.call(this),this.h=h,this.g={}}v(Ci,N);var Ri=[];function ks(h){De(h.g,function(_,T){this.g.hasOwnProperty(T)&&vt(_)},h),h.g={}}Ci.prototype.N=function(){Ci.Z.N.call(this),ks(this)},Ci.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kn=c.JSON.stringify,Qi=c.JSON.parse,Ii=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Xi(){}function dr(){}var Dn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function nn(){M.call(this,"d")}v(nn,M);function On(){M.call(this,"c")}v(On,M);var Ot={},ba=null;function Wi(){return ba=ba||new st}Ot.Ia="serverreachability";function mr(h){M.call(this,Ot.Ia,h)}v(mr,M);function ai(h){const _=Wi();tt(_,new mr(_))}Ot.STAT_EVENT="statevent";function W(h,_){M.call(this,Ot.STAT_EVENT,h),this.stat=_}v(W,M);function Ee(h){const _=Wi();tt(_,new W(_,h))}Ot.Ja="timingevent";function bt(h,_){M.call(this,Ot.Ja,h),this.size=_}v(bt,M);function At(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function zt(){this.g=!0}zt.prototype.ua=function(){this.g=!1};function Zi(h,_,T,I,$,J){h.info(function(){if(h.g)if(J){var ge="",Ue=J.split("&");for(let ot=0;ot<Ue.length;ot++){var Bt=Ue[ot].split("=");if(Bt.length>1){const Ct=Bt[0];Bt=Bt[1];const ci=Ct.split("_");ge=ci.length>=2&&ci[1]=="type"?ge+(Ct+"="+Bt+"&"):ge+(Ct+"=redacted&")}}}else ge=null;else ge=J;return"XMLHTTP REQ ("+I+") [attempt "+$+"]: "+_+`
`+T+`
`+ge})}function Di(h,_,T,I,$,J,ge){h.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+$+"]: "+_+`
`+T+`
`+J+" "+ge})}function $n(h,_,T,I){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+am(h,T)+(I?" "+I:"")})}function Ta(h,_){h.info(function(){return"TIMEOUT: "+_})}zt.prototype.info=function(){};function am(h,_){if(!h.g)return _;if(!_)return null;try{const J=JSON.parse(_);if(J){for(h=0;h<J.length;h++)if(Array.isArray(J[h])){var T=J[h];if(!(T.length<2)){var I=T[1];if(Array.isArray(I)&&!(I.length<1)){var $=I[0];if($!="noop"&&$!="stop"&&$!="close")for(let ge=1;ge<I.length;ge++)I[ge]=""}}}}return Kn(J)}catch{return _}}var Ea={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bl;function wa(){}v(wa,Xi),wa.prototype.g=function(){return new XMLHttpRequest},Bl=new wa;function Ms(h){return encodeURIComponent(String(h))}function $c(h){var _=1;h=h.split(":");const T=[];for(;_>0&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function Ni(h,_,T,I){this.j=h,this.i=_,this.l=T,this.S=I||1,this.V=new Ci(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ki}function ki(){this.i=null,this.g="",this.h=!1}var Gt={},cn={};function Ji(h,_,T){h.M=1,h.A=Sa($t(_)),h.u=T,h.R=!0,go(h,null)}function go(h,_){h.F=Date.now(),es(h),h.B=$t(h.A);var T=h.B,I=h.S;Array.isArray(I)||(I=[String(I)]),bo(T.i,"t",I),h.C=0,T=h.j.L,h.h=new ki,h.g=lh(h.j,T?_:null,!h.u),h.P>0&&(h.O=new Nt(p(h.Y,h,h.g),h.P)),_=h.V,T=h.g,I=h.ba;var $="readystatechange";Array.isArray($)||($&&(Ri[0]=$.toString()),$=Ri);for(let J=0;J<$.length;J++){const ge=xe(T,$[J],I||_.handleEvent,!1,_.h||_);if(!ge)break;_.g[ge.key]=ge}_=h.J?S(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),ai(),Zi(h.i,h.v,h.B,h.l,h.S,h.u)}Ni.prototype.ba=function(h){h=h.target;const _=this.O;_&&Pi(h)==3?_.j():this.Y(h)},Ni.prototype.Y=function(h){try{if(h==this.g)e:{const Ue=Pi(this.g),Bt=this.g.ya(),ot=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||gn(this.g)))){this.K||Ue!=4||Bt==7||(Bt==8||ot<=0?ai(3):ai(2)),ts(this);var _=this.g.ca();this.X=_;var T=om(this);if(this.o=_==200,Di(this.i,this.v,this.B,this.l,this.S,Ue,_),this.o){if(this.U&&!this.L){t:{if(this.g){var I,$=this.g;if((I=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(I)){var J=I;break t}}J=null}if(h=J)$n(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ns(this,h);else{this.o=!1,this.m=3,Ee(12),Yn(this),oi(this);break e}}if(this.R){h=!0;let Ct;for(;!this.K&&this.C<T.length;)if(Ct=Qc(this,T),Ct==cn){Ue==4&&(this.m=4,Ee(14),h=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(Ct==Gt){this.m=4,Ee(15),$n(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else $n(this.i,this.l,Ct,null),ns(this,Ct);if(Yc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||T.length!=0||this.h.h||(this.m=1,Ee(16),h=!1),this.o=this.o&&h,!h)$n(this.i,this.l,T,"[Invalid Chunked Response]"),Yn(this),oi(this);else if(T.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),nu(ge),ge.P=!0,Ee(11))}}else $n(this.i,this.l,T,null),ns(this,T);Ue==4&&Yn(this),this.o&&!this.K&&(Ue==4?sh(this.j,this):(this.o=!1,es(this)))}else Ps(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ee(12)):(this.m=0,Ee(13)),Yn(this),oi(this)}}}catch{}};function om(h){if(!Yc(h))return h.g.la();const _=gn(h.g);if(_==="")return"";let T="";const I=_.length,$=Pi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Yn(h),oi(h),"";h.h.i=new c.TextDecoder}for(let J=0;J<I;J++)h.h.h=!0,T+=h.h.i.decode(_[J],{stream:!($&&J==I-1)});return _.length=0,h.h.g+=T,h.C=0,h.h.g}function Yc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Qc(h,_){var T=h.C,I=_.indexOf(`
`,T);return I==-1?cn:(T=Number(_.substring(T,I)),isNaN(T)?Gt:(I+=1,I+T>_.length?cn:(_=_.slice(I,I+T),h.C=I+T,_)))}Ni.prototype.cancel=function(){this.K=!0,Yn(this)};function es(h){h.T=Date.now()+h.H,yo(h,h.H)}function yo(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=At(p(h.aa,h),_)}function ts(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Ni.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ta(this.i,this.B),this.M!=2&&(ai(),Ee(17)),Yn(this),this.m=2,oi(this)):yo(this,this.T-h)};function oi(h){h.j.I==0||h.K||sh(h.j,h)}function Yn(h){ts(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,ks(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function ns(h,_){try{var T=h.j;if(T.I!=0&&(T.g==h||ss(T.h,h))){if(!h.L&&ss(T.h,h)&&T.I==3){try{var I=T.Ba.g.parse(_)}catch{I=null}if(Array.isArray(I)&&I.length==3){var $=I;if($[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)xo(T),Er(T);else break e;Na(T),Ee(18)}}else T.xa=$[1],0<T.xa-T.K&&$[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=At(p(T.Va,T),6e3));is(T.h)<=1&&T.ta&&(T.ta=void 0)}else cs(T,11)}else if((h.L||T.g==h)&&xo(T),!O(_))for($=T.Ba.g.parse(_),_=0;_<$.length;_++){let ot=$[_];const Ct=ot[0];if(!(Ct<=T.K))if(T.K=Ct,ot=ot[1],T.I==2)if(ot[0]=="c"){T.M=ot[1],T.ba=ot[2];const ci=ot[3];ci!=null&&(T.ka=ci,T.j.info("VER="+T.ka));const hs=ot[4];hs!=null&&(T.za=hs,T.j.info("SVER="+T.za));const Oi=ot[5];Oi!=null&&typeof Oi=="number"&&Oi>0&&(I=1.5*Oi,T.O=I,T.j.info("backChannelRequestTimeoutMs_="+I)),I=T;const Li=h.g;if(Li){const ka=Li.g?Li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ka){var J=I.h;J.g||ka.indexOf("spdy")==-1&&ka.indexOf("quic")==-1&&ka.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(ql(J,J.h),J.h=null))}if(I.G){const Ao=Li.g?Li.g.getResponseHeader("X-HTTP-Session-Id"):null;Ao&&(I.wa=Ao,ct(I.J,I.G,Ao))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),I=T;var ge=h;if(I.na=oh(I,I.L?I.ba:null,I.W),ge.L){Gl(I.h,ge);var Ue=ge,Bt=I.O;Bt&&(Ue.H=Bt),Ue.D&&(ts(Ue),es(Ue)),I.g=ge}else nh(I);T.i.length>0&&us(T)}else ot[0]!="stop"&&ot[0]!="close"||cs(T,7);else T.I==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?cs(T,7):eu(T):ot[0]!="noop"&&T.l&&T.l.qa(ot),T.A=0)}}ai(4)}catch{}}var Kt=class{constructor(h,_){this.g=h,this.map=_}};function Fl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Hl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function is(h){return h.h?1:h.g?h.g.size:0}function ss(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function ql(h,_){h.g?h.g.add(_):h.h=_}function Gl(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Fl.prototype.cancel=function(){if(this.i=Kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Kl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.G);return _}return D(h.i)}var Xc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vo(h,_){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const I=h[T].indexOf("=");let $,J=null;I>=0?($=h[T].substring(0,I),J=h[T].substring(I+1)):$=h[T],_($,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Qn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Qn?(this.l=h.l,hn(this,h.j),this.o=h.o,this.g=h.g,pr(this,h.u),this.h=h.h,$l(this,eh(h.i)),this.m=h.m):h&&(_=String(h).match(Xc))?(this.l=!1,hn(this,_[1]||"",!0),this.o=rs(_[2]||""),this.g=rs(_[3]||"",!0),pr(this,_[4]),this.h=rs(_[5]||"",!0),$l(this,_[6]||"",!0),this.m=rs(_[7]||"")):(this.l=!1,this.i=new yr(null,this.l))}Qn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(xa(_,_o,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(xa(_,_o,!0),"@"),h.push(Ms(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(xa(T,T.charAt(0)=="/"?Yl:Wc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",xa(T,Zc)),h.join("")},Qn.prototype.resolve=function(h){const _=$t(this);let T=!!h.j;T?hn(_,h.j):T=!!h.o,T?_.o=h.o:T=!!h.g,T?_.g=h.g:T=h.u!=null;var I=h.h;if(T)pr(_,h.u);else if(T=!!h.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var $=_.h.lastIndexOf("/");$!=-1&&(I=_.h.slice(0,$+1)+I)}if($=I,$==".."||$==".")I="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){I=$.lastIndexOf("/",0)==0,$=$.split("/");const J=[];for(let ge=0;ge<$.length;){const Ue=$[ge++];Ue=="."?I&&ge==$.length&&J.push(""):Ue==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),I&&ge==$.length&&J.push("")):(J.push(Ue),I=!0)}I=J.join("/")}else I=$}return T?_.h=I:T=h.i.toString()!=="",T?$l(_,eh(h.i)):T=!!h.m,T&&(_.m=h.m),_};function $t(h){return new Qn(h)}function hn(h,_,T){h.j=T?rs(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function pr(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function $l(h,_,T){_ instanceof yr?(h.i=_,To(h.i,h.l)):(T||(_=xa(_,gr)),h.i=new yr(_,h.l))}function ct(h,_,T){h.i.set(_,T)}function Sa(h){return ct(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function rs(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function xa(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,Ln),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Ln(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var _o=/[#\/\?@]/g,Wc=/[#\?:]/g,Yl=/[#\?]/g,gr=/[#\?@]/g,Zc=/#/g;function yr(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function jn(h){h.g||(h.g=new Map,h.h=0,h.i&&vo(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}t=yr.prototype,t.add=function(h,_){jn(this),this.i=null,h=vr(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function Jc(h,_){jn(h),_=vr(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Ql(h,_){return jn(h),_=vr(h,_),h.g.has(_)}t.forEach=function(h,_){jn(this),this.g.forEach(function(T,I){T.forEach(function($){h.call(_,$,I,this)},this)},this)};function Xl(h,_){jn(h);let T=[];if(typeof _=="string")Ql(h,_)&&(T=T.concat(h.g.get(vr(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)T=T.concat(h[_]);return T}t.set=function(h,_){return jn(this),this.i=null,h=vr(this,h),Ql(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=Xl(this,h),h.length>0?String(h[0]):_):_};function bo(h,_,T){Jc(h,_),T.length>0&&(h.i=null,h.g.set(vr(h,_),D(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let I=0;I<_.length;I++){var T=_[I];const $=Ms(T);T=Xl(this,T);for(let J=0;J<T.length;J++){let ge=$;T[J]!==""&&(ge+="="+Ms(T[J])),h.push(ge)}}return this.i=h.join("&")};function eh(h){const _=new yr;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function vr(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function To(h,_){_&&!h.j&&(jn(h),h.i=null,h.g.forEach(function(T,I){const $=I.toLowerCase();I!=$&&(Jc(this,I),bo(this,$,T))},h)),h.j=_}function Mi(h,_){const T=new zt;if(c.Image){const I=new Image;I.onload=y(li,T,"TestLoadImage: loaded",!0,_,I),I.onerror=y(li,T,"TestLoadImage: error",!1,_,I),I.onabort=y(li,T,"TestLoadImage: abort",!1,_,I),I.ontimeout=y(li,T,"TestLoadImage: timeout",!1,_,I),c.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=h}else _(!1)}function Wl(h,_){const T=new zt,I=new AbortController,$=setTimeout(()=>{I.abort(),li(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:I.signal}).then(J=>{clearTimeout($),J.ok?li(T,"TestPingServer: ok",!0,_):li(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout($),li(T,"TestPingServer: error",!1,_)})}function li(h,_,T,I,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),I(T)}catch{}}function _r(){this.g=new Ii}function as(h){this.i=h.Sb||null,this.h=h.ab||!1}v(as,Xi),as.prototype.g=function(){return new Aa(this.i,this.h)};function Aa(h,_){st.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Aa,st),t=Aa.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,Vi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,br(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Vi(this)),this.g&&(this.readyState=3,Vi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Eo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Eo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?br(this):Vi(this),this.readyState==3&&Eo(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,br(this))},t.Na=function(h){this.g&&(this.response=h,br(this))},t.ga=function(){this.g&&br(this)};function br(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Vi(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function Vi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Aa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ui(h){let _="";return De(h,function(T,I){_+=I,_+=":",_+=T,_+=`\r
`}),_}function Ca(h,_,T){e:{for(I in T){var I=!1;break e}I=!0}I||(T=ui(T),typeof h=="string"?T!=null&&Ms(T):ct(h,_,T))}function dt(h){st.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(dt,st);var os=/^https?$/i,Zl=["POST","PUT"];t=dt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,T,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bl.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(J){Ra(this,J);return}if(h=T||"",T=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var $ in I)T.set($,I[$]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const J of I.keys())T.set(J,I.get(J));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(T.keys()).find(J=>J.toLowerCase()=="content-type"),$=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Zl,_,void 0)>=0)||I||$||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ge]of T)this.g.setRequestHeader(J,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(J){Ra(this,J)}};function Ra(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,Jl(h),Vs(h)}function Jl(h){h.A||(h.A=!0,tt(h,"complete"),tt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,tt(this,"complete"),tt(this,"abort"),Vs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vs(this,!0)),dt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ia(this):this.Xa())},t.Xa=function(){Ia(this)};function Ia(h){if(h.h&&typeof l<"u"){if(h.v&&Pi(h)==4)setTimeout(h.Ca.bind(h),0);else if(tt(h,"readystatechange"),Pi(h)==4){h.h=!1;try{const J=h.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var I;if(I=J===0){let ge=String(h.D).match(Xc)[1]||null;!ge&&c.self&&c.self.location&&(ge=c.self.location.protocol.slice(0,-1)),I=!os.test(ge?ge.toLowerCase():"")}T=I}if(T)tt(h,"complete"),tt(h,"success");else{h.o=6;try{var $=Pi(h)>2?h.g.statusText:""}catch{$=""}h.l=$+" ["+h.ca()+"]",Jl(h)}}finally{Vs(h)}}}}function Vs(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,_||tt(h,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Pi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Pi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Qi(_)}};function gn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ps(h){const _={};h=(h.g&&Pi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<h.length;I++){if(O(h[I]))continue;var T=$c(h[I]);const $=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const J=_[$]||[];_[$]=J,J.push(T)}F(_,function(I){return I.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ls(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function Tr(h){this.za=0,this.i=[],this.j=new zt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ls("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ls("baseRetryDelayMs",5e3,h),this.Za=ls("retryDelaySeedMs",1e4,h),this.Ta=ls("forwardChannelMaxRetries",2,h),this.va=ls("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Fl(h&&h.concurrentRequestLimit),this.Ba=new _r,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Tr.prototype,t.ka=8,t.I=1,t.connect=function(h,_,T,I){Ee(0),this.W=h,this.H=_||{},T&&I!==void 0&&(this.H.OSID=T,this.H.OAID=I),this.F=this.X,this.J=oh(this,null,this.W),us(this)};function eu(h){if(wo(h),h.I==3){var _=h.V++,T=$t(h.J);if(ct(T,"SID",h.M),ct(T,"RID",_),ct(T,"TYPE","terminate"),Da(h,T),_=new Ni(h,h.j,_),_.M=2,_.A=Sa($t(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=_.A,T=!0),T||(_.g=lh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),es(_)}ah(h)}function Er(h){h.g&&(nu(h),h.g.cancel(),h.g=null)}function wo(h){Er(h),h.v&&(c.clearTimeout(h.v),h.v=null),xo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function us(h){if(!Hl(h.h)&&!h.m){h.m=!0;var _=h.Ea;ae||w(),me||(ae(),me=!0),R.add(_,h),h.D=0}}function So(h,_){return is(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=At(p(h.Ea,h,_),rh(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const $=new Ni(this,this.j,h);let J=this.o;if(this.U&&(J?(J=S(J),ee(J,this.U)):J=this.U),this.u!==null||this.R||($.J=J,J=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var I=this.i[T];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(_+=I,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=th(this,$,_),T=$t(this.J),ct(T,"RID",h),ct(T,"CVER",22),this.G&&ct(T,"X-HTTP-Session-Id",this.G),Da(this,T),J&&(this.R?_="headers="+Ms(ui(J))+"&"+_:this.u&&Ca(T,this.u,J)),ql(this.h,$),this.Ra&&ct(T,"TYPE","init"),this.S?(ct(T,"$req",_),ct(T,"SID","null"),$.U=!0,Ji($,T,null)):Ji($,T,_),this.I=2}}else this.I==3&&(h?tu(this,h):this.i.length==0||Hl(this.h)||tu(this))};function tu(h,_){var T;_?T=_.l:T=h.V++;const I=$t(h.J);ct(I,"SID",h.M),ct(I,"RID",T),ct(I,"AID",h.K),Da(h,I),h.u&&h.o&&Ca(I,h.u,h.o),T=new Ni(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),_&&(h.i=_.G.concat(h.i)),_=th(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ql(h.h,T),Ji(T,I,_)}function Da(h,_){h.H&&De(h.H,function(T,I){ct(_,I,T)}),h.l&&De({},function(T,I){ct(_,I,T)})}function th(h,_,T){T=Math.min(h.i.length,T);const I=h.l?p(h.l.Ka,h.l,h):null;e:{var $=h.i;let Ue=-1;for(;;){const Bt=["count="+T];Ue==-1?T>0?(Ue=$[0].g,Bt.push("ofs="+Ue)):Ue=0:Bt.push("ofs="+Ue);let ot=!0;for(let Ct=0;Ct<T;Ct++){var J=$[Ct].g;const ci=$[Ct].map;if(J-=Ue,J<0)Ue=Math.max(0,$[Ct].g-100),ot=!1;else try{J="req"+J+"_"||"";try{var ge=ci instanceof Map?ci:Object.entries(ci);for(const[hs,Oi]of ge){let Li=Oi;d(Oi)&&(Li=Kn(Oi)),Bt.push(J+hs+"="+encodeURIComponent(Li))}}catch(hs){throw Bt.push(J+"type="+encodeURIComponent("_badmap")),hs}}catch{I&&I(ci)}}if(ot){ge=Bt.join("&");break e}}ge=void 0}return h=h.i.splice(0,T),_.G=h,ge}function nh(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;ae||w(),me||(ae(),me=!0),R.add(_,h),h.A=0}}function Na(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=At(p(h.Da,h),rh(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,ih(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=At(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ee(10),Er(this),ih(this))};function nu(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function ih(h){h.g=new Ni(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=$t(h.na);ct(_,"RID","rpc"),ct(_,"SID",h.M),ct(_,"AID",h.K),ct(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&ct(_,"TO",h.ia),ct(_,"TYPE","xmlhttp"),Da(h,_),h.u&&h.o&&Ca(_,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Sa($t(_)),T.u=null,T.R=!0,go(T,h)}t.Va=function(){this.C!=null&&(this.C=null,Er(this),Na(this),Ee(19))};function xo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function sh(h,_){var T=null;if(h.g==_){xo(h),nu(h),h.g=null;var I=2}else if(ss(h.h,_))T=_.G,Gl(h.h,_),I=1;else return;if(h.I!=0){if(_.o)if(I==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var $=h.D;I=Wi(),tt(I,new bt(I,T)),us(h)}else nh(h);else if($=_.m,$==3||$==0&&_.X>0||!(I==1&&So(h,_)||I==2&&Na(h)))switch(T&&T.length>0&&(_=h.h,_.i=_.i.concat(T)),$){case 1:cs(h,5);break;case 4:cs(h,10);break;case 3:cs(h,6);break;default:cs(h,2)}}}function rh(h,_){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*_}function cs(h,_){if(h.j.info("Error code "+_),_==2){var T=p(h.bb,h),I=h.Ua;const $=!I;I=new Qn(I||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||hn(I,"https"),Sa(I),$?Mi(I.toString(),T):Wl(I.toString(),T)}else Ee(2);h.I=0,h.l&&h.l.pa(_),ah(h),wo(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function ah(h){if(h.I=0,h.ja=[],h.l){const _=Kl(h.h);(_.length!=0||h.i.length!=0)&&(L(h.ja,_),L(h.ja,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.oa()}}function oh(h,_,T){var I=T instanceof Qn?$t(T):new Qn(T);if(I.g!="")_&&(I.g=_+"."+I.g),pr(I,I.u);else{var $=c.location;I=$.protocol,_=_?_+"."+$.hostname:$.hostname,$=+$.port;const J=new Qn(null);I&&hn(J,I),_&&(J.g=_),$&&pr(J,$),T&&(J.h=T),I=J}return T=h.G,_=h.wa,T&&_&&ct(I,T,_),ct(I,"VER",h.ka),Da(h,I),I}function lh(h,_,T){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new dt(new as({ab:T})):new dt(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function uh(){}t=uh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function wr(){}wr.prototype.g=function(h,_){return new Nn(h,_)};function Nn(h,_){st.call(this),this.g=new Tr(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!O(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!O(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Os(this)}v(Nn,st),Nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){eu(this.g)},Nn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Kn(h),h=T);_.i.push(new Kt(_.Ya++,h)),_.I==3&&us(_)},Nn.prototype.N=function(){this.g.l=null,delete this.j,eu(this.g),delete this.g,Nn.Z.N.call(this)};function ch(h){nn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}v(ch,nn);function hh(){On.call(this),this.status=1}v(hh,On);function Os(h){this.g=h}v(Os,uh),Os.prototype.ra=function(){tt(this.g,"a")},Os.prototype.qa=function(h){tt(this.g,new ch(h))},Os.prototype.pa=function(h){tt(this.g,new hh)},Os.prototype.oa=function(){tt(this.g,"b")},wr.prototype.createWebChannel=wr.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,Rx=function(){return new wr},Cx=function(){return Wi()},Ax=Ot,Zg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ea.NO_ERROR=0,Ea.TIMEOUT=8,Ea.HTTP_ERROR=6,Lf=Ea,zl.COMPLETE="complete",xx=zl,dr.EventType=Dn,Dn.OPEN="a",Dn.CLOSE="b",Dn.ERROR="c",Dn.MESSAGE="d",st.prototype.listen=st.prototype.J,Ku=dr,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,Sx=dt}).apply(typeof vf<"u"?vf:typeof self<"u"?self:typeof window<"u"?window:{});let An=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");let Nl="12.8.0";function SP(t){Nl=t}const lo=new Zy("@firebase/firestore");function il(){return lo.logLevel}function ve(t,...e){if(lo.logLevel<=Ze.DEBUG){const n=e.map(hv);lo.debug(`Firestore (${Nl}): ${t}`,...n)}}function ur(t,...e){if(lo.logLevel<=Ze.ERROR){const n=e.map(hv);lo.error(`Firestore (${Nl}): ${t}`,...n)}}function uo(t,...e){if(lo.logLevel<=Ze.WARN){const n=e.map(hv);lo.warn(`Firestore (${Nl}): ${t}`,...n)}}function hv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ne(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Ix(t,s,n)}function Ix(t,e,n){let s=`FIRESTORE (${Nl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ur(s),new Error(s)}function ut(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||Ix(e,a,s)}function Oe(t,e){return t}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Is{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ir{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Dx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Nx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(An.UNAUTHENTICATED)))}shutdown(){}}class xP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class AP{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ir,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ir)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ut(typeof s.accessToken=="string",31837,{l:s}),new Dx(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new An(e)}}class CP{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=An.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class RP{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new CP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(An.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class OE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ut(this.o===void 0,3512);const s=l=>{l.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ve("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new OE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new OE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function DP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class Od{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=DP(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Je(t,e){return t<e?-1:t>e?1:0}function Jg(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return yg(a)===yg(l)?Je(a,l):yg(a)?1:-1}return Je(t.length,e.length)}const NP=55296,kP=57343;function yg(t){const e=t.charCodeAt(0);return e>=NP&&e<=kP}function _l(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const LE="__name__";class ys{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ne(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ys.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ys?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=ys.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Je(e.length,n.length)}static compareSegments(e,n){const s=ys.isNumericId(e),a=ys.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?ys.extractNumericId(e).compare(ys.extractNumericId(n)):Jg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ia.fromString(e.substring(4,e.length-2))}}class Tt extends ys{construct(e,n,s){return new Tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(le.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new Tt(n)}static emptyPath(){return new Tt([])}}const MP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends ys{construct(e,n,s){return new mn(e,n,s)}static isValidIdentifier(e){return MP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===LE}static keyField(){return new mn([LE])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ye(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new ye(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ye(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new ye(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(n)}static emptyPath(){return new mn([])}}class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(Tt.fromString(e))}static fromName(e){return new Ce(Tt.fromString(e).popFirst(5))}static empty(){return new Ce(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new Tt(e.slice()))}}function kx(t,e,n){if(!n)throw new ye(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Mx(t,e,n,s){if(e===!0&&s===!0)throw new ye(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jE(t){if(!Ce.isDocumentKey(t))throw new ye(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UE(t){if(Ce.isDocumentKey(t))throw new ye(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Vx(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ld(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne(12329,{type:typeof t})}function Pn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ld(t);throw new ye(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function tn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Nc(t,e){if(!Vx(t))throw new ye(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ye(le.INVALID_ARGUMENT,n);return!0}const zE=-62135596800,BE=1e6;class Fe{static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*BE);return new Fe(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<zE)throw new ye(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BE}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nc(e,Fe._jsonSchema))return new Fe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-zE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Fe._jsonSchemaVersion="firestore/timestamp/1.0",Fe._jsonSchema={type:tn("string",Fe._jsonSchemaVersion),seconds:tn("number"),nanoseconds:tn("number")};class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new Fe(0,0))}static max(){return new Ve(new Fe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const fc=-1;function VP(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ve.fromTimestamp(s===1e9?new Fe(n+1,0):new Fe(n,s));return new oa(a,Ce.empty(),e)}function PP(t){return new oa(t.readTime,t.key,fc)}class oa{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new oa(Ve.min(),Ce.empty(),fc)}static max(){return new oa(Ve.max(),Ce.empty(),fc)}}function OP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}const LP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function kl(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==LP)throw t;ve("LocalStore","Unexpectedly lost primary lease")}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.reject(n)}static resolve(e){return new ce(((n,s)=>{n(e)}))}static reject(e){return new ce(((n,s)=>{s(e)}))}static waitFor(e){return new ce(((n,s)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(e){let n=ce.resolve(!1);for(const s of e)n=n.next((a=>a?ce.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new ce(((s,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((y=>{c[p]=y,++d,d===l&&s(c)}),(y=>a(y)))}}))}static doWhile(e,n){return new ce(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function UP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ml(t){return t.name==="IndexedDbTransactionError"}class jd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jd.ce=-1;const fv=-1;function Ud(t){return t==null}function nd(t){return t===0&&1/t==-1/0}function zP(t){return typeof t=="number"&&Number.isInteger(t)&&!nd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const Px="";function BP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=FE(e)),e=FP(t.get(n),e);return FE(e)}function FP(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case Px:n+="";break;default:n+=l}}return n}function FE(t){return t+Px+""}function HE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ga(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ox(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Vt{constructor(e,n){this.comparator=e,this.root=n||En.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _f(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _f(this.root,e,this.comparator,!1)}getReverseIterator(){return new _f(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _f(this.root,e,this.comparator,!0)}}class _f{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??En.RED,this.left=a??En.EMPTY,this.right=l??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new En(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return En.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new En(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class on{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qE(this.data.getIterator())}getIteratorFrom(e){return new qE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof on)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new on(this.comparator);return n.data=e,n}}class qE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class si{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new si([])}unionWith(e){let n=new on(mn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new si(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _l(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class Lx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Lx("Invalid base64 string: "+l):l}})(e);return new pn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const HP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function la(t){if(ut(!!t,39018),typeof t=="string"){let e=0;const n=HP.exec(t);if(ut(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:qt(t.seconds),nanos:qt(t.nanos)}}function qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ua(t){return typeof t=="string"?pn.fromBase64String(t):pn.fromUint8Array(t)}const jx="server_timestamp",Ux="__type__",zx="__previous_value__",Bx="__local_write_time__";function dv(t){return(t?.mapValue?.fields||{})[Ux]?.stringValue===jx}function zd(t){const e=t.mapValue.fields[zx];return dv(e)?zd(e):e}function dc(t){const e=la(t.mapValue.fields[Bx].timestampValue);return new Fe(e.seconds,e.nanos)}class qP{constructor(e,n,s,a,l,c,d,m,p,y,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y,this.apiKey=v}}const id="(default)";class bl{constructor(e,n){this.projectId=e,this.database=n||id}static empty(){return new bl("","")}get isDefaultDatabase(){return this.database===id}isEqual(e){return e instanceof bl&&e.projectId===this.projectId&&e.database===this.database}}function GP(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ye(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bl(t.options.projectId,e)}const Fx="__type__",KP="__max__",bf={mapValue:{}},Hx="__vector__",sd="value";function ca(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dv(t)?4:YP(t)?9007199254740991:$P(t)?10:11:Ne(28295,{value:t})}function xs(t,e){if(t===e)return!0;const n=ca(t);if(n!==ca(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dc(t).isEqual(dc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=la(a.timestampValue),d=la(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return ua(a.bytesValue).isEqual(ua(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return qt(a.geoPointValue.latitude)===qt(l.geoPointValue.latitude)&&qt(a.geoPointValue.longitude)===qt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return qt(a.integerValue)===qt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=qt(a.doubleValue),d=qt(l.doubleValue);return c===d?nd(c)===nd(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return _l(t.arrayValue.values||[],e.arrayValue.values||[],xs);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(HE(c)!==HE(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!xs(c[m],d[m])))return!1;return!0})(t,e);default:return Ne(52216,{left:t})}}function mc(t,e){return(t.values||[]).find((n=>xs(n,e)))!==void 0}function Tl(t,e){if(t===e)return 0;const n=ca(t),s=ca(e);if(n!==s)return Je(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=qt(l.integerValue||l.doubleValue),m=qt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(t,e);case 3:return GE(t.timestampValue,e.timestampValue);case 4:return GE(dc(t),dc(e));case 5:return Jg(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=ua(l),m=ua(c);return d.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const y=Je(d[p],m[p]);if(y!==0)return y}return Je(d.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Je(qt(l.latitude),qt(c.latitude));return d!==0?d:Je(qt(l.longitude),qt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return KE(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},p=d[sd]?.arrayValue,y=m[sd]?.arrayValue,v=Je(p?.values?.length||0,y?.values?.length||0);return v!==0?v:KE(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===bf.mapValue&&c===bf.mapValue)return 0;if(l===bf.mapValue)return 1;if(c===bf.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let v=0;v<m.length&&v<y.length;++v){const E=Jg(m[v],y[v]);if(E!==0)return E;const D=Tl(d[m[v]],p[y[v]]);if(D!==0)return D}return Je(m.length,y.length)})(t.mapValue,e.mapValue);default:throw Ne(23264,{he:n})}}function GE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const n=la(t),s=la(e),a=Je(n.seconds,s.seconds);return a!==0?a:Je(n.nanos,s.nanos)}function KE(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Tl(n[a],s[a]);if(l)return l}return Je(n.length,s.length)}function El(t){return ey(t)}function ey(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=la(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ua(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ce.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=ey(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${ey(n.fields[c])}`;return a+"}"})(t.mapValue):Ne(61005,{value:t})}function jf(t){switch(ca(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zd(t);return e?16+jf(e):16;case 5:return 2*t.stringValue.length;case 6:return ua(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+jf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return ga(s.fields,((l,c)=>{a+=l.length+jf(c)})),a})(t.mapValue);default:throw Ne(13486,{value:t})}}function $E(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ty(t){return!!t&&"integerValue"in t}function mv(t){return!!t&&"arrayValue"in t}function YE(t){return!!t&&"nullValue"in t}function QE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uf(t){return!!t&&"mapValue"in t}function $P(t){return(t?.mapValue?.fields||{})[Fx]?.stringValue===Hx}function Ju(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ga(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ju(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ju(t.arrayValue.values[n]);return e}return{...t}}function YP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===KP}class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Uf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ju(n)}setAll(e){let n=mn.emptyPath(),s={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=Ju(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Uf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Uf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){ga(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Gn(Ju(this.value))}}function qx(t){const e=[];return ga(t.fields,((n,s)=>{const a=new mn([n]);if(Uf(s)){const l=qx(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new si(e)}class Cn{constructor(e,n,s,a,l,c,d){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Cn(e,0,Ve.min(),Ve.min(),Ve.min(),Gn.empty(),0)}static newFoundDocument(e,n,s,a){return new Cn(e,1,n,Ve.min(),s,a,0)}static newNoDocument(e,n){return new Cn(e,2,n,Ve.min(),Ve.min(),Gn.empty(),0)}static newUnknownDocument(e,n){return new Cn(e,3,n,Ve.min(),Ve.min(),Gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rd{constructor(e,n){this.position=e,this.inclusive=n}}function XE(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=Ce.comparator(Ce.fromName(c.referenceValue),n.key):s=Tl(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function WE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xs(t.position[n],e.position[n]))return!1;return!0}class ad{constructor(e,n="asc"){this.field=e,this.dir=n}}function QP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Gx{}class en extends Gx{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new WP(e,n,s):n==="array-contains"?new eO(e,s):n==="in"?new tO(e,s):n==="not-in"?new nO(e,s):n==="array-contains-any"?new iO(e,s):new en(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new ZP(e,s):new JP(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Tl(n,this.value)):n!==null&&ca(this.value)===ca(n)&&this.matchesComparison(Tl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $i extends Gx{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new $i(e,n)}matches(e){return Kx(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Kx(t){return t.op==="and"}function $x(t){return XP(t)&&Kx(t)}function XP(t){for(const e of t.filters)if(e instanceof $i)return!1;return!0}function ny(t){if(t instanceof en)return t.field.canonicalString()+t.op.toString()+El(t.value);if($x(t))return t.filters.map((e=>ny(e))).join(",");{const e=t.filters.map((n=>ny(n))).join(",");return`${t.op}(${e})`}}function Yx(t,e){return t instanceof en?(function(s,a){return a instanceof en&&s.op===a.op&&s.field.isEqual(a.field)&&xs(s.value,a.value)})(t,e):t instanceof $i?(function(s,a){return a instanceof $i&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&Yx(c,a.filters[d])),!0):!1})(t,e):void Ne(19439)}function Qx(t){return t instanceof en?(function(n){return`${n.field.canonicalString()} ${n.op} ${El(n.value)}`})(t):t instanceof $i?(function(n){return n.op.toString()+" {"+n.getFilters().map(Qx).join(" ,")+"}"})(t):"Filter"}class WP extends en{constructor(e,n,s){super(e,n,s),this.key=Ce.fromName(s.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class ZP extends en{constructor(e,n){super(e,"in",n),this.keys=Xx("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class JP extends en{constructor(e,n){super(e,"not-in",n),this.keys=Xx("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Xx(t,e){return(e.arrayValue?.values||[]).map((n=>Ce.fromName(n.referenceValue)))}class eO extends en{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mv(n)&&mc(n.arrayValue,this.value)}}class tO extends en{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mc(this.value.arrayValue,n)}}class nO extends en{constructor(e,n){super(e,"not-in",n)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mc(this.value.arrayValue,n)}}class iO extends en{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>mc(this.value.arrayValue,s)))}}class sO{constructor(e,n=null,s=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function ZE(t,e=null,n=[],s=[],a=null,l=null,c=null){return new sO(t,e,n,s,a,l,c)}function pv(t){const e=Oe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>ny(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Ud(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>El(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>El(s))).join(",")),e.Te=n}return e.Te}function gv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!QP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Yx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!WE(t.startAt,e.startAt)&&WE(t.endAt,e.endAt)}function iy(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class kc{constructor(e,n=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function rO(t,e,n,s,a,l,c,d){return new kc(t,e,n,s,a,l,c,d)}function Bd(t){return new kc(t)}function JE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aO(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Wx(t){return t.collectionGroup!==null}function ec(t){const e=Oe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new on(mn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new ad(l,s))})),n.has(mn.keyField().canonicalString())||e.Ie.push(new ad(mn.keyField(),s))}return e.Ie}function Ts(t){const e=Oe(t);return e.Ee||(e.Ee=oO(e,ec(t))),e.Ee}function oO(t,e){if(t.limitType==="F")return ZE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new ad(a.field,l)}));const n=t.endAt?new rd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new rd(t.startAt.position,t.startAt.inclusive):null;return ZE(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function sy(t,e){const n=t.filters.concat([e]);return new kc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ry(t,e,n){return new kc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fd(t,e){return gv(Ts(t),Ts(e))&&t.limitType===e.limitType}function Zx(t){return`${pv(Ts(t))}|lt:${t.limitType}`}function sl(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>Qx(a))).join(", ")}]`),Ud(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>El(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>El(a))).join(",")),`Target(${s})`})(Ts(t))}; limitType=${t.limitType})`}function Hd(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ce.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of ec(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,d,m){const p=XE(c,d,m);return c.inclusive?p<=0:p<0})(s.startAt,ec(s),a)||s.endAt&&!(function(c,d,m){const p=XE(c,d,m);return c.inclusive?p>=0:p>0})(s.endAt,ec(s),a))})(t,e)}function lO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Jx(t){return(e,n)=>{let s=!1;for(const a of ec(t)){const l=uO(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function uO(t,e,n){const s=t.field.isKeyField()?Ce.comparator(e.key,n.key):(function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?Tl(m,p):Ne(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ne(19790,{direction:t.dir})}}class mo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ga(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return Ox(this.inner)}size(){return this.innerSize}}const cO=new Vt(Ce.comparator);function cr(){return cO}const eA=new Vt(Ce.comparator);function $u(...t){let e=eA;for(const n of t)e=e.insert(n.key,n);return e}function tA(t){let e=eA;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function eo(){return tc()}function nA(){return tc()}function tc(){return new mo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const hO=new Vt(Ce.comparator),fO=new on(Ce.comparator);function et(...t){let e=fO;for(const n of t)e=e.add(n);return e}const dO=new on(Je);function mO(){return dO}function yv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nd(e)?"-0":e}}function iA(t){return{integerValue:""+t}}function pO(t,e){return zP(e)?iA(e):yv(t,e)}class qd{constructor(){this._=void 0}}function gO(t,e,n){return t instanceof od?(function(a,l){const c={fields:{[Ux]:{stringValue:jx},[Bx]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&dv(l)&&(l=zd(l)),l&&(c.fields[zx]=l),{mapValue:c}})(n,e):t instanceof pc?rA(t,e):t instanceof gc?aA(t,e):(function(a,l){const c=sA(a,l),d=ew(c)+ew(a.Ae);return ty(c)&&ty(a.Ae)?iA(d):yv(a.serializer,d)})(t,e)}function yO(t,e,n){return t instanceof pc?rA(t,e):t instanceof gc?aA(t,e):n}function sA(t,e){return t instanceof ld?(function(s){return ty(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class od extends qd{}class pc extends qd{constructor(e){super(),this.elements=e}}function rA(t,e){const n=oA(e);for(const s of t.elements)n.some((a=>xs(a,s)))||n.push(s);return{arrayValue:{values:n}}}class gc extends qd{constructor(e){super(),this.elements=e}}function aA(t,e){let n=oA(e);for(const s of t.elements)n=n.filter((a=>!xs(a,s)));return{arrayValue:{values:n}}}class ld extends qd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ew(t){return qt(t.integerValue||t.doubleValue)}function oA(t){return mv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function vO(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof pc&&a instanceof pc||s instanceof gc&&a instanceof gc?_l(s.elements,a.elements,xs):s instanceof ld&&a instanceof ld?xs(s.Ae,a.Ae):s instanceof od&&a instanceof od})(t.transform,e.transform)}class _O{constructor(e,n){this.version=e,this.transformResults=n}}class wi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gd{}function lA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vv(t.key,wi.none()):new Mc(t.key,t.data,wi.none());{const n=t.data,s=Gn.empty();let a=new on(mn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new ya(t.key,s,new si(a.toArray()),wi.none())}}function bO(t,e,n){t instanceof Mc?(function(a,l,c){const d=a.value.clone(),m=nw(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof ya?(function(a,l,c){if(!zf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=nw(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(uA(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function nc(t,e,n,s){return t instanceof Mc?(function(l,c,d,m){if(!zf(l.precondition,c))return d;const p=l.value.clone(),y=iw(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof ya?(function(l,c,d,m){if(!zf(l.precondition,c))return d;const p=iw(l.fieldTransforms,m,c),y=c.data;return y.setAll(uA(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,s):(function(l,c,d){return zf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function TO(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=sA(s.transform,a||null);l!=null&&(n===null&&(n=Gn.empty()),n.set(s.field,l))}return n||null}function tw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&_l(s,a,((l,c)=>vO(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mc extends Gd{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ya extends Gd{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function uA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function nw(t,e,n){const s=new Map;ut(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);s.set(l.field,yO(c,d,n[a]))}return s}function iw(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,gO(l,c,e))}return s}class vv extends Gd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EO extends Gd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wO{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&bO(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=nc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=nc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=nA();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=lA(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ve.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),et())}isEqual(e){return this.batchId===e.batchId&&_l(this.mutations,e.mutations,((n,s)=>tw(n,s)))&&_l(this.baseMutations,e.baseMutations,((n,s)=>tw(n,s)))}}class _v{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){ut(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return hO})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new _v(e,n,s,a)}}class SO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class xO{constructor(e,n){this.count=e,this.unchangedNames=n}}var Zt,it;function AO(t){switch(t){case le.OK:return Ne(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Ne(15467,{code:t})}}function cA(t){if(t===void 0)return ur("GRPC error has no .code"),le.UNKNOWN;switch(t){case Zt.OK:return le.OK;case Zt.CANCELLED:return le.CANCELLED;case Zt.UNKNOWN:return le.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return le.INTERNAL;case Zt.UNAVAILABLE:return le.UNAVAILABLE;case Zt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Zt.NOT_FOUND:return le.NOT_FOUND;case Zt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Zt.ABORTED:return le.ABORTED;case Zt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Zt.DATA_LOSS:return le.DATA_LOSS;default:return Ne(39323,{code:t})}}(it=Zt||(Zt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";function CO(){return new TextEncoder}const RO=new ia([4294967295,4294967295],0);function sw(t){const e=CO().encode(t),n=new wx;return n.update(e),new Uint8Array(n.digest())}function rw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ia([n,s],0),new ia([a,l],0)]}class bv{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Yu(`Invalid padding: ${n}`);if(s<0)throw new Yu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Yu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ia.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(ia.fromNumber(s)));return a.compare(RO)===1&&(a=new ia([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=sw(e),[s,a]=rw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new bv(l,a,n);return s.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=sw(e),[s,a]=rw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.be(c)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Kd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Vc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Kd(Ve.min(),a,new Vt(Je),cr(),et())}}class Vc{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Vc(s,n,et(),et(),et())}}class Bf{constructor(e,n,s,a){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=a}}class hA{constructor(e,n){this.targetId=e,this.Ce=n}}class fA{constructor(e,n,s=pn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class aw{constructor(){this.ve=0,this.Fe=ow(),this.Me=pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=et(),n=et(),s=et();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ne(38017,{changeType:l})}})),new Vc(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=ow()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class IO{constructor(e){this.Ge=e,this.ze=new Map,this.je=cr(),this.He=Tf(),this.Je=Tf(),this.Ze=new Vt(Je)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(iy(l))if(s===0){const c=new Ce(l.path);this.et(n,c,Cn.newNoDocument(c,Ve.min()))}else ut(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=ua(s).toUint8Array()}catch(m){if(m instanceof Lx)return uo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new bv(c,a,l)}catch(m){return uo(m instanceof Yu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&iy(d.target)){const m=new Ce(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,Cn.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let s=et();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Kd(e,n,this.Ze,this.je,s);return this.je=cr(),this.He=Tf(),this.Je=Tf(),this.Ze=new Vt(Je),a}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new aw,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new on(Je),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new on(Je),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new aw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Tf(){return new Vt(Ce.comparator)}function ow(){return new Vt(Ce.comparator)}const DO={asc:"ASCENDING",desc:"DESCENDING"},NO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kO={and:"AND",or:"OR"};class MO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ay(t,e){return t.useProto3Json||Ud(e)?e:{value:e}}function ud(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function VO(t,e){return ud(t,e.toTimestamp())}function Es(t){return ut(!!t,49232),Ve.fromTimestamp((function(n){const s=la(n);return new Fe(s.seconds,s.nanos)})(t))}function Tv(t,e){return oy(t,e).canonicalString()}function oy(t,e){const n=(function(a){return new Tt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function mA(t){const e=Tt.fromString(t);return ut(_A(e),10190,{key:e.toString()}),e}function ly(t,e){return Tv(t.databaseId,e.path)}function vg(t,e){const n=mA(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ce(gA(n))}function pA(t,e){return Tv(t.databaseId,e)}function PO(t){const e=mA(t);return e.length===4?Tt.emptyPath():gA(e)}function uy(t){return new Tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gA(t){return ut(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function lw(t,e,n){return{name:ly(t,e),fields:n.value.mapValue.fields}}function OO(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ne(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(ut(y===void 0||typeof y=="string",58123),pn.fromBase64String(y||"")):(ut(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),pn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const y=p.code===void 0?le.UNKNOWN:cA(p.code);return new ye(y,p.message||"")})(c);n=new fA(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=vg(t,s.document.name),l=Es(s.document.updateTime),c=s.document.createTime?Es(s.document.createTime):Ve.min(),d=new Gn({mapValue:{fields:s.document.fields}}),m=Cn.newFoundDocument(a,l,c,d),p=s.targetIds||[],y=s.removedTargetIds||[];n=new Bf(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=vg(t,s.document),l=s.readTime?Es(s.readTime):Ve.min(),c=Cn.newNoDocument(a,l),d=s.removedTargetIds||[];n=new Bf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=vg(t,s.document),l=s.removedTargetIds||[];n=new Bf([],l,a,null)}else{if(!("filter"in e))return Ne(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new xO(a,l),d=s.targetId;n=new hA(d,c)}}return n}function LO(t,e){let n;if(e instanceof Mc)n={update:lw(t,e.key,e.value)};else if(e instanceof vv)n={delete:ly(t,e.key)};else if(e instanceof ya)n={update:lw(t,e.key,e.data),updateMask:KO(e.fieldMask)};else{if(!(e instanceof EO))return Ne(16599,{dt:e.type});n={verify:ly(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof od)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof pc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof gc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ld)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ne(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:VO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ne(27497)})(t,e.precondition)),n}function jO(t,e){return t&&t.length>0?(ut(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?Es(a.updateTime):Es(l);return c.isEqual(Ve.min())&&(c=Es(l)),new _O(c,a.transformResults||[])})(n,e)))):[]}function UO(t,e){return{documents:[pA(t,e.path)]}}function zO(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=pA(t,a);const l=(function(p){if(p.length!==0)return vA($i.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(E){return{field:rl(E.field),direction:HO(E.dir)}})(y)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=ay(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function BO(t){let e=PO(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){ut(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(v){const E=yA(v);return E instanceof $i&&$x(E)?E.getFilters():[E]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((E=>(function(L){return new ad(al(L.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(E)))})(n.orderBy));let d=null;n.limit&&(d=(function(v){let E;return E=typeof v=="object"?v.value:v,Ud(E)?null:E})(n.limit));let m=null;n.startAt&&(m=(function(v){const E=!!v.before,D=v.values||[];return new rd(D,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const E=!v.before,D=v.values||[];return new rd(D,E)})(n.endAt)),rO(e,a,c,l,d,"F",m,p)}function FO(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=al(n.unaryFilter.field);return en.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=al(n.unaryFilter.field);return en.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=al(n.unaryFilter.field);return en.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=al(n.unaryFilter.field);return en.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(t):t.fieldFilter!==void 0?(function(n){return en.create(al(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return $i.create(n.compositeFilter.filters.map((s=>yA(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(n.compositeFilter.op))})(t):Ne(30097,{filter:t})}function HO(t){return DO[t]}function qO(t){return NO[t]}function GO(t){return kO[t]}function rl(t){return{fieldPath:t.canonicalString()}}function al(t){return mn.fromServerFormat(t.fieldPath)}function vA(t){return t instanceof en?(function(n){if(n.op==="=="){if(QE(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NAN"}};if(YE(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(QE(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NOT_NAN"}};if(YE(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rl(n.field),op:qO(n.op),value:n.value}}})(t):t instanceof $i?(function(n){const s=n.getFilters().map((a=>vA(a)));return s.length===1?s[0]:{compositeFilter:{op:GO(n.op),filters:s}}})(t):Ne(54877,{filter:t})}function KO(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function _A(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function bA(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Zr{constructor(e,n,s,a,l=Ve.min(),c=Ve.min(),d=pn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $O{constructor(e){this.yt=e}}function YO(t){const e=BO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ry(e,e.limit,"L"):e}class QO{constructor(){this.Sn=new XO}addToCollectionParentIndex(e,n){return this.Sn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(oa.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(oa.min())}updateCollectionGroup(e,n,s){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class XO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new on(Tt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new on(Tt.comparator)).toArray()}}const uw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TA=41943040;class qn{static withCacheSize(e){return new qn(e,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(TA,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);class wl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new wl(0)}static ar(){return new wl(-1)}}const cw="LruGarbageCollector",WO=1048576;function hw([t,e],[n,s]){const a=Je(t,n);return a===0?Je(e,s):a}class ZO{constructor(e){this.Pr=e,this.buffer=new on(hw),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();hw(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class JO{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ve(cw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ml(n)?ve(cw,"Ignoring IndexedDB error during garbage collection: ",n):await kl(n)}await this.Ar(3e5)}))}}class e4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(jd.ce);const s=new ZO(n);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(uw)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uw):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,a,l,c,d,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(s=v,d=Date.now(),this.removeTargets(e,s,n)))).next((v=>(l=v,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((v=>(p=Date.now(),il()<=Ze.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${v} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function t4(t,e){return new e4(t,e)}class n4{constructor(){this.changes=new mo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ce.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class i4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class s4{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&nc(s.mutation,a,si.empty(),Fe.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,et()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=et()){const a=eo();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=$u();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=eo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,et())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,s,a){let l=cr();const c=tc(),d=(function(){return tc()})();return n.forEach(((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof ya)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),nc(y.mutation,p,y.mutation.getFieldMask(),Fe.now())):c.set(p.key,si.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>d.set(p,new i4(y,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,n){const s=tc();let a=new Vt(((c,d)=>c-d)),l=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||si.empty();y=d.applyToLocalView(p,y),s.set(m,y);const v=(a.get(d.batchId)||et()).add(m);a=a.insert(d.batchId,v)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,y=m.value,v=nA();y.forEach((E=>{if(!l.has(E)){const D=lA(n.get(E),s.get(E));D!==null&&v.set(E,D),l=l.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,v))}return ce.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return aO(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Wx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):ce.resolve(eo());let d=fc,m=l;return c.next((p=>ce.forEach(p,((y,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),l.get(y)?ce.resolve():this.remoteDocumentCache.getEntry(e,y).next((E=>{m=m.insert(y,E)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,et()))).next((y=>({batchId:d,changes:tA(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next((s=>{let a=$u();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=$u();return this.indexManager.getCollectionParents(e,l).next((d=>ce.forEach(d,(m=>{const p=(function(v,E){return new kc(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((y=>{y.forEach(((v,E)=>{c=c.insert(v,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,Cn.newInvalidDocument(y)))}));let d=$u();return c.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&nc(y.mutation,p,si.empty(),Fe.now()),Hd(n,p)&&(d=d.insert(m,p))})),d}))}}class r4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ce.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Es(a.createTime)}})(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:YO(a.bundledQuery),readTime:Es(a.readTime)}})(n)),ce.resolve()}}class a4{constructor(){this.overlays=new Vt(Ce.comparator),this.Lr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const s=eo();return ce.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.bt(e,n,l)})),ce.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),ce.resolve()}getOverlaysForCollection(e,n,s){const a=eo(),l=n.length+1,c=new Ce(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return ce.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new Vt(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=eo(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=eo(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>d.set(p,y))),!(d.size()>=a)););return ce.resolve(d)}bt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new SO(n,s));let l=this.Lr.get(n);l===void 0&&(l=et(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}class o4{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}class Ev{constructor(){this.kr=new on(dn.Kr),this.qr=new on(dn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new dn(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new dn(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new Ce(new Tt([])),s=new dn(n,e),a=new dn(n,e+1),l=[];return this.qr.forEachInRange([s,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ce(new Tt([])),s=new dn(n,e),a=new dn(n,e+1);let l=et();return this.qr.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new dn(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class dn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ce.comparator(e.key,n.key)||Je(e.Hr,n.Hr)}static Ur(e,n){return Je(e.Hr,n.Hr)||Ce.comparator(e.key,n.key)}}class l4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new on(dn.Kr)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new wO(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Jr=this.Jr.add(new dn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ce.resolve(c)}lookupMutationBatch(e,n){return ce.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return ce.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?fv:this.Yn-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new dn(n,0),a=new dn(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(c=>{const d=this.Zr(c.Hr);l.push(d)})),ce.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new on(Je);return n.forEach((a=>{const l=new dn(a,0),c=new dn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{s=s.add(d.Hr)}))})),ce.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;Ce.isDocumentKey(l)||(l=l.child(""));const c=new dn(new Ce(l),0);let d=new on(Je);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Hr)),!0)}),c),ce.resolve(this.Yr(d))}Yr(e){const n=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ut(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ce.forEach(n.mutations,(a=>{const l=new dn(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new dn(n,0),a=this.Jr.firstAfterOrEqual(s);return ce.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class u4{constructor(e){this.ti=e,this.docs=(function(){return new Vt(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ce.resolve(s?s.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let s=cr();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():Cn.newInvalidDocument(a))})),ce.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=cr();const c=n.path,d=new Ce(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||OP(PP(y),s)<=0||(a.has(y.key)||Hd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ce.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Ne(9500)}ni(e,n){return ce.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new c4(this)}getSize(e){return ce.resolve(this.size)}}class c4 extends n4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),ce.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class h4{constructor(e){this.persistence=e,this.ri=new mo((n=>pv(n)),gv),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.ii=0,this.si=new Ev,this.targetCount=0,this.oi=wl._r()}forEachTarget(e,n){return this.ri.forEach(((s,a)=>n(a))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ce.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new wl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.lr(n),ce.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ce.waitFor(l).next((()=>a))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ce.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ce.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ce.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ce.resolve(s)}containsKey(e,n){return ce.resolve(this.si.containsKey(n))}}class EA{constructor(e,n){this._i={},this.overlays={},this.ai=new jd(0),this.ui=!1,this.ui=!0,this.ci=new o4,this.referenceDelegate=e(this),this.li=new h4(this),this.indexManager=new QO,this.remoteDocumentCache=(function(a){return new u4(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new $O(n),this.Pi=new r4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new a4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new l4(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){ve("MemoryPersistence","Starting transaction:",e);const a=new f4(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return ce.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class f4 extends jP{constructor(e){super(),this.currentSequenceNumber=e}}class wv{constructor(e){this.persistence=e,this.Ri=new Ev,this.Ai=null}static Vi(e){return new wv(e)}get di(){if(this.Ai)return this.Ai;throw Ne(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ce.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.di,(s=>{const a=Ce.fromPath(s);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Ve.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ce.or([()=>ce.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class cd{constructor(e,n){this.persistence=e,this.fi=new mo((s=>BP(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=t4(this,n)}static Vi(e,n){return new cd(e,n)}Ti(){}Ii(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ce.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((l=>l?ce.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,n).next((d=>{d||(s++,l.removeEntry(c,Ve.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ce.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jf(e.data.value)),n}wr(e,n,s){return ce.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return ce.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Sv{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=a}static Es(e,n){let s=et(),a=et();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Sv(e,n.fromCache,s,a)}}class d4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class m4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return ik()?8:UP(In())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.gs(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new d4;return this.ys(e,n,c).next((d=>{if(l.result=d,this.As)return this.ws(e,n,c,d.size)}))})).next((()=>l.result))}ws(e,n,s,a){return s.documentReadCount<this.Vs?(il()<=Ze.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",sl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ce.resolve()):(il()<=Ze.DEBUG&&ve("QueryEngine","Query:",sl(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(il()<=Ze.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",sl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ts(n))):ce.resolve())}gs(e,n){if(JE(n))return ce.resolve(null);let s=Ts(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=ry(n,null,"F"),s=Ts(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=et(...l);return this.fs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.bs(n,d);return this.Ss(n,p,c,m.readTime)?this.gs(e,ry(n,null,"F")):this.Ds(e,p,n,m)}))))})))))}ps(e,n,s,a){return JE(n)||a.isEqual(Ve.min())?ce.resolve(null):this.fs.getDocuments(e,s).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,s,a)?ce.resolve(null):(il()<=Ze.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),sl(n)),this.Ds(e,c,n,VP(a,fc)).next((d=>d)))}))}bs(e,n){let s=new on(Jx(e));return n.forEach(((a,l)=>{Hd(e,l)&&(s=s.add(l))})),s}Ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,s){return il()<=Ze.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",sl(n)),this.fs.getDocumentsMatchingQuery(e,n,oa.min(),s)}Ds(e,n,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const xv="LocalStore",p4=3e8;class g4{constructor(e,n,s,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new Vt(Je),this.Fs=new mo((l=>pv(l)),gv),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new s4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function y4(t,e,n,s){return new g4(t,e,n,s)}async function wA(t,e){const n=Oe(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let m=et();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){d.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function v4(t,e){const n=Oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,m,p,y){const v=p.batch,E=v.keys();let D=ce.resolve();return E.forEach((L=>{D=D.next((()=>y.getEntry(m,L))).next((V=>{const k=p.docVersions.get(L);ut(k!==null,48541),V.version.compareTo(k)<0&&(v.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),y.addEntry(V)))}))})),D.next((()=>d.mutationQueue.removeMutationBatch(m,v)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=et();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function SA(t){const e=Oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function _4(t,e){const n=Oe(t),s=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const d=[];e.targetChanges.forEach(((y,v)=>{const E=a.get(v);if(!E)return;d.push(n.li.removeMatchingKeys(l,y.removedDocuments,v).next((()=>n.li.addMatchingKeys(l,y.addedDocuments,v))));let D=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?D=D.withResumeToken(pn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):y.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(y.resumeToken,s)),a=a.insert(v,D),(function(V,k,B){return V.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=p4?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(E,D,y)&&d.push(n.li.updateTargetData(l,D))}));let m=cr(),p=et();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(b4(l,c,e.documentUpdates).next((y=>{m=y.Bs,p=y.Ls}))),!s.isEqual(Ve.min())){const y=n.li.getLastRemoteSnapshotVersion(l).next((v=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return ce.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.vs=a,l)))}function b4(t,e,n){let s=et(),a=et();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=cr();return n.forEach(((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ve.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):ve(xv,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)})),{Bs:c,Ls:a}}))}function T4(t,e){const n=Oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=fv),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function E4(t,e){const n=Oe(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,e).next((l=>l?(a=l,ce.resolve(a)):n.li.allocateTargetId(s).next((c=>(a=new Zr(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function cy(t,e,n){const s=Oe(t),a=s.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Ml(c))throw c;ve(xv,`Failed to update sequence numbers for target ${e}: ${c}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function fw(t,e,n){const s=Oe(t);let a=Ve.min(),l=et();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,y){const v=Oe(m),E=v.Fs.get(y);return E!==void 0?ce.resolve(v.vs.get(E)):v.li.getTargetData(p,y)})(s,c,Ts(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,e,n?a:Ve.min(),n?l:et()))).next((d=>(w4(s,lO(e),d),{documents:d,ks:l})))))}function w4(t,e,n){let s=t.Ms.get(e)||Ve.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Ms.set(e,s)}class dw{constructor(){this.activeTargetIds=mO()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class S4{constructor(){this.vo=new dw,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new dw,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class x4{Mo(e){}shutdown(){}}const mw="ConnectivityMonitor";class pw{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ve(mw,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ve(mw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ef=null;function hy(){return Ef===null?Ef=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ef++,"0x"+Ef.toString(16)}const _g="RestConnection",A4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class C4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===id?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,n,s,a,l){const c=hy(),d=this.Qo(e,n.toUriEncodedString());ve(_g,`Sending RPC '${e}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:p}=new URL(d),y=ho(p);return this.zo(e,d,m,s,y).then((v=>(ve(_g,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw uo(_g,`RPC '${e}' ${c} failed with error: `,v,"url: ",d,"request:",s),v}))}jo(e,n,s,a,l,c){return this.Wo(e,n,s,a,l)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Nl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const s=A4[e];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class R4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const xn="WebChannelConnection",Fu=(t,e,n)=>{t.listen(e,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class pl extends C4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!pl.c_){const e=Cx();Fu(e,Ax.STAT_EVENT,(n=>{n.stat===Zg.PROXY?ve(xn,"STAT_EVENT: detected buffering proxy"):n.stat===Zg.NOPROXY&&ve(xn,"STAT_EVENT: detected no buffering proxy")})),pl.c_=!0}}zo(e,n,s,a,l){const c=hy();return new Promise(((d,m)=>{const p=new Sx;p.setWithCredentials(!0),p.listenOnce(xx.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Lf.NO_ERROR:const v=p.getResponseJson();ve(xn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),d(v);break;case Lf.TIMEOUT:ve(xn,`RPC '${e}' ${c} timed out`),m(new ye(le.DEADLINE_EXCEEDED,"Request time out"));break;case Lf.HTTP_ERROR:const E=p.getStatus();if(ve(xn,`RPC '${e}' ${c} failed with status:`,E,"response text:",p.getResponseText()),E>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const L=D?.error;if(L&&L.status&&L.message){const V=(function(B){const q=B.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(q)>=0?q:le.UNKNOWN})(L.status);m(new ye(V,L.message))}else m(new ye(le.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ye(le.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ve(xn,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(a);ve(xn,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=hy(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,s),d.encodeInitMessageHeaders=!0;const p=l.join("");ve(xn,`Creating RPC '${e}' stream ${a}: ${p}`,d);const y=c.createWebChannel(p,d);this.I_(y);let v=!1,E=!1;const D=new R4({Ho:L=>{E?ve(xn,`Not sending because RPC '${e}' stream ${a} is closed:`,L):(v||(ve(xn,`Opening RPC '${e}' stream ${a} transport.`),y.open(),v=!0),ve(xn,`RPC '${e}' stream ${a} sending:`,L),y.send(L))},Jo:()=>y.close()});return Fu(y,Ku.EventType.OPEN,(()=>{E||(ve(xn,`RPC '${e}' stream ${a} transport opened.`),D.i_())})),Fu(y,Ku.EventType.CLOSE,(()=>{E||(E=!0,ve(xn,`RPC '${e}' stream ${a} transport closed`),D.o_(),this.E_(y))})),Fu(y,Ku.EventType.ERROR,(L=>{E||(E=!0,uo(xn,`RPC '${e}' stream ${a} transport errored. Name:`,L.name,"Message:",L.message),D.o_(new ye(le.UNAVAILABLE,"The operation could not be completed")))})),Fu(y,Ku.EventType.MESSAGE,(L=>{if(!E){const V=L.data[0];ut(!!V,16349);const k=V,B=k?.error||k[0]?.error;if(B){ve(xn,`RPC '${e}' stream ${a} received error:`,B);const q=B.status;let H=(function(me){const R=Zt[me];if(R!==void 0)return cA(R)})(q),ue=B.message;H===void 0&&(H=le.INTERNAL,ue="Unknown error status: "+q+" with message "+B.message),E=!0,D.o_(new ye(H,ue)),y.close()}else ve(xn,`RPC '${e}' stream ${a} received:`,V),D.__(V)}})),pl.u_(),setTimeout((()=>{D.s_()}),0),D}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Rx()}}function I4(t){return new pl(t)}function bg(){return typeof document<"u"?document:null}function $d(t){return new MO(t,!0)}pl.c_=!1;class xA{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ve("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const gw="PersistentStream";class AA{constructor(e,n,s,a,l,c,d,m){this.Ci=e,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(ur(n.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new ye(le.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(gw,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ve(gw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class D4 extends AA{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=OO(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ve.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ve.min():c.readTime?Es(c.readTime):Ve.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=uy(this.serializer),n.addTarget=(function(l,c){let d;const m=c.target;if(d=iy(m)?{documents:UO(l,m)}:{query:zO(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=dA(l,c.resumeToken);const p=ay(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ve.min())>0){d.readTime=ud(l,c.snapshotVersion.toTimestamp());const p=ay(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const s=FO(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=uy(this.serializer),n.removeTarget=e,this.K_(n)}}class N4 extends AA{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=jO(e.writeResults,e.commitTime),s=Es(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=uy(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>LO(this.serializer,s)))};this.K_(n)}}class k4{}class M4 extends k4{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ye(le.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,oy(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(le.UNKNOWN,l.toString())}))}jo(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(e,oy(n,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ye(le.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function V4(t,e,n,s){return new M4(t,e,n,s)}class P4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ur(n),this.aa=!1):ve("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const co="RemoteStore";class O4{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{s.enqueueAndForget((async()=>{po(this)&&(ve(co,"Restarting streams for network reachability change."),await(async function(m){const p=Oe(m);p.Ea.add(4),await Pc(p),p.Va.set("Unknown"),p.Ea.delete(4),await Yd(p)})(this))}))})),this.Va=new P4(s,a)}}async function Yd(t){if(po(t))for(const e of t.Ra)await e(!0)}async function Pc(t){for(const e of t.Ra)await e(!1)}function CA(t,e){const n=Oe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Iv(n)?Rv(n):Vl(n).O_()&&Cv(n,e))}function Av(t,e){const n=Oe(t),s=Vl(n);n.Ia.delete(e),s.O_()&&RA(n,e),n.Ia.size===0&&(s.O_()?s.L_():po(n)&&n.Va.set("Unknown"))}function Cv(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vl(t).Z_(e)}function RA(t,e){t.da.$e(e),Vl(t).X_(e)}function Rv(t){t.da=new IO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Vl(t).start(),t.Va.ua()}function Iv(t){return po(t)&&!Vl(t).x_()&&t.Ia.size>0}function po(t){return Oe(t).Ea.size===0}function IA(t){t.da=void 0}async function L4(t){t.Va.set("Online")}async function j4(t){t.Ia.forEach(((e,n)=>{Cv(t,e)}))}async function U4(t,e){IA(t),Iv(t)?(t.Va.ha(e),Rv(t)):t.Va.set("Unknown")}async function z4(t,e,n){if(t.Va.set("Online"),e instanceof fA&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.da.removeTarget(d))})(t,e)}catch(s){ve(co,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await hd(t,s)}else if(e instanceof Bf?t.da.Xe(e):e instanceof hA?t.da.st(e):t.da.tt(e),!n.isEqual(Ve.min()))try{const s=await SA(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(pn.EMPTY_BYTE_STRING,y.snapshotVersion)),RA(l,m);const v=new Zr(y.target,m,p,y.sequenceNumber);Cv(l,v)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(s){ve(co,"Failed to raise snapshot:",s),await hd(t,s)}}async function hd(t,e,n){if(!Ml(e))throw e;t.Ea.add(1),await Pc(t),t.Va.set("Offline"),n||(n=()=>SA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ve(co,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Yd(t)}))}function DA(t,e){return e().catch((n=>hd(t,n,e)))}async function Qd(t){const e=Oe(t),n=ha(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fv;for(;B4(e);)try{const a=await T4(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,F4(e,a)}catch(a){await hd(e,a)}NA(e)&&kA(e)}function B4(t){return po(t)&&t.Ta.length<10}function F4(t,e){t.Ta.push(e);const n=ha(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function NA(t){return po(t)&&!ha(t).x_()&&t.Ta.length>0}function kA(t){ha(t).start()}async function H4(t){ha(t).ra()}async function q4(t){const e=ha(t);for(const n of t.Ta)e.ea(n.mutations)}async function G4(t,e,n){const s=t.Ta.shift(),a=_v.from(s,e,n);await DA(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Qd(t)}async function K4(t,e){e&&ha(t).Y_&&await(async function(s,a){if((function(c){return AO(c)&&c!==le.ABORTED})(a.code)){const l=s.Ta.shift();ha(s).B_(),await DA(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Qd(s)}})(t,e),NA(t)&&kA(t)}async function yw(t,e){const n=Oe(t);n.asyncQueue.verifyOperationInProgress(),ve(co,"RemoteStore received new credentials");const s=po(n);n.Ea.add(3),await Pc(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Yd(n)}async function $4(t,e){const n=Oe(t);e?(n.Ea.delete(2),await Yd(n)):e||(n.Ea.add(2),await Pc(n),n.Va.set("Unknown"))}function Vl(t){return t.ma||(t.ma=(function(n,s,a){const l=Oe(n);return l.sa(),new D4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:L4.bind(null,t),Yo:j4.bind(null,t),t_:U4.bind(null,t),J_:z4.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Iv(t)?Rv(t):t.Va.set("Unknown")):(await t.ma.stop(),IA(t))}))),t.ma}function ha(t){return t.fa||(t.fa=(function(n,s,a){const l=Oe(n);return l.sa(),new N4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:H4.bind(null,t),t_:K4.bind(null,t),ta:q4.bind(null,t),na:G4.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Qd(t)):(await t.fa.stop(),t.Ta.length>0&&(ve(co,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Dv{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,d=new Dv(e,n,c,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nv(t,e){if(ur("AsyncQueue",`${e}: ${t}`),Ml(t))return new ye(le.UNAVAILABLE,`${e}: ${t}`);throw t}class gl{static emptySet(e){return new gl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ce.comparator(n.key,s.key):(n,s)=>Ce.comparator(n.key,s.key),this.keyedMap=$u(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new gl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class vw{constructor(){this.ga=new Vt(Ce.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ne(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Sl{constructor(e,n,s,a,l,c,d,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Sl(e,n,gl.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class Y4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Q4{constructor(){this.queries=_w(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Oe(n),l=a.queries;a.queries=_w(),l.forEach(((c,d)=>{for(const m of d.ba)m.onError(s)}))})(this,new ye(le.ABORTED,"Firestore shutting down"))}}function _w(){return new mo((t=>Zx(t)),Fd)}async function kv(t,e){const n=Oe(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(s=2):(l=new Y4,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=Nv(c,`Initialization of query '${sl(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Vv(n)}async function Mv(t,e){const n=Oe(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function X4(t,e){const n=Oe(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.ba)d.Fa(a)&&(s=!0);c.wa=a}}s&&Vv(n)}function W4(t,e,n){const s=Oe(t),a=s.queries.get(e);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(e)}function Vv(t){t.Ca.forEach((e=>{e.next()}))}var fy,bw;(bw=fy||(fy={})).Ma="default",bw.Cache="cache";class Pv{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Sl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fy.Cache}}class MA{constructor(e){this.key=e}}class VA{constructor(e){this.key=e}}class Z4{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=et(),this.mutatedKeys=et(),this.eu=Jx(e),this.tu=new gl(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new vw,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,v)=>{const E=a.get(y),D=Hd(this.query,v)?v:null,L=!!E&&this.mutatedKeys.has(E.key),V=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let k=!1;E&&D?E.data.isEqual(D.data)?L!==V&&(s.track({type:3,doc:D}),k=!0):this.su(E,D)||(s.track({type:2,doc:D}),k=!0,(m&&this.eu(D,m)>0||p&&this.eu(D,p)<0)&&(d=!0)):!E&&D?(s.track({type:0,doc:D}),k=!0):E&&!D&&(s.track({type:1,doc:E}),k=!0,(m||p)&&(d=!0)),k&&(D?(c=c.add(D),l=V?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Ss:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,v)=>(function(D,L){const V=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Vt:k})}};return V(D)-V(L)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Xa;return this.Xa=m,c.length!==0||p?{snapshot:new Sl(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vw,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=et(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new VA(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new MA(s))})),n}cu(e){this.Za=e.ks,this.Ya=et();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ov="SyncEngine";class J4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class eL{constructor(e){this.key=e,this.hu=!1}}class tL{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new mo((d=>Zx(d)),Fd),this.Iu=new Map,this.Eu=new Set,this.Ru=new Vt(Ce.comparator),this.Au=new Map,this.Vu=new Ev,this.du={},this.mu=new Map,this.fu=wl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nL(t,e,n=!0){const s=zA(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await PA(s,e,n,!0),a}async function iL(t,e){const n=zA(t);await PA(n,e,!0,!1)}async function PA(t,e,n,s){const a=await E4(t.localStore,Ts(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await sL(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&CA(t.remoteStore,a),d}async function sL(t,e,n,s,a){t.pu=(v,E,D)=>(async function(V,k,B,q){let H=k.view.ru(B);H.Ss&&(H=await fw(V.localStore,k.query,!1).then((({documents:R})=>k.view.ru(R,H))));const ue=q&&q.targetChanges.get(k.targetId),ae=q&&q.targetMismatches.get(k.targetId)!=null,me=k.view.applyChanges(H,V.isPrimaryClient,ue,ae);return Ew(V,k.targetId,me.au),me.snapshot})(t,v,E,D);const l=await fw(t.localStore,e,!0),c=new Z4(e,l.ks),d=c.ru(l.documents),m=Vc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=c.applyChanges(d,t.isPrimaryClient,m);Ew(t,n,p.au);const y=new J4(e,n,c);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function rL(t,e,n){const s=Oe(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!Fd(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await cy(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Av(s.remoteStore,a.targetId),dy(s,a.targetId)})).catch(kl)):(dy(s,a.targetId),await cy(s.localStore,a.targetId,!0))}async function aL(t,e){const n=Oe(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Av(n.remoteStore,s.targetId))}async function oL(t,e,n){const s=mL(t);try{const a=await(function(c,d){const m=Oe(c),p=Fe.now(),y=d.reduce(((D,L)=>D.add(L.key)),et());let v,E;return m.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let L=cr(),V=et();return m.xs.getEntries(D,y).next((k=>{L=k,L.forEach(((B,q)=>{q.isValidDocument()||(V=V.add(B))}))})).next((()=>m.localDocuments.getOverlayedDocuments(D,L))).next((k=>{v=k;const B=[];for(const q of d){const H=TO(q,v.get(q.key).overlayedDocument);H!=null&&B.push(new ya(q.key,H,qx(H.value.mapValue),wi.exists(!0)))}return m.mutationQueue.addMutationBatch(D,p,B,d)})).next((k=>{E=k;const B=k.applyToLocalDocumentSet(v,V);return m.documentOverlayCache.saveOverlays(D,k.batchId,B)}))})).then((()=>({batchId:E.batchId,changes:tA(v)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let p=c.du[c.currentUser.toKey()];p||(p=new Vt(Je)),p=p.insert(d,m),c.du[c.currentUser.toKey()]=p})(s,a.batchId,n),await Oc(s,a.changes),await Qd(s.remoteStore)}catch(a){const l=Nv(a,"Failed to persist write");n.reject(l)}}async function OA(t,e){const n=Oe(t);try{const s=await _4(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(ut(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?ut(c.hu,14607):a.removedDocuments.size>0&&(ut(c.hu,42227),c.hu=!1))})),await Oc(n,s,e)}catch(s){await kl(s)}}function Tw(t,e,n){const s=Oe(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=Oe(c);m.onlineState=d;let p=!1;m.queries.forEach(((y,v)=>{for(const E of v.ba)E.va(d)&&(p=!0)})),p&&Vv(m)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function lL(t,e,n){const s=Oe(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new Vt(Ce.comparator);c=c.insert(l,Cn.newNoDocument(l,Ve.min()));const d=et().add(l),m=new Kd(Ve.min(),new Map,new Vt(Je),c,d);await OA(s,m),s.Ru=s.Ru.remove(l),s.Au.delete(e),Lv(s)}else await cy(s.localStore,e,!1).then((()=>dy(s,e,n))).catch(kl)}async function uL(t,e){const n=Oe(t),s=e.batch.batchId;try{const a=await v4(n.localStore,e);jA(n,s,null),LA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Oc(n,a)}catch(a){await kl(a)}}async function cL(t,e,n){const s=Oe(t);try{const a=await(function(c,d){const m=Oe(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,d).next((v=>(ut(v!==null,37113),y=v.keys(),m.mutationQueue.removeMutationBatch(p,v)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(s.localStore,e);jA(s,e,n),LA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Oc(s,a)}catch(a){await kl(a)}}function LA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function jA(t,e,n){const s=Oe(t);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function dy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((s=>{t.Vu.containsKey(s)||UA(t,s)}))}function UA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Av(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Lv(t))}function Ew(t,e,n){for(const s of n)s instanceof MA?(t.Vu.addReference(s.key,e),hL(t,s)):s instanceof VA?(ve(Ov,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||UA(t,s.key)):Ne(19791,{wu:s})}function hL(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(ve(Ov,"New document in limbo: "+n),t.Eu.add(s),Lv(t))}function Lv(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ce(Tt.fromString(e)),s=t.fu.next();t.Au.set(s,new eL(n)),t.Ru=t.Ru.insert(n,s),CA(t.remoteStore,new Zr(Ts(Bd(n.path)),s,"TargetPurposeLimboResolution",jd.ce))}}async function Oc(t,e,n){const s=Oe(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{c.push(s.pu(m,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=Sv.Es(m.targetId,p);l.push(y)}})))})),await Promise.all(c),s.Pu.J_(a),await(async function(m,p){const y=Oe(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ce.forEach(p,(E=>ce.forEach(E.Ts,(D=>y.persistence.referenceDelegate.addReference(v,E.targetId,D))).next((()=>ce.forEach(E.Is,(D=>y.persistence.referenceDelegate.removeReference(v,E.targetId,D)))))))))}catch(v){if(!Ml(v))throw v;ve(xv,"Failed to update sequence numbers: "+v)}for(const v of p){const E=v.targetId;if(!v.fromCache){const D=y.vs.get(E),L=D.snapshotVersion,V=D.withLastLimboFreeSnapshotVersion(L);y.vs=y.vs.insert(E,V)}}})(s.localStore,l))}async function fL(t,e){const n=Oe(t);if(!n.currentUser.isEqual(e)){ve(Ov,"User change. New user:",e.toKey());const s=await wA(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new ye(le.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Oc(n,s.Ns)}}function dL(t,e){const n=Oe(t),s=n.Au.get(e);if(s&&s.hu)return et().add(s.key);{let a=et();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function zA(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lL.bind(null,e),e.Pu.J_=X4.bind(null,e.eventManager),e.Pu.yu=W4.bind(null,e.eventManager),e}function mL(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cL.bind(null,e),e}class fd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$d(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return y4(this.persistence,new m4,e.initialUser,this.serializer)}Cu(e){return new EA(wv.Vi,this.serializer)}Du(e){return new S4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fd.provider={build:()=>new fd};class pL extends fd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ut(this.persistence.referenceDelegate instanceof cd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new JO(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new EA((s=>cd.Vi(s,n)),this.serializer)}}class my{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Tw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=fL.bind(null,this.syncEngine),await $4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Q4})()}createDatastore(e){const n=$d(e.databaseInfo.databaseId),s=I4(e.databaseInfo);return V4(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,d){return new O4(s,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>Tw(this.syncEngine,n,0)),(function(){return pw.v()?new pw:new x4})())}createSyncEngine(e,n){return(function(a,l,c,d,m,p,y){const v=new tL(a,l,c,d,m,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Oe(n);ve(co,"RemoteStore shutting down."),s.Ea.add(5),await Pc(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}my.provider={build:()=>new my};class jv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const fa="FirestoreClient";class gL{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=An.UNAUTHENTICATED,this.clientId=Od.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ve(fa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ve(fa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Nv(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Tg(t,e){t.asyncQueue.verifyOperationInProgress(),ve(fa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await wA(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function ww(t,e){t.asyncQueue.verifyOperationInProgress();const n=await yL(t);ve(fa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>yw(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>yw(e.remoteStore,a))),t._onlineComponents=e}async function yL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve(fa,"Using user provided OfflineComponentProvider");try{await Tg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===le.FAILED_PRECONDITION||a.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;uo("Error using user provided cache. Falling back to memory cache: "+n),await Tg(t,new fd)}}else ve(fa,"Using default OfflineComponentProvider"),await Tg(t,new pL(void 0));return t._offlineComponents}async function BA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve(fa,"Using user provided OnlineComponentProvider"),await ww(t,t._uninitializedComponentsProvider._online)):(ve(fa,"Using default OnlineComponentProvider"),await ww(t,new my))),t._onlineComponents}function vL(t){return BA(t).then((e=>e.syncEngine))}async function dd(t){const e=await BA(t),n=e.eventManager;return n.onListen=nL.bind(null,e.syncEngine),n.onUnlisten=rL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=iL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=aL.bind(null,e.syncEngine),n}function _L(t,e,n,s){const a=new jv(s),l=new Pv(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>kv(await dd(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>Mv(await dd(t),l)))}}function bL(t,e,n={}){const s=new ir;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const y=new jv({next:E=>{y.Nu(),c.enqueueAndForget((()=>Mv(l,v)));const D=E.docs.has(d);!D&&E.fromCache?p.reject(new ye(le.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&E.fromCache&&m&&m.source==="server"?p.reject(new ye(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new Pv(Bd(d.path),y,{includeMetadataChanges:!0,Ka:!0});return kv(l,v)})(await dd(t),t.asyncQueue,e,n,s))),s.promise}function TL(t,e,n={}){const s=new ir;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const y=new jv({next:E=>{y.Nu(),c.enqueueAndForget((()=>Mv(l,v))),E.fromCache&&m.source==="server"?p.reject(new ye(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new Pv(d,y,{includeMetadataChanges:!0,Ka:!0});return kv(l,v)})(await dd(t),t.asyncQueue,e,n,s))),s.promise}function EL(t,e){const n=new ir;return t.asyncQueue.enqueueAndForget((async()=>oL(await vL(t),e,n))),n.promise}function FA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const wL="ComponentProvider",Sw=new Map;function SL(t,e,n,s,a){return new qP(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,FA(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const HA="firestore.googleapis.com",xw=!0;class Aw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HA,this.ssl=xw}else this.host=e.host,this.ssl=e.ssl??xw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<WO)throw new ye(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Mx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ye(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ye(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ye(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xd{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Aw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Aw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Nx;switch(s.type){case"firstParty":return new RP(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Sw.get(n);s&&(ve(wL,"Removing Datastore"),Sw.delete(n),s.terminate())})(this),Promise.resolve()}}function qA(t,e,n,s={}){t=Pn(t,Xd);const a=ho(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(Xy(`https://${d}`),Wy("Firestore",!0)),l.host!==HA&&l.host!==d&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!ro(m,c)&&(t._setSettings(m),s.mockUserToken)){let p,y;if(typeof s.mockUserToken=="string")p=s.mockUserToken,y=An.MOCK_USER;else{p=BS(s.mockUserToken,t._app?.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new ye(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new An(v)}t._authCredentials=new xP(new Dx(p,y))}}class va{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new va(this.firestore,e,this._query)}}class Mt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Nc(n,Mt._jsonSchema))return new Mt(e,s||null,new Ce(Tt.fromString(n.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:tn("string",Mt._jsonSchemaVersion),referencePath:tn("string")};class sr extends va{constructor(e,n,s){super(e,n,Bd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new Ce(e))}withConverter(e){return new sr(this.firestore,e,this._path)}}function ic(t,e,...n){if(t=ln(t),kx("collection","path",e),t instanceof Xd){const s=Tt.fromString(e,...n);return UE(s),new sr(t,null,s)}{if(!(t instanceof Mt||t instanceof sr))throw new ye(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Tt.fromString(e,...n));return UE(s),new sr(t.firestore,null,s)}}function yc(t,e,...n){if(t=ln(t),arguments.length===1&&(e=Od.newId()),kx("doc","path",e),t instanceof Xd){const s=Tt.fromString(e,...n);return jE(s),new Mt(t,null,new Ce(s))}{if(!(t instanceof Mt||t instanceof sr))throw new ye(le.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Tt.fromString(e,...n));return jE(s),new Mt(t.firestore,t instanceof sr?t.converter:null,new Ce(s))}}const Cw="AsyncQueue";class Rw{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xA(this,"async_queue_retry"),this._c=()=>{const s=bg();s&&ve(Cw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=bg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=bg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ir;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ml(e))throw e;ve(Cw,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ur("INTERNAL UNHANDLED ERROR: ",Iw(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Dv.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ne(47125,{Pc:Iw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Iw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class As extends Xd{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Rw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Rw(e),this._firestoreClient=void 0,await e}}}function GA(t,e){const n=typeof t=="object"?t:ev(),s=typeof t=="string"?t:id,a=kd(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=jS("firestore");l&&qA(a,...l)}return a}function Lc(t){if(t._terminated)throw new ye(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||xL(t),t._firestoreClient}function xL(t){const e=t._freezeSettings(),n=SL(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new gL(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class ii{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ii(pn.fromBase64String(e))}catch(n){throw new ye(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ii(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nc(e,ii._jsonSchema))return ii.fromBase64String(e.bytes)}}ii._jsonSchemaVersion="firestore/bytes/1.0",ii._jsonSchema={type:tn("string",ii._jsonSchemaVersion),bytes:tn("string")};class Wd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zd{constructor(e){this._methodName=e}}class Ki{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ki._jsonSchemaVersion}}static fromJSON(e){if(Nc(e,Ki._jsonSchema))return new Ki(e.latitude,e.longitude)}}Ki._jsonSchemaVersion="firestore/geoPoint/1.0",Ki._jsonSchema={type:tn("string",Ki._jsonSchemaVersion),latitude:tn("number"),longitude:tn("number")};class Si{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nc(e,Si._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Si(e.vectorValues);throw new ye(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Si._jsonSchemaVersion="firestore/vectorValue/1.0",Si._jsonSchema={type:tn("string",Si._jsonSchemaVersion),vectorValues:tn("object")};const AL=/^__.*__$/;class CL{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ya(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mc(e,this.data,n,this.fieldTransforms)}}class KA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ya(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $A(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{dataSource:t})}}class Uv{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Uv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return md(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if($A(this.dataSource)&&AL.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class RL{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||$d(e)}createContext(e,n,s,a=!1){return new Uv({dataSource:e,methodName:n,targetDoc:s,path:mn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jd(t){const e=t._freezeSettings(),n=$d(t._databaseId);return new RL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YA(t,e,n,s,a,l={}){const c=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);zv("Data must be an object, but it was:",c,s);const d=QA(s,c);let m,p;if(l.merge)m=new si(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const E=xl(e,v,n);if(!c.contains(E))throw new ye(le.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);ZA(y,E)||y.push(E)}m=new si(y),p=c.fieldTransforms.filter((v=>m.covers(v.field)))}else m=null,p=c.fieldTransforms;return new CL(new Gn(d),m,p)}class jc extends Zd{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jc}}function IL(t,e,n,s){const a=t.createContext(1,e,n);zv("Data must be an object, but it was:",a,s);const l=[],c=Gn.empty();ga(s,((m,p)=>{const y=WA(e,m,n);p=ln(p);const v=a.childContextForFieldPath(y);if(p instanceof jc)l.push(y);else{const E=Uc(p,v);E!=null&&(l.push(y),c.set(y,E))}}));const d=new si(l);return new KA(c,d,a.fieldTransforms)}function DL(t,e,n,s,a,l){const c=t.createContext(1,e,n),d=[xl(e,s,n)],m=[a];if(l.length%2!=0)throw new ye(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)d.push(xl(e,l[E])),m.push(l[E+1]);const p=[],y=Gn.empty();for(let E=d.length-1;E>=0;--E)if(!ZA(p,d[E])){const D=d[E];let L=m[E];L=ln(L);const V=c.childContextForFieldPath(D);if(L instanceof jc)p.push(D);else{const k=Uc(L,V);k!=null&&(p.push(D),y.set(D,k))}}const v=new si(p);return new KA(y,v,c.fieldTransforms)}function NL(t,e,n,s=!1){return Uc(n,t.createContext(s?4:3,e))}function Uc(t,e){if(XA(t=ln(t)))return zv("Unsupported field value:",e,t),QA(t,e);if(t instanceof Zd)return(function(s,a){if(!$A(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let m=Uc(d,a.childContextForArray(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=ln(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return pO(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Fe.fromDate(s);return{timestampValue:ud(a.serializer,l)}}if(s instanceof Fe){const l=new Fe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ud(a.serializer,l)}}if(s instanceof Ki)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ii)return{bytesValue:dA(a.serializer,s._byteString)};if(s instanceof Mt){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Tv(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Si)return(function(c,d){const m=c instanceof Si?c.toArray():c;return{mapValue:{fields:{[Fx]:{stringValue:Hx},[sd]:{arrayValue:{values:m.map((y=>{if(typeof y!="number")throw d.createError("VectorValues must only contain numeric values.");return yv(d.serializer,y)}))}}}}}})(s,a);if(bA(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Ld(s)}`)})(t,e)}function QA(t,e){const n={};return Ox(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ga(t,((s,a)=>{const l=Uc(a,e.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function XA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Fe||t instanceof Ki||t instanceof ii||t instanceof Mt||t instanceof Zd||t instanceof Si||bA(t))}function zv(t,e,n){if(!XA(n)||!Vx(n)){const s=Ld(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function xl(t,e,n){if((e=ln(e))instanceof Wd)return e._internalPath;if(typeof e=="string")return WA(t,e);throw md("Field path arguments must be of type string or ",t,!1,void 0,n)}const kL=new RegExp("[~\\*/\\[\\]]");function WA(t,e,n){if(e.search(kL)>=0)throw md(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wd(...e.split("."))._internalPath}catch{throw md(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function md(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new ye(le.INVALID_ARGUMENT,d+t+m)}function ZA(t,e){return t.some((n=>n.isEqual(e)))}class JA{convertValue(e,n="none"){switch(ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ga(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[sd].arrayValue?.values?.map((s=>qt(s.doubleValue)));return new Si(n)}convertGeoPoint(e){return new Ki(qt(e.latitude),qt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=zd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){const n=la(e);return new Fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Tt.fromString(e);ut(_A(s),9688,{name:e});const a=new bl(s.get(1),s.get(3)),l=new Ce(s.popFirst(5));return a.isEqual(n)||ur(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class Bv extends JA{constructor(e){super(),this.firestore=e}convertBytes(e){return new ii(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}function eC(){return new jc("deleteField")}const Dw="@firebase/firestore",Nw="4.10.0";function kw(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class tC{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ML(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(xl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ML extends tC{data(){return super.data()}}function nC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fv{}class iC extends Fv{}function pd(t,e,...n){let s=[];e instanceof Fv&&s.push(e),s=s.concat(n),(function(l){const c=l.filter((m=>m instanceof em)).length,d=l.filter((m=>m instanceof zc)).length;if(c>1||c>0&&d>0)throw new ye(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class zc extends iC{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new zc(e,n,s)}_apply(e){const n=this._parse(e);return sC(e._query,n),new va(e.firestore,e.converter,sy(e._query,n))}_parse(e){const n=Jd(e.firestore);return(function(l,c,d,m,p,y,v){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ye(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Vw(v,y);const L=[];for(const V of v)L.push(Mw(m,l,V));E={arrayValue:{values:L}}}else E=Mw(m,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Vw(v,y),E=NL(d,c,v,y==="in"||y==="not-in");return en.create(p,y,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function gd(t,e,n){const s=e,a=xl("where",t);return zc._create(a,s,n)}class em extends Fv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new em(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:$i.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)sC(c,m),c=sy(c,m)})(e._query,n),new va(e.firestore,e.converter,sy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Mw(t,e,n){if(typeof(n=ln(n))=="string"){if(n==="")throw new ye(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wx(e)&&n.indexOf("/")!==-1)throw new ye(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Tt.fromString(n));if(!Ce.isDocumentKey(s))throw new ye(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return $E(t,new Ce(s))}if(n instanceof Mt)return $E(t,n._key);throw new ye(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ld(n)}.`)}function Vw(t,e){if(!Array.isArray(t)||t.length===0)throw new ye(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sC(t,e){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ye(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function rC(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class ol{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sa extends tC{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(xl("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=sa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}sa._jsonSchemaVersion="firestore/documentSnapshot/1.0",sa._jsonSchema={type:tn("string",sa._jsonSchemaVersion),bundleSource:tn("string","DocumentSnapshot"),bundleName:tn("string"),bundle:tn("string")};class sc extends sa{data(e={}){return super.data(e)}}class ra{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new ol(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new sc(this._firestore,this._userDataWriter,s.key,s,new ol(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new sc(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ol(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new sc(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ol(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:VL(d.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ra._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Od.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function VL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:t})}}ra._jsonSchemaVersion="firestore/querySnapshot/1.0",ra._jsonSchema={type:tn("string",ra._jsonSchemaVersion),bundleSource:tn("string","QuerySnapshot"),bundleName:tn("string"),bundle:tn("string")};function aC(t){t=Pn(t,Mt);const e=Pn(t.firestore,As),n=Lc(e);return bL(n,t._key).then((s=>cC(e,t,s)))}function yd(t){t=Pn(t,va);const e=Pn(t.firestore,As),n=Lc(e),s=new Bv(e);return nC(t._query),TL(n,t._query).then((a=>new ra(e,s,t,a)))}function py(t,e,n){t=Pn(t,Mt);const s=Pn(t.firestore,As),a=rC(t.converter,e,n),l=Jd(s);return Bc(s,[YA(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,wi.none())])}function gs(t,e,n,...s){t=Pn(t,Mt);const a=Pn(t.firestore,As),l=Jd(a);let c;return c=typeof(e=ln(e))=="string"||e instanceof Wd?DL(l,"updateDoc",t._key,e,n,s):IL(l,"updateDoc",t._key,e),Bc(a,[c.toMutation(t._key,wi.exists(!0))])}function oC(t){return Bc(Pn(t.firestore,As),[new vv(t._key,wi.none())])}function lC(t,e){const n=Pn(t.firestore,As),s=yc(t),a=rC(t.converter,e),l=Jd(t.firestore);return Bc(n,[YA(l,"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,wi.exists(!1))]).then((()=>s))}function uC(t,...e){t=ln(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||kw(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(kw(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let l,c,d;if(t instanceof Mt)c=Pn(t.firestore,As),d=Bd(t._key.path),l={next:p=>{e[s]&&e[s](cC(c,t,p))},error:e[s+1],complete:e[s+2]};else{const p=Pn(t,va);c=Pn(p.firestore,As),d=p._query;const y=new Bv(c);l={next:v=>{e[s]&&e[s](new ra(c,y,p,v))},error:e[s+1],complete:e[s+2]},nC(t._query)}const m=Lc(c);return _L(m,d,a,l)}function Bc(t,e){const n=Lc(t);return EL(n,e)}function cC(t,e,n){const s=n.docs.get(e._key),a=new Bv(t);return new sa(t,a,e._key,s,new ol(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){SP(fo),ao(new aa("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new As(new AP(s.getProvider("auth-internal")),new IP(c,s.getProvider("app-check-internal")),GP(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),_s(Dw,Nw,e),_s(Dw,Nw,"esm2020")})();const PL=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:JA,Bytes:ii,CollectionReference:sr,DocumentReference:Mt,DocumentSnapshot:sa,FieldPath:Wd,FieldValue:Zd,Firestore:As,FirestoreError:ye,GeoPoint:Ki,Query:va,QueryCompositeFilterConstraint:em,QueryConstraint:iC,QueryDocumentSnapshot:sc,QueryFieldFilterConstraint:zc,QuerySnapshot:ra,SnapshotMetadata:ol,Timestamp:Fe,VectorValue:Si,_AutoId:Od,_ByteString:pn,_DatabaseId:bl,_DocumentKey:Ce,_EmptyAuthCredentialsProvider:Nx,_FieldPath:mn,_cast:Pn,_logWarn:uo,_validateIsNotUsedTogether:Mx,addDoc:lC,collection:ic,connectFirestoreEmulator:qA,deleteDoc:oC,deleteField:eC,doc:yc,ensureFirestoreConfigured:Lc,executeWrite:Bc,getDoc:aC,getDocs:yd,getFirestore:GA,onSnapshot:uC,query:pd,setDoc:py,updateDoc:gs,where:gd},Symbol.toStringTag,{value:"Module"}));const hC="firebasestorage.googleapis.com",OL="storageBucket",LL=120*1e3,jL=600*1e3;class Ds extends Is{constructor(e,n,s=0){super(Eg(e),`Firebase Storage: ${n} (${Eg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ds.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Eg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Cs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Cs||(Cs={}));function Eg(t){return"storage/"+t}function UL(){const t="An unknown error occurred, please check the error payload for server response.";return new Ds(Cs.UNKNOWN,t)}function zL(){return new Ds(Cs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function BL(){return new Ds(Cs.CANCELED,"User canceled the upload/download.")}function FL(t){return new Ds(Cs.INVALID_URL,"Invalid URL '"+t+"'.")}function HL(t){return new Ds(Cs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Pw(t){return new Ds(Cs.INVALID_ARGUMENT,t)}function fC(){return new Ds(Cs.APP_DELETED,"The Firebase app was deleted.")}function qL(t){return new Ds(Cs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class qi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=qi.makeFromUrl(e,n)}catch{return new qi(e,"")}if(s.path==="")return s;throw HL(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(ue){ue.path.charAt(ue.path.length-1)==="/"&&(ue.path_=ue.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function p(ue){ue.path_=decodeURIComponent(ue.path)}const y="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",D=new RegExp(`^https?://${v}/${y}/b/${a}/o${E}`,"i"),L={bucket:1,path:3},V=n===hC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",B=new RegExp(`^https?://${V}/${a}/${k}`,"i"),H=[{regex:d,indices:m,postModify:l},{regex:D,indices:L,postModify:p},{regex:B,indices:{bucket:1,path:2},postModify:p}];for(let ue=0;ue<H.length;ue++){const ae=H[ue],me=ae.regex.exec(e);if(me){const R=me[ae.indices.bucket];let w=me[ae.indices.path];w||(w=""),s=new qi(R,w),ae.postModify(s);break}}if(s==null)throw FL(e);return s}}class GL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function KL(t,e,n){let s=1,a=null,l=null,c=!1,d=0;function m(){return d===2}let p=!1;function y(...k){p||(p=!0,e.apply(null,k))}function v(k){a=setTimeout(()=>{a=null,t(D,m())},k)}function E(){l&&clearTimeout(l)}function D(k,...B){if(p){E();return}if(k){E(),y.call(null,k,...B);return}if(m()||c){E(),y.call(null,k,...B);return}s<64&&(s*=2);let H;d===1?(d=2,H=0):H=(s+Math.random())*1e3,v(H)}let L=!1;function V(k){L||(L=!0,E(),!p&&(a!==null?(k||(d=2),clearTimeout(a),v(0)):k||(d=1)))}return v(0),l=setTimeout(()=>{c=!0,V(!0)},n),V}function $L(t){t(!1)}function YL(t){return t!==void 0}function Ow(t,e,n,s){if(s<e)throw Pw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw Pw(`Invalid value for '${t}'. Expected ${n} or less.`)}function QL(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var vd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(vd||(vd={}));function XL(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class WL{constructor(e,n,s,a,l,c,d,m,p,y,v,E=!0,D=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=v,this.retry=E,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,V)=>{this.resolve_=L,this.reject_=V,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new wf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const m=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===vd.NO_ERROR,m=l.getStatus();if(!d||XL(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===vd.ABORT;s(!1,new wf(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;s(!0,new wf(p,l))})},n=(s,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());YL(m)?l(m):l()}catch(m){c(m)}else if(d!==null){const m=UL();m.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,m)):c(m)}else if(a.canceled){const m=this.appDelete_?fC():BL();c(m)}else{const m=zL();c(m)}};this.canceled_?n(!1,new wf(!1,null,!0)):this.backoffId_=KL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&$L(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wf{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function ZL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function JL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function e3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function t3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function n3(t,e,n,s,a,l,c=!0,d=!1){const m=QL(t.urlParams),p=t.url+m,y=Object.assign({},t.headers);return e3(y,e),ZL(y,n),JL(y,l),t3(y,s),new WL(p,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,d)}function i3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function s3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class _d{constructor(e,n){this._service=e,n instanceof qi?this._location=n:this._location=qi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new _d(e,n)}get root(){const e=new qi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return s3(this._location.path)}get storage(){return this._service}get parent(){const e=i3(this._location.path);if(e===null)return null;const n=new qi(this._location.bucket,e);return new _d(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw qL(e)}}function Lw(t,e){const n=e?.[OL];return n==null?null:qi.makeFromBucketSpec(n,t)}function r3(t,e,n,s={}){t.host=`${e}:${n}`;const a=ho(e);a&&(Xy(`https://${t.host}/b`),Wy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:BS(l,t.app.options.projectId))}class a3{constructor(e,n,s,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=hC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=LL,this._maxUploadRetryTime=jL,this._requests=new Set,a!=null?this._bucket=qi.makeFromBucketSpec(a,this._host):this._bucket=Lw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=qi.makeFromBucketSpec(this._url,e):this._bucket=Lw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ow("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ow("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _d(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new GL(fC());{const c=n3(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const jw="@firebase/storage",Uw="0.14.0";const dC="storage";function o3(t=ev(),e){t=ln(t);const s=kd(t,dC).getImmediate({identifier:e}),a=jS("storage");return a&&l3(s,...a),s}function l3(t,e,n,s={}){r3(t,e,n,s)}function u3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new a3(n,s,a,e,fo)}function c3(){ao(new aa(dC,u3,"PUBLIC").setMultipleInstances(!0)),_s(jw,Uw,""),_s(jw,Uw,"esm2020")}c3();const h3={apiKey:"AIzaSyC7IaK8e0JimVT2DeKQovTDLPyufibEu_4",authDomain:"sunsar-bingo.firebaseapp.com",projectId:"sunsar-bingo",storageBucket:"sunsar-bingo.firebasestorage.app",messagingSenderId:"256131852935",appId:"1:256131852935:web:fe514c1e6758e5af252622"},tm=qS(h3),Ff=EP(tm),mC=new Js,Jr=GA(tm);o3(tm);const f3=Object.freeze(Object.defineProperty({__proto__:null,app:tm,auth:Ff,db:Jr,googleProvider:mC},Symbol.toStringTag,{value:"Module"})),pC=P.createContext(void 0),d3=({children:t})=>{const[e,n]=P.useState(null),[s,a]=P.useState(!0),[l,c]=P.useState(null);P.useEffect(()=>{const p=cV(Ff,async y=>{if(y){const v={uid:y.uid,email:y.email,displayName:y.displayName,photoURL:y.photoURL};n(v),c(null);try{const{doc:E,setDoc:D,Timestamp:L}=await Hg(async()=>{const{doc:k,setDoc:B,Timestamp:q}=await Promise.resolve().then(()=>PL);return{doc:k,setDoc:B,Timestamp:q}},[]),{db:V}=await Hg(async()=>{const{db:k}=await Promise.resolve().then(()=>f3);return{db:k}},void 0);await D(E(V,"users",y.uid),{...v,lastSeen:L.now()},{merge:!0})}catch(E){console.error("Error syncing user profile:",E)}}else n(null);a(!1)});return()=>p()},[]);const d=async()=>{c(null);try{await NV(Ff,mC)}catch(p){c(p.message||"Failed to sign in")}},m=async()=>{await hV(Ff)};return x.jsx(pC.Provider,{value:{user:e,loading:s,signIn:d,logout:m,error:l},children:t})},Fc=()=>{const t=P.useContext(pC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Hv=P.createContext({});function qv(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const gC=typeof window<"u",yC=gC?P.useLayoutEffect:P.useEffect,nm=P.createContext(null);function Gv(t,e){t.indexOf(e)===-1&&t.push(e)}function Kv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Rs=(t,e,n)=>n>e?e:n<t?t:n;let $v=()=>{};const hr={},vC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function _C(t){return typeof t=="object"&&t!==null}const bC=t=>/^0[^.\s]+$/u.test(t);function Yv(t){let e;return()=>(e===void 0&&(e=t()),e)}const xi=t=>t,m3=(t,e)=>n=>e(t(n)),Hc=(...t)=>t.reduce(m3),vc=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Qv{constructor(){this.subscriptions=[]}add(e){return Gv(this.subscriptions,e),()=>Kv(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rr=t=>t*1e3,Ei=t=>t/1e3;function TC(t,e){return e?t*(1e3/e):0}const EC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,p3=1e-7,g3=12;function y3(t,e,n,s,a){let l,c,d=0;do c=e+(n-e)/2,l=EC(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>p3&&++d<g3);return c}function qc(t,e,n,s){if(t===e&&n===s)return xi;const a=l=>y3(l,0,1,t,n);return l=>l===0||l===1?l:EC(a(l),e,s)}const wC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,SC=t=>e=>1-t(1-e),xC=qc(.33,1.53,.69,.99),Xv=SC(xC),AC=wC(Xv),CC=t=>(t*=2)<1?.5*Xv(t):.5*(2-Math.pow(2,-10*(t-1))),Wv=t=>1-Math.sin(Math.acos(t)),RC=SC(Wv),IC=wC(Wv),v3=qc(.42,0,1,1),_3=qc(0,0,.58,1),DC=qc(.42,0,.58,1),b3=t=>Array.isArray(t)&&typeof t[0]!="number",NC=t=>Array.isArray(t)&&typeof t[0]=="number",T3={linear:xi,easeIn:v3,easeInOut:DC,easeOut:_3,circIn:Wv,circInOut:IC,circOut:RC,backIn:Xv,backInOut:AC,backOut:xC,anticipate:CC},E3=t=>typeof t=="string",zw=t=>{if(NC(t)){$v(t.length===4);const[e,n,s,a]=t;return qc(e,n,s,a)}else if(E3(t))return T3[t];return t},Sf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function w3(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(p.schedule(y),t()),y(d)}const p={schedule:(y,v=!1,E=!1)=>{const L=E&&a?n:s;return v&&c.add(y),L.has(y)||L.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const S3=40;function kC(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Sf.reduce((H,ue)=>(H[ue]=w3(l),H),{}),{setup:d,read:m,resolveKeyframes:p,preUpdate:y,update:v,preRender:E,render:D,postRender:L}=c,V=()=>{const H=hr.useManualTiming?a.timestamp:performance.now();n=!1,hr.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(H-a.timestamp,S3),1)),a.timestamp=H,a.isProcessing=!0,d.process(a),m.process(a),p.process(a),y.process(a),v.process(a),E.process(a),D.process(a),L.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(V))},k=()=>{n=!0,s=!0,a.isProcessing||t(V)};return{schedule:Sf.reduce((H,ue)=>{const ae=c[ue];return H[ue]=(me,R=!1,w=!1)=>(n||k(),ae.schedule(me,R,w)),H},{}),cancel:H=>{for(let ue=0;ue<Sf.length;ue++)c[Sf[ue]].cancel(H)},state:a,steps:c}}const{schedule:xt,cancel:da,state:Tn,steps:wg}=kC(typeof requestAnimationFrame<"u"?requestAnimationFrame:xi,!0);let Hf;function x3(){Hf=void 0}const Mn={now:()=>(Hf===void 0&&Mn.set(Tn.isProcessing||hr.useManualTiming?Tn.timestamp:performance.now()),Hf),set:t=>{Hf=t,queueMicrotask(x3)}},MC=t=>e=>typeof e=="string"&&e.startsWith(t),VC=MC("--"),A3=MC("var(--"),Zv=t=>A3(t)?C3.test(t.split("/*")[0].trim()):!1,C3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Bw(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Pl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},_c={...Pl,transform:t=>Rs(0,1,t)},xf={...Pl,default:1},rc=t=>Math.round(t*1e5)/1e5,Jv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function R3(t){return t==null}const I3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,e0=(t,e)=>n=>!!(typeof n=="string"&&I3.test(n)&&n.startsWith(t)||e&&!R3(n)&&Object.prototype.hasOwnProperty.call(n,e)),PC=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(Jv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},D3=t=>Rs(0,255,t),Sg={...Pl,transform:t=>Math.round(D3(t))},to={test:e0("rgb","red"),parse:PC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Sg.transform(t)+", "+Sg.transform(e)+", "+Sg.transform(n)+", "+rc(_c.transform(s))+")"};function N3(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const gy={test:e0("#"),parse:N3,transform:to.transform},Gc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Yr=Gc("deg"),ws=Gc("%"),_e=Gc("px"),k3=Gc("vh"),M3=Gc("vw"),Fw={...ws,parse:t=>ws.parse(t)/100,transform:t=>ws.transform(t*100)},ll={test:e0("hsl","hue"),parse:PC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+ws.transform(rc(e))+", "+ws.transform(rc(n))+", "+rc(_c.transform(s))+")"},Jt={test:t=>to.test(t)||gy.test(t)||ll.test(t),parse:t=>to.test(t)?to.parse(t):ll.test(t)?ll.parse(t):gy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?to.transform(t):ll.transform(t),getAnimatableNone:t=>{const e=Jt.parse(t);return e.alpha=0,Jt.transform(e)}},V3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function P3(t){return isNaN(t)&&typeof t=="string"&&(t.match(Jv)?.length||0)+(t.match(V3)?.length||0)>0}const OC="number",LC="color",O3="var",L3="var(",Hw="${}",j3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(j3,m=>(Jt.test(m)?(s.color.push(l),a.push(LC),n.push(Jt.parse(m))):m.startsWith(L3)?(s.var.push(l),a.push(O3),n.push(m)):(s.number.push(l),a.push(OC),n.push(parseFloat(m))),++l,Hw)).split(Hw);return{values:n,split:d,indexes:s,types:a}}function jC(t){return bc(t).values}function UC(t){const{split:e,types:n}=bc(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const d=n[c];d===OC?l+=rc(a[c]):d===LC?l+=Jt.transform(a[c]):l+=a[c]}return l}}const U3=t=>typeof t=="number"?0:Jt.test(t)?Jt.getAnimatableNone(t):t;function z3(t){const e=jC(t);return UC(t)(e.map(U3))}const ma={test:P3,parse:jC,createTransformer:UC,getAnimatableNone:z3};function xg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function B3({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,m=2*n-d;a=xg(m,d,t+1/3),l=xg(m,d,t),c=xg(m,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function bd(t,e){return n=>n>0?e:t}const kt=(t,e,n)=>t+(e-t)*n,Ag=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},F3=[gy,to,ll],H3=t=>F3.find(e=>e.test(t));function qw(t){const e=H3(t);if(!e)return!1;let n=e.parse(t);return e===ll&&(n=B3(n)),n}const Gw=(t,e)=>{const n=qw(t),s=qw(e);if(!n||!s)return bd(t,e);const a={...n};return l=>(a.red=Ag(n.red,s.red,l),a.green=Ag(n.green,s.green,l),a.blue=Ag(n.blue,s.blue,l),a.alpha=kt(n.alpha,s.alpha,l),to.transform(a))},yy=new Set(["none","hidden"]);function q3(t,e){return yy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function G3(t,e){return n=>kt(t,e,n)}function t0(t){return typeof t=="number"?G3:typeof t=="string"?Zv(t)?bd:Jt.test(t)?Gw:Y3:Array.isArray(t)?zC:typeof t=="object"?Jt.test(t)?Gw:K3:bd}function zC(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>t0(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function K3(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=t0(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function $3(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],d=t.values[c]??0;n[a]=d,s[l]++}return n}const Y3=(t,e)=>{const n=ma.createTransformer(e),s=bc(t),a=bc(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?yy.has(t)&&!a.values.length||yy.has(e)&&!s.values.length?q3(t,e):Hc(zC($3(s,a),a.values),n):bd(t,e)};function BC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?kt(t,e,n):t0(t)(t,e)}const Q3=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>xt.update(e,n),stop:()=>da(e),now:()=>Tn.isProcessing?Tn.timestamp:Mn.now()}},FC=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Td=2e4;function n0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Td;)e+=n,s=t.next(e);return e>=Td?1/0:e}function X3(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(n0(s),Td);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Ei(a)}}const W3=5;function HC(t,e,n){const s=Math.max(e-W3,0);return TC(n-t(s),e-s)}const Ut={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Cg=.001;function Z3({duration:t=Ut.duration,bounce:e=Ut.bounce,velocity:n=Ut.velocity,mass:s=Ut.mass}){let a,l,c=1-e;c=Rs(Ut.minDamping,Ut.maxDamping,c),t=Rs(Ut.minDuration,Ut.maxDuration,Ei(t)),c<1?(a=p=>{const y=p*c,v=y*t,E=y-n,D=vy(p,c),L=Math.exp(-v);return Cg-E/D*L},l=p=>{const v=p*c*t,E=v*n+n,D=Math.pow(c,2)*Math.pow(p,2)*t,L=Math.exp(-v),V=vy(Math.pow(p,2),c);return(-a(p)+Cg>0?-1:1)*((E-D)*L)/V}):(a=p=>{const y=Math.exp(-p*t),v=(p-n)*t+1;return-Cg+y*v},l=p=>{const y=Math.exp(-p*t),v=(n-p)*(t*t);return y*v});const d=5/t,m=e5(a,l,d);if(t=rr(t),isNaN(m))return{stiffness:Ut.stiffness,damping:Ut.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const J3=12;function e5(t,e,n){let s=n;for(let a=1;a<J3;a++)s=s-t(s)/e(s);return s}function vy(t,e){return t*Math.sqrt(1-e*e)}const t5=["duration","bounce"],n5=["stiffness","damping","mass"];function Kw(t,e){return e.some(n=>t[n]!==void 0)}function i5(t){let e={velocity:Ut.velocity,stiffness:Ut.stiffness,damping:Ut.damping,mass:Ut.mass,isResolvedFromDuration:!1,...t};if(!Kw(t,n5)&&Kw(t,t5))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Rs(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Ut.mass,stiffness:a,damping:l}}else{const n=Z3(t);e={...e,...n,mass:Ut.mass},e.isResolvedFromDuration=!0}return e}function Ed(t=Ut.visualDuration,e=Ut.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:v,velocity:E,isResolvedFromDuration:D}=i5({...n,velocity:-Ei(n.velocity||0)}),L=E||0,V=p/(2*Math.sqrt(m*y)),k=c-l,B=Ei(Math.sqrt(m/y)),q=Math.abs(k)<5;s||(s=q?Ut.restSpeed.granular:Ut.restSpeed.default),a||(a=q?Ut.restDelta.granular:Ut.restDelta.default);let H;if(V<1){const ae=vy(B,V);H=me=>{const R=Math.exp(-V*B*me);return c-R*((L+V*B*k)/ae*Math.sin(ae*me)+k*Math.cos(ae*me))}}else if(V===1)H=ae=>c-Math.exp(-B*ae)*(k+(L+B*k)*ae);else{const ae=B*Math.sqrt(V*V-1);H=me=>{const R=Math.exp(-V*B*me),w=Math.min(ae*me,300);return c-R*((L+V*B*k)*Math.sinh(w)+ae*k*Math.cosh(w))/ae}}const ue={calculatedDuration:D&&v||null,next:ae=>{const me=H(ae);if(D)d.done=ae>=v;else{let R=ae===0?L:0;V<1&&(R=ae===0?rr(L):HC(H,ae,me));const w=Math.abs(R)<=s,C=Math.abs(c-me)<=a;d.done=w&&C}return d.value=d.done?c:me,d},toString:()=>{const ae=Math.min(n0(ue),Td),me=FC(R=>ue.next(ae*R).value,ae,30);return ae+"ms "+me},toTransition:()=>{}};return ue}Ed.applyToOptions=t=>{const e=X3(t,100,Ed);return t.ease=e.ease,t.duration=rr(e.duration),t.type="keyframes",t};function _y({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:p=.5,restSpeed:y}){const v=t[0],E={done:!1,value:v},D=w=>d!==void 0&&w<d||m!==void 0&&w>m,L=w=>d===void 0?m:m===void 0||Math.abs(d-w)<Math.abs(m-w)?d:m;let V=n*e;const k=v+V,B=c===void 0?k:c(k);B!==k&&(V=B-v);const q=w=>-V*Math.exp(-w/s),H=w=>B+q(w),ue=w=>{const C=q(w),N=H(w);E.done=Math.abs(C)<=p,E.value=E.done?B:N};let ae,me;const R=w=>{D(E.value)&&(ae=w,me=Ed({keyframes:[E.value,L(E.value)],velocity:HC(H,w,E.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return R(0),{calculatedDuration:null,next:w=>{let C=!1;return!me&&ae===void 0&&(C=!0,ue(w),R(w)),ae!==void 0&&w>=ae?me.next(w-ae):(!C&&ue(w),E)}}}function s5(t,e,n){const s=[],a=n||hr.mix||BC,l=t.length-1;for(let c=0;c<l;c++){let d=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||xi:e;d=Hc(m,d)}s.push(d)}return s}function r5(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if($v(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=s5(e,s,a),m=d.length,p=y=>{if(c&&y<t[0])return e[0];let v=0;if(m>1)for(;v<t.length-2&&!(y<t[v+1]);v++);const E=vc(t[v],t[v+1],y);return d[v](E)};return n?y=>p(Rs(t[0],t[l-1],y)):p}function a5(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=vc(0,e,s);t.push(kt(n,1,a))}}function o5(t){const e=[0];return a5(e,t.length-1),e}function l5(t,e){return t.map(n=>n*e)}function u5(t,e){return t.map(()=>e||DC).splice(0,t.length-1)}function ac({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=b3(s)?s.map(zw):zw(s),l={done:!1,value:e[0]},c=l5(n&&n.length===e.length?n:o5(e),t),d=r5(c,e,{ease:Array.isArray(a)?a:u5(e,a)});return{calculatedDuration:t,next:m=>(l.value=d(m),l.done=m>=t,l)}}const c5=t=>t!==null;function i0(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(c5),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const h5={decay:_y,inertia:_y,tween:ac,keyframes:ac,spring:Ed};function qC(t){typeof t.type=="string"&&(t.type=h5[t.type])}class s0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const f5=t=>t/100;class r0 extends s0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Mn.now()&&this.tick(Mn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;qC(e);const{type:n=ac,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const m=n||ac;m!==ac&&typeof d[0]!="number"&&(this.mixKeyframes=Hc(f5,BC(d[0],d[1])),d=[0,100]);const p=m({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=n0(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:E,repeatDelay:D,type:L,onUpdate:V,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const B=this.currentTime-p*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?B<0:B>a;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let H=this.currentTime,ue=s;if(v){const w=Math.min(this.currentTime,a)/d;let C=Math.floor(w),N=w%1;!N&&w>=1&&(N=1),N===1&&C--,C=Math.min(C,v+1),C%2&&(E==="reverse"?(N=1-N,D&&(N-=D/d)):E==="mirror"&&(ue=c)),H=Rs(0,1,N)*d}const ae=q?{done:!1,value:y[0]}:ue.next(H);l&&(ae.value=l(ae.value));let{done:me}=ae;!q&&m!==null&&(me=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&me);return R&&L!==_y&&(ae.value=i0(y,this.options,k,this.speed)),V&&V(ae.value),R&&this.finish(),ae}then(e,n){return this.finished.then(e,n)}get duration(){return Ei(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ei(e)}get time(){return Ei(this.currentTime)}set time(e){e=rr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Mn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ei(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Q3,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Mn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function d5(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const no=t=>t*180/Math.PI,by=t=>{const e=no(Math.atan2(t[1],t[0]));return Ty(e)},m5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:by,rotateZ:by,skewX:t=>no(Math.atan(t[1])),skewY:t=>no(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ty=t=>(t=t%360,t<0&&(t+=360),t),$w=by,Yw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Qw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),p5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Yw,scaleY:Qw,scale:t=>(Yw(t)+Qw(t))/2,rotateX:t=>Ty(no(Math.atan2(t[6],t[5]))),rotateY:t=>Ty(no(Math.atan2(-t[2],t[0]))),rotateZ:$w,rotate:$w,skewX:t=>no(Math.atan(t[4])),skewY:t=>no(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ey(t){return t.includes("scale")?1:0}function wy(t,e){if(!t||t==="none")return Ey(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=p5,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=m5,a=d}if(!a)return Ey(e);const l=s[e],c=a[1].split(",").map(y5);return typeof l=="function"?l(c):c[l]}const g5=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return wy(n,e)};function y5(t){return parseFloat(t.trim())}const Ol=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ll=new Set(Ol),Xw=t=>t===Pl||t===_e,v5=new Set(["x","y","z"]),_5=Ol.filter(t=>!v5.has(t));function b5(t){const e=[];return _5.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const ea={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>wy(e,"x"),y:(t,{transform:e})=>wy(e,"y")};ea.translateX=ea.x;ea.translateY=ea.y;const so=new Set;let Sy=!1,xy=!1,Ay=!1;function GC(){if(xy){const t=Array.from(so).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=b5(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}xy=!1,Sy=!1,so.forEach(t=>t.complete(Ay)),so.clear()}function KC(){so.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(xy=!0)})}function T5(){Ay=!0,KC(),GC(),Ay=!1}class a0{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(so.add(this),Sy||(Sy=!0,xt.read(KC),xt.resolveKeyframes(GC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}d5(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),so.delete(this)}cancel(){this.state==="scheduled"&&(so.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const E5=t=>t.startsWith("--");function w5(t,e,n){E5(e)?t.style.setProperty(e,n):t.style[e]=n}const S5=Yv(()=>window.ScrollTimeline!==void 0),x5={};function A5(t,e){const n=Yv(t);return()=>x5[e]??n()}const $C=A5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Qu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Ww={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qu([0,.65,.55,1]),circOut:Qu([.55,0,1,.45]),backIn:Qu([.31,.01,.66,-.59]),backOut:Qu([.33,1.53,.69,.99])};function YC(t,e){if(t)return typeof t=="function"?$C()?FC(t,e):"ease-out":NC(t)?Qu(t):Array.isArray(t)?t.map(n=>YC(n,e)||Ww.easeOut):Ww[t]}function C5(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},p=void 0){const y={[e]:n};m&&(y.offset=m);const v=YC(d,a);Array.isArray(v)&&(y.easing=v);const E={delay:s,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),t.animate(y,E)}function QC(t){return typeof t=="function"&&"applyToOptions"in t}function R5({type:t,...e}){return QC(t)&&$C()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class I5 extends s0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,$v(typeof e.type!="string");const p=R5(e);this.animation=C5(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=i0(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):w5(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ei(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ei(e)}get time(){return Ei(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=rr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&S5()?(this.animation.timeline=e,xi):n(this)}}const XC={anticipate:CC,backInOut:AC,circInOut:IC};function D5(t){return t in XC}function N5(t){typeof t.ease=="string"&&D5(t.ease)&&(t.ease=XC[t.ease])}const Rg=10;class k5 extends I5{constructor(e){N5(e),qC(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new r0({...c,autoplay:!1}),m=Math.max(Rg,Mn.now()-this.startTime),p=Rs(0,Rg,m-Rg);n.setWithVelocity(d.sample(Math.max(0,m-p)).value,d.sample(m).value,p),d.stop()}}const Zw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ma.test(t)||t==="0")&&!t.startsWith("url("));function M5(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function V5(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=Zw(a,e),d=Zw(l,e);return!c||!d?!1:M5(t)||(n==="spring"||QC(n))&&s}function Cy(t){t.duration=0,t.type="keyframes"}const P5=new Set(["opacity","clipPath","filter","transform"]),O5=Yv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function L5(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return O5()&&n&&P5.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const j5=40;class U5 extends s0{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:p,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Mn.now();const E={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,...v},D=y?.KeyframeResolver||a0;this.keyframeResolver=new D(d,(L,V,k)=>this.onKeyframesResolved(L,V,E,!k),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=Mn.now(),V5(e,l,c,d)||((hr.instantAnimations||!m)&&y?.(i0(e,s,n)),e[0]=e[e.length-1],Cy(s),s.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>j5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},D=!p&&L5(E)?new k5({...E,element:E.motionValue.owner.current}):new r0(E);D.finished.then(()=>this.notifyFinished()).catch(xi),this.pendingTimeline&&(this.stopTimeline=D.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=D}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),T5()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const z5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function B5(t){const e=z5.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function WC(t,e,n=1){const[s,a]=B5(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return vC(c)?parseFloat(c):c}return Zv(a)?WC(a,e,n+1):a}function o0(t,e){return t?.[e]??t?.default??t}const F5={type:"spring",stiffness:500,damping:25,restSpeed:10},H5=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),q5={type:"keyframes",duration:.8},G5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},K5=(t,{keyframes:e})=>e.length>2?q5:Ll.has(t)?t.startsWith("scale")?H5(e[1]):F5:G5;function $5({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const Y5=t=>t!==null;function Q5(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(Y5),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function ZC(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),c=t.size,d=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:d-l*s}const l0=(t,e,n,s={},a,l)=>c=>{const d=o0(s,t)||{},m=d.delay||s.delay||0;let{elapsed:p=0}=s;p=p-rr(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:E=>{e.set(E),d.onUpdate&&d.onUpdate(E)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};$5(d)||Object.assign(y,K5(t,y)),y.duration&&(y.duration=rr(y.duration)),y.repeatDelay&&(y.repeatDelay=rr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Cy(y),y.delay===0&&(v=!0)),(hr.instantAnimations||hr.skipAnimations)&&(v=!0,Cy(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,v&&!l&&e.get()!==void 0){const E=Q5(y.keyframes,d);if(E!==void 0){xt.update(()=>{y.onUpdate(E),y.onComplete()});return}}return d.isSync?new r0(y):new U5(y)},JC=new Set(["width","height","top","left","right","bottom",...Ol]),Jw=30,X5=t=>!isNaN(parseFloat(t));class W5{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Mn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Mn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=X5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Qv);const s=this.events[e].add(n);return e==="change"?()=>{s(),xt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Mn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Jw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Jw);return TC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Al(t,e){return new W5(t,e)}function e1(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function u0(t,e,n,s){if(typeof e=="function"){const[a,l]=e1(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=e1(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function yl(t,e,n){const s=t.getProps();return u0(s,e,n!==void 0?n:s.custom,t)}const Ry=t=>Array.isArray(t);function Z5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Al(n))}function J5(t){return Ry(t)?t[t.length-1]||0:t}function e6(t,e){const n=yl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=J5(l[c]);Z5(t,c,d)}}const Rn=t=>!!(t&&t.getVelocity);function t6(t){return!!(Rn(t)&&t.add)}function Iy(t,e){const n=t.getValue("willChange");if(t6(n))return n.add(e);if(!n&&hr.WillChange){const s=new hr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function c0(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const n6="framerAppearId",eR="data-"+c0(n6);function tR(t){return t.props[eR]}function i6({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function nR(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;s&&(l=s);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in d){const v=t.getValue(y,t.latestValues[y]??null),E=d[y];if(E===void 0||p&&i6(p,y))continue;const D={delay:n,...o0(l||{},y)},L=v.get();if(L!==void 0&&!v.isAnimating&&!Array.isArray(E)&&E===L&&!D.velocity)continue;let V=!1;if(window.MotionHandoffAnimation){const B=tR(t);if(B){const q=window.MotionHandoffAnimation(B,y,xt);q!==null&&(D.startTime=q,V=!0)}}Iy(t,y),v.start(l0(y,v,E,t.shouldReduceMotion&&JC.has(y)?{type:!1}:D,t,V));const k=v.animation;k&&m.push(k)}return c&&Promise.all(m).then(()=>{xt.update(()=>{c&&e6(t,c)})}),m}function Dy(t,e,n={}){const s=yl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(nR(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=a;return s6(t,e,m,p,y,v,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,p]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function s6(t,e,n=0,s=0,a=0,l=1,c){const d=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),d.push(Dy(m,e,{...c,delay:n+(typeof s=="function"?0:s)+ZC(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(d)}function r6(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Dy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Dy(t,e,n);else{const a=typeof e=="function"?yl(t,e,n.custom):e;s=Promise.all(nR(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const a6={test:t=>t==="auto",parse:t=>t},iR=t=>e=>e.test(t),sR=[Pl,_e,ws,Yr,M3,k3,a6],t1=t=>sR.find(iR(t));function o6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||bC(t):!0}const l6=new Set(["brightness","contrast","saturate","opacity"]);function u6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Jv)||[];if(!s)return t;const a=n.replace(s,"");let l=l6.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const c6=/\b([a-z-]*)\(.*?\)/gu,Ny={...ma,getAnimatableNone:t=>{const e=t.match(c6);return e?e.map(u6).join(" "):t}},n1={...Pl,transform:Math.round},h6={rotate:Yr,rotateX:Yr,rotateY:Yr,rotateZ:Yr,scale:xf,scaleX:xf,scaleY:xf,scaleZ:xf,skew:Yr,skewX:Yr,skewY:Yr,distance:_e,translateX:_e,translateY:_e,translateZ:_e,x:_e,y:_e,z:_e,perspective:_e,transformPerspective:_e,opacity:_c,originX:Fw,originY:Fw,originZ:_e},h0={borderWidth:_e,borderTopWidth:_e,borderRightWidth:_e,borderBottomWidth:_e,borderLeftWidth:_e,borderRadius:_e,radius:_e,borderTopLeftRadius:_e,borderTopRightRadius:_e,borderBottomRightRadius:_e,borderBottomLeftRadius:_e,width:_e,maxWidth:_e,height:_e,maxHeight:_e,top:_e,right:_e,bottom:_e,left:_e,inset:_e,insetBlock:_e,insetBlockStart:_e,insetBlockEnd:_e,insetInline:_e,insetInlineStart:_e,insetInlineEnd:_e,padding:_e,paddingTop:_e,paddingRight:_e,paddingBottom:_e,paddingLeft:_e,paddingBlock:_e,paddingBlockStart:_e,paddingBlockEnd:_e,paddingInline:_e,paddingInlineStart:_e,paddingInlineEnd:_e,margin:_e,marginTop:_e,marginRight:_e,marginBottom:_e,marginLeft:_e,marginBlock:_e,marginBlockStart:_e,marginBlockEnd:_e,marginInline:_e,marginInlineStart:_e,marginInlineEnd:_e,backgroundPositionX:_e,backgroundPositionY:_e,...h6,zIndex:n1,fillOpacity:_c,strokeOpacity:_c,numOctaves:n1},f6={...h0,color:Jt,backgroundColor:Jt,outlineColor:Jt,fill:Jt,stroke:Jt,borderColor:Jt,borderTopColor:Jt,borderRightColor:Jt,borderBottomColor:Jt,borderLeftColor:Jt,filter:Ny,WebkitFilter:Ny},rR=t=>f6[t];function aR(t,e){let n=rR(t);return n!==Ny&&(n=ma),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const d6=new Set(["auto","none","0"]);function m6(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!d6.has(l)&&bc(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=aR(n,a)}class p6 extends a0{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let v=e[y];if(typeof v=="string"&&(v=v.trim(),Zv(v))){const E=WC(v,n.current);E!==void 0&&(e[y]=E),y===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!JC.has(s)||e.length!==2)return;const[a,l]=e,c=t1(a),d=t1(l),m=Bw(a),p=Bw(l);if(m!==p&&ea[s]){this.needsMeasurement=!0;return}if(c!==d)if(Xw(c)&&Xw(d))for(let y=0;y<e.length;y++){const v=e[y];typeof v=="string"&&(e[y]=parseFloat(v))}else ea[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||o6(e[a]))&&s.push(a);s.length&&m6(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ea[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=ea[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function g6(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const oR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function lR(t){return _C(t)&&"offsetHeight"in t}const{schedule:f0}=kC(queueMicrotask,!1),Fi={x:!1,y:!1};function uR(){return Fi.x||Fi.y}function y6(t){return t==="x"||t==="y"?Fi[t]?null:(Fi[t]=!0,()=>{Fi[t]=!1}):Fi.x||Fi.y?null:(Fi.x=Fi.y=!0,()=>{Fi.x=Fi.y=!1})}function cR(t,e){const n=g6(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function i1(t){return!(t.pointerType==="touch"||uR())}function v6(t,e,n={}){const[s,a,l]=cR(t,n),c=d=>{if(!i1(d))return;const{target:m}=d,p=e(m,d);if(typeof p!="function"||!m)return;const y=v=>{i1(v)&&(p(v),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const hR=(t,e)=>e?t===e?!0:hR(t,e.parentElement):!1,d0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,_6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function fR(t){return _6.has(t.tagName)||t.isContentEditable===!0}const qf=new WeakSet;function s1(t){return e=>{e.key==="Enter"&&t(e)}}function Ig(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const b6=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=s1(()=>{if(qf.has(n))return;Ig(n,"down");const a=s1(()=>{Ig(n,"up")}),l=()=>Ig(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function r1(t){return d0(t)&&!uR()}function T6(t,e,n={}){const[s,a,l]=cR(t,n),c=d=>{const m=d.currentTarget;if(!r1(d))return;qf.add(m);const p=e(m,d),y=(D,L)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",E),qf.has(m)&&qf.delete(m),r1(D)&&typeof p=="function"&&p(D,{success:L})},v=D=>{y(D,m===window||m===document||n.useGlobalTarget||hR(m,D.target))},E=D=>{y(D,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",E,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),lR(d)&&(d.addEventListener("focus",p=>b6(p,a)),!fR(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function dR(t){return _C(t)&&"ownerSVGElement"in t}function E6(t){return dR(t)&&t.tagName==="svg"}const w6=[...sR,Jt,ma],S6=t=>w6.find(iR(t)),a1=()=>({translate:0,scale:1,origin:0,originPoint:0}),ul=()=>({x:a1(),y:a1()}),o1=()=>({min:0,max:0}),an=()=>({x:o1(),y:o1()}),ky={current:null},mR={current:!1},x6=typeof window<"u";function A6(){if(mR.current=!0,!!x6)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ky.current=t.matches;t.addEventListener("change",e),e()}else ky.current=!1}const C6=new WeakMap;function im(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Tc(t){return typeof t=="string"||Array.isArray(t)}const m0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],p0=["initial",...m0];function sm(t){return im(t.animate)||p0.some(e=>Tc(t[e]))}function pR(t){return!!(sm(t)||t.variants)}function R6(t,e,n){for(const s in e){const a=e[s],l=n[s];if(Rn(a))t.addValue(s,a);else if(Rn(l))t.addValue(s,Al(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,Al(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const l1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let wd={};function gR(t){wd=t}function I6(){return wd}class D6{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=a0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Mn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,xt.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=sm(n),this.isVariantNode=pR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in v){const D=v[E];m[E]!==void 0&&Rn(D)&&D.set(m[E])}}mount(e){this.current=e,C6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(mR.current||A6(),this.shouldReduceMotion=ky.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),da(this.notifyUpdate),da(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ll.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&xt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in wd){const n=wd[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):an()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<l1.length;s++){const a=l1[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=R6(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Al(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(vC(s)||bC(s))?s=parseFloat(s):!S6(s)&&ma.test(n)&&(s=aR(e,n)),this.setBaseTarget(e,Rn(s)?s.get():s)),Rn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=u0(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Rn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Qv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){f0.render(this.render)}}class _a{constructor(e){this.isMounted=!1,this.node=e}update(){}}class yR extends D6{constructor(){super(...arguments),this.KeyframeResolver=p6}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Rn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function vR({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function N6({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function k6(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Dg(t){return t===void 0||t===1}function My({scale:t,scaleX:e,scaleY:n}){return!Dg(t)||!Dg(e)||!Dg(n)}function Za(t){return My(t)||_R(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function _R(t){return u1(t.x)||u1(t.y)}function u1(t){return t&&t!=="0%"}function Sd(t,e,n){const s=t-n,a=e*s;return n+a}function c1(t,e,n,s,a){return a!==void 0&&(t=Sd(t,a,s)),Sd(t,n,s)+e}function Vy(t,e=0,n=1,s,a){t.min=c1(t.min,e,n,s,a),t.max=c1(t.max,e,n,s,a)}function bR(t,{x:e,y:n}){Vy(t.x,e.translate,e.scale,e.originPoint),Vy(t.y,n.translate,n.scale,n.originPoint)}const h1=.999999999999,f1=1.0000000000001;function M6(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&hl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,bR(t,c)),s&&Za(l.latestValues)&&hl(t,l.latestValues))}e.x<f1&&e.x>h1&&(e.x=1),e.y<f1&&e.y>h1&&(e.y=1)}function cl(t,e){t.min=t.min+e,t.max=t.max+e}function d1(t,e,n,s,a=.5){const l=kt(t.min,t.max,a);Vy(t,e,n,l,s)}function hl(t,e){d1(t.x,e.x,e.scaleX,e.scale,e.originX),d1(t.y,e.y,e.scaleY,e.scale,e.originY)}function TR(t,e){return vR(k6(t.getBoundingClientRect(),e))}function V6(t,e,n){const s=TR(t,n),{scroll:a}=e;return a&&(cl(s.x,a.offset.x),cl(s.y,a.offset.y)),s}const P6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},O6=Ol.length;function L6(t,e,n){let s="",a=!0;for(let l=0;l<O6;l++){const c=Ol[l],d=t[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const p=oR(d,h0[c]);if(!m){a=!1;const y=P6[c]||c;s+=`${y}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function g0(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,d=!1;for(const m in e){const p=e[m];if(Ll.has(m)){c=!0;continue}else if(VC(m)){a[m]=p;continue}else{const y=oR(p,h0[m]);m.startsWith("origin")?(d=!0,l[m]=y):s[m]=y}}if(e.transform||(c||n?s.transform=L6(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}function ER(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function m1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Hu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(_e.test(t))t=parseFloat(t);else return t;const n=m1(t,e.target.x),s=m1(t,e.target.y);return`${n}% ${s}%`}},j6={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=ma.parse(t);if(a.length>5)return s;const l=ma.createTransformer(t),c=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=d,a[1+c]/=m;const p=kt(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}},Py={borderRadius:{...Hu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Hu,borderTopRightRadius:Hu,borderBottomLeftRadius:Hu,borderBottomRightRadius:Hu,boxShadow:j6};function wR(t,{layout:e,layoutId:n}){return Ll.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Py[t]||t==="opacity")}function y0(t,e,n){const s=t.style,a=e?.style,l={};if(!s)return l;for(const c in s)(Rn(s[c])||a&&Rn(a[c])||wR(c,t)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=s[c]);return l}function U6(t){return window.getComputedStyle(t)}class z6 extends yR{constructor(){super(...arguments),this.type="html",this.renderInstance=ER}readValueFromInstance(e,n){if(Ll.has(n))return this.projection?.isProjecting?Ey(n):g5(e,n);{const s=U6(e),a=(VC(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return TR(e,n)}build(e,n,s){g0(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return y0(e,n,s)}}const B6={offset:"stroke-dashoffset",array:"stroke-dasharray"},F6={offset:"strokeDashoffset",array:"strokeDasharray"};function H6(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?B6:F6;t[l.offset]=_e.transform(-s);const c=_e.transform(e),d=_e.transform(n);t[l.array]=`${c} ${d}`}const q6=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function SR(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,p,y){if(g0(t,d,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:E}=t;v.transform&&(E.transform=v.transform,delete v.transform),(E.transform||v.transformOrigin)&&(E.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete v.transformBox);for(const D of q6)v[D]!==void 0&&(E[D]=v[D],delete v[D]);e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),a!==void 0&&H6(v,a,l,c,!1)}const xR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),AR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function G6(t,e,n,s){ER(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(xR.has(a)?a:c0(a),e.attrs[a])}function CR(t,e,n){const s=y0(t,e,n);for(const a in t)if(Rn(t[a])||Rn(e[a])){const l=Ol.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}class K6 extends yR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=an}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ll.has(n)){const s=rR(n);return s&&s.default||0}return n=xR.has(n)?n:c0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return CR(e,n,s)}build(e,n,s){SR(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){G6(e,n,s,a)}mount(e){this.isSVGTag=AR(e.tagName),super.mount(e)}}const $6=p0.length;function RR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?RR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<$6;n++){const s=p0[n],a=t.props[s];(Tc(a)||a===!1)&&(e[s]=a)}return e}function IR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const Y6=[...m0].reverse(),Q6=m0.length;function X6(t){return e=>Promise.all(e.map(({animation:n,options:s})=>r6(t,n,s)))}function W6(t){let e=X6(t),n=p1(),s=!0;const a=m=>(p,y)=>{const v=yl(t,y,m==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:E,transitionEnd:D,...L}=v;p={...p,...L,...D}}return p};function l(m){e=m(t)}function c(m){const{props:p}=t,y=RR(t.parent)||{},v=[],E=new Set;let D={},L=1/0;for(let k=0;k<Q6;k++){const B=Y6[k],q=n[B],H=p[B]!==void 0?p[B]:y[B],ue=Tc(H),ae=B===m?q.isActive:null;ae===!1&&(L=k);let me=H===y[B]&&H!==p[B]&&ue;if(me&&s&&t.manuallyAnimateOnMount&&(me=!1),q.protectedKeys={...D},!q.isActive&&ae===null||!H&&!q.prevProp||im(H)||typeof H=="boolean")continue;const R=Z6(q.prevProp,H);let w=R||B===m&&q.isActive&&!me&&ue||k>L&&ue,C=!1;const N=Array.isArray(H)?H:[H];let M=N.reduce(a(B),{});ae===!1&&(M={});const{prevResolvedValues:U={}}=q,O={...U,...M},He=he=>{w=!0,E.has(he)&&(C=!0,E.delete(he)),q.needsAnimating[he]=!0;const re=t.getValue(he);re&&(re.liveStyle=!1)};for(const he in O){const re=M[he],De=U[he];if(D.hasOwnProperty(he))continue;let F=!1;Ry(re)&&Ry(De)?F=!IR(re,De):F=re!==De,F?re!=null?He(he):E.add(he):re!==void 0&&E.has(he)?He(he):q.protectedKeys[he]=!0}q.prevProp=H,q.prevResolvedValues=M,q.isActive&&(D={...D,...M}),s&&t.blockInitialAnimation&&(w=!1);const Ke=me&&R;w&&(!Ke||C)&&v.push(...N.map(he=>{const re={type:B};if(typeof he=="string"&&s&&!Ke&&t.manuallyAnimateOnMount&&t.parent){const{parent:De}=t,F=yl(De,he);if(De.enteringChildren&&F){const{delayChildren:S}=F.transition||{};re.delay=ZC(De.enteringChildren,t,S)}}return{animation:he,options:re}}))}if(E.size){const k={};if(typeof p.initial!="boolean"){const B=yl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);B&&B.transition&&(k.transition=B.transition)}E.forEach(B=>{const q=t.getBaseTarget(B),H=t.getValue(B);H&&(H.liveStyle=!0),k[B]=q??null}),v.push({animation:k})}let V=!!v.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(V=!1),s=!1,V?e(v):Promise.resolve()}function d(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(m,p)),n[m].isActive=p;const y=c(m);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=p1()}}}function Z6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!IR(e,t):!1}function Ya(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function p1(){return{animate:Ya(!0),whileInView:Ya(),whileHover:Ya(),whileTap:Ya(),whileDrag:Ya(),whileFocus:Ya(),exit:Ya()}}const DR=1e-4,J6=1-DR,ej=1+DR,NR=.01,tj=0-NR,nj=0+NR;function Vn(t){return t.max-t.min}function ij(t,e,n){return Math.abs(t-e)<=n}function g1(t,e,n,s=.5){t.origin=s,t.originPoint=kt(e.min,e.max,t.origin),t.scale=Vn(n)/Vn(e),t.translate=kt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=J6&&t.scale<=ej||isNaN(t.scale))&&(t.scale=1),(t.translate>=tj&&t.translate<=nj||isNaN(t.translate))&&(t.translate=0)}function oc(t,e,n,s){g1(t.x,e.x,n.x,s?s.originX:void 0),g1(t.y,e.y,n.y,s?s.originY:void 0)}function y1(t,e,n){t.min=n.min+e.min,t.max=t.min+Vn(e)}function sj(t,e,n){y1(t.x,e.x,n.x),y1(t.y,e.y,n.y)}function v1(t,e,n){t.min=e.min-n.min,t.max=t.min+Vn(e)}function xd(t,e,n){v1(t.x,e.x,n.x),v1(t.y,e.y,n.y)}function _1(t,e,n,s,a){return t-=e,t=Sd(t,1/n,s),a!==void 0&&(t=Sd(t,1/a,s)),t}function rj(t,e=0,n=1,s=.5,a,l=t,c=t){if(ws.test(e)&&(e=parseFloat(e),e=kt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=kt(l.min,l.max,s);t===l&&(d-=e),t.min=_1(t.min,e,n,d,a),t.max=_1(t.max,e,n,d,a)}function b1(t,e,[n,s,a],l,c){rj(t,e[n],e[s],e[a],e.scale,l,c)}const aj=["x","scaleX","originX"],oj=["y","scaleY","originY"];function T1(t,e,n,s){b1(t.x,e,aj,n?n.x:void 0,s?s.x:void 0),b1(t.y,e,oj,n?n.y:void 0,s?s.y:void 0)}function E1(t,e){t.min=e.min,t.max=e.max}function Bi(t,e){E1(t.x,e.x),E1(t.y,e.y)}function w1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function S1(t){return t.translate===0&&t.scale===1}function kR(t){return S1(t.x)&&S1(t.y)}function x1(t,e){return t.min===e.min&&t.max===e.max}function lj(t,e){return x1(t.x,e.x)&&x1(t.y,e.y)}function A1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function MR(t,e){return A1(t.x,e.x)&&A1(t.y,e.y)}function C1(t){return Vn(t.x)/Vn(t.y)}function R1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function bi(t){return[t("x"),t("y")]}function uj(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:E,skewX:D,skewY:L}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),v&&(s+=`rotateX(${v}deg) `),E&&(s+=`rotateY(${E}deg) `),D&&(s+=`skewX(${D}deg) `),L&&(s+=`skewY(${L}deg) `)}const d=t.x.scale*e.x,m=t.y.scale*e.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const VR=["TopLeft","TopRight","BottomLeft","BottomRight"],cj=VR.length,I1=t=>typeof t=="string"?parseFloat(t):t,D1=t=>typeof t=="number"||_e.test(t);function hj(t,e,n,s,a,l){a?(t.opacity=kt(0,n.opacity??1,fj(s)),t.opacityExit=kt(e.opacity??1,0,dj(s))):l&&(t.opacity=kt(e.opacity??1,n.opacity??1,s));for(let c=0;c<cj;c++){const d=`border${VR[c]}Radius`;let m=N1(e,d),p=N1(n,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||D1(m)===D1(p)?(t[d]=Math.max(kt(I1(m),I1(p),s),0),(ws.test(p)||ws.test(m))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=kt(e.rotate||0,n.rotate||0,s))}function N1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const fj=PR(0,.5,RC),dj=PR(.5,.95,xi);function PR(t,e,n){return s=>s<t?0:s>e?1:n(vc(t,e,s))}function mj(t,e){const n=Mn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(da(s),t(l-e))};return xt.setup(s,!0),()=>da(s)}function Ec(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Gf(t){return Rn(t)?t.get():t}function pj(t,e,n){const s=Rn(t)?t:Al(t);return s.start(l0("",s,e,n)),s.animation}const gj=(t,e)=>t.depth-e.depth;class yj{constructor(){this.children=[],this.isDirty=!1}add(e){Gv(this.children,e),this.isDirty=!0}remove(e){Kv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(gj),this.isDirty=!1,this.children.forEach(e)}}class vj{constructor(){this.members=[]}add(e){Gv(this.members,e),e.scheduleRender()}remove(e){if(Kv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Kf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Ng=["","X","Y","Z"],_j=1e3;let bj=0;function kg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function OR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=tR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",xt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&OR(s)}function LR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=e?.()){this.id=bj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(wj),this.nodes.forEach(Cj),this.nodes.forEach(Rj),this.nodes.forEach(Sj)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new yj)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Qv),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=dR(c)&&!E6(c),this.instance=c;const{layoutId:d,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),t){let y,v=0;const E=()=>this.root.updateBlockedByResize=!1;xt.read(()=>{v=window.innerWidth}),t(c,()=>{const D=window.innerWidth;D!==v&&(v=D,this.root.updateBlockedByResize=!0,y&&y(),y=mj(E,250),Kf.hasAnimatedSinceResize&&(Kf.hasAnimatedSinceResize=!1,this.nodes.forEach(V1)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:E,layout:D})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=this.options.transition||p.getDefaultTransition()||Mj,{onLayoutAnimationStart:V,onLayoutAnimationComplete:k}=p.getProps(),B=!this.targetLayout||!MR(this.targetLayout,D),q=!v&&E;if(this.options.layoutRoot||this.resumeFrom||q||v&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const H={...o0(L,"layout"),onPlay:V,onComplete:k};(p.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H),this.setAnimationOrigin(y,q)}else v||V1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=D})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),da(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ij),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&OR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(k1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(M1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Aj),this.nodes.forEach(Tj),this.nodes.forEach(Ej)):this.nodes.forEach(M1),this.clearAllSnapshots();const d=Mn.now();Tn.delta=Rs(0,1e3/60,d-Tn.timestamp),Tn.timestamp=d,Tn.isProcessing=!0,wg.update.process(Tn),wg.preRender.process(Tn),wg.render.process(Tn),Tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,f0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xj),this.sharedNodes.forEach(Dj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Vn(this.snapshot.measuredBox.x)&&!Vn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=an(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!kR(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||Za(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),Vj(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return an();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Pj))){const{scroll:p}=this.root;p&&(cl(d.x,p.offset.x),cl(d.y,p.offset.y))}return d}removeElementScroll(c){const d=an();if(Bi(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Bi(d,c),cl(d.x,y.offset.x),cl(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const m=an();Bi(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&hl(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Za(y.latestValues)&&hl(m,y.latestValues)}return Za(this.latestValues)&&hl(m,this.latestValues),m}removeTransform(c){const d=an();Bi(d,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Za(p.latestValues))continue;My(p.latestValues)&&p.updateSnapshot();const y=an(),v=p.measurePageBox();Bi(y,v),T1(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Za(this.latestValues)&&T1(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=Tn.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=an(),this.targetWithTransforms=an()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bi(this.target,this.layout.layoutBox),bR(this.target,this.targetDelta)):Bi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||My(this.parent.latestValues)||_R(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=an(),this.relativeTargetOrigin=an(),xd(this.relativeTargetOrigin,d,m),Bi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Tn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Bi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,E=this.treeScale.y;M6(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=an());const{target:D}=c;if(!D){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(w1(this.prevProjectionDelta.x,this.projectionDelta.x),w1(this.prevProjectionDelta.y,this.projectionDelta.y)),oc(this.projectionDelta,this.layoutCorrected,D,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==E||!R1(this.projectionDelta.x,this.prevProjectionDelta.x)||!R1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",D))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ul(),this.projectionDelta=ul(),this.projectionDeltaWithTransform=ul()}setAnimationOrigin(c,d=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},v=ul();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const E=an(),D=m?m.source:void 0,L=this.layout?this.layout.source:void 0,V=D!==L,k=this.getStack(),B=!k||k.members.length<=1,q=!!(V&&!B&&this.options.crossfade===!0&&!this.path.some(kj));this.animationProgress=0;let H;this.mixTargetDelta=ue=>{const ae=ue/1e3;P1(v.x,c.x,ae),P1(v.y,c.y,ae),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xd(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Nj(this.relativeTarget,this.relativeTargetOrigin,E,ae),H&&lj(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=an()),Bi(H,this.relativeTarget)),V&&(this.animationValues=y,hj(y,p,this.latestValues,ae,q,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ae},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(da(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xt.update(()=>{Kf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Al(0)),this.currentAnimation=pj(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_j),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:y}=c;if(!(!d||!m||!p)){if(this!==c&&this.layout&&p&&jR(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||an();const v=Vn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+v;const E=Vn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+E}Bi(d,m),hl(d,y),oc(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new vj),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&kg("z",c,p,this.animationValues);for(let y=0;y<Ng.length;y++)kg(`rotate${Ng[y]}`,c,p,this.animationValues),kg(`skew${Ng[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Gf(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Gf(d?.pointerEvents)||""),this.hasProjected&&!Za(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=uj(this.projectionDeltaWithTransform,this.treeScale,y);m&&(v=m(y,v)),c.transform=v;const{x:E,y:D}=this.projectionDelta;c.transformOrigin=`${E.origin*100}% ${D.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const L in Py){if(y[L]===void 0)continue;const{correct:V,applyTo:k,isCSSVariable:B}=Py[L],q=v==="none"?y[L]:V(y[L],p);if(k){const H=k.length;for(let ue=0;ue<H;ue++)c[k[ue]]=q}else B?this.options.visualElement.renderState.vars[L]=q:c[L]=q}this.options.layoutId&&(c.pointerEvents=p===this?Gf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(k1),this.root.sharedNodes.clear()}}}function Tj(t){t.updateLayout()}function Ej(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?bi(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],E=Vn(v);v.min=n[y].min,v.max=v.min+E}):jR(a,e.layoutBox,n)&&bi(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],E=Vn(n[y]);v.max=v.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+E)});const c=ul();oc(c,n,e.layoutBox);const d=ul();l?oc(d,t.applyTransform(s,!0),e.measuredBox):oc(d,n,e.layoutBox);const m=!kR(c);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:E}=y;if(v&&E){const D=an();xd(D,e.layoutBox,v.layoutBox);const L=an();xd(L,n,E.layoutBox),MR(D,L)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=L,t.relativeTargetOrigin=D,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function wj(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Sj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function xj(t){t.clearSnapshot()}function k1(t){t.clearMeasurements()}function M1(t){t.isLayoutDirty=!1}function Aj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function V1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Cj(t){t.resolveTargetDelta()}function Rj(t){t.calcProjection()}function Ij(t){t.resetSkewAndRotation()}function Dj(t){t.removeLeadSnapshot()}function P1(t,e,n){t.translate=kt(e.translate,0,n),t.scale=kt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function O1(t,e,n,s){t.min=kt(e.min,n.min,s),t.max=kt(e.max,n.max,s)}function Nj(t,e,n,s){O1(t.x,e.x,n.x,s),O1(t.y,e.y,n.y,s)}function kj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Mj={duration:.45,ease:[.4,0,.1,1]},L1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),j1=L1("applewebkit/")&&!L1("chrome/")?Math.round:xi;function U1(t){t.min=j1(t.min),t.max=j1(t.max)}function Vj(t){U1(t.x),U1(t.y)}function jR(t,e,n){return t==="position"||t==="preserve-aspect"&&!ij(C1(e),C1(n),.2)}function Pj(t){return t!==t.root&&t.scroll?.wasRoot}const Oj=LR({attachResizeListener:(t,e)=>Ec(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mg={current:void 0},UR=LR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Mg.current){const t=new Oj({});t.mount(window),t.setOptions({layoutScroll:!0}),Mg.current=t}return Mg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),v0=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function z1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Lj(...t){return e=>{let n=!1;const s=t.map(a=>{const l=z1(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():z1(t[a],null)}}}}function jj(...t){return P.useCallback(Lj(...t),t)}class Uj extends P.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=lR(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function zj({children:t,isPresent:e,anchorX:n,root:s}){const a=P.useId(),l=P.useRef(null),c=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=P.useContext(v0),m=t.props?.ref??t?.ref,p=jj(l,m);return P.useInsertionEffect(()=>{const{width:y,height:v,top:E,left:D,right:L}=c.current;if(e||!l.current||!y||!v)return;const V=n==="left"?`left: ${D}`:`right: ${L}`;l.current.dataset.motionPopId=a;const k=document.createElement("style");d&&(k.nonce=d);const B=s??document.head;return B.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${v}px !important;
            ${V}px !important;
            top: ${E}px !important;
          }
        `),()=>{B.contains(k)&&B.removeChild(k)}},[e]),x.jsx(Uj,{isPresent:e,childRef:l,sizeRef:c,children:P.cloneElement(t,{ref:p})})}const Bj=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d,root:m})=>{const p=qv(Fj),y=P.useId();let v=!0,E=P.useMemo(()=>(v=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:D=>{p.set(D,!0);for(const L of p.values())if(!L)return;s&&s()},register:D=>(p.set(D,!1),()=>p.delete(D))}),[n,p,s]);return l&&v&&(E={...E}),P.useMemo(()=>{p.forEach((D,L)=>p.set(L,!1))},[n]),P.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),c==="popLayout"&&(t=x.jsx(zj,{isPresent:n,anchorX:d,root:m,children:t})),x.jsx(nm.Provider,{value:E,children:t})};function Fj(){return new Map}function zR(t=!0){const e=P.useContext(nm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=P.useId();P.useEffect(()=>{if(t)return a(l)},[t]);const c=P.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const Af=t=>t.key||"";function B1(t){const e=[];return P.Children.forEach(t,n=>{P.isValidElement(n)&&e.push(n)}),e}const vs=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:m})=>{const[p,y]=zR(c),v=P.useMemo(()=>B1(t),[t]),E=c&&!p?[]:v.map(Af),D=P.useRef(!0),L=P.useRef(v),V=qv(()=>new Map),k=P.useRef(new Set),[B,q]=P.useState(v),[H,ue]=P.useState(v);yC(()=>{D.current=!1,L.current=v;for(let R=0;R<H.length;R++){const w=Af(H[R]);E.includes(w)?(V.delete(w),k.current.delete(w)):V.get(w)!==!0&&V.set(w,!1)}},[H,E.length,E.join("-")]);const ae=[];if(v!==B){let R=[...v];for(let w=0;w<H.length;w++){const C=H[w],N=Af(C);E.includes(N)||(R.splice(w,0,C),ae.push(C))}return l==="wait"&&ae.length&&(R=ae),ue(B1(R)),q(v),null}const{forceRender:me}=P.useContext(Hv);return x.jsx(x.Fragment,{children:H.map(R=>{const w=Af(R),C=c&&!p?!1:v===H||E.includes(w),N=()=>{if(k.current.has(w))return;if(k.current.add(w),V.has(w))V.set(w,!0);else return;let M=!0;V.forEach(U=>{U||(M=!1)}),M&&(me?.(),ue(L.current),c&&y?.(),s&&s())};return x.jsx(Bj,{isPresent:C,initial:!D.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:C?void 0:N,anchorX:d,children:R},w)})})},BR=P.createContext({strict:!1}),F1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let H1=!1;function Hj(){if(H1)return;const t={};for(const e in F1)t[e]={isEnabled:n=>F1[e].some(s=>!!n[s])};gR(t),H1=!0}function FR(){return Hj(),I6()}function qj(t){const e=FR();for(const n in t)e[n]={...e[n],...t[n]};gR(e)}const Gj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ad(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Gj.has(t)}let HR=t=>!Ad(t);function Kj(t){typeof t=="function"&&(HR=e=>e.startsWith("on")?!Ad(e):t(e))}try{Kj(require("@emotion/is-prop-valid").default)}catch{}function $j(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(HR(a)||n===!0&&Ad(a)||!e&&!Ad(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const rm=P.createContext({});function Yj(t,e){if(sm(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Tc(n)?n:void 0,animate:Tc(s)?s:void 0}}return t.inherit!==!1?e:{}}function Qj(t){const{initial:e,animate:n}=Yj(t,P.useContext(rm));return P.useMemo(()=>({initial:e,animate:n}),[q1(e),q1(n)])}function q1(t){return Array.isArray(t)?t.join(" "):t}const _0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qR(t,e,n){for(const s in e)!Rn(e[s])&&!wR(s,n)&&(t[s]=e[s])}function Xj({transformTemplate:t},e){return P.useMemo(()=>{const n=_0();return g0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Wj(t,e){const n=t.style||{},s={};return qR(s,n,t),Object.assign(s,Xj(t,e)),s}function Zj(t,e){const n={},s=Wj(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const GR=()=>({..._0(),attrs:{}});function Jj(t,e,n,s){const a=P.useMemo(()=>{const l=GR();return SR(l,e,AR(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};qR(l,t.style,t),a.style={...l,...a.style}}return a}const eU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function b0(t){return typeof t!="string"||t.includes("-")?!1:!!(eU.indexOf(t)>-1||/[A-Z]/u.test(t))}function tU(t,e,n,{latestValues:s},a,l=!1,c){const m=(c??b0(t)?Jj:Zj)(e,s,a,t),p=$j(e,typeof t=="string",l),y=t!==P.Fragment?{...p,...m,ref:n}:{},{children:v}=e,E=P.useMemo(()=>Rn(v)?v.get():v,[v]);return P.createElement(t,{...y,children:E})}function nU({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:iU(n,s,a,t),renderState:e()}}function iU(t,e,n,s){const a={},l=s(t,{});for(const E in l)a[E]=Gf(l[E]);let{initial:c,animate:d}=t;const m=sm(t),p=pR(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const v=y?d:c;if(v&&typeof v!="boolean"&&!im(v)){const E=Array.isArray(v)?v:[v];for(let D=0;D<E.length;D++){const L=u0(t,E[D]);if(L){const{transitionEnd:V,transition:k,...B}=L;for(const q in B){let H=B[q];if(Array.isArray(H)){const ue=y?H.length-1:0;H=H[ue]}H!==null&&(a[q]=H)}for(const q in V)a[q]=V[q]}}}return a}const KR=t=>(e,n)=>{const s=P.useContext(rm),a=P.useContext(nm),l=()=>nU(t,e,s,a);return n?l():qv(l)},sU=KR({scrapeMotionValuesFromProps:y0,createRenderState:_0}),rU=KR({scrapeMotionValuesFromProps:CR,createRenderState:GR}),aU=Symbol.for("motionComponentSymbol");function oU(t,e,n){const s=P.useRef(n);P.useInsertionEffect(()=>{s.current=n});const a=P.useRef(null);return P.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const c=s.current;if(typeof c=="function")if(l){const d=c(l);typeof d=="function"&&(a.current=d)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[e])}const $R=P.createContext({});function Xu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function lU(t,e,n,s,a,l){const{visualElement:c}=P.useContext(rm),d=P.useContext(BR),m=P.useContext(nm),p=P.useContext(v0).reducedMotion,y=P.useRef(null);s=s||d.renderer,!y.current&&s&&(y.current=s(t,{visualState:e,parent:c,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p,isSVG:l}));const v=y.current,E=P.useContext($R);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&uU(y.current,n,a,E);const D=P.useRef(!1);P.useInsertionEffect(()=>{v&&D.current&&v.update(n,m)});const L=n[eR],V=P.useRef(!!L&&!window.MotionHandoffIsComplete?.(L)&&window.MotionHasOptimisedAnimation?.(L));return yC(()=>{v&&(D.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),V.current&&v.animationState&&v.animationState.animateChanges())}),P.useEffect(()=>{v&&(!V.current&&v.animationState&&v.animationState.animateChanges(),V.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(L)}),V.current=!1),v.enteringChildren=void 0)}),v}function uU(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:YR(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&Xu(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function YR(t){if(t)return t.options.allowProjection!==!1?t.projection:YR(t.parent)}function Vg(t,{forwardMotionProps:e=!1,type:n}={},s,a){s&&qj(s);const l=n?n==="svg":b0(t),c=l?rU:sU;function d(p,y){let v;const E={...P.useContext(v0),...p,layoutId:cU(p)},{isStatic:D}=E,L=Qj(p),V=c(p,D);if(!D&&gC){hU();const k=fU(E);v=k.MeasureLayout,L.visualElement=lU(t,V,E,a,k.ProjectionNode,l)}return x.jsxs(rm.Provider,{value:L,children:[v&&L.visualElement?x.jsx(v,{visualElement:L.visualElement,...E}):null,tU(t,p,oU(V,L.visualElement,y),V,D,e,l)]})}d.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const m=P.forwardRef(d);return m[aU]=t,m}function cU({layoutId:t}){const e=P.useContext(Hv).id;return e&&t!==void 0?e+"-"+t:t}function hU(t,e){P.useContext(BR).strict}function fU(t){const e=FR(),{drag:n,layout:s}=e;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function dU(t,e){if(typeof Proxy>"u")return Vg;const n=new Map,s=(l,c)=>Vg(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Vg(c,void 0,t,e)),n.get(c))})}const mU=(t,e)=>e.isSVG??b0(t)?new K6(e):new z6(e,{allowProjection:t!==P.Fragment});class pU extends _a{constructor(e){super(e),e.animationState||(e.animationState=W6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();im(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let gU=0;class yU extends _a{constructor(){super(...arguments),this.id=gU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const vU={animation:{Feature:pU},exit:{Feature:yU}};function Kc(t){return{point:{x:t.pageX,y:t.pageY}}}const _U=t=>e=>d0(e)&&t(e,Kc(e));function lc(t,e,n,s){return Ec(t,e,_U(n),s)}const QR=({current:t})=>t?t.ownerDocument.defaultView:null,G1=(t,e)=>Math.abs(t-e);function bU(t,e){const n=G1(t.x,e.x),s=G1(t.y,e.y);return Math.sqrt(n**2+s**2)}const K1=new Set(["auto","scroll"]);class XR{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=D=>{this.handleScroll(D.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=Og(this.lastMoveEventInfo,this.history),L=this.startEvent!==null,V=bU(D.offset,{x:0,y:0})>=this.distanceThreshold;if(!L&&!V)return;const{point:k}=D,{timestamp:B}=Tn;this.history.push({...k,timestamp:B});const{onStart:q,onMove:H}=this.handlers;L||(q&&q(this.lastMoveEvent,D),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,D)},this.handlePointerMove=(D,L)=>{this.lastMoveEvent=D,this.lastMoveEventInfo=Pg(L,this.transformPagePoint),xt.update(this.updatePoint,!0)},this.handlePointerUp=(D,L)=>{this.end();const{onEnd:V,onSessionEnd:k,resumeAnimation:B}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const q=Og(D.type==="pointercancel"?this.lastMoveEventInfo:Pg(L,this.transformPagePoint),this.history);this.startEvent&&V&&V(D,q),k&&k(D,q)},!d0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const m=Kc(e),p=Pg(m,this.transformPagePoint),{point:y}=p,{timestamp:v}=Tn;this.history=[{...y,timestamp:v}];const{onSessionStart:E}=n;E&&E(e,Og(p,this.history)),this.removeListeners=Hc(lc(this.contextWindow,"pointermove",this.handlePointerMove),lc(this.contextWindow,"pointerup",this.handlePointerUp),lc(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(K1.has(s.overflowX)||K1.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),xt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),da(this.updatePoint)}}function Pg(t,e){return e?{point:e(t.point)}:t}function $1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Og({point:t},e){return{point:t,delta:$1(t,WR(e)),offset:$1(t,TU(e)),velocity:EU(e,.1)}}function TU(t){return t[0]}function WR(t){return t[t.length-1]}function EU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=WR(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>rr(e)));)n--;if(!s)return{x:0,y:0};const l=Ei(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function wU(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?kt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?kt(n,t,s.max):Math.min(t,n)),t}function Y1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function SU(t,{top:e,left:n,bottom:s,right:a}){return{x:Y1(t.x,n,a),y:Y1(t.y,e,s)}}function Q1(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function xU(t,e){return{x:Q1(t.x,e.x),y:Q1(t.y,e.y)}}function AU(t,e){let n=.5;const s=Vn(t),a=Vn(e);return a>s?n=vc(e.min,e.max-s,t.min):s>a&&(n=vc(t.min,t.max-a,e.min)),Rs(0,1,n)}function CU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Oy=.35;function RU(t=Oy){return t===!1?t=0:t===!0&&(t=Oy),{x:X1(t,"left","right"),y:X1(t,"top","bottom")}}function X1(t,e,n){return{min:W1(t,e),max:W1(t,n)}}function W1(t,e){return typeof t=="number"?t:t[e]||0}const IU=new WeakMap;class DU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=an(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{n?(this.stopAnimation(),this.snapToCursor(Kc(v).point)):this.pauseAnimation()},c=(v,E)=>{this.stopAnimation();const{drag:D,dragPropagation:L,onDragStart:V}=this.getProps();if(D&&!L&&(this.openDragLock&&this.openDragLock(),this.openDragLock=y6(D),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bi(B=>{let q=this.getAxisMotionValue(B).get()||0;if(ws.test(q)){const{projection:H}=this.visualElement;if(H&&H.layout){const ue=H.layout.layoutBox[B];ue&&(q=Vn(ue)*(parseFloat(q)/100))}}this.originPoint[B]=q}),V&&xt.postRender(()=>V(v,E)),Iy(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},d=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E;const{dragPropagation:D,dragDirectionLock:L,onDirectionLock:V,onDrag:k}=this.getProps();if(!D&&!this.openDragLock)return;const{offset:B}=E;if(L&&this.currentDirection===null){this.currentDirection=NU(B),this.currentDirection!==null&&V&&V(this.currentDirection);return}this.updateAxis("x",E.point,B),this.updateAxis("y",E.point,B),this.visualElement.render(),k&&k(v,E)},m=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E,this.stop(v,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>bi(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new XR(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:QR(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&xt.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Cf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=wU(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Xu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=SU(s.layoutBox,e):this.constraints=!1,this.elastic=RU(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&bi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=CU(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Xu(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=V6(s,a.root,this.visualElement.getTransformPagePoint());let c=xU(a.layout.layoutBox,l);if(n){const d=n(N6(c));this.hasMutatedConstraints=!!d,d&&(c=vR(d))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=bi(y=>{if(!Cf(y,n,this.currentDirection))return;let v=m&&m[y]||{};c&&(v={min:0,max:0});const E=a?200:1e6,D=a?40:1e7,L={type:"inertia",velocity:s?e[y]:0,bounceStiffness:E,bounceDamping:D,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,L)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Iy(this.visualElement,e),s.start(l0(e,s,0,n,this.visualElement,!1))}stopAnimation(){bi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){bi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){bi(n=>{const{drag:s}=this.getProps();if(!Cf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n],m=l.get()||0;l.set(e[n]-kt(c,d,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Xu(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};bi(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=AU({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),bi(c=>{if(!Cf(c,e,null))return;const d=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];d.set(kt(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;IU.set(this.visualElement,this);const e=this.visualElement.current,n=lc(e,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&!fR(m.target)&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Xu(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),xt.read(s);const c=Ec(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(bi(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=m[y].translate,v.set(v.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Oy,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Cf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function NU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class kU extends _a{constructor(e){super(e),this.removeGroupControls=xi,this.removeListeners=xi,this.controls=new DU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xi}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const Z1=t=>(e,n)=>{t&&xt.postRender(()=>t(e,n))};class MU extends _a{constructor(){super(...arguments),this.removePointerDownListener=xi}onPointerDown(e){this.session=new XR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:QR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Z1(e),onStart:Z1(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&xt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=lc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Lg=!1;class VU extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Lg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Kf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Lg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||xt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),f0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Lg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ZR(t){const[e,n]=zR(),s=P.useContext(Hv);return x.jsx(VU,{...t,layoutGroup:s,switchLayoutGroup:P.useContext($R),isPresent:e,safeToRemove:n})}const PU={pan:{Feature:MU},drag:{Feature:kU,ProjectionNode:UR,MeasureLayout:ZR}};function J1(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&xt.postRender(()=>l(e,Kc(e)))}class OU extends _a{mount(){const{current:e}=this.node;e&&(this.unmount=v6(e,(n,s)=>(J1(this.node,s,"Start"),a=>J1(this.node,a,"End"))))}unmount(){}}class LU extends _a{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hc(Ec(this.node.current,"focus",()=>this.onFocus()),Ec(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function eS(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&xt.postRender(()=>l(e,Kc(e)))}class jU extends _a{mount(){const{current:e}=this.node;e&&(this.unmount=T6(e,(n,s)=>(eS(this.node,s,"Start"),(a,{success:l})=>eS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ly=new WeakMap,jg=new WeakMap,UU=t=>{const e=Ly.get(t.target);e&&e(t)},zU=t=>{t.forEach(UU)};function BU({root:t,...e}){const n=t||document;jg.has(n)||jg.set(n,{});const s=jg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(zU,{root:t,...e})),s[a]}function FU(t,e,n){const s=BU(e);return Ly.set(t,n),s.observe(t),()=>{Ly.delete(t),s.unobserve(t)}}const HU={some:0,all:1};class qU extends _a{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:HU[a]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),E=p?y:v;E&&E(m)};return FU(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(GU(e,n))&&this.startObserver()}unmount(){}}function GU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const KU={inView:{Feature:qU},tap:{Feature:jU},focus:{Feature:LU},hover:{Feature:OU}},$U={layout:{ProjectionNode:UR,MeasureLayout:ZR}},YU={...vU,...KU,...PU,...$U},yt=dU(YU,mU);const QU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XU=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),tS=t=>{const e=XU(t);return e.charAt(0).toUpperCase()+e.slice(1)},JR=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),WU=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var ZU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const JU=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...d},m)=>P.createElement("svg",{ref:m,...ZU,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:JR("lucide",a),...!l&&!WU(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,y])=>P.createElement(p,y)),...Array.isArray(l)?l:[l]]));const Pt=(t,e)=>{const n=P.forwardRef(({className:s,...a},l)=>P.createElement(JU,{ref:l,iconNode:e,className:JR(`lucide-${QU(tS(t))}`,`lucide-${t}`,s),...a}));return n.displayName=tS(t),n};const e9=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],nS=Pt("award",e9);const t9=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],jy=Pt("book-open",t9);const n9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Uy=Pt("calendar",n9);const i9=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],iS=Pt("camera",i9);const s9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Rf=Pt("check",s9);const r9=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],e2=Pt("chevron-left",r9);const a9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],t2=Pt("chevron-right",a9);const o9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],sS=Pt("circle-alert",o9);const l9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],u9=Pt("circle-check-big",l9);const c9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],h9=Pt("circle-question-mark",c9);const f9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],d9=Pt("clock",f9);const m9=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],n2=Pt("layout-grid",m9);const p9=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],g9=Pt("log-out",p9);const y9=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],v9=Pt("mail",y9);const _9=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],rS=Pt("pen",_9);const b9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],zy=Pt("plus",b9);const T9=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],E9=Pt("printer",T9);const w9=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],aS=Pt("share-2",w9);const S9=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],x9=Pt("shuffle",S9);const A9=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],C9=Pt("sparkles",A9);const R9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],I9=Pt("trash-2",R9);const D9=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],N9=Pt("user",D9);const k9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wc=Pt("x",k9),i2=P.createContext(null),s2=()=>{const t=P.useContext(i2);if(!t)throw new Error("useDialog must be used within a DialogProvider");return t},M9=({children:t})=>{const[e,n]=P.useState({isOpen:!1,type:"alert",options:{message:""},resolve:null}),[s,a]=P.useState(""),[l,c]=P.useState("editor"),d=P.useCallback((L,V)=>new Promise(k=>{a(V.inputDefaultValue||""),c("editor"),n({isOpen:!0,type:L,options:V,resolve:k})}),[]),m=P.useCallback(L=>{e.resolve&&e.resolve(L),n(V=>({...V,isOpen:!1,resolve:null}))},[e.resolve]),p=P.useCallback((L,V)=>d("alert",{message:L,title:"Notice",confirmText:"OK",type:"info",...V}),[d]),y=P.useCallback((L,V)=>d("confirm",{message:L,title:"Confirm",confirmText:"Yes",cancelText:"Cancel",type:"warning",...V}),[d]),v=P.useCallback((L,V)=>d("prompt",{message:L,title:"Input",confirmText:"OK",cancelText:"Cancel",inputPlaceholder:"",...V}),[d]),E=P.useCallback((L,V)=>d("share",{message:L,title:"Share Board",confirmText:"Send Invite",cancelText:"Cancel",showRoleSelector:!0,inputPlaceholder:"Enter email address",...V}),[d]),D=()=>{switch(e.options.type){case"success":return x.jsx(u9,{className:"w-8 h-8 text-green-400"});case"warning":return x.jsx(sS,{className:"w-8 h-8 text-amber-400"});case"error":return x.jsx(sS,{className:"w-8 h-8 text-red-400"});default:return x.jsx(h9,{className:"w-8 h-8 text-accent-primary"})}};return x.jsxs(i2.Provider,{value:{alert:p,confirm:y,prompt:v,sharePrompt:E},children:[t,x.jsx(vs,{children:e.isOpen&&x.jsx(yt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{e.type==="alert"?m(void 0):e.type==="confirm"?m(!1):m(null)},children:x.jsxs(yt.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-slate-900 border border-white/20 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",onClick:L=>L.stopPropagation(),children:[x.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[e.type==="share"?x.jsx(v9,{className:"w-6 h-6 text-accent-primary"}):D(),x.jsx("h3",{className:"text-lg font-bold text-white",children:e.options.title})]}),x.jsx("button",{onClick:()=>{e.type==="alert"?m(void 0):e.type==="confirm"?m(!1):m(null)},className:"p-1 text-slate-400 hover:text-white rounded-full hover:bg-white/10 transition-colors",children:x.jsx(wc,{size:20})})]}),x.jsxs("div",{className:"p-6",children:[x.jsx("p",{className:"text-slate-300 mb-4 whitespace-pre-wrap",children:e.options.message}),(e.type==="prompt"||e.type==="share")&&x.jsx("input",{type:e.type==="share"?"email":"text",autoFocus:!0,value:s,onChange:L=>a(L.target.value),placeholder:e.options.inputPlaceholder,className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors mb-4",onKeyDown:L=>{L.key==="Enter"&&s.trim()&&(e.type==="share"?m({email:s.trim(),role:l}):m(s.trim()))}}),e.type==="share"&&e.options.showRoleSelector&&x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"text-sm font-medium text-slate-400 mb-2 block",children:"Access Level"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>c("viewer"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="viewer"?"bg-accent-primary/20 text-accent-primary border border-accent-primary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Viewer"}),x.jsx("button",{onClick:()=>c("editor"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Editor"})]}),x.jsx("p",{className:"text-xs text-slate-500 mt-2",children:l==="viewer"?"Can view the board but not make changes":"Can view and edit the board"})]})]}),x.jsxs("div",{className:"flex gap-3 p-4 pt-0",children:[e.type!=="alert"&&x.jsx("button",{onClick:()=>{e.type==="confirm"?m(!1):m(null)},className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:e.options.cancelText}),x.jsx("button",{onClick:()=>{e.type==="alert"?m(void 0):e.type==="confirm"?m(!0):e.type==="share"?s.trim()&&m({email:s.trim(),role:l}):m(s.trim()||null)},disabled:(e.type==="prompt"||e.type==="share")&&!s.trim(),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:e.options.confirmText})]})]})})})]})},V9=()=>{const{signIn:t,error:e}=Fc();return x.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-center",children:[x.jsx("div",{className:"background-animation"}),x.jsxs("div",{className:"glass-panel p-8 max-w-md w-full flex flex-col items-center gap-6 animate-fade-in",children:[x.jsxs("div",{className:"flex flex-col items-center gap-2 mb-2",children:[x.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-24 w-auto object-contain drop-shadow-[0_0_15px_rgba(251,191,36,0.3)]"}),x.jsx("div",{className:"rounded-full bg-accent-primary/20 p-2 hidden",children:x.jsx(C9,{className:"w-6 h-6 text-accent-gold animate-pulse"})})]}),x.jsx("h1",{className:"text-4xl font-heading font-bold text-gradient sr-only",children:"SunSar Bingo"}),x.jsxs("p",{className:"text-slate-300 font-light text-lg",children:["Track your goals, share with friends,",x.jsx("br",{}),"and make 2026 your best year yet."]}),e&&x.jsx("div",{className:"bg-red-500/20 text-red-200 px-4 py-2 rounded-lg text-sm border border-red-500/30",children:e}),x.jsx("button",{onClick:t,className:"group relative px-6 py-3 bg-white text-bg-dark font-bold rounded-full transition-all hover:scale-105 hover:shadow-[0_0_20px_rgba(255,255,255,0.3)]",children:x.jsxs("span",{className:"flex items-center gap-2",children:[x.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"G",className:"w-5 h-5"}),"Sign in / Sign up with Google"]})})]}),x.jsx("footer",{className:"absolute bottom-4 text-slate-500 text-xs",children:" 2026 SunSar Bingo  Free & Open Source"})]})};var T0={};(function t(e,n,s,a){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",d=(function(){if(!e.OffscreenCanvas)return!1;try{var F=new OffscreenCanvas(1,1),S=F.getContext("2d");S.fillRect(0,0,1,1);var K=F.transferToImageBitmap();S.createPattern(K,"no-repeat")}catch{return!1}return!0})();function m(){}function p(F){var S=n.exports.Promise,K=S!==void 0?S:e.Promise;return typeof K=="function"?new K(F):(F(m,m),null)}var y=(function(F,S){return{transform:function(K){if(F)return K;if(S.has(K))return S.get(K);var ee=new OffscreenCanvas(K.width,K.height),ie=ee.getContext("2d");return ie.drawImage(K,0,0),S.set(K,ee),ee},clear:function(){S.clear()}}})(d,new Map),v=(function(){var F=Math.floor(16.666666666666668),S,K,ee={},ie=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(S=function(de){var pe=Math.random();return ee[pe]=requestAnimationFrame(function fe(be){ie===be||ie+F-1<be?(ie=be,delete ee[pe],de()):ee[pe]=requestAnimationFrame(fe)}),pe},K=function(de){ee[de]&&cancelAnimationFrame(ee[de])}):(S=function(de){return setTimeout(de,F)},K=function(de){return clearTimeout(de)}),{frame:S,cancel:K}})(),E=(function(){var F,S,K={};function ee(ie){function de(pe,fe){ie.postMessage({options:pe||{},callback:fe})}ie.init=function(fe){var be=fe.transferControlToOffscreen();ie.postMessage({canvas:be},[be])},ie.fire=function(fe,be,xe){if(S)return de(fe,null),S;var Le=Math.random().toString(36).slice(2);return S=p(function(je){function $e(vt){vt.data.callback===Le&&(delete K[Le],ie.removeEventListener("message",$e),S=null,y.clear(),xe(),je())}ie.addEventListener("message",$e),de(fe,Le),K[Le]=$e.bind(null,{data:{callback:Le}})}),S},ie.reset=function(){ie.postMessage({reset:!0});for(var fe in K)K[fe](),delete K[fe]}}return function(){if(F)return F;if(!s&&l){var ie=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{F=new Worker(URL.createObjectURL(new Blob([ie])))}catch(de){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",de),null}ee(F)}return F}})(),D={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function L(F,S){return S?S(F):F}function V(F){return F!=null}function k(F,S,K){return L(F&&V(F[S])?F[S]:D[S],K)}function B(F){return F<0?0:Math.floor(F)}function q(F,S){return Math.floor(Math.random()*(S-F))+F}function H(F){return parseInt(F,16)}function ue(F){return F.map(ae)}function ae(F){var S=String(F).replace(/[^0-9a-f]/gi,"");return S.length<6&&(S=S[0]+S[0]+S[1]+S[1]+S[2]+S[2]),{r:H(S.substring(0,2)),g:H(S.substring(2,4)),b:H(S.substring(4,6))}}function me(F){var S=k(F,"origin",Object);return S.x=k(S,"x",Number),S.y=k(S,"y",Number),S}function R(F){F.width=document.documentElement.clientWidth,F.height=document.documentElement.clientHeight}function w(F){var S=F.getBoundingClientRect();F.width=S.width,F.height=S.height}function C(F){var S=document.createElement("canvas");return S.style.position="fixed",S.style.top="0px",S.style.left="0px",S.style.pointerEvents="none",S.style.zIndex=F,S}function N(F,S,K,ee,ie,de,pe,fe,be){F.save(),F.translate(S,K),F.rotate(de),F.scale(ee,ie),F.arc(0,0,1,pe,fe,be),F.restore()}function M(F){var S=F.angle*(Math.PI/180),K=F.spread*(Math.PI/180);return{x:F.x,y:F.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:F.startVelocity*.5+Math.random()*F.startVelocity,angle2D:-S+(.5*K-Math.random()*K),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:F.color,shape:F.shape,tick:0,totalTicks:F.ticks,decay:F.decay,drift:F.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:F.gravity*3,ovalScalar:.6,scalar:F.scalar,flat:F.flat}}function U(F,S){S.x+=Math.cos(S.angle2D)*S.velocity+S.drift,S.y+=Math.sin(S.angle2D)*S.velocity+S.gravity,S.velocity*=S.decay,S.flat?(S.wobble=0,S.wobbleX=S.x+10*S.scalar,S.wobbleY=S.y+10*S.scalar,S.tiltSin=0,S.tiltCos=0,S.random=1):(S.wobble+=S.wobbleSpeed,S.wobbleX=S.x+10*S.scalar*Math.cos(S.wobble),S.wobbleY=S.y+10*S.scalar*Math.sin(S.wobble),S.tiltAngle+=.1,S.tiltSin=Math.sin(S.tiltAngle),S.tiltCos=Math.cos(S.tiltAngle),S.random=Math.random()+2);var K=S.tick++/S.totalTicks,ee=S.x+S.random*S.tiltCos,ie=S.y+S.random*S.tiltSin,de=S.wobbleX+S.random*S.tiltCos,pe=S.wobbleY+S.random*S.tiltSin;if(F.fillStyle="rgba("+S.color.r+", "+S.color.g+", "+S.color.b+", "+(1-K)+")",F.beginPath(),c&&S.shape.type==="path"&&typeof S.shape.path=="string"&&Array.isArray(S.shape.matrix))F.fill(he(S.shape.path,S.shape.matrix,S.x,S.y,Math.abs(de-ee)*.1,Math.abs(pe-ie)*.1,Math.PI/10*S.wobble));else if(S.shape.type==="bitmap"){var fe=Math.PI/10*S.wobble,be=Math.abs(de-ee)*.1,xe=Math.abs(pe-ie)*.1,Le=S.shape.bitmap.width*S.scalar,je=S.shape.bitmap.height*S.scalar,$e=new DOMMatrix([Math.cos(fe)*be,Math.sin(fe)*be,-Math.sin(fe)*xe,Math.cos(fe)*xe,S.x,S.y]);$e.multiplySelf(new DOMMatrix(S.shape.matrix));var vt=F.createPattern(y.transform(S.shape.bitmap),"no-repeat");vt.setTransform($e),F.globalAlpha=1-K,F.fillStyle=vt,F.fillRect(S.x-Le/2,S.y-je/2,Le,je),F.globalAlpha=1}else if(S.shape==="circle")F.ellipse?F.ellipse(S.x,S.y,Math.abs(de-ee)*S.ovalScalar,Math.abs(pe-ie)*S.ovalScalar,Math.PI/10*S.wobble,0,2*Math.PI):N(F,S.x,S.y,Math.abs(de-ee)*S.ovalScalar,Math.abs(pe-ie)*S.ovalScalar,Math.PI/10*S.wobble,0,2*Math.PI);else if(S.shape==="star")for(var Me=Math.PI/2*3,Et=4*S.scalar,qe=8*S.scalar,Dt=S.x,un=S.y,st=5,tt=Math.PI/st;st--;)Dt=S.x+Math.cos(Me)*qe,un=S.y+Math.sin(Me)*qe,F.lineTo(Dt,un),Me+=tt,Dt=S.x+Math.cos(Me)*Et,un=S.y+Math.sin(Me)*Et,F.lineTo(Dt,un),Me+=tt;else F.moveTo(Math.floor(S.x),Math.floor(S.y)),F.lineTo(Math.floor(S.wobbleX),Math.floor(ie)),F.lineTo(Math.floor(de),Math.floor(pe)),F.lineTo(Math.floor(ee),Math.floor(S.wobbleY));return F.closePath(),F.fill(),S.tick<S.totalTicks}function O(F,S,K,ee,ie){var de=S.slice(),pe=F.getContext("2d"),fe,be,xe=p(function(Le){function je(){fe=be=null,pe.clearRect(0,0,ee.width,ee.height),y.clear(),ie(),Le()}function $e(){s&&!(ee.width===a.width&&ee.height===a.height)&&(ee.width=F.width=a.width,ee.height=F.height=a.height),!ee.width&&!ee.height&&(K(F),ee.width=F.width,ee.height=F.height),pe.clearRect(0,0,ee.width,ee.height),de=de.filter(function(vt){return U(pe,vt)}),de.length?fe=v.frame($e):je()}fe=v.frame($e),be=je});return{addFettis:function(Le){return de=de.concat(Le),xe},canvas:F,promise:xe,reset:function(){fe&&v.cancel(fe),be&&be()}}}function He(F,S){var K=!F,ee=!!k(S||{},"resize"),ie=!1,de=k(S,"disableForReducedMotion",Boolean),pe=l&&!!k(S||{},"useWorker"),fe=pe?E():null,be=K?R:w,xe=F&&fe?!!F.__confetti_initialized:!1,Le=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,je;function $e(Me,Et,qe){for(var Dt=k(Me,"particleCount",B),un=k(Me,"angle",Number),st=k(Me,"spread",Number),tt=k(Me,"startVelocity",Number),wn=k(Me,"decay",Number),fr=k(Me,"gravity",Number),Ns=k(Me,"drift",Number),Nt=k(Me,"colors",ue),Ci=k(Me,"ticks",Number),Ri=k(Me,"shapes"),ks=k(Me,"scalar"),Kn=!!k(Me,"flat"),Qi=me(Me),Ii=Dt,Xi=[],dr=F.width*Qi.x,Dn=F.height*Qi.y;Ii--;)Xi.push(M({x:dr,y:Dn,angle:un,spread:st,startVelocity:tt,color:Nt[Ii%Nt.length],shape:Ri[q(0,Ri.length)],ticks:Ci,decay:wn,gravity:fr,drift:Ns,scalar:ks,flat:Kn}));return je?je.addFettis(Xi):(je=O(F,Xi,be,Et,qe),je.promise)}function vt(Me){var Et=de||k(Me,"disableForReducedMotion",Boolean),qe=k(Me,"zIndex",Number);if(Et&&Le)return p(function(tt){tt()});K&&je?F=je.canvas:K&&!F&&(F=C(qe),document.body.appendChild(F)),ee&&!xe&&be(F);var Dt={width:F.width,height:F.height};fe&&!xe&&fe.init(F),xe=!0,fe&&(F.__confetti_initialized=!0);function un(){if(fe){var tt={getBoundingClientRect:function(){if(!K)return F.getBoundingClientRect()}};be(tt),fe.postMessage({resize:{width:tt.width,height:tt.height}});return}Dt.width=Dt.height=null}function st(){je=null,ee&&(ie=!1,e.removeEventListener("resize",un)),K&&F&&(document.body.contains(F)&&document.body.removeChild(F),F=null,xe=!1)}return ee&&!ie&&(ie=!0,e.addEventListener("resize",un,!1)),fe?fe.fire(Me,Dt,st):$e(Me,Dt,st)}return vt.reset=function(){fe&&fe.reset(),je&&je.reset()},vt}var Ke;function Z(){return Ke||(Ke=He(null,{useWorker:!0,resize:!0})),Ke}function he(F,S,K,ee,ie,de,pe){var fe=new Path2D(F),be=new Path2D;be.addPath(fe,new DOMMatrix(S));var xe=new Path2D;return xe.addPath(be,new DOMMatrix([Math.cos(pe)*ie,Math.sin(pe)*ie,-Math.sin(pe)*de,Math.cos(pe)*de,K,ee])),xe}function re(F){if(!c)throw new Error("path confetti are not supported in this browser");var S,K;typeof F=="string"?S=F:(S=F.path,K=F.matrix);var ee=new Path2D(S),ie=document.createElement("canvas"),de=ie.getContext("2d");if(!K){for(var pe=1e3,fe=pe,be=pe,xe=0,Le=0,je,$e,vt=0;vt<pe;vt+=2)for(var Me=0;Me<pe;Me+=2)de.isPointInPath(ee,vt,Me,"nonzero")&&(fe=Math.min(fe,vt),be=Math.min(be,Me),xe=Math.max(xe,vt),Le=Math.max(Le,Me));je=xe-fe,$e=Le-be;var Et=10,qe=Math.min(Et/je,Et/$e);K=[qe,0,0,qe,-Math.round(je/2+fe)*qe,-Math.round($e/2+be)*qe]}return{type:"path",path:S,matrix:K}}function De(F){var S,K=1,ee="#000000",ie='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof F=="string"?S=F:(S=F.text,K="scalar"in F?F.scalar:K,ie="fontFamily"in F?F.fontFamily:ie,ee="color"in F?F.color:ee);var de=10*K,pe=""+de+"px "+ie,fe=new OffscreenCanvas(de,de),be=fe.getContext("2d");be.font=pe;var xe=be.measureText(S),Le=Math.ceil(xe.actualBoundingBoxRight+xe.actualBoundingBoxLeft),je=Math.ceil(xe.actualBoundingBoxAscent+xe.actualBoundingBoxDescent),$e=2,vt=xe.actualBoundingBoxLeft+$e,Me=xe.actualBoundingBoxAscent+$e;Le+=$e+$e,je+=$e+$e,fe=new OffscreenCanvas(Le,je),be=fe.getContext("2d"),be.font=pe,be.fillStyle=ee,be.fillText(S,vt,Me);var Et=1/K;return{type:"bitmap",bitmap:fe.transferToImageBitmap(),matrix:[Et,0,0,Et,-Le*Et/2,-je*Et/2]}}n.exports=function(){return Z().apply(this,arguments)},n.exports.reset=function(){Z().reset()},n.exports.create=He,n.exports.shapeFromPath=re,n.exports.shapeFromText=De})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),T0,!1);const r2=T0.exports;T0.exports.create;const Qa=(t=1)=>{const e=200*t,n={origin:{y:.7}};function s(a,l){r2(Object.assign({},n,l,{particleCount:Math.floor(e*a)}))}s(.25,{spread:26,startVelocity:55}),s(.2,{spread:60}),s(.35,{spread:100,decay:.91,scalar:.8}),s(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),s(.1,{spread:120,startVelocity:45})},oS={cloudName:"dia6ped7h",uploadPreset:"bingo_proofs"},lS=async t=>{const e=new FormData;e.append("file",t),e.append("upload_preset",oS.uploadPreset),e.append("folder","bingo-proofs");const n=await fetch(`https://api.cloudinary.com/v1_1/${oS.cloudName}/image/upload`,{method:"POST",body:e});if(!n.ok){const a=await n.json();throw console.error("Cloudinary upload error:",a),new Error(a.error?.message||"Failed to upload image")}return(await n.json()).secure_url},P9="2026",O9=25,L9=["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"],j9=t=>{const{user:e}=Fc(),[n,s]=P.useState([]),[a,l]=P.useState(!0),[c,d]=P.useState(!1),[m,p]=P.useState(!1),y=P.useMemo(()=>t?yc(Jr,"boards",t):yc(Jr,"years",P9),[t]),v=R=>{if(!R.length)return;const w=5,C=[];for(let N=0;N<w;N++)C.push(R.slice(N*w,(N+1)*w));for(let N=0;N<w;N++)if(C[N].every(M=>M.isCompleted)){c||(d(!0),Qa(2));return}for(let N=0;N<w;N++)if(C.map(M=>M[N]).every(M=>M.isCompleted)){c||(d(!0),Qa(2));return}if(C.map((N,M)=>N[M]).every(N=>N.isCompleted)){c||(d(!0),Qa(2));return}if(C.map((N,M)=>N[w-1-M]).every(N=>N.isCompleted)){c||(d(!0),Qa(2));return}d(!1)},E=async()=>{const R=[...L9].sort(()=>.5-Math.random()),w=[];let C=0;for(let N=0;N<O9;N++)N===12?w.push({id:N,text:"2026 ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(w.push({id:N,text:R[C],isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),C++);await py(y,{year:2026,items:w,isLocked:!1,createdAt:Fe.now(),lastUpdated:Fe.now(),...e?{ownerId:e.uid,members:{[e.uid]:"owner"}}:{}},{merge:!0})};P.useEffect(()=>{if(!e)return;l(!0);const R=uC(y,w=>{if(w.exists()){const C=w.data();s(C.items||[]),p(C.isLocked||!1),v(C.items||[])}else E();l(!1)},w=>{console.error("Error fetching bingo board:",w),l(!1)});return()=>R()},[y,e]);const D=async R=>{if(!n.length)return;const w=n.map(U=>({...U})),C=w[R];if(C.isFreeSpace)return;const N=C.targetCount||1,M=C.currentCount||0;if(C.isCompleted){const U=Math.max(0,M-1);C.currentCount=U,C.isCompleted=U>=N,U===0&&(C.completedBy=null,C.completedAt=null,C.proofPhotos=[])}else{const U=Math.min(N,M+1);C.currentCount=U,C.isCompleted=U>=N,C.completedBy=e?.displayName||e?.email||"Unknown",C.completedAt=Fe.now(),Qa(.5)}s(w),v(w);try{await gs(y,{items:w,lastUpdated:Fe.now()})}catch(U){console.error("Error updating bingo board:",U)}},L=async R=>{if(!n.length)return;const w=n.map(O=>({...O})),C=w[R];if(C.isFreeSpace)return;const N=C.currentCount||0;if(N<=0)return;const M=C.targetCount||1,U=N-1;C.currentCount=U,C.isCompleted=U>=M,U===0&&(C.completedBy=null,C.completedAt=null,C.proofPhotos=[]),s(w),v(w);try{await gs(y,{items:w,lastUpdated:Fe.now()})}catch(O){console.error("Error decrementing progress:",O)}},V=async(R,w)=>{if(!(!n.length||!e))try{const C=await lS(w),N=n.map(Z=>({...Z})),M=N[R];if(M.isFreeSpace)return;const U=M.targetCount||1,O=M.currentCount||0,He=Math.min(U,O+1);M.currentCount=He,M.isCompleted=He>=U,M.completedBy=e?.displayName||e?.email||"Unknown",M.completedAt=Fe.now();const Ke=M.proofPhotos||[];M.proofPhotos=[...Ke,C],s(N),v(N),Qa(1),await gs(y,{items:N,lastUpdated:Fe.now()})}catch(C){throw console.error("Error completing with photo:",C),C}},k=async(R,w)=>{if(!n.length||!e)return;const C=n[R];!C.isCompleted&&(C.currentCount||0)<(C.targetCount||1);const N=C.proofPhotos||[];if(N.length>=5)throw new Error("Maximum 5 photos allowed per tile");try{const M=await lS(w),U=n.map(O=>({...O}));return U[R].proofPhotos=[...N,M],s(U),Qa(.3),await gs(y,{items:U,lastUpdated:Fe.now()}),M}catch(M){throw console.error("Error adding photo:",M),M}},B=async(R,w)=>{const C=n.map(N=>({...N}));w.text!==void 0&&(C[R].text=w.text),w.style!==void 0&&(C[R].style=w.style),s(C);try{await gs(y,{items:C,lastUpdated:Fe.now()})}catch(N){console.error("Error updating item:",N)}},q=async()=>{const R=[...n],w=R[12],C=[...R.slice(0,12),...R.slice(13)];for(let M=C.length-1;M>0;M--){const U=Math.floor(Math.random()*(M+1));[C[M],C[U]]=[C[U],C[M]]}const N=[...C.slice(0,12),w,...C.slice(12)];s(N),p(!0),await py(y,{isLocked:!0,items:N,itemsBackup:R,lastUpdated:Fe.now()},{merge:!0})},H=async()=>{try{const R=await aC(y);if(R.exists()){const w=R.data();w.itemsBackup?await gs(y,{items:w.itemsBackup,itemsBackup:eC(),isLocked:!1,lastUpdated:Fe.now()}):await gs(y,{isLocked:!1,lastUpdated:Fe.now()})}}catch(R){console.error("Error unlocking board:",R)}},ue=P.useMemo(()=>{const R=[[0,1,2,3,4],[5,6,7,8,9],[10,11,12,13,14],[15,16,17,18,19],[20,21,22,23,24],[0,5,10,15,20],[1,6,11,16,21],[2,7,12,17,22],[3,8,13,18,23],[4,9,14,19,24],[0,6,12,18,24],[4,8,12,16,20]],w=new Set(n.map((C,N)=>C.isCompleted?N:-1));return R.reduce((C,N)=>N.every(M=>w.has(M))?C+1:C,0)},[n]);return{items:n,loading:a,toggleItem:D,updateItem:B,hasWon:c,bingoCount:ue,isLocked:m,unlockBoard:H,jumbleAndLock:q,saveBoard:async R=>{s(R);try{await gs(y,{items:R,lastUpdated:Fe.now()})}catch(w){console.error("Error saving board:",w)}},completeWithPhoto:V,addPhotoToTile:k,decrementProgress:L,inviteUser:async(R,w="editor")=>{try{const C=pd(ic(Jr,"users"),gd("email","==",R)),N=await yd(C);if(N.empty)return{success:!1,type:"not_found",message:"User not found"};const M=N.docs[0],U=M.id;return await gs(y,{[`members.${U}`]:w}),{success:!0,type:"success",message:`Added ${M.data().displayName||R} as ${w}!`}}catch(C){return console.error("Error inviting user:",C),{success:!1,type:"error",message:"Failed to invite user"}}}}};function a2(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=a2(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function U9(){for(var t,e,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=a2(t))&&(s&&(s+=" "),s+=e);return s}const z9=(t,e)=>{const n=new Array(t.length+e.length);for(let s=0;s<t.length;s++)n[s]=t[s];for(let s=0;s<e.length;s++)n[t.length+s]=e[s];return n},B9=(t,e)=>({classGroupId:t,validator:e}),o2=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Cd="-",uS=[],F9="arbitrary..",H9=t=>{const e=G9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return q9(c);const d=c.split(Cd),m=d[0]===""&&d.length>1?1:0;return l2(d,m,e)},getConflictingClassGroupIds:(c,d)=>{if(d){const m=s[c],p=n[c];return m?p?z9(p,m):m:p||uS}return n[c]||uS}}},l2=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const p=l2(t,e+1,l);if(p)return p}const c=n.validators;if(c===null)return;const d=e===0?t.join(Cd):t.slice(e).join(Cd),m=c.length;for(let p=0;p<m;p++){const y=c[p];if(y.validator(d))return y.classGroupId}},q9=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),s=e.slice(0,n);return s?F9+s:void 0})(),G9=t=>{const{theme:e,classGroups:n}=t;return K9(n,e)},K9=(t,e)=>{const n=o2();for(const s in t){const a=t[s];E0(a,n,s,e)}return n},E0=(t,e,n,s)=>{const a=t.length;for(let l=0;l<a;l++){const c=t[l];$9(c,e,n,s)}},$9=(t,e,n,s)=>{if(typeof t=="string"){Y9(t,e,n);return}if(typeof t=="function"){Q9(t,e,n,s);return}X9(t,e,n,s)},Y9=(t,e,n)=>{const s=t===""?e:u2(e,t);s.classGroupId=n},Q9=(t,e,n,s)=>{if(W9(t)){E0(t(s),e,n,s);return}e.validators===null&&(e.validators=[]),e.validators.push(B9(n,t))},X9=(t,e,n,s)=>{const a=Object.entries(t),l=a.length;for(let c=0;c<l;c++){const[d,m]=a[c];E0(m,u2(e,d),n,s)}},u2=(t,e)=>{let n=t;const s=e.split(Cd),a=s.length;for(let l=0;l<a;l++){const c=s[l];let d=n.nextPart.get(c);d||(d=o2(),n.nextPart.set(c,d)),n=d}return n},W9=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Z9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),s=Object.create(null);const a=(l,c)=>{n[l]=c,e++,e>t&&(e=0,s=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=s[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},By="!",cS=":",J9=[],hS=(t,e,n,s,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:s,isExternal:a}),ez=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=a=>{const l=[];let c=0,d=0,m=0,p;const y=a.length;for(let V=0;V<y;V++){const k=a[V];if(c===0&&d===0){if(k===cS){l.push(a.slice(m,V)),m=V+1;continue}if(k==="/"){p=V;continue}}k==="["?c++:k==="]"?c--:k==="("?d++:k===")"&&d--}const v=l.length===0?a:a.slice(m);let E=v,D=!1;v.endsWith(By)?(E=v.slice(0,-1),D=!0):v.startsWith(By)&&(E=v.slice(1),D=!0);const L=p&&p>m?p-m:void 0;return hS(l,D,E,L)};if(e){const a=e+cS,l=s;s=c=>c.startsWith(a)?l(c.slice(a.length)):hS(J9,!1,c,void 0,!0)}if(n){const a=s;s=l=>n({className:l,parseClassName:a})}return s},tz=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,s)=>{e.set(n,1e6+s)}),n=>{const s=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],d=c[0]==="[",m=e.has(c);d||m?(a.length>0&&(a.sort(),s.push(...a),a=[]),s.push(c)):a.push(c)}return a.length>0&&(a.sort(),s.push(...a)),s}},nz=t=>({cache:Z9(t.cacheSize),parseClassName:ez(t),sortModifiers:tz(t),...H9(t)}),iz=/\s+/,sz=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],d=t.trim().split(iz);let m="";for(let p=d.length-1;p>=0;p-=1){const y=d[p],{isExternal:v,modifiers:E,hasImportantModifier:D,baseClassName:L,maybePostfixModifierPosition:V}=n(y);if(v){m=y+(m.length>0?" "+m:m);continue}let k=!!V,B=s(k?L.substring(0,V):L);if(!B){if(!k){m=y+(m.length>0?" "+m:m);continue}if(B=s(L),!B){m=y+(m.length>0?" "+m:m);continue}k=!1}const q=E.length===0?"":E.length===1?E[0]:l(E).join(":"),H=D?q+By:q,ue=H+B;if(c.indexOf(ue)>-1)continue;c.push(ue);const ae=a(B,k);for(let me=0;me<ae.length;++me){const R=ae[me];c.push(H+R)}m=y+(m.length>0?" "+m:m)}return m},rz=(...t)=>{let e=0,n,s,a="";for(;e<t.length;)(n=t[e++])&&(s=c2(n))&&(a&&(a+=" "),a+=s);return a},c2=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=c2(t[s]))&&(n&&(n+=" "),n+=e);return n},az=(t,...e)=>{let n,s,a,l;const c=m=>{const p=e.reduce((y,v)=>v(y),t());return n=nz(p),s=n.cache.get,a=n.cache.set,l=d,d(m)},d=m=>{const p=s(m);if(p)return p;const y=sz(m,n);return a(m,y),y};return l=c,(...m)=>l(rz(...m))},oz=[],rn=t=>{const e=n=>n[t]||oz;return e.isThemeGetter=!0,e},h2=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,f2=/^\((?:(\w[\w-]*):)?(.+)\)$/i,lz=/^\d+\/\d+$/,uz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,fz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,nl=t=>lz.test(t),Ge=t=>!!t&&!Number.isNaN(Number(t)),$r=t=>!!t&&Number.isInteger(Number(t)),Ug=t=>t.endsWith("%")&&Ge(t.slice(0,-1)),Zs=t=>uz.test(t),mz=()=>!0,pz=t=>cz.test(t)&&!hz.test(t),d2=()=>!1,gz=t=>fz.test(t),yz=t=>dz.test(t),vz=t=>!we(t)&&!Se(t),_z=t=>jl(t,g2,d2),we=t=>h2.test(t),Xa=t=>jl(t,y2,pz),zg=t=>jl(t,Sz,Ge),fS=t=>jl(t,m2,d2),bz=t=>jl(t,p2,yz),If=t=>jl(t,v2,gz),Se=t=>f2.test(t),qu=t=>Ul(t,y2),Tz=t=>Ul(t,xz),dS=t=>Ul(t,m2),Ez=t=>Ul(t,g2),wz=t=>Ul(t,p2),Df=t=>Ul(t,v2,!0),jl=(t,e,n)=>{const s=h2.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},Ul=(t,e,n=!1)=>{const s=f2.exec(t);return s?s[1]?e(s[1]):n:!1},m2=t=>t==="position"||t==="percentage",p2=t=>t==="image"||t==="url",g2=t=>t==="length"||t==="size"||t==="bg-size",y2=t=>t==="length",Sz=t=>t==="number",xz=t=>t==="family-name",v2=t=>t==="shadow",Az=()=>{const t=rn("color"),e=rn("font"),n=rn("text"),s=rn("font-weight"),a=rn("tracking"),l=rn("leading"),c=rn("breakpoint"),d=rn("container"),m=rn("spacing"),p=rn("radius"),y=rn("shadow"),v=rn("inset-shadow"),E=rn("text-shadow"),D=rn("drop-shadow"),L=rn("blur"),V=rn("perspective"),k=rn("aspect"),B=rn("ease"),q=rn("animate"),H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ue=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ae=()=>[...ue(),Se,we],me=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],w=()=>[Se,we,m],C=()=>[nl,"full","auto",...w()],N=()=>[$r,"none","subgrid",Se,we],M=()=>["auto",{span:["full",$r,Se,we]},$r,Se,we],U=()=>[$r,"auto",Se,we],O=()=>["auto","min","max","fr",Se,we],He=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ke=()=>["start","end","center","stretch","center-safe","end-safe"],Z=()=>["auto",...w()],he=()=>[nl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...w()],re=()=>[t,Se,we],De=()=>[...ue(),dS,fS,{position:[Se,we]}],F=()=>["no-repeat",{repeat:["","x","y","space","round"]}],S=()=>["auto","cover","contain",Ez,_z,{size:[Se,we]}],K=()=>[Ug,qu,Xa],ee=()=>["","none","full",p,Se,we],ie=()=>["",Ge,qu,Xa],de=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],fe=()=>[Ge,Ug,dS,fS],be=()=>["","none",L,Se,we],xe=()=>["none",Ge,Se,we],Le=()=>["none",Ge,Se,we],je=()=>[Ge,Se,we],$e=()=>[nl,"full",...w()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Zs],breakpoint:[Zs],color:[mz],container:[Zs],"drop-shadow":[Zs],ease:["in","out","in-out"],font:[vz],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Zs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Zs],shadow:[Zs],spacing:["px",Ge],text:[Zs],"text-shadow":[Zs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",nl,we,Se,k]}],container:["container"],columns:[{columns:[Ge,we,Se,d]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ae()}],overflow:[{overflow:me()}],"overflow-x":[{"overflow-x":me()}],"overflow-y":[{"overflow-y":me()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[$r,"auto",Se,we]}],basis:[{basis:[nl,"full","auto",d,...w()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ge,nl,"auto","initial","none",we]}],grow:[{grow:["",Ge,Se,we]}],shrink:[{shrink:["",Ge,Se,we]}],order:[{order:[$r,"first","last","none",Se,we]}],"grid-cols":[{"grid-cols":N()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":N()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:w()}],"gap-x":[{"gap-x":w()}],"gap-y":[{"gap-y":w()}],"justify-content":[{justify:[...He(),"normal"]}],"justify-items":[{"justify-items":[...Ke(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ke()]}],"align-content":[{content:["normal",...He()]}],"align-items":[{items:[...Ke(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ke(),{baseline:["","last"]}]}],"place-content":[{"place-content":He()}],"place-items":[{"place-items":[...Ke(),"baseline"]}],"place-self":[{"place-self":["auto",...Ke()]}],p:[{p:w()}],px:[{px:w()}],py:[{py:w()}],ps:[{ps:w()}],pe:[{pe:w()}],pt:[{pt:w()}],pr:[{pr:w()}],pb:[{pb:w()}],pl:[{pl:w()}],m:[{m:Z()}],mx:[{mx:Z()}],my:[{my:Z()}],ms:[{ms:Z()}],me:[{me:Z()}],mt:[{mt:Z()}],mr:[{mr:Z()}],mb:[{mb:Z()}],ml:[{ml:Z()}],"space-x":[{"space-x":w()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":w()}],"space-y-reverse":["space-y-reverse"],size:[{size:he()}],w:[{w:[d,"screen",...he()]}],"min-w":[{"min-w":[d,"screen","none",...he()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...he()]}],h:[{h:["screen","lh",...he()]}],"min-h":[{"min-h":["screen","lh","none",...he()]}],"max-h":[{"max-h":["screen","lh",...he()]}],"font-size":[{text:["base",n,qu,Xa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Se,zg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ug,we]}],"font-family":[{font:[Tz,we,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Se,we]}],"line-clamp":[{"line-clamp":[Ge,"none",Se,zg]}],leading:[{leading:[l,...w()]}],"list-image":[{"list-image":["none",Se,we]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Se,we]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:re()}],"text-color":[{text:re()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ge,"from-font","auto",Se,Xa]}],"text-decoration-color":[{decoration:re()}],"underline-offset":[{"underline-offset":[Ge,"auto",Se,we]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se,we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se,we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:De()}],"bg-repeat":[{bg:F()}],"bg-size":[{bg:S()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},$r,Se,we],radial:["",Se,we],conic:[$r,Se,we]},wz,bz]}],"bg-color":[{bg:re()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:re()}],"gradient-via":[{via:re()}],"gradient-to":[{to:re()}],rounded:[{rounded:ee()}],"rounded-s":[{"rounded-s":ee()}],"rounded-e":[{"rounded-e":ee()}],"rounded-t":[{"rounded-t":ee()}],"rounded-r":[{"rounded-r":ee()}],"rounded-b":[{"rounded-b":ee()}],"rounded-l":[{"rounded-l":ee()}],"rounded-ss":[{"rounded-ss":ee()}],"rounded-se":[{"rounded-se":ee()}],"rounded-ee":[{"rounded-ee":ee()}],"rounded-es":[{"rounded-es":ee()}],"rounded-tl":[{"rounded-tl":ee()}],"rounded-tr":[{"rounded-tr":ee()}],"rounded-br":[{"rounded-br":ee()}],"rounded-bl":[{"rounded-bl":ee()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...de(),"hidden","none"]}],"divide-style":[{divide:[...de(),"hidden","none"]}],"border-color":[{border:re()}],"border-color-x":[{"border-x":re()}],"border-color-y":[{"border-y":re()}],"border-color-s":[{"border-s":re()}],"border-color-e":[{"border-e":re()}],"border-color-t":[{"border-t":re()}],"border-color-r":[{"border-r":re()}],"border-color-b":[{"border-b":re()}],"border-color-l":[{"border-l":re()}],"divide-color":[{divide:re()}],"outline-style":[{outline:[...de(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ge,Se,we]}],"outline-w":[{outline:["",Ge,qu,Xa]}],"outline-color":[{outline:re()}],shadow:[{shadow:["","none",y,Df,If]}],"shadow-color":[{shadow:re()}],"inset-shadow":[{"inset-shadow":["none",v,Df,If]}],"inset-shadow-color":[{"inset-shadow":re()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:re()}],"ring-offset-w":[{"ring-offset":[Ge,Xa]}],"ring-offset-color":[{"ring-offset":re()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":re()}],"text-shadow":[{"text-shadow":["none",E,Df,If]}],"text-shadow-color":[{"text-shadow":re()}],opacity:[{opacity:[Ge,Se,we]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ge]}],"mask-image-linear-from-pos":[{"mask-linear-from":fe()}],"mask-image-linear-to-pos":[{"mask-linear-to":fe()}],"mask-image-linear-from-color":[{"mask-linear-from":re()}],"mask-image-linear-to-color":[{"mask-linear-to":re()}],"mask-image-t-from-pos":[{"mask-t-from":fe()}],"mask-image-t-to-pos":[{"mask-t-to":fe()}],"mask-image-t-from-color":[{"mask-t-from":re()}],"mask-image-t-to-color":[{"mask-t-to":re()}],"mask-image-r-from-pos":[{"mask-r-from":fe()}],"mask-image-r-to-pos":[{"mask-r-to":fe()}],"mask-image-r-from-color":[{"mask-r-from":re()}],"mask-image-r-to-color":[{"mask-r-to":re()}],"mask-image-b-from-pos":[{"mask-b-from":fe()}],"mask-image-b-to-pos":[{"mask-b-to":fe()}],"mask-image-b-from-color":[{"mask-b-from":re()}],"mask-image-b-to-color":[{"mask-b-to":re()}],"mask-image-l-from-pos":[{"mask-l-from":fe()}],"mask-image-l-to-pos":[{"mask-l-to":fe()}],"mask-image-l-from-color":[{"mask-l-from":re()}],"mask-image-l-to-color":[{"mask-l-to":re()}],"mask-image-x-from-pos":[{"mask-x-from":fe()}],"mask-image-x-to-pos":[{"mask-x-to":fe()}],"mask-image-x-from-color":[{"mask-x-from":re()}],"mask-image-x-to-color":[{"mask-x-to":re()}],"mask-image-y-from-pos":[{"mask-y-from":fe()}],"mask-image-y-to-pos":[{"mask-y-to":fe()}],"mask-image-y-from-color":[{"mask-y-from":re()}],"mask-image-y-to-color":[{"mask-y-to":re()}],"mask-image-radial":[{"mask-radial":[Se,we]}],"mask-image-radial-from-pos":[{"mask-radial-from":fe()}],"mask-image-radial-to-pos":[{"mask-radial-to":fe()}],"mask-image-radial-from-color":[{"mask-radial-from":re()}],"mask-image-radial-to-color":[{"mask-radial-to":re()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ue()}],"mask-image-conic-pos":[{"mask-conic":[Ge]}],"mask-image-conic-from-pos":[{"mask-conic-from":fe()}],"mask-image-conic-to-pos":[{"mask-conic-to":fe()}],"mask-image-conic-from-color":[{"mask-conic-from":re()}],"mask-image-conic-to-color":[{"mask-conic-to":re()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:De()}],"mask-repeat":[{mask:F()}],"mask-size":[{mask:S()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Se,we]}],filter:[{filter:["","none",Se,we]}],blur:[{blur:be()}],brightness:[{brightness:[Ge,Se,we]}],contrast:[{contrast:[Ge,Se,we]}],"drop-shadow":[{"drop-shadow":["","none",D,Df,If]}],"drop-shadow-color":[{"drop-shadow":re()}],grayscale:[{grayscale:["",Ge,Se,we]}],"hue-rotate":[{"hue-rotate":[Ge,Se,we]}],invert:[{invert:["",Ge,Se,we]}],saturate:[{saturate:[Ge,Se,we]}],sepia:[{sepia:["",Ge,Se,we]}],"backdrop-filter":[{"backdrop-filter":["","none",Se,we]}],"backdrop-blur":[{"backdrop-blur":be()}],"backdrop-brightness":[{"backdrop-brightness":[Ge,Se,we]}],"backdrop-contrast":[{"backdrop-contrast":[Ge,Se,we]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ge,Se,we]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ge,Se,we]}],"backdrop-invert":[{"backdrop-invert":["",Ge,Se,we]}],"backdrop-opacity":[{"backdrop-opacity":[Ge,Se,we]}],"backdrop-saturate":[{"backdrop-saturate":[Ge,Se,we]}],"backdrop-sepia":[{"backdrop-sepia":["",Ge,Se,we]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":w()}],"border-spacing-x":[{"border-spacing-x":w()}],"border-spacing-y":[{"border-spacing-y":w()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Se,we]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ge,"initial",Se,we]}],ease:[{ease:["linear","initial",B,Se,we]}],delay:[{delay:[Ge,Se,we]}],animate:[{animate:["none",q,Se,we]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[V,Se,we]}],"perspective-origin":[{"perspective-origin":ae()}],rotate:[{rotate:xe()}],"rotate-x":[{"rotate-x":xe()}],"rotate-y":[{"rotate-y":xe()}],"rotate-z":[{"rotate-z":xe()}],scale:[{scale:Le()}],"scale-x":[{"scale-x":Le()}],"scale-y":[{"scale-y":Le()}],"scale-z":[{"scale-z":Le()}],"scale-3d":["scale-3d"],skew:[{skew:je()}],"skew-x":[{"skew-x":je()}],"skew-y":[{"skew-y":je()}],transform:[{transform:[Se,we,"","none","gpu","cpu"]}],"transform-origin":[{origin:ae()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:$e()}],"translate-x":[{"translate-x":$e()}],"translate-y":[{"translate-y":$e()}],"translate-z":[{"translate-z":$e()}],"translate-none":["translate-none"],accent:[{accent:re()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:re()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se,we]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se,we]}],fill:[{fill:["none",...re()]}],"stroke-w":[{stroke:[Ge,qu,Xa,zg]}],stroke:[{stroke:["none",...re()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Cz=az(Az);function _i(...t){return Cz(U9(t))}const Rz=({items:t,isOpen:e,onClose:n})=>{const[s,a]=P.useState(null),l=P.useMemo(()=>t.map((m,p)=>({...m,originalIndex:p})).filter(m=>m.isCompleted&&m.proofPhotos&&m.proofPhotos.length>0).sort((m,p)=>{const y=m.completedAt?.toDate?.()||new Date(0);return(p.completedAt?.toDate?.()||new Date(0)).getTime()-y.getTime()}),[t]),c=P.useMemo(()=>{const m={};return l.forEach(p=>{const v=(p.completedAt?.toDate?.()||new Date).toLocaleDateString("en-US",{month:"long",year:"numeric"});m[v]||(m[v]=[]),m[v].push(p)}),m},[l]),d=m=>m?(m.toDate?m.toDate():new Date(m)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"";return e?x.jsx(vs,{children:x.jsxs(yt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] bg-bg-dark overflow-y-auto",children:[x.jsx("div",{className:"sticky top-0 z-10 bg-bg-dark/95 backdrop-blur-md border-b border-white/10",children:x.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4 flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(jy,{className:"w-6 h-6 text-accent-gold"}),x.jsx("h1",{className:"text-xl font-bold text-white",children:"2026 Memories"}),x.jsxs("span",{className:"text-sm text-slate-400",children:["(",l.length," moments)"]})]}),x.jsx("button",{onClick:n,className:"p-2 text-slate-400 hover:text-white transition-colors rounded-full hover:bg-white/10",children:x.jsx(wc,{size:24})})]})}),x.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6",children:l.length===0?x.jsxs("div",{className:"text-center py-20",children:[x.jsx(jy,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-400 mb-2",children:"No memories yet"}),x.jsx("p",{className:"text-slate-500",children:"Complete tasks and add photos to build your 2026 album!"})]}):Object.entries(c).map(([m,p])=>x.jsxs("div",{className:"mb-8",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[x.jsx(Uy,{className:"w-4 h-4 text-accent-primary"}),x.jsx("h2",{className:"text-lg font-semibold text-accent-primary",children:m}),x.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-accent-primary/30 to-transparent"})]}),x.jsx("div",{className:"space-y-6",children:p.map((y,v)=>x.jsxs(yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},className:"bg-bg-card/80 rounded-2xl border border-white/10 overflow-hidden shadow-xl",children:[x.jsxs("div",{className:"relative aspect-video bg-black cursor-pointer",onClick:()=>a({memoryIdx:l.indexOf(y),photoIdx:0}),children:[x.jsx("img",{src:y.proofPhotos[0],alt:y.text,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}),y.proofPhotos.length>1&&x.jsxs("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/70 rounded-full text-white text-xs font-medium",children:["+",y.proofPhotos.length-1," more"]})]}),y.proofPhotos.length>1&&x.jsx("div",{className:"flex gap-1 p-2 bg-black/30 overflow-x-auto",children:y.proofPhotos.map((E,D)=>x.jsx("button",{onClick:()=>a({memoryIdx:l.indexOf(y),photoIdx:D}),className:"w-14 h-14 rounded-lg overflow-hidden flex-shrink-0 border-2 border-transparent hover:border-accent-primary transition-all",children:x.jsx("img",{src:E,alt:"",className:"w-full h-full object-cover"})},D))}),x.jsxs("div",{className:"p-4",children:[x.jsxs("h3",{className:"text-lg font-semibold text-white mb-2 flex items-center gap-2",children:[x.jsx("span",{className:"text-accent-gold",children:""}),y.text]}),x.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx(N9,{size:14}),y.completedBy]}),x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx(Uy,{size:14}),d(y.completedAt)]})]})]})]},y.id))})]},m))}),x.jsx(vs,{children:s!==null&&l[s.memoryIdx]&&x.jsxs(yt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[300] bg-black/95 flex items-center justify-center p-4",onClick:()=>a(null),children:[x.jsx("button",{onClick:()=>a(null),className:"absolute top-4 right-4 p-2 text-white/70 hover:text-white",children:x.jsx(wc,{size:32})}),(()=>{const m=l[s.memoryIdx],p=m.proofPhotos||[],y=s.photoIdx;return x.jsxs("div",{className:"relative max-w-4xl w-full",onClick:v=>v.stopPropagation(),children:[x.jsx("img",{src:p[y],alt:"",className:"w-full max-h-[80vh] object-contain rounded-lg"}),p.length>1&&x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>a({...s,photoIdx:y>0?y-1:p.length-1}),className:"absolute left-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:x.jsx(e2,{size:28})}),x.jsx("button",{onClick:()=>a({...s,photoIdx:y<p.length-1?y+1:0}),className:"absolute right-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:x.jsx(t2,{size:28})})]}),x.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:[x.jsx("p",{className:"text-white font-semibold",children:m.text}),x.jsxs("p",{className:"text-slate-300 text-sm",children:[y+1," / ",p.length,"  ",d(m.completedAt)]})]})]})})()]})})]})}):null},Iz=()=>{const{boardId:t}=HD(),e=Id(),{items:n,loading:s,toggleItem:a,hasWon:l,bingoCount:c,isLocked:d,unlockBoard:m,jumbleAndLock:p,saveBoard:y,completeWithPhoto:v,addPhotoToTile:E,decrementProgress:D,inviteUser:L}=j9(t),{logout:V,user:k}=Fc(),B=s2(),[q,H]=P.useState(!1),[ue,ae]=P.useState([]),[me,R]=P.useState(!1),[w,C]=P.useState(null),[N,M]=P.useState(""),[U,O]=P.useState({}),[He,Ke]=P.useState(1),[Z,he]=P.useState(""),[re,De]=P.useState(!1),[F,S]=P.useState(0),[K,ee]=P.useState(null),[ie,de]=P.useState(!1);P.useEffect(()=>{!localStorage.getItem("hasSeenWalkthrough")&&!s&&n.length>0&&De(!0)},[s,n]);const pe=()=>{F<2?S(W=>W+1):(De(!1),localStorage.setItem("hasSeenWalkthrough","true"))},[fe,be]=P.useState(!1),[xe,Le]=P.useState(null),[je,$e]=P.useState(!1),vt=P.useRef(null),[Me,Et]=P.useState(!1),[qe,Dt]=P.useState(null),[un,st]=P.useState(null),[tt,wn]=P.useState(0),[fr,Ns]=P.useState(!1),Nt=P.useRef(null),[Ci,Ri]=P.useState(!1),[ks,Kn]=P.useState(()=>localStorage.getItem("celebrationDismissed")==="true"),[Qi,Ii]=P.useState(0);P.useEffect(()=>{Qi===5&&(m(),Ii(0),r2({particleCount:100,spread:70,origin:{y:.6},colors:["#fbbf24","#ec4899","#ffffff"]}));let W;return Qi>0&&(W=setTimeout(()=>Ii(0),1e3)),()=>clearTimeout(W)},[Qi,m]);const Xi=()=>{d&&Ii(W=>W+1)},dr=async()=>{await B.confirm(`This will randomly shuffle all tiles (except the center) and LOCK the board.

(Tap the logo 5 times to Undo/Unlock).`,{title:"Jumble & Finalize Board?",confirmText:"Finalize",type:"warning"})&&(p(),H(!1))},Dn=()=>{Kn(!0),localStorage.setItem("celebrationDismissed","true")};JI.useEffect(()=>{!s&&!l&&(Kn(!1),localStorage.removeItem("celebrationDismissed"))},[l,s]);const nn=W=>{const Ee=q?ue:n;if(C(W),M(Ee[W].text),O(Ee[W].style||{color:"#ffffff",fontSize:"base",bold:!1,italic:!1}),Ke(Ee[W].targetCount||1),Ee[W].dueDate){const bt=Ee[W].dueDate,At=typeof bt.toDate=="function"?bt.toDate():new Date(bt),zt=At.getFullYear(),Zi=String(At.getMonth()+1).padStart(2,"0"),Di=String(At.getDate()).padStart(2,"0");he(`${zt}-${Zi}-${Di}`)}else he("");R(!0)},On=()=>{if(w===null)return;let W;Z&&(W=new Date(Z+"T12:00:00"));const Ee=[...ue];Ee[w]={...Ee[w],text:N,style:U,targetCount:He,dueDate:W},ae(Ee),R(!1),C(null)};if(s)return x.jsx("div",{className:"flex h-screen items-center justify-center text-accent-primary animate-pulse",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-12 h-12 border-4 border-accent-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),x.jsx("p",{children:"Loading Board..."})]})});const ba=n.filter(W=>W.isCompleted).length/25*100,Wi=W=>{if(!W)return"-";const Ee=W.toDate?W.toDate():new Date(W);return Ee.toLocaleDateString()+" "+Ee.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},mr=q?ue:n,ai=W=>{const Ee=mr[W];ee({index:W,wasCompleted:Ee.isCompleted}),a(W),de(!0),setTimeout(()=>de(!1),3e3)};return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"min-h-screen flex flex-col items-center p-3 pb-24 relative overflow-x-hidden no-print",children:[x.jsx("div",{className:"background-animation"}),x.jsxs("header",{className:"w-full max-w-[500px] flex justify-between items-center mb-4 pt-2 px-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(yt.img,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},src:"/logo.png",alt:"SunSar Bingo",className:"h-14 sm:h-16 w-auto object-contain cursor-pointer active:scale-95 transition-transform",onClick:Xi}),x.jsx(yt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-[9px] font-bold text-accent-gold uppercase tracking-wider bg-accent-gold/10 px-2 py-0.5 rounded-full border border-accent-gold/20",children:"2026"})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("button",{onClick:()=>Ri(!0),className:"text-slate-400 hover:text-accent-gold transition-colors p-2 hover:bg-white/5 rounded-full",title:"View Memories",children:x.jsx(jy,{size:20})}),x.jsx("button",{onClick:()=>e("/dashboard"),className:"text-slate-400 hover:text-white transition-colors p-2 hover:bg-white/5 rounded-full",title:"Dashboard",children:x.jsx(n2,{size:20})}),x.jsx("button",{onClick:async()=>{const W=await B.sharePrompt("Enter their email address to invite them to this board.",{title:"Share Board"});if(W){const Ee=await L(W.email,W.role);if(Ee.type==="success")await B.alert(Ee.message,{title:"Success!",type:"success"});else if(Ee.type==="not_found"){if(await B.confirm(`"${W.email}" hasn't signed up yet.

Would you like to send them an email invitation to join SunSar Bingo?`,{title:"User Not Found",confirmText:"Send Invite Email",type:"info"}))try{const{sendInviteEmail:At,openMailtoFallback:zt}=await Hg(async()=>{const{sendInviteEmail:Di,openMailtoFallback:$n}=await import("./emailService-DOhQQl7v.js");return{sendInviteEmail:Di,openMailtoFallback:$n}},[]);(await At({recipientEmail:W.email,senderName:k?.displayName||k?.email||"A friend"})).success?await B.alert(`Invitation sent to ${W.email}! They'll receive an email with instructions to join.`,{title:"Invitation Sent!",type:"success"}):(zt(W.email,k?.displayName||"A friend"),await B.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"}))}catch{const zt=encodeURIComponent("Join me on SunSar Bingo!"),Zi=encodeURIComponent(`Hey! Come join me on SunSar Bingo to track our 2026 goals together.

Sign up here: ${window.location.origin}`);window.open(`mailto:${W.email}?subject=${zt}&body=${Zi}`),await B.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"})}}else await B.alert(Ee.message,{title:"Error",type:"error"})}},className:"text-slate-400 hover:text-accent-primary transition-colors p-2 hover:bg-white/5 rounded-full",title:"Share Board",children:x.jsx(aS,{size:20})}),x.jsxs(yt.div,{initial:{scale:0},animate:{scale:1},className:"relative cursor-pointer group",children:[x.jsx("img",{src:k?.photoURL||"",alt:"User",className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full border-2 border-glass-border group-hover:border-accent-primary transition-colors"}),x.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-bg-dark"})]}),x.jsx("button",{onClick:V,className:"text-slate-400 hover:text-red-400 transition-colors p-2 hover:bg-white/5 rounded-full",title:"Logout",children:x.jsx(g9,{size:20})})]})]}),x.jsx("div",{className:"w-full max-w-[500px] aspect-square relative mb-6",children:x.jsx("div",{className:"grid grid-cols-5 gap-1.5 sm:gap-2 w-full h-full",children:mr.map((W,Ee)=>x.jsxs(yt.div,{title:W.isCompleted?`Completed by ${W.completedBy||"Someone"} on ${Wi(W.completedAt)}`:void 0,layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:Ee*.02},whileTap:{scale:.95},onClick:()=>{q||W.isFreeSpace||(W.isCompleted?W.proofPhotos&&W.proofPhotos.length>0?(Dt(W),st(Ee),wn(0),Et(!0)):ai(Ee):(Le(Ee),be(!0)))},className:_i("relative rounded-lg flex items-center justify-center p-1 cursor-pointer select-none border backdrop-blur-sm overflow-hidden","font-hand text-[11px] sm:text-sm font-medium leading-tight select-none",W.isCompleted?"text-white scale-110 font-semibold":"text-slate-300","bg-bg-card/90 border-white/20 shadow-md hover:border-white/40 hover:bg-bg-card/95 transition-all duration-200",W.isCompleted&&!W.isFreeSpace&&"bg-gradient-to-br from-accent-primary/30 to-accent-secondary/30 border-accent-primary/50 shadow-[0_0_15px_rgba(139,92,246,0.15)]",W.isFreeSpace&&"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50",q&&"border-dashed border-slate-500"),children:[x.jsx("div",{className:"w-full h-full flex items-center justify-center text-center relative z-10",children:x.jsx("div",{className:"w-full h-full flex items-center justify-center p-1",onClick:bt=>{q&&(bt.stopPropagation(),nn(Ee))},children:x.jsx("span",{className:_i("leading-tight break-words w-full",W.isFreeSpace?"text-lg font-bold text-accent-gold":"font-hand font-semibold line-clamp-3 sm:line-clamp-4",W.isCompleted&&!W.isFreeSpace&&"text-white"),style:!W.isFreeSpace&&!W.isCompleted?{color:W.style?.color||"#cbd5e1",fontWeight:W.style?.bold?"bold":"600",fontStyle:W.style?.italic?"italic":"normal",fontSize:W.style?.fontSize==="sm"?"12px":W.style?.fontSize==="lg"?"18px":W.style?.fontSize==="xl"?"22px":void 0}:void 0,children:W.text})})}),W.dueDate&&!W.isCompleted&&!d&&x.jsxs("div",{className:_i("flex items-center gap-1 mt-1 text-[10px] font-medium absolute bottom-1 right-1 px-1 rounded bg-black/40 backdrop-blur-sm",(W.dueDate.toDate?W.dueDate.toDate():new Date(W.dueDate))<new Date?"text-red-400":"text-slate-400"),children:[x.jsx(d9,{size:8}),x.jsx("span",{children:(W.dueDate.toDate?W.dueDate.toDate():new Date(W.dueDate)).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),W.isCompleted&&!W.isFreeSpace&&!q&&x.jsxs(x.Fragment,{children:[x.jsx(yt.div,{initial:{scale:0},animate:{scale:1},className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-20",children:x.jsx(Rf,{className:"w-12 h-12 text-white"})}),x.jsx("div",{className:"absolute top-0.5 right-0.5 w-1.5 h-1.5 bg-accent-primary rounded-full shadow-[0_0_5px_rgba(139,92,246,0.8)]"}),W.proofPhotos&&W.proofPhotos.length>0&&x.jsxs("div",{className:"absolute bottom-0.5 left-0.5 p-0.5 bg-accent-gold/80 rounded-sm flex items-center gap-0.5",children:[x.jsx(iS,{className:"w-2.5 h-2.5 text-black"}),W.proofPhotos.length>1&&x.jsx("span",{className:"text-[8px] font-bold text-black",children:W.proofPhotos.length})]})]}),!W.isFreeSpace&&!q&&(W.targetCount||1)>1&&x.jsxs("div",{className:_i("absolute bottom-0.5 right-0.5 px-1 py-0.5 rounded text-[8px] font-bold",W.isCompleted?"bg-green-500/80 text-white":(W.currentCount||0)>0?"bg-amber-500/80 text-white":"bg-slate-600/80 text-slate-300"),children:[W.currentCount||0,"/",W.targetCount]})]},W.id))})}),x.jsxs(yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-[500px] glass-panel p-4 flex flex-col gap-4",children:[x.jsxs("div",{className:"w-full",children:[x.jsxs("div",{className:"flex justify-between text-xs text-slate-300 mb-1.5 px-1",children:[x.jsx("span",{className:"font-semibold",children:"Progress"}),x.jsxs("div",{className:"flex gap-3",children:[x.jsxs("span",{className:"font-mono text-accent-gold font-bold",children:[c,"/12 Bingos"]}),x.jsxs("span",{className:"font-mono text-accent-primary",children:[Math.round(ba),"%"]})]})]}),x.jsx("div",{className:"h-3 bg-bg-dark/50 rounded-full overflow-hidden border border-white/5",children:x.jsx(yt.div,{className:"h-full bg-gradient-to-r from-accent-primary to-accent-secondary relative",initial:{width:0},animate:{width:`${ba}%`},transition:{duration:1,ease:"easeOut"},children:x.jsx("div",{className:"absolute top-0 right-0 bottom-0 w-[1px] bg-white/50 shadow-[0_0_10px_white]"})})})]}),x.jsx("div",{className:"flex justify-center gap-2",children:q?x.jsx(x.Fragment,{children:x.jsxs("div",{className:"flex gap-2 w-full",children:[x.jsx("button",{onClick:()=>H(!1),className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-white/5 text-slate-300 border border-white/10 hover:bg-white/10 transition-all",children:"Cancel"}),x.jsxs("button",{onClick:()=>{y(ue),H(!1)},className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-green-500/20 text-green-200 border border-green-500/50 hover:bg-green-500/30 transition-all flex items-center justify-center gap-2",children:[x.jsx(Rf,{size:16}),"Save Changes"]})]})}):x.jsxs("div",{className:"flex gap-2 justify-center w-full flex-wrap",children:[!d&&x.jsxs(x.Fragment,{children:[x.jsxs("button",{onClick:()=>{ae([...n]),H(!0)},className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[x.jsx(rS,{size:12}),"Edit Board"]}),x.jsxs("button",{onClick:dr,className:"flex-1 py-2 px-4 text-xs font-medium text-red-400 hover:text-red-300 transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[x.jsx(x9,{size:12}),"Jumble & Finalize"]})]}),x.jsxs("button",{onClick:()=>window.print(),className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[x.jsx(E9,{size:12}),"Print Status"]})]})})]}),x.jsx(vs,{children:l&&!ks&&x.jsx(yt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:x.jsxs(yt.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:"glass-panel p-8 text-center max-w-sm w-full relative overflow-hidden border-accent-gold/30",children:[x.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-accent-gold/10 to-transparent pointer-events-none"}),x.jsx(yt.div,{animate:{rotate:[0,10,-10,0]},transition:{repeat:1/0,duration:2},className:"inline-block",children:x.jsx(nS,{className:"w-20 h-20 text-accent-gold mx-auto mb-4 drop-shadow-[0_0_15px_rgba(251,191,36,0.5)]"})}),x.jsx("h2",{className:"text-4xl font-heading font-bold text-transparent bg-clip-text bg-gradient-to-r from-accent-gold via-white to-accent-secondary mb-2",children:"BINGO!"}),x.jsx("p",{className:"text-slate-300 mb-8 leading-relaxed",children:"2026 is off to an amazing start!"}),x.jsx("button",{onClick:Dn,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-[0_0_20px_rgba(139,92,246,0.4)] transition-all transform hover:scale-105",children:"Keep Playing"})]})})}),x.jsx(vs,{children:me&&x.jsx(yt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:()=>R(!1),children:x.jsxs(yt.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-bg-dark border border-accent-gold/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl relative overflow-hidden",onClick:W=>W.stopPropagation(),children:[x.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Edit Tile"}),x.jsx("div",{className:"mb-4 flex justify-center",children:x.jsx("div",{className:"w-32 h-32 rounded-lg bg-bg-card/80 border border-white/10 flex items-center justify-center p-2 text-center overflow-hidden",children:x.jsx("span",{className:_i("font-hand font-semibold leading-tight break-words"),style:{color:U.color||"#ffffff",fontWeight:U.bold?"bold":"600",fontStyle:U.italic?"italic":"normal",fontSize:U.fontSize==="sm"?"12px":U.fontSize==="lg"?"18px":U.fontSize==="xl"?"22px":"16px"},children:N||"Preview Text"})})}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Text Content"}),x.jsx("textarea",{className:"w-full bg-black/20 text-white rounded-lg p-3 border border-white/10 focus:border-accent-primary outline-none min-h-[80px]",value:N,onChange:W=>M(W.target.value),placeholder:"Enter bingo task..."})]}),x.jsxs("div",{className:"mb-6 space-y-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Color"}),x.jsx("div",{className:"flex gap-2 flex-wrap",children:["#ffffff","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#ec4899","#a855f7"].map(W=>x.jsx("button",{className:_i("w-6 h-6 rounded-full border border-white/10 transition-transform active:scale-90",U.color===W&&"ring-2 ring-white scale-110"),style:{backgroundColor:W},onClick:()=>O(Ee=>({...Ee,color:W}))},W))})]}),x.jsxs("div",{className:"flex gap-4",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Size"}),x.jsx("div",{className:"flex bg-black/20 rounded-lg p-1",children:["sm","base","lg","xl"].map(W=>x.jsx("button",{onClick:()=>O(Ee=>({...Ee,fontSize:W})),className:_i("flex-1 py-1 text-[10px] font-bold rounded transition-colors uppercase",(U.fontSize||"base")===W?"bg-accent-primary text-white":"text-slate-400 hover:text-white"),children:W==="base"?"M":W},W))})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Style"}),x.jsxs("div",{className:"flex gap-1 bg-black/20 rounded-lg p-1",children:[x.jsx("button",{onClick:()=>O(W=>({...W,bold:!W.bold})),className:_i("w-8 h-full rounded flex items-center justify-center font-bold transition-colors",U.bold?"bg-white text-black":"text-slate-400 hover:text-white"),children:"B"}),x.jsx("button",{onClick:()=>O(W=>({...W,italic:!W.italic})),className:_i("w-8 h-full rounded flex items-center justify-center italic transition-colors font-serif",U.italic?"bg-white text-black":"text-slate-400 hover:text-white"),children:"I"})]})]})]})]}),x.jsxs("div",{className:"space-y-4 mb-6 pt-4 border-t border-white/10",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Target Count"}),x.jsx("input",{type:"number",min:"1",max:"100",value:He,onChange:W=>Ke(parseInt(W.target.value)||1),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors"}),x.jsx("p",{className:"text-xs text-slate-500",children:"How many times to complete this?"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Due Date (Optional)"}),x.jsx("input",{type:"date",value:Z,onChange:W=>he(W.target.value),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors [color-scheme:dark]"})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:()=>R(!1),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),x.jsx("button",{onClick:On,className:"flex-1 py-3 px-4 bg-gradient-to-r from-violet-600 to-fuchsia-600 rounded-xl font-bold text-white shadow-lg hover:shadow-violet-500/25 active:scale-95 transition-all",children:"Ok"})]})]})})}),x.jsx(vs,{children:fe&&xe!==null&&x.jsx(yt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{be(!1),Le(null)},children:x.jsx(yt.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-bg-dark border border-accent-primary/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl",onClick:W=>W.stopPropagation(),children:(()=>{const W=mr[xe],Ee=W?.targetCount||1,bt=W?.currentCount||0,At=Ee>1,zt=bt>0;return x.jsxs(x.Fragment,{children:[x.jsx("h3",{className:"text-xl font-bold text-white mb-2 text-center",children:zt?"Add Progress":"Complete Task"}),x.jsxs("p",{className:"text-slate-300 text-sm text-center mb-2 line-clamp-2",children:["",W?.text,""]}),At&&x.jsx("div",{className:"text-center mb-4",children:x.jsxs("span",{className:_i("inline-block px-3 py-1 rounded-full text-sm font-bold",zt?"bg-amber-500/20 text-amber-400":"bg-slate-600/50 text-slate-400"),children:["Progress: ",bt," / ",Ee]})}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:vt,className:"hidden",onChange:async Zi=>{const Di=Zi.target.files?.[0];if(Di&&xe!==null){$e(!0);try{await v(xe,Di),be(!1),Le(null)}catch{alert("Failed to upload photo. Please try again.")}finally{$e(!1)}}}}),x.jsxs("button",{onClick:()=>vt.current?.click(),disabled:je,className:"w-full py-3 px-4 bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-amber-500/25 active:scale-95 transition-all disabled:opacity-50",children:[x.jsx(iS,{size:20}),je?"Uploading...":At?"Add Photo & +1":"Add Photo & Complete"]}),x.jsxs("button",{onClick:()=>{a(xe),be(!1),Le(null)},disabled:je,className:"w-full py-3 px-4 bg-gradient-to-r from-green-600 to-emerald-600 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-green-500/25 active:scale-95 transition-all disabled:opacity-50",children:[x.jsx(Rf,{size:20}),At?`Mark +1 (${bt+1}/${Ee})`:"Mark Complete"]}),zt&&x.jsxs("button",{onClick:()=>{D(xe),be(!1),Le(null)},disabled:je,className:"w-full py-2 rounded-xl font-semibold text-red-400 hover:bg-red-500/10 transition-colors disabled:opacity-50",children:["Remove Progress (",bt-1,"/",Ee,")"]}),x.jsx("button",{onClick:()=>{be(!1),Le(null)},disabled:je,className:"w-full py-3 rounded-xl font-semibold bg-white/5 text-slate-400 hover:bg-white/10 transition-colors disabled:opacity-50",children:"Cancel"})]})]})})()})})}),x.jsx(vs,{children:Me&&qe&&qe.proofPhotos&&qe.proofPhotos.length>0&&x.jsx(yt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",onClick:()=>{Et(!1),Dt(null),st(null)},children:x.jsxs(yt.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"relative max-w-lg w-full",onClick:W=>W.stopPropagation(),children:[x.jsx("button",{onClick:()=>{Et(!1),Dt(null),st(null)},className:"absolute -top-12 right-0 p-2 text-white/70 hover:text-white transition-colors z-10",children:x.jsx(wc,{size:28})}),x.jsxs("div",{className:"rounded-2xl overflow-hidden border border-white/10 shadow-2xl",children:[x.jsxs("div",{className:"relative bg-black",children:[x.jsx("img",{src:qe.proofPhotos[tt],alt:`Proof photo ${tt+1}`,className:"w-full h-auto max-h-[50vh] object-contain"}),qe.proofPhotos.length>1&&x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>wn(W=>W>0?W-1:qe.proofPhotos.length-1),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:x.jsx(e2,{size:24})}),x.jsx("button",{onClick:()=>wn(W=>W<qe.proofPhotos.length-1?W+1:0),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:x.jsx(t2,{size:24})})]}),x.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/60 rounded-full text-white text-xs font-medium",children:[tt+1," / ",qe.proofPhotos.length]})]}),qe.proofPhotos.length>1&&x.jsx("div",{className:"flex gap-1 p-2 bg-bg-dark/80 overflow-x-auto",children:qe.proofPhotos.map((W,Ee)=>x.jsx("button",{onClick:()=>wn(Ee),className:_i("w-12 h-12 rounded-md overflow-hidden border-2 flex-shrink-0 transition-all",tt===Ee?"border-accent-primary":"border-transparent opacity-60 hover:opacity-100"),children:x.jsx("img",{src:W,alt:"",className:"w-full h-full object-cover"})},Ee))}),x.jsxs("div",{className:"p-4 bg-bg-dark/95",children:[x.jsx("p",{className:"text-white font-semibold mb-1",children:qe.text}),x.jsxs("p",{className:"text-slate-400 text-xs",children:["Completed by ",qe.completedBy,"  ",Wi(qe.completedAt)]})]})]}),x.jsx("div",{className:"mt-4 flex gap-2",children:qe.proofPhotos.length<5&&x.jsxs(x.Fragment,{children:[x.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:Nt,className:"hidden",onChange:async W=>{const Ee=W.target.files?.[0];if(Ee&&un!==null&&qe){Ns(!0);try{const bt=await E(un,Ee);if(bt){const At=[...qe.proofPhotos||[],bt];Dt({...qe,proofPhotos:At}),wn(At.length-1)}}catch{alert("Failed to add photo. Max 5 photos allowed.")}finally{Ns(!1),Nt.current&&(Nt.current.value="")}}}}),x.jsxs("button",{onClick:()=>Nt.current?.click(),disabled:fr,className:"flex-1 py-2 px-4 bg-accent-gold/20 text-accent-gold rounded-xl font-medium flex items-center justify-center gap-2 hover:bg-accent-gold/30 transition-colors disabled:opacity-50",children:[x.jsx(zy,{size:18}),fr?"Adding...":`Add Photo (${qe.proofPhotos.length}/5)`]})]})}),x.jsx("button",{onClick:()=>{const W=n.findIndex(Ee=>Ee.id===qe.id);W!==-1&&a(W),Et(!1),Dt(null),st(null)},className:"mt-2 w-full py-2 text-sm text-red-400 hover:text-red-300 transition-colors",children:"Mark as In Progress"})]})})}),x.jsx(vs,{children:ie&&K&&x.jsxs(yt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-24 left-1/2 -translate-x-1/2 bg-slate-900 border border-white/20 text-white px-6 py-3 rounded-full shadow-2xl z-50 flex items-center gap-4",children:[x.jsxs("span",{children:["Marked as ",K.wasCompleted?"incomplete":"complete"]}),x.jsx("button",{onClick:()=>{a(K.index),de(!1)},className:"font-bold text-accent-primary hover:text-white transition-colors",children:"Undo"}),x.jsx("button",{onClick:()=>de(!1),className:"text-slate-400 hover:text-white",children:x.jsx(wc,{size:16})})]})}),x.jsx(vs,{children:re&&x.jsx(yt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",children:x.jsxs(yt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-slate-900 border border-white/20 rounded-3xl p-8 max-w-sm w-full shadow-2xl relative overflow-hidden",children:[x.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-20 pointer-events-none",children:x.jsx(nS,{className:"w-32 h-32 text-accent-gold rotate-12"})}),x.jsxs("div",{className:"relative z-10 text-center",children:[x.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Welcome! "}),x.jsxs("p",{className:"text-slate-400 mb-8 h-12",children:[F===0&&"Tap any tile to mark it as complete.",F===1&&"Start 'Edit Mode' to add your own tasks.",F===2&&"Invite friends to play together!"]}),x.jsx("div",{className:"flex justify-center mb-8",children:x.jsx("div",{className:"w-32 h-32 bg-black/40 rounded-2xl border border-white/10 flex items-center justify-center relative",children:x.jsxs(vs,{mode:"wait",children:[F===0&&x.jsxs(yt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute inset-0 flex items-center justify-center",children:[x.jsx("div",{className:"w-16 h-16 bg-accent-primary/20 rounded-lg border border-accent-primary flex items-center justify-center",children:x.jsx(Rf,{className:"w-8 h-8 text-white"})}),x.jsx(yt.div,{animate:{scale:[1,1.2,1],opacity:[0,1,0]},transition:{repeat:1/0,duration:1.5},className:"absolute w-20 h-20 rounded-full border-2 border-white/50"})]},"step0"),F===1&&x.jsx(yt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:x.jsx(rS,{className:"w-12 h-12 text-blue-400"})},"step1"),F===2&&x.jsx(yt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:x.jsx(aS,{className:"w-12 h-12 text-green-400"})},"step2")]})})}),x.jsx("div",{className:"flex gap-2 justify-center mb-6",children:[0,1,2].map(W=>x.jsx("div",{className:_i("w-2 h-2 rounded-full transition-colors",W===F?"bg-white":"bg-white/20")},W))}),x.jsx("button",{onClick:pe,className:"w-full py-3 bg-white text-black font-bold rounded-xl hover:bg-slate-200 transition-colors",children:F===2?"Let's Play!":"Next"})]})]})})})]}),x.jsxs("div",{className:"only-print hidden",children:[x.jsxs("div",{className:"flex justify-between items-end mb-4 border-b-2 border-black pb-2",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("img",{src:"/logo.png",className:"h-12 w-auto",alt:"Logo"}),x.jsx("h1",{className:"text-2xl font-bold",children:"2026 Edition"})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-xs uppercase tracking-widest mb-0.5",children:"Status Report"}),x.jsxs("p",{className:"text-xl font-bold",children:[c," / 12 Bingos"]})]})]}),x.jsx("div",{className:"grid grid-cols-5 gap-0 border-2 border-black",children:n.slice(0,25).map(W=>x.jsxs("div",{className:"aspect-square border border-black p-1.5 flex flex-col justify-between relative overflow-hidden min-h-[100px]",children:[x.jsx("div",{className:"text-[11px] font-bold leading-tight z-10",children:W.text}),W.isCompleted&&!W.isFreeSpace&&x.jsxs("div",{className:"mt-0.5 relative z-10",children:[x.jsx("div",{className:"text-[7px] uppercase font-bold text-slate-700",children:"Completed by:"}),x.jsx("div",{className:"text-[9px] font-mono font-bold leading-none",children:W.completedBy||"User"}),x.jsx("div",{className:"text-[7px] text-slate-600 mt-0.5",children:Wi(W.completedAt)})]}),W.isCompleted&&x.jsx("div",{className:"absolute bottom-1 right-1 text-3xl font-bold text-slate-200 opacity-60 pointer-events-none z-0",children:""}),W.isFreeSpace&&x.jsx("div",{className:"absolute inset-0 flex items-center justify-center font-bold text-xl rotate-[-45deg] opacity-20",children:"FREE"})]},W.id))}),x.jsxs("div",{className:"mt-4 text-[9px] text-center border-t border-black pt-2 flex justify-between text-slate-500",children:[x.jsxs("span",{children:["Generated on ",new Date().toLocaleDateString()," at ",new Date().toLocaleTimeString()]}),x.jsx("span",{children:"bingo.mysunsar.com"})]})]}),x.jsx(Rz,{items:n,isOpen:Ci,onClose:()=>Ri(!1)})]})},Dz=()=>{const{user:t,logout:e}=Fc(),n=s2(),s=Id(),[a,l]=P.useState([]),[c,d]=P.useState(!0),[m,p]=P.useState(!1),[y,v]=P.useState(null),E={default:{name:"2026 Goals ",items:["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"]},fitness:{name:"Fitness Challenge ",items:["Run a 5k","Do 50 pushups in a row","Try a yoga class","Drink 3L water for a week","No sugar for 7 days","Go for a hike","Meal prep for a week","Climb a bouldering wall","Try Pilates","Walk 15k steps in a day","Do a spin class","Bike 20km","FREE SPACE","Touch your toes","Hold a plank for 2 min","Try CrossFit","Go swimming","Meditate for 10 mins x 7","Try a new sport","Sleep 8 hours x 5 days","Do 100 squats","Run a 10k","Go to the gym 4x in a week","Stretch daily for a week","Join a run club"]},couples:{name:"Couple Goals ",items:["Date night (no phones)","Cook a meal together","Weekend getaway","Watch a whole series","Breakfast in bed","Go for a long walk","Plan a future trip","Give each other massages","Recreate first date","Take a dance class","Stargazing date","Write love letters","FREE SPACE","Visit a winery/brewery","Do a puzzle together","Double date","Sunset picnic","Bake something sweet","Volunteer together","Learn a couple's skill","Game night","Make a photo album","Try a new restaurant","Surprise gift","Kiss in the rain"]},personal:{name:"Personal Growth ",items:["Read 1 book/month","Learn a new language","Start a journal","Digital detox (24h)","Meditate daily (1 week)","Drink 2L water daily","Wake up at 6am (1 week)","Declutter a room","Learn to invest","Take a solo trip","Volunteer","Compliment a stranger","FREE SPACE","No social media (weekend)","Learn an instrument","Cook a new cuisine","Write a gratitude list","Take a cold shower","Listen to a podcast","Fix sleep schedule","Walk 10k steps","Call an old friend","Create a vision board","Save 10% income","Take a course"]},knitting:{name:"Knitting Goals ",items:["Finish a WIP","Cast on a sweater","Learn brioche","Knit socks","Stash bust project","Try colorwork","Knit a hat","Use luxury yarn","Fix a mistake","Knit a gift","Block a project","Organize needles","FREE SPACE","Try a new fiber","Knit in public","Attend a knit night","Learn magic loop","Design a pattern","Teach someone to knit","Finish a blanket","Knit a shawl","Try cables","Buy souvenir yarn","Weave in ends immediately","Knit a gauge swatch"]},weaving:{name:"Weaving Goals ",items:["Warp the loom","Weave a rug","Try a new structure","Sample a pattern","Use handspun yarn","Finish a scarf","Hemstitching","Fix a broken warp","Weave a towel","Try tapestry","Mix fibers","Organize yarn stash","FREE SPACE","Weave a placemat","Attend a workshop","Try doublewidth","Weave transparency","Calculate warp correctly","Finish raw edges","Weave with rags","Try tablet weaving","Rigid heddle project","Floor loom project","Visit a mill","Share a project online"]},spinning:{name:"Spinning Goals ",items:["Spin 100g fiber","Ply a yarn","Try a new breed","Spin lace weight","Spin art yarn","Comb fleece","Card a batt","Spin on a drop spindle","Clean the wheel","Spin distinct colors","Skein and wash","Fractal spin","FREE SPACE","Spin silk","Spin cotton","Navajo ply","Spin for a project","Participate in Tour de Fleece","Sample a blend","Teach spinning","Spin consistent grist","Dye fiber","Blend colors on hackle","Spin exotic fiber","Fill a bobbin"]},painting:{name:"Painting Goals ",items:["Paint a landscape","Try watercolors","Paint a portrait","Mix a new color","Paint en plein air","Visit a gallery","Finish a sketchbook","Try oils","Paint a still life","Use a palette knife","Paint an animal","Try abstract","FREE SPACE","Clean brushes properly","Paint on canvas","Paint on wood","Follow a tutorial","Paint a sky","Try gouache","Varnish a painting","Frame a piece","Paint daily for a week","Recreate a master","Paint a self-portrait","Host a paint night"]},corporate:{name:"Corporate Bingo ",items:['"Circle back"',`"Let's take this offline"`,"Meeting that could be an email",'"Synergy"','"Low hanging fruit"','"Touch base"',"Someone forgets to mute","Screen share fails",'"Can you see my screen?"',"Awkward silence",'"Bandwidth"','"Deep dive"',"FREE SPACE","Pet interrupts video call","Echo on the line",'"Per my last email"','"Drill down"','"Out of pocket"','"Hard stop"','"Boil the ocean"',"Reply All disaster",'"Move the needle"','"Blue sky thinking"','"Paradigm shift"','"Quick win"']},travel:{name:"Travel Bucket List ",items:["Visit a new continent","Go on a solo trip","See the Northern Lights","Swim in an ocean","Road trip across 3 states","Fly First Class","Visit a National Park","Eat street food","Stay in a hostel","Learn 'Hello' in 5 languages","Visit a Wonder of the World","Go on a cruise","FREE SPACE","Make a travel vlog","Sleep under the stars","Visit a castle","Ride a train","See a volcano","Go scuba diving","Watch a sunrise on a mountain","Visit a winery","Ride a camel/elephant","Go skiing/snowboarding","Visit a tropical island","Send a postcard"]}};P.useEffect(()=>{if(!t)return;(async()=>{try{console.log("Fetching boards for user:",t.uid,t.email);const k=pd(ic(Jr,"boards"),gd("ownerId","==",t.uid)),B=await yd(k);console.log("Owned boards found:",B.docs.length);const q=B.docs.map(ae=>({id:ae.id,...ae.data(),myRole:"owner"}));let H=[];try{const ae=pd(ic(Jr,"boards"),gd(`members.${t.uid}`,"in",["owner","editor","viewer"])),me=await yd(ae);console.log("Boards with membership found:",me.docs.length);const R=new Set(q.map(w=>w.id));H=me.docs.filter(w=>!R.has(w.id)).map(w=>{const C=w.data(),N=C.members?.[t.uid];return{id:w.id,...C,myRole:N==="owner"?"owner":N}})}catch(ae){console.log("Shared boards query failed (index may be missing):",ae)}const ue=[...q,...H];console.log("Total boards to display:",ue.length),l(ue)}catch(k){console.error("Error fetching boards:",k)}finally{d(!1)}})()},[t]);const D=async V=>{if(!t)return;const k=E[V],B=await n.prompt("What would you like to call this board?",{title:"Board Title",inputDefaultValue:k.name,confirmText:"Create"});if(B)try{const H=[...k.items.filter(R=>R.trim().toUpperCase()!=="FREE SPACE"&&R!=="FREE SPACE")].sort(()=>.5-Math.random());for(;H.length<24;)H.push("Bonus Task ");const ue=[];let ae=0;for(let R=0;R<25;R++)R===12?ue.push({id:R,text:"FREE SPACE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(ue.push({id:R,text:H[ae],isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),ae++);const me=await lC(ic(Jr,"boards"),{title:B,ownerId:t.uid,members:{[t.uid]:"owner"},items:ue,createdAt:Fe.now(),isLocked:!1,lastUpdated:Fe.now()});s(`/board/${me.id}`)}catch(q){console.error("Error creating board:",q),await n.alert("Failed to create board. Please try again.",{title:"Error",type:"error"})}finally{p(!1)}};if(c)return x.jsx("div",{className:"min-h-screen bg-bg-dark flex items-center justify-center text-white",children:"Loading Dashboard..."});const L=async(V,k,B)=>{if(V.stopPropagation(),await n.confirm(`This will permanently delete "${B}" and all its data.

This action cannot be undone.`,{title:"Delete Board?",confirmText:"Delete",type:"error"}))try{await oC(yc(Jr,"boards",k)),l(H=>H.filter(ue=>ue.id!==k)),await n.alert("Board deleted successfully.",{title:"Deleted",type:"success"})}catch(H){console.error("Error deleting board:",H),await n.alert("Failed to delete board. Please try again.",{title:"Error",type:"error"})}};return x.jsxs("div",{className:"min-h-screen bg-bg-dark text-white p-6 relative",children:[x.jsxs("div",{className:"max-w-4xl mx-auto",children:[x.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center mb-10 gap-4",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-14 w-auto object-contain cursor-pointer active:scale-95 transition-transform"}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent",children:"My Boards"}),x.jsxs("p",{className:"text-slate-400 mt-1 text-sm",children:["Welcome back, ",t?.displayName||"Bingo Player"]})]})]}),x.jsx("div",{className:"flex gap-4",children:x.jsx("button",{onClick:e,className:"bg-white/5 hover:bg-white/10 px-4 py-2 rounded-lg text-sm font-semibold transition-colors",children:"Logout"})})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[x.jsxs("button",{onClick:()=>p(!0),className:"group relative flex flex-col items-center justify-center h-48 rounded-2xl border-2 border-dashed border-slate-700 bg-white/5 hover:bg-white/10 hover:border-accent-primary transition-all cursor-pointer",children:[x.jsx("div",{className:"w-12 h-12 rounded-full bg-accent-primary/20 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:x.jsx(zy,{className:"w-6 h-6 text-accent-primary"})}),x.jsx("span",{className:"font-semibold text-slate-300 group-hover:text-white",children:"Create New Board"})]}),a.map(V=>x.jsxs("div",{onClick:()=>s(`/board/${V.id}`),className:"group relative h-48 rounded-2xl bg-gradient-to-br from-slate-800 to-slate-900 border border-white/10 hover:border-accent-secondary/50 p-6 flex flex-col justify-between cursor-pointer transition-all hover:translate-y-[-4px] hover:shadow-xl overflow-hidden",children:[x.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:x.jsx(n2,{className:"w-24 h-24"})}),V.myRole==="owner"&&x.jsx("button",{onClick:k=>L(k,V.id,V.title),className:"absolute top-4 right-4 p-2 text-slate-500 hover:text-red-400 hover:bg-white/10 rounded-full transition-all opacity-0 group-hover:opacity-100 z-10",title:"Delete Board",children:x.jsx(I9,{size:18})}),V.myRole&&V.myRole!=="owner"&&x.jsx("div",{className:"absolute top-4 left-4 z-10",children:x.jsx("span",{className:`inline-block px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide ${V.myRole==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/30":"bg-blue-500/20 text-blue-400 border border-blue-500/30"}`,children:V.myRole==="editor"?" Editor":" Viewer"})}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-bold text-white mb-2 line-clamp-1",children:V.title}),x.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[x.jsx(Uy,{className:"w-3 h-3"}),V.createdAt?.toDate?V.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),x.jsx("div",{className:"mt-auto",children:x.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-medium bg-accent-primary/20 text-accent-primary border border-accent-primary/20 group-hover:bg-accent-primary group-hover:text-white transition-colors",children:"Open Board"})})]},V.id))]})]}),m&&x.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[x.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>{y?v(null):p(!1)}}),x.jsxs("div",{className:"relative w-full max-w-2xl bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[x.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center shrink-0",children:[x.jsx("h2",{className:"text-xl font-bold text-white",children:y?E[y].name:"Choose a Template"}),x.jsx("button",{onClick:()=>{y?v(null):p(!1)},className:"text-slate-400 hover:text-white",children:x.jsx(zy,{className:"w-6 h-6 rotate-45"})})]}),x.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:y?x.jsxs("div",{className:"space-y-6",children:[x.jsx("div",{className:"flex justify-center mb-6",children:x.jsx("div",{className:"aspect-square w-full max-w-[320px] grid grid-cols-5 gap-1.5 p-2 bg-slate-950/50 rounded-xl border border-white/10",children:E[y].items.slice(0,25).map((V,k)=>{const B=k===12,q=V.trim().toUpperCase()==="FREE SPACE"||B;return x.jsx("div",{className:`
                                                            relative rounded flex items-center justify-center p-0.5 text-center select-none overflow-hidden 
                                                            text-[6px] sm:text-[8px] leading-tight font-medium border shadow-sm
                                                            ${q?"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50 text-accent-gold font-bold":"bg-white/5 border-white/10 text-slate-300"}
                                                        `,children:q?"FREE":V},k)})})}),x.jsxs("div",{className:"flex gap-3 pt-4",children:[x.jsx("button",{onClick:()=>v(null),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Back"}),x.jsx("button",{onClick:()=>D(y),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all",children:"Create Board"})]})]}):x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(E).map(([V,k])=>x.jsxs("button",{onClick:()=>v(V),className:"flex flex-col items-start p-4 rounded-xl bg-white/5 hover:bg-white/10 border border-white/5 hover:border-accent-primary/50 transition-all text-left group",children:[x.jsx("h3",{className:"font-bold text-white group-hover:text-accent-primary transition-colors",children:k.name}),x.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Click to preview"})]},V))})})]})]})]})},Nz=()=>{const{user:t,loading:e}=Fc();return e?x.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-bg-dark text-slate-500",children:"Initializing..."}):t?x.jsx(RN,{children:x.jsxs(sN,{children:[x.jsx(Gu,{path:"/",element:x.jsx(sE,{to:"/dashboard",replace:!0})}),x.jsx(Gu,{path:"/dashboard",element:x.jsx(Dz,{})}),x.jsx(Gu,{path:"/board/:boardId",element:x.jsx(Iz,{})}),x.jsx(Gu,{path:"*",element:x.jsx(sE,{to:"/dashboard",replace:!0})})]})}):x.jsx(V9,{})};function kz(){return x.jsx(d3,{children:x.jsx(M9,{children:x.jsx(Nz,{})})})}console.log("Main.tsx full run");const mS=document.getElementById("root");mS?aD.createRoot(mS).render(x.jsx(P.StrictMode,{children:x.jsx(kz,{})})):console.error("Root not found");export{aa as C,Is as F,kd as _,ln as a,jS as b,ao as c,Ti as d,tm as e,ev as g,ho as i,Xy as p,_s as r,Wy as u};
