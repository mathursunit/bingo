(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Mk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var my={exports:{}},_u={};var N1;function Pk(){if(N1)return _u;N1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return _u.Fragment=e,_u.jsx=n,_u.jsxs=n,_u}var I1;function jk(){return I1||(I1=1,my.exports=Pk()),my.exports}var y=jk(),py={exports:{}},qe={};var D1;function Ok(){if(D1)return qe;D1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function A(T){return T===null||typeof T!="object"?null:(T=x&&T[x]||T["@@iterator"],typeof T=="function"?T:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,R={};function j(T,U,X){this.props=T,this.context=U,this.refs=R,this.updater=X||I}j.prototype.isReactComponent={},j.prototype.setState=function(T,U){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,U,"setState")},j.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function q(){}q.prototype=j.prototype;function H(T,U,X){this.props=T,this.context=U,this.refs=R,this.updater=X||I}var ae=H.prototype=new q;ae.constructor=H,D(ae,j.prototype),ae.isPureReactComponent=!0;var ie=Array.isArray;function ue(){}var k={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function P(T,U,X){var ne=X.ref;return{$$typeof:t,type:T,key:U,ref:ne!==void 0?ne:null,props:X}}function z(T,U){return P(T.type,U,T.props)}function B(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}function V(T){var U={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(X){return U[X]})}var O=/\/+/g;function we(T,U){return typeof T=="object"&&T!==null&&T.key!=null?V(""+T.key):U.toString(36)}function xe(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(ue,ue):(T.status="pending",T.then(function(U){T.status==="pending"&&(T.status="fulfilled",T.value=U)},function(U){T.status==="pending"&&(T.status="rejected",T.reason=U)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function Z(T,U,X,ne,pe){var ye=typeof T;(ye==="undefined"||ye==="boolean")&&(T=null);var ge=!1;if(T===null)ge=!0;else switch(ye){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(T.$$typeof){case t:case e:ge=!0;break;case g:return ge=T._init,Z(ge(T._payload),U,X,ne,pe)}}if(ge)return pe=pe(T),ge=ne===""?"."+we(T,0):ne,ie(pe)?(X="",ge!=null&&(X=ge.replace(O,"$&/")+"/"),Z(pe,U,X,"",function(Se){return Se})):pe!=null&&(B(pe)&&(pe=z(pe,X+(pe.key==null||T&&T.key===pe.key?"":(""+pe.key).replace(O,"$&/")+"/")+ge)),U.push(pe)),1;ge=0;var Ee=ne===""?".":ne+":";if(ie(T))for(var Te=0;Te<T.length;Te++)ne=T[Te],ye=Ee+we(ne,Te),ge+=Z(ne,U,X,ye,pe);else if(Te=A(T),typeof Te=="function")for(T=Te.call(T),Te=0;!(ne=T.next()).done;)ne=ne.value,ye=Ee+we(ne,Te++),ge+=Z(ne,U,X,ye,pe);else if(ye==="object"){if(typeof T.then=="function")return Z(xe(T),U,X,ne,pe);throw U=String(T),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return ge}function W(T,U,X){if(T==null)return T;var ne=[],pe=0;return Z(T,ne,"","",function(ye){return U.call(X,ye,pe++)}),ne}function $(T){if(T._status===-1){var U=T._result;U=U(),U.then(function(X){(T._status===0||T._status===-1)&&(T._status=1,T._result=X)},function(X){(T._status===0||T._status===-1)&&(T._status=2,T._result=X)}),T._status===-1&&(T._status=0,T._result=U)}if(T._status===1)return T._result.default;throw T._result}var Y=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},L={map:W,forEach:function(T,U,X){W(T,function(){U.apply(this,arguments)},X)},count:function(T){var U=0;return W(T,function(){U++}),U},toArray:function(T){return W(T,function(U){return U})||[]},only:function(T){if(!B(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return qe.Activity=b,qe.Children=L,qe.Component=j,qe.Fragment=n,qe.Profiler=a,qe.PureComponent=H,qe.StrictMode=s,qe.Suspense=d,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,qe.__COMPILER_RUNTIME={__proto__:null,c:function(T){return k.H.useMemoCache(T)}},qe.cache=function(T){return function(){return T.apply(null,arguments)}},qe.cacheSignal=function(){return null},qe.cloneElement=function(T,U,X){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var ne=D({},T.props),pe=T.key;if(U!=null)for(ye in U.key!==void 0&&(pe=""+U.key),U)!C.call(U,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&U.ref===void 0||(ne[ye]=U[ye]);var ye=arguments.length-2;if(ye===1)ne.children=X;else if(1<ye){for(var ge=Array(ye),Ee=0;Ee<ye;Ee++)ge[Ee]=arguments[Ee+2];ne.children=ge}return P(T.type,pe,ne)},qe.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:l,_context:T},T},qe.createElement=function(T,U,X){var ne,pe={},ye=null;if(U!=null)for(ne in U.key!==void 0&&(ye=""+U.key),U)C.call(U,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(pe[ne]=U[ne]);var ge=arguments.length-2;if(ge===1)pe.children=X;else if(1<ge){for(var Ee=Array(ge),Te=0;Te<ge;Te++)Ee[Te]=arguments[Te+2];pe.children=Ee}if(T&&T.defaultProps)for(ne in ge=T.defaultProps,ge)pe[ne]===void 0&&(pe[ne]=ge[ne]);return P(T,ye,pe)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(T){return{$$typeof:h,render:T}},qe.isValidElement=B,qe.lazy=function(T){return{$$typeof:g,_payload:{_status:-1,_result:T},_init:$}},qe.memo=function(T,U){return{$$typeof:m,type:T,compare:U===void 0?null:U}},qe.startTransition=function(T){var U=k.T,X={};k.T=X;try{var ne=T(),pe=k.S;pe!==null&&pe(X,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(ue,Y)}catch(ye){Y(ye)}finally{U!==null&&X.types!==null&&(U.types=X.types),k.T=U}},qe.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},qe.use=function(T){return k.H.use(T)},qe.useActionState=function(T,U,X){return k.H.useActionState(T,U,X)},qe.useCallback=function(T,U){return k.H.useCallback(T,U)},qe.useContext=function(T){return k.H.useContext(T)},qe.useDebugValue=function(){},qe.useDeferredValue=function(T,U){return k.H.useDeferredValue(T,U)},qe.useEffect=function(T,U){return k.H.useEffect(T,U)},qe.useEffectEvent=function(T){return k.H.useEffectEvent(T)},qe.useId=function(){return k.H.useId()},qe.useImperativeHandle=function(T,U,X){return k.H.useImperativeHandle(T,U,X)},qe.useInsertionEffect=function(T,U){return k.H.useInsertionEffect(T,U)},qe.useLayoutEffect=function(T,U){return k.H.useLayoutEffect(T,U)},qe.useMemo=function(T,U){return k.H.useMemo(T,U)},qe.useOptimistic=function(T,U){return k.H.useOptimistic(T,U)},qe.useReducer=function(T,U,X){return k.H.useReducer(T,U,X)},qe.useRef=function(T){return k.H.useRef(T)},qe.useState=function(T){return k.H.useState(T)},qe.useSyncExternalStore=function(T,U,X){return k.H.useSyncExternalStore(T,U,X)},qe.useTransition=function(){return k.H.useTransition()},qe.version="19.2.3",qe}var k1;function uv(){return k1||(k1=1,py.exports=Ok()),py.exports}var S=uv();const St=Mk(S);var gy={exports:{}},Tu={},yy={exports:{}},vy={};var M1;function Vk(){return M1||(M1=1,(function(t){function e(Z,W){var $=Z.length;Z.push(W);e:for(;0<$;){var Y=$-1>>>1,L=Z[Y];if(0<a(L,W))Z[Y]=W,Z[$]=L,$=Y;else break e}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var W=Z[0],$=Z.pop();if($!==W){Z[0]=$;e:for(var Y=0,L=Z.length,T=L>>>1;Y<T;){var U=2*(Y+1)-1,X=Z[U],ne=U+1,pe=Z[ne];if(0>a(X,$))ne<L&&0>a(pe,X)?(Z[Y]=pe,Z[ne]=$,Y=ne):(Z[Y]=X,Z[U]=$,Y=U);else if(ne<L&&0>a(pe,$))Z[Y]=pe,Z[ne]=$,Y=ne;else break e}}return W}function a(Z,W){var $=Z.sortIndex-W.sortIndex;return $!==0?$:Z.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],m=[],g=1,b=null,x=3,A=!1,I=!1,D=!1,R=!1,j=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function ae(Z){for(var W=n(m);W!==null;){if(W.callback===null)s(m);else if(W.startTime<=Z)s(m),W.sortIndex=W.expirationTime,e(d,W);else break;W=n(m)}}function ie(Z){if(D=!1,ae(Z),!I)if(n(d)!==null)I=!0,ue||(ue=!0,V());else{var W=n(m);W!==null&&xe(ie,W.startTime-Z)}}var ue=!1,k=-1,C=5,P=-1;function z(){return R?!0:!(t.unstable_now()-P<C)}function B(){if(R=!1,ue){var Z=t.unstable_now();P=Z;var W=!0;try{e:{I=!1,D&&(D=!1,q(k),k=-1),A=!0;var $=x;try{t:{for(ae(Z),b=n(d);b!==null&&!(b.expirationTime>Z&&z());){var Y=b.callback;if(typeof Y=="function"){b.callback=null,x=b.priorityLevel;var L=Y(b.expirationTime<=Z);if(Z=t.unstable_now(),typeof L=="function"){b.callback=L,ae(Z),W=!0;break t}b===n(d)&&s(d),ae(Z)}else s(d);b=n(d)}if(b!==null)W=!0;else{var T=n(m);T!==null&&xe(ie,T.startTime-Z),W=!1}}break e}finally{b=null,x=$,A=!1}W=void 0}}finally{W?V():ue=!1}}}var V;if(typeof H=="function")V=function(){H(B)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,we=O.port2;O.port1.onmessage=B,V=function(){we.postMessage(null)}}else V=function(){j(B,0)};function xe(Z,W){k=j(function(){Z(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(Z){switch(x){case 1:case 2:case 3:var W=3;break;default:W=x}var $=x;x=W;try{return Z()}finally{x=$}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(Z,W){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var $=x;x=Z;try{return W()}finally{x=$}},t.unstable_scheduleCallback=function(Z,W,$){var Y=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Y+$:Y):$=Y,Z){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=$+L,Z={id:g++,callback:W,priorityLevel:Z,startTime:$,expirationTime:L,sortIndex:-1},$>Y?(Z.sortIndex=$,e(m,Z),n(d)===null&&Z===n(m)&&(D?(q(k),k=-1):D=!0,xe(ie,$-Y))):(Z.sortIndex=L,e(d,Z),I||A||(I=!0,ue||(ue=!0,V()))),Z},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(Z){var W=x;return function(){var $=x;x=W;try{return Z.apply(this,arguments)}finally{x=$}}}})(vy)),vy}var P1;function Lk(){return P1||(P1=1,yy.exports=Vk()),yy.exports}var by={exports:{}},ss={};var j1;function Uk(){if(j1)return ss;j1=1;var t=uv();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,m,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:d,containerInfo:m,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ss.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ss.createPortal=function(d,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(d,m,null,g)},ss.flushSync=function(d){var m=c.T,g=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=m,s.p=g,s.d.f()}},ss.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(d,m))},ss.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},ss.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var g=m.as,b=h(g,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?s.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:A}):g==="script"&&s.d.X(d,{crossOrigin:b,integrity:x,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ss.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);s.d.M(d,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(d)},ss.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,b=h(g,m.crossOrigin);s.d.L(d,g,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ss.preloadModule=function(d,m){if(typeof d=="string")if(m){var g=h(m.as,m.crossOrigin);s.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(d)},ss.requestFormReset=function(d){s.d.r(d)},ss.unstable_batchedUpdates=function(d,m){return d(m)},ss.useFormState=function(d,m,g){return c.H.useFormState(d,m,g)},ss.useFormStatus=function(){return c.H.useHostTransitionStatus()},ss.version="19.2.3",ss}var O1;function gA(){if(O1)return by.exports;O1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),by.exports=Uk(),by.exports}var V1;function zk(){if(V1)return Tu;V1=1;var t=Lk(),e=uv(),n=gA();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var p=o.return;if(p===null)break;var v=p.alternate;if(v===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===o)return d(p),i;if(v===u)return d(p),r;v=v.sibling}throw Error(s(188))}if(o.return!==u.return)o=p,u=v;else{for(var _=!1,N=p.child;N;){if(N===o){_=!0,o=p,u=v;break}if(N===u){_=!0,u=p,o=v;break}N=N.sibling}if(!_){for(N=v.child;N;){if(N===o){_=!0,o=v,u=p;break}if(N===u){_=!0,u=v,o=p;break}N=N.sibling}if(!_)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),H=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function V(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var O=Symbol.for("react.client.reference");function we(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===O?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case j:return"Profiler";case R:return"StrictMode";case ie:return"Suspense";case ue:return"SuspenseList";case P:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case I:return"Portal";case H:return i.displayName||"Context";case q:return(i._context.displayName||"Context")+".Consumer";case ae:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return r=i.displayName||null,r!==null?r:we(i.type)||"Memo";case C:r=i._payload,i=i._init;try{return we(i(r))}catch{}}return null}var xe=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},Y=[],L=-1;function T(i){return{current:i}}function U(i){0>L||(i.current=Y[L],Y[L]=null,L--)}function X(i,r){L++,Y[L]=i.current,i.current=r}var ne=T(null),pe=T(null),ye=T(null),ge=T(null);function Ee(i,r){switch(X(ye,r),X(pe,i),X(ne,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?J_(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=J_(r),i=Z_(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}U(ne),X(ne,i)}function Te(){U(ne),U(pe),U(ye)}function Se(i){i.memoizedState!==null&&X(ge,i);var r=ne.current,o=Z_(r,i.type);r!==o&&(X(pe,i),X(ne,o))}function Be(i){pe.current===i&&(U(ne),U(pe)),ge.current===i&&(U(ge),vu._currentValue=$)}var Ue,tt;function ke(i){if(Ue===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ue=r&&r[1]||"",tt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ue+i+tt}var vt=!1;function bt(i,r){if(!i||vt)return"";vt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(le){var re=le}Reflect.construct(i,[],fe)}else{try{fe.call()}catch(le){re=le}i.call(fe.prototype)}}else{try{throw Error()}catch(le){re=le}(fe=i())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(le){if(le&&re&&typeof le.stack=="string")return[le.stack,re.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),_=v[0],N=v[1];if(_&&N){var F=_.split(`
`),se=N.split(`
`);for(p=u=0;u<F.length&&!F[u].includes("DetermineComponentFrameRoot");)u++;for(;p<se.length&&!se[p].includes("DetermineComponentFrameRoot");)p++;if(u===F.length||p===se.length)for(u=F.length-1,p=se.length-1;1<=u&&0<=p&&F[u]!==se[p];)p--;for(;1<=u&&0<=p;u--,p--)if(F[u]!==se[p]){if(u!==1||p!==1)do if(u--,p--,0>p||F[u]!==se[p]){var ce=`
`+F[u].replace(" at new "," at ");return i.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",i.displayName)),ce}while(1<=u&&0<=p);break}}}finally{vt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?ke(o):""}function Yt(i,r){switch(i.tag){case 26:case 27:case 5:return ke(i.type);case 16:return ke("Lazy");case 13:return i.child!==r&&r!==null?ke("Suspense Fallback"):ke("Suspense");case 19:return ke("SuspenseList");case 0:case 15:return bt(i.type,!1);case 11:return bt(i.type.render,!1);case 1:return bt(i.type,!0);case 31:return ke("Activity");default:return""}}function Xt(i){try{var r="",o=null;do r+=Yt(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var ot=Object.prototype.hasOwnProperty,$e=t.unstable_scheduleCallback,Rn=t.unstable_cancelCallback,rn=t.unstable_shouldYield,ds=t.unstable_requestPaint,zt=t.unstable_now,_s=t.unstable_getCurrentPriorityLevel,Ts=t.unstable_ImmediatePriority,Pn=t.unstable_UserBlockingPriority,kt=t.unstable_NormalPriority,fs=t.unstable_LowPriority,Es=t.unstable_IdlePriority,yn=t.log,bi=t.unstable_setDisableYieldValue,jn=null,xt=null;function On(i){if(typeof yn=="function"&&bi(i),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(jn,i)}catch{}}var At=Math.clz32?Math.clz32:wi,Jr=Math.log,xi=Math.LN2;function wi(i){return i>>>=0,i===0?32:31-(Jr(i)/xi|0)|0}var Ss=256,As=262144,Oe=4194304;function wt(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Mt(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var p=0,v=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var N=u&134217727;return N!==0?(u=N&~v,u!==0?p=wt(u):(_&=N,_!==0?p=wt(_):o||(o=N&~i,o!==0&&(p=wt(o))))):(N=u&~v,N!==0?p=wt(N):_!==0?p=wt(_):o||(o=u&~i,o!==0&&(p=wt(o)))),p===0?0:r!==0&&r!==p&&(r&v)===0&&(v=p&-p,o=r&-r,v>=o||v===32&&(o&4194048)!==0)?r:p}function Bt(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function an(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vn(){var i=Oe;return Oe<<=1,(Oe&62914560)===0&&(Oe=4194304),i}function Wt(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Zn(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Qt(i,r,o,u,p,v){var _=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var N=i.entanglements,F=i.expirationTimes,se=i.hiddenUpdates;for(o=_&~o;0<o;){var ce=31-At(o),fe=1<<ce;N[ce]=0,F[ce]=-1;var re=se[ce];if(re!==null)for(se[ce]=null,ce=0;ce<re.length;ce++){var le=re[ce];le!==null&&(le.lane&=-536870913)}o&=~fe}u!==0&&Vn(i,u,0),v!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=v&~(_&~r))}function Vn(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-At(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Jt(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-At(o),p=1<<u;p&r|i[u]&r&&(i[u]|=r),o&=~p}}function jt(i,r){var o=r&-r;return o=(o&42)!==0?1:bn(o),(o&(i.suspendedLanes|r))!==0?0:o}function bn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Zt(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function es(){var i=W.p;return i!==0?i:(i=window.event,i===void 0?32:_1(i.type))}function dn(i,r){var o=W.p;try{return W.p=i,r()}finally{W.p=o}}var Gn=Math.random().toString(36).slice(2),Ot="__reactFiber$"+Gn,ut="__reactProps$"+Gn,ms="__reactContainer$"+Gn,ts="__reactEvents$"+Gn,so="__reactListeners$"+Gn,Bi="__reactHandles$"+Gn,mr="__reactResources$"+Gn,Ls="__reactMarker$"+Gn;function Zr(i){delete i[Ot],delete i[ut],delete i[ts],delete i[so],delete i[Bi]}function Us(i){var r=i[Ot];if(r)return r;for(var o=i.parentNode;o;){if(r=o[ms]||o[Ot]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=a1(i);i!==null;){if(o=i[Ot])return o;i=a1(i)}return r}i=o,o=i.parentNode}return null}function Cs(i){if(i=i[Ot]||i[ms]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function ns(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Rs(i){var r=i[mr];return r||(r=i[mr]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function en(i){i[Ls]=!0}var io=new Set,ro={};function zs(i,r){Qs(i,r),Qs(i+"Capture",r)}function Qs(i,r){for(ro[i]=r,i=0;i<r.length;i++)io.add(r[i])}var ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),on={},tl={};function oo(i){return ot.call(tl,i)?!0:ot.call(on,i)?!1:ao.test(i)?tl[i]=!0:(on[i]=!0,!1)}function pr(i,r,o){if(oo(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function ps(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function J(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function ve(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function _t(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ft(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,v=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return p.call(this)},set:function(_){o=""+_,v.call(this,_)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Le(i){if(!i._valueTracker){var r=_t(i)?"checked":"value";i._valueTracker=Ft(i,r,""+i[r])}}function qt(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=_t(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Ht(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ln=/[\n"\\]/g;function Ns(i){return i.replace(Ln,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function nl(i,r,o,u,p,v,_,N){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),r!=null?_==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+ve(r)):i.value!==""+ve(r)&&(i.value=""+ve(r)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),r!=null?Dc(i,_,ve(r)):o!=null?Dc(i,_,ve(o)):u!=null&&i.removeAttribute("value"),p==null&&v!=null&&(i.defaultChecked=!!v),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?i.name=""+ve(N):i.removeAttribute("name")}function Xh(i,r,o,u,p,v,_,N){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),r!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||r!=null)){Le(i);return}o=o!=null?""+ve(o):"",r=r!=null?""+ve(r):o,N||r===i.value||(i.value=r),i.defaultValue=r}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=N?i.checked:!!u,i.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),Le(i)}function Dc(i,r,o){r==="number"&&Ht(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function ea(i,r,o,u){if(i=i.options,r){r={};for(var p=0;p<o.length;p++)r["$"+o[p]]=!0;for(o=0;o<i.length;o++)p=r.hasOwnProperty("$"+i[o].value),i[o].selected!==p&&(i[o].selected=p),p&&u&&(i[o].defaultSelected=!0)}else{for(o=""+ve(o),r=null,p=0;p<i.length;p++){if(i[p].value===o){i[p].selected=!0,u&&(i[p].defaultSelected=!0);return}r!==null||i[p].disabled||(r=i[p])}r!==null&&(r.selected=!0)}}function Wh(i,r,o){if(r!=null&&(r=""+ve(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+ve(o):""}function ta(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(xe(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=ve(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Le(i)}function Is(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Qh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kc(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Qh.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Mc(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var p in r)u=r[p],r.hasOwnProperty(p)&&o[p]!==u&&kc(i,p,u)}else for(var v in r)r.hasOwnProperty(v)&&kc(i,v,r[v])}function sl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),na=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function il(i){return na.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function _i(){}var Pc=null;function Js(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var sa=null,Fi=null;function lo(i){var r=Cs(i);if(r&&(i=r.stateNode)){var o=i[ut]||null;e:switch(i=r.stateNode,r.type){case"input":if(nl(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ns(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var p=u[ut]||null;if(!p)throw Error(s(90));nl(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&qt(u)}break e;case"textarea":Wh(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&ea(i,!!o.multiple,r,!1)}}}var rl=!1;function ia(i,r,o){if(rl)return i(r,o);rl=!0;try{var u=i(r);return u}finally{if(rl=!1,(sa!==null||Fi!==null)&&(Gd(),sa&&(r=sa,i=Fi,Fi=sa=null,lo(r),i)))for(r=0;r<i.length;r++)lo(i[r])}}function Ti(i,r){var o=i.stateNode;if(o===null)return null;var u=o[ut]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),co=!1;if(Zs)try{var Ct={};Object.defineProperty(Ct,"passive",{get:function(){co=!0}}),window.addEventListener("test",Ct,Ct),window.removeEventListener("test",Ct,Ct)}catch{co=!1}var qi=null,jc=null,uo=null;function Oc(){if(uo)return uo;var i,r=jc,o=r.length,u,p="value"in qi?qi.value:qi.textContent,v=p.length;for(i=0;i<o&&r[i]===p[i];i++);var _=o-i;for(u=1;u<=_&&r[o-u]===p[v-u];u++);return uo=p.slice(i,1<u?1-u:void 0)}function ho(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function gr(){return!0}function Ei(){return!1}function $n(i){function r(o,u,p,v,_){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=v,this.target=_,this.currentTarget=null;for(var N in i)i.hasOwnProperty(N)&&(o=i[N],this[N]=o?o(v):v[N]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?gr:Ei,this.isPropagationStopped=Ei,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=gr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=gr)},persist:function(){},isPersistent:gr}),r}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=$n(yr),ra=b({},yr,{view:0,detail:0}),Vc=$n(ra),aa,al,Gi,ol=b({},ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oa,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Gi&&(Gi&&i.type==="mousemove"?(aa=i.screenX-Gi.screenX,al=i.screenY-Gi.screenY):al=aa=0,Gi=i),aa)},movementY:function(i){return"movementY"in i?i.movementY:al}}),Lc=$n(ol),fo=b({},ol,{dataTransfer:0}),Zh=$n(fo),ed=b({},ra,{relatedTarget:0}),mo=$n(ed),Uc=b({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),td=$n(Uc),ll=b({},yr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),nd=$n(ll),sd=b({},yr,{data:0}),$i=$n(sd),id={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ad={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function od(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=ad[i])?!!r[i]:!1}function oa(){return od}var gs=b({},ra,{key:function(i){if(i.key){var r=id[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=ho(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?rd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oa,charCode:function(i){return i.type==="keypress"?ho(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ho(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ld=$n(gs),cd=b({},ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vr=$n(cd),f=b({},ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oa}),w=$n(f),E=b({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),M=$n(E),ee=b({},ol,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),oe=$n(ee),be=b({},yr,{newState:0,oldState:0}),Ke=$n(be),fn=[9,13,27,32],mt=Zs&&"CompositionEvent"in window,Gt=null;Zs&&"documentMode"in document&&(Gt=document.documentMode);var ei=Zs&&"TextEvent"in window&&!Gt,Ki=Zs&&(!mt||Gt&&8<Gt&&11>=Gt),Si=" ",Ai=!1;function po(i,r){switch(i){case"keyup":return fn.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cl(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ul=!1;function sD(i,r){switch(i){case"compositionend":return cl(r);case"keypress":return r.which!==32?null:(Ai=!0,Si);case"textInput":return i=r.data,i===Si&&Ai?null:i;default:return null}}function iD(i,r){if(ul)return i==="compositionend"||!mt&&po(i,r)?(i=Oc(),uo=jc=qi=null,ul=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ki&&r.locale!=="ko"?null:r.data;default:return null}}var rD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cx(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!rD[i.type]:r==="textarea"}function ux(i,r,o,u){sa?Fi?Fi.push(u):Fi=[u]:sa=u,r=Jd(r,"onChange"),0<r.length&&(o=new Hi("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var zc=null,Bc=null;function aD(i){$_(i,0)}function ud(i){var r=ns(i);if(qt(r))return i}function hx(i,r){if(i==="change")return r}var dx=!1;if(Zs){var wp;if(Zs){var _p="oninput"in document;if(!_p){var fx=document.createElement("div");fx.setAttribute("oninput","return;"),_p=typeof fx.oninput=="function"}wp=_p}else wp=!1;dx=wp&&(!document.documentMode||9<document.documentMode)}function mx(){zc&&(zc.detachEvent("onpropertychange",px),Bc=zc=null)}function px(i){if(i.propertyName==="value"&&ud(Bc)){var r=[];ux(r,Bc,i,Js(i)),ia(aD,r)}}function oD(i,r,o){i==="focusin"?(mx(),zc=r,Bc=o,zc.attachEvent("onpropertychange",px)):i==="focusout"&&mx()}function lD(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ud(Bc)}function cD(i,r){if(i==="click")return ud(r)}function uD(i,r){if(i==="input"||i==="change")return ud(r)}function hD(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Bs=typeof Object.is=="function"?Object.is:hD;function Fc(i,r){if(Bs(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!ot.call(r,p)||!Bs(i[p],r[p]))return!1}return!0}function gx(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function yx(i,r){var o=gx(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=gx(o)}}function vx(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?vx(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function bx(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ht(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Ht(i.document)}return r}function Tp(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var dD=Zs&&"documentMode"in document&&11>=document.documentMode,hl=null,Ep=null,qc=null,Sp=!1;function xx(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Sp||hl==null||hl!==Ht(u)||(u=hl,"selectionStart"in u&&Tp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),qc&&Fc(qc,u)||(qc=u,u=Jd(Ep,"onSelect"),0<u.length&&(r=new Hi("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=hl)))}function go(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var dl={animationend:go("Animation","AnimationEnd"),animationiteration:go("Animation","AnimationIteration"),animationstart:go("Animation","AnimationStart"),transitionrun:go("Transition","TransitionRun"),transitionstart:go("Transition","TransitionStart"),transitioncancel:go("Transition","TransitionCancel"),transitionend:go("Transition","TransitionEnd")},Ap={},wx={};Zs&&(wx=document.createElement("div").style,"AnimationEvent"in window||(delete dl.animationend.animation,delete dl.animationiteration.animation,delete dl.animationstart.animation),"TransitionEvent"in window||delete dl.transitionend.transition);function yo(i){if(Ap[i])return Ap[i];if(!dl[i])return i;var r=dl[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in wx)return Ap[i]=r[o];return i}var _x=yo("animationend"),Tx=yo("animationiteration"),Ex=yo("animationstart"),fD=yo("transitionrun"),mD=yo("transitionstart"),pD=yo("transitioncancel"),Sx=yo("transitionend"),Ax=new Map,Cp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cp.push("scrollEnd");function Ci(i,r){Ax.set(i,r),zs(r,[i])}var hd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ti=[],fl=0,Rp=0;function dd(){for(var i=fl,r=Rp=fl=0;r<i;){var o=ti[r];ti[r++]=null;var u=ti[r];ti[r++]=null;var p=ti[r];ti[r++]=null;var v=ti[r];if(ti[r++]=null,u!==null&&p!==null){var _=u.pending;_===null?p.next=p:(p.next=_.next,_.next=p),u.pending=p}v!==0&&Cx(o,p,v)}}function fd(i,r,o,u){ti[fl++]=i,ti[fl++]=r,ti[fl++]=o,ti[fl++]=u,Rp|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Np(i,r,o,u){return fd(i,r,o,u),md(i)}function vo(i,r){return fd(i,null,null,r),md(i)}function Cx(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var p=!1,v=i.return;v!==null;)v.childLanes|=o,u=v.alternate,u!==null&&(u.childLanes|=o),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(p=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,p&&r!==null&&(p=31-At(o),i=v.hiddenUpdates,u=i[p],u===null?i[p]=[r]:u.push(r),r.lane=o|536870912),v):null}function md(i){if(50<hu)throw hu=0,Lg=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var ml={};function gD(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fs(i,r,o,u){return new gD(i,r,o,u)}function Ip(i){return i=i.prototype,!(!i||!i.isReactComponent)}function br(i,r){var o=i.alternate;return o===null?(o=Fs(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Rx(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function pd(i,r,o,u,p,v){var _=0;if(u=i,typeof i=="function")Ip(i)&&(_=1);else if(typeof i=="string")_=wk(i,o,ne.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case P:return i=Fs(31,o,r,p),i.elementType=P,i.lanes=v,i;case D:return bo(o.children,p,v,r);case R:_=8,p|=24;break;case j:return i=Fs(12,o,r,p|2),i.elementType=j,i.lanes=v,i;case ie:return i=Fs(13,o,r,p),i.elementType=ie,i.lanes=v,i;case ue:return i=Fs(19,o,r,p),i.elementType=ue,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case H:_=10;break e;case q:_=9;break e;case ae:_=11;break e;case k:_=14;break e;case C:_=16,u=null;break e}_=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Fs(_,o,r,p),r.elementType=i,r.type=u,r.lanes=v,r}function bo(i,r,o,u){return i=Fs(7,i,u,r),i.lanes=o,i}function Dp(i,r,o){return i=Fs(6,i,null,r),i.lanes=o,i}function Nx(i){var r=Fs(18,null,null,0);return r.stateNode=i,r}function kp(i,r,o){return r=Fs(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Ix=new WeakMap;function ni(i,r){if(typeof i=="object"&&i!==null){var o=Ix.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Xt(r)},Ix.set(i,r),r)}return{value:i,source:r,stack:Xt(r)}}var pl=[],gl=0,gd=null,Hc=0,si=[],ii=0,la=null,Yi=1,Xi="";function xr(i,r){pl[gl++]=Hc,pl[gl++]=gd,gd=i,Hc=r}function Dx(i,r,o){si[ii++]=Yi,si[ii++]=Xi,si[ii++]=la,la=i;var u=Yi;i=Xi;var p=32-At(u)-1;u&=~(1<<p),o+=1;var v=32-At(r)+p;if(30<v){var _=p-p%5;v=(u&(1<<_)-1).toString(32),u>>=_,p-=_,Yi=1<<32-At(r)+p|o<<p|u,Xi=v+i}else Yi=1<<v|o<<p|u,Xi=i}function Mp(i){i.return!==null&&(xr(i,1),Dx(i,1,0))}function Pp(i){for(;i===gd;)gd=pl[--gl],pl[gl]=null,Hc=pl[--gl],pl[gl]=null;for(;i===la;)la=si[--ii],si[ii]=null,Xi=si[--ii],si[ii]=null,Yi=si[--ii],si[ii]=null}function kx(i,r){si[ii++]=Yi,si[ii++]=Xi,si[ii++]=la,Yi=r.id,Xi=r.overflow,la=i}var Kn=null,Vt=null,lt=!1,ca=null,ri=!1,jp=Error(s(519));function ua(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gc(ni(r,i)),jp}function Mx(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Ot]=i,r[ut]=u,o){case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":case"embed":Ze("load",r);break;case"video":case"audio":for(o=0;o<fu.length;o++)Ze(fu[o],r);break;case"source":Ze("error",r);break;case"img":case"image":case"link":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"input":Ze("invalid",r),Xh(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ze("invalid",r);break;case"textarea":Ze("invalid",r),ta(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||W_(r.textContent,o)?(u.popover!=null&&(Ze("beforetoggle",r),Ze("toggle",r)),u.onScroll!=null&&Ze("scroll",r),u.onScrollEnd!=null&&Ze("scrollend",r),u.onClick!=null&&(r.onclick=_i),r=!0):r=!1,r||ua(i,!0)}function Px(i){for(Kn=i.return;Kn;)switch(Kn.tag){case 5:case 31:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:Kn=Kn.return}}function yl(i){if(i!==Kn)return!1;if(!lt)return Px(i),lt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Zg(i.type,i.memoizedProps)),o=!o),o&&Vt&&ua(i),Px(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Vt=r1(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Vt=r1(i)}else r===27?(r=Vt,Ea(i.type)?(i=iy,iy=null,Vt=i):Vt=r):Vt=Kn?oi(i.stateNode.nextSibling):null;return!0}function xo(){Vt=Kn=null,lt=!1}function Op(){var i=ca;return i!==null&&(Ps===null?Ps=i:Ps.push.apply(Ps,i),ca=null),i}function Gc(i){ca===null?ca=[i]:ca.push(i)}var Vp=T(null),wo=null,wr=null;function ha(i,r,o){X(Vp,r._currentValue),r._currentValue=o}function _r(i){i._currentValue=Vp.current,U(Vp)}function Lp(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function Up(i,r,o,u){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var v=p.dependencies;if(v!==null){var _=p.child;v=v.firstContext;e:for(;v!==null;){var N=v;v=p;for(var F=0;F<r.length;F++)if(N.context===r[F]){v.lanes|=o,N=v.alternate,N!==null&&(N.lanes|=o),Lp(v.return,o,i),u||(_=null);break e}v=N.next}}else if(p.tag===18){if(_=p.return,_===null)throw Error(s(341));_.lanes|=o,v=_.alternate,v!==null&&(v.lanes|=o),Lp(_,o,i),_=null}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===i){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}}function vl(i,r,o,u){i=null;for(var p=r,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var _=p.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var N=p.type;Bs(p.pendingProps.value,_.value)||(i!==null?i.push(N):i=[N])}}else if(p===ge.current){if(_=p.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(vu):i=[vu])}p=p.return}i!==null&&Up(r,i,o,u),r.flags|=262144}function yd(i){for(i=i.firstContext;i!==null;){if(!Bs(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function _o(i){wo=i,wr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Yn(i){return jx(wo,i)}function vd(i,r){return wo===null&&_o(i),jx(i,r)}function jx(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},wr===null){if(i===null)throw Error(s(308));wr=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else wr=wr.next=r;return o}var yD=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},vD=t.unstable_scheduleCallback,bD=t.unstable_NormalPriority,xn={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zp(){return{controller:new yD,data:new Map,refCount:0}}function $c(i){i.refCount--,i.refCount===0&&vD(bD,function(){i.controller.abort()})}var Kc=null,Bp=0,bl=0,xl=null;function xD(i,r){if(Kc===null){var o=Kc=[];Bp=0,bl=Hg(),xl={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Bp++,r.then(Ox,Ox),r}function Ox(){if(--Bp===0&&Kc!==null){xl!==null&&(xl.status="fulfilled");var i=Kc;Kc=null,bl=0,xl=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function wD(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var p=0;p<o.length;p++)(0,o[p])(r)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var Vx=Z.S;Z.S=function(i,r){x_=zt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&xD(i,r),Vx!==null&&Vx(i,r)};var To=T(null);function Fp(){var i=To.current;return i!==null?i:Dt.pooledCache}function bd(i,r){r===null?X(To,To.current):X(To,r.pool)}function Lx(){var i=Fp();return i===null?null:{parent:xn._currentValue,pool:i}}var wl=Error(s(460)),qp=Error(s(474)),xd=Error(s(542)),wd={then:function(){}};function Ux(i){return i=i.status,i==="fulfilled"||i==="rejected"}function zx(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(_i,_i),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Fx(i),i;default:if(typeof r.status=="string")r.then(_i,_i);else{if(i=Dt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=u}},function(u){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Fx(i),i}throw So=r,wl}}function Eo(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(So=o,wl):o}}var So=null;function Bx(){if(So===null)throw Error(s(459));var i=So;return So=null,i}function Fx(i){if(i===wl||i===xd)throw Error(s(483))}var _l=null,Yc=0;function _d(i){var r=Yc;return Yc+=1,_l===null&&(_l=[]),zx(_l,i,r)}function Xc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Td(i,r){throw r.$$typeof===x?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function qx(i){function r(Q,G){if(i){var te=Q.deletions;te===null?(Q.deletions=[G],Q.flags|=16):te.push(G)}}function o(Q,G){if(!i)return null;for(;G!==null;)r(Q,G),G=G.sibling;return null}function u(Q){for(var G=new Map;Q!==null;)Q.key!==null?G.set(Q.key,Q):G.set(Q.index,Q),Q=Q.sibling;return G}function p(Q,G){return Q=br(Q,G),Q.index=0,Q.sibling=null,Q}function v(Q,G,te){return Q.index=te,i?(te=Q.alternate,te!==null?(te=te.index,te<G?(Q.flags|=67108866,G):te):(Q.flags|=67108866,G)):(Q.flags|=1048576,G)}function _(Q){return i&&Q.alternate===null&&(Q.flags|=67108866),Q}function N(Q,G,te,he){return G===null||G.tag!==6?(G=Dp(te,Q.mode,he),G.return=Q,G):(G=p(G,te),G.return=Q,G)}function F(Q,G,te,he){var Pe=te.type;return Pe===D?ce(Q,G,te.props.children,he,te.key):G!==null&&(G.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===C&&Eo(Pe)===G.type)?(G=p(G,te.props),Xc(G,te),G.return=Q,G):(G=pd(te.type,te.key,te.props,null,Q.mode,he),Xc(G,te),G.return=Q,G)}function se(Q,G,te,he){return G===null||G.tag!==4||G.stateNode.containerInfo!==te.containerInfo||G.stateNode.implementation!==te.implementation?(G=kp(te,Q.mode,he),G.return=Q,G):(G=p(G,te.children||[]),G.return=Q,G)}function ce(Q,G,te,he,Pe){return G===null||G.tag!==7?(G=bo(te,Q.mode,he,Pe),G.return=Q,G):(G=p(G,te),G.return=Q,G)}function fe(Q,G,te){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Dp(""+G,Q.mode,te),G.return=Q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return te=pd(G.type,G.key,G.props,null,Q.mode,te),Xc(te,G),te.return=Q,te;case I:return G=kp(G,Q.mode,te),G.return=Q,G;case C:return G=Eo(G),fe(Q,G,te)}if(xe(G)||V(G))return G=bo(G,Q.mode,te,null),G.return=Q,G;if(typeof G.then=="function")return fe(Q,_d(G),te);if(G.$$typeof===H)return fe(Q,vd(Q,G),te);Td(Q,G)}return null}function re(Q,G,te,he){var Pe=G!==null?G.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Pe!==null?null:N(Q,G,""+te,he);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case A:return te.key===Pe?F(Q,G,te,he):null;case I:return te.key===Pe?se(Q,G,te,he):null;case C:return te=Eo(te),re(Q,G,te,he)}if(xe(te)||V(te))return Pe!==null?null:ce(Q,G,te,he,null);if(typeof te.then=="function")return re(Q,G,_d(te),he);if(te.$$typeof===H)return re(Q,G,vd(Q,te),he);Td(Q,te)}return null}function le(Q,G,te,he,Pe){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Q=Q.get(te)||null,N(G,Q,""+he,Pe);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case A:return Q=Q.get(he.key===null?te:he.key)||null,F(G,Q,he,Pe);case I:return Q=Q.get(he.key===null?te:he.key)||null,se(G,Q,he,Pe);case C:return he=Eo(he),le(Q,G,te,he,Pe)}if(xe(he)||V(he))return Q=Q.get(te)||null,ce(G,Q,he,Pe,null);if(typeof he.then=="function")return le(Q,G,te,_d(he),Pe);if(he.$$typeof===H)return le(Q,G,te,vd(G,he),Pe);Td(G,he)}return null}function Re(Q,G,te,he){for(var Pe=null,dt=null,De=G,We=G=0,st=null;De!==null&&We<te.length;We++){De.index>We?(st=De,De=null):st=De.sibling;var ft=re(Q,De,te[We],he);if(ft===null){De===null&&(De=st);break}i&&De&&ft.alternate===null&&r(Q,De),G=v(ft,G,We),dt===null?Pe=ft:dt.sibling=ft,dt=ft,De=st}if(We===te.length)return o(Q,De),lt&&xr(Q,We),Pe;if(De===null){for(;We<te.length;We++)De=fe(Q,te[We],he),De!==null&&(G=v(De,G,We),dt===null?Pe=De:dt.sibling=De,dt=De);return lt&&xr(Q,We),Pe}for(De=u(De);We<te.length;We++)st=le(De,Q,We,te[We],he),st!==null&&(i&&st.alternate!==null&&De.delete(st.key===null?We:st.key),G=v(st,G,We),dt===null?Pe=st:dt.sibling=st,dt=st);return i&&De.forEach(function(Na){return r(Q,Na)}),lt&&xr(Q,We),Pe}function je(Q,G,te,he){if(te==null)throw Error(s(151));for(var Pe=null,dt=null,De=G,We=G=0,st=null,ft=te.next();De!==null&&!ft.done;We++,ft=te.next()){De.index>We?(st=De,De=null):st=De.sibling;var Na=re(Q,De,ft.value,he);if(Na===null){De===null&&(De=st);break}i&&De&&Na.alternate===null&&r(Q,De),G=v(Na,G,We),dt===null?Pe=Na:dt.sibling=Na,dt=Na,De=st}if(ft.done)return o(Q,De),lt&&xr(Q,We),Pe;if(De===null){for(;!ft.done;We++,ft=te.next())ft=fe(Q,ft.value,he),ft!==null&&(G=v(ft,G,We),dt===null?Pe=ft:dt.sibling=ft,dt=ft);return lt&&xr(Q,We),Pe}for(De=u(De);!ft.done;We++,ft=te.next())ft=le(De,Q,We,ft.value,he),ft!==null&&(i&&ft.alternate!==null&&De.delete(ft.key===null?We:ft.key),G=v(ft,G,We),dt===null?Pe=ft:dt.sibling=ft,dt=ft);return i&&De.forEach(function(kk){return r(Q,kk)}),lt&&xr(Q,We),Pe}function It(Q,G,te,he){if(typeof te=="object"&&te!==null&&te.type===D&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case A:e:{for(var Pe=te.key;G!==null;){if(G.key===Pe){if(Pe=te.type,Pe===D){if(G.tag===7){o(Q,G.sibling),he=p(G,te.props.children),he.return=Q,Q=he;break e}}else if(G.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===C&&Eo(Pe)===G.type){o(Q,G.sibling),he=p(G,te.props),Xc(he,te),he.return=Q,Q=he;break e}o(Q,G);break}else r(Q,G);G=G.sibling}te.type===D?(he=bo(te.props.children,Q.mode,he,te.key),he.return=Q,Q=he):(he=pd(te.type,te.key,te.props,null,Q.mode,he),Xc(he,te),he.return=Q,Q=he)}return _(Q);case I:e:{for(Pe=te.key;G!==null;){if(G.key===Pe)if(G.tag===4&&G.stateNode.containerInfo===te.containerInfo&&G.stateNode.implementation===te.implementation){o(Q,G.sibling),he=p(G,te.children||[]),he.return=Q,Q=he;break e}else{o(Q,G);break}else r(Q,G);G=G.sibling}he=kp(te,Q.mode,he),he.return=Q,Q=he}return _(Q);case C:return te=Eo(te),It(Q,G,te,he)}if(xe(te))return Re(Q,G,te,he);if(V(te)){if(Pe=V(te),typeof Pe!="function")throw Error(s(150));return te=Pe.call(te),je(Q,G,te,he)}if(typeof te.then=="function")return It(Q,G,_d(te),he);if(te.$$typeof===H)return It(Q,G,vd(Q,te),he);Td(Q,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,G!==null&&G.tag===6?(o(Q,G.sibling),he=p(G,te),he.return=Q,Q=he):(o(Q,G),he=Dp(te,Q.mode,he),he.return=Q,Q=he),_(Q)):o(Q,G)}return function(Q,G,te,he){try{Yc=0;var Pe=It(Q,G,te,he);return _l=null,Pe}catch(De){if(De===wl||De===xd)throw De;var dt=Fs(29,De,null,Q.mode);return dt.lanes=he,dt.return=Q,dt}}}var Ao=qx(!0),Hx=qx(!1),da=!1;function Hp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gp(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function fa(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ma(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(pt&2)!==0){var p=u.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),u.pending=r,r=md(i),Cx(i,null,o),r}return fd(i,u,r,o),md(i)}function Wc(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Jt(i,o)}}function $p(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?p=v=_:v=v.next=_,o=o.next}while(o!==null);v===null?p=v=r:v=v.next=r}else p=v=r;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Kp=!1;function Qc(){if(Kp){var i=xl;if(i!==null)throw i}}function Jc(i,r,o,u){Kp=!1;var p=i.updateQueue;da=!1;var v=p.firstBaseUpdate,_=p.lastBaseUpdate,N=p.shared.pending;if(N!==null){p.shared.pending=null;var F=N,se=F.next;F.next=null,_===null?v=se:_.next=se,_=F;var ce=i.alternate;ce!==null&&(ce=ce.updateQueue,N=ce.lastBaseUpdate,N!==_&&(N===null?ce.firstBaseUpdate=se:N.next=se,ce.lastBaseUpdate=F))}if(v!==null){var fe=p.baseState;_=0,ce=se=F=null,N=v;do{var re=N.lane&-536870913,le=re!==N.lane;if(le?(nt&re)===re:(u&re)===re){re!==0&&re===bl&&(Kp=!0),ce!==null&&(ce=ce.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Re=i,je=N;re=r;var It=o;switch(je.tag){case 1:if(Re=je.payload,typeof Re=="function"){fe=Re.call(It,fe,re);break e}fe=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=je.payload,re=typeof Re=="function"?Re.call(It,fe,re):Re,re==null)break e;fe=b({},fe,re);break e;case 2:da=!0}}re=N.callback,re!==null&&(i.flags|=64,le&&(i.flags|=8192),le=p.callbacks,le===null?p.callbacks=[re]:le.push(re))}else le={lane:re,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ce===null?(se=ce=le,F=fe):ce=ce.next=le,_|=re;if(N=N.next,N===null){if(N=p.shared.pending,N===null)break;le=N,N=le.next,le.next=null,p.lastBaseUpdate=le,p.shared.pending=null}}while(!0);ce===null&&(F=fe),p.baseState=F,p.firstBaseUpdate=se,p.lastBaseUpdate=ce,v===null&&(p.shared.lanes=0),ba|=_,i.lanes=_,i.memoizedState=fe}}function Gx(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function $x(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Gx(o[i],r)}var Tl=T(null),Ed=T(0);function Kx(i,r){i=Dr,X(Ed,i),X(Tl,r),Dr=i|r.baseLanes}function Yp(){X(Ed,Dr),X(Tl,Tl.current)}function Xp(){Dr=Ed.current,U(Tl),U(Ed)}var qs=T(null),ai=null;function pa(i){var r=i.alternate;X(mn,mn.current&1),X(qs,i),ai===null&&(r===null||Tl.current!==null||r.memoizedState!==null)&&(ai=i)}function Wp(i){X(mn,mn.current),X(qs,i),ai===null&&(ai=i)}function Yx(i){i.tag===22?(X(mn,mn.current),X(qs,i),ai===null&&(ai=i)):ga()}function ga(){X(mn,mn.current),X(qs,qs.current)}function Hs(i){U(qs),ai===i&&(ai=null),U(mn)}var mn=T(0);function Sd(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||ny(o)||sy(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Tr=0,Ye=null,Rt=null,wn=null,Ad=!1,El=!1,Co=!1,Cd=0,Zc=0,Sl=null,_D=0;function ln(){throw Error(s(321))}function Qp(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Bs(i[o],r[o]))return!1;return!0}function Jp(i,r,o,u,p,v){return Tr=v,Ye=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=i===null||i.memoizedState===null?Dw:fg,Co=!1,v=o(u,p),Co=!1,El&&(v=Wx(r,o,u,p)),Xx(i),v}function Xx(i){Z.H=nu;var r=Rt!==null&&Rt.next!==null;if(Tr=0,wn=Rt=Ye=null,Ad=!1,Zc=0,Sl=null,r)throw Error(s(300));i===null||_n||(i=i.dependencies,i!==null&&yd(i)&&(_n=!0))}function Wx(i,r,o,u){Ye=i;var p=0;do{if(El&&(Sl=null),Zc=0,El=!1,25<=p)throw Error(s(301));if(p+=1,wn=Rt=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}Z.H=kw,v=r(o,u)}while(El);return v}function TD(){var i=Z.H,r=i.useState()[0];return r=typeof r.then=="function"?eu(r):r,i=i.useState()[0],(Rt!==null?Rt.memoizedState:null)!==i&&(Ye.flags|=1024),r}function Zp(){var i=Cd!==0;return Cd=0,i}function eg(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function tg(i){if(Ad){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Ad=!1}Tr=0,wn=Rt=Ye=null,El=!1,Zc=Cd=0,Sl=null}function ys(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Ye.memoizedState=wn=i:wn=wn.next=i,wn}function pn(){if(Rt===null){var i=Ye.alternate;i=i!==null?i.memoizedState:null}else i=Rt.next;var r=wn===null?Ye.memoizedState:wn.next;if(r!==null)wn=r,Rt=i;else{if(i===null)throw Ye.alternate===null?Error(s(467)):Error(s(310));Rt=i,i={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},wn===null?Ye.memoizedState=wn=i:wn=wn.next=i}return wn}function Rd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eu(i){var r=Zc;return Zc+=1,Sl===null&&(Sl=[]),i=zx(Sl,i,r),r=Ye,(wn===null?r.memoizedState:wn.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?Dw:fg),i}function Nd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return eu(i);if(i.$$typeof===H)return Yn(i)}throw Error(s(438,String(i)))}function ng(i){var r=null,o=Ye.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ye.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Rd(),Ye.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=z;return r.index++,o}function Er(i,r){return typeof r=="function"?r(i):r}function Id(i){var r=pn();return sg(r,Rt,i)}function sg(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var p=i.baseQueue,v=u.pending;if(v!==null){if(p!==null){var _=p.next;p.next=v.next,v.next=_}r.baseQueue=p=v,u.pending=null}if(v=i.baseState,p===null)i.memoizedState=v;else{r=p.next;var N=_=null,F=null,se=r,ce=!1;do{var fe=se.lane&-536870913;if(fe!==se.lane?(nt&fe)===fe:(Tr&fe)===fe){var re=se.revertLane;if(re===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),fe===bl&&(ce=!0);else if((Tr&re)===re){se=se.next,re===bl&&(ce=!0);continue}else fe={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},F===null?(N=F=fe,_=v):F=F.next=fe,Ye.lanes|=re,ba|=re;fe=se.action,Co&&o(v,fe),v=se.hasEagerState?se.eagerState:o(v,fe)}else re={lane:fe,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},F===null?(N=F=re,_=v):F=F.next=re,Ye.lanes|=fe,ba|=fe;se=se.next}while(se!==null&&se!==r);if(F===null?_=v:F.next=N,!Bs(v,i.memoizedState)&&(_n=!0,ce&&(o=xl,o!==null)))throw o;i.memoizedState=v,i.baseState=_,i.baseQueue=F,u.lastRenderedState=v}return p===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function ig(i){var r=pn(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,p=o.pending,v=r.memoizedState;if(p!==null){o.pending=null;var _=p=p.next;do v=i(v,_.action),_=_.next;while(_!==p);Bs(v,r.memoizedState)||(_n=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),o.lastRenderedState=v}return[v,u]}function Qx(i,r,o){var u=Ye,p=pn(),v=lt;if(v){if(o===void 0)throw Error(s(407));o=o()}else o=r();var _=!Bs((Rt||p).memoizedState,o);if(_&&(p.memoizedState=o,_n=!0),p=p.queue,og(ew.bind(null,u,p,i),[i]),p.getSnapshot!==r||_||wn!==null&&wn.memoizedState.tag&1){if(u.flags|=2048,Al(9,{destroy:void 0},Zx.bind(null,u,p,o,r),null),Dt===null)throw Error(s(349));v||(Tr&127)!==0||Jx(u,r,o)}return o}function Jx(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ye.updateQueue,r===null?(r=Rd(),Ye.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function Zx(i,r,o,u){r.value=o,r.getSnapshot=u,tw(r)&&nw(i)}function ew(i,r,o){return o(function(){tw(r)&&nw(i)})}function tw(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Bs(i,o)}catch{return!0}}function nw(i){var r=vo(i,2);r!==null&&js(r,i,2)}function rg(i){var r=ys();if(typeof i=="function"){var o=i;if(i=o(),Co){On(!0);try{o()}finally{On(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:i},r}function sw(i,r,o,u){return i.baseState=o,sg(i,Rt,typeof u=="function"?u:Er)}function ED(i,r,o,u,p){if(Md(i))throw Error(s(485));if(i=r.action,i!==null){var v={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){v.listeners.push(_)}};Z.T!==null?o(!0):v.isTransition=!1,u(v),o=r.pending,o===null?(v.next=r.pending=v,iw(r,v)):(v.next=o.next,r.pending=o.next=v)}}function iw(i,r){var o=r.action,u=r.payload,p=i.state;if(r.isTransition){var v=Z.T,_={};Z.T=_;try{var N=o(p,u),F=Z.S;F!==null&&F(_,N),rw(i,r,N)}catch(se){ag(i,r,se)}finally{v!==null&&_.types!==null&&(v.types=_.types),Z.T=v}}else try{v=o(p,u),rw(i,r,v)}catch(se){ag(i,r,se)}}function rw(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){aw(i,r,u)},function(u){return ag(i,r,u)}):aw(i,r,o)}function aw(i,r,o){r.status="fulfilled",r.value=o,ow(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,iw(i,o)))}function ag(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,ow(r),r=r.next;while(r!==u)}i.action=null}function ow(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function lw(i,r){return r}function cw(i,r){if(lt){var o=Dt.formState;if(o!==null){e:{var u=Ye;if(lt){if(Vt){t:{for(var p=Vt,v=ri;p.nodeType!==8;){if(!v){p=null;break t}if(p=oi(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){Vt=oi(p.nextSibling),u=p.data==="F!";break e}}ua(u)}u=!1}u&&(r=o[0])}}return o=ys(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lw,lastRenderedState:r},o.queue=u,o=Rw.bind(null,Ye,u),u.dispatch=o,u=rg(!1),v=dg.bind(null,Ye,!1,u.queue),u=ys(),p={state:r,dispatch:null,action:i,pending:null},u.queue=p,o=ED.bind(null,Ye,p,v,o),p.dispatch=o,u.memoizedState=i,[r,o,!1]}function uw(i){var r=pn();return hw(r,Rt,i)}function hw(i,r,o){if(r=sg(i,r,lw)[0],i=Id(Er)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=eu(r)}catch(_){throw _===wl?xd:_}else u=r;r=pn();var p=r.queue,v=p.dispatch;return o!==r.memoizedState&&(Ye.flags|=2048,Al(9,{destroy:void 0},SD.bind(null,p,o),null)),[u,v,i]}function SD(i,r){i.action=r}function dw(i){var r=pn(),o=Rt;if(o!==null)return hw(r,o,i);pn(),r=r.memoizedState,o=pn();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function Al(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Ye.updateQueue,r===null&&(r=Rd(),Ye.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function fw(){return pn().memoizedState}function Dd(i,r,o,u){var p=ys();Ye.flags|=i,p.memoizedState=Al(1|r,{destroy:void 0},o,u===void 0?null:u)}function kd(i,r,o,u){var p=pn();u=u===void 0?null:u;var v=p.memoizedState.inst;Rt!==null&&u!==null&&Qp(u,Rt.memoizedState.deps)?p.memoizedState=Al(r,v,o,u):(Ye.flags|=i,p.memoizedState=Al(1|r,v,o,u))}function mw(i,r){Dd(8390656,8,i,r)}function og(i,r){kd(2048,8,i,r)}function AD(i){Ye.flags|=4;var r=Ye.updateQueue;if(r===null)r=Rd(),Ye.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function pw(i){var r=pn().memoizedState;return AD({ref:r,nextImpl:i}),function(){if((pt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function gw(i,r){return kd(4,2,i,r)}function yw(i,r){return kd(4,4,i,r)}function vw(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function bw(i,r,o){o=o!=null?o.concat([i]):null,kd(4,4,vw.bind(null,r,i),o)}function lg(){}function xw(i,r){var o=pn();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Qp(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function ww(i,r){var o=pn();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Qp(r,u[1]))return u[0];if(u=i(),Co){On(!0);try{i()}finally{On(!1)}}return o.memoizedState=[u,r],u}function cg(i,r,o){return o===void 0||(Tr&1073741824)!==0&&(nt&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=__(),Ye.lanes|=i,ba|=i,o)}function _w(i,r,o,u){return Bs(o,r)?o:Tl.current!==null?(i=cg(i,o,u),Bs(i,r)||(_n=!0),i):(Tr&42)===0||(Tr&1073741824)!==0&&(nt&261930)===0?(_n=!0,i.memoizedState=o):(i=__(),Ye.lanes|=i,ba|=i,r)}function Tw(i,r,o,u,p){var v=W.p;W.p=v!==0&&8>v?v:8;var _=Z.T,N={};Z.T=N,dg(i,!1,r,o);try{var F=p(),se=Z.S;if(se!==null&&se(N,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ce=wD(F,u);tu(i,r,ce,Ks(i))}else tu(i,r,u,Ks(i))}catch(fe){tu(i,r,{then:function(){},status:"rejected",reason:fe},Ks())}finally{W.p=v,_!==null&&N.types!==null&&(_.types=N.types),Z.T=_}}function CD(){}function ug(i,r,o,u){if(i.tag!==5)throw Error(s(476));var p=Ew(i).queue;Tw(i,p,r,$,o===null?CD:function(){return Sw(i),o(u)})}function Ew(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:$},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Sw(i){var r=Ew(i);r.next===null&&(r=i.alternate.memoizedState),tu(i,r.next.queue,{},Ks())}function hg(){return Yn(vu)}function Aw(){return pn().memoizedState}function Cw(){return pn().memoizedState}function RD(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Ks();i=fa(o);var u=ma(r,i,o);u!==null&&(js(u,r,o),Wc(u,r,o)),r={cache:zp()},i.payload=r;return}r=r.return}}function ND(i,r,o){var u=Ks();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Md(i)?Nw(r,o):(o=Np(i,r,o,u),o!==null&&(js(o,i,u),Iw(o,r,u)))}function Rw(i,r,o){var u=Ks();tu(i,r,o,u)}function tu(i,r,o,u){var p={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Md(i))Nw(r,p);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var _=r.lastRenderedState,N=v(_,o);if(p.hasEagerState=!0,p.eagerState=N,Bs(N,_))return fd(i,r,p,0),Dt===null&&dd(),!1}catch{}if(o=Np(i,r,p,u),o!==null)return js(o,i,u),Iw(o,r,u),!0}return!1}function dg(i,r,o,u){if(u={lane:2,revertLane:Hg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Md(i)){if(r)throw Error(s(479))}else r=Np(i,o,u,2),r!==null&&js(r,i,2)}function Md(i){var r=i.alternate;return i===Ye||r!==null&&r===Ye}function Nw(i,r){El=Ad=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function Iw(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Jt(i,o)}}var nu={readContext:Yn,use:Nd,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useLayoutEffect:ln,useInsertionEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useSyncExternalStore:ln,useId:ln,useHostTransitionStatus:ln,useFormState:ln,useActionState:ln,useOptimistic:ln,useMemoCache:ln,useCacheRefresh:ln};nu.useEffectEvent=ln;var Dw={readContext:Yn,use:Nd,useCallback:function(i,r){return ys().memoizedState=[i,r===void 0?null:r],i},useContext:Yn,useEffect:mw,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Dd(4194308,4,vw.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Dd(4194308,4,i,r)},useInsertionEffect:function(i,r){Dd(4,2,i,r)},useMemo:function(i,r){var o=ys();r=r===void 0?null:r;var u=i();if(Co){On(!0);try{i()}finally{On(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=ys();if(o!==void 0){var p=o(r);if(Co){On(!0);try{o(r)}finally{On(!1)}}}else p=r;return u.memoizedState=u.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},u.queue=i,i=i.dispatch=ND.bind(null,Ye,i),[u.memoizedState,i]},useRef:function(i){var r=ys();return i={current:i},r.memoizedState=i},useState:function(i){i=rg(i);var r=i.queue,o=Rw.bind(null,Ye,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:lg,useDeferredValue:function(i,r){var o=ys();return cg(o,i,r)},useTransition:function(){var i=rg(!1);return i=Tw.bind(null,Ye,i.queue,!0,!1),ys().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Ye,p=ys();if(lt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),Dt===null)throw Error(s(349));(nt&127)!==0||Jx(u,r,o)}p.memoizedState=o;var v={value:o,getSnapshot:r};return p.queue=v,mw(ew.bind(null,u,v,i),[i]),u.flags|=2048,Al(9,{destroy:void 0},Zx.bind(null,u,v,o,r),null),o},useId:function(){var i=ys(),r=Dt.identifierPrefix;if(lt){var o=Xi,u=Yi;o=(u&~(1<<32-At(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Cd++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=_D++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:hg,useFormState:cw,useActionState:cw,useOptimistic:function(i){var r=ys();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=dg.bind(null,Ye,!0,o),o.dispatch=r,[i,r]},useMemoCache:ng,useCacheRefresh:function(){return ys().memoizedState=RD.bind(null,Ye)},useEffectEvent:function(i){var r=ys(),o={impl:i};return r.memoizedState=o,function(){if((pt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},fg={readContext:Yn,use:Nd,useCallback:xw,useContext:Yn,useEffect:og,useImperativeHandle:bw,useInsertionEffect:gw,useLayoutEffect:yw,useMemo:ww,useReducer:Id,useRef:fw,useState:function(){return Id(Er)},useDebugValue:lg,useDeferredValue:function(i,r){var o=pn();return _w(o,Rt.memoizedState,i,r)},useTransition:function(){var i=Id(Er)[0],r=pn().memoizedState;return[typeof i=="boolean"?i:eu(i),r]},useSyncExternalStore:Qx,useId:Aw,useHostTransitionStatus:hg,useFormState:uw,useActionState:uw,useOptimistic:function(i,r){var o=pn();return sw(o,Rt,i,r)},useMemoCache:ng,useCacheRefresh:Cw};fg.useEffectEvent=pw;var kw={readContext:Yn,use:Nd,useCallback:xw,useContext:Yn,useEffect:og,useImperativeHandle:bw,useInsertionEffect:gw,useLayoutEffect:yw,useMemo:ww,useReducer:ig,useRef:fw,useState:function(){return ig(Er)},useDebugValue:lg,useDeferredValue:function(i,r){var o=pn();return Rt===null?cg(o,i,r):_w(o,Rt.memoizedState,i,r)},useTransition:function(){var i=ig(Er)[0],r=pn().memoizedState;return[typeof i=="boolean"?i:eu(i),r]},useSyncExternalStore:Qx,useId:Aw,useHostTransitionStatus:hg,useFormState:dw,useActionState:dw,useOptimistic:function(i,r){var o=pn();return Rt!==null?sw(o,Rt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:ng,useCacheRefresh:Cw};kw.useEffectEvent=pw;function mg(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:b({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var pg={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Ks(),p=fa(u);p.payload=r,o!=null&&(p.callback=o),r=ma(i,p,u),r!==null&&(js(r,i,u),Wc(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Ks(),p=fa(u);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=ma(i,p,u),r!==null&&(js(r,i,u),Wc(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Ks(),u=fa(o);u.tag=2,r!=null&&(u.callback=r),r=ma(i,u,o),r!==null&&(js(r,i,o),Wc(r,i,o))}};function Mw(i,r,o,u,p,v,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,v,_):r.prototype&&r.prototype.isPureReactComponent?!Fc(o,u)||!Fc(p,v):!0}function Pw(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&pg.enqueueReplaceState(r,r.state,null)}function Ro(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=b({},o));for(var p in i)o[p]===void 0&&(o[p]=i[p])}return o}function jw(i){hd(i)}function Ow(i){console.error(i)}function Vw(i){hd(i)}function Pd(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Lw(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function gg(i,r,o){return o=fa(o),o.tag=3,o.payload={element:null},o.callback=function(){Pd(i,r)},o}function Uw(i){return i=fa(i),i.tag=3,i}function zw(i,r,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var v=u.value;i.payload=function(){return p(v)},i.callback=function(){Lw(r,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){Lw(r,o,u),typeof p!="function"&&(xa===null?xa=new Set([this]):xa.add(this));var N=u.stack;this.componentDidCatch(u.value,{componentStack:N!==null?N:""})})}function ID(i,r,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&vl(r,o,p,!0),o=qs.current,o!==null){switch(o.tag){case 31:case 13:return ai===null?$d():o.alternate===null&&cn===0&&(cn=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===wd?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Bg(i,u,p)),!1;case 22:return o.flags|=65536,u===wd?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Bg(i,u,p)),!1}throw Error(s(435,o.tag))}return Bg(i,u,p),$d(),!1}if(lt)return r=qs.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,u!==jp&&(i=Error(s(422),{cause:u}),Gc(ni(i,o)))):(u!==jp&&(r=Error(s(423),{cause:u}),Gc(ni(r,o))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,u=ni(u,o),p=gg(i.stateNode,u,p),$p(i,p),cn!==4&&(cn=2)),!1;var v=Error(s(520),{cause:u});if(v=ni(v,o),uu===null?uu=[v]:uu.push(v),cn!==4&&(cn=2),r===null)return!0;u=ni(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=p&-p,o.lanes|=i,i=gg(o.stateNode,u,i),$p(o,i),!1;case 1:if(r=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(xa===null||!xa.has(v))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Uw(p),zw(p,i,o,u),$p(o,p),!1}o=o.return}while(o!==null);return!1}var yg=Error(s(461)),_n=!1;function Xn(i,r,o,u){r.child=i===null?Hx(r,null,o,u):Ao(r,i.child,o,u)}function Bw(i,r,o,u,p){o=o.render;var v=r.ref;if("ref"in u){var _={};for(var N in u)N!=="ref"&&(_[N]=u[N])}else _=u;return _o(r),u=Jp(i,r,o,_,v,p),N=Zp(),i!==null&&!_n?(eg(i,r,p),Sr(i,r,p)):(lt&&N&&Mp(r),r.flags|=1,Xn(i,r,u,p),r.child)}function Fw(i,r,o,u,p){if(i===null){var v=o.type;return typeof v=="function"&&!Ip(v)&&v.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=v,qw(i,r,v,u,p)):(i=pd(o.type,null,u,r,r.mode,p),i.ref=r.ref,i.return=r,r.child=i)}if(v=i.child,!Sg(i,p)){var _=v.memoizedProps;if(o=o.compare,o=o!==null?o:Fc,o(_,u)&&i.ref===r.ref)return Sr(i,r,p)}return r.flags|=1,i=br(v,u),i.ref=r.ref,i.return=r,r.child=i}function qw(i,r,o,u,p){if(i!==null){var v=i.memoizedProps;if(Fc(v,u)&&i.ref===r.ref)if(_n=!1,r.pendingProps=u=v,Sg(i,p))(i.flags&131072)!==0&&(_n=!0);else return r.lanes=i.lanes,Sr(i,r,p)}return vg(i,r,o,u,p)}function Hw(i,r,o,u){var p=u.children,v=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(v=v!==null?v.baseLanes|o:o,i!==null){for(u=r.child=i.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~v}else u=0,r.child=null;return Gw(i,r,v,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&bd(r,v!==null?v.cachePool:null),v!==null?Kx(r,v):Yp(),Yx(r);else return u=r.lanes=536870912,Gw(i,r,v!==null?v.baseLanes|o:o,o,u)}else v!==null?(bd(r,v.cachePool),Kx(r,v),ga(),r.memoizedState=null):(i!==null&&bd(r,null),Yp(),ga());return Xn(i,r,p,o),r.child}function su(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Gw(i,r,o,u,p){var v=Fp();return v=v===null?null:{parent:xn._currentValue,pool:v},r.memoizedState={baseLanes:o,cachePool:v},i!==null&&bd(r,null),Yp(),Yx(r),i!==null&&vl(i,r,u,!0),r.childLanes=p,null}function jd(i,r){return r=Vd({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function $w(i,r,o){return Ao(r,i.child,null,o),i=jd(r,r.pendingProps),i.flags|=2,Hs(r),r.memoizedState=null,i}function DD(i,r,o){var u=r.pendingProps,p=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(lt){if(u.mode==="hidden")return i=jd(r,u),r.lanes=536870912,su(null,i);if(Wp(r),(i=Vt)?(i=i1(i,ri),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:la!==null?{id:Yi,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},o=Nx(i),o.return=r,r.child=o,Kn=r,Vt=null)):i=null,i===null)throw ua(r);return r.lanes=536870912,null}return jd(r,u)}var v=i.memoizedState;if(v!==null){var _=v.dehydrated;if(Wp(r),p)if(r.flags&256)r.flags&=-257,r=$w(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(_n||vl(i,r,o,!1),p=(o&i.childLanes)!==0,_n||p){if(u=Dt,u!==null&&(_=jt(u,o),_!==0&&_!==v.retryLane))throw v.retryLane=_,vo(i,_),js(u,i,_),yg;$d(),r=$w(i,r,o)}else i=v.treeContext,Vt=oi(_.nextSibling),Kn=r,lt=!0,ca=null,ri=!1,i!==null&&kx(r,i),r=jd(r,u),r.flags|=4096;return r}return i=br(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Od(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function vg(i,r,o,u,p){return _o(r),o=Jp(i,r,o,u,void 0,p),u=Zp(),i!==null&&!_n?(eg(i,r,p),Sr(i,r,p)):(lt&&u&&Mp(r),r.flags|=1,Xn(i,r,o,p),r.child)}function Kw(i,r,o,u,p,v){return _o(r),r.updateQueue=null,o=Wx(r,u,o,p),Xx(i),u=Zp(),i!==null&&!_n?(eg(i,r,v),Sr(i,r,v)):(lt&&u&&Mp(r),r.flags|=1,Xn(i,r,o,v),r.child)}function Yw(i,r,o,u,p){if(_o(r),r.stateNode===null){var v=ml,_=o.contextType;typeof _=="object"&&_!==null&&(v=Yn(_)),v=new o(u,v),r.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=pg,r.stateNode=v,v._reactInternals=r,v=r.stateNode,v.props=u,v.state=r.memoizedState,v.refs={},Hp(r),_=o.contextType,v.context=typeof _=="object"&&_!==null?Yn(_):ml,v.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(mg(r,o,_,u),v.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(_=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),_!==v.state&&pg.enqueueReplaceState(v,v.state,null),Jc(r,u,v,p),Qc(),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){v=r.stateNode;var N=r.memoizedProps,F=Ro(o,N);v.props=F;var se=v.context,ce=o.contextType;_=ml,typeof ce=="object"&&ce!==null&&(_=Yn(ce));var fe=o.getDerivedStateFromProps;ce=typeof fe=="function"||typeof v.getSnapshotBeforeUpdate=="function",N=r.pendingProps!==N,ce||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(N||se!==_)&&Pw(r,v,u,_),da=!1;var re=r.memoizedState;v.state=re,Jc(r,u,v,p),Qc(),se=r.memoizedState,N||re!==se||da?(typeof fe=="function"&&(mg(r,o,fe,u),se=r.memoizedState),(F=da||Mw(r,o,F,u,re,se,_))?(ce||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=se),v.props=u,v.state=se,v.context=_,u=F):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{v=r.stateNode,Gp(i,r),_=r.memoizedProps,ce=Ro(o,_),v.props=ce,fe=r.pendingProps,re=v.context,se=o.contextType,F=ml,typeof se=="object"&&se!==null&&(F=Yn(se)),N=o.getDerivedStateFromProps,(se=typeof N=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(_!==fe||re!==F)&&Pw(r,v,u,F),da=!1,re=r.memoizedState,v.state=re,Jc(r,u,v,p),Qc();var le=r.memoizedState;_!==fe||re!==le||da||i!==null&&i.dependencies!==null&&yd(i.dependencies)?(typeof N=="function"&&(mg(r,o,N,u),le=r.memoizedState),(ce=da||Mw(r,o,ce,u,re,le,F)||i!==null&&i.dependencies!==null&&yd(i.dependencies))?(se||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,le,F),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,le,F)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||_===i.memoizedProps&&re===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&re===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=le),v.props=u,v.state=le,v.context=F,u=ce):(typeof v.componentDidUpdate!="function"||_===i.memoizedProps&&re===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&re===i.memoizedState||(r.flags|=1024),u=!1)}return v=u,Od(i,r),u=(r.flags&128)!==0,v||u?(v=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:v.render(),r.flags|=1,i!==null&&u?(r.child=Ao(r,i.child,null,p),r.child=Ao(r,null,o,p)):Xn(i,r,o,p),r.memoizedState=v.state,i=r.child):i=Sr(i,r,p),i}function Xw(i,r,o,u){return xo(),r.flags|=256,Xn(i,r,o,u),r.child}var bg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xg(i){return{baseLanes:i,cachePool:Lx()}}function wg(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=$s),i}function Ww(i,r,o){var u=r.pendingProps,p=!1,v=(r.flags&128)!==0,_;if((_=v)||(_=i!==null&&i.memoizedState===null?!1:(mn.current&2)!==0),_&&(p=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,i===null){if(lt){if(p?pa(r):ga(),(i=Vt)?(i=i1(i,ri),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:la!==null?{id:Yi,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},o=Nx(i),o.return=r,r.child=o,Kn=r,Vt=null)):i=null,i===null)throw ua(r);return sy(i)?r.lanes=32:r.lanes=536870912,null}var N=u.children;return u=u.fallback,p?(ga(),p=r.mode,N=Vd({mode:"hidden",children:N},p),u=bo(u,p,o,null),N.return=r,u.return=r,N.sibling=u,r.child=N,u=r.child,u.memoizedState=xg(o),u.childLanes=wg(i,_,o),r.memoizedState=bg,su(null,u)):(pa(r),_g(r,N))}var F=i.memoizedState;if(F!==null&&(N=F.dehydrated,N!==null)){if(v)r.flags&256?(pa(r),r.flags&=-257,r=Tg(i,r,o)):r.memoizedState!==null?(ga(),r.child=i.child,r.flags|=128,r=null):(ga(),N=u.fallback,p=r.mode,u=Vd({mode:"visible",children:u.children},p),N=bo(N,p,o,null),N.flags|=2,u.return=r,N.return=r,u.sibling=N,r.child=u,Ao(r,i.child,null,o),u=r.child,u.memoizedState=xg(o),u.childLanes=wg(i,_,o),r.memoizedState=bg,r=su(null,u));else if(pa(r),sy(N)){if(_=N.nextSibling&&N.nextSibling.dataset,_)var se=_.dgst;_=se,u=Error(s(419)),u.stack="",u.digest=_,Gc({value:u,source:null,stack:null}),r=Tg(i,r,o)}else if(_n||vl(i,r,o,!1),_=(o&i.childLanes)!==0,_n||_){if(_=Dt,_!==null&&(u=jt(_,o),u!==0&&u!==F.retryLane))throw F.retryLane=u,vo(i,u),js(_,i,u),yg;ny(N)||$d(),r=Tg(i,r,o)}else ny(N)?(r.flags|=192,r.child=i.child,r=null):(i=F.treeContext,Vt=oi(N.nextSibling),Kn=r,lt=!0,ca=null,ri=!1,i!==null&&kx(r,i),r=_g(r,u.children),r.flags|=4096);return r}return p?(ga(),N=u.fallback,p=r.mode,F=i.child,se=F.sibling,u=br(F,{mode:"hidden",children:u.children}),u.subtreeFlags=F.subtreeFlags&65011712,se!==null?N=br(se,N):(N=bo(N,p,o,null),N.flags|=2),N.return=r,u.return=r,u.sibling=N,r.child=u,su(null,u),u=r.child,N=i.child.memoizedState,N===null?N=xg(o):(p=N.cachePool,p!==null?(F=xn._currentValue,p=p.parent!==F?{parent:F,pool:F}:p):p=Lx(),N={baseLanes:N.baseLanes|o,cachePool:p}),u.memoizedState=N,u.childLanes=wg(i,_,o),r.memoizedState=bg,su(i.child,u)):(pa(r),o=i.child,i=o.sibling,o=br(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(_=r.deletions,_===null?(r.deletions=[i],r.flags|=16):_.push(i)),r.child=o,r.memoizedState=null,o)}function _g(i,r){return r=Vd({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Vd(i,r){return i=Fs(22,i,null,r),i.lanes=0,i}function Tg(i,r,o){return Ao(r,i.child,null,o),i=_g(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Qw(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Lp(i.return,r,o)}function Eg(i,r,o,u,p,v){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p,treeForkCount:v}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=p,_.treeForkCount=v)}function Jw(i,r,o){var u=r.pendingProps,p=u.revealOrder,v=u.tail;u=u.children;var _=mn.current,N=(_&2)!==0;if(N?(_=_&1|2,r.flags|=128):_&=1,X(mn,_),Xn(i,r,u,o),u=lt?Hc:0,!N&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Qw(i,o,r);else if(i.tag===19)Qw(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(o=r.child,p=null;o!==null;)i=o.alternate,i!==null&&Sd(i)===null&&(p=o),o=o.sibling;o=p,o===null?(p=r.child,r.child=null):(p=o.sibling,o.sibling=null),Eg(r,!1,p,o,v,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=r.child,r.child=null;p!==null;){if(i=p.alternate,i!==null&&Sd(i)===null){r.child=p;break}i=p.sibling,p.sibling=o,o=p,p=i}Eg(r,!0,o,null,v,u);break;case"together":Eg(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Sr(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),ba|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(vl(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=br(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=br(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Sg(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&yd(i)))}function kD(i,r,o){switch(r.tag){case 3:Ee(r,r.stateNode.containerInfo),ha(r,xn,i.memoizedState.cache),xo();break;case 27:case 5:Se(r);break;case 4:Ee(r,r.stateNode.containerInfo);break;case 10:ha(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Wp(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(pa(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Ww(i,r,o):(pa(r),i=Sr(i,r,o),i!==null?i.sibling:null);pa(r);break;case 19:var p=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(vl(i,r,o,!1),u=(o&r.childLanes)!==0),p){if(u)return Jw(i,r,o);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),X(mn,mn.current),u)break;return null;case 22:return r.lanes=0,Hw(i,r,o,r.pendingProps);case 24:ha(r,xn,i.memoizedState.cache)}return Sr(i,r,o)}function Zw(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)_n=!0;else{if(!Sg(i,o)&&(r.flags&128)===0)return _n=!1,kD(i,r,o);_n=(i.flags&131072)!==0}else _n=!1,lt&&(r.flags&1048576)!==0&&Dx(r,Hc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=Eo(r.elementType),r.type=i,typeof i=="function")Ip(i)?(u=Ro(i,u),r.tag=1,r=Yw(null,r,i,u,o)):(r.tag=0,r=vg(null,r,i,u,o));else{if(i!=null){var p=i.$$typeof;if(p===ae){r.tag=11,r=Bw(null,r,i,u,o);break e}else if(p===k){r.tag=14,r=Fw(null,r,i,u,o);break e}}throw r=we(i)||i,Error(s(306,r,""))}}return r;case 0:return vg(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,p=Ro(u,r.pendingProps),Yw(i,r,u,p,o);case 3:e:{if(Ee(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var v=r.memoizedState;p=v.element,Gp(i,r),Jc(r,u,null,o);var _=r.memoizedState;if(u=_.cache,ha(r,xn,u),u!==v.cache&&Up(r,[xn],o,!0),Qc(),u=_.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){r=Xw(i,r,u,o);break e}else if(u!==p){p=ni(Error(s(424)),r),Gc(p),r=Xw(i,r,u,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Vt=oi(i.firstChild),Kn=r,lt=!0,ca=null,ri=!0,o=Hx(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(xo(),u===p){r=Sr(i,r,o);break e}Xn(i,r,u,o)}r=r.child}return r;case 26:return Od(i,r),i===null?(o=u1(r.type,null,r.pendingProps,null))?r.memoizedState=o:lt||(o=r.type,i=r.pendingProps,u=Zd(ye.current).createElement(o),u[Ot]=r,u[ut]=i,Wn(u,o,i),en(u),r.stateNode=u):r.memoizedState=u1(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Se(r),i===null&&lt&&(u=r.stateNode=o1(r.type,r.pendingProps,ye.current),Kn=r,ri=!0,p=Vt,Ea(r.type)?(iy=p,Vt=oi(u.firstChild)):Vt=p),Xn(i,r,r.pendingProps.children,o),Od(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&lt&&((p=u=Vt)&&(u=lk(u,r.type,r.pendingProps,ri),u!==null?(r.stateNode=u,Kn=r,Vt=oi(u.firstChild),ri=!1,p=!0):p=!1),p||ua(r)),Se(r),p=r.type,v=r.pendingProps,_=i!==null?i.memoizedProps:null,u=v.children,Zg(p,v)?u=null:_!==null&&Zg(p,_)&&(r.flags|=32),r.memoizedState!==null&&(p=Jp(i,r,TD,null,null,o),vu._currentValue=p),Od(i,r),Xn(i,r,u,o),r.child;case 6:return i===null&&lt&&((i=o=Vt)&&(o=ck(o,r.pendingProps,ri),o!==null?(r.stateNode=o,Kn=r,Vt=null,i=!0):i=!1),i||ua(r)),null;case 13:return Ww(i,r,o);case 4:return Ee(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Ao(r,null,u,o):Xn(i,r,u,o),r.child;case 11:return Bw(i,r,r.type,r.pendingProps,o);case 7:return Xn(i,r,r.pendingProps,o),r.child;case 8:return Xn(i,r,r.pendingProps.children,o),r.child;case 12:return Xn(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,ha(r,r.type,u.value),Xn(i,r,u.children,o),r.child;case 9:return p=r.type._context,u=r.pendingProps.children,_o(r),p=Yn(p),u=u(p),r.flags|=1,Xn(i,r,u,o),r.child;case 14:return Fw(i,r,r.type,r.pendingProps,o);case 15:return qw(i,r,r.type,r.pendingProps,o);case 19:return Jw(i,r,o);case 31:return DD(i,r,o);case 22:return Hw(i,r,o,r.pendingProps);case 24:return _o(r),u=Yn(xn),i===null?(p=Fp(),p===null&&(p=Dt,v=zp(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=o),p=v),r.memoizedState={parent:u,cache:p},Hp(r),ha(r,xn,p)):((i.lanes&o)!==0&&(Gp(i,r),Jc(r,null,null,o),Qc()),p=i.memoizedState,v=r.memoizedState,p.parent!==u?(p={parent:u,cache:u},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),ha(r,xn,u)):(u=v.cache,ha(r,xn,u),u!==p.cache&&Up(r,[xn],o,!0))),Xn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ar(i){i.flags|=4}function Ag(i,r,o,u,p){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(A_())i.flags|=8192;else throw So=wd,qp}else i.flags&=-16777217}function e_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!p1(r))if(A_())i.flags|=8192;else throw So=wd,qp}function Ld(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?vn():536870912,i.lanes|=r,Il|=r)}function iu(i,r){if(!lt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function Lt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var p=i.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function MD(i,r,o){var u=r.pendingProps;switch(Pp(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(r),null;case 1:return Lt(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),_r(xn),Te(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(yl(r)?Ar(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Op())),Lt(r),null;case 26:var p=r.type,v=r.memoizedState;return i===null?(Ar(r),v!==null?(Lt(r),e_(r,v)):(Lt(r),Ag(r,p,null,u,o))):v?v!==i.memoizedState?(Ar(r),Lt(r),e_(r,v)):(Lt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&Ar(r),Lt(r),Ag(r,p,i,u,o)),null;case 27:if(Be(r),o=ye.current,p=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Ar(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Lt(r),null}i=ne.current,yl(r)?Mx(r):(i=o1(p,u,o),r.stateNode=i,Ar(r))}return Lt(r),null;case 5:if(Be(r),p=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Ar(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Lt(r),null}if(v=ne.current,yl(r))Mx(r);else{var _=Zd(ye.current);switch(v){case 1:v=_.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:v=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":v=_.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":v=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":v=_.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?v.multiple=!0:u.size&&(v.size=u.size);break;default:v=typeof u.is=="string"?_.createElement(p,{is:u.is}):_.createElement(p)}}v[Ot]=r,v[ut]=u;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)v.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=v;e:switch(Wn(v,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Ar(r)}}return Lt(r),Ag(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&Ar(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=ye.current,yl(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,p=Kn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}i[Ot]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||W_(i.nodeValue,o)),i||ua(r,!0)}else i=Zd(i).createTextNode(u),i[Ot]=r,r.stateNode=i}return Lt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=yl(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Ot]=r}else xo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Lt(r),i=!1}else o=Op(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Hs(r),r):(Hs(r),null);if((r.flags&128)!==0)throw Error(s(558))}return Lt(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=yl(r),u!==null&&u.dehydrated!==null){if(i===null){if(!p)throw Error(s(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[Ot]=r}else xo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Lt(r),p=!1}else p=Op(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(Hs(r),r):(Hs(r),null)}return Hs(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==p&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Ld(r,r.updateQueue),Lt(r),null);case 4:return Te(),i===null&&Yg(r.stateNode.containerInfo),Lt(r),null;case 10:return _r(r.type),Lt(r),null;case 19:if(U(mn),u=r.memoizedState,u===null)return Lt(r),null;if(p=(r.flags&128)!==0,v=u.rendering,v===null)if(p)iu(u,!1);else{if(cn!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(v=Sd(i),v!==null){for(r.flags|=128,iu(u,!1),i=v.updateQueue,r.updateQueue=i,Ld(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Rx(o,i),o=o.sibling;return X(mn,mn.current&1|2),lt&&xr(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&zt()>qd&&(r.flags|=128,p=!0,iu(u,!1),r.lanes=4194304)}else{if(!p)if(i=Sd(v),i!==null){if(r.flags|=128,p=!0,i=i.updateQueue,r.updateQueue=i,Ld(r,i),iu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!v.alternate&&!lt)return Lt(r),null}else 2*zt()-u.renderingStartTime>qd&&o!==536870912&&(r.flags|=128,p=!0,iu(u,!1),r.lanes=4194304);u.isBackwards?(v.sibling=r.child,r.child=v):(i=u.last,i!==null?i.sibling=v:r.child=v,u.last=v)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=zt(),i.sibling=null,o=mn.current,X(mn,p?o&1|2:o&1),lt&&xr(r,u.treeForkCount),i):(Lt(r),null);case 22:case 23:return Hs(r),Xp(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(Lt(r),r.subtreeFlags&6&&(r.flags|=8192)):Lt(r),o=r.updateQueue,o!==null&&Ld(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&U(To),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),_r(xn),Lt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function PD(i,r){switch(Pp(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return _r(xn),Te(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Be(r),null;case 31:if(r.memoizedState!==null){if(Hs(r),r.alternate===null)throw Error(s(340));xo()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Hs(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));xo()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return U(mn),null;case 4:return Te(),null;case 10:return _r(r.type),null;case 22:case 23:return Hs(r),Xp(),i!==null&&U(To),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return _r(xn),null;case 25:return null;default:return null}}function t_(i,r){switch(Pp(r),r.tag){case 3:_r(xn),Te();break;case 26:case 27:case 5:Be(r);break;case 4:Te();break;case 31:r.memoizedState!==null&&Hs(r);break;case 13:Hs(r);break;case 19:U(mn);break;case 10:_r(r.type);break;case 22:case 23:Hs(r),Xp(),i!==null&&U(To);break;case 24:_r(xn)}}function ru(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&i)===i){u=void 0;var v=o.create,_=o.inst;u=v(),_.destroy=u}o=o.next}while(o!==p)}}catch(N){Et(r,r.return,N)}}function ya(i,r,o){try{var u=r.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var v=p.next;u=v;do{if((u.tag&i)===i){var _=u.inst,N=_.destroy;if(N!==void 0){_.destroy=void 0,p=r;var F=o,se=N;try{se()}catch(ce){Et(p,F,ce)}}}u=u.next}while(u!==v)}}catch(ce){Et(r,r.return,ce)}}function n_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{$x(r,o)}catch(u){Et(i,i.return,u)}}}function s_(i,r,o){o.props=Ro(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Et(i,r,u)}}function au(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(p){Et(i,r,p)}}function Wi(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){Et(i,r,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Et(i,r,p)}else o.current=null}function i_(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){Et(i,i.return,p)}}function Cg(i,r,o){try{var u=i.stateNode;nk(u,i.type,o,r),u[ut]=r}catch(p){Et(i,i.return,p)}}function r_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ea(i.type)||i.tag===4}function Rg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||r_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ea(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ng(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=_i));else if(u!==4&&(u===27&&Ea(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Ng(i,r,o),i=i.sibling;i!==null;)Ng(i,r,o),i=i.sibling}function Ud(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&Ea(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Ud(i,r,o),i=i.sibling;i!==null;)Ud(i,r,o),i=i.sibling}function a_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);Wn(r,u,o),r[Ot]=i,r[ut]=o}catch(v){Et(i,i.return,v)}}var Cr=!1,Tn=!1,Ig=!1,o_=typeof WeakSet=="function"?WeakSet:Set,Un=null;function jD(i,r){if(i=i.containerInfo,Qg=of,i=bx(i),Tp(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var _=0,N=-1,F=-1,se=0,ce=0,fe=i,re=null;t:for(;;){for(var le;fe!==o||p!==0&&fe.nodeType!==3||(N=_+p),fe!==v||u!==0&&fe.nodeType!==3||(F=_+u),fe.nodeType===3&&(_+=fe.nodeValue.length),(le=fe.firstChild)!==null;)re=fe,fe=le;for(;;){if(fe===i)break t;if(re===o&&++se===p&&(N=_),re===v&&++ce===u&&(F=_),(le=fe.nextSibling)!==null)break;fe=re,re=fe.parentNode}fe=le}o=N===-1||F===-1?null:{start:N,end:F}}else o=null}o=o||{start:0,end:0}}else o=null;for(Jg={focusedElem:i,selectionRange:o},of=!1,Un=r;Un!==null;)if(r=Un,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Un=i;else for(;Un!==null;){switch(r=Un,v=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)p=i[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,o=r,p=v.memoizedProps,v=v.memoizedState,u=o.stateNode;try{var Re=Ro(o.type,p);i=u.getSnapshotBeforeUpdate(Re,v),u.__reactInternalSnapshotBeforeUpdate=i}catch(je){Et(o,o.return,je)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)ty(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ty(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Un=i;break}Un=r.return}}function l_(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Nr(i,o),u&4&&ru(5,o);break;case 1:if(Nr(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(_){Et(o,o.return,_)}else{var p=Ro(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(p,r,i.__reactInternalSnapshotBeforeUpdate)}catch(_){Et(o,o.return,_)}}u&64&&n_(o),u&512&&au(o,o.return);break;case 3:if(Nr(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{$x(i,r)}catch(_){Et(o,o.return,_)}}break;case 27:r===null&&u&4&&a_(o);case 26:case 5:Nr(i,o),r===null&&u&4&&i_(o),u&512&&au(o,o.return);break;case 12:Nr(i,o);break;case 31:Nr(i,o),u&4&&h_(i,o);break;case 13:Nr(i,o),u&4&&d_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=HD.bind(null,o),uk(i,o))));break;case 22:if(u=o.memoizedState!==null||Cr,!u){r=r!==null&&r.memoizedState!==null||Tn,p=Cr;var v=Tn;Cr=u,(Tn=r)&&!v?Ir(i,o,(o.subtreeFlags&8772)!==0):Nr(i,o),Cr=p,Tn=v}break;case 30:break;default:Nr(i,o)}}function c_(i){var r=i.alternate;r!==null&&(i.alternate=null,c_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Zr(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var $t=null,Ds=!1;function Rr(i,r,o){for(o=o.child;o!==null;)u_(i,r,o),o=o.sibling}function u_(i,r,o){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(jn,o)}catch{}switch(o.tag){case 26:Tn||Wi(o,r),Rr(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Tn||Wi(o,r);var u=$t,p=Ds;Ea(o.type)&&($t=o.stateNode,Ds=!1),Rr(i,r,o),pu(o.stateNode),$t=u,Ds=p;break;case 5:Tn||Wi(o,r);case 6:if(u=$t,p=Ds,$t=null,Rr(i,r,o),$t=u,Ds=p,$t!==null)if(Ds)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(o.stateNode)}catch(v){Et(o,r,v)}else try{$t.removeChild(o.stateNode)}catch(v){Et(o,r,v)}break;case 18:$t!==null&&(Ds?(i=$t,n1(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Ll(i)):n1($t,o.stateNode));break;case 4:u=$t,p=Ds,$t=o.stateNode.containerInfo,Ds=!0,Rr(i,r,o),$t=u,Ds=p;break;case 0:case 11:case 14:case 15:ya(2,o,r),Tn||ya(4,o,r),Rr(i,r,o);break;case 1:Tn||(Wi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&s_(o,r,u)),Rr(i,r,o);break;case 21:Rr(i,r,o);break;case 22:Tn=(u=Tn)||o.memoizedState!==null,Rr(i,r,o),Tn=u;break;default:Rr(i,r,o)}}function h_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Ll(i)}catch(o){Et(r,r.return,o)}}}function d_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ll(i)}catch(o){Et(r,r.return,o)}}function OD(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new o_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new o_),r;default:throw Error(s(435,i.tag))}}function zd(i,r){var o=OD(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var p=GD.bind(null,i,u);u.then(p,p)}})}function ks(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],v=i,_=r,N=_;e:for(;N!==null;){switch(N.tag){case 27:if(Ea(N.type)){$t=N.stateNode,Ds=!1;break e}break;case 5:$t=N.stateNode,Ds=!1;break e;case 3:case 4:$t=N.stateNode.containerInfo,Ds=!0;break e}N=N.return}if($t===null)throw Error(s(160));u_(v,_,p),$t=null,Ds=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)f_(r,i),r=r.sibling}var Ri=null;function f_(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ks(r,i),Ms(i),u&4&&(ya(3,i,i.return),ru(3,i),ya(5,i,i.return));break;case 1:ks(r,i),Ms(i),u&512&&(Tn||o===null||Wi(o,o.return)),u&64&&Cr&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=Ri;if(ks(r,i),Ms(i),u&512&&(Tn||o===null||Wi(o,o.return)),u&4){var v=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":v=p.getElementsByTagName("title")[0],(!v||v[Ls]||v[Ot]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(u),p.head.insertBefore(v,p.querySelector("head > title"))),Wn(v,u,o),v[Ot]=i,en(v),u=v;break e;case"link":var _=f1("link","href",p).get(u+(o.href||""));if(_){for(var N=0;N<_.length;N++)if(v=_[N],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(N,1);break t}}v=p.createElement(u),Wn(v,u,o),p.head.appendChild(v);break;case"meta":if(_=f1("meta","content",p).get(u+(o.content||""))){for(N=0;N<_.length;N++)if(v=_[N],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(N,1);break t}}v=p.createElement(u),Wn(v,u,o),p.head.appendChild(v);break;default:throw Error(s(468,u))}v[Ot]=i,en(v),u=v}i.stateNode=u}else m1(p,i.type,i.stateNode);else i.stateNode=d1(p,u,i.memoizedProps);else v!==u?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,u===null?m1(p,i.type,i.stateNode):d1(p,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Cg(i,i.memoizedProps,o.memoizedProps)}break;case 27:ks(r,i),Ms(i),u&512&&(Tn||o===null||Wi(o,o.return)),o!==null&&u&4&&Cg(i,i.memoizedProps,o.memoizedProps);break;case 5:if(ks(r,i),Ms(i),u&512&&(Tn||o===null||Wi(o,o.return)),i.flags&32){p=i.stateNode;try{Is(p,"")}catch(Re){Et(i,i.return,Re)}}u&4&&i.stateNode!=null&&(p=i.memoizedProps,Cg(i,p,o!==null?o.memoizedProps:p)),u&1024&&(Ig=!0);break;case 6:if(ks(r,i),Ms(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(Re){Et(i,i.return,Re)}}break;case 3:if(nf=null,p=Ri,Ri=ef(r.containerInfo),ks(r,i),Ri=p,Ms(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ll(r.containerInfo)}catch(Re){Et(i,i.return,Re)}Ig&&(Ig=!1,m_(i));break;case 4:u=Ri,Ri=ef(i.stateNode.containerInfo),ks(r,i),Ms(i),Ri=u;break;case 12:ks(r,i),Ms(i);break;case 31:ks(r,i),Ms(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,zd(i,u)));break;case 13:ks(r,i),Ms(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Fd=zt()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,zd(i,u)));break;case 22:p=i.memoizedState!==null;var F=o!==null&&o.memoizedState!==null,se=Cr,ce=Tn;if(Cr=se||p,Tn=ce||F,ks(r,i),Tn=ce,Cr=se,Ms(i),u&8192)e:for(r=i.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(o===null||F||Cr||Tn||No(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){F=o=r;try{if(v=F.stateNode,p)_=v.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{N=F.stateNode;var fe=F.memoizedProps.style,re=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;N.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Re){Et(F,F.return,Re)}}}else if(r.tag===6){if(o===null){F=r;try{F.stateNode.nodeValue=p?"":F.memoizedProps}catch(Re){Et(F,F.return,Re)}}}else if(r.tag===18){if(o===null){F=r;try{var le=F.stateNode;p?s1(le,!0):s1(F.stateNode,!1)}catch(Re){Et(F,F.return,Re)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,zd(i,o))));break;case 19:ks(r,i),Ms(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,zd(i,u)));break;case 30:break;case 21:break;default:ks(r,i),Ms(i)}}function Ms(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(r_(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var p=o.stateNode,v=Rg(i);Ud(i,v,p);break;case 5:var _=o.stateNode;o.flags&32&&(Is(_,""),o.flags&=-33);var N=Rg(i);Ud(i,N,_);break;case 3:case 4:var F=o.stateNode.containerInfo,se=Rg(i);Ng(i,se,F);break;default:throw Error(s(161))}}catch(ce){Et(i,i.return,ce)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function m_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;m_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Nr(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)l_(i,r.alternate,r),r=r.sibling}function No(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:ya(4,r,r.return),No(r);break;case 1:Wi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&s_(r,r.return,o),No(r);break;case 27:pu(r.stateNode);case 26:case 5:Wi(r,r.return),No(r);break;case 22:r.memoizedState===null&&No(r);break;case 30:No(r);break;default:No(r)}i=i.sibling}}function Ir(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,p=i,v=r,_=v.flags;switch(v.tag){case 0:case 11:case 15:Ir(p,v,o),ru(4,v);break;case 1:if(Ir(p,v,o),u=v,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(se){Et(u,u.return,se)}if(u=v,p=u.updateQueue,p!==null){var N=u.stateNode;try{var F=p.shared.hiddenCallbacks;if(F!==null)for(p.shared.hiddenCallbacks=null,p=0;p<F.length;p++)Gx(F[p],N)}catch(se){Et(u,u.return,se)}}o&&_&64&&n_(v),au(v,v.return);break;case 27:a_(v);case 26:case 5:Ir(p,v,o),o&&u===null&&_&4&&i_(v),au(v,v.return);break;case 12:Ir(p,v,o);break;case 31:Ir(p,v,o),o&&_&4&&h_(p,v);break;case 13:Ir(p,v,o),o&&_&4&&d_(p,v);break;case 22:v.memoizedState===null&&Ir(p,v,o),au(v,v.return);break;case 30:break;default:Ir(p,v,o)}r=r.sibling}}function Dg(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&$c(o))}function kg(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&$c(i))}function Ni(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)p_(i,r,o,u),r=r.sibling}function p_(i,r,o,u){var p=r.flags;switch(r.tag){case 0:case 11:case 15:Ni(i,r,o,u),p&2048&&ru(9,r);break;case 1:Ni(i,r,o,u);break;case 3:Ni(i,r,o,u),p&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&$c(i)));break;case 12:if(p&2048){Ni(i,r,o,u),i=r.stateNode;try{var v=r.memoizedProps,_=v.id,N=v.onPostCommit;typeof N=="function"&&N(_,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(F){Et(r,r.return,F)}}else Ni(i,r,o,u);break;case 31:Ni(i,r,o,u);break;case 13:Ni(i,r,o,u);break;case 23:break;case 22:v=r.stateNode,_=r.alternate,r.memoizedState!==null?v._visibility&2?Ni(i,r,o,u):ou(i,r):v._visibility&2?Ni(i,r,o,u):(v._visibility|=2,Cl(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),p&2048&&Dg(_,r);break;case 24:Ni(i,r,o,u),p&2048&&kg(r.alternate,r);break;default:Ni(i,r,o,u)}}function Cl(i,r,o,u,p){for(p=p&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var v=i,_=r,N=o,F=u,se=_.flags;switch(_.tag){case 0:case 11:case 15:Cl(v,_,N,F,p),ru(8,_);break;case 23:break;case 22:var ce=_.stateNode;_.memoizedState!==null?ce._visibility&2?Cl(v,_,N,F,p):ou(v,_):(ce._visibility|=2,Cl(v,_,N,F,p)),p&&se&2048&&Dg(_.alternate,_);break;case 24:Cl(v,_,N,F,p),p&&se&2048&&kg(_.alternate,_);break;default:Cl(v,_,N,F,p)}r=r.sibling}}function ou(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,p=u.flags;switch(u.tag){case 22:ou(o,u),p&2048&&Dg(u.alternate,u);break;case 24:ou(o,u),p&2048&&kg(u.alternate,u);break;default:ou(o,u)}r=r.sibling}}var lu=8192;function Rl(i,r,o){if(i.subtreeFlags&lu)for(i=i.child;i!==null;)g_(i,r,o),i=i.sibling}function g_(i,r,o){switch(i.tag){case 26:Rl(i,r,o),i.flags&lu&&i.memoizedState!==null&&_k(o,Ri,i.memoizedState,i.memoizedProps);break;case 5:Rl(i,r,o);break;case 3:case 4:var u=Ri;Ri=ef(i.stateNode.containerInfo),Rl(i,r,o),Ri=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=lu,lu=16777216,Rl(i,r,o),lu=u):Rl(i,r,o));break;default:Rl(i,r,o)}}function y_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function cu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Un=u,b_(u,i)}y_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)v_(i),i=i.sibling}function v_(i){switch(i.tag){case 0:case 11:case 15:cu(i),i.flags&2048&&ya(9,i,i.return);break;case 3:cu(i);break;case 12:cu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Bd(i)):cu(i);break;default:cu(i)}}function Bd(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Un=u,b_(u,i)}y_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:ya(8,r,r.return),Bd(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Bd(r));break;default:Bd(r)}i=i.sibling}}function b_(i,r){for(;Un!==null;){var o=Un;switch(o.tag){case 0:case 11:case 15:ya(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:$c(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Un=u;else e:for(o=i;Un!==null;){u=Un;var p=u.sibling,v=u.return;if(c_(u),u===o){Un=null;break e}if(p!==null){p.return=v,Un=p;break e}Un=v}}}var VD={getCacheForType:function(i){var r=Yn(xn),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Yn(xn).controller.signal}},LD=typeof WeakMap=="function"?WeakMap:Map,pt=0,Dt=null,Je=null,nt=0,Tt=0,Gs=null,va=!1,Nl=!1,Mg=!1,Dr=0,cn=0,ba=0,Io=0,Pg=0,$s=0,Il=0,uu=null,Ps=null,jg=!1,Fd=0,x_=0,qd=1/0,Hd=null,xa=null,Nn=0,wa=null,Dl=null,kr=0,Og=0,Vg=null,w_=null,hu=0,Lg=null;function Ks(){return(pt&2)!==0&&nt!==0?nt&-nt:Z.T!==null?Hg():es()}function __(){if($s===0)if((nt&536870912)===0||lt){var i=As;As<<=1,(As&3932160)===0&&(As=262144),$s=i}else $s=536870912;return i=qs.current,i!==null&&(i.flags|=32),$s}function js(i,r,o){(i===Dt&&(Tt===2||Tt===9)||i.cancelPendingCommit!==null)&&(kl(i,0),_a(i,nt,$s,!1)),Zn(i,o),((pt&2)===0||i!==Dt)&&(i===Dt&&((pt&2)===0&&(Io|=o),cn===4&&_a(i,nt,$s,!1)),Qi(i))}function T_(i,r,o){if((pt&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||Bt(i,r),p=u?BD(i,r):zg(i,r,!0),v=u;do{if(p===0){Nl&&!u&&_a(i,r,0,!1);break}else{if(o=i.current.alternate,v&&!UD(o)){p=zg(i,r,!1),v=!1;continue}if(p===2){if(v=r,i.errorRecoveryDisabledLanes&v)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var N=i;p=uu;var F=N.current.memoizedState.isDehydrated;if(F&&(kl(N,_).flags|=256),_=zg(N,_,!1),_!==2){if(Mg&&!F){N.errorRecoveryDisabledLanes|=v,Io|=v,p=4;break e}v=Ps,Ps=p,v!==null&&(Ps===null?Ps=v:Ps.push.apply(Ps,v))}p=_}if(v=!1,p!==2)continue}}if(p===1){kl(i,0),_a(i,r,0,!0);break}e:{switch(u=i,v=p,v){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:_a(u,r,$s,!va);break e;case 2:Ps=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(p=Fd+300-zt(),10<p)){if(_a(u,r,$s,!va),Mt(u,0,!0)!==0)break e;kr=r,u.timeoutHandle=e1(E_.bind(null,u,o,Ps,Hd,jg,r,$s,Io,Il,va,v,"Throttled",-0,0),p);break e}E_(u,o,Ps,Hd,jg,r,$s,Io,Il,va,v,null,-0,0)}}break}while(!0);Qi(i)}function E_(i,r,o,u,p,v,_,N,F,se,ce,fe,re,le){if(i.timeoutHandle=-1,fe=r.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_i},g_(r,v,fe);var Re=(v&62914560)===v?Fd-zt():(v&4194048)===v?x_-zt():0;if(Re=Tk(fe,Re),Re!==null){kr=v,i.cancelPendingCommit=Re(k_.bind(null,i,r,v,o,u,p,_,N,F,ce,fe,null,re,le)),_a(i,v,_,!se);return}}k_(i,r,v,o,u,p,_,N,F)}function UD(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],v=p.getSnapshot;p=p.value;try{if(!Bs(v(),p))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function _a(i,r,o,u){r&=~Pg,r&=~Io,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var p=r;0<p;){var v=31-At(p),_=1<<v;u[v]=-1,p&=~_}o!==0&&Vn(i,o,r)}function Gd(){return(pt&6)===0?(du(0),!1):!0}function Ug(){if(Je!==null){if(Tt===0)var i=Je.return;else i=Je,wr=wo=null,tg(i),_l=null,Yc=0,i=Je;for(;i!==null;)t_(i.alternate,i),i=i.return;Je=null}}function kl(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,rk(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),kr=0,Ug(),Dt=i,Je=o=br(i.current,null),nt=r,Tt=0,Gs=null,va=!1,Nl=Bt(i,r),Mg=!1,Il=$s=Pg=Io=ba=cn=0,Ps=uu=null,jg=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var p=31-At(u),v=1<<p;r|=i[p],u&=~v}return Dr=r,dd(),o}function S_(i,r){Ye=null,Z.H=nu,r===wl||r===xd?(r=Bx(),Tt=3):r===qp?(r=Bx(),Tt=4):Tt=r===yg?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Gs=r,Je===null&&(cn=1,Pd(i,ni(r,i.current)))}function A_(){var i=qs.current;return i===null?!0:(nt&4194048)===nt?ai===null:(nt&62914560)===nt||(nt&536870912)!==0?i===ai:!1}function C_(){var i=Z.H;return Z.H=nu,i===null?nu:i}function R_(){var i=Z.A;return Z.A=VD,i}function $d(){cn=4,va||(nt&4194048)!==nt&&qs.current!==null||(Nl=!0),(ba&134217727)===0&&(Io&134217727)===0||Dt===null||_a(Dt,nt,$s,!1)}function zg(i,r,o){var u=pt;pt|=2;var p=C_(),v=R_();(Dt!==i||nt!==r)&&(Hd=null,kl(i,r)),r=!1;var _=cn;e:do try{if(Tt!==0&&Je!==null){var N=Je,F=Gs;switch(Tt){case 8:Ug(),_=6;break e;case 3:case 2:case 9:case 6:qs.current===null&&(r=!0);var se=Tt;if(Tt=0,Gs=null,Ml(i,N,F,se),o&&Nl){_=0;break e}break;default:se=Tt,Tt=0,Gs=null,Ml(i,N,F,se)}}zD(),_=cn;break}catch(ce){S_(i,ce)}while(!0);return r&&i.shellSuspendCounter++,wr=wo=null,pt=u,Z.H=p,Z.A=v,Je===null&&(Dt=null,nt=0,dd()),_}function zD(){for(;Je!==null;)N_(Je)}function BD(i,r){var o=pt;pt|=2;var u=C_(),p=R_();Dt!==i||nt!==r?(Hd=null,qd=zt()+500,kl(i,r)):Nl=Bt(i,r);e:do try{if(Tt!==0&&Je!==null){r=Je;var v=Gs;t:switch(Tt){case 1:Tt=0,Gs=null,Ml(i,r,v,1);break;case 2:case 9:if(Ux(v)){Tt=0,Gs=null,I_(r);break}r=function(){Tt!==2&&Tt!==9||Dt!==i||(Tt=7),Qi(i)},v.then(r,r);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:Ux(v)?(Tt=0,Gs=null,I_(r)):(Tt=0,Gs=null,Ml(i,r,v,7));break;case 5:var _=null;switch(Je.tag){case 26:_=Je.memoizedState;case 5:case 27:var N=Je;if(_?p1(_):N.stateNode.complete){Tt=0,Gs=null;var F=N.sibling;if(F!==null)Je=F;else{var se=N.return;se!==null?(Je=se,Kd(se)):Je=null}break t}}Tt=0,Gs=null,Ml(i,r,v,5);break;case 6:Tt=0,Gs=null,Ml(i,r,v,6);break;case 8:Ug(),cn=6;break e;default:throw Error(s(462))}}FD();break}catch(ce){S_(i,ce)}while(!0);return wr=wo=null,Z.H=u,Z.A=p,pt=o,Je!==null?0:(Dt=null,nt=0,dd(),cn)}function FD(){for(;Je!==null&&!rn();)N_(Je)}function N_(i){var r=Zw(i.alternate,i,Dr);i.memoizedProps=i.pendingProps,r===null?Kd(i):Je=r}function I_(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=Kw(o,r,r.pendingProps,r.type,void 0,nt);break;case 11:r=Kw(o,r,r.pendingProps,r.type.render,r.ref,nt);break;case 5:tg(r);default:t_(o,r),r=Je=Rx(r,Dr),r=Zw(o,r,Dr)}i.memoizedProps=i.pendingProps,r===null?Kd(i):Je=r}function Ml(i,r,o,u){wr=wo=null,tg(r),_l=null,Yc=0;var p=r.return;try{if(ID(i,p,r,o,nt)){cn=1,Pd(i,ni(o,i.current)),Je=null;return}}catch(v){if(p!==null)throw Je=p,v;cn=1,Pd(i,ni(o,i.current)),Je=null;return}r.flags&32768?(lt||u===1?i=!0:Nl||(nt&536870912)!==0?i=!1:(va=i=!0,(u===2||u===9||u===3||u===6)&&(u=qs.current,u!==null&&u.tag===13&&(u.flags|=16384))),D_(r,i)):Kd(r)}function Kd(i){var r=i;do{if((r.flags&32768)!==0){D_(r,va);return}i=r.return;var o=MD(r.alternate,r,Dr);if(o!==null){Je=o;return}if(r=r.sibling,r!==null){Je=r;return}Je=r=i}while(r!==null);cn===0&&(cn=5)}function D_(i,r){do{var o=PD(i.alternate,i);if(o!==null){o.flags&=32767,Je=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Je=i;return}Je=i=o}while(i!==null);cn=6,Je=null}function k_(i,r,o,u,p,v,_,N,F){i.cancelPendingCommit=null;do Yd();while(Nn!==0);if((pt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(v=r.lanes|r.childLanes,v|=Rp,Qt(i,o,v,_,N,F),i===Dt&&(Je=Dt=null,nt=0),Dl=r,wa=i,kr=o,Og=v,Vg=p,w_=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,$D(kt,function(){return V_(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,p=W.p,W.p=2,_=pt,pt|=4;try{jD(i,r,o)}finally{pt=_,W.p=p,Z.T=u}}Nn=1,M_(),P_(),j_()}}function M_(){if(Nn===1){Nn=0;var i=wa,r=Dl,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=W.p;W.p=2;var p=pt;pt|=4;try{f_(r,i);var v=Jg,_=bx(i.containerInfo),N=v.focusedElem,F=v.selectionRange;if(_!==N&&N&&N.ownerDocument&&vx(N.ownerDocument.documentElement,N)){if(F!==null&&Tp(N)){var se=F.start,ce=F.end;if(ce===void 0&&(ce=se),"selectionStart"in N)N.selectionStart=se,N.selectionEnd=Math.min(ce,N.value.length);else{var fe=N.ownerDocument||document,re=fe&&fe.defaultView||window;if(re.getSelection){var le=re.getSelection(),Re=N.textContent.length,je=Math.min(F.start,Re),It=F.end===void 0?je:Math.min(F.end,Re);!le.extend&&je>It&&(_=It,It=je,je=_);var Q=yx(N,je),G=yx(N,It);if(Q&&G&&(le.rangeCount!==1||le.anchorNode!==Q.node||le.anchorOffset!==Q.offset||le.focusNode!==G.node||le.focusOffset!==G.offset)){var te=fe.createRange();te.setStart(Q.node,Q.offset),le.removeAllRanges(),je>It?(le.addRange(te),le.extend(G.node,G.offset)):(te.setEnd(G.node,G.offset),le.addRange(te))}}}}for(fe=[],le=N;le=le.parentNode;)le.nodeType===1&&fe.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<fe.length;N++){var he=fe[N];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}of=!!Qg,Jg=Qg=null}finally{pt=p,W.p=u,Z.T=o}}i.current=r,Nn=2}}function P_(){if(Nn===2){Nn=0;var i=wa,r=Dl,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=W.p;W.p=2;var p=pt;pt|=4;try{l_(i,r.alternate,r)}finally{pt=p,W.p=u,Z.T=o}}Nn=3}}function j_(){if(Nn===4||Nn===3){Nn=0,ds();var i=wa,r=Dl,o=kr,u=w_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Nn=5:(Nn=0,Dl=wa=null,O_(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(xa=null),Zt(o),r=r.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(jn,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Z.T,p=W.p,W.p=2,Z.T=null;try{for(var v=i.onRecoverableError,_=0;_<u.length;_++){var N=u[_];v(N.value,{componentStack:N.stack})}}finally{Z.T=r,W.p=p}}(kr&3)!==0&&Yd(),Qi(i),p=i.pendingLanes,(o&261930)!==0&&(p&42)!==0?i===Lg?hu++:(hu=0,Lg=i):hu=0,du(0)}}function O_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,$c(r)))}function Yd(){return M_(),P_(),j_(),V_()}function V_(){if(Nn!==5)return!1;var i=wa,r=Og;Og=0;var o=Zt(kr),u=Z.T,p=W.p;try{W.p=32>o?32:o,Z.T=null,o=Vg,Vg=null;var v=wa,_=kr;if(Nn=0,Dl=wa=null,kr=0,(pt&6)!==0)throw Error(s(331));var N=pt;if(pt|=4,v_(v.current),p_(v,v.current,_,o),pt=N,du(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(jn,v)}catch{}return!0}finally{W.p=p,Z.T=u,O_(i,r)}}function L_(i,r,o){r=ni(o,r),r=gg(i.stateNode,r,2),i=ma(i,r,2),i!==null&&(Zn(i,2),Qi(i))}function Et(i,r,o){if(i.tag===3)L_(i,i,o);else for(;r!==null;){if(r.tag===3){L_(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(xa===null||!xa.has(u))){i=ni(o,i),o=Uw(2),u=ma(r,o,2),u!==null&&(zw(o,u,r,i),Zn(u,2),Qi(u));break}}r=r.return}}function Bg(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new LD;var p=new Set;u.set(r,p)}else p=u.get(r),p===void 0&&(p=new Set,u.set(r,p));p.has(o)||(Mg=!0,p.add(o),i=qD.bind(null,i,r,o),r.then(i,i))}function qD(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,Dt===i&&(nt&o)===o&&(cn===4||cn===3&&(nt&62914560)===nt&&300>zt()-Fd?(pt&2)===0&&kl(i,0):Pg|=o,Il===nt&&(Il=0)),Qi(i)}function U_(i,r){r===0&&(r=vn()),i=vo(i,r),i!==null&&(Zn(i,r),Qi(i))}function HD(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),U_(i,o)}function GD(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,p=i.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),U_(i,o)}function $D(i,r){return $e(i,r)}var Xd=null,Pl=null,Fg=!1,Wd=!1,qg=!1,Ta=0;function Qi(i){i!==Pl&&i.next===null&&(Pl===null?Xd=Pl=i:Pl=Pl.next=i),Wd=!0,Fg||(Fg=!0,YD())}function du(i,r){if(!qg&&Wd){qg=!0;do for(var o=!1,u=Xd;u!==null;){if(i!==0){var p=u.pendingLanes;if(p===0)var v=0;else{var _=u.suspendedLanes,N=u.pingedLanes;v=(1<<31-At(42|i)+1)-1,v&=p&~(_&~N),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,q_(u,v))}else v=nt,v=Mt(u,u===Dt?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||Bt(u,v)||(o=!0,q_(u,v));u=u.next}while(o);qg=!1}}function KD(){z_()}function z_(){Wd=Fg=!1;var i=0;Ta!==0&&ik()&&(i=Ta);for(var r=zt(),o=null,u=Xd;u!==null;){var p=u.next,v=B_(u,r);v===0?(u.next=null,o===null?Xd=p:o.next=p,p===null&&(Pl=o)):(o=u,(i!==0||(v&3)!==0)&&(Wd=!0)),u=p}Nn!==0&&Nn!==5||du(i),Ta!==0&&(Ta=0)}function B_(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,p=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var _=31-At(v),N=1<<_,F=p[_];F===-1?((N&o)===0||(N&u)!==0)&&(p[_]=an(N,r)):F<=r&&(i.expiredLanes|=N),v&=~N}if(r=Dt,o=nt,o=Mt(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Tt===2||Tt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Rn(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Bt(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Rn(u),Zt(o)){case 2:case 8:o=Pn;break;case 32:o=kt;break;case 268435456:o=Es;break;default:o=kt}return u=F_.bind(null,i),o=$e(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Rn(u),i.callbackPriority=2,i.callbackNode=null,2}function F_(i,r){if(Nn!==0&&Nn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Yd()&&i.callbackNode!==o)return null;var u=nt;return u=Mt(i,i===Dt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(T_(i,u,r),B_(i,zt()),i.callbackNode!=null&&i.callbackNode===o?F_.bind(null,i):null)}function q_(i,r){if(Yd())return null;T_(i,r,!0)}function YD(){ak(function(){(pt&6)!==0?$e(Ts,KD):z_()})}function Hg(){if(Ta===0){var i=bl;i===0&&(i=Ss,Ss<<=1,(Ss&261888)===0&&(Ss=256)),Ta=i}return Ta}function H_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:il(""+i)}function G_(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function XD(i,r,o,u,p){if(r==="submit"&&o&&o.stateNode===p){var v=H_((p[ut]||null).action),_=u.submitter;_&&(r=(r=_[ut]||null)?H_(r.formAction):_.getAttribute("formAction"),r!==null&&(v=r,_=null));var N=new Hi("action","action",null,u,p);i.push({event:N,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ta!==0){var F=_?G_(p,_):new FormData(p);ug(o,{pending:!0,data:F,method:p.method,action:v},null,F)}}else typeof v=="function"&&(N.preventDefault(),F=_?G_(p,_):new FormData(p),ug(o,{pending:!0,data:F,method:p.method,action:v},v,F))},currentTarget:p}]})}}for(var Gg=0;Gg<Cp.length;Gg++){var $g=Cp[Gg],WD=$g.toLowerCase(),QD=$g[0].toUpperCase()+$g.slice(1);Ci(WD,"on"+QD)}Ci(_x,"onAnimationEnd"),Ci(Tx,"onAnimationIteration"),Ci(Ex,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(fD,"onTransitionRun"),Ci(mD,"onTransitionStart"),Ci(pD,"onTransitionCancel"),Ci(Sx,"onTransitionEnd"),Qs("onMouseEnter",["mouseout","mouseover"]),Qs("onMouseLeave",["mouseout","mouseover"]),Qs("onPointerEnter",["pointerout","pointerover"]),Qs("onPointerLeave",["pointerout","pointerover"]),zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zs("onBeforeInput",["compositionend","keypress","textInput","paste"]),zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fu));function $_(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],p=u.event;u=u.listeners;e:{var v=void 0;if(r)for(var _=u.length-1;0<=_;_--){var N=u[_],F=N.instance,se=N.currentTarget;if(N=N.listener,F!==v&&p.isPropagationStopped())break e;v=N,p.currentTarget=se;try{v(p)}catch(ce){hd(ce)}p.currentTarget=null,v=F}else for(_=0;_<u.length;_++){if(N=u[_],F=N.instance,se=N.currentTarget,N=N.listener,F!==v&&p.isPropagationStopped())break e;v=N,p.currentTarget=se;try{v(p)}catch(ce){hd(ce)}p.currentTarget=null,v=F}}}}function Ze(i,r){var o=r[ts];o===void 0&&(o=r[ts]=new Set);var u=i+"__bubble";o.has(u)||(K_(r,i,2,!1),o.add(u))}function Kg(i,r,o){var u=0;r&&(u|=4),K_(o,i,u,r)}var Qd="_reactListening"+Math.random().toString(36).slice(2);function Yg(i){if(!i[Qd]){i[Qd]=!0,io.forEach(function(o){o!=="selectionchange"&&(JD.has(o)||Kg(o,!1,i),Kg(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Qd]||(r[Qd]=!0,Kg("selectionchange",!1,r))}}function K_(i,r,o,u){switch(_1(r)){case 2:var p=Ak;break;case 8:p=Ck;break;default:p=cy}o=p.bind(null,r,o,i),p=void 0,!co||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),u?p!==void 0?i.addEventListener(r,o,{capture:!0,passive:p}):i.addEventListener(r,o,!0):p!==void 0?i.addEventListener(r,o,{passive:p}):i.addEventListener(r,o,!1)}function Xg(i,r,o,u,p){var v=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var N=u.stateNode.containerInfo;if(N===p)break;if(_===4)for(_=u.return;_!==null;){var F=_.tag;if((F===3||F===4)&&_.stateNode.containerInfo===p)return;_=_.return}for(;N!==null;){if(_=Us(N),_===null)return;if(F=_.tag,F===5||F===6||F===26||F===27){u=v=_;continue e}N=N.parentNode}}u=u.return}ia(function(){var se=v,ce=Js(o),fe=[];e:{var re=Ax.get(i);if(re!==void 0){var le=Hi,Re=i;switch(i){case"keypress":if(ho(o)===0)break e;case"keydown":case"keyup":le=ld;break;case"focusin":Re="focus",le=mo;break;case"focusout":Re="blur",le=mo;break;case"beforeblur":case"afterblur":le=mo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Zh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=w;break;case _x:case Tx:case Ex:le=td;break;case Sx:le=M;break;case"scroll":case"scrollend":le=Vc;break;case"wheel":le=oe;break;case"copy":case"cut":case"paste":le=nd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=vr;break;case"toggle":case"beforetoggle":le=Ke}var je=(r&4)!==0,It=!je&&(i==="scroll"||i==="scrollend"),Q=je?re!==null?re+"Capture":null:re;je=[];for(var G=se,te;G!==null;){var he=G;if(te=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||te===null||Q===null||(he=Ti(G,Q),he!=null&&je.push(mu(G,he,te))),It)break;G=G.return}0<je.length&&(re=new le(re,Re,null,o,ce),fe.push({event:re,listeners:je}))}}if((r&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",re&&o!==Pc&&(Re=o.relatedTarget||o.fromElement)&&(Us(Re)||Re[ms]))break e;if((le||re)&&(re=ce.window===ce?ce:(re=ce.ownerDocument)?re.defaultView||re.parentWindow:window,le?(Re=o.relatedTarget||o.toElement,le=se,Re=Re?Us(Re):null,Re!==null&&(It=l(Re),je=Re.tag,Re!==It||je!==5&&je!==27&&je!==6)&&(Re=null)):(le=null,Re=se),le!==Re)){if(je=Lc,he="onMouseLeave",Q="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(je=vr,he="onPointerLeave",Q="onPointerEnter",G="pointer"),It=le==null?re:ns(le),te=Re==null?re:ns(Re),re=new je(he,G+"leave",le,o,ce),re.target=It,re.relatedTarget=te,he=null,Us(ce)===se&&(je=new je(Q,G+"enter",Re,o,ce),je.target=te,je.relatedTarget=It,he=je),It=he,le&&Re)t:{for(je=ZD,Q=le,G=Re,te=0,he=Q;he;he=je(he))te++;he=0;for(var Pe=G;Pe;Pe=je(Pe))he++;for(;0<te-he;)Q=je(Q),te--;for(;0<he-te;)G=je(G),he--;for(;te--;){if(Q===G||G!==null&&Q===G.alternate){je=Q;break t}Q=je(Q),G=je(G)}je=null}else je=null;le!==null&&Y_(fe,re,le,je,!1),Re!==null&&It!==null&&Y_(fe,It,Re,je,!0)}}e:{if(re=se?ns(se):window,le=re.nodeName&&re.nodeName.toLowerCase(),le==="select"||le==="input"&&re.type==="file")var dt=hx;else if(cx(re))if(dx)dt=uD;else{dt=lD;var De=oD}else le=re.nodeName,!le||le.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?se&&sl(se.elementType)&&(dt=hx):dt=cD;if(dt&&(dt=dt(i,se))){ux(fe,dt,o,ce);break e}De&&De(i,re,se),i==="focusout"&&se&&re.type==="number"&&se.memoizedProps.value!=null&&Dc(re,"number",re.value)}switch(De=se?ns(se):window,i){case"focusin":(cx(De)||De.contentEditable==="true")&&(hl=De,Ep=se,qc=null);break;case"focusout":qc=Ep=hl=null;break;case"mousedown":Sp=!0;break;case"contextmenu":case"mouseup":case"dragend":Sp=!1,xx(fe,o,ce);break;case"selectionchange":if(dD)break;case"keydown":case"keyup":xx(fe,o,ce)}var We;if(mt)e:{switch(i){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else ul?po(i,o)&&(st="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(st="onCompositionStart");st&&(Ki&&o.locale!=="ko"&&(ul||st!=="onCompositionStart"?st==="onCompositionEnd"&&ul&&(We=Oc()):(qi=ce,jc="value"in qi?qi.value:qi.textContent,ul=!0)),De=Jd(se,st),0<De.length&&(st=new $i(st,i,null,o,ce),fe.push({event:st,listeners:De}),We?st.data=We:(We=cl(o),We!==null&&(st.data=We)))),(We=ei?sD(i,o):iD(i,o))&&(st=Jd(se,"onBeforeInput"),0<st.length&&(De=new $i("onBeforeInput","beforeinput",null,o,ce),fe.push({event:De,listeners:st}),De.data=We)),XD(fe,i,se,o,ce)}$_(fe,r)})}function mu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Jd(i,r){for(var o=r+"Capture",u=[];i!==null;){var p=i,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=Ti(i,o),p!=null&&u.unshift(mu(i,p,v)),p=Ti(i,r),p!=null&&u.push(mu(i,p,v))),i.tag===3)return u;i=i.return}return[]}function ZD(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Y_(i,r,o,u,p){for(var v=r._reactName,_=[];o!==null&&o!==u;){var N=o,F=N.alternate,se=N.stateNode;if(N=N.tag,F!==null&&F===u)break;N!==5&&N!==26&&N!==27||se===null||(F=se,p?(se=Ti(o,v),se!=null&&_.unshift(mu(o,se,F))):p||(se=Ti(o,v),se!=null&&_.push(mu(o,se,F)))),o=o.return}_.length!==0&&i.push({event:r,listeners:_})}var ek=/\r\n?/g,tk=/\u0000|\uFFFD/g;function X_(i){return(typeof i=="string"?i:""+i).replace(ek,`
`).replace(tk,"")}function W_(i,r){return r=X_(r),X_(i)===r}function Nt(i,r,o,u,p,v){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Is(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Is(i,""+u);break;case"className":ps(i,"class",u);break;case"tabIndex":ps(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ps(i,o,u);break;case"style":Mc(i,u,v);break;case"data":if(r!=="object"){ps(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=il(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(r!=="input"&&Nt(i,r,"name",p.name,p,null),Nt(i,r,"formEncType",p.formEncType,p,null),Nt(i,r,"formMethod",p.formMethod,p,null),Nt(i,r,"formTarget",p.formTarget,p,null)):(Nt(i,r,"encType",p.encType,p,null),Nt(i,r,"method",p.method,p,null),Nt(i,r,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=il(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=_i);break;case"onScroll":u!=null&&Ze("scroll",i);break;case"onScrollEnd":u!=null&&Ze("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=il(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Ze("beforetoggle",i),Ze("toggle",i),pr(i,"popover",u);break;case"xlinkActuate":J(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":J(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":J(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":J(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":J(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":J(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":J(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":J(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":J(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":pr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Jh.get(o)||o,pr(i,o,u))}}function Wg(i,r,o,u,p,v){switch(o){case"style":Mc(i,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Is(i,u):(typeof u=="number"||typeof u=="bigint")&&Is(i,""+u);break;case"onScroll":u!=null&&Ze("scroll",i);break;case"onScrollEnd":u!=null&&Ze("scrollend",i);break;case"onClick":u!=null&&(i.onclick=_i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ro.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),r=o.slice(2,p?o.length-7:void 0),v=i[ut]||null,v=v!=null?v[o]:null,typeof v=="function"&&i.removeEventListener(r,v,p),typeof u=="function")){typeof v!="function"&&v!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,p);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):pr(i,o,u)}}}function Wn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",i),Ze("load",i);var u=!1,p=!1,v;for(v in o)if(o.hasOwnProperty(v)){var _=o[v];if(_!=null)switch(v){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Nt(i,r,v,_,o,null)}}p&&Nt(i,r,"srcSet",o.srcSet,o,null),u&&Nt(i,r,"src",o.src,o,null);return;case"input":Ze("invalid",i);var N=v=_=p=null,F=null,se=null;for(u in o)if(o.hasOwnProperty(u)){var ce=o[u];if(ce!=null)switch(u){case"name":p=ce;break;case"type":_=ce;break;case"checked":F=ce;break;case"defaultChecked":se=ce;break;case"value":v=ce;break;case"defaultValue":N=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(s(137,r));break;default:Nt(i,r,u,ce,o,null)}}Xh(i,v,N,F,se,_,p,!1);return;case"select":Ze("invalid",i),u=_=v=null;for(p in o)if(o.hasOwnProperty(p)&&(N=o[p],N!=null))switch(p){case"value":v=N;break;case"defaultValue":_=N;break;case"multiple":u=N;default:Nt(i,r,p,N,o,null)}r=v,o=_,i.multiple=!!u,r!=null?ea(i,!!u,r,!1):o!=null&&ea(i,!!u,o,!0);return;case"textarea":Ze("invalid",i),v=p=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(N=o[_],N!=null))switch(_){case"value":u=N;break;case"defaultValue":p=N;break;case"children":v=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(s(91));break;default:Nt(i,r,_,N,o,null)}ta(i,u,p,v);return;case"option":for(F in o)o.hasOwnProperty(F)&&(u=o[F],u!=null)&&(F==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":Nt(i,r,F,u,o,null));return;case"dialog":Ze("beforetoggle",i),Ze("toggle",i),Ze("cancel",i),Ze("close",i);break;case"iframe":case"object":Ze("load",i);break;case"video":case"audio":for(u=0;u<fu.length;u++)Ze(fu[u],i);break;case"image":Ze("error",i),Ze("load",i);break;case"details":Ze("toggle",i);break;case"embed":case"source":case"link":Ze("error",i),Ze("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in o)if(o.hasOwnProperty(se)&&(u=o[se],u!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Nt(i,r,se,u,o,null)}return;default:if(sl(r)){for(ce in o)o.hasOwnProperty(ce)&&(u=o[ce],u!==void 0&&Wg(i,r,ce,u,o,void 0));return}}for(N in o)o.hasOwnProperty(N)&&(u=o[N],u!=null&&Nt(i,r,N,u,o,null))}function nk(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,_=null,N=null,F=null,se=null,ce=null;for(le in o){var fe=o[le];if(o.hasOwnProperty(le)&&fe!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":F=fe;default:u.hasOwnProperty(le)||Nt(i,r,le,null,u,fe)}}for(var re in u){var le=u[re];if(fe=o[re],u.hasOwnProperty(re)&&(le!=null||fe!=null))switch(re){case"type":v=le;break;case"name":p=le;break;case"checked":se=le;break;case"defaultChecked":ce=le;break;case"value":_=le;break;case"defaultValue":N=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(s(137,r));break;default:le!==fe&&Nt(i,r,re,le,u,fe)}}nl(i,_,N,F,se,ce,v,p);return;case"select":le=_=N=re=null;for(v in o)if(F=o[v],o.hasOwnProperty(v)&&F!=null)switch(v){case"value":break;case"multiple":le=F;default:u.hasOwnProperty(v)||Nt(i,r,v,null,u,F)}for(p in u)if(v=u[p],F=o[p],u.hasOwnProperty(p)&&(v!=null||F!=null))switch(p){case"value":re=v;break;case"defaultValue":N=v;break;case"multiple":_=v;default:v!==F&&Nt(i,r,p,v,u,F)}r=N,o=_,u=le,re!=null?ea(i,!!o,re,!1):!!u!=!!o&&(r!=null?ea(i,!!o,r,!0):ea(i,!!o,o?[]:"",!1));return;case"textarea":le=re=null;for(N in o)if(p=o[N],o.hasOwnProperty(N)&&p!=null&&!u.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Nt(i,r,N,null,u,p)}for(_ in u)if(p=u[_],v=o[_],u.hasOwnProperty(_)&&(p!=null||v!=null))switch(_){case"value":re=p;break;case"defaultValue":le=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==v&&Nt(i,r,_,p,u,v)}Wh(i,re,le);return;case"option":for(var Re in o)re=o[Re],o.hasOwnProperty(Re)&&re!=null&&!u.hasOwnProperty(Re)&&(Re==="selected"?i.selected=!1:Nt(i,r,Re,null,u,re));for(F in u)re=u[F],le=o[F],u.hasOwnProperty(F)&&re!==le&&(re!=null||le!=null)&&(F==="selected"?i.selected=re&&typeof re!="function"&&typeof re!="symbol":Nt(i,r,F,re,u,le));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in o)re=o[je],o.hasOwnProperty(je)&&re!=null&&!u.hasOwnProperty(je)&&Nt(i,r,je,null,u,re);for(se in u)if(re=u[se],le=o[se],u.hasOwnProperty(se)&&re!==le&&(re!=null||le!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,r));break;default:Nt(i,r,se,re,u,le)}return;default:if(sl(r)){for(var It in o)re=o[It],o.hasOwnProperty(It)&&re!==void 0&&!u.hasOwnProperty(It)&&Wg(i,r,It,void 0,u,re);for(ce in u)re=u[ce],le=o[ce],!u.hasOwnProperty(ce)||re===le||re===void 0&&le===void 0||Wg(i,r,ce,re,u,le);return}}for(var Q in o)re=o[Q],o.hasOwnProperty(Q)&&re!=null&&!u.hasOwnProperty(Q)&&Nt(i,r,Q,null,u,re);for(fe in u)re=u[fe],le=o[fe],!u.hasOwnProperty(fe)||re===le||re==null&&le==null||Nt(i,r,fe,re,u,le)}function Q_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sk(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var p=o[u],v=p.transferSize,_=p.initiatorType,N=p.duration;if(v&&N&&Q_(_)){for(_=0,N=p.responseEnd,u+=1;u<o.length;u++){var F=o[u],se=F.startTime;if(se>N)break;var ce=F.transferSize,fe=F.initiatorType;ce&&Q_(fe)&&(F=F.responseEnd,_+=ce*(F<N?1:(N-se)/(F-se)))}if(--u,r+=8*(v+_)/(p.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Qg=null,Jg=null;function Zd(i){return i.nodeType===9?i:i.ownerDocument}function J_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Z_(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Zg(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ey=null;function ik(){var i=window.event;return i&&i.type==="popstate"?i===ey?!1:(ey=i,!0):(ey=null,!1)}var e1=typeof setTimeout=="function"?setTimeout:void 0,rk=typeof clearTimeout=="function"?clearTimeout:void 0,t1=typeof Promise=="function"?Promise:void 0,ak=typeof queueMicrotask=="function"?queueMicrotask:typeof t1<"u"?function(i){return t1.resolve(null).then(i).catch(ok)}:e1;function ok(i){setTimeout(function(){throw i})}function Ea(i){return i==="head"}function n1(i,r){var o=r,u=0;do{var p=o.nextSibling;if(i.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(p),Ll(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")pu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,pu(o);for(var v=o.firstChild;v;){var _=v.nextSibling,N=v.nodeName;v[Ls]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&v.rel.toLowerCase()==="stylesheet"||o.removeChild(v),v=_}}else o==="body"&&pu(i.ownerDocument.body);o=p}while(o);Ll(r)}function s1(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function ty(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ty(o),Zr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function lk(i,r,o,u){for(;i.nodeType===1;){var p=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ls])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=oi(i.nextSibling),i===null)break}return null}function ck(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=oi(i.nextSibling),i===null))return null;return i}function i1(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=oi(i.nextSibling),i===null))return null;return i}function ny(i){return i.data==="$?"||i.data==="$~"}function sy(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function uk(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function oi(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var iy=null;function r1(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return oi(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function a1(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function o1(i,r,o){switch(r=Zd(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function pu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Zr(i)}var li=new Map,l1=new Set;function ef(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Mr=W.d;W.d={f:hk,r:dk,D:fk,C:mk,L:pk,m:gk,X:vk,S:yk,M:bk};function hk(){var i=Mr.f(),r=Gd();return i||r}function dk(i){var r=Cs(i);r!==null&&r.tag===5&&r.type==="form"?Sw(r):Mr.r(i)}var jl=typeof document>"u"?null:document;function c1(i,r,o){var u=jl;if(u&&typeof r=="string"&&r){var p=Ns(r);p='link[rel="'+i+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),l1.has(p)||(l1.add(p),i={rel:i,crossOrigin:o,href:r},u.querySelector(p)===null&&(r=u.createElement("link"),Wn(r,"link",i),en(r),u.head.appendChild(r)))}}function fk(i){Mr.D(i),c1("dns-prefetch",i,null)}function mk(i,r){Mr.C(i,r),c1("preconnect",i,r)}function pk(i,r,o){Mr.L(i,r,o);var u=jl;if(u&&i&&r){var p='link[rel="preload"][as="'+Ns(r)+'"]';r==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Ns(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Ns(o.imageSizes)+'"]')):p+='[href="'+Ns(i)+'"]';var v=p;switch(r){case"style":v=Ol(i);break;case"script":v=Vl(i)}li.has(v)||(i=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),li.set(v,i),u.querySelector(p)!==null||r==="style"&&u.querySelector(gu(v))||r==="script"&&u.querySelector(yu(v))||(r=u.createElement("link"),Wn(r,"link",i),en(r),u.head.appendChild(r)))}}function gk(i,r){Mr.m(i,r);var o=jl;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+Ns(u)+'"][href="'+Ns(i)+'"]',v=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Vl(i)}if(!li.has(v)&&(i=b({rel:"modulepreload",href:i},r),li.set(v,i),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(yu(v)))return}u=o.createElement("link"),Wn(u,"link",i),en(u),o.head.appendChild(u)}}}function yk(i,r,o){Mr.S(i,r,o);var u=jl;if(u&&i){var p=Rs(u).hoistableStyles,v=Ol(i);r=r||"default";var _=p.get(v);if(!_){var N={loading:0,preload:null};if(_=u.querySelector(gu(v)))N.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":r},o),(o=li.get(v))&&ry(i,o);var F=_=u.createElement("link");en(F),Wn(F,"link",i),F._p=new Promise(function(se,ce){F.onload=se,F.onerror=ce}),F.addEventListener("load",function(){N.loading|=1}),F.addEventListener("error",function(){N.loading|=2}),N.loading|=4,tf(_,r,u)}_={type:"stylesheet",instance:_,count:1,state:N},p.set(v,_)}}}function vk(i,r){Mr.X(i,r);var o=jl;if(o&&i){var u=Rs(o).hoistableScripts,p=Vl(i),v=u.get(p);v||(v=o.querySelector(yu(p)),v||(i=b({src:i,async:!0},r),(r=li.get(p))&&ay(i,r),v=o.createElement("script"),en(v),Wn(v,"link",i),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function bk(i,r){Mr.M(i,r);var o=jl;if(o&&i){var u=Rs(o).hoistableScripts,p=Vl(i),v=u.get(p);v||(v=o.querySelector(yu(p)),v||(i=b({src:i,async:!0,type:"module"},r),(r=li.get(p))&&ay(i,r),v=o.createElement("script"),en(v),Wn(v,"link",i),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function u1(i,r,o,u){var p=(p=ye.current)?ef(p):null;if(!p)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Ol(o.href),o=Rs(p).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Ol(o.href);var v=Rs(p).hoistableStyles,_=v.get(i);if(_||(p=p.ownerDocument||p,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,_),(v=p.querySelector(gu(i)))&&!v._p&&(_.instance=v,_.state.loading=5),li.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},li.set(i,o),v||xk(p,i,o,_.state))),r&&u===null)throw Error(s(528,""));return _}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Vl(o),o=Rs(p).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Ol(i){return'href="'+Ns(i)+'"'}function gu(i){return'link[rel="stylesheet"]['+i+"]"}function h1(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function xk(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Wn(r,"link",o),en(r),i.head.appendChild(r))}function Vl(i){return'[src="'+Ns(i)+'"]'}function yu(i){return"script[async]"+i}function d1(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+Ns(o.href)+'"]');if(u)return r.instance=u,en(u),u;var p=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),en(u),Wn(u,"style",p),tf(u,o.precedence,i),r.instance=u;case"stylesheet":p=Ol(o.href);var v=i.querySelector(gu(p));if(v)return r.state.loading|=4,r.instance=v,en(v),v;u=h1(o),(p=li.get(p))&&ry(u,p),v=(i.ownerDocument||i).createElement("link"),en(v);var _=v;return _._p=new Promise(function(N,F){_.onload=N,_.onerror=F}),Wn(v,"link",u),r.state.loading|=4,tf(v,o.precedence,i),r.instance=v;case"script":return v=Vl(o.src),(p=i.querySelector(yu(v)))?(r.instance=p,en(p),p):(u=o,(p=li.get(v))&&(u=b({},o),ay(u,p)),i=i.ownerDocument||i,p=i.createElement("script"),en(p),Wn(p,"link",u),i.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,tf(u,o.precedence,i));return r.instance}function tf(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,v=p,_=0;_<u.length;_++){var N=u[_];if(N.dataset.precedence===r)v=N;else if(v!==p)break}v?v.parentNode.insertBefore(i,v.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function ry(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function ay(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var nf=null;function f1(i,r,o){if(nf===null){var u=new Map,p=nf=new Map;p.set(o,u)}else p=nf,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),p=0;p<o.length;p++){var v=o[p];if(!(v[Ls]||v[Ot]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var _=v.getAttribute(r)||"";_=i+_;var N=u.get(_);N?N.push(v):u.set(_,[v])}}return u}function m1(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function wk(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function p1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function _k(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Ol(u.href),v=r.querySelector(gu(p));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=sf.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=v,en(v);return}v=r.ownerDocument||r,u=h1(u),(p=li.get(p))&&ry(u,p),v=v.createElement("link"),en(v);var _=v;_._p=new Promise(function(N,F){_.onload=N,_.onerror=F}),Wn(v,"link",u),o.instance=v}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=sf.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var oy=0;function Tk(i,r){return i.stylesheets&&i.count===0&&af(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&af(i,i.stylesheets),i.unsuspend){var v=i.unsuspend;i.unsuspend=null,v()}},6e4+r);0<i.imgBytes&&oy===0&&(oy=62500*sk());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&af(i,i.stylesheets),i.unsuspend)){var v=i.unsuspend;i.unsuspend=null,v()}},(i.imgBytes>oy?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function sf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)af(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var rf=null;function af(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,rf=new Map,r.forEach(Ek,i),rf=null,sf.call(i))}function Ek(i,r){if(!(r.state.loading&4)){var o=rf.get(i);if(o)var u=o.get(null);else{o=new Map,rf.set(i,o);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var _=p[v];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}p=r.instance,_=p.getAttribute("data-precedence"),v=o.get(_)||u,v===u&&o.set(null,p),o.set(_,p),this.count++,u=sf.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),v?v.parentNode.insertBefore(p,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),r.state.loading|=4}}var vu={$$typeof:H,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function Sk(i,r,o,u,p,v,_,N,F){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wt(0),this.hiddenUpdates=Wt(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function g1(i,r,o,u,p,v,_,N,F,se,ce,fe){return i=new Sk(i,r,o,_,F,se,ce,fe,N),r=1,v===!0&&(r|=24),v=Fs(3,null,null,r),i.current=v,v.stateNode=i,r=zp(),r.refCount++,i.pooledCache=r,r.refCount++,v.memoizedState={element:u,isDehydrated:o,cache:r},Hp(v),i}function y1(i){return i?(i=ml,i):ml}function v1(i,r,o,u,p,v){p=y1(p),u.context===null?u.context=p:u.pendingContext=p,u=fa(r),u.payload={element:o},v=v===void 0?null:v,v!==null&&(u.callback=v),o=ma(i,u,r),o!==null&&(js(o,i,r),Wc(o,i,r))}function b1(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function ly(i,r){b1(i,r),(i=i.alternate)&&b1(i,r)}function x1(i){if(i.tag===13||i.tag===31){var r=vo(i,67108864);r!==null&&js(r,i,67108864),ly(i,67108864)}}function w1(i){if(i.tag===13||i.tag===31){var r=Ks();r=bn(r);var o=vo(i,r);o!==null&&js(o,i,r),ly(i,r)}}var of=!0;function Ak(i,r,o,u){var p=Z.T;Z.T=null;var v=W.p;try{W.p=2,cy(i,r,o,u)}finally{W.p=v,Z.T=p}}function Ck(i,r,o,u){var p=Z.T;Z.T=null;var v=W.p;try{W.p=8,cy(i,r,o,u)}finally{W.p=v,Z.T=p}}function cy(i,r,o,u){if(of){var p=uy(u);if(p===null)Xg(i,r,u,lf,o),T1(i,u);else if(Nk(p,i,r,o,u))u.stopPropagation();else if(T1(i,u),r&4&&-1<Rk.indexOf(i)){for(;p!==null;){var v=Cs(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var _=wt(v.pendingLanes);if(_!==0){var N=v;for(N.pendingLanes|=2,N.entangledLanes|=2;_;){var F=1<<31-At(_);N.entanglements[1]|=F,_&=~F}Qi(v),(pt&6)===0&&(qd=zt()+500,du(0))}}break;case 31:case 13:N=vo(v,2),N!==null&&js(N,v,2),Gd(),ly(v,2)}if(v=uy(u),v===null&&Xg(i,r,u,lf,o),v===p)break;p=v}p!==null&&u.stopPropagation()}else Xg(i,r,u,null,o)}}function uy(i){return i=Js(i),hy(i)}var lf=null;function hy(i){if(lf=null,i=Us(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=h(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return lf=i,null}function _1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_s()){case Ts:return 2;case Pn:return 8;case kt:case fs:return 32;case Es:return 268435456;default:return 32}default:return 32}}var dy=!1,Sa=null,Aa=null,Ca=null,bu=new Map,xu=new Map,Ra=[],Rk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T1(i,r){switch(i){case"focusin":case"focusout":Sa=null;break;case"dragenter":case"dragleave":Aa=null;break;case"mouseover":case"mouseout":Ca=null;break;case"pointerover":case"pointerout":bu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":xu.delete(r.pointerId)}}function wu(i,r,o,u,p,v){return i===null||i.nativeEvent!==v?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:v,targetContainers:[p]},r!==null&&(r=Cs(r),r!==null&&x1(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),i)}function Nk(i,r,o,u,p){switch(r){case"focusin":return Sa=wu(Sa,i,r,o,u,p),!0;case"dragenter":return Aa=wu(Aa,i,r,o,u,p),!0;case"mouseover":return Ca=wu(Ca,i,r,o,u,p),!0;case"pointerover":var v=p.pointerId;return bu.set(v,wu(bu.get(v)||null,i,r,o,u,p)),!0;case"gotpointercapture":return v=p.pointerId,xu.set(v,wu(xu.get(v)||null,i,r,o,u,p)),!0}return!1}function E1(i){var r=Us(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,dn(i.priority,function(){w1(o)});return}}else if(r===31){if(r=h(o),r!==null){i.blockedOn=r,dn(i.priority,function(){w1(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function cf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=uy(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Pc=u,o.target.dispatchEvent(u),Pc=null}else return r=Cs(o),r!==null&&x1(r),i.blockedOn=o,!1;r.shift()}return!0}function S1(i,r,o){cf(i)&&o.delete(r)}function Ik(){dy=!1,Sa!==null&&cf(Sa)&&(Sa=null),Aa!==null&&cf(Aa)&&(Aa=null),Ca!==null&&cf(Ca)&&(Ca=null),bu.forEach(S1),xu.forEach(S1)}function uf(i,r){i.blockedOn===r&&(i.blockedOn=null,dy||(dy=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ik)))}var hf=null;function A1(i){hf!==i&&(hf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){hf===i&&(hf=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],p=i[r+2];if(typeof u!="function"){if(hy(u||o)===null)continue;break}var v=Cs(o);v!==null&&(i.splice(r,3),r-=3,ug(v,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function Ll(i){function r(F){return uf(F,i)}Sa!==null&&uf(Sa,i),Aa!==null&&uf(Aa,i),Ca!==null&&uf(Ca,i),bu.forEach(r),xu.forEach(r);for(var o=0;o<Ra.length;o++){var u=Ra[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Ra.length&&(o=Ra[0],o.blockedOn===null);)E1(o),o.blockedOn===null&&Ra.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],v=o[u+1],_=p[ut]||null;if(typeof v=="function")_||A1(o);else if(_){var N=null;if(v&&v.hasAttribute("formAction")){if(p=v,_=v[ut]||null)N=_.formAction;else if(hy(p)!==null)continue}else N=_.action;typeof N=="function"?o[u+1]=N:(o.splice(u,3),u-=3),A1(o)}}}function C1(){function i(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(_){return p=_})},focusReset:"manual",scroll:"manual"})}function r(){p!==null&&(p(),p=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),p!==null&&(p(),p=null)}}}function fy(i){this._internalRoot=i}df.prototype.render=fy.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Ks();v1(o,u,i,r,null,null)},df.prototype.unmount=fy.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;v1(i.current,2,null,i,null,null),Gd(),r[ms]=null}};function df(i){this._internalRoot=i}df.prototype.unstable_scheduleHydration=function(i){if(i){var r=es();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Ra.length&&r!==0&&r<Ra[o].priority;o++);Ra.splice(o,0,i),o===0&&E1(i)}};var R1=e.version;if(R1!=="19.2.3")throw Error(s(527,R1,"19.2.3"));W.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var Dk={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ff.isDisabled&&ff.supportsFiber)try{jn=ff.inject(Dk),xt=ff}catch{}}return Tu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",p=jw,v=Ow,_=Vw;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=g1(i,1,!1,null,null,o,u,null,p,v,_,C1),i[ms]=r.current,Yg(i),new fy(r)},Tu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,p="",v=jw,_=Ow,N=Vw,F=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError),o.formState!==void 0&&(F=o.formState)),r=g1(i,1,!0,r,o??null,u,p,F,v,_,N,C1),r.context=y1(null),o=r.current,u=Ks(),u=bn(u),p=fa(u),p.callback=null,ma(o,p,u),o=u,r.current.lanes=o,Zn(r,o),Qi(r),i[ms]=r.current,Yg(i),new df(r)},Tu.version="19.2.3",Tu}var L1;function Bk(){if(L1)return gy.exports;L1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gy.exports=zk(),gy.exports}var Fk=Bk();var U1="popstate";function qk(t={}){function e(s,a){let{pathname:l,search:c,hash:h}=s.location;return o0("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:th(a)}return Gk(e,n,null,t)}function Kt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Hk(){return Math.random().toString(36).substring(2,10)}function z1(t,e){return{usr:t.state,key:t.key,idx:e}}function o0(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?mc(e):e,state:n,key:e&&e.key||s||Hk()}}function th({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function mc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function Gk(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,h="POP",d=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function b(){h="POP";let R=g(),j=R==null?null:R-m;m=R,d&&d({action:h,location:D.location,delta:j})}function x(R,j){h="PUSH";let q=o0(D.location,R,j);m=g()+1;let H=z1(q,m),ae=D.createHref(q);try{c.pushState(H,"",ae)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;a.location.assign(ae)}l&&d&&d({action:h,location:D.location,delta:1})}function A(R,j){h="REPLACE";let q=o0(D.location,R,j);m=g();let H=z1(q,m),ae=D.createHref(q);c.replaceState(H,"",ae),l&&d&&d({action:h,location:D.location,delta:0})}function I(R){return $k(R)}let D={get action(){return h},get location(){return t(a,c)},listen(R){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(U1,b),d=R,()=>{a.removeEventListener(U1,b),d=null}},createHref(R){return e(a,R)},createURL:I,encodeLocation(R){let j=I(R);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:x,replace:A,go(R){return c.go(R)}};return D}function $k(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Kt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:th(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function yA(t,e,n="/"){return Kk(t,e,n,!1)}function Kk(t,e,n,s){let a=typeof e=="string"?mc(e):e,l=Gr(a.pathname||"/",n);if(l==null)return null;let c=vA(t);Yk(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let m=rM(l);h=sM(c[d],m,s)}return h}function vA(t,e=[],n=[],s="",a=!1){let l=(c,h,d=a,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(s)&&d)return;Kt(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length)}let b=Br([s,g.relativePath]),x=n.concat(g);c.children&&c.children.length>0&&(Kt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),vA(c.children,e,x,b,d)),!(c.path==null&&!c.index)&&e.push({path:b,score:tM(b,c.index),routesMeta:x})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))l(c,h);else for(let d of bA(c.path))l(c,h,!0,d)}),e}function bA(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=bA(s.join("/")),h=[];return h.push(...c.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...c),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function Yk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nM(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Xk=/^:[\w-]+$/,Wk=3,Qk=2,Jk=1,Zk=10,eM=-2,B1=t=>t==="*";function tM(t,e){let n=t.split("/"),s=n.length;return n.some(B1)&&(s+=eM),e&&(s+=Qk),n.filter(a=>!B1(a)).reduce((a,l)=>a+(Xk.test(l)?Wk:l===""?Jk:Zk),s)}function nM(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function sM(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let h=0;h<s.length;++h){let d=s[h],m=h===s.length-1,g=l==="/"?e:e.slice(l.length)||"/",b=Qf({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},g),x=d.route;if(!b&&m&&n&&!s[s.length-1].route.index&&(b=Qf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Br([l,b.pathname]),pathnameBase:cM(Br([l,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(l=Br([l,b.pathnameBase]))}return c}function Qf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=iM(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((m,{paramName:g,isOptional:b},x)=>{if(g==="*"){let I=h[x]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const A=h[x];return b&&!A?m[g]=void 0:m[g]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function iM(t,e=!1,n=!0){vi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(s.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function rM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Gr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var xA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aM=t=>xA.test(t);function oM(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?mc(t):t,l;if(n)if(aM(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),vi(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=F1(n.substring(1),"/"):l=F1(n,e)}else l=e;return{pathname:l,search:uM(s),hash:hM(a)}}function F1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function xy(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hv(t){let e=lM(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function dv(t,e,n,s=!1){let a;typeof t=="string"?a=mc(t):(a={...t},Kt(!a.pathname||!a.pathname.includes("?"),xy("?","pathname","search",a)),Kt(!a.pathname||!a.pathname.includes("#"),xy("#","pathname","hash",a)),Kt(!a.search||!a.search.includes("#"),xy("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=n;else{let b=e.length-1;if(!s&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),b-=1;a.pathname=x.join("/")}h=b>=0?e[b]:"/"}let d=oM(a,h),m=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||g)&&(d.pathname+="/"),d}var Br=t=>t.join("/").replace(/\/\/+/g,"/"),cM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,dM=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function fM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function mM(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var wA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function _A(t,e){let n=t;if(typeof n!="string"||!xA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(wA)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),h=Gr(c.pathname,e);c.origin===l.origin&&h!=null?n=h+c.search+c.hash:a=!0}catch{vi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var TA=["POST","PUT","PATCH","DELETE"];new Set(TA);var pM=["GET",...TA];new Set(pM);var pc=S.createContext(null);pc.displayName="DataRouter";var Um=S.createContext(null);Um.displayName="DataRouterState";var gM=S.createContext(!1),EA=S.createContext({isTransitioning:!1});EA.displayName="ViewTransition";var yM=S.createContext(new Map);yM.displayName="Fetchers";var vM=S.createContext(null);vM.displayName="Await";var Ws=S.createContext(null);Ws.displayName="Navigation";var wh=S.createContext(null);wh.displayName="Location";var zi=S.createContext({outlet:null,matches:[],isDataRoute:!1});zi.displayName="Route";var fv=S.createContext(null);fv.displayName="RouteError";var SA="REACT_ROUTER_ERROR",bM="REDIRECT",xM="ROUTE_ERROR_RESPONSE";function wM(t){if(t.startsWith(`${SA}:${bM}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function _M(t){if(t.startsWith(`${SA}:${xM}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new dM(e.status,e.statusText,e.data)}catch{}}function TM(t,{relative:e}={}){Kt(gc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=S.useContext(Ws),{hash:a,pathname:l,search:c}=_h(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Br([n,l])),s.createHref({pathname:h,search:c,hash:a})}function gc(){return S.useContext(wh)!=null}function Qr(){return Kt(gc(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(wh).location}var AA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CA(t){S.useContext(Ws).static||S.useLayoutEffect(t)}function zm(){let{isDataRoute:t}=S.useContext(zi);return t?VM():EM()}function EM(){Kt(gc(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(pc),{basename:e,navigator:n}=S.useContext(Ws),{matches:s}=S.useContext(zi),{pathname:a}=Qr(),l=JSON.stringify(hv(s)),c=S.useRef(!1);return CA(()=>{c.current=!0}),S.useCallback((d,m={})=>{if(vi(c.current,AA),!c.current)return;if(typeof d=="number"){n.go(d);return}let g=dv(d,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Br([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,l,a,t])}S.createContext(null);function SM(){let{matches:t}=S.useContext(zi),e=t[t.length-1];return e?e.params:{}}function _h(t,{relative:e}={}){let{matches:n}=S.useContext(zi),{pathname:s}=Qr(),a=JSON.stringify(hv(n));return S.useMemo(()=>dv(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function AM(t,e){return RA(t,e)}function RA(t,e,n,s,a){Kt(gc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=S.useContext(Ws),{matches:c}=S.useContext(zi),h=c[c.length-1],d=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",b=h&&h.route;{let q=b&&b.path||"";IA(m,!b||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let x=Qr(),A;if(e){let q=typeof e=="string"?mc(e):e;Kt(g==="/"||q.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${q.pathname}" was given in the \`location\` prop.`),A=q}else A=x;let I=A.pathname||"/",D=I;if(g!=="/"){let q=g.replace(/^\//,"").split("/");D="/"+I.replace(/^\//,"").split("/").slice(q.length).join("/")}let R=yA(t,{pathname:D});vi(b||R!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),vi(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=DM(R&&R.map(q=>Object.assign({},q,{params:Object.assign({},d,q.params),pathname:Br([g,l.encodeLocation?l.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?g:Br([g,l.encodeLocation?l.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),c,n,s,a);return e&&j?S.createElement(wh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},j):j}function CM(){let t=OM(),e=fM(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:l},"ErrorBoundary")," or"," ",S.createElement("code",{style:l},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:a},n):null,c)}var RM=S.createElement(CM,null),NA=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=_M(t.digest);n&&(t=n)}let e=t!==void 0?S.createElement(zi.Provider,{value:this.props.routeContext},S.createElement(fv.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?S.createElement(NM,{error:t},e):e}};NA.contextType=gM;var wy=new WeakMap;function NM({children:t,error:e}){let{basename:n}=S.useContext(Ws);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=wM(e.digest);if(s){let a=wy.get(e);if(a)throw a;let l=_A(s.location,n);if(wA&&!wy.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw wy.set(e,c),c}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function IM({routeContext:t,match:e,children:n}){let s=S.useContext(pc);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(zi.Provider,{value:t},n)}function DM(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let g=l.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);Kt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,d=-1;if(n)for(let g=0;g<l.length;g++){let b=l[g];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(d=g),b.route.id){let{loaderData:x,errors:A}=n,I=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!A||A[b.route.id]===void 0);if(b.route.lazy||I){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let m=n&&s?(g,b)=>{s(g,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:mM(n.matches),errorInfo:b})}:void 0;return l.reduceRight((g,b,x)=>{let A,I=!1,D=null,R=null;n&&(A=c&&b.route.id?c[b.route.id]:void 0,D=b.route.errorElement||RM,h&&(d<0&&x===0?(IA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,R=null):d===x&&(I=!0,R=b.route.hydrateFallbackElement||null)));let j=e.concat(l.slice(0,x+1)),q=()=>{let H;return A?H=D:I?H=R:b.route.Component?H=S.createElement(b.route.Component,null):b.route.element?H=b.route.element:H=g,S.createElement(IM,{match:b,routeContext:{outlet:g,matches:j,isDataRoute:n!=null},children:H})};return n&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?S.createElement(NA,{location:n.location,revalidation:n.revalidation,component:D,error:A,children:q(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:m}):q()},null)}function mv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kM(t){let e=S.useContext(pc);return Kt(e,mv(t)),e}function MM(t){let e=S.useContext(Um);return Kt(e,mv(t)),e}function PM(t){let e=S.useContext(zi);return Kt(e,mv(t)),e}function pv(t){let e=PM(t),n=e.matches[e.matches.length-1];return Kt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function jM(){return pv("useRouteId")}function OM(){let t=S.useContext(fv),e=MM("useRouteError"),n=pv("useRouteError");return t!==void 0?t:e.errors?.[n]}function VM(){let{router:t}=kM("useNavigate"),e=pv("useNavigate"),n=S.useRef(!1);return CA(()=>{n.current=!0}),S.useCallback(async(a,l={})=>{vi(n.current,AA),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var q1={};function IA(t,e,n){!e&&!q1[t]&&(q1[t]=!0,vi(!1,n))}S.memo(LM);function LM({routes:t,future:e,state:n,onError:s}){return RA(t,void 0,n,s,e)}function Do({to:t,replace:e,state:n,relative:s}){Kt(gc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=S.useContext(Ws);vi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=S.useContext(zi),{pathname:c}=Qr(),h=zm(),d=dv(t,hv(l),c,s==="path"),m=JSON.stringify(d);return S.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:s})},[h,m,s,e,n]),null}function jr(t){Kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function UM({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){Kt(!gc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),d=S.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[h,a,l,c]);typeof n=="string"&&(n=mc(n));let{pathname:m="/",search:g="",hash:b="",state:x=null,key:A="default"}=n,I=S.useMemo(()=>{let D=Gr(m,h);return D==null?null:{location:{pathname:D,search:g,hash:b,state:x,key:A},navigationType:s}},[h,m,g,b,x,A,s]);return vi(I!=null,`<Router basename="${h}"> is not able to match the URL "${m}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:S.createElement(Ws.Provider,{value:d},S.createElement(wh.Provider,{children:e,value:I}))}function zM({children:t,location:e}){return AM(l0(t),e)}function l0(t,e=[]){let n=[];return S.Children.forEach(t,(s,a)=>{if(!S.isValidElement(s))return;let l=[...e,a];if(s.type===S.Fragment){n.push.apply(n,l0(s.props.children,l));return}Kt(s.type===jr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Kt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=l0(s.props.children,l)),n.push(c)}),n}var Mf="get",Pf="application/x-www-form-urlencoded";function Bm(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function BM(t){return Bm(t)&&t.tagName.toLowerCase()==="button"}function FM(t){return Bm(t)&&t.tagName.toLowerCase()==="form"}function qM(t){return Bm(t)&&t.tagName.toLowerCase()==="input"}function HM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function GM(t,e){return t.button===0&&(!e||e==="_self")&&!HM(t)}var mf=null;function $M(){if(mf===null)try{new FormData(document.createElement("form"),0),mf=!1}catch{mf=!0}return mf}var KM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _y(t){return t!=null&&!KM.has(t)?(vi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pf}"`),null):t}function YM(t,e){let n,s,a,l,c;if(FM(t)){let h=t.getAttribute("action");s=h?Gr(h,e):null,n=t.getAttribute("method")||Mf,a=_y(t.getAttribute("enctype"))||Pf,l=new FormData(t)}else if(BM(t)||qM(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(s=d?Gr(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Mf,a=_y(t.getAttribute("formenctype"))||_y(h.getAttribute("enctype"))||Pf,l=new FormData(h,t),!$M()){let{name:m,type:g,value:b}=t;if(g==="image"){let x=m?`${m}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else m&&l.append(m,b)}}else{if(Bm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mf,s=null,a=Pf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function XM(t,e,n,s){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:e&&Gr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function WM(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QM(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function JM(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await WM(l,n);return c.links?c.links():[]}return[]}));return nP(s.flat(1).filter(QM).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function H1(t,e,n,s,a,l){let c=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,h=(d,m)=>n[m].pathname!==d.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,m)=>c(d,m)||h(d,m)):l==="data"?e.filter((d,m)=>{let g=s.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(c(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function ZM(t,e,{includeHydrateFallback:n}={}){return eP(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function eP(t){return[...new Set(t)]}function tP(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function nP(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(tP(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function DA(){let t=S.useContext(pc);return gv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function sP(){let t=S.useContext(Um);return gv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var yv=S.createContext(void 0);yv.displayName="FrameworkContext";function kA(){let t=S.useContext(yv);return gv(t,"You must render this element inside a <HydratedRouter> element"),t}function iP(t,e){let n=S.useContext(yv),[s,a]=S.useState(!1),[l,c]=S.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:g,onTouchStart:b}=e,x=S.useRef(null);S.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let D=j=>{j.forEach(q=>{c(q.isIntersecting)})},R=new IntersectionObserver(D,{threshold:.5});return x.current&&R.observe(x.current),()=>{R.disconnect()}}},[t]),S.useEffect(()=>{if(s){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[s]);let A=()=>{a(!0)},I=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,x,{}]:[l,x,{onFocus:Eu(h,A),onBlur:Eu(d,I),onMouseEnter:Eu(m,A),onMouseLeave:Eu(g,I),onTouchStart:Eu(b,A)}]:[!1,x,{}]}function Eu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function rP({page:t,...e}){let{router:n}=DA(),s=S.useMemo(()=>yA(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?S.createElement(oP,{page:t,matches:s,...e}):null}function aP(t){let{manifest:e,routeModules:n}=kA(),[s,a]=S.useState([]);return S.useEffect(()=>{let l=!1;return JM(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function oP({page:t,matches:e,...n}){let s=Qr(),{future:a,manifest:l,routeModules:c}=kA(),{basename:h}=DA(),{loaderData:d,matches:m}=sP(),g=S.useMemo(()=>H1(t,e,m,l,s,"data"),[t,e,m,l,s]),b=S.useMemo(()=>H1(t,e,m,l,s,"assets"),[t,e,m,l,s]),x=S.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let D=new Set,R=!1;if(e.forEach(q=>{let H=l.routes[q.route.id];!H||!H.hasLoader||(!g.some(ae=>ae.route.id===q.route.id)&&q.route.id in d&&c[q.route.id]?.shouldRevalidate||H.hasClientLoader?R=!0:D.add(q.route.id))}),D.size===0)return[];let j=XM(t,h,a.unstable_trailingSlashAwareDataRequests,"data");return R&&D.size>0&&j.searchParams.set("_routes",e.filter(q=>D.has(q.route.id)).map(q=>q.route.id).join(",")),[j.pathname+j.search]},[h,a.unstable_trailingSlashAwareDataRequests,d,s,l,g,e,t,c]),A=S.useMemo(()=>ZM(b,l),[b,l]),I=aP(b);return S.createElement(S.Fragment,null,x.map(D=>S.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),A.map(D=>S.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),I.map(({key:D,link:R})=>S.createElement("link",{key:D,nonce:n.nonce,...R})))}function lP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var cP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cP&&(window.__reactRouterVersion="7.12.0")}catch{}function uP({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=S.useRef();a.current==null&&(a.current=qk({window:s,v5Compat:!0}));let l=a.current,[c,h]=S.useState({action:l.action,location:l.location}),d=S.useCallback(m=>{n===!1?h(m):S.startTransition(()=>h(m))},[n]);return S.useLayoutEffect(()=>l.listen(d),[l,d]),S.createElement(UM,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var MA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vv=S.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:h,target:d,to:m,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:x,...A},I){let{basename:D,unstable_useTransitions:R}=S.useContext(Ws),j=typeof m=="string"&&MA.test(m),q=_A(m,D);m=q.to;let H=TM(m,{relative:a}),[ae,ie,ue]=iP(s,A),k=fP(m,{replace:c,state:h,target:d,preventScrollReset:g,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:x,unstable_useTransitions:R});function C(z){e&&e(z),z.defaultPrevented||k(z)}let P=S.createElement("a",{...A,...ue,href:q.absoluteURL||H,onClick:q.isExternal||l?e:C,ref:lP(I,ie),target:d,"data-discover":!j&&n==="render"?"true":void 0});return ae&&!j?S.createElement(S.Fragment,null,P,S.createElement(rP,{page:H})):P});vv.displayName="Link";var PA=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:h,children:d,...m},g){let b=_h(c,{relative:m.relative}),x=Qr(),A=S.useContext(Um),{navigator:I,basename:D}=S.useContext(Ws),R=A!=null&&vP(b)&&h===!0,j=I.encodeLocation?I.encodeLocation(b).pathname:b.pathname,q=x.pathname,H=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(q=q.toLowerCase(),H=H?H.toLowerCase():null,j=j.toLowerCase()),H&&D&&(H=Gr(H,D)||H);const ae=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let ie=q===j||!a&&q.startsWith(j)&&q.charAt(ae)==="/",ue=H!=null&&(H===j||!a&&H.startsWith(j)&&H.charAt(j.length)==="/"),k={isActive:ie,isPending:ue,isTransitioning:R},C=ie?e:void 0,P;typeof s=="function"?P=s(k):P=[s,ie?"active":null,ue?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let z=typeof l=="function"?l(k):l;return S.createElement(vv,{...m,"aria-current":C,className:P,ref:g,style:z,to:c,viewTransition:h},typeof d=="function"?d(k):d)});PA.displayName="NavLink";var hP=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=Mf,action:h,onSubmit:d,relative:m,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:x,...A},I)=>{let{unstable_useTransitions:D}=S.useContext(Ws),R=gP(),j=yP(h,{relative:m}),q=c.toLowerCase()==="get"?"get":"post",H=typeof h=="string"&&MA.test(h),ae=ie=>{if(d&&d(ie),ie.defaultPrevented)return;ie.preventDefault();let ue=ie.nativeEvent.submitter,k=ue?.getAttribute("formmethod")||c,C=()=>R(ue||ie.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:a,state:l,relative:m,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:x});D&&n!==!1?S.startTransition(()=>C()):C()};return S.createElement("form",{ref:I,method:q,action:j,onSubmit:s?d:ae,...A,"data-discover":!H&&t==="render"?"true":void 0})});hP.displayName="Form";function dP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jA(t){let e=S.useContext(pc);return Kt(e,dP(t)),e}function fP(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let m=zm(),g=Qr(),b=_h(t,{relative:l});return S.useCallback(x=>{if(GM(x,e)){x.preventDefault();let A=n!==void 0?n:th(g)===th(b),I=()=>m(t,{replace:A,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h});d?S.startTransition(()=>I()):I()}},[g,m,b,n,s,e,t,a,l,c,h,d])}var mP=0,pP=()=>`__${String(++mP)}__`;function gP(){let{router:t}=jA("useSubmit"),{basename:e}=S.useContext(Ws),n=jM(),s=t.fetch,a=t.navigate;return S.useCallback(async(l,c={})=>{let{action:h,method:d,encType:m,formData:g,body:b}=YM(l,e);if(c.navigate===!1){let x=c.fetcherKey||pP();await s(x,n,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:b,formMethod:c.method||d,formEncType:c.encType||m,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:b,formMethod:c.method||d,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,e,n])}function yP(t,{relative:e}={}){let{basename:n}=S.useContext(Ws),s=S.useContext(zi);Kt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={..._h(t||".",{relative:e})},c=Qr();if(t==null){l.search=c.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(b=>b).forEach(b=>h.append("index",b));let g=h.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Br([n,l.pathname])),th(l)}function vP(t,{relative:e}={}){let n=S.useContext(EA);Kt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=jA("useViewTransitionState"),a=_h(t,{relative:e});if(!n.isTransitioning)return!1;let l=Gr(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Gr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Qf(a.pathname,c)!=null||Qf(a.pathname,l)!=null}var Du=gA();const bP=()=>y.jsx("div",{className:"noise-overlay"}),xP="modulepreload",wP=function(t){return"/"+t},G1={},zl=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){let d=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=c?.nonce||c?.getAttribute("nonce");a=d(n.map(m=>{if(m=wP(m),m in G1)return;G1[m]=!0;const g=m.endsWith(".css"),b=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${b}`))return;const x=document.createElement("link");if(x.rel=g?"stylesheet":xP,g||(x.as="script"),x.crossOrigin="",x.href=m,h&&x.setAttribute("nonce",h),document.head.appendChild(x),g)return new Promise((A,I)=>{x.addEventListener("load",A),x.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},_P=()=>{};var $1={};const OA=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},TP=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],h=t[n++],d=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},VA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,h=c?t[a+1]:0,d=a+2<t.length,m=d?t[a+2]:0,g=l>>2,b=(l&3)<<4|h>>4;let x=(h&15)<<2|m>>6,A=m&63;d||(A=64,c||(x=64)),s.push(n[g],n[b],n[x],n[A])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||m==null||b==null)throw new EP;const x=l<<2|h>>4;if(s.push(x),m!==64){const A=h<<4&240|m>>2;if(s.push(A),b!==64){const I=m<<6&192|b;s.push(I)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class EP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SP=function(t){const e=OA(t);return VA.encodeByteArray(e,!0)},Jf=function(t){return SP(t).replace(/\./g,"")},LA=function(t){try{return VA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function AP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const CP=()=>AP().__FIREBASE_DEFAULTS__,RP=()=>{if(typeof process>"u"||typeof $1>"u")return;const t=$1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},NP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&LA(t[1]);return e&&JSON.parse(e)},Fm=()=>{try{return _P()||CP()||RP()||NP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},UA=t=>Fm()?.emulatorHosts?.[t],zA=t=>{const e=UA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},BA=()=>Fm()?.config,FA=t=>Fm()?.[`_${t}`];class IP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Wo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bv(t){return(await fetch(t,{credentials:"include"})).ok}function qA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Jf(JSON.stringify(n)),Jf(JSON.stringify(c)),""].join(".")}const Vu={};function DP(){const t={prod:[],emulator:[]};for(const e of Object.keys(Vu))Vu[e]?t.emulator.push(e):t.prod.push(e);return t}function kP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let K1=!1;function xv(t,e){if(typeof window>"u"||typeof document>"u"||!Wo(window.location.host)||Vu[t]===e||Vu[t]||K1)return;Vu[t]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",l=DP().prod.length>0;function c(){const x=document.getElementById(s);x&&x.remove()}function h(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function d(x,A){x.setAttribute("width","24"),x.setAttribute("id",A),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function m(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{K1=!0,c()},x}function g(x,A){x.setAttribute("id",A),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=kP(s),A=n("text"),I=document.getElementById(A)||document.createElement("span"),D=n("learnmore"),R=document.getElementById(D)||document.createElement("a"),j=n("preprendIcon"),q=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const H=x.element;h(H),g(R,D);const ae=m();d(q,j),H.append(q,I,R,ae),document.body.appendChild(H)}l?(I.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function us(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(us())}function PP(){const t=Fm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function VP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LP(){const t=us();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function UP(){return!PP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zP(){try{return typeof indexedDB=="object"}catch{return!1}}function BP(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const FP="FirebaseError";class hr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=FP,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Th.prototype.create)}}class Th{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?qP(l,s):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new hr(a,h,s)}}function qP(t,e){return t.replace(HP,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const HP=/\{\$([^}]+)}/g;function GP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Go(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(Y1(l)&&Y1(c)){if(!Go(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Y1(t){return t!==null&&typeof t=="object"}function Eh(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function $P(t,e){const n=new KP(t,e);return n.subscribe.bind(n)}class KP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");YP(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Ty),a.error===void 0&&(a.error=Ty),a.complete===void 0&&(a.complete=Ty);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ty(){}function hn(t){return t&&t._delegate?t._delegate:t}class Fa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const jo="[DEFAULT]";class XP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new IP;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QP(e))try{this.getOrInitializeService({instanceIdentifier:jo})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=jo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jo){return this.instances.has(e)}getOptions(e=jo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:WP(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=jo){return this.component?this.component.multipleInstances?e:jo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WP(t){return t===jo?void 0:t}function QP(t){return t.instantiationMode==="EAGER"}class JP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new XP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const ZP={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},e4=it.INFO,t4={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},n4=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=t4[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wv{constructor(e){this.name=e,this._logLevel=e4,this._logHandler=n4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const s4=(t,e)=>e.some(n=>t instanceof n);let X1,W1;function i4(){return X1||(X1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r4(){return W1||(W1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HA=new WeakMap,c0=new WeakMap,GA=new WeakMap,Ey=new WeakMap,_v=new WeakMap;function a4(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Oa(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&HA.set(n,t)}).catch(()=>{}),_v.set(e,t),e}function o4(t){if(c0.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});c0.set(t,e)}let u0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return c0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function l4(t){u0=t(u0)}function c4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Sy(this),e,...n);return GA.set(s,e.sort?e.sort():[e]),Oa(s)}:r4().includes(t)?function(...e){return t.apply(Sy(this),e),Oa(HA.get(this))}:function(...e){return Oa(t.apply(Sy(this),e))}}function u4(t){return typeof t=="function"?c4(t):(t instanceof IDBTransaction&&o4(t),s4(t,i4())?new Proxy(t,u0):t)}function Oa(t){if(t instanceof IDBRequest)return a4(t);if(Ey.has(t))return Ey.get(t);const e=u4(t);return e!==t&&(Ey.set(t,e),_v.set(e,t)),e}const Sy=t=>_v.get(t);function h4(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),h=Oa(c);return s&&c.addEventListener("upgradeneeded",d=>{s(Oa(c.result),d.oldVersion,d.newVersion,Oa(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const d4=["get","getKey","getAll","getAllKeys","count"],f4=["put","add","delete","clear"],Ay=new Map;function Q1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ay.get(e))return Ay.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=f4.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||d4.includes(n)))return;const l=async function(c,...h){const d=this.transaction(c,a?"readwrite":"readonly");let m=d.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),a&&d.done]))[0]};return Ay.set(e,l),l}l4(t=>({...t,get:(e,n,s)=>Q1(e,n)||t.get(e,n,s),has:(e,n)=>!!Q1(e,n)||t.has(e,n)}));class m4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(p4(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function p4(t){return t.getComponent()?.type==="VERSION"}const h0="@firebase/app",J1="0.14.7";const $r=new wv("@firebase/app"),g4="@firebase/app-compat",y4="@firebase/analytics-compat",v4="@firebase/analytics",b4="@firebase/app-check-compat",x4="@firebase/app-check",w4="@firebase/auth",_4="@firebase/auth-compat",T4="@firebase/database",E4="@firebase/data-connect",S4="@firebase/database-compat",A4="@firebase/functions",C4="@firebase/functions-compat",R4="@firebase/installations",N4="@firebase/installations-compat",I4="@firebase/messaging",D4="@firebase/messaging-compat",k4="@firebase/performance",M4="@firebase/performance-compat",P4="@firebase/remote-config",j4="@firebase/remote-config-compat",O4="@firebase/storage",V4="@firebase/storage-compat",L4="@firebase/firestore",U4="@firebase/ai",z4="@firebase/firestore-compat",B4="firebase",F4="12.8.0";const d0="[DEFAULT]",q4={[h0]:"fire-core",[g4]:"fire-core-compat",[v4]:"fire-analytics",[y4]:"fire-analytics-compat",[x4]:"fire-app-check",[b4]:"fire-app-check-compat",[w4]:"fire-auth",[_4]:"fire-auth-compat",[T4]:"fire-rtdb",[E4]:"fire-data-connect",[S4]:"fire-rtdb-compat",[A4]:"fire-fn",[C4]:"fire-fn-compat",[R4]:"fire-iid",[N4]:"fire-iid-compat",[I4]:"fire-fcm",[D4]:"fire-fcm-compat",[k4]:"fire-perf",[M4]:"fire-perf-compat",[P4]:"fire-rc",[j4]:"fire-rc-compat",[O4]:"fire-gcs",[V4]:"fire-gcs-compat",[L4]:"fire-fst",[z4]:"fire-fst-compat",[U4]:"fire-vertex","fire-js":"fire-js",[B4]:"fire-js-all"};const Zf=new Map,H4=new Map,f0=new Map;function Z1(t,e){try{t.container.addComponent(e)}catch(n){$r.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $o(t){const e=t.name;if(f0.has(e))return $r.debug(`There were multiple attempts to register component ${e}.`),!1;f0.set(e,t);for(const n of Zf.values())Z1(n,t);for(const n of H4.values())Z1(n,t);return!0}function qm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hi(t){return t==null?!1:t.settings!==void 0}const G4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Va=new Th("app","Firebase",G4);class $4{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Va.create("app-deleted",{appName:this._name})}}const Qo=F4;function $A(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:d0,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Va.create("bad-app-name",{appName:String(a)});if(n||(n=BA()),!n)throw Va.create("no-options");const l=Zf.get(a);if(l){if(Go(n,l.options)&&Go(s,l.config))return l;throw Va.create("duplicate-app",{appName:a})}const c=new JP(a);for(const d of f0.values())c.addComponent(d);const h=new $4(n,s,c);return Zf.set(a,h),h}function Tv(t=d0){const e=Zf.get(t);if(!e&&t===d0&&BA())return $A();if(!e)throw Va.create("no-app",{appName:t});return e}function tr(t,e,n){let s=q4[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$r.warn(c.join(" "));return}$o(new Fa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const K4="firebase-heartbeat-database",Y4=1,nh="firebase-heartbeat-store";let Cy=null;function KA(){return Cy||(Cy=h4(K4,Y4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Va.create("idb-open",{originalErrorMessage:t.message})})),Cy}async function X4(t){try{const n=(await KA()).transaction(nh),s=await n.objectStore(nh).get(YA(t));return await n.done,s}catch(e){if(e instanceof hr)$r.warn(e.message);else{const n=Va.create("idb-get",{originalErrorMessage:e?.message});$r.warn(n.message)}}}async function eT(t,e){try{const s=(await KA()).transaction(nh,"readwrite");await s.objectStore(nh).put(e,YA(t)),await s.done}catch(n){if(n instanceof hr)$r.warn(n.message);else{const s=Va.create("idb-set",{originalErrorMessage:n?.message});$r.warn(s.message)}}}function YA(t){return`${t.name}!${t.options.appId}`}const W4=1024,Q4=30;class J4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ej(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=tT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Q4){const a=tj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){$r.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=tT(),{heartbeatsToSend:n,unsentEntries:s}=Z4(this._heartbeatsCache.heartbeats),a=Jf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return $r.warn(e),""}}}function tT(){return new Date().toISOString().substring(0,10)}function Z4(t,e=W4){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),nT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),nT(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class ej{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zP()?BP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await X4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return eT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return eT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function nT(t){return Jf(JSON.stringify({version:2,heartbeats:t})).length}function tj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function nj(t){$o(new Fa("platform-logger",e=>new m4(e),"PRIVATE")),$o(new Fa("heartbeat",e=>new J4(e),"PRIVATE")),tr(h0,J1,t),tr(h0,J1,"esm2020"),tr("fire-js","")}nj("");var sj="firebase",ij="12.8.0";tr(sj,ij,"app");function XA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WA=XA,QA=new Th("auth","Firebase",XA());const em=new wv("@firebase/auth");function rj(t,...e){em.logLevel<=it.WARN&&em.warn(`Auth (${Qo}): ${t}`,...e)}function jf(t,...e){em.logLevel<=it.ERROR&&em.error(`Auth (${Qo}): ${t}`,...e)}function or(t,...e){throw Sv(t,...e)}function Pi(t,...e){return Sv(t,...e)}function Ev(t,e,n){const s={...WA(),[e]:n};return new Th("auth","Firebase",s).create(e,{appName:t.name})}function Fo(t){return Ev(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function aj(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&or(t,"argument-error"),Ev(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sv(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return QA.create(t,...e)}function ze(t,e,...n){if(!t)throw Sv(e,...n)}function Ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jf(e),new Error(e)}function Kr(t,e){t||Ur(e)}function m0(){return typeof self<"u"&&self.location?.href||""}function oj(){return sT()==="http:"||sT()==="https:"}function sT(){return typeof self<"u"&&self.location?.protocol||null}function lj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oj()||OP()||"connection"in navigator)?navigator.onLine:!0}function cj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Sh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Kr(n>e,"Short delay should be less than long delay!"),this.isMobile=MP()||VP()}get(){return lj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Av(t,e){Kr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class JA{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const uj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const hj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dj=new Sh(3e4,6e4);function Cv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Jo(t,e,n,s,a={}){return ZA(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const h=Eh({key:t.config.apiKey,...c}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:d,...l};return jP()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Wo(t.emulatorConfig.host)&&(m.credentials="include"),JA.fetch()(await eC(t,t.config.apiHost,n,h),m)})}async function ZA(t,e,n){t._canInitEmulator=!1;const s={...uj,...e};try{const a=new mj(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw pf(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw pf(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw pf(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw pf(t,"user-disabled",c);const g=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Ev(t,g,m);or(t,g)}}catch(a){if(a instanceof hr)throw a;or(t,"network-request-failed",{message:String(a)})}}async function fj(t,e,n,s,a={}){const l=await Jo(t,e,n,s,a);return"mfaPendingCredential"in l&&or(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function eC(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?Av(t.config,a):`${t.config.apiScheme}://${a}`;return hj.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class mj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Pi(this.auth,"network-request-failed")),dj.get())})}}function pf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Pi(t,e,s);return a.customData._tokenResponse=n,a}async function pj(t,e){return Jo(t,"POST","/v1/accounts:delete",e)}async function tm(t,e){return Jo(t,"POST","/v1/accounts:lookup",e)}function Lu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tC(t,e=!1){const n=hn(t),s=await n.getIdToken(e),a=Rv(s);ze(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Lu(Ry(a.auth_time)),issuedAtTime:Lu(Ry(a.iat)),expirationTime:Lu(Ry(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Ry(t){return Number(t)*1e3}function Rv(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return jf("JWT malformed, contained fewer than 3 sections"),null;try{const a=LA(n);return a?JSON.parse(a):(jf("Failed to decode base64 JWT payload"),null)}catch(a){return jf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function iT(t){const e=Rv(t);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ic(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof hr&&gj(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function gj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class yj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class p0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lu(this.lastLoginAt),this.creationTime=Lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nm(t){const e=t.auth,n=await t.getIdToken(),s=await ic(t,tm(e,{idToken:n}));ze(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?sC(a.providerUserInfo):[],c=vj(t.providerData,l),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!c?.length,m=h?d:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new p0(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function nC(t){const e=hn(t);await nm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vj(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function sC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function bj(t,e){const n=await ZA(t,{},async()=>{const s=Eh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await eC(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:s};return t.emulatorConfig&&Wo(t.emulatorConfig.host)&&(d.credentials="include"),JA.fetch()(c,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xj(t,e){return Jo(t,"POST","/v2/accounts:revokeToken",Cv(t,e))}class Wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const n=iT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await bj(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Wl;return s&&(ze(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(ze(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(ze(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wl,this.toJSON())}_performRefresh(){return Ur("not implemented")}}function Ia(t,e){ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ki{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new yj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new p0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await ic(this,this.stsTokenManager.getToken(this.auth,e));return ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tC(this,e)}reload(){return nC(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ki({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await nm(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hi(this.auth.app))return Promise.reject(Fo(this.auth));const e=await this.getIdToken();return await ic(this,pj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,m=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:A,providerData:I,stsTokenManager:D}=n;ze(b&&D,e,"internal-error");const R=Wl.fromJSON(this.name,D);ze(typeof b=="string",e,"internal-error"),Ia(s,e.name),Ia(a,e.name),ze(typeof x=="boolean",e,"internal-error"),ze(typeof A=="boolean",e,"internal-error"),Ia(l,e.name),Ia(c,e.name),Ia(h,e.name),Ia(d,e.name),Ia(m,e.name),Ia(g,e.name);const j=new ki({uid:b,auth:e,email:a,emailVerified:x,displayName:s,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:h,stsTokenManager:R,createdAt:m,lastLoginAt:g});return I&&Array.isArray(I)&&(j.providerData=I.map(q=>({...q}))),d&&(j._redirectEventId=d),j}static async _fromIdTokenResponse(e,n,s=!1){const a=new Wl;a.updateFromServerResponse(n);const l=new ki({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await nm(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];ze(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?sC(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,h=new Wl;h.updateFromIdToken(s);const d=new ki({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new p0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,m),d}}const rT=new Map;function zr(t){Kr(t instanceof Function,"Expected a class definition");let e=rT.get(t);return e?(Kr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,rT.set(t,e),e)}class iC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iC.type="NONE";const g0=iC;function Of(t,e,n){return`firebase:${t}:${e}:${n}`}class Ql{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Of(this.userKey,a.apiKey,l),this.fullPersistenceKey=Of("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await tm(this.auth,{idToken:e}).catch(()=>{});return n?ki._fromGetAccountInfoResponse(this.auth,n,e):null}return ki._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ql(zr(g0),e,s);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||zr(g0);const c=Of(s,e.config.apiKey,e.name);let h=null;for(const m of n)try{const g=await m._get(c);if(g){let b;if(typeof g=="string"){const x=await tm(e,{idToken:g}).catch(()=>{});if(!x)break;b=await ki._fromGetAccountInfoResponse(e,x,g)}else b=ki._fromJSON(e,g);m!==l&&(h=b),l=m;break}}catch{}const d=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new Ql(l,e,s):(l=d[0],h&&await l._set(c,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new Ql(l,e,s))}}function aT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uC(e))return"Blackberry";if(hC(e))return"Webos";if(aC(e))return"Safari";if((e.includes("chrome/")||oC(e))&&!e.includes("edge/"))return"Chrome";if(cC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function rC(t=us()){return/firefox\//i.test(t)}function aC(t=us()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oC(t=us()){return/crios\//i.test(t)}function lC(t=us()){return/iemobile/i.test(t)}function cC(t=us()){return/android/i.test(t)}function uC(t=us()){return/blackberry/i.test(t)}function hC(t=us()){return/webos/i.test(t)}function Nv(t=us()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wj(t=us()){return Nv(t)&&!!window.navigator?.standalone}function _j(){return LP()&&document.documentMode===10}function dC(t=us()){return Nv(t)||cC(t)||hC(t)||uC(t)||/windows phone/i.test(t)||lC(t)}function fC(t,e=[]){let n;switch(t){case"Browser":n=aT(us());break;case"Worker":n=`${aT(us())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qo}/${s}`}class Tj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,h)=>{try{const d=e(l);c(d)}catch(d){h(d)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Ej(t,e={}){return Jo(t,"GET","/v2/passwordPolicy",Cv(t,e))}const Sj=6;class Aj{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Sj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class Cj{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oT(this),this.idTokenSubscription=new oT(this),this.beforeStateQueue=new Tj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ql.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await tm(this,{idToken:e}),s=await ki._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(hi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&h?.user&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hi(this.app))return Promise.reject(Fo(this));const n=e?hn(e):null;return n&&ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hi(this.app)?Promise.reject(Fo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hi(this.app)?Promise.reject(Fo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ej(this),n=new Aj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Th("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await xj(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zr(e)||this._popupRedirectResolver;ze(n,this,"argument-error"),this.redirectPersistenceManager=await Ql.create(this,[zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,s,a);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&rj(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Hm(t){return hn(t)}class oT{constructor(e){this.auth=e,this.observer=null,this.addObserver=$P(n=>this.observer=n)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Iv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Rj(t){Iv=t}function Nj(t){return Iv.loadJS(t)}function Ij(){return Iv.gapiScript}function Dj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function mC(t,e){const n=qm(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Go(l,e??{}))return a;or(a,"already-initialized")}return n.initialize({options:e})}function kj(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(zr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function pC(t,e,n){const s=Hm(t);ze(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=gC(e),{host:c,port:h}=Mj(e),d=h===null?"":`:${h}`,m={url:`${l}//${c}${d}/`},g=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){ze(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ze(Go(m,s.config.emulator)&&Go(g,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=g,s.settings.appVerificationDisabledForTesting=!0,Wo(c)?(bv(`${l}//${c}${d}`),xv("Auth",!0)):Pj()}function gC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Mj(t){const e=gC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:lT(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:lT(c)}}}function lT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Pj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Dv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,n){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}async function Jl(t,e){return fj(t,"POST","/v1/accounts:signInWithIdp",Cv(t,e))}const jj="http://localhost";class qa extends Dv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):or("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new qa(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Jl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Jl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Jl(e,n)}buildRequest(){const e={requestUri:jj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Eh(n)}return e}}class kv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ah extends kv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Or extends Ah{constructor(){super("facebook.com")}static credential(e){return qa._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Or.credential(e.oauthAccessToken)}catch{return null}}}Or.FACEBOOK_SIGN_IN_METHOD="facebook.com";Or.PROVIDER_ID="facebook.com";class Zi extends Ah{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qa._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Zi.credential(n,s)}catch{return null}}}Zi.GOOGLE_SIGN_IN_METHOD="google.com";Zi.PROVIDER_ID="google.com";class Vr extends Ah{constructor(){super("github.com")}static credential(e){return qa._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vr.credential(e.oauthAccessToken)}catch{return null}}}Vr.GITHUB_SIGN_IN_METHOD="github.com";Vr.PROVIDER_ID="github.com";class Lr extends Ah{constructor(){super("twitter.com")}static credential(e,n){return qa._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Lr.credential(n,s)}catch{return null}}}Lr.TWITTER_SIGN_IN_METHOD="twitter.com";Lr.PROVIDER_ID="twitter.com";class rc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await ki._fromIdTokenResponse(e,s,a),c=cT(s);return new rc({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=cT(s);return new rc({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function cT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class sm extends hr{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,sm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new sm(e,n,s,a)}}function yC(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?sm._fromErrorAndOperation(t,l,e,s):l})}async function Oj(t,e,n=!1){const s=await ic(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return rc._forOperation(t,"link",s)}async function Vj(t,e,n=!1){const{auth:s}=t;if(hi(s.app))return Promise.reject(Fo(s));const a="reauthenticate";try{const l=await ic(t,yC(s,a,e,t),n);ze(l.idToken,s,"internal-error");const c=Rv(l.idToken);ze(c,s,"internal-error");const{sub:h}=c;return ze(t.uid===h,s,"user-mismatch"),rc._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&or(s,"user-mismatch"),l}}async function Lj(t,e,n=!1){if(hi(t.app))return Promise.reject(Fo(t));const s="signIn",a=await yC(t,s,e),l=await rc._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function Uj(t,e){return Jo(t,"POST","/v1/accounts:update",e)}async function zj(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=hn(t),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await ic(s,Uj(s.auth,l));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const h=s.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=s.displayName,h.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function vC(t,e,n,s){return hn(t).onIdTokenChanged(e,n,s)}function bC(t,e,n){return hn(t).beforeAuthStateChanged(e,n)}function xC(t,e,n,s){return hn(t).onAuthStateChanged(e,n,s)}function wC(t){return hn(t).signOut()}const im="__sak";class _C{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(im,"1"),this.storage.removeItem(im),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Bj=1e3,Fj=10;class TC extends _C{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);_j()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Fj):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Bj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}TC.type="LOCAL";const EC=TC;class SC extends _C{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}SC.type="SESSION";const Mv=SC;function qj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Gm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Gm(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const h=Array.from(c).map(async m=>m(n.origin,l)),d=await qj(h);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gm.receivers=[];function Pv(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class Hj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,d)=>{const m=Pv("",20);a.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(b){const x=b;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(x.data.response);break;default:clearTimeout(g),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function nr(){return window}function Gj(t){nr().location.href=t}function AC(){return typeof nr().WorkerGlobalScope<"u"&&typeof nr().importScripts=="function"}async function $j(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Kj(){return navigator?.serviceWorker?.controller||null}function Yj(){return AC()?self:null}const CC="firebaseLocalStorageDb",Xj=1,rm="firebaseLocalStorage",RC="fbase_key";class Ch{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $m(t,e){return t.transaction([rm],e?"readwrite":"readonly").objectStore(rm)}function Wj(){const t=indexedDB.deleteDatabase(CC);return new Ch(t).toPromise()}function y0(){const t=indexedDB.open(CC,Xj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(rm,{keyPath:RC})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(rm)?e(s):(s.close(),await Wj(),e(await y0()))})})}async function uT(t,e,n){const s=$m(t,!0).put({[RC]:e,value:n});return new Ch(s).toPromise()}async function Qj(t,e){const n=$m(t,!1).get(e),s=await new Ch(n).toPromise();return s===void 0?null:s.value}function hT(t,e){const n=$m(t,!0).delete(e);return new Ch(n).toPromise()}const Jj=800,Zj=3;class NC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await y0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>Zj)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gm._getInstance(Yj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await $j(),!this.activeServiceWorker)return;this.sender=new Hj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Kj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await y0();return await uT(e,im,"1"),await hT(e,im),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>uT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Qj(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=$m(a,!1).getAll();return new Ch(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Jj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NC.type="LOCAL";const IC=NC;new Sh(3e4,6e4);function DC(t,e){return e?zr(e):(ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class jv extends Dv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Jl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Jl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function eO(t){return Lj(t.auth,new jv(t),t.bypassAuthState)}function tO(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),Vj(n,new jv(t),t.bypassAuthState)}async function nO(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),Oj(n,new jv(t),t.bypassAuthState)}class kC{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eO;case"linkViaPopup":case"linkViaRedirect":return nO;case"reauthViaPopup":case"reauthViaRedirect":return tO;default:or(this.auth,"internal-error")}}resolve(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sO=new Sh(2e3,1e4);async function MC(t,e,n){if(hi(t.app))return Promise.reject(Pi(t,"operation-not-supported-in-this-environment"));const s=Hm(t);aj(t,e,kv);const a=DC(s,n);return new Lo(s,"signInViaPopup",e,a).executeNotNull()}class Lo extends kC{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Lo.currentPopupAction&&Lo.currentPopupAction.cancel(),Lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){Kr(this.filter.length===1,"Popup operations only handle one event");const e=Pv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sO.get())};e()}}Lo.currentPopupAction=null;const iO="pendingRedirect",Vf=new Map;class rO extends kC{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Vf.get(this.auth._key());if(!e){try{const s=await aO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Vf.set(this.auth._key(),e)}return this.bypassAuthState||Vf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aO(t,e){const n=cO(e),s=lO(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function oO(t,e){Vf.set(t._key(),e)}function lO(t){return zr(t._redirectPersistence)}function cO(t){return Of(iO,t.config.apiKey,t.name)}async function uO(t,e,n=!1){if(hi(t.app))return Promise.reject(Fo(t));const s=Hm(t),a=DC(s,e),c=await new rO(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const hO=600*1e3;class dO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!PC(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Pi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hO&&this.cachedEventUids.clear(),this.cachedEventUids.has(dT(e))}saveEventToCache(e){this.cachedEventUids.add(dT(e)),this.lastProcessedEventTime=Date.now()}}function dT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function PC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function fO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PC(t);default:return!1}}async function mO(t,e={}){return Jo(t,"GET","/v1/projects",e)}const pO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gO=/^https?/;async function yO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mO(t);for(const n of e)try{if(vO(n))return}catch{}or(t,"unauthorized-domain")}function vO(t){const e=m0(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!gO.test(n))return!1;if(pO.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const bO=new Sh(3e4,6e4);function fT(){const t=nr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xO(t){return new Promise((e,n)=>{function s(){fT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fT(),n(Pi(t,"network-request-failed"))},timeout:bO.get()})}if(nr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(nr().gapi?.load)s();else{const a=Dj("iframefcb");return nr()[a]=()=>{gapi.load?s():n(Pi(t,"network-request-failed"))},Nj(`${Ij()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Lf=null,e})}let Lf=null;function wO(t){return Lf=Lf||xO(t),Lf}const _O=new Sh(5e3,15e3),TO="__/auth/iframe",EO="emulator/auth/iframe",SO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CO(t){const e=t.config;ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Av(e,EO):`https://${t.config.authDomain}/${TO}`,s={apiKey:e.apiKey,appName:t.name,v:Qo},a=AO.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Eh(s).slice(1)}`}async function RO(t){const e=await wO(t),n=nr().gapi;return ze(n,t,"internal-error"),e.open({where:document.body,url:CO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SO,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Pi(t,"network-request-failed"),h=nr().setTimeout(()=>{l(c)},_O.get());function d(){nr().clearTimeout(h),a(s)}s.ping(d).then(d,()=>{l(c)})}))}const NO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IO=500,DO=600,kO="_blank",MO="http://localhost";class mT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PO(t,e,n,s=IO,a=DO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const d={...NO,width:s.toString(),height:a.toString(),top:l,left:c},m=us().toLowerCase();n&&(h=oC(m)?kO:n),rC(m)&&(e=e||MO,d.scrollbars="yes");const g=Object.entries(d).reduce((x,[A,I])=>`${x}${A}=${I},`,"");if(wj(m)&&h!=="_self")return jO(e||"",h),new mT(null);const b=window.open(e||"",h,g);ze(b,t,"popup-blocked");try{b.focus()}catch{}return new mT(b)}function jO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const OO="__/auth/handler",VO="emulator/auth/handler",LO=encodeURIComponent("fac");async function pT(t,e,n,s,a,l){ze(t.config.authDomain,t,"auth-domain-config-required"),ze(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Qo,eventId:a};if(e instanceof kv){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",GP(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,b]of Object.entries({}))c[g]=b}if(e instanceof Ah){const g=e.getScopes().filter(b=>b!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),m=d?`#${LO}=${encodeURIComponent(d)}`:"";return`${UO(t)}?${Eh(h).slice(1)}${m}`}function UO({config:t}){return t.emulator?Av(t,VO):`https://${t.authDomain}/${OO}`}const Ny="webStorageSupport";class zO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mv,this._completeRedirectFn=uO,this._overrideRedirectResult=oO}async _openPopup(e,n,s,a){Kr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await pT(e,n,s,m0(),a);return PO(e,l,Pv())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await pT(e,n,s,m0(),a);return Gj(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Kr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await RO(e),s=new dO(e);return n.register("authEvent",a=>(ze(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ny,{type:Ny},a=>{const l=a?.[0]?.[Ny];l!==void 0&&n(!!l),or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dC()||aC()||Nv()}}const jC=zO;var gT="@firebase/auth",yT="1.12.0";class BO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function FO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qO(t){$o(new Fa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=s.options;ze(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fC(t)},m=new Cj(s,a,l,d);return kj(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),$o(new Fa("auth-internal",e=>{const n=Hm(e.getProvider("auth").getImmediate());return(s=>new BO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tr(gT,yT,FO(t)),tr(gT,yT,"esm2020")}const HO=300,GO=FA("authIdTokenMaxAge")||HO;let vT=null;const $O=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>GO)return;const a=n?.token;vT!==a&&(vT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function OC(t=Tv()){const e=qm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=mC(t,{popupRedirectResolver:jC,persistence:[IC,EC,Mv]}),s=FA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=$O(l.toString());bC(n,c,()=>c(n.currentUser)),vC(n,h=>c(h))}}const a=UA("auth");return a&&pC(n,`http://${a}`),n}function KO(){return document.getElementsByTagName("head")?.[0]??document}Rj({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Pi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",KO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qO("Browser");const YO=Object.freeze(Object.defineProperty({__proto__:null,AuthCredential:Dv,FacebookAuthProvider:Or,GithubAuthProvider:Vr,GoogleAuthProvider:Zi,OAuthCredential:qa,TwitterAuthProvider:Lr,beforeAuthStateChanged:bC,browserLocalPersistence:EC,browserPopupRedirectResolver:jC,browserSessionPersistence:Mv,connectAuthEmulator:pC,getAuth:OC,getIdTokenResult:tC,inMemoryPersistence:g0,indexedDBLocalPersistence:IC,initializeAuth:mC,onAuthStateChanged:xC,onIdTokenChanged:vC,prodErrorMap:WA,reload:nC,signInWithPopup:MC,signOut:wC,updateProfile:zj},Symbol.toStringTag,{value:"Module"}));var bT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var La,VC;(function(){var t;function e(k,C){function P(){}P.prototype=C.prototype,k.F=C.prototype,k.prototype=new P,k.prototype.constructor=k,k.D=function(z,B,V){for(var O=Array(arguments.length-2),we=2;we<arguments.length;we++)O[we-2]=arguments[we];return C.prototype[B].apply(z,O)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,C,P){P||(P=0);const z=Array(16);if(typeof C=="string")for(var B=0;B<16;++B)z[B]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(B=0;B<16;++B)z[B]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=k.g[0],P=k.g[1],B=k.g[2];let V=k.g[3],O;O=C+(V^P&(B^V))+z[0]+3614090360&4294967295,C=P+(O<<7&4294967295|O>>>25),O=V+(B^C&(P^B))+z[1]+3905402710&4294967295,V=C+(O<<12&4294967295|O>>>20),O=B+(P^V&(C^P))+z[2]+606105819&4294967295,B=V+(O<<17&4294967295|O>>>15),O=P+(C^B&(V^C))+z[3]+3250441966&4294967295,P=B+(O<<22&4294967295|O>>>10),O=C+(V^P&(B^V))+z[4]+4118548399&4294967295,C=P+(O<<7&4294967295|O>>>25),O=V+(B^C&(P^B))+z[5]+1200080426&4294967295,V=C+(O<<12&4294967295|O>>>20),O=B+(P^V&(C^P))+z[6]+2821735955&4294967295,B=V+(O<<17&4294967295|O>>>15),O=P+(C^B&(V^C))+z[7]+4249261313&4294967295,P=B+(O<<22&4294967295|O>>>10),O=C+(V^P&(B^V))+z[8]+1770035416&4294967295,C=P+(O<<7&4294967295|O>>>25),O=V+(B^C&(P^B))+z[9]+2336552879&4294967295,V=C+(O<<12&4294967295|O>>>20),O=B+(P^V&(C^P))+z[10]+4294925233&4294967295,B=V+(O<<17&4294967295|O>>>15),O=P+(C^B&(V^C))+z[11]+2304563134&4294967295,P=B+(O<<22&4294967295|O>>>10),O=C+(V^P&(B^V))+z[12]+1804603682&4294967295,C=P+(O<<7&4294967295|O>>>25),O=V+(B^C&(P^B))+z[13]+4254626195&4294967295,V=C+(O<<12&4294967295|O>>>20),O=B+(P^V&(C^P))+z[14]+2792965006&4294967295,B=V+(O<<17&4294967295|O>>>15),O=P+(C^B&(V^C))+z[15]+1236535329&4294967295,P=B+(O<<22&4294967295|O>>>10),O=C+(B^V&(P^B))+z[1]+4129170786&4294967295,C=P+(O<<5&4294967295|O>>>27),O=V+(P^B&(C^P))+z[6]+3225465664&4294967295,V=C+(O<<9&4294967295|O>>>23),O=B+(C^P&(V^C))+z[11]+643717713&4294967295,B=V+(O<<14&4294967295|O>>>18),O=P+(V^C&(B^V))+z[0]+3921069994&4294967295,P=B+(O<<20&4294967295|O>>>12),O=C+(B^V&(P^B))+z[5]+3593408605&4294967295,C=P+(O<<5&4294967295|O>>>27),O=V+(P^B&(C^P))+z[10]+38016083&4294967295,V=C+(O<<9&4294967295|O>>>23),O=B+(C^P&(V^C))+z[15]+3634488961&4294967295,B=V+(O<<14&4294967295|O>>>18),O=P+(V^C&(B^V))+z[4]+3889429448&4294967295,P=B+(O<<20&4294967295|O>>>12),O=C+(B^V&(P^B))+z[9]+568446438&4294967295,C=P+(O<<5&4294967295|O>>>27),O=V+(P^B&(C^P))+z[14]+3275163606&4294967295,V=C+(O<<9&4294967295|O>>>23),O=B+(C^P&(V^C))+z[3]+4107603335&4294967295,B=V+(O<<14&4294967295|O>>>18),O=P+(V^C&(B^V))+z[8]+1163531501&4294967295,P=B+(O<<20&4294967295|O>>>12),O=C+(B^V&(P^B))+z[13]+2850285829&4294967295,C=P+(O<<5&4294967295|O>>>27),O=V+(P^B&(C^P))+z[2]+4243563512&4294967295,V=C+(O<<9&4294967295|O>>>23),O=B+(C^P&(V^C))+z[7]+1735328473&4294967295,B=V+(O<<14&4294967295|O>>>18),O=P+(V^C&(B^V))+z[12]+2368359562&4294967295,P=B+(O<<20&4294967295|O>>>12),O=C+(P^B^V)+z[5]+4294588738&4294967295,C=P+(O<<4&4294967295|O>>>28),O=V+(C^P^B)+z[8]+2272392833&4294967295,V=C+(O<<11&4294967295|O>>>21),O=B+(V^C^P)+z[11]+1839030562&4294967295,B=V+(O<<16&4294967295|O>>>16),O=P+(B^V^C)+z[14]+4259657740&4294967295,P=B+(O<<23&4294967295|O>>>9),O=C+(P^B^V)+z[1]+2763975236&4294967295,C=P+(O<<4&4294967295|O>>>28),O=V+(C^P^B)+z[4]+1272893353&4294967295,V=C+(O<<11&4294967295|O>>>21),O=B+(V^C^P)+z[7]+4139469664&4294967295,B=V+(O<<16&4294967295|O>>>16),O=P+(B^V^C)+z[10]+3200236656&4294967295,P=B+(O<<23&4294967295|O>>>9),O=C+(P^B^V)+z[13]+681279174&4294967295,C=P+(O<<4&4294967295|O>>>28),O=V+(C^P^B)+z[0]+3936430074&4294967295,V=C+(O<<11&4294967295|O>>>21),O=B+(V^C^P)+z[3]+3572445317&4294967295,B=V+(O<<16&4294967295|O>>>16),O=P+(B^V^C)+z[6]+76029189&4294967295,P=B+(O<<23&4294967295|O>>>9),O=C+(P^B^V)+z[9]+3654602809&4294967295,C=P+(O<<4&4294967295|O>>>28),O=V+(C^P^B)+z[12]+3873151461&4294967295,V=C+(O<<11&4294967295|O>>>21),O=B+(V^C^P)+z[15]+530742520&4294967295,B=V+(O<<16&4294967295|O>>>16),O=P+(B^V^C)+z[2]+3299628645&4294967295,P=B+(O<<23&4294967295|O>>>9),O=C+(B^(P|~V))+z[0]+4096336452&4294967295,C=P+(O<<6&4294967295|O>>>26),O=V+(P^(C|~B))+z[7]+1126891415&4294967295,V=C+(O<<10&4294967295|O>>>22),O=B+(C^(V|~P))+z[14]+2878612391&4294967295,B=V+(O<<15&4294967295|O>>>17),O=P+(V^(B|~C))+z[5]+4237533241&4294967295,P=B+(O<<21&4294967295|O>>>11),O=C+(B^(P|~V))+z[12]+1700485571&4294967295,C=P+(O<<6&4294967295|O>>>26),O=V+(P^(C|~B))+z[3]+2399980690&4294967295,V=C+(O<<10&4294967295|O>>>22),O=B+(C^(V|~P))+z[10]+4293915773&4294967295,B=V+(O<<15&4294967295|O>>>17),O=P+(V^(B|~C))+z[1]+2240044497&4294967295,P=B+(O<<21&4294967295|O>>>11),O=C+(B^(P|~V))+z[8]+1873313359&4294967295,C=P+(O<<6&4294967295|O>>>26),O=V+(P^(C|~B))+z[15]+4264355552&4294967295,V=C+(O<<10&4294967295|O>>>22),O=B+(C^(V|~P))+z[6]+2734768916&4294967295,B=V+(O<<15&4294967295|O>>>17),O=P+(V^(B|~C))+z[13]+1309151649&4294967295,P=B+(O<<21&4294967295|O>>>11),O=C+(B^(P|~V))+z[4]+4149444226&4294967295,C=P+(O<<6&4294967295|O>>>26),O=V+(P^(C|~B))+z[11]+3174756917&4294967295,V=C+(O<<10&4294967295|O>>>22),O=B+(C^(V|~P))+z[2]+718787259&4294967295,B=V+(O<<15&4294967295|O>>>17),O=P+(V^(B|~C))+z[9]+3951481745&4294967295,k.g[0]=k.g[0]+C&4294967295,k.g[1]=k.g[1]+(B+(O<<21&4294967295|O>>>11))&4294967295,k.g[2]=k.g[2]+B&4294967295,k.g[3]=k.g[3]+V&4294967295}s.prototype.v=function(k,C){C===void 0&&(C=k.length);const P=C-this.blockSize,z=this.C;let B=this.h,V=0;for(;V<C;){if(B==0)for(;V<=P;)a(this,k,V),V+=this.blockSize;if(typeof k=="string"){for(;V<C;)if(z[B++]=k.charCodeAt(V++),B==this.blockSize){a(this,z),B=0;break}}else for(;V<C;)if(z[B++]=k[V++],B==this.blockSize){a(this,z),B=0;break}}this.h=B,this.o+=C},s.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var C=1;C<k.length-8;++C)k[C]=0;C=this.o*8;for(var P=k.length-8;P<k.length;++P)k[P]=C&255,C/=256;for(this.v(k),k=Array(16),C=0,P=0;P<4;++P)for(let z=0;z<32;z+=8)k[C++]=this.g[P]>>>z&255;return k};function l(k,C){var P=h;return Object.prototype.hasOwnProperty.call(P,k)?P[k]:P[k]=C(k)}function c(k,C){this.h=C;const P=[];let z=!0;for(let B=k.length-1;B>=0;B--){const V=k[B]|0;z&&V==C||(P[B]=V,z=!1)}this.g=P}var h={};function d(k){return-128<=k&&k<128?l(k,function(C){return new c([C|0],C<0?-1:0)}):new c([k|0],k<0?-1:0)}function m(k){if(isNaN(k)||!isFinite(k))return b;if(k<0)return R(m(-k));const C=[];let P=1;for(let z=0;k>=P;z++)C[z]=k/P|0,P*=4294967296;return new c(C,0)}function g(k,C){if(k.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(k.charAt(0)=="-")return R(g(k.substring(1),C));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=m(Math.pow(C,8));let z=b;for(let V=0;V<k.length;V+=8){var B=Math.min(8,k.length-V);const O=parseInt(k.substring(V,V+B),C);B<8?(B=m(Math.pow(C,B)),z=z.j(B).add(m(O))):(z=z.j(P),z=z.add(m(O)))}return z}var b=d(0),x=d(1),A=d(16777216);t=c.prototype,t.m=function(){if(D(this))return-R(this).m();let k=0,C=1;for(let P=0;P<this.g.length;P++){const z=this.i(P);k+=(z>=0?z:4294967296+z)*C,C*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(I(this))return"0";if(D(this))return"-"+R(this).toString(k);const C=m(Math.pow(k,6));var P=this;let z="";for(;;){const B=ae(P,C).g;P=j(P,B.j(C));let V=((P.g.length>0?P.g[0]:P.h)>>>0).toString(k);if(P=B,I(P))return V+z;for(;V.length<6;)V="0"+V;z=V+z}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function I(k){if(k.h!=0)return!1;for(let C=0;C<k.g.length;C++)if(k.g[C]!=0)return!1;return!0}function D(k){return k.h==-1}t.l=function(k){return k=j(this,k),D(k)?-1:I(k)?0:1};function R(k){const C=k.g.length,P=[];for(let z=0;z<C;z++)P[z]=~k.g[z];return new c(P,~k.h).add(x)}t.abs=function(){return D(this)?R(this):this},t.add=function(k){const C=Math.max(this.g.length,k.g.length),P=[];let z=0;for(let B=0;B<=C;B++){let V=z+(this.i(B)&65535)+(k.i(B)&65535),O=(V>>>16)+(this.i(B)>>>16)+(k.i(B)>>>16);z=O>>>16,V&=65535,O&=65535,P[B]=O<<16|V}return new c(P,P[P.length-1]&-2147483648?-1:0)};function j(k,C){return k.add(R(C))}t.j=function(k){if(I(this)||I(k))return b;if(D(this))return D(k)?R(this).j(R(k)):R(R(this).j(k));if(D(k))return R(this.j(R(k)));if(this.l(A)<0&&k.l(A)<0)return m(this.m()*k.m());const C=this.g.length+k.g.length,P=[];for(var z=0;z<2*C;z++)P[z]=0;for(z=0;z<this.g.length;z++)for(let B=0;B<k.g.length;B++){const V=this.i(z)>>>16,O=this.i(z)&65535,we=k.i(B)>>>16,xe=k.i(B)&65535;P[2*z+2*B]+=O*xe,q(P,2*z+2*B),P[2*z+2*B+1]+=V*xe,q(P,2*z+2*B+1),P[2*z+2*B+1]+=O*we,q(P,2*z+2*B+1),P[2*z+2*B+2]+=V*we,q(P,2*z+2*B+2)}for(k=0;k<C;k++)P[k]=P[2*k+1]<<16|P[2*k];for(k=C;k<2*C;k++)P[k]=0;return new c(P,0)};function q(k,C){for(;(k[C]&65535)!=k[C];)k[C+1]+=k[C]>>>16,k[C]&=65535,C++}function H(k,C){this.g=k,this.h=C}function ae(k,C){if(I(C))throw Error("division by zero");if(I(k))return new H(b,b);if(D(k))return C=ae(R(k),C),new H(R(C.g),R(C.h));if(D(C))return C=ae(k,R(C)),new H(R(C.g),C.h);if(k.g.length>30){if(D(k)||D(C))throw Error("slowDivide_ only works with positive integers.");for(var P=x,z=C;z.l(k)<=0;)P=ie(P),z=ie(z);var B=ue(P,1),V=ue(z,1);for(z=ue(z,2),P=ue(P,2);!I(z);){var O=V.add(z);O.l(k)<=0&&(B=B.add(P),V=O),z=ue(z,1),P=ue(P,1)}return C=j(k,B.j(C)),new H(B,C)}for(B=b;k.l(C)>=0;){for(P=Math.max(1,Math.floor(k.m()/C.m())),z=Math.ceil(Math.log(P)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),V=m(P),O=V.j(C);D(O)||O.l(k)>0;)P-=z,V=m(P),O=V.j(C);I(V)&&(V=x),B=B.add(V),k=j(k,O)}return new H(B,k)}t.B=function(k){return ae(this,k).h},t.and=function(k){const C=Math.max(this.g.length,k.g.length),P=[];for(let z=0;z<C;z++)P[z]=this.i(z)&k.i(z);return new c(P,this.h&k.h)},t.or=function(k){const C=Math.max(this.g.length,k.g.length),P=[];for(let z=0;z<C;z++)P[z]=this.i(z)|k.i(z);return new c(P,this.h|k.h)},t.xor=function(k){const C=Math.max(this.g.length,k.g.length),P=[];for(let z=0;z<C;z++)P[z]=this.i(z)^k.i(z);return new c(P,this.h^k.h)};function ie(k){const C=k.g.length+1,P=[];for(let z=0;z<C;z++)P[z]=k.i(z)<<1|k.i(z-1)>>>31;return new c(P,k.h)}function ue(k,C){const P=C>>5;C%=32;const z=k.g.length-P,B=[];for(let V=0;V<z;V++)B[V]=C>0?k.i(V+P)>>>C|k.i(V+P+1)<<32-C:k.i(V+P);return new c(B,k.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,VC=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=g,La=c}).apply(typeof bT<"u"?bT:typeof self<"u"?self:typeof window<"u"?window:{});var gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var LC,ku,UC,Uf,v0,zC,BC,FC;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof gf=="object"&&gf];for(var w=0;w<f.length;++w){var E=f[w];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(f,w){if(w)e:{var E=s;f=f.split(".");for(var M=0;M<f.length-1;M++){var ee=f[M];if(!(ee in E))break e;E=E[ee]}f=f[f.length-1],M=E[f],w=w(M),w!=M&&w!=null&&e(E,f,{configurable:!0,writable:!0,value:w})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(w){var E=[],M;for(M in w)Object.prototype.hasOwnProperty.call(w,M)&&E.push([M,w[M]]);return E}});var l=l||{},c=this||self;function h(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function d(f,w,E){return f.call.apply(f.bind,arguments)}function m(f,w,E){return m=d,m.apply(null,arguments)}function g(f,w){var E=Array.prototype.slice.call(arguments,1);return function(){var M=E.slice();return M.push.apply(M,arguments),f.apply(this,M)}}function b(f,w){function E(){}E.prototype=w.prototype,f.Z=w.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(M,ee,oe){for(var be=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)be[Ke-2]=arguments[Ke];return w.prototype[ee].apply(M,be)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function A(f){const w=f.length;if(w>0){const E=Array(w);for(let M=0;M<w;M++)E[M]=f[M];return E}return[]}function I(f,w){for(let M=1;M<arguments.length;M++){const ee=arguments[M];var E=typeof ee;if(E=E!="object"?E:ee?Array.isArray(ee)?"array":E:"null",E=="array"||E=="object"&&typeof ee.length=="number"){E=f.length||0;const oe=ee.length||0;f.length=E+oe;for(let be=0;be<oe;be++)f[E+be]=ee[be]}else f.push(ee)}}class D{constructor(w,E){this.i=w,this.j=E,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function R(f){c.setTimeout(()=>{throw f},0)}function j(){var f=k;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class q{constructor(){this.h=this.g=null}add(w,E){const M=H.get();M.set(w,E),this.h?this.h.next=M:this.g=M,this.h=M}}var H=new D(()=>new ae,f=>f.reset());class ae{constructor(){this.next=this.g=this.h=null}set(w,E){this.h=w,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,ue=!1,k=new q,C=()=>{const f=Promise.resolve(void 0);ie=()=>{f.then(P)}};function P(){for(var f;f=j();){try{f.h.call(f.g)}catch(E){R(E)}var w=H;w.j(f),w.h<100&&(w.h++,f.next=w.g,w.g=f)}ue=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};c.addEventListener("test",E,w),c.removeEventListener("test",E,w)}catch{}return f})();function O(f){return/^[\s\xa0]*$/.test(f)}function we(f,w){B.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,w)}b(we,B),we.prototype.init=function(f,w){const E=this.type=f.type,M=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget,w||(E=="mouseover"?w=f.fromElement:E=="mouseout"&&(w=f.toElement)),this.relatedTarget=w,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&we.Z.h.call(this)},we.prototype.h=function(){we.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var xe="closure_listenable_"+(Math.random()*1e6|0),Z=0;function W(f,w,E,M,ee){this.listener=f,this.proxy=null,this.src=w,this.type=E,this.capture=!!M,this.ha=ee,this.key=++Z,this.da=this.fa=!1}function $(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Y(f,w,E){for(const M in f)w.call(E,f[M],M,f)}function L(f,w){for(const E in f)w.call(void 0,f[E],E,f)}function T(f){const w={};for(const E in f)w[E]=f[E];return w}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(f,w){let E,M;for(let ee=1;ee<arguments.length;ee++){M=arguments[ee];for(E in M)f[E]=M[E];for(let oe=0;oe<U.length;oe++)E=U[oe],Object.prototype.hasOwnProperty.call(M,E)&&(f[E]=M[E])}}function ne(f){this.src=f,this.g={},this.h=0}ne.prototype.add=function(f,w,E,M,ee){const oe=f.toString();f=this.g[oe],f||(f=this.g[oe]=[],this.h++);const be=ye(f,w,M,ee);return be>-1?(w=f[be],E||(w.fa=!1)):(w=new W(w,this.src,oe,!!M,ee),w.fa=E,f.push(w)),w};function pe(f,w){const E=w.type;if(E in f.g){var M=f.g[E],ee=Array.prototype.indexOf.call(M,w,void 0),oe;(oe=ee>=0)&&Array.prototype.splice.call(M,ee,1),oe&&($(w),f.g[E].length==0&&(delete f.g[E],f.h--))}}function ye(f,w,E,M){for(let ee=0;ee<f.length;++ee){const oe=f[ee];if(!oe.da&&oe.listener==w&&oe.capture==!!E&&oe.ha==M)return ee}return-1}var ge="closure_lm_"+(Math.random()*1e6|0),Ee={};function Te(f,w,E,M,ee){if(Array.isArray(w)){for(let oe=0;oe<w.length;oe++)Te(f,w[oe],E,M,ee);return null}return E=Xt(E),f&&f[xe]?f.J(w,E,h(M)?!!M.capture:!1,ee):Se(f,w,E,!1,M,ee)}function Se(f,w,E,M,ee,oe){if(!w)throw Error("Invalid event type");const be=h(ee)?!!ee.capture:!!ee;let Ke=bt(f);if(Ke||(f[ge]=Ke=new ne(f)),E=Ke.add(w,E,M,be,oe),E.proxy)return E;if(M=Be(),E.proxy=M,M.src=f,M.listener=E,f.addEventListener)V||(ee=be),ee===void 0&&(ee=!1),f.addEventListener(w.toString(),M,ee);else if(f.attachEvent)f.attachEvent(ke(w.toString()),M);else if(f.addListener&&f.removeListener)f.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Be(){function f(E){return w.call(f.src,f.listener,E)}const w=vt;return f}function Ue(f,w,E,M,ee){if(Array.isArray(w))for(var oe=0;oe<w.length;oe++)Ue(f,w[oe],E,M,ee);else M=h(M)?!!M.capture:!!M,E=Xt(E),f&&f[xe]?(f=f.i,oe=String(w).toString(),oe in f.g&&(w=f.g[oe],E=ye(w,E,M,ee),E>-1&&($(w[E]),Array.prototype.splice.call(w,E,1),w.length==0&&(delete f.g[oe],f.h--)))):f&&(f=bt(f))&&(w=f.g[w.toString()],f=-1,w&&(f=ye(w,E,M,ee)),(E=f>-1?w[f]:null)&&tt(E))}function tt(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[xe])pe(w.i,f);else{var E=f.type,M=f.proxy;w.removeEventListener?w.removeEventListener(E,M,f.capture):w.detachEvent?w.detachEvent(ke(E),M):w.addListener&&w.removeListener&&w.removeListener(M),(E=bt(w))?(pe(E,f),E.h==0&&(E.src=null,w[ge]=null)):$(f)}}}function ke(f){return f in Ee?Ee[f]:Ee[f]="on"+f}function vt(f,w){if(f.da)f=!0;else{w=new we(w,this);const E=f.listener,M=f.ha||f.src;f.fa&&tt(f),f=E.call(M,w)}return f}function bt(f){return f=f[ge],f instanceof ne?f:null}var Yt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xt(f){return typeof f=="function"?f:(f[Yt]||(f[Yt]=function(w){return f.handleEvent(w)}),f[Yt])}function ot(){z.call(this),this.i=new ne(this),this.M=this,this.G=null}b(ot,z),ot.prototype[xe]=!0,ot.prototype.removeEventListener=function(f,w,E,M){Ue(this,f,w,E,M)};function $e(f,w){var E,M=f.G;if(M)for(E=[];M;M=M.G)E.push(M);if(f=f.M,M=w.type||w,typeof w=="string")w=new B(w,f);else if(w instanceof B)w.target=w.target||f;else{var ee=w;w=new B(M,f),X(w,ee)}ee=!0;let oe,be;if(E)for(be=E.length-1;be>=0;be--)oe=w.g=E[be],ee=Rn(oe,M,!0,w)&&ee;if(oe=w.g=f,ee=Rn(oe,M,!0,w)&&ee,ee=Rn(oe,M,!1,w)&&ee,E)for(be=0;be<E.length;be++)oe=w.g=E[be],ee=Rn(oe,M,!1,w)&&ee}ot.prototype.N=function(){if(ot.Z.N.call(this),this.i){var f=this.i;for(const w in f.g){const E=f.g[w];for(let M=0;M<E.length;M++)$(E[M]);delete f.g[w],f.h--}}this.G=null},ot.prototype.J=function(f,w,E,M){return this.i.add(String(f),w,!1,E,M)},ot.prototype.K=function(f,w,E,M){return this.i.add(String(f),w,!0,E,M)};function Rn(f,w,E,M){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();let ee=!0;for(let oe=0;oe<w.length;++oe){const be=w[oe];if(be&&!be.da&&be.capture==E){const Ke=be.listener,fn=be.ha||be.src;be.fa&&pe(f.i,be),ee=Ke.call(fn,M)!==!1&&ee}}return ee&&!M.defaultPrevented}function rn(f,w){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:c.setTimeout(f,w||0)}function ds(f){f.g=rn(()=>{f.g=null,f.i&&(f.i=!1,ds(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class zt extends z{constructor(w,E){super(),this.m=w,this.l=E,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ds(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _s(f){z.call(this),this.h=f,this.g={}}b(_s,z);var Ts=[];function Pn(f){Y(f.g,function(w,E){this.g.hasOwnProperty(E)&&tt(w)},f),f.g={}}_s.prototype.N=function(){_s.Z.N.call(this),Pn(this)},_s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kt=c.JSON.stringify,fs=c.JSON.parse,Es=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function yn(){}function bi(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xt(){B.call(this,"d")}b(xt,B);function On(){B.call(this,"c")}b(On,B);var At={},Jr=null;function xi(){return Jr=Jr||new ot}At.Ia="serverreachability";function wi(f){B.call(this,At.Ia,f)}b(wi,B);function Ss(f){const w=xi();$e(w,new wi(w))}At.STAT_EVENT="statevent";function As(f,w){B.call(this,At.STAT_EVENT,f),this.stat=w}b(As,B);function Oe(f){const w=xi();$e(w,new As(w,f))}At.Ja="timingevent";function wt(f,w){B.call(this,At.Ja,f),this.size=w}b(wt,B);function Mt(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},w)}function Bt(){this.g=!0}Bt.prototype.ua=function(){this.g=!1};function an(f,w,E,M,ee,oe){f.info(function(){if(f.g)if(oe){var be="",Ke=oe.split("&");for(let mt=0;mt<Ke.length;mt++){var fn=Ke[mt].split("=");if(fn.length>1){const Gt=fn[0];fn=fn[1];const ei=Gt.split("_");be=ei.length>=2&&ei[1]=="type"?be+(Gt+"="+fn+"&"):be+(Gt+"=redacted&")}}}else be=null;else be=oe;return"XMLHTTP REQ ("+M+") [attempt "+ee+"]: "+w+`
`+E+`
`+be})}function vn(f,w,E,M,ee,oe,be){f.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+ee+"]: "+w+`
`+E+`
`+oe+" "+be})}function Wt(f,w,E,M){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+Qt(f,E)+(M?" "+M:"")})}function Zn(f,w){f.info(function(){return"TIMEOUT: "+w})}Bt.prototype.info=function(){};function Qt(f,w){if(!f.g)return w;if(!w)return null;try{const oe=JSON.parse(w);if(oe){for(f=0;f<oe.length;f++)if(Array.isArray(oe[f])){var E=oe[f];if(!(E.length<2)){var M=E[1];if(Array.isArray(M)&&!(M.length<1)){var ee=M[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(let be=1;be<M.length;be++)M[be]=""}}}}return kt(oe)}catch{return w}}var Vn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Jt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},jt;function bn(){}b(bn,yn),bn.prototype.g=function(){return new XMLHttpRequest},jt=new bn;function Zt(f){return encodeURIComponent(String(f))}function es(f){var w=1;f=f.split(":");const E=[];for(;w>0&&f.length;)E.push(f.shift()),w--;return f.length&&E.push(f.join(":")),E}function dn(f,w,E,M){this.j=f,this.i=w,this.l=E,this.S=M||1,this.V=new _s(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Ot={},ut={};function ms(f,w,E){f.M=1,f.A=qt(J(w)),f.u=E,f.R=!0,ts(f,null)}function ts(f,w){f.F=Date.now(),Ls(f),f.B=J(f.A);var E=f.B,M=f.S;Array.isArray(M)||(M=[String(M)]),sl(E.i,"t",M),f.C=0,E=f.j.L,f.h=new Gn,f.g=ad(f.j,E?w:null,!f.u),f.P>0&&(f.O=new zt(m(f.Y,f,f.g),f.P)),w=f.V,E=f.g,M=f.ba;var ee="readystatechange";Array.isArray(ee)||(ee&&(Ts[0]=ee.toString()),ee=Ts);for(let oe=0;oe<ee.length;oe++){const be=Te(E,ee[oe],M||w.handleEvent,!1,w.h||w);if(!be)break;w.g[be.key]=be}w=f.J?T(f.J):{},f.u?(f.v||(f.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,w)):(f.v="GET",f.g.ea(f.B,f.v,null,w)),Ss(),an(f.i,f.v,f.B,f.l,f.S,f.u)}dn.prototype.ba=function(f){f=f.target;const w=this.O;w&&Ei(f)==3?w.j():this.Y(f)},dn.prototype.Y=function(f){try{if(f==this.g)e:{const Ke=Ei(this.g),fn=this.g.ya(),mt=this.g.ca();if(!(Ke<3)&&(Ke!=3||this.g&&(this.h.h||this.g.la()||$n(this.g)))){this.K||Ke!=4||fn==7||(fn==8||mt<=0?Ss(3):Ss(2)),Us(this);var w=this.g.ca();this.X=w;var E=so(this);if(this.o=w==200,vn(this.i,this.v,this.B,this.l,this.S,Ke,w),this.o){if(this.U&&!this.L){t:{if(this.g){var M,ee=this.g;if((M=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(M)){var oe=M;break t}}oe=null}if(f=oe)Wt(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Rs(this,f);else{this.o=!1,this.m=3,Oe(12),ns(this),Cs(this);break e}}if(this.R){f=!0;let Gt;for(;!this.K&&this.C<E.length;)if(Gt=mr(this,E),Gt==ut){Ke==4&&(this.m=4,Oe(14),f=!1),Wt(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==Ot){this.m=4,Oe(15),Wt(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else Wt(this.i,this.l,Gt,null),Rs(this,Gt);if(Bi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||E.length!=0||this.h.h||(this.m=1,Oe(16),f=!1),this.o=this.o&&f,!f)Wt(this.i,this.l,E,"[Invalid Chunked Response]"),ns(this),Cs(this);else if(E.length>0&&!this.W){this.W=!0;var be=this.j;be.g==this&&be.aa&&!be.P&&(be.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Uc(be),be.P=!0,Oe(11))}}else Wt(this.i,this.l,E,null),Rs(this,E);Ke==4&&ns(this),this.o&&!this.K&&(Ke==4?nd(this.j,this):(this.o=!1,Ls(this)))}else yr(this.g),w==400&&E.indexOf("Unknown SID")>0?(this.m=3,Oe(12)):(this.m=0,Oe(13)),ns(this),Cs(this)}}}catch{}};function so(f){if(!Bi(f))return f.g.la();const w=$n(f.g);if(w==="")return"";let E="";const M=w.length,ee=Ei(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return ns(f),Cs(f),"";f.h.i=new c.TextDecoder}for(let oe=0;oe<M;oe++)f.h.h=!0,E+=f.h.i.decode(w[oe],{stream:!(ee&&oe==M-1)});return w.length=0,f.h.g+=E,f.C=0,f.h.g}function Bi(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function mr(f,w){var E=f.C,M=w.indexOf(`
`,E);return M==-1?ut:(E=Number(w.substring(E,M)),isNaN(E)?Ot:(M+=1,M+E>w.length?ut:(w=w.slice(M,M+E),f.C=M+E,w)))}dn.prototype.cancel=function(){this.K=!0,ns(this)};function Ls(f){f.T=Date.now()+f.H,Zr(f,f.H)}function Zr(f,w){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Mt(m(f.aa,f),w)}function Us(f){f.D&&(c.clearTimeout(f.D),f.D=null)}dn.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Zn(this.i,this.B),this.M!=2&&(Ss(),Oe(17)),ns(this),this.m=2,Cs(this)):Zr(this,this.T-f)};function Cs(f){f.j.I==0||f.K||nd(f.j,f)}function ns(f){Us(f);var w=f.O;w&&typeof w.dispose=="function"&&w.dispose(),f.O=null,Pn(f.V),f.g&&(w=f.g,f.g=null,w.abort(),w.dispose())}function Rs(f,w){try{var E=f.j;if(E.I!=0&&(E.g==f||Qs(E.h,f))){if(!f.L&&Qs(E.h,f)&&E.I==3){try{var M=E.Ba.g.parse(w)}catch{M=null}if(Array.isArray(M)&&M.length==3){var ee=M;if(ee[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)ll(E),aa(E);else break e;mo(E),Oe(18)}}else E.xa=ee[1],0<E.xa-E.K&&ee[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Mt(m(E.Va,E),6e3));zs(E.h)<=1&&E.ta&&(E.ta=void 0)}else $i(E,11)}else if((f.L||E.g==f)&&ll(E),!O(w))for(ee=E.Ba.g.parse(w),w=0;w<ee.length;w++){let mt=ee[w];const Gt=mt[0];if(!(Gt<=E.K))if(E.K=Gt,mt=mt[1],E.I==2)if(mt[0]=="c"){E.M=mt[1],E.ba=mt[2];const ei=mt[3];ei!=null&&(E.ka=ei,E.j.info("VER="+E.ka));const Ki=mt[4];Ki!=null&&(E.za=Ki,E.j.info("SVER="+E.za));const Si=mt[5];Si!=null&&typeof Si=="number"&&Si>0&&(M=1.5*Si,E.O=M,E.j.info("backChannelRequestTimeoutMs_="+M)),M=E;const Ai=f.g;if(Ai){const po=Ai.g?Ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(po){var oe=M.h;oe.g||po.indexOf("spdy")==-1&&po.indexOf("quic")==-1&&po.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(ao(oe,oe.h),oe.h=null))}if(M.G){const cl=Ai.g?Ai.g.getResponseHeader("X-HTTP-Session-Id"):null;cl&&(M.wa=cl,Le(M.J,M.G,cl))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),M=E;var be=f;if(M.na=rd(M,M.L?M.ba:null,M.W),be.L){on(M.h,be);var Ke=be,fn=M.O;fn&&(Ke.H=fn),Ke.D&&(Us(Ke),Ls(Ke)),M.g=be}else ed(M);E.i.length>0&&Gi(E)}else mt[0]!="stop"&&mt[0]!="close"||$i(E,7);else E.I==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?$i(E,7):Vc(E):mt[0]!="noop"&&E.l&&E.l.qa(mt),E.A=0)}}Ss(4)}catch{}}var en=class{constructor(f,w){this.g=f,this.map=w}};function io(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ro(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function zs(f){return f.h?1:f.g?f.g.size:0}function Qs(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function ao(f,w){f.g?f.g.add(w):f.h=w}function on(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}io.prototype.cancel=function(){if(this.i=tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function tl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const E of f.g.values())w=w.concat(E.G);return w}return A(f.i)}var oo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pr(f,w){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const M=f[E].indexOf("=");let ee,oe=null;M>=0?(ee=f[E].substring(0,M),oe=f[E].substring(M+1)):ee=f[E],w(ee,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function ps(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;f instanceof ps?(this.l=f.l,ve(this,f.j),this.o=f.o,this.g=f.g,_t(this,f.u),this.h=f.h,Ft(this,Jh(f.i)),this.m=f.m):f&&(w=String(f).match(oo))?(this.l=!1,ve(this,w[1]||"",!0),this.o=Ht(w[2]||""),this.g=Ht(w[3]||"",!0),_t(this,w[4]),this.h=Ht(w[5]||"",!0),Ft(this,w[6]||"",!0),this.m=Ht(w[7]||"")):(this.l=!1,this.i=new ta(null,this.l))}ps.prototype.toString=function(){const f=[];var w=this.j;w&&f.push(Ln(w,nl,!0),":");var E=this.g;return(E||w=="file")&&(f.push("//"),(w=this.o)&&f.push(Ln(w,nl,!0),"@"),f.push(Zt(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(Ln(E,E.charAt(0)=="/"?Dc:Xh,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",Ln(E,Wh)),f.join("")},ps.prototype.resolve=function(f){const w=J(this);let E=!!f.j;E?ve(w,f.j):E=!!f.o,E?w.o=f.o:E=!!f.g,E?w.g=f.g:E=f.u!=null;var M=f.h;if(E)_t(w,f.u);else if(E=!!f.h){if(M.charAt(0)!="/")if(this.g&&!this.h)M="/"+M;else{var ee=w.h.lastIndexOf("/");ee!=-1&&(M=w.h.slice(0,ee+1)+M)}if(ee=M,ee==".."||ee==".")M="";else if(ee.indexOf("./")!=-1||ee.indexOf("/.")!=-1){M=ee.lastIndexOf("/",0)==0,ee=ee.split("/");const oe=[];for(let be=0;be<ee.length;){const Ke=ee[be++];Ke=="."?M&&be==ee.length&&oe.push(""):Ke==".."?((oe.length>1||oe.length==1&&oe[0]!="")&&oe.pop(),M&&be==ee.length&&oe.push("")):(oe.push(Ke),M=!0)}M=oe.join("/")}else M=ee}return E?w.h=M:E=f.i.toString()!=="",E?Ft(w,Jh(f.i)):E=!!f.m,E&&(w.m=f.m),w};function J(f){return new ps(f)}function ve(f,w,E){f.j=E?Ht(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function _t(f,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);f.u=w}else f.u=null}function Ft(f,w,E){w instanceof ta?(f.i=w,il(f.i,f.l)):(E||(w=Ln(w,ea)),f.i=new ta(w,f.l))}function Le(f,w,E){f.i.set(w,E)}function qt(f){return Le(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Ht(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ln(f,w,E){return typeof f=="string"?(f=encodeURI(f).replace(w,Ns),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Ns(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var nl=/[#\/\?@]/g,Xh=/[#\?:]/g,Dc=/[#\?]/g,ea=/[#\?@]/g,Wh=/#/g;function ta(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function Is(f){f.g||(f.g=new Map,f.h=0,f.i&&pr(f.i,function(w,E){f.add(decodeURIComponent(w.replace(/\+/g," ")),E)}))}t=ta.prototype,t.add=function(f,w){Is(this),this.i=null,f=na(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(w),this.h+=1,this};function Qh(f,w){Is(f),w=na(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function kc(f,w){return Is(f),w=na(f,w),f.g.has(w)}t.forEach=function(f,w){Is(this),this.g.forEach(function(E,M){E.forEach(function(ee){f.call(w,ee,M,this)},this)},this)};function Mc(f,w){Is(f);let E=[];if(typeof w=="string")kc(f,w)&&(E=E.concat(f.g.get(na(f,w))));else for(f=Array.from(f.g.values()),w=0;w<f.length;w++)E=E.concat(f[w]);return E}t.set=function(f,w){return Is(this),this.i=null,f=na(this,f),kc(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},t.get=function(f,w){return f?(f=Mc(this,f),f.length>0?String(f[0]):w):w};function sl(f,w,E){Qh(f,w),E.length>0&&(f.i=null,f.g.set(na(f,w),A(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(let M=0;M<w.length;M++){var E=w[M];const ee=Zt(E);E=Mc(this,E);for(let oe=0;oe<E.length;oe++){let be=ee;E[oe]!==""&&(be+="="+Zt(E[oe])),f.push(be)}}return this.i=f.join("&")};function Jh(f){const w=new ta;return w.i=f.i,f.g&&(w.g=new Map(f.g),w.h=f.h),w}function na(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function il(f,w){w&&!f.j&&(Is(f),f.i=null,f.g.forEach(function(E,M){const ee=M.toLowerCase();M!=ee&&(Qh(this,M),sl(this,ee,E))},f)),f.j=w}function _i(f,w){const E=new Bt;if(c.Image){const M=new Image;M.onload=g(Js,E,"TestLoadImage: loaded",!0,w,M),M.onerror=g(Js,E,"TestLoadImage: error",!1,w,M),M.onabort=g(Js,E,"TestLoadImage: abort",!1,w,M),M.ontimeout=g(Js,E,"TestLoadImage: timeout",!1,w,M),c.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=f}else w(!1)}function Pc(f,w){const E=new Bt,M=new AbortController,ee=setTimeout(()=>{M.abort(),Js(E,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:M.signal}).then(oe=>{clearTimeout(ee),oe.ok?Js(E,"TestPingServer: ok",!0,w):Js(E,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(ee),Js(E,"TestPingServer: error",!1,w)})}function Js(f,w,E,M,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),M(E)}catch{}}function sa(){this.g=new Es}function Fi(f){this.i=f.Sb||null,this.h=f.ab||!1}b(Fi,yn),Fi.prototype.g=function(){return new lo(this.i,this.h)};function lo(f,w){ot.call(this),this.H=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(lo,ot),t=lo.prototype,t.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=w,this.readyState=1,Ti(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(w.body=f),(this.H||c).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ia(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;rl(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function rl(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?ia(this):Ti(this),this.readyState==3&&rl(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,ia(this))},t.Na=function(f){this.g&&(this.response=f,ia(this))},t.ga=function(){this.g&&ia(this)};function ia(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Ti(f)}t.setRequestHeader=function(f,w){this.A.append(f,w)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var E=w.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=w.next();return f.join(`\r
`)};function Ti(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(lo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Zs(f){let w="";return Y(f,function(E,M){w+=M,w+=":",w+=E,w+=`\r
`}),w}function co(f,w,E){e:{for(M in E){var M=!1;break e}M=!0}M||(E=Zs(E),typeof f=="string"?E!=null&&Zt(E):Le(f,w,E))}function Ct(f){ot.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Ct,ot);var qi=/^https?$/i,jc=["POST","PUT"];t=Ct.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,w,E,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():jt.g(),this.g.onreadystatechange=x(m(this.Ca,this));try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(oe){uo(this,oe);return}if(f=E||"",E=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var ee in M)E.set(ee,M[ee]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const oe of M.keys())E.set(oe,M.get(oe));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(E.keys()).find(oe=>oe.toLowerCase()=="content-type"),ee=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(jc,w,void 0)>=0)||M||ee||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,be]of E)this.g.setRequestHeader(oe,be);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(oe){uo(this,oe)}};function uo(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.o=5,Oc(f),gr(f)}function Oc(f){f.A||(f.A=!0,$e(f,"complete"),$e(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,$e(this,"complete"),$e(this,"abort"),gr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gr(this,!0)),Ct.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ho(this):this.Xa())},t.Xa=function(){ho(this)};function ho(f){if(f.h&&typeof l<"u"){if(f.v&&Ei(f)==4)setTimeout(f.Ca.bind(f),0);else if($e(f,"readystatechange"),Ei(f)==4){f.h=!1;try{const oe=f.ca();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var E;if(!(E=w)){var M;if(M=oe===0){let be=String(f.D).match(oo)[1]||null;!be&&c.self&&c.self.location&&(be=c.self.location.protocol.slice(0,-1)),M=!qi.test(be?be.toLowerCase():"")}E=M}if(E)$e(f,"complete"),$e(f,"success");else{f.o=6;try{var ee=Ei(f)>2?f.g.statusText:""}catch{ee=""}f.l=ee+" ["+f.ca()+"]",Oc(f)}}finally{gr(f)}}}}function gr(f,w){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,w||$e(f,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ei(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Ei(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),fs(w)}};function $n(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function yr(f){const w={};f=(f.g&&Ei(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<f.length;M++){if(O(f[M]))continue;var E=es(f[M]);const ee=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const oe=w[ee]||[];w[ee]=oe,oe.push(E)}L(w,function(M){return M.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(f,w,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||w}function ra(f){this.za=0,this.i=[],this.j=new Bt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hi("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hi("baseRetryDelayMs",5e3,f),this.Za=Hi("retryDelaySeedMs",1e4,f),this.Ta=Hi("forwardChannelMaxRetries",2,f),this.va=Hi("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new io(f&&f.concurrentRequestLimit),this.Ba=new sa,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ra.prototype,t.ka=8,t.I=1,t.connect=function(f,w,E,M){Oe(0),this.W=f,this.H=w||{},E&&M!==void 0&&(this.H.OSID=E,this.H.OAID=M),this.F=this.X,this.J=rd(this,null,this.W),Gi(this)};function Vc(f){if(al(f),f.I==3){var w=f.V++,E=J(f.J);if(Le(E,"SID",f.M),Le(E,"RID",w),Le(E,"TYPE","terminate"),fo(f,E),w=new dn(f,f.j,w),w.M=2,w.A=qt(J(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(w.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=w.A,E=!0),E||(w.g=ad(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Ls(w)}id(f)}function aa(f){f.g&&(Uc(f),f.g.cancel(),f.g=null)}function al(f){aa(f),f.v&&(c.clearTimeout(f.v),f.v=null),ll(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function Gi(f){if(!ro(f.h)&&!f.m){f.m=!0;var w=f.Ea;ie||C(),ue||(ie(),ue=!0),k.add(w,f),f.D=0}}function ol(f,w){return zs(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=w.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Mt(m(f.Ea,f,w),sd(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const ee=new dn(this,this.j,f);let oe=this.o;if(this.U&&(oe?(oe=T(oe),X(oe,this.U)):oe=this.U),this.u!==null||this.R||(ee.J=oe,oe=null),this.S)e:{for(var w=0,E=0;E<this.i.length;E++){t:{var M=this.i[E];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(w+=M,w>4096){w=E;break e}if(w===4096||E===this.i.length-1){w=E+1;break e}}w=1e3}else w=1e3;w=Zh(this,ee,w),E=J(this.J),Le(E,"RID",f),Le(E,"CVER",22),this.G&&Le(E,"X-HTTP-Session-Id",this.G),fo(this,E),oe&&(this.R?w="headers="+Zt(Zs(oe))+"&"+w:this.u&&co(E,this.u,oe)),ao(this.h,ee),this.Ra&&Le(E,"TYPE","init"),this.S?(Le(E,"$req",w),Le(E,"SID","null"),ee.U=!0,ms(ee,E,null)):ms(ee,E,w),this.I=2}}else this.I==3&&(f?Lc(this,f):this.i.length==0||ro(this.h)||Lc(this))};function Lc(f,w){var E;w?E=w.l:E=f.V++;const M=J(f.J);Le(M,"SID",f.M),Le(M,"RID",E),Le(M,"AID",f.K),fo(f,M),f.u&&f.o&&co(M,f.u,f.o),E=new dn(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),w&&(f.i=w.G.concat(f.i)),w=Zh(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),ao(f.h,E),ms(E,M,w)}function fo(f,w){f.H&&Y(f.H,function(E,M){Le(w,M,E)}),f.l&&Y({},function(E,M){Le(w,M,E)})}function Zh(f,w,E){E=Math.min(f.i.length,E);const M=f.l?m(f.l.Ka,f.l,f):null;e:{var ee=f.i;let Ke=-1;for(;;){const fn=["count="+E];Ke==-1?E>0?(Ke=ee[0].g,fn.push("ofs="+Ke)):Ke=0:fn.push("ofs="+Ke);let mt=!0;for(let Gt=0;Gt<E;Gt++){var oe=ee[Gt].g;const ei=ee[Gt].map;if(oe-=Ke,oe<0)Ke=Math.max(0,ee[Gt].g-100),mt=!1;else try{oe="req"+oe+"_"||"";try{var be=ei instanceof Map?ei:Object.entries(ei);for(const[Ki,Si]of be){let Ai=Si;h(Si)&&(Ai=kt(Si)),fn.push(oe+Ki+"="+encodeURIComponent(Ai))}}catch(Ki){throw fn.push(oe+"type="+encodeURIComponent("_badmap")),Ki}}catch{M&&M(ei)}}if(mt){be=fn.join("&");break e}}be=void 0}return f=f.i.splice(0,E),w.G=f,be}function ed(f){if(!f.g&&!f.v){f.Y=1;var w=f.Da;ie||C(),ue||(ie(),ue=!0),k.add(w,f),f.A=0}}function mo(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Mt(m(f.Da,f),sd(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,td(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Mt(m(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Oe(10),aa(this),td(this))};function Uc(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function td(f){f.g=new dn(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var w=J(f.na);Le(w,"RID","rpc"),Le(w,"SID",f.M),Le(w,"AID",f.K),Le(w,"CI",f.F?"0":"1"),!f.F&&f.ia&&Le(w,"TO",f.ia),Le(w,"TYPE","xmlhttp"),fo(f,w),f.u&&f.o&&co(w,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=qt(J(w)),E.u=null,E.R=!0,ts(E,f)}t.Va=function(){this.C!=null&&(this.C=null,aa(this),mo(this),Oe(19))};function ll(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function nd(f,w){var E=null;if(f.g==w){ll(f),Uc(f),f.g=null;var M=2}else if(Qs(f.h,w))E=w.G,on(f.h,w),M=1;else return;if(f.I!=0){if(w.o)if(M==1){E=w.u?w.u.length:0,w=Date.now()-w.F;var ee=f.D;M=xi(),$e(M,new wt(M,E)),Gi(f)}else ed(f);else if(ee=w.m,ee==3||ee==0&&w.X>0||!(M==1&&ol(f,w)||M==2&&mo(f)))switch(E&&E.length>0&&(w=f.h,w.i=w.i.concat(E)),ee){case 1:$i(f,5);break;case 4:$i(f,10);break;case 3:$i(f,6);break;default:$i(f,2)}}}function sd(f,w){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*w}function $i(f,w){if(f.j.info("Error code "+w),w==2){var E=m(f.bb,f),M=f.Ua;const ee=!M;M=new ps(M||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ve(M,"https"),qt(M),ee?_i(M.toString(),E):Pc(M.toString(),E)}else Oe(2);f.I=0,f.l&&f.l.pa(w),id(f),al(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Oe(2)):(this.j.info("Failed to ping google.com"),Oe(1))};function id(f){if(f.I=0,f.ja=[],f.l){const w=tl(f.h);(w.length!=0||f.i.length!=0)&&(I(f.ja,w),I(f.ja,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.oa()}}function rd(f,w,E){var M=E instanceof ps?J(E):new ps(E);if(M.g!="")w&&(M.g=w+"."+M.g),_t(M,M.u);else{var ee=c.location;M=ee.protocol,w=w?w+"."+ee.hostname:ee.hostname,ee=+ee.port;const oe=new ps(null);M&&ve(oe,M),w&&(oe.g=w),ee&&_t(oe,ee),E&&(oe.h=E),M=oe}return E=f.G,w=f.wa,E&&w&&Le(M,E,w),Le(M,"VER",f.ka),fo(f,M),M}function ad(f,w,E){if(w&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Aa&&!f.ma?new Ct(new Fi({ab:E})):new Ct(f.ma),w.Fa(f.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function od(){}t=od.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function oa(){}oa.prototype.g=function(f,w){return new gs(f,w)};function gs(f,w){ot.call(this),this.g=new ra(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(f?f["X-WebChannel-Client-Profile"]=w.sa:f={"X-WebChannel-Client-Profile":w.sa}),this.g.U=f,(f=w&&w.Qb)&&!O(f)&&(this.g.u=f),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!O(w)&&(this.g.G=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new vr(this)}b(gs,ot),gs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gs.prototype.close=function(){Vc(this.g)},gs.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=kt(f),f=E);w.i.push(new en(w.Ya++,f)),w.I==3&&Gi(w)},gs.prototype.N=function(){this.g.l=null,delete this.j,Vc(this.g),delete this.g,gs.Z.N.call(this)};function ld(f){xt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const E in w){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}b(ld,xt);function cd(){On.call(this),this.status=1}b(cd,On);function vr(f){this.g=f}b(vr,od),vr.prototype.ra=function(){$e(this.g,"a")},vr.prototype.qa=function(f){$e(this.g,new ld(f))},vr.prototype.pa=function(f){$e(this.g,new cd)},vr.prototype.oa=function(){$e(this.g,"b")},oa.prototype.createWebChannel=oa.prototype.g,gs.prototype.send=gs.prototype.o,gs.prototype.open=gs.prototype.m,gs.prototype.close=gs.prototype.close,FC=function(){return new oa},BC=function(){return xi()},zC=At,v0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vn.NO_ERROR=0,Vn.TIMEOUT=8,Vn.HTTP_ERROR=6,Uf=Vn,Jt.COMPLETE="complete",UC=Jt,bi.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",ot.prototype.listen=ot.prototype.J,ku=bi,Ct.prototype.listenOnce=Ct.prototype.K,Ct.prototype.getLastError=Ct.prototype.Ha,Ct.prototype.getLastErrorCode=Ct.prototype.ya,Ct.prototype.getStatus=Ct.prototype.ca,Ct.prototype.getResponseJson=Ct.prototype.La,Ct.prototype.getResponseText=Ct.prototype.la,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Fa,LC=Ct}).apply(typeof gf<"u"?gf:typeof self<"u"?self:typeof window<"u"?window:{});let as=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};as.UNAUTHENTICATED=new as(null),as.GOOGLE_CREDENTIALS=new as("google-credentials-uid"),as.FIRST_PARTY=new as("first-party-uid"),as.MOCK_USER=new as("mock-user");let yc="12.8.0";function XO(t){yc=t}const Ko=new wv("@firebase/firestore");function Bl(){return Ko.logLevel}function Ae(t,...e){if(Ko.logLevel<=it.DEBUG){const n=e.map(Ov);Ko.debug(`Firestore (${yc}): ${t}`,...n)}}function Yr(t,...e){if(Ko.logLevel<=it.ERROR){const n=e.map(Ov);Ko.error(`Firestore (${yc}): ${t}`,...n)}}function Yo(t,...e){if(Ko.logLevel<=it.WARN){const n=e.map(Ov);Ko.warn(`Firestore (${yc}): ${t}`,...n)}}function Ov(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ve(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,qC(t,s,n)}function qC(t,e,n){let s=`FIRESTORE (${yc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Yr(s),new Error(s)}function yt(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||qC(e,a,s)}function Ge(t,e){return t}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class HC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(as.UNAUTHENTICATED)))}shutdown(){}}class WO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class QO{constructor(e){this.t=e,this.currentUser=as.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){yt(this.o===void 0,42304);let s=this.i;const a=d=>this.i!==s?(s=this.i,n(d)):Promise.resolve();let l=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Fr,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const d=l;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Fr)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(yt(typeof s.accessToken=="string",31837,{l:s}),new HC(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return yt(e===null||typeof e=="string",2055,{h:e}),new as(e)}}class JO{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=as.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class ZO{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new JO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(as.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class e5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){yt(this.o===void 0,3512);const s=l=>{l.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Ae("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new xT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function t5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class Km{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=t5(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function rt(t,e){return t<e?-1:t>e?1:0}function b0(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Iy(a)===Iy(l)?rt(a,l):Iy(a)?1:-1}return rt(t.length,e.length)}const n5=55296,s5=57343;function Iy(t){const e=t.charCodeAt(0);return e>=n5&&e<=s5}function ac(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const wT="__name__";class Ji{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ji.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ji?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Ji.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return rt(e.length,n.length)}static compareSegments(e,n){const s=Ji.isNumericId(e),a=Ji.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Ji.extractNumericId(e).compare(Ji.extractNumericId(n)):b0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return La.fromString(e.substring(4,e.length-2))}}class Pt extends Ji{construct(e,n,s){return new Pt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new _e(de.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new Pt(n)}static emptyPath(){return new Pt([])}}const i5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qn extends Ji{construct(e,n,s){return new qn(e,n,s)}static isValidIdentifier(e){return i5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wT}static keyField(){return new qn([wT])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new _e(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new _e(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new _e(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=d,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(s+=h,a++):(l(),a++)}if(l(),c)throw new _e(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qn(n)}static emptyPath(){return new qn([])}}class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Pt.fromString(e))}static fromName(e){return new Me(Pt.fromString(e).popFirst(5))}static empty(){return new Me(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Pt(e.slice()))}}function $C(t,e,n){if(!n)throw new _e(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function KC(t,e,n,s){if(e===!0&&s===!0)throw new _e(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _T(t){if(!Me.isDocumentKey(t))throw new _e(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TT(t){if(Me.isDocumentKey(t))throw new _e(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function YC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ym(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve(12329,{type:typeof t})}function cs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ym(t);throw new _e(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Cn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Rh(t,e){if(!YC(t))throw new _e(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new _e(de.INVALID_ARGUMENT,n);return!0}const ET=-62135596800,ST=1e6;class He{static now(){return He.fromMillis(Date.now())}static fromDate(e){return He.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*ST);return new He(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ET)throw new _e(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ST}_compareTo(e){return this.seconds===e.seconds?rt(this.nanoseconds,e.nanoseconds):rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:He._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Rh(e,He._jsonSchema))return new He(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ET;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}He._jsonSchemaVersion="firestore/timestamp/1.0",He._jsonSchema={type:Cn("string",He._jsonSchemaVersion),seconds:Cn("number"),nanoseconds:Cn("number")};class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new He(0,0))}static max(){return new Fe(new He(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const sh=-1;function r5(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Fe.fromTimestamp(s===1e9?new He(n+1,0):new He(n,s));return new Ha(a,Me.empty(),e)}function a5(t){return new Ha(t.readTime,t.key,sh)}class Ha{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ha(Fe.min(),Me.empty(),sh)}static max(){return new Ha(Fe.max(),Me.empty(),sh)}}function o5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(t.documentKey,e.documentKey),n!==0?n:rt(t.largestBatchId,e.largestBatchId))}const l5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class c5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function vc(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==l5)throw t;Ae("LocalStore","Unexpectedly lost primary lease")}class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new me(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof me?n:me.resolve(n)}catch(n){return me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):me.reject(n)}static resolve(e){return new me(((n,s)=>{n(e)}))}static reject(e){return new me(((n,s)=>{s(e)}))}static waitFor(e){return new me(((n,s)=>{let a=0,l=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++l,c&&l===a&&n()}),(d=>s(d)))})),c=!0,l===a&&n()}))}static or(e){let n=me.resolve(!1);for(const s of e)n=n.next((a=>a?me.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new me(((s,a)=>{const l=e.length,c=new Array(l);let h=0;for(let d=0;d<l;d++){const m=d;n(e[m]).next((g=>{c[m]=g,++h,h===l&&s(c)}),(g=>a(g)))}}))}static doWhile(e,n){return new me(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function u5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bc(t){return t.name==="IndexedDbTransactionError"}class Xm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xm.ce=-1;const Vv=-1;function Wm(t){return t==null}function am(t){return t===0&&1/t==-1/0}function h5(t){return typeof t=="number"&&Number.isInteger(t)&&!am(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const XC="";function d5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=AT(e)),e=f5(t.get(n),e);return AT(e)}function f5(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case XC:n+="";break;default:n+=l}}return n}function AT(t){return t+XC+""}function CT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Za(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function WC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class sn{constructor(e,n){this.comparator=e,this.root=n||Jn.EMPTY}insert(e,n){return new sn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jn.BLACK,null,null))}remove(e){return new sn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yf(this.root,e,this.comparator,!1)}getReverseIterator(){return new yf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yf(this.root,e,this.comparator,!0)}}class yf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??Jn.RED,this.left=a??Jn.EMPTY,this.right=l??Jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new Jn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Jn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Jn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}Jn.EMPTY=null,Jn.RED=!0,Jn.BLACK=!1;Jn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new Jn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mn{constructor(e){this.comparator=e,this.data=new sn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new RT(this.data.getIterator())}getIteratorFrom(e){return new RT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Mn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Mn(this.comparator);return n.data=e,n}}class RT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xs{constructor(e){this.fields=e,e.sort(qn.comparator)}static empty(){return new Xs([])}unionWith(e){let n=new Mn(qn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Xs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ac(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class QC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new QC("Invalid base64 string: "+l):l}})(e);return new Hn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new Hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hn.EMPTY_BYTE_STRING=new Hn("");const m5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ga(t){if(yt(!!t,39018),typeof t=="string"){let e=0;const n=m5.exec(t);if(yt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gn(t.seconds),nanos:gn(t.nanos)}}function gn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $a(t){return typeof t=="string"?Hn.fromBase64String(t):Hn.fromUint8Array(t)}const JC="server_timestamp",ZC="__type__",e2="__previous_value__",t2="__local_write_time__";function Lv(t){return(t?.mapValue?.fields||{})[ZC]?.stringValue===JC}function Qm(t){const e=t.mapValue.fields[e2];return Lv(e)?Qm(e):e}function ih(t){const e=Ga(t.mapValue.fields[t2].timestampValue);return new He(e.seconds,e.nanos)}class p5{constructor(e,n,s,a,l,c,h,d,m,g,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=g,this.apiKey=b}}const om="(default)";class oc{constructor(e,n){this.projectId=e,this.database=n||om}static empty(){return new oc("","")}get isDefaultDatabase(){return this.database===om}isEqual(e){return e instanceof oc&&e.projectId===this.projectId&&e.database===this.database}}function g5(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new _e(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oc(t.options.projectId,e)}const n2="__type__",y5="__max__",vf={mapValue:{}},s2="__vector__",lm="value";function Ka(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lv(t)?4:b5(t)?9007199254740991:v5(t)?10:11:Ve(28295,{value:t})}function lr(t,e){if(t===e)return!0;const n=Ka(t);if(n!==Ka(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ih(t).isEqual(ih(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ga(a.timestampValue),h=Ga(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return $a(a.bytesValue).isEqual($a(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return gn(a.geoPointValue.latitude)===gn(l.geoPointValue.latitude)&&gn(a.geoPointValue.longitude)===gn(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return gn(a.integerValue)===gn(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=gn(a.doubleValue),h=gn(l.doubleValue);return c===h?am(c)===am(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return ac(t.arrayValue.values||[],e.arrayValue.values||[],lr);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(CT(c)!==CT(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!lr(c[d],h[d])))return!1;return!0})(t,e);default:return Ve(52216,{left:t})}}function rh(t,e){return(t.values||[]).find((n=>lr(n,e)))!==void 0}function lc(t,e){if(t===e)return 0;const n=Ka(t),s=Ka(e);if(n!==s)return rt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return rt(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=gn(l.integerValue||l.doubleValue),d=gn(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return NT(t.timestampValue,e.timestampValue);case 4:return NT(ih(t),ih(e));case 5:return b0(t.stringValue,e.stringValue);case 6:return(function(l,c){const h=$a(l),d=$a(c);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),d=c.split("/");for(let m=0;m<h.length&&m<d.length;m++){const g=rt(h[m],d[m]);if(g!==0)return g}return rt(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=rt(gn(l.latitude),gn(c.latitude));return h!==0?h:rt(gn(l.longitude),gn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return IT(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const h=l.fields||{},d=c.fields||{},m=h[lm]?.arrayValue,g=d[lm]?.arrayValue,b=rt(m?.values?.length||0,g?.values?.length||0);return b!==0?b:IT(m,g)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===vf.mapValue&&c===vf.mapValue)return 0;if(l===vf.mapValue)return 1;if(c===vf.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),m=c.fields||{},g=Object.keys(m);d.sort(),g.sort();for(let b=0;b<d.length&&b<g.length;++b){const x=b0(d[b],g[b]);if(x!==0)return x;const A=lc(h[d[b]],m[g[b]]);if(A!==0)return A}return rt(d.length,g.length)})(t.mapValue,e.mapValue);default:throw Ve(23264,{he:n})}}function NT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return rt(t,e);const n=Ga(t),s=Ga(e),a=rt(n.seconds,s.seconds);return a!==0?a:rt(n.nanos,s.nanos)}function IT(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=lc(n[a],s[a]);if(l)return l}return rt(n.length,s.length)}function cc(t){return x0(t)}function x0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Ga(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return $a(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Me.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=x0(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${x0(n.fields[c])}`;return a+"}"})(t.mapValue):Ve(61005,{value:t})}function zf(t){switch(Ka(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qm(t);return e?16+zf(e):16;case 5:return 2*t.stringValue.length;case 6:return $a(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+zf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Za(s.fields,((l,c)=>{a+=l.length+zf(c)})),a})(t.mapValue);default:throw Ve(13486,{value:t})}}function DT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function w0(t){return!!t&&"integerValue"in t}function Uv(t){return!!t&&"arrayValue"in t}function kT(t){return!!t&&"nullValue"in t}function MT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bf(t){return!!t&&"mapValue"in t}function v5(t){return(t?.mapValue?.fields||{})[n2]?.stringValue===s2}function Uu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Za(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Uu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Uu(t.arrayValue.values[n]);return e}return{...t}}function b5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===y5}class Vs{constructor(e){this.value=e}static empty(){return new Vs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Bf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uu(n)}setAll(e){let n=qn.emptyPath(),s={},a=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,s,a),s={},a=[],n=h.popLast()}c?s[h.lastSegment()]=Uu(c):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Bf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Bf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Za(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Vs(Uu(this.value))}}function i2(t){const e=[];return Za(t.fields,((n,s)=>{const a=new qn([n]);if(Bf(s)){const l=i2(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Xs(e)}class os{constructor(e,n,s,a,l,c,h){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new os(e,0,Fe.min(),Fe.min(),Fe.min(),Vs.empty(),0)}static newFoundDocument(e,n,s,a){return new os(e,1,n,Fe.min(),s,a,0)}static newNoDocument(e,n){return new os(e,2,n,Fe.min(),Fe.min(),Vs.empty(),0)}static newUnknownDocument(e,n){return new os(e,3,n,Fe.min(),Fe.min(),Vs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof os&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new os(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class cm{constructor(e,n){this.position=e,this.inclusive=n}}function PT(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=Me.comparator(Me.fromName(c.referenceValue),n.key):s=lc(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function jT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!lr(t.position[n],e.position[n]))return!1;return!0}class um{constructor(e,n="asc"){this.field=e,this.dir=n}}function x5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class r2{}class An extends r2{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new _5(e,n,s):n==="array-contains"?new S5(e,s):n==="in"?new A5(e,s):n==="not-in"?new C5(e,s):n==="array-contains-any"?new R5(e,s):new An(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new T5(e,s):new E5(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(lc(n,this.value)):n!==null&&Ka(this.value)===Ka(n)&&this.matchesComparison(lc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends r2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Oi(e,n)}matches(e){return a2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function a2(t){return t.op==="and"}function o2(t){return w5(t)&&a2(t)}function w5(t){for(const e of t.filters)if(e instanceof Oi)return!1;return!0}function _0(t){if(t instanceof An)return t.field.canonicalString()+t.op.toString()+cc(t.value);if(o2(t))return t.filters.map((e=>_0(e))).join(",");{const e=t.filters.map((n=>_0(n))).join(",");return`${t.op}(${e})`}}function l2(t,e){return t instanceof An?(function(s,a){return a instanceof An&&s.op===a.op&&s.field.isEqual(a.field)&&lr(s.value,a.value)})(t,e):t instanceof Oi?(function(s,a){return a instanceof Oi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,h)=>l&&l2(c,a.filters[h])),!0):!1})(t,e):void Ve(19439)}function c2(t){return t instanceof An?(function(n){return`${n.field.canonicalString()} ${n.op} ${cc(n.value)}`})(t):t instanceof Oi?(function(n){return n.op.toString()+" {"+n.getFilters().map(c2).join(" ,")+"}"})(t):"Filter"}class _5 extends An{constructor(e,n,s){super(e,n,s),this.key=Me.fromName(s.referenceValue)}matches(e){const n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}}class T5 extends An{constructor(e,n){super(e,"in",n),this.keys=u2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class E5 extends An{constructor(e,n){super(e,"not-in",n),this.keys=u2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function u2(t,e){return(e.arrayValue?.values||[]).map((n=>Me.fromName(n.referenceValue)))}class S5 extends An{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Uv(n)&&rh(n.arrayValue,this.value)}}class A5 extends An{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rh(this.value.arrayValue,n)}}class C5 extends An{constructor(e,n){super(e,"not-in",n)}matches(e){if(rh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!rh(this.value.arrayValue,n)}}class R5 extends An{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Uv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>rh(this.value.arrayValue,s)))}}class N5{constructor(e,n=null,s=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function OT(t,e=null,n=[],s=[],a=null,l=null,c=null){return new N5(t,e,n,s,a,l,c)}function zv(t){const e=Ge(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>_0(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Wm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>cc(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>cc(s))).join(",")),e.Te=n}return e.Te}function Bv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!x5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!l2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jT(t.startAt,e.startAt)&&jT(t.endAt,e.endAt)}function T0(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Nh{constructor(e,n=null,s=[],a=[],l=null,c="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function I5(t,e,n,s,a,l,c,h){return new Nh(t,e,n,s,a,l,c,h)}function Jm(t){return new Nh(t)}function VT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function D5(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function h2(t){return t.collectionGroup!==null}function zu(t){const e=Ge(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Mn(qn.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new um(l,s))})),n.has(qn.keyField().canonicalString())||e.Ie.push(new um(qn.keyField(),s))}return e.Ie}function sr(t){const e=Ge(t);return e.Ee||(e.Ee=k5(e,zu(t))),e.Ee}function k5(t,e){if(t.limitType==="F")return OT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new um(a.field,l)}));const n=t.endAt?new cm(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new cm(t.startAt.position,t.startAt.inclusive):null;return OT(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function E0(t,e){const n=t.filters.concat([e]);return new Nh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function S0(t,e,n){return new Nh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Zm(t,e){return Bv(sr(t),sr(e))&&t.limitType===e.limitType}function d2(t){return`${zv(sr(t))}|lt:${t.limitType}`}function Fl(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>c2(a))).join(", ")}]`),Wm(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>cc(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>cc(a))).join(",")),`Target(${s})`})(sr(t))}; limitType=${t.limitType})`}function ep(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Me.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of zu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,h,d){const m=PT(c,h,d);return c.inclusive?m<=0:m<0})(s.startAt,zu(s),a)||s.endAt&&!(function(c,h,d){const m=PT(c,h,d);return c.inclusive?m>=0:m>0})(s.endAt,zu(s),a))})(t,e)}function M5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function f2(t){return(e,n)=>{let s=!1;for(const a of zu(t)){const l=P5(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function P5(t,e,n){const s=t.field.isKeyField()?Me.comparator(e.key,n.key):(function(l,c,h){const d=c.data.field(l),m=h.data.field(l);return d!==null&&m!==null?lc(d,m):Ve(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ve(19790,{direction:t.dir})}}class Zo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Za(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return WC(this.inner)}size(){return this.innerSize}}const j5=new sn(Me.comparator);function Xr(){return j5}const m2=new sn(Me.comparator);function Mu(...t){let e=m2;for(const n of t)e=e.insert(n.key,n);return e}function p2(t){let e=m2;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Uo(){return Bu()}function g2(){return Bu()}function Bu(){return new Zo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const O5=new sn(Me.comparator),V5=new Mn(Me.comparator);function at(...t){let e=V5;for(const n of t)e=e.add(n);return e}const L5=new Mn(rt);function U5(){return L5}function Fv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:am(e)?"-0":e}}function y2(t){return{integerValue:""+t}}function z5(t,e){return h5(e)?y2(e):Fv(t,e)}class tp{constructor(){this._=void 0}}function B5(t,e,n){return t instanceof ah?(function(a,l){const c={fields:{[ZC]:{stringValue:JC},[t2]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Lv(l)&&(l=Qm(l)),l&&(c.fields[e2]=l),{mapValue:c}})(n,e):t instanceof oh?b2(t,e):t instanceof lh?x2(t,e):(function(a,l){const c=v2(a,l),h=LT(c)+LT(a.Ae);return w0(c)&&w0(a.Ae)?y2(h):Fv(a.serializer,h)})(t,e)}function F5(t,e,n){return t instanceof oh?b2(t,e):t instanceof lh?x2(t,e):n}function v2(t,e){return t instanceof hm?(function(s){return w0(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class ah extends tp{}class oh extends tp{constructor(e){super(),this.elements=e}}function b2(t,e){const n=w2(e);for(const s of t.elements)n.some((a=>lr(a,s)))||n.push(s);return{arrayValue:{values:n}}}class lh extends tp{constructor(e){super(),this.elements=e}}function x2(t,e){let n=w2(e);for(const s of t.elements)n=n.filter((a=>!lr(a,s)));return{arrayValue:{values:n}}}class hm extends tp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function LT(t){return gn(t.integerValue||t.doubleValue)}function w2(t){return Uv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class q5{constructor(e,n){this.field=e,this.transform=n}}function H5(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof oh&&a instanceof oh||s instanceof lh&&a instanceof lh?ac(s.elements,a.elements,lr):s instanceof hm&&a instanceof hm?lr(s.Ae,a.Ae):s instanceof ah&&a instanceof ah})(t.transform,e.transform)}class G5{constructor(e,n){this.version=e,this.transformResults=n}}class xs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xs}static exists(e){return new xs(void 0,e)}static updateTime(e){return new xs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ff(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class np{}function _2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sp(t.key,xs.none()):new Ih(t.key,t.data,xs.none());{const n=t.data,s=Vs.empty();let a=new Mn(qn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new eo(t.key,s,new Xs(a.toArray()),xs.none())}}function $5(t,e,n){t instanceof Ih?(function(a,l,c){const h=a.value.clone(),d=zT(a.fieldTransforms,l,c.transformResults);h.setAll(d),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof eo?(function(a,l,c){if(!Ff(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=zT(a.fieldTransforms,l,c.transformResults),d=l.data;d.setAll(T2(a)),d.setAll(h),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Fu(t,e,n,s){return t instanceof Ih?(function(l,c,h,d){if(!Ff(l.precondition,c))return h;const m=l.value.clone(),g=BT(l.fieldTransforms,d,c);return m.setAll(g),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(t,e,n,s):t instanceof eo?(function(l,c,h,d){if(!Ff(l.precondition,c))return h;const m=BT(l.fieldTransforms,d,c),g=c.data;return g.setAll(T2(l)),g.setAll(m),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,s):(function(l,c,h){return Ff(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function K5(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=v2(s.transform,a||null);l!=null&&(n===null&&(n=Vs.empty()),n.set(s.field,l))}return n||null}function UT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&ac(s,a,((l,c)=>H5(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ih extends np{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class eo extends np{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function T2(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function zT(t,e,n){const s=new Map;yt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,h=e.data.field(l.field);s.set(l.field,F5(c,h,n[a]))}return s}function BT(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,B5(l,c,e))}return s}class sp extends np{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Y5 extends np{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class X5{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&$5(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Fu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Fu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=g2();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(a.key)?null:h;const d=_2(c,h);d!==null&&s.set(a.key,d),c.isValidDocument()||c.convertToNoDocument(Fe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),at())}isEqual(e){return this.batchId===e.batchId&&ac(this.mutations,e.mutations,((n,s)=>UT(n,s)))&&ac(this.baseMutations,e.baseMutations,((n,s)=>UT(n,s)))}}class qv{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){yt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return O5})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new qv(e,n,s,a)}}class W5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Q5{constructor(e,n){this.count=e,this.unchangedNames=n}}var En,ht;function J5(t){switch(t){case de.OK:return Ve(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Ve(15467,{code:t})}}function E2(t){if(t===void 0)return Yr("GRPC error has no .code"),de.UNKNOWN;switch(t){case En.OK:return de.OK;case En.CANCELLED:return de.CANCELLED;case En.UNKNOWN:return de.UNKNOWN;case En.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case En.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case En.INTERNAL:return de.INTERNAL;case En.UNAVAILABLE:return de.UNAVAILABLE;case En.UNAUTHENTICATED:return de.UNAUTHENTICATED;case En.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case En.NOT_FOUND:return de.NOT_FOUND;case En.ALREADY_EXISTS:return de.ALREADY_EXISTS;case En.PERMISSION_DENIED:return de.PERMISSION_DENIED;case En.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case En.ABORTED:return de.ABORTED;case En.OUT_OF_RANGE:return de.OUT_OF_RANGE;case En.UNIMPLEMENTED:return de.UNIMPLEMENTED;case En.DATA_LOSS:return de.DATA_LOSS;default:return Ve(39323,{code:t})}}(ht=En||(En={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";function Z5(){return new TextEncoder}const eV=new La([4294967295,4294967295],0);function FT(t){const e=Z5().encode(t),n=new VC;return n.update(e),new Uint8Array(n.digest())}function qT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new La([n,s],0),new La([a,l],0)]}class Hv{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Pu(`Invalid padding: ${n}`);if(s<0)throw new Pu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Pu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Pu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=La.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(La.fromNumber(s)));return a.compare(eV)===1&&(a=new La([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=FT(e),[s,a]=qT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Hv(l,a,n);return s.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=FT(e),[s,a]=qT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.be(c)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ip{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Dh.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ip(Fe.min(),a,new sn(rt),Xr(),at())}}class Dh{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Dh(s,n,at(),at(),at())}}class qf{constructor(e,n,s,a){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=a}}class S2{constructor(e,n){this.targetId=e,this.Ce=n}}class A2{constructor(e,n,s=Hn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class HT{constructor(){this.ve=0,this.Fe=GT(),this.Me=Hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=at(),n=at(),s=at();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ve(38017,{changeType:l})}})),new Dh(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=GT()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,yt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class tV{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xr(),this.He=bf(),this.Je=bf(),this.Ze=new sn(rt)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(T0(l))if(s===0){const c=new Me(l.path);this.et(n,c,os.newNoDocument(c,Fe.min()))}else yt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const h=this.ut(e),d=h?this.ct(h,e,c):1;if(d!==0){this.it(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,h;try{c=$a(s).toUint8Array()}catch(d){if(d instanceof QC)return Yo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Hv(c,a,l)}catch(d){return Yo(d instanceof Pu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&T0(h.target)){const d=new Me(h.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,os.newNoDocument(d,e))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let s=at();this.Je.forEach(((l,c)=>{let h=!0;c.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new ip(e,n,this.Ze,this.je,s);return this.je=Xr(),this.He=bf(),this.Je=bf(),this.Ze=new sn(rt),a}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new HT,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Mn(rt),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Mn(rt),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ae("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new HT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function bf(){return new sn(Me.comparator)}function GT(){return new sn(Me.comparator)}const nV={asc:"ASCENDING",desc:"DESCENDING"},sV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iV={and:"AND",or:"OR"};class rV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function A0(t,e){return t.useProto3Json||Wm(e)?e:{value:e}}function dm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function C2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function aV(t,e){return dm(t,e.toTimestamp())}function ir(t){return yt(!!t,49232),Fe.fromTimestamp((function(n){const s=Ga(n);return new He(s.seconds,s.nanos)})(t))}function Gv(t,e){return C0(t,e).canonicalString()}function C0(t,e){const n=(function(a){return new Pt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function R2(t){const e=Pt.fromString(t);return yt(M2(e),10190,{key:e.toString()}),e}function R0(t,e){return Gv(t.databaseId,e.path)}function Dy(t,e){const n=R2(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Me(I2(n))}function N2(t,e){return Gv(t.databaseId,e)}function oV(t){const e=R2(t);return e.length===4?Pt.emptyPath():I2(e)}function N0(t){return new Pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function I2(t){return yt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function $T(t,e,n){return{name:R0(t,e),fields:n.value.mapValue.fields}}function lV(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ve(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(m,g){return m.useProto3Json?(yt(g===void 0||typeof g=="string",58123),Hn.fromBase64String(g||"")):(yt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Hn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(m){const g=m.code===void 0?de.UNKNOWN:E2(m.code);return new _e(g,m.message||"")})(c);n=new A2(s,a,l,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Dy(t,s.document.name),l=ir(s.document.updateTime),c=s.document.createTime?ir(s.document.createTime):Fe.min(),h=new Vs({mapValue:{fields:s.document.fields}}),d=os.newFoundDocument(a,l,c,h),m=s.targetIds||[],g=s.removedTargetIds||[];n=new qf(m,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Dy(t,s.document),l=s.readTime?ir(s.readTime):Fe.min(),c=os.newNoDocument(a,l),h=s.removedTargetIds||[];n=new qf([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Dy(t,s.document),l=s.removedTargetIds||[];n=new qf([],l,a,null)}else{if(!("filter"in e))return Ve(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new Q5(a,l),h=s.targetId;n=new S2(h,c)}}return n}function cV(t,e){let n;if(e instanceof Ih)n={update:$T(t,e.key,e.value)};else if(e instanceof sp)n={delete:R0(t,e.key)};else if(e instanceof eo)n={update:$T(t,e.key,e.data),updateMask:vV(e.fieldMask)};else{if(!(e instanceof Y5))return Ve(16599,{dt:e.type});n={verify:R0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const h=c.transform;if(h instanceof ah)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof oh)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof lh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof hm)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Ve(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:aV(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ve(27497)})(t,e.precondition)),n}function uV(t,e){return t&&t.length>0?(yt(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?ir(a.updateTime):ir(l);return c.isEqual(Fe.min())&&(c=ir(l)),new G5(c,a.transformResults||[])})(n,e)))):[]}function hV(t,e){return{documents:[N2(t,e.path)]}}function dV(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=N2(t,a);const l=(function(m){if(m.length!==0)return k2(Oi.create(m,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((g=>(function(x){return{field:ql(x.field),direction:pV(x.dir)}})(g)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=A0(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:a}}function fV(t){let e=oV(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){yt(s===1,65062);const g=n.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let l=[];n.where&&(l=(function(b){const x=D2(b);return x instanceof Oi&&o2(x)?x.getFilters():[x]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((x=>(function(I){return new um(Hl(I.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(x)))})(n.orderBy));let h=null;n.limit&&(h=(function(b){let x;return x=typeof b=="object"?b.value:b,Wm(x)?null:x})(n.limit));let d=null;n.startAt&&(d=(function(b){const x=!!b.before,A=b.values||[];return new cm(A,x)})(n.startAt));let m=null;return n.endAt&&(m=(function(b){const x=!b.before,A=b.values||[];return new cm(A,x)})(n.endAt)),I5(e,a,c,l,h,"F",d,m)}function mV(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function D2(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Hl(n.unaryFilter.field);return An.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Hl(n.unaryFilter.field);return An.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Hl(n.unaryFilter.field);return An.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Hl(n.unaryFilter.field);return An.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}})(t):t.fieldFilter!==void 0?(function(n){return An.create(Hl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Oi.create(n.compositeFilter.filters.map((s=>D2(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}})(n.compositeFilter.op))})(t):Ve(30097,{filter:t})}function pV(t){return nV[t]}function gV(t){return sV[t]}function yV(t){return iV[t]}function ql(t){return{fieldPath:t.canonicalString()}}function Hl(t){return qn.fromServerFormat(t.fieldPath)}function k2(t){return t instanceof An?(function(n){if(n.op==="=="){if(MT(n.value))return{unaryFilter:{field:ql(n.field),op:"IS_NAN"}};if(kT(n.value))return{unaryFilter:{field:ql(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(MT(n.value))return{unaryFilter:{field:ql(n.field),op:"IS_NOT_NAN"}};if(kT(n.value))return{unaryFilter:{field:ql(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ql(n.field),op:gV(n.op),value:n.value}}})(t):t instanceof Oi?(function(n){const s=n.getFilters().map((a=>k2(a)));return s.length===1?s[0]:{compositeFilter:{op:yV(n.op),filters:s}}})(t):Ve(54877,{filter:t})}function vV(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function M2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function P2(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Pa{constructor(e,n,s,a,l=Fe.min(),c=Fe.min(),h=Hn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Pa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class bV{constructor(e){this.yt=e}}function xV(t){const e=fV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?S0(e,e.limit,"L"):e}class wV{constructor(){this.Sn=new _V}addToCollectionParentIndex(e,n){return this.Sn.add(n),me.resolve()}getCollectionParents(e,n){return me.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return me.resolve()}deleteFieldIndex(e,n){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,n){return me.resolve()}getDocumentsMatchingTarget(e,n){return me.resolve(null)}getIndexType(e,n){return me.resolve(0)}getFieldIndexes(e,n){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,n){return me.resolve(Ha.min())}getMinOffsetFromCollectionGroup(e,n){return me.resolve(Ha.min())}updateCollectionGroup(e,n,s){return me.resolve()}updateIndexEntries(e,n){return me.resolve()}}class _V{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Mn(Pt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Mn(Pt.comparator)).toArray()}}const KT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},j2=41943040;class Os{static withCacheSize(e){return new Os(e,Os.DEFAULT_COLLECTION_PERCENTILE,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Os.DEFAULT_COLLECTION_PERCENTILE=10,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Os.DEFAULT=new Os(j2,Os.DEFAULT_COLLECTION_PERCENTILE,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Os.DISABLED=new Os(-1,0,0);class uc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new uc(0)}static ar(){return new uc(-1)}}const YT="LruGarbageCollector",TV=1048576;function XT([t,e],[n,s]){const a=rt(t,n);return a===0?rt(e,s):a}class EV{constructor(e){this.Pr=e,this.buffer=new Mn(XT),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();XT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class SV{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Ae(YT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bc(n)?Ae(YT,"Ignoring IndexedDB error during garbage collection: ",n):await vc(n)}await this.Ar(3e5)}))}}class AV{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return me.resolve(Xm.ce);const s=new EV(n);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(KT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),KT):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,a,l,c,h,d,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(s=b,h=Date.now(),this.removeTargets(e,s,n)))).next((b=>(l=b,d=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(m=Date.now(),Bl()<=it.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${b} documents in `+(m-d)+`ms
Total Duration: ${m-g}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function CV(t,e){return new AV(t,e)}class RV{constructor(){this.changes=new Zo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,os.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?me.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class NV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class IV{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Fu(s.mutation,a,Xs.empty(),He.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,at()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=at()){const a=Uo();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=Mu();return l.forEach(((h,d)=>{c=c.insert(h,d.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=Uo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,at())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,s,a){let l=Xr();const c=Bu(),h=(function(){return Bu()})();return n.forEach(((d,m)=>{const g=s.get(m.key);a.has(m.key)&&(g===void 0||g.mutation instanceof eo)?l=l.insert(m.key,m):g!==void 0?(c.set(m.key,g.mutation.getFieldMask()),Fu(g.mutation,m,g.mutation.getFieldMask(),He.now())):c.set(m.key,Xs.empty())})),this.recalculateAndSaveOverlays(e,l).next((d=>(d.forEach(((m,g)=>c.set(m,g))),n.forEach(((m,g)=>h.set(m,new NV(g,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,n){const s=Bu();let a=new sn(((c,h)=>c-h)),l=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((d=>{const m=n.get(d);if(m===null)return;let g=s.get(d)||Xs.empty();g=h.applyToLocalView(m,g),s.set(d,g);const b=(a.get(h.batchId)||at()).add(d);a=a.insert(h.batchId,b)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,g=d.value,b=g2();g.forEach((x=>{if(!l.has(x)){const A=_2(n.get(x),s.get(x));A!==null&&b.set(x,A),l=l.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,b))}return me.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return D5(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):h2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):me.resolve(Uo());let h=sh,d=l;return c.next((m=>me.forEach(m,((g,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),l.get(g)?me.resolve():this.remoteDocumentCache.getEntry(e,g).next((x=>{d=d.insert(g,x)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,d,m,at()))).next((g=>({batchId:h,changes:p2(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next((s=>{let a=Mu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=Mu();return this.indexManager.getCollectionParents(e,l).next((h=>me.forEach(h,(d=>{const m=(function(b,x){return new Nh(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,s,a).next((g=>{g.forEach(((b,x)=>{c=c.insert(b,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((d,m)=>{const g=m.getKey();c.get(g)===null&&(c=c.insert(g,os.newInvalidDocument(g)))}));let h=Mu();return c.forEach(((d,m)=>{const g=l.get(d);g!==void 0&&Fu(g.mutation,m,Xs.empty(),He.now()),ep(n,m)&&(h=h.insert(d,m))})),h}))}}class DV{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return me.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ir(a.createTime)}})(n)),me.resolve()}getNamedQuery(e,n){return me.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:xV(a.bundledQuery),readTime:ir(a.readTime)}})(n)),me.resolve()}}class kV{constructor(){this.overlays=new sn(Me.comparator),this.Lr=new Map}getOverlay(e,n){return me.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Uo();return me.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.bt(e,n,l)})),me.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),me.resolve()}getOverlaysForCollection(e,n,s){const a=Uo(),l=n.length+1,c=new Me(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&d.largestBatchId>s&&a.set(d.getKey(),d)}return me.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new sn(((m,g)=>m-g));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>s){let g=l.get(m.largestBatchId);g===null&&(g=Uo(),l=l.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const h=Uo(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,g)=>h.set(m,g))),!(h.size()>=a)););return me.resolve(h)}bt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new W5(n,s));let l=this.Lr.get(n);l===void 0&&(l=at(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}class MV{constructor(){this.sessionToken=Hn.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,me.resolve()}}class $v{constructor(){this.kr=new Mn(zn.Kr),this.qr=new Mn(zn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new zn(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new zn(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new Me(new Pt([])),s=new zn(n,e),a=new zn(n,e+1),l=[];return this.qr.forEachInRange([s,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Me(new Pt([])),s=new zn(n,e),a=new zn(n,e+1);let l=at();return this.qr.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new zn(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Me.comparator(e.key,n.key)||rt(e.Hr,n.Hr)}static Ur(e,n){return rt(e.Hr,n.Hr)||Me.comparator(e.key,n.key)}}class PV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Mn(zn.Kr)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new X5(l,n,s,a);this.mutationQueue.push(c);for(const h of a)this.Jr=this.Jr.add(new zn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return me.resolve(c)}lookupMutationBatch(e,n){return me.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return me.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?Vv:this.Yn-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zn(n,0),a=new zn(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(c=>{const h=this.Zr(c.Hr);l.push(h)})),me.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Mn(rt);return n.forEach((a=>{const l=new zn(a,0),c=new zn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(h=>{s=s.add(h.Hr)}))})),me.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;Me.isDocumentKey(l)||(l=l.child(""));const c=new zn(new Me(l),0);let h=new Mn(rt);return this.Jr.forEachWhile((d=>{const m=d.key.path;return!!s.isPrefixOf(m)&&(m.length===a&&(h=h.add(d.Hr)),!0)}),c),me.resolve(this.Yr(h))}Yr(e){const n=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){yt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return me.forEach(n.mutations,(a=>{const l=new zn(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new zn(n,0),a=this.Jr.firstAfterOrEqual(s);return me.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class jV{constructor(e){this.ti=e,this.docs=(function(){return new sn(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return me.resolve(s?s.document.mutableCopy():os.newInvalidDocument(n))}getEntries(e,n){let s=Xr();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():os.newInvalidDocument(a))})),me.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Xr();const c=n.path,h=new Me(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:g}}=d.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||o5(a5(g),s)<=0||(a.has(g.key)||ep(n,g))&&(l=l.insert(g.key,g.mutableCopy()))}return me.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Ve(9500)}ni(e,n){return me.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new OV(this)}getSize(e){return me.resolve(this.size)}}class OV extends RV{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),me.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class VV{constructor(e){this.persistence=e,this.ri=new Zo((n=>zv(n)),Bv),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.ii=0,this.si=new $v,this.targetCount=0,this.oi=uc._r()}forEachTarget(e,n){return this.ri.forEach(((s,a)=>n(a))),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),me.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new uc(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,me.resolve()}updateTargetData(e,n){return this.lr(n),me.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=n&&s.get(h.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),me.waitFor(l).next((()=>a))}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return me.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),me.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),me.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),me.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return me.resolve(s)}containsKey(e,n){return me.resolve(this.si.containsKey(n))}}class O2{constructor(e,n){this._i={},this.overlays={},this.ai=new Xm(0),this.ui=!1,this.ui=!0,this.ci=new MV,this.referenceDelegate=e(this),this.li=new VV(this),this.indexManager=new wV,this.remoteDocumentCache=(function(a){return new jV(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new bV(n),this.Pi=new DV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new PV(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){Ae("MemoryPersistence","Starting transaction:",e);const a=new LV(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return me.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class LV extends c5{constructor(e){super(),this.currentSequenceNumber=e}}class Kv{constructor(e){this.persistence=e,this.Ri=new $v,this.Ai=null}static Vi(e){return new Kv(e)}get di(){if(this.Ai)return this.Ai;throw Ve(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),me.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),me.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),me.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.di,(s=>{const a=Me.fromPath(s);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Fe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return me.or([()=>me.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class fm{constructor(e,n){this.persistence=e,this.fi=new Zo((s=>d5(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=CV(this,n)}static Vi(e,n){return new fm(e,n)}Ti(){}Ii(e){return me.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return me.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((l=>l?me.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,n).next((h=>{h||(s++,l.removeEntry(c,Fe.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),me.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),me.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),me.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zf(e.data.value)),n}wr(e,n,s){return me.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return me.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Yv{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=a}static Es(e,n){let s=at(),a=at();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Yv(e,n.fromCache,s,a)}}class UV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class zV{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return UP()?8:u5(us())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.gs(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new UV;return this.ys(e,n,c).next((h=>{if(l.result=h,this.As)return this.ws(e,n,c,h.size)}))})).next((()=>l.result))}ws(e,n,s,a){return s.documentReadCount<this.Vs?(Bl()<=it.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",Fl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),me.resolve()):(Bl()<=it.DEBUG&&Ae("QueryEngine","Query:",Fl(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(Bl()<=it.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",Fl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sr(n))):me.resolve())}gs(e,n){if(VT(n))return me.resolve(null);let s=sr(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=S0(n,null,"F"),s=sr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=at(...l);return this.fs.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,s).next((d=>{const m=this.bs(n,h);return this.Ss(n,m,c,d.readTime)?this.gs(e,S0(n,null,"F")):this.Ds(e,m,n,d)}))))})))))}ps(e,n,s,a){return VT(n)||a.isEqual(Fe.min())?me.resolve(null):this.fs.getDocuments(e,s).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,s,a)?me.resolve(null):(Bl()<=it.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Fl(n)),this.Ds(e,c,n,r5(a,sh)).next((h=>h)))}))}bs(e,n){let s=new Mn(f2(e));return n.forEach(((a,l)=>{ep(e,l)&&(s=s.add(l))})),s}Ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,s){return Bl()<=it.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",Fl(n)),this.fs.getDocumentsMatchingQuery(e,n,Ha.min(),s)}Ds(e,n,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Xv="LocalStore",BV=3e8;class FV{constructor(e,n,s,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new sn(rt),this.Fs=new Zo((l=>zv(l)),Bv),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IV(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function qV(t,e,n,s){return new FV(t,e,n,s)}async function V2(t,e){const n=Ge(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],h=[];let d=at();for(const m of a){c.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}for(const m of l){h.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(s,d).next((m=>({Ns:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function HV(t,e){const n=Ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(h,d,m,g){const b=m.batch,x=b.keys();let A=me.resolve();return x.forEach((I=>{A=A.next((()=>g.getEntry(d,I))).next((D=>{const R=m.docVersions.get(I);yt(R!==null,48541),D.version.compareTo(R)<0&&(b.applyToRemoteDocument(D,m),D.isValidDocument()&&(D.setReadTime(m.commitVersion),g.addEntry(D)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(d,b)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let d=at();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function L2(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function GV(t,e){const n=Ge(t),s=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const h=[];e.targetChanges.forEach(((g,b)=>{const x=a.get(b);if(!x)return;h.push(n.li.removeMatchingKeys(l,g.removedDocuments,b).next((()=>n.li.addMatchingKeys(l,g.addedDocuments,b))));let A=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?A=A.withResumeToken(Hn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):g.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(g.resumeToken,s)),a=a.insert(b,A),(function(D,R,j){return D.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=BV?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(x,A,g)&&h.push(n.li.updateTargetData(l,A))}));let d=Xr(),m=at();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,g))})),h.push($V(l,c,e.documentUpdates).next((g=>{d=g.Bs,m=g.Ls}))),!s.isEqual(Fe.min())){const g=n.li.getLastRemoteSnapshotVersion(l).next((b=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));h.push(g)}return me.waitFor(h).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,d,m))).next((()=>d))})).then((l=>(n.vs=a,l)))}function $V(t,e,n){let s=at(),a=at();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=Xr();return n.forEach(((h,d)=>{const m=l.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Fe.min())?(e.removeEntry(h,d.readTime),c=c.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),c=c.insert(h,d)):Ae(Xv,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)})),{Bs:c,Ls:a}}))}function KV(t,e){const n=Ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Vv),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function YV(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,e).next((l=>l?(a=l,me.resolve(a)):n.li.allocateTargetId(s).next((c=>(a=new Pa(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function I0(t,e,n){const s=Ge(t),a=s.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!bc(c))throw c;Ae(Xv,`Failed to update sequence numbers for target ${e}: ${c}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function WT(t,e,n){const s=Ge(t);let a=Fe.min(),l=at();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,m,g){const b=Ge(d),x=b.Fs.get(g);return x!==void 0?me.resolve(b.vs.get(x)):b.li.getTargetData(m,g)})(s,c,sr(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(c,h.targetId).next((d=>{l=d}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,e,n?a:Fe.min(),n?l:at()))).next((h=>(XV(s,M5(e),h),{documents:h,ks:l})))))}function XV(t,e,n){let s=t.Ms.get(e)||Fe.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Ms.set(e,s)}class QT{constructor(){this.activeTargetIds=U5()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WV{constructor(){this.vo=new QT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new QT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class QV{Mo(e){}shutdown(){}}const JT="ConnectivityMonitor";class ZT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Ae(JT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Ae(JT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xf=null;function D0(){return xf===null?xf=(function(){return 268435456+Math.round(2147483648*Math.random())})():xf++,"0x"+xf.toString(16)}const ky="RestConnection",JV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class ZV{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===om?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,n,s,a,l){const c=D0(),h=this.Qo(e,n.toUriEncodedString());Ae(ky,`Sending RPC '${e}' ${c}:`,h,s);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,a,l);const{host:m}=new URL(h),g=Wo(m);return this.zo(e,h,d,s,g).then((b=>(Ae(ky,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw Yo(ky,`RPC '${e}' ${c} failed with error: `,b,"url: ",h,"request:",s),b}))}jo(e,n,s,a,l,c){return this.Wo(e,n,s,a,l)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+yc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const s=JV[e];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class e3{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const is="WebChannelConnection",Su=(t,e,n)=>{t.listen(e,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Zl extends ZV{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Zl.c_){const e=BC();Su(e,zC.STAT_EVENT,(n=>{n.stat===v0.PROXY?Ae(is,"STAT_EVENT: detected buffering proxy"):n.stat===v0.NOPROXY&&Ae(is,"STAT_EVENT: detected no buffering proxy")})),Zl.c_=!0}}zo(e,n,s,a,l){const c=D0();return new Promise(((h,d)=>{const m=new LC;m.setWithCredentials(!0),m.listenOnce(UC.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Uf.NO_ERROR:const b=m.getResponseJson();Ae(is,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),h(b);break;case Uf.TIMEOUT:Ae(is,`RPC '${e}' ${c} timed out`),d(new _e(de.DEADLINE_EXCEEDED,"Request time out"));break;case Uf.HTTP_ERROR:const x=m.getStatus();if(Ae(is,`RPC '${e}' ${c} failed with status:`,x,"response text:",m.getResponseText()),x>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const I=A?.error;if(I&&I.status&&I.message){const D=(function(j){const q=j.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(q)>=0?q:de.UNKNOWN})(I.status);d(new _e(D,I.message))}else d(new _e(de.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new _e(de.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{Ae(is,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(a);Ae(is,`RPC '${e}' ${c} sending request:`,a),m.send(n,"POST",g,s,15)}))}T_(e,n,s){const a=D0(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,n,s),h.encodeInitMessageHeaders=!0;const m=l.join("");Ae(is,`Creating RPC '${e}' stream ${a}: ${m}`,h);const g=c.createWebChannel(m,h);this.I_(g);let b=!1,x=!1;const A=new e3({Ho:I=>{x?Ae(is,`Not sending because RPC '${e}' stream ${a} is closed:`,I):(b||(Ae(is,`Opening RPC '${e}' stream ${a} transport.`),g.open(),b=!0),Ae(is,`RPC '${e}' stream ${a} sending:`,I),g.send(I))},Jo:()=>g.close()});return Su(g,ku.EventType.OPEN,(()=>{x||(Ae(is,`RPC '${e}' stream ${a} transport opened.`),A.i_())})),Su(g,ku.EventType.CLOSE,(()=>{x||(x=!0,Ae(is,`RPC '${e}' stream ${a} transport closed`),A.o_(),this.E_(g))})),Su(g,ku.EventType.ERROR,(I=>{x||(x=!0,Yo(is,`RPC '${e}' stream ${a} transport errored. Name:`,I.name,"Message:",I.message),A.o_(new _e(de.UNAVAILABLE,"The operation could not be completed")))})),Su(g,ku.EventType.MESSAGE,(I=>{if(!x){const D=I.data[0];yt(!!D,16349);const R=D,j=R?.error||R[0]?.error;if(j){Ae(is,`RPC '${e}' stream ${a} received error:`,j);const q=j.status;let H=(function(ue){const k=En[ue];if(k!==void 0)return E2(k)})(q),ae=j.message;H===void 0&&(H=de.INTERNAL,ae="Unknown error status: "+q+" with message "+j.message),x=!0,A.o_(new _e(H,ae)),g.close()}else Ae(is,`RPC '${e}' stream ${a} received:`,D),A.__(D)}})),Zl.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return FC()}}function t3(t){return new Zl(t)}function My(){return typeof document<"u"?document:null}function rp(t){return new rV(t,!0)}Zl.c_=!1;class U2{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&Ae("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const eE="PersistentStream";class z2{constructor(e,n,s,a,l,c,h,d){this.Ci=e,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new U2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(Yr(n.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new _e(de.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ae(eE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Ae(eE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class n3 extends z2{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=lV(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Fe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Fe.min():c.readTime?ir(c.readTime):Fe.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=N0(this.serializer),n.addTarget=(function(l,c){let h;const d=c.target;if(h=T0(d)?{documents:hV(l,d)}:{query:dV(l,d).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=C2(l,c.resumeToken);const m=A0(l,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(Fe.min())>0){h.readTime=dm(l,c.snapshotVersion.toTimestamp());const m=A0(l,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const s=mV(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=N0(this.serializer),n.removeTarget=e,this.K_(n)}}class s3 extends z2{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return yt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,yt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){yt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=uV(e.writeResults,e.commitTime),s=ir(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=N0(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>cV(this.serializer,s)))};this.K_(n)}}class i3{}class r3 extends i3{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new _e(de.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,C0(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(de.UNKNOWN,l.toString())}))}jo(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(e,C0(n,s),a,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(de.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function a3(t,e,n,s){return new r3(t,e,n,s)}class o3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yr(n),this.aa=!1):Ae("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xo="RemoteStore";class l3{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{s.enqueueAndForget((async()=>{el(this)&&(Ae(Xo,"Restarting streams for network reachability change."),await(async function(d){const m=Ge(d);m.Ea.add(4),await kh(m),m.Va.set("Unknown"),m.Ea.delete(4),await ap(m)})(this))}))})),this.Va=new o3(s,a)}}async function ap(t){if(el(t))for(const e of t.Ra)await e(!0)}async function kh(t){for(const e of t.Ra)await e(!1)}function B2(t,e){const n=Ge(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Zv(n)?Jv(n):xc(n).O_()&&Qv(n,e))}function Wv(t,e){const n=Ge(t),s=xc(n);n.Ia.delete(e),s.O_()&&F2(n,e),n.Ia.size===0&&(s.O_()?s.L_():el(n)&&n.Va.set("Unknown"))}function Qv(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xc(t).Z_(e)}function F2(t,e){t.da.$e(e),xc(t).X_(e)}function Jv(t){t.da=new tV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),xc(t).start(),t.Va.ua()}function Zv(t){return el(t)&&!xc(t).x_()&&t.Ia.size>0}function el(t){return Ge(t).Ea.size===0}function q2(t){t.da=void 0}async function c3(t){t.Va.set("Online")}async function u3(t){t.Ia.forEach(((e,n)=>{Qv(t,e)}))}async function h3(t,e){q2(t),Zv(t)?(t.Va.ha(e),Jv(t)):t.Va.set("Unknown")}async function d3(t,e,n){if(t.Va.set("Online"),e instanceof A2&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.da.removeTarget(h))})(t,e)}catch(s){Ae(Xo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await mm(t,s)}else if(e instanceof qf?t.da.Xe(e):e instanceof S2?t.da.st(e):t.da.tt(e),!n.isEqual(Fe.min()))try{const s=await L2(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const h=l.da.Tt(c);return h.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const g=l.Ia.get(m);g&&l.Ia.set(m,g.withResumeToken(d.resumeToken,c))}})),h.targetMismatches.forEach(((d,m)=>{const g=l.Ia.get(d);if(!g)return;l.Ia.set(d,g.withResumeToken(Hn.EMPTY_BYTE_STRING,g.snapshotVersion)),F2(l,d);const b=new Pa(g.target,d,m,g.sequenceNumber);Qv(l,b)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(s){Ae(Xo,"Failed to raise snapshot:",s),await mm(t,s)}}async function mm(t,e,n){if(!bc(e))throw e;t.Ea.add(1),await kh(t),t.Va.set("Offline"),n||(n=()=>L2(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ae(Xo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ap(t)}))}function H2(t,e){return e().catch((n=>mm(t,n,e)))}async function op(t){const e=Ge(t),n=Ya(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Vv;for(;f3(e);)try{const a=await KV(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,m3(e,a)}catch(a){await mm(e,a)}G2(e)&&$2(e)}function f3(t){return el(t)&&t.Ta.length<10}function m3(t,e){t.Ta.push(e);const n=Ya(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function G2(t){return el(t)&&!Ya(t).x_()&&t.Ta.length>0}function $2(t){Ya(t).start()}async function p3(t){Ya(t).ra()}async function g3(t){const e=Ya(t);for(const n of t.Ta)e.ea(n.mutations)}async function y3(t,e,n){const s=t.Ta.shift(),a=qv.from(s,e,n);await H2(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await op(t)}async function v3(t,e){e&&Ya(t).Y_&&await(async function(s,a){if((function(c){return J5(c)&&c!==de.ABORTED})(a.code)){const l=s.Ta.shift();Ya(s).B_(),await H2(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await op(s)}})(t,e),G2(t)&&$2(t)}async function tE(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),Ae(Xo,"RemoteStore received new credentials");const s=el(n);n.Ea.add(3),await kh(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ap(n)}async function b3(t,e){const n=Ge(t);e?(n.Ea.delete(2),await ap(n)):e||(n.Ea.add(2),await kh(n),n.Va.set("Unknown"))}function xc(t){return t.ma||(t.ma=(function(n,s,a){const l=Ge(n);return l.sa(),new n3(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:c3.bind(null,t),Yo:u3.bind(null,t),t_:h3.bind(null,t),J_:d3.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Zv(t)?Jv(t):t.Va.set("Unknown")):(await t.ma.stop(),q2(t))}))),t.ma}function Ya(t){return t.fa||(t.fa=(function(n,s,a){const l=Ge(n);return l.sa(),new s3(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:p3.bind(null,t),t_:v3.bind(null,t),ta:g3.bind(null,t),na:y3.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await op(t)):(await t.fa.stop(),t.Ta.length>0&&(Ae(Xo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class eb{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,h=new eb(e,n,c,a,l);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tb(t,e){if(Yr("AsyncQueue",`${e}: ${t}`),bc(t))return new _e(de.UNAVAILABLE,`${e}: ${t}`);throw t}class ec{static emptySet(e){return new ec(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Me.comparator(n.key,s.key):(n,s)=>Me.comparator(n.key,s.key),this.keyedMap=Mu(),this.sortedSet=new sn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ec)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ec;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class nE{constructor(){this.ga=new sn(Me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ve(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class hc{constructor(e,n,s,a,l,c,h,d,m){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new hc(e,n,ec.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class x3{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class w3{constructor(){this.queries=sE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Ge(n),l=a.queries;a.queries=sE(),l.forEach(((c,h)=>{for(const d of h.ba)d.onError(s)}))})(this,new _e(de.ABORTED,"Firestore shutting down"))}}function sE(){return new Zo((t=>d2(t)),Zm)}async function nb(t,e){const n=Ge(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(s=2):(l=new x3,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=tb(c,`Initialization of query '${Fl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&ib(n)}async function sb(t,e){const n=Ge(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function _3(t,e){const n=Ge(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const h of c.ba)h.Fa(a)&&(s=!0);c.wa=a}}s&&ib(n)}function T3(t,e,n){const s=Ge(t),a=s.queries.get(e);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(e)}function ib(t){t.Ca.forEach((e=>{e.next()}))}var k0,iE;(iE=k0||(k0={})).Ma="default",iE.Cache="cache";class rb{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new hc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=hc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==k0.Cache}}class K2{constructor(e){this.key=e}}class Y2{constructor(e){this.key=e}}class E3{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=at(),this.mutatedKeys=at(),this.eu=f2(e),this.tu=new ec(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new nE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,b)=>{const x=a.get(g),A=ep(this.query,b)?b:null,I=!!x&&this.mutatedKeys.has(x.key),D=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let R=!1;x&&A?x.data.isEqual(A.data)?I!==D&&(s.track({type:3,doc:A}),R=!0):this.su(x,A)||(s.track({type:2,doc:A}),R=!0,(d&&this.eu(A,d)>0||m&&this.eu(A,m)<0)&&(h=!0)):!x&&A?(s.track({type:0,doc:A}),R=!0):x&&!A&&(s.track({type:1,doc:x}),R=!0,(d||m)&&(h=!0)),R&&(A?(c=c.add(A),l=D?l.add(g):l.delete(g)):(c=c.delete(g),l=l.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),l=l.delete(g.key),s.track({type:1,doc:g})}return{tu:c,iu:s,Ss:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,b)=>(function(A,I){const D=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Vt:R})}};return D(A)-D(I)})(g.type,b.type)||this.eu(g.doc,b.doc))),this.ou(s),a=a??!1;const h=n&&!a?this._u():[],d=this.Ya.size===0&&this.current&&!a?1:0,m=d!==this.Xa;return this.Xa=d,c.length!==0||m?{snapshot:new hc(this.query,e.tu,l,c,e.mutatedKeys,d===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=at(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new Y2(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new K2(s))})),n}cu(e){this.Za=e.ks,this.Ya=at();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return hc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ab="SyncEngine";class S3{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class A3{constructor(e){this.key=e,this.hu=!1}}class C3{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Zo((h=>d2(h)),Zm),this.Iu=new Map,this.Eu=new Set,this.Ru=new sn(Me.comparator),this.Au=new Map,this.Vu=new $v,this.du={},this.mu=new Map,this.fu=uc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function R3(t,e,n=!0){const s=eR(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await X2(s,e,n,!0),a}async function N3(t,e){const n=eR(t);await X2(n,e,!0,!1)}async function X2(t,e,n,s){const a=await YV(t.localStore,sr(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let h;return s&&(h=await I3(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&B2(t.remoteStore,a),h}async function I3(t,e,n,s,a){t.pu=(b,x,A)=>(async function(D,R,j,q){let H=R.view.ru(j);H.Ss&&(H=await WT(D.localStore,R.query,!1).then((({documents:k})=>R.view.ru(k,H))));const ae=q&&q.targetChanges.get(R.targetId),ie=q&&q.targetMismatches.get(R.targetId)!=null,ue=R.view.applyChanges(H,D.isPrimaryClient,ae,ie);return aE(D,R.targetId,ue.au),ue.snapshot})(t,b,x,A);const l=await WT(t.localStore,e,!0),c=new E3(e,l.ks),h=c.ru(l.documents),d=Dh.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),m=c.applyChanges(h,t.isPrimaryClient,d);aE(t,n,m.au);const g=new S3(e,n,c);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function D3(t,e,n){const s=Ge(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!Zm(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await I0(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Wv(s.remoteStore,a.targetId),M0(s,a.targetId)})).catch(vc)):(M0(s,a.targetId),await I0(s.localStore,a.targetId,!0))}async function k3(t,e){const n=Ge(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Wv(n.remoteStore,s.targetId))}async function M3(t,e,n){const s=z3(t);try{const a=await(function(c,h){const d=Ge(c),m=He.now(),g=h.reduce(((A,I)=>A.add(I.key)),at());let b,x;return d.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let I=Xr(),D=at();return d.xs.getEntries(A,g).next((R=>{I=R,I.forEach(((j,q)=>{q.isValidDocument()||(D=D.add(j))}))})).next((()=>d.localDocuments.getOverlayedDocuments(A,I))).next((R=>{b=R;const j=[];for(const q of h){const H=K5(q,b.get(q.key).overlayedDocument);H!=null&&j.push(new eo(q.key,H,i2(H.value.mapValue),xs.exists(!0)))}return d.mutationQueue.addMutationBatch(A,m,j,h)})).next((R=>{x=R;const j=R.applyToLocalDocumentSet(b,D);return d.documentOverlayCache.saveOverlays(A,R.batchId,j)}))})).then((()=>({batchId:x.batchId,changes:p2(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,h,d){let m=c.du[c.currentUser.toKey()];m||(m=new sn(rt)),m=m.insert(h,d),c.du[c.currentUser.toKey()]=m})(s,a.batchId,n),await Mh(s,a.changes),await op(s.remoteStore)}catch(a){const l=tb(a,"Failed to persist write");n.reject(l)}}async function W2(t,e){const n=Ge(t);try{const s=await GV(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(yt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?yt(c.hu,14607):a.removedDocuments.size>0&&(yt(c.hu,42227),c.hu=!1))})),await Mh(n,s,e)}catch(s){await vc(s)}}function rE(t,e,n){const s=Ge(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const d=Ge(c);d.onlineState=h;let m=!1;d.queries.forEach(((g,b)=>{for(const x of b.ba)x.va(h)&&(m=!0)})),m&&ib(d)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function P3(t,e,n){const s=Ge(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new sn(Me.comparator);c=c.insert(l,os.newNoDocument(l,Fe.min()));const h=at().add(l),d=new ip(Fe.min(),new Map,new sn(rt),c,h);await W2(s,d),s.Ru=s.Ru.remove(l),s.Au.delete(e),ob(s)}else await I0(s.localStore,e,!1).then((()=>M0(s,e,n))).catch(vc)}async function j3(t,e){const n=Ge(t),s=e.batch.batchId;try{const a=await HV(n.localStore,e);J2(n,s,null),Q2(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Mh(n,a)}catch(a){await vc(a)}}async function O3(t,e,n){const s=Ge(t);try{const a=await(function(c,h){const d=Ge(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return d.mutationQueue.lookupMutationBatch(m,h).next((b=>(yt(b!==null,37113),g=b.keys(),d.mutationQueue.removeMutationBatch(m,b)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,g,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>d.localDocuments.getDocuments(m,g)))}))})(s.localStore,e);J2(s,e,n),Q2(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Mh(s,a)}catch(a){await vc(a)}}function Q2(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function J2(t,e,n){const s=Ge(t);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function M0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((s=>{t.Vu.containsKey(s)||Z2(t,s)}))}function Z2(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Wv(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),ob(t))}function aE(t,e,n){for(const s of n)s instanceof K2?(t.Vu.addReference(s.key,e),V3(t,s)):s instanceof Y2?(Ae(ab,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||Z2(t,s.key)):Ve(19791,{wu:s})}function V3(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(Ae(ab,"New document in limbo: "+n),t.Eu.add(s),ob(t))}function ob(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Me(Pt.fromString(e)),s=t.fu.next();t.Au.set(s,new A3(n)),t.Ru=t.Ru.insert(n,s),B2(t.remoteStore,new Pa(sr(Jm(n.path)),s,"TargetPurposeLimboResolution",Xm.ce))}}async function Mh(t,e,n){const s=Ge(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,d)=>{c.push(s.pu(d,e,n).then((m=>{if((m||n)&&s.isPrimaryClient){const g=m?!m.fromCache:n?.targetChanges.get(d.targetId)?.current;s.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(m){a.push(m);const g=Yv.Es(d.targetId,m);l.push(g)}})))})),await Promise.all(c),s.Pu.J_(a),await(async function(d,m){const g=Ge(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>me.forEach(m,(x=>me.forEach(x.Ts,(A=>g.persistence.referenceDelegate.addReference(b,x.targetId,A))).next((()=>me.forEach(x.Is,(A=>g.persistence.referenceDelegate.removeReference(b,x.targetId,A)))))))))}catch(b){if(!bc(b))throw b;Ae(Xv,"Failed to update sequence numbers: "+b)}for(const b of m){const x=b.targetId;if(!b.fromCache){const A=g.vs.get(x),I=A.snapshotVersion,D=A.withLastLimboFreeSnapshotVersion(I);g.vs=g.vs.insert(x,D)}}})(s.localStore,l))}async function L3(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){Ae(ab,"User change. New user:",e.toKey());const s=await V2(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new _e(de.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Mh(n,s.Ns)}}function U3(t,e){const n=Ge(t),s=n.Au.get(e);if(s&&s.hu)return at().add(s.key);{let a=at();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const h=n.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function eR(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=W2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=P3.bind(null,e),e.Pu.J_=_3.bind(null,e.eventManager),e.Pu.yu=T3.bind(null,e.eventManager),e}function z3(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=j3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=O3.bind(null,e),e}class pm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return qV(this.persistence,new zV,e.initialUser,this.serializer)}Cu(e){return new O2(Kv.Vi,this.serializer)}Du(e){return new WV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pm.provider={build:()=>new pm};class B3 extends pm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){yt(this.persistence.referenceDelegate instanceof fm,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new SV(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Os.withCacheSize(this.cacheSizeBytes):Os.DEFAULT;return new O2((s=>fm.Vi(s,n)),this.serializer)}}class P0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>rE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=L3.bind(null,this.syncEngine),await b3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new w3})()}createDatastore(e){const n=rp(e.databaseInfo.databaseId),s=t3(e.databaseInfo);return a3(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,h){return new l3(s,a,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>rE(this.syncEngine,n,0)),(function(){return ZT.v()?new ZT:new QV})())}createSyncEngine(e,n){return(function(a,l,c,h,d,m,g){const b=new C3(a,l,c,h,d,m);return g&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ge(n);Ae(Xo,"RemoteStore shutting down."),s.Ea.add(5),await kh(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}P0.provider={build:()=>new P0};class lb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Xa="FirestoreClient";class F3{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=as.UNAUTHENTICATED,this.clientId=Km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{Ae(Xa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(Ae(Xa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=tb(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Py(t,e){t.asyncQueue.verifyOperationInProgress(),Ae(Xa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await V2(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function oE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await q3(t);Ae(Xa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>tE(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>tE(e.remoteStore,a))),t._onlineComponents=e}async function q3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ae(Xa,"Using user provided OfflineComponentProvider");try{await Py(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===de.FAILED_PRECONDITION||a.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Yo("Error using user provided cache. Falling back to memory cache: "+n),await Py(t,new pm)}}else Ae(Xa,"Using default OfflineComponentProvider"),await Py(t,new B3(void 0));return t._offlineComponents}async function tR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ae(Xa,"Using user provided OnlineComponentProvider"),await oE(t,t._uninitializedComponentsProvider._online)):(Ae(Xa,"Using default OnlineComponentProvider"),await oE(t,new P0))),t._onlineComponents}function H3(t){return tR(t).then((e=>e.syncEngine))}async function gm(t){const e=await tR(t),n=e.eventManager;return n.onListen=R3.bind(null,e.syncEngine),n.onUnlisten=D3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=N3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=k3.bind(null,e.syncEngine),n}function G3(t,e,n,s){const a=new lb(s),l=new rb(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>nb(await gm(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>sb(await gm(t),l)))}}function $3(t,e,n={}){const s=new Fr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,d,m){const g=new lb({next:x=>{g.Nu(),c.enqueueAndForget((()=>sb(l,b)));const A=x.docs.has(h);!A&&x.fromCache?m.reject(new _e(de.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&x.fromCache&&d&&d.source==="server"?m.reject(new _e(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),b=new rb(Jm(h.path),g,{includeMetadataChanges:!0,Ka:!0});return nb(l,b)})(await gm(t),t.asyncQueue,e,n,s))),s.promise}function K3(t,e,n={}){const s=new Fr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,d,m){const g=new lb({next:x=>{g.Nu(),c.enqueueAndForget((()=>sb(l,b))),x.fromCache&&d.source==="server"?m.reject(new _e(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(x)},error:x=>m.reject(x)}),b=new rb(h,g,{includeMetadataChanges:!0,Ka:!0});return nb(l,b)})(await gm(t),t.asyncQueue,e,n,s))),s.promise}function Y3(t,e){const n=new Fr;return t.asyncQueue.enqueueAndForget((async()=>M3(await H3(t),e,n))),n.promise}function nR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const X3="ComponentProvider",lE=new Map;function W3(t,e,n,s,a){return new p5(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,nR(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const sR="firestore.googleapis.com",cE=!0;class uE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sR,this.ssl=cE}else this.host=e.host,this.ssl=e.ssl??cE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=j2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TV)throw new _e(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nR(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _e(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _e(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _e(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lp{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new GC;switch(s.type){case"firstParty":return new ZO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _e(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=lE.get(n);s&&(Ae(X3,"Removing Datastore"),lE.delete(n),s.terminate())})(this),Promise.resolve()}}function iR(t,e,n,s={}){t=cs(t,lp);const a=Wo(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(bv(`https://${h}`),xv("Firestore",!0)),l.host!==sR&&l.host!==h&&Yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:h,ssl:a,emulatorOptions:s};if(!Go(d,c)&&(t._setSettings(d),s.mockUserToken)){let m,g;if(typeof s.mockUserToken=="string")m=s.mockUserToken,g=as.MOCK_USER;else{m=qA(s.mockUserToken,t._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new _e(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new as(b)}t._authCredentials=new WO(new HC(m,g))}}class to{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new to(this.firestore,e,this._query)}}class nn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}toJSON(){return{type:nn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Rh(n,nn._jsonSchema))return new nn(e,s||null,new Me(Pt.fromString(n.referencePath)))}}nn._jsonSchemaVersion="firestore/documentReference/1.0",nn._jsonSchema={type:Cn("string",nn._jsonSchemaVersion),referencePath:Cn("string")};class qr extends to{constructor(e,n,s){super(e,n,Jm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new Me(e))}withConverter(e){return new qr(this.firestore,e,this._path)}}function di(t,e,...n){if(t=hn(t),$C("collection","path",e),t instanceof lp){const s=Pt.fromString(e,...n);return TT(s),new qr(t,null,s)}{if(!(t instanceof nn||t instanceof qr))throw new _e(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Pt.fromString(e,...n));return TT(s),new qr(t.firestore,null,s)}}function Fn(t,e,...n){if(t=hn(t),arguments.length===1&&(e=Km.newId()),$C("doc","path",e),t instanceof lp){const s=Pt.fromString(e,...n);return _T(s),new nn(t,null,new Me(s))}{if(!(t instanceof nn||t instanceof qr))throw new _e(de.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Pt.fromString(e,...n));return _T(s),new nn(t.firestore,t instanceof qr?t.converter:null,new Me(s))}}const hE="AsyncQueue";class dE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new U2(this,"async_queue_retry"),this._c=()=>{const s=My();s&&Ae(hE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=My();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=My();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!bc(e))throw e;Ae(hE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Yr("INTERNAL UNHANDLED ERROR: ",fE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=eb.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ve(47125,{Pc:fE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function fE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Vi extends lp{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new dE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dE(e),this._firestoreClient=void 0,await e}}}function rR(t,e){const n=typeof t=="object"?t:Tv(),s=typeof t=="string"?t:om,a=qm(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=zA("firestore");l&&iR(a,...l)}return a}function wc(t){if(t._terminated)throw new _e(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Q3(t),t._firestoreClient}function Q3(t){const e=t._freezeSettings(),n=W3(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new F3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class Ys{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ys(Hn.fromBase64String(e))}catch(n){throw new _e(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ys(Hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ys._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Rh(e,Ys._jsonSchema))return Ys.fromBase64String(e.bytes)}}Ys._jsonSchemaVersion="firestore/bytes/1.0",Ys._jsonSchema={type:Cn("string",Ys._jsonSchemaVersion),bytes:Cn("string")};class Ph{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jh{constructor(e){this._methodName=e}}class ji{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return rt(this._lat,e._lat)||rt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(e){if(Rh(e,ji._jsonSchema))return new ji(e.latitude,e.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:Cn("string",ji._jsonSchemaVersion),latitude:Cn("number"),longitude:Cn("number")};class gi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Rh(e,gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new gi(e.vectorValues);throw new _e(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gi._jsonSchemaVersion="firestore/vectorValue/1.0",gi._jsonSchema={type:Cn("string",gi._jsonSchemaVersion),vectorValues:Cn("object")};const J3=/^__.*__$/;class Z3{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new eo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ih(e,this.data,n,this.fieldTransforms)}}class aR{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new eo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function oR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{dataSource:t})}}class cb{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new cb({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ym(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(oR(this.dataSource)&&J3.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class eL{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||rp(e)}createContext(e,n,s,a=!1){return new cb({dataSource:e,methodName:n,targetDoc:s,path:qn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oh(t){const e=t._freezeSettings(),n=rp(t._databaseId);return new eL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ub(t,e,n,s,a,l={}){const c=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);db("Data must be an object, but it was:",c,s);const h=uR(s,c);let d,m;if(l.merge)d=new Xs(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const g=[];for(const b of l.mergeFields){const x=dc(e,b,n);if(!c.contains(x))throw new _e(de.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);fR(g,x)||g.push(x)}d=new Xs(g),m=c.fieldTransforms.filter((b=>d.covers(b.field)))}else d=null,m=c.fieldTransforms;return new Z3(new Vs(h),d,m)}class Vh extends jh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vh}}class hb extends jh{_toFieldTransform(e){return new q5(e.path,new ah)}isEqual(e){return e instanceof hb}}function lR(t,e,n,s){const a=t.createContext(1,e,n);db("Data must be an object, but it was:",a,s);const l=[],c=Vs.empty();Za(s,((d,m)=>{const g=dR(e,d,n);m=hn(m);const b=a.childContextForFieldPath(g);if(m instanceof Vh)l.push(g);else{const x=Lh(m,b);x!=null&&(l.push(g),c.set(g,x))}}));const h=new Xs(l);return new aR(c,h,a.fieldTransforms)}function cR(t,e,n,s,a,l){const c=t.createContext(1,e,n),h=[dc(e,s,n)],d=[a];if(l.length%2!=0)throw new _e(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)h.push(dc(e,l[x])),d.push(l[x+1]);const m=[],g=Vs.empty();for(let x=h.length-1;x>=0;--x)if(!fR(m,h[x])){const A=h[x];let I=d[x];I=hn(I);const D=c.childContextForFieldPath(A);if(I instanceof Vh)m.push(A);else{const R=Lh(I,D);R!=null&&(m.push(A),g.set(A,R))}}const b=new Xs(m);return new aR(g,b,c.fieldTransforms)}function tL(t,e,n,s=!1){return Lh(n,t.createContext(s?4:3,e))}function Lh(t,e){if(hR(t=hn(t)))return db("Unsupported field value:",e,t),uR(t,e);if(t instanceof jh)return(function(s,a){if(!oR(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const h of s){let d=Lh(h,a.childContextForArray(c));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=hn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return z5(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=He.fromDate(s);return{timestampValue:dm(a.serializer,l)}}if(s instanceof He){const l=new He(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:dm(a.serializer,l)}}if(s instanceof ji)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ys)return{bytesValue:C2(a.serializer,s._byteString)};if(s instanceof nn){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Gv(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof gi)return(function(c,h){const d=c instanceof gi?c.toArray():c;return{mapValue:{fields:{[n2]:{stringValue:s2},[lm]:{arrayValue:{values:d.map((g=>{if(typeof g!="number")throw h.createError("VectorValues must only contain numeric values.");return Fv(h.serializer,g)}))}}}}}})(s,a);if(P2(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Ym(s)}`)})(t,e)}function uR(t,e){const n={};return WC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Za(t,((s,a)=>{const l=Lh(a,e.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function hR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof He||t instanceof ji||t instanceof Ys||t instanceof nn||t instanceof jh||t instanceof gi||P2(t))}function db(t,e,n){if(!hR(n)||!YC(n)){const s=Ym(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function dc(t,e,n){if((e=hn(e))instanceof Ph)return e._internalPath;if(typeof e=="string")return dR(t,e);throw ym("Field path arguments must be of type string or ",t,!1,void 0,n)}const nL=new RegExp("[~\\*/\\[\\]]");function dR(t,e,n){if(e.search(nL)>=0)throw ym(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ph(...e.split("."))._internalPath}catch{throw ym(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ym(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||c)&&(d+=" (found",l&&(d+=` in field ${s}`),c&&(d+=` in document ${a}`),d+=")"),new _e(de.INVALID_ARGUMENT,h+t+d)}function fR(t,e){return t.some((n=>n.isEqual(e)))}class mR{convertValue(e,n="none"){switch(Ka(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($a(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Za(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[lm].arrayValue?.values?.map((s=>gn(s.doubleValue)));return new gi(n)}convertGeoPoint(e){return new ji(gn(e.latitude),gn(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Qm(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ih(e));default:return null}}convertTimestamp(e){const n=Ga(e);return new He(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Pt.fromString(e);yt(M2(s),9688,{name:e});const a=new oc(s.get(1),s.get(3)),l=new Me(s.popFirst(5));return a.isEqual(n)||Yr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class fb extends mR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ys(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,n)}}function vm(){return new Vh("deleteField")}function Hf(){return new hb("serverTimestamp")}const mE="@firebase/firestore",pE="4.10.0";function gE(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class pR{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(dc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sL extends pR{data(){return super.data()}}function gR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mb{}class yR extends mb{}function Ua(t,e,...n){let s=[];e instanceof mb&&s.push(e),s=s.concat(n),(function(l){const c=l.filter((d=>d instanceof cp)).length,h=l.filter((d=>d instanceof Uh)).length;if(c>1||c>0&&h>0)throw new _e(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Uh extends yR{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Uh(e,n,s)}_apply(e){const n=this._parse(e);return vR(e._query,n),new to(e.firestore,e.converter,E0(e._query,n))}_parse(e){const n=Oh(e.firestore);return(function(l,c,h,d,m,g,b){let x;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new _e(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){vE(b,g);const I=[];for(const D of b)I.push(yE(d,l,D));x={arrayValue:{values:I}}}else x=yE(d,l,b)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||vE(b,g),x=tL(h,c,b,g==="in"||g==="not-in");return An.create(m,g,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function er(t,e,n){const s=e,a=dc("where",t);return Uh._create(a,s,n)}class cp extends mb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Oi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const h=l.getFlattenedFilters();for(const d of h)vR(c,d),c=E0(c,d)})(e._query,n),new to(e.firestore,e.converter,E0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function yE(t,e,n){if(typeof(n=hn(n))=="string"){if(n==="")throw new _e(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!h2(e)&&n.indexOf("/")!==-1)throw new _e(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Pt.fromString(n));if(!Me.isDocumentKey(s))throw new _e(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return DT(t,new Me(s))}if(n instanceof nn)return DT(t,n._key);throw new _e(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ym(n)}.`)}function vE(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vR(t,e){const n=(function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new _e(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function pb(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class za extends pR{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(dc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=za._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}za._jsonSchemaVersion="firestore/documentSnapshot/1.0",za._jsonSchema={type:Cn("string",za._jsonSchemaVersion),bundleSource:Cn("string","DocumentSnapshot"),bundleName:Cn("string"),bundle:Cn("string")};class qu extends za{data(e={}){return super.data(e)}}class Ba{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Gl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new qu(this._firestore,this._userDataWriter,s.key,s,new Gl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const d=new qu(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Gl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new qu(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Gl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,g=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),g=c.indexOf(h.doc.key)),{type:iL(h.type),doc:d,oldIndex:m,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ba._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function iL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:t})}}Ba._jsonSchemaVersion="firestore/querySnapshot/1.0",Ba._jsonSchema={type:Cn("string",Ba._jsonSchemaVersion),bundleSource:Cn("string","QuerySnapshot"),bundleName:Cn("string"),bundle:Cn("string")};class bR{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Oh(e)}set(e,n,s){this._verifyNotCommitted();const a=jy(e,this._firestore),l=pb(a.converter,n,s),c=ub(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,s);return this._mutations.push(c.toMutation(a._key,xs.none())),this}update(e,n,s,...a){this._verifyNotCommitted();const l=jy(e,this._firestore);let c;return c=typeof(n=hn(n))=="string"||n instanceof Ph?cR(this._dataReader,"WriteBatch.update",l._key,n,s,a):lR(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,xs.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=jy(e,this._firestore);return this._mutations=this._mutations.concat(new sp(n._key,xs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _e(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function jy(t,e){if((t=hn(t)).firestore!==e)throw new _e(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function zh(t){t=cs(t,nn);const e=cs(t.firestore,Vi),n=wc(e);return $3(n,t._key).then((s=>xR(e,t,s)))}function qo(t){t=cs(t,to);const e=cs(t.firestore,Vi),n=wc(e),s=new fb(e);return gR(t._query),K3(n,t._query).then((a=>new Ba(e,s,t,a)))}function bm(t,e,n){t=cs(t,nn);const s=cs(t.firestore,Vi),a=pb(t.converter,e,n),l=Oh(s);return _c(s,[ub(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,xs.none())])}function rs(t,e,n,...s){t=cs(t,nn);const a=cs(t.firestore,Vi),l=Oh(a);let c;return c=typeof(e=hn(e))=="string"||e instanceof Ph?cR(l,"updateDoc",t._key,e,n,s):lR(l,"updateDoc",t._key,e),_c(a,[c.toMutation(t._key,xs.exists(!0))])}function gb(t){return _c(cs(t.firestore,Vi),[new sp(t._key,xs.none())])}function yb(t,e){const n=cs(t.firestore,Vi),s=Fn(t),a=pb(t.converter,e),l=Oh(t.firestore);return _c(n,[ub(l,"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,xs.exists(!1))]).then((()=>s))}function tc(t,...e){t=hn(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||gE(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(gE(e[s])){const m=e[s];e[s]=m.next?.bind(m),e[s+1]=m.error?.bind(m),e[s+2]=m.complete?.bind(m)}let l,c,h;if(t instanceof nn)c=cs(t.firestore,Vi),h=Jm(t._key.path),l={next:m=>{e[s]&&e[s](xR(c,t,m))},error:e[s+1],complete:e[s+2]};else{const m=cs(t,to);c=cs(m.firestore,Vi),h=m._query;const g=new fb(c);l={next:b=>{e[s]&&e[s](new Ba(c,g,m,b))},error:e[s+1],complete:e[s+2]},gR(t._query)}const d=wc(c);return G3(d,h,a,l)}function _c(t,e){const n=wc(t);return Y3(n,e)}function xR(t,e,n){const s=n.docs.get(e._key),a=new fb(t);return new za(t,a,e._key,s,new Gl(n.hasPendingWrites,n.fromCache),e.converter)}function j0(t){return t=cs(t,Vi),wc(t),new bR(t,(e=>_c(t,e)))}(function(e,n=!0){XO(Qo),$o(new Fa("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),h=new Vi(new QO(s.getProvider("auth-internal")),new e5(c,s.getProvider("app-check-internal")),g5(c,a),c);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),tr(mE,pE,e),tr(mE,pE,"esm2020")})();const bE=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:mR,Bytes:Ys,CollectionReference:qr,DocumentReference:nn,DocumentSnapshot:za,FieldPath:Ph,FieldValue:jh,Firestore:Vi,FirestoreError:_e,GeoPoint:ji,Query:to,QueryCompositeFilterConstraint:cp,QueryConstraint:yR,QueryDocumentSnapshot:qu,QueryFieldFilterConstraint:Uh,QuerySnapshot:Ba,SnapshotMetadata:Gl,Timestamp:He,VectorValue:gi,WriteBatch:bR,_AutoId:Km,_ByteString:Hn,_DatabaseId:oc,_DocumentKey:Me,_EmptyAuthCredentialsProvider:GC,_FieldPath:qn,_cast:cs,_logWarn:Yo,_validateIsNotUsedTogether:KC,addDoc:yb,collection:di,connectFirestoreEmulator:iR,deleteDoc:gb,deleteField:vm,doc:Fn,ensureFirestoreConfigured:wc,executeWrite:_c,getDoc:zh,getDocs:qo,getFirestore:rR,onSnapshot:tc,query:Ua,serverTimestamp:Hf,setDoc:bm,updateDoc:rs,where:er,writeBatch:j0},Symbol.toStringTag,{value:"Module"}));const wR="firebasestorage.googleapis.com",rL="storageBucket",aL=120*1e3,oL=600*1e3;class dr extends hr{constructor(e,n,s=0){super(Oy(e),`Firebase Storage: ${n} (${Oy(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Oy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var cr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(cr||(cr={}));function Oy(t){return"storage/"+t}function lL(){const t="An unknown error occurred, please check the error payload for server response.";return new dr(cr.UNKNOWN,t)}function cL(){return new dr(cr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uL(){return new dr(cr.CANCELED,"User canceled the upload/download.")}function hL(t){return new dr(cr.INVALID_URL,"Invalid URL '"+t+"'.")}function dL(t){return new dr(cr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function xE(t){return new dr(cr.INVALID_ARGUMENT,t)}function _R(){return new dr(cr.APP_DELETED,"The Firebase app was deleted.")}function fL(t){return new dr(cr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Mi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Mi.makeFromUrl(e,n)}catch{return new Mi(e,"")}if(s.path==="")return s;throw dL(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+a+c,"i"),d={bucket:1,path:3};function m(ae){ae.path_=decodeURIComponent(ae.path)}const g="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",A=new RegExp(`^https?://${b}/${g}/b/${a}/o${x}`,"i"),I={bucket:1,path:3},D=n===wR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",j=new RegExp(`^https?://${D}/${a}/${R}`,"i"),H=[{regex:h,indices:d,postModify:l},{regex:A,indices:I,postModify:m},{regex:j,indices:{bucket:1,path:2},postModify:m}];for(let ae=0;ae<H.length;ae++){const ie=H[ae],ue=ie.regex.exec(e);if(ue){const k=ue[ie.indices.bucket];let C=ue[ie.indices.path];C||(C=""),s=new Mi(k,C),ie.postModify(s);break}}if(s==null)throw hL(e);return s}}class mL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function pL(t,e,n){let s=1,a=null,l=null,c=!1,h=0;function d(){return h===2}let m=!1;function g(...R){m||(m=!0,e.apply(null,R))}function b(R){a=setTimeout(()=>{a=null,t(A,d())},R)}function x(){l&&clearTimeout(l)}function A(R,...j){if(m){x();return}if(R){x(),g.call(null,R,...j);return}if(d()||c){x(),g.call(null,R,...j);return}s<64&&(s*=2);let H;h===1?(h=2,H=0):H=(s+Math.random())*1e3,b(H)}let I=!1;function D(R){I||(I=!0,x(),!m&&(a!==null?(R||(h=2),clearTimeout(a),b(0)):R||(h=1)))}return b(0),l=setTimeout(()=>{c=!0,D(!0)},n),D}function gL(t){t(!1)}function yL(t){return t!==void 0}function wE(t,e,n,s){if(s<e)throw xE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw xE(`Invalid value for '${t}'. Expected ${n} or less.`)}function vL(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var xm;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(xm||(xm={}));function bL(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class xL{constructor(e,n,s,a,l,c,h,d,m,g,b,x=!0,A=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=b,this.retry=x,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,D)=>{this.resolve_=I,this.reject_=D,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new wf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=h=>{const d=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const h=l.getErrorCode()===xm.NO_ERROR,d=l.getStatus();if(!h||bL(d,this.additionalRetryCodes_)&&this.retry){const g=l.getErrorCode()===xm.ABORT;s(!1,new wf(!1,null,g));return}const m=this.successCodes_.indexOf(d)!==-1;s(!0,new wf(m,l))})},n=(s,a)=>{const l=this.resolve_,c=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());yL(d)?l(d):l()}catch(d){c(d)}else if(h!==null){const d=lL();d.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,d)):c(d)}else if(a.canceled){const d=this.appDelete_?_R():uL();c(d)}else{const d=cL();c(d)}};this.canceled_?n(!1,new wf(!1,null,!0)):this.backoffId_=pL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&gL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wf{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function wL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function _L(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function TL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function EL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function SL(t,e,n,s,a,l,c=!0,h=!1){const d=vL(t.urlParams),m=t.url+d,g=Object.assign({},t.headers);return TL(g,e),wL(g,n),_L(g,l),EL(g,s),new xL(m,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,h)}function AL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function CL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class wm{constructor(e,n){this._service=e,n instanceof Mi?this._location=n:this._location=Mi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new wm(e,n)}get root(){const e=new Mi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return CL(this._location.path)}get storage(){return this._service}get parent(){const e=AL(this._location.path);if(e===null)return null;const n=new Mi(this._location.bucket,e);return new wm(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw fL(e)}}function _E(t,e){const n=e?.[rL];return n==null?null:Mi.makeFromBucketSpec(n,t)}function RL(t,e,n,s={}){t.host=`${e}:${n}`;const a=Wo(e);a&&(bv(`https://${t.host}/b`),xv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:qA(l,t.app.options.projectId))}class NL{constructor(e,n,s,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=wR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=aL,this._maxUploadRetryTime=oL,this._requests=new Set,a!=null?this._bucket=Mi.makeFromBucketSpec(a,this._host):this._bucket=_E(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mi.makeFromBucketSpec(this._url,e):this._bucket=_E(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){wE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){wE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new wm(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new mL(_R());{const c=SL(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const TE="@firebase/storage",EE="0.14.0";const TR="storage";function IL(t=Tv(),e){t=hn(t);const s=qm(t,TR).getImmediate({identifier:e}),a=zA("storage");return a&&DL(s,...a),s}function DL(t,e,n,s={}){RL(t,e,n,s)}function kL(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new NL(n,s,a,e,Qo)}function ML(){$o(new Fa(TR,kL,"PUBLIC").setMultipleInstances(!0)),tr(TE,EE,""),tr(TE,EE,"esm2020")}ML();const PL={apiKey:"AIzaSyC7IaK8e0JimVT2DeKQovTDLPyufibEu_4",authDomain:"sunsar-bingo.firebaseapp.com",projectId:"sunsar-bingo",storageBucket:"sunsar-bingo.firebasestorage.app",messagingSenderId:"256131852935",appId:"1:256131852935:web:fe514c1e6758e5af252622"},up=$A(PL),Oo=OC(up),ER=new Zi,gt=rR(up);IL(up);const SE=Object.freeze(Object.defineProperty({__proto__:null,app:up,auth:Oo,db:gt,googleProvider:ER},Symbol.toStringTag,{value:"Module"})),SR=S.createContext(void 0),jL=({children:t})=>{const[e,n]=S.useState(null),[s,a]=S.useState(!0),[l,c]=S.useState(null);S.useEffect(()=>{const g=xC(Oo,async b=>{if(b){const x={uid:b.uid,email:b.email,displayName:b.displayName,photoURL:b.photoURL};n(x),c(null);try{const{doc:A,setDoc:I,Timestamp:D}=await zl(async()=>{const{doc:j,setDoc:q,Timestamp:H}=await Promise.resolve().then(()=>bE);return{doc:j,setDoc:q,Timestamp:H}},[]),{db:R}=await zl(async()=>{const{db:j}=await Promise.resolve().then(()=>SE);return{db:j}},void 0);await I(A(R,"users",b.uid),{...x,lastSeen:D.now()},{merge:!0})}catch(A){console.error("Error syncing user profile:",A)}}else n(null);a(!1)});return()=>g()},[]);const h=async()=>{c(null);try{await MC(Oo,ER)}catch(g){c(g.message||"Failed to sign in")}},d=async()=>{await wC(Oo)},m=async g=>{if(Oo.currentUser)try{const{updateProfile:b}=await zl(async()=>{const{updateProfile:D}=await Promise.resolve().then(()=>YO);return{updateProfile:D}},void 0);await b(Oo.currentUser,{displayName:g}),n(D=>D?{...D,displayName:g}:null);const{doc:x,updateDoc:A}=await zl(async()=>{const{doc:D,updateDoc:R}=await Promise.resolve().then(()=>bE);return{doc:D,updateDoc:R}},void 0),{db:I}=await zl(async()=>{const{db:D}=await Promise.resolve().then(()=>SE);return{db:D}},void 0);await A(x(I,"users",Oo.currentUser.uid),{displayName:g})}catch(b){throw console.error("Error updating profile:",b),b}};return y.jsx(SR.Provider,{value:{user:e,loading:s,signIn:h,logout:d,updateProfileName:m,error:l},children:t})},fr=()=>{const t=S.useContext(SR);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},vb=S.createContext({});function bb(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const AR=typeof window<"u",CR=AR?S.useLayoutEffect:S.useEffect,hp=S.createContext(null);function xb(t,e){t.indexOf(e)===-1&&t.push(e)}function wb(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ur=(t,e,n)=>n>e?e:n<t?t:n;let _b=()=>{};const Wr={},RR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function NR(t){return typeof t=="object"&&t!==null}const IR=t=>/^0[^.\s]+$/u.test(t);function Tb(t){let e;return()=>(e===void 0&&(e=t()),e)}const yi=t=>t,OL=(t,e)=>n=>e(t(n)),Bh=(...t)=>t.reduce(OL),ch=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Eb{constructor(){this.subscriptions=[]}add(e){return xb(this.subscriptions,e),()=>wb(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hr=t=>t*1e3,pi=t=>t/1e3;function DR(t,e){return e?t*(1e3/e):0}const kR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,VL=1e-7,LL=12;function UL(t,e,n,s,a){let l,c,h=0;do c=e+(n-e)/2,l=kR(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>VL&&++h<LL);return c}function Fh(t,e,n,s){if(t===e&&n===s)return yi;const a=l=>UL(l,0,1,t,n);return l=>l===0||l===1?l:kR(a(l),e,s)}const MR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,PR=t=>e=>1-t(1-e),jR=Fh(.33,1.53,.69,.99),Sb=PR(jR),OR=MR(Sb),VR=t=>(t*=2)<1?.5*Sb(t):.5*(2-Math.pow(2,-10*(t-1))),Ab=t=>1-Math.sin(Math.acos(t)),LR=PR(Ab),UR=MR(Ab),zL=Fh(.42,0,1,1),BL=Fh(0,0,.58,1),zR=Fh(.42,0,.58,1),FL=t=>Array.isArray(t)&&typeof t[0]!="number",BR=t=>Array.isArray(t)&&typeof t[0]=="number",qL={linear:yi,easeIn:zL,easeInOut:zR,easeOut:BL,circIn:Ab,circInOut:UR,circOut:LR,backIn:Sb,backInOut:OR,backOut:jR,anticipate:VR},HL=t=>typeof t=="string",AE=t=>{if(BR(t)){_b(t.length===4);const[e,n,s,a]=t;return Fh(e,n,s,a)}else if(HL(t))return qL[t];return t},_f=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function GL(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(g){c.has(g)&&(m.schedule(g),t()),g(h)}const m={schedule:(g,b=!1,x=!1)=>{const I=x&&a?n:s;return b&&c.add(g),I.has(g)||I.add(g),g},cancel:g=>{s.delete(g),c.delete(g)},process:g=>{if(h=g,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(d),n.clear(),a=!1,l&&(l=!1,m.process(g))}};return m}const $L=40;function FR(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=_f.reduce((H,ae)=>(H[ae]=GL(l),H),{}),{setup:h,read:d,resolveKeyframes:m,preUpdate:g,update:b,preRender:x,render:A,postRender:I}=c,D=()=>{const H=Wr.useManualTiming?a.timestamp:performance.now();n=!1,Wr.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(H-a.timestamp,$L),1)),a.timestamp=H,a.isProcessing=!0,h.process(a),d.process(a),m.process(a),g.process(a),b.process(a),x.process(a),A.process(a),I.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(D))},R=()=>{n=!0,s=!0,a.isProcessing||t(D)};return{schedule:_f.reduce((H,ae)=>{const ie=c[ae];return H[ae]=(ue,k=!1,C=!1)=>(n||R(),ie.schedule(ue,k,C)),H},{}),cancel:H=>{for(let ae=0;ae<_f.length;ae++)c[_f[ae]].cancel(H)},state:a,steps:c}}const{schedule:Ut,cancel:Wa,state:Qn,steps:Vy}=FR(typeof requestAnimationFrame<"u"?requestAnimationFrame:yi,!0);let Gf;function KL(){Gf=void 0}const vs={now:()=>(Gf===void 0&&vs.set(Qn.isProcessing||Wr.useManualTiming?Qn.timestamp:performance.now()),Gf),set:t=>{Gf=t,queueMicrotask(KL)}},qR=t=>e=>typeof e=="string"&&e.startsWith(t),HR=qR("--"),YL=qR("var(--"),Cb=t=>YL(t)?XL.test(t.split("/*")[0].trim()):!1,XL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function CE(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Tc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},uh={...Tc,transform:t=>ur(0,1,t)},Tf={...Tc,default:1},Hu=t=>Math.round(t*1e5)/1e5,Rb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function WL(t){return t==null}const QL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Nb=(t,e)=>n=>!!(typeof n=="string"&&QL.test(n)&&n.startsWith(t)||e&&!WL(n)&&Object.prototype.hasOwnProperty.call(n,e)),GR=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,h]=s.match(Rb);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},JL=t=>ur(0,255,t),Ly={...Tc,transform:t=>Math.round(JL(t))},zo={test:Nb("rgb","red"),parse:GR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Ly.transform(t)+", "+Ly.transform(e)+", "+Ly.transform(n)+", "+Hu(uh.transform(s))+")"};function ZL(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const O0={test:Nb("#"),parse:ZL,transform:zo.transform},qh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ka=qh("deg"),rr=qh("%"),Ce=qh("px"),e6=qh("vh"),t6=qh("vw"),RE={...rr,parse:t=>rr.parse(t)/100,transform:t=>rr.transform(t*100)},$l={test:Nb("hsl","hue"),parse:GR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+rr.transform(Hu(e))+", "+rr.transform(Hu(n))+", "+Hu(uh.transform(s))+")"},Sn={test:t=>zo.test(t)||O0.test(t)||$l.test(t),parse:t=>zo.test(t)?zo.parse(t):$l.test(t)?$l.parse(t):O0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?zo.transform(t):$l.transform(t),getAnimatableNone:t=>{const e=Sn.parse(t);return e.alpha=0,Sn.transform(e)}},n6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function s6(t){return isNaN(t)&&typeof t=="string"&&(t.match(Rb)?.length||0)+(t.match(n6)?.length||0)>0}const $R="number",KR="color",i6="var",r6="var(",NE="${}",a6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hh(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(a6,d=>(Sn.test(d)?(s.color.push(l),a.push(KR),n.push(Sn.parse(d))):d.startsWith(r6)?(s.var.push(l),a.push(i6),n.push(d)):(s.number.push(l),a.push($R),n.push(parseFloat(d))),++l,NE)).split(NE);return{values:n,split:h,indexes:s,types:a}}function YR(t){return hh(t).values}function XR(t){const{split:e,types:n}=hh(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const h=n[c];h===$R?l+=Hu(a[c]):h===KR?l+=Sn.transform(a[c]):l+=a[c]}return l}}const o6=t=>typeof t=="number"?0:Sn.test(t)?Sn.getAnimatableNone(t):t;function l6(t){const e=YR(t);return XR(t)(e.map(o6))}const Qa={test:s6,parse:YR,createTransformer:XR,getAnimatableNone:l6};function Uy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function c6({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=Uy(d,h,t+1/3),l=Uy(d,h,t),c=Uy(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function _m(t,e){return n=>n>0?e:t}const tn=(t,e,n)=>t+(e-t)*n,zy=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},u6=[O0,zo,$l],h6=t=>u6.find(e=>e.test(t));function IE(t){const e=h6(t);if(!e)return!1;let n=e.parse(t);return e===$l&&(n=c6(n)),n}const DE=(t,e)=>{const n=IE(t),s=IE(e);if(!n||!s)return _m(t,e);const a={...n};return l=>(a.red=zy(n.red,s.red,l),a.green=zy(n.green,s.green,l),a.blue=zy(n.blue,s.blue,l),a.alpha=tn(n.alpha,s.alpha,l),zo.transform(a))},V0=new Set(["none","hidden"]);function d6(t,e){return V0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function f6(t,e){return n=>tn(t,e,n)}function Ib(t){return typeof t=="number"?f6:typeof t=="string"?Cb(t)?_m:Sn.test(t)?DE:g6:Array.isArray(t)?WR:typeof t=="object"?Sn.test(t)?DE:m6:_m}function WR(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>Ib(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function m6(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=Ib(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function p6(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],h=t.values[c]??0;n[a]=h,s[l]++}return n}const g6=(t,e)=>{const n=Qa.createTransformer(e),s=hh(t),a=hh(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?V0.has(t)&&!a.values.length||V0.has(e)&&!s.values.length?d6(t,e):Bh(WR(p6(s,a),a.values),n):_m(t,e)};function QR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?tn(t,e,n):Ib(t)(t,e)}const y6=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ut.update(e,n),stop:()=>Wa(e),now:()=>Qn.isProcessing?Qn.timestamp:vs.now()}},JR=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Tm=2e4;function Db(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Tm;)e+=n,s=t.next(e);return e>=Tm?1/0:e}function v6(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(Db(s),Tm);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:pi(a)}}const b6=5;function ZR(t,e,n){const s=Math.max(e-b6,0);return DR(n-t(s),e-s)}const un={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},By=.001;function x6({duration:t=un.duration,bounce:e=un.bounce,velocity:n=un.velocity,mass:s=un.mass}){let a,l,c=1-e;c=ur(un.minDamping,un.maxDamping,c),t=ur(un.minDuration,un.maxDuration,pi(t)),c<1?(a=m=>{const g=m*c,b=g*t,x=g-n,A=L0(m,c),I=Math.exp(-b);return By-x/A*I},l=m=>{const b=m*c*t,x=b*n+n,A=Math.pow(c,2)*Math.pow(m,2)*t,I=Math.exp(-b),D=L0(Math.pow(m,2),c);return(-a(m)+By>0?-1:1)*((x-A)*I)/D}):(a=m=>{const g=Math.exp(-m*t),b=(m-n)*t+1;return-By+g*b},l=m=>{const g=Math.exp(-m*t),b=(n-m)*(t*t);return g*b});const h=5/t,d=_6(a,l,h);if(t=Hr(t),isNaN(d))return{stiffness:un.stiffness,damping:un.damping,duration:t};{const m=Math.pow(d,2)*s;return{stiffness:m,damping:c*2*Math.sqrt(s*m),duration:t}}}const w6=12;function _6(t,e,n){let s=n;for(let a=1;a<w6;a++)s=s-t(s)/e(s);return s}function L0(t,e){return t*Math.sqrt(1-e*e)}const T6=["duration","bounce"],E6=["stiffness","damping","mass"];function kE(t,e){return e.some(n=>t[n]!==void 0)}function S6(t){let e={velocity:un.velocity,stiffness:un.stiffness,damping:un.damping,mass:un.mass,isResolvedFromDuration:!1,...t};if(!kE(t,E6)&&kE(t,T6))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*ur(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:un.mass,stiffness:a,damping:l}}else{const n=x6(t);e={...e,...n,mass:un.mass},e.isResolvedFromDuration=!0}return e}function Em(t=un.visualDuration,e=un.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:m,mass:g,duration:b,velocity:x,isResolvedFromDuration:A}=S6({...n,velocity:-pi(n.velocity||0)}),I=x||0,D=m/(2*Math.sqrt(d*g)),R=c-l,j=pi(Math.sqrt(d/g)),q=Math.abs(R)<5;s||(s=q?un.restSpeed.granular:un.restSpeed.default),a||(a=q?un.restDelta.granular:un.restDelta.default);let H;if(D<1){const ie=L0(j,D);H=ue=>{const k=Math.exp(-D*j*ue);return c-k*((I+D*j*R)/ie*Math.sin(ie*ue)+R*Math.cos(ie*ue))}}else if(D===1)H=ie=>c-Math.exp(-j*ie)*(R+(I+j*R)*ie);else{const ie=j*Math.sqrt(D*D-1);H=ue=>{const k=Math.exp(-D*j*ue),C=Math.min(ie*ue,300);return c-k*((I+D*j*R)*Math.sinh(C)+ie*R*Math.cosh(C))/ie}}const ae={calculatedDuration:A&&b||null,next:ie=>{const ue=H(ie);if(A)h.done=ie>=b;else{let k=ie===0?I:0;D<1&&(k=ie===0?Hr(I):ZR(H,ie,ue));const C=Math.abs(k)<=s,P=Math.abs(c-ue)<=a;h.done=C&&P}return h.value=h.done?c:ue,h},toString:()=>{const ie=Math.min(Db(ae),Tm),ue=JR(k=>ae.next(ie*k).value,ie,30);return ie+"ms "+ue},toTransition:()=>{}};return ae}Em.applyToOptions=t=>{const e=v6(t,100,Em);return t.ease=e.ease,t.duration=Hr(e.duration),t.type="keyframes",t};function U0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:d,restDelta:m=.5,restSpeed:g}){const b=t[0],x={done:!1,value:b},A=C=>h!==void 0&&C<h||d!==void 0&&C>d,I=C=>h===void 0?d:d===void 0||Math.abs(h-C)<Math.abs(d-C)?h:d;let D=n*e;const R=b+D,j=c===void 0?R:c(R);j!==R&&(D=j-b);const q=C=>-D*Math.exp(-C/s),H=C=>j+q(C),ae=C=>{const P=q(C),z=H(C);x.done=Math.abs(P)<=m,x.value=x.done?j:z};let ie,ue;const k=C=>{A(x.value)&&(ie=C,ue=Em({keyframes:[x.value,I(x.value)],velocity:ZR(H,C,x.value),damping:a,stiffness:l,restDelta:m,restSpeed:g}))};return k(0),{calculatedDuration:null,next:C=>{let P=!1;return!ue&&ie===void 0&&(P=!0,ae(C),k(C)),ie!==void 0&&C>=ie?ue.next(C-ie):(!P&&ae(C),x)}}}function A6(t,e,n){const s=[],a=n||Wr.mix||QR,l=t.length-1;for(let c=0;c<l;c++){let h=a(t[c],t[c+1]);if(e){const d=Array.isArray(e)?e[c]||yi:e;h=Bh(d,h)}s.push(h)}return s}function C6(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(_b(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=A6(e,s,a),d=h.length,m=g=>{if(c&&g<t[0])return e[0];let b=0;if(d>1)for(;b<t.length-2&&!(g<t[b+1]);b++);const x=ch(t[b],t[b+1],g);return h[b](x)};return n?g=>m(ur(t[0],t[l-1],g)):m}function R6(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=ch(0,e,s);t.push(tn(n,1,a))}}function N6(t){const e=[0];return R6(e,t.length-1),e}function I6(t,e){return t.map(n=>n*e)}function D6(t,e){return t.map(()=>e||zR).splice(0,t.length-1)}function Gu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=FL(s)?s.map(AE):AE(s),l={done:!1,value:e[0]},c=I6(n&&n.length===e.length?n:N6(e),t),h=C6(c,e,{ease:Array.isArray(a)?a:D6(e,a)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const k6=t=>t!==null;function kb(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(k6),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||s===void 0?l[h]:s}const M6={decay:U0,inertia:U0,tween:Gu,keyframes:Gu,spring:Em};function eN(t){typeof t.type=="string"&&(t.type=M6[t.type])}class Mb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const P6=t=>t/100;class Pb extends Mb{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==vs.now()&&this.tick(vs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;eN(e);const{type:n=Gu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:h}=e;const d=n||Gu;d!==Gu&&typeof h[0]!="number"&&(this.mixKeyframes=Bh(P6,QR(h[0],h[1])),h=[0,100]);const m=d({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=Db(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return s.next(0);const{delay:m=0,keyframes:g,repeat:b,repeatType:x,repeatDelay:A,type:I,onUpdate:D,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const j=this.currentTime-m*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?j<0:j>a;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let H=this.currentTime,ae=s;if(b){const C=Math.min(this.currentTime,a)/h;let P=Math.floor(C),z=C%1;!z&&C>=1&&(z=1),z===1&&P--,P=Math.min(P,b+1),P%2&&(x==="reverse"?(z=1-z,A&&(z-=A/h)):x==="mirror"&&(ae=c)),H=ur(0,1,z)*h}const ie=q?{done:!1,value:g[0]}:ae.next(H);l&&(ie.value=l(ie.value));let{done:ue}=ie;!q&&d!==null&&(ue=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return k&&I!==U0&&(ie.value=kb(g,this.options,R,this.speed)),D&&D(ie.value),k&&this.finish(),ie}then(e,n){return this.finished.then(e,n)}get duration(){return pi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+pi(e)}get time(){return pi(this.currentTime)}set time(e){e=Hr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(vs.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=pi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=y6,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(vs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function j6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Bo=t=>t*180/Math.PI,z0=t=>{const e=Bo(Math.atan2(t[1],t[0]));return B0(e)},O6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:z0,rotateZ:z0,skewX:t=>Bo(Math.atan(t[1])),skewY:t=>Bo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},B0=t=>(t=t%360,t<0&&(t+=360),t),ME=z0,PE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),jE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),V6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:PE,scaleY:jE,scale:t=>(PE(t)+jE(t))/2,rotateX:t=>B0(Bo(Math.atan2(t[6],t[5]))),rotateY:t=>B0(Bo(Math.atan2(-t[2],t[0]))),rotateZ:ME,rotate:ME,skewX:t=>Bo(Math.atan(t[4])),skewY:t=>Bo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function F0(t){return t.includes("scale")?1:0}function q0(t,e){if(!t||t==="none")return F0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=V6,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=O6,a=h}if(!a)return F0(e);const l=s[e],c=a[1].split(",").map(U6);return typeof l=="function"?l(c):c[l]}const L6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return q0(n,e)};function U6(t){return parseFloat(t.trim())}const Ec=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sc=new Set(Ec),OE=t=>t===Tc||t===Ce,z6=new Set(["x","y","z"]),B6=Ec.filter(t=>!z6.has(t));function F6(t){const e=[];return B6.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const ja={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>q0(e,"x"),y:(t,{transform:e})=>q0(e,"y")};ja.translateX=ja.x;ja.translateY=ja.y;const Ho=new Set;let H0=!1,G0=!1,$0=!1;function tN(){if(G0){const t=Array.from(Ho).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=F6(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}G0=!1,H0=!1,Ho.forEach(t=>t.complete($0)),Ho.clear()}function nN(){Ho.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(G0=!0)})}function q6(){$0=!0,nN(),tN(),$0=!1}class jb{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ho.add(this),H0||(H0=!0,Ut.read(nN),Ut.resolveKeyframes(tN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const h=s.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}j6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ho.delete(this)}cancel(){this.state==="scheduled"&&(Ho.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const H6=t=>t.startsWith("--");function G6(t,e,n){H6(e)?t.style.setProperty(e,n):t.style[e]=n}const $6=Tb(()=>window.ScrollTimeline!==void 0),K6={};function Y6(t,e){const n=Tb(t);return()=>K6[e]??n()}const sN=Y6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ju=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,VE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ju([0,.65,.55,1]),circOut:ju([.55,0,1,.45]),backIn:ju([.31,.01,.66,-.59]),backOut:ju([.33,1.53,.69,.99])};function iN(t,e){if(t)return typeof t=="function"?sN()?JR(t,e):"ease-out":BR(t)?ju(t):Array.isArray(t)?t.map(n=>iN(n,e)||VE.easeOut):VE[t]}function X6(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:d}={},m=void 0){const g={[e]:n};d&&(g.offset=d);const b=iN(h,a);Array.isArray(b)&&(g.easing=b);const x={delay:s,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(x.pseudoElement=m),t.animate(g,x)}function rN(t){return typeof t=="function"&&"applyToOptions"in t}function W6({type:t,...e}){return rN(t)&&sN()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Q6 extends Mb{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,_b(typeof e.type!="string");const m=W6(e);this.animation=X6(n,s,a,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=kb(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):G6(n,s,g),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return pi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+pi(e)}get time(){return pi(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Hr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&$6()?(this.animation.timeline=e,yi):n(this)}}const aN={anticipate:VR,backInOut:OR,circInOut:UR};function J6(t){return t in aN}function Z6(t){typeof t.ease=="string"&&J6(t.ease)&&(t.ease=aN[t.ease])}const Fy=10;class eU extends Q6{constructor(e){Z6(e),eN(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new Pb({...c,autoplay:!1}),d=Math.max(Fy,vs.now()-this.startTime),m=ur(0,Fy,d-Fy);n.setWithVelocity(h.sample(Math.max(0,d-m)).value,h.sample(d).value,m),h.stop()}}const LE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Qa.test(t)||t==="0")&&!t.startsWith("url("));function tU(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function nU(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=LE(a,e),h=LE(l,e);return!c||!h?!1:tU(t)||(n==="spring"||rN(n))&&s}function K0(t){t.duration=0,t.type="keyframes"}const sU=new Set(["opacity","clipPath","filter","transform"]),iU=Tb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rU(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=e.owner.getProps();return iU()&&n&&sU.has(n)&&(n!=="transform"||!m)&&!d&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const aU=40;class oU extends Mb{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:d,motionValue:m,element:g,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=vs.now();const x={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:d,motionValue:m,element:g,...b},A=g?.KeyframeResolver||jb;this.keyframeResolver=new A(h,(I,D,R)=>this.onKeyframesResolved(I,D,x,!R),d,m,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:d,isHandoff:m,onUpdate:g}=s;this.resolvedAt=vs.now(),nU(e,l,c,h)||((Wr.instantAnimations||!d)&&g?.(kb(e,s,n)),e[0]=e[e.length-1],K0(s),s.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>aU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},A=!m&&rU(x)?new eU({...x,element:x.motionValue.owner.current}):new Pb(x);A.finished.then(()=>this.notifyFinished()).catch(yi),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),q6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const lU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function cU(t){const e=lU.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function oN(t,e,n=1){const[s,a]=cU(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return RR(c)?parseFloat(c):c}return Cb(a)?oN(a,e,n+1):a}function Ob(t,e){return t?.[e]??t?.default??t}const uU={type:"spring",stiffness:500,damping:25,restSpeed:10},hU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),dU={type:"keyframes",duration:.8},fU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mU=(t,{keyframes:e})=>e.length>2?dU:Sc.has(t)?t.startsWith("scale")?hU(e[1]):uU:fU;function pU({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:d,elapsed:m,...g}){return!!Object.keys(g).length}const gU=t=>t!==null;function yU(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(gU),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function lN(t,e,n,s=0,a=1){const l=Array.from(t).sort((m,g)=>m.sortNodePosition(g)).indexOf(e),c=t.size,h=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:h-l*s}const Vb=(t,e,n,s={},a,l)=>c=>{const h=Ob(s,t)||{},d=h.delay||s.delay||0;let{elapsed:m=0}=s;m=m-Hr(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:x=>{e.set(x),h.onUpdate&&h.onUpdate(x)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};pU(h)||Object.assign(g,mU(t,g)),g.duration&&(g.duration=Hr(g.duration)),g.repeatDelay&&(g.repeatDelay=Hr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let b=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(K0(g),g.delay===0&&(b=!0)),(Wr.instantAnimations||Wr.skipAnimations)&&(b=!0,K0(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,b&&!l&&e.get()!==void 0){const x=yU(g.keyframes,h);if(x!==void 0){Ut.update(()=>{g.onUpdate(x),g.onComplete()});return}}return h.isSync?new Pb(g):new oU(g)},cN=new Set(["width","height","top","left","right","bottom",...Ec]),UE=30,vU=t=>!isNaN(parseFloat(t));class bU{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=vs.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=vs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=vU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Eb);const s=this.events[e].add(n);return e==="change"?()=>{s(),Ut.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=vs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>UE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,UE);return DR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fc(t,e){return new bU(t,e)}function zE(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Lb(t,e,n,s){if(typeof e=="function"){const[a,l]=zE(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=zE(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function nc(t,e,n){const s=t.getProps();return Lb(s,e,n!==void 0?n:s.custom,t)}const Y0=t=>Array.isArray(t);function xU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,fc(n))}function wU(t){return Y0(t)?t[t.length-1]||0:t}function _U(t,e){const n=nc(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const h=wU(l[c]);xU(t,c,h)}}const ls=t=>!!(t&&t.getVelocity);function TU(t){return!!(ls(t)&&t.add)}function X0(t,e){const n=t.getValue("willChange");if(TU(n))return n.add(e);if(!n&&Wr.WillChange){const s=new Wr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function Ub(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const EU="framerAppearId",uN="data-"+Ub(EU);function hN(t){return t.props[uN]}function SU({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function dN(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...h}=e;s&&(l=s);const d=[],m=a&&t.animationState&&t.animationState.getState()[a];for(const g in h){const b=t.getValue(g,t.latestValues[g]??null),x=h[g];if(x===void 0||m&&SU(m,g))continue;const A={delay:n,...Ob(l||{},g)},I=b.get();if(I!==void 0&&!b.isAnimating&&!Array.isArray(x)&&x===I&&!A.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const j=hN(t);if(j){const q=window.MotionHandoffAnimation(j,g,Ut);q!==null&&(A.startTime=q,D=!0)}}X0(t,g),b.start(Vb(g,b,x,t.shouldReduceMotion&&cN.has(g)?{type:!1}:A,t,D));const R=b.animation;R&&d.push(R)}return c&&Promise.all(d).then(()=>{Ut.update(()=>{c&&_U(t,c)})}),d}function W0(t,e,n={}){const s=nc(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(dN(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:b}=a;return AU(t,e,d,m,g,b,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,m]=h==="beforeChildren"?[l,c]:[c,l];return d().then(()=>m())}else return Promise.all([l(),c(n.delay)])}function AU(t,e,n=0,s=0,a=0,l=1,c){const h=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),h.push(W0(d,e,{...c,delay:n+(typeof s=="function"?0:s)+lN(t.variantChildren,d,s,a,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function CU(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>W0(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=W0(t,e,n);else{const a=typeof e=="function"?nc(t,e,n.custom):e;s=Promise.all(dN(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const RU={test:t=>t==="auto",parse:t=>t},fN=t=>e=>e.test(t),mN=[Tc,Ce,rr,ka,t6,e6,RU],BE=t=>mN.find(fN(t));function NU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||IR(t):!0}const IU=new Set(["brightness","contrast","saturate","opacity"]);function DU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Rb)||[];if(!s)return t;const a=n.replace(s,"");let l=IU.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const kU=/\b([a-z-]*)\(.*?\)/gu,Q0={...Qa,getAnimatableNone:t=>{const e=t.match(kU);return e?e.map(DU).join(" "):t}},FE={...Tc,transform:Math.round},MU={rotate:ka,rotateX:ka,rotateY:ka,rotateZ:ka,scale:Tf,scaleX:Tf,scaleY:Tf,scaleZ:Tf,skew:ka,skewX:ka,skewY:ka,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:uh,originX:RE,originY:RE,originZ:Ce},zb={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,inset:Ce,insetBlock:Ce,insetBlockStart:Ce,insetBlockEnd:Ce,insetInline:Ce,insetInlineStart:Ce,insetInlineEnd:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,paddingBlock:Ce,paddingBlockStart:Ce,paddingBlockEnd:Ce,paddingInline:Ce,paddingInlineStart:Ce,paddingInlineEnd:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,marginBlock:Ce,marginBlockStart:Ce,marginBlockEnd:Ce,marginInline:Ce,marginInlineStart:Ce,marginInlineEnd:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce,...MU,zIndex:FE,fillOpacity:uh,strokeOpacity:uh,numOctaves:FE},PU={...zb,color:Sn,backgroundColor:Sn,outlineColor:Sn,fill:Sn,stroke:Sn,borderColor:Sn,borderTopColor:Sn,borderRightColor:Sn,borderBottomColor:Sn,borderLeftColor:Sn,filter:Q0,WebkitFilter:Q0},pN=t=>PU[t];function gN(t,e){let n=pN(t);return n!==Q0&&(n=Qa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const jU=new Set(["auto","none","0"]);function OU(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!jU.has(l)&&hh(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=gN(n,a)}class VU extends jb{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let b=e[g];if(typeof b=="string"&&(b=b.trim(),Cb(b))){const x=oN(b,n.current);x!==void 0&&(e[g]=x),g===e.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!cN.has(s)||e.length!==2)return;const[a,l]=e,c=BE(a),h=BE(l),d=CE(a),m=CE(l);if(d!==m&&ja[s]){this.needsMeasurement=!0;return}if(c!==h)if(OE(c)&&OE(h))for(let g=0;g<e.length;g++){const b=e[g];typeof b=="string"&&(e[g]=parseFloat(b))}else ja[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||NU(e[a]))&&s.push(a);s.length&&OU(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ja[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=ja[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function LU(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const yN=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function vN(t){return NR(t)&&"offsetHeight"in t}const{schedule:Bb}=FR(queueMicrotask,!1),Di={x:!1,y:!1};function bN(){return Di.x||Di.y}function UU(t){return t==="x"||t==="y"?Di[t]?null:(Di[t]=!0,()=>{Di[t]=!1}):Di.x||Di.y?null:(Di.x=Di.y=!0,()=>{Di.x=Di.y=!1})}function xN(t,e){const n=LU(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function qE(t){return!(t.pointerType==="touch"||bN())}function zU(t,e,n={}){const[s,a,l]=xN(t,n),c=h=>{if(!qE(h))return;const{target:d}=h,m=e(d,h);if(typeof m!="function"||!d)return;const g=b=>{qE(b)&&(m(b),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,a)};return s.forEach(h=>{h.addEventListener("pointerenter",c,a)}),l}const wN=(t,e)=>e?t===e?!0:wN(t,e.parentElement):!1,Fb=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,BU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _N(t){return BU.has(t.tagName)||t.isContentEditable===!0}const $f=new WeakSet;function HE(t){return e=>{e.key==="Enter"&&t(e)}}function qy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const FU=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=HE(()=>{if($f.has(n))return;qy(n,"down");const a=HE(()=>{qy(n,"up")}),l=()=>qy(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function GE(t){return Fb(t)&&!bN()}function qU(t,e,n={}){const[s,a,l]=xN(t,n),c=h=>{const d=h.currentTarget;if(!GE(h))return;$f.add(d);const m=e(d,h),g=(A,I)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",x),$f.has(d)&&$f.delete(d),GE(A)&&typeof m=="function"&&m(A,{success:I})},b=A=>{g(A,d===window||d===document||n.useGlobalTarget||wN(d,A.target))},x=A=>{g(A,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",x,a)};return s.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),vN(h)&&(h.addEventListener("focus",m=>FU(m,a)),!_N(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function TN(t){return NR(t)&&"ownerSVGElement"in t}function HU(t){return TN(t)&&t.tagName==="svg"}const GU=[...mN,Sn,Qa],$U=t=>GU.find(fN(t)),$E=()=>({translate:0,scale:1,origin:0,originPoint:0}),Kl=()=>({x:$E(),y:$E()}),KE=()=>({min:0,max:0}),Dn=()=>({x:KE(),y:KE()}),J0={current:null},EN={current:!1},KU=typeof window<"u";function YU(){if(EN.current=!0,!!KU)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>J0.current=t.matches;t.addEventListener("change",e),e()}else J0.current=!1}const XU=new WeakMap;function dp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function dh(t){return typeof t=="string"||Array.isArray(t)}const qb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hb=["initial",...qb];function fp(t){return dp(t.animate)||Hb.some(e=>dh(t[e]))}function SN(t){return!!(fp(t)||t.variants)}function WU(t,e,n){for(const s in e){const a=e[s],l=n[s];if(ls(a))t.addValue(s,a);else if(ls(l))t.addValue(s,fc(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,fc(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const YE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Sm={};function AN(t){Sm=t}function QU(){return Sm}class JU{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=vs.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Ut.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=fp(n),this.isVariantNode=SN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in b){const A=b[x];d[x]!==void 0&&ls(A)&&A.set(d[x])}}mount(e){this.current=e,XU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(EN.current||YU(),this.shouldReduceMotion=J0.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Wa(this.notifyUpdate),Wa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Sc.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Ut.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Sm){const n=Sm[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Dn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<YE.length;s++){const a=YE[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=WU(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=fc(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(RR(s)||IR(s))?s=parseFloat(s):!$U(s)&&Qa.test(n)&&(s=gN(e,n)),this.setBaseTarget(e,ls(s)?s.get():s)),ls(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=Lb(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!ls(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Eb),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Bb.render(this.render)}}class no{constructor(e){this.isMounted=!1,this.node=e}update(){}}class CN extends JU{constructor(){super(...arguments),this.KeyframeResolver=VU}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ls(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function RN({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function ZU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function e9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Hy(t){return t===void 0||t===1}function Z0({scale:t,scaleX:e,scaleY:n}){return!Hy(t)||!Hy(e)||!Hy(n)}function Vo(t){return Z0(t)||NN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function NN(t){return XE(t.x)||XE(t.y)}function XE(t){return t&&t!=="0%"}function Am(t,e,n){const s=t-n,a=e*s;return n+a}function WE(t,e,n,s,a){return a!==void 0&&(t=Am(t,a,s)),Am(t,n,s)+e}function ev(t,e=0,n=1,s,a){t.min=WE(t.min,e,n,s,a),t.max=WE(t.max,e,n,s,a)}function IN(t,{x:e,y:n}){ev(t.x,e.translate,e.scale,e.originPoint),ev(t.y,n.translate,n.scale,n.originPoint)}const QE=.999999999999,JE=1.0000000000001;function t9(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let h=0;h<a;h++){l=n[h],c=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Xl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,IN(t,c)),s&&Vo(l.latestValues)&&Xl(t,l.latestValues))}e.x<JE&&e.x>QE&&(e.x=1),e.y<JE&&e.y>QE&&(e.y=1)}function Yl(t,e){t.min=t.min+e,t.max=t.max+e}function ZE(t,e,n,s,a=.5){const l=tn(t.min,t.max,a);ev(t,e,n,l,s)}function Xl(t,e){ZE(t.x,e.x,e.scaleX,e.scale,e.originX),ZE(t.y,e.y,e.scaleY,e.scale,e.originY)}function DN(t,e){return RN(e9(t.getBoundingClientRect(),e))}function n9(t,e,n){const s=DN(t,n),{scroll:a}=e;return a&&(Yl(s.x,a.offset.x),Yl(s.y,a.offset.y)),s}const s9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},i9=Ec.length;function r9(t,e,n){let s="",a=!0;for(let l=0;l<i9;l++){const c=Ec[l],h=t[c];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(c.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const m=yN(h,zb[c]);if(!d){a=!1;const g=s9[c]||c;s+=`${g}(${m}) `}n&&(e[c]=m)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function Gb(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,h=!1;for(const d in e){const m=e[d];if(Sc.has(d)){c=!0;continue}else if(HR(d)){a[d]=m;continue}else{const g=yN(m,zb[d]);d.startsWith("origin")?(h=!0,l[d]=g):s[d]=g}}if(e.transform||(c||n?s.transform=r9(e,t.transform,n):s.transform&&(s.transform="none")),h){const{originX:d="50%",originY:m="50%",originZ:g=0}=l;s.transformOrigin=`${d} ${m} ${g}`}}function kN(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function eS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Au={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ce.test(t))t=parseFloat(t);else return t;const n=eS(t,e.target.x),s=eS(t,e.target.y);return`${n}% ${s}%`}},a9={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Qa.parse(t);if(a.length>5)return s;const l=Qa.createTransformer(t),c=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+c]/=h,a[1+c]/=d;const m=tn(h,d,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),l(a)}},tv={borderRadius:{...Au,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Au,borderTopRightRadius:Au,borderBottomLeftRadius:Au,borderBottomRightRadius:Au,boxShadow:a9};function MN(t,{layout:e,layoutId:n}){return Sc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!tv[t]||t==="opacity")}function $b(t,e,n){const s=t.style,a=e?.style,l={};if(!s)return l;for(const c in s)(ls(s[c])||a&&ls(a[c])||MN(c,t)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=s[c]);return l}function o9(t){return window.getComputedStyle(t)}class l9 extends CN{constructor(){super(...arguments),this.type="html",this.renderInstance=kN}readValueFromInstance(e,n){if(Sc.has(n))return this.projection?.isProjecting?F0(n):L6(e,n);{const s=o9(e),a=(HR(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return DN(e,n)}build(e,n,s){Gb(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return $b(e,n,s)}}const c9={offset:"stroke-dashoffset",array:"stroke-dasharray"},u9={offset:"strokeDashoffset",array:"strokeDasharray"};function h9(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?c9:u9;t[l.offset]=Ce.transform(-s);const c=Ce.transform(e),h=Ce.transform(n);t[l.array]=`${c} ${h}`}const d9=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function PN(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},d,m,g){if(Gb(t,h,m),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:x}=t;b.transform&&(x.transform=b.transform,delete b.transform),(x.transform||b.transformOrigin)&&(x.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),x.transform&&(x.transformBox=g?.transformBox??"fill-box",delete b.transformBox);for(const A of d9)b[A]!==void 0&&(x[A]=b[A],delete b[A]);e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),s!==void 0&&(b.scale=s),a!==void 0&&h9(b,a,l,c,!1)}const jN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),ON=t=>typeof t=="string"&&t.toLowerCase()==="svg";function f9(t,e,n,s){kN(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(jN.has(a)?a:Ub(a),e.attrs[a])}function VN(t,e,n){const s=$b(t,e,n);for(const a in t)if(ls(t[a])||ls(e[a])){const l=Ec.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}class m9 extends CN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Dn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Sc.has(n)){const s=pN(n);return s&&s.default||0}return n=jN.has(n)?n:Ub(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return VN(e,n,s)}build(e,n,s){PN(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){f9(e,n,s,a)}mount(e){this.isSVGTag=ON(e.tagName),super.mount(e)}}const p9=Hb.length;function LN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?LN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<p9;n++){const s=Hb[n],a=t.props[s];(dh(a)||a===!1)&&(e[s]=a)}return e}function UN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const g9=[...qb].reverse(),y9=qb.length;function v9(t){return e=>Promise.all(e.map(({animation:n,options:s})=>CU(t,n,s)))}function b9(t){let e=v9(t),n=tS(),s=!0;const a=d=>(m,g)=>{const b=nc(t,g,d==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:x,transitionEnd:A,...I}=b;m={...m,...I,...A}}return m};function l(d){e=d(t)}function c(d){const{props:m}=t,g=LN(t.parent)||{},b=[],x=new Set;let A={},I=1/0;for(let R=0;R<y9;R++){const j=g9[R],q=n[j],H=m[j]!==void 0?m[j]:g[j],ae=dh(H),ie=j===d?q.isActive:null;ie===!1&&(I=R);let ue=H===g[j]&&H!==m[j]&&ae;if(ue&&s&&t.manuallyAnimateOnMount&&(ue=!1),q.protectedKeys={...A},!q.isActive&&ie===null||!H&&!q.prevProp||dp(H)||typeof H=="boolean")continue;const k=x9(q.prevProp,H);let C=k||j===d&&q.isActive&&!ue&&ae||R>I&&ae,P=!1;const z=Array.isArray(H)?H:[H];let B=z.reduce(a(j),{});ie===!1&&(B={});const{prevResolvedValues:V={}}=q,O={...V,...B},we=W=>{C=!0,x.has(W)&&(P=!0,x.delete(W)),q.needsAnimating[W]=!0;const $=t.getValue(W);$&&($.liveStyle=!1)};for(const W in O){const $=B[W],Y=V[W];if(A.hasOwnProperty(W))continue;let L=!1;Y0($)&&Y0(Y)?L=!UN($,Y):L=$!==Y,L?$!=null?we(W):x.add(W):$!==void 0&&x.has(W)?we(W):q.protectedKeys[W]=!0}q.prevProp=H,q.prevResolvedValues=B,q.isActive&&(A={...A,...B}),s&&t.blockInitialAnimation&&(C=!1);const xe=ue&&k;C&&(!xe||P)&&b.push(...z.map(W=>{const $={type:j};if(typeof W=="string"&&s&&!xe&&t.manuallyAnimateOnMount&&t.parent){const{parent:Y}=t,L=nc(Y,W);if(Y.enteringChildren&&L){const{delayChildren:T}=L.transition||{};$.delay=lN(Y.enteringChildren,t,T)}}return{animation:W,options:$}}))}if(x.size){const R={};if(typeof m.initial!="boolean"){const j=nc(t,Array.isArray(m.initial)?m.initial[0]:m.initial);j&&j.transition&&(R.transition=j.transition)}x.forEach(j=>{const q=t.getBaseTarget(j),H=t.getValue(j);H&&(H.liveStyle=!0),R[j]=q??null}),b.push({animation:R})}let D=!!b.length;return s&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(D=!1),s=!1,D?e(b):Promise.resolve()}function h(d,m){if(n[d].isActive===m)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(d,m)),n[d].isActive=m;const g=c(d);for(const b in n)n[b].protectedKeys={};return g}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=tS()}}}function x9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!UN(e,t):!1}function ko(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tS(){return{animate:ko(!0),whileInView:ko(),whileHover:ko(),whileTap:ko(),whileDrag:ko(),whileFocus:ko(),exit:ko()}}const zN=1e-4,w9=1-zN,_9=1+zN,BN=.01,T9=0-BN,E9=0+BN;function bs(t){return t.max-t.min}function S9(t,e,n){return Math.abs(t-e)<=n}function nS(t,e,n,s=.5){t.origin=s,t.originPoint=tn(e.min,e.max,t.origin),t.scale=bs(n)/bs(e),t.translate=tn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=w9&&t.scale<=_9||isNaN(t.scale))&&(t.scale=1),(t.translate>=T9&&t.translate<=E9||isNaN(t.translate))&&(t.translate=0)}function $u(t,e,n,s){nS(t.x,e.x,n.x,s?s.originX:void 0),nS(t.y,e.y,n.y,s?s.originY:void 0)}function sS(t,e,n){t.min=n.min+e.min,t.max=t.min+bs(e)}function A9(t,e,n){sS(t.x,e.x,n.x),sS(t.y,e.y,n.y)}function iS(t,e,n){t.min=e.min-n.min,t.max=t.min+bs(e)}function Cm(t,e,n){iS(t.x,e.x,n.x),iS(t.y,e.y,n.y)}function rS(t,e,n,s,a){return t-=e,t=Am(t,1/n,s),a!==void 0&&(t=Am(t,1/a,s)),t}function C9(t,e=0,n=1,s=.5,a,l=t,c=t){if(rr.test(e)&&(e=parseFloat(e),e=tn(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=tn(l.min,l.max,s);t===l&&(h-=e),t.min=rS(t.min,e,n,h,a),t.max=rS(t.max,e,n,h,a)}function aS(t,e,[n,s,a],l,c){C9(t,e[n],e[s],e[a],e.scale,l,c)}const R9=["x","scaleX","originX"],N9=["y","scaleY","originY"];function oS(t,e,n,s){aS(t.x,e,R9,n?n.x:void 0,s?s.x:void 0),aS(t.y,e,N9,n?n.y:void 0,s?s.y:void 0)}function lS(t,e){t.min=e.min,t.max=e.max}function Ii(t,e){lS(t.x,e.x),lS(t.y,e.y)}function cS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function uS(t){return t.translate===0&&t.scale===1}function FN(t){return uS(t.x)&&uS(t.y)}function hS(t,e){return t.min===e.min&&t.max===e.max}function I9(t,e){return hS(t.x,e.x)&&hS(t.y,e.y)}function dS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function qN(t,e){return dS(t.x,e.x)&&dS(t.y,e.y)}function fS(t){return bs(t.x)/bs(t.y)}function mS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function ci(t){return[t("x"),t("y")]}function D9(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:b,rotateY:x,skewX:A,skewY:I}=n;m&&(s=`perspective(${m}px) ${s}`),g&&(s+=`rotate(${g}deg) `),b&&(s+=`rotateX(${b}deg) `),x&&(s+=`rotateY(${x}deg) `),A&&(s+=`skewX(${A}deg) `),I&&(s+=`skewY(${I}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(s+=`scale(${h}, ${d})`),s||"none"}const HN=["TopLeft","TopRight","BottomLeft","BottomRight"],k9=HN.length,pS=t=>typeof t=="string"?parseFloat(t):t,gS=t=>typeof t=="number"||Ce.test(t);function M9(t,e,n,s,a,l){a?(t.opacity=tn(0,n.opacity??1,P9(s)),t.opacityExit=tn(e.opacity??1,0,j9(s))):l&&(t.opacity=tn(e.opacity??1,n.opacity??1,s));for(let c=0;c<k9;c++){const h=`border${HN[c]}Radius`;let d=yS(e,h),m=yS(n,h);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||gS(d)===gS(m)?(t[h]=Math.max(tn(pS(d),pS(m),s),0),(rr.test(m)||rr.test(d))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=tn(e.rotate||0,n.rotate||0,s))}function yS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const P9=GN(0,.5,LR),j9=GN(.5,.95,yi);function GN(t,e,n){return s=>s<t?0:s>e?1:n(ch(t,e,s))}function O9(t,e){const n=vs.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Wa(s),t(l-e))};return Ut.setup(s,!0),()=>Wa(s)}function fh(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Kf(t){return ls(t)?t.get():t}function V9(t,e,n){const s=ls(t)?t:fc(t);return s.start(Vb("",s,e,n)),s.animation}const L9=(t,e)=>t.depth-e.depth;class U9{constructor(){this.children=[],this.isDirty=!1}add(e){xb(this.children,e),this.isDirty=!0}remove(e){wb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(L9),this.isDirty=!1,this.children.forEach(e)}}class z9{constructor(){this.members=[]}add(e){xb(this.members,e),e.scheduleRender()}remove(e){if(wb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Yf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Gy=["","X","Y","Z"],B9=1e3;let F9=0;function $y(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function $N(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=hN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ut,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&$N(s)}function KN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},h=e?.()){this.id=F9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(G9),this.nodes.forEach(X9),this.nodes.forEach(W9),this.nodes.forEach($9)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new U9)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Eb),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const d=this.eventHandlers.get(c);d&&d.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=TN(c)&&!HU(c),this.instance=c;const{layoutId:h,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let g,b=0;const x=()=>this.root.updateBlockedByResize=!1;Ut.read(()=>{b=window.innerWidth}),t(c,()=>{const A=window.innerWidth;A!==b&&(b=A,this.root.updateBlockedByResize=!0,g&&g(),g=O9(x,250),Yf.hasAnimatedSinceResize&&(Yf.hasAnimatedSinceResize=!1,this.nodes.forEach(xS)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:b,hasRelativeLayoutChanged:x,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||m.getDefaultTransition()||tz,{onLayoutAnimationStart:D,onLayoutAnimationComplete:R}=m.getProps(),j=!this.targetLayout||!qN(this.targetLayout,A),q=!b&&x;if(this.options.layoutRoot||this.resumeFrom||q||b&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const H={...Ob(I,"layout"),onPlay:D,onComplete:R};(m.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H),this.setAnimationOrigin(g,q)}else b||xS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Wa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Q9),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$N(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const b=this.path[g];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(bS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Y9),this.nodes.forEach(q9),this.nodes.forEach(H9)):this.nodes.forEach(bS),this.clearAllSnapshots();const h=vs.now();Qn.delta=ur(0,1e3/60,h-Qn.timestamp),Qn.timestamp=h,Qn.isProcessing=!0,Vy.update.process(Qn),Vy.preRender.process(Qn),Vy.render.process(Qn),Qn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Bb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(K9),this.sharedNodes.forEach(J9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!bs(this.snapshot.measuredBox.x)&&!bs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Dn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!FN(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&this.instance&&(h||Vo(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return c&&(d=this.removeTransform(d)),nz(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Dn();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(sz))){const{scroll:m}=this.root;m&&(Yl(h.x,m.offset.x),Yl(h.y,m.offset.y))}return h}removeElementScroll(c){const h=Dn();if(Ii(h,c),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:g,options:b}=m;m!==this.root&&g&&b.layoutScroll&&(g.wasRoot&&Ii(h,c),Yl(h.x,g.offset.x),Yl(h.y,g.offset.y))}return h}applyTransform(c,h=!1){const d=Dn();Ii(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Xl(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Vo(g.latestValues)&&Xl(d,g.latestValues)}return Vo(this.latestValues)&&Xl(d,this.latestValues),d}removeTransform(c){const h=Dn();Ii(h,c);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!Vo(m.latestValues))continue;Z0(m.latestValues)&&m.updateSnapshot();const g=Dn(),b=m.measurePageBox();Ii(g,b),oS(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Vo(this.latestValues)&&oS(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:b}=this.options;if(!this.layout||!(g||b))return;this.resolvedRelativeTargetAt=Qn.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Dn(),this.targetWithTransforms=Dn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),A9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ii(this.target,this.layout.layoutBox),IN(this.target,this.targetDelta)):Ii(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Z0(this.parent.latestValues)||NN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,d){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dn(),this.relativeTargetOrigin=Dn(),Cm(this.relativeTargetOrigin,h,d),Ii(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Qn.timestamp&&(d=!1),d)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Ii(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,x=this.treeScale.y;t9(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Dn());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(cS(this.prevProjectionDelta.x,this.projectionDelta.x),cS(this.prevProjectionDelta.y,this.projectionDelta.y)),$u(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==x||!mS(this.projectionDelta.x,this.prevProjectionDelta.x)||!mS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Kl(),this.projectionDelta=Kl(),this.projectionDeltaWithTransform=Kl()}setAnimationOrigin(c,h=!1){const d=this.snapshot,m=d?d.latestValues:{},g={...this.latestValues},b=Kl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const x=Dn(),A=d?d.source:void 0,I=this.layout?this.layout.source:void 0,D=A!==I,R=this.getStack(),j=!R||R.members.length<=1,q=!!(D&&!j&&this.options.crossfade===!0&&!this.path.some(ez));this.animationProgress=0;let H;this.mixTargetDelta=ae=>{const ie=ae/1e3;wS(b.x,c.x,ie),wS(b.y,c.y,ie),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Cm(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Z9(this.relativeTarget,this.relativeTargetOrigin,x,ie),H&&I9(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=Dn()),Ii(H,this.relativeTarget)),D&&(this.animationValues=g,M9(g,m,this.latestValues,ie,q,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ie},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Wa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ut.update(()=>{Yf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=fc(0)),this.currentAnimation=V9(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(B9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:d,layout:m,latestValues:g}=c;if(!(!h||!d||!m)){if(this!==c&&this.layout&&m&&YN(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||Dn();const b=bs(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+b;const x=bs(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+x}Ii(h,d),Xl(h,g),$u(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new z9),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const m={};d.z&&$y("z",c,m,this.animationValues);for(let g=0;g<Gy.length;g++)$y(`rotate${Gy[g]}`,c,m,this.animationValues),$y(`skew${Gy[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Kf(h?.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Kf(h?.pointerEvents)||""),this.hasProjected&&!Vo(this.latestValues)&&(c.transform=d?d({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let b=D9(this.projectionDeltaWithTransform,this.treeScale,g);d&&(b=d(g,b)),c.transform=b;const{x,y:A}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${A.origin*100}% 0`,m.animationValues?c.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const I in tv){if(g[I]===void 0)continue;const{correct:D,applyTo:R,isCSSVariable:j}=tv[I],q=b==="none"?g[I]:D(g[I],m);if(R){const H=R.length;for(let ae=0;ae<H;ae++)c[R[ae]]=q}else j?this.options.visualElement.renderState.vars[I]=q:c[I]=q}this.options.layoutId&&(c.pointerEvents=m===this?Kf(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(vS),this.root.sharedNodes.clear()}}}function q9(t){t.updateLayout()}function H9(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ci(g=>{const b=l?e.measuredBox[g]:e.layoutBox[g],x=bs(b);b.min=n[g].min,b.max=b.min+x}):YN(a,e.layoutBox,n)&&ci(g=>{const b=l?e.measuredBox[g]:e.layoutBox[g],x=bs(n[g]);b.max=b.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+x)});const c=Kl();$u(c,n,e.layoutBox);const h=Kl();l?$u(h,t.applyTransform(s,!0),e.measuredBox):$u(h,n,e.layoutBox);const d=!FN(c);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:b,layout:x}=g;if(b&&x){const A=Dn();Cm(A,e.layoutBox,b.layoutBox);const I=Dn();Cm(I,n,x.layoutBox),qN(A,I)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=A,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function G9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function $9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function K9(t){t.clearSnapshot()}function vS(t){t.clearMeasurements()}function bS(t){t.isLayoutDirty=!1}function Y9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function xS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function X9(t){t.resolveTargetDelta()}function W9(t){t.calcProjection()}function Q9(t){t.resetSkewAndRotation()}function J9(t){t.removeLeadSnapshot()}function wS(t,e,n){t.translate=tn(e.translate,0,n),t.scale=tn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function _S(t,e,n,s){t.min=tn(e.min,n.min,s),t.max=tn(e.max,n.max,s)}function Z9(t,e,n,s){_S(t.x,e.x,n.x,s),_S(t.y,e.y,n.y,s)}function ez(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const tz={duration:.45,ease:[.4,0,.1,1]},TS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ES=TS("applewebkit/")&&!TS("chrome/")?Math.round:yi;function SS(t){t.min=ES(t.min),t.max=ES(t.max)}function nz(t){SS(t.x),SS(t.y)}function YN(t,e,n){return t==="position"||t==="preserve-aspect"&&!S9(fS(e),fS(n),.2)}function sz(t){return t!==t.root&&t.scroll?.wasRoot}const iz=KN({attachResizeListener:(t,e)=>fh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ky={current:void 0},XN=KN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ky.current){const t=new iz({});t.mount(window),t.setOptions({layoutScroll:!0}),Ky.current=t}return Ky.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Kb=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function AS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function rz(...t){return e=>{let n=!1;const s=t.map(a=>{const l=AS(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():AS(t[a],null)}}}}function az(...t){return S.useCallback(rz(...t),t)}class oz extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=vN(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function lz({children:t,isPresent:e,anchorX:n,root:s}){const a=S.useId(),l=S.useRef(null),c=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=S.useContext(Kb),d=t.props?.ref??t?.ref,m=az(l,d);return S.useInsertionEffect(()=>{const{width:g,height:b,top:x,left:A,right:I}=c.current;if(e||!l.current||!g||!b)return;const D=n==="left"?`left: ${A}`:`right: ${I}`;l.current.dataset.motionPopId=a;const R=document.createElement("style");h&&(R.nonce=h);const j=s??document.head;return j.appendChild(R),R.sheet&&R.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${b}px !important;
            ${D}px !important;
            top: ${x}px !important;
          }
        `),()=>{j.contains(R)&&j.removeChild(R)}},[e]),y.jsx(oz,{isPresent:e,childRef:l,sizeRef:c,children:S.cloneElement(t,{ref:m})})}const cz=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:h,root:d})=>{const m=bb(uz),g=S.useId();let b=!0,x=S.useMemo(()=>(b=!1,{id:g,initial:e,isPresent:n,custom:a,onExitComplete:A=>{m.set(A,!0);for(const I of m.values())if(!I)return;s&&s()},register:A=>(m.set(A,!1),()=>m.delete(A))}),[n,m,s]);return l&&b&&(x={...x}),S.useMemo(()=>{m.forEach((A,I)=>m.set(I,!1))},[n]),S.useEffect(()=>{!n&&!m.size&&s&&s()},[n]),c==="popLayout"&&(t=y.jsx(lz,{isPresent:n,anchorX:h,root:d,children:t})),y.jsx(hp.Provider,{value:x,children:t})};function uz(){return new Map}function WN(t=!0){const e=S.useContext(hp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=S.useId();S.useEffect(()=>{if(t)return a(l)},[t]);const c=S.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const Ef=t=>t.key||"";function CS(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const fi=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",root:d})=>{const[m,g]=WN(c),b=S.useMemo(()=>CS(t),[t]),x=c&&!m?[]:b.map(Ef),A=S.useRef(!0),I=S.useRef(b),D=bb(()=>new Map),R=S.useRef(new Set),[j,q]=S.useState(b),[H,ae]=S.useState(b);CR(()=>{A.current=!1,I.current=b;for(let k=0;k<H.length;k++){const C=Ef(H[k]);x.includes(C)?(D.delete(C),R.current.delete(C)):D.get(C)!==!0&&D.set(C,!1)}},[H,x.length,x.join("-")]);const ie=[];if(b!==j){let k=[...b];for(let C=0;C<H.length;C++){const P=H[C],z=Ef(P);x.includes(z)||(k.splice(C,0,P),ie.push(P))}return l==="wait"&&ie.length&&(k=ie),ae(CS(k)),q(b),null}const{forceRender:ue}=S.useContext(vb);return y.jsx(y.Fragment,{children:H.map(k=>{const C=Ef(k),P=c&&!m?!1:b===H||x.includes(C),z=()=>{if(R.current.has(C))return;if(R.current.add(C),D.has(C))D.set(C,!0);else return;let B=!0;D.forEach(V=>{V||(B=!1)}),B&&(ue?.(),ae(I.current),c&&g?.(),s&&s())};return y.jsx(cz,{isPresent:P,initial:!A.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:P?void 0:z,anchorX:h,children:k},C)})})},QN=S.createContext({strict:!1}),RS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let NS=!1;function hz(){if(NS)return;const t={};for(const e in RS)t[e]={isEnabled:n=>RS[e].some(s=>!!n[s])};AN(t),NS=!0}function JN(){return hz(),QU()}function dz(t){const e=JN();for(const n in t)e[n]={...e[n],...t[n]};AN(e)}const fz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Rm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||fz.has(t)}let ZN=t=>!Rm(t);function mz(t){typeof t=="function"&&(ZN=e=>e.startsWith("on")?!Rm(e):t(e))}try{mz(require("@emotion/is-prop-valid").default)}catch{}function pz(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(ZN(a)||n===!0&&Rm(a)||!e&&!Rm(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const mp=S.createContext({});function gz(t,e){if(fp(t)){const{initial:n,animate:s}=t;return{initial:n===!1||dh(n)?n:void 0,animate:dh(s)?s:void 0}}return t.inherit!==!1?e:{}}function yz(t){const{initial:e,animate:n}=gz(t,S.useContext(mp));return S.useMemo(()=>({initial:e,animate:n}),[IS(e),IS(n)])}function IS(t){return Array.isArray(t)?t.join(" "):t}const Yb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function eI(t,e,n){for(const s in e)!ls(e[s])&&!MN(s,n)&&(t[s]=e[s])}function vz({transformTemplate:t},e){return S.useMemo(()=>{const n=Yb();return Gb(n,e,t),Object.assign({},n.vars,n.style)},[e])}function bz(t,e){const n=t.style||{},s={};return eI(s,n,t),Object.assign(s,vz(t,e)),s}function xz(t,e){const n={},s=bz(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const tI=()=>({...Yb(),attrs:{}});function wz(t,e,n,s){const a=S.useMemo(()=>{const l=tI();return PN(l,e,ON(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};eI(l,t.style,t),a.style={...l,...a.style}}return a}const _z=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xb(t){return typeof t!="string"||t.includes("-")?!1:!!(_z.indexOf(t)>-1||/[A-Z]/u.test(t))}function Tz(t,e,n,{latestValues:s},a,l=!1,c){const d=(c??Xb(t)?wz:xz)(e,s,a,t),m=pz(e,typeof t=="string",l),g=t!==S.Fragment?{...m,...d,ref:n}:{},{children:b}=e,x=S.useMemo(()=>ls(b)?b.get():b,[b]);return S.createElement(t,{...g,children:x})}function Ez({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:Sz(n,s,a,t),renderState:e()}}function Sz(t,e,n,s){const a={},l=s(t,{});for(const x in l)a[x]=Kf(l[x]);let{initial:c,animate:h}=t;const d=fp(t),m=SN(t);e&&m&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const b=g?h:c;if(b&&typeof b!="boolean"&&!dp(b)){const x=Array.isArray(b)?b:[b];for(let A=0;A<x.length;A++){const I=Lb(t,x[A]);if(I){const{transitionEnd:D,transition:R,...j}=I;for(const q in j){let H=j[q];if(Array.isArray(H)){const ae=g?H.length-1:0;H=H[ae]}H!==null&&(a[q]=H)}for(const q in D)a[q]=D[q]}}}return a}const nI=t=>(e,n)=>{const s=S.useContext(mp),a=S.useContext(hp),l=()=>Ez(t,e,s,a);return n?l():bb(l)},Az=nI({scrapeMotionValuesFromProps:$b,createRenderState:Yb}),Cz=nI({scrapeMotionValuesFromProps:VN,createRenderState:tI}),Rz=Symbol.for("motionComponentSymbol");function Nz(t,e,n){const s=S.useRef(n);S.useInsertionEffect(()=>{s.current=n});const a=S.useRef(null);return S.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const c=s.current;if(typeof c=="function")if(l){const h=c(l);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[e])}const sI=S.createContext({});function Ou(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Iz(t,e,n,s,a,l){const{visualElement:c}=S.useContext(mp),h=S.useContext(QN),d=S.useContext(hp),m=S.useContext(Kb).reducedMotion,g=S.useRef(null);s=s||h.renderer,!g.current&&s&&(g.current=s(t,{visualState:e,parent:c,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m,isSVG:l}));const b=g.current,x=S.useContext(sI);b&&!b.projection&&a&&(b.type==="html"||b.type==="svg")&&Dz(g.current,n,a,x);const A=S.useRef(!1);S.useInsertionEffect(()=>{b&&A.current&&b.update(n,d)});const I=n[uN],D=S.useRef(!!I&&!window.MotionHandoffIsComplete?.(I)&&window.MotionHasOptimisedAnimation?.(I));return CR(()=>{b&&(A.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),D.current&&b.animationState&&b.animationState.animateChanges())}),S.useEffect(()=>{b&&(!D.current&&b.animationState&&b.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(I)}),D.current=!1),b.enteringChildren=void 0)}),b}function Dz(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:iI(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&Ou(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:g,layoutScroll:d,layoutRoot:m})}function iI(t){if(t)return t.options.allowProjection!==!1?t.projection:iI(t.parent)}function Yy(t,{forwardMotionProps:e=!1,type:n}={},s,a){s&&dz(s);const l=n?n==="svg":Xb(t),c=l?Cz:Az;function h(m,g){let b;const x={...S.useContext(Kb),...m,layoutId:kz(m)},{isStatic:A}=x,I=yz(m),D=c(m,A);if(!A&&AR){Mz();const R=Pz(x);b=R.MeasureLayout,I.visualElement=Iz(t,D,x,a,R.ProjectionNode,l)}return y.jsxs(mp.Provider,{value:I,children:[b&&I.visualElement?y.jsx(b,{visualElement:I.visualElement,...x}):null,Tz(t,m,Nz(D,I.visualElement,g),D,A,e,l)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const d=S.forwardRef(h);return d[Rz]=t,d}function kz({layoutId:t}){const e=S.useContext(vb).id;return e&&t!==void 0?e+"-"+t:t}function Mz(t,e){S.useContext(QN).strict}function Pz(t){const e=JN(),{drag:n,layout:s}=e;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function jz(t,e){if(typeof Proxy>"u")return Yy;const n=new Map,s=(l,c)=>Yy(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Yy(c,void 0,t,e)),n.get(c))})}const Oz=(t,e)=>e.isSVG??Xb(t)?new m9(e):new l9(e,{allowProjection:t!==S.Fragment});class Vz extends no{constructor(e){super(e),e.animationState||(e.animationState=b9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();dp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Lz=0;class Uz extends no{constructor(){super(...arguments),this.id=Lz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const zz={animation:{Feature:Vz},exit:{Feature:Uz}};function Hh(t){return{point:{x:t.pageX,y:t.pageY}}}const Bz=t=>e=>Fb(e)&&t(e,Hh(e));function Ku(t,e,n,s){return fh(t,e,Bz(n),s)}const rI=({current:t})=>t?t.ownerDocument.defaultView:null,DS=(t,e)=>Math.abs(t-e);function Fz(t,e){const n=DS(t.x,e.x),s=DS(t.y,e.y);return Math.sqrt(n**2+s**2)}const kS=new Set(["auto","scroll"]);class aI{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=A=>{this.handleScroll(A.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Wy(this.lastMoveEventInfo,this.history),I=this.startEvent!==null,D=Fz(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!I&&!D)return;const{point:R}=A,{timestamp:j}=Qn;this.history.push({...R,timestamp:j});const{onStart:q,onMove:H}=this.handlers;I||(q&&q(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,A)},this.handlePointerMove=(A,I)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=Xy(I,this.transformPagePoint),Ut.update(this.updatePoint,!0)},this.handlePointerUp=(A,I)=>{this.end();const{onEnd:D,onSessionEnd:R,resumeAnimation:j}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const q=Wy(A.type==="pointercancel"?this.lastMoveEventInfo:Xy(I,this.transformPagePoint),this.history);this.startEvent&&D&&D(A,q),R&&R(A,q)},!Fb(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const d=Hh(e),m=Xy(d,this.transformPagePoint),{point:g}=m,{timestamp:b}=Qn;this.history=[{...g,timestamp:b}];const{onSessionStart:x}=n;x&&x(e,Wy(m,this.history)),this.removeListeners=Bh(Ku(this.contextWindow,"pointermove",this.handlePointerMove),Ku(this.contextWindow,"pointerup",this.handlePointerUp),Ku(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(kS.has(s.overflowX)||kS.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),Ut.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Wa(this.updatePoint)}}function Xy(t,e){return e?{point:e(t.point)}:t}function MS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Wy({point:t},e){return{point:t,delta:MS(t,oI(e)),offset:MS(t,qz(e)),velocity:Hz(e,.1)}}function qz(t){return t[0]}function oI(t){return t[t.length-1]}function Hz(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=oI(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Hr(e)));)n--;if(!s)return{x:0,y:0};const l=pi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Gz(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?tn(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?tn(n,t,s.max):Math.min(t,n)),t}function PS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function $z(t,{top:e,left:n,bottom:s,right:a}){return{x:PS(t.x,n,a),y:PS(t.y,e,s)}}function jS(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function Kz(t,e){return{x:jS(t.x,e.x),y:jS(t.y,e.y)}}function Yz(t,e){let n=.5;const s=bs(t),a=bs(e);return a>s?n=ch(e.min,e.max-s,t.min):s>a&&(n=ch(t.min,t.max-a,e.min)),ur(0,1,n)}function Xz(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const nv=.35;function Wz(t=nv){return t===!1?t=0:t===!0&&(t=nv),{x:OS(t,"left","right"),y:OS(t,"top","bottom")}}function OS(t,e,n){return{min:VS(t,e),max:VS(t,n)}}function VS(t,e){return typeof t=="number"?t:t[e]||0}const Qz=new WeakMap;class Jz{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Dn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{n?(this.stopAnimation(),this.snapToCursor(Hh(b).point)):this.pauseAnimation()},c=(b,x)=>{this.stopAnimation();const{drag:A,dragPropagation:I,onDragStart:D}=this.getProps();if(A&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=UU(A),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ci(j=>{let q=this.getAxisMotionValue(j).get()||0;if(rr.test(q)){const{projection:H}=this.visualElement;if(H&&H.layout){const ae=H.layout.layoutBox[j];ae&&(q=bs(ae)*(parseFloat(q)/100))}}this.originPoint[j]=q}),D&&Ut.postRender(()=>D(b,x)),X0(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},h=(b,x)=>{this.latestPointerEvent=b,this.latestPanInfo=x;const{dragPropagation:A,dragDirectionLock:I,onDirectionLock:D,onDrag:R}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:j}=x;if(I&&this.currentDirection===null){this.currentDirection=Zz(j),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",x.point,j),this.updateAxis("y",x.point,j),this.visualElement.render(),R&&R(b,x)},d=(b,x)=>{this.latestPointerEvent=b,this.latestPanInfo=x,this.stop(b,x),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>ci(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new aI(e,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:s,contextWindow:rI(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&Ut.postRender(()=>h(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Sf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=Gz(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Ou(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=$z(s.layoutBox,e):this.constraints=!1,this.elastic=Wz(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ci(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Xz(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ou(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=n9(s,a.root,this.visualElement.getTransformPagePoint());let c=Kz(a.layout.layoutBox,l);if(n){const h=n(ZU(c));this.hasMutatedConstraints=!!h,h&&(c=RN(h))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},m=ci(g=>{if(!Sf(g,n,this.currentDirection))return;let b=d&&d[g]||{};c&&(b={min:0,max:0});const x=a?200:1e6,A=a?40:1e7,I={type:"inertia",velocity:s?e[g]:0,bounceStiffness:x,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(g,I)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return X0(this.visualElement,e),s.start(Vb(e,s,0,n,this.visualElement,!1))}stopAnimation(){ci(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ci(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ci(n=>{const{drag:s}=this.getProps();if(!Sf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n],d=l.get()||0;l.set(e[n]-tn(c,h,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ou(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ci(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const d=h.get();a[c]=Yz({min:d,max:d},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ci(c=>{if(!Sf(c,e,null))return;const h=this.getAxisMotionValue(c),{min:d,max:m}=this.constraints[c];h.set(tn(d,m,a[c]))})}addListeners(){if(!this.visualElement.current)return;Qz.set(this.visualElement,this);const e=this.visualElement.current,n=Ku(e,"pointerdown",d=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&!_N(d.target)&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();Ou(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ut.read(s);const c=fh(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(ci(g=>{const b=this.getAxisMotionValue(g);b&&(this.originPoint[g]+=d[g].translate,b.set(b.get()+d[g].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=nv,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function Sf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Zz(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class eB extends no{constructor(e){super(e),this.removeGroupControls=yi,this.removeListeners=yi,this.controls=new Jz(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yi}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const LS=t=>(e,n)=>{t&&Ut.postRender(()=>t(e,n))};class tB extends no{constructor(){super(...arguments),this.removePointerDownListener=yi}onPointerDown(e){this.session=new aI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:LS(e),onStart:LS(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&Ut.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Ku(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Qy=!1;class nB extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Qy&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Yf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Qy=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Ut.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Bb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Qy=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function lI(t){const[e,n]=WN(),s=S.useContext(vb);return y.jsx(nB,{...t,layoutGroup:s,switchLayoutGroup:S.useContext(sI),isPresent:e,safeToRemove:n})}const sB={pan:{Feature:tB},drag:{Feature:eB,ProjectionNode:XN,MeasureLayout:lI}};function US(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&Ut.postRender(()=>l(e,Hh(e)))}class iB extends no{mount(){const{current:e}=this.node;e&&(this.unmount=zU(e,(n,s)=>(US(this.node,s,"Start"),a=>US(this.node,a,"End"))))}unmount(){}}class rB extends no{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bh(fh(this.node.current,"focus",()=>this.onFocus()),fh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function zS(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&Ut.postRender(()=>l(e,Hh(e)))}class aB extends no{mount(){const{current:e}=this.node;e&&(this.unmount=qU(e,(n,s)=>(zS(this.node,s,"Start"),(a,{success:l})=>zS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const sv=new WeakMap,Jy=new WeakMap,oB=t=>{const e=sv.get(t.target);e&&e(t)},lB=t=>{t.forEach(oB)};function cB({root:t,...e}){const n=t||document;Jy.has(n)||Jy.set(n,{});const s=Jy.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(lB,{root:t,...e})),s[a]}function uB(t,e,n){const s=cB(e);return sv.set(t,n),s.observe(t),()=>{sv.delete(t),s.unobserve(t)}}const hB={some:0,all:1};class dB extends no{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:hB[a]},h=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:b}=this.node.getProps(),x=m?g:b;x&&x(d)};return uB(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(fB(e,n))&&this.startObserver()}unmount(){}}function fB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const mB={inView:{Feature:dB},tap:{Feature:aB},focus:{Feature:rB},hover:{Feature:iB}},pB={layout:{ProjectionNode:XN,MeasureLayout:lI}},gB={...zz,...mB,...sB,...pB},Xe=jz(gB,Oz);const yB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vB=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),BS=t=>{const e=vB(t);return e.charAt(0).toUpperCase()+e.slice(1)},cI=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),bB=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var xB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const wB=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...h},d)=>S.createElement("svg",{ref:d,...xB,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:cI("lucide",a),...!l&&!bB(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,g])=>S.createElement(m,g)),...Array.isArray(l)?l:[l]]));const et=(t,e)=>{const n=S.forwardRef(({className:s,...a},l)=>S.createElement(wB,{ref:l,iconNode:e,className:cI(`lucide-${yB(BS(t))}`,`lucide-${t}`,s),...a}));return n.displayName=BS(t),n};const _B=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],TB=et("arrow-left",_B);const EB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],SB=et("arrow-right",EB);const AB=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],mh=et("award",AB);const CB=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Nm=et("book-open",CB);const RB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Im=et("calendar",RB);const NB=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ph=et("camera",NB);const IB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],mi=et("check",IB);const DB=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],uI=et("chevron-left",DB);const kB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],hI=et("chevron-right",kB);const MB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],FS=et("circle-alert",MB);const PB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],jB=et("circle-check-big",PB);const OB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],dI=et("circle-question-mark",OB);const VB=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fI=et("clock",VB);const LB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],UB=et("grid-3x3",LB);const zB=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Wb=et("layout-grid",zB);const BB=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],FB=et("lock",BB);const qB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],mI=et("log-out",qB);const HB=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],iv=et("mail",HB);const GB=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],$B=et("menu",GB);const KB=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Dm=et("palette",KB);const YB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Yu=et("pen",YB);const XB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],WB=et("pencil",XB);const QB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gh=et("plus",QB);const JB=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],ZB=et("printer",JB);const e8=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],qS=et("rocket",e8);const t8=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],n8=et("settings",t8);const s8=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Xf=et("share-2",s8);const i8=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],pI=et("sparkles",i8);const r8=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],a8=et("square-check-big",r8);const o8=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Xu=et("trash-2",o8);const l8=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],HS=et("trophy",l8);const c8=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],u8=et("type",c8);const h8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],GS=et("user-plus",h8);const d8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yh=et("user",d8);const f8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],m8=et("users",f8);const p8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ar=et("x",p8);const g8=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Wu=et("zap",g8),gI=S.createContext(null),Qb=()=>{const t=S.useContext(gI);if(!t)throw new Error("useDialog must be used within a DialogProvider");return t},y8=({children:t})=>{const[e,n]=S.useState({isOpen:!1,type:"alert",options:{message:""},resolve:null}),[s,a]=S.useState(""),[l,c]=S.useState("editor"),h=S.useCallback((I,D)=>new Promise(R=>{a(D.inputDefaultValue||""),c("editor"),n({isOpen:!0,type:I,options:D,resolve:R})}),[]),d=S.useCallback(I=>{e.resolve&&e.resolve(I),n(D=>({...D,isOpen:!1,resolve:null}))},[e.resolve]),m=S.useCallback((I,D)=>h("alert",{message:I,title:"Notice",confirmText:"OK",type:"info",...D}),[h]),g=S.useCallback((I,D)=>h("confirm",{message:I,title:"Confirm",confirmText:"Yes",cancelText:"Cancel",type:"warning",...D}),[h]),b=S.useCallback((I,D)=>h("prompt",{message:I,title:"Input",confirmText:"OK",cancelText:"Cancel",inputPlaceholder:"",...D}),[h]),x=S.useCallback((I,D)=>h("share",{message:I,title:"Share Board",confirmText:"Send Invite",cancelText:"Cancel",showRoleSelector:!0,inputPlaceholder:"Enter email address",...D}),[h]),A=()=>{switch(e.options.type){case"success":return y.jsx(jB,{className:"w-8 h-8 text-green-400"});case"warning":return y.jsx(FS,{className:"w-8 h-8 text-amber-400"});case"error":return y.jsx(FS,{className:"w-8 h-8 text-red-400"});default:return y.jsx(dI,{className:"w-8 h-8 text-accent-primary"})}};return y.jsxs(gI.Provider,{value:{alert:m,confirm:g,prompt:b,sharePrompt:x},children:[t,y.jsx(fi,{children:e.isOpen&&y.jsx(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{e.type==="alert"?d(void 0):e.type==="confirm"?d(!1):d(null)},children:y.jsxs(Xe.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-slate-900 border border-white/20 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",onClick:I=>I.stopPropagation(),children:[y.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[e.type==="share"?y.jsx(iv,{className:"w-6 h-6 text-accent-primary"}):A(),y.jsx("h3",{className:"text-lg font-bold text-white",children:e.options.title})]}),y.jsx("button",{onClick:()=>{e.type==="alert"?d(void 0):e.type==="confirm"?d(!1):d(null)},className:"p-1 text-slate-400 hover:text-white rounded-full hover:bg-white/10 transition-colors",children:y.jsx(ar,{size:20})})]}),y.jsxs("div",{className:"p-6",children:[y.jsx("p",{className:"text-slate-300 mb-4 whitespace-pre-wrap",children:e.options.message}),(e.type==="prompt"||e.type==="share")&&y.jsx("input",{type:e.type==="share"?"email":"text",autoFocus:!0,value:s,onChange:I=>a(I.target.value),placeholder:e.options.inputPlaceholder,className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors mb-4",onKeyDown:I=>{I.key==="Enter"&&s.trim()&&(e.type==="share"?d({email:s.trim(),role:l}):d(s.trim()))}}),e.type==="share"&&e.options.showRoleSelector&&y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"text-sm font-medium text-slate-400 mb-2 block",children:"Access Level"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>c("viewer"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="viewer"?"bg-accent-primary/20 text-accent-primary border border-accent-primary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Viewer"}),y.jsx("button",{onClick:()=>c("editor"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Editor"})]}),y.jsx("p",{className:"text-xs text-slate-500 mt-2",children:l==="viewer"?"Can view the board but not make changes":"Can view and edit the board"})]})]}),y.jsxs("div",{className:"flex gap-3 p-4 pt-0",children:[e.type!=="alert"&&y.jsx("button",{onClick:()=>{e.type==="confirm"?d(!1):d(null)},className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:e.options.cancelText}),y.jsx("button",{onClick:()=>{e.type==="alert"?d(void 0):e.type==="confirm"?d(!0):e.type==="share"?s.trim()&&d({email:s.trim(),role:l}):d(s.trim()||null)},disabled:(e.type==="prompt"||e.type==="share")&&!s.trim(),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:e.options.confirmText})]})]})})})]})};function yI(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=yI(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function v8(){for(var t,e,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=yI(t))&&(s&&(s+=" "),s+=e);return s}const b8=(t,e)=>{const n=new Array(t.length+e.length);for(let s=0;s<t.length;s++)n[s]=t[s];for(let s=0;s<e.length;s++)n[t.length+s]=e[s];return n},x8=(t,e)=>({classGroupId:t,validator:e}),vI=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),km="-",$S=[],w8="arbitrary..",_8=t=>{const e=E8(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return T8(c);const h=c.split(km),d=h[0]===""&&h.length>1?1:0;return bI(h,d,e)},getConflictingClassGroupIds:(c,h)=>{if(h){const d=s[c],m=n[c];return d?m?b8(m,d):d:m||$S}return n[c]||$S}}},bI=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const m=bI(t,e+1,l);if(m)return m}const c=n.validators;if(c===null)return;const h=e===0?t.join(km):t.slice(e).join(km),d=c.length;for(let m=0;m<d;m++){const g=c[m];if(g.validator(h))return g.classGroupId}},T8=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),s=e.slice(0,n);return s?w8+s:void 0})(),E8=t=>{const{theme:e,classGroups:n}=t;return S8(n,e)},S8=(t,e)=>{const n=vI();for(const s in t){const a=t[s];Jb(a,n,s,e)}return n},Jb=(t,e,n,s)=>{const a=t.length;for(let l=0;l<a;l++){const c=t[l];A8(c,e,n,s)}},A8=(t,e,n,s)=>{if(typeof t=="string"){C8(t,e,n);return}if(typeof t=="function"){R8(t,e,n,s);return}N8(t,e,n,s)},C8=(t,e,n)=>{const s=t===""?e:xI(e,t);s.classGroupId=n},R8=(t,e,n,s)=>{if(I8(t)){Jb(t(s),e,n,s);return}e.validators===null&&(e.validators=[]),e.validators.push(x8(n,t))},N8=(t,e,n,s)=>{const a=Object.entries(t),l=a.length;for(let c=0;c<l;c++){const[h,d]=a[c];Jb(d,xI(e,h),n,s)}},xI=(t,e)=>{let n=t;const s=e.split(km),a=s.length;for(let l=0;l<a;l++){const c=s[l];let h=n.nextPart.get(c);h||(h=vI(),n.nextPart.set(c,h)),n=h}return n},I8=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,D8=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),s=Object.create(null);const a=(l,c)=>{n[l]=c,e++,e>t&&(e=0,s=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=s[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},rv="!",KS=":",k8=[],YS=(t,e,n,s,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:s,isExternal:a}),M8=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=a=>{const l=[];let c=0,h=0,d=0,m;const g=a.length;for(let D=0;D<g;D++){const R=a[D];if(c===0&&h===0){if(R===KS){l.push(a.slice(d,D)),d=D+1;continue}if(R==="/"){m=D;continue}}R==="["?c++:R==="]"?c--:R==="("?h++:R===")"&&h--}const b=l.length===0?a:a.slice(d);let x=b,A=!1;b.endsWith(rv)?(x=b.slice(0,-1),A=!0):b.startsWith(rv)&&(x=b.slice(1),A=!0);const I=m&&m>d?m-d:void 0;return YS(l,A,x,I)};if(e){const a=e+KS,l=s;s=c=>c.startsWith(a)?l(c.slice(a.length)):YS(k8,!1,c,void 0,!0)}if(n){const a=s;s=l=>n({className:l,parseClassName:a})}return s},P8=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,s)=>{e.set(n,1e6+s)}),n=>{const s=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],h=c[0]==="[",d=e.has(c);h||d?(a.length>0&&(a.sort(),s.push(...a),a=[]),s.push(c)):a.push(c)}return a.length>0&&(a.sort(),s.push(...a)),s}},j8=t=>({cache:D8(t.cacheSize),parseClassName:M8(t),sortModifiers:P8(t),..._8(t)}),O8=/\s+/,V8=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],h=t.trim().split(O8);let d="";for(let m=h.length-1;m>=0;m-=1){const g=h[m],{isExternal:b,modifiers:x,hasImportantModifier:A,baseClassName:I,maybePostfixModifierPosition:D}=n(g);if(b){d=g+(d.length>0?" "+d:d);continue}let R=!!D,j=s(R?I.substring(0,D):I);if(!j){if(!R){d=g+(d.length>0?" "+d:d);continue}if(j=s(I),!j){d=g+(d.length>0?" "+d:d);continue}R=!1}const q=x.length===0?"":x.length===1?x[0]:l(x).join(":"),H=A?q+rv:q,ae=H+j;if(c.indexOf(ae)>-1)continue;c.push(ae);const ie=a(j,R);for(let ue=0;ue<ie.length;++ue){const k=ie[ue];c.push(H+k)}d=g+(d.length>0?" "+d:d)}return d},L8=(...t)=>{let e=0,n,s,a="";for(;e<t.length;)(n=t[e++])&&(s=wI(n))&&(a&&(a+=" "),a+=s);return a},wI=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=wI(t[s]))&&(n&&(n+=" "),n+=e);return n},U8=(t,...e)=>{let n,s,a,l;const c=d=>{const m=e.reduce((g,b)=>b(g),t());return n=j8(m),s=n.cache.get,a=n.cache.set,l=h,h(d)},h=d=>{const m=s(d);if(m)return m;const g=V8(d,n);return a(d,g),g};return l=c,(...d)=>l(L8(...d))},z8=[],In=t=>{const e=n=>n[t]||z8;return e.isThemeGetter=!0,e},_I=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,TI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,B8=/^\d+\/\d+$/,F8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,q8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,H8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,G8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ul=t=>B8.test(t),Qe=t=>!!t&&!Number.isNaN(Number(t)),Da=t=>!!t&&Number.isInteger(Number(t)),Zy=t=>t.endsWith("%")&&Qe(t.slice(0,-1)),Pr=t=>F8.test(t),K8=()=>!0,Y8=t=>q8.test(t)&&!H8.test(t),EI=()=>!1,X8=t=>G8.test(t),W8=t=>$8.test(t),Q8=t=>!Ne(t)&&!Ie(t),J8=t=>Ac(t,CI,EI),Ne=t=>_I.test(t),Mo=t=>Ac(t,RI,Y8),e0=t=>Ac(t,sF,Qe),XS=t=>Ac(t,SI,EI),Z8=t=>Ac(t,AI,W8),Af=t=>Ac(t,NI,X8),Ie=t=>TI.test(t),Cu=t=>Cc(t,RI),eF=t=>Cc(t,iF),WS=t=>Cc(t,SI),tF=t=>Cc(t,CI),nF=t=>Cc(t,AI),Cf=t=>Cc(t,NI,!0),Ac=(t,e,n)=>{const s=_I.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},Cc=(t,e,n=!1)=>{const s=TI.exec(t);return s?s[1]?e(s[1]):n:!1},SI=t=>t==="position"||t==="percentage",AI=t=>t==="image"||t==="url",CI=t=>t==="length"||t==="size"||t==="bg-size",RI=t=>t==="length",sF=t=>t==="number",iF=t=>t==="family-name",NI=t=>t==="shadow",rF=()=>{const t=In("color"),e=In("font"),n=In("text"),s=In("font-weight"),a=In("tracking"),l=In("leading"),c=In("breakpoint"),h=In("container"),d=In("spacing"),m=In("radius"),g=In("shadow"),b=In("inset-shadow"),x=In("text-shadow"),A=In("drop-shadow"),I=In("blur"),D=In("perspective"),R=In("aspect"),j=In("ease"),q=In("animate"),H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ie=()=>[...ae(),Ie,Ne],ue=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],C=()=>[Ie,Ne,d],P=()=>[Ul,"full","auto",...C()],z=()=>[Da,"none","subgrid",Ie,Ne],B=()=>["auto",{span:["full",Da,Ie,Ne]},Da,Ie,Ne],V=()=>[Da,"auto",Ie,Ne],O=()=>["auto","min","max","fr",Ie,Ne],we=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],xe=()=>["start","end","center","stretch","center-safe","end-safe"],Z=()=>["auto",...C()],W=()=>[Ul,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],$=()=>[t,Ie,Ne],Y=()=>[...ae(),WS,XS,{position:[Ie,Ne]}],L=()=>["no-repeat",{repeat:["","x","y","space","round"]}],T=()=>["auto","cover","contain",tF,J8,{size:[Ie,Ne]}],U=()=>[Zy,Cu,Mo],X=()=>["","none","full",m,Ie,Ne],ne=()=>["",Qe,Cu,Mo],pe=()=>["solid","dashed","dotted","double"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ge=()=>[Qe,Zy,WS,XS],Ee=()=>["","none",I,Ie,Ne],Te=()=>["none",Qe,Ie,Ne],Se=()=>["none",Qe,Ie,Ne],Be=()=>[Qe,Ie,Ne],Ue=()=>[Ul,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Pr],breakpoint:[Pr],color:[K8],container:[Pr],"drop-shadow":[Pr],ease:["in","out","in-out"],font:[Q8],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Pr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Pr],shadow:[Pr],spacing:["px",Qe],text:[Pr],"text-shadow":[Pr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ul,Ne,Ie,R]}],container:["container"],columns:[{columns:[Qe,Ne,Ie,h]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ie()}],overflow:[{overflow:ue()}],"overflow-x":[{"overflow-x":ue()}],"overflow-y":[{"overflow-y":ue()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[Da,"auto",Ie,Ne]}],basis:[{basis:[Ul,"full","auto",h,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Qe,Ul,"auto","initial","none",Ne]}],grow:[{grow:["",Qe,Ie,Ne]}],shrink:[{shrink:["",Qe,Ie,Ne]}],order:[{order:[Da,"first","last","none",Ie,Ne]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...we(),"normal"]}],"justify-items":[{"justify-items":[...xe(),"normal"]}],"justify-self":[{"justify-self":["auto",...xe()]}],"align-content":[{content:["normal",...we()]}],"align-items":[{items:[...xe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...xe(),{baseline:["","last"]}]}],"place-content":[{"place-content":we()}],"place-items":[{"place-items":[...xe(),"baseline"]}],"place-self":[{"place-self":["auto",...xe()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:Z()}],mx:[{mx:Z()}],my:[{my:Z()}],ms:[{ms:Z()}],me:[{me:Z()}],mt:[{mt:Z()}],mr:[{mr:Z()}],mb:[{mb:Z()}],ml:[{ml:Z()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[h,"screen",...W()]}],"min-w":[{"min-w":[h,"screen","none",...W()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",n,Cu,Mo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Ie,e0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Zy,Ne]}],"font-family":[{font:[eF,Ne,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ie,Ne]}],"line-clamp":[{"line-clamp":[Qe,"none",Ie,e0]}],leading:[{leading:[l,...C()]}],"list-image":[{"list-image":["none",Ie,Ne]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ie,Ne]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Qe,"from-font","auto",Ie,Mo]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[Qe,"auto",Ie,Ne]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie,Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie,Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Y()}],"bg-repeat":[{bg:L()}],"bg-size":[{bg:T()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Da,Ie,Ne],radial:["",Ie,Ne],conic:[Da,Ie,Ne]},nF,Z8]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...pe(),"hidden","none"]}],"divide-style":[{divide:[...pe(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Qe,Ie,Ne]}],"outline-w":[{outline:["",Qe,Cu,Mo]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",g,Cf,Af]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",b,Cf,Af]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[Qe,Mo]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",x,Cf,Af]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[Qe,Ie,Ne]}],"mix-blend":[{"mix-blend":[...ye(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ye()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Qe]}],"mask-image-linear-from-pos":[{"mask-linear-from":ge()}],"mask-image-linear-to-pos":[{"mask-linear-to":ge()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":ge()}],"mask-image-t-to-pos":[{"mask-t-to":ge()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":ge()}],"mask-image-r-to-pos":[{"mask-r-to":ge()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":ge()}],"mask-image-b-to-pos":[{"mask-b-to":ge()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":ge()}],"mask-image-l-to-pos":[{"mask-l-to":ge()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":ge()}],"mask-image-x-to-pos":[{"mask-x-to":ge()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":ge()}],"mask-image-y-to-pos":[{"mask-y-to":ge()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[Ie,Ne]}],"mask-image-radial-from-pos":[{"mask-radial-from":ge()}],"mask-image-radial-to-pos":[{"mask-radial-to":ge()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ae()}],"mask-image-conic-pos":[{"mask-conic":[Qe]}],"mask-image-conic-from-pos":[{"mask-conic-from":ge()}],"mask-image-conic-to-pos":[{"mask-conic-to":ge()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Y()}],"mask-repeat":[{mask:L()}],"mask-size":[{mask:T()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ie,Ne]}],filter:[{filter:["","none",Ie,Ne]}],blur:[{blur:Ee()}],brightness:[{brightness:[Qe,Ie,Ne]}],contrast:[{contrast:[Qe,Ie,Ne]}],"drop-shadow":[{"drop-shadow":["","none",A,Cf,Af]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",Qe,Ie,Ne]}],"hue-rotate":[{"hue-rotate":[Qe,Ie,Ne]}],invert:[{invert:["",Qe,Ie,Ne]}],saturate:[{saturate:[Qe,Ie,Ne]}],sepia:[{sepia:["",Qe,Ie,Ne]}],"backdrop-filter":[{"backdrop-filter":["","none",Ie,Ne]}],"backdrop-blur":[{"backdrop-blur":Ee()}],"backdrop-brightness":[{"backdrop-brightness":[Qe,Ie,Ne]}],"backdrop-contrast":[{"backdrop-contrast":[Qe,Ie,Ne]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Qe,Ie,Ne]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Qe,Ie,Ne]}],"backdrop-invert":[{"backdrop-invert":["",Qe,Ie,Ne]}],"backdrop-opacity":[{"backdrop-opacity":[Qe,Ie,Ne]}],"backdrop-saturate":[{"backdrop-saturate":[Qe,Ie,Ne]}],"backdrop-sepia":[{"backdrop-sepia":["",Qe,Ie,Ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ie,Ne]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Qe,"initial",Ie,Ne]}],ease:[{ease:["linear","initial",j,Ie,Ne]}],delay:[{delay:[Qe,Ie,Ne]}],animate:[{animate:["none",q,Ie,Ne]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[D,Ie,Ne]}],"perspective-origin":[{"perspective-origin":ie()}],rotate:[{rotate:Te()}],"rotate-x":[{"rotate-x":Te()}],"rotate-y":[{"rotate-y":Te()}],"rotate-z":[{"rotate-z":Te()}],scale:[{scale:Se()}],"scale-x":[{"scale-x":Se()}],"scale-y":[{"scale-y":Se()}],"scale-z":[{"scale-z":Se()}],"scale-3d":["scale-3d"],skew:[{skew:Be()}],"skew-x":[{"skew-x":Be()}],"skew-y":[{"skew-y":Be()}],transform:[{transform:[Ie,Ne,"","none","gpu","cpu"]}],"transform-origin":[{origin:ie()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ue()}],"translate-x":[{"translate-x":Ue()}],"translate-y":[{"translate-y":Ue()}],"translate-z":[{"translate-z":Ue()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie,Ne]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie,Ne]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[Qe,Cu,Mo,e0]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},aF=U8(rF);function K(...t){return aF(v8(t))}const oF=()=>{const{isSettingsOpen:t,closeSettings:e,settings:n,updateSettings:s}=hs(),a=St.useRef(n);if(St.useEffect(()=>{t&&(a.current=n)},[t]),!t)return null;const l=()=>{s(a.current,!1),e()},c=()=>{s(n,!0),e()},h=[{id:"light",name:"Light",color:"bg-white from-slate-100 to-sky-50",animated:!0},{id:"dawn",name:"Dawn",color:"bg-[#0f111a] from-violet-500/20 to-pink-500/20",animated:!1},{id:"cosmic",name:"Cosmic",color:"bg-[#2e1065] from-violet-600/20 to-pink-600/20",animated:!0},{id:"lavender",name:"Lavender",color:"bg-[#3b0764] from-fuchsia-500/20 to-purple-500/20",animated:!0},{id:"midnight",name:"Midnight",color:"bg-[#020617] from-sky-500/20 to-indigo-500/20",animated:!1},{id:"forest",name:"Forest",color:"bg-[#052e16] from-green-500/20 to-emerald-500/20",animated:!1},{id:"ocean",name:"Ocean",color:"bg-[#083344] from-cyan-500/20 to-teal-500/20",animated:!1},{id:"sunset",name:"Sunset",color:"bg-[#2a0a0a] from-orange-500/20 to-rose-500/20",animated:!1}],d=[{id:"outfit",name:"Modern",family:"font-[Outfit]"},{id:"inter",name:"Clean",family:"font-[Inter]"},{id:"playfair",name:"Elegant",family:'font-["Playfair_Display"]'},{id:"mono",name:"Tech",family:'font-["Fira_Code"]'}],m=n.theme==="light";return y.jsx(fi,{children:t&&y.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 font-sans",children:[y.jsx(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:l}),y.jsxs(Xe.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:K("relative w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden max-h-[85vh] flex flex-col border",m?"bg-white border-slate-200":"bg-slate-900 border-white/10"),children:[y.jsxs("div",{className:K("p-6 border-b flex justify-between items-center sticky top-0 z-10",m?"bg-white border-slate-100":"bg-slate-900 border-white/10"),children:[y.jsxs("h2",{className:K("text-xl font-bold flex items-center gap-2",m?"text-slate-800":"text-white"),children:[y.jsx(Dm,{className:"w-5 h-5 text-accent-primary"}),"Customization"]}),y.jsx("button",{onClick:l,className:K("transition-colors",m?"text-slate-400 hover:text-slate-600":"text-slate-400 hover:text-white"),children:y.jsx(ar,{className:"w-6 h-6"})})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[y.jsxs("section",{children:[y.jsxs("h3",{className:K("text-sm font-semibold uppercase tracking-wider mb-4 flex items-center gap-2",m?"text-slate-500":"text-slate-400"),children:[y.jsx(Dm,{className:"w-4 h-4"})," Theme"]}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:h.map(g=>y.jsxs("button",{onClick:()=>s({theme:g.id},!1),className:K("relative group overflow-hidden rounded-xl border transition-all duration-300",n.theme===g.id?"border-accent-primary ring-2 ring-accent-primary/50":m?"border-slate-200 hover:border-slate-300":"border-white/10 hover:border-white/30"),children:[y.jsx("div",{className:K("h-16 w-full bg-gradient-to-br relative",g.color),children:g.animated&&y.jsxs("div",{className:"absolute top-1.5 left-1.5 px-1.5 py-0.5 bg-black/40 backdrop-blur-sm rounded text-[10px] font-bold text-white/90 flex items-center gap-1",children:[y.jsx(Wu,{className:"w-2.5 h-2.5"}),y.jsx("span",{children:"Animated"})]})}),y.jsx("div",{className:K("p-3",m?"bg-slate-50":"bg-slate-800/50"),children:y.jsx("span",{className:K("text-sm font-medium",n.theme===g.id?m?"text-slate-900":"text-white":"text-slate-400"),children:g.name})}),n.theme===g.id&&y.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 bg-accent-primary rounded-full flex items-center justify-center shadow-lg",children:y.jsx(mi,{className:"w-3 h-3 text-white"})})]},g.id))})]}),y.jsxs("section",{children:[y.jsxs("h3",{className:K("text-sm font-semibold uppercase tracking-wider mb-4 flex items-center gap-2",m?"text-slate-500":"text-slate-400"),children:[y.jsx(u8,{className:"w-4 h-4"})," Typography"]}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:d.map(g=>y.jsxs("button",{onClick:()=>s({font:g.id},!1),className:K("flex items-center justify-between p-4 rounded-xl border transition-all duration-200 text-left",n.font===g.id?"bg-accent-primary/10 border-accent-primary text-accent-primary":m?"bg-white border-slate-200 hover:bg-slate-50 text-slate-600":"bg-white/5 border-white/5 hover:bg-white/10 text-slate-300"),children:[y.jsxs("div",{children:[y.jsx("span",{className:K("text-lg block mb-0.5",g.family),children:"Aa"}),y.jsx("span",{className:"text-xs opacity-70",children:g.name})]}),n.font===g.id&&y.jsx(mi,{className:"w-5 h-5"})]},g.id))}),y.jsx("div",{className:K("mt-4 p-4 rounded-xl border",m?"bg-slate-50 border-slate-200":"bg-black/20 border-white/5"),children:y.jsx("p",{className:K("text-sm leading-relaxed",m?"text-slate-600":"text-slate-300",n.font==="outfit"&&"font-[Outfit]",n.font==="inter"&&"font-[Inter]",n.font==="playfair"&&'font-["Playfair_Display"]',n.font==="mono"&&'font-["Fira_Code"]'),children:"The quick brown fox jumps over the lazy dog. 1234567890."})})]}),y.jsxs("section",{children:[y.jsxs("h3",{className:K("text-sm font-semibold uppercase tracking-wider mb-4 flex items-center gap-2",m?"text-slate-500":"text-slate-400"),children:[y.jsx(Wu,{className:"w-4 h-4"})," Experience"]}),y.jsxs("div",{className:K("flex items-center justify-between p-4 rounded-xl border mb-3",m?"bg-white border-slate-200":"bg-white/5 border-white/10"),children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:K("p-2 rounded-lg",n.enableAnimation?"bg-accent-primary/20 text-accent-primary":m?"bg-slate-100 text-slate-400":"bg-slate-700 text-slate-400"),children:y.jsx(Wu,{size:20})}),y.jsxs("div",{children:[y.jsx("div",{className:K("font-medium",m?"text-slate-800":"text-white"),children:"Live Backgrounds"}),y.jsx("div",{className:K("text-xs",m?"text-slate-500":"text-slate-400"),children:"Dynamic particles and ambient effects"})]})]}),y.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[y.jsx("input",{type:"checkbox",checked:n.enableAnimation,onChange:g=>s({enableAnimation:g.target.checked},!1),className:"sr-only peer"}),y.jsx("div",{className:K("w-11 h-6 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-accent-primary rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-primary",m?"bg-slate-200":"bg-slate-700")})]})]}),y.jsxs("div",{className:K("flex items-center justify-between p-4 rounded-xl border",m?"bg-white border-slate-200":"bg-white/5 border-white/10"),children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:K("p-2 rounded-lg",n.enableSound?"bg-emerald-500/20 text-emerald-400":m?"bg-slate-100 text-slate-400":"bg-slate-700 text-slate-400"),children:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),y.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"}),y.jsx("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14"})]})}),y.jsxs("div",{children:[y.jsx("div",{className:K("font-medium",m?"text-slate-800":"text-white"),children:"Sound Effects"}),y.jsx("div",{className:K("text-xs",m?"text-slate-500":"text-slate-400"),children:"Satisfying clicks and celebrations"})]})]}),y.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[y.jsx("input",{type:"checkbox",checked:n.enableSound,onChange:g=>s({enableSound:g.target.checked},!1),className:"sr-only peer"}),y.jsx("div",{className:K("w-11 h-6 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-emerald-500 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500",m?"bg-slate-200":"bg-slate-700")})]})]})]})]}),y.jsxs("div",{className:K("p-6 border-t flex justify-end gap-3 sticky bottom-0 z-10 shrink-0",m?"bg-white border-slate-100":"bg-slate-900 border-white/10"),children:[y.jsx("button",{onClick:l,className:K("px-4 py-2 rounded-xl font-semibold transition-colors",m?"bg-slate-100 text-slate-600 hover:bg-slate-200":"bg-white/5 text-slate-300 hover:bg-white/10"),children:"Cancel"}),y.jsx("button",{onClick:c,className:"px-6 py-2 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all active:scale-95",children:"Save Changes"})]})]})]})})},Rf={theme:"dawn",font:"outfit",enableAnimation:!0,enableSound:!0},II=S.createContext(null),hs=()=>{const t=S.useContext(II);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},lF=({children:t})=>{const{user:e}=fr(),[n,s]=S.useState(()=>{try{const m=localStorage.getItem("bingo_settings");return m?{...Rf,...JSON.parse(m)}:Rf}catch(m){return console.error("Error parsing local settings",m),Rf}}),[a,l]=S.useState(!1);S.useEffect(()=>{(async()=>{if(e)try{const g=Fn(gt,"users",e.uid),b=await zh(g);if(b.exists()&&b.data().settings){const x={...Rf,...b.data().settings};s(x),localStorage.setItem("bingo_settings",JSON.stringify(x))}}catch(g){console.error("Error loading settings:",g)}})()},[e]),S.useEffect(()=>{const m=document.body;m.classList.remove("theme-dawn","theme-midnight","theme-forest","theme-ocean","theme-sunset","theme-cosmic","theme-lavender","theme-light"),m.classList.add(`theme-${n.theme}`),m.classList.remove("font-inter","font-playfair","font-mono","font-comic"),n.font!=="outfit"&&m.classList.add(`font-${n.font}`),n.enableAnimation?m.classList.remove("reduce-motion"):m.classList.add("reduce-motion")},[n]);const c=async(m,g=!0)=>{const b={...n,...m};s(b);try{localStorage.setItem("bingo_settings",JSON.stringify(b))}catch(x){console.error("Failed to save settings locally",x)}if(e&&g)try{await bm(Fn(gt,"users",e.uid),{settings:b},{merge:!0})}catch(x){console.error("Error saving settings to DB:",x)}},h=()=>l(!0),d=()=>l(!1);return y.jsxs(II.Provider,{value:{settings:n,updateSettings:c,isSettingsOpen:a,openSettings:h,closeSettings:d},children:[t,y.jsx(oF,{})]})},cF=()=>{const{signIn:t,error:e}=fr(),{settings:n}=hs(),s=n.theme==="light";return y.jsxs("div",{className:K("relative flex flex-col items-center justify-center min-h-screen p-4 text-center overflow-hidden font-sans",s?"text-slate-800":"text-slate-100"),children:[y.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none",children:y.jsx("div",{className:K("absolute inset-0 bg-gradient-to-t via-transparent to-transparent",s?"from-white/30":"from-black/30")})}),y.jsxs("div",{className:"relative z-10 w-full max-w-[400px] animate-fade-in-up",children:[y.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[y.jsxs("div",{className:K("relative w-20 h-20 mb-4 rounded-2xl flex items-center justify-center shadow-xl backdrop-blur-sm border",s?"bg-gradient-to-br from-blue-500/10 to-purple-500/10 border-slate-200 shadow-blue-500/5":"bg-gradient-to-br from-indigo-500/20 to-purple-500/20 border-white/10 shadow-indigo-500/10"),children:[y.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-12 h-12 object-contain drop-shadow-lg"}),y.jsx("div",{className:"absolute -top-2 -right-2",children:y.jsx(pI,{className:"w-6 h-6 text-accent-gold animate-bounce-gentle"})})]}),y.jsx("h1",{className:K("text-3xl font-bold tracking-tight mb-2",s?"text-slate-900":"text-white"),children:"SunSar Bingo"}),y.jsx("p",{className:K("text-sm font-medium",s?"text-slate-500":"text-slate-400"),children:"The social way to achieve your 2026 goals."})]}),y.jsx("div",{className:K("backdrop-blur-md border rounded-2xl p-6 sm:p-8 shadow-2xl",s?"bg-white/80 border-slate-200 shadow-slate-200/50":"bg-slate-900/50 border-white/10 shadow-black/50"),children:y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"text-left space-y-2",children:[y.jsx("h2",{className:K("text-xl font-semibold",s?"text-slate-900":"text-white"),children:"Welcome back"}),y.jsx("p",{className:K("text-sm",s?"text-slate-500":"text-slate-400"),children:"Sign in to continue to your bingo boards."})]}),e&&y.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-500 px-4 py-3 rounded-xl text-sm flex items-start text-left",children:[y.jsx("span",{className:"mr-2",children:""}),e]}),y.jsxs("button",{onClick:t,className:K("group relative w-full flex items-center justify-center gap-3 px-4 py-3 font-bold rounded-xl transition-all duration-200 shadow-lg hover:tracking-wide active:scale-[0.98]",s?"bg-slate-900 text-white hover:bg-slate-800 shadow-slate-300":"bg-white text-slate-900 hover:bg-slate-200 shadow-white/5"),children:[y.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"G",className:"w-5 h-5"}),y.jsx("span",{children:"Continue with Google"}),y.jsx(SB,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),y.jsxs("div",{className:"relative my-6",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("span",{className:K("w-full border-t",s?"border-slate-200":"border-white/10")})}),y.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:y.jsx("span",{className:K("px-2",s?"bg-white/0 text-slate-400":"bg-transparent text-slate-500"),children:"New to SunSar?"})})]}),y.jsx(vv,{to:"/help",className:K("block w-full py-3 px-4 rounded-xl border font-medium transition-colors text-sm",s?"border-slate-200 text-slate-600 hover:bg-slate-50 hover:text-slate-900":"border-white/10 text-slate-300 hover:bg-white/5 hover:text-white"),children:"Check out how it works"})]})}),y.jsx("div",{className:"mt-8 text-center",children:y.jsxs("p",{className:"text-xs text-slate-500",children:[" 2026 SunSar Bingo  ",y.jsx("a",{href:"#",className:"hover:text-slate-400 underline decoration-slate-700",children:"Privacy"}),"  ",y.jsx("a",{href:"#",className:"hover:text-slate-400 underline decoration-slate-700",children:"Terms"})]})})]})]})};var Zb={};(function t(e,n,s,a){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",h=(function(){if(!e.OffscreenCanvas)return!1;try{var L=new OffscreenCanvas(1,1),T=L.getContext("2d");T.fillRect(0,0,1,1);var U=L.transferToImageBitmap();T.createPattern(U,"no-repeat")}catch{return!1}return!0})();function d(){}function m(L){var T=n.exports.Promise,U=T!==void 0?T:e.Promise;return typeof U=="function"?new U(L):(L(d,d),null)}var g=(function(L,T){return{transform:function(U){if(L)return U;if(T.has(U))return T.get(U);var X=new OffscreenCanvas(U.width,U.height),ne=X.getContext("2d");return ne.drawImage(U,0,0),T.set(U,X),X},clear:function(){T.clear()}}})(h,new Map),b=(function(){var L=Math.floor(16.666666666666668),T,U,X={},ne=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(T=function(pe){var ye=Math.random();return X[ye]=requestAnimationFrame(function ge(Ee){ne===Ee||ne+L-1<Ee?(ne=Ee,delete X[ye],pe()):X[ye]=requestAnimationFrame(ge)}),ye},U=function(pe){X[pe]&&cancelAnimationFrame(X[pe])}):(T=function(pe){return setTimeout(pe,L)},U=function(pe){return clearTimeout(pe)}),{frame:T,cancel:U}})(),x=(function(){var L,T,U={};function X(ne){function pe(ye,ge){ne.postMessage({options:ye||{},callback:ge})}ne.init=function(ge){var Ee=ge.transferControlToOffscreen();ne.postMessage({canvas:Ee},[Ee])},ne.fire=function(ge,Ee,Te){if(T)return pe(ge,null),T;var Se=Math.random().toString(36).slice(2);return T=m(function(Be){function Ue(tt){tt.data.callback===Se&&(delete U[Se],ne.removeEventListener("message",Ue),T=null,g.clear(),Te(),Be())}ne.addEventListener("message",Ue),pe(ge,Se),U[Se]=Ue.bind(null,{data:{callback:Se}})}),T},ne.reset=function(){ne.postMessage({reset:!0});for(var ge in U)U[ge](),delete U[ge]}}return function(){if(L)return L;if(!s&&l){var ne=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{L=new Worker(URL.createObjectURL(new Blob([ne])))}catch(pe){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",pe),null}X(L)}return L}})(),A={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function I(L,T){return T?T(L):L}function D(L){return L!=null}function R(L,T,U){return I(L&&D(L[T])?L[T]:A[T],U)}function j(L){return L<0?0:Math.floor(L)}function q(L,T){return Math.floor(Math.random()*(T-L))+L}function H(L){return parseInt(L,16)}function ae(L){return L.map(ie)}function ie(L){var T=String(L).replace(/[^0-9a-f]/gi,"");return T.length<6&&(T=T[0]+T[0]+T[1]+T[1]+T[2]+T[2]),{r:H(T.substring(0,2)),g:H(T.substring(2,4)),b:H(T.substring(4,6))}}function ue(L){var T=R(L,"origin",Object);return T.x=R(T,"x",Number),T.y=R(T,"y",Number),T}function k(L){L.width=document.documentElement.clientWidth,L.height=document.documentElement.clientHeight}function C(L){var T=L.getBoundingClientRect();L.width=T.width,L.height=T.height}function P(L){var T=document.createElement("canvas");return T.style.position="fixed",T.style.top="0px",T.style.left="0px",T.style.pointerEvents="none",T.style.zIndex=L,T}function z(L,T,U,X,ne,pe,ye,ge,Ee){L.save(),L.translate(T,U),L.rotate(pe),L.scale(X,ne),L.arc(0,0,1,ye,ge,Ee),L.restore()}function B(L){var T=L.angle*(Math.PI/180),U=L.spread*(Math.PI/180);return{x:L.x,y:L.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:L.startVelocity*.5+Math.random()*L.startVelocity,angle2D:-T+(.5*U-Math.random()*U),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:L.color,shape:L.shape,tick:0,totalTicks:L.ticks,decay:L.decay,drift:L.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:L.gravity*3,ovalScalar:.6,scalar:L.scalar,flat:L.flat}}function V(L,T){T.x+=Math.cos(T.angle2D)*T.velocity+T.drift,T.y+=Math.sin(T.angle2D)*T.velocity+T.gravity,T.velocity*=T.decay,T.flat?(T.wobble=0,T.wobbleX=T.x+10*T.scalar,T.wobbleY=T.y+10*T.scalar,T.tiltSin=0,T.tiltCos=0,T.random=1):(T.wobble+=T.wobbleSpeed,T.wobbleX=T.x+10*T.scalar*Math.cos(T.wobble),T.wobbleY=T.y+10*T.scalar*Math.sin(T.wobble),T.tiltAngle+=.1,T.tiltSin=Math.sin(T.tiltAngle),T.tiltCos=Math.cos(T.tiltAngle),T.random=Math.random()+2);var U=T.tick++/T.totalTicks,X=T.x+T.random*T.tiltCos,ne=T.y+T.random*T.tiltSin,pe=T.wobbleX+T.random*T.tiltCos,ye=T.wobbleY+T.random*T.tiltSin;if(L.fillStyle="rgba("+T.color.r+", "+T.color.g+", "+T.color.b+", "+(1-U)+")",L.beginPath(),c&&T.shape.type==="path"&&typeof T.shape.path=="string"&&Array.isArray(T.shape.matrix))L.fill(W(T.shape.path,T.shape.matrix,T.x,T.y,Math.abs(pe-X)*.1,Math.abs(ye-ne)*.1,Math.PI/10*T.wobble));else if(T.shape.type==="bitmap"){var ge=Math.PI/10*T.wobble,Ee=Math.abs(pe-X)*.1,Te=Math.abs(ye-ne)*.1,Se=T.shape.bitmap.width*T.scalar,Be=T.shape.bitmap.height*T.scalar,Ue=new DOMMatrix([Math.cos(ge)*Ee,Math.sin(ge)*Ee,-Math.sin(ge)*Te,Math.cos(ge)*Te,T.x,T.y]);Ue.multiplySelf(new DOMMatrix(T.shape.matrix));var tt=L.createPattern(g.transform(T.shape.bitmap),"no-repeat");tt.setTransform(Ue),L.globalAlpha=1-U,L.fillStyle=tt,L.fillRect(T.x-Se/2,T.y-Be/2,Se,Be),L.globalAlpha=1}else if(T.shape==="circle")L.ellipse?L.ellipse(T.x,T.y,Math.abs(pe-X)*T.ovalScalar,Math.abs(ye-ne)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI):z(L,T.x,T.y,Math.abs(pe-X)*T.ovalScalar,Math.abs(ye-ne)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI);else if(T.shape==="star")for(var ke=Math.PI/2*3,vt=4*T.scalar,bt=8*T.scalar,Yt=T.x,Xt=T.y,ot=5,$e=Math.PI/ot;ot--;)Yt=T.x+Math.cos(ke)*bt,Xt=T.y+Math.sin(ke)*bt,L.lineTo(Yt,Xt),ke+=$e,Yt=T.x+Math.cos(ke)*vt,Xt=T.y+Math.sin(ke)*vt,L.lineTo(Yt,Xt),ke+=$e;else L.moveTo(Math.floor(T.x),Math.floor(T.y)),L.lineTo(Math.floor(T.wobbleX),Math.floor(ne)),L.lineTo(Math.floor(pe),Math.floor(ye)),L.lineTo(Math.floor(X),Math.floor(T.wobbleY));return L.closePath(),L.fill(),T.tick<T.totalTicks}function O(L,T,U,X,ne){var pe=T.slice(),ye=L.getContext("2d"),ge,Ee,Te=m(function(Se){function Be(){ge=Ee=null,ye.clearRect(0,0,X.width,X.height),g.clear(),ne(),Se()}function Ue(){s&&!(X.width===a.width&&X.height===a.height)&&(X.width=L.width=a.width,X.height=L.height=a.height),!X.width&&!X.height&&(U(L),X.width=L.width,X.height=L.height),ye.clearRect(0,0,X.width,X.height),pe=pe.filter(function(tt){return V(ye,tt)}),pe.length?ge=b.frame(Ue):Be()}ge=b.frame(Ue),Ee=Be});return{addFettis:function(Se){return pe=pe.concat(Se),Te},canvas:L,promise:Te,reset:function(){ge&&b.cancel(ge),Ee&&Ee()}}}function we(L,T){var U=!L,X=!!R(T||{},"resize"),ne=!1,pe=R(T,"disableForReducedMotion",Boolean),ye=l&&!!R(T||{},"useWorker"),ge=ye?x():null,Ee=U?k:C,Te=L&&ge?!!L.__confetti_initialized:!1,Se=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Be;function Ue(ke,vt,bt){for(var Yt=R(ke,"particleCount",j),Xt=R(ke,"angle",Number),ot=R(ke,"spread",Number),$e=R(ke,"startVelocity",Number),Rn=R(ke,"decay",Number),rn=R(ke,"gravity",Number),ds=R(ke,"drift",Number),zt=R(ke,"colors",ae),_s=R(ke,"ticks",Number),Ts=R(ke,"shapes"),Pn=R(ke,"scalar"),kt=!!R(ke,"flat"),fs=ue(ke),Es=Yt,yn=[],bi=L.width*fs.x,jn=L.height*fs.y;Es--;)yn.push(B({x:bi,y:jn,angle:Xt,spread:ot,startVelocity:$e,color:zt[Es%zt.length],shape:Ts[q(0,Ts.length)],ticks:_s,decay:Rn,gravity:rn,drift:ds,scalar:Pn,flat:kt}));return Be?Be.addFettis(yn):(Be=O(L,yn,Ee,vt,bt),Be.promise)}function tt(ke){var vt=pe||R(ke,"disableForReducedMotion",Boolean),bt=R(ke,"zIndex",Number);if(vt&&Se)return m(function($e){$e()});U&&Be?L=Be.canvas:U&&!L&&(L=P(bt),document.body.appendChild(L)),X&&!Te&&Ee(L);var Yt={width:L.width,height:L.height};ge&&!Te&&ge.init(L),Te=!0,ge&&(L.__confetti_initialized=!0);function Xt(){if(ge){var $e={getBoundingClientRect:function(){if(!U)return L.getBoundingClientRect()}};Ee($e),ge.postMessage({resize:{width:$e.width,height:$e.height}});return}Yt.width=Yt.height=null}function ot(){Be=null,X&&(ne=!1,e.removeEventListener("resize",Xt)),U&&L&&(document.body.contains(L)&&document.body.removeChild(L),L=null,Te=!1)}return X&&!ne&&(ne=!0,e.addEventListener("resize",Xt,!1)),ge?ge.fire(ke,Yt,ot):Ue(ke,Yt,ot)}return tt.reset=function(){ge&&ge.reset(),Be&&Be.reset()},tt}var xe;function Z(){return xe||(xe=we(null,{useWorker:!0,resize:!0})),xe}function W(L,T,U,X,ne,pe,ye){var ge=new Path2D(L),Ee=new Path2D;Ee.addPath(ge,new DOMMatrix(T));var Te=new Path2D;return Te.addPath(Ee,new DOMMatrix([Math.cos(ye)*ne,Math.sin(ye)*ne,-Math.sin(ye)*pe,Math.cos(ye)*pe,U,X])),Te}function $(L){if(!c)throw new Error("path confetti are not supported in this browser");var T,U;typeof L=="string"?T=L:(T=L.path,U=L.matrix);var X=new Path2D(T),ne=document.createElement("canvas"),pe=ne.getContext("2d");if(!U){for(var ye=1e3,ge=ye,Ee=ye,Te=0,Se=0,Be,Ue,tt=0;tt<ye;tt+=2)for(var ke=0;ke<ye;ke+=2)pe.isPointInPath(X,tt,ke,"nonzero")&&(ge=Math.min(ge,tt),Ee=Math.min(Ee,ke),Te=Math.max(Te,tt),Se=Math.max(Se,ke));Be=Te-ge,Ue=Se-Ee;var vt=10,bt=Math.min(vt/Be,vt/Ue);U=[bt,0,0,bt,-Math.round(Be/2+ge)*bt,-Math.round(Ue/2+Ee)*bt]}return{type:"path",path:T,matrix:U}}function Y(L){var T,U=1,X="#000000",ne='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof L=="string"?T=L:(T=L.text,U="scalar"in L?L.scalar:U,ne="fontFamily"in L?L.fontFamily:ne,X="color"in L?L.color:X);var pe=10*U,ye=""+pe+"px "+ne,ge=new OffscreenCanvas(pe,pe),Ee=ge.getContext("2d");Ee.font=ye;var Te=Ee.measureText(T),Se=Math.ceil(Te.actualBoundingBoxRight+Te.actualBoundingBoxLeft),Be=Math.ceil(Te.actualBoundingBoxAscent+Te.actualBoundingBoxDescent),Ue=2,tt=Te.actualBoundingBoxLeft+Ue,ke=Te.actualBoundingBoxAscent+Ue;Se+=Ue+Ue,Be+=Ue+Ue,ge=new OffscreenCanvas(Se,Be),Ee=ge.getContext("2d"),Ee.font=ye,Ee.fillStyle=X,Ee.fillText(T,tt,ke);var vt=1/U;return{type:"bitmap",bitmap:ge.transferToImageBitmap(),matrix:[vt,0,0,vt,-Se*vt/2,-Be*vt/2]}}n.exports=function(){return Z().apply(this,arguments)},n.exports.reset=function(){Z().reset()},n.exports.create=we,n.exports.shapeFromPath=$,n.exports.shapeFromText=Y})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Zb,!1);const av=Zb.exports;Zb.exports.create;const Ru=(t=1)=>{const e=200*t,n={origin:{y:.7}};function s(a,l){av(Object.assign({},n,l,{particleCount:Math.floor(e*a)}))}s(.25,{spread:26,startVelocity:55}),s(.2,{spread:60}),s(.35,{spread:100,decay:.91,scalar:.8}),s(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),s(.1,{spread:120,startVelocity:45})},QS={cloudName:"dia6ped7h",uploadPreset:"bingo_proofs"},JS=async t=>{const e=new FormData;e.append("file",t),e.append("upload_preset",QS.uploadPreset),e.append("folder","bingo-proofs");const n=await fetch(`https://api.cloudinary.com/v1_1/${QS.cloudName}/image/upload`,{method:"POST",body:e});if(!n.ok){const a=await n.json();throw console.error("Cloudinary upload error:",a),new Error(a.error?.message||"Failed to upload image")}return(await n.json()).secure_url},uF="2026",t0=5,hF=["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"],dF=t=>{const{user:e}=fr(),[n,s]=S.useState([]),[a,l]=S.useState({}),[c,h]=S.useState(!0),[d,m]=S.useState(!1),[g,b]=S.useState(!1),[x,A]=S.useState(""),[I,D]=S.useState(t0),R=S.useMemo(()=>t?Fn(gt,"boards",t):Fn(gt,"years",uF),[t]),j=(W,$)=>{if(!W.length)return;const Y=[];for(let T=0;T<$;T++)Y.push(W.slice(T*$,(T+1)*$));let L=!1;for(let T=0;T<$;T++)if(Y[T]&&Y[T].every(U=>U.isCompleted||U.isFreeSpace)){L=!0;break}if(!L){for(let T=0;T<$;T++)if(Y.map(U=>U[T]).every(U=>U&&(U.isCompleted||U.isFreeSpace))){L=!0;break}}!L&&Y.map((T,U)=>T[U]).every(T=>T&&(T.isCompleted||T.isFreeSpace))&&(L=!0),!L&&Y.map((T,U)=>T[$-1-U]).every(T=>T&&(T.isCompleted||T.isFreeSpace))&&(L=!0),L&&!d?(m(!0),Ru(2)):L||m(!1)},q=async(W=t0)=>{const $=W*W,Y=W%2===1?Math.floor($/2):-1,L=[...hF].sort(()=>.5-Math.random()),T=[];let U=0;for(let X=0;X<$;X++)X===Y&&W%2===1?T.push({id:X,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(T.push({id:X,text:L[U%L.length]||`Goal ${X+1}`,isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),U++);await bm(R,{year:2026,gridSize:W,items:T,isLocked:!1,createdAt:He.now(),lastUpdated:He.now(),...e?{ownerId:e.uid,members:{[e.uid]:"owner"}}:{}},{merge:!0})};S.useEffect(()=>{if(!e)return;h(!0);const W=tc(R,$=>{if($.exists()){const Y=$.data(),L=Y.gridSize||t0;D(L),s(Y.items||[]),l(Y.members||{}),b(Y.isLocked||!1),A(Y.title||""),j(Y.items||[],L)}else q();h(!1)},$=>{console.error("Error fetching bingo board:",$),h(!1)});return()=>W()},[R,e]);const H=async W=>{if(!n.length)return;const $=n.map(U=>({...U})),Y=$[W];if(Y.isFreeSpace)return;const L=Y.targetCount||1,T=Y.currentCount||0;if(Y.isCompleted){const U=Math.max(0,T-1);Y.currentCount=U,Y.isCompleted=U>=L,U===0&&(Y.completedBy=null,Y.completedAt=null)}else{const U=Math.min(L,T+1);Y.currentCount=U,Y.isCompleted=U>=L,Y.completedBy=e?.displayName||e?.email||"Unknown",Y.completedAt=He.now(),Ru(.5)}s($),j($,I);try{await rs(R,{items:$,lastUpdated:He.now()})}catch(U){console.error("Error updating bingo board:",U)}},ae=async W=>{if(!n.length)return;const $=n.map(X=>({...X})),Y=$[W];if(Y.isFreeSpace)return;const L=Y.currentCount||0;if(L<=0)return;const T=Y.targetCount||1,U=L-1;Y.currentCount=U,Y.isCompleted=U>=T,U===0&&(Y.completedBy=null,Y.completedAt=null),s($),j($,I);try{await rs(R,{items:$,lastUpdated:He.now()})}catch(X){console.error("Error decrementing progress:",X)}},ie=async(W,$)=>{if(!(!n.length||!e))try{const Y=await JS($),L=n.map(ye=>({...ye})),T=L[W];if(T.isFreeSpace)return;const U=T.targetCount||1,X=T.currentCount||0,ne=Math.min(U,X+1);T.currentCount=ne,T.isCompleted=ne>=U,T.completedBy=e?.displayName||e?.email||"Unknown",T.completedAt=He.now();const pe=T.proofPhotos||[];T.proofPhotos=[...pe,Y],s(L),j(L,I),Ru(1),await rs(R,{items:L,lastUpdated:He.now()})}catch(Y){throw console.error("Error completing with photo:",Y),Y}},ue=async(W,$)=>{if(!n.length||!e)return;const Y=n[W];!Y.isCompleted&&(Y.currentCount||0)<(Y.targetCount||1);const L=Y.proofPhotos||[];if(L.length>=5)throw new Error("Maximum 5 photos allowed per tile");try{const T=await JS($),U=n.map(X=>({...X}));return U[W].proofPhotos=[...L,T],s(U),Ru(.3),await rs(R,{items:U,lastUpdated:He.now()}),T}catch(T){throw console.error("Error adding photo:",T),T}},k=async(W,$)=>{if(!n.length)return;const Y=n.map(U=>({...U})),L=Y[W];if(!L.proofPhotos)return;const T=[...L.proofPhotos];T.splice($,1),L.proofPhotos=T,s(Y);try{await rs(R,{items:Y,lastUpdated:He.now()})}catch(U){console.error("Error deleting photo:",U)}},C=async(W,$)=>{if(e)try{const Y=n.map(X=>({...X})),L=Y[W],T={emoji:$,by:e.uid,byName:e.displayName||e.email?.split("@")[0]||"Friend",timestamp:Date.now()},U=L.reactions||[];L.reactions=[...U,T],s(Y),await rs(R,{items:Y,lastUpdated:He.now()}),Ru(.2)}catch(Y){console.error("Error adding reaction:",Y)}},P=async(W,$)=>{const Y=n.map(L=>({...L}));$.text!==void 0&&(Y[W].text=$.text),$.style!==void 0&&(Y[W].style=$.style),s(Y);try{await rs(R,{items:Y,lastUpdated:He.now()})}catch(L){console.error("Error updating item:",L)}},z=async(W=!0)=>{const $=[...n];let Y=$;if(W){const T=I*I,U=I%2===1?Math.floor(T/2):-1;if(U!==-1){const X=$[U],ne=[...$.slice(0,U),...$.slice(U+1)];for(let pe=ne.length-1;pe>0;pe--){const ye=Math.floor(Math.random()*(pe+1));[ne[pe],ne[ye]]=[ne[ye],ne[pe]]}Y=[...ne.slice(0,U),X,...ne.slice(U)]}else{Y=[...$];for(let X=Y.length-1;X>0;X--){const ne=Math.floor(Math.random()*(X+1));[Y[X],Y[ne]]=[Y[ne],Y[X]]}}s(Y)}b(!0);const L={isLocked:!0,lastUpdated:He.now()};W&&(L.items=Y,L.itemsBackup=$),await bm(R,L,{merge:!0})},B=async()=>{try{const W=await zh(R);if(W.exists()){const $=W.data();$.itemsBackup?await rs(R,{items:$.itemsBackup,itemsBackup:vm(),isLocked:!1,lastUpdated:He.now()}):await rs(R,{isLocked:!1,lastUpdated:He.now()})}}catch(W){console.error("Error unlocking board:",W)}},V=S.useMemo(()=>{const W=[[0,1,2,3,4],[5,6,7,8,9],[10,11,12,13,14],[15,16,17,18,19],[20,21,22,23,24],[0,5,10,15,20],[1,6,11,16,21],[2,7,12,17,22],[3,8,13,18,23],[4,9,14,19,24],[0,6,12,18,24],[4,8,12,16,20]],$=new Set(n.map((Y,L)=>Y.isCompleted||Y.isFreeSpace?L:-1));return W.reduce((Y,L)=>L.every(T=>$.has(T))?Y+1:Y,0)},[n]);return{items:n,members:a,loading:c,toggleItem:H,updateItem:P,hasWon:d,bingoCount:V,isLocked:g,unlockBoard:B,jumbleAndLock:z,saveBoard:async W=>{s(W);try{await rs(R,{items:W,lastUpdated:He.now()})}catch($){console.error("Error saving board:",$)}},completeWithPhoto:ie,addPhotoToTile:ue,deletePhoto:k,addReaction:C,decrementProgress:ae,inviteUser:async(W,$="editor")=>{try{const Y=Ua(di(gt,"users"),er("email","==",W)),L=await qo(Y);if(L.empty)return{success:!1,type:"not_found",message:"User not found"};const T=L.docs[0],U=T.id;return await rs(R,{[`members.${U}`]:$}),{success:!0,type:"success",message:`Added ${T.data().displayName||W} as ${$}!`}}catch(Y){return console.error("Error inviting user:",Y),{success:!1,type:"error",message:"Failed to invite user"}}},removeMember:async W=>{try{return await rs(R,{[`members.${W}`]:vm()}),{success:!0}}catch($){return console.error("Error removing member:",$),{success:!1,error:$}}},title:x,gridSize:I,updateTitle:async W=>{try{await rs(R,{title:W,lastUpdated:He.now()}),A(W)}catch($){console.error("Error updating title:",$)}}}};let Qu=null;const Nu=()=>(Qu||(Qu=new(window.AudioContext||window.webkitAudioContext)),Qu),fF=()=>{const{settings:t}=hs(),e=t.enableSound??!0,n=S.useRef(0);S.useEffect(()=>{const g=()=>{Qu?.state==="suspended"&&Qu.resume()};return document.addEventListener("click",g,{once:!0}),document.addEventListener("touchstart",g,{once:!0}),()=>{document.removeEventListener("click",g),document.removeEventListener("touchstart",g)}},[]);const s=S.useCallback(()=>{const g=Date.now();return g-n.current<50?!1:(n.current=g,!0)},[]),a=S.useCallback(()=>{if(!(!e||!s()))try{const g=Nu(),b=g.createOscillator(),x=g.createGain();b.connect(x),x.connect(g.destination),b.frequency.setValueAtTime(800,g.currentTime),b.frequency.exponentialRampToValueAtTime(400,g.currentTime+.1),b.type="sine",x.gain.setValueAtTime(.15,g.currentTime),x.gain.exponentialRampToValueAtTime(.001,g.currentTime+.1),b.start(g.currentTime),b.stop(g.currentTime+.1)}catch(g){console.warn("Audio playback failed:",g)}},[e,s]),l=S.useCallback(()=>{if(!(!e||!s()))try{const g=Nu();[523.25,659.25,783.99].forEach((x,A)=>{const I=g.createOscillator(),D=g.createGain();I.connect(D),D.connect(g.destination),I.frequency.setValueAtTime(x,g.currentTime),I.type="sine";const R=g.currentTime+A*.08;D.gain.setValueAtTime(0,R),D.gain.linearRampToValueAtTime(.12,R+.02),D.gain.exponentialRampToValueAtTime(.001,R+.3),I.start(R),I.stop(R+.3)})}catch(g){console.warn("Audio playback failed:",g)}},[e,s]),c=S.useCallback(()=>{if(e)try{const g=Nu();[{freq:523.25,time:0},{freq:659.25,time:.1},{freq:783.99,time:.2},{freq:1046.5,time:.35},{freq:1318.51,time:.5}].forEach(({freq:I,time:D})=>{const R=g.createOscillator(),j=g.createGain();R.connect(j),j.connect(g.destination),R.frequency.setValueAtTime(I,g.currentTime+D),R.type="sine",j.gain.setValueAtTime(0,g.currentTime+D),j.gain.linearRampToValueAtTime(.2,g.currentTime+D+.02),j.gain.exponentialRampToValueAtTime(.001,g.currentTime+D+.5),R.start(g.currentTime+D),R.stop(g.currentTime+D+.5)});const x=g.createOscillator(),A=g.createGain();x.connect(A),A.connect(g.destination),x.type="sine",x.frequency.setValueAtTime(2e3,g.currentTime+.6),x.frequency.exponentialRampToValueAtTime(4e3,g.currentTime+1.2),A.gain.setValueAtTime(0,g.currentTime+.6),A.gain.linearRampToValueAtTime(.05,g.currentTime+.7),A.gain.exponentialRampToValueAtTime(.001,g.currentTime+1.2),x.start(g.currentTime+.6),x.stop(g.currentTime+1.2)}catch(g){console.warn("Audio playback failed:",g)}},[e]),h=S.useRef(null),d=S.useCallback(()=>{if(!(!e||!s()))try{const g=Nu();if(!h.current){const I=g.sampleRate*.15,D=g.createBuffer(1,I,g.sampleRate),R=D.getChannelData(0);for(let j=0;j<I;j++)R[j]=(Math.random()*2-1)*(1-j/I);h.current=D}const b=g.createBufferSource(),x=g.createBiquadFilter(),A=g.createGain();b.buffer=h.current,x.type="lowpass",x.frequency.setValueAtTime(2e3,g.currentTime),x.frequency.exponentialRampToValueAtTime(500,g.currentTime+.15),b.connect(x),x.connect(A),A.connect(g.destination),A.gain.setValueAtTime(.08,g.currentTime),A.gain.exponentialRampToValueAtTime(.001,g.currentTime+.15),b.start(g.currentTime)}catch(g){console.warn("Audio playback failed:",g)}},[e,s]),m=S.useCallback(()=>{if(!(!e||!s()))try{const g=Nu(),b=g.createOscillator(),x=g.createGain();b.connect(x),x.connect(g.destination),b.frequency.setValueAtTime(200,g.currentTime),b.frequency.linearRampToValueAtTime(150,g.currentTime+.2),b.type="sine",x.gain.setValueAtTime(.15,g.currentTime),x.gain.exponentialRampToValueAtTime(.001,g.currentTime+.2),b.start(g.currentTime),b.stop(g.currentTime+.2)}catch(g){console.warn("Audio playback failed:",g)}},[e,s]);return{playClick:a,playSuccess:l,playBingo:c,playWhoosh:d,playError:m}},mF=({items:t,isOpen:e,onClose:n})=>{const[s,a]=S.useState(null),{settings:l}=hs(),c=l.theme==="light",h=S.useMemo(()=>t.map((g,b)=>({...g,originalIndex:b})).filter(g=>g.proofPhotos&&g.proofPhotos.length>0).sort((g,b)=>{const x=g.completedAt?.toDate?.()||new Date(0);return(b.completedAt?.toDate?.()||new Date(0)).getTime()-x.getTime()}),[t]),d=S.useMemo(()=>{const g={};return h.forEach(b=>{const A=(b.completedAt?.toDate?.()||new Date).toLocaleDateString("en-US",{month:"long",year:"numeric"});g[A]||(g[A]=[]),g[A].push(b)}),g},[h]),m=g=>g?(g.toDate?g.toDate():new Date(g)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"";return e?y.jsx(fi,{children:y.jsxs(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:K("fixed inset-0 z-[200] overflow-y-auto",c?"bg-slate-50":"bg-bg-dark"),children:[y.jsx("div",{className:K("sticky top-0 z-10 backdrop-blur-md border-b",c?"bg-white/95 border-slate-200":"bg-bg-dark/95 border-white/10"),children:y.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Nm,{className:"w-6 h-6 text-accent-gold"}),y.jsx("h1",{className:K("text-xl font-bold",c?"text-slate-800":"text-white"),children:"2026 Memories"}),y.jsxs("span",{className:"text-sm text-slate-400",children:["(",h.length," moments)"]})]}),y.jsx("button",{onClick:n,className:K("p-2 transition-colors rounded-full",c?"text-slate-500 hover:text-slate-800 hover:bg-slate-100":"text-slate-400 hover:text-white hover:bg-white/10"),children:y.jsx(ar,{size:24})})]})}),y.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6",children:h.length===0?y.jsxs("div",{className:"text-center py-20",children:[y.jsx(Nm,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),y.jsx("h2",{className:"text-xl font-semibold text-slate-400 mb-2",children:"No memories yet"}),y.jsx("p",{className:"text-slate-500",children:"Complete tasks and add photos to build your 2026 album!"})]}):Object.entries(d).map(([g,b])=>y.jsxs("div",{className:"mb-8",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[y.jsx(Im,{className:"w-4 h-4 text-accent-primary"}),y.jsx("h2",{className:"text-lg font-semibold text-accent-primary",children:g}),y.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-accent-primary/30 to-transparent"})]}),y.jsx("div",{className:"space-y-6",children:b.map((x,A)=>y.jsxs(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:A*.1},className:K("rounded-2xl border overflow-hidden shadow-xl",c?"bg-white border-slate-200 shadow-slate-200/50":"bg-bg-card/80 border-white/10"),children:[y.jsxs("div",{className:"relative aspect-video bg-black cursor-pointer",onClick:()=>a({memoryIdx:h.indexOf(x),photoIdx:0}),children:[y.jsx("img",{src:x.proofPhotos[0],alt:x.text,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}),x.proofPhotos.length>1&&y.jsxs("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/70 rounded-full text-white text-xs font-medium",children:["+",x.proofPhotos.length-1," more"]})]}),x.proofPhotos.length>1&&y.jsx("div",{className:"flex gap-1 p-2 bg-black/30 overflow-x-auto",children:x.proofPhotos.map((I,D)=>y.jsx("button",{onClick:()=>a({memoryIdx:h.indexOf(x),photoIdx:D}),className:"w-14 h-14 rounded-lg overflow-hidden flex-shrink-0 border-2 border-transparent hover:border-accent-primary transition-all",children:y.jsx("img",{src:I,alt:"",className:"w-full h-full object-cover"})},D))}),y.jsxs("div",{className:"p-4",children:[y.jsxs("h3",{className:K("text-lg font-semibold mb-2 flex items-center gap-2",c?"text-slate-800":"text-white"),children:[y.jsx("span",{className:"text-accent-gold",children:x.isCompleted?"":""}),x.text]}),y.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(yh,{size:14}),x.isCompleted?x.completedBy:"In Progress"]}),x.isCompleted&&y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(Im,{size:14}),m(x.completedAt)]})]})]})]},x.id))})]},g))}),y.jsx(fi,{children:s!==null&&h[s.memoryIdx]&&y.jsxs(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[300] bg-black/95 flex items-center justify-center p-4",onClick:()=>a(null),children:[y.jsx("button",{onClick:()=>a(null),className:"absolute top-4 right-4 p-2 text-white/70 hover:text-white",children:y.jsx(ar,{size:32})}),(()=>{const g=h[s.memoryIdx],b=g.proofPhotos||[],x=s.photoIdx;return y.jsxs("div",{className:"relative max-w-4xl w-full",onClick:A=>A.stopPropagation(),children:[y.jsx("img",{src:b[x],alt:"",className:"w-full max-h-[80vh] object-contain rounded-lg"}),b.length>1&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>a({...s,photoIdx:x>0?x-1:b.length-1}),className:"absolute left-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:y.jsx(uI,{size:28})}),y.jsx("button",{onClick:()=>a({...s,photoIdx:x<b.length-1?x+1:0}),className:"absolute right-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:y.jsx(hI,{size:28})})]}),y.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:[y.jsx("p",{className:"text-white font-semibold",children:g.text}),y.jsxs("p",{className:"text-slate-300 text-sm",children:[x+1," / ",b.length,"  ",m(g.completedAt)]})]})]})})()]})})]})}):null},pF=({items:t})=>{const[e,n]=S.useState([]),s=S.useRef({}),a=S.useRef(!1),{settings:l}=hs(),c=l.theme==="light";S.useEffect(()=>{if(!a.current){t.forEach(d=>{s.current[d.id]=d.reactions?.length||0}),a.current=!0;return}t.forEach(d=>{const m=d.reactions?.length||0,g=s.current[d.id]||0;m>g&&d.reactions.slice(g).forEach(x=>{h(x)}),s.current[d.id]=m})},[t]);const h=d=>{const m=Math.random().toString(36).substring(7),g=Math.random()*80+10;n(b=>[...b,{...d,id:m,x:g}]),setTimeout(()=>{n(b=>b.filter(x=>x.id!==m))},4e3)};return y.jsx("div",{className:"fixed inset-0 pointer-events-none z-[100] overflow-hidden",children:y.jsx(fi,{children:e.map(d=>y.jsxs(Xe.div,{initial:{y:"110vh",opacity:0,x:`${d.x}vw`,scale:.5,rotate:0},animate:{y:"-10vh",opacity:[0,1,1,0],scale:[.5,1.5,1.2],rotate:[0,-10,10,0]},transition:{duration:4,ease:"easeOut"},className:"absolute top-0 flex flex-col items-center",children:[y.jsx("span",{className:"text-6xl drop-shadow-2xl filter",children:d.emoji}),d.byName&&y.jsx("div",{className:K("text-sm font-bold text-center mt-2 px-3 py-1 rounded-full backdrop-blur-md border shadow-lg",c?"bg-white/80 text-slate-800 border-slate-200":"bg-black/40 text-white/90 border-white/10"),children:d.byName})]},d.id))})})};function gF(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return S.useMemo(()=>s=>{e.forEach(a=>a(s))},e)}const pp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Rc(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function ex(t){return"nodeType"in t}function ws(t){var e,n;return t?Rc(t)?t:ex(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function tx(t){const{Document:e}=ws(t);return t instanceof e}function Gh(t){return Rc(t)?!1:t instanceof ws(t).HTMLElement}function DI(t){return t instanceof ws(t).SVGElement}function Nc(t){return t?Rc(t)?t.document:ex(t)?tx(t)?t:Gh(t)||DI(t)?t.ownerDocument:document:document:document}const Li=pp?S.useLayoutEffect:S.useEffect;function gp(t){const e=S.useRef(t);return Li(()=>{e.current=t}),S.useCallback(function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e.current==null?void 0:e.current(...s)},[])}function yF(){const t=S.useRef(null),e=S.useCallback((s,a)=>{t.current=setInterval(s,a)},[]),n=S.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function vh(t,e){e===void 0&&(e=[t]);const n=S.useRef(t);return Li(()=>{n.current!==t&&(n.current=t)},e),n}function $h(t,e){const n=S.useRef();return S.useMemo(()=>{const s=t(n.current);return n.current=s,s},[...e])}function Mm(t){const e=gp(t),n=S.useRef(null),s=S.useCallback(a=>{a!==n.current&&e?.(a,n.current),n.current=a},[]);return[n,s]}function Pm(t){const e=S.useRef();return S.useEffect(()=>{e.current=t},[t]),e.current}let n0={};function Kh(t,e){return S.useMemo(()=>{if(e)return e;const n=n0[t]==null?0:n0[t]+1;return n0[t]=n,t+"-"+n},[t,e])}function kI(t){return function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return s.reduce((l,c)=>{const h=Object.entries(c);for(const[d,m]of h){const g=l[d];g!=null&&(l[d]=g+t*m)}return l},{...e})}}const sc=kI(1),bh=kI(-1);function vF(t){return"clientX"in t&&"clientY"in t}function yp(t){if(!t)return!1;const{KeyboardEvent:e}=ws(t.target);return e&&t instanceof e}function bF(t){if(!t)return!1;const{TouchEvent:e}=ws(t.target);return e&&t instanceof e}function jm(t){if(bF(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return vF(t)?{x:t.clientX,y:t.clientY}:null}const Ja=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Ja.Translate.toString(t),Ja.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:s}=t;return e+" "+n+"ms "+s}}}),ZS="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function xF(t){return t.matches(ZS)?t:t.querySelector(ZS)}const wF={display:"none"};function _F(t){let{id:e,value:n}=t;return St.createElement("div",{id:e,style:wF},n)}function TF(t){let{id:e,announcement:n,ariaLiveType:s="assertive"}=t;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return St.createElement("div",{id:e,style:a,role:"status","aria-live":s,"aria-atomic":!0},n)}function EF(){const[t,e]=S.useState("");return{announce:S.useCallback(s=>{s!=null&&e(s)},[]),announcement:t}}const MI=S.createContext(null);function SF(t){const e=S.useContext(MI);S.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function AF(){const[t]=S.useState(()=>new Set),e=S.useCallback(s=>(t.add(s),()=>t.delete(s)),[t]);return[S.useCallback(s=>{let{type:a,event:l}=s;t.forEach(c=>{var h;return(h=c[a])==null?void 0:h.call(c,l)})},[t]),e]}const CF={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},RF={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function NF(t){let{announcements:e=RF,container:n,hiddenTextDescribedById:s,screenReaderInstructions:a=CF}=t;const{announce:l,announcement:c}=EF(),h=Kh("DndLiveRegion"),[d,m]=S.useState(!1);if(S.useEffect(()=>{m(!0)},[]),SF(S.useMemo(()=>({onDragStart(b){let{active:x}=b;l(e.onDragStart({active:x}))},onDragMove(b){let{active:x,over:A}=b;e.onDragMove&&l(e.onDragMove({active:x,over:A}))},onDragOver(b){let{active:x,over:A}=b;l(e.onDragOver({active:x,over:A}))},onDragEnd(b){let{active:x,over:A}=b;l(e.onDragEnd({active:x,over:A}))},onDragCancel(b){let{active:x,over:A}=b;l(e.onDragCancel({active:x,over:A}))}}),[l,e])),!d)return null;const g=St.createElement(St.Fragment,null,St.createElement(_F,{id:s,value:a.draggable}),St.createElement(TF,{id:h,announcement:c}));return n?Du.createPortal(g,n):g}var kn;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(kn||(kn={}));function Om(){}function eA(t,e){return S.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function IF(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return S.useMemo(()=>[...e].filter(s=>s!=null),[...e])}const Ui=Object.freeze({x:0,y:0});function PI(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function DF(t,e){const n=jm(t);if(!n)return"0 0";const s={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return s.x+"% "+s.y+"%"}function jI(t,e){let{data:{value:n}}=t,{data:{value:s}}=e;return n-s}function kF(t,e){let{data:{value:n}}=t,{data:{value:s}}=e;return s-n}function tA(t){let{left:e,top:n,height:s,width:a}=t;return[{x:e,y:n},{x:e+a,y:n},{x:e,y:n+s},{x:e+a,y:n+s}]}function OI(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function nA(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const MF=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=t;const a=nA(e,e.left,e.top),l=[];for(const c of s){const{id:h}=c,d=n.get(h);if(d){const m=PI(nA(d),a);l.push({id:h,data:{droppableContainer:c,value:m}})}}return l.sort(jI)},PF=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=t;const a=tA(e),l=[];for(const c of s){const{id:h}=c,d=n.get(h);if(d){const m=tA(d),g=a.reduce((x,A,I)=>x+PI(m[I],A),0),b=Number((g/4).toFixed(4));l.push({id:h,data:{droppableContainer:c,value:b}})}}return l.sort(jI)};function jF(t,e){const n=Math.max(e.top,t.top),s=Math.max(e.left,t.left),a=Math.min(e.left+e.width,t.left+t.width),l=Math.min(e.top+e.height,t.top+t.height),c=a-s,h=l-n;if(s<a&&n<l){const d=e.width*e.height,m=t.width*t.height,g=c*h,b=g/(d+m-g);return Number(b.toFixed(4))}return 0}const OF=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=t;const a=[];for(const l of s){const{id:c}=l,h=n.get(c);if(h){const d=jF(h,e);d>0&&a.push({id:c,data:{droppableContainer:l,value:d}})}}return a.sort(kF)};function VF(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function VI(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Ui}function LF(t){return function(n){for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return a.reduce((c,h)=>({...c,top:c.top+t*h.y,bottom:c.bottom+t*h.y,left:c.left+t*h.x,right:c.right+t*h.x}),{...n})}}const UF=LF(1);function LI(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function zF(t,e,n){const s=LI(e);if(!s)return t;const{scaleX:a,scaleY:l,x:c,y:h}=s,d=t.left-c-(1-a)*parseFloat(n),m=t.top-h-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),g=a?t.width/a:t.width,b=l?t.height/l:t.height;return{width:g,height:b,top:m,right:d+g,bottom:m+b,left:d}}const BF={ignoreTransform:!1};function Ic(t,e){e===void 0&&(e=BF);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:m,transformOrigin:g}=ws(t).getComputedStyle(t);m&&(n=zF(n,m,g))}const{top:s,left:a,width:l,height:c,bottom:h,right:d}=n;return{top:s,left:a,width:l,height:c,bottom:h,right:d}}function sA(t){return Ic(t,{ignoreTransform:!0})}function FF(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function qF(t,e){return e===void 0&&(e=ws(t).getComputedStyle(t)),e.position==="fixed"}function HF(t,e){e===void 0&&(e=ws(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const l=e[a];return typeof l=="string"?n.test(l):!1})}function vp(t,e){const n=[];function s(a){if(e!=null&&n.length>=e||!a)return n;if(tx(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!Gh(a)||DI(a)||n.includes(a))return n;const l=ws(t).getComputedStyle(a);return a!==t&&HF(a,l)&&n.push(a),qF(a,l)?n:s(a.parentNode)}return t?s(t):n}function UI(t){const[e]=vp(t,1);return e??null}function s0(t){return!pp||!t?null:Rc(t)?t:ex(t)?tx(t)||t===Nc(t).scrollingElement?window:Gh(t)?t:null:null}function zI(t){return Rc(t)?t.scrollX:t.scrollLeft}function BI(t){return Rc(t)?t.scrollY:t.scrollTop}function ov(t){return{x:zI(t),y:BI(t)}}var Bn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Bn||(Bn={}));function FI(t){return!pp||!t?!1:t===document.scrollingElement}function qI(t){const e={x:0,y:0},n=FI(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},s={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},a=t.scrollTop<=e.y,l=t.scrollLeft<=e.x,c=t.scrollTop>=s.y,h=t.scrollLeft>=s.x;return{isTop:a,isLeft:l,isBottom:c,isRight:h,maxScroll:s,minScroll:e}}const GF={x:.2,y:.2};function $F(t,e,n,s,a){let{top:l,left:c,right:h,bottom:d}=n;s===void 0&&(s=10),a===void 0&&(a=GF);const{isTop:m,isBottom:g,isLeft:b,isRight:x}=qI(t),A={x:0,y:0},I={x:0,y:0},D={height:e.height*a.y,width:e.width*a.x};return!m&&l<=e.top+D.height?(A.y=Bn.Backward,I.y=s*Math.abs((e.top+D.height-l)/D.height)):!g&&d>=e.bottom-D.height&&(A.y=Bn.Forward,I.y=s*Math.abs((e.bottom-D.height-d)/D.height)),!x&&h>=e.right-D.width?(A.x=Bn.Forward,I.x=s*Math.abs((e.right-D.width-h)/D.width)):!b&&c<=e.left+D.width&&(A.x=Bn.Backward,I.x=s*Math.abs((e.left+D.width-c)/D.width)),{direction:A,speed:I}}function KF(t){if(t===document.scrollingElement){const{innerWidth:l,innerHeight:c}=window;return{top:0,left:0,right:l,bottom:c,width:l,height:c}}const{top:e,left:n,right:s,bottom:a}=t.getBoundingClientRect();return{top:e,left:n,right:s,bottom:a,width:t.clientWidth,height:t.clientHeight}}function HI(t){return t.reduce((e,n)=>sc(e,ov(n)),Ui)}function YF(t){return t.reduce((e,n)=>e+zI(n),0)}function XF(t){return t.reduce((e,n)=>e+BI(n),0)}function GI(t,e){if(e===void 0&&(e=Ic),!t)return;const{top:n,left:s,bottom:a,right:l}=e(t);UI(t)&&(a<=0||l<=0||n>=window.innerHeight||s>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const WF=[["x",["left","right"],YF],["y",["top","bottom"],XF]];class nx{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=vp(n),a=HI(s);this.rect={...e},this.width=e.width,this.height=e.height;for(const[l,c,h]of WF)for(const d of c)Object.defineProperty(this,d,{get:()=>{const m=h(s),g=a[l]-m;return this.rect[d]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ju{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=e}add(e,n,s){var a;(a=this.target)==null||a.addEventListener(e,n,s),this.listeners.push([e,n,s])}}function QF(t){const{EventTarget:e}=ws(t);return t instanceof e?t:Nc(t)}function i0(t,e){const n=Math.abs(t.x),s=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+s**2)>e:"x"in e&&"y"in e?n>e.x&&s>e.y:"x"in e?n>e.x:"y"in e?s>e.y:!1}var ui;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(ui||(ui={}));function iA(t){t.preventDefault()}function JF(t){t.stopPropagation()}var ct;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(ct||(ct={}));const $I={start:[ct.Space,ct.Enter],cancel:[ct.Esc],end:[ct.Space,ct.Enter,ct.Tab]},ZF=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case ct.Right:return{...n,x:n.x+25};case ct.Left:return{...n,x:n.x-25};case ct.Down:return{...n,y:n.y+25};case ct.Up:return{...n,y:n.y-25}}};class sx{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Ju(Nc(n)),this.windowListeners=new Ju(ws(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ui.Resize,this.handleCancel),this.windowListeners.add(ui.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ui.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,s=e.node.current;s&&GI(s),n(Ui)}handleKeyDown(e){if(yp(e)){const{active:n,context:s,options:a}=this.props,{keyboardCodes:l=$I,coordinateGetter:c=ZF,scrollBehavior:h="smooth"}=a,{code:d}=e;if(l.end.includes(d)){this.handleEnd(e);return}if(l.cancel.includes(d)){this.handleCancel(e);return}const{collisionRect:m}=s.current,g=m?{x:m.left,y:m.top}:Ui;this.referenceCoordinates||(this.referenceCoordinates=g);const b=c(e,{active:n,context:s.current,currentCoordinates:g});if(b){const x=bh(b,g),A={x:0,y:0},{scrollableAncestors:I}=s.current;for(const D of I){const R=e.code,{isTop:j,isRight:q,isLeft:H,isBottom:ae,maxScroll:ie,minScroll:ue}=qI(D),k=KF(D),C={x:Math.min(R===ct.Right?k.right-k.width/2:k.right,Math.max(R===ct.Right?k.left:k.left+k.width/2,b.x)),y:Math.min(R===ct.Down?k.bottom-k.height/2:k.bottom,Math.max(R===ct.Down?k.top:k.top+k.height/2,b.y))},P=R===ct.Right&&!q||R===ct.Left&&!H,z=R===ct.Down&&!ae||R===ct.Up&&!j;if(P&&C.x!==b.x){const B=D.scrollLeft+x.x,V=R===ct.Right&&B<=ie.x||R===ct.Left&&B>=ue.x;if(V&&!x.y){D.scrollTo({left:B,behavior:h});return}V?A.x=D.scrollLeft-B:A.x=R===ct.Right?D.scrollLeft-ie.x:D.scrollLeft-ue.x,A.x&&D.scrollBy({left:-A.x,behavior:h});break}else if(z&&C.y!==b.y){const B=D.scrollTop+x.y,V=R===ct.Down&&B<=ie.y||R===ct.Up&&B>=ue.y;if(V&&!x.x){D.scrollTo({top:B,behavior:h});return}V?A.y=D.scrollTop-B:A.y=R===ct.Down?D.scrollTop-ie.y:D.scrollTop-ue.y,A.y&&D.scrollBy({top:-A.y,behavior:h});break}}this.handleMove(e,sc(bh(b,this.referenceCoordinates),A))}}}handleMove(e,n){const{onMove:s}=this.props;e.preventDefault(),s(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}sx.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:s=$I,onActivation:a}=e,{active:l}=n;const{code:c}=t.nativeEvent;if(s.start.includes(c)){const h=l.activatorNode.current;return h&&t.target!==h?!1:(t.preventDefault(),a?.({event:t.nativeEvent}),!0)}return!1}}];function rA(t){return!!(t&&"distance"in t)}function aA(t){return!!(t&&"delay"in t)}class ix{constructor(e,n,s){var a;s===void 0&&(s=QF(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:l}=e,{target:c}=l;this.props=e,this.events=n,this.document=Nc(c),this.documentListeners=new Ju(this.document),this.listeners=new Ju(s),this.windowListeners=new Ju(ws(c)),this.initialCoordinates=(a=jm(l))!=null?a:Ui,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(ui.Resize,this.handleCancel),this.windowListeners.add(ui.DragStart,iA),this.windowListeners.add(ui.VisibilityChange,this.handleCancel),this.windowListeners.add(ui.ContextMenu,iA),this.documentListeners.add(ui.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(aA(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(rA(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:s,onPending:a}=this.props;a(s,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(ui.Click,JF,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ui.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:s,initialCoordinates:a,props:l}=this,{onMove:c,options:{activationConstraint:h}}=l;if(!a)return;const d=(n=jm(e))!=null?n:Ui,m=bh(a,d);if(!s&&h){if(rA(h)){if(h.tolerance!=null&&i0(m,h.tolerance))return this.handleCancel();if(i0(m,h.distance))return this.handleStart()}if(aA(h)&&i0(m,h.tolerance))return this.handleCancel();this.handlePending(h,m);return}e.cancelable&&e.preventDefault(),c(d)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===ct.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const e7={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class rx extends ix{constructor(e){const{event:n}=e,s=Nc(n.target);super(e,e7,s)}}rx.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:s}=e;return!n.isPrimary||n.button!==0?!1:(s?.({event:n}),!0)}}];const t7={move:{name:"mousemove"},end:{name:"mouseup"}};var lv;(function(t){t[t.RightClick=2]="RightClick"})(lv||(lv={}));class n7 extends ix{constructor(e){super(e,t7,Nc(e.event.target))}}n7.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:s}=e;return n.button===lv.RightClick?!1:(s?.({event:n}),!0)}}];const r0={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class s7 extends ix{constructor(e){super(e,r0)}static setup(){return window.addEventListener(r0.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(r0.move.name,e)};function e(){}}}s7.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:s}=e;const{touches:a}=n;return a.length>1?!1:(s?.({event:n}),!0)}}];var Zu;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Zu||(Zu={}));var Vm;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Vm||(Vm={}));function i7(t){let{acceleration:e,activator:n=Zu.Pointer,canScroll:s,draggingRect:a,enabled:l,interval:c=5,order:h=Vm.TreeOrder,pointerCoordinates:d,scrollableAncestors:m,scrollableAncestorRects:g,delta:b,threshold:x}=t;const A=a7({delta:b,disabled:!l}),[I,D]=yF(),R=S.useRef({x:0,y:0}),j=S.useRef({x:0,y:0}),q=S.useMemo(()=>{switch(n){case Zu.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Zu.DraggableRect:return a}},[n,a,d]),H=S.useRef(null),ae=S.useCallback(()=>{const ue=H.current;if(!ue)return;const k=R.current.x*j.current.x,C=R.current.y*j.current.y;ue.scrollBy(k,C)},[]),ie=S.useMemo(()=>h===Vm.TreeOrder?[...m].reverse():m,[h,m]);S.useEffect(()=>{if(!l||!m.length||!q){D();return}for(const ue of ie){if(s?.(ue)===!1)continue;const k=m.indexOf(ue),C=g[k];if(!C)continue;const{direction:P,speed:z}=$F(ue,C,q,e,x);for(const B of["x","y"])A[B][P[B]]||(z[B]=0,P[B]=0);if(z.x>0||z.y>0){D(),H.current=ue,I(ae,c),R.current=z,j.current=P;return}}R.current={x:0,y:0},j.current={x:0,y:0},D()},[e,ae,s,D,l,c,JSON.stringify(q),JSON.stringify(A),I,m,ie,g,JSON.stringify(x)])}const r7={x:{[Bn.Backward]:!1,[Bn.Forward]:!1},y:{[Bn.Backward]:!1,[Bn.Forward]:!1}};function a7(t){let{delta:e,disabled:n}=t;const s=Pm(e);return $h(a=>{if(n||!s||!a)return r7;const l={x:Math.sign(e.x-s.x),y:Math.sign(e.y-s.y)};return{x:{[Bn.Backward]:a.x[Bn.Backward]||l.x===-1,[Bn.Forward]:a.x[Bn.Forward]||l.x===1},y:{[Bn.Backward]:a.y[Bn.Backward]||l.y===-1,[Bn.Forward]:a.y[Bn.Forward]||l.y===1}}},[n,e,s])}function o7(t,e){const n=e!=null?t.get(e):void 0,s=n?n.node.current:null;return $h(a=>{var l;return e==null?null:(l=s??a)!=null?l:null},[s,e])}function l7(t,e){return S.useMemo(()=>t.reduce((n,s)=>{const{sensor:a}=s,l=a.activators.map(c=>({eventName:c.eventName,handler:e(c.handler,s)}));return[...n,...l]},[]),[t,e])}var xh;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(xh||(xh={}));var cv;(function(t){t.Optimized="optimized"})(cv||(cv={}));const oA=new Map;function c7(t,e){let{dragging:n,dependencies:s,config:a}=e;const[l,c]=S.useState(null),{frequency:h,measure:d,strategy:m}=a,g=S.useRef(t),b=R(),x=vh(b),A=S.useCallback(function(j){j===void 0&&(j=[]),!x.current&&c(q=>q===null?j:q.concat(j.filter(H=>!q.includes(H))))},[x]),I=S.useRef(null),D=$h(j=>{if(b&&!n)return oA;if(!j||j===oA||g.current!==t||l!=null){const q=new Map;for(let H of t){if(!H)continue;if(l&&l.length>0&&!l.includes(H.id)&&H.rect.current){q.set(H.id,H.rect.current);continue}const ae=H.node.current,ie=ae?new nx(d(ae),ae):null;H.rect.current=ie,ie&&q.set(H.id,ie)}return q}return j},[t,l,n,b,d]);return S.useEffect(()=>{g.current=t},[t]),S.useEffect(()=>{b||A()},[n,b]),S.useEffect(()=>{l&&l.length>0&&c(null)},[JSON.stringify(l)]),S.useEffect(()=>{b||typeof h!="number"||I.current!==null||(I.current=setTimeout(()=>{A(),I.current=null},h))},[h,b,A,...s]),{droppableRects:D,measureDroppableContainers:A,measuringScheduled:l!=null};function R(){switch(m){case xh.Always:return!1;case xh.BeforeDragging:return n;default:return!n}}}function ax(t,e){return $h(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function u7(t,e){return ax(t,e)}function h7(t){let{callback:e,disabled:n}=t;const s=gp(e),a=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(s)},[s,n]);return S.useEffect(()=>()=>a?.disconnect(),[a]),a}function bp(t){let{callback:e,disabled:n}=t;const s=gp(e),a=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(s)},[n]);return S.useEffect(()=>()=>a?.disconnect(),[a]),a}function d7(t){return new nx(Ic(t),t)}function lA(t,e,n){e===void 0&&(e=d7);const[s,a]=S.useState(null);function l(){a(d=>{if(!t)return null;if(t.isConnected===!1){var m;return(m=d??n)!=null?m:null}const g=e(t);return JSON.stringify(d)===JSON.stringify(g)?d:g})}const c=h7({callback(d){if(t)for(const m of d){const{type:g,target:b}=m;if(g==="childList"&&b instanceof HTMLElement&&b.contains(t)){l();break}}}}),h=bp({callback:l});return Li(()=>{l(),t?(h?.observe(t),c?.observe(document.body,{childList:!0,subtree:!0})):(h?.disconnect(),c?.disconnect())},[t]),s}function f7(t){const e=ax(t);return VI(t,e)}const cA=[];function m7(t){const e=S.useRef(t),n=$h(s=>t?s&&s!==cA&&t&&e.current&&t.parentNode===e.current.parentNode?s:vp(t):cA,[t]);return S.useEffect(()=>{e.current=t},[t]),n}function p7(t){const[e,n]=S.useState(null),s=S.useRef(t),a=S.useCallback(l=>{const c=s0(l.target);c&&n(h=>h?(h.set(c,ov(c)),new Map(h)):null)},[]);return S.useEffect(()=>{const l=s.current;if(t!==l){c(l);const h=t.map(d=>{const m=s0(d);return m?(m.addEventListener("scroll",a,{passive:!0}),[m,ov(m)]):null}).filter(d=>d!=null);n(h.length?new Map(h):null),s.current=t}return()=>{c(t),c(l)};function c(h){h.forEach(d=>{const m=s0(d);m?.removeEventListener("scroll",a)})}},[a,t]),S.useMemo(()=>t.length?e?Array.from(e.values()).reduce((l,c)=>sc(l,c),Ui):HI(t):Ui,[t,e])}function uA(t,e){e===void 0&&(e=[]);const n=S.useRef(null);return S.useEffect(()=>{n.current=null},e),S.useEffect(()=>{const s=t!==Ui;s&&!n.current&&(n.current=t),!s&&n.current&&(n.current=null)},[t]),n.current?bh(t,n.current):Ui}function g7(t){S.useEffect(()=>{if(!pp)return;const e=t.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function y7(t,e){return S.useMemo(()=>t.reduce((n,s)=>{let{eventName:a,handler:l}=s;return n[a]=c=>{l(c,e)},n},{}),[t,e])}function KI(t){return S.useMemo(()=>t?FF(t):null,[t])}const hA=[];function v7(t,e){e===void 0&&(e=Ic);const[n]=t,s=KI(n?ws(n):null),[a,l]=S.useState(hA);function c(){l(()=>t.length?t.map(d=>FI(d)?s:new nx(e(d),d)):hA)}const h=bp({callback:c});return Li(()=>{h?.disconnect(),c(),t.forEach(d=>h?.observe(d))},[t]),a}function YI(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Gh(e)?e:t}function b7(t){let{measure:e}=t;const[n,s]=S.useState(null),a=S.useCallback(m=>{for(const{target:g}of m)if(Gh(g)){s(b=>{const x=e(g);return b?{...b,width:x.width,height:x.height}:x});break}},[e]),l=bp({callback:a}),c=S.useCallback(m=>{const g=YI(m);l?.disconnect(),g&&l?.observe(g),s(g?e(g):null)},[e,l]),[h,d]=Mm(c);return S.useMemo(()=>({nodeRef:h,rect:n,setRef:d}),[n,h,d])}const x7=[{sensor:rx,options:{}},{sensor:sx,options:{}}],w7={current:{}},Wf={draggable:{measure:sA},droppable:{measure:sA,strategy:xh.WhileDragging,frequency:cv.Optimized},dragOverlay:{measure:Ic}};class eh extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,s;return(n=(s=this.get(e))==null?void 0:s.node.current)!=null?n:void 0}}const _7={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new eh,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Om},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Wf,measureDroppableContainers:Om,windowRect:null,measuringScheduled:!1},XI={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Om,draggableNodes:new Map,over:null,measureDroppableContainers:Om},Yh=S.createContext(XI),WI=S.createContext(_7);function T7(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new eh}}}function E7(t,e){switch(e.type){case kn.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case kn.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case kn.DragEnd:case kn.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case kn.RegisterDroppable:{const{element:n}=e,{id:s}=n,a=new eh(t.droppable.containers);return a.set(s,n),{...t,droppable:{...t.droppable,containers:a}}}case kn.SetDroppableDisabled:{const{id:n,key:s,disabled:a}=e,l=t.droppable.containers.get(n);if(!l||s!==l.key)return t;const c=new eh(t.droppable.containers);return c.set(n,{...l,disabled:a}),{...t,droppable:{...t.droppable,containers:c}}}case kn.UnregisterDroppable:{const{id:n,key:s}=e,a=t.droppable.containers.get(n);if(!a||s!==a.key)return t;const l=new eh(t.droppable.containers);return l.delete(n),{...t,droppable:{...t.droppable,containers:l}}}default:return t}}function S7(t){let{disabled:e}=t;const{active:n,activatorEvent:s,draggableNodes:a}=S.useContext(Yh),l=Pm(s),c=Pm(n?.id);return S.useEffect(()=>{if(!e&&!s&&l&&c!=null){if(!yp(l)||document.activeElement===l.target)return;const h=a.get(c);if(!h)return;const{activatorNode:d,node:m}=h;if(!d.current&&!m.current)return;requestAnimationFrame(()=>{for(const g of[d.current,m.current]){if(!g)continue;const b=xF(g);if(b){b.focus();break}}})}},[s,e,a,c,l]),null}function QI(t,e){let{transform:n,...s}=e;return t!=null&&t.length?t.reduce((a,l)=>l({transform:a,...s}),n):n}function A7(t){return S.useMemo(()=>({draggable:{...Wf.draggable,...t?.draggable},droppable:{...Wf.droppable,...t?.droppable},dragOverlay:{...Wf.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function C7(t){let{activeNode:e,measure:n,initialRect:s,config:a=!0}=t;const l=S.useRef(!1),{x:c,y:h}=typeof a=="boolean"?{x:a,y:a}:a;Li(()=>{if(!c&&!h||!e){l.current=!1;return}if(l.current||!s)return;const m=e?.node.current;if(!m||m.isConnected===!1)return;const g=n(m),b=VI(g,s);if(c||(b.x=0),h||(b.y=0),l.current=!0,Math.abs(b.x)>0||Math.abs(b.y)>0){const x=UI(m);x&&x.scrollBy({top:b.y,left:b.x})}},[e,c,h,s,n])}const xp=S.createContext({...Ui,scaleX:1,scaleY:1});var Ma;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Ma||(Ma={}));const R7=S.memo(function(e){var n,s,a,l;let{id:c,accessibility:h,autoScroll:d=!0,children:m,sensors:g=x7,collisionDetection:b=OF,measuring:x,modifiers:A,...I}=e;const D=S.useReducer(E7,void 0,T7),[R,j]=D,[q,H]=AF(),[ae,ie]=S.useState(Ma.Uninitialized),ue=ae===Ma.Initialized,{draggable:{active:k,nodes:C,translate:P},droppable:{containers:z}}=R,B=k!=null?C.get(k):null,V=S.useRef({initial:null,translated:null}),O=S.useMemo(()=>{var Oe;return k!=null?{id:k,data:(Oe=B?.data)!=null?Oe:w7,rect:V}:null},[k,B]),we=S.useRef(null),[xe,Z]=S.useState(null),[W,$]=S.useState(null),Y=vh(I,Object.values(I)),L=Kh("DndDescribedBy",c),T=S.useMemo(()=>z.getEnabled(),[z]),U=A7(x),{droppableRects:X,measureDroppableContainers:ne,measuringScheduled:pe}=c7(T,{dragging:ue,dependencies:[P.x,P.y],config:U.droppable}),ye=o7(C,k),ge=S.useMemo(()=>W?jm(W):null,[W]),Ee=As(),Te=u7(ye,U.draggable.measure);C7({activeNode:k!=null?C.get(k):null,config:Ee.layoutShiftCompensation,initialRect:Te,measure:U.draggable.measure});const Se=lA(ye,U.draggable.measure,Te),Be=lA(ye?ye.parentElement:null),Ue=S.useRef({activatorEvent:null,active:null,activeNode:ye,collisionRect:null,collisions:null,droppableRects:X,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),tt=z.getNodeFor((n=Ue.current.over)==null?void 0:n.id),ke=b7({measure:U.dragOverlay.measure}),vt=(s=ke.nodeRef.current)!=null?s:ye,bt=ue?(a=ke.rect)!=null?a:Se:null,Yt=!!(ke.nodeRef.current&&ke.rect),Xt=f7(Yt?null:Se),ot=KI(vt?ws(vt):null),$e=m7(ue?tt??ye:null),Rn=v7($e),rn=QI(A,{transform:{x:P.x-Xt.x,y:P.y-Xt.y,scaleX:1,scaleY:1},activatorEvent:W,active:O,activeNodeRect:Se,containerNodeRect:Be,draggingNodeRect:bt,over:Ue.current.over,overlayNodeRect:ke.rect,scrollableAncestors:$e,scrollableAncestorRects:Rn,windowRect:ot}),ds=ge?sc(ge,P):null,zt=p7($e),_s=uA(zt),Ts=uA(zt,[Se]),Pn=sc(rn,_s),kt=bt?UF(bt,rn):null,fs=O&&kt?b({active:O,collisionRect:kt,droppableRects:X,droppableContainers:T,pointerCoordinates:ds}):null,Es=OI(fs,"id"),[yn,bi]=S.useState(null),jn=Yt?rn:sc(rn,Ts),xt=VF(jn,(l=yn?.rect)!=null?l:null,Se),On=S.useRef(null),At=S.useCallback((Oe,wt)=>{let{sensor:Mt,options:Bt}=wt;if(we.current==null)return;const an=C.get(we.current);if(!an)return;const vn=Oe.nativeEvent,Wt=new Mt({active:we.current,activeNode:an,event:vn,options:Bt,context:Ue,onAbort(Qt){if(!C.get(Qt))return;const{onDragAbort:Jt}=Y.current,jt={id:Qt};Jt?.(jt),q({type:"onDragAbort",event:jt})},onPending(Qt,Vn,Jt,jt){if(!C.get(Qt))return;const{onDragPending:Zt}=Y.current,es={id:Qt,constraint:Vn,initialCoordinates:Jt,offset:jt};Zt?.(es),q({type:"onDragPending",event:es})},onStart(Qt){const Vn=we.current;if(Vn==null)return;const Jt=C.get(Vn);if(!Jt)return;const{onDragStart:jt}=Y.current,bn={activatorEvent:vn,active:{id:Vn,data:Jt.data,rect:V}};Du.unstable_batchedUpdates(()=>{jt?.(bn),ie(Ma.Initializing),j({type:kn.DragStart,initialCoordinates:Qt,active:Vn}),q({type:"onDragStart",event:bn}),Z(On.current),$(vn)})},onMove(Qt){j({type:kn.DragMove,coordinates:Qt})},onEnd:Zn(kn.DragEnd),onCancel:Zn(kn.DragCancel)});On.current=Wt;function Zn(Qt){return async function(){const{active:Jt,collisions:jt,over:bn,scrollAdjustedTranslate:Zt}=Ue.current;let es=null;if(Jt&&Zt){const{cancelDrop:dn}=Y.current;es={activatorEvent:vn,active:Jt,collisions:jt,delta:Zt,over:bn},Qt===kn.DragEnd&&typeof dn=="function"&&await Promise.resolve(dn(es))&&(Qt=kn.DragCancel)}we.current=null,Du.unstable_batchedUpdates(()=>{j({type:Qt}),ie(Ma.Uninitialized),bi(null),Z(null),$(null),On.current=null;const dn=Qt===kn.DragEnd?"onDragEnd":"onDragCancel";if(es){const Gn=Y.current[dn];Gn?.(es),q({type:dn,event:es})}})}}},[C]),Jr=S.useCallback((Oe,wt)=>(Mt,Bt)=>{const an=Mt.nativeEvent,vn=C.get(Bt);if(we.current!==null||!vn||an.dndKit||an.defaultPrevented)return;const Wt={active:vn};Oe(Mt,wt.options,Wt)===!0&&(an.dndKit={capturedBy:wt.sensor},we.current=Bt,At(Mt,wt))},[C,At]),xi=l7(g,Jr);g7(g),Li(()=>{Se&&ae===Ma.Initializing&&ie(Ma.Initialized)},[Se,ae]),S.useEffect(()=>{const{onDragMove:Oe}=Y.current,{active:wt,activatorEvent:Mt,collisions:Bt,over:an}=Ue.current;if(!wt||!Mt)return;const vn={active:wt,activatorEvent:Mt,collisions:Bt,delta:{x:Pn.x,y:Pn.y},over:an};Du.unstable_batchedUpdates(()=>{Oe?.(vn),q({type:"onDragMove",event:vn})})},[Pn.x,Pn.y]),S.useEffect(()=>{const{active:Oe,activatorEvent:wt,collisions:Mt,droppableContainers:Bt,scrollAdjustedTranslate:an}=Ue.current;if(!Oe||we.current==null||!wt||!an)return;const{onDragOver:vn}=Y.current,Wt=Bt.get(Es),Zn=Wt&&Wt.rect.current?{id:Wt.id,rect:Wt.rect.current,data:Wt.data,disabled:Wt.disabled}:null,Qt={active:Oe,activatorEvent:wt,collisions:Mt,delta:{x:an.x,y:an.y},over:Zn};Du.unstable_batchedUpdates(()=>{bi(Zn),vn?.(Qt),q({type:"onDragOver",event:Qt})})},[Es]),Li(()=>{Ue.current={activatorEvent:W,active:O,activeNode:ye,collisionRect:kt,collisions:fs,droppableRects:X,draggableNodes:C,draggingNode:vt,draggingNodeRect:bt,droppableContainers:z,over:yn,scrollableAncestors:$e,scrollAdjustedTranslate:Pn},V.current={initial:bt,translated:kt}},[O,ye,fs,kt,C,vt,bt,X,z,yn,$e,Pn]),i7({...Ee,delta:P,draggingRect:kt,pointerCoordinates:ds,scrollableAncestors:$e,scrollableAncestorRects:Rn});const wi=S.useMemo(()=>({active:O,activeNode:ye,activeNodeRect:Se,activatorEvent:W,collisions:fs,containerNodeRect:Be,dragOverlay:ke,draggableNodes:C,droppableContainers:z,droppableRects:X,over:yn,measureDroppableContainers:ne,scrollableAncestors:$e,scrollableAncestorRects:Rn,measuringConfiguration:U,measuringScheduled:pe,windowRect:ot}),[O,ye,Se,W,fs,Be,ke,C,z,X,yn,ne,$e,Rn,U,pe,ot]),Ss=S.useMemo(()=>({activatorEvent:W,activators:xi,active:O,activeNodeRect:Se,ariaDescribedById:{draggable:L},dispatch:j,draggableNodes:C,over:yn,measureDroppableContainers:ne}),[W,xi,O,Se,j,L,C,yn,ne]);return St.createElement(MI.Provider,{value:H},St.createElement(Yh.Provider,{value:Ss},St.createElement(WI.Provider,{value:wi},St.createElement(xp.Provider,{value:xt},m)),St.createElement(S7,{disabled:h?.restoreFocus===!1})),St.createElement(NF,{...h,hiddenTextDescribedById:L}));function As(){const Oe=xe?.autoScrollEnabled===!1,wt=typeof d=="object"?d.enabled===!1:d===!1,Mt=ue&&!Oe&&!wt;return typeof d=="object"?{...d,enabled:Mt}:{enabled:Mt}}}),N7=S.createContext(null),dA="button",I7="Draggable";function D7(t){let{id:e,data:n,disabled:s=!1,attributes:a}=t;const l=Kh(I7),{activators:c,activatorEvent:h,active:d,activeNodeRect:m,ariaDescribedById:g,draggableNodes:b,over:x}=S.useContext(Yh),{role:A=dA,roleDescription:I="draggable",tabIndex:D=0}=a??{},R=d?.id===e,j=S.useContext(R?xp:N7),[q,H]=Mm(),[ae,ie]=Mm(),ue=y7(c,e),k=vh(n);Li(()=>(b.set(e,{id:e,key:l,node:q,activatorNode:ae,data:k}),()=>{const P=b.get(e);P&&P.key===l&&b.delete(e)}),[b,e]);const C=S.useMemo(()=>({role:A,tabIndex:D,"aria-disabled":s,"aria-pressed":R&&A===dA?!0:void 0,"aria-roledescription":I,"aria-describedby":g.draggable}),[s,A,D,R,I,g.draggable]);return{active:d,activatorEvent:h,activeNodeRect:m,attributes:C,isDragging:R,listeners:s?void 0:ue,node:q,over:x,setNodeRef:H,setActivatorNodeRef:ie,transform:j}}function JI(){return S.useContext(WI)}const k7="Droppable",M7={timeout:25};function P7(t){let{data:e,disabled:n=!1,id:s,resizeObserverConfig:a}=t;const l=Kh(k7),{active:c,dispatch:h,over:d,measureDroppableContainers:m}=S.useContext(Yh),g=S.useRef({disabled:n}),b=S.useRef(!1),x=S.useRef(null),A=S.useRef(null),{disabled:I,updateMeasurementsFor:D,timeout:R}={...M7,...a},j=vh(D??s),q=S.useCallback(()=>{if(!b.current){b.current=!0;return}A.current!=null&&clearTimeout(A.current),A.current=setTimeout(()=>{m(Array.isArray(j.current)?j.current:[j.current]),A.current=null},R)},[R]),H=bp({callback:q,disabled:I||!c}),ae=S.useCallback((C,P)=>{H&&(P&&(H.unobserve(P),b.current=!1),C&&H.observe(C))},[H]),[ie,ue]=Mm(ae),k=vh(e);return S.useEffect(()=>{!H||!ie.current||(H.disconnect(),b.current=!1,H.observe(ie.current))},[ie,H]),S.useEffect(()=>(h({type:kn.RegisterDroppable,element:{id:s,key:l,disabled:n,node:ie,rect:x,data:k}}),()=>h({type:kn.UnregisterDroppable,key:l,id:s})),[s]),S.useEffect(()=>{n!==g.current.disabled&&(h({type:kn.SetDroppableDisabled,id:s,key:l,disabled:n}),g.current.disabled=n)},[s,l,n,h]),{active:c,rect:x,isOver:d?.id===s,node:ie,over:d,setNodeRef:ue}}function j7(t){let{animation:e,children:n}=t;const[s,a]=S.useState(null),[l,c]=S.useState(null),h=Pm(n);return!n&&!s&&h&&a(h),Li(()=>{if(!l)return;const d=s?.key,m=s?.props.id;if(d==null||m==null){a(null);return}Promise.resolve(e(m,l)).then(()=>{a(null)})},[e,s,l]),St.createElement(St.Fragment,null,n,s?S.cloneElement(s,{ref:c}):null)}const O7={x:0,y:0,scaleX:1,scaleY:1};function V7(t){let{children:e}=t;return St.createElement(Yh.Provider,{value:XI},St.createElement(xp.Provider,{value:O7},e))}const L7={position:"fixed",touchAction:"none"},U7=t=>yp(t)?"transform 250ms ease":void 0,z7=S.forwardRef((t,e)=>{let{as:n,activatorEvent:s,adjustScale:a,children:l,className:c,rect:h,style:d,transform:m,transition:g=U7}=t;if(!h)return null;const b=a?m:{...m,scaleX:1,scaleY:1},x={...L7,width:h.width,height:h.height,top:h.top,left:h.left,transform:Ja.Transform.toString(b),transformOrigin:a&&s?DF(s,h):void 0,transition:typeof g=="function"?g(s):g,...d};return St.createElement(n,{className:c,style:x,ref:e},l)}),B7=t=>e=>{let{active:n,dragOverlay:s}=e;const a={},{styles:l,className:c}=t;if(l!=null&&l.active)for(const[h,d]of Object.entries(l.active))d!==void 0&&(a[h]=n.node.style.getPropertyValue(h),n.node.style.setProperty(h,d));if(l!=null&&l.dragOverlay)for(const[h,d]of Object.entries(l.dragOverlay))d!==void 0&&s.node.style.setProperty(h,d);return c!=null&&c.active&&n.node.classList.add(c.active),c!=null&&c.dragOverlay&&s.node.classList.add(c.dragOverlay),function(){for(const[d,m]of Object.entries(a))n.node.style.setProperty(d,m);c!=null&&c.active&&n.node.classList.remove(c.active)}},F7=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:Ja.Transform.toString(e)},{transform:Ja.Transform.toString(n)}]},q7={duration:250,easing:"ease",keyframes:F7,sideEffects:B7({styles:{active:{opacity:"0"}}})};function H7(t){let{config:e,draggableNodes:n,droppableContainers:s,measuringConfiguration:a}=t;return gp((l,c)=>{if(e===null)return;const h=n.get(l);if(!h)return;const d=h.node.current;if(!d)return;const m=YI(c);if(!m)return;const{transform:g}=ws(c).getComputedStyle(c),b=LI(g);if(!b)return;const x=typeof e=="function"?e:G7(e);return GI(d,a.draggable.measure),x({active:{id:l,data:h.data,node:d,rect:a.draggable.measure(d)},draggableNodes:n,dragOverlay:{node:c,rect:a.dragOverlay.measure(m)},droppableContainers:s,measuringConfiguration:a,transform:b})})}function G7(t){const{duration:e,easing:n,sideEffects:s,keyframes:a}={...q7,...t};return l=>{let{active:c,dragOverlay:h,transform:d,...m}=l;if(!e)return;const g={x:h.rect.left-c.rect.left,y:h.rect.top-c.rect.top},b={scaleX:d.scaleX!==1?c.rect.width*d.scaleX/h.rect.width:1,scaleY:d.scaleY!==1?c.rect.height*d.scaleY/h.rect.height:1},x={x:d.x-g.x,y:d.y-g.y,...b},A=a({...m,active:c,dragOverlay:h,transform:{initial:d,final:x}}),[I]=A,D=A[A.length-1];if(JSON.stringify(I)===JSON.stringify(D))return;const R=s?.({active:c,dragOverlay:h,...m}),j=h.node.animate(A,{duration:e,easing:n,fill:"forwards"});return new Promise(q=>{j.onfinish=()=>{R?.(),q()}})}}let fA=0;function $7(t){return S.useMemo(()=>{if(t!=null)return fA++,fA},[t])}const K7=St.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:s,style:a,transition:l,modifiers:c,wrapperElement:h="div",className:d,zIndex:m=999}=t;const{activatorEvent:g,active:b,activeNodeRect:x,containerNodeRect:A,draggableNodes:I,droppableContainers:D,dragOverlay:R,over:j,measuringConfiguration:q,scrollableAncestors:H,scrollableAncestorRects:ae,windowRect:ie}=JI(),ue=S.useContext(xp),k=$7(b?.id),C=QI(c,{activatorEvent:g,active:b,activeNodeRect:x,containerNodeRect:A,draggingNodeRect:R.rect,over:j,overlayNodeRect:R.rect,scrollableAncestors:H,scrollableAncestorRects:ae,transform:ue,windowRect:ie}),P=ax(x),z=H7({config:s,draggableNodes:I,droppableContainers:D,measuringConfiguration:q}),B=P?R.setRef:void 0;return St.createElement(V7,null,St.createElement(j7,{animation:z},b&&k?St.createElement(z7,{key:k,id:b.id,ref:B,as:h,activatorEvent:g,adjustScale:e,className:d,transition:l,rect:P,style:{zIndex:m,...a},transform:C},n):null))});function ox(t,e,n){const s=t.slice();return s.splice(n<0?s.length+n:n,0,s.splice(e,1)[0]),s}function Y7(t,e){return t.reduce((n,s,a)=>{const l=e.get(s);return l&&(n[a]=l),n},Array(t.length))}function Nf(t){return t!==null&&t>=0}function X7(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function W7(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const lx=t=>{let{rects:e,activeIndex:n,overIndex:s,index:a}=t;const l=ox(e,s,n),c=e[a],h=l[a];return!h||!c?null:{x:h.left-c.left,y:h.top-c.top,scaleX:h.width/c.width,scaleY:h.height/c.height}},ZI="Sortable",eD=St.createContext({activeIndex:-1,containerId:ZI,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:lx,disabled:{draggable:!1,droppable:!1}});function Q7(t){let{children:e,id:n,items:s,strategy:a=lx,disabled:l=!1}=t;const{active:c,dragOverlay:h,droppableRects:d,over:m,measureDroppableContainers:g}=JI(),b=Kh(ZI,n),x=h.rect!==null,A=S.useMemo(()=>s.map(ue=>typeof ue=="object"&&"id"in ue?ue.id:ue),[s]),I=c!=null,D=c?A.indexOf(c.id):-1,R=m?A.indexOf(m.id):-1,j=S.useRef(A),q=!X7(A,j.current),H=R!==-1&&D===-1||q,ae=W7(l);Li(()=>{q&&I&&g(A)},[q,A,I,g]),S.useEffect(()=>{j.current=A},[A]);const ie=S.useMemo(()=>({activeIndex:D,containerId:b,disabled:ae,disableTransforms:H,items:A,overIndex:R,useDragOverlay:x,sortedRects:Y7(A,d),strategy:a}),[D,b,ae.draggable,ae.droppable,H,A,R,d,x,a]);return St.createElement(eD.Provider,{value:ie},e)}const J7=t=>{let{id:e,items:n,activeIndex:s,overIndex:a}=t;return ox(n,s,a).indexOf(e)},Z7=t=>{let{containerId:e,isSorting:n,wasDragging:s,index:a,items:l,newIndex:c,previousItems:h,previousContainerId:d,transition:m}=t;return!m||!s||h!==l&&a===c?!1:n?!0:c!==a&&e===d},eq={duration:200,easing:"ease"},tD="transform",tq=Ja.Transition.toString({property:tD,duration:0,easing:"linear"}),nq={roleDescription:"sortable"};function sq(t){let{disabled:e,index:n,node:s,rect:a}=t;const[l,c]=S.useState(null),h=S.useRef(n);return Li(()=>{if(!e&&n!==h.current&&s.current){const d=a.current;if(d){const m=Ic(s.current,{ignoreTransform:!0}),g={x:d.left-m.left,y:d.top-m.top,scaleX:d.width/m.width,scaleY:d.height/m.height};(g.x||g.y)&&c(g)}}n!==h.current&&(h.current=n)},[e,n,s,a]),S.useEffect(()=>{l&&c(null)},[l]),l}function iq(t){let{animateLayoutChanges:e=Z7,attributes:n,disabled:s,data:a,getNewIndex:l=J7,id:c,strategy:h,resizeObserverConfig:d,transition:m=eq}=t;const{items:g,containerId:b,activeIndex:x,disabled:A,disableTransforms:I,sortedRects:D,overIndex:R,useDragOverlay:j,strategy:q}=S.useContext(eD),H=rq(s,A),ae=g.indexOf(c),ie=S.useMemo(()=>({sortable:{containerId:b,index:ae,items:g},...a}),[b,a,ae,g]),ue=S.useMemo(()=>g.slice(g.indexOf(c)),[g,c]),{rect:k,node:C,isOver:P,setNodeRef:z}=P7({id:c,data:ie,disabled:H.droppable,resizeObserverConfig:{updateMeasurementsFor:ue,...d}}),{active:B,activatorEvent:V,activeNodeRect:O,attributes:we,setNodeRef:xe,listeners:Z,isDragging:W,over:$,setActivatorNodeRef:Y,transform:L}=D7({id:c,data:ie,attributes:{...nq,...n},disabled:H.draggable}),T=gF(z,xe),U=!!B,X=U&&!I&&Nf(x)&&Nf(R),ne=!j&&W,pe=ne&&X?L:null,ge=X?pe??(h??q)({rects:D,activeNodeRect:O,activeIndex:x,overIndex:R,index:ae}):null,Ee=Nf(x)&&Nf(R)?l({id:c,items:g,activeIndex:x,overIndex:R}):ae,Te=B?.id,Se=S.useRef({activeId:Te,items:g,newIndex:Ee,containerId:b}),Be=g!==Se.current.items,Ue=e({active:B,containerId:b,isDragging:W,isSorting:U,id:c,index:ae,items:g,newIndex:Se.current.newIndex,previousItems:Se.current.items,previousContainerId:Se.current.containerId,transition:m,wasDragging:Se.current.activeId!=null}),tt=sq({disabled:!Ue,index:ae,node:C,rect:k});return S.useEffect(()=>{U&&Se.current.newIndex!==Ee&&(Se.current.newIndex=Ee),b!==Se.current.containerId&&(Se.current.containerId=b),g!==Se.current.items&&(Se.current.items=g)},[U,Ee,b,g]),S.useEffect(()=>{if(Te===Se.current.activeId)return;if(Te!=null&&Se.current.activeId==null){Se.current.activeId=Te;return}const vt=setTimeout(()=>{Se.current.activeId=Te},50);return()=>clearTimeout(vt)},[Te]),{active:B,activeIndex:x,attributes:we,data:ie,rect:k,index:ae,newIndex:Ee,items:g,isOver:P,isSorting:U,isDragging:W,listeners:Z,node:C,overIndex:R,over:$,setNodeRef:T,setActivatorNodeRef:Y,setDroppableNodeRef:z,setDraggableNodeRef:xe,transform:tt??ge,transition:ke()};function ke(){if(tt||Be&&Se.current.newIndex===ae)return tq;if(!(ne&&!yp(V)||!m)&&(U||Ue))return Ja.Transition.toString({...m,property:tD})}}function rq(t,e){var n,s;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(s=t?.droppable)!=null?s:e.droppable}}function Lm(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const aq=[ct.Down,ct.Right,ct.Up,ct.Left],oq=(t,e)=>{let{context:{active:n,collisionRect:s,droppableRects:a,droppableContainers:l,over:c,scrollableAncestors:h}}=e;if(aq.includes(t.code)){if(t.preventDefault(),!n||!s)return;const d=[];l.getEnabled().forEach(b=>{if(!b||b!=null&&b.disabled)return;const x=a.get(b.id);if(x)switch(t.code){case ct.Down:s.top<x.top&&d.push(b);break;case ct.Up:s.top>x.top&&d.push(b);break;case ct.Left:s.left>x.left&&d.push(b);break;case ct.Right:s.left<x.left&&d.push(b);break}});const m=PF({collisionRect:s,droppableRects:a,droppableContainers:d});let g=OI(m,"id");if(g===c?.id&&m.length>1&&(g=m[1].id),g!=null){const b=l.get(n.id),x=l.get(g),A=x?a.get(x.id):null,I=x?.node.current;if(I&&A&&b&&x){const R=vp(I).some((ue,k)=>h[k]!==ue),j=nD(b,x),q=lq(b,x),H=R||!j?{x:0,y:0}:{x:q?s.width-A.width:0,y:q?s.height-A.height:0},ae={x:A.left,y:A.top};return H.x&&H.y?ae:bh(ae,H)}}}};function nD(t,e){return!Lm(t)||!Lm(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function lq(t,e){return!Lm(t)||!Lm(e)||!nD(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const cq=({id:t,children:e,disabled:n,className:s,onClick:a})=>{const{attributes:l,listeners:c,setNodeRef:h,transform:d,transition:m,isDragging:g}=iq({id:t,disabled:n}),b={transform:Ja.Transform.toString(d),transition:m,zIndex:g?50:"auto",position:"relative"};return y.jsx("div",{ref:h,style:b,...l,...c,onClick:a,className:K("w-full h-full",!n&&"touch-none cursor-grab active:cursor-grabbing",g&&"opacity-0",s),children:y.jsx("div",{className:K("w-full h-full",g&&"opacity-0"),children:e})})},uq=({item:t,gridSize:e,editMode:n,activeId:s,onClick:a,onEdit:l,isLocked:c})=>{const{settings:h}=hs(),d=h.theme==="light",m="relative w-full h-full flex flex-col items-center justify-center p-2 rounded-xl cursor-pointer select-none overflow-hidden transition-all duration-200 border shadow-sm",g=e>=5?"text-xs sm:text-sm":"text-sm sm:text-base",b=d?{default:"bg-white border-slate-200 hover:bg-slate-50 hover:border-slate-300 text-slate-700",completed:"bg-emerald-50 border-emerald-300 text-emerald-700 shadow-[inset_0_0_20px_rgba(16,185,129,0.1)]",freeSpace:"bg-amber-50 border-amber-300 text-amber-600 shadow-[inset_0_0_20px_rgba(245,158,11,0.1)]",editing:"bg-slate-100 border-dashed border-slate-300 opacity-60 hover:opacity-100 hover:border-slate-400 shadow-none text-slate-500"}:{default:"bg-[var(--theme-bg-subtle)] border-[var(--theme-border)] hover:bg-[var(--theme-bg-base)] hover:border-zinc-600 text-slate-300",completed:"bg-emerald-950/20 border-emerald-500/20 text-emerald-200 shadow-[inset_0_0_20px_rgba(16,185,129,0.1)]",freeSpace:"bg-amber-950/20 border-amber-500/20 text-amber-500 shadow-[inset_0_0_20px_rgba(245,158,11,0.1)]",editing:"bg-slate-900 border-dashed border-slate-600 opacity-60 hover:opacity-100 hover:border-slate-400 shadow-none text-slate-500"};let x=b.default;return n?x=b.editing:t.isFreeSpace?x=b.freeSpace:t.isCompleted&&(x=b.completed),y.jsxs(Xe.div,{layout:!n&&!s,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:!n&&!s?{scale:1.02,y:-2,zIndex:10,boxShadow:d?"0 10px 30px -10px rgba(0,0,0,0.15)":"0 10px 30px -10px rgba(0,0,0,0.5)"}:void 0,whileTap:n?void 0:{scale:.98},onClick:n?l:a,className:K(m,g,x),children:[y.jsx("div",{className:"z-10 text-center w-full px-1",children:t.isFreeSpace?y.jsxs("div",{className:"flex flex-col items-center gap-1",children:[y.jsx("span",{className:K("text-[10px] font-bold uppercase tracking-widest",d?"text-amber-600":"text-amber-600/80"),children:"Bonus"}),y.jsx("span",{className:"font-bold text-amber-500 text-sm sm:text-base",children:"FREE"})]}):y.jsx("span",{className:"font-medium leading-snug block line-clamp-4 break-words",style:{color:t.isCompleted&&!n?void 0:t.style?.color,fontWeight:t.style?.bold?"bold":void 0,fontStyle:t.style?.italic?"italic":void 0,fontSize:void 0},children:t.text})}),y.jsx("div",{className:"absolute top-1.5 right-1.5 flex flex-col gap-1 items-end z-20",children:t.proofPhotos&&t.proofPhotos.length>0&&y.jsx("div",{className:K("p-1 rounded-md backdrop-blur-sm",d?"bg-slate-600/80":"bg-black/40"),children:y.jsx(ph,{size:10,className:"text-white/90"})})}),t.dueDate&&!t.isCompleted&&!c&&y.jsxs("div",{className:K("flex items-center gap-1 mt-1 text-[10px] font-medium absolute bottom-1.5 left-2 px-1 rounded backdrop-blur-sm",d?"bg-slate-200/90":"bg-black/40",(t.dueDate.toDate?t.dueDate.toDate():new Date(t.dueDate))<new Date?"text-red-500":d?"text-slate-600":"text-slate-400"),children:[y.jsx(fI,{size:10}),y.jsx("span",{children:(t.dueDate.toDate?t.dueDate.toDate():new Date(t.dueDate)).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),!t.isFreeSpace&&!n&&(t.targetCount||1)>1&&y.jsxs("div",{className:K("absolute bottom-1.5 right-1.5 px-1.5 py-0.5 rounded text-[10px] font-bold shadow-sm",t.isCompleted?"bg-emerald-500/90 text-white":(t.currentCount||0)>0?"bg-amber-500/90 text-white":d?"bg-slate-200 text-slate-600 border border-slate-300":"bg-slate-700/90 text-slate-300"),children:[t.currentCount||0,"/",t.targetCount]}),n&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 bg-black/40 transition-opacity z-30",children:y.jsx(Yu,{size:20,className:"text-white drop-shadow-md"})}),t.isCompleted&&!t.isFreeSpace&&!n&&y.jsx(Xe.div,{initial:{scale:2,opacity:0,rotate:-45},animate:{scale:1,opacity:d?.15:.1,rotate:12},transition:{type:"spring",stiffness:300,damping:15},className:K("absolute -bottom-2 -right-2 transform origin-bottom-right pointer-events-none",d?"text-emerald-600":"text-emerald-400"),children:y.jsx(mi,{size:80,strokeWidth:3})}),t.isCompleted&&y.jsx("div",{className:K("absolute inset-0 rounded-xl ring-1 ring-inset pointer-events-none",d?"ring-emerald-200":"ring-white/10")})]})},Iu=({isOpen:t,onClose:e,title:n,children:s,footer:a,size:l="md",className:c,showCloseButton:h=!0})=>{const{settings:d}=hs(),m=d.theme==="light",g={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",full:"max-w-4xl"};return y.jsx(fi,{children:t&&y.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[y.jsx(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:K("absolute inset-0 backdrop-blur-sm",m?"bg-black/40":"bg-black/60"),onClick:e}),y.jsxs(Xe.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},transition:{duration:.2},className:K("relative w-full rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",m?"bg-white border border-slate-200":"bg-[var(--theme-bg-subtle)] border border-[var(--theme-border)]",g[l],c),onClick:b=>b.stopPropagation(),children:[(n||h)&&y.jsxs("div",{className:K("flex items-center justify-between p-4 sm:p-6 border-b shrink-0",m?"border-slate-200":"border-[var(--theme-border)]"),children:[y.jsx("div",{className:K("text-lg sm:text-xl font-bold truncate pr-4",m?"text-slate-800":"text-slate-100"),children:n}),h&&y.jsx("button",{onClick:e,className:K("p-2 rounded-full transition-colors",m?"text-slate-400 hover:text-slate-700 hover:bg-slate-100":"text-slate-400 hover:text-slate-100 hover:bg-white/10"),children:y.jsx(ar,{size:20})})]}),y.jsx("div",{className:K("p-4 sm:p-6 overflow-y-auto custom-scrollbar",m?"text-slate-700":"text-slate-300"),children:s}),a&&y.jsx("div",{className:K("p-4 sm:p-6 border-t shrink-0 flex justify-end gap-3 rounded-b-2xl",m?"border-slate-200 bg-slate-50":"border-[var(--theme-border)] bg-[var(--theme-bg-base)]/50"),children:a})]})]})})},mA=()=>{const{boardId:t,yearId:e}=SM(),n=e?void 0:t,{items:s,members:a,loading:l,toggleItem:c,hasWon:h,bingoCount:d,isLocked:m,unlockBoard:g,jumbleAndLock:b,saveBoard:x,completeWithPhoto:A,addPhotoToTile:I,addReaction:D,deletePhoto:R,decrementProgress:j,inviteUser:q,removeMember:H,title:ae,gridSize:ie,updateTitle:ue}=dF(n),{user:k}=fr(),C=Qb(),{settings:P}=hs(),z=P.theme==="light",{playClick:B,playSuccess:V,playBingo:O,playWhoosh:we}=fF(),[xe,Z]=S.useState(!1),[W,$]=S.useState(!1),[Y,L]=S.useState(""),[T,U]=S.useState(s),[X,ne]=S.useState(null);S.useEffect(()=>{(!X&&!xe||xe&&T.length===0&&s.length>0)&&U(s)},[s,X,xe]);const pe=IF(eA(rx,{activationConstraint:{distance:8}}),eA(sx,{coordinateGetter:oq})),ye=J=>{xe&&ne(J.active.id)},ge=J=>{const{active:ve,over:_t}=J;ne(null),_t&&ve.id!==_t.id&&xe&&U(Ft=>{const Le=Ft.findIndex(Ln=>Ln.id===ve.id),qt=Ft.findIndex(Ln=>Ln.id===_t.id),Ht=ox(Ft,Le,qt);return x(Ht),Ht})},[Ee,Te]=S.useState(!1),[Se,Be]=S.useState(!1),[Ue,tt]=S.useState(!1),[ke,vt]=S.useState(!1),[bt,Yt]=S.useState([]),[Xt,ot]=S.useState(null),[$e,Rn]=S.useState(""),[rn,ds]=S.useState({}),[zt,_s]=S.useState(1),[Ts,Pn]=S.useState(""),[kt,fs]=S.useState(!1),[Es,yn]=S.useState("complete"),[bi,jn]=S.useState(!1),[xt,On]=S.useState(0),[At,Jr]=S.useState(null),[xi,wi]=S.useState(!1),[Ss,As]=S.useState(!1),[Oe,wt]=S.useState(null),[Mt,Bt]=S.useState(0),an=S.useRef(null),vn=async()=>{if(!m)return;const J=Mt+1;Bt(J),an.current&&clearTimeout(an.current),an.current=setTimeout(()=>{Bt(0)},2e3),J>=7&&(Bt(0),an.current&&clearTimeout(an.current),await C.confirm("This will unlock the board and re-enable editing. Proceed?",{title:" Developer Unlock",confirmText:"Unlock Board",cancelText:"Cancel"})&&(await g(),V()))};S.useEffect(()=>{const J=async ve=>{ve.ctrlKey&&ve.shiftKey&&ve.key.toLowerCase()==="u"&&m&&(ve.preventDefault(),await C.confirm("This will unlock the board and re-enable editing. Proceed?",{title:" Developer Unlock",confirmText:"Unlock Board",cancelText:"Cancel"})&&(await g(),V()))};return window.addEventListener("keydown",J),()=>window.removeEventListener("keydown",J)},[m,g,C,V]),S.useEffect(()=>{!localStorage.getItem("hasSeenWalkthrough")&&!l&&s.length>0&&jn(!0)},[l,s]),S.useEffect(()=>{(async()=>{if(Se&&a){const ve=[];for(const[_t,Ft]of Object.entries(a))if(Ft!=="owner")try{const Le=await zh(Fn(gt,"users",_t));if(Le.exists()){const qt=Le.data();ve.push({id:_t,name:qt.displayName||"Unknown",email:qt.email||"No email",role:Ft})}}catch(Le){console.error("Error fetching user:",Le)}Yt(ve)}})()},[Se,a]);const Wt=async(J,ve)=>{await C.confirm(`Are you sure you want to remove ${ve} from this board?`,{title:"Remove Member",type:"error",confirmText:"Remove"})&&((await H(J)).success?(Yt(Le=>Le.filter(qt=>qt.id!==J)),await C.alert(`${ve} has been removed.`,{type:"success"})):await C.alert("Failed to remove member.",{type:"error"}))},Zn=async()=>{const J=await C.sharePrompt("Enter their email address to invite them to this board.",{title:"Invite User"});if(J){const ve=await q(J.email,J.role);if(ve.type==="success")await C.alert(ve.message,{title:"Success!",type:"success"});else if(ve.type==="not_found"){if(await C.confirm(`"${J.email}" hasn't signed up yet.

Would you like to send them an email invitation to join SunSar Bingo?`,{title:"User Not Found",confirmText:"Send Invite Email",type:"info"}))try{const{sendInviteEmail:Ft,openMailtoFallback:Le}=await zl(async()=>{const{sendInviteEmail:Ht,openMailtoFallback:Ln}=await import("./emailService-GZLU2nDM.js");return{sendInviteEmail:Ht,openMailtoFallback:Ln}},[]);(await Ft({recipientEmail:J.email,senderName:k?.displayName||k?.email||"A friend"})).success?await C.alert(`Invitation sent to ${J.email}! They'll receive an email with instructions to join.`,{title:"Invitation Sent!",type:"success"}):(Le(J.email,k?.displayName||"A friend"),await C.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"}))}catch{const Le=encodeURIComponent("Join me on SunSar Bingo!"),qt=encodeURIComponent(`Hey! Come join me on SunSar Bingo to track our 2026 goals together.

Sign up here: ${window.location.origin}`);window.open(`mailto:${J.email}?subject=${Le}&body=${qt}`),await C.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"})}}else await C.alert(ve.message,{title:"Error",type:"error"})}},Qt=()=>{xt<2?On(J=>J+1):(jn(!1),localStorage.setItem("hasSeenWalkthrough","true"))},[Vn,Jt]=S.useState(!1),[jt,bn]=S.useState(null),[Zt,es]=S.useState(!1),dn=S.useRef(null),[Gn,Ot]=S.useState(!1),[ut,ms]=S.useState(null),[ts,so]=S.useState(null),[Bi,mr]=S.useState(0),Ls=S.useRef(null),[Zr,Us]=S.useState(!1),[Cs,ns]=S.useState(()=>localStorage.getItem("celebrationDismissed")==="true"),[Rs,en]=S.useState(0);S.useEffect(()=>{Rs===5&&(g(),en(0),av({particleCount:100,spread:70,origin:{y:.6},colors:["#fbbf24","#ec4899","#ffffff"]}));let J;return Rs>0&&(J=setTimeout(()=>en(0),1e3)),()=>clearTimeout(J)},[Rs,g]);const io=()=>{B(),b(ke),av({particleCount:150,spread:60,origin:{y:.7},colors:["#22c55e","#ffffff"]}),V(),tt(!1),Z(!1)},ro=()=>{ns(!0),localStorage.setItem("celebrationDismissed","true")};St.useEffect(()=>{!l&&!h&&(ns(!1),localStorage.removeItem("celebrationDismissed"))},[h,l]);const zs=S.useRef(h);St.useEffect(()=>{h&&!zs.current&&!l&&O(),zs.current=h},[h,l,O]);const Qs=J=>{const ve=T.length>0?T:s;if(ot(J),Rn(ve[J].text),ds(ve[J].style||{color:"#ffffff",fontSize:"base",bold:!1,italic:!1}),_s(ve[J].targetCount||1),ve[J].dueDate){const _t=ve[J].dueDate,Ft=typeof _t.toDate=="function"?_t.toDate():new Date(_t),Le=Ft.getFullYear(),qt=String(Ft.getMonth()+1).padStart(2,"0"),Ht=String(Ft.getDate()).padStart(2,"0");Pn(`${Le}-${qt}-${Ht}`)}else Pn("");fs(!!ve[J].isFreeSpace),Te(!0)},ao=()=>{if(Xt===null)return;let J;Ts&&(J=new Date(Ts+"T12:00:00"));const ve=[...T];ve[Xt]={...ve[Xt],text:$e,style:rn,targetCount:Number(zt)||1,dueDate:J,isFreeSpace:kt,isCompleted:ve[Xt].isCompleted||kt},U(ve),x(ve),Te(!1),ot(null)},on=T.length>0?T:s;if(S.useEffect(()=>{ts!==null&&on?.[ts]&&ms(on[ts])},[on,ts]),l)return y.jsx("div",{className:"flex h-screen items-center justify-center text-accent-primary animate-pulse",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-12 h-12 border-4 border-accent-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),y.jsx("p",{children:"Loading Board..."})]})});const oo=s.filter(J=>J.isCompleted).length/25*100,pr=J=>{if(!J)return"-";const ve=J.toDate?J.toDate():new Date(J);return ve.toLocaleDateString()+" "+ve.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},ps=J=>{const ve=on[J];Jr({index:J,wasCompleted:ve.isCompleted}),ve.isCompleted?B():V(),c(J),wi(!0),setTimeout(()=>wi(!1),3e3)};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"min-h-screen bg-transparent text-white p-6 pb-24 relative overflow-x-hidden no-print",children:[y.jsx("input",{type:"file",accept:"image/*",ref:Ls,className:"hidden",onChange:async J=>{const ve=J.target.files?.[0];if(ve&&ts!==null){try{await I(ts,ve)}catch(_t){console.error(_t),alert("Failed to add photo")}J.target.value=""}}}),y.jsx(pF,{items:s}),y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("header",{className:"flex justify-between items-center mb-8 py-2",children:[y.jsxs("div",{className:"flex-1 mx-4 min-w-0",children:[W?y.jsx("input",{type:"text",value:Y,onChange:J=>L(J.target.value),onBlur:()=>{Y.trim()&&ue(Y.trim()),$(!1)},onKeyDown:J=>{J.key==="Enter"?(Y.trim()&&ue(Y.trim()),$(!1)):J.key==="Escape"&&$(!1)},autoFocus:!0,className:"bg-transparent border-b-2 border-accent-primary text-white text-lg sm:text-xl font-bold outline-none w-full max-w-[200px]"}):y.jsxs("button",{onClick:()=>{L(ae||"My Bingo"),$(!0)},className:"text-white text-lg sm:text-xl font-bold truncate max-w-[200px] hover:text-accent-primary transition-colors flex items-center gap-1 group",title:"Click to edit board name",children:[y.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent truncate",children:ae||"My Bingo"}),y.jsx(Yu,{size:14,className:"opacity-0 group-hover:opacity-70 transition-opacity flex-shrink-0"})]}),y.jsxs("p",{className:"text-slate-500 text-xs mt-0.5 cursor-default select-none",onClick:vn,children:[ie,"",ie,"  ",s.filter(J=>J.isCompleted&&!J.isFreeSpace).length,"/",s.filter(J=>!J.isFreeSpace).length]})]}),y.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[y.jsx("button",{onClick:()=>Us(!0),className:"p-2.5 text-slate-400 hover:text-accent-gold hover:bg-white/5 rounded-full transition-colors",title:"View Memories",children:y.jsx(Nm,{size:20})}),y.jsx("button",{onClick:()=>Be(!0),className:"p-2.5 text-slate-400 hover:text-accent-primary hover:bg-white/5 rounded-full transition-colors",title:"Share Board",children:y.jsx(Xf,{size:20})})]})]}),y.jsxs(R7,{sensors:pe,collisionDetection:MF,onDragStart:ye,onDragEnd:ge,children:[y.jsx("div",{className:"flex justify-center mb-6",children:y.jsx("div",{className:"w-full max-w-[520px] aspect-square relative",children:y.jsx(Q7,{items:on.map(J=>J.id),strategy:lx,children:y.jsx("div",{className:K("grid gap-1.5 sm:gap-2 w-full h-full",ie===3&&"grid-cols-3 grid-rows-3",ie===4&&"grid-cols-4 grid-rows-4",ie===5&&"grid-cols-5 grid-rows-5",ie===6&&"grid-cols-6 grid-rows-6"),style:{perspective:"1000px"},children:on.map((J,ve)=>y.jsx(cq,{id:J.id,disabled:!xe,children:y.jsx(uq,{item:J,index:ve,gridSize:ie,editMode:xe,activeId:X,isLocked:m,onEdit:()=>Qs(ve),onClick:()=>{J.isFreeSpace||(J.isCompleted?(wt(ve),As(!0)):(we(),bn(ve),Jt(!0)))}})},J.id))})})})}),y.jsx(K7,{children:X?y.jsx("div",{className:K("relative w-full h-full flex flex-col items-center justify-center p-1 sm:p-2 text-center select-none overflow-hidden","bingo-tile bg-white/10 backdrop-blur-md border-2 border-accent-primary shadow-2xl glass-panel"),style:{width:"100px",height:"100px"},children:y.jsx("span",{className:"text-white font-bold text-sm",children:T.find(J=>J.id===X)?.text})}):null})]})]}),y.jsx("div",{className:"flex justify-center",children:y.jsxs(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-[520px] glass-panel p-4 flex flex-col gap-4",children:[y.jsxs("div",{className:"w-full",children:[y.jsxs("div",{className:"flex justify-between text-xs text-slate-300 mb-1.5 px-1",children:[y.jsx("span",{className:"font-semibold",children:"Progress"}),y.jsxs("div",{className:"flex gap-3",children:[y.jsxs("span",{className:"font-mono text-accent-gold font-bold",children:[d,"/",ie*2+2," Bingos"]}),y.jsxs("span",{className:"font-mono text-accent-primary",children:[Math.round(oo),"%"]})]})]}),y.jsx("div",{className:"h-3 bg-bg-dark/50 rounded-full overflow-hidden border border-white/5",children:y.jsx(Xe.div,{className:"h-full bg-gradient-to-r from-accent-primary to-accent-secondary relative",initial:{width:0},animate:{width:`${oo}%`},transition:{duration:1,ease:"easeOut"},children:y.jsx("div",{className:"absolute top-0 right-0 bottom-0 w-[1px] bg-white/50 shadow-[0_0_10px_white]"})})})]}),y.jsx("div",{className:"flex justify-center gap-2",children:xe?y.jsx(y.Fragment,{children:y.jsxs("div",{className:"flex gap-2 w-full",children:[y.jsx("button",{onClick:()=>Z(!1),className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-white/5 text-slate-300 border border-white/10 hover:bg-white/10 transition-all",children:"Cancel"}),y.jsxs("button",{onClick:()=>{x(T),Z(!1)},className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-green-500/20 text-green-200 border border-green-500/50 hover:bg-green-500/30 transition-all flex items-center justify-center gap-2",children:[y.jsx(mi,{size:16}),"Save Changes"]})]})}):y.jsxs("div",{className:"flex gap-2 justify-center w-full flex-wrap",children:[!m&&y.jsxs(y.Fragment,{children:[y.jsxs("button",{onClick:()=>{U([...s]),Z(!0)},className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[y.jsx(Yu,{size:12}),"Edit Board"]}),y.jsxs("button",{onClick:()=>{B(),tt(!0)},className:"flex-1 py-2 px-4 text-xs font-bold text-white bg-gradient-to-r from-accent-primary to-accent-secondary hover:shadow-lg hover:shadow-accent-primary/20 transition-all rounded-lg flex items-center justify-center gap-2 min-w-[120px]",children:[y.jsx(qS,{size:14}),"Go Live "]})]}),y.jsxs("button",{onClick:()=>window.print(),className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[y.jsx(ZB,{size:12}),"Print Status"]})]})})]})}),y.jsx(fi,{children:h&&!Cs&&y.jsx(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:y.jsxs(Xe.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:"glass-panel p-8 text-center max-w-sm w-full relative overflow-hidden border-accent-gold/30",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-accent-gold/10 to-transparent pointer-events-none"}),y.jsx(Xe.div,{animate:{rotate:[0,10,-10,0]},transition:{repeat:1/0,duration:2},className:"inline-block",children:y.jsx(mh,{className:"w-20 h-20 text-accent-gold mx-auto mb-4 drop-shadow-[0_0_15px_rgba(251,191,36,0.5)]"})}),y.jsx("h2",{className:"text-4xl font-heading font-bold text-transparent bg-clip-text bg-gradient-to-r from-accent-gold via-white to-accent-secondary mb-2",children:"BINGO!"}),y.jsx("p",{className:"text-slate-300 mb-8 leading-relaxed",children:"2026 is off to an amazing start!"}),y.jsx("button",{onClick:ro,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-[0_0_20px_rgba(139,92,246,0.4)] transition-all transform hover:scale-105",children:"Keep Playing"})]})})}),y.jsxs(Iu,{isOpen:Ee,onClose:()=>Te(!1),title:"Edit Tile",size:"sm",footer:y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>Te(!1),className:"flex-1 py-2.5 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),y.jsx("button",{onClick:ao,className:"flex-1 py-2.5 px-4 bg-gradient-to-r from-violet-600 to-fuchsia-600 rounded-xl font-bold text-white shadow-lg hover:shadow-violet-500/25 active:scale-95 transition-all",children:"Save Changes"})]}),children:[y.jsx("div",{className:"mb-6 flex justify-center",children:y.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-lg bg-bg-card/80 border border-white/10 flex items-center justify-center p-2 text-center overflow-hidden relative",children:y.jsx("span",{className:K("font-hand font-semibold leading-tight break-words"),style:{color:rn.color||"#ffffff",fontWeight:rn.bold?"bold":"600",fontStyle:rn.italic?"italic":"normal",fontSize:rn.fontSize==="sm"?"12px":rn.fontSize==="lg"?"18px":rn.fontSize==="xl"?"22px":"16px"},children:$e||"Preview Text"})})}),y.jsxs("div",{className:"mb-6",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-3 bg-white/5 p-3 rounded-xl border border-white/5",children:[y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer flex-1",children:[y.jsx("input",{type:"checkbox",checked:kt,onChange:J=>{const ve=J.target.checked;fs(ve),ve&&Rn("FREE!")},className:"w-4 h-4 rounded border-gray-500 bg-black/50 text-accent-primary focus:ring-accent-primary"}),y.jsx("span",{className:K("text-sm font-bold transition-colors",kt?"text-accent-primary":"text-slate-300"),children:"Flag as FREE Space "})]}),kt&&y.jsxs("div",{className:"flex gap-1 bg-black/80 rounded-full p-1 px-1.5 border border-white/20",children:[y.jsx("div",{className:"w-2 h-2 rounded-full bg-red-900/30"}),y.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-900/30"}),y.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 shadow-[0_0_8px_#22c55e]"})]})]}),y.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Text Content"}),y.jsx("textarea",{className:K("w-full bg-black/20 text-white rounded-lg p-3 border border-white/10 focus:border-accent-primary outline-none min-h-[80px]",kt&&"opacity-50 cursor-not-allowed"),disabled:kt,value:$e,onChange:J=>Rn(J.target.value),placeholder:"Enter bingo task..."})]}),y.jsxs("div",{className:K("transition-opacity duration-300",kt&&"opacity-30 pointer-events-none"),children:[y.jsxs("div",{className:"mb-6 space-y-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Color"}),y.jsx("div",{className:"flex gap-2 flex-wrap",children:["#ffffff","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#ec4899","#a855f7"].map(J=>y.jsx("button",{className:K("w-6 h-6 rounded-full border border-white/10 transition-transform active:scale-90",rn.color===J&&"ring-2 ring-white scale-110"),style:{backgroundColor:J},onClick:()=>ds(ve=>({...ve,color:J}))},J))})]}),y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Size"}),y.jsx("div",{className:"flex bg-black/20 rounded-lg p-1",children:["sm","base","lg","xl"].map(J=>y.jsx("button",{onClick:()=>ds(ve=>({...ve,fontSize:J})),className:K("flex-1 py-1 text-[10px] font-bold rounded transition-colors uppercase",(rn.fontSize||"base")===J?"bg-accent-primary text-white":"text-slate-400 hover:text-white"),children:J==="base"?"M":J},J))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Style"}),y.jsxs("div",{className:"flex gap-1 bg-black/20 rounded-lg p-1",children:[y.jsx("button",{onClick:()=>ds(J=>({...J,bold:!J.bold})),className:K("w-8 h-full rounded flex items-center justify-center font-bold transition-colors",rn.bold?"bg-white text-black":"text-slate-400 hover:text-white"),children:"B"}),y.jsx("button",{onClick:()=>ds(J=>({...J,italic:!J.italic})),className:K("w-8 h-full rounded flex items-center justify-center italic transition-colors font-serif",rn.italic?"bg-white text-black":"text-slate-400 hover:text-white"),children:"I"})]})]})]})]}),y.jsxs("div",{className:"space-y-4 pt-4 border-t border-white/10",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Repeat Goal"}),y.jsx("input",{type:"number",min:"1",max:"100",value:zt,onChange:J=>_s(J.target.value===""?"":parseInt(J.target.value)),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors"}),y.jsx("p",{className:"text-xs text-slate-500",children:"How many times should this be completed?"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Due Date (Optional)"}),y.jsx("input",{type:"date",value:Ts,onChange:J=>Pn(J.target.value),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors [color-scheme:dark]"})]})]})]})]}),(()=>{const J=jt!==null?on[jt]:null,ve=J?.targetCount||1,_t=J?.currentCount||0,Ft=ve>1,Le=_t>0;return J?y.jsx(Iu,{isOpen:Vn&&jt!==null,onClose:()=>{Jt(!1),bn(null)},title:J.isCompleted?"Tile Details":Le?"Add Progress":"Complete Task",size:"sm",children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("p",{className:"text-slate-300 text-sm text-center mb-4 line-clamp-3 italic",children:["",J.text,""]}),Ft&&y.jsx("div",{className:"text-center mb-4",children:y.jsxs("span",{className:K("inline-block px-3 py-1 rounded-full text-sm font-bold",Le?"bg-amber-500/20 text-amber-400":"bg-slate-600/50 text-slate-400"),children:["Progress: ",_t," / ",ve]})}),J.proofPhotos&&J.proofPhotos.length>0&&y.jsxs("div",{className:"mb-6 bg-black/20 p-3 rounded-xl border border-white/5",children:[y.jsx("label",{className:"text-xs text-slate-400 mb-2 block font-semibold uppercase tracking-wider",children:"Attached Photos"}),y.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:J.proofPhotos.map((qt,Ht)=>y.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0 group rounded-lg overflow-hidden border border-white/10 touch-none select-none",onContextMenu:Ln=>Ln.preventDefault(),children:[y.jsx("img",{src:qt,alt:"",className:"w-full h-full object-cover pointer-events-none"}),y.jsx("button",{onClick:async Ln=>{Ln.stopPropagation(),window.confirm("Delete this photo?")&&await R(jt,Ht)},className:"absolute top-1 right-1 bg-red-500/90 p-1.5 rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600 shadow-md",children:y.jsx(Xu,{size:12})})]},Ht))})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("input",{type:"file",accept:"image/*",ref:dn,className:"hidden",onChange:async qt=>{const Ht=qt.target.files?.[0];if(Ht&&jt!==null){es(!0);try{Es==="complete"?await A(jt,Ht):await I(jt,Ht),Jt(!1),bn(null)}catch{alert("Failed to upload photo.")}finally{es(!1),qt.target.value=""}}}}),y.jsxs("button",{onClick:()=>{yn("add"),setTimeout(()=>dn.current?.click(),0)},disabled:Zt,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-blue-500/25 active:scale-95 transition-all disabled:opacity-50",children:[y.jsx(ph,{size:20}),Zt&&Es==="add"?"Uploading...":"Add Photo (Keep Status)"]}),!J.isCompleted&&y.jsxs("button",{onClick:()=>{yn("complete"),setTimeout(()=>dn.current?.click(),0)},disabled:Zt,className:"w-full py-3 px-4 bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-amber-500/25 active:scale-95 transition-all disabled:opacity-50",children:[y.jsx(mi,{size:20}),Zt&&Es==="complete"?"Uploading...":Ft?"Add Photo & +1":"Add Photo & Complete"]}),y.jsxs("button",{onClick:()=>{c(jt),Jt(!1),bn(null)},disabled:Zt,className:K("w-full py-3 px-4 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 active:scale-95 transition-all disabled:opacity-50",J.isCompleted?"bg-slate-700 hover:bg-slate-600":"bg-gradient-to-r from-green-600 to-emerald-600 hover:shadow-green-500/25"),children:[J.isCompleted?y.jsx(ar,{size:20}):y.jsx(mi,{size:20}),J.isCompleted?"Mark Incomplete":Ft?`Mark +1 (${_t+1}/${ve})`:"Mark Complete"]}),Le&&!J.isCompleted&&y.jsxs("button",{onClick:()=>{j(jt),Jt(!1),bn(null)},disabled:Zt,className:"w-full py-2 rounded-xl font-semibold text-red-400 hover:bg-red-500/10 transition-colors disabled:opacity-50",children:["Remove Progress (",_t-1,"/",ve,")"]}),y.jsx("button",{onClick:()=>{Jt(!1),bn(null)},disabled:Zt,className:"w-full py-3 rounded-xl font-semibold bg-white/5 text-slate-400 hover:bg-white/10 transition-colors disabled:opacity-50",children:"Cancel"})]})]})}):null})(),y.jsx(fi,{children:Gn&&ut&&ut.proofPhotos&&ut.proofPhotos.length>0&&y.jsx(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",onClick:()=>{Ot(!1),ms(null),so(null)},children:y.jsxs(Xe.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"relative max-w-lg w-full",onClick:J=>J.stopPropagation(),children:[y.jsx("button",{onClick:()=>{Ot(!1),ms(null),so(null)},className:"absolute -top-12 right-0 p-2 text-white/70 hover:text-white transition-colors z-10",children:y.jsx(ar,{size:28})}),y.jsxs("div",{className:"rounded-2xl overflow-hidden border border-white/10 shadow-2xl",children:[y.jsxs("div",{className:"relative bg-black",children:[y.jsx("img",{src:ut.proofPhotos[Bi],alt:`Proof photo ${Bi+1}`,className:"w-full h-auto max-h-[50vh] object-contain"}),ut.proofPhotos.length>1&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>mr(J=>J>0?J-1:ut.proofPhotos.length-1),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:y.jsx(uI,{size:24})}),y.jsx("button",{onClick:()=>mr(J=>J<ut.proofPhotos.length-1?J+1:0),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:y.jsx(hI,{size:24})})]}),y.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/60 rounded-full text-white text-xs font-medium",children:[Bi+1," / ",ut.proofPhotos.length]})]}),ut.proofPhotos.length>1&&y.jsx("div",{className:"flex gap-1 p-2 bg-bg-dark/80 overflow-x-auto",children:ut.proofPhotos.map((J,ve)=>y.jsx("button",{onClick:()=>mr(ve),className:K("w-12 h-12 rounded-md overflow-hidden border-2 flex-shrink-0 transition-all",Bi===ve?"border-accent-primary":"border-transparent opacity-60 hover:opacity-100"),children:y.jsx("img",{src:J,alt:"",className:"w-full h-full object-cover"})},ve))}),y.jsxs("div",{className:"p-4 bg-bg-dark/95",children:[y.jsx("p",{className:"text-white font-semibold mb-1",children:ut.text}),y.jsxs("p",{className:"text-slate-400 text-xs mb-4",children:["Completed by ",ut.completedBy,"  ",pr(ut.completedAt)]}),y.jsx("div",{className:"flex gap-2 justify-center pb-1",children:["","","","","",""].map(J=>y.jsx("button",{onClick:()=>{ts!==null&&(D(ts,J),B())},className:"text-2xl hover:scale-125 transition-transform p-2 rounded-full hover:bg-white/10 active:scale-95",title:"React",children:J},J))})]})]}),y.jsxs("div",{className:"mt-4 flex gap-3 justify-center",children:[y.jsxs("button",{onClick:async()=>{window.confirm("Delete this photo?")&&(await R(ts,Bi),ut?.proofPhotos?.length===1?Ot(!1):mr(0))},className:"flex-1 py-3 bg-red-500/10 text-red-400 rounded-xl font-semibold hover:bg-red-500/20 flex items-center justify-center gap-2",children:[y.jsx(Xu,{size:20}),"Delete Photo"]}),y.jsxs("button",{onClick:()=>Ls.current?.click(),className:"flex-1 py-3 bg-white/10 text-white rounded-xl font-semibold hover:bg-white/20 flex items-center justify-center gap-2",children:[y.jsx(gh,{size:20}),"Add Photo"]})]}),y.jsx("button",{onClick:()=>{const J=s.findIndex(ve=>ve.id===ut.id);J!==-1&&c(J),Ot(!1),ms(null),so(null)},className:"mt-2 w-full py-2 text-sm text-red-400 hover:text-red-300 transition-colors",children:"Mark as In Progress"})]})})}),y.jsx(fi,{children:xi&&At&&y.jsxs(Xe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:K("fixed bottom-24 left-1/2 -translate-x-1/2 border px-6 py-3 rounded-full shadow-2xl z-50 flex items-center gap-4",z?"bg-white border-slate-200 text-slate-800":"bg-slate-900 border-white/20 text-white"),children:[y.jsxs("span",{children:["Marked as ",At.wasCompleted?"incomplete":"complete"]}),y.jsx("button",{onClick:()=>{c(At.index),wi(!1)},className:"font-bold text-accent-primary hover:text-white transition-colors",children:"Undo"}),y.jsx("button",{onClick:()=>wi(!1),className:"text-slate-400 hover:text-white",children:y.jsx(ar,{size:16})})]})}),y.jsx(fi,{children:bi&&y.jsx(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",children:y.jsxs(Xe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:K("border rounded-3xl p-8 max-w-sm w-full shadow-2xl relative overflow-hidden",z?"bg-white border-slate-200":"bg-slate-900 border-white/20"),children:[y.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-20 pointer-events-none",children:y.jsx(mh,{className:"w-32 h-32 text-accent-gold rotate-12"})}),y.jsxs("div",{className:"relative z-10 text-center",children:[y.jsx("h3",{className:K("text-2xl font-bold mb-2",z?"text-slate-900":"text-white"),children:"Welcome! "}),y.jsxs("p",{className:K("mb-8 h-12",z?"text-slate-600":"text-slate-400"),children:[xt===0&&"Tap any tile to mark it as complete.",xt===1&&"Start 'Edit Mode' to add your own tasks.",xt===2&&"Invite friends to play together!"]}),y.jsx("div",{className:"flex justify-center mb-8",children:y.jsx("div",{className:K("w-32 h-32 rounded-2xl border flex items-center justify-center relative",z?"bg-slate-50 border-slate-200":"bg-black/40 border-white/10"),children:y.jsxs(fi,{mode:"wait",children:[xt===0&&y.jsxs(Xe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute inset-0 flex items-center justify-center",children:[y.jsx("div",{className:"w-16 h-16 bg-accent-primary/20 rounded-lg border border-accent-primary flex items-center justify-center",children:y.jsx(mi,{className:"w-8 h-8 text-white"})}),y.jsx(Xe.div,{animate:{scale:[1,1.2,1],opacity:[0,1,0]},transition:{repeat:1/0,duration:1.5},className:"absolute w-20 h-20 rounded-full border-2 border-white/50"})]},"step0"),xt===1&&y.jsx(Xe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:y.jsx(Yu,{className:"w-12 h-12 text-blue-400"})},"step1"),xt===2&&y.jsx(Xe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:y.jsx(Xf,{className:"w-12 h-12 text-green-400"})},"step2")]})})}),y.jsx("div",{className:"flex gap-2 justify-center mb-6",children:[0,1,2].map(J=>y.jsx("div",{className:K("w-2 h-2 rounded-full transition-colors",J===xt?"bg-white":"bg-white/20")},J))}),y.jsx("button",{onClick:Qt,className:"w-full py-3 bg-white text-black font-bold rounded-xl hover:bg-slate-200 transition-colors",children:xt===2?"Let's Play!":"Next"})]})]})})})]}),y.jsxs("div",{className:"only-print hidden",children:[y.jsxs("div",{className:"flex justify-between items-end mb-4 border-b-2 border-black pb-2",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("img",{src:"/logo.png",className:"h-12 w-auto",alt:"Logo"}),y.jsx("h1",{className:"text-2xl font-bold",children:ae||"2026 Edition"})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:"text-xs uppercase tracking-widest mb-0.5",children:["Status Report (",ie,"",ie,")"]}),y.jsxs("p",{className:"text-xl font-bold",children:[d," / ",ie*2+2," Bingos"]})]})]}),y.jsx("div",{className:`grid gap-0 border-2 border-black ${ie===3?"grid-cols-3":ie===4?"grid-cols-4":ie===5?"grid-cols-5":"grid-cols-6"}`,children:s.map(J=>y.jsxs("div",{className:"aspect-square border border-black p-1.5 flex flex-col justify-between relative overflow-hidden min-h-[80px]",children:[y.jsx("div",{className:`font-bold leading-tight z-10 ${ie>=5?"text-[10px]":"text-[11px]"}`,children:J.text}),J.isCompleted&&!J.isFreeSpace&&y.jsxs("div",{className:"mt-0.5 relative z-10",children:[y.jsx("div",{className:"text-[7px] uppercase font-bold text-slate-700",children:"Completed by:"}),y.jsx("div",{className:"text-[9px] font-mono font-bold leading-none",children:J.completedBy||"User"}),y.jsx("div",{className:"text-[7px] text-slate-600 mt-0.5",children:pr(J.completedAt)})]}),J.isCompleted&&y.jsx("div",{className:"absolute bottom-1 right-1 text-3xl font-bold text-slate-200 opacity-60 pointer-events-none z-0",children:""}),J.isFreeSpace&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center font-bold text-xl rotate-[-45deg] opacity-20",children:"FREE"})]},J.id))}),y.jsxs("div",{className:"mt-4 text-[9px] text-center border-t border-black pt-2 flex justify-between text-slate-500",children:[y.jsxs("span",{children:["Generated on ",new Date().toLocaleDateString()," at ",new Date().toLocaleTimeString()]}),y.jsx("span",{children:"bingo.mysunsar.com"})]})]}),y.jsx(mF,{items:s,isOpen:Zr,onClose:()=>Us(!1)}),y.jsx(Iu,{isOpen:Se,onClose:()=>Be(!1),title:y.jsxs("span",{className:"flex items-center gap-2",children:[y.jsx(Xf,{className:"w-5 h-5 text-accent-primary"}),"Shared With"]}),size:"md",children:y.jsxs("div",{children:[bt.length===0?y.jsx("div",{className:"text-center text-slate-400 py-8",children:y.jsx("p",{children:"This board hasn't been shared yet."})}):y.jsx("div",{className:"space-y-4 mb-6",children:bt.map(J=>y.jsxs("div",{className:K("flex items-center justify-between p-3 rounded-xl border",z?"bg-slate-50 border-slate-200":"bg-white/5 border-white/5"),children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold text-white",children:J.name.charAt(0)}),y.jsxs("div",{children:[y.jsx("div",{className:K("text-sm font-semibold",z?"text-slate-900":"text-white"),children:J.name}),y.jsxs("div",{className:K("text-xs",z?"text-slate-500":"text-slate-400"),children:[J.email,"  ",J.role]})]})]}),y.jsx("button",{onClick:()=>Wt(J.id,J.name),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Remove User",children:y.jsx(Xu,{size:16})})]},J.id))}),y.jsxs("button",{onClick:Zn,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all flex items-center justify-center gap-2",children:[y.jsx(gh,{size:18}),"Invite New User"]})]})}),y.jsx(Iu,{isOpen:Ue,onClose:()=>tt(!1),title:y.jsxs("span",{className:"flex items-center gap-2",children:[y.jsx(qS,{className:"w-5 h-5 text-accent-primary"}),"Ready to Go Live?"]}),size:"sm",footer:y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>tt(!1),className:K("flex-1 py-3 rounded-xl font-semibold transition-colors",z?"bg-slate-100 text-slate-700 hover:bg-slate-200":"bg-white/5 text-slate-300 hover:bg-white/10"),children:"Not Yet"}),y.jsx("button",{onClick:io,className:"flex-1 py-3 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl font-bold text-white shadow-lg hover:shadow-green-500/25 transition-all",children:"Let's Go! "})]}),children:y.jsxs("div",{children:[y.jsxs("p",{className:K("mb-6 leading-relaxed",z?"text-slate-600":"text-slate-300"),children:["Going live will ",y.jsx("strong",{className:z?"text-slate-800":"text-white",children:"lock the board"})," for play mode. You won't be able to edit items easily anymore."]}),y.jsx("div",{className:K("rounded-xl p-4 mb-6 cursor-pointer transition-colors",z?"bg-slate-100 border border-slate-200 hover:bg-slate-200":"bg-white/5 border border-white/10 hover:bg-white/10"),onClick:()=>vt(!ke),children:y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("div",{className:K("mt-1 w-5 h-5 rounded border flex items-center justify-center transition-colors",ke?"bg-accent-primary border-accent-primary":z?"border-slate-400":"border-slate-500"),children:ke&&y.jsx(mi,{size:14,className:"text-white"})}),y.jsxs("div",{children:[y.jsx("div",{className:K("font-semibold",z?"text-slate-800":"text-white"),children:"Shuffle Items?"}),y.jsx("div",{className:K("text-xs mt-1",z?"text-slate-500":"text-slate-400"),children:"Randomize the grid arrangement one last time before locking."})]})]})})]})}),y.jsx(Iu,{isOpen:Ss,onClose:()=>{As(!1),wt(null)},title:"Goal Status",size:"sm",footer:y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>{As(!1),wt(null)},className:K("flex-1 py-2.5 rounded-xl font-semibold transition-colors",z?"bg-slate-100 text-slate-700 hover:bg-slate-200":"bg-white/5 text-slate-300 hover:bg-white/10"),children:"Cancel"}),y.jsx("button",{onClick:()=>{Oe!==null&&ps(Oe),As(!1),wt(null)},className:"flex-1 py-2.5 px-4 bg-amber-600 hover:bg-amber-500 rounded-xl font-bold text-white shadow-lg transition-all",children:"Mark Incomplete"})]}),children:Oe!==null&&on[Oe]&&y.jsxs("div",{className:"text-center",children:[on[Oe].proofPhotos&&on[Oe].proofPhotos.length>0&&y.jsxs("div",{className:"mb-4 relative rounded-xl overflow-hidden",children:[y.jsx("img",{src:on[Oe].proofPhotos[0],alt:"Goal photo",className:"w-full h-32 object-cover"}),on[Oe].proofPhotos.length>1&&y.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/60 px-2 py-1 rounded text-xs text-white",children:["+",on[Oe].proofPhotos.length-1," more"]})]}),y.jsxs("div",{className:K("rounded-xl p-4 mb-4",z?"bg-emerald-50 border border-emerald-200":"bg-emerald-500/10 border border-emerald-500/30"),children:[y.jsx("div",{className:K("text-xs font-bold uppercase tracking-wider mb-1",z?"text-emerald-700":"text-emerald-400"),children:" Completed"}),y.jsx("div",{className:K("text-lg font-bold",z?"text-slate-900":"text-white"),children:on[Oe].text})]}),y.jsxs("p",{className:K("text-sm",z?"text-slate-600":"text-slate-400"),children:["Are you sure you want to mark this goal as ",y.jsx("strong",{className:z?"text-amber-600":"text-amber-400",children:"incomplete"}),"?",on[Oe].proofPhotos&&on[Oe].proofPhotos.length>0&&y.jsx("span",{children:" Your photos will be preserved."})]})]})})]})},Po=({className:t,...e})=>{const{settings:n}=hs(),s=n.theme==="light";return y.jsx("div",{className:K("animate-pulse rounded-lg",s?"bg-slate-200":"bg-white/5",t),...e})},hq=()=>{const{user:t}=fr(),e=Qb(),{settings:n}=hs(),s=n.theme==="light",a=zm(),[l,c]=S.useState([]),[h,d]=S.useState(!0),[m,g]=S.useState(!1),[b,x]=S.useState(null),[A,I]=S.useState(5),[D,R]=S.useState(null),[j,q]=S.useState(""),H=(V,O)=>{V.preventDefault(),V.stopPropagation(),R(O.id),q(O.title)},ae=async V=>{if(V.preventDefault(),V.stopPropagation(),!!D){try{await rs(Fn(gt,"boards",D),{title:j}),c(O=>O.map(we=>we.id===D?{...we,title:j}:we))}catch(O){console.error("Error updating title:",O)}R(null)}},ie=V=>{V.preventDefault(),V.stopPropagation(),R(null)},ue=V=>{V.key==="Enter"?ae(V):V.key==="Escape"?(V.stopPropagation(),R(null)):V.stopPropagation()},k=[{size:3,label:"33",description:"Quick (9 tiles)",icon:""},{size:4,label:"44",description:"Compact (16 tiles)",icon:""},{size:5,label:"55",description:"Classic (25 tiles)",icon:""},{size:6,label:"66",description:"Extended (36 tiles)",icon:""}],C={blank:{name:"Blank Canvas ",items:[]},default:{name:"2026 Goals ",items:["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"]},fitness:{name:"Fitness Challenge ",items:["Run a 5k","Do 50 pushups in a row","Try a yoga class","Drink 3L water for a week","No sugar for 7 days","Go for a hike","Meal prep for a week","Climb a bouldering wall","Try Pilates","Walk 15k steps in a day","Do a spin class","Bike 20km","FREE SPACE","Touch your toes","Hold a plank for 2 min","Try CrossFit","Go swimming","Meditate for 10 mins x 7","Try a new sport","Sleep 8 hours x 5 days","Do 100 squats","Run a 10k","Go to the gym 4x in a week","Stretch daily for a week","Join a run club"]},couples:{name:"Couple Goals ",items:["Date night (no phones)","Cook a meal together","Weekend getaway","Watch a whole series","Breakfast in bed","Go for a long walk","Plan a future trip","Give each other massages","Recreate first date","Take a dance class","Stargazing date","Write love letters","FREE SPACE","Visit a winery/brewery","Do a puzzle together","Double date","Sunset picnic","Bake something sweet","Volunteer together","Learn a couple's skill","Game night","Make a photo album","Try a new restaurant","Surprise gift","Kiss in the rain"]},personal:{name:"Personal Growth ",items:["Read 1 book/month","Learn a new language","Start a journal","Digital detox (24h)","Meditate daily (1 week)","Drink 2L water daily","Wake up at 6am (1 week)","Declutter a room","Learn to invest","Take a solo trip","Volunteer","Compliment a stranger","FREE SPACE","No social media (weekend)","Learn an instrument","Cook a new cuisine","Write a gratitude list","Take a cold shower","Listen to a podcast","Fix sleep schedule","Walk 10k steps","Call an old friend","Create a vision board","Save 10% income","Take a course"]},knitting:{name:"Knitting Goals ",items:["Finish a WIP","Cast on a sweater","Learn brioche","Knit socks","Stash bust project","Try colorwork","Knit a hat","Use luxury yarn","Fix a mistake","Knit a gift","Block a project","Organize needles","FREE SPACE","Try a new fiber","Knit in public","Attend a knit night","Learn magic loop","Design a pattern","Teach someone to knit","Finish a blanket","Knit a shawl","Try cables","Buy souvenir yarn","Weave in ends immediately","Knit a gauge swatch"]},weaving:{name:"Weaving Goals ",items:["Warp the loom","Weave a rug","Try a new structure","Sample a pattern","Use handspun yarn","Finish a scarf","Hemstitching","Fix a broken warp","Weave a towel","Try tapestry","Mix fibers","Organize yarn stash","FREE SPACE","Weave a placemat","Attend a workshop","Try doublewidth","Weave transparency","Calculate warp correctly","Finish raw edges","Weave with rags","Try tablet weaving","Rigid heddle project","Floor loom project","Visit a mill","Share a project online"]},spinning:{name:"Spinning Goals ",items:["Spin 100g fiber","Ply a yarn","Try a new breed","Spin lace weight","Spin art yarn","Comb fleece","Card a batt","Spin on a drop spindle","Clean the wheel","Spin distinct colors","Skein and wash","Fractal spin","FREE SPACE","Spin silk","Spin cotton","Navajo ply","Spin for a project","Participate in Tour de Fleece","Sample a blend","Teach spinning","Spin consistent grist","Dye fiber","Blend colors on hackle","Spin exotic fiber","Fill a bobbin"]},painting:{name:"Painting Goals ",items:["Paint a landscape","Try watercolors","Paint a portrait","Mix a new color","Paint en plein air","Visit a gallery","Finish a sketchbook","Try oils","Paint a still life","Use a palette knife","Paint an animal","Try abstract","FREE SPACE","Clean brushes properly","Paint on canvas","Paint on wood","Follow a tutorial","Paint a sky","Try gouache","Varnish a painting","Frame a piece","Paint daily for a week","Recreate a master","Paint a self-portrait","Host a paint night"]},corporate:{name:"Corporate Bingo ",items:['"Circle back"',`"Let's take this offline"`,"Meeting that could be an email",'"Synergy"','"Low hanging fruit"','"Touch base"',"Someone forgets to mute","Screen share fails",'"Can you see my screen?"',"Awkward silence",'"Bandwidth"','"Deep dive"',"FREE SPACE","Pet interrupts video call","Echo on the line",'"Per my last email"','"Drill down"','"Out of pocket"','"Hard stop"','"Boil the ocean"',"Reply All disaster",'"Move the needle"','"Blue sky thinking"','"Paradigm shift"','"Quick win"']},travel:{name:"Travel Bucket List ",items:["Visit a new continent","Go on a solo trip","See the Northern Lights","Swim in an ocean","Road trip across 3 states","Fly First Class","Visit a National Park","Eat street food","Stay in a hostel","Learn 'Hello' in 5 languages","Visit a Wonder of the World","Go on a cruise","FREE SPACE","Make a travel vlog","Sleep under the stars","Visit a castle","Ride a train","See a volcano","Go scuba diving","Watch a sunrise on a mountain","Visit a winery","Ride a camel/elephant","Go skiing/snowboarding","Visit a tropical island","Send a postcard"]}};S.useEffect(()=>{if(!t)return;(async()=>{try{console.log("Fetching boards for user:",t.uid,t.email);const O=new Map;try{const Y=Ua(di(gt,"boards"),er(`members.${t.uid}`,"in",["owner","editor","viewer"])),L=await qo(Y);console.log("Boards with membership found:",L.docs.length),L.docs.forEach(T=>{const U=T.data(),X=U.members?.[t.uid],ne=U.members||{},pe=Object.values(ne).filter(ye=>ye!=="owner").length;O.set(T.id,{id:T.id,...U,sharedCount:pe,myRole:X,members:ne})})}catch(Y){console.error("Error querying boards by membership:",Y)}try{const Y=Ua(di(gt,"years"),er("ownerId","==",t.uid)),L=await qo(Y);console.log("Legacy boards (years collection) found:",L.docs.length),L.docs.forEach(T=>{const U=T.data();O.set(`legacy_${T.id}`,{id:T.id,title:U.title||"2026 Bingo",createdAt:U.createdAt,isLocked:U.isLocked,ownerId:U.ownerId,myRole:"owner",members:{}})})}catch(Y){console.log("Years collection query failed:",Y)}try{const Y=await qo(di(gt,"years"));console.log("All years docs:",Y.docs.length),Y.docs.forEach(L=>{const T=L.data();if(T.ownerId===t.uid||T.members?.[t.uid]){const U=`legacy_years_${L.id}`;O.has(U)||O.set(U,{id:L.id,title:T.title||`${L.id} Bingo`,createdAt:T.createdAt,isLocked:T.isLocked,ownerId:T.ownerId,myRole:T.ownerId===t.uid?"owner":T.members?.[t.uid]||"viewer",members:T.members||{}})}})}catch(Y){console.log("Direct years fetch failed:",Y)}const we=Array.from(O.values()),xe=new Set;we.forEach(Y=>{Y.myRole!=="owner"&&(Y.ownerId&&Y.ownerId!==t.uid&&xe.add(Y.ownerId),Y.members&&Object.entries(Y.members).forEach(([L,T])=>{T==="owner"&&L!==t.uid&&xe.add(L)}))});const Z=Array.from(xe),W={};for(const Y of Z)try{const L=await zh(Fn(gt,"users",Y));if(L.exists()){const T=L.data();W[Y]=T.displayName||T.email||"Unknown"}}catch{console.log("Could not fetch owner info for:",Y)}const $=we.map(Y=>{let L=Y.ownerId;if(Y.members){const T=Object.keys(Y.members).find(U=>Y.members[U]==="owner"&&U!==t.uid);T&&(L=T)}return Y.myRole!=="owner"&&L&&W[L]?{...Y,ownerName:W[L]}:Y});console.log("Total boards to display:",$.length,$.map(Y=>Y.title)),c($)}catch(O){console.error("Error fetching boards:",O)}finally{d(!1)}})()},[t]);const P=async V=>{if(!t)return;const O=C[V],we=A,xe=we*we,Z=we%2===1?Math.floor(xe/2):-1,W=we%2===1?xe-1:xe,$=await e.prompt("What would you like to call this board?",{title:"Board Title",inputDefaultValue:O.name,confirmText:"Create"});if($)try{const Y=O.items.filter(ne=>ne.trim().toUpperCase()!=="FREE SPACE"&&ne!=="FREE SPACE"),L=[...Y].sort(()=>.5-Math.random());for(;L.length<W;)L.push(Y[L.length%Y.length]||`Goal ${L.length+1}`);const T=[];let U=0;for(let ne=0;ne<xe;ne++)ne===Z&&we%2===1?T.push({id:ne,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(T.push({id:ne,text:L[U],isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),U++);const X=await yb(di(gt,"boards"),{title:$,gridSize:we,ownerId:t.uid,members:{[t.uid]:"owner"},items:T,createdAt:He.now(),isLocked:!1,lastUpdated:He.now()});a(`/board/${X.id}`)}catch(Y){console.error("Error creating board:",Y),await e.alert("Failed to create board. Please try again.",{title:"Error",type:"error"})}finally{g(!1),x(null),I(5)}};if(h)return y.jsx("div",{className:"min-h-screen bg-transparent p-6 relative",children:y.jsxs("div",{className:"max-w-6xl mx-auto",children:[y.jsxs("header",{className:"flex justify-between items-center mb-12 py-2",children:[y.jsx(Po,{className:"h-10 w-32 md:w-40"}),y.jsxs("div",{className:"flex gap-2 items-center",children:[y.jsx(Po,{className:"w-10 h-10 rounded-full"}),y.jsx(Po,{className:"w-10 h-10 rounded-full"}),y.jsx(Po,{className:"w-20 h-10 rounded-xl"})]})]}),y.jsxs("div",{className:"mb-10",children:[y.jsx(Po,{className:"h-12 w-64 mb-3 rounded-lg"}),y.jsx(Po,{className:"h-6 w-48 rounded-md"})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((V,O)=>y.jsx(Po,{className:"h-48 rounded-2xl"},O))})]})});const z=async(V,O,we)=>{if(V.stopPropagation(),await e.confirm(`This will permanently delete "${we}" and all its data.

This action cannot be undone.`,{title:"Delete Board?",confirmText:"Delete",type:"error"}))try{await gb(Fn(gt,"boards",O)),c(Z=>Z.filter(W=>W.id!==O)),await e.alert("Board deleted successfully.",{title:"Deleted",type:"success"})}catch(Z){console.error("Error deleting board:",Z),await e.alert("Failed to delete board. Please try again.",{title:"Error",type:"error"})}},B=async(V,O,we)=>{if(V.stopPropagation(),!t)return;if(await e.confirm(`You will no longer have access to "${we}".

You can ask the owner to re-share it if needed.`,{title:"Leave Board?",confirmText:"Leave",type:"warning"}))try{await rs(Fn(gt,"boards",O),{[`members.${t.uid}`]:vm()}),c(Z=>Z.filter(W=>W.id!==O)),await e.alert("You have left the board.",{title:"Left Board",type:"success"})}catch(Z){console.error("Error leaving board:",Z),await e.alert("Failed to leave board. Please try again.",{title:"Error",type:"error"})}};return y.jsxs("div",{children:[y.jsxs("div",{className:"max-w-6xl mx-auto",children:[y.jsxs("div",{className:"mb-10 flex flex-col md:flex-row md:items-end justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:K("text-3xl font-semibold tracking-tight",s?"text-slate-800":"text-white"),children:"My Boards"}),y.jsxs("p",{className:K("mt-1",s?"text-slate-600":"text-slate-400"),children:["Welcome back, ",y.jsx("span",{className:K("font-medium",s?"text-slate-900":"text-white"),children:t?.displayName?.split(" ")[0]||"Bingo Player"})]})]}),y.jsxs("button",{onClick:()=>g(!0),className:K("flex items-center gap-2 px-4 py-2 font-bold rounded-lg transition-colors shadow-lg active:scale-95",s?"bg-slate-900 text-white hover:bg-slate-800":"bg-white text-bg-dark hover:bg-slate-200"),children:[y.jsx(gh,{className:"w-5 h-5"}),y.jsx("span",{children:"New Board"})]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.filter(V=>V.myRole==="owner").map(V=>{const we=V.id==="2026"||!V.ownerId?`/board/legacy/${V.id}`:`/board/${V.id}`;return y.jsxs("div",{onClick:xe=>{xe.preventDefault(),console.log("Navigating to board:",we),a(we)},className:K("group relative h-48 p-6 flex flex-col justify-between cursor-pointer overflow-hidden active:scale-[0.99] rounded-xl border transition-all",s?"bg-white border-slate-200 hover:bg-slate-50 hover:shadow-lg":"bg-[var(--theme-bg-card)] border-[var(--theme-border)] hover:bg-zinc-900"),children:[y.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:y.jsx("button",{onClick:xe=>z(xe,V.id,V.title),className:K("p-2 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",s?"text-slate-400 hover:text-red-500 hover:bg-red-50":"text-slate-500 hover:text-red-400 hover:bg-white/10"),title:"Delete Board",children:y.jsx(Xu,{size:18})})}),y.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"h-7 mb-2",children:!!V.sharedCount&&V.sharedCount>0&&y.jsxs("span",{className:K("inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider border",s?"bg-emerald-50 text-emerald-600 border-emerald-200":"bg-emerald-500/20 text-emerald-400 border-emerald-500/30"),children:[y.jsx(m8,{size:10}),"Shared with ",V.sharedCount]})}),D===V.id?y.jsxs("div",{className:"flex items-center gap-2 mb-1.5 z-30 relative",onClick:xe=>xe.stopPropagation(),children:[y.jsx("input",{type:"text",value:j,onChange:xe=>q(xe.target.value),onKeyDown:ue,onClick:xe=>xe.stopPropagation(),autoFocus:!0,className:K("font-bold text-xl rounded px-2 py-0.5 border border-accent-primary outline-none min-w-0 flex-1 w-full",s?"bg-white text-slate-800":"bg-black/50 text-white")}),y.jsx("button",{onClick:ae,className:"p-1 text-green-400 hover:bg-green-400/20 rounded-full transition-colors",children:y.jsx(mi,{size:18})}),y.jsx("button",{onClick:ie,className:"p-1 text-red-400 hover:bg-red-400/20 rounded-full transition-colors",children:y.jsx(ar,{size:18})})]}):y.jsxs("div",{className:"flex items-start gap-2 pr-8 mb-1.5",children:[y.jsx("h3",{className:K("text-xl font-bold line-clamp-2 group-hover:text-accent-primary transition-colors",s?"text-slate-800":"text-white"),children:V.title}),y.jsx("button",{onClick:xe=>H(xe,V),className:K("opacity-0 group-hover:opacity-100 p-1.5 rounded-full transition-all z-20",s?"text-slate-400 hover:text-slate-700 hover:bg-slate-100":"text-slate-400 hover:text-white hover:bg-white/10"),title:"Rename Board",children:y.jsx(WB,{size:14})})]}),y.jsxs("div",{className:K("flex items-center gap-2 text-xs",s?"text-slate-500":"text-slate-400"),children:[y.jsx(Im,{className:"w-3.5 h-3.5"}),V.createdAt?.toDate?V.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),y.jsx("div",{className:"mt-4",children:y.jsx("span",{className:K("inline-block px-4 py-1.5 rounded-xl text-xs font-bold border transition-all shadow-sm","bg-accent-primary/10 text-accent-primary border-accent-primary/20 group-hover:bg-accent-primary group-hover:text-white"),children:"Open Board"})})]})]},V.id)})}),l.filter(V=>V.myRole!=="owner").length>0&&y.jsxs(y.Fragment,{children:[y.jsxs("h2",{className:K("text-xl font-bold mt-10 mb-6 flex items-center gap-2",s?"text-slate-800":"text-white"),children:[y.jsx("span",{className:"bg-gradient-to-r from-accent-secondary to-pink-500 bg-clip-text text-transparent",children:"Shared With Me"}),y.jsxs("span",{className:K("text-sm font-normal","text-slate-500"),children:["(",l.filter(V=>V.myRole!=="owner").length,")"]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.filter(V=>V.myRole!=="owner").map(V=>{const we=V.id==="2026"||!V.ownerId?`/board/legacy/${V.id}`:`/board/${V.id}`;return y.jsxs("div",{onClick:xe=>{xe.preventDefault(),console.log("Navigating to shared board:",we),a(we)},className:K("group relative h-48 p-6 flex flex-col justify-between cursor-pointer overflow-hidden active:scale-[0.99] rounded-xl border transition-all",s?"bg-white border-slate-200 hover:bg-slate-50 hover:shadow-lg":"bg-[var(--theme-bg-card)] border-[var(--theme-border)] hover:bg-zinc-900"),children:[y.jsx("div",{className:K("absolute top-0 right-0 p-4 transition-opacity pointer-events-none",s?"opacity-5 group-hover:opacity-10":"opacity-10 group-hover:opacity-20"),children:y.jsx(Wb,{className:"w-24 h-24"})}),y.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:y.jsx("button",{onClick:xe=>B(xe,V.id,V.title),className:K("p-2 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",s?"text-slate-400 hover:text-amber-600 hover:bg-amber-50":"text-slate-500 hover:text-amber-400 hover:bg-white/10"),title:"Leave Board",children:y.jsx(mI,{size:18})})}),y.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"h-7 mb-2",children:y.jsx("span",{className:K("inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider border",V.myRole==="editor"?s?"bg-purple-50 text-purple-600 border-purple-200":"bg-accent-secondary/20 text-accent-secondary border-accent-secondary/30":s?"bg-blue-50 text-blue-600 border-blue-200":"bg-blue-500/20 text-blue-400 border-blue-500/30"),children:V.myRole==="editor"?" Editor":" Viewer"})}),y.jsx("h3",{className:K("text-xl font-bold mb-1 line-clamp-1 pr-8",s?"text-slate-800":"text-white"),children:V.title}),V.ownerName&&y.jsxs("div",{className:K("text-xs mb-1.5","text-slate-500"),children:["Shared by ",y.jsx("span",{className:s?"text-slate-700":"text-slate-400",children:V.ownerName})]}),y.jsxs("div",{className:K("flex items-center gap-2 text-xs",s?"text-slate-500":"text-slate-400"),children:[y.jsx(Im,{className:"w-3.5 h-3.5"}),V.createdAt?.toDate?V.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),y.jsx("div",{className:"mt-4",children:y.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-secondary/10 text-accent-secondary border border-accent-secondary/20 group-hover:bg-accent-secondary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},V.id)})})]})]}),m&&y.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[y.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>{b?x(null):g(!1)}}),y.jsxs("div",{className:"relative w-full max-w-2xl bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[y.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center shrink-0",children:[y.jsx("h2",{className:"text-xl font-bold text-white",children:b?C[b].name:"Choose a Template"}),y.jsx("button",{onClick:()=>{b?x(null):g(!1)},className:"text-slate-400 hover:text-white",children:y.jsx(gh,{className:"w-6 h-6 rotate-45"})})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:b?y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"mb-4",children:[y.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Grid Size"}),y.jsx("div",{className:"grid grid-cols-4 gap-2",children:k.map(({size:V,label:O,icon:we})=>y.jsxs("button",{onClick:()=>I(V),className:`p-3 rounded-xl border text-center transition-all ${A===V?"bg-accent-primary/20 border-accent-primary text-white":"bg-white/5 border-white/10 text-slate-400 hover:bg-white/10 hover:text-white"}`,children:[y.jsx("span",{className:"text-lg block",children:we}),y.jsx("span",{className:"font-bold text-sm",children:O}),y.jsxs("span",{className:"text-[10px] block opacity-70",children:[V*V," tiles"]})]},V))})]}),y.jsx("div",{className:"flex justify-center",children:y.jsx("div",{className:`aspect-square w-full max-w-[380px] grid gap-1.5 p-3 bg-slate-950/50 rounded-xl border border-white/10 ${A===3?"grid-cols-3":A===4?"grid-cols-4":A===5?"grid-cols-5":"grid-cols-6"}`,children:(()=>{const V=A*A,O=A%2===1?Math.floor(V/2):-1,we=C[b].items.filter(xe=>xe.trim().toUpperCase()!=="FREE SPACE");return Array.from({length:V},(xe,Z)=>{const W=Z===O&&A%2===1,$=Z<O||O===-1?Z:Z-1,Y=W?"FREE":we[$%we.length]||`Goal ${Z+1}`;return y.jsx("div",{className:`
                                                                relative rounded-lg flex items-center justify-center p-1 text-center select-none overflow-hidden 
                                                                ${A<=4?"text-[9px] sm:text-[11px]":"text-[7px] sm:text-[9px]"}
                                                                leading-tight font-medium border shadow-sm
                                                                ${W?"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50 text-accent-gold font-bold":"bg-white/5 border-white/10 text-slate-300"}
                                                            `,children:y.jsx("span",{className:"line-clamp-2",children:Y})},Z)})})()})}),y.jsxs("div",{className:"flex gap-3 pt-4",children:[y.jsx("button",{onClick:()=>x(null),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Back"}),y.jsxs("button",{onClick:()=>P(b),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all",children:["Create ",A,"",A," Board"]})]})]}):y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(C).map(([V,O])=>y.jsxs("button",{onClick:()=>x(V),className:"flex flex-col items-start p-4 rounded-xl bg-white/5 hover:bg-white/10 border border-white/5 hover:border-accent-primary/50 transition-all text-left group",children:[y.jsx("h3",{className:"font-bold text-white group-hover:text-accent-primary transition-colors",children:O.name}),y.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Click to preview"})]},V))})})]})]})]})},dq=()=>{const{settings:t}=hs(),e=S.useRef(null),n=S.useRef(null),s=S.useRef([]),l=["cosmic","lavender","light"].includes(t.theme),c=S.useMemo(()=>{switch(t.theme){case"light":return{type:"clouds",particleCount:20,baseColor:"rgba(255, 255, 255, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #f0f9ff 0%, #e0f2fe 50%, #dbeafe 100%)",shootingStars:!1};case"cosmic":return{type:"stars",particleCount:200,baseColor:"rgba(139, 92, 246, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #1e1b4b 0%, #0f172a 40%, #020617 100%)",shootingStars:!0};case"lavender":return{type:"petals",particleCount:50,baseColor:"rgba(232, 121, 249, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #3b0764 0%, #2e1065 50%, #1a0525 100%)",shootingStars:!1};default:return{type:"none",particleCount:0,baseColor:"rgba(0, 0, 0, ",bgGradient:"none",shootingStars:!1}}},[t.theme]);return S.useEffect(()=>{const h=e.current;if(!h)return;const d=()=>{const g=[];for(let b=0;b<c.particleCount;b++)g.push(fq(h.width,h.height,c.type));s.current=g},m=()=>{h.width=window.innerWidth,h.height=window.innerHeight,d()};return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[c]),S.useEffect(()=>{if(t.enableAnimation===!1)return;const h=e.current;if(!h)return;const d=h.getContext("2d");if(!d)return;let m=0,g=null;const b=()=>{d.clearRect(0,0,h.width,h.height),s.current.forEach(x=>{mq(x,h.width,h.height,c.type),pq(d,x,c)}),c.shootingStars&&(m++,m>300&&Math.random()<.01&&(g={x:Math.random()*h.width,y:Math.random()*h.height*.5,length:80+Math.random()*40,speed:15+Math.random()*10,opacity:1},m=0),g&&(d.beginPath(),d.strokeStyle=`rgba(255, 255, 255, ${g.opacity})`,d.lineWidth=2,d.moveTo(g.x,g.y),d.lineTo(g.x-g.length,g.y-g.length*.3),d.stroke(),g.x+=g.speed,g.y+=g.speed*.3,g.opacity-=.02,g.opacity<=0&&(g=null))),n.current=requestAnimationFrame(b)};return b(),()=>{n.current&&cancelAnimationFrame(n.current)}},[t.enableAnimation,c]),l?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed inset-0 z-0 transition-all duration-1000",style:{background:c.bgGradient}}),y.jsx("canvas",{ref:e,className:"fixed inset-0 z-0 pointer-events-none",style:{opacity:t.enableAnimation===!1?0:.8}}),y.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none overflow-hidden",children:[y.jsx("div",{className:`absolute w-[600px] h-[600px] rounded-full blur-[120px] animate-float-slow ${t.theme==="cosmic"?"bg-violet-600/20":t.theme==="lavender"?"bg-fuchsia-500/10":t.theme==="light"?"bg-blue-300/20":"bg-purple-500/10"}`,style:{top:"-15%",left:"-10%"}}),y.jsx("div",{className:`absolute w-[500px] h-[500px] rounded-full blur-[100px] animate-float-slower ${t.theme==="cosmic"?"bg-pink-600/20":t.theme==="lavender"?"bg-purple-600/20":t.theme==="light"?"bg-sky-300/20":"bg-pink-500/10"}`,style:{bottom:"-10%",right:"-5%"}})]})]}):null};function fq(t,e,n){const s={x:Math.random()*t,y:Math.random()*e,opacity:Math.random()*.5+.2};switch(n){case"stars":return{...s,size:Math.random()*3+1,speedX:0,speedY:0,opacity:Math.random()*.8+.4};case"clouds":return{...s,size:Math.random()*80+40,speedX:Math.random()*.3+.1,speedY:Math.random()*.05-.025,opacity:Math.random()*.4+.3};case"leaves":return{...s,size:Math.random()*6+3,speedX:Math.random()*.5-.25,speedY:Math.random()*.8+.3,hue:Math.random()*40+80};case"petals":return{...s,size:Math.random()*6+3,speedX:Math.random()*.5-.25,speedY:Math.random()*.5+.2,hue:Math.random()*40+280};case"bubbles":return{...s,size:Math.random()*8+2,speedX:Math.random()*.3-.15,speedY:-(Math.random()*.8+.3)};case"embers":return{...s,size:Math.random()*3+1,speedX:Math.random()*.4-.2,speedY:-(Math.random()*1+.5),hue:Math.random()*30+15};default:return{...s,size:Math.random()*4+1,speedX:Math.random()*.3-.15,speedY:Math.random()*.2-.1,hue:Math.random()*60+240}}}function mq(t,e,n,s){t.x+=t.speedX,t.y+=t.speedY,s==="stars"&&(t.opacity+=(Math.random()-.5)*.05,t.opacity=Math.max(.1,Math.min(1,t.opacity))),t.x<0&&(t.x=e),t.x>e&&(t.x=0),t.y<0&&(t.y=n),t.y>n&&(t.y=0)}function pq(t,e,n){switch(t.beginPath(),n.type){case"stars":t.fillStyle=`rgba(255, 255, 255, ${e.opacity})`,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill(),e.opacity>.7&&(t.beginPath(),t.fillStyle=`rgba(200, 220, 255, ${e.opacity*.3})`,t.arc(e.x,e.y,e.size*3,0,Math.PI*2),t.fill());break;case"clouds":t.save(),t.shadowColor="rgba(100, 150, 200, 0.3)",t.shadowBlur=20,t.fillStyle=`rgba(255, 255, 255, ${e.opacity})`,t.arc(e.x,e.y,e.size*.6,0,Math.PI*2),t.fill(),t.beginPath(),t.arc(e.x-e.size*.4,e.y+e.size*.1,e.size*.45,0,Math.PI*2),t.fill(),t.beginPath(),t.arc(e.x+e.size*.4,e.y+e.size*.1,e.size*.5,0,Math.PI*2),t.fill(),t.restore();break;case"leaves":t.fillStyle=`hsla(${e.hue}, 60%, 50%, ${e.opacity})`,t.ellipse(e.x,e.y,e.size,e.size*.5,e.x*.01,0,Math.PI*2),t.fill();break;case"petals":t.fillStyle=`hsla(${e.hue}, 70%, 60%, ${e.opacity})`,t.ellipse(e.x,e.y,e.size,e.size*.6,e.x*.02,0,Math.PI*2),t.fill();break;case"bubbles":t.strokeStyle=n.baseColor+`${e.opacity})`,t.lineWidth=1,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.stroke(),t.beginPath(),t.fillStyle=`rgba(255, 255, 255, ${e.opacity*.5})`,t.arc(e.x-e.size*.3,e.y-e.size*.3,e.size*.2,0,Math.PI*2),t.fill();break;case"embers":const s=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size);s.addColorStop(0,`hsla(${e.hue}, 100%, 70%, ${e.opacity})`),s.addColorStop(1,`hsla(${e.hue}, 100%, 50%, 0)`),t.fillStyle=s,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill();break;default:const a=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size*2);a.addColorStop(0,`hsla(${e.hue}, 80%, 60%, ${e.opacity})`),a.addColorStop(1,`hsla(${e.hue}, 80%, 60%, 0)`),t.fillStyle=a,t.arc(e.x,e.y,e.size*2,0,Math.PI*2),t.fill();break}}const If=({icon:t,title:e,description:n,color:s})=>y.jsxs(Xe.div,{whileHover:{scale:1.02},className:"bg-white/5 border border-white/10 rounded-2xl p-6 backdrop-blur-sm",children:[y.jsx("div",{className:K("w-12 h-12 rounded-xl flex items-center justify-center mb-4",s),children:y.jsx(t,{size:24,className:"text-white"})}),y.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:e}),y.jsx("p",{className:"text-slate-400 text-sm",children:n})]}),a0=({number:t,title:e,description:n})=>y.jsxs("div",{className:"flex gap-4",children:[y.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-accent-primary/20 border border-accent-primary/50 flex items-center justify-center text-accent-primary font-bold",children:t}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold text-white mb-1",children:e}),y.jsx("p",{className:"text-slate-400 text-sm",children:n})]})]}),gq=()=>{const t=zm(),{settings:e}=hs(),n=e.theme==="light";return y.jsx("div",{className:K("min-h-screen p-6 relative overflow-x-hidden pb-32 bg-transparent",n?"text-slate-800":"text-white"),children:y.jsxs("div",{className:"max-w-5xl mx-auto",children:[y.jsxs(Xe.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>t(-1),className:K("flex items-center gap-2 transition-colors mb-8 group",n?"text-slate-600 hover:text-slate-900":"text-slate-400 hover:text-white"),children:[y.jsx(TB,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),"Back"]}),y.jsxs("div",{className:"text-center mb-16",children:[y.jsx(Xe.div,{initial:{scale:0},animate:{scale:1},className:"inline-flex items-center justify-center w-20 h-20 rounded-3xl bg-gradient-to-br from-accent-primary to-accent-secondary mb-6 shadow-2xl",children:y.jsx(Nm,{size:40,className:"text-white"})}),y.jsxs(Xe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl sm:text-5xl font-extrabold mb-4",children:["Welcome to ",y.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent",children:"SunSar Bingo"})]}),y.jsx(Xe.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:K("text-xl max-w-2xl mx-auto",n?"text-slate-600":"text-slate-400"),children:"Turn your 2026 goals into a beautiful, social game. Track progress, celebrate wins, and stay motivated together."})]}),y.jsxs(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-16",children:[y.jsx(If,{icon:Wb,title:"Custom Boards",description:"Create 3x3, 4x4, or 5x5 grids for any goal type",color:"bg-blue-500"}),y.jsx(If,{icon:ph,title:"Photo Memories",description:"Attach photos to tiles and build a visual journal",color:"bg-green-500"}),y.jsx(If,{icon:GS,title:"Shared Boards",description:"Invite friends to track goals together",color:"bg-purple-500"}),y.jsx(If,{icon:Dm,title:"8 Themes",description:"Beautiful themes including 3 with animations",color:"bg-pink-500"})]}),y.jsxs(Xe.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-16",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("div",{className:"p-3 bg-blue-500/20 rounded-xl text-blue-400",children:y.jsx(gh,{size:28})}),y.jsx("h2",{className:"text-2xl font-bold",children:"Getting Started"})]}),y.jsxs("div",{className:K("rounded-3xl p-8 backdrop-blur-sm space-y-6",n?"bg-white/60 border border-slate-200":"bg-white/5 border border-white/10"),children:[y.jsx(a0,{number:1,title:"Create Your Board",description:"From the dashboard, click 'Create Board'. Choose from templates like 'Fitness', 'Travel', or 'Self Care'  or start blank."}),y.jsx(a0,{number:2,title:"Customize Your Goals",description:"Write specific, actionable goals for each tile. You can set multi-count targets (e.g., 'Run 10 miles' with progress tracking) and due dates."}),y.jsx(a0,{number:3,title:"Go Live",description:"Click 'Go Live' to lock your board and start playing. The board structure is now set  time to start completing goals!"})]})]}),y.jsxs(Xe.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mb-16",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("div",{className:"p-3 bg-green-500/20 rounded-xl text-green-400",children:y.jsx(a8,{size:28})}),y.jsx("h2",{className:"text-2xl font-bold",children:"Playing & Tracking"})]}),y.jsx("div",{className:K("rounded-3xl p-8 backdrop-blur-sm",n?"bg-white/60 border border-slate-200":"bg-white/5 border border-white/10"),children:y.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[y.jsx(pI,{className:"w-5 h-5 text-yellow-400"}),"Completing Goals"]}),y.jsxs("ul",{className:K("space-y-3 text-sm",n?"text-slate-600":"text-slate-400"),children:[y.jsxs("li",{className:"flex items-start gap-3",children:[y.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary mt-2 flex-shrink-0"}),y.jsxs("span",{children:[y.jsx("strong",{children:"Tap any tile"})," to open it and mark progress"]})]}),y.jsxs("li",{className:"flex items-start gap-3",children:[y.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary mt-2 flex-shrink-0"}),y.jsxs("span",{children:[y.jsx("strong",{children:"Add photos"})," as proof and memories"]})]}),y.jsxs("li",{className:"flex items-start gap-3",children:[y.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary mt-2 flex-shrink-0"}),y.jsxs("span",{children:[y.jsx("strong",{children:"Track multi-count"})," goals with +/- buttons"]})]})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[y.jsx(HS,{className:"w-5 h-5 text-amber-400"}),"Winning Bingo"]}),y.jsxs("p",{className:K("text-sm",n?"text-slate-600":"text-slate-400"),children:["Complete any full ",y.jsx("strong",{children:"row"}),", ",y.jsx("strong",{children:"column"}),", or ",y.jsx("strong",{children:"diagonal"})," to score a BINGO! Watch for the confetti celebration when you hit one. The goal is to fill the entire board  but each bingo along the way is a victory."]}),y.jsxs("div",{className:K("p-4 rounded-xl text-center",n?"bg-amber-50 border border-amber-200":"bg-amber-500/10 border border-amber-500/30"),children:[y.jsx("span",{className:"font-bold text-amber-500",children:"Pro tip:"}),y.jsx("span",{className:K("ml-2 text-sm",n?"text-slate-700":"text-slate-300"),children:"The center tile is a FREE space!"})]})]})]})})]}),y.jsxs(Xe.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mb-16",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("div",{className:"p-3 bg-purple-500/20 rounded-xl text-purple-400",children:y.jsx(Xf,{size:28})}),y.jsx("h2",{className:"text-2xl font-bold",children:"Playing Together"})]}),y.jsx("div",{className:K("rounded-3xl p-8 backdrop-blur-sm",n?"bg-white/60 border border-slate-200":"bg-white/5 border border-white/10"),children:y.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[y.jsxs("div",{children:[y.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[y.jsx(GS,{className:"w-5 h-5 text-accent-secondary"}),"Invite Collaborators"]}),y.jsx("p",{className:K("text-sm mb-4",n?"text-slate-600":"text-slate-400"),children:"Share your board with friends, family, or teammates. Everyone can view progress and complete tiles together."}),y.jsxs("ul",{className:K("space-y-2 text-sm",n?"text-slate-600":"text-slate-400"),children:[y.jsxs("li",{children:[" ",y.jsx("strong",{children:"Editors"})," can mark goals complete"]}),y.jsxs("li",{children:[" ",y.jsx("strong",{children:"Viewers"})," can see progress"]}),y.jsxs("li",{children:[" ",y.jsx("strong",{children:"Owner"})," controls board settings"]})]})]}),y.jsxs("div",{children:[y.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[y.jsx(HS,{className:"w-5 h-5 text-amber-400"}),"Competition Mode"]}),y.jsxs("p",{className:K("text-sm mb-4",n?"text-slate-600":"text-slate-400"),children:["On shared boards, tiles show ",y.jsx("strong",{children:"who completed them first"}),". Race your friends to complete the most goals!"]}),y.jsxs("div",{className:K("rounded-xl p-4 border text-center",n?"bg-slate-50 border-slate-200":"bg-black/40 border-white/5"),children:[y.jsx("span",{className:K("text-xs uppercase tracking-widest","text-slate-500"),children:"Example"}),y.jsx("div",{className:"mt-2 font-bold",children:'"Run a 5K"'}),y.jsx("div",{className:"text-xs text-accent-primary mt-1",children:" Completed by Sunit"})]})]})]})})]}),y.jsxs(Xe.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"mb-16",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("div",{className:"p-3 bg-pink-500/20 rounded-xl text-pink-400",children:y.jsx(Dm,{size:28})}),y.jsx("h2",{className:"text-2xl font-bold",children:"Themes & Customization"})]}),y.jsxs("div",{className:K("rounded-3xl p-8 backdrop-blur-sm",n?"bg-white/60 border border-slate-200":"bg-white/5 border border-white/10"),children:[y.jsxs("p",{className:K("text-sm mb-6",n?"text-slate-600":"text-slate-400"),children:["Choose from ",y.jsx("strong",{children:"8 beautiful themes"})," to match your style. Access themes anytime from the sidebar or Settings."]}),y.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-8 gap-3 mb-6",children:[{name:"Light",color:"bg-sky-100",animated:!0},{name:"Dawn",color:"bg-orange-400",animated:!1},{name:"Midnight",color:"bg-indigo-600",animated:!1},{name:"Cosmic",color:"bg-violet-600",animated:!0},{name:"Lavender",color:"bg-fuchsia-600",animated:!0},{name:"Forest",color:"bg-emerald-600",animated:!1},{name:"Ocean",color:"bg-cyan-600",animated:!1},{name:"Sunset",color:"bg-rose-600",animated:!1}].map(s=>y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:K("w-10 h-10 rounded-full mx-auto mb-2 relative",s.color,s.name==="Light"&&"border border-slate-300"),children:s.animated&&y.jsx(Wu,{className:"absolute -top-1 -right-1 w-4 h-4 text-yellow-400 drop-shadow"})}),y.jsx("span",{className:K("text-xs",n?"text-slate-600":"text-slate-400"),children:s.name})]},s.name))}),y.jsxs("div",{className:K("flex items-center gap-3 p-4 rounded-xl",n?"bg-blue-50 border border-blue-200":"bg-blue-500/10 border border-blue-500/30"),children:[y.jsx(Wu,{className:"w-5 h-5 text-blue-400"}),y.jsxs("p",{className:K("text-sm",n?"text-blue-800":"text-blue-200"),children:[y.jsx("strong",{children:"Animated themes"})," (Light, Cosmic, Lavender) feature moving backgrounds with clouds, stars, or petals!"]})]})]})]}),y.jsx(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"text-center",children:y.jsx("button",{onClick:()=>t("/dashboard"),className:K("px-8 py-4 font-bold rounded-2xl text-lg hover:scale-105 transition-transform shadow-xl",n?"bg-slate-900 text-white shadow-slate-300":"bg-white text-slate-900 shadow-white/10"),children:"Start Playing "})})]})})},yq=()=>{const{user:t}=fr(),[e,n]=S.useState([]),[s,a]=S.useState([]),[l,c]=S.useState([]),[h,d]=S.useState(!0);return S.useEffect(()=>{if(!t){n([]),d(!1);return}const I=di(gt,`users/${t.uid}/friends`),D=tc(I,R=>{const j=[];R.forEach(q=>{j.push(q.data())}),n(j)});return()=>D()},[t]),S.useEffect(()=>{if(!t)return;const I=Ua(di(gt,"friend_requests"),er("toUserEmail","==",t.email),er("status","==","pending")),D=tc(I,R=>{const j=[];R.forEach(q=>{j.push({id:q.id,...q.data()})}),a(j),d(!1)});return()=>D()},[t]),S.useEffect(()=>{if(!t)return;const I=Ua(di(gt,"friend_requests"),er("fromUserId","==",t.uid),er("status","==","pending")),D=tc(I,R=>{const j=[];R.forEach(q=>{j.push({id:q.id,...q.data()})}),c(j)});return()=>D()},[t]),{friends:e,incomingRequests:s,outgoingRequests:l,loading:h,sendFriendRequest:async I=>{if(!t)throw new Error("Not authenticated");if(I.toLowerCase()===t.email?.toLowerCase())throw new Error("You cannot add yourself.");const D=di(gt,"users"),R=Ua(D,er("email","==",I.toLowerCase())),j=await qo(R);if(j.empty)return{success:!1,message:"User not found."};const q=j.docs[0].data(),H=j.docs[0].id;return e.some(ae=>ae.email.toLowerCase()===I.toLowerCase())?{success:!1,message:"Use is already your friend."}:l.some(ae=>ae.toUserEmail.toLowerCase()===I.toLowerCase())?{success:!1,message:"Request already sent."}:(await yb(di(gt,"friend_requests"),{fromUserId:t.uid,fromUserEmail:t.email,fromUserName:t.displayName||"Unknown",fromUserPhoto:t.photoURL,toUserId:H,toUserEmail:q.email,status:"pending",createdAt:Hf()}),{success:!0,message:"Friend request sent!"})},acceptFriendRequest:async I=>{if(!t)return;const D=j0(gt),R=Fn(gt,"friend_requests",I.id);D.update(R,{status:"accepted"});const j=Fn(gt,`users/${t.uid}/friends/${I.fromUserId}`);D.set(j,{uid:I.fromUserId,email:I.fromUserEmail,displayName:I.fromUserName,photoURL:I.fromUserPhoto,since:Hf()});const q=Fn(gt,`users/${I.fromUserId}/friends/${t.uid}`);D.set(q,{uid:t.uid,email:t.email,displayName:t.displayName||"Unknown",photoURL:t.photoURL,since:Hf()}),await D.commit()},rejectFriendRequest:async I=>{await gb(Fn(gt,"friend_requests",I))},removeFriend:async I=>{if(!t)return;const D=j0(gt),R=Fn(gt,`users/${t.uid}/friends/${I}`),j=Fn(gt,`users/${I}/friends/${t.uid}`);D.delete(R),D.delete(j),await D.commit()},getFriendsNotInBoard:I=>{const D=new Set(I.map(R=>R.id));return e.filter(R=>!D.has(R.uid))}}},vq=()=>{const{friends:t,incomingRequests:e,outgoingRequests:n,sendFriendRequest:s,acceptFriendRequest:a,rejectFriendRequest:l,removeFriend:c}=yq(),{settings:h}=hs(),d=h.theme==="light",m=Qb(),[g,b]=S.useState("friends"),[x,A]=S.useState(""),[I,D]=S.useState(!1),R=async()=>{if(x.trim()){D(!0);try{const j=await s(x.trim());j.success?(await m.alert(`Request sent to ${x}!`,{type:"success"}),A("")):await m.alert(j.message,{type:"error"})}catch{await m.alert("Something went wrong. Check the email and try again.",{type:"error"})}finally{D(!1)}}};return y.jsxs("div",{className:K("rounded-3xl border shadow-xl overflow-hidden mt-8 max-w-4xl mx-auto",d?"bg-white border-slate-200":"bg-slate-900 border-white/10"),children:[y.jsx("div",{className:K("p-4 border-b flex items-center justify-between",d?"bg-slate-50 border-slate-200":"bg-white/5 border-white/5"),children:y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("button",{onClick:()=>b("friends"),className:K("px-4 py-2 rounded-xl text-sm font-bold transition-all relative",g==="friends"?"bg-accent-primary text-white shadow-lg shadow-accent-primary/25":d?"text-slate-600 hover:bg-slate-200":"text-slate-400 hover:text-white hover:bg-white/5"),children:["My Friends",t.length>0&&y.jsx("span",{className:"ml-2 text-xs opacity-80 bg-black/20 px-1.5 rounded-full",children:t.length})]}),y.jsxs("button",{onClick:()=>b("requests"),className:K("px-4 py-2 rounded-xl text-sm font-bold transition-all relative",g==="requests"?"bg-accent-secondary text-white shadow-lg shadow-accent-secondary/25":d?"text-slate-600 hover:bg-slate-200":"text-slate-400 hover:text-white hover:bg-white/5"),children:["Requests",e.length>0&&y.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full text-[10px] flex items-center justify-center text-white border-2 border-slate-900",children:e.length})]}),y.jsx("button",{onClick:()=>b("search"),className:K("px-4 py-2 rounded-xl text-sm font-bold transition-all",g==="search"?"bg-emerald-500 text-white shadow-lg shadow-emerald-500/25":d?"text-slate-600 hover:bg-slate-200":"text-slate-400 hover:text-white hover:bg-white/5"),children:"Find People"})]})}),y.jsx("div",{className:"p-6 min-h-[300px]",children:y.jsxs(fi,{mode:"wait",children:[g==="friends"&&y.jsx(Xe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:t.length===0?y.jsxs("div",{className:"text-center py-12",children:[y.jsx("div",{className:K("w-20 h-20 mx-auto rounded-full flex items-center justify-center mb-4",d?"bg-slate-100":"bg-white/5"),children:y.jsx(yh,{size:32,className:"text-slate-400"})}),y.jsx("h3",{className:K("text-lg font-bold mb-2",d?"text-slate-800":"text-white"),children:"No friends yet"}),y.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"Connect with people to share boards and compete!"}),y.jsx("button",{onClick:()=>b("search"),className:"px-6 py-2 bg-accent-primary text-white rounded-xl font-bold hover:shadow-lg transition-all",children:"Find Friends"})]}):y.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:t.map(j=>y.jsxs("div",{className:K("flex items-center gap-4 p-4 rounded-xl border transition-all",d?"bg-white border-slate-200 hover:shadow-md":"bg-white/5 border-white/5 hover:bg-white/10"),children:[j.photoURL?y.jsx("img",{src:j.photoURL,alt:j.displayName,className:"w-12 h-12 rounded-full object-cover bg-slate-800"}):y.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-indigo-500 flex items-center justify-center text-white font-bold text-lg",children:j.displayName.charAt(0)}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("h4",{className:K("font-bold truncate",d?"text-slate-900":"text-white"),children:j.displayName}),y.jsx("p",{className:"text-xs text-slate-400 truncate",children:j.email})]}),y.jsx("button",{onClick:async()=>{await m.confirm("Are you sure you want to remove this friend?",{type:"error",confirmText:"Remove"})&&c(j.uid)},className:K("p-2 rounded-lg transition-colors",d?"text-slate-400 hover:text-red-500 hover:bg-red-50":"text-slate-600 hover:text-red-400 hover:bg-red-500/10"),children:y.jsx(Xu,{size:18})})]},j.uid))})},"friends"),g==="requests"&&y.jsxs(Xe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:[y.jsxs("div",{className:"mb-8",children:[y.jsxs("h3",{className:K("text-sm font-bold uppercase tracking-wider mb-4 flex items-center gap-2",d?"text-slate-500":"text-slate-400"),children:[y.jsx(iv,{size:14})," Incoming Requests"]}),e.length===0?y.jsx("p",{className:"text-sm text-slate-500 italic",children:"No pending requests."}):y.jsx("div",{className:"space-y-3",children:e.map(j=>y.jsxs("div",{className:K("flex items-center gap-4 p-4 rounded-xl border",d?"bg-white border-slate-200":"bg-white/5 border-white/5"),children:[j.fromUserPhoto?y.jsx("img",{src:j.fromUserPhoto,className:"w-10 h-10 rounded-full object-cover"}):y.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center text-white font-bold",children:j.fromUserName.charAt(0)}),y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:K("font-bold",d?"text-slate-900":"text-white"),children:j.fromUserName}),y.jsx("div",{className:"text-xs text-slate-400",children:"Sent you a friend request"})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>a(j),className:"p-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors shadow-lg shadow-emerald-500/20",title:"Accept",children:y.jsx(mi,{size:18})}),y.jsx("button",{onClick:()=>l(j.id),className:K("p-2 rounded-lg transition-colors border",d?"border-slate-300 text-slate-500 hover:bg-slate-100":"border-white/10 text-slate-400 hover:bg-white/10"),title:"Decline",children:y.jsx(ar,{size:18})})]})]},j.id))})]}),y.jsxs("div",{children:[y.jsxs("h3",{className:K("text-sm font-bold uppercase tracking-wider mb-4 flex items-center gap-2",d?"text-slate-500":"text-slate-400"),children:[y.jsx(fI,{size:14})," Sent Requests"]}),n.length===0?y.jsx("p",{className:"text-sm text-slate-500 italic",children:"No sent requests."}):y.jsx("div",{className:"space-y-3",children:n.map(j=>y.jsxs("div",{className:K("flex items-center justify-between p-3 rounded-xl border opacity-70",d?"bg-slate-50 border-slate-200":"bg-white/5 border-white/5"),children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:K("w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold",d?"bg-slate-200 text-slate-600":"bg-white/10 text-white"),children:j.toUserEmail.charAt(0).toUpperCase()}),y.jsxs("div",{children:[y.jsx("div",{className:K("text-sm font-bold",d?"text-slate-900":"text-white"),children:j.toUserEmail}),y.jsx("div",{className:"text-[10px] text-slate-400",children:"Pending..."})]})]}),y.jsx("button",{onClick:()=>l(j.id),className:"text-xs text-red-400 hover:underline",children:"Cancel"})]},j.id))})]})]},"requests"),g==="search"&&y.jsxs(Xe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"max-w-md mx-auto py-8",children:[y.jsxs("div",{className:"text-center mb-6",children:[y.jsx("h3",{className:K("text-xl font-bold mb-2",d?"text-slate-900":"text-white"),children:"Add a Friend"}),y.jsx("p",{className:"text-slate-400 text-sm",children:"Enter their email address to send a request."})]}),y.jsxs("div",{className:"relative mb-4",children:[y.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:y.jsx(iv,{size:18,className:"text-slate-500"})}),y.jsx("input",{type:"email",value:x,onChange:j=>A(j.target.value),placeholder:"friend@example.com",className:K("w-full pl-10 pr-4 py-3 rounded-xl outline-none border transition-all",d?"bg-slate-50 border-slate-200 focus:border-accent-primary focus:ring-2 focus:ring-accent-primary/20 text-slate-900 placeholder:text-slate-400":"bg-black/20 border-white/10 focus:border-accent-primary focus:ring-2 focus:ring-accent-primary/20 text-white placeholder:text-slate-500"),onKeyDown:j=>j.key==="Enter"&&R()})]}),y.jsx("button",{onClick:R,disabled:!x||I,className:"w-full py-3 bg-emerald-500 text-white font-bold rounded-xl hover:bg-emerald-600 hover:shadow-lg hover:shadow-emerald-500/25 active:scale-95 transition-all disabled:opacity-50 disabled:pointer-events-none",children:I?"Sending...":"Send Request"})]},"search")]})})]})},bq=[{id:"early_bird",category:"Speed",title:"Early Bird",description:"Complete your first tile in January.",icon:"",maxProgress:1},{id:"sprint_start",category:"Speed",title:"Sprint Start",description:"Complete 3 tiles within 24h of starting a board.",icon:"",maxProgress:1},{id:"on_fire",category:"Speed",title:"On Fire",description:"Maintain a 7-day streak.",icon:"",maxProgress:7},{id:"slow_steady",category:"Speed",title:"Slow & Steady",description:"Complete a tile >6 months after starting.",icon:"",maxProgress:1},{id:"weekend_warrior",category:"Speed",title:"Weekend Warrior",description:"Complete 5 tasks on Sat/Sun.",icon:"",maxProgress:5},{id:"shutterbug",category:"Creativity",title:"Shutterbug",description:"Upload your first 10 proof photos.",icon:"",maxProgress:10},{id:"curator",category:"Creativity",title:"Curator",description:"Have a board fully completed with photos.",icon:"",maxProgress:1},{id:"selfie_star",category:"Creativity",title:"Selfie Star",description:"Upload 50 photos total.",icon:"",maxProgress:50},{id:"memory_lane",category:"Creativity",title:"Memory Lane",description:'Open "Memories" view 5 times.',icon:"",maxProgress:5},{id:"social_butterfly",category:"Social",title:"Social Butterfly",description:"Add your first 5 friends.",icon:"",maxProgress:5},{id:"got_mail",category:"Social",title:"You've Got Mail",description:"Accept a friend request.",icon:"",maxProgress:1},{id:"town_crier",category:"Social",title:"Town Crier",description:"Share a board.",icon:"",maxProgress:1},{id:"better_together",category:"Social",title:"Better Together",description:"Join a shared board.",icon:"",maxProgress:1},{id:"peculiar_peeper",category:"Social",title:"Peculiar Peeper",description:"View a friend's profile 10 times.",icon:"",maxProgress:10,isHidden:!0}],xq=()=>{const{user:t}=fr(),{settings:e}=hs(),n=e.theme==="light",[s,a]=S.useState({}),[l,c]=S.useState(!0);S.useEffect(()=>{if(!t)return;c(!0);const d=Fn(gt,`users/${t.uid}/badges/progress`),m=tc(d,g=>{g.exists()?a(g.data()):a({}),c(!1)});return()=>m()},[t]);const h=["Speed","Creativity","Social"];return y.jsxs("div",{className:K("rounded-3xl border shadow-xl overflow-hidden mt-12 p-6 md:p-8",n?"bg-white border-slate-200":"bg-slate-900 border-white/10"),children:[y.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[y.jsx("div",{className:K("p-3 rounded-2xl",n?"bg-amber-100 text-amber-600":"bg-amber-500/10 text-amber-500"),children:y.jsx(mh,{size:32})}),y.jsxs("div",{children:[y.jsx("h2",{className:K("text-2xl font-bold",n?"text-slate-900":"text-white"),children:"Trophy Case"}),y.jsx("p",{className:"text-slate-400 text-sm",children:"Achievements & Milestones"})]})]}),l?y.jsx("div",{className:"text-center py-12 text-slate-500 animate-pulse",children:"Loading trophies..."}):y.jsx("div",{className:"space-y-10",children:h.map(d=>y.jsxs("div",{children:[y.jsxs("h3",{className:K("text-lg font-bold mb-4 flex items-center gap-2",n?"text-slate-700":"text-slate-300"),children:[d==="Speed"&&"",d==="Creativity"&&"",d==="Social"&&"",d]}),y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:bq.filter(m=>m.category===d).map(m=>{const g=s[m.id]?.progress||0,b=g>=m.maxProgress,x=m.isHidden&&!b;return y.jsxs(Xe.div,{whileHover:{scale:1.02},className:K("relative p-4 rounded-2xl border flex flex-col items-center text-center transition-all h-full",b?n?"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200 shadow-sm":"bg-gradient-to-br from-amber-500/10 to-orange-500/10 border-amber-500/30":n?"bg-slate-50 border-slate-100 opacity-80":"bg-white/5 border-white/5 opacity-60"),children:[y.jsxs("div",{className:K("w-16 h-16 rounded-full flex items-center justify-center text-3xl mb-3 shadow-inner relative overflow-hidden",b?n?"bg-white shadow-amber-100":"bg-black/30 shadow-black/50":"bg-black/10 grayscale"),children:[x?y.jsx(FB,{size:20,className:"text-slate-400"}):m.icon,b&&y.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/20 to-transparent w-full h-full skew-x-12 translate-x-full animate-shimmer"})]}),y.jsx("h4",{className:K("font-bold text-sm mb-1",b?n?"text-slate-900":"text-white":"text-slate-500"),children:x?"???":m.title}),y.jsx("p",{className:"text-xs text-slate-400 mb-3 leading-snug",children:x?"Keep playing to unlock.":m.description}),!b&&!x&&m.maxProgress>1&&y.jsxs("div",{className:"w-full mt-auto",children:[y.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 mb-1 font-mono",children:[y.jsx("span",{children:g}),y.jsx("span",{children:m.maxProgress})]}),y.jsx("div",{className:"h-1.5 w-full bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-accent-primary rounded-full transition-all duration-500",style:{width:`${g/m.maxProgress*100}%`}})})]}),b&&s[m.id]?.unlockedAt&&y.jsx("div",{className:"mt-auto text-[10px] text-amber-500 font-medium bg-amber-500/10 px-2 py-0.5 rounded-full",children:"Unlocked!"})]},m.id)})})]},d))})]})},wq=()=>{const{user:t,updateProfileName:e}=fr(),{settings:n}=hs(),s=n.theme==="light",[a,l]=S.useState({totalBoards:0,totalTiles:0,totalBingos:0,totalPhotos:0}),[c,h]=S.useState(!1),[d,m]=S.useState(t?.displayName||"");S.useEffect(()=>{if(!t)return;m(t.displayName||""),(async()=>{try{const x=Ua(di(gt,"boards"),er(`members.${t.uid}`,"in",["owner","editor","viewer"])),A=await qo(x);let I=0,D=0,R=0;A.docs.forEach(j=>{const q=j.data();I++,q.items&&q.items.forEach(H=>{H.isCompleted&&!H.isFreeSpace&&D++,H.proofPhotos&&(R+=H.proofPhotos.length)})}),l({totalBoards:I,totalTiles:D,totalBingos:0,totalPhotos:R})}catch(x){console.error("Error fetching stats",x)}})()},[t]);const g=async()=>{if(!(!t||!d.trim()))try{await e(d.trim()),h(!1)}catch(b){console.error("Failed to update name",b)}};return y.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-8 animate-in fade-in duration-500",children:[y.jsxs("div",{className:K("rounded-3xl p-8 mb-12 shadow-2xl relative overflow-hidden border",s?"bg-gradient-to-br from-indigo-100 to-slate-100 border-white shadow-indigo-100":"bg-gradient-to-br from-indigo-900/50 to-slate-900/50 border-white/10"),children:[y.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-accent-primary/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),y.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center gap-8",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:K("w-32 h-32 rounded-full border-4 flex items-center justify-center overflow-hidden shadow-xl",s?"bg-slate-200 border-white":"bg-slate-800 border-white/10"),children:t?.photoURL?y.jsx("img",{src:t.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):y.jsx(yh,{size:64,className:"text-slate-500"})}),y.jsx("button",{className:"absolute bottom-0 right-0 p-2 bg-accent-primary rounded-full text-white shadow-lg hover:scale-105 transition-transform",children:y.jsx(ph,{size:16})})]}),y.jsxs("div",{className:"flex-1 text-center md:text-left",children:[y.jsx("div",{className:"mb-2",children:y.jsx("span",{className:"text-sm font-semibold text-accent-secondary uppercase tracking-wider",children:"Player Profile"})}),c?y.jsxs("div",{className:"flex items-center gap-3 justify-center md:justify-start",children:[y.jsx("input",{value:d,onChange:b=>m(b.target.value),className:K("border rounded-lg px-4 py-2 text-2xl font-bold outline-none focus:border-accent-primary w-full max-w-xs",s?"bg-white/80 border-slate-300 text-slate-800":"bg-black/30 border-white/20 text-white"),autoFocus:!0}),y.jsx("button",{onClick:g,className:"p-2 bg-green-500/20 text-green-400 rounded-lg hover:bg-green-500/30",children:y.jsx(mi,{size:24})})]}):y.jsxs("h1",{className:K("text-4xl font-bold mb-2 flex items-center justify-center md:justify-start gap-3 group",s?"text-slate-900":"text-white"),children:[t?.displayName||"Bingo Player",y.jsx("button",{onClick:()=>h(!0),className:K("opacity-0 group-hover:opacity-100 transition-opacity",s?"text-slate-400 hover:text-slate-700":"text-slate-400 hover:text-white"),children:y.jsx(Yu,{size:20})})]}),y.jsx("p",{className:K(s?"text-slate-600":"text-slate-400"),children:t?.email}),y.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Joined January 2026"})]})]})]}),y.jsx(xq,{}),y.jsx("div",{className:"mt-12",children:y.jsx(vq,{})}),y.jsxs("h2",{className:K("text-2xl font-bold mb-6 flex items-center gap-2 mt-12",s?"text-slate-800":"text-white"),children:[y.jsx(mh,{className:"text-accent-gold"})," Lifetime Stats"]}),y.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[y.jsx(Df,{label:"Active Boards",value:a.totalBoards,icon:y.jsx(UB,{size:24,className:"text-violet-400"}),delay:0,isLightTheme:s}),y.jsx(Df,{label:"Tiles Completed",value:a.totalTiles,icon:y.jsx(mi,{size:24,className:"text-emerald-400"}),delay:.1,isLightTheme:s}),y.jsx(Df,{label:"Bingos Won",value:"--",icon:y.jsx(mh,{size:24,className:"text-amber-400"}),delay:.2,isLightTheme:s}),y.jsx(Df,{label:"Photos Added",value:a.totalPhotos,icon:y.jsx(ph,{size:24,className:"text-pink-400"}),delay:.3,isLightTheme:s})]})]})},Df=({label:t,value:e,icon:n,delay:s,isLightTheme:a})=>y.jsxs(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s},className:K("p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-colors border",a?"bg-white border-slate-200 hover:bg-slate-50 shadow-sm":"bg-white/5 border-white/10 hover:bg-white/10"),children:[y.jsx("div",{className:K("mb-3 p-3 rounded-full",a?"bg-slate-100":"bg-white/5"),children:n}),y.jsx("div",{className:K("text-3xl font-bold mb-1",a?"text-slate-800":"text-white"),children:e}),y.jsx("div",{className:K("text-sm font-medium uppercase tracking-wide",a?"text-slate-500":"text-slate-400"),children:t})]}),kf=({children:t})=>{const{logout:e,user:n}=fr(),{openSettings:s,settings:a,updateSettings:l}=hs(),[c,h]=St.useState(!1),d=Qr();St.useEffect(()=>{h(!1)},[d.pathname]);const m=[{label:"Dashboard",path:"/dashboard",icon:Wb},{label:"Profile",path:"/profile",icon:yh},{label:"Help & Guide",path:"/help",icon:dI}],g=a.theme==="light";return y.jsxs("div",{className:"min-h-screen bg-transparent flex",style:{color:"var(--theme-text-main)"},children:[c&&y.jsx("div",{className:K("fixed inset-0 z-40 lg:hidden backdrop-blur-sm",g?"bg-black/30":"bg-black/50"),onClick:()=>h(!1)}),y.jsxs("aside",{className:K("fixed inset-y-0 left-0 z-50 w-64 bg-[var(--theme-bg-subtle)] border-r border-[var(--theme-border)] transform transition-transform duration-200 lg:translate-x-0 lg:static flex flex-col",c?"translate-x-0":"-translate-x-full"),children:[y.jsx("div",{className:"h-16 flex items-center justify-center border-b border-[var(--theme-border)] shrink-0 p-2",children:y.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-full w-auto object-contain"})}),y.jsxs("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:[y.jsx("div",{className:K("text-xs font-semibold uppercase tracking-wider mb-2 px-3","text-slate-500"),children:"Menu"}),m.map(b=>y.jsxs(PA,{to:b.path,className:({isActive:x})=>K("flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",x?"bg-[var(--theme-accent-primary)]/10 text-[var(--theme-accent-primary)]":g?"text-slate-600 hover:text-slate-900 hover:bg-slate-100":"text-slate-400 hover:text-slate-100 hover:bg-white/5"),children:[y.jsx(b.icon,{size:18}),b.label]},b.path)),y.jsxs("button",{onClick:s,className:K("w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",g?"text-slate-600 hover:text-slate-900 hover:bg-slate-100":"text-slate-400 hover:text-slate-100 hover:bg-white/5"),children:[y.jsx(n8,{size:18}),"Settings"]}),y.jsxs("div",{className:K("px-3 py-3 mt-2 border-t",g?"border-slate-200":"border-white/5"),children:[y.jsx("div",{className:K("text-[10px] font-bold uppercase tracking-wider mb-3","text-slate-500"),children:"Theme"}),y.jsx("div",{className:"flex justify-between gap-1",children:[{id:"light",color:"bg-slate-200 ring-1 ring-slate-400"},{id:"dawn",color:"bg-orange-400"},{id:"midnight",color:"bg-indigo-500"},{id:"cosmic",color:"bg-violet-500"},{id:"lavender",color:"bg-fuchsia-500"},{id:"forest",color:"bg-emerald-500"},{id:"ocean",color:"bg-cyan-500"},{id:"sunset",color:"bg-rose-500"}].map(b=>y.jsx("button",{onClick:()=>l({theme:b.id}),className:K("w-6 h-6 rounded-full transition-all duration-300 relative",b.color,a.theme===b.id?g?"ring-2 ring-slate-800 ring-offset-2 ring-offset-white scale-110 z-10":"ring-2 ring-white ring-offset-2 ring-offset-[var(--theme-bg-subtle)] scale-110 z-10":"opacity-40 hover:opacity-100 hover:scale-105"),title:b.id},b.id))})]})]}),y.jsxs("div",{className:K("p-4 border-t bg-[var(--theme-bg-subtle)] shrink-0",g?"border-slate-200":"border-[var(--theme-border)]"),children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4 px-2",children:[n?.photoURL?y.jsx("img",{src:n.photoURL,className:"w-8 h-8 rounded-full bg-slate-800 object-cover",alt:"User"}):y.jsx("div",{className:K("w-8 h-8 rounded-full flex items-center justify-center",g?"bg-slate-200":"bg-slate-800"),children:y.jsx(yh,{size:14,className:g?"text-slate-600":"text-slate-400"})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:K("text-sm font-medium truncate",g?"text-slate-800":"text-white"),children:n?.displayName||"User"}),y.jsx("p",{className:K("text-xs truncate","text-slate-500"),children:n?.email})]})]}),y.jsxs("button",{onClick:e,className:K("w-full flex items-center gap-2 px-3 py-2 text-sm rounded-lg transition-colors",g?"text-slate-600 hover:text-red-600 hover:bg-red-50":"text-slate-400 hover:text-red-400 hover:bg-red-500/10"),children:[y.jsx(mI,{size:16}),"Sign Out"]})]})]}),y.jsxs("main",{className:"flex-1 min-w-0 flex flex-col h-screen overflow-hidden bg-transparent relative",children:[y.jsxs("header",{className:K("h-16 flex items-center justify-between px-4 lg:hidden border-b shrink-0",g?"border-slate-200 bg-white/80 backdrop-blur-sm":"border-[var(--theme-border)] bg-[var(--theme-bg-subtle)]"),children:[y.jsx("button",{onClick:()=>h(!0),className:K("p-2",g?"text-slate-600":"text-slate-400"),children:y.jsx($B,{size:24})}),y.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-8 w-auto"}),y.jsx("div",{className:"w-8"})," "]}),y.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-4 sm:p-6 lg:p-8",children:y.jsx("div",{className:"max-w-7xl mx-auto h-full",children:t})})]})]})},_q=()=>{const{user:t,loading:e}=fr();return e?y.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-bg-dark text-slate-500",children:"Initializing..."}):y.jsxs(y.Fragment,{children:[y.jsx(dq,{}),y.jsx(bP,{}),y.jsx("div",{className:"relative z-10 min-h-screen",children:y.jsx(uP,{children:y.jsxs(zM,{children:[y.jsx(jr,{path:"/login",element:t?y.jsx(Do,{to:"/dashboard",replace:!0}):y.jsx(cF,{})}),y.jsx(jr,{path:"/help",element:y.jsx(gq,{})}),y.jsx(jr,{path:"/dashboard",element:t?y.jsx(kf,{children:y.jsx(hq,{})}):y.jsx(Do,{to:"/login",replace:!0})}),y.jsx(jr,{path:"/profile",element:t?y.jsx(kf,{children:y.jsx(wq,{})}):y.jsx(Do,{to:"/login",replace:!0})}),y.jsx(jr,{path:"/board/legacy/:yearId",element:t?y.jsx(kf,{children:y.jsx(mA,{})}):y.jsx(Do,{to:"/login",replace:!0})}),y.jsx(jr,{path:"/board/:boardId",element:t?y.jsx(kf,{children:y.jsx(mA,{})}):y.jsx(Do,{to:"/login",replace:!0})}),y.jsx(jr,{path:"/",element:y.jsx(Do,{to:t?"/dashboard":"/login",replace:!0})}),y.jsx(jr,{path:"*",element:y.jsx(Do,{to:t?"/dashboard":"/login",replace:!0})})]})})})]})};function Tq(){return y.jsx(jL,{children:y.jsx(lF,{children:y.jsx(y8,{children:y.jsx(_q,{})})})})}console.log("Main.tsx full run");const pA=document.getElementById("root");pA?Fk.createRoot(pA).render(y.jsx(S.StrictMode,{children:y.jsx(Tq,{})})):console.error("Root not found");export{Fa as C,hr as F,qm as _,hn as a,zA as b,$o as c,hi as d,up as e,Tv as g,Wo as i,bv as p,tr as r,xv as u};
