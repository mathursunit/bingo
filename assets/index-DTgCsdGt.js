(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function oN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ug={exports:{}},Xc={};var WT;function lN(){if(WT)return Xc;WT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Xc.Fragment=e,Xc.jsx=n,Xc.jsxs=n,Xc}var ZT;function cN(){return ZT||(ZT=1,ug.exports=lN()),ug.exports}var T=cN(),hg={exports:{}},Le={};var JT;function uN(){if(JT)return Le;JT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function C(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,V={};function j(x,$,ee){this.props=x,this.context=$,this.refs=V,this.updater=ee||D}j.prototype.isReactComponent={},j.prototype.setState=function(x,$){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,$,"setState")},j.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function F(){}F.prototype=j.prototype;function q(x,$,ee){this.props=x,this.context=$,this.refs=V,this.updater=ee||D}var oe=q.prototype=new F;oe.constructor=q,P(oe,j.prototype),oe.isPureReactComponent=!0;var ae=Array.isArray;function de(){}var k={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function N(x,$,ee){var re=ee.ref;return{$$typeof:t,type:x,key:$,ref:re!==void 0?re:null,props:ee}}function O(x,$){return N(x.type,$,x.props)}function U(x){return typeof x=="object"&&x!==null&&x.$$typeof===t}function L(x){var $={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ee){return $[ee]})}var I=/\/+/g;function he(x,$){return typeof x=="object"&&x!==null&&x.key!=null?L(""+x.key):$.toString(36)}function pe(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(de,de):(x.status="pending",x.then(function($){x.status==="pending"&&(x.status="fulfilled",x.value=$)},function($){x.status==="pending"&&(x.status="rejected",x.reason=$)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function H(x,$,ee,re,ge){var ye=typeof x;(ye==="undefined"||ye==="boolean")&&(x=null);var me=!1;if(x===null)me=!0;else switch(ye){case"bigint":case"string":case"number":me=!0;break;case"object":switch(x.$$typeof){case t:case e:me=!0;break;case y:return me=x._init,H(me(x._payload),$,ee,re,ge)}}if(me)return ge=ge(x),me=re===""?"."+he(x,0):re,ae(ge)?(ee="",me!=null&&(ee=me.replace(I,"$&/")+"/"),H(ge,$,ee,"",function(He){return He})):ge!=null&&(U(ge)&&(ge=O(ge,ee+(ge.key==null||x&&x.key===ge.key?"":(""+ge.key).replace(I,"$&/")+"/")+me)),$.push(ge)),1;me=0;var Ae=re===""?".":re+":";if(ae(x))for(var Re=0;Re<x.length;Re++)re=x[Re],ye=Ae+he(re,Re),me+=H(re,$,ee,ye,ge);else if(Re=C(x),typeof Re=="function")for(x=Re.call(x),Re=0;!(re=x.next()).done;)re=re.value,ye=Ae+he(re,Re++),me+=H(re,$,ee,ye,ge);else if(ye==="object"){if(typeof x.then=="function")return H(pe(x),$,ee,re,ge);throw $=String(x),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return me}function ne(x,$,ee){if(x==null)return x;var re=[],ge=0;return H(x,re,"","",function(ye){return $.call(ee,ye,ge++)}),re}function ie(x){if(x._status===-1){var $=x._result;$=$(),$.then(function(ee){(x._status===0||x._status===-1)&&(x._status=1,x._result=ee)},function(ee){(x._status===0||x._status===-1)&&(x._status=2,x._result=ee)}),x._status===-1&&(x._status=0,x._result=$)}if(x._status===1)return x._result.default;throw x._result}var ke=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},G={map:ne,forEach:function(x,$,ee){ne(x,function(){$.apply(this,arguments)},ee)},count:function(x){var $=0;return ne(x,function(){$++}),$},toArray:function(x){return ne(x,function($){return $})||[]},only:function(x){if(!U(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Le.Activity=v,Le.Children=G,Le.Component=j,Le.Fragment=n,Le.Profiler=a,Le.PureComponent=q,Le.StrictMode=s,Le.Suspense=p,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Le.__COMPILER_RUNTIME={__proto__:null,c:function(x){return k.H.useMemoCache(x)}},Le.cache=function(x){return function(){return x.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(x,$,ee){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var re=P({},x.props),ge=x.key;if($!=null)for(ye in $.key!==void 0&&(ge=""+$.key),$)!S.call($,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&$.ref===void 0||(re[ye]=$[ye]);var ye=arguments.length-2;if(ye===1)re.children=ee;else if(1<ye){for(var me=Array(ye),Ae=0;Ae<ye;Ae++)me[Ae]=arguments[Ae+2];re.children=me}return N(x.type,ge,re)},Le.createContext=function(x){return x={$$typeof:u,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:l,_context:x},x},Le.createElement=function(x,$,ee){var re,ge={},ye=null;if($!=null)for(re in $.key!==void 0&&(ye=""+$.key),$)S.call($,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ge[re]=$[re]);var me=arguments.length-2;if(me===1)ge.children=ee;else if(1<me){for(var Ae=Array(me),Re=0;Re<me;Re++)Ae[Re]=arguments[Re+2];ge.children=Ae}if(x&&x.defaultProps)for(re in me=x.defaultProps,me)ge[re]===void 0&&(ge[re]=me[re]);return N(x,ye,ge)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(x){return{$$typeof:f,render:x}},Le.isValidElement=U,Le.lazy=function(x){return{$$typeof:y,_payload:{_status:-1,_result:x},_init:ie}},Le.memo=function(x,$){return{$$typeof:d,type:x,compare:$===void 0?null:$}},Le.startTransition=function(x){var $=k.T,ee={};k.T=ee;try{var re=x(),ge=k.S;ge!==null&&ge(ee,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(de,ke)}catch(ye){ke(ye)}finally{$!==null&&ee.types!==null&&($.types=ee.types),k.T=$}},Le.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Le.use=function(x){return k.H.use(x)},Le.useActionState=function(x,$,ee){return k.H.useActionState(x,$,ee)},Le.useCallback=function(x,$){return k.H.useCallback(x,$)},Le.useContext=function(x){return k.H.useContext(x)},Le.useDebugValue=function(){},Le.useDeferredValue=function(x,$){return k.H.useDeferredValue(x,$)},Le.useEffect=function(x,$){return k.H.useEffect(x,$)},Le.useEffectEvent=function(x){return k.H.useEffectEvent(x)},Le.useId=function(){return k.H.useId()},Le.useImperativeHandle=function(x,$,ee){return k.H.useImperativeHandle(x,$,ee)},Le.useInsertionEffect=function(x,$){return k.H.useInsertionEffect(x,$)},Le.useLayoutEffect=function(x,$){return k.H.useLayoutEffect(x,$)},Le.useMemo=function(x,$){return k.H.useMemo(x,$)},Le.useOptimistic=function(x,$){return k.H.useOptimistic(x,$)},Le.useReducer=function(x,$,ee){return k.H.useReducer(x,$,ee)},Le.useRef=function(x){return k.H.useRef(x)},Le.useState=function(x){return k.H.useState(x)},Le.useSyncExternalStore=function(x,$,ee){return k.H.useSyncExternalStore(x,$,ee)},Le.useTransition=function(){return k.H.useTransition()},Le.version="19.2.3",Le}var ew;function Xy(){return ew||(ew=1,hg.exports=uN()),hg.exports}var M=Xy();const ed=oN(M);var fg={exports:{}},Wc={},dg={exports:{}},mg={};var tw;function hN(){return tw||(tw=1,(function(t){function e(H,ne){var ie=H.length;H.push(ne);e:for(;0<ie;){var ke=ie-1>>>1,G=H[ke];if(0<a(G,ne))H[ke]=ne,H[ie]=G,ie=ke;else break e}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var ne=H[0],ie=H.pop();if(ie!==ne){H[0]=ie;e:for(var ke=0,G=H.length,x=G>>>1;ke<x;){var $=2*(ke+1)-1,ee=H[$],re=$+1,ge=H[re];if(0>a(ee,ie))re<G&&0>a(ge,ee)?(H[ke]=ge,H[re]=ie,ke=re):(H[ke]=ee,H[$]=ie,ke=$);else if(re<G&&0>a(ge,ie))H[ke]=ge,H[re]=ie,ke=re;else break e}}return ne}function a(H,ne){var ie=H.sortIndex-ne.sortIndex;return ie!==0?ie:H.id-ne.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var p=[],d=[],y=1,v=null,w=3,C=!1,D=!1,P=!1,V=!1,j=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function oe(H){for(var ne=n(d);ne!==null;){if(ne.callback===null)s(d);else if(ne.startTime<=H)s(d),ne.sortIndex=ne.expirationTime,e(p,ne);else break;ne=n(d)}}function ae(H){if(P=!1,oe(H),!D)if(n(p)!==null)D=!0,de||(de=!0,L());else{var ne=n(d);ne!==null&&pe(ae,ne.startTime-H)}}var de=!1,k=-1,S=5,N=-1;function O(){return V?!0:!(t.unstable_now()-N<S)}function U(){if(V=!1,de){var H=t.unstable_now();N=H;var ne=!0;try{e:{D=!1,P&&(P=!1,F(k),k=-1),C=!0;var ie=w;try{t:{for(oe(H),v=n(p);v!==null&&!(v.expirationTime>H&&O());){var ke=v.callback;if(typeof ke=="function"){v.callback=null,w=v.priorityLevel;var G=ke(v.expirationTime<=H);if(H=t.unstable_now(),typeof G=="function"){v.callback=G,oe(H),ne=!0;break t}v===n(p)&&s(p),oe(H)}else s(p);v=n(p)}if(v!==null)ne=!0;else{var x=n(d);x!==null&&pe(ae,x.startTime-H),ne=!1}}break e}finally{v=null,w=ie,C=!1}ne=void 0}}finally{ne?L():de=!1}}}var L;if(typeof q=="function")L=function(){q(U)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,he=I.port2;I.port1.onmessage=U,L=function(){he.postMessage(null)}}else L=function(){j(U,0)};function pe(H,ne){k=j(function(){H(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(H){switch(w){case 1:case 2:case 3:var ne=3;break;default:ne=w}var ie=w;w=ne;try{return H()}finally{w=ie}},t.unstable_requestPaint=function(){V=!0},t.unstable_runWithPriority=function(H,ne){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ie=w;w=H;try{return ne()}finally{w=ie}},t.unstable_scheduleCallback=function(H,ne,ie){var ke=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ke+ie:ke):ie=ke,H){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ie+G,H={id:y++,callback:ne,priorityLevel:H,startTime:ie,expirationTime:G,sortIndex:-1},ie>ke?(H.sortIndex=ie,e(d,H),n(p)===null&&H===n(d)&&(P?(F(k),k=-1):P=!0,pe(ae,ie-ke))):(H.sortIndex=G,e(p,H),D||C||(D=!0,de||(de=!0,L()))),H},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(H){var ne=w;return function(){var ie=w;w=ne;try{return H.apply(this,arguments)}finally{w=ie}}}})(mg)),mg}var nw;function fN(){return nw||(nw=1,dg.exports=hN()),dg.exports}var pg={exports:{}},Cn={};var iw;function dN(){if(iw)return Cn;iw=1;var t=Xy();function e(p){var d="https://react.dev/errors/"+p;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,d,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:p,containerInfo:d,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,d){if(p==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Cn.createPortal=function(p,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return l(p,d,null,y)},Cn.flushSync=function(p){var d=u.T,y=s.p;try{if(u.T=null,s.p=2,p)return p()}finally{u.T=d,s.p=y,s.d.f()}},Cn.preconnect=function(p,d){typeof p=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,s.d.C(p,d))},Cn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Cn.preinit=function(p,d){if(typeof p=="string"&&d&&typeof d.as=="string"){var y=d.as,v=f(y,d.crossOrigin),w=typeof d.integrity=="string"?d.integrity:void 0,C=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;y==="style"?s.d.S(p,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:C}):y==="script"&&s.d.X(p,{crossOrigin:v,integrity:w,fetchPriority:C,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Cn.preinitModule=function(p,d){if(typeof p=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var y=f(d.as,d.crossOrigin);s.d.M(p,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&s.d.M(p)},Cn.preload=function(p,d){if(typeof p=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var y=d.as,v=f(y,d.crossOrigin);s.d.L(p,y,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Cn.preloadModule=function(p,d){if(typeof p=="string")if(d){var y=f(d.as,d.crossOrigin);s.d.m(p,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else s.d.m(p)},Cn.requestFormReset=function(p){s.d.r(p)},Cn.unstable_batchedUpdates=function(p,d){return p(d)},Cn.useFormState=function(p,d,y){return u.H.useFormState(p,d,y)},Cn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Cn.version="19.2.3",Cn}var sw;function mN(){if(sw)return pg.exports;sw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pg.exports=dN(),pg.exports}var rw;function pN(){if(rw)return Wc;rw=1;var t=fN(),e=Xy(),n=mN();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(l(i)!==i)throw Error(s(188))}function d(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return p(m),i;if(g===c)return p(m),r;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=m,c=g;else{for(var b=!1,A=m.child;A;){if(A===o){b=!0,o=m,c=g;break}if(A===c){b=!0,c=m,o=g;break}A=A.sibling}if(!b){for(A=g.child;A;){if(A===o){b=!0,o=g,c=m;break}if(A===c){b=!0,c=g,o=m;break}A=A.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),q=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var I=Symbol.for("react.client.reference");function he(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===I?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case j:return"Profiler";case V:return"StrictMode";case ae:return"Suspense";case de:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case D:return"Portal";case q:return i.displayName||"Context";case F:return(i._context.displayName||"Context")+".Consumer";case oe:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return r=i.displayName||null,r!==null?r:he(i.type)||"Memo";case S:r=i._payload,i=i._init;try{return he(i(r))}catch{}}return null}var pe=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ke=[],G=-1;function x(i){return{current:i}}function $(i){0>G||(i.current=ke[G],ke[G]=null,G--)}function ee(i,r){G++,ke[G]=i.current,i.current=r}var re=x(null),ge=x(null),ye=x(null),me=x(null);function Ae(i,r){switch(ee(ye,r),ee(ge,i),ee(re,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?bT(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=bT(r),i=TT(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}$(re),ee(re,i)}function Re(){$(re),$(ge),$(ye)}function He(i){i.memoizedState!==null&&ee(me,i);var r=re.current,o=TT(r,i.type);r!==o&&(ee(ge,i),ee(re,o))}function qe(i){ge.current===i&&($(re),$(ge)),me.current===i&&($(me),Kc._currentValue=ie)}var Qe,bt;function De(i){if(Qe===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Qe=r&&r[1]||"",bt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qe+i+bt}var jt=!1;function kt(i,r){if(!i||jt)return"";jt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(te){var Z=te}Reflect.construct(i,[],ce)}else{try{ce.call()}catch(te){Z=te}i.call(ce.prototype)}}else{try{throw Error()}catch(te){Z=te}(ce=i())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(te){if(te&&Z&&typeof te.stack=="string")return[te.stack,Z.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),b=g[0],A=g[1];if(b&&A){var z=b.split(`
`),W=A.split(`
`);for(m=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;m<W.length&&!W[m].includes("DetermineComponentFrameRoot");)m++;if(c===z.length||m===W.length)for(c=z.length-1,m=W.length-1;1<=c&&0<=m&&z[c]!==W[m];)m--;for(;1<=c&&0<=m;c--,m--)if(z[c]!==W[m]){if(c!==1||m!==1)do if(c--,m--,0>m||z[c]!==W[m]){var se=`
`+z[c].replace(" at new "," at ");return i.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",i.displayName)),se}while(1<=c&&0<=m);break}}}finally{jt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?De(o):""}function rn(i,r){switch(i.tag){case 26:case 27:case 5:return De(i.type);case 16:return De("Lazy");case 13:return i.child!==r&&r!==null?De("Suspense Fallback"):De("Suspense");case 19:return De("SuspenseList");case 0:case 15:return kt(i.type,!1);case 11:return kt(i.type.render,!1);case 1:return kt(i.type,!0);case 31:return De("Activity");default:return""}}function yn(i){try{var r="",o=null;do r+=rn(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var it=Object.prototype.hasOwnProperty,st=t.unstable_scheduleCallback,gi=t.unstable_cancelCallback,Sa=t.unstable_shouldYield,_r=t.unstable_requestPaint,St=t.unstable_now,An=t.unstable_getCurrentPriorityLevel,Mn=t.unstable_ImmediatePriority,Zn=t.unstable_UserBlockingPriority,Jn=t.unstable_NormalPriority,Ps=t.unstable_LowPriority,Os=t.unstable_IdlePriority,ei=t.log,wt=t.unstable_setDisableYieldValue,an=null,Kt=null;function vn(i){if(typeof ei=="function"&&wt(i),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(an,i)}catch{}}var Et=Math.clz32?Math.clz32:Aa,is=Math.log,Ls=Math.LN2;function Aa(i){return i>>>=0,i===0?32:31-(is(i)/Ls|0)|0}var Vn=256,js=262144,Mt=4194304;function yi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ti(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var m=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~g,c!==0?m=yi(c):(b&=A,b!==0?m=yi(b):o||(o=A&~i,o!==0&&(m=yi(o))))):(A=c&~g,A!==0?m=yi(A):b!==0?m=yi(b):o||(o=c&~i,o!==0&&(m=yi(o)))),m===0?0:r!==0&&r!==m&&(r&g)===0&&(g=m&-m,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:m}function Pn(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Ca(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eo(){var i=Mt;return Mt<<=1,(Mt&62914560)===0&&(Mt=4194304),i}function vi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Us(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function xo(i,r,o,c,m,g){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,z=i.expirationTimes,W=i.hiddenUpdates;for(o=b&~o;0<o;){var se=31-Et(o),ce=1<<se;A[se]=0,z[se]=-1;var Z=W[se];if(Z!==null)for(W[se]=null,se=0;se<Z.length;se++){var te=Z[se];te!==null&&(te.lane&=-536870913)}o&=~ce}c!==0&&zs(i,c,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~r))}function zs(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-Et(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Ra(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-Et(o),m=1<<c;m&r|i[c]&r&&(i[c]|=r),o&=~m}}function So(i,r){var o=r&-r;return o=(o&42)!==0?1:ss(o),(o&(i.suspendedLanes|r))!==0?0:o}function ss(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ni(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function br(){var i=ne.p;return i!==0?i:(i=window.event,i===void 0?32:HT(i.type))}function ii(i,r){var o=ne.p;try{return ne.p=i,r()}finally{ne.p=o}}var Y=Math.random().toString(36).slice(2),be="__reactFiber$"+Y,Ke="__reactProps$"+Y,mt="__reactContainer$"+Y,Vt="__reactEvents$"+Y,On="__reactListeners$"+Y,Ui="__reactHandles$"+Y,Ia="__reactResources$"+Y,rs="__reactMarker$"+Y;function Ao(i){delete i[be],delete i[Ke],delete i[Vt],delete i[On],delete i[Ui]}function as(i){var r=i[be];if(r)return r;for(var o=i.parentNode;o;){if(r=o[mt]||o[be]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=RT(i);i!==null;){if(o=i[be])return o;i=RT(i)}return r}i=o,o=i.parentNode}return null}function _i(i){if(i=i[be]||i[mt]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function si(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function os(i){var r=i[Ia];return r||(r=i[Ia]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function $t(i){i[rs]=!0}var Jl=new Set,ec={};function ls(i,r){cs(i,r),cs(i+"Capture",r)}function cs(i,r){for(ec[i]=r,i=0;i<r.length;i++)Jl.add(r[i])}var tc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nc={},ic={};function sh(i){return it.call(ic,i)?!0:it.call(nc,i)?!1:tc.test(i)?ic[i]=!0:(nc[i]=!0,!1)}function Co(i,r,o){if(sh(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function ri(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Yt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function fn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Tr(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function sc(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return m.call(this)},set:function(b){o=""+b,g.call(this,b)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function ht(i){if(!i._valueTracker){var r=Tr(i)?"checked":"value";i._valueTracker=sc(i,r,""+i[r])}}function Na(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=Tr(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function us(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Da=/[\n"\\]/g;function Fn(i){return i.replace(Da,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ro(i,r,o,c,m,g,b,A){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),r!=null?b==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+fn(r)):i.value!==""+fn(r)&&(i.value=""+fn(r)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),r!=null?rc(i,b,fn(r)):o!=null?rc(i,b,fn(o)):c!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+fn(A):i.removeAttribute("name")}function rh(i,r,o,c,m,g,b,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){ht(i);return}o=o!=null?""+fn(o):"",r=r!=null?""+fn(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b),ht(i)}function rc(i,r,o){r==="number"&&us(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function wr(i,r,o,c){if(i=i.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=r.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&c&&(i[o].defaultSelected=!0)}else{for(o=""+fn(o),r=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}r!==null||i[m].disabled||(r=i[m])}r!==null&&(r.selected=!0)}}function ah(i,r,o){if(r!=null&&(r=""+fn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+fn(o):""}function Er(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(pe(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=fn(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),ht(i)}function qn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var oh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ac(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||oh.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function oc(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in r)c=r[m],r.hasOwnProperty(m)&&o[m]!==c&&ac(i,m,c)}else for(var g in r)r.hasOwnProperty(g)&&ac(i,g,r[g])}function Io(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function No(i){return xr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function zi(){}var lc=null;function bi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Sr=null,hs=null;function ka(i){var r=_i(i);if(r&&(i=r.stateNode)){var o=i[Ke]||null;e:switch(i=r.stateNode,r.type){case"input":if(Ro(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Fn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var m=c[Ke]||null;if(!m)throw Error(s(90));Ro(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&Na(c)}break e;case"textarea":ah(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&wr(i,!!o.multiple,r,!1)}}}var Do=!1;function Ar(i,r,o){if(Do)return i(r,o);Do=!0;try{var c=i(r);return c}finally{if(Do=!1,(Sr!==null||hs!==null)&&(tf(),Sr&&(r=Sr,i=hs,hs=Sr=null,ka(r),i)))for(r=0;r<i.length;r++)ka(i[r])}}function Bi(i,r){var o=i.stateNode;if(o===null)return null;var c=o[Ke]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ma=!1;if(Ti)try{var pt={};Object.defineProperty(pt,"passive",{get:function(){Ma=!0}}),window.addEventListener("test",pt,pt),window.removeEventListener("test",pt,pt)}catch{Ma=!1}var fs=null,cc=null,Va=null;function uc(){if(Va)return Va;var i,r=cc,o=r.length,c,m="value"in fs?fs.value:fs.textContent,g=m.length;for(i=0;i<o&&r[i]===m[i];i++);var b=o-i;for(c=1;c<=b&&r[o-c]===m[g-c];c++);return Va=m.slice(i,1<c?1-c:void 0)}function Pa(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Bs(){return!0}function Fi(){return!1}function _n(i){function r(o,c,m,g,b){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Bs:Fi,this.isPropagationStopped=Fi,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Bs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Bs)},persist:function(){},isPersistent:Bs}),r}var Fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ds=_n(Fs),Cr=v({},Fs,{view:0,detail:0}),hc=_n(Cr),Rr,ko,ms,Mo=v({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ir,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ms&&(ms&&i.type==="mousemove"?(Rr=i.screenX-ms.screenX,ko=i.screenY-ms.screenY):ko=Rr=0,ms=i),Rr)},movementY:function(i){return"movementY"in i?i.movementY:ko}}),fc=_n(Mo),Oa=v({},Mo,{dataTransfer:0}),ch=_n(Oa),uh=v({},Cr,{relatedTarget:0}),La=_n(uh),dc=v({},Fs,{animationName:0,elapsedTime:0,pseudoElement:0}),hh=_n(dc),Vo=v({},Fs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),fh=_n(Vo),dh=v({},Fs,{data:0}),ps=_n(dh),mh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ph={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=gh[i])?!!r[i]:!1}function Ir(){return yh}var Ln=v({},Cr,{key:function(i){if(i.key){var r=mh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Pa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ph[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ir,charCode:function(i){return i.type==="keypress"?Pa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Pa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),vh=_n(Ln),_h=v({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qs=_n(_h),h=v({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ir}),_=_n(h),E=v({},Fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=_n(E),Q=v({},Mo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),J=_n(Q),ve=v({},Fs,{newState:0,oldState:0}),Ue=_n(ve),Ft=[9,13,27,32],ot=Ti&&"CompositionEvent"in window,It=null;Ti&&"documentMode"in document&&(It=document.documentMode);var wi=Ti&&"TextEvent"in window&&!It,gs=Ti&&(!ot||It&&8<It&&11>=It),qi=" ",Hi=!1;function ja(i,r){switch(i){case"keyup":return Ft.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Po(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Oo=!1;function D2(i,r){switch(i){case"compositionend":return Po(r);case"keypress":return r.which!==32?null:(Hi=!0,qi);case"textInput":return i=r.data,i===qi&&Hi?null:i;default:return null}}function k2(i,r){if(Oo)return i==="compositionend"||!ot&&ja(i,r)?(i=uc(),Va=cc=fs=null,Oo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return gs&&r.locale!=="ko"?null:r.data;default:return null}}var M2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D0(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!M2[i.type]:r==="textarea"}function k0(i,r,o,c){Sr?hs?hs.push(c):hs=[c]:Sr=c,r=cf(r,"onChange"),0<r.length&&(o=new ds("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var mc=null,pc=null;function V2(i){mT(i,0)}function bh(i){var r=si(i);if(Na(r))return i}function M0(i,r){if(i==="change")return r}var V0=!1;if(Ti){var ym;if(Ti){var vm="oninput"in document;if(!vm){var P0=document.createElement("div");P0.setAttribute("oninput","return;"),vm=typeof P0.oninput=="function"}ym=vm}else ym=!1;V0=ym&&(!document.documentMode||9<document.documentMode)}function O0(){mc&&(mc.detachEvent("onpropertychange",L0),pc=mc=null)}function L0(i){if(i.propertyName==="value"&&bh(pc)){var r=[];k0(r,pc,i,bi(i)),Ar(V2,r)}}function P2(i,r,o){i==="focusin"?(O0(),mc=r,pc=o,mc.attachEvent("onpropertychange",L0)):i==="focusout"&&O0()}function O2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return bh(pc)}function L2(i,r){if(i==="click")return bh(r)}function j2(i,r){if(i==="input"||i==="change")return bh(r)}function U2(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var ai=typeof Object.is=="function"?Object.is:U2;function gc(i,r){if(ai(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!it.call(r,m)||!ai(i[m],r[m]))return!1}return!0}function j0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function U0(i,r){var o=j0(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=j0(o)}}function z0(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?z0(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function B0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=us(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=us(i.document)}return r}function _m(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var z2=Ti&&"documentMode"in document&&11>=document.documentMode,Lo=null,bm=null,yc=null,Tm=!1;function F0(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Tm||Lo==null||Lo!==us(c)||(c=Lo,"selectionStart"in c&&_m(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),yc&&gc(yc,c)||(yc=c,c=cf(bm,"onSelect"),0<c.length&&(r=new ds("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=Lo)))}function Ua(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var jo={animationend:Ua("Animation","AnimationEnd"),animationiteration:Ua("Animation","AnimationIteration"),animationstart:Ua("Animation","AnimationStart"),transitionrun:Ua("Transition","TransitionRun"),transitionstart:Ua("Transition","TransitionStart"),transitioncancel:Ua("Transition","TransitionCancel"),transitionend:Ua("Transition","TransitionEnd")},wm={},q0={};Ti&&(q0=document.createElement("div").style,"AnimationEvent"in window||(delete jo.animationend.animation,delete jo.animationiteration.animation,delete jo.animationstart.animation),"TransitionEvent"in window||delete jo.transitionend.transition);function za(i){if(wm[i])return wm[i];if(!jo[i])return i;var r=jo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in q0)return wm[i]=r[o];return i}var H0=za("animationend"),G0=za("animationiteration"),K0=za("animationstart"),B2=za("transitionrun"),F2=za("transitionstart"),q2=za("transitioncancel"),$0=za("transitionend"),Y0=new Map,Em="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Em.push("scrollEnd");function Gi(i,r){Y0.set(i,r),ls(r,[i])}var Th=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Ei=[],Uo=0,xm=0;function wh(){for(var i=Uo,r=xm=Uo=0;r<i;){var o=Ei[r];Ei[r++]=null;var c=Ei[r];Ei[r++]=null;var m=Ei[r];Ei[r++]=null;var g=Ei[r];if(Ei[r++]=null,c!==null&&m!==null){var b=c.pending;b===null?m.next=m:(m.next=b.next,b.next=m),c.pending=m}g!==0&&Q0(o,m,g)}}function Eh(i,r,o,c){Ei[Uo++]=i,Ei[Uo++]=r,Ei[Uo++]=o,Ei[Uo++]=c,xm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Sm(i,r,o,c){return Eh(i,r,o,c),xh(i)}function Ba(i,r){return Eh(i,null,null,r),xh(i)}function Q0(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&r!==null&&(m=31-Et(o),i=g.hiddenUpdates,c=i[m],c===null?i[m]=[r]:c.push(r),r.lane=o|536870912),g):null}function xh(i){if(50<Uc)throw Uc=0,Vp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var zo={};function H2(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(i,r,o,c){return new H2(i,r,o,c)}function Am(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Hs(i,r){var o=i.alternate;return o===null?(o=oi(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function X0(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Sh(i,r,o,c,m,g){var b=0;if(c=i,typeof i=="function")Am(i)&&(b=1);else if(typeof i=="string")b=QI(i,o,re.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=oi(31,o,r,m),i.elementType=N,i.lanes=g,i;case P:return Fa(o.children,m,g,r);case V:b=8,m|=24;break;case j:return i=oi(12,o,r,m|2),i.elementType=j,i.lanes=g,i;case ae:return i=oi(13,o,r,m),i.elementType=ae,i.lanes=g,i;case de:return i=oi(19,o,r,m),i.elementType=de,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case q:b=10;break e;case F:b=9;break e;case oe:b=11;break e;case k:b=14;break e;case S:b=16,c=null;break e}b=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=oi(b,o,r,m),r.elementType=i,r.type=c,r.lanes=g,r}function Fa(i,r,o,c){return i=oi(7,i,c,r),i.lanes=o,i}function Cm(i,r,o){return i=oi(6,i,null,r),i.lanes=o,i}function W0(i){var r=oi(18,null,null,0);return r.stateNode=i,r}function Rm(i,r,o){return r=oi(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Z0=new WeakMap;function xi(i,r){if(typeof i=="object"&&i!==null){var o=Z0.get(i);return o!==void 0?o:(r={value:i,source:r,stack:yn(r)},Z0.set(i,r),r)}return{value:i,source:r,stack:yn(r)}}var Bo=[],Fo=0,Ah=null,vc=0,Si=[],Ai=0,Nr=null,ys=1,vs="";function Gs(i,r){Bo[Fo++]=vc,Bo[Fo++]=Ah,Ah=i,vc=r}function J0(i,r,o){Si[Ai++]=ys,Si[Ai++]=vs,Si[Ai++]=Nr,Nr=i;var c=ys;i=vs;var m=32-Et(c)-1;c&=~(1<<m),o+=1;var g=32-Et(r)+m;if(30<g){var b=m-m%5;g=(c&(1<<b)-1).toString(32),c>>=b,m-=b,ys=1<<32-Et(r)+m|o<<m|c,vs=g+i}else ys=1<<g|o<<m|c,vs=i}function Im(i){i.return!==null&&(Gs(i,1),J0(i,1,0))}function Nm(i){for(;i===Ah;)Ah=Bo[--Fo],Bo[Fo]=null,vc=Bo[--Fo],Bo[Fo]=null;for(;i===Nr;)Nr=Si[--Ai],Si[Ai]=null,vs=Si[--Ai],Si[Ai]=null,ys=Si[--Ai],Si[Ai]=null}function e_(i,r){Si[Ai++]=ys,Si[Ai++]=vs,Si[Ai++]=Nr,ys=r.id,vs=r.overflow,Nr=i}var bn=null,At=null,tt=!1,Dr=null,Ci=!1,Dm=Error(s(519));function kr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _c(xi(r,i)),Dm}function t_(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[be]=i,r[Ke]=c,o){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(o=0;o<Bc.length;o++)Ye(Bc[o],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":Ye("invalid",r),rh(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ye("invalid",r);break;case"textarea":Ye("invalid",r),Er(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||vT(r.textContent,o)?(c.popover!=null&&(Ye("beforetoggle",r),Ye("toggle",r)),c.onScroll!=null&&Ye("scroll",r),c.onScrollEnd!=null&&Ye("scrollend",r),c.onClick!=null&&(r.onclick=zi),r=!0):r=!1,r||kr(i,!0)}function n_(i){for(bn=i.return;bn;)switch(bn.tag){case 5:case 31:case 13:Ci=!1;return;case 27:case 3:Ci=!0;return;default:bn=bn.return}}function qo(i){if(i!==bn)return!1;if(!tt)return n_(i),tt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Qp(i.type,i.memoizedProps)),o=!o),o&&At&&kr(i),n_(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));At=CT(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));At=CT(i)}else r===27?(r=At,Kr(i.type)?(i=eg,eg=null,At=i):At=r):At=bn?Ii(i.stateNode.nextSibling):null;return!0}function qa(){At=bn=null,tt=!1}function km(){var i=Dr;return i!==null&&($n===null?$n=i:$n.push.apply($n,i),Dr=null),i}function _c(i){Dr===null?Dr=[i]:Dr.push(i)}var Mm=x(null),Ha=null,Ks=null;function Mr(i,r,o){ee(Mm,r._currentValue),r._currentValue=o}function $s(i){i._currentValue=Mm.current,$(Mm)}function Vm(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function Pm(i,r,o,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var b=m.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=m;for(var z=0;z<r.length;z++)if(A.context===r[z]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),Vm(g.return,o,i),c||(b=null);break e}g=A.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(s(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),Vm(b,o,i),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===i){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function Ho(i,r,o,c){i=null;for(var m=r,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var A=m.type;ai(m.pendingProps.value,b.value)||(i!==null?i.push(A):i=[A])}}else if(m===me.current){if(b=m.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Kc):i=[Kc])}m=m.return}i!==null&&Pm(r,i,o,c),r.flags|=262144}function Ch(i){for(i=i.firstContext;i!==null;){if(!ai(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ga(i){Ha=i,Ks=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Tn(i){return i_(Ha,i)}function Rh(i,r){return Ha===null&&Ga(i),i_(i,r)}function i_(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Ks===null){if(i===null)throw Error(s(308));Ks=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Ks=Ks.next=r;return o}var G2=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},K2=t.unstable_scheduleCallback,$2=t.unstable_NormalPriority,Qt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Om(){return{controller:new G2,data:new Map,refCount:0}}function bc(i){i.refCount--,i.refCount===0&&K2($2,function(){i.controller.abort()})}var Tc=null,Lm=0,Go=0,Ko=null;function Y2(i,r){if(Tc===null){var o=Tc=[];Lm=0,Go=zp(),Ko={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Lm++,r.then(s_,s_),r}function s_(){if(--Lm===0&&Tc!==null){Ko!==null&&(Ko.status="fulfilled");var i=Tc;Tc=null,Go=0,Ko=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function Q2(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var r_=H.S;H.S=function(i,r){Fb=St(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Y2(i,r),r_!==null&&r_(i,r)};var Ka=x(null);function jm(){var i=Ka.current;return i!==null?i:Tt.pooledCache}function Ih(i,r){r===null?ee(Ka,Ka.current):ee(Ka,r.pool)}function a_(){var i=jm();return i===null?null:{parent:Qt._currentValue,pool:i}}var $o=Error(s(460)),Um=Error(s(474)),Nh=Error(s(542)),Dh={then:function(){}};function o_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function l_(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(zi,zi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,u_(i),i;default:if(typeof r.status=="string")r.then(zi,zi);else{if(i=Tt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=c}},function(c){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,u_(i),i}throw Ya=r,$o}}function $a(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ya=o,$o):o}}var Ya=null;function c_(){if(Ya===null)throw Error(s(459));var i=Ya;return Ya=null,i}function u_(i){if(i===$o||i===Nh)throw Error(s(483))}var Yo=null,wc=0;function kh(i){var r=wc;return wc+=1,Yo===null&&(Yo=[]),l_(Yo,i,r)}function Ec(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Mh(i,r){throw r.$$typeof===w?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function h_(i){function r(K,B){if(i){var X=K.deletions;X===null?(K.deletions=[B],K.flags|=16):X.push(B)}}function o(K,B){if(!i)return null;for(;B!==null;)r(K,B),B=B.sibling;return null}function c(K){for(var B=new Map;K!==null;)K.key!==null?B.set(K.key,K):B.set(K.index,K),K=K.sibling;return B}function m(K,B){return K=Hs(K,B),K.index=0,K.sibling=null,K}function g(K,B,X){return K.index=X,i?(X=K.alternate,X!==null?(X=X.index,X<B?(K.flags|=67108866,B):X):(K.flags|=67108866,B)):(K.flags|=1048576,B)}function b(K){return i&&K.alternate===null&&(K.flags|=67108866),K}function A(K,B,X,le){return B===null||B.tag!==6?(B=Cm(X,K.mode,le),B.return=K,B):(B=m(B,X),B.return=K,B)}function z(K,B,X,le){var Ne=X.type;return Ne===P?se(K,B,X.props.children,le,X.key):B!==null&&(B.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===S&&$a(Ne)===B.type)?(B=m(B,X.props),Ec(B,X),B.return=K,B):(B=Sh(X.type,X.key,X.props,null,K.mode,le),Ec(B,X),B.return=K,B)}function W(K,B,X,le){return B===null||B.tag!==4||B.stateNode.containerInfo!==X.containerInfo||B.stateNode.implementation!==X.implementation?(B=Rm(X,K.mode,le),B.return=K,B):(B=m(B,X.children||[]),B.return=K,B)}function se(K,B,X,le,Ne){return B===null||B.tag!==7?(B=Fa(X,K.mode,le,Ne),B.return=K,B):(B=m(B,X),B.return=K,B)}function ce(K,B,X){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Cm(""+B,K.mode,X),B.return=K,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case C:return X=Sh(B.type,B.key,B.props,null,K.mode,X),Ec(X,B),X.return=K,X;case D:return B=Rm(B,K.mode,X),B.return=K,B;case S:return B=$a(B),ce(K,B,X)}if(pe(B)||L(B))return B=Fa(B,K.mode,X,null),B.return=K,B;if(typeof B.then=="function")return ce(K,kh(B),X);if(B.$$typeof===q)return ce(K,Rh(K,B),X);Mh(K,B)}return null}function Z(K,B,X,le){var Ne=B!==null?B.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ne!==null?null:A(K,B,""+X,le);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case C:return X.key===Ne?z(K,B,X,le):null;case D:return X.key===Ne?W(K,B,X,le):null;case S:return X=$a(X),Z(K,B,X,le)}if(pe(X)||L(X))return Ne!==null?null:se(K,B,X,le,null);if(typeof X.then=="function")return Z(K,B,kh(X),le);if(X.$$typeof===q)return Z(K,B,Rh(K,X),le);Mh(K,X)}return null}function te(K,B,X,le,Ne){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return K=K.get(X)||null,A(B,K,""+le,Ne);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case C:return K=K.get(le.key===null?X:le.key)||null,z(B,K,le,Ne);case D:return K=K.get(le.key===null?X:le.key)||null,W(B,K,le,Ne);case S:return le=$a(le),te(K,B,X,le,Ne)}if(pe(le)||L(le))return K=K.get(X)||null,se(B,K,le,Ne,null);if(typeof le.then=="function")return te(K,B,X,kh(le),Ne);if(le.$$typeof===q)return te(K,B,X,Rh(B,le),Ne);Mh(B,le)}return null}function Ee(K,B,X,le){for(var Ne=null,rt=null,Ce=B,Be=B=0,We=null;Ce!==null&&Be<X.length;Be++){Ce.index>Be?(We=Ce,Ce=null):We=Ce.sibling;var at=Z(K,Ce,X[Be],le);if(at===null){Ce===null&&(Ce=We);break}i&&Ce&&at.alternate===null&&r(K,Ce),B=g(at,B,Be),rt===null?Ne=at:rt.sibling=at,rt=at,Ce=We}if(Be===X.length)return o(K,Ce),tt&&Gs(K,Be),Ne;if(Ce===null){for(;Be<X.length;Be++)Ce=ce(K,X[Be],le),Ce!==null&&(B=g(Ce,B,Be),rt===null?Ne=Ce:rt.sibling=Ce,rt=Ce);return tt&&Gs(K,Be),Ne}for(Ce=c(Ce);Be<X.length;Be++)We=te(Ce,K,Be,X[Be],le),We!==null&&(i&&We.alternate!==null&&Ce.delete(We.key===null?Be:We.key),B=g(We,B,Be),rt===null?Ne=We:rt.sibling=We,rt=We);return i&&Ce.forEach(function(Wr){return r(K,Wr)}),tt&&Gs(K,Be),Ne}function Me(K,B,X,le){if(X==null)throw Error(s(151));for(var Ne=null,rt=null,Ce=B,Be=B=0,We=null,at=X.next();Ce!==null&&!at.done;Be++,at=X.next()){Ce.index>Be?(We=Ce,Ce=null):We=Ce.sibling;var Wr=Z(K,Ce,at.value,le);if(Wr===null){Ce===null&&(Ce=We);break}i&&Ce&&Wr.alternate===null&&r(K,Ce),B=g(Wr,B,Be),rt===null?Ne=Wr:rt.sibling=Wr,rt=Wr,Ce=We}if(at.done)return o(K,Ce),tt&&Gs(K,Be),Ne;if(Ce===null){for(;!at.done;Be++,at=X.next())at=ce(K,at.value,le),at!==null&&(B=g(at,B,Be),rt===null?Ne=at:rt.sibling=at,rt=at);return tt&&Gs(K,Be),Ne}for(Ce=c(Ce);!at.done;Be++,at=X.next())at=te(Ce,K,Be,at.value,le),at!==null&&(i&&at.alternate!==null&&Ce.delete(at.key===null?Be:at.key),B=g(at,B,Be),rt===null?Ne=at:rt.sibling=at,rt=at);return i&&Ce.forEach(function(aN){return r(K,aN)}),tt&&Gs(K,Be),Ne}function vt(K,B,X,le){if(typeof X=="object"&&X!==null&&X.type===P&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case C:e:{for(var Ne=X.key;B!==null;){if(B.key===Ne){if(Ne=X.type,Ne===P){if(B.tag===7){o(K,B.sibling),le=m(B,X.props.children),le.return=K,K=le;break e}}else if(B.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===S&&$a(Ne)===B.type){o(K,B.sibling),le=m(B,X.props),Ec(le,X),le.return=K,K=le;break e}o(K,B);break}else r(K,B);B=B.sibling}X.type===P?(le=Fa(X.props.children,K.mode,le,X.key),le.return=K,K=le):(le=Sh(X.type,X.key,X.props,null,K.mode,le),Ec(le,X),le.return=K,K=le)}return b(K);case D:e:{for(Ne=X.key;B!==null;){if(B.key===Ne)if(B.tag===4&&B.stateNode.containerInfo===X.containerInfo&&B.stateNode.implementation===X.implementation){o(K,B.sibling),le=m(B,X.children||[]),le.return=K,K=le;break e}else{o(K,B);break}else r(K,B);B=B.sibling}le=Rm(X,K.mode,le),le.return=K,K=le}return b(K);case S:return X=$a(X),vt(K,B,X,le)}if(pe(X))return Ee(K,B,X,le);if(L(X)){if(Ne=L(X),typeof Ne!="function")throw Error(s(150));return X=Ne.call(X),Me(K,B,X,le)}if(typeof X.then=="function")return vt(K,B,kh(X),le);if(X.$$typeof===q)return vt(K,B,Rh(K,X),le);Mh(K,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,B!==null&&B.tag===6?(o(K,B.sibling),le=m(B,X),le.return=K,K=le):(o(K,B),le=Cm(X,K.mode,le),le.return=K,K=le),b(K)):o(K,B)}return function(K,B,X,le){try{wc=0;var Ne=vt(K,B,X,le);return Yo=null,Ne}catch(Ce){if(Ce===$o||Ce===Nh)throw Ce;var rt=oi(29,Ce,null,K.mode);return rt.lanes=le,rt.return=K,rt}}}var Qa=h_(!0),f_=h_(!1),Vr=!1;function zm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Pr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Or(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(lt&2)!==0){var m=c.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),c.pending=r,r=xh(i),Q0(i,null,o),r}return Eh(i,c,r,o),xh(i)}function xc(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Ra(i,o)}}function Fm(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?m=g=r:g=g.next=r}else m=g=r;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var qm=!1;function Sc(){if(qm){var i=Ko;if(i!==null)throw i}}function Ac(i,r,o,c){qm=!1;var m=i.updateQueue;Vr=!1;var g=m.firstBaseUpdate,b=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var z=A,W=z.next;z.next=null,b===null?g=W:b.next=W,b=z;var se=i.alternate;se!==null&&(se=se.updateQueue,A=se.lastBaseUpdate,A!==b&&(A===null?se.firstBaseUpdate=W:A.next=W,se.lastBaseUpdate=z))}if(g!==null){var ce=m.baseState;b=0,se=W=z=null,A=g;do{var Z=A.lane&-536870913,te=Z!==A.lane;if(te?(Xe&Z)===Z:(c&Z)===Z){Z!==0&&Z===Go&&(qm=!0),se!==null&&(se=se.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ee=i,Me=A;Z=r;var vt=o;switch(Me.tag){case 1:if(Ee=Me.payload,typeof Ee=="function"){ce=Ee.call(vt,ce,Z);break e}ce=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Me.payload,Z=typeof Ee=="function"?Ee.call(vt,ce,Z):Ee,Z==null)break e;ce=v({},ce,Z);break e;case 2:Vr=!0}}Z=A.callback,Z!==null&&(i.flags|=64,te&&(i.flags|=8192),te=m.callbacks,te===null?m.callbacks=[Z]:te.push(Z))}else te={lane:Z,tag:A.tag,payload:A.payload,callback:A.callback,next:null},se===null?(W=se=te,z=ce):se=se.next=te,b|=Z;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;te=A,A=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);se===null&&(z=ce),m.baseState=z,m.firstBaseUpdate=W,m.lastBaseUpdate=se,g===null&&(m.shared.lanes=0),Br|=b,i.lanes=b,i.memoizedState=ce}}function d_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function m_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)d_(o[i],r)}var Qo=x(null),Vh=x(0);function p_(i,r){i=nr,ee(Vh,i),ee(Qo,r),nr=i|r.baseLanes}function Hm(){ee(Vh,nr),ee(Qo,Qo.current)}function Gm(){nr=Vh.current,$(Qo),$(Vh)}var li=x(null),Ri=null;function Lr(i){var r=i.alternate;ee(qt,qt.current&1),ee(li,i),Ri===null&&(r===null||Qo.current!==null||r.memoizedState!==null)&&(Ri=i)}function Km(i){ee(qt,qt.current),ee(li,i),Ri===null&&(Ri=i)}function g_(i){i.tag===22?(ee(qt,qt.current),ee(li,i),Ri===null&&(Ri=i)):jr()}function jr(){ee(qt,qt.current),ee(li,li.current)}function ci(i){$(li),Ri===i&&(Ri=null),$(qt)}var qt=x(0);function Ph(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Zp(o)||Jp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ys=0,ze=null,gt=null,Xt=null,Oh=!1,Xo=!1,Xa=!1,Lh=0,Cc=0,Wo=null,X2=0;function Ut(){throw Error(s(321))}function $m(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!ai(i[o],r[o]))return!1;return!0}function Ym(i,r,o,c,m,g){return Ys=g,ze=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,H.H=i===null||i.memoizedState===null?J_:cp,Xa=!1,g=o(c,m),Xa=!1,Xo&&(g=v_(r,o,c,m)),y_(i),g}function y_(i){H.H=Nc;var r=gt!==null&&gt.next!==null;if(Ys=0,Xt=gt=ze=null,Oh=!1,Cc=0,Wo=null,r)throw Error(s(300));i===null||Wt||(i=i.dependencies,i!==null&&Ch(i)&&(Wt=!0))}function v_(i,r,o,c){ze=i;var m=0;do{if(Xo&&(Wo=null),Cc=0,Xo=!1,25<=m)throw Error(s(301));if(m+=1,Xt=gt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}H.H=eb,g=r(o,c)}while(Xo);return g}function W2(){var i=H.H,r=i.useState()[0];return r=typeof r.then=="function"?Rc(r):r,i=i.useState()[0],(gt!==null?gt.memoizedState:null)!==i&&(ze.flags|=1024),r}function Qm(){var i=Lh!==0;return Lh=0,i}function Xm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Wm(i){if(Oh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Oh=!1}Ys=0,Xt=gt=ze=null,Xo=!1,Cc=Lh=0,Wo=null}function jn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?ze.memoizedState=Xt=i:Xt=Xt.next=i,Xt}function Ht(){if(gt===null){var i=ze.alternate;i=i!==null?i.memoizedState:null}else i=gt.next;var r=Xt===null?ze.memoizedState:Xt.next;if(r!==null)Xt=r,gt=i;else{if(i===null)throw ze.alternate===null?Error(s(467)):Error(s(310));gt=i,i={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Xt===null?ze.memoizedState=Xt=i:Xt=Xt.next=i}return Xt}function jh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rc(i){var r=Cc;return Cc+=1,Wo===null&&(Wo=[]),i=l_(Wo,i,r),r=ze,(Xt===null?r.memoizedState:Xt.next)===null&&(r=r.alternate,H.H=r===null||r.memoizedState===null?J_:cp),i}function Uh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Rc(i);if(i.$$typeof===q)return Tn(i)}throw Error(s(438,String(i)))}function Zm(i){var r=null,o=ze.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=ze.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=jh(),ze.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=O;return r.index++,o}function Qs(i,r){return typeof r=="function"?r(i):r}function zh(i){var r=Ht();return Jm(r,gt,i)}function Jm(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var m=i.baseQueue,g=c.pending;if(g!==null){if(m!==null){var b=m.next;m.next=g.next,g.next=b}r.baseQueue=m=g,c.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{r=m.next;var A=b=null,z=null,W=r,se=!1;do{var ce=W.lane&-536870913;if(ce!==W.lane?(Xe&ce)===ce:(Ys&ce)===ce){var Z=W.revertLane;if(Z===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ce===Go&&(se=!0);else if((Ys&Z)===Z){W=W.next,Z===Go&&(se=!0);continue}else ce={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},z===null?(A=z=ce,b=g):z=z.next=ce,ze.lanes|=Z,Br|=Z;ce=W.action,Xa&&o(g,ce),g=W.hasEagerState?W.eagerState:o(g,ce)}else Z={lane:ce,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},z===null?(A=z=Z,b=g):z=z.next=Z,ze.lanes|=ce,Br|=ce;W=W.next}while(W!==null&&W!==r);if(z===null?b=g:z.next=A,!ai(g,i.memoizedState)&&(Wt=!0,se&&(o=Ko,o!==null)))throw o;i.memoizedState=g,i.baseState=b,i.baseQueue=z,c.lastRenderedState=g}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function ep(i){var r=Ht(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,m=o.pending,g=r.memoizedState;if(m!==null){o.pending=null;var b=m=m.next;do g=i(g,b.action),b=b.next;while(b!==m);ai(g,r.memoizedState)||(Wt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function __(i,r,o){var c=ze,m=Ht(),g=tt;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var b=!ai((gt||m).memoizedState,o);if(b&&(m.memoizedState=o,Wt=!0),m=m.queue,ip(w_.bind(null,c,m,i),[i]),m.getSnapshot!==r||b||Xt!==null&&Xt.memoizedState.tag&1){if(c.flags|=2048,Zo(9,{destroy:void 0},T_.bind(null,c,m,o,r),null),Tt===null)throw Error(s(349));g||(Ys&127)!==0||b_(c,r,o)}return o}function b_(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=ze.updateQueue,r===null?(r=jh(),ze.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function T_(i,r,o,c){r.value=o,r.getSnapshot=c,E_(r)&&x_(i)}function w_(i,r,o){return o(function(){E_(r)&&x_(i)})}function E_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!ai(i,o)}catch{return!0}}function x_(i){var r=Ba(i,2);r!==null&&Yn(r,i,2)}function tp(i){var r=jn();if(typeof i=="function"){var o=i;if(i=o(),Xa){vn(!0);try{o()}finally{vn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:i},r}function S_(i,r,o,c){return i.baseState=o,Jm(i,gt,typeof c=="function"?c:Qs)}function Z2(i,r,o,c,m){if(qh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};H.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,A_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function A_(i,r){var o=r.action,c=r.payload,m=i.state;if(r.isTransition){var g=H.T,b={};H.T=b;try{var A=o(m,c),z=H.S;z!==null&&z(b,A),C_(i,r,A)}catch(W){np(i,r,W)}finally{g!==null&&b.types!==null&&(g.types=b.types),H.T=g}}else try{g=o(m,c),C_(i,r,g)}catch(W){np(i,r,W)}}function C_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){R_(i,r,c)},function(c){return np(i,r,c)}):R_(i,r,o)}function R_(i,r,o){r.status="fulfilled",r.value=o,I_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,A_(i,o)))}function np(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,I_(r),r=r.next;while(r!==c)}i.action=null}function I_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function N_(i,r){return r}function D_(i,r){if(tt){var o=Tt.formState;if(o!==null){e:{var c=ze;if(tt){if(At){t:{for(var m=At,g=Ci;m.nodeType!==8;){if(!g){m=null;break t}if(m=Ii(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){At=Ii(m.nextSibling),c=m.data==="F!";break e}}kr(c)}c=!1}c&&(r=o[0])}}return o=jn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:N_,lastRenderedState:r},o.queue=c,o=X_.bind(null,ze,c),c.dispatch=o,c=tp(!1),g=lp.bind(null,ze,!1,c.queue),c=jn(),m={state:r,dispatch:null,action:i,pending:null},c.queue=m,o=Z2.bind(null,ze,m,g,o),m.dispatch=o,c.memoizedState=i,[r,o,!1]}function k_(i){var r=Ht();return M_(r,gt,i)}function M_(i,r,o){if(r=Jm(i,r,N_)[0],i=zh(Qs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Rc(r)}catch(b){throw b===$o?Nh:b}else c=r;r=Ht();var m=r.queue,g=m.dispatch;return o!==r.memoizedState&&(ze.flags|=2048,Zo(9,{destroy:void 0},J2.bind(null,m,o),null)),[c,g,i]}function J2(i,r){i.action=r}function V_(i){var r=Ht(),o=gt;if(o!==null)return M_(r,o,i);Ht(),r=r.memoizedState,o=Ht();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function Zo(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=ze.updateQueue,r===null&&(r=jh(),ze.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function P_(){return Ht().memoizedState}function Bh(i,r,o,c){var m=jn();ze.flags|=i,m.memoizedState=Zo(1|r,{destroy:void 0},o,c===void 0?null:c)}function Fh(i,r,o,c){var m=Ht();c=c===void 0?null:c;var g=m.memoizedState.inst;gt!==null&&c!==null&&$m(c,gt.memoizedState.deps)?m.memoizedState=Zo(r,g,o,c):(ze.flags|=i,m.memoizedState=Zo(1|r,g,o,c))}function O_(i,r){Bh(8390656,8,i,r)}function ip(i,r){Fh(2048,8,i,r)}function eI(i){ze.flags|=4;var r=ze.updateQueue;if(r===null)r=jh(),ze.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function L_(i){var r=Ht().memoizedState;return eI({ref:r,nextImpl:i}),function(){if((lt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function j_(i,r){return Fh(4,2,i,r)}function U_(i,r){return Fh(4,4,i,r)}function z_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function B_(i,r,o){o=o!=null?o.concat([i]):null,Fh(4,4,z_.bind(null,r,i),o)}function sp(){}function F_(i,r){var o=Ht();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&$m(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function q_(i,r){var o=Ht();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&$m(r,c[1]))return c[0];if(c=i(),Xa){vn(!0);try{i()}finally{vn(!1)}}return o.memoizedState=[c,r],c}function rp(i,r,o){return o===void 0||(Ys&1073741824)!==0&&(Xe&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=Hb(),ze.lanes|=i,Br|=i,o)}function H_(i,r,o,c){return ai(o,r)?o:Qo.current!==null?(i=rp(i,o,c),ai(i,r)||(Wt=!0),i):(Ys&42)===0||(Ys&1073741824)!==0&&(Xe&261930)===0?(Wt=!0,i.memoizedState=o):(i=Hb(),ze.lanes|=i,Br|=i,r)}function G_(i,r,o,c,m){var g=ne.p;ne.p=g!==0&&8>g?g:8;var b=H.T,A={};H.T=A,lp(i,!1,r,o);try{var z=m(),W=H.S;if(W!==null&&W(A,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var se=Q2(z,c);Ic(i,r,se,fi(i))}else Ic(i,r,c,fi(i))}catch(ce){Ic(i,r,{then:function(){},status:"rejected",reason:ce},fi())}finally{ne.p=g,b!==null&&A.types!==null&&(b.types=A.types),H.T=b}}function tI(){}function ap(i,r,o,c){if(i.tag!==5)throw Error(s(476));var m=K_(i).queue;G_(i,m,r,ie,o===null?tI:function(){return $_(i),o(c)})}function K_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:ie},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function $_(i){var r=K_(i);r.next===null&&(r=i.alternate.memoizedState),Ic(i,r.next.queue,{},fi())}function op(){return Tn(Kc)}function Y_(){return Ht().memoizedState}function Q_(){return Ht().memoizedState}function nI(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=fi();i=Pr(o);var c=Or(r,i,o);c!==null&&(Yn(c,r,o),xc(c,r,o)),r={cache:Om()},i.payload=r;return}r=r.return}}function iI(i,r,o){var c=fi();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},qh(i)?W_(r,o):(o=Sm(i,r,o,c),o!==null&&(Yn(o,i,c),Z_(o,r,c)))}function X_(i,r,o){var c=fi();Ic(i,r,o,c)}function Ic(i,r,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(qh(i))W_(r,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var b=r.lastRenderedState,A=g(b,o);if(m.hasEagerState=!0,m.eagerState=A,ai(A,b))return Eh(i,r,m,0),Tt===null&&wh(),!1}catch{}if(o=Sm(i,r,m,c),o!==null)return Yn(o,i,c),Z_(o,r,c),!0}return!1}function lp(i,r,o,c){if(c={lane:2,revertLane:zp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},qh(i)){if(r)throw Error(s(479))}else r=Sm(i,o,c,2),r!==null&&Yn(r,i,2)}function qh(i){var r=i.alternate;return i===ze||r!==null&&r===ze}function W_(i,r){Xo=Oh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function Z_(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Ra(i,o)}}var Nc={readContext:Tn,use:Uh,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut};Nc.useEffectEvent=Ut;var J_={readContext:Tn,use:Uh,useCallback:function(i,r){return jn().memoizedState=[i,r===void 0?null:r],i},useContext:Tn,useEffect:O_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Bh(4194308,4,z_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Bh(4194308,4,i,r)},useInsertionEffect:function(i,r){Bh(4,2,i,r)},useMemo:function(i,r){var o=jn();r=r===void 0?null:r;var c=i();if(Xa){vn(!0);try{i()}finally{vn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=jn();if(o!==void 0){var m=o(r);if(Xa){vn(!0);try{o(r)}finally{vn(!1)}}}else m=r;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=iI.bind(null,ze,i),[c.memoizedState,i]},useRef:function(i){var r=jn();return i={current:i},r.memoizedState=i},useState:function(i){i=tp(i);var r=i.queue,o=X_.bind(null,ze,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:sp,useDeferredValue:function(i,r){var o=jn();return rp(o,i,r)},useTransition:function(){var i=tp(!1);return i=G_.bind(null,ze,i.queue,!0,!1),jn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=ze,m=jn();if(tt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),Tt===null)throw Error(s(349));(Xe&127)!==0||b_(c,r,o)}m.memoizedState=o;var g={value:o,getSnapshot:r};return m.queue=g,O_(w_.bind(null,c,g,i),[i]),c.flags|=2048,Zo(9,{destroy:void 0},T_.bind(null,c,g,o,r),null),o},useId:function(){var i=jn(),r=Tt.identifierPrefix;if(tt){var o=vs,c=ys;o=(c&~(1<<32-Et(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Lh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=X2++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:op,useFormState:D_,useActionState:D_,useOptimistic:function(i){var r=jn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=lp.bind(null,ze,!0,o),o.dispatch=r,[i,r]},useMemoCache:Zm,useCacheRefresh:function(){return jn().memoizedState=nI.bind(null,ze)},useEffectEvent:function(i){var r=jn(),o={impl:i};return r.memoizedState=o,function(){if((lt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},cp={readContext:Tn,use:Uh,useCallback:F_,useContext:Tn,useEffect:ip,useImperativeHandle:B_,useInsertionEffect:j_,useLayoutEffect:U_,useMemo:q_,useReducer:zh,useRef:P_,useState:function(){return zh(Qs)},useDebugValue:sp,useDeferredValue:function(i,r){var o=Ht();return H_(o,gt.memoizedState,i,r)},useTransition:function(){var i=zh(Qs)[0],r=Ht().memoizedState;return[typeof i=="boolean"?i:Rc(i),r]},useSyncExternalStore:__,useId:Y_,useHostTransitionStatus:op,useFormState:k_,useActionState:k_,useOptimistic:function(i,r){var o=Ht();return S_(o,gt,i,r)},useMemoCache:Zm,useCacheRefresh:Q_};cp.useEffectEvent=L_;var eb={readContext:Tn,use:Uh,useCallback:F_,useContext:Tn,useEffect:ip,useImperativeHandle:B_,useInsertionEffect:j_,useLayoutEffect:U_,useMemo:q_,useReducer:ep,useRef:P_,useState:function(){return ep(Qs)},useDebugValue:sp,useDeferredValue:function(i,r){var o=Ht();return gt===null?rp(o,i,r):H_(o,gt.memoizedState,i,r)},useTransition:function(){var i=ep(Qs)[0],r=Ht().memoizedState;return[typeof i=="boolean"?i:Rc(i),r]},useSyncExternalStore:__,useId:Y_,useHostTransitionStatus:op,useFormState:V_,useActionState:V_,useOptimistic:function(i,r){var o=Ht();return gt!==null?S_(o,gt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Zm,useCacheRefresh:Q_};eb.useEffectEvent=L_;function up(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var hp={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=fi(),m=Pr(c);m.payload=r,o!=null&&(m.callback=o),r=Or(i,m,c),r!==null&&(Yn(r,i,c),xc(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=fi(),m=Pr(c);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=Or(i,m,c),r!==null&&(Yn(r,i,c),xc(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=fi(),c=Pr(o);c.tag=2,r!=null&&(c.callback=r),r=Or(i,c,o),r!==null&&(Yn(r,i,o),xc(r,i,o))}};function tb(i,r,o,c,m,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,b):r.prototype&&r.prototype.isPureReactComponent?!gc(o,c)||!gc(m,g):!0}function nb(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&hp.enqueueReplaceState(r,r.state,null)}function Wa(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function ib(i){Th(i)}function sb(i){console.error(i)}function rb(i){Th(i)}function Hh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function ab(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function fp(i,r,o){return o=Pr(o),o.tag=3,o.payload={element:null},o.callback=function(){Hh(i,r)},o}function ob(i){return i=Pr(i),i.tag=3,i}function lb(i,r,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;i.payload=function(){return m(g)},i.callback=function(){ab(r,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){ab(r,o,c),typeof m!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function sI(i,r,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Ho(r,o,m,!0),o=li.current,o!==null){switch(o.tag){case 31:case 13:return Ri===null?nf():o.alternate===null&&zt===0&&(zt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Dh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),Lp(i,c,m)),!1;case 22:return o.flags|=65536,c===Dh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),Lp(i,c,m)),!1}throw Error(s(435,o.tag))}return Lp(i,c,m),nf(),!1}if(tt)return r=li.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,c!==Dm&&(i=Error(s(422),{cause:c}),_c(xi(i,o)))):(c!==Dm&&(r=Error(s(423),{cause:c}),_c(xi(r,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=xi(c,o),m=fp(i.stateNode,c,m),Fm(i,m),zt!==4&&(zt=2)),!1;var g=Error(s(520),{cause:c});if(g=xi(g,o),jc===null?jc=[g]:jc.push(g),zt!==4&&(zt=2),r===null)return!0;c=xi(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=fp(o.stateNode,c,i),Fm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Fr===null||!Fr.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=ob(m),lb(m,i,o,c),Fm(o,m),!1}o=o.return}while(o!==null);return!1}var dp=Error(s(461)),Wt=!1;function wn(i,r,o,c){r.child=i===null?f_(r,null,o,c):Qa(r,i.child,o,c)}function cb(i,r,o,c,m){o=o.render;var g=r.ref;if("ref"in c){var b={};for(var A in c)A!=="ref"&&(b[A]=c[A])}else b=c;return Ga(r),c=Ym(i,r,o,b,g,m),A=Qm(),i!==null&&!Wt?(Xm(i,r,m),Xs(i,r,m)):(tt&&A&&Im(r),r.flags|=1,wn(i,r,c,m),r.child)}function ub(i,r,o,c,m){if(i===null){var g=o.type;return typeof g=="function"&&!Am(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,hb(i,r,g,c,m)):(i=Sh(o.type,null,c,r,r.mode,m),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Tp(i,m)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:gc,o(b,c)&&i.ref===r.ref)return Xs(i,r,m)}return r.flags|=1,i=Hs(g,c),i.ref=r.ref,i.return=r,r.child=i}function hb(i,r,o,c,m){if(i!==null){var g=i.memoizedProps;if(gc(g,c)&&i.ref===r.ref)if(Wt=!1,r.pendingProps=c=g,Tp(i,m))(i.flags&131072)!==0&&(Wt=!0);else return r.lanes=i.lanes,Xs(i,r,m)}return mp(i,r,o,c,m)}function fb(i,r,o,c){var m=c.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=r.child=i.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,r.child=null;return db(i,r,g,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ih(r,g!==null?g.cachePool:null),g!==null?p_(r,g):Hm(),g_(r);else return c=r.lanes=536870912,db(i,r,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Ih(r,g.cachePool),p_(r,g),jr(),r.memoizedState=null):(i!==null&&Ih(r,null),Hm(),jr());return wn(i,r,m,o),r.child}function Dc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function db(i,r,o,c,m){var g=jm();return g=g===null?null:{parent:Qt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&Ih(r,null),Hm(),g_(r),i!==null&&Ho(i,r,c,!0),r.childLanes=m,null}function Gh(i,r){return r=$h({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function mb(i,r,o){return Qa(r,i.child,null,o),i=Gh(r,r.pendingProps),i.flags|=2,ci(r),r.memoizedState=null,i}function rI(i,r,o){var c=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(tt){if(c.mode==="hidden")return i=Gh(r,c),r.lanes=536870912,Dc(null,i);if(Km(r),(i=At)?(i=AT(i,Ci),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Nr!==null?{id:ys,overflow:vs}:null,retryLane:536870912,hydrationErrors:null},o=W0(i),o.return=r,r.child=o,bn=r,At=null)):i=null,i===null)throw kr(r);return r.lanes=536870912,null}return Gh(r,c)}var g=i.memoizedState;if(g!==null){var b=g.dehydrated;if(Km(r),m)if(r.flags&256)r.flags&=-257,r=mb(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Wt||Ho(i,r,o,!1),m=(o&i.childLanes)!==0,Wt||m){if(c=Tt,c!==null&&(b=So(c,o),b!==0&&b!==g.retryLane))throw g.retryLane=b,Ba(i,b),Yn(c,i,b),dp;nf(),r=mb(i,r,o)}else i=g.treeContext,At=Ii(b.nextSibling),bn=r,tt=!0,Dr=null,Ci=!1,i!==null&&e_(r,i),r=Gh(r,c),r.flags|=4096;return r}return i=Hs(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Kh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function mp(i,r,o,c,m){return Ga(r),o=Ym(i,r,o,c,void 0,m),c=Qm(),i!==null&&!Wt?(Xm(i,r,m),Xs(i,r,m)):(tt&&c&&Im(r),r.flags|=1,wn(i,r,o,m),r.child)}function pb(i,r,o,c,m,g){return Ga(r),r.updateQueue=null,o=v_(r,c,o,m),y_(i),c=Qm(),i!==null&&!Wt?(Xm(i,r,g),Xs(i,r,g)):(tt&&c&&Im(r),r.flags|=1,wn(i,r,o,g),r.child)}function gb(i,r,o,c,m){if(Ga(r),r.stateNode===null){var g=zo,b=o.contextType;typeof b=="object"&&b!==null&&(g=Tn(b)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=hp,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},zm(r),b=o.contextType,g.context=typeof b=="object"&&b!==null?Tn(b):zo,g.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(up(r,o,b,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&hp.enqueueReplaceState(g,g.state,null),Ac(r,c,g,m),Sc(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){g=r.stateNode;var A=r.memoizedProps,z=Wa(o,A);g.props=z;var W=g.context,se=o.contextType;b=zo,typeof se=="object"&&se!==null&&(b=Tn(se));var ce=o.getDerivedStateFromProps;se=typeof ce=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,se||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||W!==b)&&nb(r,g,c,b),Vr=!1;var Z=r.memoizedState;g.state=Z,Ac(r,c,g,m),Sc(),W=r.memoizedState,A||Z!==W||Vr?(typeof ce=="function"&&(up(r,o,ce,c),W=r.memoizedState),(z=Vr||tb(r,o,z,c,Z,W,b))?(se||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=W),g.props=c,g.state=W,g.context=b,c=z):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,Bm(i,r),b=r.memoizedProps,se=Wa(o,b),g.props=se,ce=r.pendingProps,Z=g.context,W=o.contextType,z=zo,typeof W=="object"&&W!==null&&(z=Tn(W)),A=o.getDerivedStateFromProps,(W=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==ce||Z!==z)&&nb(r,g,c,z),Vr=!1,Z=r.memoizedState,g.state=Z,Ac(r,c,g,m),Sc();var te=r.memoizedState;b!==ce||Z!==te||Vr||i!==null&&i.dependencies!==null&&Ch(i.dependencies)?(typeof A=="function"&&(up(r,o,A,c),te=r.memoizedState),(se=Vr||tb(r,o,se,c,Z,te,z)||i!==null&&i.dependencies!==null&&Ch(i.dependencies))?(W||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,te,z),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,te,z)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&Z===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Z===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=te),g.props=c,g.state=te,g.context=z,c=se):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&Z===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Z===i.memoizedState||(r.flags|=1024),c=!1)}return g=c,Kh(i,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&c?(r.child=Qa(r,i.child,null,m),r.child=Qa(r,null,o,m)):wn(i,r,o,m),r.memoizedState=g.state,i=r.child):i=Xs(i,r,m),i}function yb(i,r,o,c){return qa(),r.flags|=256,wn(i,r,o,c),r.child}var pp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gp(i){return{baseLanes:i,cachePool:a_()}}function yp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=hi),i}function vb(i,r,o){var c=r.pendingProps,m=!1,g=(r.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(qt.current&2)!==0),b&&(m=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,i===null){if(tt){if(m?Lr(r):jr(),(i=At)?(i=AT(i,Ci),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Nr!==null?{id:ys,overflow:vs}:null,retryLane:536870912,hydrationErrors:null},o=W0(i),o.return=r,r.child=o,bn=r,At=null)):i=null,i===null)throw kr(r);return Jp(i)?r.lanes=32:r.lanes=536870912,null}var A=c.children;return c=c.fallback,m?(jr(),m=r.mode,A=$h({mode:"hidden",children:A},m),c=Fa(c,m,o,null),A.return=r,c.return=r,A.sibling=c,r.child=A,c=r.child,c.memoizedState=gp(o),c.childLanes=yp(i,b,o),r.memoizedState=pp,Dc(null,c)):(Lr(r),vp(r,A))}var z=i.memoizedState;if(z!==null&&(A=z.dehydrated,A!==null)){if(g)r.flags&256?(Lr(r),r.flags&=-257,r=_p(i,r,o)):r.memoizedState!==null?(jr(),r.child=i.child,r.flags|=128,r=null):(jr(),A=c.fallback,m=r.mode,c=$h({mode:"visible",children:c.children},m),A=Fa(A,m,o,null),A.flags|=2,c.return=r,A.return=r,c.sibling=A,r.child=c,Qa(r,i.child,null,o),c=r.child,c.memoizedState=gp(o),c.childLanes=yp(i,b,o),r.memoizedState=pp,r=Dc(null,c));else if(Lr(r),Jp(A)){if(b=A.nextSibling&&A.nextSibling.dataset,b)var W=b.dgst;b=W,c=Error(s(419)),c.stack="",c.digest=b,_c({value:c,source:null,stack:null}),r=_p(i,r,o)}else if(Wt||Ho(i,r,o,!1),b=(o&i.childLanes)!==0,Wt||b){if(b=Tt,b!==null&&(c=So(b,o),c!==0&&c!==z.retryLane))throw z.retryLane=c,Ba(i,c),Yn(b,i,c),dp;Zp(A)||nf(),r=_p(i,r,o)}else Zp(A)?(r.flags|=192,r.child=i.child,r=null):(i=z.treeContext,At=Ii(A.nextSibling),bn=r,tt=!0,Dr=null,Ci=!1,i!==null&&e_(r,i),r=vp(r,c.children),r.flags|=4096);return r}return m?(jr(),A=c.fallback,m=r.mode,z=i.child,W=z.sibling,c=Hs(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&65011712,W!==null?A=Hs(W,A):(A=Fa(A,m,o,null),A.flags|=2),A.return=r,c.return=r,c.sibling=A,r.child=c,Dc(null,c),c=r.child,A=i.child.memoizedState,A===null?A=gp(o):(m=A.cachePool,m!==null?(z=Qt._currentValue,m=m.parent!==z?{parent:z,pool:z}:m):m=a_(),A={baseLanes:A.baseLanes|o,cachePool:m}),c.memoizedState=A,c.childLanes=yp(i,b,o),r.memoizedState=pp,Dc(i.child,c)):(Lr(r),o=i.child,i=o.sibling,o=Hs(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(b=r.deletions,b===null?(r.deletions=[i],r.flags|=16):b.push(i)),r.child=o,r.memoizedState=null,o)}function vp(i,r){return r=$h({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function $h(i,r){return i=oi(22,i,null,r),i.lanes=0,i}function _p(i,r,o){return Qa(r,i.child,null,o),i=vp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function _b(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),Vm(i.return,r,o)}function bp(i,r,o,c,m,g){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:g}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=o,b.tailMode=m,b.treeForkCount=g)}function bb(i,r,o){var c=r.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var b=qt.current,A=(b&2)!==0;if(A?(b=b&1|2,r.flags|=128):b&=1,ee(qt,b),wn(i,r,c,o),c=tt?vc:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&_b(i,o,r);else if(i.tag===19)_b(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)i=o.alternate,i!==null&&Ph(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),bp(r,!1,m,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(i=m.alternate,i!==null&&Ph(i)===null){r.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}bp(r,!0,o,null,g,c);break;case"together":bp(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Xs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Br|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Ho(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Hs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Hs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Tp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Ch(i)))}function aI(i,r,o){switch(r.tag){case 3:Ae(r,r.stateNode.containerInfo),Mr(r,Qt,i.memoizedState.cache),qa();break;case 27:case 5:He(r);break;case 4:Ae(r,r.stateNode.containerInfo);break;case 10:Mr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Km(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Lr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?vb(i,r,o):(Lr(r),i=Xs(i,r,o),i!==null?i.sibling:null);Lr(r);break;case 19:var m=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Ho(i,r,o,!1),c=(o&r.childLanes)!==0),m){if(c)return bb(i,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ee(qt,qt.current),c)break;return null;case 22:return r.lanes=0,fb(i,r,o,r.pendingProps);case 24:Mr(r,Qt,i.memoizedState.cache)}return Xs(i,r,o)}function Tb(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Wt=!0;else{if(!Tp(i,o)&&(r.flags&128)===0)return Wt=!1,aI(i,r,o);Wt=(i.flags&131072)!==0}else Wt=!1,tt&&(r.flags&1048576)!==0&&J0(r,vc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=$a(r.elementType),r.type=i,typeof i=="function")Am(i)?(c=Wa(i,c),r.tag=1,r=gb(null,r,i,c,o)):(r.tag=0,r=mp(null,r,i,c,o));else{if(i!=null){var m=i.$$typeof;if(m===oe){r.tag=11,r=cb(null,r,i,c,o);break e}else if(m===k){r.tag=14,r=ub(null,r,i,c,o);break e}}throw r=he(i)||i,Error(s(306,r,""))}}return r;case 0:return mp(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,m=Wa(c,r.pendingProps),gb(i,r,c,m,o);case 3:e:{if(Ae(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var g=r.memoizedState;m=g.element,Bm(i,r),Ac(r,c,null,o);var b=r.memoizedState;if(c=b.cache,Mr(r,Qt,c),c!==g.cache&&Pm(r,[Qt],o,!0),Sc(),c=b.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=yb(i,r,c,o);break e}else if(c!==m){m=xi(Error(s(424)),r),_c(m),r=yb(i,r,c,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,At=Ii(i.firstChild),bn=r,tt=!0,Dr=null,Ci=!0,o=f_(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(qa(),c===m){r=Xs(i,r,o);break e}wn(i,r,c,o)}r=r.child}return r;case 26:return Kh(i,r),i===null?(o=kT(r.type,null,r.pendingProps,null))?r.memoizedState=o:tt||(o=r.type,i=r.pendingProps,c=uf(ye.current).createElement(o),c[be]=r,c[Ke]=i,En(c,o,i),$t(c),r.stateNode=c):r.memoizedState=kT(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return He(r),i===null&&tt&&(c=r.stateNode=IT(r.type,r.pendingProps,ye.current),bn=r,Ci=!0,m=At,Kr(r.type)?(eg=m,At=Ii(c.firstChild)):At=m),wn(i,r,r.pendingProps.children,o),Kh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&tt&&((m=c=At)&&(c=OI(c,r.type,r.pendingProps,Ci),c!==null?(r.stateNode=c,bn=r,At=Ii(c.firstChild),Ci=!1,m=!0):m=!1),m||kr(r)),He(r),m=r.type,g=r.pendingProps,b=i!==null?i.memoizedProps:null,c=g.children,Qp(m,g)?c=null:b!==null&&Qp(m,b)&&(r.flags|=32),r.memoizedState!==null&&(m=Ym(i,r,W2,null,null,o),Kc._currentValue=m),Kh(i,r),wn(i,r,c,o),r.child;case 6:return i===null&&tt&&((i=o=At)&&(o=LI(o,r.pendingProps,Ci),o!==null?(r.stateNode=o,bn=r,At=null,i=!0):i=!1),i||kr(r)),null;case 13:return vb(i,r,o);case 4:return Ae(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=Qa(r,null,c,o):wn(i,r,c,o),r.child;case 11:return cb(i,r,r.type,r.pendingProps,o);case 7:return wn(i,r,r.pendingProps,o),r.child;case 8:return wn(i,r,r.pendingProps.children,o),r.child;case 12:return wn(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Mr(r,r.type,c.value),wn(i,r,c.children,o),r.child;case 9:return m=r.type._context,c=r.pendingProps.children,Ga(r),m=Tn(m),c=c(m),r.flags|=1,wn(i,r,c,o),r.child;case 14:return ub(i,r,r.type,r.pendingProps,o);case 15:return hb(i,r,r.type,r.pendingProps,o);case 19:return bb(i,r,o);case 31:return rI(i,r,o);case 22:return fb(i,r,o,r.pendingProps);case 24:return Ga(r),c=Tn(Qt),i===null?(m=jm(),m===null&&(m=Tt,g=Om(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),r.memoizedState={parent:c,cache:m},zm(r),Mr(r,Qt,m)):((i.lanes&o)!==0&&(Bm(i,r),Ac(r,null,null,o),Sc()),m=i.memoizedState,g=r.memoizedState,m.parent!==c?(m={parent:c,cache:c},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),Mr(r,Qt,c)):(c=g.cache,Mr(r,Qt,c),c!==m.cache&&Pm(r,[Qt],o,!0))),wn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ws(i){i.flags|=4}function wp(i,r,o,c,m){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(Yb())i.flags|=8192;else throw Ya=Dh,Um}else i.flags&=-16777217}function wb(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!LT(r))if(Yb())i.flags|=8192;else throw Ya=Dh,Um}function Yh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Eo():536870912,i.lanes|=r,nl|=r)}function kc(i,r){if(!tt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Ct(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function oI(i,r,o){var c=r.pendingProps;switch(Nm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(r),null;case 1:return Ct(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),$s(Qt),Re(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(qo(r)?Ws(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,km())),Ct(r),null;case 26:var m=r.type,g=r.memoizedState;return i===null?(Ws(r),g!==null?(Ct(r),wb(r,g)):(Ct(r),wp(r,m,null,c,o))):g?g!==i.memoizedState?(Ws(r),Ct(r),wb(r,g)):(Ct(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&Ws(r),Ct(r),wp(r,m,i,c,o)),null;case 27:if(qe(r),o=ye.current,m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Ws(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return Ct(r),null}i=re.current,qo(r)?t_(r):(i=IT(m,c,o),r.stateNode=i,Ws(r))}return Ct(r),null;case 5:if(qe(r),m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Ws(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return Ct(r),null}if(g=re.current,qo(r))t_(r);else{var b=uf(ye.current);switch(g){case 1:g=b.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=b.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=b.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?b.createElement(m,{is:c.is}):b.createElement(m)}}g[be]=r,g[Ke]=c;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)g.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=g;e:switch(En(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ws(r)}}return Ct(r),wp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&Ws(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=ye.current,qo(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,m=bn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[be]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||vT(i.nodeValue,o)),i||kr(r,!0)}else i=uf(i).createTextNode(c),i[be]=r,r.stateNode=i}return Ct(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=qo(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[be]=r}else qa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ct(r),i=!1}else o=km(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(ci(r),r):(ci(r),null);if((r.flags&128)!==0)throw Error(s(558))}return Ct(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=qo(r),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[be]=r}else qa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ct(r),m=!1}else m=km(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(ci(r),r):(ci(r),null)}return ci(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Yh(r,r.updateQueue),Ct(r),null);case 4:return Re(),i===null&&Hp(r.stateNode.containerInfo),Ct(r),null;case 10:return $s(r.type),Ct(r),null;case 19:if($(qt),c=r.memoizedState,c===null)return Ct(r),null;if(m=(r.flags&128)!==0,g=c.rendering,g===null)if(m)kc(c,!1);else{if(zt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Ph(i),g!==null){for(r.flags|=128,kc(c,!1),i=g.updateQueue,r.updateQueue=i,Yh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)X0(o,i),o=o.sibling;return ee(qt,qt.current&1|2),tt&&Gs(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&St()>Jh&&(r.flags|=128,m=!0,kc(c,!1),r.lanes=4194304)}else{if(!m)if(i=Ph(g),i!==null){if(r.flags|=128,m=!0,i=i.updateQueue,r.updateQueue=i,Yh(r,i),kc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!tt)return Ct(r),null}else 2*St()-c.renderingStartTime>Jh&&o!==536870912&&(r.flags|=128,m=!0,kc(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(i=c.last,i!==null?i.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=St(),i.sibling=null,o=qt.current,ee(qt,m?o&1|2:o&1),tt&&Gs(r,c.treeForkCount),i):(Ct(r),null);case 22:case 23:return ci(r),Gm(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(Ct(r),r.subtreeFlags&6&&(r.flags|=8192)):Ct(r),o=r.updateQueue,o!==null&&Yh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&$(Ka),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),$s(Qt),Ct(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function lI(i,r){switch(Nm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return $s(Qt),Re(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return qe(r),null;case 31:if(r.memoizedState!==null){if(ci(r),r.alternate===null)throw Error(s(340));qa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(ci(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));qa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return $(qt),null;case 4:return Re(),null;case 10:return $s(r.type),null;case 22:case 23:return ci(r),Gm(),i!==null&&$(Ka),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return $s(Qt),null;case 25:return null;default:return null}}function Eb(i,r){switch(Nm(r),r.tag){case 3:$s(Qt),Re();break;case 26:case 27:case 5:qe(r);break;case 4:Re();break;case 31:r.memoizedState!==null&&ci(r);break;case 13:ci(r);break;case 19:$(qt);break;case 10:$s(r.type);break;case 22:case 23:ci(r),Gm(),i!==null&&$(Ka);break;case 24:$s(Qt)}}function Mc(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&i)===i){c=void 0;var g=o.create,b=o.inst;c=g(),b.destroy=c}o=o.next}while(o!==m)}}catch(A){dt(r,r.return,A)}}function Ur(i,r,o){try{var c=r.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&i)===i){var b=c.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,m=r;var z=o,W=A;try{W()}catch(se){dt(m,z,se)}}}c=c.next}while(c!==g)}}catch(se){dt(r,r.return,se)}}function xb(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{m_(r,o)}catch(c){dt(i,i.return,c)}}}function Sb(i,r,o){o.props=Wa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){dt(i,r,c)}}function Vc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(m){dt(i,r,m)}}function _s(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){dt(i,r,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){dt(i,r,m)}else o.current=null}function Ab(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){dt(i,i.return,m)}}function Ep(i,r,o){try{var c=i.stateNode;NI(c,i.type,o,r),c[Ke]=r}catch(m){dt(i,i.return,m)}}function Cb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Kr(i.type)||i.tag===4}function xp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Cb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Kr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Sp(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=zi));else if(c!==4&&(c===27&&Kr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Sp(i,r,o),i=i.sibling;i!==null;)Sp(i,r,o),i=i.sibling}function Qh(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&Kr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Qh(i,r,o),i=i.sibling;i!==null;)Qh(i,r,o),i=i.sibling}function Rb(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);En(r,c,o),r[be]=i,r[Ke]=o}catch(g){dt(i,i.return,g)}}var Zs=!1,Zt=!1,Ap=!1,Ib=typeof WeakSet=="function"?WeakSet:Set,dn=null;function cI(i,r){if(i=i.containerInfo,$p=yf,i=B0(i),_m(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,A=-1,z=-1,W=0,se=0,ce=i,Z=null;t:for(;;){for(var te;ce!==o||m!==0&&ce.nodeType!==3||(A=b+m),ce!==g||c!==0&&ce.nodeType!==3||(z=b+c),ce.nodeType===3&&(b+=ce.nodeValue.length),(te=ce.firstChild)!==null;)Z=ce,ce=te;for(;;){if(ce===i)break t;if(Z===o&&++W===m&&(A=b),Z===g&&++se===c&&(z=b),(te=ce.nextSibling)!==null)break;ce=Z,Z=ce.parentNode}ce=te}o=A===-1||z===-1?null:{start:A,end:z}}else o=null}o=o||{start:0,end:0}}else o=null;for(Yp={focusedElem:i,selectionRange:o},yf=!1,dn=r;dn!==null;)if(r=dn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,dn=i;else for(;dn!==null;){switch(r=dn,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Ee=Wa(o.type,m);i=c.getSnapshotBeforeUpdate(Ee,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(Me){dt(o,o.return,Me)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Wp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Wp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,dn=i;break}dn=r.return}}function Nb(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:er(i,o),c&4&&Mc(5,o);break;case 1:if(er(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(b){dt(o,o.return,b)}else{var m=Wa(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(m,r,i.__reactInternalSnapshotBeforeUpdate)}catch(b){dt(o,o.return,b)}}c&64&&xb(o),c&512&&Vc(o,o.return);break;case 3:if(er(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{m_(i,r)}catch(b){dt(o,o.return,b)}}break;case 27:r===null&&c&4&&Rb(o);case 26:case 5:er(i,o),r===null&&c&4&&Ab(o),c&512&&Vc(o,o.return);break;case 12:er(i,o);break;case 31:er(i,o),c&4&&Mb(i,o);break;case 13:er(i,o),c&4&&Vb(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=vI.bind(null,o),jI(i,o))));break;case 22:if(c=o.memoizedState!==null||Zs,!c){r=r!==null&&r.memoizedState!==null||Zt,m=Zs;var g=Zt;Zs=c,(Zt=r)&&!g?tr(i,o,(o.subtreeFlags&8772)!==0):er(i,o),Zs=m,Zt=g}break;case 30:break;default:er(i,o)}}function Db(i){var r=i.alternate;r!==null&&(i.alternate=null,Db(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ao(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Nt=null,Hn=!1;function Js(i,r,o){for(o=o.child;o!==null;)kb(i,r,o),o=o.sibling}function kb(i,r,o){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(an,o)}catch{}switch(o.tag){case 26:Zt||_s(o,r),Js(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Zt||_s(o,r);var c=Nt,m=Hn;Kr(o.type)&&(Nt=o.stateNode,Hn=!1),Js(i,r,o),qc(o.stateNode),Nt=c,Hn=m;break;case 5:Zt||_s(o,r);case 6:if(c=Nt,m=Hn,Nt=null,Js(i,r,o),Nt=c,Hn=m,Nt!==null)if(Hn)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(o.stateNode)}catch(g){dt(o,r,g)}else try{Nt.removeChild(o.stateNode)}catch(g){dt(o,r,g)}break;case 18:Nt!==null&&(Hn?(i=Nt,xT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),ul(i)):xT(Nt,o.stateNode));break;case 4:c=Nt,m=Hn,Nt=o.stateNode.containerInfo,Hn=!0,Js(i,r,o),Nt=c,Hn=m;break;case 0:case 11:case 14:case 15:Ur(2,o,r),Zt||Ur(4,o,r),Js(i,r,o);break;case 1:Zt||(_s(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Sb(o,r,c)),Js(i,r,o);break;case 21:Js(i,r,o);break;case 22:Zt=(c=Zt)||o.memoizedState!==null,Js(i,r,o),Zt=c;break;default:Js(i,r,o)}}function Mb(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{ul(i)}catch(o){dt(r,r.return,o)}}}function Vb(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ul(i)}catch(o){dt(r,r.return,o)}}function uI(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Ib),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Ib),r;default:throw Error(s(435,i.tag))}}function Xh(i,r){var o=uI(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var m=_I.bind(null,i,c);c.then(m,m)}})}function Gn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=i,b=r,A=b;e:for(;A!==null;){switch(A.tag){case 27:if(Kr(A.type)){Nt=A.stateNode,Hn=!1;break e}break;case 5:Nt=A.stateNode,Hn=!1;break e;case 3:case 4:Nt=A.stateNode.containerInfo,Hn=!0;break e}A=A.return}if(Nt===null)throw Error(s(160));kb(g,b,m),Nt=null,Hn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Pb(r,i),r=r.sibling}var Ki=null;function Pb(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Gn(r,i),Kn(i),c&4&&(Ur(3,i,i.return),Mc(3,i),Ur(5,i,i.return));break;case 1:Gn(r,i),Kn(i),c&512&&(Zt||o===null||_s(o,o.return)),c&64&&Zs&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=Ki;if(Gn(r,i),Kn(i),c&512&&(Zt||o===null||_s(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[rs]||g[be]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),En(g,c,o),g[be]=i,$t(g),c=g;break e;case"link":var b=PT("link","href",m).get(c+(o.href||""));if(b){for(var A=0;A<b.length;A++)if(g=b[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(A,1);break t}}g=m.createElement(c),En(g,c,o),m.head.appendChild(g);break;case"meta":if(b=PT("meta","content",m).get(c+(o.content||""))){for(A=0;A<b.length;A++)if(g=b[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(A,1);break t}}g=m.createElement(c),En(g,c,o),m.head.appendChild(g);break;default:throw Error(s(468,c))}g[be]=i,$t(g),c=g}i.stateNode=c}else OT(m,i.type,i.stateNode);else i.stateNode=VT(m,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?OT(m,i.type,i.stateNode):VT(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Ep(i,i.memoizedProps,o.memoizedProps)}break;case 27:Gn(r,i),Kn(i),c&512&&(Zt||o===null||_s(o,o.return)),o!==null&&c&4&&Ep(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Gn(r,i),Kn(i),c&512&&(Zt||o===null||_s(o,o.return)),i.flags&32){m=i.stateNode;try{qn(m,"")}catch(Ee){dt(i,i.return,Ee)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,Ep(i,m,o!==null?o.memoizedProps:m)),c&1024&&(Ap=!0);break;case 6:if(Gn(r,i),Kn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(Ee){dt(i,i.return,Ee)}}break;case 3:if(df=null,m=Ki,Ki=hf(r.containerInfo),Gn(r,i),Ki=m,Kn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{ul(r.containerInfo)}catch(Ee){dt(i,i.return,Ee)}Ap&&(Ap=!1,Ob(i));break;case 4:c=Ki,Ki=hf(i.stateNode.containerInfo),Gn(r,i),Kn(i),Ki=c;break;case 12:Gn(r,i),Kn(i);break;case 31:Gn(r,i),Kn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Xh(i,c)));break;case 13:Gn(r,i),Kn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Zh=St()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Xh(i,c)));break;case 22:m=i.memoizedState!==null;var z=o!==null&&o.memoizedState!==null,W=Zs,se=Zt;if(Zs=W||m,Zt=se||z,Gn(r,i),Zt=se,Zs=W,Kn(i),c&8192)e:for(r=i.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||z||Zs||Zt||Za(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){z=o=r;try{if(g=z.stateNode,m)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=z.stateNode;var ce=z.memoizedProps.style,Z=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;A.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Ee){dt(z,z.return,Ee)}}}else if(r.tag===6){if(o===null){z=r;try{z.stateNode.nodeValue=m?"":z.memoizedProps}catch(Ee){dt(z,z.return,Ee)}}}else if(r.tag===18){if(o===null){z=r;try{var te=z.stateNode;m?ST(te,!0):ST(z.stateNode,!1)}catch(Ee){dt(z,z.return,Ee)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Xh(i,o))));break;case 19:Gn(r,i),Kn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Xh(i,c)));break;case 30:break;case 21:break;default:Gn(r,i),Kn(i)}}function Kn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(Cb(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,g=xp(i);Qh(i,g,m);break;case 5:var b=o.stateNode;o.flags&32&&(qn(b,""),o.flags&=-33);var A=xp(i);Qh(i,A,b);break;case 3:case 4:var z=o.stateNode.containerInfo,W=xp(i);Sp(i,W,z);break;default:throw Error(s(161))}}catch(se){dt(i,i.return,se)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Ob(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;Ob(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function er(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Nb(i,r.alternate,r),r=r.sibling}function Za(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ur(4,r,r.return),Za(r);break;case 1:_s(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Sb(r,r.return,o),Za(r);break;case 27:qc(r.stateNode);case 26:case 5:_s(r,r.return),Za(r);break;case 22:r.memoizedState===null&&Za(r);break;case 30:Za(r);break;default:Za(r)}i=i.sibling}}function tr(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,m=i,g=r,b=g.flags;switch(g.tag){case 0:case 11:case 15:tr(m,g,o),Mc(4,g);break;case 1:if(tr(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(W){dt(c,c.return,W)}if(c=g,m=c.updateQueue,m!==null){var A=c.stateNode;try{var z=m.shared.hiddenCallbacks;if(z!==null)for(m.shared.hiddenCallbacks=null,m=0;m<z.length;m++)d_(z[m],A)}catch(W){dt(c,c.return,W)}}o&&b&64&&xb(g),Vc(g,g.return);break;case 27:Rb(g);case 26:case 5:tr(m,g,o),o&&c===null&&b&4&&Ab(g),Vc(g,g.return);break;case 12:tr(m,g,o);break;case 31:tr(m,g,o),o&&b&4&&Mb(m,g);break;case 13:tr(m,g,o),o&&b&4&&Vb(m,g);break;case 22:g.memoizedState===null&&tr(m,g,o),Vc(g,g.return);break;case 30:break;default:tr(m,g,o)}r=r.sibling}}function Cp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&bc(o))}function Rp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&bc(i))}function $i(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Lb(i,r,o,c),r=r.sibling}function Lb(i,r,o,c){var m=r.flags;switch(r.tag){case 0:case 11:case 15:$i(i,r,o,c),m&2048&&Mc(9,r);break;case 1:$i(i,r,o,c);break;case 3:$i(i,r,o,c),m&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&bc(i)));break;case 12:if(m&2048){$i(i,r,o,c),i=r.stateNode;try{var g=r.memoizedProps,b=g.id,A=g.onPostCommit;typeof A=="function"&&A(b,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(z){dt(r,r.return,z)}}else $i(i,r,o,c);break;case 31:$i(i,r,o,c);break;case 13:$i(i,r,o,c);break;case 23:break;case 22:g=r.stateNode,b=r.alternate,r.memoizedState!==null?g._visibility&2?$i(i,r,o,c):Pc(i,r):g._visibility&2?$i(i,r,o,c):(g._visibility|=2,Jo(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),m&2048&&Cp(b,r);break;case 24:$i(i,r,o,c),m&2048&&Rp(r.alternate,r);break;default:$i(i,r,o,c)}}function Jo(i,r,o,c,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,b=r,A=o,z=c,W=b.flags;switch(b.tag){case 0:case 11:case 15:Jo(g,b,A,z,m),Mc(8,b);break;case 23:break;case 22:var se=b.stateNode;b.memoizedState!==null?se._visibility&2?Jo(g,b,A,z,m):Pc(g,b):(se._visibility|=2,Jo(g,b,A,z,m)),m&&W&2048&&Cp(b.alternate,b);break;case 24:Jo(g,b,A,z,m),m&&W&2048&&Rp(b.alternate,b);break;default:Jo(g,b,A,z,m)}r=r.sibling}}function Pc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,m=c.flags;switch(c.tag){case 22:Pc(o,c),m&2048&&Cp(c.alternate,c);break;case 24:Pc(o,c),m&2048&&Rp(c.alternate,c);break;default:Pc(o,c)}r=r.sibling}}var Oc=8192;function el(i,r,o){if(i.subtreeFlags&Oc)for(i=i.child;i!==null;)jb(i,r,o),i=i.sibling}function jb(i,r,o){switch(i.tag){case 26:el(i,r,o),i.flags&Oc&&i.memoizedState!==null&&XI(o,Ki,i.memoizedState,i.memoizedProps);break;case 5:el(i,r,o);break;case 3:case 4:var c=Ki;Ki=hf(i.stateNode.containerInfo),el(i,r,o),Ki=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=Oc,Oc=16777216,el(i,r,o),Oc=c):el(i,r,o));break;default:el(i,r,o)}}function Ub(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Lc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];dn=c,Bb(c,i)}Ub(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)zb(i),i=i.sibling}function zb(i){switch(i.tag){case 0:case 11:case 15:Lc(i),i.flags&2048&&Ur(9,i,i.return);break;case 3:Lc(i);break;case 12:Lc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Wh(i)):Lc(i);break;default:Lc(i)}}function Wh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];dn=c,Bb(c,i)}Ub(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ur(8,r,r.return),Wh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Wh(r));break;default:Wh(r)}i=i.sibling}}function Bb(i,r){for(;dn!==null;){var o=dn;switch(o.tag){case 0:case 11:case 15:Ur(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:bc(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,dn=c;else e:for(o=i;dn!==null;){c=dn;var m=c.sibling,g=c.return;if(Db(c),c===o){dn=null;break e}if(m!==null){m.return=g,dn=m;break e}dn=g}}}var hI={getCacheForType:function(i){var r=Tn(Qt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Tn(Qt).controller.signal}},fI=typeof WeakMap=="function"?WeakMap:Map,lt=0,Tt=null,$e=null,Xe=0,ft=0,ui=null,zr=!1,tl=!1,Ip=!1,nr=0,zt=0,Br=0,Ja=0,Np=0,hi=0,nl=0,jc=null,$n=null,Dp=!1,Zh=0,Fb=0,Jh=1/0,ef=null,Fr=null,on=0,qr=null,il=null,ir=0,kp=0,Mp=null,qb=null,Uc=0,Vp=null;function fi(){return(lt&2)!==0&&Xe!==0?Xe&-Xe:H.T!==null?zp():br()}function Hb(){if(hi===0)if((Xe&536870912)===0||tt){var i=js;js<<=1,(js&3932160)===0&&(js=262144),hi=i}else hi=536870912;return i=li.current,i!==null&&(i.flags|=32),hi}function Yn(i,r,o){(i===Tt&&(ft===2||ft===9)||i.cancelPendingCommit!==null)&&(sl(i,0),Hr(i,Xe,hi,!1)),Us(i,o),((lt&2)===0||i!==Tt)&&(i===Tt&&((lt&2)===0&&(Ja|=o),zt===4&&Hr(i,Xe,hi,!1)),bs(i))}function Gb(i,r,o){if((lt&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||Pn(i,r),m=c?pI(i,r):Op(i,r,!0),g=c;do{if(m===0){tl&&!c&&Hr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!dI(o)){m=Op(i,r,!1),g=!1;continue}if(m===2){if(g=r,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var A=i;m=jc;var z=A.current.memoizedState.isDehydrated;if(z&&(sl(A,b).flags|=256),b=Op(A,b,!1),b!==2){if(Ip&&!z){A.errorRecoveryDisabledLanes|=g,Ja|=g,m=4;break e}g=$n,$n=m,g!==null&&($n===null?$n=g:$n.push.apply($n,g))}m=b}if(g=!1,m!==2)continue}}if(m===1){sl(i,0),Hr(i,r,0,!0);break}e:{switch(c=i,g=m,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Hr(c,r,hi,!zr);break e;case 2:$n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(m=Zh+300-St(),10<m)){if(Hr(c,r,hi,!zr),ti(c,0,!0)!==0)break e;ir=r,c.timeoutHandle=wT(Kb.bind(null,c,o,$n,ef,Dp,r,hi,Ja,nl,zr,g,"Throttled",-0,0),m);break e}Kb(c,o,$n,ef,Dp,r,hi,Ja,nl,zr,g,null,-0,0)}}break}while(!0);bs(i)}function Kb(i,r,o,c,m,g,b,A,z,W,se,ce,Z,te){if(i.timeoutHandle=-1,ce=r.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zi},jb(r,g,ce);var Ee=(g&62914560)===g?Zh-St():(g&4194048)===g?Fb-St():0;if(Ee=WI(ce,Ee),Ee!==null){ir=g,i.cancelPendingCommit=Ee(eT.bind(null,i,r,g,o,c,m,b,A,z,se,ce,null,Z,te)),Hr(i,g,b,!W);return}}eT(i,r,g,o,c,m,b,A,z)}function dI(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!ai(g(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Hr(i,r,o,c){r&=~Np,r&=~Ja,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var m=r;0<m;){var g=31-Et(m),b=1<<g;c[g]=-1,m&=~b}o!==0&&zs(i,o,r)}function tf(){return(lt&6)===0?(zc(0),!1):!0}function Pp(){if($e!==null){if(ft===0)var i=$e.return;else i=$e,Ks=Ha=null,Wm(i),Yo=null,wc=0,i=$e;for(;i!==null;)Eb(i.alternate,i),i=i.return;$e=null}}function sl(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,MI(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),ir=0,Pp(),Tt=i,$e=o=Hs(i.current,null),Xe=r,ft=0,ui=null,zr=!1,tl=Pn(i,r),Ip=!1,nl=hi=Np=Ja=Br=zt=0,$n=jc=null,Dp=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var m=31-Et(c),g=1<<m;r|=i[m],c&=~g}return nr=r,wh(),o}function $b(i,r){ze=null,H.H=Nc,r===$o||r===Nh?(r=c_(),ft=3):r===Um?(r=c_(),ft=4):ft=r===dp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ui=r,$e===null&&(zt=1,Hh(i,xi(r,i.current)))}function Yb(){var i=li.current;return i===null?!0:(Xe&4194048)===Xe?Ri===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?i===Ri:!1}function Qb(){var i=H.H;return H.H=Nc,i===null?Nc:i}function Xb(){var i=H.A;return H.A=hI,i}function nf(){zt=4,zr||(Xe&4194048)!==Xe&&li.current!==null||(tl=!0),(Br&134217727)===0&&(Ja&134217727)===0||Tt===null||Hr(Tt,Xe,hi,!1)}function Op(i,r,o){var c=lt;lt|=2;var m=Qb(),g=Xb();(Tt!==i||Xe!==r)&&(ef=null,sl(i,r)),r=!1;var b=zt;e:do try{if(ft!==0&&$e!==null){var A=$e,z=ui;switch(ft){case 8:Pp(),b=6;break e;case 3:case 2:case 9:case 6:li.current===null&&(r=!0);var W=ft;if(ft=0,ui=null,rl(i,A,z,W),o&&tl){b=0;break e}break;default:W=ft,ft=0,ui=null,rl(i,A,z,W)}}mI(),b=zt;break}catch(se){$b(i,se)}while(!0);return r&&i.shellSuspendCounter++,Ks=Ha=null,lt=c,H.H=m,H.A=g,$e===null&&(Tt=null,Xe=0,wh()),b}function mI(){for(;$e!==null;)Wb($e)}function pI(i,r){var o=lt;lt|=2;var c=Qb(),m=Xb();Tt!==i||Xe!==r?(ef=null,Jh=St()+500,sl(i,r)):tl=Pn(i,r);e:do try{if(ft!==0&&$e!==null){r=$e;var g=ui;t:switch(ft){case 1:ft=0,ui=null,rl(i,r,g,1);break;case 2:case 9:if(o_(g)){ft=0,ui=null,Zb(r);break}r=function(){ft!==2&&ft!==9||Tt!==i||(ft=7),bs(i)},g.then(r,r);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:o_(g)?(ft=0,ui=null,Zb(r)):(ft=0,ui=null,rl(i,r,g,7));break;case 5:var b=null;switch($e.tag){case 26:b=$e.memoizedState;case 5:case 27:var A=$e;if(b?LT(b):A.stateNode.complete){ft=0,ui=null;var z=A.sibling;if(z!==null)$e=z;else{var W=A.return;W!==null?($e=W,sf(W)):$e=null}break t}}ft=0,ui=null,rl(i,r,g,5);break;case 6:ft=0,ui=null,rl(i,r,g,6);break;case 8:Pp(),zt=6;break e;default:throw Error(s(462))}}gI();break}catch(se){$b(i,se)}while(!0);return Ks=Ha=null,H.H=c,H.A=m,lt=o,$e!==null?0:(Tt=null,Xe=0,wh(),zt)}function gI(){for(;$e!==null&&!Sa();)Wb($e)}function Wb(i){var r=Tb(i.alternate,i,nr);i.memoizedProps=i.pendingProps,r===null?sf(i):$e=r}function Zb(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=pb(o,r,r.pendingProps,r.type,void 0,Xe);break;case 11:r=pb(o,r,r.pendingProps,r.type.render,r.ref,Xe);break;case 5:Wm(r);default:Eb(o,r),r=$e=X0(r,nr),r=Tb(o,r,nr)}i.memoizedProps=i.pendingProps,r===null?sf(i):$e=r}function rl(i,r,o,c){Ks=Ha=null,Wm(r),Yo=null,wc=0;var m=r.return;try{if(sI(i,m,r,o,Xe)){zt=1,Hh(i,xi(o,i.current)),$e=null;return}}catch(g){if(m!==null)throw $e=m,g;zt=1,Hh(i,xi(o,i.current)),$e=null;return}r.flags&32768?(tt||c===1?i=!0:tl||(Xe&536870912)!==0?i=!1:(zr=i=!0,(c===2||c===9||c===3||c===6)&&(c=li.current,c!==null&&c.tag===13&&(c.flags|=16384))),Jb(r,i)):sf(r)}function sf(i){var r=i;do{if((r.flags&32768)!==0){Jb(r,zr);return}i=r.return;var o=oI(r.alternate,r,nr);if(o!==null){$e=o;return}if(r=r.sibling,r!==null){$e=r;return}$e=r=i}while(r!==null);zt===0&&(zt=5)}function Jb(i,r){do{var o=lI(i.alternate,i);if(o!==null){o.flags&=32767,$e=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){$e=i;return}$e=i=o}while(i!==null);zt=6,$e=null}function eT(i,r,o,c,m,g,b,A,z){i.cancelPendingCommit=null;do rf();while(on!==0);if((lt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=xm,xo(i,o,g,b,A,z),i===Tt&&($e=Tt=null,Xe=0),il=r,qr=i,ir=o,kp=g,Mp=m,qb=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,bI(Jn,function(){return rT(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=H.T,H.T=null,m=ne.p,ne.p=2,b=lt,lt|=4;try{cI(i,r,o)}finally{lt=b,ne.p=m,H.T=c}}on=1,tT(),nT(),iT()}}function tT(){if(on===1){on=0;var i=qr,r=il,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=H.T,H.T=null;var c=ne.p;ne.p=2;var m=lt;lt|=4;try{Pb(r,i);var g=Yp,b=B0(i.containerInfo),A=g.focusedElem,z=g.selectionRange;if(b!==A&&A&&A.ownerDocument&&z0(A.ownerDocument.documentElement,A)){if(z!==null&&_m(A)){var W=z.start,se=z.end;if(se===void 0&&(se=W),"selectionStart"in A)A.selectionStart=W,A.selectionEnd=Math.min(se,A.value.length);else{var ce=A.ownerDocument||document,Z=ce&&ce.defaultView||window;if(Z.getSelection){var te=Z.getSelection(),Ee=A.textContent.length,Me=Math.min(z.start,Ee),vt=z.end===void 0?Me:Math.min(z.end,Ee);!te.extend&&Me>vt&&(b=vt,vt=Me,Me=b);var K=U0(A,Me),B=U0(A,vt);if(K&&B&&(te.rangeCount!==1||te.anchorNode!==K.node||te.anchorOffset!==K.offset||te.focusNode!==B.node||te.focusOffset!==B.offset)){var X=ce.createRange();X.setStart(K.node,K.offset),te.removeAllRanges(),Me>vt?(te.addRange(X),te.extend(B.node,B.offset)):(X.setEnd(B.node,B.offset),te.addRange(X))}}}}for(ce=[],te=A;te=te.parentNode;)te.nodeType===1&&ce.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ce.length;A++){var le=ce[A];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}yf=!!$p,Yp=$p=null}finally{lt=m,ne.p=c,H.T=o}}i.current=r,on=2}}function nT(){if(on===2){on=0;var i=qr,r=il,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=H.T,H.T=null;var c=ne.p;ne.p=2;var m=lt;lt|=4;try{Nb(i,r.alternate,r)}finally{lt=m,ne.p=c,H.T=o}}on=3}}function iT(){if(on===4||on===3){on=0,_r();var i=qr,r=il,o=ir,c=qb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?on=5:(on=0,il=qr=null,sT(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Fr=null),ni(o),r=r.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(an,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=H.T,m=ne.p,ne.p=2,H.T=null;try{for(var g=i.onRecoverableError,b=0;b<c.length;b++){var A=c[b];g(A.value,{componentStack:A.stack})}}finally{H.T=r,ne.p=m}}(ir&3)!==0&&rf(),bs(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===Vp?Uc++:(Uc=0,Vp=i):Uc=0,zc(0)}}function sT(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,bc(r)))}function rf(){return tT(),nT(),iT(),rT()}function rT(){if(on!==5)return!1;var i=qr,r=kp;kp=0;var o=ni(ir),c=H.T,m=ne.p;try{ne.p=32>o?32:o,H.T=null,o=Mp,Mp=null;var g=qr,b=ir;if(on=0,il=qr=null,ir=0,(lt&6)!==0)throw Error(s(331));var A=lt;if(lt|=4,zb(g.current),Lb(g,g.current,b,o),lt=A,zc(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(an,g)}catch{}return!0}finally{ne.p=m,H.T=c,sT(i,r)}}function aT(i,r,o){r=xi(o,r),r=fp(i.stateNode,r,2),i=Or(i,r,2),i!==null&&(Us(i,2),bs(i))}function dt(i,r,o){if(i.tag===3)aT(i,i,o);else for(;r!==null;){if(r.tag===3){aT(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Fr===null||!Fr.has(c))){i=xi(o,i),o=ob(2),c=Or(r,o,2),c!==null&&(lb(o,c,r,i),Us(c,2),bs(c));break}}r=r.return}}function Lp(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new fI;var m=new Set;c.set(r,m)}else m=c.get(r),m===void 0&&(m=new Set,c.set(r,m));m.has(o)||(Ip=!0,m.add(o),i=yI.bind(null,i,r,o),r.then(i,i))}function yI(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,Tt===i&&(Xe&o)===o&&(zt===4||zt===3&&(Xe&62914560)===Xe&&300>St()-Zh?(lt&2)===0&&sl(i,0):Np|=o,nl===Xe&&(nl=0)),bs(i)}function oT(i,r){r===0&&(r=Eo()),i=Ba(i,r),i!==null&&(Us(i,r),bs(i))}function vI(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),oT(i,o)}function _I(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),oT(i,o)}function bI(i,r){return st(i,r)}var af=null,al=null,jp=!1,of=!1,Up=!1,Gr=0;function bs(i){i!==al&&i.next===null&&(al===null?af=al=i:al=al.next=i),of=!0,jp||(jp=!0,wI())}function zc(i,r){if(!Up&&of){Up=!0;do for(var o=!1,c=af;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var b=c.suspendedLanes,A=c.pingedLanes;g=(1<<31-Et(42|i)+1)-1,g&=m&~(b&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,hT(c,g))}else g=Xe,g=ti(c,c===Tt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Pn(c,g)||(o=!0,hT(c,g));c=c.next}while(o);Up=!1}}function TI(){lT()}function lT(){of=jp=!1;var i=0;Gr!==0&&kI()&&(i=Gr);for(var r=St(),o=null,c=af;c!==null;){var m=c.next,g=cT(c,r);g===0?(c.next=null,o===null?af=m:o.next=m,m===null&&(al=o)):(o=c,(i!==0||(g&3)!==0)&&(of=!0)),c=m}on!==0&&on!==5||zc(i),Gr!==0&&(Gr=0)}function cT(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-Et(g),A=1<<b,z=m[b];z===-1?((A&o)===0||(A&c)!==0)&&(m[b]=Ca(A,r)):z<=r&&(i.expiredLanes|=A),g&=~A}if(r=Tt,o=Xe,o=ti(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(ft===2||ft===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&gi(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Pn(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&gi(c),ni(o)){case 2:case 8:o=Zn;break;case 32:o=Jn;break;case 268435456:o=Os;break;default:o=Jn}return c=uT.bind(null,i),o=st(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&gi(c),i.callbackPriority=2,i.callbackNode=null,2}function uT(i,r){if(on!==0&&on!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(rf()&&i.callbackNode!==o)return null;var c=Xe;return c=ti(i,i===Tt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(Gb(i,c,r),cT(i,St()),i.callbackNode!=null&&i.callbackNode===o?uT.bind(null,i):null)}function hT(i,r){if(rf())return null;Gb(i,r,!0)}function wI(){VI(function(){(lt&6)!==0?st(Mn,TI):lT()})}function zp(){if(Gr===0){var i=Go;i===0&&(i=Vn,Vn<<=1,(Vn&261888)===0&&(Vn=256)),Gr=i}return Gr}function fT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:No(""+i)}function dT(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function EI(i,r,o,c,m){if(r==="submit"&&o&&o.stateNode===m){var g=fT((m[Ke]||null).action),b=c.submitter;b&&(r=(r=b[Ke]||null)?fT(r.formAction):b.getAttribute("formAction"),r!==null&&(g=r,b=null));var A=new ds("action","action",null,c,m);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Gr!==0){var z=b?dT(m,b):new FormData(m);ap(o,{pending:!0,data:z,method:m.method,action:g},null,z)}}else typeof g=="function"&&(A.preventDefault(),z=b?dT(m,b):new FormData(m),ap(o,{pending:!0,data:z,method:m.method,action:g},g,z))},currentTarget:m}]})}}for(var Bp=0;Bp<Em.length;Bp++){var Fp=Em[Bp],xI=Fp.toLowerCase(),SI=Fp[0].toUpperCase()+Fp.slice(1);Gi(xI,"on"+SI)}Gi(H0,"onAnimationEnd"),Gi(G0,"onAnimationIteration"),Gi(K0,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(B2,"onTransitionRun"),Gi(F2,"onTransitionStart"),Gi(q2,"onTransitionCancel"),Gi($0,"onTransitionEnd"),cs("onMouseEnter",["mouseout","mouseover"]),cs("onMouseLeave",["mouseout","mouseover"]),cs("onPointerEnter",["pointerout","pointerover"]),cs("onPointerLeave",["pointerout","pointerover"]),ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ls("onBeforeInput",["compositionend","keypress","textInput","paste"]),ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bc));function mT(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],m=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var b=c.length-1;0<=b;b--){var A=c[b],z=A.instance,W=A.currentTarget;if(A=A.listener,z!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=W;try{g(m)}catch(se){Th(se)}m.currentTarget=null,g=z}else for(b=0;b<c.length;b++){if(A=c[b],z=A.instance,W=A.currentTarget,A=A.listener,z!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=W;try{g(m)}catch(se){Th(se)}m.currentTarget=null,g=z}}}}function Ye(i,r){var o=r[Vt];o===void 0&&(o=r[Vt]=new Set);var c=i+"__bubble";o.has(c)||(pT(r,i,2,!1),o.add(c))}function qp(i,r,o){var c=0;r&&(c|=4),pT(o,i,c,r)}var lf="_reactListening"+Math.random().toString(36).slice(2);function Hp(i){if(!i[lf]){i[lf]=!0,Jl.forEach(function(o){o!=="selectionchange"&&(AI.has(o)||qp(o,!1,i),qp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[lf]||(r[lf]=!0,qp("selectionchange",!1,r))}}function pT(i,r,o,c){switch(HT(r)){case 2:var m=eN;break;case 8:m=tN;break;default:m=rg}o=m.bind(null,r,o,i),m=void 0,!Ma||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(r,o,{capture:!0,passive:m}):i.addEventListener(r,o,!0):m!==void 0?i.addEventListener(r,o,{passive:m}):i.addEventListener(r,o,!1)}function Gp(i,r,o,c,m){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var A=c.stateNode.containerInfo;if(A===m)break;if(b===4)for(b=c.return;b!==null;){var z=b.tag;if((z===3||z===4)&&b.stateNode.containerInfo===m)return;b=b.return}for(;A!==null;){if(b=as(A),b===null)return;if(z=b.tag,z===5||z===6||z===26||z===27){c=g=b;continue e}A=A.parentNode}}c=c.return}Ar(function(){var W=g,se=bi(o),ce=[];e:{var Z=Y0.get(i);if(Z!==void 0){var te=ds,Ee=i;switch(i){case"keypress":if(Pa(o)===0)break e;case"keydown":case"keyup":te=vh;break;case"focusin":Ee="focus",te=La;break;case"focusout":Ee="blur",te=La;break;case"beforeblur":case"afterblur":te=La;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=ch;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=_;break;case H0:case G0:case K0:te=hh;break;case $0:te=R;break;case"scroll":case"scrollend":te=hc;break;case"wheel":te=J;break;case"copy":case"cut":case"paste":te=fh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=qs;break;case"toggle":case"beforetoggle":te=Ue}var Me=(r&4)!==0,vt=!Me&&(i==="scroll"||i==="scrollend"),K=Me?Z!==null?Z+"Capture":null:Z;Me=[];for(var B=W,X;B!==null;){var le=B;if(X=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||X===null||K===null||(le=Bi(B,K),le!=null&&Me.push(Fc(B,le,X))),vt)break;B=B.return}0<Me.length&&(Z=new te(Z,Ee,null,o,se),ce.push({event:Z,listeners:Me}))}}if((r&7)===0){e:{if(Z=i==="mouseover"||i==="pointerover",te=i==="mouseout"||i==="pointerout",Z&&o!==lc&&(Ee=o.relatedTarget||o.fromElement)&&(as(Ee)||Ee[mt]))break e;if((te||Z)&&(Z=se.window===se?se:(Z=se.ownerDocument)?Z.defaultView||Z.parentWindow:window,te?(Ee=o.relatedTarget||o.toElement,te=W,Ee=Ee?as(Ee):null,Ee!==null&&(vt=l(Ee),Me=Ee.tag,Ee!==vt||Me!==5&&Me!==27&&Me!==6)&&(Ee=null)):(te=null,Ee=W),te!==Ee)){if(Me=fc,le="onMouseLeave",K="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(Me=qs,le="onPointerLeave",K="onPointerEnter",B="pointer"),vt=te==null?Z:si(te),X=Ee==null?Z:si(Ee),Z=new Me(le,B+"leave",te,o,se),Z.target=vt,Z.relatedTarget=X,le=null,as(se)===W&&(Me=new Me(K,B+"enter",Ee,o,se),Me.target=X,Me.relatedTarget=vt,le=Me),vt=le,te&&Ee)t:{for(Me=CI,K=te,B=Ee,X=0,le=K;le;le=Me(le))X++;le=0;for(var Ne=B;Ne;Ne=Me(Ne))le++;for(;0<X-le;)K=Me(K),X--;for(;0<le-X;)B=Me(B),le--;for(;X--;){if(K===B||B!==null&&K===B.alternate){Me=K;break t}K=Me(K),B=Me(B)}Me=null}else Me=null;te!==null&&gT(ce,Z,te,Me,!1),Ee!==null&&vt!==null&&gT(ce,vt,Ee,Me,!0)}}e:{if(Z=W?si(W):window,te=Z.nodeName&&Z.nodeName.toLowerCase(),te==="select"||te==="input"&&Z.type==="file")var rt=M0;else if(D0(Z))if(V0)rt=j2;else{rt=O2;var Ce=P2}else te=Z.nodeName,!te||te.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?W&&Io(W.elementType)&&(rt=M0):rt=L2;if(rt&&(rt=rt(i,W))){k0(ce,rt,o,se);break e}Ce&&Ce(i,Z,W),i==="focusout"&&W&&Z.type==="number"&&W.memoizedProps.value!=null&&rc(Z,"number",Z.value)}switch(Ce=W?si(W):window,i){case"focusin":(D0(Ce)||Ce.contentEditable==="true")&&(Lo=Ce,bm=W,yc=null);break;case"focusout":yc=bm=Lo=null;break;case"mousedown":Tm=!0;break;case"contextmenu":case"mouseup":case"dragend":Tm=!1,F0(ce,o,se);break;case"selectionchange":if(z2)break;case"keydown":case"keyup":F0(ce,o,se)}var Be;if(ot)e:{switch(i){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Oo?ja(i,o)&&(We="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(We="onCompositionStart");We&&(gs&&o.locale!=="ko"&&(Oo||We!=="onCompositionStart"?We==="onCompositionEnd"&&Oo&&(Be=uc()):(fs=se,cc="value"in fs?fs.value:fs.textContent,Oo=!0)),Ce=cf(W,We),0<Ce.length&&(We=new ps(We,i,null,o,se),ce.push({event:We,listeners:Ce}),Be?We.data=Be:(Be=Po(o),Be!==null&&(We.data=Be)))),(Be=wi?D2(i,o):k2(i,o))&&(We=cf(W,"onBeforeInput"),0<We.length&&(Ce=new ps("onBeforeInput","beforeinput",null,o,se),ce.push({event:Ce,listeners:We}),Ce.data=Be)),EI(ce,i,W,o,se)}mT(ce,r)})}function Fc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function cf(i,r){for(var o=r+"Capture",c=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Bi(i,o),m!=null&&c.unshift(Fc(i,m,g)),m=Bi(i,r),m!=null&&c.push(Fc(i,m,g))),i.tag===3)return c;i=i.return}return[]}function CI(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function gT(i,r,o,c,m){for(var g=r._reactName,b=[];o!==null&&o!==c;){var A=o,z=A.alternate,W=A.stateNode;if(A=A.tag,z!==null&&z===c)break;A!==5&&A!==26&&A!==27||W===null||(z=W,m?(W=Bi(o,g),W!=null&&b.unshift(Fc(o,W,z))):m||(W=Bi(o,g),W!=null&&b.push(Fc(o,W,z)))),o=o.return}b.length!==0&&i.push({event:r,listeners:b})}var RI=/\r\n?/g,II=/\u0000|\uFFFD/g;function yT(i){return(typeof i=="string"?i:""+i).replace(RI,`
`).replace(II,"")}function vT(i,r){return r=yT(r),yT(i)===r}function yt(i,r,o,c,m,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||qn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&qn(i,""+c);break;case"className":ri(i,"class",c);break;case"tabIndex":ri(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ri(i,o,c);break;case"style":oc(i,c,g);break;case"data":if(r!=="object"){ri(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=No(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&yt(i,r,"name",m.name,m,null),yt(i,r,"formEncType",m.formEncType,m,null),yt(i,r,"formMethod",m.formMethod,m,null),yt(i,r,"formTarget",m.formTarget,m,null)):(yt(i,r,"encType",m.encType,m,null),yt(i,r,"method",m.method,m,null),yt(i,r,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=No(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=zi);break;case"onScroll":c!=null&&Ye("scroll",i);break;case"onScrollEnd":c!=null&&Ye("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=No(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Ye("beforetoggle",i),Ye("toggle",i),Co(i,"popover",c);break;case"xlinkActuate":Yt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Yt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Yt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Yt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Yt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Yt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Yt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Yt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Yt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Co(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=lh.get(o)||o,Co(i,o,c))}}function Kp(i,r,o,c,m,g){switch(o){case"style":oc(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?qn(i,c):(typeof c=="number"||typeof c=="bigint")&&qn(i,""+c);break;case"onScroll":c!=null&&Ye("scroll",i);break;case"onScrollEnd":c!=null&&Ye("scrollend",i);break;case"onClick":c!=null&&(i.onclick=zi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ec.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),g=i[Ke]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,m);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Co(i,o,c)}}}function En(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",i),Ye("load",i);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:yt(i,r,g,b,o,null)}}m&&yt(i,r,"srcSet",o.srcSet,o,null),c&&yt(i,r,"src",o.src,o,null);return;case"input":Ye("invalid",i);var A=g=b=m=null,z=null,W=null;for(c in o)if(o.hasOwnProperty(c)){var se=o[c];if(se!=null)switch(c){case"name":m=se;break;case"type":b=se;break;case"checked":z=se;break;case"defaultChecked":W=se;break;case"value":g=se;break;case"defaultValue":A=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(s(137,r));break;default:yt(i,r,c,se,o,null)}}rh(i,g,A,z,W,b,m,!1);return;case"select":Ye("invalid",i),c=b=g=null;for(m in o)if(o.hasOwnProperty(m)&&(A=o[m],A!=null))switch(m){case"value":g=A;break;case"defaultValue":b=A;break;case"multiple":c=A;default:yt(i,r,m,A,o,null)}r=g,o=b,i.multiple=!!c,r!=null?wr(i,!!c,r,!1):o!=null&&wr(i,!!c,o,!0);return;case"textarea":Ye("invalid",i),g=m=c=null;for(b in o)if(o.hasOwnProperty(b)&&(A=o[b],A!=null))switch(b){case"value":c=A;break;case"defaultValue":m=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:yt(i,r,b,A,o,null)}Er(i,c,m,g);return;case"option":for(z in o)o.hasOwnProperty(z)&&(c=o[z],c!=null)&&(z==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":yt(i,r,z,c,o,null));return;case"dialog":Ye("beforetoggle",i),Ye("toggle",i),Ye("cancel",i),Ye("close",i);break;case"iframe":case"object":Ye("load",i);break;case"video":case"audio":for(c=0;c<Bc.length;c++)Ye(Bc[c],i);break;case"image":Ye("error",i),Ye("load",i);break;case"details":Ye("toggle",i);break;case"embed":case"source":case"link":Ye("error",i),Ye("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(c=o[W],c!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:yt(i,r,W,c,o,null)}return;default:if(Io(r)){for(se in o)o.hasOwnProperty(se)&&(c=o[se],c!==void 0&&Kp(i,r,se,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&yt(i,r,A,c,o,null))}function NI(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,b=null,A=null,z=null,W=null,se=null;for(te in o){var ce=o[te];if(o.hasOwnProperty(te)&&ce!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":z=ce;default:c.hasOwnProperty(te)||yt(i,r,te,null,c,ce)}}for(var Z in c){var te=c[Z];if(ce=o[Z],c.hasOwnProperty(Z)&&(te!=null||ce!=null))switch(Z){case"type":g=te;break;case"name":m=te;break;case"checked":W=te;break;case"defaultChecked":se=te;break;case"value":b=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,r));break;default:te!==ce&&yt(i,r,Z,te,c,ce)}}Ro(i,b,A,z,W,se,g,m);return;case"select":te=b=A=Z=null;for(g in o)if(z=o[g],o.hasOwnProperty(g)&&z!=null)switch(g){case"value":break;case"multiple":te=z;default:c.hasOwnProperty(g)||yt(i,r,g,null,c,z)}for(m in c)if(g=c[m],z=o[m],c.hasOwnProperty(m)&&(g!=null||z!=null))switch(m){case"value":Z=g;break;case"defaultValue":A=g;break;case"multiple":b=g;default:g!==z&&yt(i,r,m,g,c,z)}r=A,o=b,c=te,Z!=null?wr(i,!!o,Z,!1):!!c!=!!o&&(r!=null?wr(i,!!o,r,!0):wr(i,!!o,o?[]:"",!1));return;case"textarea":te=Z=null;for(A in o)if(m=o[A],o.hasOwnProperty(A)&&m!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:yt(i,r,A,null,c,m)}for(b in c)if(m=c[b],g=o[b],c.hasOwnProperty(b)&&(m!=null||g!=null))switch(b){case"value":Z=m;break;case"defaultValue":te=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==g&&yt(i,r,b,m,c,g)}ah(i,Z,te);return;case"option":for(var Ee in o)Z=o[Ee],o.hasOwnProperty(Ee)&&Z!=null&&!c.hasOwnProperty(Ee)&&(Ee==="selected"?i.selected=!1:yt(i,r,Ee,null,c,Z));for(z in c)Z=c[z],te=o[z],c.hasOwnProperty(z)&&Z!==te&&(Z!=null||te!=null)&&(z==="selected"?i.selected=Z&&typeof Z!="function"&&typeof Z!="symbol":yt(i,r,z,Z,c,te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in o)Z=o[Me],o.hasOwnProperty(Me)&&Z!=null&&!c.hasOwnProperty(Me)&&yt(i,r,Me,null,c,Z);for(W in c)if(Z=c[W],te=o[W],c.hasOwnProperty(W)&&Z!==te&&(Z!=null||te!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:yt(i,r,W,Z,c,te)}return;default:if(Io(r)){for(var vt in o)Z=o[vt],o.hasOwnProperty(vt)&&Z!==void 0&&!c.hasOwnProperty(vt)&&Kp(i,r,vt,void 0,c,Z);for(se in c)Z=c[se],te=o[se],!c.hasOwnProperty(se)||Z===te||Z===void 0&&te===void 0||Kp(i,r,se,Z,c,te);return}}for(var K in o)Z=o[K],o.hasOwnProperty(K)&&Z!=null&&!c.hasOwnProperty(K)&&yt(i,r,K,null,c,Z);for(ce in c)Z=c[ce],te=o[ce],!c.hasOwnProperty(ce)||Z===te||Z==null&&te==null||yt(i,r,ce,Z,c,te)}function _T(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function DI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],g=m.transferSize,b=m.initiatorType,A=m.duration;if(g&&A&&_T(b)){for(b=0,A=m.responseEnd,c+=1;c<o.length;c++){var z=o[c],W=z.startTime;if(W>A)break;var se=z.transferSize,ce=z.initiatorType;se&&_T(ce)&&(z=z.responseEnd,b+=se*(z<A?1:(A-W)/(z-W)))}if(--c,r+=8*(g+b)/(m.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var $p=null,Yp=null;function uf(i){return i.nodeType===9?i:i.ownerDocument}function bT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function TT(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Qp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Xp=null;function kI(){var i=window.event;return i&&i.type==="popstate"?i===Xp?!1:(Xp=i,!0):(Xp=null,!1)}var wT=typeof setTimeout=="function"?setTimeout:void 0,MI=typeof clearTimeout=="function"?clearTimeout:void 0,ET=typeof Promise=="function"?Promise:void 0,VI=typeof queueMicrotask=="function"?queueMicrotask:typeof ET<"u"?function(i){return ET.resolve(null).then(i).catch(PI)}:wT;function PI(i){setTimeout(function(){throw i})}function Kr(i){return i==="head"}function xT(i,r){var o=r,c=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(m),ul(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")qc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,qc(o);for(var g=o.firstChild;g;){var b=g.nextSibling,A=g.nodeName;g[rs]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=b}}else o==="body"&&qc(i.ownerDocument.body);o=m}while(o);ul(r)}function ST(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function Wp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Wp(o),Ao(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function OI(i,r,o,c){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[rs])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Ii(i.nextSibling),i===null)break}return null}function LI(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Ii(i.nextSibling),i===null))return null;return i}function AT(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Ii(i.nextSibling),i===null))return null;return i}function Zp(i){return i.data==="$?"||i.data==="$~"}function Jp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function jI(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Ii(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var eg=null;function CT(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Ii(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function RT(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function IT(i,r,o){switch(r=uf(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function qc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ao(i)}var Ni=new Map,NT=new Set;function hf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var sr=ne.d;ne.d={f:UI,r:zI,D:BI,C:FI,L:qI,m:HI,X:KI,S:GI,M:$I};function UI(){var i=sr.f(),r=tf();return i||r}function zI(i){var r=_i(i);r!==null&&r.tag===5&&r.type==="form"?$_(r):sr.r(i)}var ol=typeof document>"u"?null:document;function DT(i,r,o){var c=ol;if(c&&typeof r=="string"&&r){var m=Fn(r);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),NT.has(m)||(NT.add(m),i={rel:i,crossOrigin:o,href:r},c.querySelector(m)===null&&(r=c.createElement("link"),En(r,"link",i),$t(r),c.head.appendChild(r)))}}function BI(i){sr.D(i),DT("dns-prefetch",i,null)}function FI(i,r){sr.C(i,r),DT("preconnect",i,r)}function qI(i,r,o){sr.L(i,r,o);var c=ol;if(c&&i&&r){var m='link[rel="preload"][as="'+Fn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Fn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Fn(o.imageSizes)+'"]')):m+='[href="'+Fn(i)+'"]';var g=m;switch(r){case"style":g=ll(i);break;case"script":g=cl(i)}Ni.has(g)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Ni.set(g,i),c.querySelector(m)!==null||r==="style"&&c.querySelector(Hc(g))||r==="script"&&c.querySelector(Gc(g))||(r=c.createElement("link"),En(r,"link",i),$t(r),c.head.appendChild(r)))}}function HI(i,r){sr.m(i,r);var o=ol;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+Fn(c)+'"][href="'+Fn(i)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=cl(i)}if(!Ni.has(g)&&(i=v({rel:"modulepreload",href:i},r),Ni.set(g,i),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Gc(g)))return}c=o.createElement("link"),En(c,"link",i),$t(c),o.head.appendChild(c)}}}function GI(i,r,o){sr.S(i,r,o);var c=ol;if(c&&i){var m=os(c).hoistableStyles,g=ll(i);r=r||"default";var b=m.get(g);if(!b){var A={loading:0,preload:null};if(b=c.querySelector(Hc(g)))A.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Ni.get(g))&&tg(i,o);var z=b=c.createElement("link");$t(z),En(z,"link",i),z._p=new Promise(function(W,se){z.onload=W,z.onerror=se}),z.addEventListener("load",function(){A.loading|=1}),z.addEventListener("error",function(){A.loading|=2}),A.loading|=4,ff(b,r,c)}b={type:"stylesheet",instance:b,count:1,state:A},m.set(g,b)}}}function KI(i,r){sr.X(i,r);var o=ol;if(o&&i){var c=os(o).hoistableScripts,m=cl(i),g=c.get(m);g||(g=o.querySelector(Gc(m)),g||(i=v({src:i,async:!0},r),(r=Ni.get(m))&&ng(i,r),g=o.createElement("script"),$t(g),En(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function $I(i,r){sr.M(i,r);var o=ol;if(o&&i){var c=os(o).hoistableScripts,m=cl(i),g=c.get(m);g||(g=o.querySelector(Gc(m)),g||(i=v({src:i,async:!0,type:"module"},r),(r=Ni.get(m))&&ng(i,r),g=o.createElement("script"),$t(g),En(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function kT(i,r,o,c){var m=(m=ye.current)?hf(m):null;if(!m)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=ll(o.href),o=os(m).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=ll(o.href);var g=os(m).hoistableStyles,b=g.get(i);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=m.querySelector(Hc(i)))&&!g._p&&(b.instance=g,b.state.loading=5),Ni.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ni.set(i,o),g||YI(m,i,o,b.state))),r&&c===null)throw Error(s(528,""));return b}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=cl(o),o=os(m).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function ll(i){return'href="'+Fn(i)+'"'}function Hc(i){return'link[rel="stylesheet"]['+i+"]"}function MT(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function YI(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),En(r,"link",o),$t(r),i.head.appendChild(r))}function cl(i){return'[src="'+Fn(i)+'"]'}function Gc(i){return"script[async]"+i}function VT(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+Fn(o.href)+'"]');if(c)return r.instance=c,$t(c),c;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),$t(c),En(c,"style",m),ff(c,o.precedence,i),r.instance=c;case"stylesheet":m=ll(o.href);var g=i.querySelector(Hc(m));if(g)return r.state.loading|=4,r.instance=g,$t(g),g;c=MT(o),(m=Ni.get(m))&&tg(c,m),g=(i.ownerDocument||i).createElement("link"),$t(g);var b=g;return b._p=new Promise(function(A,z){b.onload=A,b.onerror=z}),En(g,"link",c),r.state.loading|=4,ff(g,o.precedence,i),r.instance=g;case"script":return g=cl(o.src),(m=i.querySelector(Gc(g)))?(r.instance=m,$t(m),m):(c=o,(m=Ni.get(g))&&(c=v({},o),ng(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),$t(m),En(m,"link",c),i.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,ff(c,o.precedence,i));return r.instance}function ff(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,b=0;b<c.length;b++){var A=c[b];if(A.dataset.precedence===r)g=A;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function tg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function ng(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var df=null;function PT(i,r,o){if(df===null){var c=new Map,m=df=new Map;m.set(o,c)}else m=df,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[rs]||g[be]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(r)||"";b=i+b;var A=c.get(b);A?A.push(g):c.set(b,[g])}}return c}function OT(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function QI(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function LT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function XI(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=ll(c.href),g=r.querySelector(Hc(m));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=mf.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,$t(g);return}g=r.ownerDocument||r,c=MT(c),(m=Ni.get(m))&&tg(c,m),g=g.createElement("link"),$t(g);var b=g;b._p=new Promise(function(A,z){b.onload=A,b.onerror=z}),En(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=mf.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var ig=0;function WI(i,r){return i.stylesheets&&i.count===0&&gf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&gf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&ig===0&&(ig=62500*DI());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&gf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>ig?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function mf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var pf=null;function gf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,pf=new Map,r.forEach(ZI,i),pf=null,mf.call(i))}function ZI(i,r){if(!(r.state.loading&4)){var o=pf.get(i);if(o)var c=o.get(null);else{o=new Map,pf.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var b=m[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}m=r.instance,b=m.getAttribute("data-precedence"),g=o.get(b)||c,g===c&&o.set(null,m),o.set(b,m),this.count++,c=mf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),r.state.loading|=4}}var Kc={$$typeof:q,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function JI(i,r,o,c,m,g,b,A,z){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function jT(i,r,o,c,m,g,b,A,z,W,se,ce){return i=new JI(i,r,o,b,z,W,se,ce,A),r=1,g===!0&&(r|=24),g=oi(3,null,null,r),i.current=g,g.stateNode=i,r=Om(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},zm(g),i}function UT(i){return i?(i=zo,i):zo}function zT(i,r,o,c,m,g){m=UT(m),c.context===null?c.context=m:c.pendingContext=m,c=Pr(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Or(i,c,r),o!==null&&(Yn(o,i,r),xc(o,i,r))}function BT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function sg(i,r){BT(i,r),(i=i.alternate)&&BT(i,r)}function FT(i){if(i.tag===13||i.tag===31){var r=Ba(i,67108864);r!==null&&Yn(r,i,67108864),sg(i,67108864)}}function qT(i){if(i.tag===13||i.tag===31){var r=fi();r=ss(r);var o=Ba(i,r);o!==null&&Yn(o,i,r),sg(i,r)}}var yf=!0;function eN(i,r,o,c){var m=H.T;H.T=null;var g=ne.p;try{ne.p=2,rg(i,r,o,c)}finally{ne.p=g,H.T=m}}function tN(i,r,o,c){var m=H.T;H.T=null;var g=ne.p;try{ne.p=8,rg(i,r,o,c)}finally{ne.p=g,H.T=m}}function rg(i,r,o,c){if(yf){var m=ag(c);if(m===null)Gp(i,r,c,vf,o),GT(i,c);else if(iN(m,i,r,o,c))c.stopPropagation();else if(GT(i,c),r&4&&-1<nN.indexOf(i)){for(;m!==null;){var g=_i(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=yi(g.pendingLanes);if(b!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var z=1<<31-Et(b);A.entanglements[1]|=z,b&=~z}bs(g),(lt&6)===0&&(Jh=St()+500,zc(0))}}break;case 31:case 13:A=Ba(g,2),A!==null&&Yn(A,g,2),tf(),sg(g,2)}if(g=ag(c),g===null&&Gp(i,r,c,vf,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else Gp(i,r,c,null,o)}}function ag(i){return i=bi(i),og(i)}var vf=null;function og(i){if(vf=null,i=as(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return vf=i,null}function HT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(An()){case Mn:return 2;case Zn:return 8;case Jn:case Ps:return 32;case Os:return 268435456;default:return 32}default:return 32}}var lg=!1,$r=null,Yr=null,Qr=null,$c=new Map,Yc=new Map,Xr=[],nN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function GT(i,r){switch(i){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":$c.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yc.delete(r.pointerId)}}function Qc(i,r,o,c,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},r!==null&&(r=_i(r),r!==null&&FT(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),i)}function iN(i,r,o,c,m){switch(r){case"focusin":return $r=Qc($r,i,r,o,c,m),!0;case"dragenter":return Yr=Qc(Yr,i,r,o,c,m),!0;case"mouseover":return Qr=Qc(Qr,i,r,o,c,m),!0;case"pointerover":var g=m.pointerId;return $c.set(g,Qc($c.get(g)||null,i,r,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,Yc.set(g,Qc(Yc.get(g)||null,i,r,o,c,m)),!0}return!1}function KT(i){var r=as(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,ii(i.priority,function(){qT(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,ii(i.priority,function(){qT(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function _f(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=ag(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);lc=c,o.target.dispatchEvent(c),lc=null}else return r=_i(o),r!==null&&FT(r),i.blockedOn=o,!1;r.shift()}return!0}function $T(i,r,o){_f(i)&&o.delete(r)}function sN(){lg=!1,$r!==null&&_f($r)&&($r=null),Yr!==null&&_f(Yr)&&(Yr=null),Qr!==null&&_f(Qr)&&(Qr=null),$c.forEach($T),Yc.forEach($T)}function bf(i,r){i.blockedOn===r&&(i.blockedOn=null,lg||(lg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,sN)))}var Tf=null;function YT(i){Tf!==i&&(Tf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Tf===i&&(Tf=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],m=i[r+2];if(typeof c!="function"){if(og(c||o)===null)continue;break}var g=_i(o);g!==null&&(i.splice(r,3),r-=3,ap(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function ul(i){function r(z){return bf(z,i)}$r!==null&&bf($r,i),Yr!==null&&bf(Yr,i),Qr!==null&&bf(Qr,i),$c.forEach(r),Yc.forEach(r);for(var o=0;o<Xr.length;o++){var c=Xr[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Xr.length&&(o=Xr[0],o.blockedOn===null);)KT(o),o.blockedOn===null&&Xr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],b=m[Ke]||null;if(typeof g=="function")b||YT(o);else if(b){var A=null;if(g&&g.hasAttribute("formAction")){if(m=g,b=g[Ke]||null)A=b.formAction;else if(og(m)!==null)continue}else A=b.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),YT(o)}}}function QT(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(b){return m=b})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function cg(i){this._internalRoot=i}wf.prototype.render=cg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=fi();zT(o,c,i,r,null,null)},wf.prototype.unmount=cg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;zT(i.current,2,null,i,null,null),tf(),r[mt]=null}};function wf(i){this._internalRoot=i}wf.prototype.unstable_scheduleHydration=function(i){if(i){var r=br();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Xr.length&&r!==0&&r<Xr[o].priority;o++);Xr.splice(o,0,i),o===0&&KT(i)}};var XT=e.version;if(XT!=="19.2.3")throw Error(s(527,XT,"19.2.3"));ne.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=d(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var rN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ef.isDisabled&&Ef.supportsFiber)try{an=Ef.inject(rN),Kt=Ef}catch{}}return Wc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",m=ib,g=sb,b=rb;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=jT(i,1,!1,null,null,o,c,null,m,g,b,QT),i[mt]=r.current,Hp(i),new cg(r)},Wc.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,m="",g=ib,b=sb,A=rb,z=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(z=o.formState)),r=jT(i,1,!0,r,o??null,c,m,z,g,b,A,QT),r.context=UT(null),o=r.current,c=fi(),c=ss(c),m=Pr(c),m.callback=null,Or(o,m,c),o=c,r.current.lanes=o,Us(r,o),bs(r),i[mt]=r.current,Hp(i),new wf(r)},Wc.version="19.2.3",Wc}var aw;function gN(){if(aw)return fg.exports;aw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fg.exports=pN(),fg.exports}var yN=gN();var ow="popstate";function vN(t={}){function e(s,a){let{pathname:l,search:u,hash:f}=s.location;return Zg("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Tu(a)}return bN(e,n,null,t)}function Dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ji(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _N(){return Math.random().toString(36).substring(2,10)}function lw(t,e){return{usr:t.state,key:t.key,idx:e}}function Zg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ul(e):e,state:n,key:e&&e.key||s||_N()}}function Tu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ul(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function bN(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,f="POP",p=null,d=y();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function y(){return(u.state||{idx:null}).idx}function v(){f="POP";let V=y(),j=V==null?null:V-d;d=V,p&&p({action:f,location:P.location,delta:j})}function w(V,j){f="PUSH";let F=Zg(P.location,V,j);d=y()+1;let q=lw(F,d),oe=P.createHref(F);try{u.pushState(q,"",oe)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;a.location.assign(oe)}l&&p&&p({action:f,location:P.location,delta:1})}function C(V,j){f="REPLACE";let F=Zg(P.location,V,j);d=y();let q=lw(F,d),oe=P.createHref(F);u.replaceState(q,"",oe),l&&p&&p({action:f,location:P.location,delta:0})}function D(V){return TN(V)}let P={get action(){return f},get location(){return t(a,u)},listen(V){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(ow,v),p=V,()=>{a.removeEventListener(ow,v),p=null}},createHref(V){return e(a,V)},createURL:D,encodeLocation(V){let j=D(V);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:w,replace:C,go(V){return u.go(V)}};return P}function TN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Tu(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Sx(t,e,n="/"){return wN(t,e,n,!1)}function wN(t,e,n,s){let a=typeof e=="string"?Ul(e):e,l=dr(a.pathname||"/",n);if(l==null)return null;let u=Ax(t);EN(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let d=VN(l);f=kN(u[p],d,s)}return f}function Ax(t,e=[],n=[],s="",a=!1){let l=(u,f,p=a,d)=>{let y={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&p)return;Dt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let v=cr([s,y.relativePath]),w=n.concat(y);u.children&&u.children.length>0&&(Dt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Ax(u.children,e,w,v,p)),!(u.path==null&&!u.index)&&e.push({path:v,score:NN(v,u.index),routesMeta:w})};return t.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let p of Cx(u.path))l(u,f,!0,p)}),e}function Cx(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=Cx(s.join("/")),f=[];return f.push(...u.map(p=>p===""?l:[l,p].join("/"))),a&&f.push(...u),f.map(p=>t.startsWith("/")&&p===""?"/":p)}function EN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:DN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var xN=/^:[\w-]+$/,SN=3,AN=2,CN=1,RN=10,IN=-2,cw=t=>t==="*";function NN(t,e){let n=t.split("/"),s=n.length;return n.some(cw)&&(s+=IN),e&&(s+=AN),n.filter(a=>!cw(a)).reduce((a,l)=>a+(xN.test(l)?SN:l===""?CN:RN),s)}function DN(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function kN(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let f=0;f<s.length;++f){let p=s[f],d=f===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=td({path:p.relativePath,caseSensitive:p.caseSensitive,end:d},y),w=p.route;if(!v&&d&&n&&!s[s.length-1].route.index&&(v=td({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:cr([l,v.pathname]),pathnameBase:jN(cr([l,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(l=cr([l,v.pathnameBase]))}return u}function td(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=MN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((d,{paramName:y,isOptional:v},w)=>{if(y==="*"){let D=f[w]||"";u=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const C=f[w];return v&&!C?d[y]=void 0:d[y]=(C||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:u,pattern:t}}function MN(t,e=!1,n=!0){ji(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function VN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ji(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function dr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var Rx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PN=t=>Rx.test(t);function ON(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Ul(t):t,l;if(n)if(PN(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),ji(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=uw(n.substring(1),"/"):l=uw(n,e)}else l=e;return{pathname:l,search:UN(s),hash:zN(a)}}function uw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function gg(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wy(t){let e=LN(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Zy(t,e,n,s=!1){let a;typeof t=="string"?a=Ul(t):(a={...t},Dt(!a.pathname||!a.pathname.includes("?"),gg("?","pathname","search",a)),Dt(!a.pathname||!a.pathname.includes("#"),gg("#","pathname","hash",a)),Dt(!a.search||!a.search.includes("#"),gg("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=n;else{let v=e.length-1;if(!s&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),v-=1;a.pathname=w.join("/")}f=v>=0?e[v]:"/"}let p=ON(a,f),d=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(d||y)&&(p.pathname+="/"),p}var cr=t=>t.join("/").replace(/\/\/+/g,"/"),jN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),UN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,zN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,BN=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function FN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function qN(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Ix=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Nx(t,e){let n=t;if(typeof n!="string"||!Rx.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(Ix)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),f=dr(u.pathname,e);u.origin===l.origin&&f!=null?n=f+u.search+u.hash:a=!0}catch{ji(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Dx=["POST","PUT","PATCH","DELETE"];new Set(Dx);var HN=["GET",...Dx];new Set(HN);var zl=M.createContext(null);zl.displayName="DataRouter";var Ud=M.createContext(null);Ud.displayName="DataRouterState";var GN=M.createContext(!1),kx=M.createContext({isTransitioning:!1});kx.displayName="ViewTransition";var KN=M.createContext(new Map);KN.displayName="Fetchers";var $N=M.createContext(null);$N.displayName="Await";var pi=M.createContext(null);pi.displayName="Navigation";var Vu=M.createContext(null);Vu.displayName="Location";var ns=M.createContext({outlet:null,matches:[],isDataRoute:!1});ns.displayName="Route";var Jy=M.createContext(null);Jy.displayName="RouteError";var Mx="REACT_ROUTER_ERROR",YN="REDIRECT",QN="ROUTE_ERROR_RESPONSE";function XN(t){if(t.startsWith(`${Mx}:${YN}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function WN(t){if(t.startsWith(`${Mx}:${QN}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new BN(e.status,e.statusText,e.data)}catch{}}function ZN(t,{relative:e}={}){Dt(Bl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=M.useContext(pi),{hash:a,pathname:l,search:u}=Pu(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:cr([n,l])),s.createHref({pathname:f,search:u,hash:a})}function Bl(){return M.useContext(Vu)!=null}function ba(){return Dt(Bl(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Vu).location}var Vx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Px(t){M.useContext(pi).static||M.useLayoutEffect(t)}function zd(){let{isDataRoute:t}=M.useContext(ns);return t?fD():JN()}function JN(){Dt(Bl(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(zl),{basename:e,navigator:n}=M.useContext(pi),{matches:s}=M.useContext(ns),{pathname:a}=ba(),l=JSON.stringify(Wy(s)),u=M.useRef(!1);return Px(()=>{u.current=!0}),M.useCallback((p,d={})=>{if(ji(u.current,Vx),!u.current)return;if(typeof p=="number"){n.go(p);return}let y=Zy(p,JSON.parse(l),a,d.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:cr([e,y.pathname])),(d.replace?n.replace:n.push)(y,d.state,d)},[e,n,l,a,t])}M.createContext(null);function eD(){let{matches:t}=M.useContext(ns),e=t[t.length-1];return e?e.params:{}}function Pu(t,{relative:e}={}){let{matches:n}=M.useContext(ns),{pathname:s}=ba(),a=JSON.stringify(Wy(n));return M.useMemo(()=>Zy(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function tD(t,e){return Ox(t,e)}function Ox(t,e,n,s,a){Dt(Bl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=M.useContext(pi),{matches:u}=M.useContext(ns),f=u[u.length-1],p=f?f.params:{},d=f?f.pathname:"/",y=f?f.pathnameBase:"/",v=f&&f.route;{let F=v&&v.path||"";jx(d,!v||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let w=ba(),C;if(e){let F=typeof e=="string"?Ul(e):e;Dt(y==="/"||F.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${F.pathname}" was given in the \`location\` prop.`),C=F}else C=w;let D=C.pathname||"/",P=D;if(y!=="/"){let F=y.replace(/^\//,"").split("/");P="/"+D.replace(/^\//,"").split("/").slice(F.length).join("/")}let V=Sx(t,{pathname:P});ji(v||V!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),ji(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=aD(V&&V.map(F=>Object.assign({},F,{params:Object.assign({},p,F.params),pathname:cr([y,l.encodeLocation?l.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?y:cr([y,l.encodeLocation?l.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),u,n,s,a);return e&&j?M.createElement(Vu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},j):j}function nD(){let t=hD(),e=FN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:l},"ErrorBoundary")," or"," ",M.createElement("code",{style:l},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:a},n):null,u)}var iD=M.createElement(nD,null),Lx=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=WN(t.digest);n&&(t=n)}let e=t!==void 0?M.createElement(ns.Provider,{value:this.props.routeContext},M.createElement(Jy.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?M.createElement(sD,{error:t},e):e}};Lx.contextType=GN;var yg=new WeakMap;function sD({children:t,error:e}){let{basename:n}=M.useContext(pi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=XN(e.digest);if(s){let a=yg.get(e);if(a)throw a;let l=Nx(s.location,n);if(Ix&&!yg.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw yg.set(e,u),u}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function rD({routeContext:t,match:e,children:n}){let s=M.useContext(zl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(ns.Provider,{value:t},n)}function aD(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let y=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);Dt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,p=-1;if(n)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=y),v.route.id){let{loaderData:w,errors:C}=n,D=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!C||C[v.route.id]===void 0);if(v.route.lazy||D){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let d=n&&s?(y,v)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:qN(n.matches),errorInfo:v})}:void 0;return l.reduceRight((y,v,w)=>{let C,D=!1,P=null,V=null;n&&(C=u&&v.route.id?u[v.route.id]:void 0,P=v.route.errorElement||iD,f&&(p<0&&w===0?(jx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,V=null):p===w&&(D=!0,V=v.route.hydrateFallbackElement||null)));let j=e.concat(l.slice(0,w+1)),F=()=>{let q;return C?q=P:D?q=V:v.route.Component?q=M.createElement(v.route.Component,null):v.route.element?q=v.route.element:q=y,M.createElement(rD,{match:v,routeContext:{outlet:y,matches:j,isDataRoute:n!=null},children:q})};return n&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?M.createElement(Lx,{location:n.location,revalidation:n.revalidation,component:P,error:C,children:F(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:d}):F()},null)}function ev(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oD(t){let e=M.useContext(zl);return Dt(e,ev(t)),e}function lD(t){let e=M.useContext(Ud);return Dt(e,ev(t)),e}function cD(t){let e=M.useContext(ns);return Dt(e,ev(t)),e}function tv(t){let e=cD(t),n=e.matches[e.matches.length-1];return Dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function uD(){return tv("useRouteId")}function hD(){let t=M.useContext(Jy),e=lD("useRouteError"),n=tv("useRouteError");return t!==void 0?t:e.errors?.[n]}function fD(){let{router:t}=oD("useNavigate"),e=tv("useNavigate"),n=M.useRef(!1);return Px(()=>{n.current=!0}),M.useCallback(async(a,l={})=>{ji(n.current,Vx),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var hw={};function jx(t,e,n){!e&&!hw[t]&&(hw[t]=!0,ji(!1,n))}M.memo(dD);function dD({routes:t,future:e,state:n,onError:s}){return Ox(t,void 0,n,s,e)}function fw({to:t,replace:e,state:n,relative:s}){Dt(Bl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=M.useContext(pi);ji(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=M.useContext(ns),{pathname:u}=ba(),f=zd(),p=Zy(t,Wy(l),u,s==="path"),d=JSON.stringify(p);return M.useEffect(()=>{f(JSON.parse(d),{replace:e,state:n,relative:s})},[f,d,s,e,n]),null}function fl(t){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mD({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){Dt(!Bl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),p=M.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[f,a,l,u]);typeof n=="string"&&(n=Ul(n));let{pathname:d="/",search:y="",hash:v="",state:w=null,key:C="default"}=n,D=M.useMemo(()=>{let P=dr(d,f);return P==null?null:{location:{pathname:P,search:y,hash:v,state:w,key:C},navigationType:s}},[f,d,y,v,w,C,s]);return ji(D!=null,`<Router basename="${f}"> is not able to match the URL "${d}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:M.createElement(pi.Provider,{value:p},M.createElement(Vu.Provider,{children:e,value:D}))}function pD({children:t,location:e}){return tD(Jg(t),e)}function Jg(t,e=[]){let n=[];return M.Children.forEach(t,(s,a)=>{if(!M.isValidElement(s))return;let l=[...e,a];if(s.type===M.Fragment){n.push.apply(n,Jg(s.props.children,l));return}Dt(s.type===fl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Jg(s.props.children,l)),n.push(u)}),n}var jf="get",Uf="application/x-www-form-urlencoded";function Bd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function gD(t){return Bd(t)&&t.tagName.toLowerCase()==="button"}function yD(t){return Bd(t)&&t.tagName.toLowerCase()==="form"}function vD(t){return Bd(t)&&t.tagName.toLowerCase()==="input"}function _D(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bD(t,e){return t.button===0&&(!e||e==="_self")&&!_D(t)}var xf=null;function TD(){if(xf===null)try{new FormData(document.createElement("form"),0),xf=!1}catch{xf=!0}return xf}var wD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vg(t){return t!=null&&!wD.has(t)?(ji(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uf}"`),null):t}function ED(t,e){let n,s,a,l,u;if(yD(t)){let f=t.getAttribute("action");s=f?dr(f,e):null,n=t.getAttribute("method")||jf,a=vg(t.getAttribute("enctype"))||Uf,l=new FormData(t)}else if(gD(t)||vD(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||f.getAttribute("action");if(s=p?dr(p,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||jf,a=vg(t.getAttribute("formenctype"))||vg(f.getAttribute("enctype"))||Uf,l=new FormData(f,t),!TD()){let{name:d,type:y,value:v}=t;if(y==="image"){let w=d?`${d}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else d&&l.append(d,v)}}else{if(Bd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jf,s=null,a=Uf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xD(t,e,n,s){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:e&&dr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function SD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function CD(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await SD(l,n);return u.links?u.links():[]}return[]}));return DD(s.flat(1).filter(AD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function dw(t,e,n,s,a,l){let u=(p,d)=>n[d]?p.route.id!==n[d].route.id:!0,f=(p,d)=>n[d].pathname!==p.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,d)=>u(p,d)||f(p,d)):l==="data"?e.filter((p,d)=>{let y=s.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(u(p,d)||f(p,d))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function RD(t,e,{includeHydrateFallback:n}={}){return ID(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function ID(t){return[...new Set(t)]}function ND(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function DD(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(ND(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function Ux(){let t=M.useContext(zl);return nv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function kD(){let t=M.useContext(Ud);return nv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var iv=M.createContext(void 0);iv.displayName="FrameworkContext";function zx(){let t=M.useContext(iv);return nv(t,"You must render this element inside a <HydratedRouter> element"),t}function MD(t,e){let n=M.useContext(iv),[s,a]=M.useState(!1),[l,u]=M.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:d,onMouseLeave:y,onTouchStart:v}=e,w=M.useRef(null);M.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let P=j=>{j.forEach(F=>{u(F.isIntersecting)})},V=new IntersectionObserver(P,{threshold:.5});return w.current&&V.observe(w.current),()=>{V.disconnect()}}},[t]),M.useEffect(()=>{if(s){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[s]);let C=()=>{a(!0)},D=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:Zc(f,C),onBlur:Zc(p,D),onMouseEnter:Zc(d,C),onMouseLeave:Zc(y,D),onTouchStart:Zc(v,C)}]:[!1,w,{}]}function Zc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function VD({page:t,...e}){let{router:n}=Ux(),s=M.useMemo(()=>Sx(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?M.createElement(OD,{page:t,matches:s,...e}):null}function PD(t){let{manifest:e,routeModules:n}=zx(),[s,a]=M.useState([]);return M.useEffect(()=>{let l=!1;return CD(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function OD({page:t,matches:e,...n}){let s=ba(),{future:a,manifest:l,routeModules:u}=zx(),{basename:f}=Ux(),{loaderData:p,matches:d}=kD(),y=M.useMemo(()=>dw(t,e,d,l,s,"data"),[t,e,d,l,s]),v=M.useMemo(()=>dw(t,e,d,l,s,"assets"),[t,e,d,l,s]),w=M.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let P=new Set,V=!1;if(e.forEach(F=>{let q=l.routes[F.route.id];!q||!q.hasLoader||(!y.some(oe=>oe.route.id===F.route.id)&&F.route.id in p&&u[F.route.id]?.shouldRevalidate||q.hasClientLoader?V=!0:P.add(F.route.id))}),P.size===0)return[];let j=xD(t,f,a.unstable_trailingSlashAwareDataRequests,"data");return V&&P.size>0&&j.searchParams.set("_routes",e.filter(F=>P.has(F.route.id)).map(F=>F.route.id).join(",")),[j.pathname+j.search]},[f,a.unstable_trailingSlashAwareDataRequests,p,s,l,y,e,t,u]),C=M.useMemo(()=>RD(v,l),[v,l]),D=PD(v);return M.createElement(M.Fragment,null,w.map(P=>M.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),C.map(P=>M.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),D.map(({key:P,link:V})=>M.createElement("link",{key:P,nonce:n.nonce,...V})))}function LD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var jD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jD&&(window.__reactRouterVersion="7.12.0")}catch{}function UD({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=M.useRef();a.current==null&&(a.current=vN({window:s,v5Compat:!0}));let l=a.current,[u,f]=M.useState({action:l.action,location:l.location}),p=M.useCallback(d=>{n===!1?f(d):M.startTransition(()=>f(d))},[n]);return M.useLayoutEffect(()=>l.listen(p),[l,p]),M.createElement(mD,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var Bx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fx=M.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:f,target:p,to:d,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:w,...C},D){let{basename:P,unstable_useTransitions:V}=M.useContext(pi),j=typeof d=="string"&&Bx.test(d),F=Nx(d,P);d=F.to;let q=ZN(d,{relative:a}),[oe,ae,de]=MD(s,C),k=qD(d,{replace:u,state:f,target:p,preventScrollReset:y,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:w,unstable_useTransitions:V});function S(O){e&&e(O),O.defaultPrevented||k(O)}let N=M.createElement("a",{...C,...de,href:F.absoluteURL||q,onClick:F.isExternal||l?e:S,ref:LD(D,ae),target:p,"data-discover":!j&&n==="render"?"true":void 0});return oe&&!j?M.createElement(M.Fragment,null,N,M.createElement(VD,{page:q})):N});Fx.displayName="Link";var zD=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:f,children:p,...d},y){let v=Pu(u,{relative:d.relative}),w=ba(),C=M.useContext(Ud),{navigator:D,basename:P}=M.useContext(pi),V=C!=null&&YD(v)&&f===!0,j=D.encodeLocation?D.encodeLocation(v).pathname:v.pathname,F=w.pathname,q=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(F=F.toLowerCase(),q=q?q.toLowerCase():null,j=j.toLowerCase()),q&&P&&(q=dr(q,P)||q);const oe=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let ae=F===j||!a&&F.startsWith(j)&&F.charAt(oe)==="/",de=q!=null&&(q===j||!a&&q.startsWith(j)&&q.charAt(j.length)==="/"),k={isActive:ae,isPending:de,isTransitioning:V},S=ae?e:void 0,N;typeof s=="function"?N=s(k):N=[s,ae?"active":null,de?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(k):l;return M.createElement(Fx,{...d,"aria-current":S,className:N,ref:y,style:O,to:u,viewTransition:f},typeof p=="function"?p(k):p)});zD.displayName="NavLink";var BD=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=jf,action:f,onSubmit:p,relative:d,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:w,...C},D)=>{let{unstable_useTransitions:P}=M.useContext(pi),V=KD(),j=$D(f,{relative:d}),F=u.toLowerCase()==="get"?"get":"post",q=typeof f=="string"&&Bx.test(f),oe=ae=>{if(p&&p(ae),ae.defaultPrevented)return;ae.preventDefault();let de=ae.nativeEvent.submitter,k=de?.getAttribute("formmethod")||u,S=()=>V(de||ae.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:a,state:l,relative:d,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:w});P&&n!==!1?M.startTransition(()=>S()):S()};return M.createElement("form",{ref:D,method:F,action:j,onSubmit:s?p:oe,...C,"data-discover":!q&&t==="render"?"true":void 0})});BD.displayName="Form";function FD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qx(t){let e=M.useContext(zl);return Dt(e,FD(t)),e}function qD(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f,unstable_useTransitions:p}={}){let d=zd(),y=ba(),v=Pu(t,{relative:l});return M.useCallback(w=>{if(bD(w,e)){w.preventDefault();let C=n!==void 0?n:Tu(y)===Tu(v),D=()=>d(t,{replace:C,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f});p?M.startTransition(()=>D()):D()}},[y,d,v,n,s,e,t,a,l,u,f,p])}var HD=0,GD=()=>`__${String(++HD)}__`;function KD(){let{router:t}=qx("useSubmit"),{basename:e}=M.useContext(pi),n=uD(),s=t.fetch,a=t.navigate;return M.useCallback(async(l,u={})=>{let{action:f,method:p,encType:d,formData:y,body:v}=ED(l,e);if(u.navigate===!1){let w=u.fetcherKey||GD();await s(w,n,u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||p,formEncType:u.encType||d,flushSync:u.flushSync})}else await a(u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||p,formEncType:u.encType||d,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,a,e,n])}function $D(t,{relative:e}={}){let{basename:n}=M.useContext(pi),s=M.useContext(ns);Dt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Pu(t||".",{relative:e})},u=ba();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(y=>y==="")){f.delete("index"),p.filter(v=>v).forEach(v=>f.append("index",v));let y=f.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:cr([n,l.pathname])),Tu(l)}function YD(t,{relative:e}={}){let n=M.useContext(kx);Dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=qx("useViewTransitionState"),a=Pu(t,{relative:e});if(!n.isTransitioning)return!1;let l=dr(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=dr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return td(a.pathname,u)!=null||td(a.pathname,l)!=null}const QD="modulepreload",XD=function(t){return"/"+t},mw={},ey=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){let p=function(d){return Promise.all(d.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");a=p(n.map(d=>{if(d=XD(d),d in mw)return;mw[d]=!0;const y=d.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${v}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":QD,y||(w.as="script"),w.crossOrigin="",w.href=d,f&&w.setAttribute("nonce",f),document.head.appendChild(w),y)return new Promise((C,D)=>{w.addEventListener("load",C),w.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${d}`)))})}))}function l(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return a.then(u=>{for(const f of u||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})},WD=()=>{};var pw={};const Hx=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},ZD=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],f=t[n++],p=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Gx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,f=u?t[a+1]:0,p=a+2<t.length,d=p?t[a+2]:0,y=l>>2,v=(l&3)<<4|f>>4;let w=(f&15)<<2|d>>6,C=d&63;p||(C=64,u||(w=64)),s.push(n[y],n[v],n[w],n[C])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Hx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ZD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const d=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||d==null||v==null)throw new JD;const w=l<<2|f>>4;if(s.push(w),d!==64){const C=f<<4&240|d>>2;if(s.push(C),v!==64){const D=d<<6&192|v;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class JD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ek=function(t){const e=Hx(t);return Gx.encodeByteArray(e,!0)},nd=function(t){return ek(t).replace(/\./g,"")},Kx=function(t){try{return Gx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const nk=()=>tk().__FIREBASE_DEFAULTS__,ik=()=>{if(typeof process>"u"||typeof pw>"u")return;const t=pw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Kx(t[1]);return e&&JSON.parse(e)},Fd=()=>{try{return WD()||nk()||ik()||sk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$x=t=>Fd()?.emulatorHosts?.[t],Yx=t=>{const e=$x(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Qx=()=>Fd()?.config,Xx=t=>Fd()?.[`_${t}`];class rk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function _o(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sv(t){return(await fetch(t,{credentials:"include"})).ok}function Wx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[nd(JSON.stringify(n)),nd(JSON.stringify(u)),""].join(".")}const lu={};function ak(){const t={prod:[],emulator:[]};for(const e of Object.keys(lu))lu[e]?t.emulator.push(e):t.prod.push(e);return t}function ok(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let gw=!1;function rv(t,e){if(typeof window>"u"||typeof document>"u"||!_o(window.location.host)||lu[t]===e||lu[t]||gw)return;lu[t]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",l=ak().prod.length>0;function u(){const w=document.getElementById(s);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,C){w.setAttribute("width","24"),w.setAttribute("id",C),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function d(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{gw=!0,u()},w}function y(w,C){w.setAttribute("id",C),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=ok(s),C=n("text"),D=document.getElementById(C)||document.createElement("span"),P=n("learnmore"),V=document.getElementById(P)||document.createElement("a"),j=n("preprendIcon"),F=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const q=w.element;f(q),y(V,P);const oe=d();p(F,j),q.append(F,D,V,oe),document.body.appendChild(q)}l?(D.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function ck(){const t=Fd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dk(){const t=kn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function mk(){return!ck()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pk(){try{return typeof indexedDB=="object"}catch{return!1}}function gk(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const yk="FirebaseError";class Ms extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=yk,Object.setPrototypeOf(this,Ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ou.prototype.create)}}class Ou{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?vk(l,s):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new Ms(a,f,s)}}function vk(t,e){return t.replace(_k,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const _k=/\{\$([^}]+)}/g;function bk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fo(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(yw(l)&&yw(u)){if(!fo(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function yw(t){return t!==null&&typeof t=="object"}function Lu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Tk(t,e){const n=new wk(t,e);return n.subscribe.bind(n)}class wk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Ek(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=_g),a.error===void 0&&(a.error=_g),a.complete===void 0&&(a.complete=_g);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ek(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _g(){}function hn(t){return t&&t._delegate?t._delegate:t}class ha{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const io="[DEFAULT]";class xk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new rk;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ak(e))try{this.getOrInitializeService({instanceIdentifier:io})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=io){return this.instances.has(e)}getOptions(e=io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Sk(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=io){return this.component?this.component.multipleInstances?e:io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Sk(t){return t===io?void 0:t}function Ak(t){return t.instantiationMode==="EAGER"}class Ck{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const Rk={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},Ik=Ze.INFO,Nk={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},Dk=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=Nk[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class av{constructor(e){this.name=e,this._logLevel=Ik,this._logHandler=Dk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Rk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const kk=(t,e)=>e.some(n=>t instanceof n);let vw,_w;function Mk(){return vw||(vw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vk(){return _w||(_w=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zx=new WeakMap,ty=new WeakMap,Jx=new WeakMap,bg=new WeakMap,ov=new WeakMap;function Pk(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(aa(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&Zx.set(n,t)}).catch(()=>{}),ov.set(e,t),e}function Ok(t){if(ty.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});ty.set(t,e)}let ny={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ty.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Jx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return aa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Lk(t){ny=t(ny)}function jk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Tg(this),e,...n);return Jx.set(s,e.sort?e.sort():[e]),aa(s)}:Vk().includes(t)?function(...e){return t.apply(Tg(this),e),aa(Zx.get(this))}:function(...e){return aa(t.apply(Tg(this),e))}}function Uk(t){return typeof t=="function"?jk(t):(t instanceof IDBTransaction&&Ok(t),kk(t,Mk())?new Proxy(t,ny):t)}function aa(t){if(t instanceof IDBRequest)return Pk(t);if(bg.has(t))return bg.get(t);const e=Uk(t);return e!==t&&(bg.set(t,e),ov.set(e,t)),e}const Tg=t=>ov.get(t);function zk(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),f=aa(u);return s&&u.addEventListener("upgradeneeded",p=>{s(aa(u.result),p.oldVersion,p.newVersion,aa(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),f}const Bk=["get","getKey","getAll","getAllKeys","count"],Fk=["put","add","delete","clear"],wg=new Map;function bw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wg.get(e))return wg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=Fk.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||Bk.includes(n)))return;const l=async function(u,...f){const p=this.transaction(u,a?"readwrite":"readonly");let d=p.store;return s&&(d=d.index(f.shift())),(await Promise.all([d[n](...f),a&&p.done]))[0]};return wg.set(e,l),l}Lk(t=>({...t,get:(e,n,s)=>bw(e,n)||t.get(e,n,s),has:(e,n)=>!!bw(e,n)||t.has(e,n)}));class qk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Hk(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Hk(t){return t.getComponent()?.type==="VERSION"}const iy="@firebase/app",Tw="0.14.7";const mr=new av("@firebase/app"),Gk="@firebase/app-compat",Kk="@firebase/analytics-compat",$k="@firebase/analytics",Yk="@firebase/app-check-compat",Qk="@firebase/app-check",Xk="@firebase/auth",Wk="@firebase/auth-compat",Zk="@firebase/database",Jk="@firebase/data-connect",eM="@firebase/database-compat",tM="@firebase/functions",nM="@firebase/functions-compat",iM="@firebase/installations",sM="@firebase/installations-compat",rM="@firebase/messaging",aM="@firebase/messaging-compat",oM="@firebase/performance",lM="@firebase/performance-compat",cM="@firebase/remote-config",uM="@firebase/remote-config-compat",hM="@firebase/storage",fM="@firebase/storage-compat",dM="@firebase/firestore",mM="@firebase/ai",pM="@firebase/firestore-compat",gM="firebase",yM="12.8.0";const sy="[DEFAULT]",vM={[iy]:"fire-core",[Gk]:"fire-core-compat",[$k]:"fire-analytics",[Kk]:"fire-analytics-compat",[Qk]:"fire-app-check",[Yk]:"fire-app-check-compat",[Xk]:"fire-auth",[Wk]:"fire-auth-compat",[Zk]:"fire-rtdb",[Jk]:"fire-data-connect",[eM]:"fire-rtdb-compat",[tM]:"fire-fn",[nM]:"fire-fn-compat",[iM]:"fire-iid",[sM]:"fire-iid-compat",[rM]:"fire-fcm",[aM]:"fire-fcm-compat",[oM]:"fire-perf",[lM]:"fire-perf-compat",[cM]:"fire-rc",[uM]:"fire-rc-compat",[hM]:"fire-gcs",[fM]:"fire-gcs-compat",[dM]:"fire-fst",[pM]:"fire-fst-compat",[mM]:"fire-vertex","fire-js":"fire-js",[gM]:"fire-js-all"};const id=new Map,_M=new Map,ry=new Map;function ww(t,e){try{t.container.addComponent(e)}catch(n){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mo(t){const e=t.name;if(ry.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;ry.set(e,t);for(const n of id.values())ww(n,t);for(const n of _M.values())ww(n,t);return!0}function qd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mi(t){return t==null?!1:t.settings!==void 0}const bM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oa=new Ou("app","Firebase",bM);class TM{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oa.create("app-deleted",{appName:this._name})}}const bo=yM;function eS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:sy,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw oa.create("bad-app-name",{appName:String(a)});if(n||(n=Qx()),!n)throw oa.create("no-options");const l=id.get(a);if(l){if(fo(n,l.options)&&fo(s,l.config))return l;throw oa.create("duplicate-app",{appName:a})}const u=new Ck(a);for(const p of ry.values())u.addComponent(p);const f=new TM(n,s,u);return id.set(a,f),f}function lv(t=sy){const e=id.get(t);if(!e&&t===sy&&Qx())return eS();if(!e)throw oa.create("no-app",{appName:t});return e}function ws(t,e,n){let s=vM[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(u.join(" "));return}mo(new ha(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const wM="firebase-heartbeat-database",EM=1,wu="firebase-heartbeat-store";let Eg=null;function tS(){return Eg||(Eg=zk(wM,EM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wu)}catch(n){console.warn(n)}}}}).catch(t=>{throw oa.create("idb-open",{originalErrorMessage:t.message})})),Eg}async function xM(t){try{const n=(await tS()).transaction(wu),s=await n.objectStore(wu).get(nS(t));return await n.done,s}catch(e){if(e instanceof Ms)mr.warn(e.message);else{const n=oa.create("idb-get",{originalErrorMessage:e?.message});mr.warn(n.message)}}}async function Ew(t,e){try{const s=(await tS()).transaction(wu,"readwrite");await s.objectStore(wu).put(e,nS(t)),await s.done}catch(n){if(n instanceof Ms)mr.warn(n.message);else{const s=oa.create("idb-set",{originalErrorMessage:n?.message});mr.warn(s.message)}}}function nS(t){return`${t.name}!${t.options.appId}`}const SM=1024,AM=30;class CM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IM(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=xw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>AM){const a=NM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){mr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=xw(),{heartbeatsToSend:n,unsentEntries:s}=RM(this._heartbeatsCache.heartbeats),a=nd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return mr.warn(e),""}}}function xw(){return new Date().toISOString().substring(0,10)}function RM(t,e=SM){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Sw(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Sw(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class IM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pk()?gk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Ew(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Ew(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Sw(t){return nd(JSON.stringify({version:2,heartbeats:t})).length}function NM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function DM(t){mo(new ha("platform-logger",e=>new qk(e),"PRIVATE")),mo(new ha("heartbeat",e=>new CM(e),"PRIVATE")),ws(iy,Tw,t),ws(iy,Tw,"esm2020"),ws("fire-js","")}DM("");var kM="firebase",MM="12.8.0";ws(kM,MM,"app");function iS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VM=iS,sS=new Ou("auth","Firebase",iS());const sd=new av("@firebase/auth");function PM(t,...e){sd.logLevel<=Ze.WARN&&sd.warn(`Auth (${bo}): ${t}`,...e)}function zf(t,...e){sd.logLevel<=Ze.ERROR&&sd.error(`Auth (${bo}): ${t}`,...e)}function Rs(t,...e){throw uv(t,...e)}function Ji(t,...e){return uv(t,...e)}function cv(t,e,n){const s={...VM(),[e]:n};return new Ou("auth","Firebase",s).create(e,{appName:t.name})}function co(t){return cv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function OM(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Rs(t,"argument-error"),cv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function uv(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return sS.create(t,...e)}function Pe(t,e,...n){if(!t)throw uv(e,...n)}function or(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zf(e),new Error(e)}function pr(t,e){t||or(e)}function ay(){return typeof self<"u"&&self.location?.href||""}function LM(){return Aw()==="http:"||Aw()==="https:"}function Aw(){return typeof self<"u"&&self.location?.protocol||null}function jM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LM()||hk()||"connection"in navigator)?navigator.onLine:!0}function UM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class ju{constructor(e,n){this.shortDelay=e,this.longDelay=n,pr(n>e,"Short delay should be less than long delay!"),this.isMobile=lk()||fk()}get(){return jM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hv(t,e){pr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class rS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const BM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FM=new ju(3e4,6e4);function fv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Fl(t,e,n,s,a={}){return aS(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const f=Lu({key:t.config.apiKey,...u}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:p,...l};return uk()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&_o(t.emulatorConfig.host)&&(d.credentials="include"),rS.fetch()(await oS(t,t.config.apiHost,n,f),d)})}async function aS(t,e,n){t._canInitEmulator=!1;const s={...zM,...e};try{const a=new HM(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Sf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[p,d]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sf(t,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Sf(t,"email-already-in-use",u);if(p==="USER_DISABLED")throw Sf(t,"user-disabled",u);const y=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw cv(t,y,d);Rs(t,y)}}catch(a){if(a instanceof Ms)throw a;Rs(t,"network-request-failed",{message:String(a)})}}async function qM(t,e,n,s,a={}){const l=await Fl(t,e,n,s,a);return"mfaPendingCredential"in l&&Rs(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function oS(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?hv(t.config,a):`${t.config.apiScheme}://${a}`;return BM.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class HM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ji(this.auth,"network-request-failed")),FM.get())})}}function Sf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Ji(t,e,s);return a.customData._tokenResponse=n,a}async function GM(t,e){return Fl(t,"POST","/v1/accounts:delete",e)}async function rd(t,e){return Fl(t,"POST","/v1/accounts:lookup",e)}function cu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KM(t,e=!1){const n=hn(t),s=await n.getIdToken(e),a=dv(s);Pe(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:cu(xg(a.auth_time)),issuedAtTime:cu(xg(a.iat)),expirationTime:cu(xg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function xg(t){return Number(t)*1e3}function dv(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return zf("JWT malformed, contained fewer than 3 sections"),null;try{const a=Kx(n);return a?JSON.parse(a):(zf("Failed to decode base64 JWT payload"),null)}catch(a){return zf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Cw(t){const e=dv(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Eu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ms&&$M(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function $M({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class YM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class oy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ad(t){const e=t.auth,n=await t.getIdToken(),s=await Eu(t,rd(e,{idToken:n}));Pe(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?lS(a.providerUserInfo):[],u=XM(t.providerData,l),f=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!u?.length,d=f?p:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new oy(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(t,y)}async function QM(t){const e=hn(t);await ad(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XM(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function lS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function WM(t,e){const n=await aS(t,{},async()=>{const s=Lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await oS(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:s};return t.emulatorConfig&&_o(t.emulatorConfig.host)&&(p.credentials="include"),rS.fetch()(u,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ZM(t,e){return Fl(t,"POST","/v2/accounts:revokeToken",fv(t,e))}class xl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Cw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=Cw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await WM(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new xl;return s&&(Pe(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Pe(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Pe(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xl,this.toJSON())}_performRefresh(){return or("not implemented")}}function Zr(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wi{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new YM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new oy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Eu(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return KM(this,e)}reload(){return QM(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ad(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mi(this.auth.app))return Promise.reject(co(this.auth));const e=await this.getIdToken();return await Eu(this,GM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,f=n.tenantId??void 0,p=n._redirectEventId??void 0,d=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:v,emailVerified:w,isAnonymous:C,providerData:D,stsTokenManager:P}=n;Pe(v&&P,e,"internal-error");const V=xl.fromJSON(this.name,P);Pe(typeof v=="string",e,"internal-error"),Zr(s,e.name),Zr(a,e.name),Pe(typeof w=="boolean",e,"internal-error"),Pe(typeof C=="boolean",e,"internal-error"),Zr(l,e.name),Zr(u,e.name),Zr(f,e.name),Zr(p,e.name),Zr(d,e.name),Zr(y,e.name);const j=new Wi({uid:v,auth:e,email:a,emailVerified:w,displayName:s,isAnonymous:C,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:V,createdAt:d,lastLoginAt:y});return D&&Array.isArray(D)&&(j.providerData=D.map(F=>({...F}))),p&&(j._redirectEventId=p),j}static async _fromIdTokenResponse(e,n,s=!1){const a=new xl;a.updateFromServerResponse(n);const l=new Wi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await ad(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Pe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?lS(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,f=new xl;f.updateFromIdToken(s);const p=new Wi({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new oy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,d),p}}const Rw=new Map;function lr(t){pr(t instanceof Function,"Expected a class definition");let e=Rw.get(t);return e?(pr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Rw.set(t,e),e)}class cS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cS.type="NONE";const Iw=cS;function Bf(t,e,n){return`firebase:${t}:${e}:${n}`}class Sl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Bf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Bf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await rd(this.auth,{idToken:e}).catch(()=>{});return n?Wi._fromGetAccountInfoResponse(this.auth,n,e):null}return Wi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Sl(lr(Iw),e,s);const a=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let l=a[0]||lr(Iw);const u=Bf(s,e.config.apiKey,e.name);let f=null;for(const d of n)try{const y=await d._get(u);if(y){let v;if(typeof y=="string"){const w=await rd(e,{idToken:y}).catch(()=>{});if(!w)break;v=await Wi._fromGetAccountInfoResponse(e,w,y)}else v=Wi._fromJSON(e,y);d!==l&&(f=v),l=d;break}}catch{}const p=a.filter(d=>d._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Sl(l,e,s):(l=p[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async d=>{if(d!==l)try{await d._remove(u)}catch{}})),new Sl(l,e,s))}}function Nw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pS(e))return"Blackberry";if(gS(e))return"Webos";if(hS(e))return"Safari";if((e.includes("chrome/")||fS(e))&&!e.includes("edge/"))return"Chrome";if(mS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function uS(t=kn()){return/firefox\//i.test(t)}function hS(t=kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fS(t=kn()){return/crios\//i.test(t)}function dS(t=kn()){return/iemobile/i.test(t)}function mS(t=kn()){return/android/i.test(t)}function pS(t=kn()){return/blackberry/i.test(t)}function gS(t=kn()){return/webos/i.test(t)}function mv(t=kn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function JM(t=kn()){return mv(t)&&!!window.navigator?.standalone}function eV(){return dk()&&document.documentMode===10}function yS(t=kn()){return mv(t)||mS(t)||gS(t)||pS(t)||/windows phone/i.test(t)||dS(t)}function vS(t,e=[]){let n;switch(t){case"Browser":n=Nw(kn());break;case"Worker":n=`${Nw(kn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bo}/${s}`}class tV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,f)=>{try{const p=e(l);u(p)}catch(p){f(p)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function nV(t,e={}){return Fl(t,"GET","/v2/passwordPolicy",fv(t,e))}const iV=6;class sV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??iV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class rV{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dw(this),this.idTokenSubscription=new Dw(this),this.beforeStateQueue=new tV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=lr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Sl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rd(this,{idToken:e}),s=await Wi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Mi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ad(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mi(this.app))return Promise.reject(co(this));const n=e?hn(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mi(this.app)?Promise.reject(co(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mi(this.app)?Promise.reject(co(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nV(this),n=new sV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ou("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await ZM(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&lr(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await Sl.create(this,[lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,a);return()=>{u=!0,p()}}else{const p=e.addObserver(n);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&PM(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Hd(t){return hn(t)}class Dw{constructor(e){this.auth=e,this.observer=null,this.addObserver=Tk(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let pv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aV(t){pv=t}function oV(t){return pv.loadJS(t)}function lV(){return pv.gapiScript}function cV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function uV(t,e){const n=qd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(fo(l,e??{}))return a;Rs(a,"already-initialized")}return n.initialize({options:e})}function hV(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(lr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function fV(t,e,n){const s=Hd(t);Pe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=_S(e),{host:u,port:f}=dV(e),p=f===null?"":`:${f}`,d={url:`${l}//${u}${p}/`},y=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Pe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Pe(fo(d,s.config.emulator)&&fo(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=d,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,_o(u)?(sv(`${l}//${u}${p}`),rv("Auth",!0)):mV()}function _S(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function dV(t){const e=_S(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:kw(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:kw(u)}}}function kw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function mV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class bS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}}async function Al(t,e){return qM(t,"POST","/v1/accounts:signInWithIdp",fv(t,e))}const pV="http://localhost";class po extends bS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new po(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new po(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Al(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Al(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Al(e,n)}buildRequest(){const e={requestUri:pV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lu(n)}return e}}class gv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Uu extends gv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ta extends Uu{constructor(){super("facebook.com")}static credential(e){return po._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ta.credential(e.oauthAccessToken)}catch{return null}}}ta.FACEBOOK_SIGN_IN_METHOD="facebook.com";ta.PROVIDER_ID="facebook.com";class ar extends Uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return po._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ar.credential(n,s)}catch{return null}}}ar.GOOGLE_SIGN_IN_METHOD="google.com";ar.PROVIDER_ID="google.com";class na extends Uu{constructor(){super("github.com")}static credential(e){return po._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return na.credential(e.oauthAccessToken)}catch{return null}}}na.GITHUB_SIGN_IN_METHOD="github.com";na.PROVIDER_ID="github.com";class ia extends Uu{constructor(){super("twitter.com")}static credential(e,n){return po._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ia.credential(n,s)}catch{return null}}}ia.TWITTER_SIGN_IN_METHOD="twitter.com";ia.PROVIDER_ID="twitter.com";class Nl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Wi._fromIdTokenResponse(e,s,a),u=Mw(s);return new Nl({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=Mw(s);return new Nl({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function Mw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class od extends Ms{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,od.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new od(e,n,s,a)}}function TS(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?od._fromErrorAndOperation(t,l,e,s):l})}async function gV(t,e,n=!1){const s=await Eu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Nl._forOperation(t,"link",s)}async function yV(t,e,n=!1){const{auth:s}=t;if(Mi(s.app))return Promise.reject(co(s));const a="reauthenticate";try{const l=await Eu(t,TS(s,a,e,t),n);Pe(l.idToken,s,"internal-error");const u=dv(l.idToken);Pe(u,s,"internal-error");const{sub:f}=u;return Pe(t.uid===f,s,"user-mismatch"),Nl._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Rs(s,"user-mismatch"),l}}async function vV(t,e,n=!1){if(Mi(t.app))return Promise.reject(co(t));const s="signIn",a=await TS(t,s,e),l=await Nl._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}function _V(t,e,n,s){return hn(t).onIdTokenChanged(e,n,s)}function bV(t,e,n){return hn(t).beforeAuthStateChanged(e,n)}function TV(t,e,n,s){return hn(t).onAuthStateChanged(e,n,s)}function wV(t){return hn(t).signOut()}const ld="__sak";class wS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ld,"1"),this.storage.removeItem(ld),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const EV=1e3,xV=10;class ES extends wS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,p)=>{this.notifyListeners(u,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);eV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,xV):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},EV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ES.type="LOCAL";const SV=ES;class xS extends wS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xS.type="SESSION";const SS=xS;function AV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Gd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Gd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(u).map(async d=>d(n.origin,l)),p=await AV(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gd.receivers=[];function yv(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class CV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,p)=>{const d=yv("",20);a.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(v){const w=v;if(w.data.eventId===d)switch(w.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(w.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Es(){return window}function RV(t){Es().location.href=t}function AS(){return typeof Es().WorkerGlobalScope<"u"&&typeof Es().importScripts=="function"}async function IV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NV(){return navigator?.serviceWorker?.controller||null}function DV(){return AS()?self:null}const CS="firebaseLocalStorageDb",kV=1,cd="firebaseLocalStorage",RS="fbase_key";class zu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kd(t,e){return t.transaction([cd],e?"readwrite":"readonly").objectStore(cd)}function MV(){const t=indexedDB.deleteDatabase(CS);return new zu(t).toPromise()}function ly(){const t=indexedDB.open(CS,kV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(cd,{keyPath:RS})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(cd)?e(s):(s.close(),await MV(),e(await ly()))})})}async function Vw(t,e,n){const s=Kd(t,!0).put({[RS]:e,value:n});return new zu(s).toPromise()}async function VV(t,e){const n=Kd(t,!1).get(e),s=await new zu(n).toPromise();return s===void 0?null:s.value}function Pw(t,e){const n=Kd(t,!0).delete(e);return new zu(n).toPromise()}const PV=800,OV=3;class IS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ly(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>OV)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gd._getInstance(DV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await IV(),!this.activeServiceWorker)return;this.sender=new CV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ly();return await Vw(e,ld,"1"),await Pw(e,ld),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Vw(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>VV(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Pw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Kd(a,!1).getAll();return new zu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IS.type="LOCAL";const LV=IS;new ju(3e4,6e4);function NS(t,e){return e?lr(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class vv extends bS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Al(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Al(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Al(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jV(t){return vV(t.auth,new vv(t),t.bypassAuthState)}function UV(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),yV(n,new vv(t),t.bypassAuthState)}async function zV(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),gV(n,new vv(t),t.bypassAuthState)}class DS{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jV;case"linkViaPopup":case"linkViaRedirect":return zV;case"reauthViaPopup":case"reauthViaRedirect":return UV;default:Rs(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const BV=new ju(2e3,1e4);async function FV(t,e,n){if(Mi(t.app))return Promise.reject(Ji(t,"operation-not-supported-in-this-environment"));const s=Hd(t);OM(t,e,gv);const a=NS(s,n);return new ro(s,"signInViaPopup",e,a).executeNotNull()}class ro extends DS{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,ro.currentPopupAction&&ro.currentPopupAction.cancel(),ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=yv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BV.get())};e()}}ro.currentPopupAction=null;const qV="pendingRedirect",Ff=new Map;class HV extends DS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ff.get(this.auth._key());if(!e){try{const s=await GV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ff.set(this.auth._key(),e)}return this.bypassAuthState||Ff.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GV(t,e){const n=YV(e),s=$V(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function KV(t,e){Ff.set(t._key(),e)}function $V(t){return lr(t._redirectPersistence)}function YV(t){return Bf(qV,t.config.apiKey,t.name)}async function QV(t,e,n=!1){if(Mi(t.app))return Promise.reject(co(t));const s=Hd(t),a=NS(s,e),u=await new HV(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const XV=600*1e3;class WV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!kS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ji(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XV&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ow(e))}saveEventToCache(e){this.cachedEventUids.add(Ow(e)),this.lastProcessedEventTime=Date.now()}}function Ow(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function ZV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kS(t);default:return!1}}async function JV(t,e={}){return Fl(t,"GET","/v1/projects",e)}const eP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tP=/^https?/;async function nP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await JV(t);for(const n of e)try{if(iP(n))return}catch{}Rs(t,"unauthorized-domain")}function iP(t){const e=ay(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!tP.test(n))return!1;if(eP.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const sP=new ju(3e4,6e4);function Lw(){const t=Es().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function rP(t){return new Promise((e,n)=>{function s(){Lw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Lw(),n(Ji(t,"network-request-failed"))},timeout:sP.get()})}if(Es().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Es().gapi?.load)s();else{const a=cV("iframefcb");return Es()[a]=()=>{gapi.load?s():n(Ji(t,"network-request-failed"))},oV(`${lV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw qf=null,e})}let qf=null;function aP(t){return qf=qf||rP(t),qf}const oP=new ju(5e3,15e3),lP="__/auth/iframe",cP="emulator/auth/iframe",uP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fP(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hv(e,cP):`https://${t.config.authDomain}/${lP}`,s={apiKey:e.apiKey,appName:t.name,v:bo},a=hP.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Lu(s).slice(1)}`}async function dP(t){const e=await aP(t),n=Es().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:fP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uP,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=Ji(t,"network-request-failed"),f=Es().setTimeout(()=>{l(u)},oP.get());function p(){Es().clearTimeout(f),a(s)}s.ping(p).then(p,()=>{l(u)})}))}const mP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pP=500,gP=600,yP="_blank",vP="http://localhost";class jw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _P(t,e,n,s=pP,a=gP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const p={...mP,width:s.toString(),height:a.toString(),top:l,left:u},d=kn().toLowerCase();n&&(f=fS(d)?yP:n),uS(d)&&(e=e||vP,p.scrollbars="yes");const y=Object.entries(p).reduce((w,[C,D])=>`${w}${C}=${D},`,"");if(JM(d)&&f!=="_self")return bP(e||"",f),new jw(null);const v=window.open(e||"",f,y);Pe(v,t,"popup-blocked");try{v.focus()}catch{}return new jw(v)}function bP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const TP="__/auth/handler",wP="emulator/auth/handler",EP=encodeURIComponent("fac");async function Uw(t,e,n,s,a,l){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:bo,eventId:a};if(e instanceof gv){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",bk(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof Uu){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const p=await t._getAppCheckToken(),d=p?`#${EP}=${encodeURIComponent(p)}`:"";return`${xP(t)}?${Lu(f).slice(1)}${d}`}function xP({config:t}){return t.emulator?hv(t,wP):`https://${t.authDomain}/${TP}`}const Sg="webStorageSupport";class SP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SS,this._completeRedirectFn=QV,this._overrideRedirectResult=KV}async _openPopup(e,n,s,a){pr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Uw(e,n,s,ay(),a);return _P(e,l,yv())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await Uw(e,n,s,ay(),a);return RV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(pr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await dP(e),s=new WV(e);return n.register("authEvent",a=>(Pe(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sg,{type:Sg},a=>{const l=a?.[0]?.[Sg];l!==void 0&&n(!!l),Rs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yS()||hS()||mv()}}const AP=SP;var zw="@firebase/auth",Bw="1.12.0";class CP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function RP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IP(t){mo(new ha("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=s.options;Pe(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vS(t)},d=new rV(s,a,l,p);return hV(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),mo(new ha("auth-internal",e=>{const n=Hd(e.getProvider("auth").getImmediate());return(s=>new CP(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ws(zw,Bw,RP(t)),ws(zw,Bw,"esm2020")}const NP=300,DP=Xx("authIdTokenMaxAge")||NP;let Fw=null;const kP=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>DP)return;const a=n?.token;Fw!==a&&(Fw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function MP(t=lv()){const e=qd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=uV(t,{popupRedirectResolver:AP,persistence:[LV,SV,SS]}),s=Xx("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=kP(l.toString());bV(n,u,()=>u(n.currentUser)),_V(n,f=>u(f))}}const a=$x("auth");return a&&fV(n,`http://${a}`),n}function VP(){return document.getElementsByTagName("head")?.[0]??document}aV({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Ji("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",VP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IP("Browser");var qw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var la,MS;(function(){var t;function e(k,S){function N(){}N.prototype=S.prototype,k.F=S.prototype,k.prototype=new N,k.prototype.constructor=k,k.D=function(O,U,L){for(var I=Array(arguments.length-2),he=2;he<arguments.length;he++)I[he-2]=arguments[he];return S.prototype[U].apply(O,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,S,N){N||(N=0);const O=Array(16);if(typeof S=="string")for(var U=0;U<16;++U)O[U]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(U=0;U<16;++U)O[U]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=k.g[0],N=k.g[1],U=k.g[2];let L=k.g[3],I;I=S+(L^N&(U^L))+O[0]+3614090360&4294967295,S=N+(I<<7&4294967295|I>>>25),I=L+(U^S&(N^U))+O[1]+3905402710&4294967295,L=S+(I<<12&4294967295|I>>>20),I=U+(N^L&(S^N))+O[2]+606105819&4294967295,U=L+(I<<17&4294967295|I>>>15),I=N+(S^U&(L^S))+O[3]+3250441966&4294967295,N=U+(I<<22&4294967295|I>>>10),I=S+(L^N&(U^L))+O[4]+4118548399&4294967295,S=N+(I<<7&4294967295|I>>>25),I=L+(U^S&(N^U))+O[5]+1200080426&4294967295,L=S+(I<<12&4294967295|I>>>20),I=U+(N^L&(S^N))+O[6]+2821735955&4294967295,U=L+(I<<17&4294967295|I>>>15),I=N+(S^U&(L^S))+O[7]+4249261313&4294967295,N=U+(I<<22&4294967295|I>>>10),I=S+(L^N&(U^L))+O[8]+1770035416&4294967295,S=N+(I<<7&4294967295|I>>>25),I=L+(U^S&(N^U))+O[9]+2336552879&4294967295,L=S+(I<<12&4294967295|I>>>20),I=U+(N^L&(S^N))+O[10]+4294925233&4294967295,U=L+(I<<17&4294967295|I>>>15),I=N+(S^U&(L^S))+O[11]+2304563134&4294967295,N=U+(I<<22&4294967295|I>>>10),I=S+(L^N&(U^L))+O[12]+1804603682&4294967295,S=N+(I<<7&4294967295|I>>>25),I=L+(U^S&(N^U))+O[13]+4254626195&4294967295,L=S+(I<<12&4294967295|I>>>20),I=U+(N^L&(S^N))+O[14]+2792965006&4294967295,U=L+(I<<17&4294967295|I>>>15),I=N+(S^U&(L^S))+O[15]+1236535329&4294967295,N=U+(I<<22&4294967295|I>>>10),I=S+(U^L&(N^U))+O[1]+4129170786&4294967295,S=N+(I<<5&4294967295|I>>>27),I=L+(N^U&(S^N))+O[6]+3225465664&4294967295,L=S+(I<<9&4294967295|I>>>23),I=U+(S^N&(L^S))+O[11]+643717713&4294967295,U=L+(I<<14&4294967295|I>>>18),I=N+(L^S&(U^L))+O[0]+3921069994&4294967295,N=U+(I<<20&4294967295|I>>>12),I=S+(U^L&(N^U))+O[5]+3593408605&4294967295,S=N+(I<<5&4294967295|I>>>27),I=L+(N^U&(S^N))+O[10]+38016083&4294967295,L=S+(I<<9&4294967295|I>>>23),I=U+(S^N&(L^S))+O[15]+3634488961&4294967295,U=L+(I<<14&4294967295|I>>>18),I=N+(L^S&(U^L))+O[4]+3889429448&4294967295,N=U+(I<<20&4294967295|I>>>12),I=S+(U^L&(N^U))+O[9]+568446438&4294967295,S=N+(I<<5&4294967295|I>>>27),I=L+(N^U&(S^N))+O[14]+3275163606&4294967295,L=S+(I<<9&4294967295|I>>>23),I=U+(S^N&(L^S))+O[3]+4107603335&4294967295,U=L+(I<<14&4294967295|I>>>18),I=N+(L^S&(U^L))+O[8]+1163531501&4294967295,N=U+(I<<20&4294967295|I>>>12),I=S+(U^L&(N^U))+O[13]+2850285829&4294967295,S=N+(I<<5&4294967295|I>>>27),I=L+(N^U&(S^N))+O[2]+4243563512&4294967295,L=S+(I<<9&4294967295|I>>>23),I=U+(S^N&(L^S))+O[7]+1735328473&4294967295,U=L+(I<<14&4294967295|I>>>18),I=N+(L^S&(U^L))+O[12]+2368359562&4294967295,N=U+(I<<20&4294967295|I>>>12),I=S+(N^U^L)+O[5]+4294588738&4294967295,S=N+(I<<4&4294967295|I>>>28),I=L+(S^N^U)+O[8]+2272392833&4294967295,L=S+(I<<11&4294967295|I>>>21),I=U+(L^S^N)+O[11]+1839030562&4294967295,U=L+(I<<16&4294967295|I>>>16),I=N+(U^L^S)+O[14]+4259657740&4294967295,N=U+(I<<23&4294967295|I>>>9),I=S+(N^U^L)+O[1]+2763975236&4294967295,S=N+(I<<4&4294967295|I>>>28),I=L+(S^N^U)+O[4]+1272893353&4294967295,L=S+(I<<11&4294967295|I>>>21),I=U+(L^S^N)+O[7]+4139469664&4294967295,U=L+(I<<16&4294967295|I>>>16),I=N+(U^L^S)+O[10]+3200236656&4294967295,N=U+(I<<23&4294967295|I>>>9),I=S+(N^U^L)+O[13]+681279174&4294967295,S=N+(I<<4&4294967295|I>>>28),I=L+(S^N^U)+O[0]+3936430074&4294967295,L=S+(I<<11&4294967295|I>>>21),I=U+(L^S^N)+O[3]+3572445317&4294967295,U=L+(I<<16&4294967295|I>>>16),I=N+(U^L^S)+O[6]+76029189&4294967295,N=U+(I<<23&4294967295|I>>>9),I=S+(N^U^L)+O[9]+3654602809&4294967295,S=N+(I<<4&4294967295|I>>>28),I=L+(S^N^U)+O[12]+3873151461&4294967295,L=S+(I<<11&4294967295|I>>>21),I=U+(L^S^N)+O[15]+530742520&4294967295,U=L+(I<<16&4294967295|I>>>16),I=N+(U^L^S)+O[2]+3299628645&4294967295,N=U+(I<<23&4294967295|I>>>9),I=S+(U^(N|~L))+O[0]+4096336452&4294967295,S=N+(I<<6&4294967295|I>>>26),I=L+(N^(S|~U))+O[7]+1126891415&4294967295,L=S+(I<<10&4294967295|I>>>22),I=U+(S^(L|~N))+O[14]+2878612391&4294967295,U=L+(I<<15&4294967295|I>>>17),I=N+(L^(U|~S))+O[5]+4237533241&4294967295,N=U+(I<<21&4294967295|I>>>11),I=S+(U^(N|~L))+O[12]+1700485571&4294967295,S=N+(I<<6&4294967295|I>>>26),I=L+(N^(S|~U))+O[3]+2399980690&4294967295,L=S+(I<<10&4294967295|I>>>22),I=U+(S^(L|~N))+O[10]+4293915773&4294967295,U=L+(I<<15&4294967295|I>>>17),I=N+(L^(U|~S))+O[1]+2240044497&4294967295,N=U+(I<<21&4294967295|I>>>11),I=S+(U^(N|~L))+O[8]+1873313359&4294967295,S=N+(I<<6&4294967295|I>>>26),I=L+(N^(S|~U))+O[15]+4264355552&4294967295,L=S+(I<<10&4294967295|I>>>22),I=U+(S^(L|~N))+O[6]+2734768916&4294967295,U=L+(I<<15&4294967295|I>>>17),I=N+(L^(U|~S))+O[13]+1309151649&4294967295,N=U+(I<<21&4294967295|I>>>11),I=S+(U^(N|~L))+O[4]+4149444226&4294967295,S=N+(I<<6&4294967295|I>>>26),I=L+(N^(S|~U))+O[11]+3174756917&4294967295,L=S+(I<<10&4294967295|I>>>22),I=U+(S^(L|~N))+O[2]+718787259&4294967295,U=L+(I<<15&4294967295|I>>>17),I=N+(L^(U|~S))+O[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(U+(I<<21&4294967295|I>>>11))&4294967295,k.g[2]=k.g[2]+U&4294967295,k.g[3]=k.g[3]+L&4294967295}s.prototype.v=function(k,S){S===void 0&&(S=k.length);const N=S-this.blockSize,O=this.C;let U=this.h,L=0;for(;L<S;){if(U==0)for(;L<=N;)a(this,k,L),L+=this.blockSize;if(typeof k=="string"){for(;L<S;)if(O[U++]=k.charCodeAt(L++),U==this.blockSize){a(this,O),U=0;break}}else for(;L<S;)if(O[U++]=k[L++],U==this.blockSize){a(this,O),U=0;break}}this.h=U,this.o+=S},s.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;S=this.o*8;for(var N=k.length-8;N<k.length;++N)k[N]=S&255,S/=256;for(this.v(k),k=Array(16),S=0,N=0;N<4;++N)for(let O=0;O<32;O+=8)k[S++]=this.g[N]>>>O&255;return k};function l(k,S){var N=f;return Object.prototype.hasOwnProperty.call(N,k)?N[k]:N[k]=S(k)}function u(k,S){this.h=S;const N=[];let O=!0;for(let U=k.length-1;U>=0;U--){const L=k[U]|0;O&&L==S||(N[U]=L,O=!1)}this.g=N}var f={};function p(k){return-128<=k&&k<128?l(k,function(S){return new u([S|0],S<0?-1:0)}):new u([k|0],k<0?-1:0)}function d(k){if(isNaN(k)||!isFinite(k))return v;if(k<0)return V(d(-k));const S=[];let N=1;for(let O=0;k>=N;O++)S[O]=k/N|0,N*=4294967296;return new u(S,0)}function y(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return V(y(k.substring(1),S));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=d(Math.pow(S,8));let O=v;for(let L=0;L<k.length;L+=8){var U=Math.min(8,k.length-L);const I=parseInt(k.substring(L,L+U),S);U<8?(U=d(Math.pow(S,U)),O=O.j(U).add(d(I))):(O=O.j(N),O=O.add(d(I)))}return O}var v=p(0),w=p(1),C=p(16777216);t=u.prototype,t.m=function(){if(P(this))return-V(this).m();let k=0,S=1;for(let N=0;N<this.g.length;N++){const O=this.i(N);k+=(O>=0?O:4294967296+O)*S,S*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(D(this))return"0";if(P(this))return"-"+V(this).toString(k);const S=d(Math.pow(k,6));var N=this;let O="";for(;;){const U=oe(N,S).g;N=j(N,U.j(S));let L=((N.g.length>0?N.g[0]:N.h)>>>0).toString(k);if(N=U,D(N))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function D(k){if(k.h!=0)return!1;for(let S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function P(k){return k.h==-1}t.l=function(k){return k=j(this,k),P(k)?-1:D(k)?0:1};function V(k){const S=k.g.length,N=[];for(let O=0;O<S;O++)N[O]=~k.g[O];return new u(N,~k.h).add(w)}t.abs=function(){return P(this)?V(this):this},t.add=function(k){const S=Math.max(this.g.length,k.g.length),N=[];let O=0;for(let U=0;U<=S;U++){let L=O+(this.i(U)&65535)+(k.i(U)&65535),I=(L>>>16)+(this.i(U)>>>16)+(k.i(U)>>>16);O=I>>>16,L&=65535,I&=65535,N[U]=I<<16|L}return new u(N,N[N.length-1]&-2147483648?-1:0)};function j(k,S){return k.add(V(S))}t.j=function(k){if(D(this)||D(k))return v;if(P(this))return P(k)?V(this).j(V(k)):V(V(this).j(k));if(P(k))return V(this.j(V(k)));if(this.l(C)<0&&k.l(C)<0)return d(this.m()*k.m());const S=this.g.length+k.g.length,N=[];for(var O=0;O<2*S;O++)N[O]=0;for(O=0;O<this.g.length;O++)for(let U=0;U<k.g.length;U++){const L=this.i(O)>>>16,I=this.i(O)&65535,he=k.i(U)>>>16,pe=k.i(U)&65535;N[2*O+2*U]+=I*pe,F(N,2*O+2*U),N[2*O+2*U+1]+=L*pe,F(N,2*O+2*U+1),N[2*O+2*U+1]+=I*he,F(N,2*O+2*U+1),N[2*O+2*U+2]+=L*he,F(N,2*O+2*U+2)}for(k=0;k<S;k++)N[k]=N[2*k+1]<<16|N[2*k];for(k=S;k<2*S;k++)N[k]=0;return new u(N,0)};function F(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function q(k,S){this.g=k,this.h=S}function oe(k,S){if(D(S))throw Error("division by zero");if(D(k))return new q(v,v);if(P(k))return S=oe(V(k),S),new q(V(S.g),V(S.h));if(P(S))return S=oe(k,V(S)),new q(V(S.g),S.h);if(k.g.length>30){if(P(k)||P(S))throw Error("slowDivide_ only works with positive integers.");for(var N=w,O=S;O.l(k)<=0;)N=ae(N),O=ae(O);var U=de(N,1),L=de(O,1);for(O=de(O,2),N=de(N,2);!D(O);){var I=L.add(O);I.l(k)<=0&&(U=U.add(N),L=I),O=de(O,1),N=de(N,1)}return S=j(k,U.j(S)),new q(U,S)}for(U=v;k.l(S)>=0;){for(N=Math.max(1,Math.floor(k.m()/S.m())),O=Math.ceil(Math.log(N)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=d(N),I=L.j(S);P(I)||I.l(k)>0;)N-=O,L=d(N),I=L.j(S);D(L)&&(L=w),U=U.add(L),k=j(k,I)}return new q(U,k)}t.B=function(k){return oe(this,k).h},t.and=function(k){const S=Math.max(this.g.length,k.g.length),N=[];for(let O=0;O<S;O++)N[O]=this.i(O)&k.i(O);return new u(N,this.h&k.h)},t.or=function(k){const S=Math.max(this.g.length,k.g.length),N=[];for(let O=0;O<S;O++)N[O]=this.i(O)|k.i(O);return new u(N,this.h|k.h)},t.xor=function(k){const S=Math.max(this.g.length,k.g.length),N=[];for(let O=0;O<S;O++)N[O]=this.i(O)^k.i(O);return new u(N,this.h^k.h)};function ae(k){const S=k.g.length+1,N=[];for(let O=0;O<S;O++)N[O]=k.i(O)<<1|k.i(O-1)>>>31;return new u(N,k.h)}function de(k,S){const N=S>>5;S%=32;const O=k.g.length-N,U=[];for(let L=0;L<O;L++)U[L]=S>0?k.i(L+N)>>>S|k.i(L+N+1)<<32-S:k.i(L+N);return new u(U,k.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,MS=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=y,la=u}).apply(typeof qw<"u"?qw:typeof self<"u"?self:typeof window<"u"?window:{});var Af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var VS,iu,PS,Hf,cy,OS,LS,jS;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Af=="object"&&Af];for(var _=0;_<h.length;++_){var E=h[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(h,_){if(_)e:{var E=s;h=h.split(".");for(var R=0;R<h.length-1;R++){var Q=h[R];if(!(Q in E))break e;E=E[Q]}h=h[h.length-1],R=E[h],_=_(R),_!=R&&_!=null&&e(E,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var E=[],R;for(R in _)Object.prototype.hasOwnProperty.call(_,R)&&E.push([R,_[R]]);return E}});var l=l||{},u=this||self;function f(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function p(h,_,E){return h.call.apply(h.bind,arguments)}function d(h,_,E){return d=p,d.apply(null,arguments)}function y(h,_){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function v(h,_){function E(){}E.prototype=_.prototype,h.Z=_.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(R,Q,J){for(var ve=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ve[Ue-2]=arguments[Ue];return _.prototype[Q].apply(R,ve)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const _=h.length;if(_>0){const E=Array(_);for(let R=0;R<_;R++)E[R]=h[R];return E}return[]}function D(h,_){for(let R=1;R<arguments.length;R++){const Q=arguments[R];var E=typeof Q;if(E=E!="object"?E:Q?Array.isArray(Q)?"array":E:"null",E=="array"||E=="object"&&typeof Q.length=="number"){E=h.length||0;const J=Q.length||0;h.length=E+J;for(let ve=0;ve<J;ve++)h[E+ve]=Q[ve]}else h.push(Q)}}class P{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function V(h){u.setTimeout(()=>{throw h},0)}function j(){var h=k;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class F{constructor(){this.h=this.g=null}add(_,E){const R=q.get();R.set(_,E),this.h?this.h.next=R:this.g=R,this.h=R}}var q=new P(()=>new oe,h=>h.reset());class oe{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,de=!1,k=new F,S=()=>{const h=Promise.resolve(void 0);ae=()=>{h.then(N)}};function N(){for(var h;h=j();){try{h.h.call(h.g)}catch(E){V(E)}var _=q;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}de=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function he(h,_){U.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}v(he,U),he.prototype.init=function(h,_){const E=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(E=="mouseover"?_=h.fromElement:E=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&he.Z.h.call(this)},he.prototype.h=function(){he.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),H=0;function ne(h,_,E,R,Q){this.listener=h,this.proxy=null,this.src=_,this.type=E,this.capture=!!R,this.ha=Q,this.key=++H,this.da=this.fa=!1}function ie(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ke(h,_,E){for(const R in h)_.call(E,h[R],R,h)}function G(h,_){for(const E in h)_.call(void 0,h[E],E,h)}function x(h){const _={};for(const E in h)_[E]=h[E];return _}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(h,_){let E,R;for(let Q=1;Q<arguments.length;Q++){R=arguments[Q];for(E in R)h[E]=R[E];for(let J=0;J<$.length;J++)E=$[J],Object.prototype.hasOwnProperty.call(R,E)&&(h[E]=R[E])}}function re(h){this.src=h,this.g={},this.h=0}re.prototype.add=function(h,_,E,R,Q){const J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);const ve=ye(h,_,R,Q);return ve>-1?(_=h[ve],E||(_.fa=!1)):(_=new ne(_,this.src,J,!!R,Q),_.fa=E,h.push(_)),_};function ge(h,_){const E=_.type;if(E in h.g){var R=h.g[E],Q=Array.prototype.indexOf.call(R,_,void 0),J;(J=Q>=0)&&Array.prototype.splice.call(R,Q,1),J&&(ie(_),h.g[E].length==0&&(delete h.g[E],h.h--))}}function ye(h,_,E,R){for(let Q=0;Q<h.length;++Q){const J=h[Q];if(!J.da&&J.listener==_&&J.capture==!!E&&J.ha==R)return Q}return-1}var me="closure_lm_"+(Math.random()*1e6|0),Ae={};function Re(h,_,E,R,Q){if(Array.isArray(_)){for(let J=0;J<_.length;J++)Re(h,_[J],E,R,Q);return null}return E=yn(E),h&&h[pe]?h.J(_,E,f(R)?!!R.capture:!1,Q):He(h,_,E,!1,R,Q)}function He(h,_,E,R,Q,J){if(!_)throw Error("Invalid event type");const ve=f(Q)?!!Q.capture:!!Q;let Ue=kt(h);if(Ue||(h[me]=Ue=new re(h)),E=Ue.add(_,E,R,ve,J),E.proxy)return E;if(R=qe(),E.proxy=R,R.src=h,R.listener=E,h.addEventListener)L||(Q=ve),Q===void 0&&(Q=!1),h.addEventListener(_.toString(),R,Q);else if(h.attachEvent)h.attachEvent(De(_.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function qe(){function h(E){return _.call(h.src,h.listener,E)}const _=jt;return h}function Qe(h,_,E,R,Q){if(Array.isArray(_))for(var J=0;J<_.length;J++)Qe(h,_[J],E,R,Q);else R=f(R)?!!R.capture:!!R,E=yn(E),h&&h[pe]?(h=h.i,J=String(_).toString(),J in h.g&&(_=h.g[J],E=ye(_,E,R,Q),E>-1&&(ie(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete h.g[J],h.h--)))):h&&(h=kt(h))&&(_=h.g[_.toString()],h=-1,_&&(h=ye(_,E,R,Q)),(E=h>-1?_[h]:null)&&bt(E))}function bt(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[pe])ge(_.i,h);else{var E=h.type,R=h.proxy;_.removeEventListener?_.removeEventListener(E,R,h.capture):_.detachEvent?_.detachEvent(De(E),R):_.addListener&&_.removeListener&&_.removeListener(R),(E=kt(_))?(ge(E,h),E.h==0&&(E.src=null,_[me]=null)):ie(h)}}}function De(h){return h in Ae?Ae[h]:Ae[h]="on"+h}function jt(h,_){if(h.da)h=!0;else{_=new he(_,this);const E=h.listener,R=h.ha||h.src;h.fa&&bt(h),h=E.call(R,_)}return h}function kt(h){return h=h[me],h instanceof re?h:null}var rn="__closure_events_fn_"+(Math.random()*1e9>>>0);function yn(h){return typeof h=="function"?h:(h[rn]||(h[rn]=function(_){return h.handleEvent(_)}),h[rn])}function it(){O.call(this),this.i=new re(this),this.M=this,this.G=null}v(it,O),it.prototype[pe]=!0,it.prototype.removeEventListener=function(h,_,E,R){Qe(this,h,_,E,R)};function st(h,_){var E,R=h.G;if(R)for(E=[];R;R=R.G)E.push(R);if(h=h.M,R=_.type||_,typeof _=="string")_=new U(_,h);else if(_ instanceof U)_.target=_.target||h;else{var Q=_;_=new U(R,h),ee(_,Q)}Q=!0;let J,ve;if(E)for(ve=E.length-1;ve>=0;ve--)J=_.g=E[ve],Q=gi(J,R,!0,_)&&Q;if(J=_.g=h,Q=gi(J,R,!0,_)&&Q,Q=gi(J,R,!1,_)&&Q,E)for(ve=0;ve<E.length;ve++)J=_.g=E[ve],Q=gi(J,R,!1,_)&&Q}it.prototype.N=function(){if(it.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const E=h.g[_];for(let R=0;R<E.length;R++)ie(E[R]);delete h.g[_],h.h--}}this.G=null},it.prototype.J=function(h,_,E,R){return this.i.add(String(h),_,!1,E,R)},it.prototype.K=function(h,_,E,R){return this.i.add(String(h),_,!0,E,R)};function gi(h,_,E,R){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let Q=!0;for(let J=0;J<_.length;++J){const ve=_[J];if(ve&&!ve.da&&ve.capture==E){const Ue=ve.listener,Ft=ve.ha||ve.src;ve.fa&&ge(h.i,ve),Q=Ue.call(Ft,R)!==!1&&Q}}return Q&&!R.defaultPrevented}function Sa(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=d(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function _r(h){h.g=Sa(()=>{h.g=null,h.i&&(h.i=!1,_r(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class St extends O{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:_r(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function An(h){O.call(this),this.h=h,this.g={}}v(An,O);var Mn=[];function Zn(h){ke(h.g,function(_,E){this.g.hasOwnProperty(E)&&bt(_)},h),h.g={}}An.prototype.N=function(){An.Z.N.call(this),Zn(this)},An.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jn=u.JSON.stringify,Ps=u.JSON.parse,Os=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function ei(){}function wt(){}var an={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kt(){U.call(this,"d")}v(Kt,U);function vn(){U.call(this,"c")}v(vn,U);var Et={},is=null;function Ls(){return is=is||new it}Et.Ia="serverreachability";function Aa(h){U.call(this,Et.Ia,h)}v(Aa,U);function Vn(h){const _=Ls();st(_,new Aa(_))}Et.STAT_EVENT="statevent";function js(h,_){U.call(this,Et.STAT_EVENT,h),this.stat=_}v(js,U);function Mt(h){const _=Ls();st(_,new js(_,h))}Et.Ja="timingevent";function yi(h,_){U.call(this,Et.Ja,h),this.size=_}v(yi,U);function ti(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Ca(h,_,E,R,Q,J){h.info(function(){if(h.g)if(J){var ve="",Ue=J.split("&");for(let ot=0;ot<Ue.length;ot++){var Ft=Ue[ot].split("=");if(Ft.length>1){const It=Ft[0];Ft=Ft[1];const wi=It.split("_");ve=wi.length>=2&&wi[1]=="type"?ve+(It+"="+Ft+"&"):ve+(It+"=redacted&")}}}else ve=null;else ve=J;return"XMLHTTP REQ ("+R+") [attempt "+Q+"]: "+_+`
`+E+`
`+ve})}function Eo(h,_,E,R,Q,J,ve){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Q+"]: "+_+`
`+E+`
`+J+" "+ve})}function vi(h,_,E,R){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+xo(h,E)+(R?" "+R:"")})}function Us(h,_){h.info(function(){return"TIMEOUT: "+_})}Pn.prototype.info=function(){};function xo(h,_){if(!h.g)return _;if(!_)return null;try{const J=JSON.parse(_);if(J){for(h=0;h<J.length;h++)if(Array.isArray(J[h])){var E=J[h];if(!(E.length<2)){var R=E[1];if(Array.isArray(R)&&!(R.length<1)){var Q=R[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ve=1;ve<R.length;ve++)R[ve]=""}}}}return Jn(J)}catch{return _}}var zs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ra={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},So;function ss(){}v(ss,ei),ss.prototype.g=function(){return new XMLHttpRequest},So=new ss;function ni(h){return encodeURIComponent(String(h))}function br(h){var _=1;h=h.split(":");const E=[];for(;_>0&&h.length;)E.push(h.shift()),_--;return h.length&&E.push(h.join(":")),E}function ii(h,_,E,R){this.j=h,this.i=_,this.l=E,this.S=R||1,this.V=new An(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Y}function Y(){this.i=null,this.g="",this.h=!1}var be={},Ke={};function mt(h,_,E){h.M=1,h.A=Na(Yt(_)),h.u=E,h.R=!0,Vt(h,null)}function Vt(h,_){h.F=Date.now(),rs(h),h.B=Yt(h.A);var E=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),Io(E.i,"t",R),h.C=0,E=h.j.L,h.h=new Y,h.g=gh(h.j,E?_:null,!h.u),h.P>0&&(h.O=new St(d(h.Y,h,h.g),h.P)),_=h.V,E=h.g,R=h.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(Mn[0]=Q.toString()),Q=Mn);for(let J=0;J<Q.length;J++){const ve=Re(E,Q[J],R||_.handleEvent,!1,_.h||_);if(!ve)break;_.g[ve.key]=ve}_=h.J?x(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Vn(),Ca(h.i,h.v,h.B,h.l,h.S,h.u)}ii.prototype.ba=function(h){h=h.target;const _=this.O;_&&Fi(h)==3?_.j():this.Y(h)},ii.prototype.Y=function(h){try{if(h==this.g)e:{const Ue=Fi(this.g),Ft=this.g.ya(),ot=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||_n(this.g)))){this.K||Ue!=4||Ft==7||(Ft==8||ot<=0?Vn(3):Vn(2)),as(this);var _=this.g.ca();this.X=_;var E=On(this);if(this.o=_==200,Eo(this.i,this.v,this.B,this.l,this.S,Ue,_),this.o){if(this.U&&!this.L){t:{if(this.g){var R,Q=this.g;if((R=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(R)){var J=R;break t}}J=null}if(h=J)vi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,os(this,h);else{this.o=!1,this.m=3,Mt(12),si(this),_i(this);break e}}if(this.R){h=!0;let It;for(;!this.K&&this.C<E.length;)if(It=Ia(this,E),It==Ke){Ue==4&&(this.m=4,Mt(14),h=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(It==be){this.m=4,Mt(15),vi(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else vi(this.i,this.l,It,null),os(this,It);if(Ui(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||E.length!=0||this.h.h||(this.m=1,Mt(16),h=!1),this.o=this.o&&h,!h)vi(this.i,this.l,E,"[Invalid Chunked Response]"),si(this),_i(this);else if(E.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),dc(ve),ve.P=!0,Mt(11))}}else vi(this.i,this.l,E,null),os(this,E);Ue==4&&si(this),this.o&&!this.K&&(Ue==4?fh(this.j,this):(this.o=!1,rs(this)))}else Fs(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,Mt(12)):(this.m=0,Mt(13)),si(this),_i(this)}}}catch{}};function On(h){if(!Ui(h))return h.g.la();const _=_n(h.g);if(_==="")return"";let E="";const R=_.length,Q=Fi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return si(h),_i(h),"";h.h.i=new u.TextDecoder}for(let J=0;J<R;J++)h.h.h=!0,E+=h.h.i.decode(_[J],{stream:!(Q&&J==R-1)});return _.length=0,h.h.g+=E,h.C=0,h.h.g}function Ui(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Ia(h,_){var E=h.C,R=_.indexOf(`
`,E);return R==-1?Ke:(E=Number(_.substring(E,R)),isNaN(E)?be:(R+=1,R+E>_.length?Ke:(_=_.slice(R,R+E),h.C=R+E,_)))}ii.prototype.cancel=function(){this.K=!0,si(this)};function rs(h){h.T=Date.now()+h.H,Ao(h,h.H)}function Ao(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=ti(d(h.aa,h),_)}function as(h){h.D&&(u.clearTimeout(h.D),h.D=null)}ii.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Us(this.i,this.B),this.M!=2&&(Vn(),Mt(17)),si(this),this.m=2,_i(this)):Ao(this,this.T-h)};function _i(h){h.j.I==0||h.K||fh(h.j,h)}function si(h){as(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Zn(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function os(h,_){try{var E=h.j;if(E.I!=0&&(E.g==h||cs(E.h,h))){if(!h.L&&cs(E.h,h)&&E.I==3){try{var R=E.Ba.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Q=R;if(Q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Vo(E),Rr(E);else break e;La(E),Mt(18)}}else E.xa=Q[1],0<E.xa-E.K&&Q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ti(d(E.Va,E),6e3));ls(E.h)<=1&&E.ta&&(E.ta=void 0)}else ps(E,11)}else if((h.L||E.g==h)&&Vo(E),!I(_))for(Q=E.Ba.g.parse(_),_=0;_<Q.length;_++){let ot=Q[_];const It=ot[0];if(!(It<=E.K))if(E.K=It,ot=ot[1],E.I==2)if(ot[0]=="c"){E.M=ot[1],E.ba=ot[2];const wi=ot[3];wi!=null&&(E.ka=wi,E.j.info("VER="+E.ka));const gs=ot[4];gs!=null&&(E.za=gs,E.j.info("SVER="+E.za));const qi=ot[5];qi!=null&&typeof qi=="number"&&qi>0&&(R=1.5*qi,E.O=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const Hi=h.g;if(Hi){const ja=Hi.g?Hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ja){var J=R.h;J.g||ja.indexOf("spdy")==-1&&ja.indexOf("quic")==-1&&ja.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(tc(J,J.h),J.h=null))}if(R.G){const Po=Hi.g?Hi.g.getResponseHeader("X-HTTP-Session-Id"):null;Po&&(R.wa=Po,ht(R.J,R.G,Po))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),R=E;var ve=h;if(R.na=ph(R,R.L?R.ba:null,R.W),ve.L){nc(R.h,ve);var Ue=ve,Ft=R.O;Ft&&(Ue.H=Ft),Ue.D&&(as(Ue),rs(Ue)),R.g=ve}else uh(R);E.i.length>0&&ms(E)}else ot[0]!="stop"&&ot[0]!="close"||ps(E,7);else E.I==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?ps(E,7):hc(E):ot[0]!="noop"&&E.l&&E.l.qa(ot),E.A=0)}}Vn(4)}catch{}}var $t=class{constructor(h,_){this.g=h,this.map=_}};function Jl(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ec(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ls(h){return h.h?1:h.g?h.g.size:0}function cs(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function tc(h,_){h.g?h.g.add(_):h.h=_}function nc(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Jl.prototype.cancel=function(){if(this.i=ic(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ic(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const E of h.g.values())_=_.concat(E.G);return _}return C(h.i)}var sh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Co(h,_){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const R=h[E].indexOf("=");let Q,J=null;R>=0?(Q=h[E].substring(0,R),J=h[E].substring(R+1)):Q=h[E],_(Q,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function ri(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof ri?(this.l=h.l,fn(this,h.j),this.o=h.o,this.g=h.g,Tr(this,h.u),this.h=h.h,sc(this,lh(h.i)),this.m=h.m):h&&(_=String(h).match(sh))?(this.l=!1,fn(this,_[1]||"",!0),this.o=us(_[2]||""),this.g=us(_[3]||"",!0),Tr(this,_[4]),this.h=us(_[5]||"",!0),sc(this,_[6]||"",!0),this.m=us(_[7]||"")):(this.l=!1,this.i=new Er(null,this.l))}ri.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Da(_,Ro,!0),":");var E=this.g;return(E||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Da(_,Ro,!0),"@"),h.push(ni(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Da(E,E.charAt(0)=="/"?rc:rh,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Da(E,ah)),h.join("")},ri.prototype.resolve=function(h){const _=Yt(this);let E=!!h.j;E?fn(_,h.j):E=!!h.o,E?_.o=h.o:E=!!h.g,E?_.g=h.g:E=h.u!=null;var R=h.h;if(E)Tr(_,h.u);else if(E=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var Q=_.h.lastIndexOf("/");Q!=-1&&(R=_.h.slice(0,Q+1)+R)}if(Q=R,Q==".."||Q==".")R="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){R=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const J=[];for(let ve=0;ve<Q.length;){const Ue=Q[ve++];Ue=="."?R&&ve==Q.length&&J.push(""):Ue==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),R&&ve==Q.length&&J.push("")):(J.push(Ue),R=!0)}R=J.join("/")}else R=Q}return E?_.h=R:E=h.i.toString()!=="",E?sc(_,lh(h.i)):E=!!h.m,E&&(_.m=h.m),_};function Yt(h){return new ri(h)}function fn(h,_,E){h.j=E?us(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Tr(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function sc(h,_,E){_ instanceof Er?(h.i=_,No(h.i,h.l)):(E||(_=Da(_,wr)),h.i=new Er(_,h.l))}function ht(h,_,E){h.i.set(_,E)}function Na(h){return ht(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function us(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Da(h,_,E){return typeof h=="string"?(h=encodeURI(h).replace(_,Fn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Fn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ro=/[#\/\?@]/g,rh=/[#\?:]/g,rc=/[#\?]/g,wr=/[#\?@]/g,ah=/#/g;function Er(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function qn(h){h.g||(h.g=new Map,h.h=0,h.i&&Co(h.i,function(_,E){h.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=Er.prototype,t.add=function(h,_){qn(this),this.i=null,h=xr(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(_),this.h+=1,this};function oh(h,_){qn(h),_=xr(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function ac(h,_){return qn(h),_=xr(h,_),h.g.has(_)}t.forEach=function(h,_){qn(this),this.g.forEach(function(E,R){E.forEach(function(Q){h.call(_,Q,R,this)},this)},this)};function oc(h,_){qn(h);let E=[];if(typeof _=="string")ac(h,_)&&(E=E.concat(h.g.get(xr(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)E=E.concat(h[_]);return E}t.set=function(h,_){return qn(this),this.i=null,h=xr(this,h),ac(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=oc(this,h),h.length>0?String(h[0]):_):_};function Io(h,_,E){oh(h,_),E.length>0&&(h.i=null,h.g.set(xr(h,_),C(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let R=0;R<_.length;R++){var E=_[R];const Q=ni(E);E=oc(this,E);for(let J=0;J<E.length;J++){let ve=Q;E[J]!==""&&(ve+="="+ni(E[J])),h.push(ve)}}return this.i=h.join("&")};function lh(h){const _=new Er;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function xr(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function No(h,_){_&&!h.j&&(qn(h),h.i=null,h.g.forEach(function(E,R){const Q=R.toLowerCase();R!=Q&&(oh(this,R),Io(this,Q,E))},h)),h.j=_}function zi(h,_){const E=new Pn;if(u.Image){const R=new Image;R.onload=y(bi,E,"TestLoadImage: loaded",!0,_,R),R.onerror=y(bi,E,"TestLoadImage: error",!1,_,R),R.onabort=y(bi,E,"TestLoadImage: abort",!1,_,R),R.ontimeout=y(bi,E,"TestLoadImage: timeout",!1,_,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else _(!1)}function lc(h,_){const E=new Pn,R=new AbortController,Q=setTimeout(()=>{R.abort(),bi(E,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:R.signal}).then(J=>{clearTimeout(Q),J.ok?bi(E,"TestPingServer: ok",!0,_):bi(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Q),bi(E,"TestPingServer: error",!1,_)})}function bi(h,_,E,R,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),R(E)}catch{}}function Sr(){this.g=new Os}function hs(h){this.i=h.Sb||null,this.h=h.ab||!1}v(hs,ei),hs.prototype.g=function(){return new ka(this.i,this.h)};function ka(h,_){it.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(ka,it),t=ka.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,Bi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ar(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Bi(this)),this.g&&(this.readyState=3,Bi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Do(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Do(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Ar(this):Bi(this),this.readyState==3&&Do(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Ar(this))},t.Na=function(h){this.g&&(this.response=h,Ar(this))},t.ga=function(){this.g&&Ar(this)};function Ar(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Bi(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=_.next();return h.join(`\r
`)};function Bi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ka.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ti(h){let _="";return ke(h,function(E,R){_+=R,_+=":",_+=E,_+=`\r
`}),_}function Ma(h,_,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=Ti(E),typeof h=="string"?E!=null&&ni(E):ht(h,_,E))}function pt(h){it.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(pt,it);var fs=/^https?$/i,cc=["POST","PUT"];t=pt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():So.g(),this.g.onreadystatechange=w(d(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(J){Va(this,J);return}if(h=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Q in R)E.set(Q,R[Q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const J of R.keys())E.set(J,R.get(J));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(J=>J.toLowerCase()=="content-type"),Q=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(cc,_,void 0)>=0)||R||Q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ve]of E)this.g.setRequestHeader(J,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(J){Va(this,J)}};function Va(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,uc(h),Bs(h)}function uc(h){h.A||(h.A=!0,st(h,"complete"),st(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,st(this,"complete"),st(this,"abort"),Bs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bs(this,!0)),pt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Pa(this):this.Xa())},t.Xa=function(){Pa(this)};function Pa(h){if(h.h&&typeof l<"u"){if(h.v&&Fi(h)==4)setTimeout(h.Ca.bind(h),0);else if(st(h,"readystatechange"),Fi(h)==4){h.h=!1;try{const J=h.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var R;if(R=J===0){let ve=String(h.D).match(sh)[1]||null;!ve&&u.self&&u.self.location&&(ve=u.self.location.protocol.slice(0,-1)),R=!fs.test(ve?ve.toLowerCase():"")}E=R}if(E)st(h,"complete"),st(h,"success");else{h.o=6;try{var Q=Fi(h)>2?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.ca()+"]",uc(h)}}finally{Bs(h)}}}}function Bs(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,_||st(h,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Fi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Fi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Ps(_)}};function _n(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Fs(h){const _={};h=(h.g&&Fi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(I(h[R]))continue;var E=br(h[R]);const Q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const J=_[Q]||[];_[Q]=J,J.push(E)}G(_,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ds(h,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||_}function Cr(h){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ds("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ds("baseRetryDelayMs",5e3,h),this.Za=ds("retryDelaySeedMs",1e4,h),this.Ta=ds("forwardChannelMaxRetries",2,h),this.va=ds("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Jl(h&&h.concurrentRequestLimit),this.Ba=new Sr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Cr.prototype,t.ka=8,t.I=1,t.connect=function(h,_,E,R){Mt(0),this.W=h,this.H=_||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.J=ph(this,null,this.W),ms(this)};function hc(h){if(ko(h),h.I==3){var _=h.V++,E=Yt(h.J);if(ht(E,"SID",h.M),ht(E,"RID",_),ht(E,"TYPE","terminate"),Oa(h,E),_=new ii(h,h.j,_),_.M=2,_.A=Na(Yt(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.A,E=!0),E||(_.g=gh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),rs(_)}mh(h)}function Rr(h){h.g&&(dc(h),h.g.cancel(),h.g=null)}function ko(h){Rr(h),h.v&&(u.clearTimeout(h.v),h.v=null),Vo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function ms(h){if(!ec(h.h)&&!h.m){h.m=!0;var _=h.Ea;ae||S(),de||(ae(),de=!0),k.add(_,h),h.D=0}}function Mo(h,_){return ls(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=ti(d(h.Ea,h,_),dh(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Q=new ii(this,this.j,h);let J=this.o;if(this.U&&(J?(J=x(J),ee(J,this.U)):J=this.U),this.u!==null||this.R||(Q.J=J,J=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=ch(this,Q,_),E=Yt(this.J),ht(E,"RID",h),ht(E,"CVER",22),this.G&&ht(E,"X-HTTP-Session-Id",this.G),Oa(this,E),J&&(this.R?_="headers="+ni(Ti(J))+"&"+_:this.u&&Ma(E,this.u,J)),tc(this.h,Q),this.Ra&&ht(E,"TYPE","init"),this.S?(ht(E,"$req",_),ht(E,"SID","null"),Q.U=!0,mt(Q,E,null)):mt(Q,E,_),this.I=2}}else this.I==3&&(h?fc(this,h):this.i.length==0||ec(this.h)||fc(this))};function fc(h,_){var E;_?E=_.l:E=h.V++;const R=Yt(h.J);ht(R,"SID",h.M),ht(R,"RID",E),ht(R,"AID",h.K),Oa(h,R),h.u&&h.o&&Ma(R,h.u,h.o),E=new ii(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),_&&(h.i=_.G.concat(h.i)),_=ch(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),tc(h.h,E),mt(E,R,_)}function Oa(h,_){h.H&&ke(h.H,function(E,R){ht(_,R,E)}),h.l&&ke({},function(E,R){ht(_,R,E)})}function ch(h,_,E){E=Math.min(h.i.length,E);const R=h.l?d(h.l.Ka,h.l,h):null;e:{var Q=h.i;let Ue=-1;for(;;){const Ft=["count="+E];Ue==-1?E>0?(Ue=Q[0].g,Ft.push("ofs="+Ue)):Ue=0:Ft.push("ofs="+Ue);let ot=!0;for(let It=0;It<E;It++){var J=Q[It].g;const wi=Q[It].map;if(J-=Ue,J<0)Ue=Math.max(0,Q[It].g-100),ot=!1;else try{J="req"+J+"_"||"";try{var ve=wi instanceof Map?wi:Object.entries(wi);for(const[gs,qi]of ve){let Hi=qi;f(qi)&&(Hi=Jn(qi)),Ft.push(J+gs+"="+encodeURIComponent(Hi))}}catch(gs){throw Ft.push(J+"type="+encodeURIComponent("_badmap")),gs}}catch{R&&R(wi)}}if(ot){ve=Ft.join("&");break e}}ve=void 0}return h=h.i.splice(0,E),_.G=h,ve}function uh(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;ae||S(),de||(ae(),de=!0),k.add(_,h),h.A=0}}function La(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=ti(d(h.Da,h),dh(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,hh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=ti(d(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Mt(10),Rr(this),hh(this))};function dc(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function hh(h){h.g=new ii(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Yt(h.na);ht(_,"RID","rpc"),ht(_,"SID",h.M),ht(_,"AID",h.K),ht(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&ht(_,"TO",h.ia),ht(_,"TYPE","xmlhttp"),Oa(h,_),h.u&&h.o&&Ma(_,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Na(Yt(_)),E.u=null,E.R=!0,Vt(E,h)}t.Va=function(){this.C!=null&&(this.C=null,Rr(this),La(this),Mt(19))};function Vo(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function fh(h,_){var E=null;if(h.g==_){Vo(h),dc(h),h.g=null;var R=2}else if(cs(h.h,_))E=_.G,nc(h.h,_),R=1;else return;if(h.I!=0){if(_.o)if(R==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var Q=h.D;R=Ls(),st(R,new yi(R,E)),ms(h)}else uh(h);else if(Q=_.m,Q==3||Q==0&&_.X>0||!(R==1&&Mo(h,_)||R==2&&La(h)))switch(E&&E.length>0&&(_=h.h,_.i=_.i.concat(E)),Q){case 1:ps(h,5);break;case 4:ps(h,10);break;case 3:ps(h,6);break;default:ps(h,2)}}}function dh(h,_){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*_}function ps(h,_){if(h.j.info("Error code "+_),_==2){var E=d(h.bb,h),R=h.Ua;const Q=!R;R=new ri(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||fn(R,"https"),Na(R),Q?zi(R.toString(),E):lc(R.toString(),E)}else Mt(2);h.I=0,h.l&&h.l.pa(_),mh(h),ko(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function mh(h){if(h.I=0,h.ja=[],h.l){const _=ic(h.h);(_.length!=0||h.i.length!=0)&&(D(h.ja,_),D(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function ph(h,_,E){var R=E instanceof ri?Yt(E):new ri(E);if(R.g!="")_&&(R.g=_+"."+R.g),Tr(R,R.u);else{var Q=u.location;R=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;const J=new ri(null);R&&fn(J,R),_&&(J.g=_),Q&&Tr(J,Q),E&&(J.h=E),R=J}return E=h.G,_=h.wa,E&&_&&ht(R,E,_),ht(R,"VER",h.ka),Oa(h,R),R}function gh(h,_,E){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new pt(new hs({ab:E})):new pt(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yh(){}t=yh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ir(){}Ir.prototype.g=function(h,_){return new Ln(h,_)};function Ln(h,_){it.call(this),this.g=new Cr(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!I(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!I(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new qs(this)}v(Ln,it),Ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){hc(this.g)},Ln.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Jn(h),h=E);_.i.push(new $t(_.Ya++,h)),_.I==3&&ms(_)},Ln.prototype.N=function(){this.g.l=null,delete this.j,hc(this.g),delete this.g,Ln.Z.N.call(this)};function vh(h){Kt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const E in _){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}v(vh,Kt);function _h(){vn.call(this),this.status=1}v(_h,vn);function qs(h){this.g=h}v(qs,yh),qs.prototype.ra=function(){st(this.g,"a")},qs.prototype.qa=function(h){st(this.g,new vh(h))},qs.prototype.pa=function(h){st(this.g,new _h)},qs.prototype.oa=function(){st(this.g,"b")},Ir.prototype.createWebChannel=Ir.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,jS=function(){return new Ir},LS=function(){return Ls()},OS=Et,cy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},zs.NO_ERROR=0,zs.TIMEOUT=8,zs.HTTP_ERROR=6,Hf=zs,Ra.COMPLETE="complete",PS=Ra,wt.EventType=an,an.OPEN="a",an.CLOSE="b",an.ERROR="c",an.MESSAGE="d",it.prototype.listen=it.prototype.J,iu=wt,pt.prototype.listenOnce=pt.prototype.K,pt.prototype.getLastError=pt.prototype.Ha,pt.prototype.getLastErrorCode=pt.prototype.ya,pt.prototype.getStatus=pt.prototype.ca,pt.prototype.getResponseJson=pt.prototype.La,pt.prototype.getResponseText=pt.prototype.la,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Fa,VS=pt}).apply(typeof Af<"u"?Af:typeof self<"u"?self:typeof window<"u"?window:{});let In=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");let ql="12.8.0";function PP(t){ql=t}const go=new av("@firebase/firestore");function dl(){return go.logLevel}function Te(t,...e){if(go.logLevel<=Ze.DEBUG){const n=e.map(_v);go.debug(`Firestore (${ql}): ${t}`,...n)}}function gr(t,...e){if(go.logLevel<=Ze.ERROR){const n=e.map(_v);go.error(`Firestore (${ql}): ${t}`,...n)}}function yo(t,...e){if(go.logLevel<=Ze.WARN){const n=e.map(_v);go.warn(`Firestore (${ql}): ${t}`,...n)}}function _v(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ve(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,US(t,s,n)}function US(t,e,n){let s=`FIRESTORE (${ql}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw gr(s),new Error(s)}function ut(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||US(e,a,s)}function je(t,e){return t}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Ms{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ur{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class zS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(In.UNAUTHENTICATED)))}shutdown(){}}class OP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class LP{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0,42304);let s=this.i;const a=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let l=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ur,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},f=p=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ur)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ut(typeof s.accessToken=="string",31837,{l:s}),new zS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new In(e)}}class jP{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=In.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class UP{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new jP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(In.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Hw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ut(this.o===void 0,3512);const s=l=>{l.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,Te("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Hw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Hw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function BP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class $d{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=BP(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Je(t,e){return t<e?-1:t>e?1:0}function uy(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Ag(a)===Ag(l)?Je(a,l):Ag(a)?1:-1}return Je(t.length,e.length)}const FP=55296,qP=57343;function Ag(t){const e=t.charCodeAt(0);return e>=FP&&e<=qP}function Dl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const Gw="__name__";class Ts{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ts.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ts?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Ts.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Je(e.length,n.length)}static compareSegments(e,n){const s=Ts.isNumericId(e),a=Ts.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Ts.extractNumericId(e).compare(Ts.extractNumericId(n)):uy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return la.fromString(e.substring(4,e.length-2))}}class xt extends Ts{construct(e,n,s){return new xt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new _e(ue.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new xt(n)}static emptyPath(){return new xt([])}}const HP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends Ts{construct(e,n,s){return new pn(e,n,s)}static isValidIdentifier(e){return HP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gw}static keyField(){return new pn([Gw])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new _e(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new _e(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _e(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(s+=f,a++):(l(),a++)}if(l(),u)throw new _e(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(n)}static emptyPath(){return new pn([])}}class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(xt.fromString(e))}static fromName(e){return new Ie(xt.fromString(e).popFirst(5))}static empty(){return new Ie(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new xt(e.slice()))}}function FS(t,e,n){if(!n)throw new _e(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qS(t,e,n,s){if(e===!0&&s===!0)throw new _e(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Kw(t){if(!Ie.isDocumentKey(t))throw new _e(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $w(t){if(Ie.isDocumentKey(t))throw new _e(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function HS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Yd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve(12329,{type:typeof t})}function Bn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yd(t);throw new _e(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function sn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Bu(t,e){if(!HS(t))throw new _e(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new _e(ue.INVALID_ARGUMENT,n);return!0}const Yw=-62135596800,Qw=1e6;class Fe{static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Qw);return new Fe(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Yw)throw new _e(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qw}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bu(e,Fe._jsonSchema))return new Fe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Yw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Fe._jsonSchemaVersion="firestore/timestamp/1.0",Fe._jsonSchema={type:sn("string",Fe._jsonSchemaVersion),seconds:sn("number"),nanoseconds:sn("number")};class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Fe(0,0))}static max(){return new Oe(new Fe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const xu=-1;function GP(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Oe.fromTimestamp(s===1e9?new Fe(n+1,0):new Fe(n,s));return new fa(a,Ie.empty(),e)}function KP(t){return new fa(t.readTime,t.key,xu)}class fa{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new fa(Oe.min(),Ie.empty(),xu)}static max(){return new fa(Oe.max(),Ie.empty(),xu)}}function $P(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}const YP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Hl(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==YP)throw t;Te("LocalStore","Unexpectedly lost primary lease")}class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.reject(n)}static resolve(e){return new fe(((n,s)=>{n(e)}))}static reject(e){return new fe(((n,s)=>{s(e)}))}static waitFor(e){return new fe(((n,s)=>{let a=0,l=0,u=!1;e.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&n()}),(p=>s(p)))})),u=!0,l===a&&n()}))}static or(e){let n=fe.resolve(!1);for(const s of e)n=n.next((a=>a?fe.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new fe(((s,a)=>{const l=e.length,u=new Array(l);let f=0;for(let p=0;p<l;p++){const d=p;n(e[d]).next((y=>{u[d]=y,++f,f===l&&s(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new fe(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function XP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Gl(t){return t.name==="IndexedDbTransactionError"}class Qd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qd.ce=-1;const bv=-1;function Xd(t){return t==null}function ud(t){return t===0&&1/t==-1/0}function WP(t){return typeof t=="number"&&Number.isInteger(t)&&!ud(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const GS="";function ZP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Xw(e)),e=JP(t.get(n),e);return Xw(e)}function JP(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case GS:n+="";break;default:n+=l}}return n}function Xw(t){return t+GS+""}function Ww(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ta(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function KS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Lt{constructor(e,n){this.comparator=e,this.root=n||Sn.EMPTY}insert(e,n){return new Lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cf(this.root,e,this.comparator,!0)}}class Cf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??Sn.RED,this.left=a??Sn.EMPTY,this.right=l??Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new Sn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Sn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new Sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class un{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zw(this.data.getIterator())}getIteratorFrom(e){return new Zw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class Zw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class mi{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new mi([])}unionWith(e){let n=new un(pn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new mi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Dl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class $S extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new $S("Invalid base64 string: "+l):l}})(e);return new gn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new gn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const eO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function da(t){if(ut(!!t,39018),typeof t=="string"){let e=0;const n=eO.exec(t);if(ut(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Gt(t.seconds),nanos:Gt(t.nanos)}}function Gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ma(t){return typeof t=="string"?gn.fromBase64String(t):gn.fromUint8Array(t)}const YS="server_timestamp",QS="__type__",XS="__previous_value__",WS="__local_write_time__";function Tv(t){return(t?.mapValue?.fields||{})[QS]?.stringValue===YS}function Wd(t){const e=t.mapValue.fields[XS];return Tv(e)?Wd(e):e}function Su(t){const e=da(t.mapValue.fields[WS].timestampValue);return new Fe(e.seconds,e.nanos)}class tO{constructor(e,n,s,a,l,u,f,p,d,y,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=d,this.isUsingEmulator=y,this.apiKey=v}}const hd="(default)";class kl{constructor(e,n){this.projectId=e,this.database=n||hd}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===hd}isEqual(e){return e instanceof kl&&e.projectId===this.projectId&&e.database===this.database}}function nO(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new _e(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(t.options.projectId,e)}const ZS="__type__",iO="__max__",Rf={mapValue:{}},JS="__vector__",fd="value";function pa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Tv(t)?4:rO(t)?9007199254740991:sO(t)?10:11:Ve(28295,{value:t})}function Is(t,e){if(t===e)return!0;const n=pa(t);if(n!==pa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Su(t).isEqual(Su(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=da(a.timestampValue),f=da(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return ma(a.bytesValue).isEqual(ma(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Gt(a.geoPointValue.latitude)===Gt(l.geoPointValue.latitude)&&Gt(a.geoPointValue.longitude)===Gt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Gt(a.integerValue)===Gt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Gt(a.doubleValue),f=Gt(l.doubleValue);return u===f?ud(u)===ud(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return Dl(t.arrayValue.values||[],e.arrayValue.values||[],Is);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(Ww(u)!==Ww(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!Is(u[p],f[p])))return!1;return!0})(t,e);default:return Ve(52216,{left:t})}}function Au(t,e){return(t.values||[]).find((n=>Is(n,e)))!==void 0}function Ml(t,e){if(t===e)return 0;const n=pa(t),s=pa(e);if(n!==s)return Je(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=Gt(l.integerValue||l.doubleValue),p=Gt(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(t,e);case 3:return Jw(t.timestampValue,e.timestampValue);case 4:return Jw(Su(t),Su(e));case 5:return uy(t.stringValue,e.stringValue);case 6:return(function(l,u){const f=ma(l),p=ma(u);return f.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),p=u.split("/");for(let d=0;d<f.length&&d<p.length;d++){const y=Je(f[d],p[d]);if(y!==0)return y}return Je(f.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=Je(Gt(l.latitude),Gt(u.latitude));return f!==0?f:Je(Gt(l.longitude),Gt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return eE(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const f=l.fields||{},p=u.fields||{},d=f[fd]?.arrayValue,y=p[fd]?.arrayValue,v=Je(d?.values?.length||0,y?.values?.length||0);return v!==0?v:eE(d,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Rf.mapValue&&u===Rf.mapValue)return 0;if(l===Rf.mapValue)return 1;if(u===Rf.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),d=u.fields||{},y=Object.keys(d);p.sort(),y.sort();for(let v=0;v<p.length&&v<y.length;++v){const w=uy(p[v],y[v]);if(w!==0)return w;const C=Ml(f[p[v]],d[y[v]]);if(C!==0)return C}return Je(p.length,y.length)})(t.mapValue,e.mapValue);default:throw Ve(23264,{he:n})}}function Jw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const n=da(t),s=da(e),a=Je(n.seconds,s.seconds);return a!==0?a:Je(n.nanos,s.nanos)}function eE(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Ml(n[a],s[a]);if(l)return l}return Je(n.length,s.length)}function Vl(t){return hy(t)}function hy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=da(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ma(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ie.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=hy(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${hy(n.fields[u])}`;return a+"}"})(t.mapValue):Ve(61005,{value:t})}function Gf(t){switch(pa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wd(t);return e?16+Gf(e):16;case 5:return 2*t.stringValue.length;case 6:return ma(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Gf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Ta(s.fields,((l,u)=>{a+=l.length+Gf(u)})),a})(t.mapValue);default:throw Ve(13486,{value:t})}}function tE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fy(t){return!!t&&"integerValue"in t}function wv(t){return!!t&&"arrayValue"in t}function nE(t){return!!t&&"nullValue"in t}function iE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kf(t){return!!t&&"mapValue"in t}function sO(t){return(t?.mapValue?.fields||{})[ZS]?.stringValue===JS}function uu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ta(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=uu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uu(t.arrayValue.values[n]);return e}return{...t}}function rO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===iO}class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Kf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(n)}setAll(e){let n=pn.emptyPath(),s={},a=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,s,a),s={},a=[],n=f.popLast()}u?s[f.lastSegment()]=uu(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Kf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Is(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Kf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Ta(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Wn(uu(this.value))}}function eA(t){const e=[];return Ta(t.fields,((n,s)=>{const a=new pn([n]);if(Kf(s)){const l=eA(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new mi(e)}class Nn{constructor(e,n,s,a,l,u,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Nn(e,0,Oe.min(),Oe.min(),Oe.min(),Wn.empty(),0)}static newFoundDocument(e,n,s,a){return new Nn(e,1,n,Oe.min(),s,a,0)}static newNoDocument(e,n){return new Nn(e,2,n,Oe.min(),Oe.min(),Wn.empty(),0)}static newUnknownDocument(e,n){return new Nn(e,3,n,Oe.min(),Oe.min(),Wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dd{constructor(e,n){this.position=e,this.inclusive=n}}function sE(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=Ie.comparator(Ie.fromName(u.referenceValue),n.key):s=Ml(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function rE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Is(t.position[n],e.position[n]))return!1;return!0}class md{constructor(e,n="asc"){this.field=e,this.dir=n}}function aO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class tA{}class nn extends tA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new lO(e,n,s):n==="array-contains"?new hO(e,s):n==="in"?new fO(e,s):n==="not-in"?new dO(e,s):n==="array-contains-any"?new mO(e,s):new nn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new cO(e,s):new uO(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ml(n,this.value)):n!==null&&pa(this.value)===pa(n)&&this.matchesComparison(Ml(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ts extends tA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ts(e,n)}matches(e){return nA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nA(t){return t.op==="and"}function iA(t){return oO(t)&&nA(t)}function oO(t){for(const e of t.filters)if(e instanceof ts)return!1;return!0}function dy(t){if(t instanceof nn)return t.field.canonicalString()+t.op.toString()+Vl(t.value);if(iA(t))return t.filters.map((e=>dy(e))).join(",");{const e=t.filters.map((n=>dy(n))).join(",");return`${t.op}(${e})`}}function sA(t,e){return t instanceof nn?(function(s,a){return a instanceof nn&&s.op===a.op&&s.field.isEqual(a.field)&&Is(s.value,a.value)})(t,e):t instanceof ts?(function(s,a){return a instanceof ts&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,f)=>l&&sA(u,a.filters[f])),!0):!1})(t,e):void Ve(19439)}function rA(t){return t instanceof nn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Vl(n.value)}`})(t):t instanceof ts?(function(n){return n.op.toString()+" {"+n.getFilters().map(rA).join(" ,")+"}"})(t):"Filter"}class lO extends nn{constructor(e,n,s){super(e,n,s),this.key=Ie.fromName(s.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class cO extends nn{constructor(e,n){super(e,"in",n),this.keys=aA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class uO extends nn{constructor(e,n){super(e,"not-in",n),this.keys=aA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function aA(t,e){return(e.arrayValue?.values||[]).map((n=>Ie.fromName(n.referenceValue)))}class hO extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wv(n)&&Au(n.arrayValue,this.value)}}class fO extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Au(this.value.arrayValue,n)}}class dO extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Au(this.value.arrayValue,n)}}class mO extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Au(this.value.arrayValue,s)))}}class pO{constructor(e,n=null,s=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function aE(t,e=null,n=[],s=[],a=null,l=null,u=null){return new pO(t,e,n,s,a,l,u)}function Ev(t){const e=je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>dy(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Xd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Vl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Vl(s))).join(",")),e.Te=n}return e.Te}function xv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!aO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rE(t.startAt,e.startAt)&&rE(t.endAt,e.endAt)}function my(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Fu{constructor(e,n=null,s=[],a=[],l=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function gO(t,e,n,s,a,l,u,f){return new Fu(t,e,n,s,a,l,u,f)}function Zd(t){return new Fu(t)}function oE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yO(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function oA(t){return t.collectionGroup!==null}function hu(t){const e=je(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new un(pn.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((d=>{d.isInequality()&&(f=f.add(d.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new md(l,s))})),n.has(pn.keyField().canonicalString())||e.Ie.push(new md(pn.keyField(),s))}return e.Ie}function xs(t){const e=je(t);return e.Ee||(e.Ee=vO(e,hu(t))),e.Ee}function vO(t,e){if(t.limitType==="F")return aE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new md(a.field,l)}));const n=t.endAt?new dd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new dd(t.startAt.position,t.startAt.inclusive):null;return aE(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function py(t,e){const n=t.filters.concat([e]);return new Fu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function gy(t,e,n){return new Fu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jd(t,e){return xv(xs(t),xs(e))&&t.limitType===e.limitType}function lA(t){return`${Ev(xs(t))}|lt:${t.limitType}`}function ml(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>rA(a))).join(", ")}]`),Xd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Vl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Vl(a))).join(",")),`Target(${s})`})(xs(t))}; limitType=${t.limitType})`}function em(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ie.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of hu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,f,p){const d=sE(u,f,p);return u.inclusive?d<=0:d<0})(s.startAt,hu(s),a)||s.endAt&&!(function(u,f,p){const d=sE(u,f,p);return u.inclusive?d>=0:d>0})(s.endAt,hu(s),a))})(t,e)}function _O(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cA(t){return(e,n)=>{let s=!1;for(const a of hu(t)){const l=bO(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function bO(t,e,n){const s=t.field.isKeyField()?Ie.comparator(e.key,n.key):(function(l,u,f){const p=u.data.field(l),d=f.data.field(l);return p!==null&&d!==null?Ml(p,d):Ve(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ve(19790,{direction:t.dir})}}class To{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ta(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return KS(this.inner)}size(){return this.innerSize}}const TO=new Lt(Ie.comparator);function yr(){return TO}const uA=new Lt(Ie.comparator);function su(...t){let e=uA;for(const n of t)e=e.insert(n.key,n);return e}function hA(t){let e=uA;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ao(){return fu()}function fA(){return fu()}function fu(){return new To((t=>t.toString()),((t,e)=>t.isEqual(e)))}const wO=new Lt(Ie.comparator),EO=new un(Ie.comparator);function et(...t){let e=EO;for(const n of t)e=e.add(n);return e}const xO=new un(Je);function SO(){return xO}function Sv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ud(e)?"-0":e}}function dA(t){return{integerValue:""+t}}function AO(t,e){return WP(e)?dA(e):Sv(t,e)}class tm{constructor(){this._=void 0}}function CO(t,e,n){return t instanceof pd?(function(a,l){const u={fields:{[QS]:{stringValue:YS},[WS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Tv(l)&&(l=Wd(l)),l&&(u.fields[XS]=l),{mapValue:u}})(n,e):t instanceof Cu?pA(t,e):t instanceof Ru?gA(t,e):(function(a,l){const u=mA(a,l),f=lE(u)+lE(a.Ae);return fy(u)&&fy(a.Ae)?dA(f):Sv(a.serializer,f)})(t,e)}function RO(t,e,n){return t instanceof Cu?pA(t,e):t instanceof Ru?gA(t,e):n}function mA(t,e){return t instanceof gd?(function(s){return fy(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class pd extends tm{}class Cu extends tm{constructor(e){super(),this.elements=e}}function pA(t,e){const n=yA(e);for(const s of t.elements)n.some((a=>Is(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Ru extends tm{constructor(e){super(),this.elements=e}}function gA(t,e){let n=yA(e);for(const s of t.elements)n=n.filter((a=>!Is(a,s)));return{arrayValue:{values:n}}}class gd extends tm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function lE(t){return Gt(t.integerValue||t.doubleValue)}function yA(t){return wv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function IO(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Cu&&a instanceof Cu||s instanceof Ru&&a instanceof Ru?Dl(s.elements,a.elements,Is):s instanceof gd&&a instanceof gd?Is(s.Ae,a.Ae):s instanceof pd&&a instanceof pd})(t.transform,e.transform)}class NO{constructor(e,n){this.version=e,this.transformResults=n}}class Pi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pi}static exists(e){return new Pi(void 0,e)}static updateTime(e){return new Pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $f(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class nm{}function vA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Av(t.key,Pi.none()):new qu(t.key,t.data,Pi.none());{const n=t.data,s=Wn.empty();let a=new un(pn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new wa(t.key,s,new mi(a.toArray()),Pi.none())}}function DO(t,e,n){t instanceof qu?(function(a,l,u){const f=a.value.clone(),p=uE(a.fieldTransforms,l,u.transformResults);f.setAll(p),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof wa?(function(a,l,u){if(!$f(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=uE(a.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(_A(a)),p.setAll(f),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function du(t,e,n,s){return t instanceof qu?(function(l,u,f,p){if(!$f(l.precondition,u))return f;const d=l.value.clone(),y=hE(l.fieldTransforms,p,u);return d.setAll(y),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(t,e,n,s):t instanceof wa?(function(l,u,f,p){if(!$f(l.precondition,u))return f;const d=hE(l.fieldTransforms,p,u),y=u.data;return y.setAll(_A(l)),y.setAll(d),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,s):(function(l,u,f){return $f(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function kO(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=mA(s.transform,a||null);l!=null&&(n===null&&(n=Wn.empty()),n.set(s.field,l))}return n||null}function cE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Dl(s,a,((l,u)=>IO(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qu extends nm{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class wa extends nm{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function _A(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function uE(t,e,n){const s=new Map;ut(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,f=e.data.field(l.field);s.set(l.field,RO(u,f,n[a]))}return s}function hE(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,CO(l,u,e))}return s}class Av extends nm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MO extends nm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class VO{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&DO(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=du(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=du(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=fA();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(a.key)?null:f;const p=vA(u,f);p!==null&&s.set(a.key,p),u.isValidDocument()||u.convertToNoDocument(Oe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),et())}isEqual(e){return this.batchId===e.batchId&&Dl(this.mutations,e.mutations,((n,s)=>cE(n,s)))&&Dl(this.baseMutations,e.baseMutations,((n,s)=>cE(n,s)))}}class Cv{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){ut(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return wO})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new Cv(e,n,s,a)}}class PO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class OO{constructor(e,n){this.count=e,this.unchangedNames=n}}var Jt,nt;function LO(t){switch(t){case ue.OK:return Ve(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Ve(15467,{code:t})}}function bA(t){if(t===void 0)return gr("GRPC error has no .code"),ue.UNKNOWN;switch(t){case Jt.OK:return ue.OK;case Jt.CANCELLED:return ue.CANCELLED;case Jt.UNKNOWN:return ue.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return ue.INTERNAL;case Jt.UNAVAILABLE:return ue.UNAVAILABLE;case Jt.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Jt.NOT_FOUND:return ue.NOT_FOUND;case Jt.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Jt.ABORTED:return ue.ABORTED;case Jt.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Jt.DATA_LOSS:return ue.DATA_LOSS;default:return Ve(39323,{code:t})}}(nt=Jt||(Jt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";function jO(){return new TextEncoder}const UO=new la([4294967295,4294967295],0);function fE(t){const e=jO().encode(t),n=new MS;return n.update(e),new Uint8Array(n.digest())}function dE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new la([n,s],0),new la([a,l],0)]}class Rv{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ru(`Invalid padding: ${n}`);if(s<0)throw new ru(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ru(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=la.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(la.fromNumber(s)));return a.compare(UO)===1&&(a=new la([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=fE(e),[s,a]=dE(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Rv(l,a,n);return s.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=fE(e),[s,a]=dE(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.be(u)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class im{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Hu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new im(Oe.min(),a,new Lt(Je),yr(),et())}}class Hu{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Hu(s,n,et(),et(),et())}}class Yf{constructor(e,n,s,a){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=a}}class TA{constructor(e,n){this.targetId=e,this.Ce=n}}class wA{constructor(e,n,s=gn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class mE{constructor(){this.ve=0,this.Fe=pE(),this.Me=gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=et(),n=et(),s=et();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ve(38017,{changeType:l})}})),new Hu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=pE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class zO{constructor(e){this.Ge=e,this.ze=new Map,this.je=yr(),this.He=If(),this.Je=If(),this.Ze=new Lt(Je)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(my(l))if(s===0){const u=new Ie(l.path);this.et(n,u,Nn.newNoDocument(u,Oe.min()))}else ut(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const f=this.ut(e),p=f?this.ct(f,e,u):1;if(p!==0){this.it(n);const d=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,f;try{u=ma(s).toUint8Array()}catch(p){if(p instanceof $S)return yo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Rv(u,a,l)}catch(p){return yo(p instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&my(f.target)){const p=new Ie(f.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,Nn.newNoDocument(p,e))}l.Be&&(n.set(u,l.ke()),l.Ke())}}));let s=et();this.Je.forEach(((l,u)=>{let f=!0;u.forEachWhile((p=>{const d=this.ot(p);return!d||d.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new im(e,n,this.Ze,this.je,s);return this.je=yr(),this.He=If(),this.Je=If(),this.Ze=new Lt(Je),a}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new mE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new un(Je),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new un(Je),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new mE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function If(){return new Lt(Ie.comparator)}function pE(){return new Lt(Ie.comparator)}const BO={asc:"ASCENDING",desc:"DESCENDING"},FO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qO={and:"AND",or:"OR"};class HO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yy(t,e){return t.useProto3Json||Xd(e)?e:{value:e}}function yd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function GO(t,e){return yd(t,e.toTimestamp())}function Ss(t){return ut(!!t,49232),Oe.fromTimestamp((function(n){const s=da(n);return new Fe(s.seconds,s.nanos)})(t))}function Iv(t,e){return vy(t,e).canonicalString()}function vy(t,e){const n=(function(a){return new xt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function xA(t){const e=xt.fromString(t);return ut(IA(e),10190,{key:e.toString()}),e}function _y(t,e){return Iv(t.databaseId,e.path)}function Cg(t,e){const n=xA(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(AA(n))}function SA(t,e){return Iv(t.databaseId,e)}function KO(t){const e=xA(t);return e.length===4?xt.emptyPath():AA(e)}function by(t){return new xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AA(t){return ut(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function gE(t,e,n){return{name:_y(t,e),fields:n.value.mapValue.fields}}function $O(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ve(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(d,y){return d.useProto3Json?(ut(y===void 0||typeof y=="string",58123),gn.fromBase64String(y||"")):(ut(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),gn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(d){const y=d.code===void 0?ue.UNKNOWN:bA(d.code);return new _e(y,d.message||"")})(u);n=new wA(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Cg(t,s.document.name),l=Ss(s.document.updateTime),u=s.document.createTime?Ss(s.document.createTime):Oe.min(),f=new Wn({mapValue:{fields:s.document.fields}}),p=Nn.newFoundDocument(a,l,u,f),d=s.targetIds||[],y=s.removedTargetIds||[];n=new Yf(d,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Cg(t,s.document),l=s.readTime?Ss(s.readTime):Oe.min(),u=Nn.newNoDocument(a,l),f=s.removedTargetIds||[];n=new Yf([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Cg(t,s.document),l=s.removedTargetIds||[];n=new Yf([],l,a,null)}else{if(!("filter"in e))return Ve(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new OO(a,l),f=s.targetId;n=new TA(f,u)}}return n}function YO(t,e){let n;if(e instanceof qu)n={update:gE(t,e.key,e.value)};else if(e instanceof Av)n={delete:_y(t,e.key)};else if(e instanceof wa)n={update:gE(t,e.key,e.data),updateMask:i4(e.fieldMask)};else{if(!(e instanceof MO))return Ve(16599,{dt:e.type});n={verify:_y(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const f=u.transform;if(f instanceof pd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Cu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ru)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof gd)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Ve(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:GO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ve(27497)})(t,e.precondition)),n}function QO(t,e){return t&&t.length>0?(ut(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?Ss(a.updateTime):Ss(l);return u.isEqual(Oe.min())&&(u=Ss(l)),new NO(u,a.transformResults||[])})(n,e)))):[]}function XO(t,e){return{documents:[SA(t,e.path)]}}function WO(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=SA(t,a);const l=(function(d){if(d.length!==0)return RA(ts.create(d,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(d){if(d.length!==0)return d.map((y=>(function(w){return{field:pl(w.field),direction:e4(w.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=yy(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:a}}function ZO(t){let e=KO(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){ut(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(v){const w=CA(v);return w instanceof ts&&iA(w)?w.getFilters():[w]})(n.where));let u=[];n.orderBy&&(u=(function(v){return v.map((w=>(function(D){return new md(gl(D.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(w)))})(n.orderBy));let f=null;n.limit&&(f=(function(v){let w;return w=typeof v=="object"?v.value:v,Xd(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(v){const w=!!v.before,C=v.values||[];return new dd(C,w)})(n.startAt));let d=null;return n.endAt&&(d=(function(v){const w=!v.before,C=v.values||[];return new dd(C,w)})(n.endAt)),gO(e,a,u,l,f,"F",p,d)}function JO(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=gl(n.unaryFilter.field);return nn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=gl(n.unaryFilter.field);return nn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=gl(n.unaryFilter.field);return nn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=gl(n.unaryFilter.field);return nn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}})(t):t.fieldFilter!==void 0?(function(n){return nn.create(gl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ts.create(n.compositeFilter.filters.map((s=>CA(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}})(n.compositeFilter.op))})(t):Ve(30097,{filter:t})}function e4(t){return BO[t]}function t4(t){return FO[t]}function n4(t){return qO[t]}function pl(t){return{fieldPath:t.canonicalString()}}function gl(t){return pn.fromServerFormat(t.fieldPath)}function RA(t){return t instanceof nn?(function(n){if(n.op==="=="){if(iE(n.value))return{unaryFilter:{field:pl(n.field),op:"IS_NAN"}};if(nE(n.value))return{unaryFilter:{field:pl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iE(n.value))return{unaryFilter:{field:pl(n.field),op:"IS_NOT_NAN"}};if(nE(n.value))return{unaryFilter:{field:pl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pl(n.field),op:t4(n.op),value:n.value}}})(t):t instanceof ts?(function(n){const s=n.getFilters().map((a=>RA(a)));return s.length===1?s[0]:{compositeFilter:{op:n4(n.op),filters:s}}})(t):Ve(54877,{filter:t})}function i4(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function IA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function NA(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class sa{constructor(e,n,s,a,l=Oe.min(),u=Oe.min(),f=gn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class s4{constructor(e){this.yt=e}}function r4(t){const e=ZO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gy(e,e.limit,"L"):e}class a4{constructor(){this.Sn=new o4}addToCollectionParentIndex(e,n){return this.Sn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(fa.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(fa.min())}updateCollectionGroup(e,n,s){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class o4{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new un(xt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new un(xt.comparator)).toArray()}}const yE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DA=41943040;class Qn{static withCacheSize(e){return new Qn(e,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Qn.DEFAULT_COLLECTION_PERCENTILE=10,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qn.DEFAULT=new Qn(DA,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qn.DISABLED=new Qn(-1,0,0);class Pl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Pl(0)}static ar(){return new Pl(-1)}}const vE="LruGarbageCollector",l4=1048576;function _E([t,e],[n,s]){const a=Je(t,n);return a===0?Je(e,s):a}class c4{constructor(e){this.Pr=e,this.buffer=new un(_E),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();_E(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class u4{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Te(vE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Gl(n)?Te(vE,"Ignoring IndexedDB error during garbage collection: ",n):await Hl(n)}await this.Ar(3e5)}))}}class h4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(Qd.ce);const s=new c4(n);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(yE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,a,l,u,f,p,d;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(s=v,f=Date.now(),this.removeTargets(e,s,n)))).next((v=>(l=v,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((v=>(d=Date.now(),dl()<=Ze.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${v} documents in `+(d-p)+`ms
Total Duration: ${d-y}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function f4(t,e){return new h4(t,e)}class d4{constructor(){this.changes=new To((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?fe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class m4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class p4{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&du(s.mutation,a,mi.empty(),Fe.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,et()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=et()){const a=ao();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=su();return l.forEach(((f,p)=>{u=u.insert(f,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=ao();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,et())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,s,a){let l=yr();const u=fu(),f=(function(){return fu()})();return n.forEach(((p,d)=>{const y=s.get(d.key);a.has(d.key)&&(y===void 0||y.mutation instanceof wa)?l=l.insert(d.key,d):y!==void 0?(u.set(d.key,y.mutation.getFieldMask()),du(y.mutation,d,y.mutation.getFieldMask(),Fe.now())):u.set(d.key,mi.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((d,y)=>u.set(d,y))),n.forEach(((d,y)=>f.set(d,new m4(y,u.get(d)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=fu();let a=new Lt(((u,f)=>u-f)),l=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((p=>{const d=n.get(p);if(d===null)return;let y=s.get(p)||mi.empty();y=f.applyToLocalView(d,y),s.set(p,y);const v=(a.get(f.batchId)||et()).add(p);a=a.insert(f.batchId,v)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),d=p.key,y=p.value,v=fA();y.forEach((w=>{if(!l.has(w)){const C=vA(n.get(w),s.get(w));C!==null&&v.set(w,C),l=l.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,v))}return fe.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return yO(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):fe.resolve(ao());let f=xu,p=l;return u.next((d=>fe.forEach(d,((y,v)=>(f<v.largestBatchId&&(f=v.largestBatchId),l.get(y)?fe.resolve():this.remoteDocumentCache.getEntry(e,y).next((w=>{p=p.insert(y,w)}))))).next((()=>this.populateOverlays(e,d,l))).next((()=>this.computeViews(e,p,d,et()))).next((y=>({batchId:f,changes:hA(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((s=>{let a=su();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=su();return this.indexManager.getCollectionParents(e,l).next((f=>fe.forEach(f,(p=>{const d=(function(v,w){return new Fu(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,d,s,a).next((y=>{y.forEach(((v,w)=>{u=u.insert(v,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((p,d)=>{const y=d.getKey();u.get(y)===null&&(u=u.insert(y,Nn.newInvalidDocument(y)))}));let f=su();return u.forEach(((p,d)=>{const y=l.get(p);y!==void 0&&du(y.mutation,d,mi.empty(),Fe.now()),em(n,d)&&(f=f.insert(p,d))})),f}))}}class g4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return fe.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Ss(a.createTime)}})(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:r4(a.bundledQuery),readTime:Ss(a.readTime)}})(n)),fe.resolve()}}class y4{constructor(){this.overlays=new Lt(Ie.comparator),this.Lr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ao();return fe.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.bt(e,n,l)})),fe.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),fe.resolve()}getOverlaysForCollection(e,n,s){const a=ao(),l=n.length+1,u=new Ie(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,d=p.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===l&&p.largestBatchId>s&&a.set(p.getKey(),p)}return fe.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new Lt(((d,y)=>d-y));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>s){let y=l.get(d.largestBatchId);y===null&&(y=ao(),l=l.insert(d.largestBatchId,y)),y.set(d.getKey(),d)}}const f=ao(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((d,y)=>f.set(d,y))),!(f.size()>=a)););return fe.resolve(f)}bt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new PO(n,s));let l=this.Lr.get(n);l===void 0&&(l=et(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}class v4{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}class Nv{constructor(){this.kr=new un(mn.Kr),this.qr=new un(mn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new mn(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new mn(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new Ie(new xt([])),s=new mn(n,e),a=new mn(n,e+1),l=[];return this.qr.forEachInRange([s,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ie(new xt([])),s=new mn(n,e),a=new mn(n,e+1);let l=et();return this.qr.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new mn(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class mn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ie.comparator(e.key,n.key)||Je(e.Hr,n.Hr)}static Ur(e,n){return Je(e.Hr,n.Hr)||Ie.comparator(e.key,n.key)}}class _4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new un(mn.Kr)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new VO(l,n,s,a);this.mutationQueue.push(u);for(const f of a)this.Jr=this.Jr.add(new mn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return fe.resolve(u)}lookupMutationBatch(e,n){return fe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return fe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?bv:this.Yn-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new mn(n,0),a=new mn(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(u=>{const f=this.Zr(u.Hr);l.push(f)})),fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new un(Je);return n.forEach((a=>{const l=new mn(a,0),u=new mn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(f=>{s=s.add(f.Hr)}))})),fe.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;Ie.isDocumentKey(l)||(l=l.child(""));const u=new mn(new Ie(l),0);let f=new un(Je);return this.Jr.forEachWhile((p=>{const d=p.key.path;return!!s.isPrefixOf(d)&&(d.length===a&&(f=f.add(p.Hr)),!0)}),u),fe.resolve(this.Yr(f))}Yr(e){const n=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ut(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return fe.forEach(n.mutations,(a=>{const l=new mn(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new mn(n,0),a=this.Jr.firstAfterOrEqual(s);return fe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class b4{constructor(e){this.ti=e,this.docs=(function(){return new Lt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return fe.resolve(s?s.document.mutableCopy():Nn.newInvalidDocument(n))}getEntries(e,n){let s=yr();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():Nn.newInvalidDocument(a))})),fe.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=yr();const u=n.path,f=new Ie(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:d,value:{document:y}}=p.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||$P(KP(y),s)<=0||(a.has(y.key)||em(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return fe.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Ve(9500)}ni(e,n){return fe.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new T4(this)}getSize(e){return fe.resolve(this.size)}}class T4 extends d4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),fe.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class w4{constructor(e){this.persistence=e,this.ri=new To((n=>Ev(n)),xv),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.ii=0,this.si=new Nv,this.targetCount=0,this.oi=Pl._r()}forEachTarget(e,n){return this.ri.forEach(((s,a)=>n(a))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),fe.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Pl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.lr(n),fe.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.ri.forEach(((u,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),fe.waitFor(l).next((()=>a))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return fe.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),fe.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),fe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return fe.resolve(s)}containsKey(e,n){return fe.resolve(this.si.containsKey(n))}}class kA{constructor(e,n){this._i={},this.overlays={},this.ai=new Qd(0),this.ui=!1,this.ui=!0,this.ci=new v4,this.referenceDelegate=e(this),this.li=new w4(this),this.indexManager=new a4,this.remoteDocumentCache=(function(a){return new b4(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new s4(n),this.Pi=new g4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new y4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new _4(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){Te("MemoryPersistence","Starting transaction:",e);const a=new E4(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return fe.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class E4 extends QP{constructor(e){super(),this.currentSequenceNumber=e}}class Dv{constructor(e){this.persistence=e,this.Ri=new Nv,this.Ai=null}static Vi(e){return new Dv(e)}get di(){if(this.Ai)return this.Ai;throw Ve(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),fe.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.di,(s=>{const a=Ie.fromPath(s);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Oe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return fe.or([()=>fe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class vd{constructor(e,n){this.persistence=e,this.fi=new To((s=>ZP(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=f4(this,n)}static Vi(e,n){return new vd(e,n)}Ti(){}Ii(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return fe.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((l=>l?fe.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,n).next((f=>{f||(s++,l.removeEntry(u,Oe.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),fe.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gf(e.data.value)),n}wr(e,n,s){return fe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return fe.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class kv{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=a}static Es(e,n){let s=et(),a=et();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new kv(e,n.fromCache,s,a)}}class x4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class S4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return mk()?8:XP(kn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.gs(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new x4;return this.ys(e,n,u).next((f=>{if(l.result=f,this.As)return this.ws(e,n,u,f.size)}))})).next((()=>l.result))}ws(e,n,s,a){return s.documentReadCount<this.Vs?(dl()<=Ze.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",ml(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),fe.resolve()):(dl()<=Ze.DEBUG&&Te("QueryEngine","Query:",ml(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(dl()<=Ze.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",ml(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xs(n))):fe.resolve())}gs(e,n){if(oE(n))return fe.resolve(null);let s=xs(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=gy(n,null,"F"),s=xs(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=et(...l);return this.fs.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,s).next((p=>{const d=this.bs(n,f);return this.Ss(n,d,u,p.readTime)?this.gs(e,gy(n,null,"F")):this.Ds(e,d,n,p)}))))})))))}ps(e,n,s,a){return oE(n)||a.isEqual(Oe.min())?fe.resolve(null):this.fs.getDocuments(e,s).next((l=>{const u=this.bs(n,l);return this.Ss(n,u,s,a)?fe.resolve(null):(dl()<=Ze.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ml(n)),this.Ds(e,u,n,GP(a,xu)).next((f=>f)))}))}bs(e,n){let s=new un(cA(e));return n.forEach(((a,l)=>{em(e,l)&&(s=s.add(l))})),s}Ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,s){return dl()<=Ze.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",ml(n)),this.fs.getDocumentsMatchingQuery(e,n,fa.min(),s)}Ds(e,n,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const Mv="LocalStore",A4=3e8;class C4{constructor(e,n,s,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new Lt(Je),this.Fs=new To((l=>Ev(l)),xv),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new p4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function R4(t,e,n,s){return new C4(t,e,n,s)}async function MA(t,e){const n=je(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],f=[];let p=et();for(const d of a){u.push(d.batchId);for(const y of d.mutations)p=p.add(y.key)}for(const d of l){f.push(d.batchId);for(const y of d.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(s,p).next((d=>({Ns:d,removedBatchIds:u,addedBatchIds:f})))}))}))}function I4(t,e){const n=je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(f,p,d,y){const v=d.batch,w=v.keys();let C=fe.resolve();return w.forEach((D=>{C=C.next((()=>y.getEntry(p,D))).next((P=>{const V=d.docVersions.get(D);ut(V!==null,48541),P.version.compareTo(V)<0&&(v.applyToRemoteDocument(P,d),P.isValidDocument()&&(P.setReadTime(d.commitVersion),y.addEntry(P)))}))})),C.next((()=>f.mutationQueue.removeMutationBatch(p,v)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let p=et();for(let d=0;d<f.mutationResults.length;++d)f.mutationResults[d].transformResults.length>0&&(p=p.add(f.batch.mutations[d].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function VA(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function N4(t,e){const n=je(t),s=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const f=[];e.targetChanges.forEach(((y,v)=>{const w=a.get(v);if(!w)return;f.push(n.li.removeMatchingKeys(l,y.removedDocuments,v).next((()=>n.li.addMatchingKeys(l,y.addedDocuments,v))));let C=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?C=C.withResumeToken(gn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,s)),a=a.insert(v,C),(function(P,V,j){return P.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=A4?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(w,C,y)&&f.push(n.li.updateTargetData(l,C))}));let p=yr(),d=et();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(D4(l,u,e.documentUpdates).next((y=>{p=y.Bs,d=y.Ls}))),!s.isEqual(Oe.min())){const y=n.li.getLastRemoteSnapshotVersion(l).next((v=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(y)}return fe.waitFor(f).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,d))).next((()=>p))})).then((l=>(n.vs=a,l)))}function D4(t,e,n){let s=et(),a=et();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=yr();return n.forEach(((f,p)=>{const d=l.get(f);p.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(Oe.min())?(e.removeEntry(f,p.readTime),u=u.insert(f,p)):!d.isValidDocument()||p.version.compareTo(d.version)>0||p.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(p),u=u.insert(f,p)):Te(Mv,"Ignoring outdated watch update for ",f,". Current version:",d.version," Watch version:",p.version)})),{Bs:u,Ls:a}}))}function k4(t,e){const n=je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=bv),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function M4(t,e){const n=je(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,e).next((l=>l?(a=l,fe.resolve(a)):n.li.allocateTargetId(s).next((u=>(a=new sa(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Ty(t,e,n){const s=je(t),a=s.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Gl(u))throw u;Te(Mv,`Failed to update sequence numbers for target ${e}: ${u}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function bE(t,e,n){const s=je(t);let a=Oe.min(),l=et();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,d,y){const v=je(p),w=v.Fs.get(y);return w!==void 0?fe.resolve(v.vs.get(w)):v.li.getTargetData(d,y)})(s,u,xs(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(u,f.targetId).next((p=>{l=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,e,n?a:Oe.min(),n?l:et()))).next((f=>(V4(s,_O(e),f),{documents:f,ks:l})))))}function V4(t,e,n){let s=t.Ms.get(e)||Oe.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Ms.set(e,s)}class TE{constructor(){this.activeTargetIds=SO()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class P4{constructor(){this.vo=new TE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new TE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class O4{Mo(e){}shutdown(){}}const wE="ConnectivityMonitor";class EE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Te(wE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Te(wE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Nf=null;function wy(){return Nf===null?Nf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nf++,"0x"+Nf.toString(16)}const Rg="RestConnection",L4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class j4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===hd?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,n,s,a,l){const u=wy(),f=this.Qo(e,n.toUriEncodedString());Te(Rg,`Sending RPC '${e}' ${u}:`,f,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,a,l);const{host:d}=new URL(f),y=_o(d);return this.zo(e,f,p,s,y).then((v=>(Te(Rg,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw yo(Rg,`RPC '${e}' ${u} failed with error: `,v,"url: ",f,"request:",s),v}))}jo(e,n,s,a,l,u){return this.Wo(e,n,s,a,l)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ql})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const s=L4[e];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class U4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Rn="WebChannelConnection",Jc=(t,e,n)=>{t.listen(e,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Cl extends j4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Cl.c_){const e=LS();Jc(e,OS.STAT_EVENT,(n=>{n.stat===cy.PROXY?Te(Rn,"STAT_EVENT: detected buffering proxy"):n.stat===cy.NOPROXY&&Te(Rn,"STAT_EVENT: detected no buffering proxy")})),Cl.c_=!0}}zo(e,n,s,a,l){const u=wy();return new Promise(((f,p)=>{const d=new VS;d.setWithCredentials(!0),d.listenOnce(PS.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Hf.NO_ERROR:const v=d.getResponseJson();Te(Rn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),f(v);break;case Hf.TIMEOUT:Te(Rn,`RPC '${e}' ${u} timed out`),p(new _e(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Hf.HTTP_ERROR:const w=d.getStatus();if(Te(Rn,`RPC '${e}' ${u} failed with status:`,w,"response text:",d.getResponseText()),w>0){let C=d.getResponseJson();Array.isArray(C)&&(C=C[0]);const D=C?.error;if(D&&D.status&&D.message){const P=(function(j){const F=j.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(F)>=0?F:ue.UNKNOWN})(D.status);p(new _e(P,D.message))}else p(new _e(ue.UNKNOWN,"Server responded with status "+d.getStatus()))}else p(new _e(ue.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Te(Rn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);Te(Rn,`RPC '${e}' ${u} sending request:`,a),d.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=wy(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,n,s),f.encodeInitMessageHeaders=!0;const d=l.join("");Te(Rn,`Creating RPC '${e}' stream ${a}: ${d}`,f);const y=u.createWebChannel(d,f);this.I_(y);let v=!1,w=!1;const C=new U4({Ho:D=>{w?Te(Rn,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(v||(Te(Rn,`Opening RPC '${e}' stream ${a} transport.`),y.open(),v=!0),Te(Rn,`RPC '${e}' stream ${a} sending:`,D),y.send(D))},Jo:()=>y.close()});return Jc(y,iu.EventType.OPEN,(()=>{w||(Te(Rn,`RPC '${e}' stream ${a} transport opened.`),C.i_())})),Jc(y,iu.EventType.CLOSE,(()=>{w||(w=!0,Te(Rn,`RPC '${e}' stream ${a} transport closed`),C.o_(),this.E_(y))})),Jc(y,iu.EventType.ERROR,(D=>{w||(w=!0,yo(Rn,`RPC '${e}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),C.o_(new _e(ue.UNAVAILABLE,"The operation could not be completed")))})),Jc(y,iu.EventType.MESSAGE,(D=>{if(!w){const P=D.data[0];ut(!!P,16349);const V=P,j=V?.error||V[0]?.error;if(j){Te(Rn,`RPC '${e}' stream ${a} received error:`,j);const F=j.status;let q=(function(de){const k=Jt[de];if(k!==void 0)return bA(k)})(F),oe=j.message;q===void 0&&(q=ue.INTERNAL,oe="Unknown error status: "+F+" with message "+j.message),w=!0,C.o_(new _e(q,oe)),y.close()}else Te(Rn,`RPC '${e}' stream ${a} received:`,P),C.__(P)}})),Cl.u_(),setTimeout((()=>{C.s_()}),0),C}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return jS()}}function z4(t){return new Cl(t)}function Ig(){return typeof document<"u"?document:null}function sm(t){return new HO(t,!0)}Cl.c_=!1;class PA{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&Te("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const xE="PersistentStream";class OA{constructor(e,n,s,a,l,u,f,p){this.Ci=e,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(gr(n.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new _e(ue.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(xE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Te(xE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class B4 extends OA{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=$O(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Oe.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Oe.min():u.readTime?Ss(u.readTime):Oe.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=by(this.serializer),n.addTarget=(function(l,u){let f;const p=u.target;if(f=my(p)?{documents:XO(l,p)}:{query:WO(l,p).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=EA(l,u.resumeToken);const d=yy(l,u.expectedCount);d!==null&&(f.expectedCount=d)}else if(u.snapshotVersion.compareTo(Oe.min())>0){f.readTime=yd(l,u.snapshotVersion.toTimestamp());const d=yy(l,u.expectedCount);d!==null&&(f.expectedCount=d)}return f})(this.serializer,e);const s=JO(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=by(this.serializer),n.removeTarget=e,this.K_(n)}}class F4 extends OA{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=QO(e.writeResults,e.commitTime),s=Ss(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=by(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>YO(this.serializer,s)))};this.K_(n)}}class q4{}class H4 extends q4{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new _e(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,vy(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(ue.UNKNOWN,l.toString())}))}jo(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.jo(e,vy(n,s),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(ue.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function G4(t,e,n,s){return new H4(t,e,n,s)}class K4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gr(n),this.aa=!1):Te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const vo="RemoteStore";class $4{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{s.enqueueAndForget((async()=>{wo(this)&&(Te(vo,"Restarting streams for network reachability change."),await(async function(p){const d=je(p);d.Ea.add(4),await Gu(d),d.Va.set("Unknown"),d.Ea.delete(4),await rm(d)})(this))}))})),this.Va=new K4(s,a)}}async function rm(t){if(wo(t))for(const e of t.Ra)await e(!0)}async function Gu(t){for(const e of t.Ra)await e(!1)}function LA(t,e){const n=je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Lv(n)?Ov(n):Kl(n).O_()&&Pv(n,e))}function Vv(t,e){const n=je(t),s=Kl(n);n.Ia.delete(e),s.O_()&&jA(n,e),n.Ia.size===0&&(s.O_()?s.L_():wo(n)&&n.Va.set("Unknown"))}function Pv(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Kl(t).Z_(e)}function jA(t,e){t.da.$e(e),Kl(t).X_(e)}function Ov(t){t.da=new zO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Kl(t).start(),t.Va.ua()}function Lv(t){return wo(t)&&!Kl(t).x_()&&t.Ia.size>0}function wo(t){return je(t).Ea.size===0}function UA(t){t.da=void 0}async function Y4(t){t.Va.set("Online")}async function Q4(t){t.Ia.forEach(((e,n)=>{Pv(t,e)}))}async function X4(t,e){UA(t),Lv(t)?(t.Va.ha(e),Ov(t)):t.Va.set("Unknown")}async function W4(t,e,n){if(t.Va.set("Online"),e instanceof wA&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.da.removeTarget(f))})(t,e)}catch(s){Te(vo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await _d(t,s)}else if(e instanceof Yf?t.da.Xe(e):e instanceof TA?t.da.st(e):t.da.tt(e),!n.isEqual(Oe.min()))try{const s=await VA(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const f=l.da.Tt(u);return f.targetChanges.forEach(((p,d)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.Ia.get(d);y&&l.Ia.set(d,y.withResumeToken(p.resumeToken,u))}})),f.targetMismatches.forEach(((p,d)=>{const y=l.Ia.get(p);if(!y)return;l.Ia.set(p,y.withResumeToken(gn.EMPTY_BYTE_STRING,y.snapshotVersion)),jA(l,p);const v=new sa(y.target,p,d,y.sequenceNumber);Pv(l,v)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){Te(vo,"Failed to raise snapshot:",s),await _d(t,s)}}async function _d(t,e,n){if(!Gl(e))throw e;t.Ea.add(1),await Gu(t),t.Va.set("Offline"),n||(n=()=>VA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Te(vo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await rm(t)}))}function zA(t,e){return e().catch((n=>_d(t,n,e)))}async function am(t){const e=je(t),n=ga(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bv;for(;Z4(e);)try{const a=await k4(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,J4(e,a)}catch(a){await _d(e,a)}BA(e)&&FA(e)}function Z4(t){return wo(t)&&t.Ta.length<10}function J4(t,e){t.Ta.push(e);const n=ga(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function BA(t){return wo(t)&&!ga(t).x_()&&t.Ta.length>0}function FA(t){ga(t).start()}async function e5(t){ga(t).ra()}async function t5(t){const e=ga(t);for(const n of t.Ta)e.ea(n.mutations)}async function n5(t,e,n){const s=t.Ta.shift(),a=Cv.from(s,e,n);await zA(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await am(t)}async function i5(t,e){e&&ga(t).Y_&&await(async function(s,a){if((function(u){return LO(u)&&u!==ue.ABORTED})(a.code)){const l=s.Ta.shift();ga(s).B_(),await zA(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await am(s)}})(t,e),BA(t)&&FA(t)}async function SE(t,e){const n=je(t);n.asyncQueue.verifyOperationInProgress(),Te(vo,"RemoteStore received new credentials");const s=wo(n);n.Ea.add(3),await Gu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await rm(n)}async function s5(t,e){const n=je(t);e?(n.Ea.delete(2),await rm(n)):e||(n.Ea.add(2),await Gu(n),n.Va.set("Unknown"))}function Kl(t){return t.ma||(t.ma=(function(n,s,a){const l=je(n);return l.sa(),new B4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:Y4.bind(null,t),Yo:Q4.bind(null,t),t_:X4.bind(null,t),J_:W4.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Lv(t)?Ov(t):t.Va.set("Unknown")):(await t.ma.stop(),UA(t))}))),t.ma}function ga(t){return t.fa||(t.fa=(function(n,s,a){const l=je(n);return l.sa(),new F4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:e5.bind(null,t),t_:i5.bind(null,t),ta:t5.bind(null,t),na:n5.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await am(t)):(await t.fa.stop(),t.Ta.length>0&&(Te(vo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class jv{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,f=new jv(e,n,u,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uv(t,e){if(gr("AsyncQueue",`${e}: ${t}`),Gl(t))return new _e(ue.UNAVAILABLE,`${e}: ${t}`);throw t}class Rl{static emptySet(e){return new Rl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ie.comparator(n.key,s.key):(n,s)=>Ie.comparator(n.key,s.key),this.keyedMap=su(),this.sortedSet=new Lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Rl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Rl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class AE{constructor(){this.ga=new Lt(Ie.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ve(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ol{constructor(e,n,s,a,l,u,f,p,d){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=d}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new Ol(e,n,Rl.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class r5{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class a5{constructor(){this.queries=CE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=je(n),l=a.queries;a.queries=CE(),l.forEach(((u,f)=>{for(const p of f.ba)p.onError(s)}))})(this,new _e(ue.ABORTED,"Firestore shutting down"))}}function CE(){return new To((t=>lA(t)),Jd)}async function zv(t,e){const n=je(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(s=2):(l=new r5,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const f=Uv(u,`Initialization of query '${ml(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Fv(n)}async function Bv(t,e){const n=je(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function o5(t,e){const n=je(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const f of u.ba)f.Fa(a)&&(s=!0);u.wa=a}}s&&Fv(n)}function l5(t,e,n){const s=je(t),a=s.queries.get(e);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(e)}function Fv(t){t.Ca.forEach((e=>{e.next()}))}var Ey,RE;(RE=Ey||(Ey={})).Ma="default",RE.Cache="cache";class qv{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Ol(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ey.Cache}}class qA{constructor(e){this.key=e}}class HA{constructor(e){this.key=e}}class c5{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=et(),this.mutatedKeys=et(),this.eu=cA(e),this.tu=new Rl(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new AE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,v)=>{const w=a.get(y),C=em(this.query,v)?v:null,D=!!w&&this.mutatedKeys.has(w.key),P=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let V=!1;w&&C?w.data.isEqual(C.data)?D!==P&&(s.track({type:3,doc:C}),V=!0):this.su(w,C)||(s.track({type:2,doc:C}),V=!0,(p&&this.eu(C,p)>0||d&&this.eu(C,d)<0)&&(f=!0)):!w&&C?(s.track({type:0,doc:C}),V=!0):w&&!C&&(s.track({type:1,doc:w}),V=!0,(p||d)&&(f=!0)),V&&(C?(u=u.add(C),l=P?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:u,iu:s,Ss:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,v)=>(function(C,D){const P=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Vt:V})}};return P(C)-P(D)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],p=this.Ya.size===0&&this.current&&!a?1:0,d=p!==this.Xa;return this.Xa=p,u.length!==0||d?{snapshot:new Ol(this.query,e.tu,l,u,e.mutatedKeys,p===0,d,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new AE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=et(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new HA(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new qA(s))})),n}cu(e){this.Za=e.ks,this.Ya=et();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ol.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Hv="SyncEngine";class u5{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class h5{constructor(e){this.key=e,this.hu=!1}}class f5{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new To((f=>lA(f)),Jd),this.Iu=new Map,this.Eu=new Set,this.Ru=new Lt(Ie.comparator),this.Au=new Map,this.Vu=new Nv,this.du={},this.mu=new Map,this.fu=Pl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function d5(t,e,n=!0){const s=XA(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await GA(s,e,n,!0),a}async function m5(t,e){const n=XA(t);await GA(n,e,!0,!1)}async function GA(t,e,n,s){const a=await M4(t.localStore,xs(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await p5(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&LA(t.remoteStore,a),f}async function p5(t,e,n,s,a){t.pu=(v,w,C)=>(async function(P,V,j,F){let q=V.view.ru(j);q.Ss&&(q=await bE(P.localStore,V.query,!1).then((({documents:k})=>V.view.ru(k,q))));const oe=F&&F.targetChanges.get(V.targetId),ae=F&&F.targetMismatches.get(V.targetId)!=null,de=V.view.applyChanges(q,P.isPrimaryClient,oe,ae);return NE(P,V.targetId,de.au),de.snapshot})(t,v,w,C);const l=await bE(t.localStore,e,!0),u=new c5(e,l.ks),f=u.ru(l.documents),p=Hu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),d=u.applyChanges(f,t.isPrimaryClient,p);NE(t,n,d.au);const y=new u5(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function g5(t,e,n){const s=je(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!Jd(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Ty(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Vv(s.remoteStore,a.targetId),xy(s,a.targetId)})).catch(Hl)):(xy(s,a.targetId),await Ty(s.localStore,a.targetId,!0))}async function y5(t,e){const n=je(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Vv(n.remoteStore,s.targetId))}async function v5(t,e,n){const s=S5(t);try{const a=await(function(u,f){const p=je(u),d=Fe.now(),y=f.reduce(((C,D)=>C.add(D.key)),et());let v,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let D=yr(),P=et();return p.xs.getEntries(C,y).next((V=>{D=V,D.forEach(((j,F)=>{F.isValidDocument()||(P=P.add(j))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,D))).next((V=>{v=V;const j=[];for(const F of f){const q=kO(F,v.get(F.key).overlayedDocument);q!=null&&j.push(new wa(F.key,q,eA(q.value.mapValue),Pi.exists(!0)))}return p.mutationQueue.addMutationBatch(C,d,j,f)})).next((V=>{w=V;const j=V.applyToLocalDocumentSet(v,P);return p.documentOverlayCache.saveOverlays(C,V.batchId,j)}))})).then((()=>({batchId:w.batchId,changes:hA(v)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,f,p){let d=u.du[u.currentUser.toKey()];d||(d=new Lt(Je)),d=d.insert(f,p),u.du[u.currentUser.toKey()]=d})(s,a.batchId,n),await Ku(s,a.changes),await am(s.remoteStore)}catch(a){const l=Uv(a,"Failed to persist write");n.reject(l)}}async function KA(t,e){const n=je(t);try{const s=await N4(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(ut(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?ut(u.hu,14607):a.removedDocuments.size>0&&(ut(u.hu,42227),u.hu=!1))})),await Ku(n,s,e)}catch(s){await Hl(s)}}function IE(t,e,n){const s=je(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const p=je(u);p.onlineState=f;let d=!1;p.queries.forEach(((y,v)=>{for(const w of v.ba)w.va(f)&&(d=!0)})),d&&Fv(p)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function _5(t,e,n){const s=je(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new Lt(Ie.comparator);u=u.insert(l,Nn.newNoDocument(l,Oe.min()));const f=et().add(l),p=new im(Oe.min(),new Map,new Lt(Je),u,f);await KA(s,p),s.Ru=s.Ru.remove(l),s.Au.delete(e),Gv(s)}else await Ty(s.localStore,e,!1).then((()=>xy(s,e,n))).catch(Hl)}async function b5(t,e){const n=je(t),s=e.batch.batchId;try{const a=await I4(n.localStore,e);YA(n,s,null),$A(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ku(n,a)}catch(a){await Hl(a)}}async function T5(t,e,n){const s=je(t);try{const a=await(function(u,f){const p=je(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let y;return p.mutationQueue.lookupMutationBatch(d,f).next((v=>(ut(v!==null,37113),y=v.keys(),p.mutationQueue.removeMutationBatch(d,v)))).next((()=>p.mutationQueue.performConsistencyCheck(d))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(d,y,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,y))).next((()=>p.localDocuments.getDocuments(d,y)))}))})(s.localStore,e);YA(s,e,n),$A(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ku(s,a)}catch(a){await Hl(a)}}function $A(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function YA(t,e,n){const s=je(t);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function xy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((s=>{t.Vu.containsKey(s)||QA(t,s)}))}function QA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Vv(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Gv(t))}function NE(t,e,n){for(const s of n)s instanceof qA?(t.Vu.addReference(s.key,e),w5(t,s)):s instanceof HA?(Te(Hv,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||QA(t,s.key)):Ve(19791,{wu:s})}function w5(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(Te(Hv,"New document in limbo: "+n),t.Eu.add(s),Gv(t))}function Gv(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ie(xt.fromString(e)),s=t.fu.next();t.Au.set(s,new h5(n)),t.Ru=t.Ru.insert(n,s),LA(t.remoteStore,new sa(xs(Zd(n.path)),s,"TargetPurposeLimboResolution",Qd.ce))}}async function Ku(t,e,n){const s=je(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,p)=>{u.push(s.pu(p,e,n).then((d=>{if((d||n)&&s.isPrimaryClient){const y=d?!d.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(d){a.push(d);const y=kv.Es(p.targetId,d);l.push(y)}})))})),await Promise.all(u),s.Pu.J_(a),await(async function(p,d){const y=je(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>fe.forEach(d,(w=>fe.forEach(w.Ts,(C=>y.persistence.referenceDelegate.addReference(v,w.targetId,C))).next((()=>fe.forEach(w.Is,(C=>y.persistence.referenceDelegate.removeReference(v,w.targetId,C)))))))))}catch(v){if(!Gl(v))throw v;Te(Mv,"Failed to update sequence numbers: "+v)}for(const v of d){const w=v.targetId;if(!v.fromCache){const C=y.vs.get(w),D=C.snapshotVersion,P=C.withLastLimboFreeSnapshotVersion(D);y.vs=y.vs.insert(w,P)}}})(s.localStore,l))}async function E5(t,e){const n=je(t);if(!n.currentUser.isEqual(e)){Te(Hv,"User change. New user:",e.toKey());const s=await MA(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((p=>{p.reject(new _e(ue.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ku(n,s.Ns)}}function x5(t,e){const n=je(t),s=n.Au.get(e);if(s&&s.hu)return et().add(s.key);{let a=et();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const f=n.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function XA(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=KA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_5.bind(null,e),e.Pu.J_=o5.bind(null,e.eventManager),e.Pu.yu=l5.bind(null,e.eventManager),e}function S5(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=b5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=T5.bind(null,e),e}class bd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return R4(this.persistence,new S4,e.initialUser,this.serializer)}Cu(e){return new kA(Dv.Vi,this.serializer)}Du(e){return new P4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bd.provider={build:()=>new bd};class A5 extends bd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ut(this.persistence.referenceDelegate instanceof vd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new u4(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Qn.withCacheSize(this.cacheSizeBytes):Qn.DEFAULT;return new kA((s=>vd.Vi(s,n)),this.serializer)}}class Sy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>IE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=E5.bind(null,this.syncEngine),await s5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new a5})()}createDatastore(e){const n=sm(e.databaseInfo.databaseId),s=z4(e.databaseInfo);return G4(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,f){return new $4(s,a,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>IE(this.syncEngine,n,0)),(function(){return EE.v()?new EE:new O4})())}createSyncEngine(e,n){return(function(a,l,u,f,p,d,y){const v=new f5(a,l,u,f,p,d);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=je(n);Te(vo,"RemoteStore shutting down."),s.Ea.add(5),await Gu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Sy.provider={build:()=>new Sy};class Kv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ya="FirestoreClient";class C5{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=In.UNAUTHENTICATED,this.clientId=$d.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{Te(ya,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(Te(ya,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Uv(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Ng(t,e){t.asyncQueue.verifyOperationInProgress(),Te(ya,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await MA(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function DE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await R5(t);Te(ya,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>SE(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>SE(e.remoteStore,a))),t._onlineComponents=e}async function R5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(ya,"Using user provided OfflineComponentProvider");try{await Ng(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ue.FAILED_PRECONDITION||a.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;yo("Error using user provided cache. Falling back to memory cache: "+n),await Ng(t,new bd)}}else Te(ya,"Using default OfflineComponentProvider"),await Ng(t,new A5(void 0));return t._offlineComponents}async function WA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(ya,"Using user provided OnlineComponentProvider"),await DE(t,t._uninitializedComponentsProvider._online)):(Te(ya,"Using default OnlineComponentProvider"),await DE(t,new Sy))),t._onlineComponents}function I5(t){return WA(t).then((e=>e.syncEngine))}async function Td(t){const e=await WA(t),n=e.eventManager;return n.onListen=d5.bind(null,e.syncEngine),n.onUnlisten=g5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=m5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=y5.bind(null,e.syncEngine),n}function N5(t,e,n,s){const a=new Kv(s),l=new qv(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>zv(await Td(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>Bv(await Td(t),l)))}}function D5(t,e,n={}){const s=new ur;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,p,d){const y=new Kv({next:w=>{y.Nu(),u.enqueueAndForget((()=>Bv(l,v)));const C=w.docs.has(f);!C&&w.fromCache?d.reject(new _e(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&w.fromCache&&p&&p.source==="server"?d.reject(new _e(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(w)},error:w=>d.reject(w)}),v=new qv(Zd(f.path),y,{includeMetadataChanges:!0,Ka:!0});return zv(l,v)})(await Td(t),t.asyncQueue,e,n,s))),s.promise}function k5(t,e,n={}){const s=new ur;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,p,d){const y=new Kv({next:w=>{y.Nu(),u.enqueueAndForget((()=>Bv(l,v))),w.fromCache&&p.source==="server"?d.reject(new _e(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(w)},error:w=>d.reject(w)}),v=new qv(f,y,{includeMetadataChanges:!0,Ka:!0});return zv(l,v)})(await Td(t),t.asyncQueue,e,n,s))),s.promise}function M5(t,e){const n=new ur;return t.asyncQueue.enqueueAndForget((async()=>v5(await I5(t),e,n))),n.promise}function ZA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const V5="ComponentProvider",kE=new Map;function P5(t,e,n,s,a){return new tO(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,ZA(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const JA="firestore.googleapis.com",ME=!0;class VE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JA,this.ssl=ME}else this.host=e.host,this.ssl=e.ssl??ME;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<l4)throw new _e(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _e(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _e(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _e(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class om{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new BS;switch(s.type){case"firstParty":return new UP(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _e(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=kE.get(n);s&&(Te(V5,"Removing Datastore"),kE.delete(n),s.terminate())})(this),Promise.resolve()}}function eC(t,e,n,s={}){t=Bn(t,om);const a=_o(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(sv(`https://${f}`),rv("Firestore",!0)),l.host!==JA&&l.host!==f&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:a,emulatorOptions:s};if(!fo(p,u)&&(t._setSettings(p),s.mockUserToken)){let d,y;if(typeof s.mockUserToken=="string")d=s.mockUserToken,y=In.MOCK_USER;else{d=Wx(s.mockUserToken,t._app?.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new _e(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new In(v)}t._authCredentials=new OP(new zS(d,y))}}class Ea{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ea(this.firestore,e,this._query)}}class Ot{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Bu(n,Ot._jsonSchema))return new Ot(e,s||null,new Ie(xt.fromString(n.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:sn("string",Ot._jsonSchemaVersion),referencePath:sn("string")};class hr extends Ea{constructor(e,n,s){super(e,n,Zd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new Ie(e))}withConverter(e){return new hr(this.firestore,e,this._path)}}function yl(t,e,...n){if(t=hn(t),FS("collection","path",e),t instanceof om){const s=xt.fromString(e,...n);return $w(s),new hr(t,null,s)}{if(!(t instanceof Ot||t instanceof hr))throw new _e(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(xt.fromString(e,...n));return $w(s),new hr(t.firestore,null,s)}}function As(t,e,...n){if(t=hn(t),arguments.length===1&&(e=$d.newId()),FS("doc","path",e),t instanceof om){const s=xt.fromString(e,...n);return Kw(s),new Ot(t,null,new Ie(s))}{if(!(t instanceof Ot||t instanceof hr))throw new _e(ue.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(xt.fromString(e,...n));return Kw(s),new Ot(t.firestore,t instanceof hr?t.converter:null,new Ie(s))}}const PE="AsyncQueue";class OE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PA(this,"async_queue_retry"),this._c=()=>{const s=Ig();s&&Te(PE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Ig();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ig();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ur;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Gl(e))throw e;Te(PE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,gr("INTERNAL UNHANDLED ERROR: ",LE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=jv.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ve(47125,{Pc:LE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function LE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ns extends om{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new OE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new OE(e),this._firestoreClient=void 0,await e}}}function tC(t,e){const n=typeof t=="object"?t:lv(),s=typeof t=="string"?t:hd,a=qd(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=Yx("firestore");l&&eC(a,...l)}return a}function $u(t){if(t._terminated)throw new _e(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||O5(t),t._firestoreClient}function O5(t){const e=t._freezeSettings(),n=P5(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new C5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class di{constructor(e){this._byteString=e}static fromBase64String(e){try{return new di(gn.fromBase64String(e))}catch(n){throw new _e(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new di(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:di._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bu(e,di._jsonSchema))return di.fromBase64String(e.bytes)}}di._jsonSchemaVersion="firestore/bytes/1.0",di._jsonSchema={type:sn("string",di._jsonSchemaVersion),bytes:sn("string")};class lm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cm{constructor(e){this._methodName=e}}class es{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:es._jsonSchemaVersion}}static fromJSON(e){if(Bu(e,es._jsonSchema))return new es(e.latitude,e.longitude)}}es._jsonSchemaVersion="firestore/geoPoint/1.0",es._jsonSchema={type:sn("string",es._jsonSchemaVersion),latitude:sn("number"),longitude:sn("number")};class Oi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bu(e,Oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Oi(e.vectorValues);throw new _e(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Oi._jsonSchemaVersion="firestore/vectorValue/1.0",Oi._jsonSchema={type:sn("string",Oi._jsonSchemaVersion),vectorValues:sn("object")};const L5=/^__.*__$/;class j5{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new wa(e,this.data,this.fieldMask,n,this.fieldTransforms):new qu(e,this.data,n,this.fieldTransforms)}}class nC{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new wa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{dataSource:t})}}class $v{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new $v({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return wd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(iC(this.dataSource)&&L5.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class U5{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||sm(e)}createContext(e,n,s,a=!1){return new $v({dataSource:e,methodName:n,targetDoc:s,path:pn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function um(t){const e=t._freezeSettings(),n=sm(t._databaseId);return new U5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sC(t,e,n,s,a,l={}){const u=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);Yv("Data must be an object, but it was:",u,s);const f=rC(s,u);let p,d;if(l.merge)p=new mi(u.fieldMask),d=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const w=Ll(e,v,n);if(!u.contains(w))throw new _e(ue.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);lC(y,w)||y.push(w)}p=new mi(y),d=u.fieldTransforms.filter((v=>p.covers(v.field)))}else p=null,d=u.fieldTransforms;return new j5(new Wn(f),p,d)}class Yu extends cm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yu}}function z5(t,e,n,s){const a=t.createContext(1,e,n);Yv("Data must be an object, but it was:",a,s);const l=[],u=Wn.empty();Ta(s,((p,d)=>{const y=oC(e,p,n);d=hn(d);const v=a.childContextForFieldPath(y);if(d instanceof Yu)l.push(y);else{const w=Qu(d,v);w!=null&&(l.push(y),u.set(y,w))}}));const f=new mi(l);return new nC(u,f,a.fieldTransforms)}function B5(t,e,n,s,a,l){const u=t.createContext(1,e,n),f=[Ll(e,s,n)],p=[a];if(l.length%2!=0)throw new _e(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)f.push(Ll(e,l[w])),p.push(l[w+1]);const d=[],y=Wn.empty();for(let w=f.length-1;w>=0;--w)if(!lC(d,f[w])){const C=f[w];let D=p[w];D=hn(D);const P=u.childContextForFieldPath(C);if(D instanceof Yu)d.push(C);else{const V=Qu(D,P);V!=null&&(d.push(C),y.set(C,V))}}const v=new mi(d);return new nC(y,v,u.fieldTransforms)}function F5(t,e,n,s=!1){return Qu(n,t.createContext(s?4:3,e))}function Qu(t,e){if(aC(t=hn(t)))return Yv("Unsupported field value:",e,t),rC(t,e);if(t instanceof cm)return(function(s,a){if(!iC(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const f of s){let p=Qu(f,a.childContextForArray(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=hn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return AO(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Fe.fromDate(s);return{timestampValue:yd(a.serializer,l)}}if(s instanceof Fe){const l=new Fe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:yd(a.serializer,l)}}if(s instanceof es)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof di)return{bytesValue:EA(a.serializer,s._byteString)};if(s instanceof Ot){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Iv(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Oi)return(function(u,f){const p=u instanceof Oi?u.toArray():u;return{mapValue:{fields:{[ZS]:{stringValue:JS},[fd]:{arrayValue:{values:p.map((y=>{if(typeof y!="number")throw f.createError("VectorValues must only contain numeric values.");return Sv(f.serializer,y)}))}}}}}})(s,a);if(NA(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Yd(s)}`)})(t,e)}function rC(t,e){const n={};return KS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ta(t,((s,a)=>{const l=Qu(a,e.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function aC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Fe||t instanceof es||t instanceof di||t instanceof Ot||t instanceof cm||t instanceof Oi||NA(t))}function Yv(t,e,n){if(!aC(n)||!HS(n)){const s=Yd(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function Ll(t,e,n){if((e=hn(e))instanceof lm)return e._internalPath;if(typeof e=="string")return oC(t,e);throw wd("Field path arguments must be of type string or ",t,!1,void 0,n)}const q5=new RegExp("[~\\*/\\[\\]]");function oC(t,e,n){if(e.search(q5)>=0)throw wd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new lm(...e.split("."))._internalPath}catch{throw wd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wd(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${s}`),u&&(p+=` in document ${a}`),p+=")"),new _e(ue.INVALID_ARGUMENT,f+t+p)}function lC(t,e){return t.some((n=>n.isEqual(e)))}class cC{convertValue(e,n="none"){switch(pa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ta(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[fd].arrayValue?.values?.map((s=>Gt(s.doubleValue)));return new Oi(n)}convertGeoPoint(e){return new es(Gt(e.latitude),Gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Wd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Su(e));default:return null}}convertTimestamp(e){const n=da(e);return new Fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=xt.fromString(e);ut(IA(s),9688,{name:e});const a=new kl(s.get(1),s.get(3)),l=new Ie(s.popFirst(5));return a.isEqual(n)||gr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class Qv extends cC{constructor(e){super(),this.firestore=e}convertBytes(e){return new di(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function Ed(){return new Yu("deleteField")}const jE="@firebase/firestore",UE="4.10.0";function zE(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class uC{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new H5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Ll("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class H5 extends uC{data(){return super.data()}}function hC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xv{}class fC extends Xv{}function xd(t,e,...n){let s=[];e instanceof Xv&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((p=>p instanceof hm)).length,f=l.filter((p=>p instanceof Xu)).length;if(u>1||u>0&&f>0)throw new _e(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Xu extends fC{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Xu(e,n,s)}_apply(e){const n=this._parse(e);return dC(e._query,n),new Ea(e.firestore,e.converter,py(e._query,n))}_parse(e){const n=um(e.firestore);return(function(l,u,f,p,d,y,v){let w;if(d.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new _e(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){FE(v,y);const D=[];for(const P of v)D.push(BE(p,l,P));w={arrayValue:{values:D}}}else w=BE(p,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||FE(v,y),w=F5(f,u,v,y==="in"||y==="not-in");return nn.create(d,y,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Sd(t,e,n){const s=e,a=Ll("where",t);return Xu._create(a,s,n)}class hm extends Xv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new hm(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ts.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const f=l.getFlattenedFilters();for(const p of f)dC(u,p),u=py(u,p)})(e._query,n),new Ea(e.firestore,e.converter,py(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function BE(t,e,n){if(typeof(n=hn(n))=="string"){if(n==="")throw new _e(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oA(e)&&n.indexOf("/")!==-1)throw new _e(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(xt.fromString(n));if(!Ie.isDocumentKey(s))throw new _e(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return tE(t,new Ie(s))}if(n instanceof Ot)return tE(t,n._key);throw new _e(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yd(n)}.`)}function FE(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dC(t,e){const n=(function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new _e(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function mC(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class vl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ca extends uC{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ll("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ca._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:sn("string",ca._jsonSchemaVersion),bundleSource:sn("string","DocumentSnapshot"),bundleName:sn("string"),bundle:sn("string")};class mu extends ca{data(e={}){return super.data(e)}}class ua{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new vl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new mu(this._firestore,this._userDataWriter,s.key,s,new vl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const p=new mu(a._firestore,a._userDataWriter,f.doc.key,f.doc,new vl(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new mu(a._firestore,a._userDataWriter,f.doc.key,f.doc,new vl(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,y=-1;return f.type!==0&&(d=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:G5(f.type),doc:p,oldIndex:d,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ua._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$d.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function G5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:t})}}ua._jsonSchemaVersion="firestore/querySnapshot/1.0",ua._jsonSchema={type:sn("string",ua._jsonSchemaVersion),bundleSource:sn("string","QuerySnapshot"),bundleName:sn("string"),bundle:sn("string")};function Wu(t){t=Bn(t,Ot);const e=Bn(t.firestore,Ns),n=$u(e);return D5(n,t._key).then((s=>vC(e,t,s)))}function pu(t){t=Bn(t,Ea);const e=Bn(t.firestore,Ns),n=$u(e),s=new Qv(e);return hC(t._query),k5(n,t._query).then((a=>new ua(e,s,t,a)))}function Ad(t,e,n){t=Bn(t,Ot);const s=Bn(t.firestore,Ns),a=mC(t.converter,e,n),l=um(s);return Zu(s,[sC(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Pi.none())])}function Di(t,e,n,...s){t=Bn(t,Ot);const a=Bn(t.firestore,Ns),l=um(a);let u;return u=typeof(e=hn(e))=="string"||e instanceof lm?B5(l,"updateDoc",t._key,e,n,s):z5(l,"updateDoc",t._key,e),Zu(a,[u.toMutation(t._key,Pi.exists(!0))])}function pC(t){return Zu(Bn(t.firestore,Ns),[new Av(t._key,Pi.none())])}function gC(t,e){const n=Bn(t.firestore,Ns),s=As(t),a=mC(t.converter,e),l=um(t.firestore);return Zu(n,[sC(l,"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,Pi.exists(!1))]).then((()=>s))}function yC(t,...e){t=hn(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||zE(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(zE(e[s])){const d=e[s];e[s]=d.next?.bind(d),e[s+1]=d.error?.bind(d),e[s+2]=d.complete?.bind(d)}let l,u,f;if(t instanceof Ot)u=Bn(t.firestore,Ns),f=Zd(t._key.path),l={next:d=>{e[s]&&e[s](vC(u,t,d))},error:e[s+1],complete:e[s+2]};else{const d=Bn(t,Ea);u=Bn(d.firestore,Ns),f=d._query;const y=new Qv(u);l={next:v=>{e[s]&&e[s](new ua(u,y,d,v))},error:e[s+1],complete:e[s+2]},hC(t._query)}const p=$u(u);return N5(p,f,a,l)}function Zu(t,e){const n=$u(t);return M5(n,e)}function vC(t,e,n){const s=n.docs.get(e._key),a=new Qv(t);return new ca(t,a,e._key,s,new vl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){PP(bo),mo(new ha("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),f=new Ns(new LP(s.getProvider("auth-internal")),new zP(u,s.getProvider("app-check-internal")),nO(u,a),u);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),ws(jE,UE,e),ws(jE,UE,"esm2020")})();const K5=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:cC,Bytes:di,CollectionReference:hr,DocumentReference:Ot,DocumentSnapshot:ca,FieldPath:lm,FieldValue:cm,Firestore:Ns,FirestoreError:_e,GeoPoint:es,Query:Ea,QueryCompositeFilterConstraint:hm,QueryConstraint:fC,QueryDocumentSnapshot:mu,QueryFieldFilterConstraint:Xu,QuerySnapshot:ua,SnapshotMetadata:vl,Timestamp:Fe,VectorValue:Oi,_AutoId:$d,_ByteString:gn,_DatabaseId:kl,_DocumentKey:Ie,_EmptyAuthCredentialsProvider:BS,_FieldPath:pn,_cast:Bn,_logWarn:yo,_validateIsNotUsedTogether:qS,addDoc:gC,collection:yl,connectFirestoreEmulator:eC,deleteDoc:pC,deleteField:Ed,doc:As,ensureFirestoreConfigured:$u,executeWrite:Zu,getDoc:Wu,getDocs:pu,getFirestore:tC,onSnapshot:yC,query:xd,setDoc:Ad,updateDoc:Di,where:Sd},Symbol.toStringTag,{value:"Module"}));const _C="firebasestorage.googleapis.com",$5="storageBucket",Y5=120*1e3,Q5=600*1e3;class Vs extends Ms{constructor(e,n,s=0){super(Dg(e),`Firebase Storage: ${n} (${Dg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ds;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ds||(Ds={}));function Dg(t){return"storage/"+t}function X5(){const t="An unknown error occurred, please check the error payload for server response.";return new Vs(Ds.UNKNOWN,t)}function W5(){return new Vs(Ds.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Z5(){return new Vs(Ds.CANCELED,"User canceled the upload/download.")}function J5(t){return new Vs(Ds.INVALID_URL,"Invalid URL '"+t+"'.")}function e3(t){return new Vs(Ds.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function qE(t){return new Vs(Ds.INVALID_ARGUMENT,t)}function bC(){return new Vs(Ds.APP_DELETED,"The Firebase app was deleted.")}function t3(t){return new Vs(Ds.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Zi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Zi.makeFromUrl(e,n)}catch{return new Zi(e,"")}if(s.path==="")return s;throw e3(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+a+u,"i"),p={bucket:1,path:3};function d(oe){oe.path_=decodeURIComponent(oe.path)}const y="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",C=new RegExp(`^https?://${v}/${y}/b/${a}/o${w}`,"i"),D={bucket:1,path:3},P=n===_C?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",j=new RegExp(`^https?://${P}/${a}/${V}`,"i"),q=[{regex:f,indices:p,postModify:l},{regex:C,indices:D,postModify:d},{regex:j,indices:{bucket:1,path:2},postModify:d}];for(let oe=0;oe<q.length;oe++){const ae=q[oe],de=ae.regex.exec(e);if(de){const k=de[ae.indices.bucket];let S=de[ae.indices.path];S||(S=""),s=new Zi(k,S),ae.postModify(s);break}}if(s==null)throw J5(e);return s}}class n3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function i3(t,e,n){let s=1,a=null,l=null,u=!1,f=0;function p(){return f===2}let d=!1;function y(...V){d||(d=!0,e.apply(null,V))}function v(V){a=setTimeout(()=>{a=null,t(C,p())},V)}function w(){l&&clearTimeout(l)}function C(V,...j){if(d){w();return}if(V){w(),y.call(null,V,...j);return}if(p()||u){w(),y.call(null,V,...j);return}s<64&&(s*=2);let q;f===1?(f=2,q=0):q=(s+Math.random())*1e3,v(q)}let D=!1;function P(V){D||(D=!0,w(),!d&&(a!==null?(V||(f=2),clearTimeout(a),v(0)):V||(f=1)))}return v(0),l=setTimeout(()=>{u=!0,P(!0)},n),P}function s3(t){t(!1)}function r3(t){return t!==void 0}function HE(t,e,n,s){if(s<e)throw qE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw qE(`Invalid value for '${t}'. Expected ${n} or less.`)}function a3(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var Cd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Cd||(Cd={}));function o3(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class l3{constructor(e,n,s,a,l,u,f,p,d,y,v,w=!0,C=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=p,this.timeout_=d,this.progressCallback_=y,this.connectionFactory_=v,this.retry=w,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,P)=>{this.resolve_=D,this.reject_=P,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Df(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const p=f.loaded,d=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,d)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===Cd.NO_ERROR,p=l.getStatus();if(!f||o3(p,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Cd.ABORT;s(!1,new Df(!1,null,y));return}const d=this.successCodes_.indexOf(p)!==-1;s(!0,new Df(d,l))})},n=(s,a)=>{const l=this.resolve_,u=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());r3(p)?l(p):l()}catch(p){u(p)}else if(f!==null){const p=X5();p.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,p)):u(p)}else if(a.canceled){const p=this.appDelete_?bC():Z5();u(p)}else{const p=W5();u(p)}};this.canceled_?n(!1,new Df(!1,null,!0)):this.backoffId_=i3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&s3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Df{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function c3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function u3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function h3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function f3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function d3(t,e,n,s,a,l,u=!0,f=!1){const p=a3(t.urlParams),d=t.url+p,y=Object.assign({},t.headers);return h3(y,e),c3(y,n),u3(y,l),f3(y,s),new l3(d,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,f)}function m3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function p3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class Rd{constructor(e,n){this._service=e,n instanceof Zi?this._location=n:this._location=Zi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Rd(e,n)}get root(){const e=new Zi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return p3(this._location.path)}get storage(){return this._service}get parent(){const e=m3(this._location.path);if(e===null)return null;const n=new Zi(this._location.bucket,e);return new Rd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw t3(e)}}function GE(t,e){const n=e?.[$5];return n==null?null:Zi.makeFromBucketSpec(n,t)}function g3(t,e,n,s={}){t.host=`${e}:${n}`;const a=_o(e);a&&(sv(`https://${t.host}/b`),rv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:Wx(l,t.app.options.projectId))}class y3{constructor(e,n,s,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=_C,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Y5,this._maxUploadRetryTime=Q5,this._requests=new Set,a!=null?this._bucket=Zi.makeFromBucketSpec(a,this._host):this._bucket=GE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zi.makeFromBucketSpec(this._url,e):this._bucket=GE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){HE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){HE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Rd(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new n3(bC());{const u=d3(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const KE="@firebase/storage",$E="0.14.0";const TC="storage";function v3(t=lv(),e){t=hn(t);const s=qd(t,TC).getImmediate({identifier:e}),a=Yx("storage");return a&&_3(s,...a),s}function _3(t,e,n,s={}){g3(t,e,n,s)}function b3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new y3(n,s,a,e,bo)}function T3(){mo(new ha(TC,b3,"PUBLIC").setMultipleInstances(!0)),ws(KE,$E,""),ws(KE,$E,"esm2020")}T3();const w3={apiKey:"AIzaSyC7IaK8e0JimVT2DeKQovTDLPyufibEu_4",authDomain:"sunsar-bingo.firebaseapp.com",projectId:"sunsar-bingo",storageBucket:"sunsar-bingo.firebasestorage.app",messagingSenderId:"256131852935",appId:"1:256131852935:web:fe514c1e6758e5af252622"},fm=eS(w3),Qf=MP(fm),wC=new ar,Xn=tC(fm);v3(fm);const E3=Object.freeze(Object.defineProperty({__proto__:null,app:fm,auth:Qf,db:Xn,googleProvider:wC},Symbol.toStringTag,{value:"Module"})),EC=M.createContext(void 0),x3=({children:t})=>{const[e,n]=M.useState(null),[s,a]=M.useState(!0),[l,u]=M.useState(null);M.useEffect(()=>{const d=TV(Qf,async y=>{if(y){const v={uid:y.uid,email:y.email,displayName:y.displayName,photoURL:y.photoURL};n(v),u(null);try{const{doc:w,setDoc:C,Timestamp:D}=await ey(async()=>{const{doc:V,setDoc:j,Timestamp:F}=await Promise.resolve().then(()=>K5);return{doc:V,setDoc:j,Timestamp:F}},[]),{db:P}=await ey(async()=>{const{db:V}=await Promise.resolve().then(()=>E3);return{db:V}},void 0);await C(w(P,"users",y.uid),{...v,lastSeen:D.now()},{merge:!0})}catch(w){console.error("Error syncing user profile:",w)}}else n(null);a(!1)});return()=>d()},[]);const f=async()=>{u(null);try{await FV(Qf,wC)}catch(d){u(d.message||"Failed to sign in")}},p=async()=>{await wV(Qf)};return T.jsx(EC.Provider,{value:{user:e,loading:s,signIn:f,logout:p,error:l},children:t})},$l=()=>{const t=M.useContext(EC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Wv=M.createContext({});function Zv(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const xC=typeof window<"u",SC=xC?M.useLayoutEffect:M.useEffect,dm=M.createContext(null);function Jv(t,e){t.indexOf(e)===-1&&t.push(e)}function e0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ks=(t,e,n)=>n>e?e:n<t?t:n;let t0=()=>{};const vr={},AC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function CC(t){return typeof t=="object"&&t!==null}const RC=t=>/^0[^.\s]+$/u.test(t);function n0(t){let e;return()=>(e===void 0&&(e=t()),e)}const Li=t=>t,S3=(t,e)=>n=>e(t(n)),Ju=(...t)=>t.reduce(S3),Iu=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class i0{constructor(){this.subscriptions=[]}add(e){return Jv(this.subscriptions,e),()=>e0(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fr=t=>t*1e3,Vi=t=>t/1e3;function IC(t,e){return e?t*(1e3/e):0}const NC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,A3=1e-7,C3=12;function R3(t,e,n,s,a){let l,u,f=0;do u=e+(n-e)/2,l=NC(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>A3&&++f<C3);return u}function eh(t,e,n,s){if(t===e&&n===s)return Li;const a=l=>R3(l,0,1,t,n);return l=>l===0||l===1?l:NC(a(l),e,s)}const DC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,kC=t=>e=>1-t(1-e),MC=eh(.33,1.53,.69,.99),s0=kC(MC),VC=DC(s0),PC=t=>(t*=2)<1?.5*s0(t):.5*(2-Math.pow(2,-10*(t-1))),r0=t=>1-Math.sin(Math.acos(t)),OC=kC(r0),LC=DC(r0),I3=eh(.42,0,1,1),N3=eh(0,0,.58,1),jC=eh(.42,0,.58,1),D3=t=>Array.isArray(t)&&typeof t[0]!="number",UC=t=>Array.isArray(t)&&typeof t[0]=="number",k3={linear:Li,easeIn:I3,easeInOut:jC,easeOut:N3,circIn:r0,circInOut:LC,circOut:OC,backIn:s0,backInOut:VC,backOut:MC,anticipate:PC},M3=t=>typeof t=="string",YE=t=>{if(UC(t)){t0(t.length===4);const[e,n,s,a]=t;return eh(e,n,s,a)}else if(M3(t))return k3[t];return t},kf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function V3(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function p(y){u.has(y)&&(d.schedule(y),t()),y(f)}const d={schedule:(y,v=!1,w=!1)=>{const D=w&&a?n:s;return v&&u.add(y),D.has(y)||D.add(y),y},cancel:y=>{s.delete(y),u.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(p),n.clear(),a=!1,l&&(l=!1,d.process(y))}};return d}const P3=40;function zC(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=kf.reduce((q,oe)=>(q[oe]=V3(l),q),{}),{setup:f,read:p,resolveKeyframes:d,preUpdate:y,update:v,preRender:w,render:C,postRender:D}=u,P=()=>{const q=vr.useManualTiming?a.timestamp:performance.now();n=!1,vr.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(q-a.timestamp,P3),1)),a.timestamp=q,a.isProcessing=!0,f.process(a),p.process(a),d.process(a),y.process(a),v.process(a),w.process(a),C.process(a),D.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(P))},V=()=>{n=!0,s=!0,a.isProcessing||t(P)};return{schedule:kf.reduce((q,oe)=>{const ae=u[oe];return q[oe]=(de,k=!1,S=!1)=>(n||V(),ae.schedule(de,k,S)),q},{}),cancel:q=>{for(let oe=0;oe<kf.length;oe++)u[kf[oe]].cancel(q)},state:a,steps:u}}const{schedule:Rt,cancel:va,state:xn,steps:kg}=zC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Li,!0);let Xf;function O3(){Xf=void 0}const Un={now:()=>(Xf===void 0&&Un.set(xn.isProcessing||vr.useManualTiming?xn.timestamp:performance.now()),Xf),set:t=>{Xf=t,queueMicrotask(O3)}},BC=t=>e=>typeof e=="string"&&e.startsWith(t),FC=BC("--"),L3=BC("var(--"),a0=t=>L3(t)?j3.test(t.split("/*")[0].trim()):!1,j3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function QE(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Yl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Nu={...Yl,transform:t=>ks(0,1,t)},Mf={...Yl,default:1},gu=t=>Math.round(t*1e5)/1e5,o0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function U3(t){return t==null}const z3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,l0=(t,e)=>n=>!!(typeof n=="string"&&z3.test(n)&&n.startsWith(t)||e&&!U3(n)&&Object.prototype.hasOwnProperty.call(n,e)),qC=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,f]=s.match(o0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},B3=t=>ks(0,255,t),Mg={...Yl,transform:t=>Math.round(B3(t))},oo={test:l0("rgb","red"),parse:qC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Mg.transform(t)+", "+Mg.transform(e)+", "+Mg.transform(n)+", "+gu(Nu.transform(s))+")"};function F3(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Ay={test:l0("#"),parse:F3,transform:oo.transform},th=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ea=th("deg"),Cs=th("%"),we=th("px"),q3=th("vh"),H3=th("vw"),XE={...Cs,parse:t=>Cs.parse(t)/100,transform:t=>Cs.transform(t*100)},_l={test:l0("hsl","hue"),parse:qC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Cs.transform(gu(e))+", "+Cs.transform(gu(n))+", "+gu(Nu.transform(s))+")"},tn={test:t=>oo.test(t)||Ay.test(t)||_l.test(t),parse:t=>oo.test(t)?oo.parse(t):_l.test(t)?_l.parse(t):Ay.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?oo.transform(t):_l.transform(t),getAnimatableNone:t=>{const e=tn.parse(t);return e.alpha=0,tn.transform(e)}},G3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function K3(t){return isNaN(t)&&typeof t=="string"&&(t.match(o0)?.length||0)+(t.match(G3)?.length||0)>0}const HC="number",GC="color",$3="var",Y3="var(",WE="${}",Q3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Du(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(Q3,p=>(tn.test(p)?(s.color.push(l),a.push(GC),n.push(tn.parse(p))):p.startsWith(Y3)?(s.var.push(l),a.push($3),n.push(p)):(s.number.push(l),a.push(HC),n.push(parseFloat(p))),++l,WE)).split(WE);return{values:n,split:f,indexes:s,types:a}}function KC(t){return Du(t).values}function $C(t){const{split:e,types:n}=Du(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const f=n[u];f===HC?l+=gu(a[u]):f===GC?l+=tn.transform(a[u]):l+=a[u]}return l}}const X3=t=>typeof t=="number"?0:tn.test(t)?tn.getAnimatableNone(t):t;function W3(t){const e=KC(t);return $C(t)(e.map(X3))}const _a={test:K3,parse:KC,createTransformer:$C,getAnimatableNone:W3};function Vg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Z3({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,p=2*n-f;a=Vg(p,f,t+1/3),l=Vg(p,f,t),u=Vg(p,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function Id(t,e){return n=>n>0?e:t}const Pt=(t,e,n)=>t+(e-t)*n,Pg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},J3=[Ay,oo,_l],eL=t=>J3.find(e=>e.test(t));function ZE(t){const e=eL(t);if(!e)return!1;let n=e.parse(t);return e===_l&&(n=Z3(n)),n}const JE=(t,e)=>{const n=ZE(t),s=ZE(e);if(!n||!s)return Id(t,e);const a={...n};return l=>(a.red=Pg(n.red,s.red,l),a.green=Pg(n.green,s.green,l),a.blue=Pg(n.blue,s.blue,l),a.alpha=Pt(n.alpha,s.alpha,l),oo.transform(a))},Cy=new Set(["none","hidden"]);function tL(t,e){return Cy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function nL(t,e){return n=>Pt(t,e,n)}function c0(t){return typeof t=="number"?nL:typeof t=="string"?a0(t)?Id:tn.test(t)?JE:rL:Array.isArray(t)?YC:typeof t=="object"?tn.test(t)?JE:iL:Id}function YC(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>c0(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function iL(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=c0(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function sL(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],f=t.values[u]??0;n[a]=f,s[l]++}return n}const rL=(t,e)=>{const n=_a.createTransformer(e),s=Du(t),a=Du(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Cy.has(t)&&!a.values.length||Cy.has(e)&&!s.values.length?tL(t,e):Ju(YC(sL(s,a),a.values),n):Id(t,e)};function QC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Pt(t,e,n):c0(t)(t,e)}const aL=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Rt.update(e,n),stop:()=>va(e),now:()=>xn.isProcessing?xn.timestamp:Un.now()}},XC=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Nd=2e4;function u0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Nd;)e+=n,s=t.next(e);return e>=Nd?1/0:e}function oL(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(u0(s),Nd);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Vi(a)}}const lL=5;function WC(t,e,n){const s=Math.max(e-lL,0);return IC(n-t(s),e-s)}const Bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Og=.001;function cL({duration:t=Bt.duration,bounce:e=Bt.bounce,velocity:n=Bt.velocity,mass:s=Bt.mass}){let a,l,u=1-e;u=ks(Bt.minDamping,Bt.maxDamping,u),t=ks(Bt.minDuration,Bt.maxDuration,Vi(t)),u<1?(a=d=>{const y=d*u,v=y*t,w=y-n,C=Ry(d,u),D=Math.exp(-v);return Og-w/C*D},l=d=>{const v=d*u*t,w=v*n+n,C=Math.pow(u,2)*Math.pow(d,2)*t,D=Math.exp(-v),P=Ry(Math.pow(d,2),u);return(-a(d)+Og>0?-1:1)*((w-C)*D)/P}):(a=d=>{const y=Math.exp(-d*t),v=(d-n)*t+1;return-Og+y*v},l=d=>{const y=Math.exp(-d*t),v=(n-d)*(t*t);return y*v});const f=5/t,p=hL(a,l,f);if(t=fr(t),isNaN(p))return{stiffness:Bt.stiffness,damping:Bt.damping,duration:t};{const d=Math.pow(p,2)*s;return{stiffness:d,damping:u*2*Math.sqrt(s*d),duration:t}}}const uL=12;function hL(t,e,n){let s=n;for(let a=1;a<uL;a++)s=s-t(s)/e(s);return s}function Ry(t,e){return t*Math.sqrt(1-e*e)}const fL=["duration","bounce"],dL=["stiffness","damping","mass"];function e1(t,e){return e.some(n=>t[n]!==void 0)}function mL(t){let e={velocity:Bt.velocity,stiffness:Bt.stiffness,damping:Bt.damping,mass:Bt.mass,isResolvedFromDuration:!1,...t};if(!e1(t,dL)&&e1(t,fL))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*ks(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Bt.mass,stiffness:a,damping:l}}else{const n=cL(t);e={...e,...n,mass:Bt.mass},e.isResolvedFromDuration=!0}return e}function Dd(t=Bt.visualDuration,e=Bt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:p,damping:d,mass:y,duration:v,velocity:w,isResolvedFromDuration:C}=mL({...n,velocity:-Vi(n.velocity||0)}),D=w||0,P=d/(2*Math.sqrt(p*y)),V=u-l,j=Vi(Math.sqrt(p/y)),F=Math.abs(V)<5;s||(s=F?Bt.restSpeed.granular:Bt.restSpeed.default),a||(a=F?Bt.restDelta.granular:Bt.restDelta.default);let q;if(P<1){const ae=Ry(j,P);q=de=>{const k=Math.exp(-P*j*de);return u-k*((D+P*j*V)/ae*Math.sin(ae*de)+V*Math.cos(ae*de))}}else if(P===1)q=ae=>u-Math.exp(-j*ae)*(V+(D+j*V)*ae);else{const ae=j*Math.sqrt(P*P-1);q=de=>{const k=Math.exp(-P*j*de),S=Math.min(ae*de,300);return u-k*((D+P*j*V)*Math.sinh(S)+ae*V*Math.cosh(S))/ae}}const oe={calculatedDuration:C&&v||null,next:ae=>{const de=q(ae);if(C)f.done=ae>=v;else{let k=ae===0?D:0;P<1&&(k=ae===0?fr(D):WC(q,ae,de));const S=Math.abs(k)<=s,N=Math.abs(u-de)<=a;f.done=S&&N}return f.value=f.done?u:de,f},toString:()=>{const ae=Math.min(u0(oe),Nd),de=XC(k=>oe.next(ae*k).value,ae,30);return ae+"ms "+de},toTransition:()=>{}};return oe}Dd.applyToOptions=t=>{const e=oL(t,100,Dd);return t.ease=e.ease,t.duration=fr(e.duration),t.type="keyframes",t};function Iy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:p,restDelta:d=.5,restSpeed:y}){const v=t[0],w={done:!1,value:v},C=S=>f!==void 0&&S<f||p!==void 0&&S>p,D=S=>f===void 0?p:p===void 0||Math.abs(f-S)<Math.abs(p-S)?f:p;let P=n*e;const V=v+P,j=u===void 0?V:u(V);j!==V&&(P=j-v);const F=S=>-P*Math.exp(-S/s),q=S=>j+F(S),oe=S=>{const N=F(S),O=q(S);w.done=Math.abs(N)<=d,w.value=w.done?j:O};let ae,de;const k=S=>{C(w.value)&&(ae=S,de=Dd({keyframes:[w.value,D(w.value)],velocity:WC(q,S,w.value),damping:a,stiffness:l,restDelta:d,restSpeed:y}))};return k(0),{calculatedDuration:null,next:S=>{let N=!1;return!de&&ae===void 0&&(N=!0,oe(S),k(S)),ae!==void 0&&S>=ae?de.next(S-ae):(!N&&oe(S),w)}}}function pL(t,e,n){const s=[],a=n||vr.mix||QC,l=t.length-1;for(let u=0;u<l;u++){let f=a(t[u],t[u+1]);if(e){const p=Array.isArray(e)?e[u]||Li:e;f=Ju(p,f)}s.push(f)}return s}function gL(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(t0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=pL(e,s,a),p=f.length,d=y=>{if(u&&y<t[0])return e[0];let v=0;if(p>1)for(;v<t.length-2&&!(y<t[v+1]);v++);const w=Iu(t[v],t[v+1],y);return f[v](w)};return n?y=>d(ks(t[0],t[l-1],y)):d}function yL(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=Iu(0,e,s);t.push(Pt(n,1,a))}}function vL(t){const e=[0];return yL(e,t.length-1),e}function _L(t,e){return t.map(n=>n*e)}function bL(t,e){return t.map(()=>e||jC).splice(0,t.length-1)}function yu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=D3(s)?s.map(YE):YE(s),l={done:!1,value:e[0]},u=_L(n&&n.length===e.length?n:vL(e),t),f=gL(u,e,{ease:Array.isArray(a)?a:bL(e,a)});return{calculatedDuration:t,next:p=>(l.value=f(p),l.done=p>=t,l)}}const TL=t=>t!==null;function h0(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(TL),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const wL={decay:Iy,inertia:Iy,tween:yu,keyframes:yu,spring:Dd};function ZC(t){typeof t.type=="string"&&(t.type=wL[t.type])}class f0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const EL=t=>t/100;class d0 extends f0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Un.now()&&this.tick(Un.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;ZC(e);const{type:n=yu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:f}=e;const p=n||yu;p!==yu&&typeof f[0]!="number"&&(this.mixKeyframes=Ju(EL,QC(f[0],f[1])),f=[0,100]);const d=p({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=p({...e,keyframes:[...f].reverse(),velocity:-u})),d.calculatedDuration===null&&(d.calculatedDuration=u0(d));const{calculatedDuration:y}=d;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:y,repeat:v,repeatType:w,repeatDelay:C,type:D,onUpdate:P,finalKeyframe:V}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const j=this.currentTime-d*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?j<0:j>a;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let q=this.currentTime,oe=s;if(v){const S=Math.min(this.currentTime,a)/f;let N=Math.floor(S),O=S%1;!O&&S>=1&&(O=1),O===1&&N--,N=Math.min(N,v+1),N%2&&(w==="reverse"?(O=1-O,C&&(O-=C/f)):w==="mirror"&&(oe=u)),q=ks(0,1,O)*f}const ae=F?{done:!1,value:y[0]}:oe.next(q);l&&(ae.value=l(ae.value));let{done:de}=ae;!F&&p!==null&&(de=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&de);return k&&D!==Iy&&(ae.value=h0(y,this.options,V,this.speed)),P&&P(ae.value),k&&this.finish(),ae}then(e,n){return this.finished.then(e,n)}get duration(){return Vi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Vi(e)}get time(){return Vi(this.currentTime)}set time(e){e=fr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Un.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Vi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=aL,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Un.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function xL(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const lo=t=>t*180/Math.PI,Ny=t=>{const e=lo(Math.atan2(t[1],t[0]));return Dy(e)},SL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ny,rotateZ:Ny,skewX:t=>lo(Math.atan(t[1])),skewY:t=>lo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Dy=t=>(t=t%360,t<0&&(t+=360),t),t1=Ny,n1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),i1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),AL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:n1,scaleY:i1,scale:t=>(n1(t)+i1(t))/2,rotateX:t=>Dy(lo(Math.atan2(t[6],t[5]))),rotateY:t=>Dy(lo(Math.atan2(-t[2],t[0]))),rotateZ:t1,rotate:t1,skewX:t=>lo(Math.atan(t[4])),skewY:t=>lo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ky(t){return t.includes("scale")?1:0}function My(t,e){if(!t||t==="none")return ky(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=AL,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=SL,a=f}if(!a)return ky(e);const l=s[e],u=a[1].split(",").map(RL);return typeof l=="function"?l(u):u[l]}const CL=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return My(n,e)};function RL(t){return parseFloat(t.trim())}const Ql=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xl=new Set(Ql),s1=t=>t===Yl||t===we,IL=new Set(["x","y","z"]),NL=Ql.filter(t=>!IL.has(t));function DL(t){const e=[];return NL.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const ra={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>My(e,"x"),y:(t,{transform:e})=>My(e,"y")};ra.translateX=ra.x;ra.translateY=ra.y;const uo=new Set;let Vy=!1,Py=!1,Oy=!1;function JC(){if(Py){const t=Array.from(uo).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=DL(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Py=!1,Vy=!1,uo.forEach(t=>t.complete(Oy)),uo.clear()}function eR(){uo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Py=!0)})}function kL(){Oy=!0,eR(),JC(),Oy=!1}class m0{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(uo.add(this),Vy||(Vy=!0,Rt.read(eR),Rt.resolveKeyframes(JC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}xL(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),uo.delete(this)}cancel(){this.state==="scheduled"&&(uo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ML=t=>t.startsWith("--");function VL(t,e,n){ML(e)?t.style.setProperty(e,n):t.style[e]=n}const PL=n0(()=>window.ScrollTimeline!==void 0),OL={};function LL(t,e){const n=n0(t);return()=>OL[e]??n()}const tR=LL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),au=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,r1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:au([0,.65,.55,1]),circOut:au([.55,0,1,.45]),backIn:au([.31,.01,.66,-.59]),backOut:au([.33,1.53,.69,.99])};function nR(t,e){if(t)return typeof t=="function"?tR()?XC(t,e):"ease-out":UC(t)?au(t):Array.isArray(t)?t.map(n=>nR(n,e)||r1.easeOut):r1[t]}function jL(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:p}={},d=void 0){const y={[e]:n};p&&(y.offset=p);const v=nR(f,a);Array.isArray(v)&&(y.easing=v);const w={delay:s,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return d&&(w.pseudoElement=d),t.animate(y,w)}function iR(t){return typeof t=="function"&&"applyToOptions"in t}function UL({type:t,...e}){return iR(t)&&tR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class zL extends f0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:p}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,t0(typeof e.type!="string");const d=UL(e);this.animation=jL(n,s,a,d,l),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=h0(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):VL(n,s,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Vi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Vi(e)}get time(){return Vi(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=fr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&PL()?(this.animation.timeline=e,Li):n(this)}}const sR={anticipate:PC,backInOut:VC,circInOut:LC};function BL(t){return t in sR}function FL(t){typeof t.ease=="string"&&BL(t.ease)&&(t.ease=sR[t.ease])}const Lg=10;class qL extends zL{constructor(e){FL(e),ZC(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new d0({...u,autoplay:!1}),p=Math.max(Lg,Un.now()-this.startTime),d=ks(0,Lg,p-Lg);n.setWithVelocity(f.sample(Math.max(0,p-d)).value,f.sample(p).value,d),f.stop()}}const a1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(_a.test(t)||t==="0")&&!t.startsWith("url("));function HL(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function GL(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=a1(a,e),f=a1(l,e);return!u||!f?!1:HL(t)||(n==="spring"||iR(n))&&s}function Ly(t){t.duration=0,t.type="keyframes"}const KL=new Set(["opacity","clipPath","filter","transform"]),$L=n0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function YL(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:d}=e.owner.getProps();return $L()&&n&&KL.has(n)&&(n!=="transform"||!d)&&!p&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const QL=40;class XL extends f0{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:p,motionValue:d,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Un.now();const w={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:p,motionValue:d,element:y,...v},C=y?.KeyframeResolver||m0;this.keyframeResolver=new C(f,(D,P,V)=>this.onKeyframesResolved(D,P,w,!V),p,d,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:p,isHandoff:d,onUpdate:y}=s;this.resolvedAt=Un.now(),GL(e,l,u,f)||((vr.instantAnimations||!p)&&y?.(h0(e,s,n)),e[0]=e[e.length-1],Ly(s),s.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>QL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},C=!d&&YL(w)?new qL({...w,element:w.motionValue.owner.current}):new d0(w);C.finished.then(()=>this.notifyFinished()).catch(Li),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),kL()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const WL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ZL(t){const e=WL.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function rR(t,e,n=1){const[s,a]=ZL(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return AC(u)?parseFloat(u):u}return a0(a)?rR(a,e,n+1):a}function p0(t,e){return t?.[e]??t?.default??t}const JL={type:"spring",stiffness:500,damping:25,restSpeed:10},ej=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),tj={type:"keyframes",duration:.8},nj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ij=(t,{keyframes:e})=>e.length>2?tj:Xl.has(t)?t.startsWith("scale")?ej(e[1]):JL:nj;function sj({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:p,elapsed:d,...y}){return!!Object.keys(y).length}const rj=t=>t!==null;function aj(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(rj),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function aR(t,e,n,s=0,a=1){const l=Array.from(t).sort((d,y)=>d.sortNodePosition(y)).indexOf(e),u=t.size,f=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:f-l*s}const g0=(t,e,n,s={},a,l)=>u=>{const f=p0(s,t)||{},p=f.delay||s.delay||0;let{elapsed:d=0}=s;d=d-fr(p);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-d,onUpdate:w=>{e.set(w),f.onUpdate&&f.onUpdate(w)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};sj(f)||Object.assign(y,ij(t,y)),y.duration&&(y.duration=fr(y.duration)),y.repeatDelay&&(y.repeatDelay=fr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Ly(y),y.delay===0&&(v=!0)),(vr.instantAnimations||vr.skipAnimations)&&(v=!0,Ly(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,v&&!l&&e.get()!==void 0){const w=aj(y.keyframes,f);if(w!==void 0){Rt.update(()=>{y.onUpdate(w),y.onComplete()});return}}return f.isSync?new d0(y):new XL(y)},oR=new Set(["width","height","top","left","right","bottom",...Ql]),o1=30,oj=t=>!isNaN(parseFloat(t));class lj{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Un.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Un.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=oj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new i0);const s=this.events[e].add(n);return e==="change"?()=>{s(),Rt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Un.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>o1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,o1);return IC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jl(t,e){return new lj(t,e)}function l1(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function y0(t,e,n,s){if(typeof e=="function"){const[a,l]=l1(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=l1(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Il(t,e,n){const s=t.getProps();return y0(s,e,n!==void 0?n:s.custom,t)}const jy=t=>Array.isArray(t);function cj(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,jl(n))}function uj(t){return jy(t)?t[t.length-1]||0:t}function hj(t,e){const n=Il(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const f=uj(l[u]);cj(t,u,f)}}const Dn=t=>!!(t&&t.getVelocity);function fj(t){return!!(Dn(t)&&t.add)}function Uy(t,e){const n=t.getValue("willChange");if(fj(n))return n.add(e);if(!n&&vr.WillChange){const s=new vr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function v0(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const dj="framerAppearId",lR="data-"+v0(dj);function cR(t){return t.props[lR]}function mj({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function uR(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...f}=e;s&&(l=s);const p=[],d=a&&t.animationState&&t.animationState.getState()[a];for(const y in f){const v=t.getValue(y,t.latestValues[y]??null),w=f[y];if(w===void 0||d&&mj(d,y))continue;const C={delay:n,...p0(l||{},y)},D=v.get();if(D!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===D&&!C.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const j=cR(t);if(j){const F=window.MotionHandoffAnimation(j,y,Rt);F!==null&&(C.startTime=F,P=!0)}}Uy(t,y),v.start(g0(y,v,w,t.shouldReduceMotion&&oR.has(y)?{type:!1}:C,t,P));const V=v.animation;V&&p.push(V)}return u&&Promise.all(p).then(()=>{Rt.update(()=>{u&&hj(t,u)})}),p}function zy(t,e,n={}){const s=Il(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(uR(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:d=0,staggerChildren:y,staggerDirection:v}=a;return pj(t,e,p,d,y,v,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,d]=f==="beforeChildren"?[l,u]:[u,l];return p().then(()=>d())}else return Promise.all([l(),u(n.delay)])}function pj(t,e,n=0,s=0,a=0,l=1,u){const f=[];for(const p of t.variantChildren)p.notify("AnimationStart",e),f.push(zy(p,e,{...u,delay:n+(typeof s=="function"?0:s)+aR(t.variantChildren,p,s,a,l)}).then(()=>p.notify("AnimationComplete",e)));return Promise.all(f)}function gj(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>zy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=zy(t,e,n);else{const a=typeof e=="function"?Il(t,e,n.custom):e;s=Promise.all(uR(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const yj={test:t=>t==="auto",parse:t=>t},hR=t=>e=>e.test(t),fR=[Yl,we,Cs,ea,H3,q3,yj],c1=t=>fR.find(hR(t));function vj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||RC(t):!0}const _j=new Set(["brightness","contrast","saturate","opacity"]);function bj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(o0)||[];if(!s)return t;const a=n.replace(s,"");let l=_j.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const Tj=/\b([a-z-]*)\(.*?\)/gu,By={..._a,getAnimatableNone:t=>{const e=t.match(Tj);return e?e.map(bj).join(" "):t}},u1={...Yl,transform:Math.round},wj={rotate:ea,rotateX:ea,rotateY:ea,rotateZ:ea,scale:Mf,scaleX:Mf,scaleY:Mf,scaleZ:Mf,skew:ea,skewX:ea,skewY:ea,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Nu,originX:XE,originY:XE,originZ:we},_0={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,inset:we,insetBlock:we,insetBlockStart:we,insetBlockEnd:we,insetInline:we,insetInlineStart:we,insetInlineEnd:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,paddingBlock:we,paddingBlockStart:we,paddingBlockEnd:we,paddingInline:we,paddingInlineStart:we,paddingInlineEnd:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,marginBlock:we,marginBlockStart:we,marginBlockEnd:we,marginInline:we,marginInlineStart:we,marginInlineEnd:we,backgroundPositionX:we,backgroundPositionY:we,...wj,zIndex:u1,fillOpacity:Nu,strokeOpacity:Nu,numOctaves:u1},Ej={..._0,color:tn,backgroundColor:tn,outlineColor:tn,fill:tn,stroke:tn,borderColor:tn,borderTopColor:tn,borderRightColor:tn,borderBottomColor:tn,borderLeftColor:tn,filter:By,WebkitFilter:By},dR=t=>Ej[t];function mR(t,e){let n=dR(t);return n!==By&&(n=_a),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const xj=new Set(["auto","none","0"]);function Sj(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!xj.has(l)&&Du(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=mR(n,a)}class Aj extends m0{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let v=e[y];if(typeof v=="string"&&(v=v.trim(),a0(v))){const w=rR(v,n.current);w!==void 0&&(e[y]=w),y===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!oR.has(s)||e.length!==2)return;const[a,l]=e,u=c1(a),f=c1(l),p=QE(a),d=QE(l);if(p!==d&&ra[s]){this.needsMeasurement=!0;return}if(u!==f)if(s1(u)&&s1(f))for(let y=0;y<e.length;y++){const v=e[y];typeof v=="string"&&(e[y]=parseFloat(v))}else ra[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||vj(e[a]))&&s.push(a);s.length&&Sj(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ra[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=ra[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function Cj(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const pR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function gR(t){return CC(t)&&"offsetHeight"in t}const{schedule:b0}=zC(queueMicrotask,!1),Qi={x:!1,y:!1};function yR(){return Qi.x||Qi.y}function Rj(t){return t==="x"||t==="y"?Qi[t]?null:(Qi[t]=!0,()=>{Qi[t]=!1}):Qi.x||Qi.y?null:(Qi.x=Qi.y=!0,()=>{Qi.x=Qi.y=!1})}function vR(t,e){const n=Cj(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function h1(t){return!(t.pointerType==="touch"||yR())}function Ij(t,e,n={}){const[s,a,l]=vR(t,n),u=f=>{if(!h1(f))return;const{target:p}=f,d=e(p,f);if(typeof d!="function"||!p)return;const y=v=>{h1(v)&&(d(v),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,a)};return s.forEach(f=>{f.addEventListener("pointerenter",u,a)}),l}const _R=(t,e)=>e?t===e?!0:_R(t,e.parentElement):!1,T0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Nj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function bR(t){return Nj.has(t.tagName)||t.isContentEditable===!0}const Wf=new WeakSet;function f1(t){return e=>{e.key==="Enter"&&t(e)}}function jg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Dj=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=f1(()=>{if(Wf.has(n))return;jg(n,"down");const a=f1(()=>{jg(n,"up")}),l=()=>jg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function d1(t){return T0(t)&&!yR()}function kj(t,e,n={}){const[s,a,l]=vR(t,n),u=f=>{const p=f.currentTarget;if(!d1(f))return;Wf.add(p);const d=e(p,f),y=(C,D)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),Wf.has(p)&&Wf.delete(p),d1(C)&&typeof d=="function"&&d(C,{success:D})},v=C=>{y(C,p===window||p===document||n.useGlobalTarget||_R(p,C.target))},w=C=>{y(C,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",w,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),gR(f)&&(f.addEventListener("focus",d=>Dj(d,a)),!bR(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function TR(t){return CC(t)&&"ownerSVGElement"in t}function Mj(t){return TR(t)&&t.tagName==="svg"}const Vj=[...fR,tn,_a],Pj=t=>Vj.find(hR(t)),m1=()=>({translate:0,scale:1,origin:0,originPoint:0}),bl=()=>({x:m1(),y:m1()}),p1=()=>({min:0,max:0}),cn=()=>({x:p1(),y:p1()}),Fy={current:null},wR={current:!1},Oj=typeof window<"u";function Lj(){if(wR.current=!0,!!Oj)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Fy.current=t.matches;t.addEventListener("change",e),e()}else Fy.current=!1}const jj=new WeakMap;function mm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ku(t){return typeof t=="string"||Array.isArray(t)}const w0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],E0=["initial",...w0];function pm(t){return mm(t.animate)||E0.some(e=>ku(t[e]))}function ER(t){return!!(pm(t)||t.variants)}function Uj(t,e,n){for(const s in e){const a=e[s],l=n[s];if(Dn(a))t.addValue(s,a);else if(Dn(l))t.addValue(s,jl(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,jl(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const g1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let kd={};function xR(t){kd=t}function zj(){return kd}class Bj{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=m0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Un.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Rt.render(this.render,!1,!0))};const{latestValues:p,renderState:d}=u;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=pm(n),this.isVariantNode=ER(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in v){const C=v[w];p[w]!==void 0&&Dn(C)&&C.set(p[w])}}mount(e){this.current=e,jj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(wR.current||Lj(),this.shouldReduceMotion=Fy.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),va(this.notifyUpdate),va(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Xl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Rt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in kd){const n=kd[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):cn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<g1.length;s++){const a=g1[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=Uj(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=jl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(AC(s)||RC(s))?s=parseFloat(s):!Pj(s)&&_a.test(n)&&(s=mR(e,n)),this.setBaseTarget(e,Dn(s)?s.get():s)),Dn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=y0(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Dn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new i0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){b0.render(this.render)}}class xa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class SR extends Bj{constructor(){super(...arguments),this.KeyframeResolver=Aj}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function AR({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function Fj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function qj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Ug(t){return t===void 0||t===1}function qy({scale:t,scaleX:e,scaleY:n}){return!Ug(t)||!Ug(e)||!Ug(n)}function so(t){return qy(t)||CR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function CR(t){return y1(t.x)||y1(t.y)}function y1(t){return t&&t!=="0%"}function Md(t,e,n){const s=t-n,a=e*s;return n+a}function v1(t,e,n,s,a){return a!==void 0&&(t=Md(t,a,s)),Md(t,n,s)+e}function Hy(t,e=0,n=1,s,a){t.min=v1(t.min,e,n,s,a),t.max=v1(t.max,e,n,s,a)}function RR(t,{x:e,y:n}){Hy(t.x,e.translate,e.scale,e.originPoint),Hy(t.y,n.translate,n.scale,n.originPoint)}const _1=.999999999999,b1=1.0000000000001;function Hj(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let f=0;f<a;f++){l=n[f],u=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&wl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,RR(t,u)),s&&so(l.latestValues)&&wl(t,l.latestValues))}e.x<b1&&e.x>_1&&(e.x=1),e.y<b1&&e.y>_1&&(e.y=1)}function Tl(t,e){t.min=t.min+e,t.max=t.max+e}function T1(t,e,n,s,a=.5){const l=Pt(t.min,t.max,a);Hy(t,e,n,l,s)}function wl(t,e){T1(t.x,e.x,e.scaleX,e.scale,e.originX),T1(t.y,e.y,e.scaleY,e.scale,e.originY)}function IR(t,e){return AR(qj(t.getBoundingClientRect(),e))}function Gj(t,e,n){const s=IR(t,n),{scroll:a}=e;return a&&(Tl(s.x,a.offset.x),Tl(s.y,a.offset.y)),s}const Kj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$j=Ql.length;function Yj(t,e,n){let s="",a=!0;for(let l=0;l<$j;l++){const u=Ql[l],f=t[u];if(f===void 0)continue;let p=!0;if(typeof f=="number"?p=f===(u.startsWith("scale")?1:0):p=parseFloat(f)===0,!p||n){const d=pR(f,_0[u]);if(!p){a=!1;const y=Kj[u]||u;s+=`${y}(${d}) `}n&&(e[u]=d)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function x0(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,f=!1;for(const p in e){const d=e[p];if(Xl.has(p)){u=!0;continue}else if(FC(p)){a[p]=d;continue}else{const y=pR(d,_0[p]);p.startsWith("origin")?(f=!0,l[p]=y):s[p]=y}}if(e.transform||(u||n?s.transform=Yj(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:p="50%",originY:d="50%",originZ:y=0}=l;s.transformOrigin=`${p} ${d} ${y}`}}function NR(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function w1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const eu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=w1(t,e.target.x),s=w1(t,e.target.y);return`${n}% ${s}%`}},Qj={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=_a.parse(t);if(a.length>5)return s;const l=_a.createTransformer(t),u=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,p=n.y.scale*e.y;a[0+u]/=f,a[1+u]/=p;const d=Pt(f,p,.5);return typeof a[2+u]=="number"&&(a[2+u]/=d),typeof a[3+u]=="number"&&(a[3+u]/=d),l(a)}},Gy={borderRadius:{...eu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:eu,borderTopRightRadius:eu,borderBottomLeftRadius:eu,borderBottomRightRadius:eu,boxShadow:Qj};function DR(t,{layout:e,layoutId:n}){return Xl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Gy[t]||t==="opacity")}function S0(t,e,n){const s=t.style,a=e?.style,l={};if(!s)return l;for(const u in s)(Dn(s[u])||a&&Dn(a[u])||DR(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=s[u]);return l}function Xj(t){return window.getComputedStyle(t)}class Wj extends SR{constructor(){super(...arguments),this.type="html",this.renderInstance=NR}readValueFromInstance(e,n){if(Xl.has(n))return this.projection?.isProjecting?ky(n):CL(e,n);{const s=Xj(e),a=(FC(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return IR(e,n)}build(e,n,s){x0(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return S0(e,n,s)}}const Zj={offset:"stroke-dashoffset",array:"stroke-dasharray"},Jj={offset:"strokeDashoffset",array:"strokeDasharray"};function e6(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?Zj:Jj;t[l.offset]=we.transform(-s);const u=we.transform(e),f=we.transform(n);t[l.array]=`${u} ${f}`}const t6=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function kR(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},p,d,y){if(x0(t,f,d),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w}=t;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=y?.transformBox??"fill-box",delete v.transformBox);for(const C of t6)v[C]!==void 0&&(w[C]=v[C],delete v[C]);e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),a!==void 0&&e6(v,a,l,u,!1)}const MR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),VR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function n6(t,e,n,s){NR(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(MR.has(a)?a:v0(a),e.attrs[a])}function PR(t,e,n){const s=S0(t,e,n);for(const a in t)if(Dn(t[a])||Dn(e[a])){const l=Ql.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}class i6 extends SR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=cn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Xl.has(n)){const s=dR(n);return s&&s.default||0}return n=MR.has(n)?n:v0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return PR(e,n,s)}build(e,n,s){kR(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){n6(e,n,s,a)}mount(e){this.isSVGTag=VR(e.tagName),super.mount(e)}}const s6=E0.length;function OR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?OR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<s6;n++){const s=E0[n],a=t.props[s];(ku(a)||a===!1)&&(e[s]=a)}return e}function LR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const r6=[...w0].reverse(),a6=w0.length;function o6(t){return e=>Promise.all(e.map(({animation:n,options:s})=>gj(t,n,s)))}function l6(t){let e=o6(t),n=E1(),s=!0;const a=p=>(d,y)=>{const v=Il(t,y,p==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:w,transitionEnd:C,...D}=v;d={...d,...D,...C}}return d};function l(p){e=p(t)}function u(p){const{props:d}=t,y=OR(t.parent)||{},v=[],w=new Set;let C={},D=1/0;for(let V=0;V<a6;V++){const j=r6[V],F=n[j],q=d[j]!==void 0?d[j]:y[j],oe=ku(q),ae=j===p?F.isActive:null;ae===!1&&(D=V);let de=q===y[j]&&q!==d[j]&&oe;if(de&&s&&t.manuallyAnimateOnMount&&(de=!1),F.protectedKeys={...C},!F.isActive&&ae===null||!q&&!F.prevProp||mm(q)||typeof q=="boolean")continue;const k=c6(F.prevProp,q);let S=k||j===p&&F.isActive&&!de&&oe||V>D&&oe,N=!1;const O=Array.isArray(q)?q:[q];let U=O.reduce(a(j),{});ae===!1&&(U={});const{prevResolvedValues:L={}}=F,I={...L,...U},he=ne=>{S=!0,w.has(ne)&&(N=!0,w.delete(ne)),F.needsAnimating[ne]=!0;const ie=t.getValue(ne);ie&&(ie.liveStyle=!1)};for(const ne in I){const ie=U[ne],ke=L[ne];if(C.hasOwnProperty(ne))continue;let G=!1;jy(ie)&&jy(ke)?G=!LR(ie,ke):G=ie!==ke,G?ie!=null?he(ne):w.add(ne):ie!==void 0&&w.has(ne)?he(ne):F.protectedKeys[ne]=!0}F.prevProp=q,F.prevResolvedValues=U,F.isActive&&(C={...C,...U}),s&&t.blockInitialAnimation&&(S=!1);const pe=de&&k;S&&(!pe||N)&&v.push(...O.map(ne=>{const ie={type:j};if(typeof ne=="string"&&s&&!pe&&t.manuallyAnimateOnMount&&t.parent){const{parent:ke}=t,G=Il(ke,ne);if(ke.enteringChildren&&G){const{delayChildren:x}=G.transition||{};ie.delay=aR(ke.enteringChildren,t,x)}}return{animation:ne,options:ie}}))}if(w.size){const V={};if(typeof d.initial!="boolean"){const j=Il(t,Array.isArray(d.initial)?d.initial[0]:d.initial);j&&j.transition&&(V.transition=j.transition)}w.forEach(j=>{const F=t.getBaseTarget(j),q=t.getValue(j);q&&(q.liveStyle=!0),V[j]=F??null}),v.push({animation:V})}let P=!!v.length;return s&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(P=!1),s=!1,P?e(v):Promise.resolve()}function f(p,d){if(n[p].isActive===d)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(p,d)),n[p].isActive=d;const y=u(p);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=E1()}}}function c6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!LR(e,t):!1}function eo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function E1(){return{animate:eo(!0),whileInView:eo(),whileHover:eo(),whileTap:eo(),whileDrag:eo(),whileFocus:eo(),exit:eo()}}const jR=1e-4,u6=1-jR,h6=1+jR,UR=.01,f6=0-UR,d6=0+UR;function zn(t){return t.max-t.min}function m6(t,e,n){return Math.abs(t-e)<=n}function x1(t,e,n,s=.5){t.origin=s,t.originPoint=Pt(e.min,e.max,t.origin),t.scale=zn(n)/zn(e),t.translate=Pt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=u6&&t.scale<=h6||isNaN(t.scale))&&(t.scale=1),(t.translate>=f6&&t.translate<=d6||isNaN(t.translate))&&(t.translate=0)}function vu(t,e,n,s){x1(t.x,e.x,n.x,s?s.originX:void 0),x1(t.y,e.y,n.y,s?s.originY:void 0)}function S1(t,e,n){t.min=n.min+e.min,t.max=t.min+zn(e)}function p6(t,e,n){S1(t.x,e.x,n.x),S1(t.y,e.y,n.y)}function A1(t,e,n){t.min=e.min-n.min,t.max=t.min+zn(e)}function Vd(t,e,n){A1(t.x,e.x,n.x),A1(t.y,e.y,n.y)}function C1(t,e,n,s,a){return t-=e,t=Md(t,1/n,s),a!==void 0&&(t=Md(t,1/a,s)),t}function g6(t,e=0,n=1,s=.5,a,l=t,u=t){if(Cs.test(e)&&(e=parseFloat(e),e=Pt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=Pt(l.min,l.max,s);t===l&&(f-=e),t.min=C1(t.min,e,n,f,a),t.max=C1(t.max,e,n,f,a)}function R1(t,e,[n,s,a],l,u){g6(t,e[n],e[s],e[a],e.scale,l,u)}const y6=["x","scaleX","originX"],v6=["y","scaleY","originY"];function I1(t,e,n,s){R1(t.x,e,y6,n?n.x:void 0,s?s.x:void 0),R1(t.y,e,v6,n?n.y:void 0,s?s.y:void 0)}function N1(t,e){t.min=e.min,t.max=e.max}function Yi(t,e){N1(t.x,e.x),N1(t.y,e.y)}function D1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function k1(t){return t.translate===0&&t.scale===1}function zR(t){return k1(t.x)&&k1(t.y)}function M1(t,e){return t.min===e.min&&t.max===e.max}function _6(t,e){return M1(t.x,e.x)&&M1(t.y,e.y)}function V1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function BR(t,e){return V1(t.x,e.x)&&V1(t.y,e.y)}function P1(t){return zn(t.x)/zn(t.y)}function O1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function ki(t){return[t("x"),t("y")]}function b6(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:y,rotateX:v,rotateY:w,skewX:C,skewY:D}=n;d&&(s=`perspective(${d}px) ${s}`),y&&(s+=`rotate(${y}deg) `),v&&(s+=`rotateX(${v}deg) `),w&&(s+=`rotateY(${w}deg) `),C&&(s+=`skewX(${C}deg) `),D&&(s+=`skewY(${D}deg) `)}const f=t.x.scale*e.x,p=t.y.scale*e.y;return(f!==1||p!==1)&&(s+=`scale(${f}, ${p})`),s||"none"}const FR=["TopLeft","TopRight","BottomLeft","BottomRight"],T6=FR.length,L1=t=>typeof t=="string"?parseFloat(t):t,j1=t=>typeof t=="number"||we.test(t);function w6(t,e,n,s,a,l){a?(t.opacity=Pt(0,n.opacity??1,E6(s)),t.opacityExit=Pt(e.opacity??1,0,x6(s))):l&&(t.opacity=Pt(e.opacity??1,n.opacity??1,s));for(let u=0;u<T6;u++){const f=`border${FR[u]}Radius`;let p=U1(e,f),d=U1(n,f);if(p===void 0&&d===void 0)continue;p||(p=0),d||(d=0),p===0||d===0||j1(p)===j1(d)?(t[f]=Math.max(Pt(L1(p),L1(d),s),0),(Cs.test(d)||Cs.test(p))&&(t[f]+="%")):t[f]=d}(e.rotate||n.rotate)&&(t.rotate=Pt(e.rotate||0,n.rotate||0,s))}function U1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const E6=qR(0,.5,OC),x6=qR(.5,.95,Li);function qR(t,e,n){return s=>s<t?0:s>e?1:n(Iu(t,e,s))}function S6(t,e){const n=Un.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(va(s),t(l-e))};return Rt.setup(s,!0),()=>va(s)}function Mu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Zf(t){return Dn(t)?t.get():t}function A6(t,e,n){const s=Dn(t)?t:jl(t);return s.start(g0("",s,e,n)),s.animation}const C6=(t,e)=>t.depth-e.depth;class R6{constructor(){this.children=[],this.isDirty=!1}add(e){Jv(this.children,e),this.isDirty=!0}remove(e){e0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(C6),this.isDirty=!1,this.children.forEach(e)}}class I6{constructor(){this.members=[]}add(e){Jv(this.members,e),e.scheduleRender()}remove(e){if(e0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Jf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},zg=["","X","Y","Z"],N6=1e3;let D6=0;function Bg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function HR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=cR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Rt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&HR(s)}function GR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},f=e?.()){this.id=D6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(V6),this.nodes.forEach(j6),this.nodes.forEach(U6),this.nodes.forEach(P6)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new R6)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new i0),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const p=this.eventHandlers.get(u);p&&p.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=TR(u)&&!Mj(u),this.instance=u;const{layoutId:f,layout:p,visualElement:d}=this.options;if(d&&!d.current&&d.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||f)&&(this.isLayoutDirty=!0),t){let y,v=0;const w=()=>this.root.updateBlockedByResize=!1;Rt.read(()=>{v=window.innerWidth}),t(u,()=>{const C=window.innerWidth;C!==v&&(v=C,this.root.updateBlockedByResize=!0,y&&y(),y=S6(w,250),Jf.hasAnimatedSinceResize&&(Jf.hasAnimatedSinceResize=!1,this.nodes.forEach(F1)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&d&&(f||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||d.getDefaultTransition()||H6,{onLayoutAnimationStart:P,onLayoutAnimationComplete:V}=d.getProps(),j=!this.targetLayout||!BR(this.targetLayout,C),F=!v&&w;if(this.options.layoutRoot||this.resumeFrom||F||v&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...p0(D,"layout"),onPlay:P,onComplete:V};(d.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(y,F)}else v||F1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),va(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(z6),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&HR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:p}=this.options;if(f===void 0&&!p)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(z1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(B1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(L6),this.nodes.forEach(k6),this.nodes.forEach(M6)):this.nodes.forEach(B1),this.clearAllSnapshots();const f=Un.now();xn.delta=ks(0,1e3/60,f-xn.timestamp),xn.timestamp=f,xn.isProcessing=!0,kg.update.process(xn),kg.preRender.process(xn),kg.render.process(xn),xn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,b0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(O6),this.sharedNodes.forEach(B6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!zn(this.snapshot.measuredBox.x)&&!zn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=cn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!zR(this.projectionDelta),p=this.getTransformTemplate(),d=p?p(this.latestValues,""):void 0,y=d!==this.prevTransformTemplateValue;u&&this.instance&&(f||so(this.latestValues)||y)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let p=this.removeElementScroll(f);return u&&(p=this.removeTransform(p)),G6(p),{animationId:this.root.animationId,measuredBox:f,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return cn();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(K6))){const{scroll:d}=this.root;d&&(Tl(f.x,d.offset.x),Tl(f.y,d.offset.y))}return f}removeElementScroll(u){const f=cn();if(Yi(f,u),this.scroll?.wasRoot)return f;for(let p=0;p<this.path.length;p++){const d=this.path[p],{scroll:y,options:v}=d;d!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Yi(f,u),Tl(f.x,y.offset.x),Tl(f.y,y.offset.y))}return f}applyTransform(u,f=!1){const p=cn();Yi(p,u);for(let d=0;d<this.path.length;d++){const y=this.path[d];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&wl(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),so(y.latestValues)&&wl(p,y.latestValues)}return so(this.latestValues)&&wl(p,this.latestValues),p}removeTransform(u){const f=cn();Yi(f,u);for(let p=0;p<this.path.length;p++){const d=this.path[p];if(!d.instance||!so(d.latestValues))continue;qy(d.latestValues)&&d.updateSnapshot();const y=cn(),v=d.measurePageBox();Yi(y,v),I1(f,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,y)}return so(this.latestValues)&&I1(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=xn.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=cn(),this.targetWithTransforms=cn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),p6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yi(this.target,this.layout.layoutBox),RR(this.target,this.targetDelta)):Yi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||qy(this.parent.latestValues)||CR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,f,p){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=cn(),this.relativeTargetOrigin=cn(),Vd(this.relativeTargetOrigin,f,p),Yi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===xn.timestamp&&(p=!1),p)return;const{layout:d,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||y))return;Yi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;Hj(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=cn());const{target:C}=u;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(D1(this.prevProjectionDelta.x,this.projectionDelta.x),D1(this.prevProjectionDelta.y,this.projectionDelta.y)),vu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!O1(this.projectionDelta.x,this.prevProjectionDelta.x)||!O1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bl(),this.projectionDelta=bl(),this.projectionDeltaWithTransform=bl()}setAnimationOrigin(u,f=!1){const p=this.snapshot,d=p?p.latestValues:{},y={...this.latestValues},v=bl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const w=cn(),C=p?p.source:void 0,D=this.layout?this.layout.source:void 0,P=C!==D,V=this.getStack(),j=!V||V.members.length<=1,F=!!(P&&!j&&this.options.crossfade===!0&&!this.path.some(q6));this.animationProgress=0;let q;this.mixTargetDelta=oe=>{const ae=oe/1e3;q1(v.x,u.x,ae),q1(v.y,u.y,ae),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vd(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),F6(this.relativeTarget,this.relativeTargetOrigin,w,ae),q&&_6(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=cn()),Yi(q,this.relativeTarget)),P&&(this.animationValues=y,w6(y,d,this.latestValues,ae,F,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ae},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(va(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Rt.update(()=>{Jf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=jl(0)),this.currentAnimation=A6(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(N6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:p,layout:d,latestValues:y}=u;if(!(!f||!p||!d)){if(this!==u&&this.layout&&d&&KR(this.options.animationType,this.layout.layoutBox,d.layoutBox)){p=this.target||cn();const v=zn(this.layout.layoutBox.x);p.x.min=u.target.x.min,p.x.max=p.x.min+v;const w=zn(this.layout.layoutBox.y);p.y.min=u.target.y.min,p.y.max=p.y.min+w}Yi(f,p),wl(f,y),vu(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new I6),this.sharedNodes.get(u).add(f);const d=f.options.initialPromotionConfig;f.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:p}={}){const d=this.getStack();d&&d.promote(this,p),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:p}=u;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(f=!0),!f)return;const d={};p.z&&Bg("z",u,d,this.animationValues);for(let y=0;y<zg.length;y++)Bg(`rotate${zg[y]}`,u,d,this.animationValues),Bg(`skew${zg[y]}`,u,d,this.animationValues);u.render();for(const y in d)u.setStaticValue(y,d[y]),this.animationValues&&(this.animationValues[y]=d[y]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Zf(f?.pointerEvents)||"",u.transform=p?p(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Zf(f?.pointerEvents)||""),this.hasProjected&&!so(this.latestValues)&&(u.transform=p?p({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=d.animationValues||d.latestValues;this.applyTransformsToTarget();let v=b6(this.projectionDeltaWithTransform,this.treeScale,y);p&&(v=p(y,v)),u.transform=v;const{x:w,y:C}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${C.origin*100}% 0`,d.animationValues?u.opacity=d===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=d===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const D in Gy){if(y[D]===void 0)continue;const{correct:P,applyTo:V,isCSSVariable:j}=Gy[D],F=v==="none"?y[D]:P(y[D],d);if(V){const q=V.length;for(let oe=0;oe<q;oe++)u[V[oe]]=F}else j?this.options.visualElement.renderState.vars[D]=F:u[D]=F}this.options.layoutId&&(u.pointerEvents=d===this?Zf(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(z1),this.root.sharedNodes.clear()}}}function k6(t){t.updateLayout()}function M6(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ki(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],w=zn(v);v.min=n[y].min,v.max=v.min+w}):KR(a,e.layoutBox,n)&&ki(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],w=zn(n[y]);v.max=v.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+w)});const u=bl();vu(u,n,e.layoutBox);const f=bl();l?vu(f,t.applyTransform(s,!0),e.measuredBox):vu(f,n,e.layoutBox);const p=!zR(u);let d=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:w}=y;if(v&&w){const C=cn();Vd(C,e.layoutBox,v.layoutBox);const D=cn();Vd(D,n,w.layoutBox),BR(C,D)||(d=!0),y.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=C,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function V6(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function P6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function O6(t){t.clearSnapshot()}function z1(t){t.clearMeasurements()}function B1(t){t.isLayoutDirty=!1}function L6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function F1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function j6(t){t.resolveTargetDelta()}function U6(t){t.calcProjection()}function z6(t){t.resetSkewAndRotation()}function B6(t){t.removeLeadSnapshot()}function q1(t,e,n){t.translate=Pt(e.translate,0,n),t.scale=Pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function H1(t,e,n,s){t.min=Pt(e.min,n.min,s),t.max=Pt(e.max,n.max,s)}function F6(t,e,n,s){H1(t.x,e.x,n.x,s),H1(t.y,e.y,n.y,s)}function q6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const H6={duration:.45,ease:[.4,0,.1,1]},G1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),K1=G1("applewebkit/")&&!G1("chrome/")?Math.round:Li;function $1(t){t.min=K1(t.min),t.max=K1(t.max)}function G6(t){$1(t.x),$1(t.y)}function KR(t,e,n){return t==="position"||t==="preserve-aspect"&&!m6(P1(e),P1(n),.2)}function K6(t){return t!==t.root&&t.scroll?.wasRoot}const $6=GR({attachResizeListener:(t,e)=>Mu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fg={current:void 0},$R=GR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Fg.current){const t=new $6({});t.mount(window),t.setOptions({layoutScroll:!0}),Fg.current=t}return Fg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),A0=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Y1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Y6(...t){return e=>{let n=!1;const s=t.map(a=>{const l=Y1(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():Y1(t[a],null)}}}}function Q6(...t){return M.useCallback(Y6(...t),t)}class X6 extends M.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=gR(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function W6({children:t,isPresent:e,anchorX:n,root:s}){const a=M.useId(),l=M.useRef(null),u=M.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=M.useContext(A0),p=t.props?.ref??t?.ref,d=Q6(l,p);return M.useInsertionEffect(()=>{const{width:y,height:v,top:w,left:C,right:D}=u.current;if(e||!l.current||!y||!v)return;const P=n==="left"?`left: ${C}`:`right: ${D}`;l.current.dataset.motionPopId=a;const V=document.createElement("style");f&&(V.nonce=f);const j=s??document.head;return j.appendChild(V),V.sheet&&V.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${v}px !important;
            ${P}px !important;
            top: ${w}px !important;
          }
        `),()=>{j.contains(V)&&j.removeChild(V)}},[e]),T.jsx(X6,{isPresent:e,childRef:l,sizeRef:u,children:M.cloneElement(t,{ref:d})})}const Z6=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:f,root:p})=>{const d=Zv(J6),y=M.useId();let v=!0,w=M.useMemo(()=>(v=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:C=>{d.set(C,!0);for(const D of d.values())if(!D)return;s&&s()},register:C=>(d.set(C,!1),()=>d.delete(C))}),[n,d,s]);return l&&v&&(w={...w}),M.useMemo(()=>{d.forEach((C,D)=>d.set(D,!1))},[n]),M.useEffect(()=>{!n&&!d.size&&s&&s()},[n]),u==="popLayout"&&(t=T.jsx(W6,{isPresent:n,anchorX:f,root:p,children:t})),T.jsx(dm.Provider,{value:w,children:t})};function J6(){return new Map}function YR(t=!0){const e=M.useContext(dm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=M.useId();M.useEffect(()=>{if(t)return a(l)},[t]);const u=M.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const Vf=t=>t.key||"";function Q1(t){const e=[];return M.Children.forEach(t,n=>{M.isValidElement(n)&&e.push(n)}),e}const Xi=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:f="left",root:p})=>{const[d,y]=YR(u),v=M.useMemo(()=>Q1(t),[t]),w=u&&!d?[]:v.map(Vf),C=M.useRef(!0),D=M.useRef(v),P=Zv(()=>new Map),V=M.useRef(new Set),[j,F]=M.useState(v),[q,oe]=M.useState(v);SC(()=>{C.current=!1,D.current=v;for(let k=0;k<q.length;k++){const S=Vf(q[k]);w.includes(S)?(P.delete(S),V.current.delete(S)):P.get(S)!==!0&&P.set(S,!1)}},[q,w.length,w.join("-")]);const ae=[];if(v!==j){let k=[...v];for(let S=0;S<q.length;S++){const N=q[S],O=Vf(N);w.includes(O)||(k.splice(S,0,N),ae.push(N))}return l==="wait"&&ae.length&&(k=ae),oe(Q1(k)),F(v),null}const{forceRender:de}=M.useContext(Wv);return T.jsx(T.Fragment,{children:q.map(k=>{const S=Vf(k),N=u&&!d?!1:v===q||w.includes(S),O=()=>{if(V.current.has(S))return;if(V.current.add(S),P.has(S))P.set(S,!0);else return;let U=!0;P.forEach(L=>{L||(U=!1)}),U&&(de?.(),oe(D.current),u&&y?.(),s&&s())};return T.jsx(Z6,{isPresent:N,initial:!C.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:N?void 0:O,anchorX:f,children:k},S)})})},QR=M.createContext({strict:!1}),X1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let W1=!1;function eU(){if(W1)return;const t={};for(const e in X1)t[e]={isEnabled:n=>X1[e].some(s=>!!n[s])};xR(t),W1=!0}function XR(){return eU(),zj()}function tU(t){const e=XR();for(const n in t)e[n]={...e[n],...t[n]};xR(e)}const nU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Pd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||nU.has(t)}let WR=t=>!Pd(t);function iU(t){typeof t=="function"&&(WR=e=>e.startsWith("on")?!Pd(e):t(e))}try{iU(require("@emotion/is-prop-valid").default)}catch{}function sU(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(WR(a)||n===!0&&Pd(a)||!e&&!Pd(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const gm=M.createContext({});function rU(t,e){if(pm(t)){const{initial:n,animate:s}=t;return{initial:n===!1||ku(n)?n:void 0,animate:ku(s)?s:void 0}}return t.inherit!==!1?e:{}}function aU(t){const{initial:e,animate:n}=rU(t,M.useContext(gm));return M.useMemo(()=>({initial:e,animate:n}),[Z1(e),Z1(n)])}function Z1(t){return Array.isArray(t)?t.join(" "):t}const C0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZR(t,e,n){for(const s in e)!Dn(e[s])&&!DR(s,n)&&(t[s]=e[s])}function oU({transformTemplate:t},e){return M.useMemo(()=>{const n=C0();return x0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function lU(t,e){const n=t.style||{},s={};return ZR(s,n,t),Object.assign(s,oU(t,e)),s}function cU(t,e){const n={},s=lU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const JR=()=>({...C0(),attrs:{}});function uU(t,e,n,s){const a=M.useMemo(()=>{const l=JR();return kR(l,e,VR(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};ZR(l,t.style,t),a.style={...l,...a.style}}return a}const hU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function R0(t){return typeof t!="string"||t.includes("-")?!1:!!(hU.indexOf(t)>-1||/[A-Z]/u.test(t))}function fU(t,e,n,{latestValues:s},a,l=!1,u){const p=(u??R0(t)?uU:cU)(e,s,a,t),d=sU(e,typeof t=="string",l),y=t!==M.Fragment?{...d,...p,ref:n}:{},{children:v}=e,w=M.useMemo(()=>Dn(v)?v.get():v,[v]);return M.createElement(t,{...y,children:w})}function dU({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:mU(n,s,a,t),renderState:e()}}function mU(t,e,n,s){const a={},l=s(t,{});for(const w in l)a[w]=Zf(l[w]);let{initial:u,animate:f}=t;const p=pm(t),d=ER(t);e&&d&&!p&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const v=y?f:u;if(v&&typeof v!="boolean"&&!mm(v)){const w=Array.isArray(v)?v:[v];for(let C=0;C<w.length;C++){const D=y0(t,w[C]);if(D){const{transitionEnd:P,transition:V,...j}=D;for(const F in j){let q=j[F];if(Array.isArray(q)){const oe=y?q.length-1:0;q=q[oe]}q!==null&&(a[F]=q)}for(const F in P)a[F]=P[F]}}}return a}const e2=t=>(e,n)=>{const s=M.useContext(gm),a=M.useContext(dm),l=()=>dU(t,e,s,a);return n?l():Zv(l)},pU=e2({scrapeMotionValuesFromProps:S0,createRenderState:C0}),gU=e2({scrapeMotionValuesFromProps:PR,createRenderState:JR}),yU=Symbol.for("motionComponentSymbol");function vU(t,e,n){const s=M.useRef(n);M.useInsertionEffect(()=>{s.current=n});const a=M.useRef(null);return M.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=s.current;if(typeof u=="function")if(l){const f=u(l);typeof f=="function"&&(a.current=f)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[e])}const t2=M.createContext({});function ou(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function _U(t,e,n,s,a,l){const{visualElement:u}=M.useContext(gm),f=M.useContext(QR),p=M.useContext(dm),d=M.useContext(A0).reducedMotion,y=M.useRef(null);s=s||f.renderer,!y.current&&s&&(y.current=s(t,{visualState:e,parent:u,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:d,isSVG:l}));const v=y.current,w=M.useContext(t2);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&bU(y.current,n,a,w);const C=M.useRef(!1);M.useInsertionEffect(()=>{v&&C.current&&v.update(n,p)});const D=n[lR],P=M.useRef(!!D&&!window.MotionHandoffIsComplete?.(D)&&window.MotionHasOptimisedAnimation?.(D));return SC(()=>{v&&(C.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),P.current&&v.animationState&&v.animationState.animateChanges())}),M.useEffect(()=>{v&&(!P.current&&v.animationState&&v.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(D)}),P.current=!1),v.enteringChildren=void 0)}),v}function bU(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:p,layoutRoot:d,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:n2(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&ou(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:p,layoutRoot:d})}function n2(t){if(t)return t.options.allowProjection!==!1?t.projection:n2(t.parent)}function qg(t,{forwardMotionProps:e=!1,type:n}={},s,a){s&&tU(s);const l=n?n==="svg":R0(t),u=l?gU:pU;function f(d,y){let v;const w={...M.useContext(A0),...d,layoutId:TU(d)},{isStatic:C}=w,D=aU(d),P=u(d,C);if(!C&&xC){wU();const V=EU(w);v=V.MeasureLayout,D.visualElement=_U(t,P,w,a,V.ProjectionNode,l)}return T.jsxs(gm.Provider,{value:D,children:[v&&D.visualElement?T.jsx(v,{visualElement:D.visualElement,...w}):null,fU(t,d,vU(P,D.visualElement,y),P,C,e,l)]})}f.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const p=M.forwardRef(f);return p[yU]=t,p}function TU({layoutId:t}){const e=M.useContext(Wv).id;return e&&t!==void 0?e+"-"+t:t}function wU(t,e){M.useContext(QR).strict}function EU(t){const e=XR(),{drag:n,layout:s}=e;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function xU(t,e){if(typeof Proxy>"u")return qg;const n=new Map,s=(l,u)=>qg(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,qg(u,void 0,t,e)),n.get(u))})}const SU=(t,e)=>e.isSVG??R0(t)?new i6(e):new Wj(e,{allowProjection:t!==M.Fragment});class AU extends xa{constructor(e){super(e),e.animationState||(e.animationState=l6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();mm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let CU=0;class RU extends xa{constructor(){super(...arguments),this.id=CU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const IU={animation:{Feature:AU},exit:{Feature:RU}};function nh(t){return{point:{x:t.pageX,y:t.pageY}}}const NU=t=>e=>T0(e)&&t(e,nh(e));function _u(t,e,n,s){return Mu(t,e,NU(n),s)}const i2=({current:t})=>t?t.ownerDocument.defaultView:null,J1=(t,e)=>Math.abs(t-e);function DU(t,e){const n=J1(t.x,e.x),s=J1(t.y,e.y);return Math.sqrt(n**2+s**2)}const ex=new Set(["auto","scroll"]);class s2{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:f}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=C=>{this.handleScroll(C.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Gg(this.lastMoveEventInfo,this.history),D=this.startEvent!==null,P=DU(C.offset,{x:0,y:0})>=this.distanceThreshold;if(!D&&!P)return;const{point:V}=C,{timestamp:j}=xn;this.history.push({...V,timestamp:j});const{onStart:F,onMove:q}=this.handlers;D||(F&&F(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,C)},this.handlePointerMove=(C,D)=>{this.lastMoveEvent=C,this.lastMoveEventInfo=Hg(D,this.transformPagePoint),Rt.update(this.updatePoint,!0)},this.handlePointerUp=(C,D)=>{this.end();const{onEnd:P,onSessionEnd:V,resumeAnimation:j}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=Gg(C.type==="pointercancel"?this.lastMoveEventInfo:Hg(D,this.transformPagePoint),this.history);this.startEvent&&P&&P(C,F),V&&V(C,F)},!T0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const p=nh(e),d=Hg(p,this.transformPagePoint),{point:y}=d,{timestamp:v}=xn;this.history=[{...y,timestamp:v}];const{onSessionStart:w}=n;w&&w(e,Gg(d,this.history)),this.removeListeners=Ju(_u(this.contextWindow,"pointermove",this.handlePointerMove),_u(this.contextWindow,"pointerup",this.handlePointerUp),_u(this.contextWindow,"pointercancel",this.handlePointerUp)),f&&this.startScrollTracking(f)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(ex.has(s.overflowX)||ex.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),Rt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),va(this.updatePoint)}}function Hg(t,e){return e?{point:e(t.point)}:t}function tx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Gg({point:t},e){return{point:t,delta:tx(t,r2(e)),offset:tx(t,kU(e)),velocity:MU(e,.1)}}function kU(t){return t[0]}function r2(t){return t[t.length-1]}function MU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=r2(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>fr(e)));)n--;if(!s)return{x:0,y:0};const l=Vi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function VU(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Pt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Pt(n,t,s.max):Math.min(t,n)),t}function nx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function PU(t,{top:e,left:n,bottom:s,right:a}){return{x:nx(t.x,n,a),y:nx(t.y,e,s)}}function ix(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function OU(t,e){return{x:ix(t.x,e.x),y:ix(t.y,e.y)}}function LU(t,e){let n=.5;const s=zn(t),a=zn(e);return a>s?n=Iu(e.min,e.max-s,t.min):s>a&&(n=Iu(t.min,t.max-a,e.min)),ks(0,1,n)}function jU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ky=.35;function UU(t=Ky){return t===!1?t=0:t===!0&&(t=Ky),{x:sx(t,"left","right"),y:sx(t,"top","bottom")}}function sx(t,e,n){return{min:rx(t,e),max:rx(t,n)}}function rx(t,e){return typeof t=="number"?t:t[e]||0}const zU=new WeakMap;class BU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=cn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{n?(this.stopAnimation(),this.snapToCursor(nh(v).point)):this.pauseAnimation()},u=(v,w)=>{this.stopAnimation();const{drag:C,dragPropagation:D,onDragStart:P}=this.getProps();if(C&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Rj(C),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ki(j=>{let F=this.getAxisMotionValue(j).get()||0;if(Cs.test(F)){const{projection:q}=this.visualElement;if(q&&q.layout){const oe=q.layout.layoutBox[j];oe&&(F=zn(oe)*(parseFloat(F)/100))}}this.originPoint[j]=F}),P&&Rt.postRender(()=>P(v,w)),Uy(this.visualElement,"transform");const{animationState:V}=this.visualElement;V&&V.setActive("whileDrag",!0)},f=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:C,dragDirectionLock:D,onDirectionLock:P,onDrag:V}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:j}=w;if(D&&this.currentDirection===null){this.currentDirection=FU(j),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",w.point,j),this.updateAxis("y",w.point,j),this.visualElement.render(),V&&V(v,w)},p=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>ki(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new s2(e,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:p,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:i2(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&Rt.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Pf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=VU(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&ou(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=PU(s.layoutBox,e):this.constraints=!1,this.elastic=UU(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ki(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=jU(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ou(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=Gj(s,a.root,this.visualElement.getTransformPagePoint());let u=OU(a.layout.layoutBox,l);if(n){const f=n(Fj(u));this.hasMutatedConstraints=!!f,f&&(u=AR(f))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),p=this.constraints||{},d=ki(y=>{if(!Pf(y,n,this.currentDirection))return;let v=p&&p[y]||{};u&&(v={min:0,max:0});const w=a?200:1e6,C=a?40:1e7,D={type:"inertia",velocity:s?e[y]:0,bounceStiffness:w,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,D)});return Promise.all(d).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Uy(this.visualElement,e),s.start(g0(e,s,0,n,this.visualElement,!1))}stopAnimation(){ki(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ki(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ki(n=>{const{drag:s}=this.getProps();if(!Pf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[n],p=l.get()||0;l.set(e[n]-Pt(u,f,.5)+p)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ou(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ki(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const p=f.get();a[u]=LU({min:p,max:p},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ki(u=>{if(!Pf(u,e,null))return;const f=this.getAxisMotionValue(u),{min:p,max:d}=this.constraints[u];f.set(Pt(p,d,a[u]))})}addListeners(){if(!this.visualElement.current)return;zU.set(this.visualElement,this);const e=this.visualElement.current,n=_u(e,"pointerdown",p=>{const{drag:d,dragListener:y=!0}=this.getProps();d&&y&&!bR(p.target)&&this.start(p)}),s=()=>{const{dragConstraints:p}=this.getProps();ou(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Rt.read(s);const u=Mu(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:d})=>{this.isDragging&&d&&(ki(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=p[y].translate,v.set(v.get()+p[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Ky,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function Pf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function FU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class qU extends xa{constructor(e){super(e),this.removeGroupControls=Li,this.removeListeners=Li,this.controls=new BU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Li}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const ax=t=>(e,n)=>{t&&Rt.postRender(()=>t(e,n))};class HU extends xa{constructor(){super(...arguments),this.removePointerDownListener=Li}onPointerDown(e){this.session=new s2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:i2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:ax(e),onStart:ax(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&Rt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=_u(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Kg=!1;class GU extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Kg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Jf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,Kg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Rt.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),b0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Kg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function a2(t){const[e,n]=YR(),s=M.useContext(Wv);return T.jsx(GU,{...t,layoutGroup:s,switchLayoutGroup:M.useContext(t2),isPresent:e,safeToRemove:n})}const KU={pan:{Feature:HU},drag:{Feature:qU,ProjectionNode:$R,MeasureLayout:a2}};function ox(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&Rt.postRender(()=>l(e,nh(e)))}class $U extends xa{mount(){const{current:e}=this.node;e&&(this.unmount=Ij(e,(n,s)=>(ox(this.node,s,"Start"),a=>ox(this.node,a,"End"))))}unmount(){}}class YU extends xa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ju(Mu(this.node.current,"focus",()=>this.onFocus()),Mu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lx(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&Rt.postRender(()=>l(e,nh(e)))}class QU extends xa{mount(){const{current:e}=this.node;e&&(this.unmount=kj(e,(n,s)=>(lx(this.node,s,"Start"),(a,{success:l})=>lx(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $y=new WeakMap,$g=new WeakMap,XU=t=>{const e=$y.get(t.target);e&&e(t)},WU=t=>{t.forEach(XU)};function ZU({root:t,...e}){const n=t||document;$g.has(n)||$g.set(n,{});const s=$g.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(WU,{root:t,...e})),s[a]}function JU(t,e,n){const s=ZU(e);return $y.set(t,n),s.observe(t),()=>{$y.delete(t),s.unobserve(t)}}const e9={some:0,all:1};class t9 extends xa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:e9[a]},f=p=>{const{isIntersecting:d}=p;if(this.isInView===d||(this.isInView=d,l&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),w=d?y:v;w&&w(p)};return JU(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(n9(e,n))&&this.startObserver()}unmount(){}}function n9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const i9={inView:{Feature:t9},tap:{Feature:QU},focus:{Feature:YU},hover:{Feature:$U}},s9={layout:{ProjectionNode:$R,MeasureLayout:a2}},r9={...IU,...i9,...KU,...s9},ct=xU(r9,SU);const a9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),cx=t=>{const e=o9(t);return e.charAt(0).toUpperCase()+e.slice(1)},o2=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),l9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var c9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const u9=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...f},p)=>M.createElement("svg",{ref:p,...c9,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:o2("lucide",a),...!l&&!l9(f)&&{"aria-hidden":"true"},...f},[...u.map(([d,y])=>M.createElement(d,y)),...Array.isArray(l)?l:[l]]));const _t=(t,e)=>{const n=M.forwardRef(({className:s,...a},l)=>M.createElement(u9,{ref:l,iconNode:e,className:o2(`lucide-${a9(cx(t))}`,`lucide-${t}`,s),...a}));return n.displayName=cx(t),n};const h9=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ux=_t("award",h9);const f9=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Yy=_t("book-open",f9);const d9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Od=_t("calendar",d9);const m9=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],hx=_t("camera",m9);const p9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],El=_t("check",p9);const g9=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],l2=_t("chevron-left",g9);const y9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],c2=_t("chevron-right",y9);const v9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],fx=_t("circle-alert",v9);const _9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],b9=_t("circle-check-big",_9);const T9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],w9=_t("circle-question-mark",T9);const E9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],x9=_t("clock",E9);const S9=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],u2=_t("layout-grid",S9);const A9=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],h2=_t("log-out",A9);const C9=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],R9=_t("mail",C9);const I9=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],dx=_t("palette",I9);const N9=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],mx=_t("pen",N9);const D9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ld=_t("plus",D9);const k9=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],M9=_t("printer",k9);const V9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],f2=_t("settings",V9);const P9=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Yg=_t("share-2",P9);const O9=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],L9=_t("shuffle",O9);const j9=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],U9=_t("sparkles",j9);const z9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],d2=_t("trash-2",z9);const B9=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],F9=_t("type",B9);const q9=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],H9=_t("user",q9);const G9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],K9=_t("users",G9);const $9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ho=_t("x",$9);const Y9=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],px=_t("zap",Y9),m2=M.createContext(null),p2=()=>{const t=M.useContext(m2);if(!t)throw new Error("useDialog must be used within a DialogProvider");return t},Q9=({children:t})=>{const[e,n]=M.useState({isOpen:!1,type:"alert",options:{message:""},resolve:null}),[s,a]=M.useState(""),[l,u]=M.useState("editor"),f=M.useCallback((D,P)=>new Promise(V=>{a(P.inputDefaultValue||""),u("editor"),n({isOpen:!0,type:D,options:P,resolve:V})}),[]),p=M.useCallback(D=>{e.resolve&&e.resolve(D),n(P=>({...P,isOpen:!1,resolve:null}))},[e.resolve]),d=M.useCallback((D,P)=>f("alert",{message:D,title:"Notice",confirmText:"OK",type:"info",...P}),[f]),y=M.useCallback((D,P)=>f("confirm",{message:D,title:"Confirm",confirmText:"Yes",cancelText:"Cancel",type:"warning",...P}),[f]),v=M.useCallback((D,P)=>f("prompt",{message:D,title:"Input",confirmText:"OK",cancelText:"Cancel",inputPlaceholder:"",...P}),[f]),w=M.useCallback((D,P)=>f("share",{message:D,title:"Share Board",confirmText:"Send Invite",cancelText:"Cancel",showRoleSelector:!0,inputPlaceholder:"Enter email address",...P}),[f]),C=()=>{switch(e.options.type){case"success":return T.jsx(b9,{className:"w-8 h-8 text-green-400"});case"warning":return T.jsx(fx,{className:"w-8 h-8 text-amber-400"});case"error":return T.jsx(fx,{className:"w-8 h-8 text-red-400"});default:return T.jsx(w9,{className:"w-8 h-8 text-accent-primary"})}};return T.jsxs(m2.Provider,{value:{alert:d,confirm:y,prompt:v,sharePrompt:w},children:[t,T.jsx(Xi,{children:e.isOpen&&T.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{e.type==="alert"?p(void 0):e.type==="confirm"?p(!1):p(null)},children:T.jsxs(ct.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-slate-900 border border-white/20 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",onClick:D=>D.stopPropagation(),children:[T.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[e.type==="share"?T.jsx(R9,{className:"w-6 h-6 text-accent-primary"}):C(),T.jsx("h3",{className:"text-lg font-bold text-white",children:e.options.title})]}),T.jsx("button",{onClick:()=>{e.type==="alert"?p(void 0):e.type==="confirm"?p(!1):p(null)},className:"p-1 text-slate-400 hover:text-white rounded-full hover:bg-white/10 transition-colors",children:T.jsx(ho,{size:20})})]}),T.jsxs("div",{className:"p-6",children:[T.jsx("p",{className:"text-slate-300 mb-4 whitespace-pre-wrap",children:e.options.message}),(e.type==="prompt"||e.type==="share")&&T.jsx("input",{type:e.type==="share"?"email":"text",autoFocus:!0,value:s,onChange:D=>a(D.target.value),placeholder:e.options.inputPlaceholder,className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors mb-4",onKeyDown:D=>{D.key==="Enter"&&s.trim()&&(e.type==="share"?p({email:s.trim(),role:l}):p(s.trim()))}}),e.type==="share"&&e.options.showRoleSelector&&T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"text-sm font-medium text-slate-400 mb-2 block",children:"Access Level"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{onClick:()=>u("viewer"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="viewer"?"bg-accent-primary/20 text-accent-primary border border-accent-primary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Viewer"}),T.jsx("button",{onClick:()=>u("editor"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Editor"})]}),T.jsx("p",{className:"text-xs text-slate-500 mt-2",children:l==="viewer"?"Can view the board but not make changes":"Can view and edit the board"})]})]}),T.jsxs("div",{className:"flex gap-3 p-4 pt-0",children:[e.type!=="alert"&&T.jsx("button",{onClick:()=>{e.type==="confirm"?p(!1):p(null)},className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:e.options.cancelText}),T.jsx("button",{onClick:()=>{e.type==="alert"?p(void 0):e.type==="confirm"?p(!0):e.type==="share"?s.trim()&&p({email:s.trim(),role:l}):p(s.trim()||null)},disabled:(e.type==="prompt"||e.type==="share")&&!s.trim(),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:e.options.confirmText})]})]})})})]})};function g2(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=g2(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function X9(){for(var t,e,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=g2(t))&&(s&&(s+=" "),s+=e);return s}const W9=(t,e)=>{const n=new Array(t.length+e.length);for(let s=0;s<t.length;s++)n[s]=t[s];for(let s=0;s<e.length;s++)n[t.length+s]=e[s];return n},Z9=(t,e)=>({classGroupId:t,validator:e}),y2=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),jd="-",gx=[],J9="arbitrary..",ez=t=>{const e=nz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return tz(u);const f=u.split(jd),p=f[0]===""&&f.length>1?1:0;return v2(f,p,e)},getConflictingClassGroupIds:(u,f)=>{if(f){const p=s[u],d=n[u];return p?d?W9(d,p):p:d||gx}return n[u]||gx}}},v2=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const d=v2(t,e+1,l);if(d)return d}const u=n.validators;if(u===null)return;const f=e===0?t.join(jd):t.slice(e).join(jd),p=u.length;for(let d=0;d<p;d++){const y=u[d];if(y.validator(f))return y.classGroupId}},tz=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),s=e.slice(0,n);return s?J9+s:void 0})(),nz=t=>{const{theme:e,classGroups:n}=t;return iz(n,e)},iz=(t,e)=>{const n=y2();for(const s in t){const a=t[s];I0(a,n,s,e)}return n},I0=(t,e,n,s)=>{const a=t.length;for(let l=0;l<a;l++){const u=t[l];sz(u,e,n,s)}},sz=(t,e,n,s)=>{if(typeof t=="string"){rz(t,e,n);return}if(typeof t=="function"){az(t,e,n,s);return}oz(t,e,n,s)},rz=(t,e,n)=>{const s=t===""?e:_2(e,t);s.classGroupId=n},az=(t,e,n,s)=>{if(lz(t)){I0(t(s),e,n,s);return}e.validators===null&&(e.validators=[]),e.validators.push(Z9(n,t))},oz=(t,e,n,s)=>{const a=Object.entries(t),l=a.length;for(let u=0;u<l;u++){const[f,p]=a[u];I0(p,_2(e,f),n,s)}},_2=(t,e)=>{let n=t;const s=e.split(jd),a=s.length;for(let l=0;l<a;l++){const u=s[l];let f=n.nextPart.get(u);f||(f=y2(),n.nextPart.set(u,f)),n=f}return n},lz=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,cz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),s=Object.create(null);const a=(l,u)=>{n[l]=u,e++,e>t&&(e=0,s=n,n=Object.create(null))};return{get(l){let u=n[l];if(u!==void 0)return u;if((u=s[l])!==void 0)return a(l,u),u},set(l,u){l in n?n[l]=u:a(l,u)}}},Qy="!",yx=":",uz=[],vx=(t,e,n,s,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:s,isExternal:a}),hz=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=a=>{const l=[];let u=0,f=0,p=0,d;const y=a.length;for(let P=0;P<y;P++){const V=a[P];if(u===0&&f===0){if(V===yx){l.push(a.slice(p,P)),p=P+1;continue}if(V==="/"){d=P;continue}}V==="["?u++:V==="]"?u--:V==="("?f++:V===")"&&f--}const v=l.length===0?a:a.slice(p);let w=v,C=!1;v.endsWith(Qy)?(w=v.slice(0,-1),C=!0):v.startsWith(Qy)&&(w=v.slice(1),C=!0);const D=d&&d>p?d-p:void 0;return vx(l,C,w,D)};if(e){const a=e+yx,l=s;s=u=>u.startsWith(a)?l(u.slice(a.length)):vx(uz,!1,u,void 0,!0)}if(n){const a=s;s=l=>n({className:l,parseClassName:a})}return s},fz=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,s)=>{e.set(n,1e6+s)}),n=>{const s=[];let a=[];for(let l=0;l<n.length;l++){const u=n[l],f=u[0]==="[",p=e.has(u);f||p?(a.length>0&&(a.sort(),s.push(...a),a=[]),s.push(u)):a.push(u)}return a.length>0&&(a.sort(),s.push(...a)),s}},dz=t=>({cache:cz(t.cacheSize),parseClassName:hz(t),sortModifiers:fz(t),...ez(t)}),mz=/\s+/,pz=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:l}=e,u=[],f=t.trim().split(mz);let p="";for(let d=f.length-1;d>=0;d-=1){const y=f[d],{isExternal:v,modifiers:w,hasImportantModifier:C,baseClassName:D,maybePostfixModifierPosition:P}=n(y);if(v){p=y+(p.length>0?" "+p:p);continue}let V=!!P,j=s(V?D.substring(0,P):D);if(!j){if(!V){p=y+(p.length>0?" "+p:p);continue}if(j=s(D),!j){p=y+(p.length>0?" "+p:p);continue}V=!1}const F=w.length===0?"":w.length===1?w[0]:l(w).join(":"),q=C?F+Qy:F,oe=q+j;if(u.indexOf(oe)>-1)continue;u.push(oe);const ae=a(j,V);for(let de=0;de<ae.length;++de){const k=ae[de];u.push(q+k)}p=y+(p.length>0?" "+p:p)}return p},gz=(...t)=>{let e=0,n,s,a="";for(;e<t.length;)(n=t[e++])&&(s=b2(n))&&(a&&(a+=" "),a+=s);return a},b2=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=b2(t[s]))&&(n&&(n+=" "),n+=e);return n},yz=(t,...e)=>{let n,s,a,l;const u=p=>{const d=e.reduce((y,v)=>v(y),t());return n=dz(d),s=n.cache.get,a=n.cache.set,l=f,f(p)},f=p=>{const d=s(p);if(d)return d;const y=pz(p,n);return a(p,y),y};return l=u,(...p)=>l(gz(...p))},vz=[],ln=t=>{const e=n=>n[t]||vz;return e.isThemeGetter=!0,e},T2=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,w2=/^\((?:(\w[\w-]*):)?(.+)\)$/i,_z=/^\d+\/\d+$/,bz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Tz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Ez=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hl=t=>_z.test(t),Ge=t=>!!t&&!Number.isNaN(Number(t)),Jr=t=>!!t&&Number.isInteger(Number(t)),Qg=t=>t.endsWith("%")&&Ge(t.slice(0,-1)),rr=t=>bz.test(t),Sz=()=>!0,Az=t=>Tz.test(t)&&!wz.test(t),E2=()=>!1,Cz=t=>Ez.test(t),Rz=t=>xz.test(t),Iz=t=>!xe(t)&&!Se(t),Nz=t=>Wl(t,A2,E2),xe=t=>T2.test(t),to=t=>Wl(t,C2,Az),Xg=t=>Wl(t,Pz,Ge),_x=t=>Wl(t,x2,E2),Dz=t=>Wl(t,S2,Rz),Of=t=>Wl(t,R2,Cz),Se=t=>w2.test(t),tu=t=>Zl(t,C2),kz=t=>Zl(t,Oz),bx=t=>Zl(t,x2),Mz=t=>Zl(t,A2),Vz=t=>Zl(t,S2),Lf=t=>Zl(t,R2,!0),Wl=(t,e,n)=>{const s=T2.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},Zl=(t,e,n=!1)=>{const s=w2.exec(t);return s?s[1]?e(s[1]):n:!1},x2=t=>t==="position"||t==="percentage",S2=t=>t==="image"||t==="url",A2=t=>t==="length"||t==="size"||t==="bg-size",C2=t=>t==="length",Pz=t=>t==="number",Oz=t=>t==="family-name",R2=t=>t==="shadow",Lz=()=>{const t=ln("color"),e=ln("font"),n=ln("text"),s=ln("font-weight"),a=ln("tracking"),l=ln("leading"),u=ln("breakpoint"),f=ln("container"),p=ln("spacing"),d=ln("radius"),y=ln("shadow"),v=ln("inset-shadow"),w=ln("text-shadow"),C=ln("drop-shadow"),D=ln("blur"),P=ln("perspective"),V=ln("aspect"),j=ln("ease"),F=ln("animate"),q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],oe=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ae=()=>[...oe(),Se,xe],de=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],S=()=>[Se,xe,p],N=()=>[hl,"full","auto",...S()],O=()=>[Jr,"none","subgrid",Se,xe],U=()=>["auto",{span:["full",Jr,Se,xe]},Jr,Se,xe],L=()=>[Jr,"auto",Se,xe],I=()=>["auto","min","max","fr",Se,xe],he=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],pe=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...S()],ne=()=>[hl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],ie=()=>[t,Se,xe],ke=()=>[...oe(),bx,_x,{position:[Se,xe]}],G=()=>["no-repeat",{repeat:["","x","y","space","round"]}],x=()=>["auto","cover","contain",Mz,Nz,{size:[Se,xe]}],$=()=>[Qg,tu,to],ee=()=>["","none","full",d,Se,xe],re=()=>["",Ge,tu,to],ge=()=>["solid","dashed","dotted","double"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],me=()=>[Ge,Qg,bx,_x],Ae=()=>["","none",D,Se,xe],Re=()=>["none",Ge,Se,xe],He=()=>["none",Ge,Se,xe],qe=()=>[Ge,Se,xe],Qe=()=>[hl,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[rr],breakpoint:[rr],color:[Sz],container:[rr],"drop-shadow":[rr],ease:["in","out","in-out"],font:[Iz],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[rr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[rr],shadow:[rr],spacing:["px",Ge],text:[rr],"text-shadow":[rr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",hl,xe,Se,V]}],container:["container"],columns:[{columns:[Ge,xe,Se,f]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ae()}],overflow:[{overflow:de()}],"overflow-x":[{"overflow-x":de()}],"overflow-y":[{"overflow-y":de()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[Jr,"auto",Se,xe]}],basis:[{basis:[hl,"full","auto",f,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ge,hl,"auto","initial","none",xe]}],grow:[{grow:["",Ge,Se,xe]}],shrink:[{shrink:["",Ge,Se,xe]}],order:[{order:[Jr,"first","last","none",Se,xe]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...he(),"normal"]}],"justify-items":[{"justify-items":[...pe(),"normal"]}],"justify-self":[{"justify-self":["auto",...pe()]}],"align-content":[{content:["normal",...he()]}],"align-items":[{items:[...pe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...pe(),{baseline:["","last"]}]}],"place-content":[{"place-content":he()}],"place-items":[{"place-items":[...pe(),"baseline"]}],"place-self":[{"place-self":["auto",...pe()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:ne()}],w:[{w:[f,"screen",...ne()]}],"min-w":[{"min-w":[f,"screen","none",...ne()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...ne()]}],h:[{h:["screen","lh",...ne()]}],"min-h":[{"min-h":["screen","lh","none",...ne()]}],"max-h":[{"max-h":["screen","lh",...ne()]}],"font-size":[{text:["base",n,tu,to]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Se,Xg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Qg,xe]}],"font-family":[{font:[kz,xe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Se,xe]}],"line-clamp":[{"line-clamp":[Ge,"none",Se,Xg]}],leading:[{leading:[l,...S()]}],"list-image":[{"list-image":["none",Se,xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Se,xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ie()}],"text-color":[{text:ie()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ge,"from-font","auto",Se,to]}],"text-decoration-color":[{decoration:ie()}],"underline-offset":[{"underline-offset":[Ge,"auto",Se,xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se,xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se,xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ke()}],"bg-repeat":[{bg:G()}],"bg-size":[{bg:x()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Jr,Se,xe],radial:["",Se,xe],conic:[Jr,Se,xe]},Vz,Dz]}],"bg-color":[{bg:ie()}],"gradient-from-pos":[{from:$()}],"gradient-via-pos":[{via:$()}],"gradient-to-pos":[{to:$()}],"gradient-from":[{from:ie()}],"gradient-via":[{via:ie()}],"gradient-to":[{to:ie()}],rounded:[{rounded:ee()}],"rounded-s":[{"rounded-s":ee()}],"rounded-e":[{"rounded-e":ee()}],"rounded-t":[{"rounded-t":ee()}],"rounded-r":[{"rounded-r":ee()}],"rounded-b":[{"rounded-b":ee()}],"rounded-l":[{"rounded-l":ee()}],"rounded-ss":[{"rounded-ss":ee()}],"rounded-se":[{"rounded-se":ee()}],"rounded-ee":[{"rounded-ee":ee()}],"rounded-es":[{"rounded-es":ee()}],"rounded-tl":[{"rounded-tl":ee()}],"rounded-tr":[{"rounded-tr":ee()}],"rounded-br":[{"rounded-br":ee()}],"rounded-bl":[{"rounded-bl":ee()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:ie()}],"border-color-x":[{"border-x":ie()}],"border-color-y":[{"border-y":ie()}],"border-color-s":[{"border-s":ie()}],"border-color-e":[{"border-e":ie()}],"border-color-t":[{"border-t":ie()}],"border-color-r":[{"border-r":ie()}],"border-color-b":[{"border-b":ie()}],"border-color-l":[{"border-l":ie()}],"divide-color":[{divide:ie()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ge,Se,xe]}],"outline-w":[{outline:["",Ge,tu,to]}],"outline-color":[{outline:ie()}],shadow:[{shadow:["","none",y,Lf,Of]}],"shadow-color":[{shadow:ie()}],"inset-shadow":[{"inset-shadow":["none",v,Lf,Of]}],"inset-shadow-color":[{"inset-shadow":ie()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ie()}],"ring-offset-w":[{"ring-offset":[Ge,to]}],"ring-offset-color":[{"ring-offset":ie()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":ie()}],"text-shadow":[{"text-shadow":["none",w,Lf,Of]}],"text-shadow-color":[{"text-shadow":ie()}],opacity:[{opacity:[Ge,Se,xe]}],"mix-blend":[{"mix-blend":[...ye(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ye()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ge]}],"mask-image-linear-from-pos":[{"mask-linear-from":me()}],"mask-image-linear-to-pos":[{"mask-linear-to":me()}],"mask-image-linear-from-color":[{"mask-linear-from":ie()}],"mask-image-linear-to-color":[{"mask-linear-to":ie()}],"mask-image-t-from-pos":[{"mask-t-from":me()}],"mask-image-t-to-pos":[{"mask-t-to":me()}],"mask-image-t-from-color":[{"mask-t-from":ie()}],"mask-image-t-to-color":[{"mask-t-to":ie()}],"mask-image-r-from-pos":[{"mask-r-from":me()}],"mask-image-r-to-pos":[{"mask-r-to":me()}],"mask-image-r-from-color":[{"mask-r-from":ie()}],"mask-image-r-to-color":[{"mask-r-to":ie()}],"mask-image-b-from-pos":[{"mask-b-from":me()}],"mask-image-b-to-pos":[{"mask-b-to":me()}],"mask-image-b-from-color":[{"mask-b-from":ie()}],"mask-image-b-to-color":[{"mask-b-to":ie()}],"mask-image-l-from-pos":[{"mask-l-from":me()}],"mask-image-l-to-pos":[{"mask-l-to":me()}],"mask-image-l-from-color":[{"mask-l-from":ie()}],"mask-image-l-to-color":[{"mask-l-to":ie()}],"mask-image-x-from-pos":[{"mask-x-from":me()}],"mask-image-x-to-pos":[{"mask-x-to":me()}],"mask-image-x-from-color":[{"mask-x-from":ie()}],"mask-image-x-to-color":[{"mask-x-to":ie()}],"mask-image-y-from-pos":[{"mask-y-from":me()}],"mask-image-y-to-pos":[{"mask-y-to":me()}],"mask-image-y-from-color":[{"mask-y-from":ie()}],"mask-image-y-to-color":[{"mask-y-to":ie()}],"mask-image-radial":[{"mask-radial":[Se,xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":me()}],"mask-image-radial-to-pos":[{"mask-radial-to":me()}],"mask-image-radial-from-color":[{"mask-radial-from":ie()}],"mask-image-radial-to-color":[{"mask-radial-to":ie()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":oe()}],"mask-image-conic-pos":[{"mask-conic":[Ge]}],"mask-image-conic-from-pos":[{"mask-conic-from":me()}],"mask-image-conic-to-pos":[{"mask-conic-to":me()}],"mask-image-conic-from-color":[{"mask-conic-from":ie()}],"mask-image-conic-to-color":[{"mask-conic-to":ie()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ke()}],"mask-repeat":[{mask:G()}],"mask-size":[{mask:x()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Se,xe]}],filter:[{filter:["","none",Se,xe]}],blur:[{blur:Ae()}],brightness:[{brightness:[Ge,Se,xe]}],contrast:[{contrast:[Ge,Se,xe]}],"drop-shadow":[{"drop-shadow":["","none",C,Lf,Of]}],"drop-shadow-color":[{"drop-shadow":ie()}],grayscale:[{grayscale:["",Ge,Se,xe]}],"hue-rotate":[{"hue-rotate":[Ge,Se,xe]}],invert:[{invert:["",Ge,Se,xe]}],saturate:[{saturate:[Ge,Se,xe]}],sepia:[{sepia:["",Ge,Se,xe]}],"backdrop-filter":[{"backdrop-filter":["","none",Se,xe]}],"backdrop-blur":[{"backdrop-blur":Ae()}],"backdrop-brightness":[{"backdrop-brightness":[Ge,Se,xe]}],"backdrop-contrast":[{"backdrop-contrast":[Ge,Se,xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ge,Se,xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ge,Se,xe]}],"backdrop-invert":[{"backdrop-invert":["",Ge,Se,xe]}],"backdrop-opacity":[{"backdrop-opacity":[Ge,Se,xe]}],"backdrop-saturate":[{"backdrop-saturate":[Ge,Se,xe]}],"backdrop-sepia":[{"backdrop-sepia":["",Ge,Se,xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Se,xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ge,"initial",Se,xe]}],ease:[{ease:["linear","initial",j,Se,xe]}],delay:[{delay:[Ge,Se,xe]}],animate:[{animate:["none",F,Se,xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[P,Se,xe]}],"perspective-origin":[{"perspective-origin":ae()}],rotate:[{rotate:Re()}],"rotate-x":[{"rotate-x":Re()}],"rotate-y":[{"rotate-y":Re()}],"rotate-z":[{"rotate-z":Re()}],scale:[{scale:He()}],"scale-x":[{"scale-x":He()}],"scale-y":[{"scale-y":He()}],"scale-z":[{"scale-z":He()}],"scale-3d":["scale-3d"],skew:[{skew:qe()}],"skew-x":[{"skew-x":qe()}],"skew-y":[{"skew-y":qe()}],transform:[{transform:[Se,xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:ae()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Qe()}],"translate-x":[{"translate-x":Qe()}],"translate-y":[{"translate-y":Qe()}],"translate-z":[{"translate-z":Qe()}],"translate-none":["translate-none"],accent:[{accent:ie()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ie()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se,xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se,xe]}],fill:[{fill:["none",...ie()]}],"stroke-w":[{stroke:[Ge,tu,to,Xg]}],stroke:[{stroke:["none",...ie()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},jz=yz(Lz);function en(...t){return jz(X9(t))}const Uz=()=>{const{isSettingsOpen:t,closeSettings:e,settings:n,updateSettings:s}=ih(),a=ed.useRef(n);if(ed.useEffect(()=>{t&&(a.current=n)},[t]),!t)return null;const l=()=>{s(a.current,!1),e()},u=()=>{s(n,!0),e()},f=[{id:"dawn",name:"Dawn",color:"bg-[#0f111a] from-violet-500/20 to-pink-500/20"},{id:"midnight",name:"Midnight",color:"bg-[#020617] from-sky-500/20 to-indigo-500/20"},{id:"forest",name:"Forest",color:"bg-[#052e16] from-green-500/20 to-emerald-500/20"},{id:"ocean",name:"Ocean",color:"bg-[#083344] from-cyan-500/20 to-teal-500/20"},{id:"sunset",name:"Sunset",color:"bg-[#2a0a0a] from-orange-500/20 to-rose-500/20"}],p=[{id:"outfit",name:"Modern",family:"font-[Outfit]"},{id:"inter",name:"Clean",family:"font-[Inter]"},{id:"playfair",name:"Elegant",family:'font-["Playfair_Display"]'},{id:"mono",name:"Tech",family:'font-["Fira_Code"]'}];return T.jsx(Xi,{children:t&&T.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 font-sans",children:[T.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:l}),T.jsxs(ct.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-lg bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden max-h-[85vh] flex flex-col",children:[T.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center sticky top-0 bg-slate-900 z-10",children:[T.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[T.jsx(dx,{className:"w-5 h-5 text-accent-primary"}),"Customization"]}),T.jsx("button",{onClick:l,className:"text-slate-400 hover:text-white transition-colors",children:T.jsx(ho,{className:"w-6 h-6"})})]}),T.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[T.jsxs("section",{children:[T.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[T.jsx(dx,{className:"w-4 h-4"})," Theme"]}),T.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:f.map(d=>T.jsxs("button",{onClick:()=>s({theme:d.id},!1),className:en("relative group overflow-hidden rounded-xl border transition-all duration-300",n.theme===d.id?"border-accent-primary ring-2 ring-accent-primary/50":"border-white/10 hover:border-white/30"),children:[T.jsx("div",{className:en("h-16 w-full bg-gradient-to-br",d.color)}),T.jsx("div",{className:"p-3 bg-slate-800/50",children:T.jsx("span",{className:en("text-sm font-medium",n.theme===d.id?"text-white":"text-slate-400"),children:d.name})}),n.theme===d.id&&T.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 bg-accent-primary rounded-full flex items-center justify-center shadow-lg",children:T.jsx(El,{className:"w-3 h-3 text-white"})})]},d.id))})]}),T.jsxs("section",{children:[T.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[T.jsx(F9,{className:"w-4 h-4"})," Typography"]}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:p.map(d=>T.jsxs("button",{onClick:()=>s({font:d.id},!1),className:en("flex items-center justify-between p-4 rounded-xl border transition-all duration-200 text-left",n.font===d.id?"bg-white/10 border-accent-primary text-white":"bg-white/5 border-white/5 hover:bg-white/10 text-slate-300"),children:[T.jsxs("div",{children:[T.jsx("span",{className:en("text-lg block mb-0.5",d.family),children:"Aa"}),T.jsx("span",{className:"text-xs text-slate-400",children:d.name})]}),n.font===d.id&&T.jsx(El,{className:"w-5 h-5 text-accent-primary"})]},d.id))}),T.jsx("div",{className:"mt-4 p-4 rounded-xl bg-black/20 border border-white/5",children:T.jsx("p",{className:en("text-sm text-slate-300 leading-relaxed",n.font==="outfit"&&"font-[Outfit]",n.font==="inter"&&"font-[Inter]",n.font==="playfair"&&'font-["Playfair_Display"]',n.font==="mono"&&'font-["Fira_Code"]'),children:"The quick brown fox jumps over the lazy dog. 1234567890."})})]}),T.jsxs("section",{children:[T.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[T.jsx(px,{className:"w-4 h-4"})," Experience"]}),T.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10 mb-3",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:en("p-2 rounded-lg",n.enableAnimation?"bg-accent-primary/20 text-accent-primary":"bg-slate-700 text-slate-400"),children:T.jsx(px,{size:20})}),T.jsxs("div",{children:[T.jsx("div",{className:"font-medium text-white",children:"Live Backgrounds"}),T.jsx("div",{className:"text-xs text-slate-400",children:"Dynamic particles and ambient effects"})]})]}),T.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[T.jsx("input",{type:"checkbox",checked:n.enableAnimation,onChange:d=>s({enableAnimation:d.target.checked},!1),className:"sr-only peer"}),T.jsx("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-accent-primary rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-primary"})]})]}),T.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:en("p-2 rounded-lg",n.enableSound?"bg-emerald-500/20 text-emerald-400":"bg-slate-700 text-slate-400"),children:T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),T.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"}),T.jsx("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14"})]})}),T.jsxs("div",{children:[T.jsx("div",{className:"font-medium text-white",children:"Sound Effects"}),T.jsx("div",{className:"text-xs text-slate-400",children:"Satisfying clicks and celebrations"})]})]}),T.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[T.jsx("input",{type:"checkbox",checked:n.enableSound,onChange:d=>s({enableSound:d.target.checked},!1),className:"sr-only peer"}),T.jsx("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-emerald-500 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]})]})]})]}),T.jsxs("div",{className:"p-6 border-t border-white/10 flex justify-end gap-3 sticky bottom-0 bg-slate-900 z-10 shrink-0",children:[T.jsx("button",{onClick:l,className:"px-4 py-2 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),T.jsx("button",{onClick:u,className:"px-6 py-2 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all active:scale-95",children:"Save Changes"})]})]})]})})},Wg={theme:"dawn",font:"outfit",enableAnimation:!0,enableSound:!0},I2=M.createContext(null),ih=()=>{const t=M.useContext(I2);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},zz=({children:t})=>{const{user:e}=$l(),[n,s]=M.useState(Wg),[a,l]=M.useState(!1);M.useEffect(()=>{(async()=>{if(!e){s(Wg);return}try{const y=As(Xn,"users",e.uid),v=await Wu(y);v.exists()&&v.data().settings&&s({...Wg,...v.data().settings})}catch(y){console.error("Error loading settings:",y)}})()},[e]),M.useEffect(()=>{const d=document.body;d.classList.remove("theme-midnight","theme-forest","theme-ocean","theme-sunset"),n.theme!=="dawn"&&d.classList.add(`theme-${n.theme}`),d.classList.remove("font-inter","font-playfair","font-mono","font-comic"),n.font!=="outfit"&&d.classList.add(`font-${n.font}`),n.enableAnimation?d.classList.remove("reduce-motion"):d.classList.add("reduce-motion")},[n]);const u=async(d,y=!0)=>{const v={...n,...d};if(s(v),e&&y)try{await Ad(As(Xn,"users",e.uid),{settings:v},{merge:!0})}catch(w){console.error("Error saving settings:",w)}},f=()=>l(!0),p=()=>l(!1);return T.jsxs(I2.Provider,{value:{settings:n,updateSettings:u,isSettingsOpen:a,openSettings:f,closeSettings:p},children:[t,T.jsx(Uz,{})]})},Bz=()=>{const{signIn:t,error:e}=$l();return T.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-center",children:[T.jsx("div",{className:"background-animation"}),T.jsxs("div",{className:"glass-panel p-8 max-w-md w-full flex flex-col items-center gap-6 animate-fade-in",children:[T.jsxs("div",{className:"flex flex-col items-center gap-2 mb-2",children:[T.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-24 w-auto object-contain drop-shadow-[0_0_15px_rgba(251,191,36,0.3)]"}),T.jsx("div",{className:"rounded-full bg-accent-primary/20 p-2 hidden",children:T.jsx(U9,{className:"w-6 h-6 text-accent-gold animate-pulse"})})]}),T.jsx("h1",{className:"text-4xl font-heading font-bold text-gradient sr-only",children:"SunSar Bingo"}),T.jsxs("p",{className:"text-slate-300 font-light text-lg",children:["Track your goals, share with friends,",T.jsx("br",{}),"and make 2026 your best year yet."]}),e&&T.jsx("div",{className:"bg-red-500/20 text-red-200 px-4 py-2 rounded-lg text-sm border border-red-500/30",children:e}),T.jsx("button",{onClick:t,className:"group relative px-6 py-3 bg-white text-bg-dark font-bold rounded-full transition-all hover:scale-105 hover:shadow-[0_0_20px_rgba(255,255,255,0.3)]",children:T.jsxs("span",{className:"flex items-center gap-2",children:[T.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"G",className:"w-5 h-5"}),"Sign in / Sign up with Google"]})})]}),T.jsx("footer",{className:"absolute bottom-4 text-slate-500 text-xs",children:" 2026 SunSar Bingo  Free & Open Source"})]})};var N0={};(function t(e,n,s,a){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),u=typeof Path2D=="function"&&typeof DOMMatrix=="function",f=(function(){if(!e.OffscreenCanvas)return!1;try{var G=new OffscreenCanvas(1,1),x=G.getContext("2d");x.fillRect(0,0,1,1);var $=G.transferToImageBitmap();x.createPattern($,"no-repeat")}catch{return!1}return!0})();function p(){}function d(G){var x=n.exports.Promise,$=x!==void 0?x:e.Promise;return typeof $=="function"?new $(G):(G(p,p),null)}var y=(function(G,x){return{transform:function($){if(G)return $;if(x.has($))return x.get($);var ee=new OffscreenCanvas($.width,$.height),re=ee.getContext("2d");return re.drawImage($,0,0),x.set($,ee),ee},clear:function(){x.clear()}}})(f,new Map),v=(function(){var G=Math.floor(16.666666666666668),x,$,ee={},re=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(x=function(ge){var ye=Math.random();return ee[ye]=requestAnimationFrame(function me(Ae){re===Ae||re+G-1<Ae?(re=Ae,delete ee[ye],ge()):ee[ye]=requestAnimationFrame(me)}),ye},$=function(ge){ee[ge]&&cancelAnimationFrame(ee[ge])}):(x=function(ge){return setTimeout(ge,G)},$=function(ge){return clearTimeout(ge)}),{frame:x,cancel:$}})(),w=(function(){var G,x,$={};function ee(re){function ge(ye,me){re.postMessage({options:ye||{},callback:me})}re.init=function(me){var Ae=me.transferControlToOffscreen();re.postMessage({canvas:Ae},[Ae])},re.fire=function(me,Ae,Re){if(x)return ge(me,null),x;var He=Math.random().toString(36).slice(2);return x=d(function(qe){function Qe(bt){bt.data.callback===He&&(delete $[He],re.removeEventListener("message",Qe),x=null,y.clear(),Re(),qe())}re.addEventListener("message",Qe),ge(me,He),$[He]=Qe.bind(null,{data:{callback:He}})}),x},re.reset=function(){re.postMessage({reset:!0});for(var me in $)$[me](),delete $[me]}}return function(){if(G)return G;if(!s&&l){var re=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{G=new Worker(URL.createObjectURL(new Blob([re])))}catch(ge){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",ge),null}ee(G)}return G}})(),C={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function D(G,x){return x?x(G):G}function P(G){return G!=null}function V(G,x,$){return D(G&&P(G[x])?G[x]:C[x],$)}function j(G){return G<0?0:Math.floor(G)}function F(G,x){return Math.floor(Math.random()*(x-G))+G}function q(G){return parseInt(G,16)}function oe(G){return G.map(ae)}function ae(G){var x=String(G).replace(/[^0-9a-f]/gi,"");return x.length<6&&(x=x[0]+x[0]+x[1]+x[1]+x[2]+x[2]),{r:q(x.substring(0,2)),g:q(x.substring(2,4)),b:q(x.substring(4,6))}}function de(G){var x=V(G,"origin",Object);return x.x=V(x,"x",Number),x.y=V(x,"y",Number),x}function k(G){G.width=document.documentElement.clientWidth,G.height=document.documentElement.clientHeight}function S(G){var x=G.getBoundingClientRect();G.width=x.width,G.height=x.height}function N(G){var x=document.createElement("canvas");return x.style.position="fixed",x.style.top="0px",x.style.left="0px",x.style.pointerEvents="none",x.style.zIndex=G,x}function O(G,x,$,ee,re,ge,ye,me,Ae){G.save(),G.translate(x,$),G.rotate(ge),G.scale(ee,re),G.arc(0,0,1,ye,me,Ae),G.restore()}function U(G){var x=G.angle*(Math.PI/180),$=G.spread*(Math.PI/180);return{x:G.x,y:G.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:G.startVelocity*.5+Math.random()*G.startVelocity,angle2D:-x+(.5*$-Math.random()*$),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:G.color,shape:G.shape,tick:0,totalTicks:G.ticks,decay:G.decay,drift:G.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:G.gravity*3,ovalScalar:.6,scalar:G.scalar,flat:G.flat}}function L(G,x){x.x+=Math.cos(x.angle2D)*x.velocity+x.drift,x.y+=Math.sin(x.angle2D)*x.velocity+x.gravity,x.velocity*=x.decay,x.flat?(x.wobble=0,x.wobbleX=x.x+10*x.scalar,x.wobbleY=x.y+10*x.scalar,x.tiltSin=0,x.tiltCos=0,x.random=1):(x.wobble+=x.wobbleSpeed,x.wobbleX=x.x+10*x.scalar*Math.cos(x.wobble),x.wobbleY=x.y+10*x.scalar*Math.sin(x.wobble),x.tiltAngle+=.1,x.tiltSin=Math.sin(x.tiltAngle),x.tiltCos=Math.cos(x.tiltAngle),x.random=Math.random()+2);var $=x.tick++/x.totalTicks,ee=x.x+x.random*x.tiltCos,re=x.y+x.random*x.tiltSin,ge=x.wobbleX+x.random*x.tiltCos,ye=x.wobbleY+x.random*x.tiltSin;if(G.fillStyle="rgba("+x.color.r+", "+x.color.g+", "+x.color.b+", "+(1-$)+")",G.beginPath(),u&&x.shape.type==="path"&&typeof x.shape.path=="string"&&Array.isArray(x.shape.matrix))G.fill(ne(x.shape.path,x.shape.matrix,x.x,x.y,Math.abs(ge-ee)*.1,Math.abs(ye-re)*.1,Math.PI/10*x.wobble));else if(x.shape.type==="bitmap"){var me=Math.PI/10*x.wobble,Ae=Math.abs(ge-ee)*.1,Re=Math.abs(ye-re)*.1,He=x.shape.bitmap.width*x.scalar,qe=x.shape.bitmap.height*x.scalar,Qe=new DOMMatrix([Math.cos(me)*Ae,Math.sin(me)*Ae,-Math.sin(me)*Re,Math.cos(me)*Re,x.x,x.y]);Qe.multiplySelf(new DOMMatrix(x.shape.matrix));var bt=G.createPattern(y.transform(x.shape.bitmap),"no-repeat");bt.setTransform(Qe),G.globalAlpha=1-$,G.fillStyle=bt,G.fillRect(x.x-He/2,x.y-qe/2,He,qe),G.globalAlpha=1}else if(x.shape==="circle")G.ellipse?G.ellipse(x.x,x.y,Math.abs(ge-ee)*x.ovalScalar,Math.abs(ye-re)*x.ovalScalar,Math.PI/10*x.wobble,0,2*Math.PI):O(G,x.x,x.y,Math.abs(ge-ee)*x.ovalScalar,Math.abs(ye-re)*x.ovalScalar,Math.PI/10*x.wobble,0,2*Math.PI);else if(x.shape==="star")for(var De=Math.PI/2*3,jt=4*x.scalar,kt=8*x.scalar,rn=x.x,yn=x.y,it=5,st=Math.PI/it;it--;)rn=x.x+Math.cos(De)*kt,yn=x.y+Math.sin(De)*kt,G.lineTo(rn,yn),De+=st,rn=x.x+Math.cos(De)*jt,yn=x.y+Math.sin(De)*jt,G.lineTo(rn,yn),De+=st;else G.moveTo(Math.floor(x.x),Math.floor(x.y)),G.lineTo(Math.floor(x.wobbleX),Math.floor(re)),G.lineTo(Math.floor(ge),Math.floor(ye)),G.lineTo(Math.floor(ee),Math.floor(x.wobbleY));return G.closePath(),G.fill(),x.tick<x.totalTicks}function I(G,x,$,ee,re){var ge=x.slice(),ye=G.getContext("2d"),me,Ae,Re=d(function(He){function qe(){me=Ae=null,ye.clearRect(0,0,ee.width,ee.height),y.clear(),re(),He()}function Qe(){s&&!(ee.width===a.width&&ee.height===a.height)&&(ee.width=G.width=a.width,ee.height=G.height=a.height),!ee.width&&!ee.height&&($(G),ee.width=G.width,ee.height=G.height),ye.clearRect(0,0,ee.width,ee.height),ge=ge.filter(function(bt){return L(ye,bt)}),ge.length?me=v.frame(Qe):qe()}me=v.frame(Qe),Ae=qe});return{addFettis:function(He){return ge=ge.concat(He),Re},canvas:G,promise:Re,reset:function(){me&&v.cancel(me),Ae&&Ae()}}}function he(G,x){var $=!G,ee=!!V(x||{},"resize"),re=!1,ge=V(x,"disableForReducedMotion",Boolean),ye=l&&!!V(x||{},"useWorker"),me=ye?w():null,Ae=$?k:S,Re=G&&me?!!G.__confetti_initialized:!1,He=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,qe;function Qe(De,jt,kt){for(var rn=V(De,"particleCount",j),yn=V(De,"angle",Number),it=V(De,"spread",Number),st=V(De,"startVelocity",Number),gi=V(De,"decay",Number),Sa=V(De,"gravity",Number),_r=V(De,"drift",Number),St=V(De,"colors",oe),An=V(De,"ticks",Number),Mn=V(De,"shapes"),Zn=V(De,"scalar"),Jn=!!V(De,"flat"),Ps=de(De),Os=rn,ei=[],wt=G.width*Ps.x,an=G.height*Ps.y;Os--;)ei.push(U({x:wt,y:an,angle:yn,spread:it,startVelocity:st,color:St[Os%St.length],shape:Mn[F(0,Mn.length)],ticks:An,decay:gi,gravity:Sa,drift:_r,scalar:Zn,flat:Jn}));return qe?qe.addFettis(ei):(qe=I(G,ei,Ae,jt,kt),qe.promise)}function bt(De){var jt=ge||V(De,"disableForReducedMotion",Boolean),kt=V(De,"zIndex",Number);if(jt&&He)return d(function(st){st()});$&&qe?G=qe.canvas:$&&!G&&(G=N(kt),document.body.appendChild(G)),ee&&!Re&&Ae(G);var rn={width:G.width,height:G.height};me&&!Re&&me.init(G),Re=!0,me&&(G.__confetti_initialized=!0);function yn(){if(me){var st={getBoundingClientRect:function(){if(!$)return G.getBoundingClientRect()}};Ae(st),me.postMessage({resize:{width:st.width,height:st.height}});return}rn.width=rn.height=null}function it(){qe=null,ee&&(re=!1,e.removeEventListener("resize",yn)),$&&G&&(document.body.contains(G)&&document.body.removeChild(G),G=null,Re=!1)}return ee&&!re&&(re=!0,e.addEventListener("resize",yn,!1)),me?me.fire(De,rn,it):Qe(De,rn,it)}return bt.reset=function(){me&&me.reset(),qe&&qe.reset()},bt}var pe;function H(){return pe||(pe=he(null,{useWorker:!0,resize:!0})),pe}function ne(G,x,$,ee,re,ge,ye){var me=new Path2D(G),Ae=new Path2D;Ae.addPath(me,new DOMMatrix(x));var Re=new Path2D;return Re.addPath(Ae,new DOMMatrix([Math.cos(ye)*re,Math.sin(ye)*re,-Math.sin(ye)*ge,Math.cos(ye)*ge,$,ee])),Re}function ie(G){if(!u)throw new Error("path confetti are not supported in this browser");var x,$;typeof G=="string"?x=G:(x=G.path,$=G.matrix);var ee=new Path2D(x),re=document.createElement("canvas"),ge=re.getContext("2d");if(!$){for(var ye=1e3,me=ye,Ae=ye,Re=0,He=0,qe,Qe,bt=0;bt<ye;bt+=2)for(var De=0;De<ye;De+=2)ge.isPointInPath(ee,bt,De,"nonzero")&&(me=Math.min(me,bt),Ae=Math.min(Ae,De),Re=Math.max(Re,bt),He=Math.max(He,De));qe=Re-me,Qe=He-Ae;var jt=10,kt=Math.min(jt/qe,jt/Qe);$=[kt,0,0,kt,-Math.round(qe/2+me)*kt,-Math.round(Qe/2+Ae)*kt]}return{type:"path",path:x,matrix:$}}function ke(G){var x,$=1,ee="#000000",re='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof G=="string"?x=G:(x=G.text,$="scalar"in G?G.scalar:$,re="fontFamily"in G?G.fontFamily:re,ee="color"in G?G.color:ee);var ge=10*$,ye=""+ge+"px "+re,me=new OffscreenCanvas(ge,ge),Ae=me.getContext("2d");Ae.font=ye;var Re=Ae.measureText(x),He=Math.ceil(Re.actualBoundingBoxRight+Re.actualBoundingBoxLeft),qe=Math.ceil(Re.actualBoundingBoxAscent+Re.actualBoundingBoxDescent),Qe=2,bt=Re.actualBoundingBoxLeft+Qe,De=Re.actualBoundingBoxAscent+Qe;He+=Qe+Qe,qe+=Qe+Qe,me=new OffscreenCanvas(He,qe),Ae=me.getContext("2d"),Ae.font=ye,Ae.fillStyle=ee,Ae.fillText(x,bt,De);var jt=1/$;return{type:"bitmap",bitmap:me.transferToImageBitmap(),matrix:[jt,0,0,jt,-He*jt/2,-qe*jt/2]}}n.exports=function(){return H().apply(this,arguments)},n.exports.reset=function(){H().reset()},n.exports.create=he,n.exports.shapeFromPath=ie,n.exports.shapeFromText=ke})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),N0,!1);const N2=N0.exports;N0.exports.create;const no=(t=1)=>{const e=200*t,n={origin:{y:.7}};function s(a,l){N2(Object.assign({},n,l,{particleCount:Math.floor(e*a)}))}s(.25,{spread:26,startVelocity:55}),s(.2,{spread:60}),s(.35,{spread:100,decay:.91,scalar:.8}),s(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),s(.1,{spread:120,startVelocity:45})},Tx={cloudName:"dia6ped7h",uploadPreset:"bingo_proofs"},wx=async t=>{const e=new FormData;e.append("file",t),e.append("upload_preset",Tx.uploadPreset),e.append("folder","bingo-proofs");const n=await fetch(`https://api.cloudinary.com/v1_1/${Tx.cloudName}/image/upload`,{method:"POST",body:e});if(!n.ok){const a=await n.json();throw console.error("Cloudinary upload error:",a),new Error(a.error?.message||"Failed to upload image")}return(await n.json()).secure_url},Fz="2026",qz=25,Hz=["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"],Gz=t=>{const{user:e}=$l(),[n,s]=M.useState([]),[a,l]=M.useState({}),[u,f]=M.useState(!0),[p,d]=M.useState(!1),[y,v]=M.useState(!1),[w,C]=M.useState(""),D=M.useMemo(()=>t?As(Xn,"boards",t):As(Xn,"years",Fz),[t]),P=L=>{if(!L.length)return;const I=5,he=[];for(let pe=0;pe<I;pe++)he.push(L.slice(pe*I,(pe+1)*I));for(let pe=0;pe<I;pe++)if(he[pe].every(H=>H.isCompleted)){p||(d(!0),no(2));return}for(let pe=0;pe<I;pe++)if(he.map(H=>H[pe]).every(H=>H.isCompleted)){p||(d(!0),no(2));return}if(he.map((pe,H)=>pe[H]).every(pe=>pe.isCompleted)){p||(d(!0),no(2));return}if(he.map((pe,H)=>pe[I-1-H]).every(pe=>pe.isCompleted)){p||(d(!0),no(2));return}d(!1)},V=async()=>{const L=[...Hz].sort(()=>.5-Math.random()),I=[];let he=0;for(let pe=0;pe<qz;pe++)pe===12?I.push({id:pe,text:"2026 ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(I.push({id:pe,text:L[he],isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),he++);await Ad(D,{year:2026,items:I,isLocked:!1,createdAt:Fe.now(),lastUpdated:Fe.now(),...e?{ownerId:e.uid,members:{[e.uid]:"owner"}}:{}},{merge:!0})};M.useEffect(()=>{if(!e)return;f(!0);const L=yC(D,I=>{if(I.exists()){const he=I.data();s(he.items||[]),l(he.members||{}),v(he.isLocked||!1),C(he.title||""),P(he.items||[])}else V();f(!1)},I=>{console.error("Error fetching bingo board:",I),f(!1)});return()=>L()},[D,e]);const j=async L=>{if(!n.length)return;const I=n.map(ne=>({...ne})),he=I[L];if(he.isFreeSpace)return;const pe=he.targetCount||1,H=he.currentCount||0;if(he.isCompleted){const ne=Math.max(0,H-1);he.currentCount=ne,he.isCompleted=ne>=pe,ne===0&&(he.completedBy=null,he.completedAt=null,he.proofPhotos=[])}else{const ne=Math.min(pe,H+1);he.currentCount=ne,he.isCompleted=ne>=pe,he.completedBy=e?.displayName||e?.email||"Unknown",he.completedAt=Fe.now(),no(.5)}s(I),P(I);try{await Di(D,{items:I,lastUpdated:Fe.now()})}catch(ne){console.error("Error updating bingo board:",ne)}},F=async L=>{if(!n.length)return;const I=n.map(ie=>({...ie})),he=I[L];if(he.isFreeSpace)return;const pe=he.currentCount||0;if(pe<=0)return;const H=he.targetCount||1,ne=pe-1;he.currentCount=ne,he.isCompleted=ne>=H,ne===0&&(he.completedBy=null,he.completedAt=null,he.proofPhotos=[]),s(I),P(I);try{await Di(D,{items:I,lastUpdated:Fe.now()})}catch(ie){console.error("Error decrementing progress:",ie)}},q=async(L,I)=>{if(!(!n.length||!e))try{const he=await wx(I),pe=n.map(x=>({...x})),H=pe[L];if(H.isFreeSpace)return;const ne=H.targetCount||1,ie=H.currentCount||0,ke=Math.min(ne,ie+1);H.currentCount=ke,H.isCompleted=ke>=ne,H.completedBy=e?.displayName||e?.email||"Unknown",H.completedAt=Fe.now();const G=H.proofPhotos||[];H.proofPhotos=[...G,he],s(pe),P(pe),no(1),await Di(D,{items:pe,lastUpdated:Fe.now()})}catch(he){throw console.error("Error completing with photo:",he),he}},oe=async(L,I)=>{if(!n.length||!e)return;const he=n[L];!he.isCompleted&&(he.currentCount||0)<(he.targetCount||1);const pe=he.proofPhotos||[];if(pe.length>=5)throw new Error("Maximum 5 photos allowed per tile");try{const H=await wx(I),ne=n.map(ie=>({...ie}));return ne[L].proofPhotos=[...pe,H],s(ne),no(.3),await Di(D,{items:ne,lastUpdated:Fe.now()}),H}catch(H){throw console.error("Error adding photo:",H),H}},ae=async(L,I)=>{const he=n.map(pe=>({...pe}));I.text!==void 0&&(he[L].text=I.text),I.style!==void 0&&(he[L].style=I.style),s(he);try{await Di(D,{items:he,lastUpdated:Fe.now()})}catch(pe){console.error("Error updating item:",pe)}},de=async()=>{const L=[...n],I=L[12],he=[...L.slice(0,12),...L.slice(13)];for(let H=he.length-1;H>0;H--){const ne=Math.floor(Math.random()*(H+1));[he[H],he[ne]]=[he[ne],he[H]]}const pe=[...he.slice(0,12),I,...he.slice(12)];s(pe),v(!0),await Ad(D,{isLocked:!0,items:pe,itemsBackup:L,lastUpdated:Fe.now()},{merge:!0})},k=async()=>{try{const L=await Wu(D);if(L.exists()){const I=L.data();I.itemsBackup?await Di(D,{items:I.itemsBackup,itemsBackup:Ed(),isLocked:!1,lastUpdated:Fe.now()}):await Di(D,{isLocked:!1,lastUpdated:Fe.now()})}}catch(L){console.error("Error unlocking board:",L)}},S=M.useMemo(()=>{const L=[[0,1,2,3,4],[5,6,7,8,9],[10,11,12,13,14],[15,16,17,18,19],[20,21,22,23,24],[0,5,10,15,20],[1,6,11,16,21],[2,7,12,17,22],[3,8,13,18,23],[4,9,14,19,24],[0,6,12,18,24],[4,8,12,16,20]],I=new Set(n.map((he,pe)=>he.isCompleted?pe:-1));return L.reduce((he,pe)=>pe.every(H=>I.has(H))?he+1:he,0)},[n]);return{items:n,members:a,loading:u,toggleItem:j,updateItem:ae,hasWon:p,bingoCount:S,isLocked:y,unlockBoard:k,jumbleAndLock:de,saveBoard:async L=>{s(L);try{await Di(D,{items:L,lastUpdated:Fe.now()})}catch(I){console.error("Error saving board:",I)}},completeWithPhoto:q,addPhotoToTile:oe,decrementProgress:F,inviteUser:async(L,I="editor")=>{try{const he=xd(yl(Xn,"users"),Sd("email","==",L)),pe=await pu(he);if(pe.empty)return{success:!1,type:"not_found",message:"User not found"};const H=pe.docs[0],ne=H.id;return await Di(D,{[`members.${ne}`]:I}),{success:!0,type:"success",message:`Added ${H.data().displayName||L} as ${I}!`}}catch(he){return console.error("Error inviting user:",he),{success:!1,type:"error",message:"Failed to invite user"}}},removeMember:async L=>{try{return await Di(D,{[`members.${L}`]:Ed()}),{success:!0}}catch(I){return console.error("Error removing member:",I),{success:!1,error:I}}},title:w}};let bu=null;const nu=()=>(bu||(bu=new(window.AudioContext||window.webkitAudioContext)),bu),Kz=()=>{const{settings:t}=ih(),e=t.enableSound??!0,n=M.useRef(0);M.useEffect(()=>{const d=()=>{bu?.state==="suspended"&&bu.resume()};return document.addEventListener("click",d,{once:!0}),document.addEventListener("touchstart",d,{once:!0}),()=>{document.removeEventListener("click",d),document.removeEventListener("touchstart",d)}},[]);const s=M.useCallback(()=>{const d=Date.now();return d-n.current<50?!1:(n.current=d,!0)},[]),a=M.useCallback(()=>{if(!(!e||!s()))try{const d=nu(),y=d.createOscillator(),v=d.createGain();y.connect(v),v.connect(d.destination),y.frequency.setValueAtTime(800,d.currentTime),y.frequency.exponentialRampToValueAtTime(400,d.currentTime+.1),y.type="sine",v.gain.setValueAtTime(.15,d.currentTime),v.gain.exponentialRampToValueAtTime(.001,d.currentTime+.1),y.start(d.currentTime),y.stop(d.currentTime+.1)}catch(d){console.warn("Audio playback failed:",d)}},[e,s]),l=M.useCallback(()=>{if(!(!e||!s()))try{const d=nu();[523.25,659.25,783.99].forEach((v,w)=>{const C=d.createOscillator(),D=d.createGain();C.connect(D),D.connect(d.destination),C.frequency.setValueAtTime(v,d.currentTime),C.type="sine";const P=d.currentTime+w*.08;D.gain.setValueAtTime(0,P),D.gain.linearRampToValueAtTime(.12,P+.02),D.gain.exponentialRampToValueAtTime(.001,P+.3),C.start(P),C.stop(P+.3)})}catch(d){console.warn("Audio playback failed:",d)}},[e,s]),u=M.useCallback(()=>{if(e)try{const d=nu();[{freq:523.25,time:0},{freq:659.25,time:.1},{freq:783.99,time:.2},{freq:1046.5,time:.35},{freq:1318.51,time:.5}].forEach(({freq:C,time:D})=>{const P=d.createOscillator(),V=d.createGain();P.connect(V),V.connect(d.destination),P.frequency.setValueAtTime(C,d.currentTime+D),P.type="sine",V.gain.setValueAtTime(0,d.currentTime+D),V.gain.linearRampToValueAtTime(.2,d.currentTime+D+.02),V.gain.exponentialRampToValueAtTime(.001,d.currentTime+D+.5),P.start(d.currentTime+D),P.stop(d.currentTime+D+.5)});const v=d.createOscillator(),w=d.createGain();v.connect(w),w.connect(d.destination),v.type="sine",v.frequency.setValueAtTime(2e3,d.currentTime+.6),v.frequency.exponentialRampToValueAtTime(4e3,d.currentTime+1.2),w.gain.setValueAtTime(0,d.currentTime+.6),w.gain.linearRampToValueAtTime(.05,d.currentTime+.7),w.gain.exponentialRampToValueAtTime(.001,d.currentTime+1.2),v.start(d.currentTime+.6),v.stop(d.currentTime+1.2)}catch(d){console.warn("Audio playback failed:",d)}},[e]),f=M.useCallback(()=>{if(!(!e||!s()))try{const d=nu(),y=d.sampleRate*.15,v=d.createBuffer(1,y,d.sampleRate),w=v.getChannelData(0);for(let V=0;V<y;V++)w[V]=(Math.random()*2-1)*(1-V/y);const C=d.createBufferSource(),D=d.createBiquadFilter(),P=d.createGain();C.buffer=v,D.type="lowpass",D.frequency.setValueAtTime(2e3,d.currentTime),D.frequency.exponentialRampToValueAtTime(500,d.currentTime+.15),C.connect(D),D.connect(P),P.connect(d.destination),P.gain.setValueAtTime(.08,d.currentTime),P.gain.exponentialRampToValueAtTime(.001,d.currentTime+.15),C.start(d.currentTime)}catch(d){console.warn("Audio playback failed:",d)}},[e,s]),p=M.useCallback(()=>{if(!(!e||!s()))try{const d=nu(),y=d.createOscillator(),v=d.createGain();y.connect(v),v.connect(d.destination),y.frequency.setValueAtTime(200,d.currentTime),y.frequency.linearRampToValueAtTime(150,d.currentTime+.2),y.type="sine",v.gain.setValueAtTime(.15,d.currentTime),v.gain.exponentialRampToValueAtTime(.001,d.currentTime+.2),y.start(d.currentTime),y.stop(d.currentTime+.2)}catch(d){console.warn("Audio playback failed:",d)}},[e,s]);return{playClick:a,playSuccess:l,playBingo:u,playWhoosh:f,playError:p}},$z=({items:t,isOpen:e,onClose:n})=>{const[s,a]=M.useState(null),l=M.useMemo(()=>t.map((p,d)=>({...p,originalIndex:d})).filter(p=>p.isCompleted&&p.proofPhotos&&p.proofPhotos.length>0).sort((p,d)=>{const y=p.completedAt?.toDate?.()||new Date(0);return(d.completedAt?.toDate?.()||new Date(0)).getTime()-y.getTime()}),[t]),u=M.useMemo(()=>{const p={};return l.forEach(d=>{const v=(d.completedAt?.toDate?.()||new Date).toLocaleDateString("en-US",{month:"long",year:"numeric"});p[v]||(p[v]=[]),p[v].push(d)}),p},[l]),f=p=>p?(p.toDate?p.toDate():new Date(p)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"";return e?T.jsx(Xi,{children:T.jsxs(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] bg-bg-dark overflow-y-auto",children:[T.jsx("div",{className:"sticky top-0 z-10 bg-bg-dark/95 backdrop-blur-md border-b border-white/10",children:T.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4 flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx(Yy,{className:"w-6 h-6 text-accent-gold"}),T.jsx("h1",{className:"text-xl font-bold text-white",children:"2026 Memories"}),T.jsxs("span",{className:"text-sm text-slate-400",children:["(",l.length," moments)"]})]}),T.jsx("button",{onClick:n,className:"p-2 text-slate-400 hover:text-white transition-colors rounded-full hover:bg-white/10",children:T.jsx(ho,{size:24})})]})}),T.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6",children:l.length===0?T.jsxs("div",{className:"text-center py-20",children:[T.jsx(Yy,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),T.jsx("h2",{className:"text-xl font-semibold text-slate-400 mb-2",children:"No memories yet"}),T.jsx("p",{className:"text-slate-500",children:"Complete tasks and add photos to build your 2026 album!"})]}):Object.entries(u).map(([p,d])=>T.jsxs("div",{className:"mb-8",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[T.jsx(Od,{className:"w-4 h-4 text-accent-primary"}),T.jsx("h2",{className:"text-lg font-semibold text-accent-primary",children:p}),T.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-accent-primary/30 to-transparent"})]}),T.jsx("div",{className:"space-y-6",children:d.map((y,v)=>T.jsxs(ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},className:"bg-bg-card/80 rounded-2xl border border-white/10 overflow-hidden shadow-xl",children:[T.jsxs("div",{className:"relative aspect-video bg-black cursor-pointer",onClick:()=>a({memoryIdx:l.indexOf(y),photoIdx:0}),children:[T.jsx("img",{src:y.proofPhotos[0],alt:y.text,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}),y.proofPhotos.length>1&&T.jsxs("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/70 rounded-full text-white text-xs font-medium",children:["+",y.proofPhotos.length-1," more"]})]}),y.proofPhotos.length>1&&T.jsx("div",{className:"flex gap-1 p-2 bg-black/30 overflow-x-auto",children:y.proofPhotos.map((w,C)=>T.jsx("button",{onClick:()=>a({memoryIdx:l.indexOf(y),photoIdx:C}),className:"w-14 h-14 rounded-lg overflow-hidden flex-shrink-0 border-2 border-transparent hover:border-accent-primary transition-all",children:T.jsx("img",{src:w,alt:"",className:"w-full h-full object-cover"})},C))}),T.jsxs("div",{className:"p-4",children:[T.jsxs("h3",{className:"text-lg font-semibold text-white mb-2 flex items-center gap-2",children:[T.jsx("span",{className:"text-accent-gold",children:""}),y.text]}),T.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[T.jsxs("span",{className:"flex items-center gap-1",children:[T.jsx(H9,{size:14}),y.completedBy]}),T.jsxs("span",{className:"flex items-center gap-1",children:[T.jsx(Od,{size:14}),f(y.completedAt)]})]})]})]},y.id))})]},p))}),T.jsx(Xi,{children:s!==null&&l[s.memoryIdx]&&T.jsxs(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[300] bg-black/95 flex items-center justify-center p-4",onClick:()=>a(null),children:[T.jsx("button",{onClick:()=>a(null),className:"absolute top-4 right-4 p-2 text-white/70 hover:text-white",children:T.jsx(ho,{size:32})}),(()=>{const p=l[s.memoryIdx],d=p.proofPhotos||[],y=s.photoIdx;return T.jsxs("div",{className:"relative max-w-4xl w-full",onClick:v=>v.stopPropagation(),children:[T.jsx("img",{src:d[y],alt:"",className:"w-full max-h-[80vh] object-contain rounded-lg"}),d.length>1&&T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:()=>a({...s,photoIdx:y>0?y-1:d.length-1}),className:"absolute left-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:T.jsx(l2,{size:28})}),T.jsx("button",{onClick:()=>a({...s,photoIdx:y<d.length-1?y+1:0}),className:"absolute right-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:T.jsx(c2,{size:28})})]}),T.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:[T.jsx("p",{className:"text-white font-semibold",children:p.text}),T.jsxs("p",{className:"text-slate-300 text-sm",children:[y+1," / ",d.length,"  ",f(p.completedAt)]})]})]})})()]})})]})}):null},Ex=()=>{const{boardId:t,yearId:e}=eD(),n=zd(),s=e?void 0:t,{items:a,members:l,loading:u,toggleItem:f,hasWon:p,bingoCount:d,isLocked:y,unlockBoard:v,jumbleAndLock:w,saveBoard:C,completeWithPhoto:D,addPhotoToTile:P,decrementProgress:V,inviteUser:j,removeMember:F,title:q}=Gz(s),{logout:oe,user:ae}=$l(),de=p2(),{openSettings:k}=ih(),{playClick:S,playSuccess:N,playBingo:O,playWhoosh:U}=Kz(),[L,I]=M.useState(!1),[he,pe]=M.useState([]),[H,ne]=M.useState(!1),[ie,ke]=M.useState(!1),[G,x]=M.useState([]),[$,ee]=M.useState(null),[re,ge]=M.useState(""),[ye,me]=M.useState({}),[Ae,Re]=M.useState(1),[He,qe]=M.useState(""),[Qe,bt]=M.useState(!1),[De,jt]=M.useState(0),[kt,rn]=M.useState(null),[yn,it]=M.useState(!1);M.useEffect(()=>{!localStorage.getItem("hasSeenWalkthrough")&&!u&&a.length>0&&bt(!0)},[u,a]),M.useEffect(()=>{(async()=>{if(ie&&l){const be=[];for(const[Ke,mt]of Object.entries(l))if(mt!=="owner")try{const Vt=await Wu(As(Xn,"users",Ke));if(Vt.exists()){const On=Vt.data();be.push({id:Ke,name:On.displayName||"Unknown",email:On.email||"No email",role:mt})}}catch(Vt){console.error("Error fetching user:",Vt)}x(be)}})()},[ie,l]);const st=async(Y,be)=>{await de.confirm(`Are you sure you want to remove ${be} from this board?`,{title:"Remove Member",type:"error",confirmText:"Remove"})&&((await F(Y)).success?(x(Vt=>Vt.filter(On=>On.id!==Y)),await de.alert(`${be} has been removed.`,{type:"success"})):await de.alert("Failed to remove member.",{type:"error"}))},gi=async()=>{const Y=await de.sharePrompt("Enter their email address to invite them to this board.",{title:"Invite User"});if(Y){const be=await j(Y.email,Y.role);if(be.type==="success")await de.alert(be.message,{title:"Success!",type:"success"});else if(be.type==="not_found"){if(await de.confirm(`"${Y.email}" hasn't signed up yet.

Would you like to send them an email invitation to join SunSar Bingo?`,{title:"User Not Found",confirmText:"Send Invite Email",type:"info"}))try{const{sendInviteEmail:mt,openMailtoFallback:Vt}=await ey(async()=>{const{sendInviteEmail:Ui,openMailtoFallback:Ia}=await import("./emailService-CUYh0etA.js");return{sendInviteEmail:Ui,openMailtoFallback:Ia}},[]);(await mt({recipientEmail:Y.email,senderName:ae?.displayName||ae?.email||"A friend"})).success?await de.alert(`Invitation sent to ${Y.email}! They'll receive an email with instructions to join.`,{title:"Invitation Sent!",type:"success"}):(Vt(Y.email,ae?.displayName||"A friend"),await de.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"}))}catch{const Vt=encodeURIComponent("Join me on SunSar Bingo!"),On=encodeURIComponent(`Hey! Come join me on SunSar Bingo to track our 2026 goals together.

Sign up here: ${window.location.origin}`);window.open(`mailto:${Y.email}?subject=${Vt}&body=${On}`),await de.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"})}}else await de.alert(be.message,{title:"Error",type:"error"})}},Sa=()=>{De<2?jt(Y=>Y+1):(bt(!1),localStorage.setItem("hasSeenWalkthrough","true"))},[_r,St]=M.useState(!1),[An,Mn]=M.useState(null),[Zn,Jn]=M.useState(!1),Ps=M.useRef(null),[Os,ei]=M.useState(!1),[wt,an]=M.useState(null),[Kt,vn]=M.useState(null),[Et,is]=M.useState(0),[Ls,Aa]=M.useState(!1),Vn=M.useRef(null),[js,Mt]=M.useState(!1),[yi,ti]=M.useState(()=>localStorage.getItem("celebrationDismissed")==="true"),[Pn,Ca]=M.useState(0);M.useEffect(()=>{Pn===5&&(v(),Ca(0),N2({particleCount:100,spread:70,origin:{y:.6},colors:["#fbbf24","#ec4899","#ffffff"]}));let Y;return Pn>0&&(Y=setTimeout(()=>Ca(0),1e3)),()=>clearTimeout(Y)},[Pn,v]);const Eo=()=>{y&&Ca(Y=>Y+1)},vi=async()=>{await de.confirm(`This will randomly shuffle all tiles (except the center) and LOCK the board.

(Tap the logo 5 times to Undo/Unlock).`,{title:"Jumble & Finalize Board?",confirmText:"Finalize",type:"warning"})&&(w(),I(!1))},Us=()=>{ti(!0),localStorage.setItem("celebrationDismissed","true")};ed.useEffect(()=>{!u&&!p&&(ti(!1),localStorage.removeItem("celebrationDismissed"))},[p,u]);const xo=M.useRef(p);ed.useEffect(()=>{p&&!xo.current&&!u&&O(),xo.current=p},[p,u,O]);const zs=Y=>{const be=L?he:a;if(ee(Y),ge(be[Y].text),me(be[Y].style||{color:"#ffffff",fontSize:"base",bold:!1,italic:!1}),Re(be[Y].targetCount||1),be[Y].dueDate){const Ke=be[Y].dueDate,mt=typeof Ke.toDate=="function"?Ke.toDate():new Date(Ke),Vt=mt.getFullYear(),On=String(mt.getMonth()+1).padStart(2,"0"),Ui=String(mt.getDate()).padStart(2,"0");qe(`${Vt}-${On}-${Ui}`)}else qe("");ne(!0)},Ra=()=>{if($===null)return;let Y;He&&(Y=new Date(He+"T12:00:00"));const be=[...he];be[$]={...be[$],text:re,style:ye,targetCount:Ae,dueDate:Y},pe(be),ne(!1),ee(null)};if(u)return T.jsx("div",{className:"flex h-screen items-center justify-center text-accent-primary animate-pulse",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"w-12 h-12 border-4 border-accent-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),T.jsx("p",{children:"Loading Board..."})]})});const ss=a.filter(Y=>Y.isCompleted).length/25*100,ni=Y=>{if(!Y)return"-";const be=Y.toDate?Y.toDate():new Date(Y);return be.toLocaleDateString()+" "+be.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},br=L?he:a,ii=Y=>{const be=br[Y];rn({index:Y,wasCompleted:be.isCompleted}),be.isCompleted?S():N(),f(Y),it(!0),setTimeout(()=>it(!1),3e3)};return T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"min-h-screen flex flex-col items-center p-3 pb-24 relative overflow-x-hidden no-print",children:[T.jsx("div",{className:"background-animation"}),T.jsxs("div",{className:"w-full max-w-[500px] flex flex-col gap-6 mb-8 pt-2 px-2",children:[T.jsxs("header",{className:"w-full flex justify-between items-center",children:[T.jsx("div",{className:"flex items-center",children:T.jsx(ct.img,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},src:"/logo.png",alt:"SunSar Bingo",className:"h-10 sm:h-12 w-auto object-contain cursor-pointer active:scale-95 transition-transform",onClick:Eo})}),T.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[T.jsx("button",{onClick:()=>Mt(!0),className:"text-slate-400 hover:text-accent-gold transition-colors p-2 hover:bg-white/5 rounded-full",title:"View Memories",children:T.jsx(Yy,{size:18})}),T.jsx("button",{onClick:()=>n("/dashboard"),className:"text-slate-400 hover:text-white transition-colors p-2 hover:bg-white/5 rounded-full",title:"Dashboard",children:T.jsx(u2,{size:18})}),T.jsx("button",{onClick:()=>ke(!0),className:"text-slate-400 hover:text-accent-primary transition-colors p-2 hover:bg-white/5 rounded-full",title:"Share Board",children:T.jsx(Yg,{size:18})}),T.jsx("button",{onClick:k,className:"text-slate-400 hover:text-white transition-colors p-2 hover:bg-white/5 rounded-full",title:"Settings",children:T.jsx(f2,{size:18})}),T.jsx(ct.div,{initial:{scale:0},animate:{scale:1},className:"relative cursor-pointer group px-1",children:T.jsx("img",{src:ae?.photoURL||"",alt:"User",className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full border-2 border-glass-border group-hover:border-accent-primary transition-colors object-cover shrink-0"})}),T.jsx("button",{onClick:oe,className:"text-slate-400 hover:text-red-400 transition-colors p-2 hover:bg-white/5 rounded-full",title:"Logout",children:T.jsx(h2,{size:18})})]})]}),q&&T.jsx(ct.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-center",children:T.jsx("h1",{className:"text-3xl sm:text-4xl font-bold bg-gradient-to-r from-accent-primary via-accent-secondary to-accent-primary bg-clip-text text-transparent inline-block pb-1",children:q})})]}),T.jsx("div",{className:"w-full max-w-[500px] aspect-square relative mb-6",children:T.jsx("div",{className:"grid grid-cols-5 grid-rows-5 gap-1.5 sm:gap-2 w-full h-full",children:br.map((Y,be)=>T.jsxs(ct.div,{title:Y.isCompleted?`Completed by ${Y.completedBy||"Someone"} on ${ni(Y.completedAt)}`:void 0,layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:be*.02},whileTap:{scale:.95},onClick:()=>{L||Y.isFreeSpace||(Y.isCompleted?Y.proofPhotos&&Y.proofPhotos.length>0?(an(Y),vn(be),is(0),ei(!0)):ii(be):(U(),Mn(be),St(!0)))},className:en("relative rounded-lg flex items-center justify-center p-1 cursor-pointer select-none border backdrop-blur-sm overflow-hidden","text-[11px] sm:text-sm font-medium leading-tight select-none",Y.isCompleted?"text-white scale-110 font-semibold":"text-slate-300","bg-bg-card/90 border-white/20 shadow-md hover:border-white/40 hover:bg-bg-card/95 transition-all duration-200",Y.isCompleted&&!Y.isFreeSpace&&"bg-gradient-to-br from-accent-primary/30 to-accent-secondary/30 border-accent-primary/50 shadow-[0_0_15px_rgba(139,92,246,0.15)]",Y.isFreeSpace&&"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50",L&&"border-dashed border-slate-500"),children:[T.jsx("div",{className:"w-full h-full flex items-center justify-center text-center relative z-10",children:T.jsx("div",{className:"w-full h-full flex items-center justify-center p-1",onClick:Ke=>{L&&(Ke.stopPropagation(),zs(be))},children:T.jsx("span",{className:en("leading-tight break-words w-full",Y.isFreeSpace?"text-lg font-bold text-accent-gold":"font-semibold line-clamp-3 sm:line-clamp-4",Y.isCompleted&&!Y.isFreeSpace&&"text-white"),style:!Y.isFreeSpace&&!Y.isCompleted?{color:Y.style?.color||"#cbd5e1",fontWeight:Y.style?.bold?"bold":"600",fontStyle:Y.style?.italic?"italic":"normal",fontSize:Y.style?.fontSize==="sm"?"12px":Y.style?.fontSize==="lg"?"18px":Y.style?.fontSize==="xl"?"22px":void 0}:void 0,children:Y.text})})}),Y.dueDate&&!Y.isCompleted&&!y&&T.jsxs("div",{className:en("flex items-center gap-1 mt-1 text-[10px] font-medium absolute bottom-1 right-1 px-1 rounded bg-black/40 backdrop-blur-sm",(Y.dueDate.toDate?Y.dueDate.toDate():new Date(Y.dueDate))<new Date?"text-red-400":"text-slate-400"),children:[T.jsx(x9,{size:8}),T.jsx("span",{children:(Y.dueDate.toDate?Y.dueDate.toDate():new Date(Y.dueDate)).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),Y.isCompleted&&!Y.isFreeSpace&&!L&&T.jsxs(T.Fragment,{children:[T.jsx(ct.div,{initial:{scale:0},animate:{scale:1},className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-20",children:T.jsx(El,{className:"w-12 h-12 text-white"})}),T.jsx("div",{className:"absolute top-0.5 right-0.5 w-1.5 h-1.5 bg-accent-primary rounded-full shadow-[0_0_5px_rgba(139,92,246,0.8)]"}),Y.proofPhotos&&Y.proofPhotos.length>0&&T.jsxs("div",{className:"absolute bottom-0.5 left-0.5 p-0.5 bg-accent-gold/80 rounded-sm flex items-center gap-0.5",children:[T.jsx(hx,{className:"w-2.5 h-2.5 text-black"}),Y.proofPhotos.length>1&&T.jsx("span",{className:"text-[8px] font-bold text-black",children:Y.proofPhotos.length})]})]}),!Y.isFreeSpace&&!L&&(Y.targetCount||1)>1&&T.jsxs("div",{className:en("absolute bottom-0.5 right-0.5 px-1 py-0.5 rounded text-[8px] font-bold",Y.isCompleted?"bg-green-500/80 text-white":(Y.currentCount||0)>0?"bg-amber-500/80 text-white":"bg-slate-600/80 text-slate-300"),children:[Y.currentCount||0,"/",Y.targetCount]})]},Y.id))})}),T.jsxs(ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-[500px] glass-panel p-4 flex flex-col gap-4",children:[T.jsxs("div",{className:"w-full",children:[T.jsxs("div",{className:"flex justify-between text-xs text-slate-300 mb-1.5 px-1",children:[T.jsx("span",{className:"font-semibold",children:"Progress"}),T.jsxs("div",{className:"flex gap-3",children:[T.jsxs("span",{className:"font-mono text-accent-gold font-bold",children:[d,"/12 Bingos"]}),T.jsxs("span",{className:"font-mono text-accent-primary",children:[Math.round(ss),"%"]})]})]}),T.jsx("div",{className:"h-3 bg-bg-dark/50 rounded-full overflow-hidden border border-white/5",children:T.jsx(ct.div,{className:"h-full bg-gradient-to-r from-accent-primary to-accent-secondary relative",initial:{width:0},animate:{width:`${ss}%`},transition:{duration:1,ease:"easeOut"},children:T.jsx("div",{className:"absolute top-0 right-0 bottom-0 w-[1px] bg-white/50 shadow-[0_0_10px_white]"})})})]}),T.jsx("div",{className:"flex justify-center gap-2",children:L?T.jsx(T.Fragment,{children:T.jsxs("div",{className:"flex gap-2 w-full",children:[T.jsx("button",{onClick:()=>I(!1),className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-white/5 text-slate-300 border border-white/10 hover:bg-white/10 transition-all",children:"Cancel"}),T.jsxs("button",{onClick:()=>{C(he),I(!1)},className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-green-500/20 text-green-200 border border-green-500/50 hover:bg-green-500/30 transition-all flex items-center justify-center gap-2",children:[T.jsx(El,{size:16}),"Save Changes"]})]})}):T.jsxs("div",{className:"flex gap-2 justify-center w-full flex-wrap",children:[!y&&T.jsxs(T.Fragment,{children:[T.jsxs("button",{onClick:()=>{pe([...a]),I(!0)},className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[T.jsx(mx,{size:12}),"Edit Board"]}),T.jsxs("button",{onClick:vi,className:"flex-1 py-2 px-4 text-xs font-medium text-red-400 hover:text-red-300 transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[T.jsx(L9,{size:12}),"Jumble & Finalize"]})]}),T.jsxs("button",{onClick:()=>window.print(),className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[T.jsx(M9,{size:12}),"Print Status"]})]})})]}),T.jsx(Xi,{children:p&&!yi&&T.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:T.jsxs(ct.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:"glass-panel p-8 text-center max-w-sm w-full relative overflow-hidden border-accent-gold/30",children:[T.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-accent-gold/10 to-transparent pointer-events-none"}),T.jsx(ct.div,{animate:{rotate:[0,10,-10,0]},transition:{repeat:1/0,duration:2},className:"inline-block",children:T.jsx(ux,{className:"w-20 h-20 text-accent-gold mx-auto mb-4 drop-shadow-[0_0_15px_rgba(251,191,36,0.5)]"})}),T.jsx("h2",{className:"text-4xl font-heading font-bold text-transparent bg-clip-text bg-gradient-to-r from-accent-gold via-white to-accent-secondary mb-2",children:"BINGO!"}),T.jsx("p",{className:"text-slate-300 mb-8 leading-relaxed",children:"2026 is off to an amazing start!"}),T.jsx("button",{onClick:Us,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-[0_0_20px_rgba(139,92,246,0.4)] transition-all transform hover:scale-105",children:"Keep Playing"})]})})}),T.jsx(Xi,{children:H&&T.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:()=>ne(!1),children:T.jsxs(ct.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-bg-dark border border-accent-gold/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl relative overflow-hidden",onClick:Y=>Y.stopPropagation(),children:[T.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Edit Tile"}),T.jsx("div",{className:"mb-4 flex justify-center",children:T.jsx("div",{className:"w-32 h-32 rounded-lg bg-bg-card/80 border border-white/10 flex items-center justify-center p-2 text-center overflow-hidden",children:T.jsx("span",{className:en("font-hand font-semibold leading-tight break-words"),style:{color:ye.color||"#ffffff",fontWeight:ye.bold?"bold":"600",fontStyle:ye.italic?"italic":"normal",fontSize:ye.fontSize==="sm"?"12px":ye.fontSize==="lg"?"18px":ye.fontSize==="xl"?"22px":"16px"},children:re||"Preview Text"})})}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Text Content"}),T.jsx("textarea",{className:"w-full bg-black/20 text-white rounded-lg p-3 border border-white/10 focus:border-accent-primary outline-none min-h-[80px]",value:re,onChange:Y=>ge(Y.target.value),placeholder:"Enter bingo task..."})]}),T.jsxs("div",{className:"mb-6 space-y-3",children:[T.jsxs("div",{children:[T.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Color"}),T.jsx("div",{className:"flex gap-2 flex-wrap",children:["#ffffff","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#ec4899","#a855f7"].map(Y=>T.jsx("button",{className:en("w-6 h-6 rounded-full border border-white/10 transition-transform active:scale-90",ye.color===Y&&"ring-2 ring-white scale-110"),style:{backgroundColor:Y},onClick:()=>me(be=>({...be,color:Y}))},Y))})]}),T.jsxs("div",{className:"flex gap-4",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Size"}),T.jsx("div",{className:"flex bg-black/20 rounded-lg p-1",children:["sm","base","lg","xl"].map(Y=>T.jsx("button",{onClick:()=>me(be=>({...be,fontSize:Y})),className:en("flex-1 py-1 text-[10px] font-bold rounded transition-colors uppercase",(ye.fontSize||"base")===Y?"bg-accent-primary text-white":"text-slate-400 hover:text-white"),children:Y==="base"?"M":Y},Y))})]}),T.jsxs("div",{children:[T.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Style"}),T.jsxs("div",{className:"flex gap-1 bg-black/20 rounded-lg p-1",children:[T.jsx("button",{onClick:()=>me(Y=>({...Y,bold:!Y.bold})),className:en("w-8 h-full rounded flex items-center justify-center font-bold transition-colors",ye.bold?"bg-white text-black":"text-slate-400 hover:text-white"),children:"B"}),T.jsx("button",{onClick:()=>me(Y=>({...Y,italic:!Y.italic})),className:en("w-8 h-full rounded flex items-center justify-center italic transition-colors font-serif",ye.italic?"bg-white text-black":"text-slate-400 hover:text-white"),children:"I"})]})]})]})]}),T.jsxs("div",{className:"space-y-4 mb-6 pt-4 border-t border-white/10",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Target Count"}),T.jsx("input",{type:"number",min:"1",max:"100",value:Ae,onChange:Y=>Re(parseInt(Y.target.value)||1),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors"}),T.jsx("p",{className:"text-xs text-slate-500",children:"How many times to complete this?"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Due Date (Optional)"}),T.jsx("input",{type:"date",value:He,onChange:Y=>qe(Y.target.value),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors [color-scheme:dark]"})]})]}),T.jsxs("div",{className:"flex gap-3",children:[T.jsx("button",{onClick:()=>ne(!1),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),T.jsx("button",{onClick:Ra,className:"flex-1 py-3 px-4 bg-gradient-to-r from-violet-600 to-fuchsia-600 rounded-xl font-bold text-white shadow-lg hover:shadow-violet-500/25 active:scale-95 transition-all",children:"Ok"})]})]})})}),T.jsx(Xi,{children:_r&&An!==null&&T.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{St(!1),Mn(null)},children:T.jsx(ct.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-bg-dark border border-accent-primary/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl",onClick:Y=>Y.stopPropagation(),children:(()=>{const Y=br[An],be=Y?.targetCount||1,Ke=Y?.currentCount||0,mt=be>1,Vt=Ke>0;return T.jsxs(T.Fragment,{children:[T.jsx("h3",{className:"text-xl font-bold text-white mb-2 text-center",children:Vt?"Add Progress":"Complete Task"}),T.jsxs("p",{className:"text-slate-300 text-sm text-center mb-2 line-clamp-2",children:["",Y?.text,""]}),mt&&T.jsx("div",{className:"text-center mb-4",children:T.jsxs("span",{className:en("inline-block px-3 py-1 rounded-full text-sm font-bold",Vt?"bg-amber-500/20 text-amber-400":"bg-slate-600/50 text-slate-400"),children:["Progress: ",Ke," / ",be]})}),T.jsxs("div",{className:"space-y-3",children:[T.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:Ps,className:"hidden",onChange:async On=>{const Ui=On.target.files?.[0];if(Ui&&An!==null){Jn(!0);try{await D(An,Ui),St(!1),Mn(null)}catch{alert("Failed to upload photo. Please try again.")}finally{Jn(!1)}}}}),T.jsxs("button",{onClick:()=>Ps.current?.click(),disabled:Zn,className:"w-full py-3 px-4 bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-amber-500/25 active:scale-95 transition-all disabled:opacity-50",children:[T.jsx(hx,{size:20}),Zn?"Uploading...":mt?"Add Photo & +1":"Add Photo & Complete"]}),T.jsxs("button",{onClick:()=>{f(An),St(!1),Mn(null)},disabled:Zn,className:"w-full py-3 px-4 bg-gradient-to-r from-green-600 to-emerald-600 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-green-500/25 active:scale-95 transition-all disabled:opacity-50",children:[T.jsx(El,{size:20}),mt?`Mark +1 (${Ke+1}/${be})`:"Mark Complete"]}),Vt&&T.jsxs("button",{onClick:()=>{V(An),St(!1),Mn(null)},disabled:Zn,className:"w-full py-2 rounded-xl font-semibold text-red-400 hover:bg-red-500/10 transition-colors disabled:opacity-50",children:["Remove Progress (",Ke-1,"/",be,")"]}),T.jsx("button",{onClick:()=>{St(!1),Mn(null)},disabled:Zn,className:"w-full py-3 rounded-xl font-semibold bg-white/5 text-slate-400 hover:bg-white/10 transition-colors disabled:opacity-50",children:"Cancel"})]})]})})()})})}),T.jsx(Xi,{children:Os&&wt&&wt.proofPhotos&&wt.proofPhotos.length>0&&T.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",onClick:()=>{ei(!1),an(null),vn(null)},children:T.jsxs(ct.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"relative max-w-lg w-full",onClick:Y=>Y.stopPropagation(),children:[T.jsx("button",{onClick:()=>{ei(!1),an(null),vn(null)},className:"absolute -top-12 right-0 p-2 text-white/70 hover:text-white transition-colors z-10",children:T.jsx(ho,{size:28})}),T.jsxs("div",{className:"rounded-2xl overflow-hidden border border-white/10 shadow-2xl",children:[T.jsxs("div",{className:"relative bg-black",children:[T.jsx("img",{src:wt.proofPhotos[Et],alt:`Proof photo ${Et+1}`,className:"w-full h-auto max-h-[50vh] object-contain"}),wt.proofPhotos.length>1&&T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:()=>is(Y=>Y>0?Y-1:wt.proofPhotos.length-1),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:T.jsx(l2,{size:24})}),T.jsx("button",{onClick:()=>is(Y=>Y<wt.proofPhotos.length-1?Y+1:0),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:T.jsx(c2,{size:24})})]}),T.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/60 rounded-full text-white text-xs font-medium",children:[Et+1," / ",wt.proofPhotos.length]})]}),wt.proofPhotos.length>1&&T.jsx("div",{className:"flex gap-1 p-2 bg-bg-dark/80 overflow-x-auto",children:wt.proofPhotos.map((Y,be)=>T.jsx("button",{onClick:()=>is(be),className:en("w-12 h-12 rounded-md overflow-hidden border-2 flex-shrink-0 transition-all",Et===be?"border-accent-primary":"border-transparent opacity-60 hover:opacity-100"),children:T.jsx("img",{src:Y,alt:"",className:"w-full h-full object-cover"})},be))}),T.jsxs("div",{className:"p-4 bg-bg-dark/95",children:[T.jsx("p",{className:"text-white font-semibold mb-1",children:wt.text}),T.jsxs("p",{className:"text-slate-400 text-xs",children:["Completed by ",wt.completedBy,"  ",ni(wt.completedAt)]})]})]}),T.jsx("div",{className:"mt-4 flex gap-2",children:wt.proofPhotos.length<5&&T.jsxs(T.Fragment,{children:[T.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:Vn,className:"hidden",onChange:async Y=>{const be=Y.target.files?.[0];if(be&&Kt!==null&&wt){Aa(!0);try{const Ke=await P(Kt,be);if(Ke){const mt=[...wt.proofPhotos||[],Ke];an({...wt,proofPhotos:mt}),is(mt.length-1)}}catch{alert("Failed to add photo. Max 5 photos allowed.")}finally{Aa(!1),Vn.current&&(Vn.current.value="")}}}}),T.jsxs("button",{onClick:()=>Vn.current?.click(),disabled:Ls,className:"flex-1 py-2 px-4 bg-accent-gold/20 text-accent-gold rounded-xl font-medium flex items-center justify-center gap-2 hover:bg-accent-gold/30 transition-colors disabled:opacity-50",children:[T.jsx(Ld,{size:18}),Ls?"Adding...":`Add Photo (${wt.proofPhotos.length}/5)`]})]})}),T.jsx("button",{onClick:()=>{const Y=a.findIndex(be=>be.id===wt.id);Y!==-1&&f(Y),ei(!1),an(null),vn(null)},className:"mt-2 w-full py-2 text-sm text-red-400 hover:text-red-300 transition-colors",children:"Mark as In Progress"})]})})}),T.jsx(Xi,{children:yn&&kt&&T.jsxs(ct.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-24 left-1/2 -translate-x-1/2 bg-slate-900 border border-white/20 text-white px-6 py-3 rounded-full shadow-2xl z-50 flex items-center gap-4",children:[T.jsxs("span",{children:["Marked as ",kt.wasCompleted?"incomplete":"complete"]}),T.jsx("button",{onClick:()=>{f(kt.index),it(!1)},className:"font-bold text-accent-primary hover:text-white transition-colors",children:"Undo"}),T.jsx("button",{onClick:()=>it(!1),className:"text-slate-400 hover:text-white",children:T.jsx(ho,{size:16})})]})}),T.jsx(Xi,{children:Qe&&T.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",children:T.jsxs(ct.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-slate-900 border border-white/20 rounded-3xl p-8 max-w-sm w-full shadow-2xl relative overflow-hidden",children:[T.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-20 pointer-events-none",children:T.jsx(ux,{className:"w-32 h-32 text-accent-gold rotate-12"})}),T.jsxs("div",{className:"relative z-10 text-center",children:[T.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Welcome! "}),T.jsxs("p",{className:"text-slate-400 mb-8 h-12",children:[De===0&&"Tap any tile to mark it as complete.",De===1&&"Start 'Edit Mode' to add your own tasks.",De===2&&"Invite friends to play together!"]}),T.jsx("div",{className:"flex justify-center mb-8",children:T.jsx("div",{className:"w-32 h-32 bg-black/40 rounded-2xl border border-white/10 flex items-center justify-center relative",children:T.jsxs(Xi,{mode:"wait",children:[De===0&&T.jsxs(ct.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute inset-0 flex items-center justify-center",children:[T.jsx("div",{className:"w-16 h-16 bg-accent-primary/20 rounded-lg border border-accent-primary flex items-center justify-center",children:T.jsx(El,{className:"w-8 h-8 text-white"})}),T.jsx(ct.div,{animate:{scale:[1,1.2,1],opacity:[0,1,0]},transition:{repeat:1/0,duration:1.5},className:"absolute w-20 h-20 rounded-full border-2 border-white/50"})]},"step0"),De===1&&T.jsx(ct.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:T.jsx(mx,{className:"w-12 h-12 text-blue-400"})},"step1"),De===2&&T.jsx(ct.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:T.jsx(Yg,{className:"w-12 h-12 text-green-400"})},"step2")]})})}),T.jsx("div",{className:"flex gap-2 justify-center mb-6",children:[0,1,2].map(Y=>T.jsx("div",{className:en("w-2 h-2 rounded-full transition-colors",Y===De?"bg-white":"bg-white/20")},Y))}),T.jsx("button",{onClick:Sa,className:"w-full py-3 bg-white text-black font-bold rounded-xl hover:bg-slate-200 transition-colors",children:De===2?"Let's Play!":"Next"})]})]})})})]}),T.jsxs("div",{className:"only-print hidden",children:[T.jsxs("div",{className:"flex justify-between items-end mb-4 border-b-2 border-black pb-2",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("img",{src:"/logo.png",className:"h-12 w-auto",alt:"Logo"}),T.jsx("h1",{className:"text-2xl font-bold",children:"2026 Edition"})]}),T.jsxs("div",{className:"text-right",children:[T.jsx("p",{className:"text-xs uppercase tracking-widest mb-0.5",children:"Status Report"}),T.jsxs("p",{className:"text-xl font-bold",children:[d," / 12 Bingos"]})]})]}),T.jsx("div",{className:"grid grid-cols-5 gap-0 border-2 border-black",children:a.slice(0,25).map(Y=>T.jsxs("div",{className:"aspect-square border border-black p-1.5 flex flex-col justify-between relative overflow-hidden min-h-[100px]",children:[T.jsx("div",{className:"text-[11px] font-bold leading-tight z-10",children:Y.text}),Y.isCompleted&&!Y.isFreeSpace&&T.jsxs("div",{className:"mt-0.5 relative z-10",children:[T.jsx("div",{className:"text-[7px] uppercase font-bold text-slate-700",children:"Completed by:"}),T.jsx("div",{className:"text-[9px] font-mono font-bold leading-none",children:Y.completedBy||"User"}),T.jsx("div",{className:"text-[7px] text-slate-600 mt-0.5",children:ni(Y.completedAt)})]}),Y.isCompleted&&T.jsx("div",{className:"absolute bottom-1 right-1 text-3xl font-bold text-slate-200 opacity-60 pointer-events-none z-0",children:""}),Y.isFreeSpace&&T.jsx("div",{className:"absolute inset-0 flex items-center justify-center font-bold text-xl rotate-[-45deg] opacity-20",children:"FREE"})]},Y.id))}),T.jsxs("div",{className:"mt-4 text-[9px] text-center border-t border-black pt-2 flex justify-between text-slate-500",children:[T.jsxs("span",{children:["Generated on ",new Date().toLocaleDateString()," at ",new Date().toLocaleTimeString()]}),T.jsx("span",{children:"bingo.mysunsar.com"})]})]}),T.jsx($z,{items:a,isOpen:js,onClose:()=>Mt(!1)}),ie&&T.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[T.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>ke(!1)}),T.jsxs("div",{className:"relative w-full max-w-md bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[T.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[T.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[T.jsx(Yg,{className:"w-5 h-5 text-accent-primary"}),"Shared With"]}),T.jsx("button",{onClick:()=>ke(!1),className:"text-slate-400 hover:text-white",children:T.jsx(ho,{className:"w-5 h-5"})})]}),T.jsxs("div",{className:"p-6",children:[G.length===0?T.jsx("div",{className:"text-center text-slate-400 py-8",children:T.jsx("p",{children:"This board hasn't been shared yet."})}):T.jsx("div",{className:"space-y-4 mb-6",children:G.map(Y=>T.jsxs("div",{className:"flex items-center justify-between bg-white/5 p-3 rounded-xl border border-white/5",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold text-white",children:Y.name.charAt(0)}),T.jsxs("div",{children:[T.jsx("div",{className:"text-sm font-semibold text-white",children:Y.name}),T.jsxs("div",{className:"text-xs text-slate-400",children:[Y.email,"  ",Y.role]})]})]}),T.jsx("button",{onClick:()=>st(Y.id,Y.name),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Remove User",children:T.jsx(d2,{size:16})})]},Y.id))}),T.jsxs("button",{onClick:gi,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all flex items-center justify-center gap-2",children:[T.jsx(Ld,{size:18}),"Invite New User"]})]})]})]})]})},Yz=()=>{const{user:t,logout:e}=$l(),n=p2(),{openSettings:s}=ih(),a=zd(),[l,u]=M.useState([]),[f,p]=M.useState(!0),[d,y]=M.useState(!1),[v,w]=M.useState(null),C={default:{name:"2026 Goals ",items:["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"]},fitness:{name:"Fitness Challenge ",items:["Run a 5k","Do 50 pushups in a row","Try a yoga class","Drink 3L water for a week","No sugar for 7 days","Go for a hike","Meal prep for a week","Climb a bouldering wall","Try Pilates","Walk 15k steps in a day","Do a spin class","Bike 20km","FREE SPACE","Touch your toes","Hold a plank for 2 min","Try CrossFit","Go swimming","Meditate for 10 mins x 7","Try a new sport","Sleep 8 hours x 5 days","Do 100 squats","Run a 10k","Go to the gym 4x in a week","Stretch daily for a week","Join a run club"]},couples:{name:"Couple Goals ",items:["Date night (no phones)","Cook a meal together","Weekend getaway","Watch a whole series","Breakfast in bed","Go for a long walk","Plan a future trip","Give each other massages","Recreate first date","Take a dance class","Stargazing date","Write love letters","FREE SPACE","Visit a winery/brewery","Do a puzzle together","Double date","Sunset picnic","Bake something sweet","Volunteer together","Learn a couple's skill","Game night","Make a photo album","Try a new restaurant","Surprise gift","Kiss in the rain"]},personal:{name:"Personal Growth ",items:["Read 1 book/month","Learn a new language","Start a journal","Digital detox (24h)","Meditate daily (1 week)","Drink 2L water daily","Wake up at 6am (1 week)","Declutter a room","Learn to invest","Take a solo trip","Volunteer","Compliment a stranger","FREE SPACE","No social media (weekend)","Learn an instrument","Cook a new cuisine","Write a gratitude list","Take a cold shower","Listen to a podcast","Fix sleep schedule","Walk 10k steps","Call an old friend","Create a vision board","Save 10% income","Take a course"]},knitting:{name:"Knitting Goals ",items:["Finish a WIP","Cast on a sweater","Learn brioche","Knit socks","Stash bust project","Try colorwork","Knit a hat","Use luxury yarn","Fix a mistake","Knit a gift","Block a project","Organize needles","FREE SPACE","Try a new fiber","Knit in public","Attend a knit night","Learn magic loop","Design a pattern","Teach someone to knit","Finish a blanket","Knit a shawl","Try cables","Buy souvenir yarn","Weave in ends immediately","Knit a gauge swatch"]},weaving:{name:"Weaving Goals ",items:["Warp the loom","Weave a rug","Try a new structure","Sample a pattern","Use handspun yarn","Finish a scarf","Hemstitching","Fix a broken warp","Weave a towel","Try tapestry","Mix fibers","Organize yarn stash","FREE SPACE","Weave a placemat","Attend a workshop","Try doublewidth","Weave transparency","Calculate warp correctly","Finish raw edges","Weave with rags","Try tablet weaving","Rigid heddle project","Floor loom project","Visit a mill","Share a project online"]},spinning:{name:"Spinning Goals ",items:["Spin 100g fiber","Ply a yarn","Try a new breed","Spin lace weight","Spin art yarn","Comb fleece","Card a batt","Spin on a drop spindle","Clean the wheel","Spin distinct colors","Skein and wash","Fractal spin","FREE SPACE","Spin silk","Spin cotton","Navajo ply","Spin for a project","Participate in Tour de Fleece","Sample a blend","Teach spinning","Spin consistent grist","Dye fiber","Blend colors on hackle","Spin exotic fiber","Fill a bobbin"]},painting:{name:"Painting Goals ",items:["Paint a landscape","Try watercolors","Paint a portrait","Mix a new color","Paint en plein air","Visit a gallery","Finish a sketchbook","Try oils","Paint a still life","Use a palette knife","Paint an animal","Try abstract","FREE SPACE","Clean brushes properly","Paint on canvas","Paint on wood","Follow a tutorial","Paint a sky","Try gouache","Varnish a painting","Frame a piece","Paint daily for a week","Recreate a master","Paint a self-portrait","Host a paint night"]},corporate:{name:"Corporate Bingo ",items:['"Circle back"',`"Let's take this offline"`,"Meeting that could be an email",'"Synergy"','"Low hanging fruit"','"Touch base"',"Someone forgets to mute","Screen share fails",'"Can you see my screen?"',"Awkward silence",'"Bandwidth"','"Deep dive"',"FREE SPACE","Pet interrupts video call","Echo on the line",'"Per my last email"','"Drill down"','"Out of pocket"','"Hard stop"','"Boil the ocean"',"Reply All disaster",'"Move the needle"','"Blue sky thinking"','"Paradigm shift"','"Quick win"']},travel:{name:"Travel Bucket List ",items:["Visit a new continent","Go on a solo trip","See the Northern Lights","Swim in an ocean","Road trip across 3 states","Fly First Class","Visit a National Park","Eat street food","Stay in a hostel","Learn 'Hello' in 5 languages","Visit a Wonder of the World","Go on a cruise","FREE SPACE","Make a travel vlog","Sleep under the stars","Visit a castle","Ride a train","See a volcano","Go scuba diving","Watch a sunrise on a mountain","Visit a winery","Ride a camel/elephant","Go skiing/snowboarding","Visit a tropical island","Send a postcard"]}};M.useEffect(()=>{if(!t)return;(async()=>{try{console.log("Fetching boards for user:",t.uid,t.email);const F=new Map;try{const S=xd(yl(Xn,"boards"),Sd(`members.${t.uid}`,"in",["owner","editor","viewer"])),N=await pu(S);console.log("Boards with membership found:",N.docs.length),N.docs.forEach(O=>{const U=O.data(),L=U.members?.[t.uid],I=U.members||{},he=Object.values(I).filter(pe=>pe!=="owner").length;F.set(O.id,{id:O.id,...U,sharedCount:he,myRole:L})})}catch(S){console.error("Error querying boards by membership:",S)}try{const S=xd(yl(Xn,"years"),Sd("ownerId","==",t.uid)),N=await pu(S);console.log("Legacy boards (years collection) found:",N.docs.length),N.docs.forEach(O=>{const U=O.data();F.set(`legacy_${O.id}`,{id:O.id,title:U.title||"2026 Bingo",createdAt:U.createdAt,isLocked:U.isLocked,ownerId:U.ownerId,myRole:"owner"})})}catch(S){console.log("Years collection query failed:",S)}try{const S=await pu(yl(Xn,"years"));console.log("All years docs:",S.docs.length),S.docs.forEach(N=>{const O=N.data();if(O.ownerId===t.uid||O.members?.[t.uid]){const U=`legacy_years_${N.id}`;F.has(U)||F.set(U,{id:N.id,title:O.title||`${N.id} Bingo`,createdAt:O.createdAt,isLocked:O.isLocked,ownerId:O.ownerId,myRole:O.ownerId===t.uid?"owner":O.members?.[t.uid]||"viewer"})}})}catch(S){console.log("Direct years fetch failed:",S)}const q=Array.from(F.values()),oe=q.filter(S=>S.myRole!=="owner"&&S.ownerId),ae=[...new Set(oe.map(S=>S.ownerId))],de={};for(const S of ae)try{const N=await Wu(As(Xn,"users",S));if(N.exists()){const O=N.data();de[S]=O.displayName||O.email||"Unknown"}}catch{console.log("Could not fetch owner info for:",S)}const k=q.map(S=>S.myRole!=="owner"&&S.ownerId&&de[S.ownerId]?{...S,ownerName:de[S.ownerId]}:S);console.log("Total boards to display:",k.length,k.map(S=>S.title)),u(k)}catch(F){console.error("Error fetching boards:",F)}finally{p(!1)}})()},[t]);const D=async j=>{if(!t)return;const F=C[j],q=await n.prompt("What would you like to call this board?",{title:"Board Title",inputDefaultValue:F.name,confirmText:"Create"});if(q)try{const ae=[...F.items.filter(N=>N.trim().toUpperCase()!=="FREE SPACE"&&N!=="FREE SPACE")].sort(()=>.5-Math.random());for(;ae.length<24;)ae.push("Bonus Task ");const de=[];let k=0;for(let N=0;N<25;N++)N===12?de.push({id:N,text:"FREE SPACE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(de.push({id:N,text:ae[k],isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),k++);const S=await gC(yl(Xn,"boards"),{title:q,ownerId:t.uid,members:{[t.uid]:"owner"},items:de,createdAt:Fe.now(),isLocked:!1,lastUpdated:Fe.now()});a(`/board/${S.id}`)}catch(oe){console.error("Error creating board:",oe),await n.alert("Failed to create board. Please try again.",{title:"Error",type:"error"})}finally{y(!1)}};if(f)return T.jsx("div",{className:"min-h-screen bg-bg-dark flex items-center justify-center text-white",children:"Loading Dashboard..."});const P=async(j,F,q)=>{if(j.stopPropagation(),await n.confirm(`This will permanently delete "${q}" and all its data.

This action cannot be undone.`,{title:"Delete Board?",confirmText:"Delete",type:"error"}))try{await pC(As(Xn,"boards",F)),u(ae=>ae.filter(de=>de.id!==F)),await n.alert("Board deleted successfully.",{title:"Deleted",type:"success"})}catch(ae){console.error("Error deleting board:",ae),await n.alert("Failed to delete board. Please try again.",{title:"Error",type:"error"})}},V=async(j,F,q)=>{if(j.stopPropagation(),!t)return;if(await n.confirm(`You will no longer have access to "${q}".

You can ask the owner to re-share it if needed.`,{title:"Leave Board?",confirmText:"Leave",type:"warning"}))try{await Di(As(Xn,"boards",F),{[`members.${t.uid}`]:Ed()}),u(ae=>ae.filter(de=>de.id!==F)),await n.alert("You have left the board.",{title:"Left Board",type:"success"})}catch(ae){console.error("Error leaving board:",ae),await n.alert("Failed to leave board. Please try again.",{title:"Error",type:"error"})}};return T.jsxs("div",{className:"min-h-screen bg-bg-dark text-white p-6 relative",children:[T.jsxs("div",{className:"max-w-6xl mx-auto",children:[T.jsxs("header",{className:"flex justify-between items-center mb-12 py-2",children:[T.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-10 sm:h-12 w-auto object-contain cursor-pointer active:scale-95 transition-transform"}),T.jsxs("div",{className:"flex gap-2 items-center",children:[T.jsx("button",{onClick:s,className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Settings",children:T.jsx(f2,{size:20})}),T.jsx("button",{onClick:e,className:"bg-white/5 hover:bg-white/10 px-4 py-2 rounded-xl text-sm font-semibold transition-colors border border-white/10 hover:border-white/20",children:"Logout"})]})]}),T.jsxs("div",{className:"mb-10",children:[T.jsxs("h1",{className:"text-4xl sm:text-5xl font-extrabold text-white tracking-tight",children:["My ",T.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent italic",children:"Boards"})]}),T.jsxs("p",{className:"text-slate-400 mt-2 text-base sm:text-lg",children:["Welcome back, ",T.jsx("span",{className:"text-accent-primary font-medium",children:t?.displayName?.split(" ")[0]||"Bingo Player"})]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[T.jsxs("button",{onClick:()=>y(!0),className:"group relative flex flex-col items-center justify-center h-48 rounded-2xl border-2 border-dashed border-slate-700 bg-white/5 hover:bg-white/10 hover:border-accent-primary transition-all cursor-pointer",children:[T.jsx("div",{className:"w-12 h-12 rounded-full bg-accent-primary/20 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:T.jsx(Ld,{className:"w-6 h-6 text-accent-primary"})}),T.jsx("span",{className:"font-semibold text-slate-300 group-hover:text-white",children:"Create New Board"})]}),l.filter(j=>j.myRole==="owner").map(j=>{const q=j.id==="2026"||!j.ownerId?`/board/legacy/${j.id}`:`/board/${j.id}`;return T.jsxs("div",{onClick:oe=>{oe.preventDefault(),console.log("Navigating to board:",q),a(q)},className:"group relative h-48 rounded-2xl bg-gradient-to-br from-slate-800 to-slate-900 border border-white/10 hover:border-accent-primary/50 p-6 flex flex-col justify-between cursor-pointer transition-all hover:translate-y-[-4px] hover:shadow-xl overflow-hidden active:scale-[0.99]",children:[T.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:T.jsx("button",{onClick:oe=>P(oe,j.id,j.title),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-white/10 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",title:"Delete Board",children:T.jsx(d2,{size:18})})}),T.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("div",{className:"h-7 mb-2",children:j.sharedCount&&j.sharedCount>0&&T.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider bg-emerald-500/20 text-emerald-400 border border-emerald-500/30",children:[T.jsx(K9,{size:10}),"Shared with ",j.sharedCount]})}),T.jsx("h3",{className:"text-xl font-bold text-white mb-1.5 line-clamp-2 pr-8 group-hover:text-accent-primary transition-colors",children:j.title}),T.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[T.jsx(Od,{className:"w-3.5 h-3.5"}),j.createdAt?.toDate?j.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),T.jsx("div",{className:"mt-4",children:T.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-primary/10 text-accent-primary border border-accent-primary/20 group-hover:bg-accent-primary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},j.id)})]}),l.filter(j=>j.myRole!=="owner").length>0&&T.jsxs(T.Fragment,{children:[T.jsxs("h2",{className:"text-xl font-bold text-white mt-10 mb-6 flex items-center gap-2",children:[T.jsx("span",{className:"bg-gradient-to-r from-accent-secondary to-pink-500 bg-clip-text text-transparent",children:"Shared With Me"}),T.jsxs("span",{className:"text-sm font-normal text-slate-500",children:["(",l.filter(j=>j.myRole!=="owner").length,")"]})]}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.filter(j=>j.myRole!=="owner").map(j=>{const q=j.id==="2026"||!j.ownerId?`/board/legacy/${j.id}`:`/board/${j.id}`;return T.jsxs("div",{onClick:oe=>{oe.preventDefault(),console.log("Navigating to shared board:",q),a(q)},className:"group relative h-48 rounded-2xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-white/10 hover:border-accent-secondary/50 p-6 flex flex-col justify-between cursor-pointer transition-all hover:translate-y-[-4px] hover:shadow-xl overflow-hidden active:scale-[0.99]",children:[T.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity pointer-events-none",children:T.jsx(u2,{className:"w-24 h-24"})}),T.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:T.jsx("button",{onClick:oe=>V(oe,j.id,j.title),className:"p-2 text-slate-500 hover:text-amber-400 hover:bg-white/10 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",title:"Leave Board",children:T.jsx(h2,{size:18})})}),T.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("div",{className:"h-7 mb-2",children:T.jsx("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider ${j.myRole==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/30":"bg-blue-500/20 text-blue-400 border border-blue-500/30"}`,children:j.myRole==="editor"?" Editor":" Viewer"})}),T.jsx("h3",{className:"text-xl font-bold text-white mb-1 line-clamp-1 pr-8",children:j.title}),j.ownerName&&T.jsxs("div",{className:"text-xs text-slate-500 mb-1.5",children:["Shared by ",T.jsx("span",{className:"text-slate-400",children:j.ownerName})]}),T.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[T.jsx(Od,{className:"w-3.5 h-3.5"}),j.createdAt?.toDate?j.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),T.jsx("div",{className:"mt-4",children:T.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-secondary/10 text-accent-secondary border border-accent-secondary/20 group-hover:bg-accent-secondary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},j.id)})})]})]}),d&&T.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[T.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>{v?w(null):y(!1)}}),T.jsxs("div",{className:"relative w-full max-w-2xl bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[T.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center shrink-0",children:[T.jsx("h2",{className:"text-xl font-bold text-white",children:v?C[v].name:"Choose a Template"}),T.jsx("button",{onClick:()=>{v?w(null):y(!1)},className:"text-slate-400 hover:text-white",children:T.jsx(Ld,{className:"w-6 h-6 rotate-45"})})]}),T.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:v?T.jsxs("div",{className:"space-y-6",children:[T.jsx("div",{className:"flex justify-center mb-6",children:T.jsx("div",{className:"aspect-square w-full max-w-[420px] grid grid-cols-5 gap-2 p-3 bg-slate-950/50 rounded-xl border border-white/10",children:C[v].items.slice(0,25).map((j,F)=>{const q=F===12,oe=j.trim().toUpperCase()==="FREE SPACE"||q;return T.jsx("div",{className:`
                                                            relative rounded-lg flex items-center justify-center p-1 text-center select-none overflow-hidden 
                                                            text-[8px] sm:text-[10px] leading-tight font-medium border shadow-sm
                                                            ${oe?"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50 text-accent-gold font-bold":"bg-white/5 border-white/10 text-slate-300"}
                                                        `,children:oe?"FREE":j},F)})})}),T.jsxs("div",{className:"flex gap-3 pt-4",children:[T.jsx("button",{onClick:()=>w(null),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Back"}),T.jsx("button",{onClick:()=>D(v),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all",children:"Create Board"})]})]}):T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(C).map(([j,F])=>T.jsxs("button",{onClick:()=>w(j),className:"flex flex-col items-start p-4 rounded-xl bg-white/5 hover:bg-white/10 border border-white/5 hover:border-accent-primary/50 transition-all text-left group",children:[T.jsx("h3",{className:"font-bold text-white group-hover:text-accent-primary transition-colors",children:F.name}),T.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Click to preview"})]},j))})})]})]})]})},Qz=()=>{const{settings:t}=ih(),e=M.useRef(null),n=M.useRef(null),s=M.useRef([]),a=M.useMemo(()=>{switch(t.theme){case"midnight":return{type:"stars",particleCount:150,baseColor:"rgba(100, 150, 255, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #0a1628 0%, #020617 50%, #000 100%)",shootingStars:!0};case"forest":return{type:"leaves",particleCount:40,baseColor:"rgba(100, 200, 120, ",bgGradient:"radial-gradient(ellipse at 30% 80%, #0a3d1a 0%, #052e16 50%, #021a09 100%)",shootingStars:!1};case"ocean":return{type:"bubbles",particleCount:60,baseColor:"rgba(100, 220, 255, ",bgGradient:"radial-gradient(ellipse at 50% 100%, #0c4a5e 0%, #083344 50%, #041825 100%)",shootingStars:!1};case"sunset":return{type:"embers",particleCount:50,baseColor:"rgba(255, 150, 80, ",bgGradient:"radial-gradient(ellipse at 50% 100%, #4a1a00 0%, #2a0a0a 50%, #1a0505 100%)",shootingStars:!1};default:return{type:"aurora",particleCount:80,baseColor:"rgba(180, 120, 255, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #1a1040 0%, #0f111a 50%, #0a0b10 100%)",shootingStars:!1}}},[t.theme]);return M.useEffect(()=>{const l=e.current;if(!l)return;const u=()=>{const p=[];for(let d=0;d<a.particleCount;d++)p.push(Xz(l.width,l.height,a.type));s.current=p},f=()=>{l.width=window.innerWidth,l.height=window.innerHeight,u()};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[a]),M.useEffect(()=>{if(t.enableAnimation===!1)return;const l=e.current;if(!l)return;const u=l.getContext("2d");if(!u)return;let f=0,p=null;const d=()=>{u.clearRect(0,0,l.width,l.height),s.current.forEach(y=>{Wz(y,l.width,l.height,a.type),Zz(u,y,a)}),a.shootingStars&&(f++,f>300&&Math.random()<.01&&(p={x:Math.random()*l.width,y:Math.random()*l.height*.5,length:80+Math.random()*40,speed:15+Math.random()*10,opacity:1},f=0),p&&(u.beginPath(),u.strokeStyle=`rgba(255, 255, 255, ${p.opacity})`,u.lineWidth=2,u.moveTo(p.x,p.y),u.lineTo(p.x-p.length,p.y-p.length*.3),u.stroke(),p.x+=p.speed,p.y+=p.speed*.3,p.opacity-=.02,p.opacity<=0&&(p=null))),n.current=requestAnimationFrame(d)};return d(),()=>{n.current&&cancelAnimationFrame(n.current)}},[t.enableAnimation,a]),T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"fixed inset-0 z-[-2] transition-all duration-1000",style:{background:a.bgGradient}}),T.jsx("canvas",{ref:e,className:"fixed inset-0 z-[-1] pointer-events-none",style:{opacity:t.enableAnimation===!1?0:.8}}),T.jsxs("div",{className:"fixed inset-0 z-[-1] pointer-events-none overflow-hidden",children:[T.jsx("div",{className:`absolute w-[600px] h-[600px] rounded-full blur-[120px] animate-float-slow ${t.theme==="midnight"?"bg-blue-500/10":t.theme==="forest"?"bg-green-500/10":t.theme==="ocean"?"bg-cyan-500/10":t.theme==="sunset"?"bg-orange-500/10":"bg-purple-500/10"}`,style:{top:"-15%",left:"-10%"}}),T.jsx("div",{className:`absolute w-[500px] h-[500px] rounded-full blur-[100px] animate-float-slower ${t.theme==="midnight"?"bg-indigo-500/10":t.theme==="forest"?"bg-emerald-500/10":t.theme==="ocean"?"bg-teal-500/10":t.theme==="sunset"?"bg-rose-500/10":"bg-pink-500/10"}`,style:{bottom:"-10%",right:"-5%"}})]})]})};function Xz(t,e,n){const s={x:Math.random()*t,y:Math.random()*e,opacity:Math.random()*.5+.2};switch(n){case"stars":return{...s,size:Math.random()*2+.5,speedX:0,speedY:0,opacity:Math.random()*.8+.2};case"leaves":return{...s,size:Math.random()*6+3,speedX:Math.random()*.5-.25,speedY:Math.random()*.8+.3,hue:Math.random()*40+80};case"bubbles":return{...s,size:Math.random()*8+2,speedX:Math.random()*.3-.15,speedY:-(Math.random()*.8+.3)};case"embers":return{...s,size:Math.random()*3+1,speedX:Math.random()*.4-.2,speedY:-(Math.random()*1+.5),hue:Math.random()*30+15};default:return{...s,size:Math.random()*4+1,speedX:Math.random()*.3-.15,speedY:Math.random()*.2-.1,hue:Math.random()*60+240}}}function Wz(t,e,n,s){t.x+=t.speedX,t.y+=t.speedY,s==="stars"&&(t.opacity+=(Math.random()-.5)*.05,t.opacity=Math.max(.1,Math.min(1,t.opacity))),t.x<0&&(t.x=e),t.x>e&&(t.x=0),t.y<0&&(t.y=n),t.y>n&&(t.y=0)}function Zz(t,e,n){switch(t.beginPath(),n.type){case"stars":t.fillStyle=`rgba(255, 255, 255, ${e.opacity})`,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill(),e.opacity>.7&&(t.beginPath(),t.fillStyle=`rgba(200, 220, 255, ${e.opacity*.3})`,t.arc(e.x,e.y,e.size*3,0,Math.PI*2),t.fill());break;case"leaves":t.fillStyle=`hsla(${e.hue}, 60%, 50%, ${e.opacity})`,t.ellipse(e.x,e.y,e.size,e.size*.5,e.x*.01,0,Math.PI*2),t.fill();break;case"bubbles":t.strokeStyle=n.baseColor+`${e.opacity})`,t.lineWidth=1,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.stroke(),t.beginPath(),t.fillStyle=`rgba(255, 255, 255, ${e.opacity*.5})`,t.arc(e.x-e.size*.3,e.y-e.size*.3,e.size*.2,0,Math.PI*2),t.fill();break;case"embers":const s=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size);s.addColorStop(0,`hsla(${e.hue}, 100%, 70%, ${e.opacity})`),s.addColorStop(1,`hsla(${e.hue}, 100%, 50%, 0)`),t.fillStyle=s,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill();break;default:const a=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size*2);a.addColorStop(0,`hsla(${e.hue}, 80%, 60%, ${e.opacity})`),a.addColorStop(1,`hsla(${e.hue}, 80%, 60%, 0)`),t.fillStyle=a,t.arc(e.x,e.y,e.size*2,0,Math.PI*2),t.fill();break}}const Jz=()=>{const{user:t,loading:e}=$l();return e?T.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-bg-dark text-slate-500",children:"Initializing..."}):t?T.jsxs(T.Fragment,{children:[T.jsx(Qz,{}),T.jsx(UD,{children:T.jsxs(pD,{children:[T.jsx(fl,{path:"/",element:T.jsx(fw,{to:"/dashboard",replace:!0})}),T.jsx(fl,{path:"/dashboard",element:T.jsx(Yz,{})}),T.jsx(fl,{path:"/board/legacy/:yearId",element:T.jsx(Ex,{})}),T.jsx(fl,{path:"/board/:boardId",element:T.jsx(Ex,{})}),T.jsx(fl,{path:"*",element:T.jsx(fw,{to:"/dashboard",replace:!0})})]})})]}):T.jsx(Bz,{})};function eB(){return T.jsx(x3,{children:T.jsx(zz,{children:T.jsx(Q9,{children:T.jsx(Jz,{})})})})}console.log("Main.tsx full run");const xx=document.getElementById("root");xx?yN.createRoot(xx).render(T.jsx(M.StrictMode,{children:T.jsx(eB,{})})):console.error("Root not found");export{ha as C,Ms as F,qd as _,hn as a,Yx as b,mo as c,Mi as d,fm as e,lv as g,_o as i,sv as p,ws as r,rv as u};
