(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Ek(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hy={exports:{}},yu={};var v1;function Sk(){if(v1)return yu;v1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return yu.Fragment=e,yu.jsx=n,yu.jsxs=n,yu}var b1;function Ak(){return b1||(b1=1,hy.exports=Sk()),hy.exports}var v=Ak(),dy={exports:{}},qe={};var x1;function Ck(){if(x1)return qe;x1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function A(T){return T===null||typeof T!="object"?null:(T=x&&T[x]||T["@@iterator"],typeof T=="function"?T:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,N={};function B(T,L,Y){this.props=T,this.context=L,this.refs=N,this.updater=Y||k}B.prototype.isReactComponent={},B.prototype.setState=function(T,L){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,L,"setState")},B.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function H(){}H.prototype=B.prototype;function q(T,L,Y){this.props=T,this.context=L,this.refs=N,this.updater=Y||k}var oe=q.prototype=new H;oe.constructor=q,I(oe,B.prototype),oe.isPureReactComponent=!0;var se=Array.isArray;function ue(){}var D={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function P(T,L,Y){var ne=Y.ref;return{$$typeof:t,type:T,key:L,ref:ne!==void 0?ne:null,props:Y}}function U(T,L){return P(T.type,L,T.props)}function z(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}function V(T){var L={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(Y){return L[Y]})}var O=/\/+/g;function we(T,L){return typeof T=="object"&&T!==null&&T.key!=null?V(""+T.key):L.toString(36)}function xe(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(ue,ue):(T.status="pending",T.then(function(L){T.status==="pending"&&(T.status="fulfilled",T.value=L)},function(L){T.status==="pending"&&(T.status="rejected",T.reason=L)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function J(T,L,Y,ne,pe){var ye=typeof T;(ye==="undefined"||ye==="boolean")&&(T=null);var ge=!1;if(T===null)ge=!0;else switch(ye){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(T.$$typeof){case t:case e:ge=!0;break;case g:return ge=T._init,J(ge(T._payload),L,Y,ne,pe)}}if(ge)return pe=pe(T),ge=ne===""?"."+we(T,0):ne,se(pe)?(Y="",ge!=null&&(Y=ge.replace(O,"$&/")+"/"),J(pe,L,Y,"",function(Se){return Se})):pe!=null&&(z(pe)&&(pe=U(pe,Y+(pe.key==null||T&&T.key===pe.key?"":(""+pe.key).replace(O,"$&/")+"/")+ge)),L.push(pe)),1;ge=0;var Ee=ne===""?".":ne+":";if(se(T))for(var Te=0;Te<T.length;Te++)ne=T[Te],ye=Ee+we(ne,Te),ge+=J(ne,L,Y,ye,pe);else if(Te=A(T),typeof Te=="function")for(T=Te.call(T),Te=0;!(ne=T.next()).done;)ne=ne.value,ye=Ee+we(ne,Te++),ge+=J(ne,L,Y,ye,pe);else if(ye==="object"){if(typeof T.then=="function")return J(xe(T),L,Y,ne,pe);throw L=String(T),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return ge}function X(T,L,Y){if(T==null)return T;var ne=[],pe=0;return J(T,ne,"","",function(ye){return L.call(Y,ye,pe++)}),ne}function $(T){if(T._status===-1){var L=T._result;L=L(),L.then(function(Y){(T._status===0||T._status===-1)&&(T._status=1,T._result=Y)},function(Y){(T._status===0||T._status===-1)&&(T._status=2,T._result=Y)}),T._status===-1&&(T._status=0,T._result=L)}if(T._status===1)return T._result.default;throw T._result}var K=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},j={map:X,forEach:function(T,L,Y){X(T,function(){L.apply(this,arguments)},Y)},count:function(T){var L=0;return X(T,function(){L++}),L},toArray:function(T){return X(T,function(L){return L})||[]},only:function(T){if(!z(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return qe.Activity=b,qe.Children=j,qe.Component=B,qe.Fragment=n,qe.Profiler=a,qe.PureComponent=q,qe.StrictMode=i,qe.Suspense=d,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,qe.__COMPILER_RUNTIME={__proto__:null,c:function(T){return D.H.useMemoCache(T)}},qe.cache=function(T){return function(){return T.apply(null,arguments)}},qe.cacheSignal=function(){return null},qe.cloneElement=function(T,L,Y){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var ne=I({},T.props),pe=T.key;if(L!=null)for(ye in L.key!==void 0&&(pe=""+L.key),L)!C.call(L,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&L.ref===void 0||(ne[ye]=L[ye]);var ye=arguments.length-2;if(ye===1)ne.children=Y;else if(1<ye){for(var ge=Array(ye),Ee=0;Ee<ye;Ee++)ge[Ee]=arguments[Ee+2];ne.children=ge}return P(T.type,pe,ne)},qe.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:l,_context:T},T},qe.createElement=function(T,L,Y){var ne,pe={},ye=null;if(L!=null)for(ne in L.key!==void 0&&(ye=""+L.key),L)C.call(L,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(pe[ne]=L[ne]);var ge=arguments.length-2;if(ge===1)pe.children=Y;else if(1<ge){for(var Ee=Array(ge),Te=0;Te<ge;Te++)Ee[Te]=arguments[Te+2];pe.children=Ee}if(T&&T.defaultProps)for(ne in ge=T.defaultProps,ge)pe[ne]===void 0&&(pe[ne]=ge[ne]);return P(T,ye,pe)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(T){return{$$typeof:h,render:T}},qe.isValidElement=z,qe.lazy=function(T){return{$$typeof:g,_payload:{_status:-1,_result:T},_init:$}},qe.memo=function(T,L){return{$$typeof:m,type:T,compare:L===void 0?null:L}},qe.startTransition=function(T){var L=D.T,Y={};D.T=Y;try{var ne=T(),pe=D.S;pe!==null&&pe(Y,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(ue,K)}catch(ye){K(ye)}finally{L!==null&&Y.types!==null&&(L.types=Y.types),D.T=L}},qe.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},qe.use=function(T){return D.H.use(T)},qe.useActionState=function(T,L,Y){return D.H.useActionState(T,L,Y)},qe.useCallback=function(T,L){return D.H.useCallback(T,L)},qe.useContext=function(T){return D.H.useContext(T)},qe.useDebugValue=function(){},qe.useDeferredValue=function(T,L){return D.H.useDeferredValue(T,L)},qe.useEffect=function(T,L){return D.H.useEffect(T,L)},qe.useEffectEvent=function(T){return D.H.useEffectEvent(T)},qe.useId=function(){return D.H.useId()},qe.useImperativeHandle=function(T,L,Y){return D.H.useImperativeHandle(T,L,Y)},qe.useInsertionEffect=function(T,L){return D.H.useInsertionEffect(T,L)},qe.useLayoutEffect=function(T,L){return D.H.useLayoutEffect(T,L)},qe.useMemo=function(T,L){return D.H.useMemo(T,L)},qe.useOptimistic=function(T,L){return D.H.useOptimistic(T,L)},qe.useReducer=function(T,L,Y){return D.H.useReducer(T,L,Y)},qe.useRef=function(T){return D.H.useRef(T)},qe.useState=function(T){return D.H.useState(T)},qe.useSyncExternalStore=function(T,L,Y){return D.H.useSyncExternalStore(T,L,Y)},qe.useTransition=function(){return D.H.useTransition()},qe.version="19.2.3",qe}var w1;function sv(){return w1||(w1=1,dy.exports=Ck()),dy.exports}var S=sv();const Et=Ek(S);var fy={exports:{}},vu={},my={exports:{}},py={};var _1;function Rk(){return _1||(_1=1,(function(t){function e(J,X){var $=J.length;J.push(X);e:for(;0<$;){var K=$-1>>>1,j=J[K];if(0<a(j,X))J[K]=X,J[$]=j,$=K;else break e}}function n(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var X=J[0],$=J.pop();if($!==X){J[0]=$;e:for(var K=0,j=J.length,T=j>>>1;K<T;){var L=2*(K+1)-1,Y=J[L],ne=L+1,pe=J[ne];if(0>a(Y,$))ne<j&&0>a(pe,Y)?(J[K]=pe,J[ne]=$,K=ne):(J[K]=Y,J[L]=$,K=L);else if(ne<j&&0>a(pe,$))J[K]=pe,J[ne]=$,K=ne;else break e}}return X}function a(J,X){var $=J.sortIndex-X.sortIndex;return $!==0?$:J.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],m=[],g=1,b=null,x=3,A=!1,k=!1,I=!1,N=!1,B=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function oe(J){for(var X=n(m);X!==null;){if(X.callback===null)i(m);else if(X.startTime<=J)i(m),X.sortIndex=X.expirationTime,e(d,X);else break;X=n(m)}}function se(J){if(I=!1,oe(J),!k)if(n(d)!==null)k=!0,ue||(ue=!0,V());else{var X=n(m);X!==null&&xe(se,X.startTime-J)}}var ue=!1,D=-1,C=5,P=-1;function U(){return N?!0:!(t.unstable_now()-P<C)}function z(){if(N=!1,ue){var J=t.unstable_now();P=J;var X=!0;try{e:{k=!1,I&&(I=!1,H(D),D=-1),A=!0;var $=x;try{t:{for(oe(J),b=n(d);b!==null&&!(b.expirationTime>J&&U());){var K=b.callback;if(typeof K=="function"){b.callback=null,x=b.priorityLevel;var j=K(b.expirationTime<=J);if(J=t.unstable_now(),typeof j=="function"){b.callback=j,oe(J),X=!0;break t}b===n(d)&&i(d),oe(J)}else i(d);b=n(d)}if(b!==null)X=!0;else{var T=n(m);T!==null&&xe(se,T.startTime-J),X=!1}}break e}finally{b=null,x=$,A=!1}X=void 0}}finally{X?V():ue=!1}}}var V;if(typeof q=="function")V=function(){q(z)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,we=O.port2;O.port1.onmessage=z,V=function(){we.postMessage(null)}}else V=function(){B(z,0)};function xe(J,X){D=B(function(){J(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(J){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var $=x;x=X;try{return J()}finally{x=$}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(J,X){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var $=x;x=J;try{return X()}finally{x=$}},t.unstable_scheduleCallback=function(J,X,$){var K=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?K+$:K):$=K,J){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=$+j,J={id:g++,callback:X,priorityLevel:J,startTime:$,expirationTime:j,sortIndex:-1},$>K?(J.sortIndex=$,e(m,J),n(d)===null&&J===n(m)&&(I?(H(D),D=-1):I=!0,xe(se,$-K))):(J.sortIndex=j,e(d,J),k||A||(k=!0,ue||(ue=!0,V()))),J},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(J){var X=x;return function(){var $=x;x=X;try{return J.apply(this,arguments)}finally{x=$}}}})(py)),py}var T1;function Nk(){return T1||(T1=1,my.exports=Rk()),my.exports}var gy={exports:{}},ti={};var E1;function Ik(){if(E1)return ti;E1=1;var t=sv();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,m,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:d,containerInfo:m,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ti.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ti.createPortal=function(d,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(d,m,null,g)},ti.flushSync=function(d){var m=c.T,g=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=m,i.p=g,i.d.f()}},ti.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(d,m))},ti.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},ti.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var g=m.as,b=h(g,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?i.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:A}):g==="script"&&i.d.X(d,{crossOrigin:b,integrity:x,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ti.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);i.d.M(d,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(d)},ti.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,b=h(g,m.crossOrigin);i.d.L(d,g,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ti.preloadModule=function(d,m){if(typeof d=="string")if(m){var g=h(m.as,m.crossOrigin);i.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(d)},ti.requestFormReset=function(d){i.d.r(d)},ti.unstable_batchedUpdates=function(d,m){return d(m)},ti.useFormState=function(d,m,g){return c.H.useFormState(d,m,g)},ti.useFormStatus=function(){return c.H.useHostTransitionStatus()},ti.version="19.2.3",ti}var S1;function rA(){if(S1)return gy.exports;S1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gy.exports=Ik(),gy.exports}var A1;function Dk(){if(A1)return vu;A1=1;var t=Nk(),e=sv(),n=rA();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(l(s)!==s)throw Error(i(188))}function m(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,u=r;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return d(p),s;if(y===u)return d(p),r;y=y.sibling}throw Error(i(188))}if(o.return!==u.return)o=p,u=y;else{for(var _=!1,R=p.child;R;){if(R===o){_=!0,o=p,u=y;break}if(R===u){_=!0,u=p,o=y;break}R=R.sibling}if(!_){for(R=y.child;R;){if(R===o){_=!0,o=y,u=p;break}if(R===u){_=!0,u=y,o=p;break}R=R.sibling}if(!_)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function g(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=g(s),r!==null)return r;s=s.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),q=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function V(s){return s===null||typeof s!="object"?null:(s=z&&s[z]||s["@@iterator"],typeof s=="function"?s:null)}var O=Symbol.for("react.client.reference");function we(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===O?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case I:return"Fragment";case B:return"Profiler";case N:return"StrictMode";case se:return"Suspense";case ue:return"SuspenseList";case P:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case k:return"Portal";case q:return s.displayName||"Context";case H:return(s._context.displayName||"Context")+".Consumer";case oe:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return r=s.displayName||null,r!==null?r:we(s.type)||"Memo";case C:r=s._payload,s=s._init;try{return we(s(r))}catch{}}return null}var xe=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},K=[],j=-1;function T(s){return{current:s}}function L(s){0>j||(s.current=K[j],K[j]=null,j--)}function Y(s,r){j++,K[j]=s.current,s.current=r}var ne=T(null),pe=T(null),ye=T(null),ge=T(null);function Ee(s,r){switch(Y(ye,r),Y(pe,s),Y(ne,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?B_(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=B_(r),s=F_(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}L(ne),Y(ne,s)}function Te(){L(ne),L(pe),L(ye)}function Se(s){s.memoizedState!==null&&Y(ge,s);var r=ne.current,o=F_(r,s.type);r!==o&&(Y(pe,s),Y(ne,o))}function Be(s){pe.current===s&&(L(ne),L(pe)),ge.current===s&&(L(ge),fu._currentValue=$)}var Ue,et;function ke(s){if(Ue===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ue=r&&r[1]||"",et=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ue+s+et}var yt=!1;function vt(s,r){if(!s||yt)return"";yt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(le){var re=le}Reflect.construct(s,[],de)}else{try{de.call()}catch(le){re=le}s.call(de.prototype)}}else{try{throw Error()}catch(le){re=le}(de=s())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(le){if(le&&re&&typeof le.stack=="string")return[le.stack,re.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),_=y[0],R=y[1];if(_&&R){var F=_.split(`
`),ie=R.split(`
`);for(p=u=0;u<F.length&&!F[u].includes("DetermineComponentFrameRoot");)u++;for(;p<ie.length&&!ie[p].includes("DetermineComponentFrameRoot");)p++;if(u===F.length||p===ie.length)for(u=F.length-1,p=ie.length-1;1<=u&&0<=p&&F[u]!==ie[p];)p--;for(;1<=u&&0<=p;u--,p--)if(F[u]!==ie[p]){if(u!==1||p!==1)do if(u--,p--,0>p||F[u]!==ie[p]){var ce=`
`+F[u].replace(" at new "," at ");return s.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",s.displayName)),ce}while(1<=u&&0<=p);break}}}finally{yt=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?ke(o):""}function Kt(s,r){switch(s.tag){case 26:case 27:case 5:return ke(s.type);case 16:return ke("Lazy");case 13:return s.child!==r&&r!==null?ke("Suspense Fallback"):ke("Suspense");case 19:return ke("SuspenseList");case 0:case 15:return vt(s.type,!1);case 11:return vt(s.type.render,!1);case 1:return vt(s.type,!0);case 31:return ke("Activity");default:return""}}function Yt(s){try{var r="",o=null;do r+=Kt(s,o),o=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var ot=Object.prototype.hasOwnProperty,$e=t.unstable_scheduleCallback,Cn=t.unstable_cancelCallback,sn=t.unstable_shouldYield,ci=t.unstable_requestPaint,Ut=t.unstable_now,bi=t.unstable_getCurrentPriorityLevel,xi=t.unstable_ImmediatePriority,Mn=t.unstable_UserBlockingPriority,Dt=t.unstable_NormalPriority,ui=t.unstable_LowPriority,wi=t.unstable_IdlePriority,pn=t.log,ps=t.unstable_setDisableYieldValue,Pn=null,bt=null;function On(s){if(typeof pn=="function"&&ps(s),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(Pn,s)}catch{}}var St=Math.clz32?Math.clz32:ys,Xr=Math.log,gs=Math.LN2;function ys(s){return s>>>=0,s===0?32:31-(Xr(s)/gs|0)|0}var _i=256,Ti=262144,Ve=4194304;function xt(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function kt(s,r,o){var u=s.pendingLanes;if(u===0)return 0;var p=0,y=s.suspendedLanes,_=s.pingedLanes;s=s.warmLanes;var R=u&134217727;return R!==0?(u=R&~y,u!==0?p=xt(u):(_&=R,_!==0?p=xt(_):o||(o=R&~s,o!==0&&(p=xt(o))))):(R=u&~y,R!==0?p=xt(R):_!==0?p=xt(_):o||(o=u&~s,o!==0&&(p=xt(o)))),p===0?0:r!==0&&r!==p&&(r&y)===0&&(y=p&-p,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:p}function zt(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function rn(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gn(){var s=Ve;return Ve<<=1,(Ve&62914560)===0&&(Ve=4194304),s}function Xt(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function Qn(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Wt(s,r,o,u,p,y){var _=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var R=s.entanglements,F=s.expirationTimes,ie=s.hiddenUpdates;for(o=_&~o;0<o;){var ce=31-St(o),de=1<<ce;R[ce]=0,F[ce]=-1;var re=ie[ce];if(re!==null)for(ie[ce]=null,ce=0;ce<re.length;ce++){var le=re[ce];le!==null&&(le.lane&=-536870913)}o&=~de}u!==0&&Vn(s,u,0),y!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=y&~(_&~r))}function Vn(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-St(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|o&261930}function Qt(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var u=31-St(o),p=1<<u;p&r|s[u]&r&&(s[u]|=r),o&=~p}}function Pt(s,r){var o=r&-r;return o=(o&42)!==0?1:yn(o),(o&(s.suspendedLanes|r))!==0?0:o}function yn(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Jt(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Jn(){var s=X.p;return s!==0?s:(s=window.event,s===void 0?32:h1(s.type))}function un(s,r){var o=X.p;try{return X.p=s,r()}finally{X.p=o}}var qn=Math.random().toString(36).slice(2),Ot="__reactFiber$"+qn,ut="__reactProps$"+qn,hi="__reactContainer$"+qn,Zn="__reactEvents$"+qn,eo="__reactListeners$"+qn,Us="__reactHandles$"+qn,ur="__reactResources$"+qn,Vi="__reactMarker$"+qn;function Wr(s){delete s[Ot],delete s[ut],delete s[Zn],delete s[eo],delete s[Us]}function ji(s){var r=s[Ot];if(r)return r;for(var o=s.parentNode;o;){if(r=o[hi]||o[Ot]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=X_(s);s!==null;){if(o=s[Ot])return o;s=X_(s)}return r}s=o,o=s.parentNode}return null}function Ei(s){if(s=s[Ot]||s[hi]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function ei(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Si(s){var r=s[ur];return r||(r=s[ur]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Zt(s){s[Vi]=!0}var to=new Set,no={};function Li(s,r){Xi(s,r),Xi(s+"Capture",r)}function Xi(s,r){for(no[s]=r,s=0;s<r.length;s++)to.add(r[s])}var io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),an={},Jo={};function so(s){return ot.call(Jo,s)?!0:ot.call(an,s)?!1:io.test(s)?Jo[s]=!0:(an[s]=!0,!1)}function hr(s,r,o){if(so(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function di(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Q(s,r,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+u)}}function ve(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function wt(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Bt(s,r,o){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return p.call(this)},set:function(_){o=""+_,y.call(this,_)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Le(s){if(!s._valueTracker){var r=wt(s)?"checked":"value";s._valueTracker=Bt(s,r,""+s[r])}}function Ft(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return s&&(u=wt(s)?s.checked?"true":"false":s.value),s=u,s!==o?(r.setValue(s),!0):!1}function qt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var jn=/[\n"\\]/g;function Ai(s){return s.replace(jn,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Zo(s,r,o,u,p,y,_,R){s.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.type=_:s.removeAttribute("type"),r!=null?_==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+ve(r)):s.value!==""+ve(r)&&(s.value=""+ve(r)):_!=="submit"&&_!=="reset"||s.removeAttribute("value"),r!=null?Ac(s,_,ve(r)):o!=null?Ac(s,_,ve(o)):u!=null&&s.removeAttribute("value"),p==null&&y!=null&&(s.defaultChecked=!!y),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?s.name=""+ve(R):s.removeAttribute("name")}function Bh(s,r,o,u,p,y,_,R){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){Le(s);return}o=o!=null?""+ve(o):"",r=r!=null?""+ve(r):o,R||r===s.value||(s.value=r),s.defaultValue=r}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=R?s.checked:!!u,s.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.name=_),Le(s)}function Ac(s,r,o){r==="number"&&qt(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function Qr(s,r,o,u){if(s=s.options,r){r={};for(var p=0;p<o.length;p++)r["$"+o[p]]=!0;for(o=0;o<s.length;o++)p=r.hasOwnProperty("$"+s[o].value),s[o].selected!==p&&(s[o].selected=p),p&&u&&(s[o].defaultSelected=!0)}else{for(o=""+ve(o),r=null,p=0;p<s.length;p++){if(s[p].value===o){s[p].selected=!0,u&&(s[p].defaultSelected=!0);return}r!==null||s[p].disabled||(r=s[p])}r!==null&&(r.selected=!0)}}function Fh(s,r,o){if(r!=null&&(r=""+ve(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+ve(o):""}function Jr(s,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(xe(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=ve(r),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u),Le(s)}function Ci(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var qh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cc(s,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,o):typeof o!="number"||o===0||qh.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function Rc(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var p in r)u=r[p],r.hasOwnProperty(p)&&o[p]!==u&&Cc(s,p,u)}else for(var y in r)r.hasOwnProperty(y)&&Cc(s,y,r[y])}function el(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tl(s){return Zr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function vs(){}var Nc=null;function Wi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ea=null,zs=null;function ro(s){var r=Ei(s);if(r&&(s=r.stateNode)){var o=s[ut]||null;e:switch(s=r.stateNode,r.type){case"input":if(Zo(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ai(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==s&&u.form===s.form){var p=u[ut]||null;if(!p)throw Error(i(90));Zo(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===s.form&&Ft(u)}break e;case"textarea":Fh(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Qr(s,!!o.multiple,r,!1)}}}var nl=!1;function ta(s,r,o){if(nl)return s(r,o);nl=!0;try{var u=s(r);return u}finally{if(nl=!1,(ea!==null||zs!==null)&&(jd(),ea&&(r=ea,s=zs,zs=ea=null,ro(r),s)))for(r=0;r<s.length;r++)ro(s[r])}}function bs(s,r){var o=s.stateNode;if(o===null)return null;var u=o[ut]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var Qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ao=!1;if(Qi)try{var At={};Object.defineProperty(At,"passive",{get:function(){ao=!0}}),window.addEventListener("test",At,At),window.removeEventListener("test",At,At)}catch{ao=!1}var Bs=null,Ic=null,oo=null;function Dc(){if(oo)return oo;var s,r=Ic,o=r.length,u,p="value"in Bs?Bs.value:Bs.textContent,y=p.length;for(s=0;s<o&&r[s]===p[s];s++);var _=o-s;for(u=1;u<=_&&r[o-u]===p[y-u];u++);return oo=p.slice(s,1<u?1-u:void 0)}function lo(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function dr(){return!0}function xs(){return!1}function Hn(s){function r(o,u,p,y,_){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(o=s[R],this[R]=o?o(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?dr:xs,this.isPropagationStopped=xs,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr}),r}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fs=Hn(fr),na=b({},fr,{view:0,detail:0}),kc=Hn(na),ia,il,qs,sl=b({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sa,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==qs&&(qs&&s.type==="mousemove"?(ia=s.screenX-qs.screenX,il=s.screenY-qs.screenY):il=ia=0,qs=s),ia)},movementY:function(s){return"movementY"in s?s.movementY:il}}),Mc=Hn(sl),co=b({},sl,{dataTransfer:0}),Gh=Hn(co),$h=b({},na,{relatedTarget:0}),uo=Hn($h),Pc=b({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),Kh=Hn(Pc),rl=b({},fr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Yh=Hn(rl),Xh=b({},fr,{data:0}),Hs=Hn(Xh),Wh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zh(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Jh[s])?!!r[s]:!1}function sa(){return Zh}var fi=b({},na,{key:function(s){if(s.key){var r=Wh[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=lo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Qh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sa,charCode:function(s){return s.type==="keypress"?lo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?lo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ed=Hn(fi),td=b({},sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mr=Hn(td),f=b({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sa}),w=Hn(f),E=b({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),M=Hn(E),ee=b({},sl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ae=Hn(ee),be=b({},fr,{newState:0,oldState:0}),Ke=Hn(be),hn=[9,13,27,32],mt=Qi&&"CompositionEvent"in window,Ht=null;Qi&&"documentMode"in document&&(Ht=document.documentMode);var Ji=Qi&&"TextEvent"in window&&!Ht,Gs=Qi&&(!mt||Ht&&8<Ht&&11>=Ht),ws=" ",_s=!1;function ho(s,r){switch(s){case"keyup":return hn.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function al(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ol=!1;function YI(s,r){switch(s){case"compositionend":return al(r);case"keypress":return r.which!==32?null:(_s=!0,ws);case"textInput":return s=r.data,s===ws&&_s?null:s;default:return null}}function XI(s,r){if(ol)return s==="compositionend"||!mt&&ho(s,r)?(s=Dc(),oo=Ic=Bs=null,ol=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Gs&&r.locale!=="ko"?null:r.data;default:return null}}var WI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jb(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!WI[s.type]:r==="textarea"}function Zb(s,r,o,u){ea?zs?zs.push(u):zs=[u]:ea=u,r=Hd(r,"onChange"),0<r.length&&(o=new Fs("onChange","change",null,o,u),s.push({event:o,listeners:r}))}var Oc=null,Vc=null;function QI(s){O_(s,0)}function nd(s){var r=ei(s);if(Ft(r))return s}function ex(s,r){if(s==="change")return r}var tx=!1;if(Qi){var vp;if(Qi){var bp="oninput"in document;if(!bp){var nx=document.createElement("div");nx.setAttribute("oninput","return;"),bp=typeof nx.oninput=="function"}vp=bp}else vp=!1;tx=vp&&(!document.documentMode||9<document.documentMode)}function ix(){Oc&&(Oc.detachEvent("onpropertychange",sx),Vc=Oc=null)}function sx(s){if(s.propertyName==="value"&&nd(Vc)){var r=[];Zb(r,Vc,s,Wi(s)),ta(QI,r)}}function JI(s,r,o){s==="focusin"?(ix(),Oc=r,Vc=o,Oc.attachEvent("onpropertychange",sx)):s==="focusout"&&ix()}function ZI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return nd(Vc)}function eD(s,r){if(s==="click")return nd(r)}function tD(s,r){if(s==="input"||s==="change")return nd(r)}function nD(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Ui=typeof Object.is=="function"?Object.is:nD;function jc(s,r){if(Ui(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!ot.call(r,p)||!Ui(s[p],r[p]))return!1}return!0}function rx(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ax(s,r){var o=rx(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=r&&u>=r)return{node:o,offset:r-s};s=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=rx(o)}}function ox(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?ox(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function lx(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=qt(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=qt(s.document)}return r}function xp(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var iD=Qi&&"documentMode"in document&&11>=document.documentMode,ll=null,wp=null,Lc=null,_p=!1;function cx(s,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;_p||ll==null||ll!==qt(u)||(u=ll,"selectionStart"in u&&xp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Lc&&jc(Lc,u)||(Lc=u,u=Hd(wp,"onSelect"),0<u.length&&(r=new Fs("onSelect","select",null,r,o),s.push({event:r,listeners:u}),r.target=ll)))}function fo(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var cl={animationend:fo("Animation","AnimationEnd"),animationiteration:fo("Animation","AnimationIteration"),animationstart:fo("Animation","AnimationStart"),transitionrun:fo("Transition","TransitionRun"),transitionstart:fo("Transition","TransitionStart"),transitioncancel:fo("Transition","TransitionCancel"),transitionend:fo("Transition","TransitionEnd")},Tp={},ux={};Qi&&(ux=document.createElement("div").style,"AnimationEvent"in window||(delete cl.animationend.animation,delete cl.animationiteration.animation,delete cl.animationstart.animation),"TransitionEvent"in window||delete cl.transitionend.transition);function mo(s){if(Tp[s])return Tp[s];if(!cl[s])return s;var r=cl[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in ux)return Tp[s]=r[o];return s}var hx=mo("animationend"),dx=mo("animationiteration"),fx=mo("animationstart"),sD=mo("transitionrun"),rD=mo("transitionstart"),aD=mo("transitioncancel"),mx=mo("transitionend"),px=new Map,Ep="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ep.push("scrollEnd");function Ts(s,r){px.set(s,r),Li(r,[s])}var id=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Zi=[],ul=0,Sp=0;function sd(){for(var s=ul,r=Sp=ul=0;r<s;){var o=Zi[r];Zi[r++]=null;var u=Zi[r];Zi[r++]=null;var p=Zi[r];Zi[r++]=null;var y=Zi[r];if(Zi[r++]=null,u!==null&&p!==null){var _=u.pending;_===null?p.next=p:(p.next=_.next,_.next=p),u.pending=p}y!==0&&gx(o,p,y)}}function rd(s,r,o,u){Zi[ul++]=s,Zi[ul++]=r,Zi[ul++]=o,Zi[ul++]=u,Sp|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Ap(s,r,o,u){return rd(s,r,o,u),ad(s)}function po(s,r){return rd(s,null,null,r),ad(s)}function gx(s,r,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var p=!1,y=s.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(p=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,p&&r!==null&&(p=31-St(o),s=y.hiddenUpdates,u=s[p],u===null?s[p]=[r]:u.push(r),r.lane=o|536870912),y):null}function ad(s){if(50<au)throw au=0,Og=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var hl={};function oD(s,r,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zi(s,r,o,u){return new oD(s,r,o,u)}function Cp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function pr(s,r){var o=s.alternate;return o===null?(o=zi(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function yx(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function od(s,r,o,u,p,y){var _=0;if(u=s,typeof s=="function")Cp(s)&&(_=1);else if(typeof s=="string")_=dk(s,o,ne.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case P:return s=zi(31,o,r,p),s.elementType=P,s.lanes=y,s;case I:return go(o.children,p,y,r);case N:_=8,p|=24;break;case B:return s=zi(12,o,r,p|2),s.elementType=B,s.lanes=y,s;case se:return s=zi(13,o,r,p),s.elementType=se,s.lanes=y,s;case ue:return s=zi(19,o,r,p),s.elementType=ue,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case q:_=10;break e;case H:_=9;break e;case oe:_=11;break e;case D:_=14;break e;case C:_=16,u=null;break e}_=29,o=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=zi(_,o,r,p),r.elementType=s,r.type=u,r.lanes=y,r}function go(s,r,o,u){return s=zi(7,s,u,r),s.lanes=o,s}function Rp(s,r,o){return s=zi(6,s,null,r),s.lanes=o,s}function vx(s){var r=zi(18,null,null,0);return r.stateNode=s,r}function Np(s,r,o){return r=zi(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var bx=new WeakMap;function es(s,r){if(typeof s=="object"&&s!==null){var o=bx.get(s);return o!==void 0?o:(r={value:s,source:r,stack:Yt(r)},bx.set(s,r),r)}return{value:s,source:r,stack:Yt(r)}}var dl=[],fl=0,ld=null,Uc=0,ts=[],ns=0,ra=null,$s=1,Ks="";function gr(s,r){dl[fl++]=Uc,dl[fl++]=ld,ld=s,Uc=r}function xx(s,r,o){ts[ns++]=$s,ts[ns++]=Ks,ts[ns++]=ra,ra=s;var u=$s;s=Ks;var p=32-St(u)-1;u&=~(1<<p),o+=1;var y=32-St(r)+p;if(30<y){var _=p-p%5;y=(u&(1<<_)-1).toString(32),u>>=_,p-=_,$s=1<<32-St(r)+p|o<<p|u,Ks=y+s}else $s=1<<y|o<<p|u,Ks=s}function Ip(s){s.return!==null&&(gr(s,1),xx(s,1,0))}function Dp(s){for(;s===ld;)ld=dl[--fl],dl[fl]=null,Uc=dl[--fl],dl[fl]=null;for(;s===ra;)ra=ts[--ns],ts[ns]=null,Ks=ts[--ns],ts[ns]=null,$s=ts[--ns],ts[ns]=null}function wx(s,r){ts[ns++]=$s,ts[ns++]=Ks,ts[ns++]=ra,$s=r.id,Ks=r.overflow,ra=s}var Gn=null,Vt=null,lt=!1,aa=null,is=!1,kp=Error(i(519));function oa(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zc(es(r,s)),kp}function _x(s){var r=s.stateNode,o=s.type,u=s.memoizedProps;switch(r[Ot]=s,r[ut]=u,o){case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":case"embed":Ze("load",r);break;case"video":case"audio":for(o=0;o<lu.length;o++)Ze(lu[o],r);break;case"source":Ze("error",r);break;case"img":case"image":case"link":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"input":Ze("invalid",r),Bh(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ze("invalid",r);break;case"textarea":Ze("invalid",r),Jr(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||U_(r.textContent,o)?(u.popover!=null&&(Ze("beforetoggle",r),Ze("toggle",r)),u.onScroll!=null&&Ze("scroll",r),u.onScrollEnd!=null&&Ze("scrollend",r),u.onClick!=null&&(r.onclick=vs),r=!0):r=!1,r||oa(s,!0)}function Tx(s){for(Gn=s.return;Gn;)switch(Gn.tag){case 5:case 31:case 13:is=!1;return;case 27:case 3:is=!0;return;default:Gn=Gn.return}}function ml(s){if(s!==Gn)return!1;if(!lt)return Tx(s),lt=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||Wg(s.type,s.memoizedProps)),o=!o),o&&Vt&&oa(s),Tx(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));Vt=Y_(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));Vt=Y_(s)}else r===27?(r=Vt,wa(s.type)?(s=ty,ty=null,Vt=s):Vt=r):Vt=Gn?rs(s.stateNode.nextSibling):null;return!0}function yo(){Vt=Gn=null,lt=!1}function Mp(){var s=aa;return s!==null&&(Di===null?Di=s:Di.push.apply(Di,s),aa=null),s}function zc(s){aa===null?aa=[s]:aa.push(s)}var Pp=T(null),vo=null,yr=null;function la(s,r,o){Y(Pp,r._currentValue),r._currentValue=o}function vr(s){s._currentValue=Pp.current,L(Pp)}function Op(s,r,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===o)break;s=s.return}}function Vp(s,r,o,u){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var y=p.dependencies;if(y!==null){var _=p.child;y=y.firstContext;e:for(;y!==null;){var R=y;y=p;for(var F=0;F<r.length;F++)if(R.context===r[F]){y.lanes|=o,R=y.alternate,R!==null&&(R.lanes|=o),Op(y.return,o,s),u||(_=null);break e}y=R.next}}else if(p.tag===18){if(_=p.return,_===null)throw Error(i(341));_.lanes|=o,y=_.alternate,y!==null&&(y.lanes|=o),Op(_,o,s),_=null}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===s){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}}function pl(s,r,o,u){s=null;for(var p=r,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var _=p.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var R=p.type;Ui(p.pendingProps.value,_.value)||(s!==null?s.push(R):s=[R])}}else if(p===ge.current){if(_=p.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(fu):s=[fu])}p=p.return}s!==null&&Vp(r,s,o,u),r.flags|=262144}function cd(s){for(s=s.firstContext;s!==null;){if(!Ui(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function bo(s){vo=s,yr=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function $n(s){return Ex(vo,s)}function ud(s,r){return vo===null&&bo(s),Ex(s,r)}function Ex(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},yr===null){if(s===null)throw Error(i(308));yr=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else yr=yr.next=r;return o}var lD=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},cD=t.unstable_scheduleCallback,uD=t.unstable_NormalPriority,vn={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jp(){return{controller:new lD,data:new Map,refCount:0}}function Bc(s){s.refCount--,s.refCount===0&&cD(uD,function(){s.controller.abort()})}var Fc=null,Lp=0,gl=0,yl=null;function hD(s,r){if(Fc===null){var o=Fc=[];Lp=0,gl=Bg(),yl={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Lp++,r.then(Sx,Sx),r}function Sx(){if(--Lp===0&&Fc!==null){yl!==null&&(yl.status="fulfilled");var s=Fc;Fc=null,gl=0,yl=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function dD(s,r){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var p=0;p<o.length;p++)(0,o[p])(r)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var Ax=J.S;J.S=function(s,r){c_=Ut(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&hD(s,r),Ax!==null&&Ax(s,r)};var xo=T(null);function Up(){var s=xo.current;return s!==null?s:It.pooledCache}function hd(s,r){r===null?Y(xo,xo.current):Y(xo,r.pool)}function Cx(){var s=Up();return s===null?null:{parent:vn._currentValue,pool:s}}var vl=Error(i(460)),zp=Error(i(474)),dd=Error(i(542)),fd={then:function(){}};function Rx(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Nx(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(vs,vs),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Dx(s),s;default:if(typeof r.status=="string")r.then(vs,vs);else{if(s=It,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=u}},function(u){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Dx(s),s}throw _o=r,vl}}function wo(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(_o=o,vl):o}}var _o=null;function Ix(){if(_o===null)throw Error(i(459));var s=_o;return _o=null,s}function Dx(s){if(s===vl||s===dd)throw Error(i(483))}var bl=null,qc=0;function md(s){var r=qc;return qc+=1,bl===null&&(bl=[]),Nx(bl,s,r)}function Hc(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function pd(s,r){throw r.$$typeof===x?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function kx(s){function r(W,G){if(s){var te=W.deletions;te===null?(W.deletions=[G],W.flags|=16):te.push(G)}}function o(W,G){if(!s)return null;for(;G!==null;)r(W,G),G=G.sibling;return null}function u(W){for(var G=new Map;W!==null;)W.key!==null?G.set(W.key,W):G.set(W.index,W),W=W.sibling;return G}function p(W,G){return W=pr(W,G),W.index=0,W.sibling=null,W}function y(W,G,te){return W.index=te,s?(te=W.alternate,te!==null?(te=te.index,te<G?(W.flags|=67108866,G):te):(W.flags|=67108866,G)):(W.flags|=1048576,G)}function _(W){return s&&W.alternate===null&&(W.flags|=67108866),W}function R(W,G,te,he){return G===null||G.tag!==6?(G=Rp(te,W.mode,he),G.return=W,G):(G=p(G,te),G.return=W,G)}function F(W,G,te,he){var Pe=te.type;return Pe===I?ce(W,G,te.props.children,he,te.key):G!==null&&(G.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===C&&wo(Pe)===G.type)?(G=p(G,te.props),Hc(G,te),G.return=W,G):(G=od(te.type,te.key,te.props,null,W.mode,he),Hc(G,te),G.return=W,G)}function ie(W,G,te,he){return G===null||G.tag!==4||G.stateNode.containerInfo!==te.containerInfo||G.stateNode.implementation!==te.implementation?(G=Np(te,W.mode,he),G.return=W,G):(G=p(G,te.children||[]),G.return=W,G)}function ce(W,G,te,he,Pe){return G===null||G.tag!==7?(G=go(te,W.mode,he,Pe),G.return=W,G):(G=p(G,te),G.return=W,G)}function de(W,G,te){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Rp(""+G,W.mode,te),G.return=W,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return te=od(G.type,G.key,G.props,null,W.mode,te),Hc(te,G),te.return=W,te;case k:return G=Np(G,W.mode,te),G.return=W,G;case C:return G=wo(G),de(W,G,te)}if(xe(G)||V(G))return G=go(G,W.mode,te,null),G.return=W,G;if(typeof G.then=="function")return de(W,md(G),te);if(G.$$typeof===q)return de(W,ud(W,G),te);pd(W,G)}return null}function re(W,G,te,he){var Pe=G!==null?G.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Pe!==null?null:R(W,G,""+te,he);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case A:return te.key===Pe?F(W,G,te,he):null;case k:return te.key===Pe?ie(W,G,te,he):null;case C:return te=wo(te),re(W,G,te,he)}if(xe(te)||V(te))return Pe!==null?null:ce(W,G,te,he,null);if(typeof te.then=="function")return re(W,G,md(te),he);if(te.$$typeof===q)return re(W,G,ud(W,te),he);pd(W,te)}return null}function le(W,G,te,he,Pe){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return W=W.get(te)||null,R(G,W,""+he,Pe);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case A:return W=W.get(he.key===null?te:he.key)||null,F(G,W,he,Pe);case k:return W=W.get(he.key===null?te:he.key)||null,ie(G,W,he,Pe);case C:return he=wo(he),le(W,G,te,he,Pe)}if(xe(he)||V(he))return W=W.get(te)||null,ce(G,W,he,Pe,null);if(typeof he.then=="function")return le(W,G,te,md(he),Pe);if(he.$$typeof===q)return le(W,G,te,ud(G,he),Pe);pd(G,he)}return null}function Re(W,G,te,he){for(var Pe=null,dt=null,De=G,Xe=G=0,nt=null;De!==null&&Xe<te.length;Xe++){De.index>Xe?(nt=De,De=null):nt=De.sibling;var ft=re(W,De,te[Xe],he);if(ft===null){De===null&&(De=nt);break}s&&De&&ft.alternate===null&&r(W,De),G=y(ft,G,Xe),dt===null?Pe=ft:dt.sibling=ft,dt=ft,De=nt}if(Xe===te.length)return o(W,De),lt&&gr(W,Xe),Pe;if(De===null){for(;Xe<te.length;Xe++)De=de(W,te[Xe],he),De!==null&&(G=y(De,G,Xe),dt===null?Pe=De:dt.sibling=De,dt=De);return lt&&gr(W,Xe),Pe}for(De=u(De);Xe<te.length;Xe++)nt=le(De,W,Xe,te[Xe],he),nt!==null&&(s&&nt.alternate!==null&&De.delete(nt.key===null?Xe:nt.key),G=y(nt,G,Xe),dt===null?Pe=nt:dt.sibling=nt,dt=nt);return s&&De.forEach(function(Aa){return r(W,Aa)}),lt&&gr(W,Xe),Pe}function Oe(W,G,te,he){if(te==null)throw Error(i(151));for(var Pe=null,dt=null,De=G,Xe=G=0,nt=null,ft=te.next();De!==null&&!ft.done;Xe++,ft=te.next()){De.index>Xe?(nt=De,De=null):nt=De.sibling;var Aa=re(W,De,ft.value,he);if(Aa===null){De===null&&(De=nt);break}s&&De&&Aa.alternate===null&&r(W,De),G=y(Aa,G,Xe),dt===null?Pe=Aa:dt.sibling=Aa,dt=Aa,De=nt}if(ft.done)return o(W,De),lt&&gr(W,Xe),Pe;if(De===null){for(;!ft.done;Xe++,ft=te.next())ft=de(W,ft.value,he),ft!==null&&(G=y(ft,G,Xe),dt===null?Pe=ft:dt.sibling=ft,dt=ft);return lt&&gr(W,Xe),Pe}for(De=u(De);!ft.done;Xe++,ft=te.next())ft=le(De,W,Xe,ft.value,he),ft!==null&&(s&&ft.alternate!==null&&De.delete(ft.key===null?Xe:ft.key),G=y(ft,G,Xe),dt===null?Pe=ft:dt.sibling=ft,dt=ft);return s&&De.forEach(function(Tk){return r(W,Tk)}),lt&&gr(W,Xe),Pe}function Nt(W,G,te,he){if(typeof te=="object"&&te!==null&&te.type===I&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case A:e:{for(var Pe=te.key;G!==null;){if(G.key===Pe){if(Pe=te.type,Pe===I){if(G.tag===7){o(W,G.sibling),he=p(G,te.props.children),he.return=W,W=he;break e}}else if(G.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===C&&wo(Pe)===G.type){o(W,G.sibling),he=p(G,te.props),Hc(he,te),he.return=W,W=he;break e}o(W,G);break}else r(W,G);G=G.sibling}te.type===I?(he=go(te.props.children,W.mode,he,te.key),he.return=W,W=he):(he=od(te.type,te.key,te.props,null,W.mode,he),Hc(he,te),he.return=W,W=he)}return _(W);case k:e:{for(Pe=te.key;G!==null;){if(G.key===Pe)if(G.tag===4&&G.stateNode.containerInfo===te.containerInfo&&G.stateNode.implementation===te.implementation){o(W,G.sibling),he=p(G,te.children||[]),he.return=W,W=he;break e}else{o(W,G);break}else r(W,G);G=G.sibling}he=Np(te,W.mode,he),he.return=W,W=he}return _(W);case C:return te=wo(te),Nt(W,G,te,he)}if(xe(te))return Re(W,G,te,he);if(V(te)){if(Pe=V(te),typeof Pe!="function")throw Error(i(150));return te=Pe.call(te),Oe(W,G,te,he)}if(typeof te.then=="function")return Nt(W,G,md(te),he);if(te.$$typeof===q)return Nt(W,G,ud(W,te),he);pd(W,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,G!==null&&G.tag===6?(o(W,G.sibling),he=p(G,te),he.return=W,W=he):(o(W,G),he=Rp(te,W.mode,he),he.return=W,W=he),_(W)):o(W,G)}return function(W,G,te,he){try{qc=0;var Pe=Nt(W,G,te,he);return bl=null,Pe}catch(De){if(De===vl||De===dd)throw De;var dt=zi(29,De,null,W.mode);return dt.lanes=he,dt.return=W,dt}}}var To=kx(!0),Mx=kx(!1),ca=!1;function Bp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fp(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ua(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ha(s,r,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(pt&2)!==0){var p=u.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),u.pending=r,r=ad(s),gx(s,null,o),r}return rd(s,u,r,o),ad(s)}function Gc(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Qt(s,o)}}function qp(s,r){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=_:y=y.next=_,o=o.next}while(o!==null);y===null?p=y=r:y=y.next=r}else p=y=r;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var Hp=!1;function $c(){if(Hp){var s=yl;if(s!==null)throw s}}function Kc(s,r,o,u){Hp=!1;var p=s.updateQueue;ca=!1;var y=p.firstBaseUpdate,_=p.lastBaseUpdate,R=p.shared.pending;if(R!==null){p.shared.pending=null;var F=R,ie=F.next;F.next=null,_===null?y=ie:_.next=ie,_=F;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,R=ce.lastBaseUpdate,R!==_&&(R===null?ce.firstBaseUpdate=ie:R.next=ie,ce.lastBaseUpdate=F))}if(y!==null){var de=p.baseState;_=0,ce=ie=F=null,R=y;do{var re=R.lane&-536870913,le=re!==R.lane;if(le?(tt&re)===re:(u&re)===re){re!==0&&re===gl&&(Hp=!0),ce!==null&&(ce=ce.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Re=s,Oe=R;re=r;var Nt=o;switch(Oe.tag){case 1:if(Re=Oe.payload,typeof Re=="function"){de=Re.call(Nt,de,re);break e}de=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Oe.payload,re=typeof Re=="function"?Re.call(Nt,de,re):Re,re==null)break e;de=b({},de,re);break e;case 2:ca=!0}}re=R.callback,re!==null&&(s.flags|=64,le&&(s.flags|=8192),le=p.callbacks,le===null?p.callbacks=[re]:le.push(re))}else le={lane:re,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ce===null?(ie=ce=le,F=de):ce=ce.next=le,_|=re;if(R=R.next,R===null){if(R=p.shared.pending,R===null)break;le=R,R=le.next,le.next=null,p.lastBaseUpdate=le,p.shared.pending=null}}while(!0);ce===null&&(F=de),p.baseState=F,p.firstBaseUpdate=ie,p.lastBaseUpdate=ce,y===null&&(p.shared.lanes=0),ga|=_,s.lanes=_,s.memoizedState=de}}function Px(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Ox(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)Px(o[s],r)}var xl=T(null),gd=T(0);function Vx(s,r){s=Cr,Y(gd,s),Y(xl,r),Cr=s|r.baseLanes}function Gp(){Y(gd,Cr),Y(xl,xl.current)}function $p(){Cr=gd.current,L(xl),L(gd)}var Bi=T(null),ss=null;function da(s){var r=s.alternate;Y(dn,dn.current&1),Y(Bi,s),ss===null&&(r===null||xl.current!==null||r.memoizedState!==null)&&(ss=s)}function Kp(s){Y(dn,dn.current),Y(Bi,s),ss===null&&(ss=s)}function jx(s){s.tag===22?(Y(dn,dn.current),Y(Bi,s),ss===null&&(ss=s)):fa()}function fa(){Y(dn,dn.current),Y(Bi,Bi.current)}function Fi(s){L(Bi),ss===s&&(ss=null),L(dn)}var dn=T(0);function yd(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Zg(o)||ey(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var br=0,Ye=null,Ct=null,bn=null,vd=!1,wl=!1,Eo=!1,bd=0,Yc=0,_l=null,fD=0;function on(){throw Error(i(321))}function Yp(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!Ui(s[o],r[o]))return!1;return!0}function Xp(s,r,o,u,p,y){return br=y,Ye=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=s===null||s.memoizedState===null?xw:ug,Eo=!1,y=o(u,p),Eo=!1,wl&&(y=Ux(r,o,u,p)),Lx(s),y}function Lx(s){J.H=Qc;var r=Ct!==null&&Ct.next!==null;if(br=0,bn=Ct=Ye=null,vd=!1,Yc=0,_l=null,r)throw Error(i(300));s===null||xn||(s=s.dependencies,s!==null&&cd(s)&&(xn=!0))}function Ux(s,r,o,u){Ye=s;var p=0;do{if(wl&&(_l=null),Yc=0,wl=!1,25<=p)throw Error(i(301));if(p+=1,bn=Ct=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}J.H=ww,y=r(o,u)}while(wl);return y}function mD(){var s=J.H,r=s.useState()[0];return r=typeof r.then=="function"?Xc(r):r,s=s.useState()[0],(Ct!==null?Ct.memoizedState:null)!==s&&(Ye.flags|=1024),r}function Wp(){var s=bd!==0;return bd=0,s}function Qp(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function Jp(s){if(vd){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}vd=!1}br=0,bn=Ct=Ye=null,wl=!1,Yc=bd=0,_l=null}function mi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?Ye.memoizedState=bn=s:bn=bn.next=s,bn}function fn(){if(Ct===null){var s=Ye.alternate;s=s!==null?s.memoizedState:null}else s=Ct.next;var r=bn===null?Ye.memoizedState:bn.next;if(r!==null)bn=r,Ct=s;else{if(s===null)throw Ye.alternate===null?Error(i(467)):Error(i(310));Ct=s,s={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},bn===null?Ye.memoizedState=bn=s:bn=bn.next=s}return bn}function xd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xc(s){var r=Yc;return Yc+=1,_l===null&&(_l=[]),s=Nx(_l,s,r),r=Ye,(bn===null?r.memoizedState:bn.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?xw:ug),s}function wd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Xc(s);if(s.$$typeof===q)return $n(s)}throw Error(i(438,String(s)))}function Zp(s){var r=null,o=Ye.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ye.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=xd(),Ye.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),u=0;u<s;u++)o[u]=U;return r.index++,o}function xr(s,r){return typeof r=="function"?r(s):r}function _d(s){var r=fn();return eg(r,Ct,s)}function eg(s,r,o){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var p=s.baseQueue,y=u.pending;if(y!==null){if(p!==null){var _=p.next;p.next=y.next,y.next=_}r.baseQueue=p=y,u.pending=null}if(y=s.baseState,p===null)s.memoizedState=y;else{r=p.next;var R=_=null,F=null,ie=r,ce=!1;do{var de=ie.lane&-536870913;if(de!==ie.lane?(tt&de)===de:(br&de)===de){var re=ie.revertLane;if(re===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),de===gl&&(ce=!0);else if((br&re)===re){ie=ie.next,re===gl&&(ce=!0);continue}else de={lane:0,revertLane:ie.revertLane,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},F===null?(R=F=de,_=y):F=F.next=de,Ye.lanes|=re,ga|=re;de=ie.action,Eo&&o(y,de),y=ie.hasEagerState?ie.eagerState:o(y,de)}else re={lane:de,revertLane:ie.revertLane,gesture:ie.gesture,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},F===null?(R=F=re,_=y):F=F.next=re,Ye.lanes|=de,ga|=de;ie=ie.next}while(ie!==null&&ie!==r);if(F===null?_=y:F.next=R,!Ui(y,s.memoizedState)&&(xn=!0,ce&&(o=yl,o!==null)))throw o;s.memoizedState=y,s.baseState=_,s.baseQueue=F,u.lastRenderedState=y}return p===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function tg(s){var r=fn(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var u=o.dispatch,p=o.pending,y=r.memoizedState;if(p!==null){o.pending=null;var _=p=p.next;do y=s(y,_.action),_=_.next;while(_!==p);Ui(y,r.memoizedState)||(xn=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,u]}function zx(s,r,o){var u=Ye,p=fn(),y=lt;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=r();var _=!Ui((Ct||p).memoizedState,o);if(_&&(p.memoizedState=o,xn=!0),p=p.queue,sg(qx.bind(null,u,p,s),[s]),p.getSnapshot!==r||_||bn!==null&&bn.memoizedState.tag&1){if(u.flags|=2048,Tl(9,{destroy:void 0},Fx.bind(null,u,p,o,r),null),It===null)throw Error(i(349));y||(br&127)!==0||Bx(u,r,o)}return o}function Bx(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Ye.updateQueue,r===null?(r=xd(),Ye.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function Fx(s,r,o,u){r.value=o,r.getSnapshot=u,Hx(r)&&Gx(s)}function qx(s,r,o){return o(function(){Hx(r)&&Gx(s)})}function Hx(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!Ui(s,o)}catch{return!0}}function Gx(s){var r=po(s,2);r!==null&&ki(r,s,2)}function ng(s){var r=mi();if(typeof s=="function"){var o=s;if(s=o(),Eo){On(!0);try{o()}finally{On(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:s},r}function $x(s,r,o,u){return s.baseState=o,eg(s,Ct,typeof u=="function"?u:xr)}function pD(s,r,o,u,p){if(Sd(s))throw Error(i(485));if(s=r.action,s!==null){var y={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};J.T!==null?o(!0):y.isTransition=!1,u(y),o=r.pending,o===null?(y.next=r.pending=y,Kx(r,y)):(y.next=o.next,r.pending=o.next=y)}}function Kx(s,r){var o=r.action,u=r.payload,p=s.state;if(r.isTransition){var y=J.T,_={};J.T=_;try{var R=o(p,u),F=J.S;F!==null&&F(_,R),Yx(s,r,R)}catch(ie){ig(s,r,ie)}finally{y!==null&&_.types!==null&&(y.types=_.types),J.T=y}}else try{y=o(p,u),Yx(s,r,y)}catch(ie){ig(s,r,ie)}}function Yx(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Xx(s,r,u)},function(u){return ig(s,r,u)}):Xx(s,r,o)}function Xx(s,r,o){r.status="fulfilled",r.value=o,Wx(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,Kx(s,o)))}function ig(s,r,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,Wx(r),r=r.next;while(r!==u)}s.action=null}function Wx(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function Qx(s,r){return r}function Jx(s,r){if(lt){var o=It.formState;if(o!==null){e:{var u=Ye;if(lt){if(Vt){t:{for(var p=Vt,y=is;p.nodeType!==8;){if(!y){p=null;break t}if(p=rs(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Vt=rs(p.nextSibling),u=p.data==="F!";break e}}oa(u)}u=!1}u&&(r=o[0])}}return o=mi(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qx,lastRenderedState:r},o.queue=u,o=yw.bind(null,Ye,u),u.dispatch=o,u=ng(!1),y=cg.bind(null,Ye,!1,u.queue),u=mi(),p={state:r,dispatch:null,action:s,pending:null},u.queue=p,o=pD.bind(null,Ye,p,y,o),p.dispatch=o,u.memoizedState=s,[r,o,!1]}function Zx(s){var r=fn();return ew(r,Ct,s)}function ew(s,r,o){if(r=eg(s,r,Qx)[0],s=_d(xr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Xc(r)}catch(_){throw _===vl?dd:_}else u=r;r=fn();var p=r.queue,y=p.dispatch;return o!==r.memoizedState&&(Ye.flags|=2048,Tl(9,{destroy:void 0},gD.bind(null,p,o),null)),[u,y,s]}function gD(s,r){s.action=r}function tw(s){var r=fn(),o=Ct;if(o!==null)return ew(r,o,s);fn(),r=r.memoizedState,o=fn();var u=o.queue.dispatch;return o.memoizedState=s,[r,u,!1]}function Tl(s,r,o,u){return s={tag:s,create:o,deps:u,inst:r,next:null},r=Ye.updateQueue,r===null&&(r=xd(),Ye.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,r.lastEffect=s),s}function nw(){return fn().memoizedState}function Td(s,r,o,u){var p=mi();Ye.flags|=s,p.memoizedState=Tl(1|r,{destroy:void 0},o,u===void 0?null:u)}function Ed(s,r,o,u){var p=fn();u=u===void 0?null:u;var y=p.memoizedState.inst;Ct!==null&&u!==null&&Yp(u,Ct.memoizedState.deps)?p.memoizedState=Tl(r,y,o,u):(Ye.flags|=s,p.memoizedState=Tl(1|r,y,o,u))}function iw(s,r){Td(8390656,8,s,r)}function sg(s,r){Ed(2048,8,s,r)}function yD(s){Ye.flags|=4;var r=Ye.updateQueue;if(r===null)r=xd(),Ye.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function sw(s){var r=fn().memoizedState;return yD({ref:r,nextImpl:s}),function(){if((pt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function rw(s,r){return Ed(4,2,s,r)}function aw(s,r){return Ed(4,4,s,r)}function ow(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function lw(s,r,o){o=o!=null?o.concat([s]):null,Ed(4,4,ow.bind(null,r,s),o)}function rg(){}function cw(s,r){var o=fn();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Yp(r,u[1])?u[0]:(o.memoizedState=[s,r],s)}function uw(s,r){var o=fn();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Yp(r,u[1]))return u[0];if(u=s(),Eo){On(!0);try{s()}finally{On(!1)}}return o.memoizedState=[u,r],u}function ag(s,r,o){return o===void 0||(br&1073741824)!==0&&(tt&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=h_(),Ye.lanes|=s,ga|=s,o)}function hw(s,r,o,u){return Ui(o,r)?o:xl.current!==null?(s=ag(s,o,u),Ui(s,r)||(xn=!0),s):(br&42)===0||(br&1073741824)!==0&&(tt&261930)===0?(xn=!0,s.memoizedState=o):(s=h_(),Ye.lanes|=s,ga|=s,r)}function dw(s,r,o,u,p){var y=X.p;X.p=y!==0&&8>y?y:8;var _=J.T,R={};J.T=R,cg(s,!1,r,o);try{var F=p(),ie=J.S;if(ie!==null&&ie(R,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ce=dD(F,u);Wc(s,r,ce,Gi(s))}else Wc(s,r,u,Gi(s))}catch(de){Wc(s,r,{then:function(){},status:"rejected",reason:de},Gi())}finally{X.p=y,_!==null&&R.types!==null&&(_.types=R.types),J.T=_}}function vD(){}function og(s,r,o,u){if(s.tag!==5)throw Error(i(476));var p=fw(s).queue;dw(s,p,r,$,o===null?vD:function(){return mw(s),o(u)})}function fw(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:$},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function mw(s){var r=fw(s);r.next===null&&(r=s.alternate.memoizedState),Wc(s,r.next.queue,{},Gi())}function lg(){return $n(fu)}function pw(){return fn().memoizedState}function gw(){return fn().memoizedState}function bD(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=Gi();s=ua(o);var u=ha(r,s,o);u!==null&&(ki(u,r,o),Gc(u,r,o)),r={cache:jp()},s.payload=r;return}r=r.return}}function xD(s,r,o){var u=Gi();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Sd(s)?vw(r,o):(o=Ap(s,r,o,u),o!==null&&(ki(o,s,u),bw(o,r,u)))}function yw(s,r,o){var u=Gi();Wc(s,r,o,u)}function Wc(s,r,o,u){var p={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Sd(s))vw(r,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var _=r.lastRenderedState,R=y(_,o);if(p.hasEagerState=!0,p.eagerState=R,Ui(R,_))return rd(s,r,p,0),It===null&&sd(),!1}catch{}if(o=Ap(s,r,p,u),o!==null)return ki(o,s,u),bw(o,r,u),!0}return!1}function cg(s,r,o,u){if(u={lane:2,revertLane:Bg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Sd(s)){if(r)throw Error(i(479))}else r=Ap(s,o,u,2),r!==null&&ki(r,s,2)}function Sd(s){var r=s.alternate;return s===Ye||r!==null&&r===Ye}function vw(s,r){wl=vd=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function bw(s,r,o){if((o&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Qt(s,o)}}var Qc={readContext:$n,use:wd,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useLayoutEffect:on,useInsertionEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useSyncExternalStore:on,useId:on,useHostTransitionStatus:on,useFormState:on,useActionState:on,useOptimistic:on,useMemoCache:on,useCacheRefresh:on};Qc.useEffectEvent=on;var xw={readContext:$n,use:wd,useCallback:function(s,r){return mi().memoizedState=[s,r===void 0?null:r],s},useContext:$n,useEffect:iw,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,Td(4194308,4,ow.bind(null,r,s),o)},useLayoutEffect:function(s,r){return Td(4194308,4,s,r)},useInsertionEffect:function(s,r){Td(4,2,s,r)},useMemo:function(s,r){var o=mi();r=r===void 0?null:r;var u=s();if(Eo){On(!0);try{s()}finally{On(!1)}}return o.memoizedState=[u,r],u},useReducer:function(s,r,o){var u=mi();if(o!==void 0){var p=o(r);if(Eo){On(!0);try{o(r)}finally{On(!1)}}}else p=r;return u.memoizedState=u.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},u.queue=s,s=s.dispatch=xD.bind(null,Ye,s),[u.memoizedState,s]},useRef:function(s){var r=mi();return s={current:s},r.memoizedState=s},useState:function(s){s=ng(s);var r=s.queue,o=yw.bind(null,Ye,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:rg,useDeferredValue:function(s,r){var o=mi();return ag(o,s,r)},useTransition:function(){var s=ng(!1);return s=dw.bind(null,Ye,s.queue,!0,!1),mi().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var u=Ye,p=mi();if(lt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),It===null)throw Error(i(349));(tt&127)!==0||Bx(u,r,o)}p.memoizedState=o;var y={value:o,getSnapshot:r};return p.queue=y,iw(qx.bind(null,u,y,s),[s]),u.flags|=2048,Tl(9,{destroy:void 0},Fx.bind(null,u,y,o,r),null),o},useId:function(){var s=mi(),r=It.identifierPrefix;if(lt){var o=Ks,u=$s;o=(u&~(1<<32-St(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=bd++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=fD++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:lg,useFormState:Jx,useActionState:Jx,useOptimistic:function(s){var r=mi();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=cg.bind(null,Ye,!0,o),o.dispatch=r,[s,r]},useMemoCache:Zp,useCacheRefresh:function(){return mi().memoizedState=bD.bind(null,Ye)},useEffectEvent:function(s){var r=mi(),o={impl:s};return r.memoizedState=o,function(){if((pt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},ug={readContext:$n,use:wd,useCallback:cw,useContext:$n,useEffect:sg,useImperativeHandle:lw,useInsertionEffect:rw,useLayoutEffect:aw,useMemo:uw,useReducer:_d,useRef:nw,useState:function(){return _d(xr)},useDebugValue:rg,useDeferredValue:function(s,r){var o=fn();return hw(o,Ct.memoizedState,s,r)},useTransition:function(){var s=_d(xr)[0],r=fn().memoizedState;return[typeof s=="boolean"?s:Xc(s),r]},useSyncExternalStore:zx,useId:pw,useHostTransitionStatus:lg,useFormState:Zx,useActionState:Zx,useOptimistic:function(s,r){var o=fn();return $x(o,Ct,s,r)},useMemoCache:Zp,useCacheRefresh:gw};ug.useEffectEvent=sw;var ww={readContext:$n,use:wd,useCallback:cw,useContext:$n,useEffect:sg,useImperativeHandle:lw,useInsertionEffect:rw,useLayoutEffect:aw,useMemo:uw,useReducer:tg,useRef:nw,useState:function(){return tg(xr)},useDebugValue:rg,useDeferredValue:function(s,r){var o=fn();return Ct===null?ag(o,s,r):hw(o,Ct.memoizedState,s,r)},useTransition:function(){var s=tg(xr)[0],r=fn().memoizedState;return[typeof s=="boolean"?s:Xc(s),r]},useSyncExternalStore:zx,useId:pw,useHostTransitionStatus:lg,useFormState:tw,useActionState:tw,useOptimistic:function(s,r){var o=fn();return Ct!==null?$x(o,Ct,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:Zp,useCacheRefresh:gw};ww.useEffectEvent=sw;function hg(s,r,o,u){r=s.memoizedState,o=o(u,r),o=o==null?r:b({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var dg={enqueueSetState:function(s,r,o){s=s._reactInternals;var u=Gi(),p=ua(u);p.payload=r,o!=null&&(p.callback=o),r=ha(s,p,u),r!==null&&(ki(r,s,u),Gc(r,s,u))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var u=Gi(),p=ua(u);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=ha(s,p,u),r!==null&&(ki(r,s,u),Gc(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=Gi(),u=ua(o);u.tag=2,r!=null&&(u.callback=r),r=ha(s,u,o),r!==null&&(ki(r,s,o),Gc(r,s,o))}};function _w(s,r,o,u,p,y,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,_):r.prototype&&r.prototype.isPureReactComponent?!jc(o,u)||!jc(p,y):!0}function Tw(s,r,o,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==s&&dg.enqueueReplaceState(r,r.state,null)}function So(s,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(s=s.defaultProps){o===r&&(o=b({},o));for(var p in s)o[p]===void 0&&(o[p]=s[p])}return o}function Ew(s){id(s)}function Sw(s){console.error(s)}function Aw(s){id(s)}function Ad(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Cw(s,r,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function fg(s,r,o){return o=ua(o),o.tag=3,o.payload={element:null},o.callback=function(){Ad(s,r)},o}function Rw(s){return s=ua(s),s.tag=3,s}function Nw(s,r,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;s.payload=function(){return p(y)},s.callback=function(){Cw(r,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(s.callback=function(){Cw(r,o,u),typeof p!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function wD(s,r,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&pl(r,o,p,!0),o=Bi.current,o!==null){switch(o.tag){case 31:case 13:return ss===null?Ld():o.alternate===null&&ln===0&&(ln=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===fd?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Lg(s,u,p)),!1;case 22:return o.flags|=65536,u===fd?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Lg(s,u,p)),!1}throw Error(i(435,o.tag))}return Lg(s,u,p),Ld(),!1}if(lt)return r=Bi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,u!==kp&&(s=Error(i(422),{cause:u}),zc(es(s,o)))):(u!==kp&&(r=Error(i(423),{cause:u}),zc(es(r,o))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,u=es(u,o),p=fg(s.stateNode,u,p),qp(s,p),ln!==4&&(ln=2)),!1;var y=Error(i(520),{cause:u});if(y=es(y,o),ru===null?ru=[y]:ru.push(y),ln!==4&&(ln=2),r===null)return!0;u=es(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=p&-p,o.lanes|=s,s=fg(o.stateNode,u,s),qp(o,s),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ya===null||!ya.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Rw(p),Nw(p,s,o,u),qp(o,p),!1}o=o.return}while(o!==null);return!1}var mg=Error(i(461)),xn=!1;function Kn(s,r,o,u){r.child=s===null?Mx(r,null,o,u):To(r,s.child,o,u)}function Iw(s,r,o,u,p){o=o.render;var y=r.ref;if("ref"in u){var _={};for(var R in u)R!=="ref"&&(_[R]=u[R])}else _=u;return bo(r),u=Xp(s,r,o,_,y,p),R=Wp(),s!==null&&!xn?(Qp(s,r,p),wr(s,r,p)):(lt&&R&&Ip(r),r.flags|=1,Kn(s,r,u,p),r.child)}function Dw(s,r,o,u,p){if(s===null){var y=o.type;return typeof y=="function"&&!Cp(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,kw(s,r,y,u,p)):(s=od(o.type,null,u,r,r.mode,p),s.ref=r.ref,s.return=r,r.child=s)}if(y=s.child,!_g(s,p)){var _=y.memoizedProps;if(o=o.compare,o=o!==null?o:jc,o(_,u)&&s.ref===r.ref)return wr(s,r,p)}return r.flags|=1,s=pr(y,u),s.ref=r.ref,s.return=r,r.child=s}function kw(s,r,o,u,p){if(s!==null){var y=s.memoizedProps;if(jc(y,u)&&s.ref===r.ref)if(xn=!1,r.pendingProps=u=y,_g(s,p))(s.flags&131072)!==0&&(xn=!0);else return r.lanes=s.lanes,wr(s,r,p)}return pg(s,r,o,u,p)}function Mw(s,r,o,u){var p=u.children,y=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,s!==null){for(u=r.child=s.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~y}else u=0,r.child=null;return Pw(s,r,y,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&hd(r,y!==null?y.cachePool:null),y!==null?Vx(r,y):Gp(),jx(r);else return u=r.lanes=536870912,Pw(s,r,y!==null?y.baseLanes|o:o,o,u)}else y!==null?(hd(r,y.cachePool),Vx(r,y),fa(),r.memoizedState=null):(s!==null&&hd(r,null),Gp(),fa());return Kn(s,r,p,o),r.child}function Jc(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Pw(s,r,o,u,p){var y=Up();return y=y===null?null:{parent:vn._currentValue,pool:y},r.memoizedState={baseLanes:o,cachePool:y},s!==null&&hd(r,null),Gp(),jx(r),s!==null&&pl(s,r,u,!0),r.childLanes=p,null}function Cd(s,r){return r=Nd({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function Ow(s,r,o){return To(r,s.child,null,o),s=Cd(r,r.pendingProps),s.flags|=2,Fi(r),r.memoizedState=null,s}function _D(s,r,o){var u=r.pendingProps,p=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(lt){if(u.mode==="hidden")return s=Cd(r,u),r.lanes=536870912,Jc(null,s);if(Kp(r),(s=Vt)?(s=K_(s,is),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:ra!==null?{id:$s,overflow:Ks}:null,retryLane:536870912,hydrationErrors:null},o=vx(s),o.return=r,r.child=o,Gn=r,Vt=null)):s=null,s===null)throw oa(r);return r.lanes=536870912,null}return Cd(r,u)}var y=s.memoizedState;if(y!==null){var _=y.dehydrated;if(Kp(r),p)if(r.flags&256)r.flags&=-257,r=Ow(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(xn||pl(s,r,o,!1),p=(o&s.childLanes)!==0,xn||p){if(u=It,u!==null&&(_=Pt(u,o),_!==0&&_!==y.retryLane))throw y.retryLane=_,po(s,_),ki(u,s,_),mg;Ld(),r=Ow(s,r,o)}else s=y.treeContext,Vt=rs(_.nextSibling),Gn=r,lt=!0,aa=null,is=!1,s!==null&&wx(r,s),r=Cd(r,u),r.flags|=4096;return r}return s=pr(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Rd(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function pg(s,r,o,u,p){return bo(r),o=Xp(s,r,o,u,void 0,p),u=Wp(),s!==null&&!xn?(Qp(s,r,p),wr(s,r,p)):(lt&&u&&Ip(r),r.flags|=1,Kn(s,r,o,p),r.child)}function Vw(s,r,o,u,p,y){return bo(r),r.updateQueue=null,o=Ux(r,u,o,p),Lx(s),u=Wp(),s!==null&&!xn?(Qp(s,r,y),wr(s,r,y)):(lt&&u&&Ip(r),r.flags|=1,Kn(s,r,o,y),r.child)}function jw(s,r,o,u,p){if(bo(r),r.stateNode===null){var y=hl,_=o.contextType;typeof _=="object"&&_!==null&&(y=$n(_)),y=new o(u,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=dg,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=u,y.state=r.memoizedState,y.refs={},Bp(r),_=o.contextType,y.context=typeof _=="object"&&_!==null?$n(_):hl,y.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(hg(r,o,_,u),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&dg.enqueueReplaceState(y,y.state,null),Kc(r,u,y,p),$c(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){y=r.stateNode;var R=r.memoizedProps,F=So(o,R);y.props=F;var ie=y.context,ce=o.contextType;_=hl,typeof ce=="object"&&ce!==null&&(_=$n(ce));var de=o.getDerivedStateFromProps;ce=typeof de=="function"||typeof y.getSnapshotBeforeUpdate=="function",R=r.pendingProps!==R,ce||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R||ie!==_)&&Tw(r,y,u,_),ca=!1;var re=r.memoizedState;y.state=re,Kc(r,u,y,p),$c(),ie=r.memoizedState,R||re!==ie||ca?(typeof de=="function"&&(hg(r,o,de,u),ie=r.memoizedState),(F=ca||_w(r,o,F,u,re,ie,_))?(ce||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=ie),y.props=u,y.state=ie,y.context=_,u=F):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,Fp(s,r),_=r.memoizedProps,ce=So(o,_),y.props=ce,de=r.pendingProps,re=y.context,ie=o.contextType,F=hl,typeof ie=="object"&&ie!==null&&(F=$n(ie)),R=o.getDerivedStateFromProps,(ie=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==de||re!==F)&&Tw(r,y,u,F),ca=!1,re=r.memoizedState,y.state=re,Kc(r,u,y,p),$c();var le=r.memoizedState;_!==de||re!==le||ca||s!==null&&s.dependencies!==null&&cd(s.dependencies)?(typeof R=="function"&&(hg(r,o,R,u),le=r.memoizedState),(ce=ca||_w(r,o,ce,u,re,le,F)||s!==null&&s.dependencies!==null&&cd(s.dependencies))?(ie||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,le,F),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,le,F)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===s.memoizedProps&&re===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&re===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=le),y.props=u,y.state=le,y.context=F,u=ce):(typeof y.componentDidUpdate!="function"||_===s.memoizedProps&&re===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&re===s.memoizedState||(r.flags|=1024),u=!1)}return y=u,Rd(s,r),u=(r.flags&128)!==0,y||u?(y=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,s!==null&&u?(r.child=To(r,s.child,null,p),r.child=To(r,null,o,p)):Kn(s,r,o,p),r.memoizedState=y.state,s=r.child):s=wr(s,r,p),s}function Lw(s,r,o,u){return yo(),r.flags|=256,Kn(s,r,o,u),r.child}var gg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yg(s){return{baseLanes:s,cachePool:Cx()}}function vg(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=Hi),s}function Uw(s,r,o){var u=r.pendingProps,p=!1,y=(r.flags&128)!==0,_;if((_=y)||(_=s!==null&&s.memoizedState===null?!1:(dn.current&2)!==0),_&&(p=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,s===null){if(lt){if(p?da(r):fa(),(s=Vt)?(s=K_(s,is),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:ra!==null?{id:$s,overflow:Ks}:null,retryLane:536870912,hydrationErrors:null},o=vx(s),o.return=r,r.child=o,Gn=r,Vt=null)):s=null,s===null)throw oa(r);return ey(s)?r.lanes=32:r.lanes=536870912,null}var R=u.children;return u=u.fallback,p?(fa(),p=r.mode,R=Nd({mode:"hidden",children:R},p),u=go(u,p,o,null),R.return=r,u.return=r,R.sibling=u,r.child=R,u=r.child,u.memoizedState=yg(o),u.childLanes=vg(s,_,o),r.memoizedState=gg,Jc(null,u)):(da(r),bg(r,R))}var F=s.memoizedState;if(F!==null&&(R=F.dehydrated,R!==null)){if(y)r.flags&256?(da(r),r.flags&=-257,r=xg(s,r,o)):r.memoizedState!==null?(fa(),r.child=s.child,r.flags|=128,r=null):(fa(),R=u.fallback,p=r.mode,u=Nd({mode:"visible",children:u.children},p),R=go(R,p,o,null),R.flags|=2,u.return=r,R.return=r,u.sibling=R,r.child=u,To(r,s.child,null,o),u=r.child,u.memoizedState=yg(o),u.childLanes=vg(s,_,o),r.memoizedState=gg,r=Jc(null,u));else if(da(r),ey(R)){if(_=R.nextSibling&&R.nextSibling.dataset,_)var ie=_.dgst;_=ie,u=Error(i(419)),u.stack="",u.digest=_,zc({value:u,source:null,stack:null}),r=xg(s,r,o)}else if(xn||pl(s,r,o,!1),_=(o&s.childLanes)!==0,xn||_){if(_=It,_!==null&&(u=Pt(_,o),u!==0&&u!==F.retryLane))throw F.retryLane=u,po(s,u),ki(_,s,u),mg;Zg(R)||Ld(),r=xg(s,r,o)}else Zg(R)?(r.flags|=192,r.child=s.child,r=null):(s=F.treeContext,Vt=rs(R.nextSibling),Gn=r,lt=!0,aa=null,is=!1,s!==null&&wx(r,s),r=bg(r,u.children),r.flags|=4096);return r}return p?(fa(),R=u.fallback,p=r.mode,F=s.child,ie=F.sibling,u=pr(F,{mode:"hidden",children:u.children}),u.subtreeFlags=F.subtreeFlags&65011712,ie!==null?R=pr(ie,R):(R=go(R,p,o,null),R.flags|=2),R.return=r,u.return=r,u.sibling=R,r.child=u,Jc(null,u),u=r.child,R=s.child.memoizedState,R===null?R=yg(o):(p=R.cachePool,p!==null?(F=vn._currentValue,p=p.parent!==F?{parent:F,pool:F}:p):p=Cx(),R={baseLanes:R.baseLanes|o,cachePool:p}),u.memoizedState=R,u.childLanes=vg(s,_,o),r.memoizedState=gg,Jc(s.child,u)):(da(r),o=s.child,s=o.sibling,o=pr(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,s!==null&&(_=r.deletions,_===null?(r.deletions=[s],r.flags|=16):_.push(s)),r.child=o,r.memoizedState=null,o)}function bg(s,r){return r=Nd({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Nd(s,r){return s=zi(22,s,null,r),s.lanes=0,s}function xg(s,r,o){return To(r,s.child,null,o),s=bg(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function zw(s,r,o){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),Op(s.return,r,o)}function wg(s,r,o,u,p,y){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p,treeForkCount:y}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=p,_.treeForkCount=y)}function Bw(s,r,o){var u=r.pendingProps,p=u.revealOrder,y=u.tail;u=u.children;var _=dn.current,R=(_&2)!==0;if(R?(_=_&1|2,r.flags|=128):_&=1,Y(dn,_),Kn(s,r,u,o),u=lt?Uc:0,!R&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&zw(s,o,r);else if(s.tag===19)zw(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(p){case"forwards":for(o=r.child,p=null;o!==null;)s=o.alternate,s!==null&&yd(s)===null&&(p=o),o=o.sibling;o=p,o===null?(p=r.child,r.child=null):(p=o.sibling,o.sibling=null),wg(r,!1,p,o,y,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=r.child,r.child=null;p!==null;){if(s=p.alternate,s!==null&&yd(s)===null){r.child=p;break}s=p.sibling,p.sibling=o,o=p,p=s}wg(r,!0,o,null,y,u);break;case"together":wg(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function wr(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),ga|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(pl(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=pr(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=pr(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function _g(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&cd(s)))}function TD(s,r,o){switch(r.tag){case 3:Ee(r,r.stateNode.containerInfo),la(r,vn,s.memoizedState.cache),yo();break;case 27:case 5:Se(r);break;case 4:Ee(r,r.stateNode.containerInfo);break;case 10:la(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Kp(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(da(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Uw(s,r,o):(da(r),s=wr(s,r,o),s!==null?s.sibling:null);da(r);break;case 19:var p=(s.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(pl(s,r,o,!1),u=(o&r.childLanes)!==0),p){if(u)return Bw(s,r,o);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Y(dn,dn.current),u)break;return null;case 22:return r.lanes=0,Mw(s,r,o,r.pendingProps);case 24:la(r,vn,s.memoizedState.cache)}return wr(s,r,o)}function Fw(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)xn=!0;else{if(!_g(s,o)&&(r.flags&128)===0)return xn=!1,TD(s,r,o);xn=(s.flags&131072)!==0}else xn=!1,lt&&(r.flags&1048576)!==0&&xx(r,Uc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(s=wo(r.elementType),r.type=s,typeof s=="function")Cp(s)?(u=So(s,u),r.tag=1,r=jw(null,r,s,u,o)):(r.tag=0,r=pg(null,r,s,u,o));else{if(s!=null){var p=s.$$typeof;if(p===oe){r.tag=11,r=Iw(null,r,s,u,o);break e}else if(p===D){r.tag=14,r=Dw(null,r,s,u,o);break e}}throw r=we(s)||s,Error(i(306,r,""))}}return r;case 0:return pg(s,r,r.type,r.pendingProps,o);case 1:return u=r.type,p=So(u,r.pendingProps),jw(s,r,u,p,o);case 3:e:{if(Ee(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var y=r.memoizedState;p=y.element,Fp(s,r),Kc(r,u,null,o);var _=r.memoizedState;if(u=_.cache,la(r,vn,u),u!==y.cache&&Vp(r,[vn],o,!0),$c(),u=_.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=Lw(s,r,u,o);break e}else if(u!==p){p=es(Error(i(424)),r),zc(p),r=Lw(s,r,u,o);break e}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,Vt=rs(s.firstChild),Gn=r,lt=!0,aa=null,is=!0,o=Mx(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(yo(),u===p){r=wr(s,r,o);break e}Kn(s,r,u,o)}r=r.child}return r;case 26:return Rd(s,r),s===null?(o=Z_(r.type,null,r.pendingProps,null))?r.memoizedState=o:lt||(o=r.type,s=r.pendingProps,u=Gd(ye.current).createElement(o),u[Ot]=r,u[ut]=s,Yn(u,o,s),Zt(u),r.stateNode=u):r.memoizedState=Z_(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Se(r),s===null&&lt&&(u=r.stateNode=W_(r.type,r.pendingProps,ye.current),Gn=r,is=!0,p=Vt,wa(r.type)?(ty=p,Vt=rs(u.firstChild)):Vt=p),Kn(s,r,r.pendingProps.children,o),Rd(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&lt&&((p=u=Vt)&&(u=ZD(u,r.type,r.pendingProps,is),u!==null?(r.stateNode=u,Gn=r,Vt=rs(u.firstChild),is=!1,p=!0):p=!1),p||oa(r)),Se(r),p=r.type,y=r.pendingProps,_=s!==null?s.memoizedProps:null,u=y.children,Wg(p,y)?u=null:_!==null&&Wg(p,_)&&(r.flags|=32),r.memoizedState!==null&&(p=Xp(s,r,mD,null,null,o),fu._currentValue=p),Rd(s,r),Kn(s,r,u,o),r.child;case 6:return s===null&&lt&&((s=o=Vt)&&(o=ek(o,r.pendingProps,is),o!==null?(r.stateNode=o,Gn=r,Vt=null,s=!0):s=!1),s||oa(r)),null;case 13:return Uw(s,r,o);case 4:return Ee(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=To(r,null,u,o):Kn(s,r,u,o),r.child;case 11:return Iw(s,r,r.type,r.pendingProps,o);case 7:return Kn(s,r,r.pendingProps,o),r.child;case 8:return Kn(s,r,r.pendingProps.children,o),r.child;case 12:return Kn(s,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,la(r,r.type,u.value),Kn(s,r,u.children,o),r.child;case 9:return p=r.type._context,u=r.pendingProps.children,bo(r),p=$n(p),u=u(p),r.flags|=1,Kn(s,r,u,o),r.child;case 14:return Dw(s,r,r.type,r.pendingProps,o);case 15:return kw(s,r,r.type,r.pendingProps,o);case 19:return Bw(s,r,o);case 31:return _D(s,r,o);case 22:return Mw(s,r,o,r.pendingProps);case 24:return bo(r),u=$n(vn),s===null?(p=Up(),p===null&&(p=It,y=jp(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),r.memoizedState={parent:u,cache:p},Bp(r),la(r,vn,p)):((s.lanes&o)!==0&&(Fp(s,r),Kc(r,null,null,o),$c()),p=s.memoizedState,y=r.memoizedState,p.parent!==u?(p={parent:u,cache:u},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),la(r,vn,u)):(u=y.cache,la(r,vn,u),u!==p.cache&&Vp(r,[vn],o,!0))),Kn(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function _r(s){s.flags|=4}function Tg(s,r,o,u,p){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(p&335544128)===p)if(s.stateNode.complete)s.flags|=8192;else if(p_())s.flags|=8192;else throw _o=fd,zp}else s.flags&=-16777217}function qw(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!s1(r))if(p_())s.flags|=8192;else throw _o=fd,zp}function Id(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?gn():536870912,s.lanes|=r,Cl|=r)}function Zc(s,r){if(!lt)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function jt(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(r)for(var p=s.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=u,s.childLanes=o,r}function ED(s,r,o){var u=r.pendingProps;switch(Dp(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(r),null;case 1:return jt(r),null;case 3:return o=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),vr(vn),Te(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(ml(r)?_r(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Mp())),jt(r),null;case 26:var p=r.type,y=r.memoizedState;return s===null?(_r(r),y!==null?(jt(r),qw(r,y)):(jt(r),Tg(r,p,null,u,o))):y?y!==s.memoizedState?(_r(r),jt(r),qw(r,y)):(jt(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&_r(r),jt(r),Tg(r,p,s,u,o)),null;case 27:if(Be(r),o=ye.current,p=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&_r(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return jt(r),null}s=ne.current,ml(r)?_x(r):(s=W_(p,u,o),r.stateNode=s,_r(r))}return jt(r),null;case 5:if(Be(r),p=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&_r(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return jt(r),null}if(y=ne.current,ml(r))_x(r);else{var _=Gd(ye.current);switch(y){case 1:y=_.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=_.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=_.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?_.createElement(p,{is:u.is}):_.createElement(p)}}y[Ot]=r,y[ut]=u;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)y.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=y;e:switch(Yn(y,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&_r(r)}}return jt(r),Tg(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&_r(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=ye.current,ml(r)){if(s=r.stateNode,o=r.memoizedProps,u=null,p=Gn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}s[Ot]=r,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||U_(s.nodeValue,o)),s||oa(r,!0)}else s=Gd(s).createTextNode(u),s[Ot]=r,r.stateNode=s}return jt(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(u=ml(r),o!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Ot]=r}else yo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;jt(r),s=!1}else o=Mp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(Fi(r),r):(Fi(r),null);if((r.flags&128)!==0)throw Error(i(558))}return jt(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=ml(r),u!==null&&u.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Ot]=r}else yo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;jt(r),p=!1}else p=Mp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(Fi(r),r):(Fi(r),null)}return Fi(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,s=s!==null&&s.memoizedState!==null,o&&(u=r.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),Id(r,r.updateQueue),jt(r),null);case 4:return Te(),s===null&&Gg(r.stateNode.containerInfo),jt(r),null;case 10:return vr(r.type),jt(r),null;case 19:if(L(dn),u=r.memoizedState,u===null)return jt(r),null;if(p=(r.flags&128)!==0,y=u.rendering,y===null)if(p)Zc(u,!1);else{if(ln!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(y=yd(s),y!==null){for(r.flags|=128,Zc(u,!1),s=y.updateQueue,r.updateQueue=s,Id(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)yx(o,s),o=o.sibling;return Y(dn,dn.current&1|2),lt&&gr(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&Ut()>Od&&(r.flags|=128,p=!0,Zc(u,!1),r.lanes=4194304)}else{if(!p)if(s=yd(y),s!==null){if(r.flags|=128,p=!0,s=s.updateQueue,r.updateQueue=s,Id(r,s),Zc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!lt)return jt(r),null}else 2*Ut()-u.renderingStartTime>Od&&o!==536870912&&(r.flags|=128,p=!0,Zc(u,!1),r.lanes=4194304);u.isBackwards?(y.sibling=r.child,r.child=y):(s=u.last,s!==null?s.sibling=y:r.child=y,u.last=y)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=Ut(),s.sibling=null,o=dn.current,Y(dn,p?o&1|2:o&1),lt&&gr(r,u.treeForkCount),s):(jt(r),null);case 22:case 23:return Fi(r),$p(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(jt(r),r.subtreeFlags&6&&(r.flags|=8192)):jt(r),o=r.updateQueue,o!==null&&Id(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),s!==null&&L(xo),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),vr(vn),jt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function SD(s,r){switch(Dp(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return vr(vn),Te(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Be(r),null;case 31:if(r.memoizedState!==null){if(Fi(r),r.alternate===null)throw Error(i(340));yo()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Fi(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));yo()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return L(dn),null;case 4:return Te(),null;case 10:return vr(r.type),null;case 22:case 23:return Fi(r),$p(),s!==null&&L(xo),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return vr(vn),null;case 25:return null;default:return null}}function Hw(s,r){switch(Dp(r),r.tag){case 3:vr(vn),Te();break;case 26:case 27:case 5:Be(r);break;case 4:Te();break;case 31:r.memoizedState!==null&&Fi(r);break;case 13:Fi(r);break;case 19:L(dn);break;case 10:vr(r.type);break;case 22:case 23:Fi(r),$p(),s!==null&&L(xo);break;case 24:vr(vn)}}function eu(s,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&s)===s){u=void 0;var y=o.create,_=o.inst;u=y(),_.destroy=u}o=o.next}while(o!==p)}}catch(R){Tt(r,r.return,R)}}function ma(s,r,o){try{var u=r.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&s)===s){var _=u.inst,R=_.destroy;if(R!==void 0){_.destroy=void 0,p=r;var F=o,ie=R;try{ie()}catch(ce){Tt(p,F,ce)}}}u=u.next}while(u!==y)}}catch(ce){Tt(r,r.return,ce)}}function Gw(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{Ox(r,o)}catch(u){Tt(s,s.return,u)}}}function $w(s,r,o){o.props=So(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){Tt(s,r,u)}}function tu(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof o=="function"?s.refCleanup=o(u):o.current=u}}catch(p){Tt(s,r,p)}}function Ys(s,r){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){Tt(s,r,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Tt(s,r,p)}else o.current=null}function Kw(s){var r=s.type,o=s.memoizedProps,u=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){Tt(s,s.return,p)}}function Eg(s,r,o){try{var u=s.stateNode;KD(u,s.type,o,r),u[ut]=r}catch(p){Tt(s,s.return,p)}}function Yw(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&wa(s.type)||s.tag===4}function Sg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Yw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&wa(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ag(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=vs));else if(u!==4&&(u===27&&wa(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(Ag(s,r,o),s=s.sibling;s!==null;)Ag(s,r,o),s=s.sibling}function Dd(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(u!==4&&(u===27&&wa(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(Dd(s,r,o),s=s.sibling;s!==null;)Dd(s,r,o),s=s.sibling}function Xw(s){var r=s.stateNode,o=s.memoizedProps;try{for(var u=s.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);Yn(r,u,o),r[Ot]=s,r[ut]=o}catch(y){Tt(s,s.return,y)}}var Tr=!1,wn=!1,Cg=!1,Ww=typeof WeakSet=="function"?WeakSet:Set,Ln=null;function AD(s,r){if(s=s.containerInfo,Yg=Jd,s=lx(s),xp(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var _=0,R=-1,F=-1,ie=0,ce=0,de=s,re=null;t:for(;;){for(var le;de!==o||p!==0&&de.nodeType!==3||(R=_+p),de!==y||u!==0&&de.nodeType!==3||(F=_+u),de.nodeType===3&&(_+=de.nodeValue.length),(le=de.firstChild)!==null;)re=de,de=le;for(;;){if(de===s)break t;if(re===o&&++ie===p&&(R=_),re===y&&++ce===u&&(F=_),(le=de.nextSibling)!==null)break;de=re,re=de.parentNode}de=le}o=R===-1||F===-1?null:{start:R,end:F}}else o=null}o=o||{start:0,end:0}}else o=null;for(Xg={focusedElem:s,selectionRange:o},Jd=!1,Ln=r;Ln!==null;)if(r=Ln,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Ln=s;else for(;Ln!==null;){switch(r=Ln,y=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)p=s[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,o=r,p=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var Re=So(o.type,p);s=u.getSnapshotBeforeUpdate(Re,y),u.__reactInternalSnapshotBeforeUpdate=s}catch(Oe){Tt(o,o.return,Oe)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)Jg(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Jg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Ln=s;break}Ln=r.return}}function Qw(s,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Sr(s,o),u&4&&eu(5,o);break;case 1:if(Sr(s,o),u&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(_){Tt(o,o.return,_)}else{var p=So(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(p,r,s.__reactInternalSnapshotBeforeUpdate)}catch(_){Tt(o,o.return,_)}}u&64&&Gw(o),u&512&&tu(o,o.return);break;case 3:if(Sr(s,o),u&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Ox(s,r)}catch(_){Tt(o,o.return,_)}}break;case 27:r===null&&u&4&&Xw(o);case 26:case 5:Sr(s,o),r===null&&u&4&&Kw(o),u&512&&tu(o,o.return);break;case 12:Sr(s,o);break;case 31:Sr(s,o),u&4&&e_(s,o);break;case 13:Sr(s,o),u&4&&t_(s,o),u&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=OD.bind(null,o),tk(s,o))));break;case 22:if(u=o.memoizedState!==null||Tr,!u){r=r!==null&&r.memoizedState!==null||wn,p=Tr;var y=wn;Tr=u,(wn=r)&&!y?Ar(s,o,(o.subtreeFlags&8772)!==0):Sr(s,o),Tr=p,wn=y}break;case 30:break;default:Sr(s,o)}}function Jw(s){var r=s.alternate;r!==null&&(s.alternate=null,Jw(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Wr(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Gt=null,Ri=!1;function Er(s,r,o){for(o=o.child;o!==null;)Zw(s,r,o),o=o.sibling}function Zw(s,r,o){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Pn,o)}catch{}switch(o.tag){case 26:wn||Ys(o,r),Er(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:wn||Ys(o,r);var u=Gt,p=Ri;wa(o.type)&&(Gt=o.stateNode,Ri=!1),Er(s,r,o),uu(o.stateNode),Gt=u,Ri=p;break;case 5:wn||Ys(o,r);case 6:if(u=Gt,p=Ri,Gt=null,Er(s,r,o),Gt=u,Ri=p,Gt!==null)if(Ri)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(o.stateNode)}catch(y){Tt(o,r,y)}else try{Gt.removeChild(o.stateNode)}catch(y){Tt(o,r,y)}break;case 18:Gt!==null&&(Ri?(s=Gt,G_(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),Ol(s)):G_(Gt,o.stateNode));break;case 4:u=Gt,p=Ri,Gt=o.stateNode.containerInfo,Ri=!0,Er(s,r,o),Gt=u,Ri=p;break;case 0:case 11:case 14:case 15:ma(2,o,r),wn||ma(4,o,r),Er(s,r,o);break;case 1:wn||(Ys(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&$w(o,r,u)),Er(s,r,o);break;case 21:Er(s,r,o);break;case 22:wn=(u=wn)||o.memoizedState!==null,Er(s,r,o),wn=u;break;default:Er(s,r,o)}}function e_(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Ol(s)}catch(o){Tt(r,r.return,o)}}}function t_(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Ol(s)}catch(o){Tt(r,r.return,o)}}function CD(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Ww),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Ww),r;default:throw Error(i(435,s.tag))}}function kd(s,r){var o=CD(s);r.forEach(function(u){if(!o.has(u)){o.add(u);var p=VD.bind(null,s,u);u.then(p,p)}})}function Ni(s,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],y=s,_=r,R=_;e:for(;R!==null;){switch(R.tag){case 27:if(wa(R.type)){Gt=R.stateNode,Ri=!1;break e}break;case 5:Gt=R.stateNode,Ri=!1;break e;case 3:case 4:Gt=R.stateNode.containerInfo,Ri=!0;break e}R=R.return}if(Gt===null)throw Error(i(160));Zw(y,_,p),Gt=null,Ri=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)n_(r,s),r=r.sibling}var Es=null;function n_(s,r){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ni(r,s),Ii(s),u&4&&(ma(3,s,s.return),eu(3,s),ma(5,s,s.return));break;case 1:Ni(r,s),Ii(s),u&512&&(wn||o===null||Ys(o,o.return)),u&64&&Tr&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=Es;if(Ni(r,s),Ii(s),u&512&&(wn||o===null||Ys(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){e:{u=s.type,o=s.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Vi]||y[Ot]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),Yn(y,u,o),y[Ot]=s,Zt(y),u=y;break e;case"link":var _=n1("link","href",p).get(u+(o.href||""));if(_){for(var R=0;R<_.length;R++)if(y=_[R],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(R,1);break t}}y=p.createElement(u),Yn(y,u,o),p.head.appendChild(y);break;case"meta":if(_=n1("meta","content",p).get(u+(o.content||""))){for(R=0;R<_.length;R++)if(y=_[R],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(R,1);break t}}y=p.createElement(u),Yn(y,u,o),p.head.appendChild(y);break;default:throw Error(i(468,u))}y[Ot]=s,Zt(y),u=y}s.stateNode=u}else i1(p,s.type,s.stateNode);else s.stateNode=t1(p,u,s.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?i1(p,s.type,s.stateNode):t1(p,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Eg(s,s.memoizedProps,o.memoizedProps)}break;case 27:Ni(r,s),Ii(s),u&512&&(wn||o===null||Ys(o,o.return)),o!==null&&u&4&&Eg(s,s.memoizedProps,o.memoizedProps);break;case 5:if(Ni(r,s),Ii(s),u&512&&(wn||o===null||Ys(o,o.return)),s.flags&32){p=s.stateNode;try{Ci(p,"")}catch(Re){Tt(s,s.return,Re)}}u&4&&s.stateNode!=null&&(p=s.memoizedProps,Eg(s,p,o!==null?o.memoizedProps:p)),u&1024&&(Cg=!0);break;case 6:if(Ni(r,s),Ii(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(Re){Tt(s,s.return,Re)}}break;case 3:if(Yd=null,p=Es,Es=$d(r.containerInfo),Ni(r,s),Es=p,Ii(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ol(r.containerInfo)}catch(Re){Tt(s,s.return,Re)}Cg&&(Cg=!1,i_(s));break;case 4:u=Es,Es=$d(s.stateNode.containerInfo),Ni(r,s),Ii(s),Es=u;break;case 12:Ni(r,s),Ii(s);break;case 31:Ni(r,s),Ii(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,kd(s,u)));break;case 13:Ni(r,s),Ii(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Pd=Ut()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,kd(s,u)));break;case 22:p=s.memoizedState!==null;var F=o!==null&&o.memoizedState!==null,ie=Tr,ce=wn;if(Tr=ie||p,wn=ce||F,Ni(r,s),wn=ce,Tr=ie,Ii(s),u&8192)e:for(r=s.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(o===null||F||Tr||wn||Ao(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){F=o=r;try{if(y=F.stateNode,p)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{R=F.stateNode;var de=F.memoizedProps.style,re=de!=null&&de.hasOwnProperty("display")?de.display:null;R.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Re){Tt(F,F.return,Re)}}}else if(r.tag===6){if(o===null){F=r;try{F.stateNode.nodeValue=p?"":F.memoizedProps}catch(Re){Tt(F,F.return,Re)}}}else if(r.tag===18){if(o===null){F=r;try{var le=F.stateNode;p?$_(le,!0):$_(F.stateNode,!1)}catch(Re){Tt(F,F.return,Re)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,kd(s,o))));break;case 19:Ni(r,s),Ii(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,kd(s,u)));break;case 30:break;case 21:break;default:Ni(r,s),Ii(s)}}function Ii(s){var r=s.flags;if(r&2){try{for(var o,u=s.return;u!==null;){if(Yw(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var p=o.stateNode,y=Sg(s);Dd(s,y,p);break;case 5:var _=o.stateNode;o.flags&32&&(Ci(_,""),o.flags&=-33);var R=Sg(s);Dd(s,R,_);break;case 3:case 4:var F=o.stateNode.containerInfo,ie=Sg(s);Ag(s,ie,F);break;default:throw Error(i(161))}}catch(ce){Tt(s,s.return,ce)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function i_(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;i_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Sr(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Qw(s,r.alternate,r),r=r.sibling}function Ao(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:ma(4,r,r.return),Ao(r);break;case 1:Ys(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&$w(r,r.return,o),Ao(r);break;case 27:uu(r.stateNode);case 26:case 5:Ys(r,r.return),Ao(r);break;case 22:r.memoizedState===null&&Ao(r);break;case 30:Ao(r);break;default:Ao(r)}s=s.sibling}}function Ar(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,p=s,y=r,_=y.flags;switch(y.tag){case 0:case 11:case 15:Ar(p,y,o),eu(4,y);break;case 1:if(Ar(p,y,o),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(ie){Tt(u,u.return,ie)}if(u=y,p=u.updateQueue,p!==null){var R=u.stateNode;try{var F=p.shared.hiddenCallbacks;if(F!==null)for(p.shared.hiddenCallbacks=null,p=0;p<F.length;p++)Px(F[p],R)}catch(ie){Tt(u,u.return,ie)}}o&&_&64&&Gw(y),tu(y,y.return);break;case 27:Xw(y);case 26:case 5:Ar(p,y,o),o&&u===null&&_&4&&Kw(y),tu(y,y.return);break;case 12:Ar(p,y,o);break;case 31:Ar(p,y,o),o&&_&4&&e_(p,y);break;case 13:Ar(p,y,o),o&&_&4&&t_(p,y);break;case 22:y.memoizedState===null&&Ar(p,y,o),tu(y,y.return);break;case 30:break;default:Ar(p,y,o)}r=r.sibling}}function Rg(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&Bc(o))}function Ng(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Bc(s))}function Ss(s,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)s_(s,r,o,u),r=r.sibling}function s_(s,r,o,u){var p=r.flags;switch(r.tag){case 0:case 11:case 15:Ss(s,r,o,u),p&2048&&eu(9,r);break;case 1:Ss(s,r,o,u);break;case 3:Ss(s,r,o,u),p&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Bc(s)));break;case 12:if(p&2048){Ss(s,r,o,u),s=r.stateNode;try{var y=r.memoizedProps,_=y.id,R=y.onPostCommit;typeof R=="function"&&R(_,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(F){Tt(r,r.return,F)}}else Ss(s,r,o,u);break;case 31:Ss(s,r,o,u);break;case 13:Ss(s,r,o,u);break;case 23:break;case 22:y=r.stateNode,_=r.alternate,r.memoizedState!==null?y._visibility&2?Ss(s,r,o,u):nu(s,r):y._visibility&2?Ss(s,r,o,u):(y._visibility|=2,El(s,r,o,u,(r.subtreeFlags&10256)!==0||!1)),p&2048&&Rg(_,r);break;case 24:Ss(s,r,o,u),p&2048&&Ng(r.alternate,r);break;default:Ss(s,r,o,u)}}function El(s,r,o,u,p){for(p=p&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=s,_=r,R=o,F=u,ie=_.flags;switch(_.tag){case 0:case 11:case 15:El(y,_,R,F,p),eu(8,_);break;case 23:break;case 22:var ce=_.stateNode;_.memoizedState!==null?ce._visibility&2?El(y,_,R,F,p):nu(y,_):(ce._visibility|=2,El(y,_,R,F,p)),p&&ie&2048&&Rg(_.alternate,_);break;case 24:El(y,_,R,F,p),p&&ie&2048&&Ng(_.alternate,_);break;default:El(y,_,R,F,p)}r=r.sibling}}function nu(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,u=r,p=u.flags;switch(u.tag){case 22:nu(o,u),p&2048&&Rg(u.alternate,u);break;case 24:nu(o,u),p&2048&&Ng(u.alternate,u);break;default:nu(o,u)}r=r.sibling}}var iu=8192;function Sl(s,r,o){if(s.subtreeFlags&iu)for(s=s.child;s!==null;)r_(s,r,o),s=s.sibling}function r_(s,r,o){switch(s.tag){case 26:Sl(s,r,o),s.flags&iu&&s.memoizedState!==null&&fk(o,Es,s.memoizedState,s.memoizedProps);break;case 5:Sl(s,r,o);break;case 3:case 4:var u=Es;Es=$d(s.stateNode.containerInfo),Sl(s,r,o),Es=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=iu,iu=16777216,Sl(s,r,o),iu=u):Sl(s,r,o));break;default:Sl(s,r,o)}}function a_(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function su(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ln=u,l_(u,s)}a_(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)o_(s),s=s.sibling}function o_(s){switch(s.tag){case 0:case 11:case 15:su(s),s.flags&2048&&ma(9,s,s.return);break;case 3:su(s);break;case 12:su(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Md(s)):su(s);break;default:su(s)}}function Md(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ln=u,l_(u,s)}a_(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:ma(8,r,r.return),Md(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Md(r));break;default:Md(r)}s=s.sibling}}function l_(s,r){for(;Ln!==null;){var o=Ln;switch(o.tag){case 0:case 11:case 15:ma(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Bc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ln=u;else e:for(o=s;Ln!==null;){u=Ln;var p=u.sibling,y=u.return;if(Jw(u),u===o){Ln=null;break e}if(p!==null){p.return=y,Ln=p;break e}Ln=y}}}var RD={getCacheForType:function(s){var r=$n(vn),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return $n(vn).controller.signal}},ND=typeof WeakMap=="function"?WeakMap:Map,pt=0,It=null,Je=null,tt=0,_t=0,qi=null,pa=!1,Al=!1,Ig=!1,Cr=0,ln=0,ga=0,Co=0,Dg=0,Hi=0,Cl=0,ru=null,Di=null,kg=!1,Pd=0,c_=0,Od=1/0,Vd=null,ya=null,Rn=0,va=null,Rl=null,Rr=0,Mg=0,Pg=null,u_=null,au=0,Og=null;function Gi(){return(pt&2)!==0&&tt!==0?tt&-tt:J.T!==null?Bg():Jn()}function h_(){if(Hi===0)if((tt&536870912)===0||lt){var s=Ti;Ti<<=1,(Ti&3932160)===0&&(Ti=262144),Hi=s}else Hi=536870912;return s=Bi.current,s!==null&&(s.flags|=32),Hi}function ki(s,r,o){(s===It&&(_t===2||_t===9)||s.cancelPendingCommit!==null)&&(Nl(s,0),ba(s,tt,Hi,!1)),Qn(s,o),((pt&2)===0||s!==It)&&(s===It&&((pt&2)===0&&(Co|=o),ln===4&&ba(s,tt,Hi,!1)),Xs(s))}function d_(s,r,o){if((pt&6)!==0)throw Error(i(327));var u=!o&&(r&127)===0&&(r&s.expiredLanes)===0||zt(s,r),p=u?kD(s,r):jg(s,r,!0),y=u;do{if(p===0){Al&&!u&&ba(s,r,0,!1);break}else{if(o=s.current.alternate,y&&!ID(o)){p=jg(s,r,!1),y=!1;continue}if(p===2){if(y=r,s.errorRecoveryDisabledLanes&y)var _=0;else _=s.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var R=s;p=ru;var F=R.current.memoizedState.isDehydrated;if(F&&(Nl(R,_).flags|=256),_=jg(R,_,!1),_!==2){if(Ig&&!F){R.errorRecoveryDisabledLanes|=y,Co|=y,p=4;break e}y=Di,Di=p,y!==null&&(Di===null?Di=y:Di.push.apply(Di,y))}p=_}if(y=!1,p!==2)continue}}if(p===1){Nl(s,0),ba(s,r,0,!0);break}e:{switch(u=s,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:ba(u,r,Hi,!pa);break e;case 2:Di=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(p=Pd+300-Ut(),10<p)){if(ba(u,r,Hi,!pa),kt(u,0,!0)!==0)break e;Rr=r,u.timeoutHandle=q_(f_.bind(null,u,o,Di,Vd,kg,r,Hi,Co,Cl,pa,y,"Throttled",-0,0),p);break e}f_(u,o,Di,Vd,kg,r,Hi,Co,Cl,pa,y,null,-0,0)}}break}while(!0);Xs(s)}function f_(s,r,o,u,p,y,_,R,F,ie,ce,de,re,le){if(s.timeoutHandle=-1,de=r.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vs},r_(r,y,de);var Re=(y&62914560)===y?Pd-Ut():(y&4194048)===y?c_-Ut():0;if(Re=mk(de,Re),Re!==null){Rr=y,s.cancelPendingCommit=Re(w_.bind(null,s,r,y,o,u,p,_,R,F,ce,de,null,re,le)),ba(s,y,_,!ie);return}}w_(s,r,y,o,u,p,_,R,F)}function ID(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],y=p.getSnapshot;p=p.value;try{if(!Ui(y(),p))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ba(s,r,o,u){r&=~Dg,r&=~Co,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var p=r;0<p;){var y=31-St(p),_=1<<y;u[y]=-1,p&=~_}o!==0&&Vn(s,o,r)}function jd(){return(pt&6)===0?(ou(0),!1):!0}function Vg(){if(Je!==null){if(_t===0)var s=Je.return;else s=Je,yr=vo=null,Jp(s),bl=null,qc=0,s=Je;for(;s!==null;)Hw(s.alternate,s),s=s.return;Je=null}}function Nl(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,WD(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Rr=0,Vg(),It=s,Je=o=pr(s.current,null),tt=r,_t=0,qi=null,pa=!1,Al=zt(s,r),Ig=!1,Cl=Hi=Dg=Co=ga=ln=0,Di=ru=null,kg=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var p=31-St(u),y=1<<p;r|=s[p],u&=~y}return Cr=r,sd(),o}function m_(s,r){Ye=null,J.H=Qc,r===vl||r===dd?(r=Ix(),_t=3):r===zp?(r=Ix(),_t=4):_t=r===mg?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,qi=r,Je===null&&(ln=1,Ad(s,es(r,s.current)))}function p_(){var s=Bi.current;return s===null?!0:(tt&4194048)===tt?ss===null:(tt&62914560)===tt||(tt&536870912)!==0?s===ss:!1}function g_(){var s=J.H;return J.H=Qc,s===null?Qc:s}function y_(){var s=J.A;return J.A=RD,s}function Ld(){ln=4,pa||(tt&4194048)!==tt&&Bi.current!==null||(Al=!0),(ga&134217727)===0&&(Co&134217727)===0||It===null||ba(It,tt,Hi,!1)}function jg(s,r,o){var u=pt;pt|=2;var p=g_(),y=y_();(It!==s||tt!==r)&&(Vd=null,Nl(s,r)),r=!1;var _=ln;e:do try{if(_t!==0&&Je!==null){var R=Je,F=qi;switch(_t){case 8:Vg(),_=6;break e;case 3:case 2:case 9:case 6:Bi.current===null&&(r=!0);var ie=_t;if(_t=0,qi=null,Il(s,R,F,ie),o&&Al){_=0;break e}break;default:ie=_t,_t=0,qi=null,Il(s,R,F,ie)}}DD(),_=ln;break}catch(ce){m_(s,ce)}while(!0);return r&&s.shellSuspendCounter++,yr=vo=null,pt=u,J.H=p,J.A=y,Je===null&&(It=null,tt=0,sd()),_}function DD(){for(;Je!==null;)v_(Je)}function kD(s,r){var o=pt;pt|=2;var u=g_(),p=y_();It!==s||tt!==r?(Vd=null,Od=Ut()+500,Nl(s,r)):Al=zt(s,r);e:do try{if(_t!==0&&Je!==null){r=Je;var y=qi;t:switch(_t){case 1:_t=0,qi=null,Il(s,r,y,1);break;case 2:case 9:if(Rx(y)){_t=0,qi=null,b_(r);break}r=function(){_t!==2&&_t!==9||It!==s||(_t=7),Xs(s)},y.then(r,r);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:Rx(y)?(_t=0,qi=null,b_(r)):(_t=0,qi=null,Il(s,r,y,7));break;case 5:var _=null;switch(Je.tag){case 26:_=Je.memoizedState;case 5:case 27:var R=Je;if(_?s1(_):R.stateNode.complete){_t=0,qi=null;var F=R.sibling;if(F!==null)Je=F;else{var ie=R.return;ie!==null?(Je=ie,Ud(ie)):Je=null}break t}}_t=0,qi=null,Il(s,r,y,5);break;case 6:_t=0,qi=null,Il(s,r,y,6);break;case 8:Vg(),ln=6;break e;default:throw Error(i(462))}}MD();break}catch(ce){m_(s,ce)}while(!0);return yr=vo=null,J.H=u,J.A=p,pt=o,Je!==null?0:(It=null,tt=0,sd(),ln)}function MD(){for(;Je!==null&&!sn();)v_(Je)}function v_(s){var r=Fw(s.alternate,s,Cr);s.memoizedProps=s.pendingProps,r===null?Ud(s):Je=r}function b_(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=Vw(o,r,r.pendingProps,r.type,void 0,tt);break;case 11:r=Vw(o,r,r.pendingProps,r.type.render,r.ref,tt);break;case 5:Jp(r);default:Hw(o,r),r=Je=yx(r,Cr),r=Fw(o,r,Cr)}s.memoizedProps=s.pendingProps,r===null?Ud(s):Je=r}function Il(s,r,o,u){yr=vo=null,Jp(r),bl=null,qc=0;var p=r.return;try{if(wD(s,p,r,o,tt)){ln=1,Ad(s,es(o,s.current)),Je=null;return}}catch(y){if(p!==null)throw Je=p,y;ln=1,Ad(s,es(o,s.current)),Je=null;return}r.flags&32768?(lt||u===1?s=!0:Al||(tt&536870912)!==0?s=!1:(pa=s=!0,(u===2||u===9||u===3||u===6)&&(u=Bi.current,u!==null&&u.tag===13&&(u.flags|=16384))),x_(r,s)):Ud(r)}function Ud(s){var r=s;do{if((r.flags&32768)!==0){x_(r,pa);return}s=r.return;var o=ED(r.alternate,r,Cr);if(o!==null){Je=o;return}if(r=r.sibling,r!==null){Je=r;return}Je=r=s}while(r!==null);ln===0&&(ln=5)}function x_(s,r){do{var o=SD(s.alternate,s);if(o!==null){o.flags&=32767,Je=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Je=s;return}Je=s=o}while(s!==null);ln=6,Je=null}function w_(s,r,o,u,p,y,_,R,F){s.cancelPendingCommit=null;do zd();while(Rn!==0);if((pt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(y=r.lanes|r.childLanes,y|=Sp,Wt(s,o,y,_,R,F),s===It&&(Je=It=null,tt=0),Rl=r,va=s,Rr=o,Mg=y,Pg=p,u_=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,jD(Dt,function(){return A_(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=J.T,J.T=null,p=X.p,X.p=2,_=pt,pt|=4;try{AD(s,r,o)}finally{pt=_,X.p=p,J.T=u}}Rn=1,__(),T_(),E_()}}function __(){if(Rn===1){Rn=0;var s=va,r=Rl,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var u=X.p;X.p=2;var p=pt;pt|=4;try{n_(r,s);var y=Xg,_=lx(s.containerInfo),R=y.focusedElem,F=y.selectionRange;if(_!==R&&R&&R.ownerDocument&&ox(R.ownerDocument.documentElement,R)){if(F!==null&&xp(R)){var ie=F.start,ce=F.end;if(ce===void 0&&(ce=ie),"selectionStart"in R)R.selectionStart=ie,R.selectionEnd=Math.min(ce,R.value.length);else{var de=R.ownerDocument||document,re=de&&de.defaultView||window;if(re.getSelection){var le=re.getSelection(),Re=R.textContent.length,Oe=Math.min(F.start,Re),Nt=F.end===void 0?Oe:Math.min(F.end,Re);!le.extend&&Oe>Nt&&(_=Nt,Nt=Oe,Oe=_);var W=ax(R,Oe),G=ax(R,Nt);if(W&&G&&(le.rangeCount!==1||le.anchorNode!==W.node||le.anchorOffset!==W.offset||le.focusNode!==G.node||le.focusOffset!==G.offset)){var te=de.createRange();te.setStart(W.node,W.offset),le.removeAllRanges(),Oe>Nt?(le.addRange(te),le.extend(G.node,G.offset)):(te.setEnd(G.node,G.offset),le.addRange(te))}}}}for(de=[],le=R;le=le.parentNode;)le.nodeType===1&&de.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<de.length;R++){var he=de[R];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}Jd=!!Yg,Xg=Yg=null}finally{pt=p,X.p=u,J.T=o}}s.current=r,Rn=2}}function T_(){if(Rn===2){Rn=0;var s=va,r=Rl,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var u=X.p;X.p=2;var p=pt;pt|=4;try{Qw(s,r.alternate,r)}finally{pt=p,X.p=u,J.T=o}}Rn=3}}function E_(){if(Rn===4||Rn===3){Rn=0,ci();var s=va,r=Rl,o=Rr,u=u_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Rn=5:(Rn=0,Rl=va=null,S_(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(ya=null),Jt(o),r=r.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Pn,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=J.T,p=X.p,X.p=2,J.T=null;try{for(var y=s.onRecoverableError,_=0;_<u.length;_++){var R=u[_];y(R.value,{componentStack:R.stack})}}finally{J.T=r,X.p=p}}(Rr&3)!==0&&zd(),Xs(s),p=s.pendingLanes,(o&261930)!==0&&(p&42)!==0?s===Og?au++:(au=0,Og=s):au=0,ou(0)}}function S_(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Bc(r)))}function zd(){return __(),T_(),E_(),A_()}function A_(){if(Rn!==5)return!1;var s=va,r=Mg;Mg=0;var o=Jt(Rr),u=J.T,p=X.p;try{X.p=32>o?32:o,J.T=null,o=Pg,Pg=null;var y=va,_=Rr;if(Rn=0,Rl=va=null,Rr=0,(pt&6)!==0)throw Error(i(331));var R=pt;if(pt|=4,o_(y.current),s_(y,y.current,_,o),pt=R,ou(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Pn,y)}catch{}return!0}finally{X.p=p,J.T=u,S_(s,r)}}function C_(s,r,o){r=es(o,r),r=fg(s.stateNode,r,2),s=ha(s,r,2),s!==null&&(Qn(s,2),Xs(s))}function Tt(s,r,o){if(s.tag===3)C_(s,s,o);else for(;r!==null;){if(r.tag===3){C_(r,s,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ya===null||!ya.has(u))){s=es(o,s),o=Rw(2),u=ha(r,o,2),u!==null&&(Nw(o,u,r,s),Qn(u,2),Xs(u));break}}r=r.return}}function Lg(s,r,o){var u=s.pingCache;if(u===null){u=s.pingCache=new ND;var p=new Set;u.set(r,p)}else p=u.get(r),p===void 0&&(p=new Set,u.set(r,p));p.has(o)||(Ig=!0,p.add(o),s=PD.bind(null,s,r,o),r.then(s,s))}function PD(s,r,o){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,It===s&&(tt&o)===o&&(ln===4||ln===3&&(tt&62914560)===tt&&300>Ut()-Pd?(pt&2)===0&&Nl(s,0):Dg|=o,Cl===tt&&(Cl=0)),Xs(s)}function R_(s,r){r===0&&(r=gn()),s=po(s,r),s!==null&&(Qn(s,r),Xs(s))}function OD(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),R_(s,o)}function VD(s,r){var o=0;switch(s.tag){case 31:case 13:var u=s.stateNode,p=s.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),R_(s,o)}function jD(s,r){return $e(s,r)}var Bd=null,Dl=null,Ug=!1,Fd=!1,zg=!1,xa=0;function Xs(s){s!==Dl&&s.next===null&&(Dl===null?Bd=Dl=s:Dl=Dl.next=s),Fd=!0,Ug||(Ug=!0,UD())}function ou(s,r){if(!zg&&Fd){zg=!0;do for(var o=!1,u=Bd;u!==null;){if(s!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var _=u.suspendedLanes,R=u.pingedLanes;y=(1<<31-St(42|s)+1)-1,y&=p&~(_&~R),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,k_(u,y))}else y=tt,y=kt(u,u===It?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||zt(u,y)||(o=!0,k_(u,y));u=u.next}while(o);zg=!1}}function LD(){N_()}function N_(){Fd=Ug=!1;var s=0;xa!==0&&XD()&&(s=xa);for(var r=Ut(),o=null,u=Bd;u!==null;){var p=u.next,y=I_(u,r);y===0?(u.next=null,o===null?Bd=p:o.next=p,p===null&&(Dl=o)):(o=u,(s!==0||(y&3)!==0)&&(Fd=!0)),u=p}Rn!==0&&Rn!==5||ou(s),xa!==0&&(xa=0)}function I_(s,r){for(var o=s.suspendedLanes,u=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var _=31-St(y),R=1<<_,F=p[_];F===-1?((R&o)===0||(R&u)!==0)&&(p[_]=rn(R,r)):F<=r&&(s.expiredLanes|=R),y&=~R}if(r=It,o=tt,o=kt(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,o===0||s===r&&(_t===2||_t===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Cn(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||zt(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(u!==null&&Cn(u),Jt(o)){case 2:case 8:o=Mn;break;case 32:o=Dt;break;case 268435456:o=wi;break;default:o=Dt}return u=D_.bind(null,s),o=$e(o,u),s.callbackPriority=r,s.callbackNode=o,r}return u!==null&&u!==null&&Cn(u),s.callbackPriority=2,s.callbackNode=null,2}function D_(s,r){if(Rn!==0&&Rn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(zd()&&s.callbackNode!==o)return null;var u=tt;return u=kt(s,s===It?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(d_(s,u,r),I_(s,Ut()),s.callbackNode!=null&&s.callbackNode===o?D_.bind(null,s):null)}function k_(s,r){if(zd())return null;d_(s,r,!0)}function UD(){QD(function(){(pt&6)!==0?$e(xi,LD):N_()})}function Bg(){if(xa===0){var s=gl;s===0&&(s=_i,_i<<=1,(_i&261888)===0&&(_i=256)),xa=s}return xa}function M_(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:tl(""+s)}function P_(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function zD(s,r,o,u,p){if(r==="submit"&&o&&o.stateNode===p){var y=M_((p[ut]||null).action),_=u.submitter;_&&(r=(r=_[ut]||null)?M_(r.formAction):_.getAttribute("formAction"),r!==null&&(y=r,_=null));var R=new Fs("action","action",null,u,p);s.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(xa!==0){var F=_?P_(p,_):new FormData(p);og(o,{pending:!0,data:F,method:p.method,action:y},null,F)}}else typeof y=="function"&&(R.preventDefault(),F=_?P_(p,_):new FormData(p),og(o,{pending:!0,data:F,method:p.method,action:y},y,F))},currentTarget:p}]})}}for(var Fg=0;Fg<Ep.length;Fg++){var qg=Ep[Fg],BD=qg.toLowerCase(),FD=qg[0].toUpperCase()+qg.slice(1);Ts(BD,"on"+FD)}Ts(hx,"onAnimationEnd"),Ts(dx,"onAnimationIteration"),Ts(fx,"onAnimationStart"),Ts("dblclick","onDoubleClick"),Ts("focusin","onFocus"),Ts("focusout","onBlur"),Ts(sD,"onTransitionRun"),Ts(rD,"onTransitionStart"),Ts(aD,"onTransitionCancel"),Ts(mx,"onTransitionEnd"),Xi("onMouseEnter",["mouseout","mouseover"]),Xi("onMouseLeave",["mouseout","mouseover"]),Xi("onPointerEnter",["pointerout","pointerover"]),Xi("onPointerLeave",["pointerout","pointerover"]),Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Li("onBeforeInput",["compositionend","keypress","textInput","paste"]),Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lu));function O_(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],p=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var _=u.length-1;0<=_;_--){var R=u[_],F=R.instance,ie=R.currentTarget;if(R=R.listener,F!==y&&p.isPropagationStopped())break e;y=R,p.currentTarget=ie;try{y(p)}catch(ce){id(ce)}p.currentTarget=null,y=F}else for(_=0;_<u.length;_++){if(R=u[_],F=R.instance,ie=R.currentTarget,R=R.listener,F!==y&&p.isPropagationStopped())break e;y=R,p.currentTarget=ie;try{y(p)}catch(ce){id(ce)}p.currentTarget=null,y=F}}}}function Ze(s,r){var o=r[Zn];o===void 0&&(o=r[Zn]=new Set);var u=s+"__bubble";o.has(u)||(V_(r,s,2,!1),o.add(u))}function Hg(s,r,o){var u=0;r&&(u|=4),V_(o,s,u,r)}var qd="_reactListening"+Math.random().toString(36).slice(2);function Gg(s){if(!s[qd]){s[qd]=!0,to.forEach(function(o){o!=="selectionchange"&&(qD.has(o)||Hg(o,!1,s),Hg(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[qd]||(r[qd]=!0,Hg("selectionchange",!1,r))}}function V_(s,r,o,u){switch(h1(r)){case 2:var p=yk;break;case 8:p=vk;break;default:p=ay}o=p.bind(null,r,o,s),p=void 0,!ao||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),u?p!==void 0?s.addEventListener(r,o,{capture:!0,passive:p}):s.addEventListener(r,o,!0):p!==void 0?s.addEventListener(r,o,{passive:p}):s.addEventListener(r,o,!1)}function $g(s,r,o,u,p){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var R=u.stateNode.containerInfo;if(R===p)break;if(_===4)for(_=u.return;_!==null;){var F=_.tag;if((F===3||F===4)&&_.stateNode.containerInfo===p)return;_=_.return}for(;R!==null;){if(_=ji(R),_===null)return;if(F=_.tag,F===5||F===6||F===26||F===27){u=y=_;continue e}R=R.parentNode}}u=u.return}ta(function(){var ie=y,ce=Wi(o),de=[];e:{var re=px.get(s);if(re!==void 0){var le=Fs,Re=s;switch(s){case"keypress":if(lo(o)===0)break e;case"keydown":case"keyup":le=ed;break;case"focusin":Re="focus",le=uo;break;case"focusout":Re="blur",le=uo;break;case"beforeblur":case"afterblur":le=uo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Mc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Gh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=w;break;case hx:case dx:case fx:le=Kh;break;case mx:le=M;break;case"scroll":case"scrollend":le=kc;break;case"wheel":le=ae;break;case"copy":case"cut":case"paste":le=Yh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=mr;break;case"toggle":case"beforetoggle":le=Ke}var Oe=(r&4)!==0,Nt=!Oe&&(s==="scroll"||s==="scrollend"),W=Oe?re!==null?re+"Capture":null:re;Oe=[];for(var G=ie,te;G!==null;){var he=G;if(te=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||te===null||W===null||(he=bs(G,W),he!=null&&Oe.push(cu(G,he,te))),Nt)break;G=G.return}0<Oe.length&&(re=new le(re,Re,null,o,ce),de.push({event:re,listeners:Oe}))}}if((r&7)===0){e:{if(re=s==="mouseover"||s==="pointerover",le=s==="mouseout"||s==="pointerout",re&&o!==Nc&&(Re=o.relatedTarget||o.fromElement)&&(ji(Re)||Re[hi]))break e;if((le||re)&&(re=ce.window===ce?ce:(re=ce.ownerDocument)?re.defaultView||re.parentWindow:window,le?(Re=o.relatedTarget||o.toElement,le=ie,Re=Re?ji(Re):null,Re!==null&&(Nt=l(Re),Oe=Re.tag,Re!==Nt||Oe!==5&&Oe!==27&&Oe!==6)&&(Re=null)):(le=null,Re=ie),le!==Re)){if(Oe=Mc,he="onMouseLeave",W="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(Oe=mr,he="onPointerLeave",W="onPointerEnter",G="pointer"),Nt=le==null?re:ei(le),te=Re==null?re:ei(Re),re=new Oe(he,G+"leave",le,o,ce),re.target=Nt,re.relatedTarget=te,he=null,ji(ce)===ie&&(Oe=new Oe(W,G+"enter",Re,o,ce),Oe.target=te,Oe.relatedTarget=Nt,he=Oe),Nt=he,le&&Re)t:{for(Oe=HD,W=le,G=Re,te=0,he=W;he;he=Oe(he))te++;he=0;for(var Pe=G;Pe;Pe=Oe(Pe))he++;for(;0<te-he;)W=Oe(W),te--;for(;0<he-te;)G=Oe(G),he--;for(;te--;){if(W===G||G!==null&&W===G.alternate){Oe=W;break t}W=Oe(W),G=Oe(G)}Oe=null}else Oe=null;le!==null&&j_(de,re,le,Oe,!1),Re!==null&&Nt!==null&&j_(de,Nt,Re,Oe,!0)}}e:{if(re=ie?ei(ie):window,le=re.nodeName&&re.nodeName.toLowerCase(),le==="select"||le==="input"&&re.type==="file")var dt=ex;else if(Jb(re))if(tx)dt=tD;else{dt=ZI;var De=JI}else le=re.nodeName,!le||le.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ie&&el(ie.elementType)&&(dt=ex):dt=eD;if(dt&&(dt=dt(s,ie))){Zb(de,dt,o,ce);break e}De&&De(s,re,ie),s==="focusout"&&ie&&re.type==="number"&&ie.memoizedProps.value!=null&&Ac(re,"number",re.value)}switch(De=ie?ei(ie):window,s){case"focusin":(Jb(De)||De.contentEditable==="true")&&(ll=De,wp=ie,Lc=null);break;case"focusout":Lc=wp=ll=null;break;case"mousedown":_p=!0;break;case"contextmenu":case"mouseup":case"dragend":_p=!1,cx(de,o,ce);break;case"selectionchange":if(iD)break;case"keydown":case"keyup":cx(de,o,ce)}var Xe;if(mt)e:{switch(s){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else ol?ho(s,o)&&(nt="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(nt="onCompositionStart");nt&&(Gs&&o.locale!=="ko"&&(ol||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&ol&&(Xe=Dc()):(Bs=ce,Ic="value"in Bs?Bs.value:Bs.textContent,ol=!0)),De=Hd(ie,nt),0<De.length&&(nt=new Hs(nt,s,null,o,ce),de.push({event:nt,listeners:De}),Xe?nt.data=Xe:(Xe=al(o),Xe!==null&&(nt.data=Xe)))),(Xe=Ji?YI(s,o):XI(s,o))&&(nt=Hd(ie,"onBeforeInput"),0<nt.length&&(De=new Hs("onBeforeInput","beforeinput",null,o,ce),de.push({event:De,listeners:nt}),De.data=Xe)),zD(de,s,ie,o,ce)}O_(de,r)})}function cu(s,r,o){return{instance:s,listener:r,currentTarget:o}}function Hd(s,r){for(var o=r+"Capture",u=[];s!==null;){var p=s,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=bs(s,o),p!=null&&u.unshift(cu(s,p,y)),p=bs(s,r),p!=null&&u.push(cu(s,p,y))),s.tag===3)return u;s=s.return}return[]}function HD(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function j_(s,r,o,u,p){for(var y=r._reactName,_=[];o!==null&&o!==u;){var R=o,F=R.alternate,ie=R.stateNode;if(R=R.tag,F!==null&&F===u)break;R!==5&&R!==26&&R!==27||ie===null||(F=ie,p?(ie=bs(o,y),ie!=null&&_.unshift(cu(o,ie,F))):p||(ie=bs(o,y),ie!=null&&_.push(cu(o,ie,F)))),o=o.return}_.length!==0&&s.push({event:r,listeners:_})}var GD=/\r\n?/g,$D=/\u0000|\uFFFD/g;function L_(s){return(typeof s=="string"?s:""+s).replace(GD,`
`).replace($D,"")}function U_(s,r){return r=L_(r),L_(s)===r}function Rt(s,r,o,u,p,y){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Ci(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Ci(s,""+u);break;case"className":di(s,"class",u);break;case"tabIndex":di(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":di(s,o,u);break;case"style":Rc(s,u,y);break;case"data":if(r!=="object"){di(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=tl(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&Rt(s,r,"name",p.name,p,null),Rt(s,r,"formEncType",p.formEncType,p,null),Rt(s,r,"formMethod",p.formMethod,p,null),Rt(s,r,"formTarget",p.formTarget,p,null)):(Rt(s,r,"encType",p.encType,p,null),Rt(s,r,"method",p.method,p,null),Rt(s,r,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=tl(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=vs);break;case"onScroll":u!=null&&Ze("scroll",s);break;case"onScrollEnd":u!=null&&Ze("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=tl(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":Ze("beforetoggle",s),Ze("toggle",s),hr(s,"popover",u);break;case"xlinkActuate":Q(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Q(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Q(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Q(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Q(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Q(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Q(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Q(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Q(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":hr(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Hh.get(o)||o,hr(s,o,u))}}function Kg(s,r,o,u,p,y){switch(o){case"style":Rc(s,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof u=="string"?Ci(s,u):(typeof u=="number"||typeof u=="bigint")&&Ci(s,""+u);break;case"onScroll":u!=null&&Ze("scroll",s);break;case"onScrollEnd":u!=null&&Ze("scrollend",s);break;case"onClick":u!=null&&(s.onclick=vs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!no.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),r=o.slice(2,p?o.length-7:void 0),y=s[ut]||null,y=y!=null?y[o]:null,typeof y=="function"&&s.removeEventListener(r,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,u,p);break e}o in s?s[o]=u:u===!0?s.setAttribute(o,""):hr(s,o,u)}}}function Yn(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",s),Ze("load",s);var u=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var _=o[y];if(_!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Rt(s,r,y,_,o,null)}}p&&Rt(s,r,"srcSet",o.srcSet,o,null),u&&Rt(s,r,"src",o.src,o,null);return;case"input":Ze("invalid",s);var R=y=_=p=null,F=null,ie=null;for(u in o)if(o.hasOwnProperty(u)){var ce=o[u];if(ce!=null)switch(u){case"name":p=ce;break;case"type":_=ce;break;case"checked":F=ce;break;case"defaultChecked":ie=ce;break;case"value":y=ce;break;case"defaultValue":R=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(i(137,r));break;default:Rt(s,r,u,ce,o,null)}}Bh(s,y,R,F,ie,_,p,!1);return;case"select":Ze("invalid",s),u=_=y=null;for(p in o)if(o.hasOwnProperty(p)&&(R=o[p],R!=null))switch(p){case"value":y=R;break;case"defaultValue":_=R;break;case"multiple":u=R;default:Rt(s,r,p,R,o,null)}r=y,o=_,s.multiple=!!u,r!=null?Qr(s,!!u,r,!1):o!=null&&Qr(s,!!u,o,!0);return;case"textarea":Ze("invalid",s),y=p=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(R=o[_],R!=null))switch(_){case"value":u=R;break;case"defaultValue":p=R;break;case"children":y=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:Rt(s,r,_,R,o,null)}Jr(s,u,p,y);return;case"option":for(F in o)o.hasOwnProperty(F)&&(u=o[F],u!=null)&&(F==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":Rt(s,r,F,u,o,null));return;case"dialog":Ze("beforetoggle",s),Ze("toggle",s),Ze("cancel",s),Ze("close",s);break;case"iframe":case"object":Ze("load",s);break;case"video":case"audio":for(u=0;u<lu.length;u++)Ze(lu[u],s);break;case"image":Ze("error",s),Ze("load",s);break;case"details":Ze("toggle",s);break;case"embed":case"source":case"link":Ze("error",s),Ze("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in o)if(o.hasOwnProperty(ie)&&(u=o[ie],u!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Rt(s,r,ie,u,o,null)}return;default:if(el(r)){for(ce in o)o.hasOwnProperty(ce)&&(u=o[ce],u!==void 0&&Kg(s,r,ce,u,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(u=o[R],u!=null&&Rt(s,r,R,u,o,null))}function KD(s,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,_=null,R=null,F=null,ie=null,ce=null;for(le in o){var de=o[le];if(o.hasOwnProperty(le)&&de!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":F=de;default:u.hasOwnProperty(le)||Rt(s,r,le,null,u,de)}}for(var re in u){var le=u[re];if(de=o[re],u.hasOwnProperty(re)&&(le!=null||de!=null))switch(re){case"type":y=le;break;case"name":p=le;break;case"checked":ie=le;break;case"defaultChecked":ce=le;break;case"value":_=le;break;case"defaultValue":R=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,r));break;default:le!==de&&Rt(s,r,re,le,u,de)}}Zo(s,_,R,F,ie,ce,y,p);return;case"select":le=_=R=re=null;for(y in o)if(F=o[y],o.hasOwnProperty(y)&&F!=null)switch(y){case"value":break;case"multiple":le=F;default:u.hasOwnProperty(y)||Rt(s,r,y,null,u,F)}for(p in u)if(y=u[p],F=o[p],u.hasOwnProperty(p)&&(y!=null||F!=null))switch(p){case"value":re=y;break;case"defaultValue":R=y;break;case"multiple":_=y;default:y!==F&&Rt(s,r,p,y,u,F)}r=R,o=_,u=le,re!=null?Qr(s,!!o,re,!1):!!u!=!!o&&(r!=null?Qr(s,!!o,r,!0):Qr(s,!!o,o?[]:"",!1));return;case"textarea":le=re=null;for(R in o)if(p=o[R],o.hasOwnProperty(R)&&p!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Rt(s,r,R,null,u,p)}for(_ in u)if(p=u[_],y=o[_],u.hasOwnProperty(_)&&(p!=null||y!=null))switch(_){case"value":re=p;break;case"defaultValue":le=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&Rt(s,r,_,p,u,y)}Fh(s,re,le);return;case"option":for(var Re in o)re=o[Re],o.hasOwnProperty(Re)&&re!=null&&!u.hasOwnProperty(Re)&&(Re==="selected"?s.selected=!1:Rt(s,r,Re,null,u,re));for(F in u)re=u[F],le=o[F],u.hasOwnProperty(F)&&re!==le&&(re!=null||le!=null)&&(F==="selected"?s.selected=re&&typeof re!="function"&&typeof re!="symbol":Rt(s,r,F,re,u,le));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in o)re=o[Oe],o.hasOwnProperty(Oe)&&re!=null&&!u.hasOwnProperty(Oe)&&Rt(s,r,Oe,null,u,re);for(ie in u)if(re=u[ie],le=o[ie],u.hasOwnProperty(ie)&&re!==le&&(re!=null||le!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,r));break;default:Rt(s,r,ie,re,u,le)}return;default:if(el(r)){for(var Nt in o)re=o[Nt],o.hasOwnProperty(Nt)&&re!==void 0&&!u.hasOwnProperty(Nt)&&Kg(s,r,Nt,void 0,u,re);for(ce in u)re=u[ce],le=o[ce],!u.hasOwnProperty(ce)||re===le||re===void 0&&le===void 0||Kg(s,r,ce,re,u,le);return}}for(var W in o)re=o[W],o.hasOwnProperty(W)&&re!=null&&!u.hasOwnProperty(W)&&Rt(s,r,W,null,u,re);for(de in u)re=u[de],le=o[de],!u.hasOwnProperty(de)||re===le||re==null&&le==null||Rt(s,r,de,re,u,le)}function z_(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YD(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var p=o[u],y=p.transferSize,_=p.initiatorType,R=p.duration;if(y&&R&&z_(_)){for(_=0,R=p.responseEnd,u+=1;u<o.length;u++){var F=o[u],ie=F.startTime;if(ie>R)break;var ce=F.transferSize,de=F.initiatorType;ce&&z_(de)&&(F=F.responseEnd,_+=ce*(F<R?1:(R-ie)/(F-ie)))}if(--u,r+=8*(y+_)/(p.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Yg=null,Xg=null;function Gd(s){return s.nodeType===9?s:s.ownerDocument}function B_(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function F_(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Wg(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Qg=null;function XD(){var s=window.event;return s&&s.type==="popstate"?s===Qg?!1:(Qg=s,!0):(Qg=null,!1)}var q_=typeof setTimeout=="function"?setTimeout:void 0,WD=typeof clearTimeout=="function"?clearTimeout:void 0,H_=typeof Promise=="function"?Promise:void 0,QD=typeof queueMicrotask=="function"?queueMicrotask:typeof H_<"u"?function(s){return H_.resolve(null).then(s).catch(JD)}:q_;function JD(s){setTimeout(function(){throw s})}function wa(s){return s==="head"}function G_(s,r){var o=r,u=0;do{var p=o.nextSibling;if(s.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(u===0){s.removeChild(p),Ol(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")uu(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,uu(o);for(var y=o.firstChild;y;){var _=y.nextSibling,R=y.nodeName;y[Vi]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=_}}else o==="body"&&uu(s.ownerDocument.body);o=p}while(o);Ol(r)}function $_(s,r){var o=s;s=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=u}while(o)}function Jg(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Jg(o),Wr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function ZD(s,r,o,u){for(;s.nodeType===1;){var p=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Vi])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=rs(s.nextSibling),s===null)break}return null}function ek(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=rs(s.nextSibling),s===null))return null;return s}function K_(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=rs(s.nextSibling),s===null))return null;return s}function Zg(s){return s.data==="$?"||s.data==="$~"}function ey(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function tk(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function rs(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var ty=null;function Y_(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return rs(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function X_(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function W_(s,r,o){switch(r=Gd(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function uu(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Wr(s)}var as=new Map,Q_=new Set;function $d(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Nr=X.d;X.d={f:nk,r:ik,D:sk,C:rk,L:ak,m:ok,X:ck,S:lk,M:uk};function nk(){var s=Nr.f(),r=jd();return s||r}function ik(s){var r=Ei(s);r!==null&&r.tag===5&&r.type==="form"?mw(r):Nr.r(s)}var kl=typeof document>"u"?null:document;function J_(s,r,o){var u=kl;if(u&&typeof r=="string"&&r){var p=Ai(r);p='link[rel="'+s+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Q_.has(p)||(Q_.add(p),s={rel:s,crossOrigin:o,href:r},u.querySelector(p)===null&&(r=u.createElement("link"),Yn(r,"link",s),Zt(r),u.head.appendChild(r)))}}function sk(s){Nr.D(s),J_("dns-prefetch",s,null)}function rk(s,r){Nr.C(s,r),J_("preconnect",s,r)}function ak(s,r,o){Nr.L(s,r,o);var u=kl;if(u&&s&&r){var p='link[rel="preload"][as="'+Ai(r)+'"]';r==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Ai(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Ai(o.imageSizes)+'"]')):p+='[href="'+Ai(s)+'"]';var y=p;switch(r){case"style":y=Ml(s);break;case"script":y=Pl(s)}as.has(y)||(s=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),as.set(y,s),u.querySelector(p)!==null||r==="style"&&u.querySelector(hu(y))||r==="script"&&u.querySelector(du(y))||(r=u.createElement("link"),Yn(r,"link",s),Zt(r),u.head.appendChild(r)))}}function ok(s,r){Nr.m(s,r);var o=kl;if(o&&s){var u=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+Ai(u)+'"][href="'+Ai(s)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Pl(s)}if(!as.has(y)&&(s=b({rel:"modulepreload",href:s},r),as.set(y,s),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(du(y)))return}u=o.createElement("link"),Yn(u,"link",s),Zt(u),o.head.appendChild(u)}}}function lk(s,r,o){Nr.S(s,r,o);var u=kl;if(u&&s){var p=Si(u).hoistableStyles,y=Ml(s);r=r||"default";var _=p.get(y);if(!_){var R={loading:0,preload:null};if(_=u.querySelector(hu(y)))R.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":r},o),(o=as.get(y))&&ny(s,o);var F=_=u.createElement("link");Zt(F),Yn(F,"link",s),F._p=new Promise(function(ie,ce){F.onload=ie,F.onerror=ce}),F.addEventListener("load",function(){R.loading|=1}),F.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Kd(_,r,u)}_={type:"stylesheet",instance:_,count:1,state:R},p.set(y,_)}}}function ck(s,r){Nr.X(s,r);var o=kl;if(o&&s){var u=Si(o).hoistableScripts,p=Pl(s),y=u.get(p);y||(y=o.querySelector(du(p)),y||(s=b({src:s,async:!0},r),(r=as.get(p))&&iy(s,r),y=o.createElement("script"),Zt(y),Yn(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function uk(s,r){Nr.M(s,r);var o=kl;if(o&&s){var u=Si(o).hoistableScripts,p=Pl(s),y=u.get(p);y||(y=o.querySelector(du(p)),y||(s=b({src:s,async:!0,type:"module"},r),(r=as.get(p))&&iy(s,r),y=o.createElement("script"),Zt(y),Yn(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function Z_(s,r,o,u){var p=(p=ye.current)?$d(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Ml(o.href),o=Si(p).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=Ml(o.href);var y=Si(p).hoistableStyles,_=y.get(s);if(_||(p=p.ownerDocument||p,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,_),(y=p.querySelector(hu(s)))&&!y._p&&(_.instance=y,_.state.loading=5),as.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},as.set(s,o),y||hk(p,s,o,_.state))),r&&u===null)throw Error(i(528,""));return _}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Pl(o),o=Si(p).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Ml(s){return'href="'+Ai(s)+'"'}function hu(s){return'link[rel="stylesheet"]['+s+"]"}function e1(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function hk(s,r,o,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Yn(r,"link",o),Zt(r),s.head.appendChild(r))}function Pl(s){return'[src="'+Ai(s)+'"]'}function du(s){return"script[async]"+s}function t1(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+Ai(o.href)+'"]');if(u)return r.instance=u,Zt(u),u;var p=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Zt(u),Yn(u,"style",p),Kd(u,o.precedence,s),r.instance=u;case"stylesheet":p=Ml(o.href);var y=s.querySelector(hu(p));if(y)return r.state.loading|=4,r.instance=y,Zt(y),y;u=e1(o),(p=as.get(p))&&ny(u,p),y=(s.ownerDocument||s).createElement("link"),Zt(y);var _=y;return _._p=new Promise(function(R,F){_.onload=R,_.onerror=F}),Yn(y,"link",u),r.state.loading|=4,Kd(y,o.precedence,s),r.instance=y;case"script":return y=Pl(o.src),(p=s.querySelector(du(y)))?(r.instance=p,Zt(p),p):(u=o,(p=as.get(y))&&(u=b({},o),iy(u,p)),s=s.ownerDocument||s,p=s.createElement("script"),Zt(p),Yn(p,"link",u),s.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Kd(u,o.precedence,s));return r.instance}function Kd(s,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,_=0;_<u.length;_++){var R=u[_];if(R.dataset.precedence===r)y=R;else if(y!==p)break}y?y.parentNode.insertBefore(s,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function ny(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function iy(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Yd=null;function n1(s,r,o){if(Yd===null){var u=new Map,p=Yd=new Map;p.set(o,u)}else p=Yd,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),p=0;p<o.length;p++){var y=o[p];if(!(y[Vi]||y[Ot]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(r)||"";_=s+_;var R=u.get(_);R?R.push(y):u.set(_,[y])}}return u}function i1(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function dk(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function s1(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function fk(s,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Ml(u.href),y=r.querySelector(hu(p));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=Xd.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=y,Zt(y);return}y=r.ownerDocument||r,u=e1(u),(p=as.get(p))&&ny(u,p),y=y.createElement("link"),Zt(y);var _=y;_._p=new Promise(function(R,F){_.onload=R,_.onerror=F}),Yn(y,"link",u),o.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=Xd.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var sy=0;function mk(s,r){return s.stylesheets&&s.count===0&&Qd(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var u=setTimeout(function(){if(s.stylesheets&&Qd(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+r);0<s.imgBytes&&sy===0&&(sy=62500*YD());var p=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Qd(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>sy?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function Xd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Wd=null;function Qd(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Wd=new Map,r.forEach(pk,s),Wd=null,Xd.call(s))}function pk(s,r){if(!(r.state.loading&4)){var o=Wd.get(s);if(o)var u=o.get(null);else{o=new Map,Wd.set(s,o);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var _=p[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}p=r.instance,_=p.getAttribute("data-precedence"),y=o.get(_)||u,y===u&&o.set(null,p),o.set(_,p),this.count++,u=Xd.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),r.state.loading|=4}}var fu={$$typeof:q,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function gk(s,r,o,u,p,y,_,R,F){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xt(0),this.hiddenUpdates=Xt(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function r1(s,r,o,u,p,y,_,R,F,ie,ce,de){return s=new gk(s,r,o,_,F,ie,ce,de,R),r=1,y===!0&&(r|=24),y=zi(3,null,null,r),s.current=y,y.stateNode=s,r=jp(),r.refCount++,s.pooledCache=r,r.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:r},Bp(y),s}function a1(s){return s?(s=hl,s):hl}function o1(s,r,o,u,p,y){p=a1(p),u.context===null?u.context=p:u.pendingContext=p,u=ua(r),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=ha(s,u,r),o!==null&&(ki(o,s,r),Gc(o,s,r))}function l1(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function ry(s,r){l1(s,r),(s=s.alternate)&&l1(s,r)}function c1(s){if(s.tag===13||s.tag===31){var r=po(s,67108864);r!==null&&ki(r,s,67108864),ry(s,67108864)}}function u1(s){if(s.tag===13||s.tag===31){var r=Gi();r=yn(r);var o=po(s,r);o!==null&&ki(o,s,r),ry(s,r)}}var Jd=!0;function yk(s,r,o,u){var p=J.T;J.T=null;var y=X.p;try{X.p=2,ay(s,r,o,u)}finally{X.p=y,J.T=p}}function vk(s,r,o,u){var p=J.T;J.T=null;var y=X.p;try{X.p=8,ay(s,r,o,u)}finally{X.p=y,J.T=p}}function ay(s,r,o,u){if(Jd){var p=oy(u);if(p===null)$g(s,r,u,Zd,o),d1(s,u);else if(xk(p,s,r,o,u))u.stopPropagation();else if(d1(s,u),r&4&&-1<bk.indexOf(s)){for(;p!==null;){var y=Ei(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=xt(y.pendingLanes);if(_!==0){var R=y;for(R.pendingLanes|=2,R.entangledLanes|=2;_;){var F=1<<31-St(_);R.entanglements[1]|=F,_&=~F}Xs(y),(pt&6)===0&&(Od=Ut()+500,ou(0))}}break;case 31:case 13:R=po(y,2),R!==null&&ki(R,y,2),jd(),ry(y,2)}if(y=oy(u),y===null&&$g(s,r,u,Zd,o),y===p)break;p=y}p!==null&&u.stopPropagation()}else $g(s,r,u,null,o)}}function oy(s){return s=Wi(s),ly(s)}var Zd=null;function ly(s){if(Zd=null,s=ji(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=c(r),s!==null)return s;s=null}else if(o===31){if(s=h(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Zd=s,null}function h1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bi()){case xi:return 2;case Mn:return 8;case Dt:case ui:return 32;case wi:return 268435456;default:return 32}default:return 32}}var cy=!1,_a=null,Ta=null,Ea=null,mu=new Map,pu=new Map,Sa=[],bk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function d1(s,r){switch(s){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":mu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":pu.delete(r.pointerId)}}function gu(s,r,o,u,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},r!==null&&(r=Ei(r),r!==null&&c1(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),s)}function xk(s,r,o,u,p){switch(r){case"focusin":return _a=gu(_a,s,r,o,u,p),!0;case"dragenter":return Ta=gu(Ta,s,r,o,u,p),!0;case"mouseover":return Ea=gu(Ea,s,r,o,u,p),!0;case"pointerover":var y=p.pointerId;return mu.set(y,gu(mu.get(y)||null,s,r,o,u,p)),!0;case"gotpointercapture":return y=p.pointerId,pu.set(y,gu(pu.get(y)||null,s,r,o,u,p)),!0}return!1}function f1(s){var r=ji(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){s.blockedOn=r,un(s.priority,function(){u1(o)});return}}else if(r===31){if(r=h(o),r!==null){s.blockedOn=r,un(s.priority,function(){u1(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ef(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=oy(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);Nc=u,o.target.dispatchEvent(u),Nc=null}else return r=Ei(o),r!==null&&c1(r),s.blockedOn=o,!1;r.shift()}return!0}function m1(s,r,o){ef(s)&&o.delete(r)}function wk(){cy=!1,_a!==null&&ef(_a)&&(_a=null),Ta!==null&&ef(Ta)&&(Ta=null),Ea!==null&&ef(Ea)&&(Ea=null),mu.forEach(m1),pu.forEach(m1)}function tf(s,r){s.blockedOn===r&&(s.blockedOn=null,cy||(cy=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,wk)))}var nf=null;function p1(s){nf!==s&&(nf=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){nf===s&&(nf=null);for(var r=0;r<s.length;r+=3){var o=s[r],u=s[r+1],p=s[r+2];if(typeof u!="function"){if(ly(u||o)===null)continue;break}var y=Ei(o);y!==null&&(s.splice(r,3),r-=3,og(y,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function Ol(s){function r(F){return tf(F,s)}_a!==null&&tf(_a,s),Ta!==null&&tf(Ta,s),Ea!==null&&tf(Ea,s),mu.forEach(r),pu.forEach(r);for(var o=0;o<Sa.length;o++){var u=Sa[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Sa.length&&(o=Sa[0],o.blockedOn===null);)f1(o),o.blockedOn===null&&Sa.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],y=o[u+1],_=p[ut]||null;if(typeof y=="function")_||p1(o);else if(_){var R=null;if(y&&y.hasAttribute("formAction")){if(p=y,_=y[ut]||null)R=_.formAction;else if(ly(p)!==null)continue}else R=_.action;typeof R=="function"?o[u+1]=R:(o.splice(u,3),u-=3),p1(o)}}}function g1(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(_){return p=_})},focusReset:"manual",scroll:"manual"})}function r(){p!==null&&(p(),p=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),p!==null&&(p(),p=null)}}}function uy(s){this._internalRoot=s}sf.prototype.render=uy.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=Gi();o1(o,u,s,r,null,null)},sf.prototype.unmount=uy.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;o1(s.current,2,null,s,null,null),jd(),r[hi]=null}};function sf(s){this._internalRoot=s}sf.prototype.unstable_scheduleHydration=function(s){if(s){var r=Jn();s={blockedOn:null,target:s,priority:r};for(var o=0;o<Sa.length&&r!==0&&r<Sa[o].priority;o++);Sa.splice(o,0,s),o===0&&f1(s)}};var y1=e.version;if(y1!=="19.2.3")throw Error(i(527,y1,"19.2.3"));X.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=m(r),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var _k={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rf.isDisabled&&rf.supportsFiber)try{Pn=rf.inject(_k),bt=rf}catch{}}return vu.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,u="",p=Ew,y=Sw,_=Aw;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=r1(s,1,!1,null,null,o,u,null,p,y,_,g1),s[hi]=r.current,Gg(s),new uy(r)},vu.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var u=!1,p="",y=Ew,_=Sw,R=Aw,F=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.formState!==void 0&&(F=o.formState)),r=r1(s,1,!0,r,o??null,u,p,F,y,_,R,g1),r.context=a1(null),o=r.current,u=Gi(),u=yn(u),p=ua(u),p.callback=null,ha(o,p,u),o=u,r.current.lanes=o,Qn(r,o),Xs(r),s[hi]=r.current,Gg(s),new sf(r)},vu.version="19.2.3",vu}var C1;function kk(){if(C1)return fy.exports;C1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fy.exports=Dk(),fy.exports}var Mk=kk();var R1="popstate";function Pk(t={}){function e(i,a){let{pathname:l,search:c,hash:h}=i.location;return i0("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:Xu(a)}return Vk(e,n,null,t)}function $t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ms(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ok(){return Math.random().toString(36).substring(2,10)}function N1(t,e){return{usr:t.state,key:t.key,idx:e}}function i0(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?hc(e):e,state:n,key:e&&e.key||i||Ok()}}function Xu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function hc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function Vk(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,h="POP",d=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function b(){h="POP";let N=g(),B=N==null?null:N-m;m=N,d&&d({action:h,location:I.location,delta:B})}function x(N,B){h="PUSH";let H=i0(I.location,N,B);m=g()+1;let q=N1(H,m),oe=I.createHref(H);try{c.pushState(q,"",oe)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;a.location.assign(oe)}l&&d&&d({action:h,location:I.location,delta:1})}function A(N,B){h="REPLACE";let H=i0(I.location,N,B);m=g();let q=N1(H,m),oe=I.createHref(H);c.replaceState(q,"",oe),l&&d&&d({action:h,location:I.location,delta:0})}function k(N){return jk(N)}let I={get action(){return h},get location(){return t(a,c)},listen(N){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(R1,b),d=N,()=>{a.removeEventListener(R1,b),d=null}},createHref(N){return e(a,N)},createURL:k,encodeLocation(N){let B=k(N);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:x,replace:A,go(N){return c.go(N)}};return I}function jk(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),$t(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Xu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function aA(t,e,n="/"){return Lk(t,e,n,!1)}function Lk(t,e,n,i){let a=typeof e=="string"?hc(e):e,l=Fr(a.pathname||"/",n);if(l==null)return null;let c=oA(t);Uk(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let m=Wk(l);h=Yk(c[d],m,i)}return h}function oA(t,e=[],n=[],i="",a=!1){let l=(c,h,d=a,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&d)return;$t(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let b=jr([i,g.relativePath]),x=n.concat(g);c.children&&c.children.length>0&&($t(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),oA(c.children,e,x,b,d)),!(c.path==null&&!c.index)&&e.push({path:b,score:$k(b,c.index),routesMeta:x})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))l(c,h);else for(let d of lA(c.path))l(c,h,!0,d)}),e}function lA(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=lA(i.join("/")),h=[];return h.push(...c.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...c),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function Uk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Kk(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var zk=/^:[\w-]+$/,Bk=3,Fk=2,qk=1,Hk=10,Gk=-2,I1=t=>t==="*";function $k(t,e){let n=t.split("/"),i=n.length;return n.some(I1)&&(i+=Gk),e&&(i+=Fk),n.filter(a=>!I1(a)).reduce((a,l)=>a+(zk.test(l)?Bk:l===""?qk:Hk),i)}function Kk(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function Yk(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",c=[];for(let h=0;h<i.length;++h){let d=i[h],m=h===i.length-1,g=l==="/"?e:e.slice(l.length)||"/",b=qf({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},g),x=d.route;if(!b&&m&&n&&!i[i.length-1].route.index&&(b=qf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:jr([l,b.pathname]),pathnameBase:eM(jr([l,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(l=jr([l,b.pathnameBase]))}return c}function qf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=Xk(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((m,{paramName:g,isOptional:b},x)=>{if(g==="*"){let k=h[x]||"";c=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const A=h[x];return b&&!A?m[g]=void 0:m[g]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function Xk(t,e=!1,n=!0){ms(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(i.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function Wk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ms(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Fr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var cA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qk=t=>cA.test(t);function Jk(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?hc(t):t,l;if(n)if(Qk(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),ms(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=D1(n.substring(1),"/"):l=D1(n,e)}else l=e;return{pathname:l,search:tM(i),hash:nM(a)}}function D1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function yy(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Zk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rv(t){let e=Zk(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function av(t,e,n,i=!1){let a;typeof t=="string"?a=hc(t):(a={...t},$t(!a.pathname||!a.pathname.includes("?"),yy("?","pathname","search",a)),$t(!a.pathname||!a.pathname.includes("#"),yy("#","pathname","hash",a)),$t(!a.search||!a.search.includes("#"),yy("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=n;else{let b=e.length-1;if(!i&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),b-=1;a.pathname=x.join("/")}h=b>=0?e[b]:"/"}let d=Jk(a,h),m=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||g)&&(d.pathname+="/"),d}var jr=t=>t.join("/").replace(/\/\/+/g,"/"),eM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,iM=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function sM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function rM(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var uA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function hA(t,e){let n=t;if(typeof n!="string"||!cA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,a=!1;if(uA)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),h=Fr(c.pathname,e);c.origin===l.origin&&h!=null?n=h+c.search+c.hash:a=!0}catch{ms(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var dA=["POST","PUT","PATCH","DELETE"];new Set(dA);var aM=["GET",...dA];new Set(aM);var dc=S.createContext(null);dc.displayName="DataRouter";var Pm=S.createContext(null);Pm.displayName="DataRouterState";var oM=S.createContext(!1),fA=S.createContext({isTransitioning:!1});fA.displayName="ViewTransition";var lM=S.createContext(new Map);lM.displayName="Fetchers";var cM=S.createContext(null);cM.displayName="Await";var Yi=S.createContext(null);Yi.displayName="Navigation";var mh=S.createContext(null);mh.displayName="Location";var Ls=S.createContext({outlet:null,matches:[],isDataRoute:!1});Ls.displayName="Route";var ov=S.createContext(null);ov.displayName="RouteError";var mA="REACT_ROUTER_ERROR",uM="REDIRECT",hM="ROUTE_ERROR_RESPONSE";function dM(t){if(t.startsWith(`${mA}:${uM}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function fM(t){if(t.startsWith(`${mA}:${hM}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new iM(e.status,e.statusText,e.data)}catch{}}function mM(t,{relative:e}={}){$t(fc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=S.useContext(Yi),{hash:a,pathname:l,search:c}=ph(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:jr([n,l])),i.createHref({pathname:h,search:c,hash:a})}function fc(){return S.useContext(mh)!=null}function Yr(){return $t(fc(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(mh).location}var pA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gA(t){S.useContext(Yi).static||S.useLayoutEffect(t)}function Om(){let{isDataRoute:t}=S.useContext(Ls);return t?RM():pM()}function pM(){$t(fc(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(dc),{basename:e,navigator:n}=S.useContext(Yi),{matches:i}=S.useContext(Ls),{pathname:a}=Yr(),l=JSON.stringify(rv(i)),c=S.useRef(!1);return gA(()=>{c.current=!0}),S.useCallback((d,m={})=>{if(ms(c.current,pA),!c.current)return;if(typeof d=="number"){n.go(d);return}let g=av(d,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:jr([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,l,a,t])}S.createContext(null);function gM(){let{matches:t}=S.useContext(Ls),e=t[t.length-1];return e?e.params:{}}function ph(t,{relative:e}={}){let{matches:n}=S.useContext(Ls),{pathname:i}=Yr(),a=JSON.stringify(rv(n));return S.useMemo(()=>av(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function yM(t,e){return yA(t,e)}function yA(t,e,n,i,a){$t(fc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=S.useContext(Yi),{matches:c}=S.useContext(Ls),h=c[c.length-1],d=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",b=h&&h.route;{let H=b&&b.path||"";bA(m,!b||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let x=Yr(),A;if(e){let H=typeof e=="string"?hc(e):e;$t(g==="/"||H.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${H.pathname}" was given in the \`location\` prop.`),A=H}else A=x;let k=A.pathname||"/",I=k;if(g!=="/"){let H=g.replace(/^\//,"").split("/");I="/"+k.replace(/^\//,"").split("/").slice(H.length).join("/")}let N=aA(t,{pathname:I});ms(b||N!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),ms(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=_M(N&&N.map(H=>Object.assign({},H,{params:Object.assign({},d,H.params),pathname:jr([g,l.encodeLocation?l.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?g:jr([g,l.encodeLocation?l.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),c,n,i,a);return e&&B?S.createElement(mh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},B):B}function vM(){let t=CM(),e=sM(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:l},"ErrorBoundary")," or"," ",S.createElement("code",{style:l},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:a},n):null,c)}var bM=S.createElement(vM,null),vA=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=fM(t.digest);n&&(t=n)}let e=t!==void 0?S.createElement(Ls.Provider,{value:this.props.routeContext},S.createElement(ov.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?S.createElement(xM,{error:t},e):e}};vA.contextType=oM;var vy=new WeakMap;function xM({children:t,error:e}){let{basename:n}=S.useContext(Yi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=dM(e.digest);if(i){let a=vy.get(e);if(a)throw a;let l=hA(i.location,n);if(uA&&!vy.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw vy.set(e,c),c}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function wM({routeContext:t,match:e,children:n}){let i=S.useContext(dc);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Ls.Provider,{value:t},n)}function _M(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let g=l.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);$t(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,d=-1;if(n)for(let g=0;g<l.length;g++){let b=l[g];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(d=g),b.route.id){let{loaderData:x,errors:A}=n,k=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!A||A[b.route.id]===void 0);if(b.route.lazy||k){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let m=n&&i?(g,b)=>{i(g,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:rM(n.matches),errorInfo:b})}:void 0;return l.reduceRight((g,b,x)=>{let A,k=!1,I=null,N=null;n&&(A=c&&b.route.id?c[b.route.id]:void 0,I=b.route.errorElement||bM,h&&(d<0&&x===0?(bA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,N=null):d===x&&(k=!0,N=b.route.hydrateFallbackElement||null)));let B=e.concat(l.slice(0,x+1)),H=()=>{let q;return A?q=I:k?q=N:b.route.Component?q=S.createElement(b.route.Component,null):b.route.element?q=b.route.element:q=g,S.createElement(wM,{match:b,routeContext:{outlet:g,matches:B,isDataRoute:n!=null},children:q})};return n&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?S.createElement(vA,{location:n.location,revalidation:n.revalidation,component:I,error:A,children:H(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:m}):H()},null)}function lv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TM(t){let e=S.useContext(dc);return $t(e,lv(t)),e}function EM(t){let e=S.useContext(Pm);return $t(e,lv(t)),e}function SM(t){let e=S.useContext(Ls);return $t(e,lv(t)),e}function cv(t){let e=SM(t),n=e.matches[e.matches.length-1];return $t(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function AM(){return cv("useRouteId")}function CM(){let t=S.useContext(ov),e=EM("useRouteError"),n=cv("useRouteError");return t!==void 0?t:e.errors?.[n]}function RM(){let{router:t}=TM("useNavigate"),e=cv("useNavigate"),n=S.useRef(!1);return gA(()=>{n.current=!0}),S.useCallback(async(a,l={})=>{ms(n.current,pA),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var k1={};function bA(t,e,n){!e&&!k1[t]&&(k1[t]=!0,ms(!1,n))}S.memo(NM);function NM({routes:t,future:e,state:n,onError:i}){return yA(t,void 0,n,i,e)}function Ro({to:t,replace:e,state:n,relative:i}){$t(fc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=S.useContext(Yi);ms(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=S.useContext(Ls),{pathname:c}=Yr(),h=Om(),d=av(t,rv(l),c,i==="path"),m=JSON.stringify(d);return S.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:i})},[h,m,i,e,n]),null}function Dr(t){$t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function IM({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){$t(!fc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),d=S.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[h,a,l,c]);typeof n=="string"&&(n=hc(n));let{pathname:m="/",search:g="",hash:b="",state:x=null,key:A="default"}=n,k=S.useMemo(()=>{let I=Fr(m,h);return I==null?null:{location:{pathname:I,search:g,hash:b,state:x,key:A},navigationType:i}},[h,m,g,b,x,A,i]);return ms(k!=null,`<Router basename="${h}"> is not able to match the URL "${m}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:S.createElement(Yi.Provider,{value:d},S.createElement(mh.Provider,{children:e,value:k}))}function DM({children:t,location:e}){return yM(s0(t),e)}function s0(t,e=[]){let n=[];return S.Children.forEach(t,(i,a)=>{if(!S.isValidElement(i))return;let l=[...e,a];if(i.type===S.Fragment){n.push.apply(n,s0(i.props.children,l));return}$t(i.type===Dr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$t(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=s0(i.props.children,l)),n.push(c)}),n}var Sf="get",Af="application/x-www-form-urlencoded";function Vm(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function kM(t){return Vm(t)&&t.tagName.toLowerCase()==="button"}function MM(t){return Vm(t)&&t.tagName.toLowerCase()==="form"}function PM(t){return Vm(t)&&t.tagName.toLowerCase()==="input"}function OM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function VM(t,e){return t.button===0&&(!e||e==="_self")&&!OM(t)}var af=null;function jM(){if(af===null)try{new FormData(document.createElement("form"),0),af=!1}catch{af=!0}return af}var LM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function by(t){return t!=null&&!LM.has(t)?(ms(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Af}"`),null):t}function UM(t,e){let n,i,a,l,c;if(MM(t)){let h=t.getAttribute("action");i=h?Fr(h,e):null,n=t.getAttribute("method")||Sf,a=by(t.getAttribute("enctype"))||Af,l=new FormData(t)}else if(kM(t)||PM(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(i=d?Fr(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Sf,a=by(t.getAttribute("formenctype"))||by(h.getAttribute("enctype"))||Af,l=new FormData(h,t),!jM()){let{name:m,type:g,value:b}=t;if(g==="image"){let x=m?`${m}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else m&&l.append(m,b)}}else{if(Vm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Sf,i=null,a=Af,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function uv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zM(t,e,n,i){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&Fr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function BM(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FM(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function qM(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await BM(l,n);return c.links?c.links():[]}return[]}));return KM(i.flat(1).filter(FM).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function M1(t,e,n,i,a,l){let c=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,h=(d,m)=>n[m].pathname!==d.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,m)=>c(d,m)||h(d,m)):l==="data"?e.filter((d,m)=>{let g=i.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(c(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function HM(t,e,{includeHydrateFallback:n}={}){return GM(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function GM(t){return[...new Set(t)]}function $M(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function KM(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify($M(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function xA(){let t=S.useContext(dc);return uv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function YM(){let t=S.useContext(Pm);return uv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var hv=S.createContext(void 0);hv.displayName="FrameworkContext";function wA(){let t=S.useContext(hv);return uv(t,"You must render this element inside a <HydratedRouter> element"),t}function XM(t,e){let n=S.useContext(hv),[i,a]=S.useState(!1),[l,c]=S.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:g,onTouchStart:b}=e,x=S.useRef(null);S.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let I=B=>{B.forEach(H=>{c(H.isIntersecting)})},N=new IntersectionObserver(I,{threshold:.5});return x.current&&N.observe(x.current),()=>{N.disconnect()}}},[t]),S.useEffect(()=>{if(i){let I=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(I)}}},[i]);let A=()=>{a(!0)},k=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,x,{}]:[l,x,{onFocus:bu(h,A),onBlur:bu(d,k),onMouseEnter:bu(m,A),onMouseLeave:bu(g,k),onTouchStart:bu(b,A)}]:[!1,x,{}]}function bu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function WM({page:t,...e}){let{router:n}=xA(),i=S.useMemo(()=>aA(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?S.createElement(JM,{page:t,matches:i,...e}):null}function QM(t){let{manifest:e,routeModules:n}=wA(),[i,a]=S.useState([]);return S.useEffect(()=>{let l=!1;return qM(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),i}function JM({page:t,matches:e,...n}){let i=Yr(),{future:a,manifest:l,routeModules:c}=wA(),{basename:h}=xA(),{loaderData:d,matches:m}=YM(),g=S.useMemo(()=>M1(t,e,m,l,i,"data"),[t,e,m,l,i]),b=S.useMemo(()=>M1(t,e,m,l,i,"assets"),[t,e,m,l,i]),x=S.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let I=new Set,N=!1;if(e.forEach(H=>{let q=l.routes[H.route.id];!q||!q.hasLoader||(!g.some(oe=>oe.route.id===H.route.id)&&H.route.id in d&&c[H.route.id]?.shouldRevalidate||q.hasClientLoader?N=!0:I.add(H.route.id))}),I.size===0)return[];let B=zM(t,h,a.unstable_trailingSlashAwareDataRequests,"data");return N&&I.size>0&&B.searchParams.set("_routes",e.filter(H=>I.has(H.route.id)).map(H=>H.route.id).join(",")),[B.pathname+B.search]},[h,a.unstable_trailingSlashAwareDataRequests,d,i,l,g,e,t,c]),A=S.useMemo(()=>HM(b,l),[b,l]),k=QM(b);return S.createElement(S.Fragment,null,x.map(I=>S.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),A.map(I=>S.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),k.map(({key:I,link:N})=>S.createElement("link",{key:I,nonce:n.nonce,...N})))}function ZM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var eP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eP&&(window.__reactRouterVersion="7.12.0")}catch{}function tP({basename:t,children:e,unstable_useTransitions:n,window:i}){let a=S.useRef();a.current==null&&(a.current=Pk({window:i,v5Compat:!0}));let l=a.current,[c,h]=S.useState({action:l.action,location:l.location}),d=S.useCallback(m=>{n===!1?h(m):S.startTransition(()=>h(m))},[n]);return S.useLayoutEffect(()=>l.listen(d),[l,d]),S.createElement(IM,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var _A=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dv=S.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:h,target:d,to:m,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:x,...A},k){let{basename:I,unstable_useTransitions:N}=S.useContext(Yi),B=typeof m=="string"&&_A.test(m),H=hA(m,I);m=H.to;let q=mM(m,{relative:a}),[oe,se,ue]=XM(i,A),D=sP(m,{replace:c,state:h,target:d,preventScrollReset:g,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:x,unstable_useTransitions:N});function C(U){e&&e(U),U.defaultPrevented||D(U)}let P=S.createElement("a",{...A,...ue,href:H.absoluteURL||q,onClick:H.isExternal||l?e:C,ref:ZM(k,se),target:d,"data-discover":!B&&n==="render"?"true":void 0});return oe&&!B?S.createElement(S.Fragment,null,P,S.createElement(WM,{page:q})):P});dv.displayName="Link";var TA=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:h,children:d,...m},g){let b=ph(c,{relative:m.relative}),x=Yr(),A=S.useContext(Pm),{navigator:k,basename:I}=S.useContext(Yi),N=A!=null&&cP(b)&&h===!0,B=k.encodeLocation?k.encodeLocation(b).pathname:b.pathname,H=x.pathname,q=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(H=H.toLowerCase(),q=q?q.toLowerCase():null,B=B.toLowerCase()),q&&I&&(q=Fr(q,I)||q);const oe=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let se=H===B||!a&&H.startsWith(B)&&H.charAt(oe)==="/",ue=q!=null&&(q===B||!a&&q.startsWith(B)&&q.charAt(B.length)==="/"),D={isActive:se,isPending:ue,isTransitioning:N},C=se?e:void 0,P;typeof i=="function"?P=i(D):P=[i,se?"active":null,ue?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(D):l;return S.createElement(dv,{...m,"aria-current":C,className:P,ref:g,style:U,to:c,viewTransition:h},typeof d=="function"?d(D):d)});TA.displayName="NavLink";var nP=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:c=Sf,action:h,onSubmit:d,relative:m,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:x,...A},k)=>{let{unstable_useTransitions:I}=S.useContext(Yi),N=oP(),B=lP(h,{relative:m}),H=c.toLowerCase()==="get"?"get":"post",q=typeof h=="string"&&_A.test(h),oe=se=>{if(d&&d(se),se.defaultPrevented)return;se.preventDefault();let ue=se.nativeEvent.submitter,D=ue?.getAttribute("formmethod")||c,C=()=>N(ue||se.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:a,state:l,relative:m,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:x});I&&n!==!1?S.startTransition(()=>C()):C()};return S.createElement("form",{ref:k,method:H,action:B,onSubmit:i?d:oe,...A,"data-discover":!q&&t==="render"?"true":void 0})});nP.displayName="Form";function iP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EA(t){let e=S.useContext(dc);return $t(e,iP(t)),e}function sP(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let m=Om(),g=Yr(),b=ph(t,{relative:l});return S.useCallback(x=>{if(VM(x,e)){x.preventDefault();let A=n!==void 0?n:Xu(g)===Xu(b),k=()=>m(t,{replace:A,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h});d?S.startTransition(()=>k()):k()}},[g,m,b,n,i,e,t,a,l,c,h,d])}var rP=0,aP=()=>`__${String(++rP)}__`;function oP(){let{router:t}=EA("useSubmit"),{basename:e}=S.useContext(Yi),n=AM(),i=t.fetch,a=t.navigate;return S.useCallback(async(l,c={})=>{let{action:h,method:d,encType:m,formData:g,body:b}=UM(l,e);if(c.navigate===!1){let x=c.fetcherKey||aP();await i(x,n,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:b,formMethod:c.method||d,formEncType:c.encType||m,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:b,formMethod:c.method||d,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,n])}function lP(t,{relative:e}={}){let{basename:n}=S.useContext(Yi),i=S.useContext(Ls);$t(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...ph(t||".",{relative:e})},c=Yr();if(t==null){l.search=c.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(b=>b).forEach(b=>h.append("index",b));let g=h.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:jr([n,l.pathname])),Xu(l)}function cP(t,{relative:e}={}){let n=S.useContext(fA);$t(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=EA("useViewTransitionState"),a=ph(t,{relative:e});if(!n.isTransitioning)return!1;let l=Fr(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Fr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return qf(a.pathname,c)!=null||qf(a.pathname,l)!=null}var Au=rA();const uP=()=>v.jsx("div",{className:"noise-overlay"}),hP="modulepreload",dP=function(t){return"/"+t},P1={},jl=function(e,n,i){let a=Promise.resolve();if(n&&n.length>0){let d=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=c?.nonce||c?.getAttribute("nonce");a=d(n.map(m=>{if(m=dP(m),m in P1)return;P1[m]=!0;const g=m.endsWith(".css"),b=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${b}`))return;const x=document.createElement("link");if(x.rel=g?"stylesheet":hP,g||(x.as="script"),x.crossOrigin="",x.href=m,h&&x.setAttribute("nonce",h),document.head.appendChild(x),g)return new Promise((A,k)=>{x.addEventListener("load",A),x.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},fP=()=>{};var O1={};const SA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},mP=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],h=t[n++],d=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},AA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,h=c?t[a+1]:0,d=a+2<t.length,m=d?t[a+2]:0,g=l>>2,b=(l&3)<<4|h>>4;let x=(h&15)<<2|m>>6,A=m&63;d||(A=64,c||(x=64)),i.push(n[g],n[b],n[x],n[A])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||m==null||b==null)throw new pP;const x=l<<2|h>>4;if(i.push(x),m!==64){const A=h<<4&240|m>>2;if(i.push(A),b!==64){const k=m<<6&192|b;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gP=function(t){const e=SA(t);return AA.encodeByteArray(e,!0)},Hf=function(t){return gP(t).replace(/\./g,"")},CA=function(t){try{return AA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function yP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const vP=()=>yP().__FIREBASE_DEFAULTS__,bP=()=>{if(typeof process>"u"||typeof O1>"u")return;const t=O1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&CA(t[1]);return e&&JSON.parse(e)},jm=()=>{try{return fP()||vP()||bP()||xP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RA=t=>jm()?.emulatorHosts?.[t],NA=t=>{const e=RA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},IA=()=>jm()?.config,DA=t=>jm()?.[`_${t}`];class wP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function Ko(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fv(t){return(await fetch(t,{credentials:"include"})).ok}function kA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Hf(JSON.stringify(n)),Hf(JSON.stringify(c)),""].join(".")}const ku={};function _P(){const t={prod:[],emulator:[]};for(const e of Object.keys(ku))ku[e]?t.emulator.push(e):t.prod.push(e);return t}function TP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let V1=!1;function mv(t,e){if(typeof window>"u"||typeof document>"u"||!Ko(window.location.host)||ku[t]===e||ku[t]||V1)return;ku[t]=e;function n(x){return`__firebase__banner__${x}`}const i="__firebase__banner",l=_P().prod.length>0;function c(){const x=document.getElementById(i);x&&x.remove()}function h(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function d(x,A){x.setAttribute("width","24"),x.setAttribute("id",A),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function m(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{V1=!0,c()},x}function g(x,A){x.setAttribute("id",A),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=TP(i),A=n("text"),k=document.getElementById(A)||document.createElement("span"),I=n("learnmore"),N=document.getElementById(I)||document.createElement("a"),B=n("preprendIcon"),H=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const q=x.element;h(q),g(N,I);const oe=m();d(H,B),q.append(H,k,N,oe),document.body.appendChild(q)}l?(k.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function li(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(li())}function SP(){const t=jm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function RP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NP(){const t=li();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function IP(){return!SP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DP(){try{return typeof indexedDB=="object"}catch{return!1}}function kP(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const MP="FirebaseError";class lr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=MP,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gh.prototype.create)}}class gh{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?PP(l,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new lr(a,h,i)}}function PP(t,e){return t.replace(OP,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const OP=/\{\$([^}]+)}/g;function VP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fo(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(j1(l)&&j1(c)){if(!Fo(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function j1(t){return t!==null&&typeof t=="object"}function yh(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function jP(t,e){const n=new LP(t,e);return n.subscribe.bind(n)}class LP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");UP(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=xy),a.error===void 0&&(a.error=xy),a.complete===void 0&&(a.complete=xy);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xy(){}function An(t){return t&&t._delegate?t._delegate:t}class La{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ko="[DEFAULT]";class zP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new wP;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FP(e))try{this.getOrInitializeService({instanceIdentifier:ko})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ko){return this.instances.has(e)}getOptions(e=ko){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&c.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:BP(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ko){return this.component?this.component.multipleInstances?e:ko:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BP(t){return t===ko?void 0:t}function FP(t){return t.instantiationMode==="EAGER"}class qP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const HP={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},GP=it.INFO,$P={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},KP=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=$P[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pv{constructor(e){this.name=e,this._logLevel=GP,this._logHandler=KP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const YP=(t,e)=>e.some(n=>t instanceof n);let L1,U1;function XP(){return L1||(L1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WP(){return U1||(U1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MA=new WeakMap,r0=new WeakMap,PA=new WeakMap,wy=new WeakMap,gv=new WeakMap;function QP(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Ma(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&MA.set(n,t)}).catch(()=>{}),gv.set(e,t),e}function JP(t){if(r0.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});r0.set(t,e)}let a0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return r0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ma(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZP(t){a0=t(a0)}function eO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(_y(this),e,...n);return PA.set(i,e.sort?e.sort():[e]),Ma(i)}:WP().includes(t)?function(...e){return t.apply(_y(this),e),Ma(MA.get(this))}:function(...e){return Ma(t.apply(_y(this),e))}}function tO(t){return typeof t=="function"?eO(t):(t instanceof IDBTransaction&&JP(t),YP(t,XP())?new Proxy(t,a0):t)}function Ma(t){if(t instanceof IDBRequest)return QP(t);if(wy.has(t))return wy.get(t);const e=tO(t);return e!==t&&(wy.set(t,e),gv.set(e,t)),e}const _y=t=>gv.get(t);function nO(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),h=Ma(c);return i&&c.addEventListener("upgradeneeded",d=>{i(Ma(c.result),d.oldVersion,d.newVersion,Ma(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const iO=["get","getKey","getAll","getAllKeys","count"],sO=["put","add","delete","clear"],Ty=new Map;function z1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ty.get(e))return Ty.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=sO.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||iO.includes(n)))return;const l=async function(c,...h){const d=this.transaction(c,a?"readwrite":"readonly");let m=d.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),a&&d.done]))[0]};return Ty.set(e,l),l}ZP(t=>({...t,get:(e,n,i)=>z1(e,n)||t.get(e,n,i),has:(e,n)=>!!z1(e,n)||t.has(e,n)}));class rO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aO(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function aO(t){return t.getComponent()?.type==="VERSION"}const o0="@firebase/app",B1="0.14.7";const qr=new pv("@firebase/app"),oO="@firebase/app-compat",lO="@firebase/analytics-compat",cO="@firebase/analytics",uO="@firebase/app-check-compat",hO="@firebase/app-check",dO="@firebase/auth",fO="@firebase/auth-compat",mO="@firebase/database",pO="@firebase/data-connect",gO="@firebase/database-compat",yO="@firebase/functions",vO="@firebase/functions-compat",bO="@firebase/installations",xO="@firebase/installations-compat",wO="@firebase/messaging",_O="@firebase/messaging-compat",TO="@firebase/performance",EO="@firebase/performance-compat",SO="@firebase/remote-config",AO="@firebase/remote-config-compat",CO="@firebase/storage",RO="@firebase/storage-compat",NO="@firebase/firestore",IO="@firebase/ai",DO="@firebase/firestore-compat",kO="firebase",MO="12.8.0";const l0="[DEFAULT]",PO={[o0]:"fire-core",[oO]:"fire-core-compat",[cO]:"fire-analytics",[lO]:"fire-analytics-compat",[hO]:"fire-app-check",[uO]:"fire-app-check-compat",[dO]:"fire-auth",[fO]:"fire-auth-compat",[mO]:"fire-rtdb",[pO]:"fire-data-connect",[gO]:"fire-rtdb-compat",[yO]:"fire-fn",[vO]:"fire-fn-compat",[bO]:"fire-iid",[xO]:"fire-iid-compat",[wO]:"fire-fcm",[_O]:"fire-fcm-compat",[TO]:"fire-perf",[EO]:"fire-perf-compat",[SO]:"fire-rc",[AO]:"fire-rc-compat",[CO]:"fire-gcs",[RO]:"fire-gcs-compat",[NO]:"fire-fst",[DO]:"fire-fst-compat",[IO]:"fire-vertex","fire-js":"fire-js",[kO]:"fire-js-all"};const Gf=new Map,OO=new Map,c0=new Map;function F1(t,e){try{t.container.addComponent(e)}catch(n){qr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qo(t){const e=t.name;if(c0.has(e))return qr.debug(`There were multiple attempts to register component ${e}.`),!1;c0.set(e,t);for(const n of Gf.values())F1(n,t);for(const n of OO.values())F1(n,t);return!0}function Lm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cs(t){return t==null?!1:t.settings!==void 0}const VO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pa=new gh("app","Firebase",VO);class jO{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new La("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pa.create("app-deleted",{appName:this._name})}}const Yo=MO;function OA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:l0,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Pa.create("bad-app-name",{appName:String(a)});if(n||(n=IA()),!n)throw Pa.create("no-options");const l=Gf.get(a);if(l){if(Fo(n,l.options)&&Fo(i,l.config))return l;throw Pa.create("duplicate-app",{appName:a})}const c=new qP(a);for(const d of c0.values())c.addComponent(d);const h=new jO(n,i,c);return Gf.set(a,h),h}function yv(t=l0){const e=Gf.get(t);if(!e&&t===l0&&IA())return OA();if(!e)throw Pa.create("no-app",{appName:t});return e}function Js(t,e,n){let i=PO[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qr.warn(c.join(" "));return}qo(new La(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const LO="firebase-heartbeat-database",UO=1,Wu="firebase-heartbeat-store";let Ey=null;function VA(){return Ey||(Ey=nO(LO,UO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Pa.create("idb-open",{originalErrorMessage:t.message})})),Ey}async function zO(t){try{const n=(await VA()).transaction(Wu),i=await n.objectStore(Wu).get(jA(t));return await n.done,i}catch(e){if(e instanceof lr)qr.warn(e.message);else{const n=Pa.create("idb-get",{originalErrorMessage:e?.message});qr.warn(n.message)}}}async function q1(t,e){try{const i=(await VA()).transaction(Wu,"readwrite");await i.objectStore(Wu).put(e,jA(t)),await i.done}catch(n){if(n instanceof lr)qr.warn(n.message);else{const i=Pa.create("idb-set",{originalErrorMessage:n?.message});qr.warn(i.message)}}}function jA(t){return`${t.name}!${t.options.appId}`}const BO=1024,FO=30;class qO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GO(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=H1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>FO){const a=$O(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){qr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=H1(),{heartbeatsToSend:n,unsentEntries:i}=HO(this._heartbeatsCache.heartbeats),a=Hf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return qr.warn(e),""}}}function H1(){return new Date().toISOString().substring(0,10)}function HO(t,e=BO){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),G1(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),G1(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class GO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DP()?kP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return q1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return q1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function G1(t){return Hf(JSON.stringify({version:2,heartbeats:t})).length}function $O(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function KO(t){qo(new La("platform-logger",e=>new rO(e),"PRIVATE")),qo(new La("heartbeat",e=>new qO(e),"PRIVATE")),Js(o0,B1,t),Js(o0,B1,"esm2020"),Js("fire-js","")}KO("");var YO="firebase",XO="12.8.0";Js(YO,XO,"app");function LA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UA=LA,zA=new gh("auth","Firebase",LA());const $f=new pv("@firebase/auth");function WO(t,...e){$f.logLevel<=it.WARN&&$f.warn(`Auth (${Yo}): ${t}`,...e)}function Cf(t,...e){$f.logLevel<=it.ERROR&&$f.error(`Auth (${Yo}): ${t}`,...e)}function ir(t,...e){throw bv(t,...e)}function Ms(t,...e){return bv(t,...e)}function vv(t,e,n){const i={...UA(),[e]:n};return new gh("auth","Firebase",i).create(e,{appName:t.name})}function zo(t){return vv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QO(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&ir(t,"argument-error"),vv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return zA.create(t,...e)}function ze(t,e,...n){if(!t)throw bv(e,...n)}function Or(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cf(e),new Error(e)}function Hr(t,e){t||Or(e)}function u0(){return typeof self<"u"&&self.location?.href||""}function JO(){return $1()==="http:"||$1()==="https:"}function $1(){return typeof self<"u"&&self.location?.protocol||null}function ZO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JO()||CP()||"connection"in navigator)?navigator.onLine:!0}function e4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class vh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hr(n>e,"Short delay should be less than long delay!"),this.isMobile=EP()||RP()}get(){return ZO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xv(t,e){Hr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class BA{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const t4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const n4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],i4=new vh(3e4,6e4);function wv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Xo(t,e,n,i,a={}){return FA(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const h=yh({key:t.config.apiKey,...c}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:d,...l};return AP()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Ko(t.emulatorConfig.host)&&(m.credentials="include"),BA.fetch()(await qA(t,t.config.apiHost,n,h),m)})}async function FA(t,e,n){t._canInitEmulator=!1;const i={...t4,...e};try{const a=new r4(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw of(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw of(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw of(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw of(t,"user-disabled",c);const g=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw vv(t,g,m);ir(t,g)}}catch(a){if(a instanceof lr)throw a;ir(t,"network-request-failed",{message:String(a)})}}async function s4(t,e,n,i,a={}){const l=await Xo(t,e,n,i,a);return"mfaPendingCredential"in l&&ir(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function qA(t,e,n,i){const a=`${e}${n}?${i}`,l=t,c=l.config.emulator?xv(t.config,a):`${t.config.apiScheme}://${a}`;return n4.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class r4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Ms(this.auth,"network-request-failed")),i4.get())})}}function of(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Ms(t,e,i);return a.customData._tokenResponse=n,a}async function a4(t,e){return Xo(t,"POST","/v1/accounts:delete",e)}async function Kf(t,e){return Xo(t,"POST","/v1/accounts:lookup",e)}function Mu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HA(t,e=!1){const n=An(t),i=await n.getIdToken(e),a=_v(i);ze(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:Mu(Sy(a.auth_time)),issuedAtTime:Mu(Sy(a.iat)),expirationTime:Mu(Sy(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Sy(t){return Number(t)*1e3}function _v(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Cf("JWT malformed, contained fewer than 3 sections"),null;try{const a=CA(n);return a?JSON.parse(a):(Cf("Failed to decode base64 JWT payload"),null)}catch(a){return Cf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function K1(t){const e=_v(t);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function tc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof lr&&o4(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function o4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class l4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class h0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mu(this.lastLoginAt),this.creationTime=Mu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yf(t){const e=t.auth,n=await t.getIdToken(),i=await tc(t,Kf(e,{idToken:n}));ze(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?$A(a.providerUserInfo):[],c=c4(t.providerData,l),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!c?.length,m=h?d:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new h0(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function GA(t){const e=An(t);await Yf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function c4(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function $A(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function u4(t,e){const n=await FA(t,{},async()=>{const i=yh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await qA(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:i};return t.emulatorConfig&&Ko(t.emulatorConfig.host)&&(d.credentials="include"),BA.fetch()(c,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function h4(t,e){return Xo(t,"POST","/v2/accounts:revokeToken",wv(t,e))}class Kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):K1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const n=K1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await u4(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new Kl;return i&&(ze(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(ze(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(ze(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Kl,this.toJSON())}_performRefresh(){return Or("not implemented")}}function Ca(t,e){ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Is{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new l4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new h0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await tc(this,this.stsTokenManager.getToken(this.auth,e));return ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return HA(this,e)}reload(){return GA(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Is({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Yf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cs(this.auth.app))return Promise.reject(zo(this.auth));const e=await this.getIdToken();return await tc(this,a4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,m=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:A,providerData:k,stsTokenManager:I}=n;ze(b&&I,e,"internal-error");const N=Kl.fromJSON(this.name,I);ze(typeof b=="string",e,"internal-error"),Ca(i,e.name),Ca(a,e.name),ze(typeof x=="boolean",e,"internal-error"),ze(typeof A=="boolean",e,"internal-error"),Ca(l,e.name),Ca(c,e.name),Ca(h,e.name),Ca(d,e.name),Ca(m,e.name),Ca(g,e.name);const B=new Is({uid:b,auth:e,email:a,emailVerified:x,displayName:i,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:h,stsTokenManager:N,createdAt:m,lastLoginAt:g});return k&&Array.isArray(k)&&(B.providerData=k.map(H=>({...H}))),d&&(B._redirectEventId=d),B}static async _fromIdTokenResponse(e,n,i=!1){const a=new Kl;a.updateFromServerResponse(n);const l=new Is({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Yf(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];ze(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?$A(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,h=new Kl;h.updateFromIdToken(i);const d=new Is({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new h0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,m),d}}const Y1=new Map;function Vr(t){Hr(t instanceof Function,"Expected a class definition");let e=Y1.get(t);return e?(Hr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Y1.set(t,e),e)}class KA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}KA.type="NONE";const d0=KA;function Rf(t,e,n){return`firebase:${t}:${e}:${n}`}class Yl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Rf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Rf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Kf(this.auth,{idToken:e}).catch(()=>{});return n?Is._fromGetAccountInfoResponse(this.auth,n,e):null}return Is._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Yl(Vr(d0),e,i);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Vr(d0);const c=Rf(i,e.config.apiKey,e.name);let h=null;for(const m of n)try{const g=await m._get(c);if(g){let b;if(typeof g=="string"){const x=await Kf(e,{idToken:g}).catch(()=>{});if(!x)break;b=await Is._fromGetAccountInfoResponse(e,x,g)}else b=Is._fromJSON(e,g);m!==l&&(h=b),l=m;break}}catch{}const d=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new Yl(l,e,i):(l=d[0],h&&await l._set(c,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new Yl(l,e,i))}}function X1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZA(e))return"Blackberry";if(eC(e))return"Webos";if(XA(e))return"Safari";if((e.includes("chrome/")||WA(e))&&!e.includes("edge/"))return"Chrome";if(JA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function YA(t=li()){return/firefox\//i.test(t)}function XA(t=li()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WA(t=li()){return/crios\//i.test(t)}function QA(t=li()){return/iemobile/i.test(t)}function JA(t=li()){return/android/i.test(t)}function ZA(t=li()){return/blackberry/i.test(t)}function eC(t=li()){return/webos/i.test(t)}function Tv(t=li()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function d4(t=li()){return Tv(t)&&!!window.navigator?.standalone}function f4(){return NP()&&document.documentMode===10}function tC(t=li()){return Tv(t)||JA(t)||eC(t)||ZA(t)||/windows phone/i.test(t)||QA(t)}function nC(t,e=[]){let n;switch(t){case"Browser":n=X1(li());break;case"Worker":n=`${X1(li())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Yo}/${i}`}class m4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,h)=>{try{const d=e(l);c(d)}catch(d){h(d)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function p4(t,e={}){return Xo(t,"GET","/v2/passwordPolicy",wv(t,e))}const g4=6;class y4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??g4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class v4{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W1(this),this.idTokenSubscription=new W1(this),this.beforeStateQueue=new m4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Yl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Kf(this,{idToken:e}),i=await Is._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(cs(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=e4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cs(this.app))return Promise.reject(zo(this));const n=e?An(e):null;return n&&ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cs(this.app)?Promise.reject(zo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cs(this.app)?Promise.reject(zo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await p4(this),n=new y4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gh("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await h4(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vr(e)||this._popupRedirectResolver;ze(n,this,"argument-error"),this.redirectPersistenceManager=await Yl.create(this,[Vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,i,a);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(cs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&WO(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Um(t){return An(t)}class W1{constructor(e){this.auth=e,this.observer=null,this.addObserver=jP(n=>this.observer=n)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ev={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b4(t){Ev=t}function x4(t){return Ev.loadJS(t)}function w4(){return Ev.gapiScript}function _4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function iC(t,e){const n=Lm(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Fo(l,e??{}))return a;ir(a,"already-initialized")}return n.initialize({options:e})}function T4(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Vr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function sC(t,e,n){const i=Um(t);ze(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=rC(e),{host:c,port:h}=E4(e),d=h===null?"":`:${h}`,m={url:`${l}//${c}${d}/`},g=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){ze(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ze(Fo(m,i.config.emulator)&&Fo(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,Ko(c)?(fv(`${l}//${c}${d}`),mv("Auth",!0)):S4()}function rC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function E4(t){const e=rC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:Q1(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:Q1(c)}}}function Q1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function S4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Sv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Or("not implemented")}_getIdTokenResponse(e){return Or("not implemented")}_linkToIdToken(e,n){return Or("not implemented")}_getReauthenticationResolver(e){return Or("not implemented")}}async function Xl(t,e){return s4(t,"POST","/v1/accounts:signInWithIdp",wv(t,e))}const A4="http://localhost";class Ua extends Sv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ir("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const c=new Ua(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Xl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Xl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xl(e,n)}buildRequest(){const e={requestUri:A4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yh(n)}return e}}class Av{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class bh extends Av{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class kr extends bh{constructor(){super("facebook.com")}static credential(e){return Ua._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";kr.PROVIDER_ID="facebook.com";class Qs extends bh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ua._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Qs.credential(n,i)}catch{return null}}}Qs.GOOGLE_SIGN_IN_METHOD="google.com";Qs.PROVIDER_ID="google.com";class Mr extends bh{constructor(){super("github.com")}static credential(e){return Ua._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mr.credential(e.oauthAccessToken)}catch{return null}}}Mr.GITHUB_SIGN_IN_METHOD="github.com";Mr.PROVIDER_ID="github.com";class Pr extends bh{constructor(){super("twitter.com")}static credential(e,n){return Ua._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Pr.credential(n,i)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";class nc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Is._fromIdTokenResponse(e,i,a),c=J1(i);return new nc({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=J1(i);return new nc({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function J1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Xf extends lr{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Xf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new Xf(e,n,i,a)}}function aC(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Xf._fromErrorAndOperation(t,l,e,i):l})}async function C4(t,e,n=!1){const i=await tc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return nc._forOperation(t,"link",i)}async function R4(t,e,n=!1){const{auth:i}=t;if(cs(i.app))return Promise.reject(zo(i));const a="reauthenticate";try{const l=await tc(t,aC(i,a,e,t),n);ze(l.idToken,i,"internal-error");const c=_v(l.idToken);ze(c,i,"internal-error");const{sub:h}=c;return ze(t.uid===h,i,"user-mismatch"),nc._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ir(i,"user-mismatch"),l}}async function N4(t,e,n=!1){if(cs(t.app))return Promise.reject(zo(t));const i="signIn",a=await aC(t,i,e),l=await nc._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function I4(t,e){return Xo(t,"POST","/v1/accounts:update",e)}async function D4(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=An(t),l={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await tc(i,I4(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const h=i.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function oC(t,e,n,i){return An(t).onIdTokenChanged(e,n,i)}function lC(t,e,n){return An(t).beforeAuthStateChanged(e,n)}function cC(t,e,n,i){return An(t).onAuthStateChanged(e,n,i)}function uC(t){return An(t).signOut()}const Wf="__sak";class hC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wf,"1"),this.storage.removeItem(Wf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const k4=1e3,M4=10;class dC extends hC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);f4()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,M4):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},k4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dC.type="LOCAL";const fC=dC;class mC extends hC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mC.type="SESSION";const Cv=mC;function P4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class zm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new zm(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async m=>m(n.origin,l)),d=await P4(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zm.receivers=[];function Rv(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class O4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,d)=>{const m=Rv("",20);a.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(b){const x=b;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(x.data.response);break;default:clearTimeout(g),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Zs(){return window}function V4(t){Zs().location.href=t}function pC(){return typeof Zs().WorkerGlobalScope<"u"&&typeof Zs().importScripts=="function"}async function j4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function L4(){return navigator?.serviceWorker?.controller||null}function U4(){return pC()?self:null}const gC="firebaseLocalStorageDb",z4=1,Qf="firebaseLocalStorage",yC="fbase_key";class xh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bm(t,e){return t.transaction([Qf],e?"readwrite":"readonly").objectStore(Qf)}function B4(){const t=indexedDB.deleteDatabase(gC);return new xh(t).toPromise()}function f0(){const t=indexedDB.open(gC,z4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Qf,{keyPath:yC})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Qf)?e(i):(i.close(),await B4(),e(await f0()))})})}async function Z1(t,e,n){const i=Bm(t,!0).put({[yC]:e,value:n});return new xh(i).toPromise()}async function F4(t,e){const n=Bm(t,!1).get(e),i=await new xh(n).toPromise();return i===void 0?null:i.value}function eT(t,e){const n=Bm(t,!0).delete(e);return new xh(n).toPromise()}const q4=800,H4=3;class vC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await f0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>H4)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zm._getInstance(U4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await j4(),!this.activeServiceWorker)return;this.sender=new O4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||L4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await f0();return await Z1(e,Wf,"1"),await eT(e,Wf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Z1(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>F4(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>eT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Bm(a,!1).getAll();return new xh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),q4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vC.type="LOCAL";const bC=vC;new vh(3e4,6e4);function xC(t,e){return e?Vr(e):(ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Nv extends Sv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function G4(t){return N4(t.auth,new Nv(t),t.bypassAuthState)}function $4(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),R4(n,new Nv(t),t.bypassAuthState)}async function K4(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),C4(n,new Nv(t),t.bypassAuthState)}class wC{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G4;case"linkViaPopup":case"linkViaRedirect":return K4;case"reauthViaPopup":case"reauthViaRedirect":return $4;default:ir(this.auth,"internal-error")}}resolve(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Y4=new vh(2e3,1e4);async function _C(t,e,n){if(cs(t.app))return Promise.reject(Ms(t,"operation-not-supported-in-this-environment"));const i=Um(t);QO(t,e,Av);const a=xC(i,n);return new Oo(i,"signInViaPopup",e,a).executeNotNull()}class Oo extends wC{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Oo.currentPopupAction&&Oo.currentPopupAction.cancel(),Oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){Hr(this.filter.length===1,"Popup operations only handle one event");const e=Rv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ms(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ms(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ms(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Y4.get())};e()}}Oo.currentPopupAction=null;const X4="pendingRedirect",Nf=new Map;class W4 extends wC{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Nf.get(this.auth._key());if(!e){try{const i=await Q4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Nf.set(this.auth._key(),e)}return this.bypassAuthState||Nf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Q4(t,e){const n=eV(e),i=Z4(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function J4(t,e){Nf.set(t._key(),e)}function Z4(t){return Vr(t._redirectPersistence)}function eV(t){return Rf(X4,t.config.apiKey,t.name)}async function tV(t,e,n=!1){if(cs(t.app))return Promise.reject(zo(t));const i=Um(t),a=xC(i,e),c=await new W4(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const nV=600*1e3;class iV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!TC(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ms(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nV&&this.cachedEventUids.clear(),this.cachedEventUids.has(tT(e))}saveEventToCache(e){this.cachedEventUids.add(tT(e)),this.lastProcessedEventTime=Date.now()}}function tT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function TC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function sV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TC(t);default:return!1}}async function rV(t,e={}){return Xo(t,"GET","/v1/projects",e)}const aV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oV=/^https?/;async function lV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rV(t);for(const n of e)try{if(cV(n))return}catch{}ir(t,"unauthorized-domain")}function cV(t){const e=u0(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!oV.test(n))return!1;if(aV.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const uV=new vh(3e4,6e4);function nT(){const t=Zs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hV(t){return new Promise((e,n)=>{function i(){nT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nT(),n(Ms(t,"network-request-failed"))},timeout:uV.get()})}if(Zs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Zs().gapi?.load)i();else{const a=_4("iframefcb");return Zs()[a]=()=>{gapi.load?i():n(Ms(t,"network-request-failed"))},x4(`${w4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw If=null,e})}let If=null;function dV(t){return If=If||hV(t),If}const fV=new vh(5e3,15e3),mV="__/auth/iframe",pV="emulator/auth/iframe",gV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vV(t){const e=t.config;ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xv(e,pV):`https://${t.config.authDomain}/${mV}`,i={apiKey:e.apiKey,appName:t.name,v:Yo},a=yV.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${yh(i).slice(1)}`}async function bV(t){const e=await dV(t),n=Zs().gapi;return ze(n,t,"internal-error"),e.open({where:document.body,url:vV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gV,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Ms(t,"network-request-failed"),h=Zs().setTimeout(()=>{l(c)},fV.get());function d(){Zs().clearTimeout(h),a(i)}i.ping(d).then(d,()=>{l(c)})}))}const xV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wV=500,_V=600,TV="_blank",EV="http://localhost";class iT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SV(t,e,n,i=wV,a=_V){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d={...xV,width:i.toString(),height:a.toString(),top:l,left:c},m=li().toLowerCase();n&&(h=WA(m)?TV:n),YA(m)&&(e=e||EV,d.scrollbars="yes");const g=Object.entries(d).reduce((x,[A,k])=>`${x}${A}=${k},`,"");if(d4(m)&&h!=="_self")return AV(e||"",h),new iT(null);const b=window.open(e||"",h,g);ze(b,t,"popup-blocked");try{b.focus()}catch{}return new iT(b)}function AV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const CV="__/auth/handler",RV="emulator/auth/handler",NV=encodeURIComponent("fac");async function sT(t,e,n,i,a,l){ze(t.config.authDomain,t,"auth-domain-config-required"),ze(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Yo,eventId:a};if(e instanceof Av){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",VP(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,b]of Object.entries({}))c[g]=b}if(e instanceof bh){const g=e.getScopes().filter(b=>b!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),m=d?`#${NV}=${encodeURIComponent(d)}`:"";return`${IV(t)}?${yh(h).slice(1)}${m}`}function IV({config:t}){return t.emulator?xv(t,RV):`https://${t.authDomain}/${CV}`}const Ay="webStorageSupport";class DV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cv,this._completeRedirectFn=tV,this._overrideRedirectResult=J4}async _openPopup(e,n,i,a){Hr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await sT(e,n,i,u0(),a);return SV(e,l,Rv())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await sT(e,n,i,u0(),a);return V4(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Hr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await bV(e),i=new iV(e);return n.register("authEvent",a=>(ze(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ay,{type:Ay},a=>{const l=a?.[0]?.[Ay];l!==void 0&&n(!!l),ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tC()||XA()||Tv()}}const EC=DV;var rT="@firebase/auth",aT="1.12.0";class kV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function MV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PV(t){qo(new La("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;ze(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nC(t)},m=new v4(i,a,l,d);return T4(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),qo(new La("auth-internal",e=>{const n=Um(e.getProvider("auth").getImmediate());return(i=>new kV(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Js(rT,aT,MV(t)),Js(rT,aT,"esm2020")}const OV=300,VV=DA("authIdTokenMaxAge")||OV;let oT=null;const jV=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>VV)return;const a=n?.token;oT!==a&&(oT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function SC(t=yv()){const e=Lm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=iC(t,{popupRedirectResolver:EC,persistence:[bC,fC,Cv]}),i=DA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=jV(l.toString());lC(n,c,()=>c(n.currentUser)),oC(n,h=>c(h))}}const a=RA("auth");return a&&sC(n,`http://${a}`),n}function LV(){return document.getElementsByTagName("head")?.[0]??document}b4({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Ms("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",LV().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PV("Browser");const UV=Object.freeze(Object.defineProperty({__proto__:null,AuthCredential:Sv,FacebookAuthProvider:kr,GithubAuthProvider:Mr,GoogleAuthProvider:Qs,OAuthCredential:Ua,TwitterAuthProvider:Pr,beforeAuthStateChanged:lC,browserLocalPersistence:fC,browserPopupRedirectResolver:EC,browserSessionPersistence:Cv,connectAuthEmulator:sC,getAuth:SC,getIdTokenResult:HA,inMemoryPersistence:d0,indexedDBLocalPersistence:bC,initializeAuth:iC,onAuthStateChanged:cC,onIdTokenChanged:oC,prodErrorMap:UA,reload:GA,signInWithPopup:_C,signOut:uC,updateProfile:D4},Symbol.toStringTag,{value:"Module"}));var lT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Oa,AC;(function(){var t;function e(D,C){function P(){}P.prototype=C.prototype,D.F=C.prototype,D.prototype=new P,D.prototype.constructor=D,D.D=function(U,z,V){for(var O=Array(arguments.length-2),we=2;we<arguments.length;we++)O[we-2]=arguments[we];return C.prototype[z].apply(U,O)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,C,P){P||(P=0);const U=Array(16);if(typeof C=="string")for(var z=0;z<16;++z)U[z]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(z=0;z<16;++z)U[z]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=D.g[0],P=D.g[1],z=D.g[2];let V=D.g[3],O;O=C+(V^P&(z^V))+U[0]+3614090360&4294967295,C=P+(O<<7&4294967295|O>>>25),O=V+(z^C&(P^z))+U[1]+3905402710&4294967295,V=C+(O<<12&4294967295|O>>>20),O=z+(P^V&(C^P))+U[2]+606105819&4294967295,z=V+(O<<17&4294967295|O>>>15),O=P+(C^z&(V^C))+U[3]+3250441966&4294967295,P=z+(O<<22&4294967295|O>>>10),O=C+(V^P&(z^V))+U[4]+4118548399&4294967295,C=P+(O<<7&4294967295|O>>>25),O=V+(z^C&(P^z))+U[5]+1200080426&4294967295,V=C+(O<<12&4294967295|O>>>20),O=z+(P^V&(C^P))+U[6]+2821735955&4294967295,z=V+(O<<17&4294967295|O>>>15),O=P+(C^z&(V^C))+U[7]+4249261313&4294967295,P=z+(O<<22&4294967295|O>>>10),O=C+(V^P&(z^V))+U[8]+1770035416&4294967295,C=P+(O<<7&4294967295|O>>>25),O=V+(z^C&(P^z))+U[9]+2336552879&4294967295,V=C+(O<<12&4294967295|O>>>20),O=z+(P^V&(C^P))+U[10]+4294925233&4294967295,z=V+(O<<17&4294967295|O>>>15),O=P+(C^z&(V^C))+U[11]+2304563134&4294967295,P=z+(O<<22&4294967295|O>>>10),O=C+(V^P&(z^V))+U[12]+1804603682&4294967295,C=P+(O<<7&4294967295|O>>>25),O=V+(z^C&(P^z))+U[13]+4254626195&4294967295,V=C+(O<<12&4294967295|O>>>20),O=z+(P^V&(C^P))+U[14]+2792965006&4294967295,z=V+(O<<17&4294967295|O>>>15),O=P+(C^z&(V^C))+U[15]+1236535329&4294967295,P=z+(O<<22&4294967295|O>>>10),O=C+(z^V&(P^z))+U[1]+4129170786&4294967295,C=P+(O<<5&4294967295|O>>>27),O=V+(P^z&(C^P))+U[6]+3225465664&4294967295,V=C+(O<<9&4294967295|O>>>23),O=z+(C^P&(V^C))+U[11]+643717713&4294967295,z=V+(O<<14&4294967295|O>>>18),O=P+(V^C&(z^V))+U[0]+3921069994&4294967295,P=z+(O<<20&4294967295|O>>>12),O=C+(z^V&(P^z))+U[5]+3593408605&4294967295,C=P+(O<<5&4294967295|O>>>27),O=V+(P^z&(C^P))+U[10]+38016083&4294967295,V=C+(O<<9&4294967295|O>>>23),O=z+(C^P&(V^C))+U[15]+3634488961&4294967295,z=V+(O<<14&4294967295|O>>>18),O=P+(V^C&(z^V))+U[4]+3889429448&4294967295,P=z+(O<<20&4294967295|O>>>12),O=C+(z^V&(P^z))+U[9]+568446438&4294967295,C=P+(O<<5&4294967295|O>>>27),O=V+(P^z&(C^P))+U[14]+3275163606&4294967295,V=C+(O<<9&4294967295|O>>>23),O=z+(C^P&(V^C))+U[3]+4107603335&4294967295,z=V+(O<<14&4294967295|O>>>18),O=P+(V^C&(z^V))+U[8]+1163531501&4294967295,P=z+(O<<20&4294967295|O>>>12),O=C+(z^V&(P^z))+U[13]+2850285829&4294967295,C=P+(O<<5&4294967295|O>>>27),O=V+(P^z&(C^P))+U[2]+4243563512&4294967295,V=C+(O<<9&4294967295|O>>>23),O=z+(C^P&(V^C))+U[7]+1735328473&4294967295,z=V+(O<<14&4294967295|O>>>18),O=P+(V^C&(z^V))+U[12]+2368359562&4294967295,P=z+(O<<20&4294967295|O>>>12),O=C+(P^z^V)+U[5]+4294588738&4294967295,C=P+(O<<4&4294967295|O>>>28),O=V+(C^P^z)+U[8]+2272392833&4294967295,V=C+(O<<11&4294967295|O>>>21),O=z+(V^C^P)+U[11]+1839030562&4294967295,z=V+(O<<16&4294967295|O>>>16),O=P+(z^V^C)+U[14]+4259657740&4294967295,P=z+(O<<23&4294967295|O>>>9),O=C+(P^z^V)+U[1]+2763975236&4294967295,C=P+(O<<4&4294967295|O>>>28),O=V+(C^P^z)+U[4]+1272893353&4294967295,V=C+(O<<11&4294967295|O>>>21),O=z+(V^C^P)+U[7]+4139469664&4294967295,z=V+(O<<16&4294967295|O>>>16),O=P+(z^V^C)+U[10]+3200236656&4294967295,P=z+(O<<23&4294967295|O>>>9),O=C+(P^z^V)+U[13]+681279174&4294967295,C=P+(O<<4&4294967295|O>>>28),O=V+(C^P^z)+U[0]+3936430074&4294967295,V=C+(O<<11&4294967295|O>>>21),O=z+(V^C^P)+U[3]+3572445317&4294967295,z=V+(O<<16&4294967295|O>>>16),O=P+(z^V^C)+U[6]+76029189&4294967295,P=z+(O<<23&4294967295|O>>>9),O=C+(P^z^V)+U[9]+3654602809&4294967295,C=P+(O<<4&4294967295|O>>>28),O=V+(C^P^z)+U[12]+3873151461&4294967295,V=C+(O<<11&4294967295|O>>>21),O=z+(V^C^P)+U[15]+530742520&4294967295,z=V+(O<<16&4294967295|O>>>16),O=P+(z^V^C)+U[2]+3299628645&4294967295,P=z+(O<<23&4294967295|O>>>9),O=C+(z^(P|~V))+U[0]+4096336452&4294967295,C=P+(O<<6&4294967295|O>>>26),O=V+(P^(C|~z))+U[7]+1126891415&4294967295,V=C+(O<<10&4294967295|O>>>22),O=z+(C^(V|~P))+U[14]+2878612391&4294967295,z=V+(O<<15&4294967295|O>>>17),O=P+(V^(z|~C))+U[5]+4237533241&4294967295,P=z+(O<<21&4294967295|O>>>11),O=C+(z^(P|~V))+U[12]+1700485571&4294967295,C=P+(O<<6&4294967295|O>>>26),O=V+(P^(C|~z))+U[3]+2399980690&4294967295,V=C+(O<<10&4294967295|O>>>22),O=z+(C^(V|~P))+U[10]+4293915773&4294967295,z=V+(O<<15&4294967295|O>>>17),O=P+(V^(z|~C))+U[1]+2240044497&4294967295,P=z+(O<<21&4294967295|O>>>11),O=C+(z^(P|~V))+U[8]+1873313359&4294967295,C=P+(O<<6&4294967295|O>>>26),O=V+(P^(C|~z))+U[15]+4264355552&4294967295,V=C+(O<<10&4294967295|O>>>22),O=z+(C^(V|~P))+U[6]+2734768916&4294967295,z=V+(O<<15&4294967295|O>>>17),O=P+(V^(z|~C))+U[13]+1309151649&4294967295,P=z+(O<<21&4294967295|O>>>11),O=C+(z^(P|~V))+U[4]+4149444226&4294967295,C=P+(O<<6&4294967295|O>>>26),O=V+(P^(C|~z))+U[11]+3174756917&4294967295,V=C+(O<<10&4294967295|O>>>22),O=z+(C^(V|~P))+U[2]+718787259&4294967295,z=V+(O<<15&4294967295|O>>>17),O=P+(V^(z|~C))+U[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(z+(O<<21&4294967295|O>>>11))&4294967295,D.g[2]=D.g[2]+z&4294967295,D.g[3]=D.g[3]+V&4294967295}i.prototype.v=function(D,C){C===void 0&&(C=D.length);const P=C-this.blockSize,U=this.C;let z=this.h,V=0;for(;V<C;){if(z==0)for(;V<=P;)a(this,D,V),V+=this.blockSize;if(typeof D=="string"){for(;V<C;)if(U[z++]=D.charCodeAt(V++),z==this.blockSize){a(this,U),z=0;break}}else for(;V<C;)if(U[z++]=D[V++],z==this.blockSize){a(this,U),z=0;break}}this.h=z,this.o+=C},i.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;C=this.o*8;for(var P=D.length-8;P<D.length;++P)D[P]=C&255,C/=256;for(this.v(D),D=Array(16),C=0,P=0;P<4;++P)for(let U=0;U<32;U+=8)D[C++]=this.g[P]>>>U&255;return D};function l(D,C){var P=h;return Object.prototype.hasOwnProperty.call(P,D)?P[D]:P[D]=C(D)}function c(D,C){this.h=C;const P=[];let U=!0;for(let z=D.length-1;z>=0;z--){const V=D[z]|0;U&&V==C||(P[z]=V,U=!1)}this.g=P}var h={};function d(D){return-128<=D&&D<128?l(D,function(C){return new c([C|0],C<0?-1:0)}):new c([D|0],D<0?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return N(m(-D));const C=[];let P=1;for(let U=0;D>=P;U++)C[U]=D/P|0,P*=4294967296;return new c(C,0)}function g(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return N(g(D.substring(1),C));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=m(Math.pow(C,8));let U=b;for(let V=0;V<D.length;V+=8){var z=Math.min(8,D.length-V);const O=parseInt(D.substring(V,V+z),C);z<8?(z=m(Math.pow(C,z)),U=U.j(z).add(m(O))):(U=U.j(P),U=U.add(m(O)))}return U}var b=d(0),x=d(1),A=d(16777216);t=c.prototype,t.m=function(){if(I(this))return-N(this).m();let D=0,C=1;for(let P=0;P<this.g.length;P++){const U=this.i(P);D+=(U>=0?U:4294967296+U)*C,C*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(k(this))return"0";if(I(this))return"-"+N(this).toString(D);const C=m(Math.pow(D,6));var P=this;let U="";for(;;){const z=oe(P,C).g;P=B(P,z.j(C));let V=((P.g.length>0?P.g[0]:P.h)>>>0).toString(D);if(P=z,k(P))return V+U;for(;V.length<6;)V="0"+V;U=V+U}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function k(D){if(D.h!=0)return!1;for(let C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function I(D){return D.h==-1}t.l=function(D){return D=B(this,D),I(D)?-1:k(D)?0:1};function N(D){const C=D.g.length,P=[];for(let U=0;U<C;U++)P[U]=~D.g[U];return new c(P,~D.h).add(x)}t.abs=function(){return I(this)?N(this):this},t.add=function(D){const C=Math.max(this.g.length,D.g.length),P=[];let U=0;for(let z=0;z<=C;z++){let V=U+(this.i(z)&65535)+(D.i(z)&65535),O=(V>>>16)+(this.i(z)>>>16)+(D.i(z)>>>16);U=O>>>16,V&=65535,O&=65535,P[z]=O<<16|V}return new c(P,P[P.length-1]&-2147483648?-1:0)};function B(D,C){return D.add(N(C))}t.j=function(D){if(k(this)||k(D))return b;if(I(this))return I(D)?N(this).j(N(D)):N(N(this).j(D));if(I(D))return N(this.j(N(D)));if(this.l(A)<0&&D.l(A)<0)return m(this.m()*D.m());const C=this.g.length+D.g.length,P=[];for(var U=0;U<2*C;U++)P[U]=0;for(U=0;U<this.g.length;U++)for(let z=0;z<D.g.length;z++){const V=this.i(U)>>>16,O=this.i(U)&65535,we=D.i(z)>>>16,xe=D.i(z)&65535;P[2*U+2*z]+=O*xe,H(P,2*U+2*z),P[2*U+2*z+1]+=V*xe,H(P,2*U+2*z+1),P[2*U+2*z+1]+=O*we,H(P,2*U+2*z+1),P[2*U+2*z+2]+=V*we,H(P,2*U+2*z+2)}for(D=0;D<C;D++)P[D]=P[2*D+1]<<16|P[2*D];for(D=C;D<2*C;D++)P[D]=0;return new c(P,0)};function H(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function q(D,C){this.g=D,this.h=C}function oe(D,C){if(k(C))throw Error("division by zero");if(k(D))return new q(b,b);if(I(D))return C=oe(N(D),C),new q(N(C.g),N(C.h));if(I(C))return C=oe(D,N(C)),new q(N(C.g),C.h);if(D.g.length>30){if(I(D)||I(C))throw Error("slowDivide_ only works with positive integers.");for(var P=x,U=C;U.l(D)<=0;)P=se(P),U=se(U);var z=ue(P,1),V=ue(U,1);for(U=ue(U,2),P=ue(P,2);!k(U);){var O=V.add(U);O.l(D)<=0&&(z=z.add(P),V=O),U=ue(U,1),P=ue(P,1)}return C=B(D,z.j(C)),new q(z,C)}for(z=b;D.l(C)>=0;){for(P=Math.max(1,Math.floor(D.m()/C.m())),U=Math.ceil(Math.log(P)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),V=m(P),O=V.j(C);I(O)||O.l(D)>0;)P-=U,V=m(P),O=V.j(C);k(V)&&(V=x),z=z.add(V),D=B(D,O)}return new q(z,D)}t.B=function(D){return oe(this,D).h},t.and=function(D){const C=Math.max(this.g.length,D.g.length),P=[];for(let U=0;U<C;U++)P[U]=this.i(U)&D.i(U);return new c(P,this.h&D.h)},t.or=function(D){const C=Math.max(this.g.length,D.g.length),P=[];for(let U=0;U<C;U++)P[U]=this.i(U)|D.i(U);return new c(P,this.h|D.h)},t.xor=function(D){const C=Math.max(this.g.length,D.g.length),P=[];for(let U=0;U<C;U++)P[U]=this.i(U)^D.i(U);return new c(P,this.h^D.h)};function se(D){const C=D.g.length+1,P=[];for(let U=0;U<C;U++)P[U]=D.i(U)<<1|D.i(U-1)>>>31;return new c(P,D.h)}function ue(D,C){const P=C>>5;C%=32;const U=D.g.length-P,z=[];for(let V=0;V<U;V++)z[V]=C>0?D.i(V+P)>>>C|D.i(V+P+1)<<32-C:D.i(V+P);return new c(z,D.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,AC=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=g,Oa=c}).apply(typeof lT<"u"?lT:typeof self<"u"?self:typeof window<"u"?window:{});var lf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var CC,Cu,RC,Df,m0,NC,IC,DC;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof lf=="object"&&lf];for(var w=0;w<f.length;++w){var E=f[w];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=n(this);function a(f,w){if(w)e:{var E=i;f=f.split(".");for(var M=0;M<f.length-1;M++){var ee=f[M];if(!(ee in E))break e;E=E[ee]}f=f[f.length-1],M=E[f],w=w(M),w!=M&&w!=null&&e(E,f,{configurable:!0,writable:!0,value:w})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(w){var E=[],M;for(M in w)Object.prototype.hasOwnProperty.call(w,M)&&E.push([M,w[M]]);return E}});var l=l||{},c=this||self;function h(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function d(f,w,E){return f.call.apply(f.bind,arguments)}function m(f,w,E){return m=d,m.apply(null,arguments)}function g(f,w){var E=Array.prototype.slice.call(arguments,1);return function(){var M=E.slice();return M.push.apply(M,arguments),f.apply(this,M)}}function b(f,w){function E(){}E.prototype=w.prototype,f.Z=w.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(M,ee,ae){for(var be=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)be[Ke-2]=arguments[Ke];return w.prototype[ee].apply(M,be)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function A(f){const w=f.length;if(w>0){const E=Array(w);for(let M=0;M<w;M++)E[M]=f[M];return E}return[]}function k(f,w){for(let M=1;M<arguments.length;M++){const ee=arguments[M];var E=typeof ee;if(E=E!="object"?E:ee?Array.isArray(ee)?"array":E:"null",E=="array"||E=="object"&&typeof ee.length=="number"){E=f.length||0;const ae=ee.length||0;f.length=E+ae;for(let be=0;be<ae;be++)f[E+be]=ee[be]}else f.push(ee)}}class I{constructor(w,E){this.i=w,this.j=E,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function N(f){c.setTimeout(()=>{throw f},0)}function B(){var f=D;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class H{constructor(){this.h=this.g=null}add(w,E){const M=q.get();M.set(w,E),this.h?this.h.next=M:this.g=M,this.h=M}}var q=new I(()=>new oe,f=>f.reset());class oe{constructor(){this.next=this.g=this.h=null}set(w,E){this.h=w,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ue=!1,D=new H,C=()=>{const f=Promise.resolve(void 0);se=()=>{f.then(P)}};function P(){for(var f;f=B();){try{f.h.call(f.g)}catch(E){N(E)}var w=q;w.j(f),w.h<100&&(w.h++,f.next=w.g,w.g=f)}ue=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};c.addEventListener("test",E,w),c.removeEventListener("test",E,w)}catch{}return f})();function O(f){return/^[\s\xa0]*$/.test(f)}function we(f,w){z.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,w)}b(we,z),we.prototype.init=function(f,w){const E=this.type=f.type,M=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget,w||(E=="mouseover"?w=f.fromElement:E=="mouseout"&&(w=f.toElement)),this.relatedTarget=w,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&we.Z.h.call(this)},we.prototype.h=function(){we.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var xe="closure_listenable_"+(Math.random()*1e6|0),J=0;function X(f,w,E,M,ee){this.listener=f,this.proxy=null,this.src=w,this.type=E,this.capture=!!M,this.ha=ee,this.key=++J,this.da=this.fa=!1}function $(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function K(f,w,E){for(const M in f)w.call(E,f[M],M,f)}function j(f,w){for(const E in f)w.call(void 0,f[E],E,f)}function T(f){const w={};for(const E in f)w[E]=f[E];return w}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(f,w){let E,M;for(let ee=1;ee<arguments.length;ee++){M=arguments[ee];for(E in M)f[E]=M[E];for(let ae=0;ae<L.length;ae++)E=L[ae],Object.prototype.hasOwnProperty.call(M,E)&&(f[E]=M[E])}}function ne(f){this.src=f,this.g={},this.h=0}ne.prototype.add=function(f,w,E,M,ee){const ae=f.toString();f=this.g[ae],f||(f=this.g[ae]=[],this.h++);const be=ye(f,w,M,ee);return be>-1?(w=f[be],E||(w.fa=!1)):(w=new X(w,this.src,ae,!!M,ee),w.fa=E,f.push(w)),w};function pe(f,w){const E=w.type;if(E in f.g){var M=f.g[E],ee=Array.prototype.indexOf.call(M,w,void 0),ae;(ae=ee>=0)&&Array.prototype.splice.call(M,ee,1),ae&&($(w),f.g[E].length==0&&(delete f.g[E],f.h--))}}function ye(f,w,E,M){for(let ee=0;ee<f.length;++ee){const ae=f[ee];if(!ae.da&&ae.listener==w&&ae.capture==!!E&&ae.ha==M)return ee}return-1}var ge="closure_lm_"+(Math.random()*1e6|0),Ee={};function Te(f,w,E,M,ee){if(Array.isArray(w)){for(let ae=0;ae<w.length;ae++)Te(f,w[ae],E,M,ee);return null}return E=Yt(E),f&&f[xe]?f.J(w,E,h(M)?!!M.capture:!1,ee):Se(f,w,E,!1,M,ee)}function Se(f,w,E,M,ee,ae){if(!w)throw Error("Invalid event type");const be=h(ee)?!!ee.capture:!!ee;let Ke=vt(f);if(Ke||(f[ge]=Ke=new ne(f)),E=Ke.add(w,E,M,be,ae),E.proxy)return E;if(M=Be(),E.proxy=M,M.src=f,M.listener=E,f.addEventListener)V||(ee=be),ee===void 0&&(ee=!1),f.addEventListener(w.toString(),M,ee);else if(f.attachEvent)f.attachEvent(ke(w.toString()),M);else if(f.addListener&&f.removeListener)f.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Be(){function f(E){return w.call(f.src,f.listener,E)}const w=yt;return f}function Ue(f,w,E,M,ee){if(Array.isArray(w))for(var ae=0;ae<w.length;ae++)Ue(f,w[ae],E,M,ee);else M=h(M)?!!M.capture:!!M,E=Yt(E),f&&f[xe]?(f=f.i,ae=String(w).toString(),ae in f.g&&(w=f.g[ae],E=ye(w,E,M,ee),E>-1&&($(w[E]),Array.prototype.splice.call(w,E,1),w.length==0&&(delete f.g[ae],f.h--)))):f&&(f=vt(f))&&(w=f.g[w.toString()],f=-1,w&&(f=ye(w,E,M,ee)),(E=f>-1?w[f]:null)&&et(E))}function et(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[xe])pe(w.i,f);else{var E=f.type,M=f.proxy;w.removeEventListener?w.removeEventListener(E,M,f.capture):w.detachEvent?w.detachEvent(ke(E),M):w.addListener&&w.removeListener&&w.removeListener(M),(E=vt(w))?(pe(E,f),E.h==0&&(E.src=null,w[ge]=null)):$(f)}}}function ke(f){return f in Ee?Ee[f]:Ee[f]="on"+f}function yt(f,w){if(f.da)f=!0;else{w=new we(w,this);const E=f.listener,M=f.ha||f.src;f.fa&&et(f),f=E.call(M,w)}return f}function vt(f){return f=f[ge],f instanceof ne?f:null}var Kt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Yt(f){return typeof f=="function"?f:(f[Kt]||(f[Kt]=function(w){return f.handleEvent(w)}),f[Kt])}function ot(){U.call(this),this.i=new ne(this),this.M=this,this.G=null}b(ot,U),ot.prototype[xe]=!0,ot.prototype.removeEventListener=function(f,w,E,M){Ue(this,f,w,E,M)};function $e(f,w){var E,M=f.G;if(M)for(E=[];M;M=M.G)E.push(M);if(f=f.M,M=w.type||w,typeof w=="string")w=new z(w,f);else if(w instanceof z)w.target=w.target||f;else{var ee=w;w=new z(M,f),Y(w,ee)}ee=!0;let ae,be;if(E)for(be=E.length-1;be>=0;be--)ae=w.g=E[be],ee=Cn(ae,M,!0,w)&&ee;if(ae=w.g=f,ee=Cn(ae,M,!0,w)&&ee,ee=Cn(ae,M,!1,w)&&ee,E)for(be=0;be<E.length;be++)ae=w.g=E[be],ee=Cn(ae,M,!1,w)&&ee}ot.prototype.N=function(){if(ot.Z.N.call(this),this.i){var f=this.i;for(const w in f.g){const E=f.g[w];for(let M=0;M<E.length;M++)$(E[M]);delete f.g[w],f.h--}}this.G=null},ot.prototype.J=function(f,w,E,M){return this.i.add(String(f),w,!1,E,M)},ot.prototype.K=function(f,w,E,M){return this.i.add(String(f),w,!0,E,M)};function Cn(f,w,E,M){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();let ee=!0;for(let ae=0;ae<w.length;++ae){const be=w[ae];if(be&&!be.da&&be.capture==E){const Ke=be.listener,hn=be.ha||be.src;be.fa&&pe(f.i,be),ee=Ke.call(hn,M)!==!1&&ee}}return ee&&!M.defaultPrevented}function sn(f,w){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:c.setTimeout(f,w||0)}function ci(f){f.g=sn(()=>{f.g=null,f.i&&(f.i=!1,ci(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class Ut extends U{constructor(w,E){super(),this.m=w,this.l=E,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ci(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bi(f){U.call(this),this.h=f,this.g={}}b(bi,U);var xi=[];function Mn(f){K(f.g,function(w,E){this.g.hasOwnProperty(E)&&et(w)},f),f.g={}}bi.prototype.N=function(){bi.Z.N.call(this),Mn(this)},bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dt=c.JSON.stringify,ui=c.JSON.parse,wi=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function pn(){}function ps(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function bt(){z.call(this,"d")}b(bt,z);function On(){z.call(this,"c")}b(On,z);var St={},Xr=null;function gs(){return Xr=Xr||new ot}St.Ia="serverreachability";function ys(f){z.call(this,St.Ia,f)}b(ys,z);function _i(f){const w=gs();$e(w,new ys(w))}St.STAT_EVENT="statevent";function Ti(f,w){z.call(this,St.STAT_EVENT,f),this.stat=w}b(Ti,z);function Ve(f){const w=gs();$e(w,new Ti(w,f))}St.Ja="timingevent";function xt(f,w){z.call(this,St.Ja,f),this.size=w}b(xt,z);function kt(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},w)}function zt(){this.g=!0}zt.prototype.ua=function(){this.g=!1};function rn(f,w,E,M,ee,ae){f.info(function(){if(f.g)if(ae){var be="",Ke=ae.split("&");for(let mt=0;mt<Ke.length;mt++){var hn=Ke[mt].split("=");if(hn.length>1){const Ht=hn[0];hn=hn[1];const Ji=Ht.split("_");be=Ji.length>=2&&Ji[1]=="type"?be+(Ht+"="+hn+"&"):be+(Ht+"=redacted&")}}}else be=null;else be=ae;return"XMLHTTP REQ ("+M+") [attempt "+ee+"]: "+w+`
`+E+`
`+be})}function gn(f,w,E,M,ee,ae,be){f.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+ee+"]: "+w+`
`+E+`
`+ae+" "+be})}function Xt(f,w,E,M){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+Wt(f,E)+(M?" "+M:"")})}function Qn(f,w){f.info(function(){return"TIMEOUT: "+w})}zt.prototype.info=function(){};function Wt(f,w){if(!f.g)return w;if(!w)return null;try{const ae=JSON.parse(w);if(ae){for(f=0;f<ae.length;f++)if(Array.isArray(ae[f])){var E=ae[f];if(!(E.length<2)){var M=E[1];if(Array.isArray(M)&&!(M.length<1)){var ee=M[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(let be=1;be<M.length;be++)M[be]=""}}}}return Dt(ae)}catch{return w}}var Vn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Qt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Pt;function yn(){}b(yn,pn),yn.prototype.g=function(){return new XMLHttpRequest},Pt=new yn;function Jt(f){return encodeURIComponent(String(f))}function Jn(f){var w=1;f=f.split(":");const E=[];for(;w>0&&f.length;)E.push(f.shift()),w--;return f.length&&E.push(f.join(":")),E}function un(f,w,E,M){this.j=f,this.i=w,this.l=E,this.S=M||1,this.V=new bi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var Ot={},ut={};function hi(f,w,E){f.M=1,f.A=Ft(Q(w)),f.u=E,f.R=!0,Zn(f,null)}function Zn(f,w){f.F=Date.now(),Vi(f),f.B=Q(f.A);var E=f.B,M=f.S;Array.isArray(M)||(M=[String(M)]),el(E.i,"t",M),f.C=0,E=f.j.L,f.h=new qn,f.g=Jh(f.j,E?w:null,!f.u),f.P>0&&(f.O=new Ut(m(f.Y,f,f.g),f.P)),w=f.V,E=f.g,M=f.ba;var ee="readystatechange";Array.isArray(ee)||(ee&&(xi[0]=ee.toString()),ee=xi);for(let ae=0;ae<ee.length;ae++){const be=Te(E,ee[ae],M||w.handleEvent,!1,w.h||w);if(!be)break;w.g[be.key]=be}w=f.J?T(f.J):{},f.u?(f.v||(f.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,w)):(f.v="GET",f.g.ea(f.B,f.v,null,w)),_i(),rn(f.i,f.v,f.B,f.l,f.S,f.u)}un.prototype.ba=function(f){f=f.target;const w=this.O;w&&xs(f)==3?w.j():this.Y(f)},un.prototype.Y=function(f){try{if(f==this.g)e:{const Ke=xs(this.g),hn=this.g.ya(),mt=this.g.ca();if(!(Ke<3)&&(Ke!=3||this.g&&(this.h.h||this.g.la()||Hn(this.g)))){this.K||Ke!=4||hn==7||(hn==8||mt<=0?_i(3):_i(2)),ji(this);var w=this.g.ca();this.X=w;var E=eo(this);if(this.o=w==200,gn(this.i,this.v,this.B,this.l,this.S,Ke,w),this.o){if(this.U&&!this.L){t:{if(this.g){var M,ee=this.g;if((M=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(M)){var ae=M;break t}}ae=null}if(f=ae)Xt(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,f);else{this.o=!1,this.m=3,Ve(12),ei(this),Ei(this);break e}}if(this.R){f=!0;let Ht;for(;!this.K&&this.C<E.length;)if(Ht=ur(this,E),Ht==ut){Ke==4&&(this.m=4,Ve(14),f=!1),Xt(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==Ot){this.m=4,Ve(15),Xt(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else Xt(this.i,this.l,Ht,null),Si(this,Ht);if(Us(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||E.length!=0||this.h.h||(this.m=1,Ve(16),f=!1),this.o=this.o&&f,!f)Xt(this.i,this.l,E,"[Invalid Chunked Response]"),ei(this),Ei(this);else if(E.length>0&&!this.W){this.W=!0;var be=this.j;be.g==this&&be.aa&&!be.P&&(be.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Pc(be),be.P=!0,Ve(11))}}else Xt(this.i,this.l,E,null),Si(this,E);Ke==4&&ei(this),this.o&&!this.K&&(Ke==4?Yh(this.j,this):(this.o=!1,Vi(this)))}else fr(this.g),w==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ve(12)):(this.m=0,Ve(13)),ei(this),Ei(this)}}}catch{}};function eo(f){if(!Us(f))return f.g.la();const w=Hn(f.g);if(w==="")return"";let E="";const M=w.length,ee=xs(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return ei(f),Ei(f),"";f.h.i=new c.TextDecoder}for(let ae=0;ae<M;ae++)f.h.h=!0,E+=f.h.i.decode(w[ae],{stream:!(ee&&ae==M-1)});return w.length=0,f.h.g+=E,f.C=0,f.h.g}function Us(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function ur(f,w){var E=f.C,M=w.indexOf(`
`,E);return M==-1?ut:(E=Number(w.substring(E,M)),isNaN(E)?Ot:(M+=1,M+E>w.length?ut:(w=w.slice(M,M+E),f.C=M+E,w)))}un.prototype.cancel=function(){this.K=!0,ei(this)};function Vi(f){f.T=Date.now()+f.H,Wr(f,f.H)}function Wr(f,w){if(f.D!=null)throw Error("WatchDog timer not null");f.D=kt(m(f.aa,f),w)}function ji(f){f.D&&(c.clearTimeout(f.D),f.D=null)}un.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Qn(this.i,this.B),this.M!=2&&(_i(),Ve(17)),ei(this),this.m=2,Ei(this)):Wr(this,this.T-f)};function Ei(f){f.j.I==0||f.K||Yh(f.j,f)}function ei(f){ji(f);var w=f.O;w&&typeof w.dispose=="function"&&w.dispose(),f.O=null,Mn(f.V),f.g&&(w=f.g,f.g=null,w.abort(),w.dispose())}function Si(f,w){try{var E=f.j;if(E.I!=0&&(E.g==f||Xi(E.h,f))){if(!f.L&&Xi(E.h,f)&&E.I==3){try{var M=E.Ba.g.parse(w)}catch{M=null}if(Array.isArray(M)&&M.length==3){var ee=M;if(ee[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)rl(E),ia(E);else break e;uo(E),Ve(18)}}else E.xa=ee[1],0<E.xa-E.K&&ee[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=kt(m(E.Va,E),6e3));Li(E.h)<=1&&E.ta&&(E.ta=void 0)}else Hs(E,11)}else if((f.L||E.g==f)&&rl(E),!O(w))for(ee=E.Ba.g.parse(w),w=0;w<ee.length;w++){let mt=ee[w];const Ht=mt[0];if(!(Ht<=E.K))if(E.K=Ht,mt=mt[1],E.I==2)if(mt[0]=="c"){E.M=mt[1],E.ba=mt[2];const Ji=mt[3];Ji!=null&&(E.ka=Ji,E.j.info("VER="+E.ka));const Gs=mt[4];Gs!=null&&(E.za=Gs,E.j.info("SVER="+E.za));const ws=mt[5];ws!=null&&typeof ws=="number"&&ws>0&&(M=1.5*ws,E.O=M,E.j.info("backChannelRequestTimeoutMs_="+M)),M=E;const _s=f.g;if(_s){const ho=_s.g?_s.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ho){var ae=M.h;ae.g||ho.indexOf("spdy")==-1&&ho.indexOf("quic")==-1&&ho.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(io(ae,ae.h),ae.h=null))}if(M.G){const al=_s.g?_s.g.getResponseHeader("X-HTTP-Session-Id"):null;al&&(M.wa=al,Le(M.J,M.G,al))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),M=E;var be=f;if(M.na=Qh(M,M.L?M.ba:null,M.W),be.L){an(M.h,be);var Ke=be,hn=M.O;hn&&(Ke.H=hn),Ke.D&&(ji(Ke),Vi(Ke)),M.g=be}else $h(M);E.i.length>0&&qs(E)}else mt[0]!="stop"&&mt[0]!="close"||Hs(E,7);else E.I==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?Hs(E,7):kc(E):mt[0]!="noop"&&E.l&&E.l.qa(mt),E.A=0)}}_i(4)}catch{}}var Zt=class{constructor(f,w){this.g=f,this.map=w}};function to(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function no(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Li(f){return f.h?1:f.g?f.g.size:0}function Xi(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function io(f,w){f.g?f.g.add(w):f.h=w}function an(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}to.prototype.cancel=function(){if(this.i=Jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Jo(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const E of f.g.values())w=w.concat(E.G);return w}return A(f.i)}var so=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hr(f,w){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const M=f[E].indexOf("=");let ee,ae=null;M>=0?(ee=f[E].substring(0,M),ae=f[E].substring(M+1)):ee=f[E],w(ee,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function di(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;f instanceof di?(this.l=f.l,ve(this,f.j),this.o=f.o,this.g=f.g,wt(this,f.u),this.h=f.h,Bt(this,Hh(f.i)),this.m=f.m):f&&(w=String(f).match(so))?(this.l=!1,ve(this,w[1]||"",!0),this.o=qt(w[2]||""),this.g=qt(w[3]||"",!0),wt(this,w[4]),this.h=qt(w[5]||"",!0),Bt(this,w[6]||"",!0),this.m=qt(w[7]||"")):(this.l=!1,this.i=new Jr(null,this.l))}di.prototype.toString=function(){const f=[];var w=this.j;w&&f.push(jn(w,Zo,!0),":");var E=this.g;return(E||w=="file")&&(f.push("//"),(w=this.o)&&f.push(jn(w,Zo,!0),"@"),f.push(Jt(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(jn(E,E.charAt(0)=="/"?Ac:Bh,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",jn(E,Fh)),f.join("")},di.prototype.resolve=function(f){const w=Q(this);let E=!!f.j;E?ve(w,f.j):E=!!f.o,E?w.o=f.o:E=!!f.g,E?w.g=f.g:E=f.u!=null;var M=f.h;if(E)wt(w,f.u);else if(E=!!f.h){if(M.charAt(0)!="/")if(this.g&&!this.h)M="/"+M;else{var ee=w.h.lastIndexOf("/");ee!=-1&&(M=w.h.slice(0,ee+1)+M)}if(ee=M,ee==".."||ee==".")M="";else if(ee.indexOf("./")!=-1||ee.indexOf("/.")!=-1){M=ee.lastIndexOf("/",0)==0,ee=ee.split("/");const ae=[];for(let be=0;be<ee.length;){const Ke=ee[be++];Ke=="."?M&&be==ee.length&&ae.push(""):Ke==".."?((ae.length>1||ae.length==1&&ae[0]!="")&&ae.pop(),M&&be==ee.length&&ae.push("")):(ae.push(Ke),M=!0)}M=ae.join("/")}else M=ee}return E?w.h=M:E=f.i.toString()!=="",E?Bt(w,Hh(f.i)):E=!!f.m,E&&(w.m=f.m),w};function Q(f){return new di(f)}function ve(f,w,E){f.j=E?qt(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function wt(f,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);f.u=w}else f.u=null}function Bt(f,w,E){w instanceof Jr?(f.i=w,tl(f.i,f.l)):(E||(w=jn(w,Qr)),f.i=new Jr(w,f.l))}function Le(f,w,E){f.i.set(w,E)}function Ft(f){return Le(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function qt(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function jn(f,w,E){return typeof f=="string"?(f=encodeURI(f).replace(w,Ai),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Ai(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Zo=/[#\/\?@]/g,Bh=/[#\?:]/g,Ac=/[#\?]/g,Qr=/[#\?@]/g,Fh=/#/g;function Jr(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function Ci(f){f.g||(f.g=new Map,f.h=0,f.i&&hr(f.i,function(w,E){f.add(decodeURIComponent(w.replace(/\+/g," ")),E)}))}t=Jr.prototype,t.add=function(f,w){Ci(this),this.i=null,f=Zr(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(w),this.h+=1,this};function qh(f,w){Ci(f),w=Zr(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function Cc(f,w){return Ci(f),w=Zr(f,w),f.g.has(w)}t.forEach=function(f,w){Ci(this),this.g.forEach(function(E,M){E.forEach(function(ee){f.call(w,ee,M,this)},this)},this)};function Rc(f,w){Ci(f);let E=[];if(typeof w=="string")Cc(f,w)&&(E=E.concat(f.g.get(Zr(f,w))));else for(f=Array.from(f.g.values()),w=0;w<f.length;w++)E=E.concat(f[w]);return E}t.set=function(f,w){return Ci(this),this.i=null,f=Zr(this,f),Cc(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},t.get=function(f,w){return f?(f=Rc(this,f),f.length>0?String(f[0]):w):w};function el(f,w,E){qh(f,w),E.length>0&&(f.i=null,f.g.set(Zr(f,w),A(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(let M=0;M<w.length;M++){var E=w[M];const ee=Jt(E);E=Rc(this,E);for(let ae=0;ae<E.length;ae++){let be=ee;E[ae]!==""&&(be+="="+Jt(E[ae])),f.push(be)}}return this.i=f.join("&")};function Hh(f){const w=new Jr;return w.i=f.i,f.g&&(w.g=new Map(f.g),w.h=f.h),w}function Zr(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function tl(f,w){w&&!f.j&&(Ci(f),f.i=null,f.g.forEach(function(E,M){const ee=M.toLowerCase();M!=ee&&(qh(this,M),el(this,ee,E))},f)),f.j=w}function vs(f,w){const E=new zt;if(c.Image){const M=new Image;M.onload=g(Wi,E,"TestLoadImage: loaded",!0,w,M),M.onerror=g(Wi,E,"TestLoadImage: error",!1,w,M),M.onabort=g(Wi,E,"TestLoadImage: abort",!1,w,M),M.ontimeout=g(Wi,E,"TestLoadImage: timeout",!1,w,M),c.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=f}else w(!1)}function Nc(f,w){const E=new zt,M=new AbortController,ee=setTimeout(()=>{M.abort(),Wi(E,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:M.signal}).then(ae=>{clearTimeout(ee),ae.ok?Wi(E,"TestPingServer: ok",!0,w):Wi(E,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(ee),Wi(E,"TestPingServer: error",!1,w)})}function Wi(f,w,E,M,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),M(E)}catch{}}function ea(){this.g=new wi}function zs(f){this.i=f.Sb||null,this.h=f.ab||!1}b(zs,pn),zs.prototype.g=function(){return new ro(this.i,this.h)};function ro(f,w){ot.call(this),this.H=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ro,ot),t=ro.prototype,t.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=w,this.readyState=1,bs(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(w.body=f),(this.H||c).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ta(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,bs(this)),this.g&&(this.readyState=3,bs(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;nl(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function nl(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?ta(this):bs(this),this.readyState==3&&nl(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,ta(this))},t.Na=function(f){this.g&&(this.response=f,ta(this))},t.ga=function(){this.g&&ta(this)};function ta(f){f.readyState=4,f.l=null,f.j=null,f.B=null,bs(f)}t.setRequestHeader=function(f,w){this.A.append(f,w)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var E=w.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=w.next();return f.join(`\r
`)};function bs(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ro.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Qi(f){let w="";return K(f,function(E,M){w+=M,w+=":",w+=E,w+=`\r
`}),w}function ao(f,w,E){e:{for(M in E){var M=!1;break e}M=!0}M||(E=Qi(E),typeof f=="string"?E!=null&&Jt(E):Le(f,w,E))}function At(f){ot.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(At,ot);var Bs=/^https?$/i,Ic=["POST","PUT"];t=At.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,w,E,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Pt.g(),this.g.onreadystatechange=x(m(this.Ca,this));try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(ae){oo(this,ae);return}if(f=E||"",E=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var ee in M)E.set(ee,M[ee]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const ae of M.keys())E.set(ae,M.get(ae));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(E.keys()).find(ae=>ae.toLowerCase()=="content-type"),ee=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(Ic,w,void 0)>=0)||M||ee||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,be]of E)this.g.setRequestHeader(ae,be);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(ae){oo(this,ae)}};function oo(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.o=5,Dc(f),dr(f)}function Dc(f){f.A||(f.A=!0,$e(f,"complete"),$e(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,$e(this,"complete"),$e(this,"abort"),dr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dr(this,!0)),At.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?lo(this):this.Xa())},t.Xa=function(){lo(this)};function lo(f){if(f.h&&typeof l<"u"){if(f.v&&xs(f)==4)setTimeout(f.Ca.bind(f),0);else if($e(f,"readystatechange"),xs(f)==4){f.h=!1;try{const ae=f.ca();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var E;if(!(E=w)){var M;if(M=ae===0){let be=String(f.D).match(so)[1]||null;!be&&c.self&&c.self.location&&(be=c.self.location.protocol.slice(0,-1)),M=!Bs.test(be?be.toLowerCase():"")}E=M}if(E)$e(f,"complete"),$e(f,"success");else{f.o=6;try{var ee=xs(f)>2?f.g.statusText:""}catch{ee=""}f.l=ee+" ["+f.ca()+"]",Dc(f)}}finally{dr(f)}}}}function dr(f,w){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,w||$e(f,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function xs(f){return f.g?f.g.readyState:0}t.ca=function(){try{return xs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),ui(w)}};function Hn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function fr(f){const w={};f=(f.g&&xs(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<f.length;M++){if(O(f[M]))continue;var E=Jn(f[M]);const ee=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ae=w[ee]||[];w[ee]=ae,ae.push(E)}j(w,function(M){return M.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fs(f,w,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||w}function na(f){this.za=0,this.i=[],this.j=new zt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fs("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fs("baseRetryDelayMs",5e3,f),this.Za=Fs("retryDelaySeedMs",1e4,f),this.Ta=Fs("forwardChannelMaxRetries",2,f),this.va=Fs("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new to(f&&f.concurrentRequestLimit),this.Ba=new ea,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=na.prototype,t.ka=8,t.I=1,t.connect=function(f,w,E,M){Ve(0),this.W=f,this.H=w||{},E&&M!==void 0&&(this.H.OSID=E,this.H.OAID=M),this.F=this.X,this.J=Qh(this,null,this.W),qs(this)};function kc(f){if(il(f),f.I==3){var w=f.V++,E=Q(f.J);if(Le(E,"SID",f.M),Le(E,"RID",w),Le(E,"TYPE","terminate"),co(f,E),w=new un(f,f.j,w),w.M=2,w.A=Ft(Q(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(w.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=w.A,E=!0),E||(w.g=Jh(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Vi(w)}Wh(f)}function ia(f){f.g&&(Pc(f),f.g.cancel(),f.g=null)}function il(f){ia(f),f.v&&(c.clearTimeout(f.v),f.v=null),rl(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function qs(f){if(!no(f.h)&&!f.m){f.m=!0;var w=f.Ea;se||C(),ue||(se(),ue=!0),D.add(w,f),f.D=0}}function sl(f,w){return Li(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=w.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=kt(m(f.Ea,f,w),Xh(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const ee=new un(this,this.j,f);let ae=this.o;if(this.U&&(ae?(ae=T(ae),Y(ae,this.U)):ae=this.U),this.u!==null||this.R||(ee.J=ae,ae=null),this.S)e:{for(var w=0,E=0;E<this.i.length;E++){t:{var M=this.i[E];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(w+=M,w>4096){w=E;break e}if(w===4096||E===this.i.length-1){w=E+1;break e}}w=1e3}else w=1e3;w=Gh(this,ee,w),E=Q(this.J),Le(E,"RID",f),Le(E,"CVER",22),this.G&&Le(E,"X-HTTP-Session-Id",this.G),co(this,E),ae&&(this.R?w="headers="+Jt(Qi(ae))+"&"+w:this.u&&ao(E,this.u,ae)),io(this.h,ee),this.Ra&&Le(E,"TYPE","init"),this.S?(Le(E,"$req",w),Le(E,"SID","null"),ee.U=!0,hi(ee,E,null)):hi(ee,E,w),this.I=2}}else this.I==3&&(f?Mc(this,f):this.i.length==0||no(this.h)||Mc(this))};function Mc(f,w){var E;w?E=w.l:E=f.V++;const M=Q(f.J);Le(M,"SID",f.M),Le(M,"RID",E),Le(M,"AID",f.K),co(f,M),f.u&&f.o&&ao(M,f.u,f.o),E=new un(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),w&&(f.i=w.G.concat(f.i)),w=Gh(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),io(f.h,E),hi(E,M,w)}function co(f,w){f.H&&K(f.H,function(E,M){Le(w,M,E)}),f.l&&K({},function(E,M){Le(w,M,E)})}function Gh(f,w,E){E=Math.min(f.i.length,E);const M=f.l?m(f.l.Ka,f.l,f):null;e:{var ee=f.i;let Ke=-1;for(;;){const hn=["count="+E];Ke==-1?E>0?(Ke=ee[0].g,hn.push("ofs="+Ke)):Ke=0:hn.push("ofs="+Ke);let mt=!0;for(let Ht=0;Ht<E;Ht++){var ae=ee[Ht].g;const Ji=ee[Ht].map;if(ae-=Ke,ae<0)Ke=Math.max(0,ee[Ht].g-100),mt=!1;else try{ae="req"+ae+"_"||"";try{var be=Ji instanceof Map?Ji:Object.entries(Ji);for(const[Gs,ws]of be){let _s=ws;h(ws)&&(_s=Dt(ws)),hn.push(ae+Gs+"="+encodeURIComponent(_s))}}catch(Gs){throw hn.push(ae+"type="+encodeURIComponent("_badmap")),Gs}}catch{M&&M(Ji)}}if(mt){be=hn.join("&");break e}}be=void 0}return f=f.i.splice(0,E),w.G=f,be}function $h(f){if(!f.g&&!f.v){f.Y=1;var w=f.Da;se||C(),ue||(se(),ue=!0),D.add(w,f),f.A=0}}function uo(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=kt(m(f.Da,f),Xh(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,Kh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=kt(m(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ve(10),ia(this),Kh(this))};function Pc(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function Kh(f){f.g=new un(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var w=Q(f.na);Le(w,"RID","rpc"),Le(w,"SID",f.M),Le(w,"AID",f.K),Le(w,"CI",f.F?"0":"1"),!f.F&&f.ia&&Le(w,"TO",f.ia),Le(w,"TYPE","xmlhttp"),co(f,w),f.u&&f.o&&ao(w,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=Ft(Q(w)),E.u=null,E.R=!0,Zn(E,f)}t.Va=function(){this.C!=null&&(this.C=null,ia(this),uo(this),Ve(19))};function rl(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Yh(f,w){var E=null;if(f.g==w){rl(f),Pc(f),f.g=null;var M=2}else if(Xi(f.h,w))E=w.G,an(f.h,w),M=1;else return;if(f.I!=0){if(w.o)if(M==1){E=w.u?w.u.length:0,w=Date.now()-w.F;var ee=f.D;M=gs(),$e(M,new xt(M,E)),qs(f)}else $h(f);else if(ee=w.m,ee==3||ee==0&&w.X>0||!(M==1&&sl(f,w)||M==2&&uo(f)))switch(E&&E.length>0&&(w=f.h,w.i=w.i.concat(E)),ee){case 1:Hs(f,5);break;case 4:Hs(f,10);break;case 3:Hs(f,6);break;default:Hs(f,2)}}}function Xh(f,w){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*w}function Hs(f,w){if(f.j.info("Error code "+w),w==2){var E=m(f.bb,f),M=f.Ua;const ee=!M;M=new di(M||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ve(M,"https"),Ft(M),ee?vs(M.toString(),E):Nc(M.toString(),E)}else Ve(2);f.I=0,f.l&&f.l.pa(w),Wh(f),il(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function Wh(f){if(f.I=0,f.ja=[],f.l){const w=Jo(f.h);(w.length!=0||f.i.length!=0)&&(k(f.ja,w),k(f.ja,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.oa()}}function Qh(f,w,E){var M=E instanceof di?Q(E):new di(E);if(M.g!="")w&&(M.g=w+"."+M.g),wt(M,M.u);else{var ee=c.location;M=ee.protocol,w=w?w+"."+ee.hostname:ee.hostname,ee=+ee.port;const ae=new di(null);M&&ve(ae,M),w&&(ae.g=w),ee&&wt(ae,ee),E&&(ae.h=E),M=ae}return E=f.G,w=f.wa,E&&w&&Le(M,E,w),Le(M,"VER",f.ka),co(f,M),M}function Jh(f,w,E){if(w&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Aa&&!f.ma?new At(new zs({ab:E})):new At(f.ma),w.Fa(f.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zh(){}t=Zh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function sa(){}sa.prototype.g=function(f,w){return new fi(f,w)};function fi(f,w){ot.call(this),this.g=new na(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(f?f["X-WebChannel-Client-Profile"]=w.sa:f={"X-WebChannel-Client-Profile":w.sa}),this.g.U=f,(f=w&&w.Qb)&&!O(f)&&(this.g.u=f),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!O(w)&&(this.g.G=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new mr(this)}b(fi,ot),fi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fi.prototype.close=function(){kc(this.g)},fi.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=Dt(f),f=E);w.i.push(new Zt(w.Ya++,f)),w.I==3&&qs(w)},fi.prototype.N=function(){this.g.l=null,delete this.j,kc(this.g),delete this.g,fi.Z.N.call(this)};function ed(f){bt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const E in w){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}b(ed,bt);function td(){On.call(this),this.status=1}b(td,On);function mr(f){this.g=f}b(mr,Zh),mr.prototype.ra=function(){$e(this.g,"a")},mr.prototype.qa=function(f){$e(this.g,new ed(f))},mr.prototype.pa=function(f){$e(this.g,new td)},mr.prototype.oa=function(){$e(this.g,"b")},sa.prototype.createWebChannel=sa.prototype.g,fi.prototype.send=fi.prototype.o,fi.prototype.open=fi.prototype.m,fi.prototype.close=fi.prototype.close,DC=function(){return new sa},IC=function(){return gs()},NC=St,m0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vn.NO_ERROR=0,Vn.TIMEOUT=8,Vn.HTTP_ERROR=6,Df=Vn,Qt.COMPLETE="complete",RC=Qt,ps.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",ot.prototype.listen=ot.prototype.J,Cu=ps,At.prototype.listenOnce=At.prototype.K,At.prototype.getLastError=At.prototype.Ha,At.prototype.getLastErrorCode=At.prototype.ya,At.prototype.getStatus=At.prototype.ca,At.prototype.getResponseJson=At.prototype.La,At.prototype.getResponseText=At.prototype.la,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Fa,CC=At}).apply(typeof lf<"u"?lf:typeof self<"u"?self:typeof window<"u"?window:{});let si=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};si.UNAUTHENTICATED=new si(null),si.GOOGLE_CREDENTIALS=new si("google-credentials-uid"),si.FIRST_PARTY=new si("first-party-uid"),si.MOCK_USER=new si("mock-user");let mc="12.8.0";function zV(t){mc=t}const Ho=new pv("@firebase/firestore");function Ll(){return Ho.logLevel}function Ae(t,...e){if(Ho.logLevel<=it.DEBUG){const n=e.map(Iv);Ho.debug(`Firestore (${mc}): ${t}`,...n)}}function Gr(t,...e){if(Ho.logLevel<=it.ERROR){const n=e.map(Iv);Ho.error(`Firestore (${mc}): ${t}`,...n)}}function Go(t,...e){if(Ho.logLevel<=it.WARN){const n=e.map(Iv);Ho.warn(`Firestore (${mc}): ${t}`,...n)}}function Iv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function je(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,kC(t,i,n)}function kC(t,e,n){let i=`FIRESTORE (${mc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Gr(i),new Error(i)}function gt(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||kC(e,a,i)}function Ge(t,e){return t}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class MC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(si.UNAUTHENTICATED)))}shutdown(){}}class BV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class FV{constructor(e){this.t=e,this.currentUser=si.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){gt(this.o===void 0,42304);let i=this.i;const a=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let l=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Lr,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const d=l;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Lr)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(gt(typeof i.accessToken=="string",31837,{l:i}),new MC(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string",2055,{h:e}),new si(e)}}class qV{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=si.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class HV{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new qV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(si.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){gt(this.o===void 0,3512);const i=l=>{l.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Ae("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new cT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(gt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new cT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function $V(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class Fm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=$V(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function st(t,e){return t<e?-1:t>e?1:0}function p0(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return Cy(a)===Cy(l)?st(a,l):Cy(a)?1:-1}return st(t.length,e.length)}const KV=55296,YV=57343;function Cy(t){const e=t.charCodeAt(0);return e>=KV&&e<=YV}function ic(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}const uT="__name__";class Ws{constructor(e,n,i){n===void 0?n=0:n>e.length&&je(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&je(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Ws.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ws?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=Ws.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return st(e.length,n.length)}static compareSegments(e,n){const i=Ws.isNumericId(e),a=Ws.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Ws.extractNumericId(e).compare(Ws.extractNumericId(n)):p0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Oa.fromString(e.substring(4,e.length-2))}}class Mt extends Ws{construct(e,n,i){return new Mt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new _e(fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new Mt(n)}static emptyPath(){return new Mt([])}}const XV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bn extends Ws{construct(e,n,i){return new Bn(e,n,i)}static isValidIdentifier(e){return XV.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uT}static keyField(){return new Bn([uT])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new _e(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new _e(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new _e(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(l(),a++)}if(l(),c)throw new _e(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bn(n)}static emptyPath(){return new Bn([])}}class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Mt.fromString(e))}static fromName(e){return new Me(Mt.fromString(e).popFirst(5))}static empty(){return new Me(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Mt(e.slice()))}}function OC(t,e,n){if(!n)throw new _e(fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function VC(t,e,n,i){if(e===!0&&i===!0)throw new _e(fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hT(t){if(!Me.isDocumentKey(t))throw new _e(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function dT(t){if(Me.isDocumentKey(t))throw new _e(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function qm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":je(12329,{type:typeof t})}function yi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qm(t);throw new _e(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Sn(t,e){const n={typeString:t};return e&&(n.value=e),n}function wh(t,e){if(!jC(t))throw new _e(fe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new _e(fe.INVALID_ARGUMENT,n);return!0}const fT=-62135596800,mT=1e6;class He{static now(){return He.fromMillis(Date.now())}static fromDate(e){return He.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*mT);return new He(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<fT)throw new _e(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mT}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:He._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wh(e,He._jsonSchema))return new He(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-fT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}He._jsonSchemaVersion="firestore/timestamp/1.0",He._jsonSchema={type:Sn("string",He._jsonSchemaVersion),seconds:Sn("number"),nanoseconds:Sn("number")};class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new He(0,0))}static max(){return new Fe(new He(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Qu=-1;function WV(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Fe.fromTimestamp(i===1e9?new He(n+1,0):new He(n,i));return new za(a,Me.empty(),e)}function QV(t){return new za(t.readTime,t.key,Qu)}class za{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new za(Fe.min(),Me.empty(),Qu)}static max(){return new za(Fe.max(),Me.empty(),Qu)}}function JV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(t.documentKey,e.documentKey),n!==0?n:st(t.largestBatchId,e.largestBatchId))}const ZV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class e5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function pc(t){if(t.code!==fe.FAILED_PRECONDITION||t.message!==ZV)throw t;Ae("LocalStore","Unexpectedly lost primary lease")}class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new me(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof me?n:me.resolve(n)}catch(n){return me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):me.reject(n)}static resolve(e){return new me(((n,i)=>{n(e)}))}static reject(e){return new me(((n,i)=>{i(e)}))}static waitFor(e){return new me(((n,i)=>{let a=0,l=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++l,c&&l===a&&n()}),(d=>i(d)))})),c=!0,l===a&&n()}))}static or(e){let n=me.resolve(!1);for(const i of e)n=n.next((a=>a?me.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new me(((i,a)=>{const l=e.length,c=new Array(l);let h=0;for(let d=0;d<l;d++){const m=d;n(e[m]).next((g=>{c[m]=g,++h,h===l&&i(c)}),(g=>a(g)))}}))}static doWhile(e,n){return new me(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function t5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gc(t){return t.name==="IndexedDbTransactionError"}class Hm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hm.ce=-1;const Dv=-1;function Gm(t){return t==null}function Jf(t){return t===0&&1/t==-1/0}function n5(t){return typeof t=="number"&&Number.isInteger(t)&&!Jf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const LC="";function i5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=pT(e)),e=s5(t.get(n),e);return pT(e)}function s5(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case LC:n+="";break;default:n+=l}}return n}function pT(t){return t+LC+""}function gT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function UC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class nn{constructor(e,n){this.comparator=e,this.root=n||Wn.EMPTY}insert(e,n){return new nn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wn.BLACK,null,null))}remove(e){return new nn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cf(this.root,e,this.comparator,!1)}getReverseIterator(){return new cf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cf(this.root,e,this.comparator,!0)}}class cf{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??Wn.RED,this.left=a??Wn.EMPTY,this.right=l??Wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new Wn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Wn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw je(27949);return e+(this.isRed()?0:1)}}Wn.EMPTY=null,Wn.RED=!0,Wn.BLACK=!1;Wn.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new Wn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kn{constructor(e){this.comparator=e,this.data=new nn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yT(this.data.getIterator())}getIteratorFrom(e){return new yT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof kn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kn(this.comparator);return n.data=e,n}}class yT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ki{constructor(e){this.fields=e,e.sort(Bn.comparator)}static empty(){return new Ki([])}unionWith(e){let n=new kn(Bn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Ki(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ic(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class zC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new zC("Invalid base64 string: "+l):l}})(e);return new Fn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new Fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const r5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ba(t){if(gt(!!t,39018),typeof t=="string"){let e=0;const n=r5.exec(t);if(gt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:mn(t.seconds),nanos:mn(t.nanos)}}function mn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fa(t){return typeof t=="string"?Fn.fromBase64String(t):Fn.fromUint8Array(t)}const BC="server_timestamp",FC="__type__",qC="__previous_value__",HC="__local_write_time__";function kv(t){return(t?.mapValue?.fields||{})[FC]?.stringValue===BC}function $m(t){const e=t.mapValue.fields[qC];return kv(e)?$m(e):e}function Ju(t){const e=Ba(t.mapValue.fields[HC].timestampValue);return new He(e.seconds,e.nanos)}class a5{constructor(e,n,i,a,l,c,h,d,m,g,b){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=g,this.apiKey=b}}const Zf="(default)";class sc{constructor(e,n){this.projectId=e,this.database=n||Zf}static empty(){return new sc("","")}get isDefaultDatabase(){return this.database===Zf}isEqual(e){return e instanceof sc&&e.projectId===this.projectId&&e.database===this.database}}function o5(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new _e(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sc(t.options.projectId,e)}const GC="__type__",l5="__max__",uf={mapValue:{}},$C="__vector__",em="value";function qa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kv(t)?4:u5(t)?9007199254740991:c5(t)?10:11:je(28295,{value:t})}function sr(t,e){if(t===e)return!0;const n=qa(t);if(n!==qa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ju(t).isEqual(Ju(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ba(a.timestampValue),h=Ba(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Fa(a.bytesValue).isEqual(Fa(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return mn(a.geoPointValue.latitude)===mn(l.geoPointValue.latitude)&&mn(a.geoPointValue.longitude)===mn(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return mn(a.integerValue)===mn(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=mn(a.doubleValue),h=mn(l.doubleValue);return c===h?Jf(c)===Jf(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return ic(t.arrayValue.values||[],e.arrayValue.values||[],sr);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(gT(c)!==gT(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!sr(c[d],h[d])))return!1;return!0})(t,e);default:return je(52216,{left:t})}}function Zu(t,e){return(t.values||[]).find((n=>sr(n,e)))!==void 0}function rc(t,e){if(t===e)return 0;const n=qa(t),i=qa(e);if(n!==i)return st(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return st(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=mn(l.integerValue||l.doubleValue),d=mn(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return vT(t.timestampValue,e.timestampValue);case 4:return vT(Ju(t),Ju(e));case 5:return p0(t.stringValue,e.stringValue);case 6:return(function(l,c){const h=Fa(l),d=Fa(c);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),d=c.split("/");for(let m=0;m<h.length&&m<d.length;m++){const g=st(h[m],d[m]);if(g!==0)return g}return st(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=st(mn(l.latitude),mn(c.latitude));return h!==0?h:st(mn(l.longitude),mn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return bT(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const h=l.fields||{},d=c.fields||{},m=h[em]?.arrayValue,g=d[em]?.arrayValue,b=st(m?.values?.length||0,g?.values?.length||0);return b!==0?b:bT(m,g)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===uf.mapValue&&c===uf.mapValue)return 0;if(l===uf.mapValue)return 1;if(c===uf.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),m=c.fields||{},g=Object.keys(m);d.sort(),g.sort();for(let b=0;b<d.length&&b<g.length;++b){const x=p0(d[b],g[b]);if(x!==0)return x;const A=rc(h[d[b]],m[g[b]]);if(A!==0)return A}return st(d.length,g.length)})(t.mapValue,e.mapValue);default:throw je(23264,{he:n})}}function vT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return st(t,e);const n=Ba(t),i=Ba(e),a=st(n.seconds,i.seconds);return a!==0?a:st(n.nanos,i.nanos)}function bT(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=rc(n[a],i[a]);if(l)return l}return st(n.length,i.length)}function ac(t){return g0(t)}function g0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Ba(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Fa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Me.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=g0(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${g0(n.fields[c])}`;return a+"}"})(t.mapValue):je(61005,{value:t})}function kf(t){switch(qa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$m(t);return e?16+kf(e):16;case 5:return 2*t.stringValue.length;case 6:return Fa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+kf(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return Xa(i.fields,((l,c)=>{a+=l.length+kf(c)})),a})(t.mapValue);default:throw je(13486,{value:t})}}function xT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function y0(t){return!!t&&"integerValue"in t}function Mv(t){return!!t&&"arrayValue"in t}function wT(t){return!!t&&"nullValue"in t}function _T(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mf(t){return!!t&&"mapValue"in t}function c5(t){return(t?.mapValue?.fields||{})[GC]?.stringValue===$C}function Pu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Xa(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Pu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pu(t.arrayValue.values[n]);return e}return{...t}}function u5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===l5}class Pi{constructor(e){this.value=e}static empty(){return new Pi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Mf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pu(n)}setAll(e){let n=Bn.emptyPath(),i={},a=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,i,a),i={},a=[],n=h.popLast()}c?i[h.lastSegment()]=Pu(c):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Mf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Mf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){Xa(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new Pi(Pu(this.value))}}function KC(t){const e=[];return Xa(t.fields,((n,i)=>{const a=new Bn([n]);if(Mf(i)){const l=KC(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Ki(e)}class ai{constructor(e,n,i,a,l,c,h){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new ai(e,0,Fe.min(),Fe.min(),Fe.min(),Pi.empty(),0)}static newFoundDocument(e,n,i,a){return new ai(e,1,n,Fe.min(),i,a,0)}static newNoDocument(e,n){return new ai(e,2,n,Fe.min(),Fe.min(),Pi.empty(),0)}static newUnknownDocument(e,n){return new ai(e,3,n,Fe.min(),Fe.min(),Pi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ai&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ai(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class tm{constructor(e,n){this.position=e,this.inclusive=n}}function TT(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=Me.comparator(Me.fromName(c.referenceValue),n.key):i=rc(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function ET(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!sr(t.position[n],e.position[n]))return!1;return!0}class nm{constructor(e,n="asc"){this.field=e,this.dir=n}}function h5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class YC{}class En extends YC{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new f5(e,n,i):n==="array-contains"?new g5(e,i):n==="in"?new y5(e,i):n==="not-in"?new v5(e,i):n==="array-contains-any"?new b5(e,i):new En(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new m5(e,i):new p5(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(rc(n,this.value)):n!==null&&qa(this.value)===qa(n)&&this.matchesComparison(rc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Os extends YC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Os(e,n)}matches(e){return XC(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function XC(t){return t.op==="and"}function WC(t){return d5(t)&&XC(t)}function d5(t){for(const e of t.filters)if(e instanceof Os)return!1;return!0}function v0(t){if(t instanceof En)return t.field.canonicalString()+t.op.toString()+ac(t.value);if(WC(t))return t.filters.map((e=>v0(e))).join(",");{const e=t.filters.map((n=>v0(n))).join(",");return`${t.op}(${e})`}}function QC(t,e){return t instanceof En?(function(i,a){return a instanceof En&&i.op===a.op&&i.field.isEqual(a.field)&&sr(i.value,a.value)})(t,e):t instanceof Os?(function(i,a){return a instanceof Os&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,h)=>l&&QC(c,a.filters[h])),!0):!1})(t,e):void je(19439)}function JC(t){return t instanceof En?(function(n){return`${n.field.canonicalString()} ${n.op} ${ac(n.value)}`})(t):t instanceof Os?(function(n){return n.op.toString()+" {"+n.getFilters().map(JC).join(" ,")+"}"})(t):"Filter"}class f5 extends En{constructor(e,n,i){super(e,n,i),this.key=Me.fromName(i.referenceValue)}matches(e){const n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}}class m5 extends En{constructor(e,n){super(e,"in",n),this.keys=ZC("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class p5 extends En{constructor(e,n){super(e,"not-in",n),this.keys=ZC("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ZC(t,e){return(e.arrayValue?.values||[]).map((n=>Me.fromName(n.referenceValue)))}class g5 extends En{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mv(n)&&Zu(n.arrayValue,this.value)}}class y5 extends En{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zu(this.value.arrayValue,n)}}class v5 extends En{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zu(this.value.arrayValue,n)}}class b5 extends En{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Zu(this.value.arrayValue,i)))}}class x5{constructor(e,n=null,i=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function ST(t,e=null,n=[],i=[],a=null,l=null,c=null){return new x5(t,e,n,i,a,l,c)}function Pv(t){const e=Ge(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>v0(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Gm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>ac(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>ac(i))).join(",")),e.Te=n}return e.Te}function Ov(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!h5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ET(t.startAt,e.startAt)&&ET(t.endAt,e.endAt)}function b0(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class _h{constructor(e,n=null,i=[],a=[],l=null,c="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function w5(t,e,n,i,a,l,c,h){return new _h(t,e,n,i,a,l,c,h)}function Km(t){return new _h(t)}function AT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _5(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function e2(t){return t.collectionGroup!==null}function Ou(t){const e=Ge(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new kn(Bn.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new nm(l,i))})),n.has(Bn.keyField().canonicalString())||e.Ie.push(new nm(Bn.keyField(),i))}return e.Ie}function er(t){const e=Ge(t);return e.Ee||(e.Ee=T5(e,Ou(t))),e.Ee}function T5(t,e){if(t.limitType==="F")return ST(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new nm(a.field,l)}));const n=t.endAt?new tm(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new tm(t.startAt.position,t.startAt.inclusive):null;return ST(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function x0(t,e){const n=t.filters.concat([e]);return new _h(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function w0(t,e,n){return new _h(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ym(t,e){return Ov(er(t),er(e))&&t.limitType===e.limitType}function t2(t){return`${Pv(er(t))}|lt:${t.limitType}`}function Ul(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>JC(a))).join(", ")}]`),Gm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>ac(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>ac(a))).join(",")),`Target(${i})`})(er(t))}; limitType=${t.limitType})`}function Xm(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Me.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of Ou(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(c,h,d){const m=TT(c,h,d);return c.inclusive?m<=0:m<0})(i.startAt,Ou(i),a)||i.endAt&&!(function(c,h,d){const m=TT(c,h,d);return c.inclusive?m>=0:m>0})(i.endAt,Ou(i),a))})(t,e)}function E5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function n2(t){return(e,n)=>{let i=!1;for(const a of Ou(t)){const l=S5(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function S5(t,e,n){const i=t.field.isKeyField()?Me.comparator(e.key,n.key):(function(l,c,h){const d=c.data.field(l),m=h.data.field(l);return d!==null&&m!==null?rc(d,m):je(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return je(19790,{direction:t.dir})}}class Wo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Xa(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return UC(this.inner)}size(){return this.innerSize}}const A5=new nn(Me.comparator);function $r(){return A5}const i2=new nn(Me.comparator);function Ru(...t){let e=i2;for(const n of t)e=e.insert(n.key,n);return e}function s2(t){let e=i2;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Vo(){return Vu()}function r2(){return Vu()}function Vu(){return new Wo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const C5=new nn(Me.comparator),R5=new kn(Me.comparator);function rt(...t){let e=R5;for(const n of t)e=e.add(n);return e}const N5=new kn(st);function I5(){return N5}function Vv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jf(e)?"-0":e}}function a2(t){return{integerValue:""+t}}function D5(t,e){return n5(e)?a2(e):Vv(t,e)}class Wm{constructor(){this._=void 0}}function k5(t,e,n){return t instanceof im?(function(a,l){const c={fields:{[FC]:{stringValue:BC},[HC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&kv(l)&&(l=$m(l)),l&&(c.fields[qC]=l),{mapValue:c}})(n,e):t instanceof eh?l2(t,e):t instanceof th?c2(t,e):(function(a,l){const c=o2(a,l),h=CT(c)+CT(a.Ae);return y0(c)&&y0(a.Ae)?a2(h):Vv(a.serializer,h)})(t,e)}function M5(t,e,n){return t instanceof eh?l2(t,e):t instanceof th?c2(t,e):n}function o2(t,e){return t instanceof sm?(function(i){return y0(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class im extends Wm{}class eh extends Wm{constructor(e){super(),this.elements=e}}function l2(t,e){const n=u2(e);for(const i of t.elements)n.some((a=>sr(a,i)))||n.push(i);return{arrayValue:{values:n}}}class th extends Wm{constructor(e){super(),this.elements=e}}function c2(t,e){let n=u2(e);for(const i of t.elements)n=n.filter((a=>!sr(a,i)));return{arrayValue:{values:n}}}class sm extends Wm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function CT(t){return mn(t.integerValue||t.doubleValue)}function u2(t){return Mv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function P5(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof eh&&a instanceof eh||i instanceof th&&a instanceof th?ic(i.elements,a.elements,sr):i instanceof sm&&a instanceof sm?sr(i.Ae,a.Ae):i instanceof im&&a instanceof im})(t.transform,e.transform)}class O5{constructor(e,n){this.version=e,this.transformResults=n}}class hs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hs}static exists(e){return new hs(void 0,e)}static updateTime(e){return new hs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qm{}function h2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jv(t.key,hs.none()):new Th(t.key,t.data,hs.none());{const n=t.data,i=Pi.empty();let a=new kn(Bn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Wa(t.key,i,new Ki(a.toArray()),hs.none())}}function V5(t,e,n){t instanceof Th?(function(a,l,c){const h=a.value.clone(),d=NT(a.fieldTransforms,l,c.transformResults);h.setAll(d),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Wa?(function(a,l,c){if(!Pf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=NT(a.fieldTransforms,l,c.transformResults),d=l.data;d.setAll(d2(a)),d.setAll(h),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function ju(t,e,n,i){return t instanceof Th?(function(l,c,h,d){if(!Pf(l.precondition,c))return h;const m=l.value.clone(),g=IT(l.fieldTransforms,d,c);return m.setAll(g),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(t,e,n,i):t instanceof Wa?(function(l,c,h,d){if(!Pf(l.precondition,c))return h;const m=IT(l.fieldTransforms,d,c),g=c.data;return g.setAll(d2(l)),g.setAll(m),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,i):(function(l,c,h){return Pf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function j5(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=o2(i.transform,a||null);l!=null&&(n===null&&(n=Pi.empty()),n.set(i.field,l))}return n||null}function RT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&ic(i,a,((l,c)=>P5(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Th extends Qm{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Wa extends Qm{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function d2(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function NT(t,e,n){const i=new Map;gt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,h=e.data.field(l.field);i.set(l.field,M5(c,h,n[a]))}return i}function IT(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,k5(l,c,e))}return i}class jv extends Qm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L5 extends Qm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class U5{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&V5(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ju(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ju(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=r2();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(a.key)?null:h;const d=h2(c,h);d!==null&&i.set(a.key,d),c.isValidDocument()||c.convertToNoDocument(Fe.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),rt())}isEqual(e){return this.batchId===e.batchId&&ic(this.mutations,e.mutations,((n,i)=>RT(n,i)))&&ic(this.baseMutations,e.baseMutations,((n,i)=>RT(n,i)))}}class Lv{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){gt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return C5})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Lv(e,n,i,a)}}class z5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class B5{constructor(e,n){this.count=e,this.unchangedNames=n}}var _n,ht;function F5(t){switch(t){case fe.OK:return je(64938);case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return je(15467,{code:t})}}function f2(t){if(t===void 0)return Gr("GRPC error has no .code"),fe.UNKNOWN;switch(t){case _n.OK:return fe.OK;case _n.CANCELLED:return fe.CANCELLED;case _n.UNKNOWN:return fe.UNKNOWN;case _n.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case _n.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case _n.INTERNAL:return fe.INTERNAL;case _n.UNAVAILABLE:return fe.UNAVAILABLE;case _n.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case _n.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case _n.NOT_FOUND:return fe.NOT_FOUND;case _n.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case _n.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case _n.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case _n.ABORTED:return fe.ABORTED;case _n.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case _n.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case _n.DATA_LOSS:return fe.DATA_LOSS;default:return je(39323,{code:t})}}(ht=_n||(_n={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";function q5(){return new TextEncoder}const H5=new Oa([4294967295,4294967295],0);function DT(t){const e=q5().encode(t),n=new AC;return n.update(e),new Uint8Array(n.digest())}function kT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Oa([n,i],0),new Oa([a,l],0)]}class Uv{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Nu(`Invalid padding: ${n}`);if(i<0)throw new Nu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Nu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Nu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Oa.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(Oa.fromNumber(i)));return a.compare(H5)===1&&(a=new Oa([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=DT(e),[i,a]=kT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Uv(l,a,n);return i.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=DT(e),[i,a]=kT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.be(c)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jm{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Eh.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Jm(Fe.min(),a,new nn(st),$r(),rt())}}class Eh{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Eh(i,n,rt(),rt(),rt())}}class Of{constructor(e,n,i,a){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=a}}class m2{constructor(e,n){this.targetId=e,this.Ce=n}}class p2{constructor(e,n,i=Fn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class MT{constructor(){this.ve=0,this.Fe=PT(),this.Me=Fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=rt(),n=rt(),i=rt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:je(38017,{changeType:l})}})),new Eh(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=PT()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,gt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class G5{constructor(e){this.Ge=e,this.ze=new Map,this.je=$r(),this.He=hf(),this.Je=hf(),this.Ze=new nn(st)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:je(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(b0(l))if(i===0){const c=new Me(l.path);this.et(n,c,ai.newNoDocument(c,Fe.min()))}else gt(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const h=this.ut(e),d=h?this.ct(h,e,c):1;if(d!==0){this.it(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,h;try{c=Fa(i).toUint8Array()}catch(d){if(d instanceof zC)return Go("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Uv(c,a,l)}catch(d){return Go(d instanceof Nu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&b0(h.target)){const d=new Me(h.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,ai.newNoDocument(d,e))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let i=rt();this.Je.forEach(((l,c)=>{let h=!0;c.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Jm(e,n,this.Ze,this.je,i);return this.je=$r(),this.He=hf(),this.Je=hf(),this.Ze=new nn(st),a}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new MT,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new kn(st),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new kn(st),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ae("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new MT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function hf(){return new nn(Me.comparator)}function PT(){return new nn(Me.comparator)}const $5={asc:"ASCENDING",desc:"DESCENDING"},K5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Y5={and:"AND",or:"OR"};class X5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _0(t,e){return t.useProto3Json||Gm(e)?e:{value:e}}function rm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function g2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function W5(t,e){return rm(t,e.toTimestamp())}function tr(t){return gt(!!t,49232),Fe.fromTimestamp((function(n){const i=Ba(n);return new He(i.seconds,i.nanos)})(t))}function zv(t,e){return T0(t,e).canonicalString()}function T0(t,e){const n=(function(a){return new Mt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function y2(t){const e=Mt.fromString(t);return gt(_2(e),10190,{key:e.toString()}),e}function E0(t,e){return zv(t.databaseId,e.path)}function Ry(t,e){const n=y2(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Me(b2(n))}function v2(t,e){return zv(t.databaseId,e)}function Q5(t){const e=y2(t);return e.length===4?Mt.emptyPath():b2(e)}function S0(t){return new Mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function b2(t){return gt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function OT(t,e,n){return{name:E0(t,e),fields:n.value.mapValue.fields}}function J5(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:je(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(m,g){return m.useProto3Json?(gt(g===void 0||typeof g=="string",58123),Fn.fromBase64String(g||"")):(gt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Fn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(m){const g=m.code===void 0?fe.UNKNOWN:f2(m.code);return new _e(g,m.message||"")})(c);n=new p2(i,a,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Ry(t,i.document.name),l=tr(i.document.updateTime),c=i.document.createTime?tr(i.document.createTime):Fe.min(),h=new Pi({mapValue:{fields:i.document.fields}}),d=ai.newFoundDocument(a,l,c,h),m=i.targetIds||[],g=i.removedTargetIds||[];n=new Of(m,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Ry(t,i.document),l=i.readTime?tr(i.readTime):Fe.min(),c=ai.newNoDocument(a,l),h=i.removedTargetIds||[];n=new Of([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Ry(t,i.document),l=i.removedTargetIds||[];n=new Of([],l,a,null)}else{if(!("filter"in e))return je(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new B5(a,l),h=i.targetId;n=new m2(h,c)}}return n}function Z5(t,e){let n;if(e instanceof Th)n={update:OT(t,e.key,e.value)};else if(e instanceof jv)n={delete:E0(t,e.key)};else if(e instanceof Wa)n={update:OT(t,e.key,e.data),updateMask:lj(e.fieldMask)};else{if(!(e instanceof L5))return je(16599,{dt:e.type});n={verify:E0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const h=c.transform;if(h instanceof im)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof eh)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof th)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof sm)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw je(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:W5(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:je(27497)})(t,e.precondition)),n}function ej(t,e){return t&&t.length>0?(gt(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?tr(a.updateTime):tr(l);return c.isEqual(Fe.min())&&(c=tr(l)),new O5(c,a.transformResults||[])})(n,e)))):[]}function tj(t,e){return{documents:[v2(t,e.path)]}}function nj(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=v2(t,a);const l=(function(m){if(m.length!==0)return w2(Os.create(m,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((g=>(function(x){return{field:zl(x.field),direction:rj(x.dir)}})(g)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=_0(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:a}}function ij(t){let e=Q5(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){gt(i===1,65062);const g=n.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let l=[];n.where&&(l=(function(b){const x=x2(b);return x instanceof Os&&WC(x)?x.getFilters():[x]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((x=>(function(k){return new nm(Bl(k.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(x)))})(n.orderBy));let h=null;n.limit&&(h=(function(b){let x;return x=typeof b=="object"?b.value:b,Gm(x)?null:x})(n.limit));let d=null;n.startAt&&(d=(function(b){const x=!!b.before,A=b.values||[];return new tm(A,x)})(n.startAt));let m=null;return n.endAt&&(m=(function(b){const x=!b.before,A=b.values||[];return new tm(A,x)})(n.endAt)),w5(e,a,c,l,h,"F",d,m)}function sj(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function x2(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Bl(n.unaryFilter.field);return En.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Bl(n.unaryFilter.field);return En.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Bl(n.unaryFilter.field);return En.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Bl(n.unaryFilter.field);return En.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}})(t):t.fieldFilter!==void 0?(function(n){return En.create(Bl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Os.create(n.compositeFilter.filters.map((i=>x2(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return je(1026)}})(n.compositeFilter.op))})(t):je(30097,{filter:t})}function rj(t){return $5[t]}function aj(t){return K5[t]}function oj(t){return Y5[t]}function zl(t){return{fieldPath:t.canonicalString()}}function Bl(t){return Bn.fromServerFormat(t.fieldPath)}function w2(t){return t instanceof En?(function(n){if(n.op==="=="){if(_T(n.value))return{unaryFilter:{field:zl(n.field),op:"IS_NAN"}};if(wT(n.value))return{unaryFilter:{field:zl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_T(n.value))return{unaryFilter:{field:zl(n.field),op:"IS_NOT_NAN"}};if(wT(n.value))return{unaryFilter:{field:zl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zl(n.field),op:aj(n.op),value:n.value}}})(t):t instanceof Os?(function(n){const i=n.getFilters().map((a=>w2(a)));return i.length===1?i[0]:{compositeFilter:{op:oj(n.op),filters:i}}})(t):je(54877,{filter:t})}function lj(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function _2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function T2(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Da{constructor(e,n,i,a,l=Fe.min(),c=Fe.min(),h=Fn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Da(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class cj{constructor(e){this.yt=e}}function uj(t){const e=ij({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?w0(e,e.limit,"L"):e}class hj{constructor(){this.Sn=new dj}addToCollectionParentIndex(e,n){return this.Sn.add(n),me.resolve()}getCollectionParents(e,n){return me.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return me.resolve()}deleteFieldIndex(e,n){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,n){return me.resolve()}getDocumentsMatchingTarget(e,n){return me.resolve(null)}getIndexType(e,n){return me.resolve(0)}getFieldIndexes(e,n){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,n){return me.resolve(za.min())}getMinOffsetFromCollectionGroup(e,n){return me.resolve(za.min())}updateCollectionGroup(e,n,i){return me.resolve()}updateIndexEntries(e,n){return me.resolve()}}class dj{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new kn(Mt.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new kn(Mt.comparator)).toArray()}}const VT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},E2=41943040;class Mi{static withCacheSize(e){return new Mi(e,Mi.DEFAULT_COLLECTION_PERCENTILE,Mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}Mi.DEFAULT_COLLECTION_PERCENTILE=10,Mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mi.DEFAULT=new Mi(E2,Mi.DEFAULT_COLLECTION_PERCENTILE,Mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mi.DISABLED=new Mi(-1,0,0);class oc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new oc(0)}static ar(){return new oc(-1)}}const jT="LruGarbageCollector",fj=1048576;function LT([t,e],[n,i]){const a=st(t,n);return a===0?st(e,i):a}class mj{constructor(e){this.Pr=e,this.buffer=new kn(LT),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();LT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class pj{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Ae(jT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){gc(n)?Ae(jT,"Ignoring IndexedDB error during garbage collection: ",n):await pc(n)}await this.Ar(3e5)}))}}class gj{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return me.resolve(Hm.ce);const i=new mj(n);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(VT)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VT):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,a,l,c,h,d,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(i=b,h=Date.now(),this.removeTargets(e,i,n)))).next((b=>(l=b,d=Date.now(),this.removeOrphanedDocuments(e,i)))).next((b=>(m=Date.now(),Ll()<=it.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${b} documents in `+(m-d)+`ms
Total Duration: ${m-g}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function yj(t,e){return new gj(t,e)}class vj{constructor(){this.changes=new Wo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ai.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?me.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class xj{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&ju(i.mutation,a,Ki.empty(),He.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,rt()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=rt()){const a=Vo();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let c=Ru();return l.forEach(((h,d)=>{c=c.insert(h,d.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=Vo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,rt())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,i,a){let l=$r();const c=Vu(),h=(function(){return Vu()})();return n.forEach(((d,m)=>{const g=i.get(m.key);a.has(m.key)&&(g===void 0||g.mutation instanceof Wa)?l=l.insert(m.key,m):g!==void 0?(c.set(m.key,g.mutation.getFieldMask()),ju(g.mutation,m,g.mutation.getFieldMask(),He.now())):c.set(m.key,Ki.empty())})),this.recalculateAndSaveOverlays(e,l).next((d=>(d.forEach(((m,g)=>c.set(m,g))),n.forEach(((m,g)=>h.set(m,new bj(g,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,n){const i=Vu();let a=new nn(((c,h)=>c-h)),l=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((d=>{const m=n.get(d);if(m===null)return;let g=i.get(d)||Ki.empty();g=h.applyToLocalView(m,g),i.set(d,g);const b=(a.get(h.batchId)||rt()).add(d);a=a.insert(h.batchId,b)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,g=d.value,b=r2();g.forEach((x=>{if(!l.has(x)){const A=h2(n.get(x),i.get(x));A!==null&&b.set(x,A),l=l.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,b))}return me.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return _5(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):e2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):me.resolve(Vo());let h=Qu,d=l;return c.next((m=>me.forEach(m,((g,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),l.get(g)?me.resolve():this.remoteDocumentCache.getEntry(e,g).next((x=>{d=d.insert(g,x)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,d,m,rt()))).next((g=>({batchId:h,changes:s2(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next((i=>{let a=Ru();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=Ru();return this.indexManager.getCollectionParents(e,l).next((h=>me.forEach(h,(d=>{const m=(function(b,x){return new _h(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next((g=>{g.forEach(((b,x)=>{c=c.insert(b,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((c=>{l.forEach(((d,m)=>{const g=m.getKey();c.get(g)===null&&(c=c.insert(g,ai.newInvalidDocument(g)))}));let h=Ru();return c.forEach(((d,m)=>{const g=l.get(d);g!==void 0&&ju(g.mutation,m,Ki.empty(),He.now()),Xm(n,m)&&(h=h.insert(d,m))})),h}))}}class wj{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return me.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:tr(a.createTime)}})(n)),me.resolve()}getNamedQuery(e,n){return me.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:uj(a.bundledQuery),readTime:tr(a.readTime)}})(n)),me.resolve()}}class _j{constructor(){this.overlays=new nn(Me.comparator),this.Lr=new Map}getOverlay(e,n){return me.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Vo();return me.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.bt(e,n,l)})),me.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),me.resolve()}getOverlaysForCollection(e,n,i){const a=Vo(),l=n.length+1,c=new Me(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&d.largestBatchId>i&&a.set(d.getKey(),d)}return me.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new nn(((m,g)=>m-g));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let g=l.get(m.largestBatchId);g===null&&(g=Vo(),l=l.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const h=Vo(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,g)=>h.set(m,g))),!(h.size()>=a)););return me.resolve(h)}bt(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new z5(n,i));let l=this.Lr.get(n);l===void 0&&(l=rt(),this.Lr.set(n,l)),this.Lr.set(n,l.add(i.key))}}class Tj{constructor(){this.sessionToken=Fn.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,me.resolve()}}class Bv{constructor(){this.kr=new kn(Un.Kr),this.qr=new kn(Un.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new Un(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new Un(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new Me(new Mt([])),i=new Un(n,e),a=new Un(n,e+1),l=[];return this.qr.forEachInRange([i,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Me(new Mt([])),i=new Un(n,e),a=new Un(n,e+1);let l=rt();return this.qr.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new Un(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Un{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Me.comparator(e.key,n.key)||st(e.Hr,n.Hr)}static Ur(e,n){return st(e.Hr,n.Hr)||Me.comparator(e.key,n.key)}}class Ej{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new kn(Un.Kr)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new U5(l,n,i,a);this.mutationQueue.push(c);for(const h of a)this.Jr=this.Jr.add(new Un(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return me.resolve(c)}lookupMutationBatch(e,n){return me.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Xr(i),l=a<0?0:a;return me.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?Dv:this.Yn-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Un(n,0),a=new Un(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(c=>{const h=this.Zr(c.Hr);l.push(h)})),me.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new kn(st);return n.forEach((a=>{const l=new Un(a,0),c=new Un(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(h=>{i=i.add(h.Hr)}))})),me.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Me.isDocumentKey(l)||(l=l.child(""));const c=new Un(new Me(l),0);let h=new kn(st);return this.Jr.forEachWhile((d=>{const m=d.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(h=h.add(d.Hr)),!0)}),c),me.resolve(this.Yr(h))}Yr(e){const n=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){gt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return me.forEach(n.mutations,(a=>{const l=new Un(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new Un(n,0),a=this.Jr.firstAfterOrEqual(i);return me.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Sj{constructor(e){this.ti=e,this.docs=(function(){return new nn(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return me.resolve(i?i.document.mutableCopy():ai.newInvalidDocument(n))}getEntries(e,n){let i=$r();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():ai.newInvalidDocument(a))})),me.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=$r();const c=n.path,h=new Me(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:g}}=d.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||JV(QV(g),i)<=0||(a.has(g.key)||Xm(n,g))&&(l=l.insert(g.key,g.mutableCopy()))}return me.resolve(l)}getAllFromCollectionGroup(e,n,i,a){je(9500)}ni(e,n){return me.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new Aj(this)}getSize(e){return me.resolve(this.size)}}class Aj extends vj{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),me.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class Cj{constructor(e){this.persistence=e,this.ri=new Wo((n=>Pv(n)),Ov),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.ii=0,this.si=new Bv,this.targetCount=0,this.oi=oc._r()}forEachTarget(e,n){return this.ri.forEach(((i,a)=>n(a))),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),me.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new oc(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,me.resolve()}updateTargetData(e,n){return this.lr(n),me.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),me.waitFor(l).next((()=>a))}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return me.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),me.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),me.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),me.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return me.resolve(i)}containsKey(e,n){return me.resolve(this.si.containsKey(n))}}class S2{constructor(e,n){this._i={},this.overlays={},this.ai=new Hm(0),this.ui=!1,this.ui=!0,this.ci=new Tj,this.referenceDelegate=e(this),this.li=new Cj(this),this.indexManager=new hj,this.remoteDocumentCache=(function(a){return new Sj(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new cj(n),this.Pi=new wj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _j,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new Ej(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){Ae("MemoryPersistence","Starting transaction:",e);const a=new Rj(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return me.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class Rj extends e5{constructor(e){super(),this.currentSequenceNumber=e}}class Fv{constructor(e){this.persistence=e,this.Ri=new Bv,this.Ai=null}static Vi(e){return new Fv(e)}get di(){if(this.Ai)return this.Ai;throw je(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),me.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),me.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),me.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.di,(i=>{const a=Me.fromPath(i);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Fe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return me.or([()=>me.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class am{constructor(e,n){this.persistence=e,this.fi=new Wo((i=>i5(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=yj(this,n)}static Vi(e,n){return new am(e,n)}Ti(){}Ii(e){return me.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return me.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((l=>l?me.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,n).next((h=>{h||(i++,l.removeEntry(c,Fe.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),me.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),me.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),me.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=kf(e.data.value)),n}wr(e,n,i){return me.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return me.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class qv{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=a}static Es(e,n){let i=rt(),a=rt();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new qv(e,n.fromCache,i,a)}}class Nj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ij{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return IP()?8:t5(li())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.gs(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,n,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new Nj;return this.ys(e,n,c).next((h=>{if(l.result=h,this.As)return this.ws(e,n,c,h.size)}))})).next((()=>l.result))}ws(e,n,i,a){return i.documentReadCount<this.Vs?(Ll()<=it.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",Ul(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),me.resolve()):(Ll()<=it.DEBUG&&Ae("QueryEngine","Query:",Ul(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(Ll()<=it.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",Ul(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,er(n))):me.resolve())}gs(e,n){if(AT(n))return me.resolve(null);let i=er(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=w0(n,null,"F"),i=er(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=rt(...l);return this.fs.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,i).next((d=>{const m=this.bs(n,h);return this.Ss(n,m,c,d.readTime)?this.gs(e,w0(n,null,"F")):this.Ds(e,m,n,d)}))))})))))}ps(e,n,i,a){return AT(n)||a.isEqual(Fe.min())?me.resolve(null):this.fs.getDocuments(e,i).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,i,a)?me.resolve(null):(Ll()<=it.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ul(n)),this.Ds(e,c,n,WV(a,Qu)).next((h=>h)))}))}bs(e,n){let i=new kn(n2(e));return n.forEach(((a,l)=>{Xm(e,l)&&(i=i.add(l))})),i}Ss(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,i){return Ll()<=it.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",Ul(n)),this.fs.getDocumentsMatchingQuery(e,n,za.min(),i)}Ds(e,n,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Hv="LocalStore",Dj=3e8;class kj{constructor(e,n,i,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new nn(st),this.Fs=new Wo((l=>Pv(l)),Ov),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xj(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function Mj(t,e,n,i){return new kj(t,e,n,i)}async function A2(t,e){const n=Ge(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],h=[];let d=rt();for(const m of a){c.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}for(const m of l){h.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(i,d).next((m=>({Ns:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function Pj(t,e){const n=Ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(h,d,m,g){const b=m.batch,x=b.keys();let A=me.resolve();return x.forEach((k=>{A=A.next((()=>g.getEntry(d,k))).next((I=>{const N=m.docVersions.get(k);gt(N!==null,48541),I.version.compareTo(N)<0&&(b.applyToRemoteDocument(I,m),I.isValidDocument()&&(I.setReadTime(m.commitVersion),g.addEntry(I)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(d,b)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let d=rt();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function C2(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function Oj(t,e){const n=Ge(t),i=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const h=[];e.targetChanges.forEach(((g,b)=>{const x=a.get(b);if(!x)return;h.push(n.li.removeMatchingKeys(l,g.removedDocuments,b).next((()=>n.li.addMatchingKeys(l,g.addedDocuments,b))));let A=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?A=A.withResumeToken(Fn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):g.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(g.resumeToken,i)),a=a.insert(b,A),(function(I,N,B){return I.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=Dj?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(x,A,g)&&h.push(n.li.updateTargetData(l,A))}));let d=$r(),m=rt();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,g))})),h.push(Vj(l,c,e.documentUpdates).next((g=>{d=g.Bs,m=g.Ls}))),!i.isEqual(Fe.min())){const g=n.li.getLastRemoteSnapshotVersion(l).next((b=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));h.push(g)}return me.waitFor(h).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,d,m))).next((()=>d))})).then((l=>(n.vs=a,l)))}function Vj(t,e,n){let i=rt(),a=rt();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let c=$r();return n.forEach(((h,d)=>{const m=l.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Fe.min())?(e.removeEntry(h,d.readTime),c=c.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),c=c.insert(h,d)):Ae(Hv,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)})),{Bs:c,Ls:a}}))}function jj(t,e){const n=Ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Dv),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function Lj(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.li.getTargetData(i,e).next((l=>l?(a=l,me.resolve(a)):n.li.allocateTargetId(i).next((c=>(a=new Da(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function A0(t,e,n){const i=Ge(t),a=i.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!gc(c))throw c;Ae(Hv,`Failed to update sequence numbers for target ${e}: ${c}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function UT(t,e,n){const i=Ge(t);let a=Fe.min(),l=rt();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,m,g){const b=Ge(d),x=b.Fs.get(g);return x!==void 0?me.resolve(b.vs.get(x)):b.li.getTargetData(m,g)})(i,c,er(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,h.targetId).next((d=>{l=d}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,e,n?a:Fe.min(),n?l:rt()))).next((h=>(Uj(i,E5(e),h),{documents:h,ks:l})))))}function Uj(t,e,n){let i=t.Ms.get(e)||Fe.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Ms.set(e,i)}class zT{constructor(){this.activeTargetIds=I5()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zj{constructor(){this.vo=new zT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new zT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Bj{Mo(e){}shutdown(){}}const BT="ConnectivityMonitor";class FT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Ae(BT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Ae(BT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let df=null;function C0(){return df===null?df=(function(){return 268435456+Math.round(2147483648*Math.random())})():df++,"0x"+df.toString(16)}const Ny="RestConnection",Fj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class qj{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===Zf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,n,i,a,l){const c=C0(),h=this.Qo(e,n.toUriEncodedString());Ae(Ny,`Sending RPC '${e}' ${c}:`,h,i);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,a,l);const{host:m}=new URL(h),g=Ko(m);return this.zo(e,h,d,i,g).then((b=>(Ae(Ny,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw Go(Ny,`RPC '${e}' ${c} failed with error: `,b,"url: ",h,"request:",i),b}))}jo(e,n,i,a,l,c){return this.Wo(e,n,i,a,l)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+mc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const i=Fj[e];let a=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class Hj{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const ni="WebChannelConnection",xu=(t,e,n)=>{t.listen(e,(i=>{try{n(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Wl extends qj{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Wl.c_){const e=IC();xu(e,NC.STAT_EVENT,(n=>{n.stat===m0.PROXY?Ae(ni,"STAT_EVENT: detected buffering proxy"):n.stat===m0.NOPROXY&&Ae(ni,"STAT_EVENT: detected no buffering proxy")})),Wl.c_=!0}}zo(e,n,i,a,l){const c=C0();return new Promise(((h,d)=>{const m=new CC;m.setWithCredentials(!0),m.listenOnce(RC.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Df.NO_ERROR:const b=m.getResponseJson();Ae(ni,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),h(b);break;case Df.TIMEOUT:Ae(ni,`RPC '${e}' ${c} timed out`),d(new _e(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Df.HTTP_ERROR:const x=m.getStatus();if(Ae(ni,`RPC '${e}' ${c} failed with status:`,x,"response text:",m.getResponseText()),x>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const k=A?.error;if(k&&k.status&&k.message){const I=(function(B){const H=B.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(H)>=0?H:fe.UNKNOWN})(k.status);d(new _e(I,k.message))}else d(new _e(fe.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new _e(fe.UNAVAILABLE,"Connection failed."));break;default:je(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{Ae(ni,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(a);Ae(ni,`RPC '${e}' ${c} sending request:`,a),m.send(n,"POST",g,i,15)}))}T_(e,n,i){const a=C0(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const m=l.join("");Ae(ni,`Creating RPC '${e}' stream ${a}: ${m}`,h);const g=c.createWebChannel(m,h);this.I_(g);let b=!1,x=!1;const A=new Hj({Ho:k=>{x?Ae(ni,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(b||(Ae(ni,`Opening RPC '${e}' stream ${a} transport.`),g.open(),b=!0),Ae(ni,`RPC '${e}' stream ${a} sending:`,k),g.send(k))},Jo:()=>g.close()});return xu(g,Cu.EventType.OPEN,(()=>{x||(Ae(ni,`RPC '${e}' stream ${a} transport opened.`),A.i_())})),xu(g,Cu.EventType.CLOSE,(()=>{x||(x=!0,Ae(ni,`RPC '${e}' stream ${a} transport closed`),A.o_(),this.E_(g))})),xu(g,Cu.EventType.ERROR,(k=>{x||(x=!0,Go(ni,`RPC '${e}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),A.o_(new _e(fe.UNAVAILABLE,"The operation could not be completed")))})),xu(g,Cu.EventType.MESSAGE,(k=>{if(!x){const I=k.data[0];gt(!!I,16349);const N=I,B=N?.error||N[0]?.error;if(B){Ae(ni,`RPC '${e}' stream ${a} received error:`,B);const H=B.status;let q=(function(ue){const D=_n[ue];if(D!==void 0)return f2(D)})(H),oe=B.message;q===void 0&&(q=fe.INTERNAL,oe="Unknown error status: "+H+" with message "+B.message),x=!0,A.o_(new _e(q,oe)),g.close()}else Ae(ni,`RPC '${e}' stream ${a} received:`,I),A.__(I)}})),Wl.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return DC()}}function Gj(t){return new Wl(t)}function Iy(){return typeof document<"u"?document:null}function Zm(t){return new X5(t,!0)}Wl.c_=!1;class R2{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&Ae("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const qT="PersistentStream";class N2{constructor(e,n,i,a,l,c,h,d){this.Ci=e,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new R2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===fe.RESOURCE_EXHAUSTED?(Gr(n.toString()),Gr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new _e(fe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ae(qT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Ae(qT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $j extends N2{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=J5(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Fe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Fe.min():c.readTime?tr(c.readTime):Fe.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=S0(this.serializer),n.addTarget=(function(l,c){let h;const d=c.target;if(h=b0(d)?{documents:tj(l,d)}:{query:nj(l,d).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=g2(l,c.resumeToken);const m=_0(l,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(Fe.min())>0){h.readTime=rm(l,c.snapshotVersion.toTimestamp());const m=_0(l,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const i=sj(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=S0(this.serializer),n.removeTarget=e,this.K_(n)}}class Kj extends N2{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=ej(e.writeResults,e.commitTime),i=tr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=S0(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>Z5(this.serializer,i)))};this.K_(n)}}class Yj{}class Xj extends Yj{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new _e(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,T0(n,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(fe.UNKNOWN,l.toString())}))}jo(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(e,T0(n,i),a,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(fe.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Wj(t,e,n,i){return new Xj(t,e,n,i)}class Qj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gr(n),this.aa=!1):Ae("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const $o="RemoteStore";class Jj{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{Qo(this)&&(Ae($o,"Restarting streams for network reachability change."),await(async function(d){const m=Ge(d);m.Ea.add(4),await Sh(m),m.Va.set("Unknown"),m.Ea.delete(4),await ep(m)})(this))}))})),this.Va=new Qj(i,a)}}async function ep(t){if(Qo(t))for(const e of t.Ra)await e(!0)}async function Sh(t){for(const e of t.Ra)await e(!1)}function I2(t,e){const n=Ge(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Yv(n)?Kv(n):yc(n).O_()&&$v(n,e))}function Gv(t,e){const n=Ge(t),i=yc(n);n.Ia.delete(e),i.O_()&&D2(n,e),n.Ia.size===0&&(i.O_()?i.L_():Qo(n)&&n.Va.set("Unknown"))}function $v(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yc(t).Z_(e)}function D2(t,e){t.da.$e(e),yc(t).X_(e)}function Kv(t){t.da=new G5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),yc(t).start(),t.Va.ua()}function Yv(t){return Qo(t)&&!yc(t).x_()&&t.Ia.size>0}function Qo(t){return Ge(t).Ea.size===0}function k2(t){t.da=void 0}async function Zj(t){t.Va.set("Online")}async function e3(t){t.Ia.forEach(((e,n)=>{$v(t,e)}))}async function t3(t,e){k2(t),Yv(t)?(t.Va.ha(e),Kv(t)):t.Va.set("Unknown")}async function n3(t,e,n){if(t.Va.set("Online"),e instanceof p2&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.da.removeTarget(h))})(t,e)}catch(i){Ae($o,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await om(t,i)}else if(e instanceof Of?t.da.Xe(e):e instanceof m2?t.da.st(e):t.da.tt(e),!n.isEqual(Fe.min()))try{const i=await C2(t.localStore);n.compareTo(i)>=0&&await(function(l,c){const h=l.da.Tt(c);return h.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const g=l.Ia.get(m);g&&l.Ia.set(m,g.withResumeToken(d.resumeToken,c))}})),h.targetMismatches.forEach(((d,m)=>{const g=l.Ia.get(d);if(!g)return;l.Ia.set(d,g.withResumeToken(Fn.EMPTY_BYTE_STRING,g.snapshotVersion)),D2(l,d);const b=new Da(g.target,d,m,g.sequenceNumber);$v(l,b)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(i){Ae($o,"Failed to raise snapshot:",i),await om(t,i)}}async function om(t,e,n){if(!gc(e))throw e;t.Ea.add(1),await Sh(t),t.Va.set("Offline"),n||(n=()=>C2(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ae($o,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ep(t)}))}function M2(t,e){return e().catch((n=>om(t,n,e)))}async function tp(t){const e=Ge(t),n=Ha(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Dv;for(;i3(e);)try{const a=await jj(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,s3(e,a)}catch(a){await om(e,a)}P2(e)&&O2(e)}function i3(t){return Qo(t)&&t.Ta.length<10}function s3(t,e){t.Ta.push(e);const n=Ha(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function P2(t){return Qo(t)&&!Ha(t).x_()&&t.Ta.length>0}function O2(t){Ha(t).start()}async function r3(t){Ha(t).ra()}async function a3(t){const e=Ha(t);for(const n of t.Ta)e.ea(n.mutations)}async function o3(t,e,n){const i=t.Ta.shift(),a=Lv.from(i,e,n);await M2(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await tp(t)}async function l3(t,e){e&&Ha(t).Y_&&await(async function(i,a){if((function(c){return F5(c)&&c!==fe.ABORTED})(a.code)){const l=i.Ta.shift();Ha(i).B_(),await M2(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await tp(i)}})(t,e),P2(t)&&O2(t)}async function HT(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),Ae($o,"RemoteStore received new credentials");const i=Qo(n);n.Ea.add(3),await Sh(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ep(n)}async function c3(t,e){const n=Ge(t);e?(n.Ea.delete(2),await ep(n)):e||(n.Ea.add(2),await Sh(n),n.Va.set("Unknown"))}function yc(t){return t.ma||(t.ma=(function(n,i,a){const l=Ge(n);return l.sa(),new $j(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:Zj.bind(null,t),Yo:e3.bind(null,t),t_:t3.bind(null,t),J_:n3.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Yv(t)?Kv(t):t.Va.set("Unknown")):(await t.ma.stop(),k2(t))}))),t.ma}function Ha(t){return t.fa||(t.fa=(function(n,i,a){const l=Ge(n);return l.sa(),new Kj(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:r3.bind(null,t),t_:l3.bind(null,t),ta:a3.bind(null,t),na:o3.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await tp(t)):(await t.fa.stop(),t.Ta.length>0&&(Ae($o,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Xv{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,h=new Xv(e,n,c,a,l);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wv(t,e){if(Gr("AsyncQueue",`${e}: ${t}`),gc(t))return new _e(fe.UNAVAILABLE,`${e}: ${t}`);throw t}class Ql{static emptySet(e){return new Ql(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Me.comparator(n.key,i.key):(n,i)=>Me.comparator(n.key,i.key),this.keyedMap=Ru(),this.sortedSet=new nn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ql)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Ql;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class GT{constructor(){this.ga=new nn(Me.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):je(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class lc{constructor(e,n,i,a,l,c,h,d,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new lc(e,n,Ql.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ym(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class u3{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class h3{constructor(){this.queries=$T(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Ge(n),l=a.queries;a.queries=$T(),l.forEach(((c,h)=>{for(const d of h.ba)d.onError(i)}))})(this,new _e(fe.ABORTED,"Firestore shutting down"))}}function $T(){return new Wo((t=>t2(t)),Ym)}async function Qv(t,e){const n=Ge(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(i=2):(l=new u3,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=Wv(c,`Initialization of query '${Ul(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Zv(n)}async function Jv(t,e){const n=Ge(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function d3(t,e){const n=Ge(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const h of c.ba)h.Fa(a)&&(i=!0);c.wa=a}}i&&Zv(n)}function f3(t,e,n){const i=Ge(t),a=i.queries.get(e);if(a)for(const l of a.ba)l.onError(n);i.queries.delete(e)}function Zv(t){t.Ca.forEach((e=>{e.next()}))}var R0,KT;(KT=R0||(R0={})).Ma="default",KT.Cache="cache";class eb{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new lc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=lc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==R0.Cache}}class V2{constructor(e){this.key=e}}class j2{constructor(e){this.key=e}}class m3{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=rt(),this.mutatedKeys=rt(),this.eu=n2(e),this.tu=new Ql(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new GT,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,b)=>{const x=a.get(g),A=Xm(this.query,b)?b:null,k=!!x&&this.mutatedKeys.has(x.key),I=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let N=!1;x&&A?x.data.isEqual(A.data)?k!==I&&(i.track({type:3,doc:A}),N=!0):this.su(x,A)||(i.track({type:2,doc:A}),N=!0,(d&&this.eu(A,d)>0||m&&this.eu(A,m)<0)&&(h=!0)):!x&&A?(i.track({type:0,doc:A}),N=!0):x&&!A&&(i.track({type:1,doc:x}),N=!0,(d||m)&&(h=!0)),N&&(A?(c=c.add(A),l=I?l.add(g):l.delete(g)):(c=c.delete(g),l=l.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),l=l.delete(g.key),i.track({type:1,doc:g})}return{tu:c,iu:i,Ss:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,b)=>(function(A,k){const I=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{Vt:N})}};return I(A)-I(k)})(g.type,b.type)||this.eu(g.doc,b.doc))),this.ou(i),a=a??!1;const h=n&&!a?this._u():[],d=this.Ya.size===0&&this.current&&!a?1:0,m=d!==this.Xa;return this.Xa=d,c.length!==0||m?{snapshot:new lc(this.query,e.tu,l,c,e.mutatedKeys,d===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new GT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=rt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new j2(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new V2(i))})),n}cu(e){this.Za=e.ks,this.Ya=rt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return lc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const tb="SyncEngine";class p3{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class g3{constructor(e){this.key=e,this.hu=!1}}class y3{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Wo((h=>t2(h)),Ym),this.Iu=new Map,this.Eu=new Set,this.Ru=new nn(Me.comparator),this.Au=new Map,this.Vu=new Bv,this.du={},this.mu=new Map,this.fu=oc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function v3(t,e,n=!0){const i=q2(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await L2(i,e,n,!0),a}async function b3(t,e){const n=q2(t);await L2(n,e,!0,!1)}async function L2(t,e,n,i){const a=await Lj(t.localStore,er(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let h;return i&&(h=await x3(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&I2(t.remoteStore,a),h}async function x3(t,e,n,i,a){t.pu=(b,x,A)=>(async function(I,N,B,H){let q=N.view.ru(B);q.Ss&&(q=await UT(I.localStore,N.query,!1).then((({documents:D})=>N.view.ru(D,q))));const oe=H&&H.targetChanges.get(N.targetId),se=H&&H.targetMismatches.get(N.targetId)!=null,ue=N.view.applyChanges(q,I.isPrimaryClient,oe,se);return XT(I,N.targetId,ue.au),ue.snapshot})(t,b,x,A);const l=await UT(t.localStore,e,!0),c=new m3(e,l.ks),h=c.ru(l.documents),d=Eh.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),m=c.applyChanges(h,t.isPrimaryClient,d);XT(t,n,m.au);const g=new p3(e,n,c);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function w3(t,e,n){const i=Ge(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!Ym(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await A0(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&Gv(i.remoteStore,a.targetId),N0(i,a.targetId)})).catch(pc)):(N0(i,a.targetId),await A0(i.localStore,a.targetId,!0))}async function _3(t,e){const n=Ge(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Gv(n.remoteStore,i.targetId))}async function T3(t,e,n){const i=I3(t);try{const a=await(function(c,h){const d=Ge(c),m=He.now(),g=h.reduce(((A,k)=>A.add(k.key)),rt());let b,x;return d.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let k=$r(),I=rt();return d.xs.getEntries(A,g).next((N=>{k=N,k.forEach(((B,H)=>{H.isValidDocument()||(I=I.add(B))}))})).next((()=>d.localDocuments.getOverlayedDocuments(A,k))).next((N=>{b=N;const B=[];for(const H of h){const q=j5(H,b.get(H.key).overlayedDocument);q!=null&&B.push(new Wa(H.key,q,KC(q.value.mapValue),hs.exists(!0)))}return d.mutationQueue.addMutationBatch(A,m,B,h)})).next((N=>{x=N;const B=N.applyToLocalDocumentSet(b,I);return d.documentOverlayCache.saveOverlays(A,N.batchId,B)}))})).then((()=>({batchId:x.batchId,changes:s2(b)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,h,d){let m=c.du[c.currentUser.toKey()];m||(m=new nn(st)),m=m.insert(h,d),c.du[c.currentUser.toKey()]=m})(i,a.batchId,n),await Ah(i,a.changes),await tp(i.remoteStore)}catch(a){const l=Wv(a,"Failed to persist write");n.reject(l)}}async function U2(t,e){const n=Ge(t);try{const i=await Oj(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(gt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?gt(c.hu,14607):a.removedDocuments.size>0&&(gt(c.hu,42227),c.hu=!1))})),await Ah(n,i,e)}catch(i){await pc(i)}}function YT(t,e,n){const i=Ge(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const d=Ge(c);d.onlineState=h;let m=!1;d.queries.forEach(((g,b)=>{for(const x of b.ba)x.va(h)&&(m=!0)})),m&&Zv(d)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function E3(t,e,n){const i=Ge(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new nn(Me.comparator);c=c.insert(l,ai.newNoDocument(l,Fe.min()));const h=rt().add(l),d=new Jm(Fe.min(),new Map,new nn(st),c,h);await U2(i,d),i.Ru=i.Ru.remove(l),i.Au.delete(e),nb(i)}else await A0(i.localStore,e,!1).then((()=>N0(i,e,n))).catch(pc)}async function S3(t,e){const n=Ge(t),i=e.batch.batchId;try{const a=await Pj(n.localStore,e);B2(n,i,null),z2(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Ah(n,a)}catch(a){await pc(a)}}async function A3(t,e,n){const i=Ge(t);try{const a=await(function(c,h){const d=Ge(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return d.mutationQueue.lookupMutationBatch(m,h).next((b=>(gt(b!==null,37113),g=b.keys(),d.mutationQueue.removeMutationBatch(m,b)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,g,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>d.localDocuments.getDocuments(m,g)))}))})(i.localStore,e);B2(i,e,n),z2(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Ah(i,a)}catch(a){await pc(a)}}function z2(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function B2(t,e,n){const i=Ge(t);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function N0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((i=>{t.Vu.containsKey(i)||F2(t,i)}))}function F2(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Gv(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),nb(t))}function XT(t,e,n){for(const i of n)i instanceof V2?(t.Vu.addReference(i.key,e),C3(t,i)):i instanceof j2?(Ae(tb,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||F2(t,i.key)):je(19791,{wu:i})}function C3(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(Ae(tb,"New document in limbo: "+n),t.Eu.add(i),nb(t))}function nb(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Me(Mt.fromString(e)),i=t.fu.next();t.Au.set(i,new g3(n)),t.Ru=t.Ru.insert(n,i),I2(t.remoteStore,new Da(er(Km(n.path)),i,"TargetPurposeLimboResolution",Hm.ce))}}async function Ah(t,e,n){const i=Ge(t),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,d)=>{c.push(i.pu(d,e,n).then((m=>{if((m||n)&&i.isPrimaryClient){const g=m?!m.fromCache:n?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(m){a.push(m);const g=qv.Es(d.targetId,m);l.push(g)}})))})),await Promise.all(c),i.Pu.J_(a),await(async function(d,m){const g=Ge(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>me.forEach(m,(x=>me.forEach(x.Ts,(A=>g.persistence.referenceDelegate.addReference(b,x.targetId,A))).next((()=>me.forEach(x.Is,(A=>g.persistence.referenceDelegate.removeReference(b,x.targetId,A)))))))))}catch(b){if(!gc(b))throw b;Ae(Hv,"Failed to update sequence numbers: "+b)}for(const b of m){const x=b.targetId;if(!b.fromCache){const A=g.vs.get(x),k=A.snapshotVersion,I=A.withLastLimboFreeSnapshotVersion(k);g.vs=g.vs.insert(x,I)}}})(i.localStore,l))}async function R3(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){Ae(tb,"User change. New user:",e.toKey());const i=await A2(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new _e(fe.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ah(n,i.Ns)}}function N3(t,e){const n=Ge(t),i=n.Au.get(e);if(i&&i.hu)return rt().add(i.key);{let a=rt();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const h=n.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function q2(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=U2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=N3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E3.bind(null,e),e.Pu.J_=d3.bind(null,e.eventManager),e.Pu.yu=f3.bind(null,e.eventManager),e}function I3(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=S3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=A3.bind(null,e),e}class lm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Mj(this.persistence,new Ij,e.initialUser,this.serializer)}Cu(e){return new S2(Fv.Vi,this.serializer)}Du(e){return new zj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lm.provider={build:()=>new lm};class D3 extends lm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){gt(this.persistence.referenceDelegate instanceof am,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new pj(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Mi.withCacheSize(this.cacheSizeBytes):Mi.DEFAULT;return new S2((i=>am.Vi(i,n)),this.serializer)}}class I0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>YT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=R3.bind(null,this.syncEngine),await c3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new h3})()}createDatastore(e){const n=Zm(e.databaseInfo.databaseId),i=Gj(e.databaseInfo);return Wj(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,c,h){return new Jj(i,a,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>YT(this.syncEngine,n,0)),(function(){return FT.v()?new FT:new Bj})())}createSyncEngine(e,n){return(function(a,l,c,h,d,m,g){const b=new y3(a,l,c,h,d,m);return g&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Ge(n);Ae($o,"RemoteStore shutting down."),i.Ea.add(5),await Sh(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}I0.provider={build:()=>new I0};class ib{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Gr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ga="FirestoreClient";class k3{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=a,this.user=si.UNAUTHENTICATED,this.clientId=Fm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{Ae(Ga,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(Ae(Ga,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Wv(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Dy(t,e){t.asyncQueue.verifyOperationInProgress(),Ae(Ga,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await A2(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function WT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await M3(t);Ae(Ga,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>HT(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>HT(e.remoteStore,a))),t._onlineComponents=e}async function M3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ae(Ga,"Using user provided OfflineComponentProvider");try{await Dy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===fe.FAILED_PRECONDITION||a.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Go("Error using user provided cache. Falling back to memory cache: "+n),await Dy(t,new lm)}}else Ae(Ga,"Using default OfflineComponentProvider"),await Dy(t,new D3(void 0));return t._offlineComponents}async function H2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ae(Ga,"Using user provided OnlineComponentProvider"),await WT(t,t._uninitializedComponentsProvider._online)):(Ae(Ga,"Using default OnlineComponentProvider"),await WT(t,new I0))),t._onlineComponents}function P3(t){return H2(t).then((e=>e.syncEngine))}async function cm(t){const e=await H2(t),n=e.eventManager;return n.onListen=v3.bind(null,e.syncEngine),n.onUnlisten=w3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=b3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_3.bind(null,e.syncEngine),n}function O3(t,e,n,i){const a=new ib(i),l=new eb(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>Qv(await cm(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>Jv(await cm(t),l)))}}function V3(t,e,n={}){const i=new Lr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,d,m){const g=new ib({next:x=>{g.Nu(),c.enqueueAndForget((()=>Jv(l,b)));const A=x.docs.has(h);!A&&x.fromCache?m.reject(new _e(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&x.fromCache&&d&&d.source==="server"?m.reject(new _e(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),b=new eb(Km(h.path),g,{includeMetadataChanges:!0,Ka:!0});return Qv(l,b)})(await cm(t),t.asyncQueue,e,n,i))),i.promise}function j3(t,e,n={}){const i=new Lr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,d,m){const g=new ib({next:x=>{g.Nu(),c.enqueueAndForget((()=>Jv(l,b))),x.fromCache&&d.source==="server"?m.reject(new _e(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(x)},error:x=>m.reject(x)}),b=new eb(h,g,{includeMetadataChanges:!0,Ka:!0});return Qv(l,b)})(await cm(t),t.asyncQueue,e,n,i))),i.promise}function L3(t,e){const n=new Lr;return t.asyncQueue.enqueueAndForget((async()=>T3(await P3(t),e,n))),n.promise}function G2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const U3="ComponentProvider",QT=new Map;function z3(t,e,n,i,a){return new a5(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,G2(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const $2="firestore.googleapis.com",JT=!0;class ZT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$2,this.ssl=JT}else this.host=e.host,this.ssl=e.ssl??JT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=E2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fj)throw new _e(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=G2(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new _e(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new _e(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new _e(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class np{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new PC;switch(i.type){case"firstParty":return new HV(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _e(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=QT.get(n);i&&(Ae(U3,"Removing Datastore"),QT.delete(n),i.terminate())})(this),Promise.resolve()}}function K2(t,e,n,i={}){t=yi(t,np);const a=Ko(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(fv(`https://${h}`),mv("Firestore",!0)),l.host!==$2&&l.host!==h&&Go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:h,ssl:a,emulatorOptions:i};if(!Fo(d,c)&&(t._setSettings(d),i.mockUserToken)){let m,g;if(typeof i.mockUserToken=="string")m=i.mockUserToken,g=si.MOCK_USER;else{m=kA(i.mockUserToken,t._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new _e(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new si(b)}t._authCredentials=new BV(new MC(m,g))}}class Qa{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Qa(this.firestore,e,this._query)}}class tn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}toJSON(){return{type:tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(wh(n,tn._jsonSchema))return new tn(e,i||null,new Me(Mt.fromString(n.referencePath)))}}tn._jsonSchemaVersion="firestore/documentReference/1.0",tn._jsonSchema={type:Sn("string",tn._jsonSchemaVersion),referencePath:Sn("string")};class Ur extends Qa{constructor(e,n,i){super(e,n,Km(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new Me(e))}withConverter(e){return new Ur(this.firestore,e,this._path)}}function jo(t,e,...n){if(t=An(t),OC("collection","path",e),t instanceof np){const i=Mt.fromString(e,...n);return dT(i),new Ur(t,null,i)}{if(!(t instanceof tn||t instanceof Ur))throw new _e(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Mt.fromString(e,...n));return dT(i),new Ur(t.firestore,null,i)}}function Ds(t,e,...n){if(t=An(t),arguments.length===1&&(e=Fm.newId()),OC("doc","path",e),t instanceof np){const i=Mt.fromString(e,...n);return hT(i),new tn(t,null,new Me(i))}{if(!(t instanceof tn||t instanceof Ur))throw new _e(fe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Mt.fromString(e,...n));return hT(i),new tn(t.firestore,t instanceof Ur?t.converter:null,new Me(i))}}const eE="AsyncQueue";class tE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new R2(this,"async_queue_retry"),this._c=()=>{const i=Iy();i&&Ae(eE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Iy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Iy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!gc(e))throw e;Ae(eE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Gr("INTERNAL UNHANDLED ERROR: ",nE(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Xv.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&je(47125,{Pc:nE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function nE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class rr extends np{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new tE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tE(e),this._firestoreClient=void 0,await e}}}function Y2(t,e){const n=typeof t=="object"?t:yv(),i=typeof t=="string"?t:Zf,a=Lm(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=NA("firestore");l&&K2(a,...l)}return a}function Ch(t){if(t._terminated)throw new _e(fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||B3(t),t._firestoreClient}function B3(t){const e=t._freezeSettings(),n=z3(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new k3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class $i{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $i(Fn.fromBase64String(e))}catch(n){throw new _e(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $i(Fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$i._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wh(e,$i._jsonSchema))return $i.fromBase64String(e.bytes)}}$i._jsonSchemaVersion="firestore/bytes/1.0",$i._jsonSchema={type:Sn("string",$i._jsonSchemaVersion),bytes:Sn("string")};class ip{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sp{constructor(e){this._methodName=e}}class Ps{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ps._jsonSchemaVersion}}static fromJSON(e){if(wh(e,Ps._jsonSchema))return new Ps(e.latitude,e.longitude)}}Ps._jsonSchemaVersion="firestore/geoPoint/1.0",Ps._jsonSchema={type:Sn("string",Ps._jsonSchemaVersion),latitude:Sn("number"),longitude:Sn("number")};class ds{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ds._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wh(e,ds._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ds(e.vectorValues);throw new _e(fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ds._jsonSchemaVersion="firestore/vectorValue/1.0",ds._jsonSchema={type:Sn("string",ds._jsonSchemaVersion),vectorValues:Sn("object")};const F3=/^__.*__$/;class q3{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Wa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Th(e,this.data,n,this.fieldTransforms)}}class X2{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Wa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function W2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je(40011,{dataSource:t})}}class sb{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new sb({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return um(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(W2(this.dataSource)&&F3.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class H3{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Zm(e)}createContext(e,n,i,a=!1){return new sb({dataSource:e,methodName:n,targetDoc:i,path:Bn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rp(t){const e=t._freezeSettings(),n=Zm(t._databaseId);return new H3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Q2(t,e,n,i,a,l={}){const c=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);rb("Data must be an object, but it was:",c,i);const h=J2(i,c);let d,m;if(l.merge)d=new Ki(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const g=[];for(const b of l.mergeFields){const x=cc(e,b,n);if(!c.contains(x))throw new _e(fe.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);tR(g,x)||g.push(x)}d=new Ki(g),m=c.fieldTransforms.filter((b=>d.covers(b.field)))}else d=null,m=c.fieldTransforms;return new q3(new Pi(h),d,m)}class Rh extends sp{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rh}}function G3(t,e,n,i){const a=t.createContext(1,e,n);rb("Data must be an object, but it was:",a,i);const l=[],c=Pi.empty();Xa(i,((d,m)=>{const g=eR(e,d,n);m=An(m);const b=a.childContextForFieldPath(g);if(m instanceof Rh)l.push(g);else{const x=Nh(m,b);x!=null&&(l.push(g),c.set(g,x))}}));const h=new Ki(l);return new X2(c,h,a.fieldTransforms)}function $3(t,e,n,i,a,l){const c=t.createContext(1,e,n),h=[cc(e,i,n)],d=[a];if(l.length%2!=0)throw new _e(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)h.push(cc(e,l[x])),d.push(l[x+1]);const m=[],g=Pi.empty();for(let x=h.length-1;x>=0;--x)if(!tR(m,h[x])){const A=h[x];let k=d[x];k=An(k);const I=c.childContextForFieldPath(A);if(k instanceof Rh)m.push(A);else{const N=Nh(k,I);N!=null&&(m.push(A),g.set(A,N))}}const b=new Ki(m);return new X2(g,b,c.fieldTransforms)}function K3(t,e,n,i=!1){return Nh(n,t.createContext(i?4:3,e))}function Nh(t,e){if(Z2(t=An(t)))return rb("Unsupported field value:",e,t),J2(t,e);if(t instanceof sp)return(function(i,a){if(!W2(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const h of i){let d=Nh(h,a.childContextForArray(c));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),c++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=An(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return D5(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=He.fromDate(i);return{timestampValue:rm(a.serializer,l)}}if(i instanceof He){const l=new He(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:rm(a.serializer,l)}}if(i instanceof Ps)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof $i)return{bytesValue:g2(a.serializer,i._byteString)};if(i instanceof tn){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:zv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof ds)return(function(c,h){const d=c instanceof ds?c.toArray():c;return{mapValue:{fields:{[GC]:{stringValue:$C},[em]:{arrayValue:{values:d.map((g=>{if(typeof g!="number")throw h.createError("VectorValues must only contain numeric values.");return Vv(h.serializer,g)}))}}}}}})(i,a);if(T2(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${qm(i)}`)})(t,e)}function J2(t,e){const n={};return UC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xa(t,((i,a)=>{const l=Nh(a,e.childContextForField(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function Z2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof He||t instanceof Ps||t instanceof $i||t instanceof tn||t instanceof sp||t instanceof ds||T2(t))}function rb(t,e,n){if(!Z2(n)||!jC(n)){const i=qm(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function cc(t,e,n){if((e=An(e))instanceof ip)return e._internalPath;if(typeof e=="string")return eR(t,e);throw um("Field path arguments must be of type string or ",t,!1,void 0,n)}const Y3=new RegExp("[~\\*/\\[\\]]");function eR(t,e,n){if(e.search(Y3)>=0)throw um(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ip(...e.split("."))._internalPath}catch{throw um(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function um(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||c)&&(d+=" (found",l&&(d+=` in field ${i}`),c&&(d+=` in document ${a}`),d+=")"),new _e(fe.INVALID_ARGUMENT,h+t+d)}function tR(t,e){return t.some((n=>n.isEqual(e)))}class nR{convertValue(e,n="none"){switch(qa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw je(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Xa(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[em].arrayValue?.values?.map((i=>mn(i.doubleValue)));return new ds(n)}convertGeoPoint(e){return new Ps(mn(e.latitude),mn(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=$m(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ju(e));default:return null}}convertTimestamp(e){const n=Ba(e);return new He(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Mt.fromString(e);gt(_2(i),9688,{name:e});const a=new sc(i.get(1),i.get(3)),l=new Me(i.popFirst(5));return a.isEqual(n)||Gr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class ab extends nR{constructor(e){super(),this.firestore=e}convertBytes(e){return new $i(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function hm(){return new Rh("deleteField")}const iE="@firebase/firestore",sE="4.10.0";function rE(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class iR{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new X3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(cc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class X3 extends iR{data(){return super.data()}}function sR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ob{}class rR extends ob{}function nh(t,e,...n){let i=[];e instanceof ob&&i.push(e),i=i.concat(n),(function(l){const c=l.filter((d=>d instanceof ap)).length,h=l.filter((d=>d instanceof Ih)).length;if(c>1||c>0&&h>0)throw new _e(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class Ih extends rR{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Ih(e,n,i)}_apply(e){const n=this._parse(e);return aR(e._query,n),new Qa(e.firestore,e.converter,x0(e._query,n))}_parse(e){const n=rp(e.firestore);return(function(l,c,h,d,m,g,b){let x;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new _e(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){oE(b,g);const k=[];for(const I of b)k.push(aE(d,l,I));x={arrayValue:{values:k}}}else x=aE(d,l,b)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||oE(b,g),x=K3(h,c,b,g==="in"||g==="not-in");return En.create(m,g,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ih(t,e,n){const i=e,a=cc("where",t);return Ih._create(a,i,n)}class ap extends ob{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ap(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Os.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const h=l.getFlattenedFilters();for(const d of h)aR(c,d),c=x0(c,d)})(e._query,n),new Qa(e.firestore,e.converter,x0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function aE(t,e,n){if(typeof(n=An(n))=="string"){if(n==="")throw new _e(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!e2(e)&&n.indexOf("/")!==-1)throw new _e(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Mt.fromString(n));if(!Me.isDocumentKey(i))throw new _e(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return xT(t,new Me(i))}if(n instanceof tn)return xT(t,n._key);throw new _e(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qm(n)}.`)}function oE(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aR(t,e){const n=(function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new _e(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function oR(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class Fl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Va extends iR{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(cc("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Va._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Va._jsonSchemaVersion="firestore/documentSnapshot/1.0",Va._jsonSchema={type:Sn("string",Va._jsonSchemaVersion),bundleSource:Sn("string","DocumentSnapshot"),bundleName:Sn("string"),bundle:Sn("string")};class Lu extends Va{data(e={}){return super.data(e)}}class ja{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Fl(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Lu(this._firestore,this._userDataWriter,i.key,i,new Fl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const d=new Lu(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Fl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new Lu(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Fl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,g=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),g=c.indexOf(h.doc.key)),{type:W3(h.type),doc:d,oldIndex:m,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ja._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function W3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:t})}}ja._jsonSchemaVersion="firestore/querySnapshot/1.0",ja._jsonSchema={type:Sn("string",ja._jsonSchemaVersion),bundleSource:Sn("string","QuerySnapshot"),bundleName:Sn("string"),bundle:Sn("string")};function Dh(t){t=yi(t,tn);const e=yi(t.firestore,rr),n=Ch(e);return V3(n,t._key).then((i=>hR(e,t,i)))}function Jl(t){t=yi(t,Qa);const e=yi(t.firestore,rr),n=Ch(e),i=new ab(e);return sR(t._query),j3(n,t._query).then((a=>new ja(e,i,t,a)))}function dm(t,e,n){t=yi(t,tn);const i=yi(t.firestore,rr),a=oR(t.converter,e,n),l=rp(i);return kh(i,[Q2(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,hs.none())])}function ii(t,e,n,...i){t=yi(t,tn);const a=yi(t.firestore,rr),l=rp(a);let c;return c=typeof(e=An(e))=="string"||e instanceof ip?$3(l,"updateDoc",t._key,e,n,i):G3(l,"updateDoc",t._key,e),kh(a,[c.toMutation(t._key,hs.exists(!0))])}function lR(t){return kh(yi(t.firestore,rr),[new jv(t._key,hs.none())])}function cR(t,e){const n=yi(t.firestore,rr),i=Ds(t),a=oR(t.converter,e),l=rp(t.firestore);return kh(n,[Q2(l,"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,hs.exists(!1))]).then((()=>i))}function uR(t,...e){t=An(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||rE(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(rE(e[i])){const m=e[i];e[i]=m.next?.bind(m),e[i+1]=m.error?.bind(m),e[i+2]=m.complete?.bind(m)}let l,c,h;if(t instanceof tn)c=yi(t.firestore,rr),h=Km(t._key.path),l={next:m=>{e[i]&&e[i](hR(c,t,m))},error:e[i+1],complete:e[i+2]};else{const m=yi(t,Qa);c=yi(m.firestore,rr),h=m._query;const g=new ab(c);l={next:b=>{e[i]&&e[i](new ja(c,g,m,b))},error:e[i+1],complete:e[i+2]},sR(t._query)}const d=Ch(c);return O3(d,h,a,l)}function kh(t,e){const n=Ch(t);return L3(n,e)}function hR(t,e,n){const i=n.docs.get(e._key),a=new ab(t);return new Va(t,a,e._key,i,new Fl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){zV(Yo),qo(new La("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),h=new rr(new FV(i.getProvider("auth-internal")),new GV(c,i.getProvider("app-check-internal")),o5(c,a),c);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),Js(iE,sE,e),Js(iE,sE,"esm2020")})();const lE=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:nR,Bytes:$i,CollectionReference:Ur,DocumentReference:tn,DocumentSnapshot:Va,FieldPath:ip,FieldValue:sp,Firestore:rr,FirestoreError:_e,GeoPoint:Ps,Query:Qa,QueryCompositeFilterConstraint:ap,QueryConstraint:rR,QueryDocumentSnapshot:Lu,QueryFieldFilterConstraint:Ih,QuerySnapshot:ja,SnapshotMetadata:Fl,Timestamp:He,VectorValue:ds,_AutoId:Fm,_ByteString:Fn,_DatabaseId:sc,_DocumentKey:Me,_EmptyAuthCredentialsProvider:PC,_FieldPath:Bn,_cast:yi,_logWarn:Go,_validateIsNotUsedTogether:VC,addDoc:cR,collection:jo,connectFirestoreEmulator:K2,deleteDoc:lR,deleteField:hm,doc:Ds,ensureFirestoreConfigured:Ch,executeWrite:kh,getDoc:Dh,getDocs:Jl,getFirestore:Y2,onSnapshot:uR,query:nh,setDoc:dm,updateDoc:ii,where:ih},Symbol.toStringTag,{value:"Module"}));const dR="firebasestorage.googleapis.com",Q3="storageBucket",J3=120*1e3,Z3=600*1e3;class cr extends lr{constructor(e,n,i=0){super(ky(e),`Firebase Storage: ${n} (${ky(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,cr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ky(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ar;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ar||(ar={}));function ky(t){return"storage/"+t}function eL(){const t="An unknown error occurred, please check the error payload for server response.";return new cr(ar.UNKNOWN,t)}function tL(){return new cr(ar.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function nL(){return new cr(ar.CANCELED,"User canceled the upload/download.")}function iL(t){return new cr(ar.INVALID_URL,"Invalid URL '"+t+"'.")}function sL(t){return new cr(ar.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function cE(t){return new cr(ar.INVALID_ARGUMENT,t)}function fR(){return new cr(ar.APP_DELETED,"The Firebase app was deleted.")}function rL(t){return new cr(ar.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class ks{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=ks.makeFromUrl(e,n)}catch{return new ks(e,"")}if(i.path==="")return i;throw sL(e)}static makeFromUrl(e,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+a+c,"i"),d={bucket:1,path:3};function m(oe){oe.path_=decodeURIComponent(oe.path)}const g="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",A=new RegExp(`^https?://${b}/${g}/b/${a}/o${x}`,"i"),k={bucket:1,path:3},I=n===dR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",B=new RegExp(`^https?://${I}/${a}/${N}`,"i"),q=[{regex:h,indices:d,postModify:l},{regex:A,indices:k,postModify:m},{regex:B,indices:{bucket:1,path:2},postModify:m}];for(let oe=0;oe<q.length;oe++){const se=q[oe],ue=se.regex.exec(e);if(ue){const D=ue[se.indices.bucket];let C=ue[se.indices.path];C||(C=""),i=new ks(D,C),se.postModify(i);break}}if(i==null)throw iL(e);return i}}class aL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function oL(t,e,n){let i=1,a=null,l=null,c=!1,h=0;function d(){return h===2}let m=!1;function g(...N){m||(m=!0,e.apply(null,N))}function b(N){a=setTimeout(()=>{a=null,t(A,d())},N)}function x(){l&&clearTimeout(l)}function A(N,...B){if(m){x();return}if(N){x(),g.call(null,N,...B);return}if(d()||c){x(),g.call(null,N,...B);return}i<64&&(i*=2);let q;h===1?(h=2,q=0):q=(i+Math.random())*1e3,b(q)}let k=!1;function I(N){k||(k=!0,x(),!m&&(a!==null?(N||(h=2),clearTimeout(a),b(0)):N||(h=1)))}return b(0),l=setTimeout(()=>{c=!0,I(!0)},n),I}function lL(t){t(!1)}function cL(t){return t!==void 0}function uE(t,e,n,i){if(i<e)throw cE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw cE(`Invalid value for '${t}'. Expected ${n} or less.`)}function uL(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const a=e(i)+"="+e(t[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var fm;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(fm||(fm={}));function hL(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class dL{constructor(e,n,i,a,l,c,h,d,m,g,b,x=!0,A=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=b,this.retry=x,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,I)=>{this.resolve_=k,this.reject_=I,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new ff(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=h=>{const d=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const h=l.getErrorCode()===fm.NO_ERROR,d=l.getStatus();if(!h||hL(d,this.additionalRetryCodes_)&&this.retry){const g=l.getErrorCode()===fm.ABORT;i(!1,new ff(!1,null,g));return}const m=this.successCodes_.indexOf(d)!==-1;i(!0,new ff(m,l))})},n=(i,a)=>{const l=this.resolve_,c=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());cL(d)?l(d):l()}catch(d){c(d)}else if(h!==null){const d=eL();d.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,d)):c(d)}else if(a.canceled){const d=this.appDelete_?fR():nL();c(d)}else{const d=tL();c(d)}};this.canceled_?n(!1,new ff(!1,null,!0)):this.backoffId_=oL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&lL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ff{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function fL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function mL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function pL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function gL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function yL(t,e,n,i,a,l,c=!0,h=!1){const d=uL(t.urlParams),m=t.url+d,g=Object.assign({},t.headers);return pL(g,e),fL(g,n),mL(g,l),gL(g,i),new dL(m,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,h)}function vL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function bL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class mm{constructor(e,n){this._service=e,n instanceof ks?this._location=n:this._location=ks.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new mm(e,n)}get root(){const e=new ks(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bL(this._location.path)}get storage(){return this._service}get parent(){const e=vL(this._location.path);if(e===null)return null;const n=new ks(this._location.bucket,e);return new mm(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw rL(e)}}function hE(t,e){const n=e?.[Q3];return n==null?null:ks.makeFromBucketSpec(n,t)}function xL(t,e,n,i={}){t.host=`${e}:${n}`;const a=Ko(e);a&&(fv(`https://${t.host}/b`),mv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(t._overrideAuthToken=typeof l=="string"?l:kA(l,t.app.options.projectId))}class wL{constructor(e,n,i,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=dR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=J3,this._maxUploadRetryTime=Z3,this._requests=new Set,a!=null?this._bucket=ks.makeFromBucketSpec(a,this._host):this._bucket=hE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ks.makeFromBucketSpec(this._url,e):this._bucket=hE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){uE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){uE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(cs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new mm(this,e)}_makeRequest(e,n,i,a,l=!0){if(this._deleted)return new aL(fR());{const c=yL(e,this._appId,i,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,a).getPromise()}}const dE="@firebase/storage",fE="0.14.0";const mR="storage";function _L(t=yv(),e){t=An(t);const i=Lm(t,mR).getImmediate({identifier:e}),a=NA("storage");return a&&TL(i,...a),i}function TL(t,e,n,i={}){xL(t,e,n,i)}function EL(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new wL(n,i,a,e,Yo)}function SL(){qo(new La(mR,EL,"PUBLIC").setMultipleInstances(!0)),Js(dE,fE,""),Js(dE,fE,"esm2020")}SL();const AL={apiKey:"AIzaSyC7IaK8e0JimVT2DeKQovTDLPyufibEu_4",authDomain:"sunsar-bingo.firebaseapp.com",projectId:"sunsar-bingo",storageBucket:"sunsar-bingo.firebasestorage.app",messagingSenderId:"256131852935",appId:"1:256131852935:web:fe514c1e6758e5af252622"},op=OA(AL),Mo=SC(op),pR=new Qs,ri=Y2(op);_L(op);const mE=Object.freeze(Object.defineProperty({__proto__:null,app:op,auth:Mo,db:ri,googleProvider:pR},Symbol.toStringTag,{value:"Module"})),gR=S.createContext(void 0),CL=({children:t})=>{const[e,n]=S.useState(null),[i,a]=S.useState(!0),[l,c]=S.useState(null);S.useEffect(()=>{const g=cC(Mo,async b=>{if(b){const x={uid:b.uid,email:b.email,displayName:b.displayName,photoURL:b.photoURL};n(x),c(null);try{const{doc:A,setDoc:k,Timestamp:I}=await jl(async()=>{const{doc:B,setDoc:H,Timestamp:q}=await Promise.resolve().then(()=>lE);return{doc:B,setDoc:H,Timestamp:q}},[]),{db:N}=await jl(async()=>{const{db:B}=await Promise.resolve().then(()=>mE);return{db:B}},void 0);await k(A(N,"users",b.uid),{...x,lastSeen:I.now()},{merge:!0})}catch(A){console.error("Error syncing user profile:",A)}}else n(null);a(!1)});return()=>g()},[]);const h=async()=>{c(null);try{await _C(Mo,pR)}catch(g){c(g.message||"Failed to sign in")}},d=async()=>{await uC(Mo)},m=async g=>{if(Mo.currentUser)try{const{updateProfile:b}=await jl(async()=>{const{updateProfile:I}=await Promise.resolve().then(()=>UV);return{updateProfile:I}},void 0);await b(Mo.currentUser,{displayName:g}),n(I=>I?{...I,displayName:g}:null);const{doc:x,updateDoc:A}=await jl(async()=>{const{doc:I,updateDoc:N}=await Promise.resolve().then(()=>lE);return{doc:I,updateDoc:N}},void 0),{db:k}=await jl(async()=>{const{db:I}=await Promise.resolve().then(()=>mE);return{db:I}},void 0);await A(x(k,"users",Mo.currentUser.uid),{displayName:g})}catch(b){throw console.error("Error updating profile:",b),b}};return v.jsx(gR.Provider,{value:{user:e,loading:i,signIn:h,logout:d,updateProfileName:m,error:l},children:t})},Ja=()=>{const t=S.useContext(gR);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},lb=S.createContext({});function cb(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const yR=typeof window<"u",vR=yR?S.useLayoutEffect:S.useEffect,lp=S.createContext(null);function ub(t,e){t.indexOf(e)===-1&&t.push(e)}function hb(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const or=(t,e,n)=>n>e?e:n<t?t:n;let db=()=>{};const Kr={},bR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function xR(t){return typeof t=="object"&&t!==null}const wR=t=>/^0[^.\s]+$/u.test(t);function fb(t){let e;return()=>(e===void 0&&(e=t()),e)}const fs=t=>t,RL=(t,e)=>n=>e(t(n)),Mh=(...t)=>t.reduce(RL),sh=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class mb{constructor(){this.subscriptions=[]}add(e){return ub(this.subscriptions,e),()=>hb(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zr=t=>t*1e3,us=t=>t/1e3;function _R(t,e){return e?t*(1e3/e):0}const TR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,NL=1e-7,IL=12;function DL(t,e,n,i,a){let l,c,h=0;do c=e+(n-e)/2,l=TR(c,i,a)-t,l>0?n=c:e=c;while(Math.abs(l)>NL&&++h<IL);return c}function Ph(t,e,n,i){if(t===e&&n===i)return fs;const a=l=>DL(l,0,1,t,n);return l=>l===0||l===1?l:TR(a(l),e,i)}const ER=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,SR=t=>e=>1-t(1-e),AR=Ph(.33,1.53,.69,.99),pb=SR(AR),CR=ER(pb),RR=t=>(t*=2)<1?.5*pb(t):.5*(2-Math.pow(2,-10*(t-1))),gb=t=>1-Math.sin(Math.acos(t)),NR=SR(gb),IR=ER(gb),kL=Ph(.42,0,1,1),ML=Ph(0,0,.58,1),DR=Ph(.42,0,.58,1),PL=t=>Array.isArray(t)&&typeof t[0]!="number",kR=t=>Array.isArray(t)&&typeof t[0]=="number",OL={linear:fs,easeIn:kL,easeInOut:DR,easeOut:ML,circIn:gb,circInOut:IR,circOut:NR,backIn:pb,backInOut:CR,backOut:AR,anticipate:RR},VL=t=>typeof t=="string",pE=t=>{if(kR(t)){db(t.length===4);const[e,n,i,a]=t;return Ph(e,n,i,a)}else if(VL(t))return OL[t];return t},mf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function jL(t,e){let n=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(g){c.has(g)&&(m.schedule(g),t()),g(h)}const m={schedule:(g,b=!1,x=!1)=>{const k=x&&a?n:i;return b&&c.add(g),k.has(g)||k.add(g),g},cancel:g=>{i.delete(g),c.delete(g)},process:g=>{if(h=g,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(d),n.clear(),a=!1,l&&(l=!1,m.process(g))}};return m}const LL=40;function MR(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=mf.reduce((q,oe)=>(q[oe]=jL(l),q),{}),{setup:h,read:d,resolveKeyframes:m,preUpdate:g,update:b,preRender:x,render:A,postRender:k}=c,I=()=>{const q=Kr.useManualTiming?a.timestamp:performance.now();n=!1,Kr.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(q-a.timestamp,LL),1)),a.timestamp=q,a.isProcessing=!0,h.process(a),d.process(a),m.process(a),g.process(a),b.process(a),x.process(a),A.process(a),k.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(I))},N=()=>{n=!0,i=!0,a.isProcessing||t(I)};return{schedule:mf.reduce((q,oe)=>{const se=c[oe];return q[oe]=(ue,D=!1,C=!1)=>(n||N(),se.schedule(ue,D,C)),q},{}),cancel:q=>{for(let oe=0;oe<mf.length;oe++)c[mf[oe]].cancel(q)},state:a,steps:c}}const{schedule:Lt,cancel:$a,state:Xn,steps:My}=MR(typeof requestAnimationFrame<"u"?requestAnimationFrame:fs,!0);let Vf;function UL(){Vf=void 0}const pi={now:()=>(Vf===void 0&&pi.set(Xn.isProcessing||Kr.useManualTiming?Xn.timestamp:performance.now()),Vf),set:t=>{Vf=t,queueMicrotask(UL)}},PR=t=>e=>typeof e=="string"&&e.startsWith(t),OR=PR("--"),zL=PR("var(--"),yb=t=>zL(t)?BL.test(t.split("/*")[0].trim()):!1,BL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function gE(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const vc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},rh={...vc,transform:t=>or(0,1,t)},pf={...vc,default:1},Uu=t=>Math.round(t*1e5)/1e5,vb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function FL(t){return t==null}const qL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bb=(t,e)=>n=>!!(typeof n=="string"&&qL.test(n)&&n.startsWith(t)||e&&!FL(n)&&Object.prototype.hasOwnProperty.call(n,e)),VR=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,c,h]=i.match(vb);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},HL=t=>or(0,255,t),Py={...vc,transform:t=>Math.round(HL(t))},Lo={test:bb("rgb","red"),parse:VR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Py.transform(t)+", "+Py.transform(e)+", "+Py.transform(n)+", "+Uu(rh.transform(i))+")"};function GL(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const D0={test:bb("#"),parse:GL,transform:Lo.transform},Oh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Na=Oh("deg"),nr=Oh("%"),Ce=Oh("px"),$L=Oh("vh"),KL=Oh("vw"),yE={...nr,parse:t=>nr.parse(t)/100,transform:t=>nr.transform(t*100)},ql={test:bb("hsl","hue"),parse:VR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+nr.transform(Uu(e))+", "+nr.transform(Uu(n))+", "+Uu(rh.transform(i))+")"},Tn={test:t=>Lo.test(t)||D0.test(t)||ql.test(t),parse:t=>Lo.test(t)?Lo.parse(t):ql.test(t)?ql.parse(t):D0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Lo.transform(t):ql.transform(t),getAnimatableNone:t=>{const e=Tn.parse(t);return e.alpha=0,Tn.transform(e)}},YL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function XL(t){return isNaN(t)&&typeof t=="string"&&(t.match(vb)?.length||0)+(t.match(YL)?.length||0)>0}const jR="number",LR="color",WL="var",QL="var(",vE="${}",JL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ah(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(JL,d=>(Tn.test(d)?(i.color.push(l),a.push(LR),n.push(Tn.parse(d))):d.startsWith(QL)?(i.var.push(l),a.push(WL),n.push(d)):(i.number.push(l),a.push(jR),n.push(parseFloat(d))),++l,vE)).split(vE);return{values:n,split:h,indexes:i,types:a}}function UR(t){return ah(t).values}function zR(t){const{split:e,types:n}=ah(t),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const h=n[c];h===jR?l+=Uu(a[c]):h===LR?l+=Tn.transform(a[c]):l+=a[c]}return l}}const ZL=t=>typeof t=="number"?0:Tn.test(t)?Tn.getAnimatableNone(t):t;function e6(t){const e=UR(t);return zR(t)(e.map(ZL))}const Ka={test:XL,parse:UR,createTransformer:zR,getAnimatableNone:e6};function Oy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function t6({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=Oy(d,h,t+1/3),l=Oy(d,h,t),c=Oy(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function pm(t,e){return n=>n>0?e:t}const en=(t,e,n)=>t+(e-t)*n,Vy=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},n6=[D0,Lo,ql],i6=t=>n6.find(e=>e.test(t));function bE(t){const e=i6(t);if(!e)return!1;let n=e.parse(t);return e===ql&&(n=t6(n)),n}const xE=(t,e)=>{const n=bE(t),i=bE(e);if(!n||!i)return pm(t,e);const a={...n};return l=>(a.red=Vy(n.red,i.red,l),a.green=Vy(n.green,i.green,l),a.blue=Vy(n.blue,i.blue,l),a.alpha=en(n.alpha,i.alpha,l),Lo.transform(a))},k0=new Set(["none","hidden"]);function s6(t,e){return k0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function r6(t,e){return n=>en(t,e,n)}function xb(t){return typeof t=="number"?r6:typeof t=="string"?yb(t)?pm:Tn.test(t)?xE:l6:Array.isArray(t)?BR:typeof t=="object"?Tn.test(t)?xE:a6:pm}function BR(t,e){const n=[...t],i=n.length,a=t.map((l,c)=>xb(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)n[c]=a[c](l);return n}}function a6(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=xb(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function o6(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],h=t.values[c]??0;n[a]=h,i[l]++}return n}const l6=(t,e)=>{const n=Ka.createTransformer(e),i=ah(t),a=ah(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?k0.has(t)&&!a.values.length||k0.has(e)&&!i.values.length?s6(t,e):Mh(BR(o6(i,a),a.values),n):pm(t,e)};function FR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?en(t,e,n):xb(t)(t,e)}const c6=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Lt.update(e,n),stop:()=>$a(e),now:()=>Xn.isProcessing?Xn.timestamp:pi.now()}},qR=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},gm=2e4;function wb(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<gm;)e+=n,i=t.next(e);return e>=gm?1/0:e}function u6(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(wb(i),gm);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:us(a)}}const h6=5;function HR(t,e,n){const i=Math.max(e-h6,0);return _R(n-t(i),e-i)}const cn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jy=.001;function d6({duration:t=cn.duration,bounce:e=cn.bounce,velocity:n=cn.velocity,mass:i=cn.mass}){let a,l,c=1-e;c=or(cn.minDamping,cn.maxDamping,c),t=or(cn.minDuration,cn.maxDuration,us(t)),c<1?(a=m=>{const g=m*c,b=g*t,x=g-n,A=M0(m,c),k=Math.exp(-b);return jy-x/A*k},l=m=>{const b=m*c*t,x=b*n+n,A=Math.pow(c,2)*Math.pow(m,2)*t,k=Math.exp(-b),I=M0(Math.pow(m,2),c);return(-a(m)+jy>0?-1:1)*((x-A)*k)/I}):(a=m=>{const g=Math.exp(-m*t),b=(m-n)*t+1;return-jy+g*b},l=m=>{const g=Math.exp(-m*t),b=(n-m)*(t*t);return g*b});const h=5/t,d=m6(a,l,h);if(t=zr(t),isNaN(d))return{stiffness:cn.stiffness,damping:cn.damping,duration:t};{const m=Math.pow(d,2)*i;return{stiffness:m,damping:c*2*Math.sqrt(i*m),duration:t}}}const f6=12;function m6(t,e,n){let i=n;for(let a=1;a<f6;a++)i=i-t(i)/e(i);return i}function M0(t,e){return t*Math.sqrt(1-e*e)}const p6=["duration","bounce"],g6=["stiffness","damping","mass"];function wE(t,e){return e.some(n=>t[n]!==void 0)}function y6(t){let e={velocity:cn.velocity,stiffness:cn.stiffness,damping:cn.damping,mass:cn.mass,isResolvedFromDuration:!1,...t};if(!wE(t,g6)&&wE(t,p6))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*or(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:cn.mass,stiffness:a,damping:l}}else{const n=d6(t);e={...e,...n,mass:cn.mass},e.isResolvedFromDuration=!0}return e}function ym(t=cn.visualDuration,e=cn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:m,mass:g,duration:b,velocity:x,isResolvedFromDuration:A}=y6({...n,velocity:-us(n.velocity||0)}),k=x||0,I=m/(2*Math.sqrt(d*g)),N=c-l,B=us(Math.sqrt(d/g)),H=Math.abs(N)<5;i||(i=H?cn.restSpeed.granular:cn.restSpeed.default),a||(a=H?cn.restDelta.granular:cn.restDelta.default);let q;if(I<1){const se=M0(B,I);q=ue=>{const D=Math.exp(-I*B*ue);return c-D*((k+I*B*N)/se*Math.sin(se*ue)+N*Math.cos(se*ue))}}else if(I===1)q=se=>c-Math.exp(-B*se)*(N+(k+B*N)*se);else{const se=B*Math.sqrt(I*I-1);q=ue=>{const D=Math.exp(-I*B*ue),C=Math.min(se*ue,300);return c-D*((k+I*B*N)*Math.sinh(C)+se*N*Math.cosh(C))/se}}const oe={calculatedDuration:A&&b||null,next:se=>{const ue=q(se);if(A)h.done=se>=b;else{let D=se===0?k:0;I<1&&(D=se===0?zr(k):HR(q,se,ue));const C=Math.abs(D)<=i,P=Math.abs(c-ue)<=a;h.done=C&&P}return h.value=h.done?c:ue,h},toString:()=>{const se=Math.min(wb(oe),gm),ue=qR(D=>oe.next(se*D).value,se,30);return se+"ms "+ue},toTransition:()=>{}};return oe}ym.applyToOptions=t=>{const e=u6(t,100,ym);return t.ease=e.ease,t.duration=zr(e.duration),t.type="keyframes",t};function P0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:d,restDelta:m=.5,restSpeed:g}){const b=t[0],x={done:!1,value:b},A=C=>h!==void 0&&C<h||d!==void 0&&C>d,k=C=>h===void 0?d:d===void 0||Math.abs(h-C)<Math.abs(d-C)?h:d;let I=n*e;const N=b+I,B=c===void 0?N:c(N);B!==N&&(I=B-b);const H=C=>-I*Math.exp(-C/i),q=C=>B+H(C),oe=C=>{const P=H(C),U=q(C);x.done=Math.abs(P)<=m,x.value=x.done?B:U};let se,ue;const D=C=>{A(x.value)&&(se=C,ue=ym({keyframes:[x.value,k(x.value)],velocity:HR(q,C,x.value),damping:a,stiffness:l,restDelta:m,restSpeed:g}))};return D(0),{calculatedDuration:null,next:C=>{let P=!1;return!ue&&se===void 0&&(P=!0,oe(C),D(C)),se!==void 0&&C>=se?ue.next(C-se):(!P&&oe(C),x)}}}function v6(t,e,n){const i=[],a=n||Kr.mix||FR,l=t.length-1;for(let c=0;c<l;c++){let h=a(t[c],t[c+1]);if(e){const d=Array.isArray(e)?e[c]||fs:e;h=Mh(d,h)}i.push(h)}return i}function b6(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(db(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=v6(e,i,a),d=h.length,m=g=>{if(c&&g<t[0])return e[0];let b=0;if(d>1)for(;b<t.length-2&&!(g<t[b+1]);b++);const x=sh(t[b],t[b+1],g);return h[b](x)};return n?g=>m(or(t[0],t[l-1],g)):m}function x6(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=sh(0,e,i);t.push(en(n,1,a))}}function w6(t){const e=[0];return x6(e,t.length-1),e}function _6(t,e){return t.map(n=>n*e)}function T6(t,e){return t.map(()=>e||DR).splice(0,t.length-1)}function zu({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=PL(i)?i.map(pE):pE(i),l={done:!1,value:e[0]},c=_6(n&&n.length===e.length?n:w6(e),t),h=b6(c,e,{ease:Array.isArray(a)?a:T6(e,a)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const E6=t=>t!==null;function _b(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(E6),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||i===void 0?l[h]:i}const S6={decay:P0,inertia:P0,tween:zu,keyframes:zu,spring:ym};function GR(t){typeof t.type=="string"&&(t.type=S6[t.type])}class Tb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const A6=t=>t/100;class Eb extends Tb{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==pi.now()&&this.tick(pi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;GR(e);const{type:n=zu,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:h}=e;const d=n||zu;d!==zu&&typeof h[0]!="number"&&(this.mixKeyframes=Mh(A6,FR(h[0],h[1])),h=[0,100]);const m=d({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=wb(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:g,repeat:b,repeatType:x,repeatDelay:A,type:k,onUpdate:I,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const B=this.currentTime-m*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?B<0:B>a;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let q=this.currentTime,oe=i;if(b){const C=Math.min(this.currentTime,a)/h;let P=Math.floor(C),U=C%1;!U&&C>=1&&(U=1),U===1&&P--,P=Math.min(P,b+1),P%2&&(x==="reverse"?(U=1-U,A&&(U-=A/h)):x==="mirror"&&(oe=c)),q=or(0,1,U)*h}const se=H?{done:!1,value:g[0]}:oe.next(q);l&&(se.value=l(se.value));let{done:ue}=se;!H&&d!==null&&(ue=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return D&&k!==P0&&(se.value=_b(g,this.options,N,this.speed)),I&&I(se.value),D&&this.finish(),se}then(e,n){return this.finished.then(e,n)}get duration(){return us(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+us(e)}get time(){return us(this.currentTime)}set time(e){e=zr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(pi.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=us(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=c6,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(pi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function C6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Uo=t=>t*180/Math.PI,O0=t=>{const e=Uo(Math.atan2(t[1],t[0]));return V0(e)},R6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:O0,rotateZ:O0,skewX:t=>Uo(Math.atan(t[1])),skewY:t=>Uo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},V0=t=>(t=t%360,t<0&&(t+=360),t),_E=O0,TE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),EE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),N6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:TE,scaleY:EE,scale:t=>(TE(t)+EE(t))/2,rotateX:t=>V0(Uo(Math.atan2(t[6],t[5]))),rotateY:t=>V0(Uo(Math.atan2(-t[2],t[0]))),rotateZ:_E,rotate:_E,skewX:t=>Uo(Math.atan(t[4])),skewY:t=>Uo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function j0(t){return t.includes("scale")?1:0}function L0(t,e){if(!t||t==="none")return j0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=N6,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=R6,a=h}if(!a)return j0(e);const l=i[e],c=a[1].split(",").map(D6);return typeof l=="function"?l(c):c[l]}const I6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return L0(n,e)};function D6(t){return parseFloat(t.trim())}const bc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xc=new Set(bc),SE=t=>t===vc||t===Ce,k6=new Set(["x","y","z"]),M6=bc.filter(t=>!k6.has(t));function P6(t){const e=[];return M6.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const ka={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>L0(e,"x"),y:(t,{transform:e})=>L0(e,"y")};ka.translateX=ka.x;ka.translateY=ka.y;const Bo=new Set;let U0=!1,z0=!1,B0=!1;function $R(){if(z0){const t=Array.from(Bo).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=P6(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,c])=>{i.getValue(l)?.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}z0=!1,U0=!1,Bo.forEach(t=>t.complete(B0)),Bo.clear()}function KR(){Bo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(z0=!0)})}function O6(){B0=!0,KR(),$R(),B0=!1}class Sb{constructor(e,n,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Bo.add(this),U0||(U0=!0,Lt.read(KR),Lt.resolveKeyframes($R))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const h=i.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}C6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Bo.delete(this)}cancel(){this.state==="scheduled"&&(Bo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const V6=t=>t.startsWith("--");function j6(t,e,n){V6(e)?t.style.setProperty(e,n):t.style[e]=n}const L6=fb(()=>window.ScrollTimeline!==void 0),U6={};function z6(t,e){const n=fb(t);return()=>U6[e]??n()}const YR=z6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Iu=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,AE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Iu([0,.65,.55,1]),circOut:Iu([.55,0,1,.45]),backIn:Iu([.31,.01,.66,-.59]),backOut:Iu([.33,1.53,.69,.99])};function XR(t,e){if(t)return typeof t=="function"?YR()?qR(t,e):"ease-out":kR(t)?Iu(t):Array.isArray(t)?t.map(n=>XR(n,e)||AE.easeOut):AE[t]}function B6(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:d}={},m=void 0){const g={[e]:n};d&&(g.offset=d);const b=XR(h,a);Array.isArray(b)&&(g.easing=b);const x={delay:i,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(x.pseudoElement=m),t.animate(g,x)}function WR(t){return typeof t=="function"&&"applyToOptions"in t}function F6({type:t,...e}){return WR(t)&&YR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class q6 extends Tb{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,db(typeof e.type!="string");const m=F6(e);this.animation=B6(n,i,a,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=_b(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):j6(n,i,g),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return us(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+us(e)}get time(){return us(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=zr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&L6()?(this.animation.timeline=e,fs):n(this)}}const QR={anticipate:RR,backInOut:CR,circInOut:IR};function H6(t){return t in QR}function G6(t){typeof t.ease=="string"&&H6(t.ease)&&(t.ease=QR[t.ease])}const Ly=10;class $6 extends q6{constructor(e){G6(e),GR(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new Eb({...c,autoplay:!1}),d=Math.max(Ly,pi.now()-this.startTime),m=or(0,Ly,d-Ly);n.setWithVelocity(h.sample(Math.max(0,d-m)).value,h.sample(d).value,m),h.stop()}}const CE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ka.test(t)||t==="0")&&!t.startsWith("url("));function K6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Y6(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=CE(a,e),h=CE(l,e);return!c||!h?!1:K6(t)||(n==="spring"||WR(n))&&i}function F0(t){t.duration=0,t.type="keyframes"}const X6=new Set(["opacity","clipPath","filter","transform"]),W6=fb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Q6(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=e.owner.getProps();return W6()&&n&&X6.has(n)&&(n!=="transform"||!m)&&!d&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const J6=40;class Z6 extends Tb{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:d,motionValue:m,element:g,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=pi.now();const x={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:c,name:d,motionValue:m,element:g,...b},A=g?.KeyframeResolver||Sb;this.keyframeResolver=new A(h,(k,I,N)=>this.onKeyframesResolved(k,I,x,!N),d,m,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:d,isHandoff:m,onUpdate:g}=i;this.resolvedAt=pi.now(),Y6(e,l,c,h)||((Kr.instantAnimations||!d)&&g?.(_b(e,i,n)),e[0]=e[e.length-1],F0(i),i.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>J6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},A=!m&&Q6(x)?new $6({...x,element:x.motionValue.owner.current}):new Eb(x);A.finished.then(()=>this.notifyFinished()).catch(fs),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),O6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const eU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tU(t){const e=eU.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function JR(t,e,n=1){const[i,a]=tU(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return bR(c)?parseFloat(c):c}return yb(a)?JR(a,e,n+1):a}function Ab(t,e){return t?.[e]??t?.default??t}const nU={type:"spring",stiffness:500,damping:25,restSpeed:10},iU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),sU={type:"keyframes",duration:.8},rU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},aU=(t,{keyframes:e})=>e.length>2?sU:xc.has(t)?t.startsWith("scale")?iU(e[1]):nU:rU;function oU({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:d,elapsed:m,...g}){return!!Object.keys(g).length}const lU=t=>t!==null;function cU(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(lU),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function ZR(t,e,n,i=0,a=1){const l=Array.from(t).sort((m,g)=>m.sortNodePosition(g)).indexOf(e),c=t.size,h=(c-1)*i;return typeof n=="function"?n(l,c):a===1?l*i:h-l*i}const Cb=(t,e,n,i={},a,l)=>c=>{const h=Ab(i,t)||{},d=h.delay||i.delay||0;let{elapsed:m=0}=i;m=m-zr(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:x=>{e.set(x),h.onUpdate&&h.onUpdate(x)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};oU(h)||Object.assign(g,aU(t,g)),g.duration&&(g.duration=zr(g.duration)),g.repeatDelay&&(g.repeatDelay=zr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let b=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(F0(g),g.delay===0&&(b=!0)),(Kr.instantAnimations||Kr.skipAnimations)&&(b=!0,F0(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,b&&!l&&e.get()!==void 0){const x=cU(g.keyframes,h);if(x!==void 0){Lt.update(()=>{g.onUpdate(x),g.onComplete()});return}}return h.isSync?new Eb(g):new Z6(g)},eN=new Set(["width","height","top","left","right","bottom",...bc]),RE=30,uU=t=>!isNaN(parseFloat(t));class hU{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=pi.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=pi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=uU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new mb);const i=this.events[e].add(n);return e==="change"?()=>{i(),Lt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=pi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>RE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,RE);return _R(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function uc(t,e){return new hU(t,e)}function NE(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Rb(t,e,n,i){if(typeof e=="function"){const[a,l]=NE(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=NE(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function Zl(t,e,n){const i=t.getProps();return Rb(i,e,n!==void 0?n:i.custom,t)}const q0=t=>Array.isArray(t);function dU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,uc(n))}function fU(t){return q0(t)?t[t.length-1]||0:t}function mU(t,e){const n=Zl(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const c in l){const h=fU(l[c]);dU(t,c,h)}}const oi=t=>!!(t&&t.getVelocity);function pU(t){return!!(oi(t)&&t.add)}function H0(t,e){const n=t.getValue("willChange");if(pU(n))return n.add(e);if(!n&&Kr.WillChange){const i=new Kr.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function Nb(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const gU="framerAppearId",tN="data-"+Nb(gU);function nN(t){return t.props[tN]}function yU({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function iN(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...h}=e;i&&(l=i);const d=[],m=a&&t.animationState&&t.animationState.getState()[a];for(const g in h){const b=t.getValue(g,t.latestValues[g]??null),x=h[g];if(x===void 0||m&&yU(m,g))continue;const A={delay:n,...Ab(l||{},g)},k=b.get();if(k!==void 0&&!b.isAnimating&&!Array.isArray(x)&&x===k&&!A.velocity)continue;let I=!1;if(window.MotionHandoffAnimation){const B=nN(t);if(B){const H=window.MotionHandoffAnimation(B,g,Lt);H!==null&&(A.startTime=H,I=!0)}}H0(t,g),b.start(Cb(g,b,x,t.shouldReduceMotion&&eN.has(g)?{type:!1}:A,t,I));const N=b.animation;N&&d.push(N)}return c&&Promise.all(d).then(()=>{Lt.update(()=>{c&&mU(t,c)})}),d}function G0(t,e,n={}){const i=Zl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(iN(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:b}=a;return vU(t,e,d,m,g,b,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,m]=h==="beforeChildren"?[l,c]:[c,l];return d().then(()=>m())}else return Promise.all([l(),c(n.delay)])}function vU(t,e,n=0,i=0,a=0,l=1,c){const h=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),h.push(G0(d,e,{...c,delay:n+(typeof i=="function"?0:i)+ZR(t.variantChildren,d,i,a,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function bU(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>G0(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=G0(t,e,n);else{const a=typeof e=="function"?Zl(t,e,n.custom):e;i=Promise.all(iN(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const xU={test:t=>t==="auto",parse:t=>t},sN=t=>e=>e.test(t),rN=[vc,Ce,nr,Na,KL,$L,xU],IE=t=>rN.find(sN(t));function wU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||wR(t):!0}const _U=new Set(["brightness","contrast","saturate","opacity"]);function TU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(vb)||[];if(!i)return t;const a=n.replace(i,"");let l=_U.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const EU=/\b([a-z-]*)\(.*?\)/gu,$0={...Ka,getAnimatableNone:t=>{const e=t.match(EU);return e?e.map(TU).join(" "):t}},DE={...vc,transform:Math.round},SU={rotate:Na,rotateX:Na,rotateY:Na,rotateZ:Na,scale:pf,scaleX:pf,scaleY:pf,scaleZ:pf,skew:Na,skewX:Na,skewY:Na,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:rh,originX:yE,originY:yE,originZ:Ce},Ib={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,inset:Ce,insetBlock:Ce,insetBlockStart:Ce,insetBlockEnd:Ce,insetInline:Ce,insetInlineStart:Ce,insetInlineEnd:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,paddingBlock:Ce,paddingBlockStart:Ce,paddingBlockEnd:Ce,paddingInline:Ce,paddingInlineStart:Ce,paddingInlineEnd:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,marginBlock:Ce,marginBlockStart:Ce,marginBlockEnd:Ce,marginInline:Ce,marginInlineStart:Ce,marginInlineEnd:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce,...SU,zIndex:DE,fillOpacity:rh,strokeOpacity:rh,numOctaves:DE},AU={...Ib,color:Tn,backgroundColor:Tn,outlineColor:Tn,fill:Tn,stroke:Tn,borderColor:Tn,borderTopColor:Tn,borderRightColor:Tn,borderBottomColor:Tn,borderLeftColor:Tn,filter:$0,WebkitFilter:$0},aN=t=>AU[t];function oN(t,e){let n=aN(t);return n!==$0&&(n=Ka),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const CU=new Set(["auto","none","0"]);function RU(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!CU.has(l)&&ah(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=oN(n,a)}class NU extends Sb{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let b=e[g];if(typeof b=="string"&&(b=b.trim(),yb(b))){const x=JR(b,n.current);x!==void 0&&(e[g]=x),g===e.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!eN.has(i)||e.length!==2)return;const[a,l]=e,c=IE(a),h=IE(l),d=gE(a),m=gE(l);if(d!==m&&ka[i]){this.needsMeasurement=!0;return}if(c!==h)if(SE(c)&&SE(h))for(let g=0;g<e.length;g++){const b=e[g];typeof b=="string"&&(e[g]=parseFloat(b))}else ka[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||wU(e[a]))&&i.push(a);i.length&&RU(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ka[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=ka[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function IU(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const lN=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function cN(t){return xR(t)&&"offsetHeight"in t}const{schedule:Db}=MR(queueMicrotask,!1),Cs={x:!1,y:!1};function uN(){return Cs.x||Cs.y}function DU(t){return t==="x"||t==="y"?Cs[t]?null:(Cs[t]=!0,()=>{Cs[t]=!1}):Cs.x||Cs.y?null:(Cs.x=Cs.y=!0,()=>{Cs.x=Cs.y=!1})}function hN(t,e){const n=IU(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function kE(t){return!(t.pointerType==="touch"||uN())}function kU(t,e,n={}){const[i,a,l]=hN(t,n),c=h=>{if(!kE(h))return;const{target:d}=h,m=e(d,h);if(typeof m!="function"||!d)return;const g=b=>{kE(b)&&(m(b),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,a)};return i.forEach(h=>{h.addEventListener("pointerenter",c,a)}),l}const dN=(t,e)=>e?t===e?!0:dN(t,e.parentElement):!1,kb=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,MU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function fN(t){return MU.has(t.tagName)||t.isContentEditable===!0}const jf=new WeakSet;function ME(t){return e=>{e.key==="Enter"&&t(e)}}function Uy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const PU=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=ME(()=>{if(jf.has(n))return;Uy(n,"down");const a=ME(()=>{Uy(n,"up")}),l=()=>Uy(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function PE(t){return kb(t)&&!uN()}function OU(t,e,n={}){const[i,a,l]=hN(t,n),c=h=>{const d=h.currentTarget;if(!PE(h))return;jf.add(d);const m=e(d,h),g=(A,k)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",x),jf.has(d)&&jf.delete(d),PE(A)&&typeof m=="function"&&m(A,{success:k})},b=A=>{g(A,d===window||d===document||n.useGlobalTarget||dN(d,A.target))},x=A=>{g(A,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",x,a)};return i.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),cN(h)&&(h.addEventListener("focus",m=>PU(m,a)),!fN(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function mN(t){return xR(t)&&"ownerSVGElement"in t}function VU(t){return mN(t)&&t.tagName==="svg"}const jU=[...rN,Tn,Ka],LU=t=>jU.find(sN(t)),OE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hl=()=>({x:OE(),y:OE()}),VE=()=>({min:0,max:0}),In=()=>({x:VE(),y:VE()}),K0={current:null},pN={current:!1},UU=typeof window<"u";function zU(){if(pN.current=!0,!!UU)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>K0.current=t.matches;t.addEventListener("change",e),e()}else K0.current=!1}const BU=new WeakMap;function cp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function oh(t){return typeof t=="string"||Array.isArray(t)}const Mb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Pb=["initial",...Mb];function up(t){return cp(t.animate)||Pb.some(e=>oh(t[e]))}function gN(t){return!!(up(t)||t.variants)}function FU(t,e,n){for(const i in e){const a=e[i],l=n[i];if(oi(a))t.addValue(i,a);else if(oi(l))t.addValue(i,uc(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,uc(c!==void 0?c:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const jE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let vm={};function yN(t){vm=t}function qU(){return vm}class HU{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Sb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=pi.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Lt.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=up(n),this.isVariantNode=gN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in b){const A=b[x];d[x]!==void 0&&oi(A)&&A.set(d[x])}}mount(e){this.current=e,BU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(pN.current||zU(),this.shouldReduceMotion=K0.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),$a(this.notifyUpdate),$a(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=xc.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Lt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in vm){const n=vm[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):In()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<jE.length;i++){const a=jE[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=FU(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=uc(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(bR(i)||wR(i))?i=parseFloat(i):!LU(i)&&Ka.test(n)&&(i=oN(e,n)),this.setBaseTarget(e,oi(i)?i.get():i)),oi(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=Rb(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!oi(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new mb),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Db.render(this.render)}}class Za{constructor(e){this.isMounted=!1,this.node=e}update(){}}class vN extends HU{constructor(){super(...arguments),this.KeyframeResolver=NU}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;oi(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function bN({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function GU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function $U(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function zy(t){return t===void 0||t===1}function Y0({scale:t,scaleX:e,scaleY:n}){return!zy(t)||!zy(e)||!zy(n)}function Po(t){return Y0(t)||xN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function xN(t){return LE(t.x)||LE(t.y)}function LE(t){return t&&t!=="0%"}function bm(t,e,n){const i=t-n,a=e*i;return n+a}function UE(t,e,n,i,a){return a!==void 0&&(t=bm(t,a,i)),bm(t,n,i)+e}function X0(t,e=0,n=1,i,a){t.min=UE(t.min,e,n,i,a),t.max=UE(t.max,e,n,i,a)}function wN(t,{x:e,y:n}){X0(t.x,e.translate,e.scale,e.originPoint),X0(t.y,n.translate,n.scale,n.originPoint)}const zE=.999999999999,BE=1.0000000000001;function KU(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let h=0;h<a;h++){l=n[h],c=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&$l(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,wN(t,c)),i&&Po(l.latestValues)&&$l(t,l.latestValues))}e.x<BE&&e.x>zE&&(e.x=1),e.y<BE&&e.y>zE&&(e.y=1)}function Gl(t,e){t.min=t.min+e,t.max=t.max+e}function FE(t,e,n,i,a=.5){const l=en(t.min,t.max,a);X0(t,e,n,l,i)}function $l(t,e){FE(t.x,e.x,e.scaleX,e.scale,e.originX),FE(t.y,e.y,e.scaleY,e.scale,e.originY)}function _N(t,e){return bN($U(t.getBoundingClientRect(),e))}function YU(t,e,n){const i=_N(t,n),{scroll:a}=e;return a&&(Gl(i.x,a.offset.x),Gl(i.y,a.offset.y)),i}const XU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},WU=bc.length;function QU(t,e,n){let i="",a=!0;for(let l=0;l<WU;l++){const c=bc[l],h=t[c];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(c.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const m=lN(h,Ib[c]);if(!d){a=!1;const g=XU[c]||c;i+=`${g}(${m}) `}n&&(e[c]=m)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function Ob(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let c=!1,h=!1;for(const d in e){const m=e[d];if(xc.has(d)){c=!0;continue}else if(OR(d)){a[d]=m;continue}else{const g=lN(m,Ib[d]);d.startsWith("origin")?(h=!0,l[d]=g):i[d]=g}}if(e.transform||(c||n?i.transform=QU(e,t.transform,n):i.transform&&(i.transform="none")),h){const{originX:d="50%",originY:m="50%",originZ:g=0}=l;i.transformOrigin=`${d} ${m} ${g}`}}function TN(t,{style:e,vars:n},i,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,i);for(c in n)l.setProperty(c,n[c])}function qE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const wu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ce.test(t))t=parseFloat(t);else return t;const n=qE(t,e.target.x),i=qE(t,e.target.y);return`${n}% ${i}%`}},JU={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Ka.parse(t);if(a.length>5)return i;const l=Ka.createTransformer(t),c=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+c]/=h,a[1+c]/=d;const m=en(h,d,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),l(a)}},W0={borderRadius:{...wu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wu,borderTopRightRadius:wu,borderBottomLeftRadius:wu,borderBottomRightRadius:wu,boxShadow:JU};function EN(t,{layout:e,layoutId:n}){return xc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!W0[t]||t==="opacity")}function Vb(t,e,n){const i=t.style,a=e?.style,l={};if(!i)return l;for(const c in i)(oi(i[c])||a&&oi(a[c])||EN(c,t)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=i[c]);return l}function ZU(t){return window.getComputedStyle(t)}class e9 extends vN{constructor(){super(...arguments),this.type="html",this.renderInstance=TN}readValueFromInstance(e,n){if(xc.has(n))return this.projection?.isProjecting?j0(n):I6(e,n);{const i=ZU(e),a=(OR(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return _N(e,n)}build(e,n,i){Ob(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Vb(e,n,i)}}const t9={offset:"stroke-dashoffset",array:"stroke-dasharray"},n9={offset:"strokeDashoffset",array:"strokeDasharray"};function i9(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?t9:n9;t[l.offset]=Ce.transform(-i);const c=Ce.transform(e),h=Ce.transform(n);t[l.array]=`${c} ${h}`}const s9=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function SN(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},d,m,g){if(Ob(t,h,m),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:x}=t;b.transform&&(x.transform=b.transform,delete b.transform),(x.transform||b.transformOrigin)&&(x.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),x.transform&&(x.transformBox=g?.transformBox??"fill-box",delete b.transformBox);for(const A of s9)b[A]!==void 0&&(x[A]=b[A],delete b[A]);e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),i!==void 0&&(b.scale=i),a!==void 0&&i9(b,a,l,c,!1)}const AN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),CN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function r9(t,e,n,i){TN(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(AN.has(a)?a:Nb(a),e.attrs[a])}function RN(t,e,n){const i=Vb(t,e,n);for(const a in t)if(oi(t[a])||oi(e[a])){const l=bc.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}class a9 extends vN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=In}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(xc.has(n)){const i=aN(n);return i&&i.default||0}return n=AN.has(n)?n:Nb(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return RN(e,n,i)}build(e,n,i){SN(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){r9(e,n,i,a)}mount(e){this.isSVGTag=CN(e.tagName),super.mount(e)}}const o9=Pb.length;function NN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?NN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<o9;n++){const i=Pb[n],a=t.props[i];(oh(a)||a===!1)&&(e[i]=a)}return e}function IN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const l9=[...Mb].reverse(),c9=Mb.length;function u9(t){return e=>Promise.all(e.map(({animation:n,options:i})=>bU(t,n,i)))}function h9(t){let e=u9(t),n=HE(),i=!0;const a=d=>(m,g)=>{const b=Zl(t,g,d==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:x,transitionEnd:A,...k}=b;m={...m,...k,...A}}return m};function l(d){e=d(t)}function c(d){const{props:m}=t,g=NN(t.parent)||{},b=[],x=new Set;let A={},k=1/0;for(let N=0;N<c9;N++){const B=l9[N],H=n[B],q=m[B]!==void 0?m[B]:g[B],oe=oh(q),se=B===d?H.isActive:null;se===!1&&(k=N);let ue=q===g[B]&&q!==m[B]&&oe;if(ue&&i&&t.manuallyAnimateOnMount&&(ue=!1),H.protectedKeys={...A},!H.isActive&&se===null||!q&&!H.prevProp||cp(q)||typeof q=="boolean")continue;const D=d9(H.prevProp,q);let C=D||B===d&&H.isActive&&!ue&&oe||N>k&&oe,P=!1;const U=Array.isArray(q)?q:[q];let z=U.reduce(a(B),{});se===!1&&(z={});const{prevResolvedValues:V={}}=H,O={...V,...z},we=X=>{C=!0,x.has(X)&&(P=!0,x.delete(X)),H.needsAnimating[X]=!0;const $=t.getValue(X);$&&($.liveStyle=!1)};for(const X in O){const $=z[X],K=V[X];if(A.hasOwnProperty(X))continue;let j=!1;q0($)&&q0(K)?j=!IN($,K):j=$!==K,j?$!=null?we(X):x.add(X):$!==void 0&&x.has(X)?we(X):H.protectedKeys[X]=!0}H.prevProp=q,H.prevResolvedValues=z,H.isActive&&(A={...A,...z}),i&&t.blockInitialAnimation&&(C=!1);const xe=ue&&D;C&&(!xe||P)&&b.push(...U.map(X=>{const $={type:B};if(typeof X=="string"&&i&&!xe&&t.manuallyAnimateOnMount&&t.parent){const{parent:K}=t,j=Zl(K,X);if(K.enteringChildren&&j){const{delayChildren:T}=j.transition||{};$.delay=ZR(K.enteringChildren,t,T)}}return{animation:X,options:$}}))}if(x.size){const N={};if(typeof m.initial!="boolean"){const B=Zl(t,Array.isArray(m.initial)?m.initial[0]:m.initial);B&&B.transition&&(N.transition=B.transition)}x.forEach(B=>{const H=t.getBaseTarget(B),q=t.getValue(B);q&&(q.liveStyle=!0),N[B]=H??null}),b.push({animation:N})}let I=!!b.length;return i&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(I=!1),i=!1,I?e(b):Promise.resolve()}function h(d,m){if(n[d].isActive===m)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(d,m)),n[d].isActive=m;const g=c(d);for(const b in n)n[b].protectedKeys={};return g}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=HE()}}}function d9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!IN(e,t):!1}function No(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HE(){return{animate:No(!0),whileInView:No(),whileHover:No(),whileTap:No(),whileDrag:No(),whileFocus:No(),exit:No()}}const DN=1e-4,f9=1-DN,m9=1+DN,kN=.01,p9=0-kN,g9=0+kN;function gi(t){return t.max-t.min}function y9(t,e,n){return Math.abs(t-e)<=n}function GE(t,e,n,i=.5){t.origin=i,t.originPoint=en(e.min,e.max,t.origin),t.scale=gi(n)/gi(e),t.translate=en(n.min,n.max,t.origin)-t.originPoint,(t.scale>=f9&&t.scale<=m9||isNaN(t.scale))&&(t.scale=1),(t.translate>=p9&&t.translate<=g9||isNaN(t.translate))&&(t.translate=0)}function Bu(t,e,n,i){GE(t.x,e.x,n.x,i?i.originX:void 0),GE(t.y,e.y,n.y,i?i.originY:void 0)}function $E(t,e,n){t.min=n.min+e.min,t.max=t.min+gi(e)}function v9(t,e,n){$E(t.x,e.x,n.x),$E(t.y,e.y,n.y)}function KE(t,e,n){t.min=e.min-n.min,t.max=t.min+gi(e)}function xm(t,e,n){KE(t.x,e.x,n.x),KE(t.y,e.y,n.y)}function YE(t,e,n,i,a){return t-=e,t=bm(t,1/n,i),a!==void 0&&(t=bm(t,1/a,i)),t}function b9(t,e=0,n=1,i=.5,a,l=t,c=t){if(nr.test(e)&&(e=parseFloat(e),e=en(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=en(l.min,l.max,i);t===l&&(h-=e),t.min=YE(t.min,e,n,h,a),t.max=YE(t.max,e,n,h,a)}function XE(t,e,[n,i,a],l,c){b9(t,e[n],e[i],e[a],e.scale,l,c)}const x9=["x","scaleX","originX"],w9=["y","scaleY","originY"];function WE(t,e,n,i){XE(t.x,e,x9,n?n.x:void 0,i?i.x:void 0),XE(t.y,e,w9,n?n.y:void 0,i?i.y:void 0)}function QE(t,e){t.min=e.min,t.max=e.max}function As(t,e){QE(t.x,e.x),QE(t.y,e.y)}function JE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ZE(t){return t.translate===0&&t.scale===1}function MN(t){return ZE(t.x)&&ZE(t.y)}function eS(t,e){return t.min===e.min&&t.max===e.max}function _9(t,e){return eS(t.x,e.x)&&eS(t.y,e.y)}function tS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function PN(t,e){return tS(t.x,e.x)&&tS(t.y,e.y)}function nS(t){return gi(t.x)/gi(t.y)}function iS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function os(t){return[t("x"),t("y")]}function T9(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:b,rotateY:x,skewX:A,skewY:k}=n;m&&(i=`perspective(${m}px) ${i}`),g&&(i+=`rotate(${g}deg) `),b&&(i+=`rotateX(${b}deg) `),x&&(i+=`rotateY(${x}deg) `),A&&(i+=`skewX(${A}deg) `),k&&(i+=`skewY(${k}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(i+=`scale(${h}, ${d})`),i||"none"}const ON=["TopLeft","TopRight","BottomLeft","BottomRight"],E9=ON.length,sS=t=>typeof t=="string"?parseFloat(t):t,rS=t=>typeof t=="number"||Ce.test(t);function S9(t,e,n,i,a,l){a?(t.opacity=en(0,n.opacity??1,A9(i)),t.opacityExit=en(e.opacity??1,0,C9(i))):l&&(t.opacity=en(e.opacity??1,n.opacity??1,i));for(let c=0;c<E9;c++){const h=`border${ON[c]}Radius`;let d=aS(e,h),m=aS(n,h);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||rS(d)===rS(m)?(t[h]=Math.max(en(sS(d),sS(m),i),0),(nr.test(m)||nr.test(d))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=en(e.rotate||0,n.rotate||0,i))}function aS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const A9=VN(0,.5,NR),C9=VN(.5,.95,fs);function VN(t,e,n){return i=>i<t?0:i>e?1:n(sh(t,e,i))}function R9(t,e){const n=pi.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&($a(i),t(l-e))};return Lt.setup(i,!0),()=>$a(i)}function lh(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Lf(t){return oi(t)?t.get():t}function N9(t,e,n){const i=oi(t)?t:uc(t);return i.start(Cb("",i,e,n)),i.animation}const I9=(t,e)=>t.depth-e.depth;class D9{constructor(){this.children=[],this.isDirty=!1}add(e){ub(this.children,e),this.isDirty=!0}remove(e){hb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(I9),this.isDirty=!1,this.children.forEach(e)}}class k9{constructor(){this.members=[]}add(e){ub(this.members,e),e.scheduleRender()}remove(e){if(hb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Uf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},By=["","X","Y","Z"],M9=1e3;let P9=0;function Fy(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function jN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=nN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Lt,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&jN(i)}function LN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},h=e?.()){this.id=P9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(j9),this.nodes.forEach(B9),this.nodes.forEach(F9),this.nodes.forEach(L9)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new D9)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new mb),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const d=this.eventHandlers.get(c);d&&d.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=mN(c)&&!VU(c),this.instance=c;const{layoutId:h,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let g,b=0;const x=()=>this.root.updateBlockedByResize=!1;Lt.read(()=>{b=window.innerWidth}),t(c,()=>{const A=window.innerWidth;A!==b&&(b=A,this.root.updateBlockedByResize=!0,g&&g(),g=R9(x,250),Uf.hasAnimatedSinceResize&&(Uf.hasAnimatedSinceResize=!1,this.nodes.forEach(cS)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:b,hasRelativeLayoutChanged:x,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||m.getDefaultTransition()||K9,{onLayoutAnimationStart:I,onLayoutAnimationComplete:N}=m.getProps(),B=!this.targetLayout||!PN(this.targetLayout,A),H=!b&&x;if(this.options.layoutRoot||this.resumeFrom||H||b&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...Ab(k,"layout"),onPlay:I,onComplete:N};(m.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(g,H)}else b||cS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),$a(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(q9),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const b=this.path[g];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(oS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(lS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(z9),this.nodes.forEach(O9),this.nodes.forEach(V9)):this.nodes.forEach(lS),this.clearAllSnapshots();const h=pi.now();Xn.delta=or(0,1e3/60,h-Xn.timestamp),Xn.timestamp=h,Xn.isProcessing=!0,My.update.process(Xn),My.preRender.process(Xn),My.render.process(Xn),Xn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Db.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(U9),this.sharedNodes.forEach(H9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Lt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!gi(this.snapshot.measuredBox.x)&&!gi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=In(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!MN(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&this.instance&&(h||Po(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return c&&(d=this.removeTransform(d)),Y9(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return In();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(X9))){const{scroll:m}=this.root;m&&(Gl(h.x,m.offset.x),Gl(h.y,m.offset.y))}return h}removeElementScroll(c){const h=In();if(As(h,c),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:g,options:b}=m;m!==this.root&&g&&b.layoutScroll&&(g.wasRoot&&As(h,c),Gl(h.x,g.offset.x),Gl(h.y,g.offset.y))}return h}applyTransform(c,h=!1){const d=In();As(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&$l(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Po(g.latestValues)&&$l(d,g.latestValues)}return Po(this.latestValues)&&$l(d,this.latestValues),d}removeTransform(c){const h=In();As(h,c);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!Po(m.latestValues))continue;Y0(m.latestValues)&&m.updateSnapshot();const g=In(),b=m.measurePageBox();As(g,b),WE(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Po(this.latestValues)&&WE(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:b}=this.options;if(!this.layout||!(g||b))return;this.resolvedRelativeTargetAt=Xn.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=In(),this.targetWithTransforms=In()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),v9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):As(this.target,this.layout.layoutBox),wN(this.target,this.targetDelta)):As(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Y0(this.parent.latestValues)||xN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,d){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=In(),this.relativeTargetOrigin=In(),xm(this.relativeTargetOrigin,h,d),As(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Xn.timestamp&&(d=!1),d)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;As(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,x=this.treeScale.y;KU(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=In());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(JE(this.prevProjectionDelta.x,this.projectionDelta.x),JE(this.prevProjectionDelta.y,this.projectionDelta.y)),Bu(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==x||!iS(this.projectionDelta.x,this.prevProjectionDelta.x)||!iS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Hl(),this.projectionDelta=Hl(),this.projectionDeltaWithTransform=Hl()}setAnimationOrigin(c,h=!1){const d=this.snapshot,m=d?d.latestValues:{},g={...this.latestValues},b=Hl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const x=In(),A=d?d.source:void 0,k=this.layout?this.layout.source:void 0,I=A!==k,N=this.getStack(),B=!N||N.members.length<=1,H=!!(I&&!B&&this.options.crossfade===!0&&!this.path.some($9));this.animationProgress=0;let q;this.mixTargetDelta=oe=>{const se=oe/1e3;uS(b.x,c.x,se),uS(b.y,c.y,se),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xm(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),G9(this.relativeTarget,this.relativeTargetOrigin,x,se),q&&_9(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=In()),As(q,this.relativeTarget)),I&&(this.animationValues=g,S9(g,m,this.latestValues,se,H,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=se},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&($a(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Lt.update(()=>{Uf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=uc(0)),this.currentAnimation=N9(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(M9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:d,layout:m,latestValues:g}=c;if(!(!h||!d||!m)){if(this!==c&&this.layout&&m&&UN(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||In();const b=gi(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+b;const x=gi(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+x}As(h,d),$l(h,g),Bu(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new k9),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const m={};d.z&&Fy("z",c,m,this.animationValues);for(let g=0;g<By.length;g++)Fy(`rotate${By[g]}`,c,m,this.animationValues),Fy(`skew${By[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Lf(h?.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Lf(h?.pointerEvents)||""),this.hasProjected&&!Po(this.latestValues)&&(c.transform=d?d({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let b=T9(this.projectionDeltaWithTransform,this.treeScale,g);d&&(b=d(g,b)),c.transform=b;const{x,y:A}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${A.origin*100}% 0`,m.animationValues?c.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const k in W0){if(g[k]===void 0)continue;const{correct:I,applyTo:N,isCSSVariable:B}=W0[k],H=b==="none"?g[k]:I(g[k],m);if(N){const q=N.length;for(let oe=0;oe<q;oe++)c[N[oe]]=H}else B?this.options.visualElement.renderState.vars[k]=H:c[k]=H}this.options.layoutId&&(c.pointerEvents=m===this?Lf(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(oS),this.root.sharedNodes.clear()}}}function O9(t){t.updateLayout()}function V9(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?os(g=>{const b=l?e.measuredBox[g]:e.layoutBox[g],x=gi(b);b.min=n[g].min,b.max=b.min+x}):UN(a,e.layoutBox,n)&&os(g=>{const b=l?e.measuredBox[g]:e.layoutBox[g],x=gi(n[g]);b.max=b.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+x)});const c=Hl();Bu(c,n,e.layoutBox);const h=Hl();l?Bu(h,t.applyTransform(i,!0),e.measuredBox):Bu(h,n,e.layoutBox);const d=!MN(c);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:b,layout:x}=g;if(b&&x){const A=In();xm(A,e.layoutBox,b.layoutBox);const k=In();xm(k,n,x.layoutBox),PN(A,k)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=A,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function j9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function L9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function U9(t){t.clearSnapshot()}function oS(t){t.clearMeasurements()}function lS(t){t.isLayoutDirty=!1}function z9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function cS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function B9(t){t.resolveTargetDelta()}function F9(t){t.calcProjection()}function q9(t){t.resetSkewAndRotation()}function H9(t){t.removeLeadSnapshot()}function uS(t,e,n){t.translate=en(e.translate,0,n),t.scale=en(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function hS(t,e,n,i){t.min=en(e.min,n.min,i),t.max=en(e.max,n.max,i)}function G9(t,e,n,i){hS(t.x,e.x,n.x,i),hS(t.y,e.y,n.y,i)}function $9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const K9={duration:.45,ease:[.4,0,.1,1]},dS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),fS=dS("applewebkit/")&&!dS("chrome/")?Math.round:fs;function mS(t){t.min=fS(t.min),t.max=fS(t.max)}function Y9(t){mS(t.x),mS(t.y)}function UN(t,e,n){return t==="position"||t==="preserve-aspect"&&!y9(nS(e),nS(n),.2)}function X9(t){return t!==t.root&&t.scroll?.wasRoot}const W9=LN({attachResizeListener:(t,e)=>lh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qy={current:void 0},zN=LN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!qy.current){const t=new W9({});t.mount(window),t.setOptions({layoutScroll:!0}),qy.current=t}return qy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),jb=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function pS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Q9(...t){return e=>{let n=!1;const i=t.map(a=>{const l=pS(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():pS(t[a],null)}}}}function J9(...t){return S.useCallback(Q9(...t),t)}class Z9 extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=cN(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ez({children:t,isPresent:e,anchorX:n,root:i}){const a=S.useId(),l=S.useRef(null),c=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=S.useContext(jb),d=t.props?.ref??t?.ref,m=J9(l,d);return S.useInsertionEffect(()=>{const{width:g,height:b,top:x,left:A,right:k}=c.current;if(e||!l.current||!g||!b)return;const I=n==="left"?`left: ${A}`:`right: ${k}`;l.current.dataset.motionPopId=a;const N=document.createElement("style");h&&(N.nonce=h);const B=i??document.head;return B.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${b}px !important;
            ${I}px !important;
            top: ${x}px !important;
          }
        `),()=>{B.contains(N)&&B.removeChild(N)}},[e]),v.jsx(Z9,{isPresent:e,childRef:l,sizeRef:c,children:S.cloneElement(t,{ref:m})})}const tz=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:c,anchorX:h,root:d})=>{const m=cb(nz),g=S.useId();let b=!0,x=S.useMemo(()=>(b=!1,{id:g,initial:e,isPresent:n,custom:a,onExitComplete:A=>{m.set(A,!0);for(const k of m.values())if(!k)return;i&&i()},register:A=>(m.set(A,!1),()=>m.delete(A))}),[n,m,i]);return l&&b&&(x={...x}),S.useMemo(()=>{m.forEach((A,k)=>m.set(k,!1))},[n]),S.useEffect(()=>{!n&&!m.size&&i&&i()},[n]),c==="popLayout"&&(t=v.jsx(ez,{isPresent:n,anchorX:h,root:d,children:t})),v.jsx(lp.Provider,{value:x,children:t})};function nz(){return new Map}function BN(t=!0){const e=S.useContext(lp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=S.useId();S.useEffect(()=>{if(t)return a(l)},[t]);const c=S.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,c]:[!0]}const gf=t=>t.key||"";function gS(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const Rs=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",root:d})=>{const[m,g]=BN(c),b=S.useMemo(()=>gS(t),[t]),x=c&&!m?[]:b.map(gf),A=S.useRef(!0),k=S.useRef(b),I=cb(()=>new Map),N=S.useRef(new Set),[B,H]=S.useState(b),[q,oe]=S.useState(b);vR(()=>{A.current=!1,k.current=b;for(let D=0;D<q.length;D++){const C=gf(q[D]);x.includes(C)?(I.delete(C),N.current.delete(C)):I.get(C)!==!0&&I.set(C,!1)}},[q,x.length,x.join("-")]);const se=[];if(b!==B){let D=[...b];for(let C=0;C<q.length;C++){const P=q[C],U=gf(P);x.includes(U)||(D.splice(C,0,P),se.push(P))}return l==="wait"&&se.length&&(D=se),oe(gS(D)),H(b),null}const{forceRender:ue}=S.useContext(lb);return v.jsx(v.Fragment,{children:q.map(D=>{const C=gf(D),P=c&&!m?!1:b===q||x.includes(C),U=()=>{if(N.current.has(C))return;if(N.current.add(C),I.has(C))I.set(C,!0);else return;let z=!0;I.forEach(V=>{V||(z=!1)}),z&&(ue?.(),oe(k.current),c&&g?.(),i&&i())};return v.jsx(tz,{isPresent:P,initial:!A.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:P?void 0:U,anchorX:h,children:D},C)})})},FN=S.createContext({strict:!1}),yS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let vS=!1;function iz(){if(vS)return;const t={};for(const e in yS)t[e]={isEnabled:n=>yS[e].some(i=>!!n[i])};yN(t),vS=!0}function qN(){return iz(),qU()}function sz(t){const e=qN();for(const n in t)e[n]={...e[n],...t[n]};yN(e)}const rz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||rz.has(t)}let HN=t=>!wm(t);function az(t){typeof t=="function"&&(HN=e=>e.startsWith("on")?!wm(e):t(e))}try{az(require("@emotion/is-prop-valid").default)}catch{}function oz(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(HN(a)||n===!0&&wm(a)||!e&&!wm(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const hp=S.createContext({});function lz(t,e){if(up(t)){const{initial:n,animate:i}=t;return{initial:n===!1||oh(n)?n:void 0,animate:oh(i)?i:void 0}}return t.inherit!==!1?e:{}}function cz(t){const{initial:e,animate:n}=lz(t,S.useContext(hp));return S.useMemo(()=>({initial:e,animate:n}),[bS(e),bS(n)])}function bS(t){return Array.isArray(t)?t.join(" "):t}const Lb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function GN(t,e,n){for(const i in e)!oi(e[i])&&!EN(i,n)&&(t[i]=e[i])}function uz({transformTemplate:t},e){return S.useMemo(()=>{const n=Lb();return Ob(n,e,t),Object.assign({},n.vars,n.style)},[e])}function hz(t,e){const n=t.style||{},i={};return GN(i,n,t),Object.assign(i,uz(t,e)),i}function dz(t,e){const n={},i=hz(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const $N=()=>({...Lb(),attrs:{}});function fz(t,e,n,i){const a=S.useMemo(()=>{const l=$N();return SN(l,e,CN(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};GN(l,t.style,t),a.style={...l,...a.style}}return a}const mz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ub(t){return typeof t!="string"||t.includes("-")?!1:!!(mz.indexOf(t)>-1||/[A-Z]/u.test(t))}function pz(t,e,n,{latestValues:i},a,l=!1,c){const d=(c??Ub(t)?fz:dz)(e,i,a,t),m=oz(e,typeof t=="string",l),g=t!==S.Fragment?{...m,...d,ref:n}:{},{children:b}=e,x=S.useMemo(()=>oi(b)?b.get():b,[b]);return S.createElement(t,{...g,children:x})}function gz({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:yz(n,i,a,t),renderState:e()}}function yz(t,e,n,i){const a={},l=i(t,{});for(const x in l)a[x]=Lf(l[x]);let{initial:c,animate:h}=t;const d=up(t),m=gN(t);e&&m&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const b=g?h:c;if(b&&typeof b!="boolean"&&!cp(b)){const x=Array.isArray(b)?b:[b];for(let A=0;A<x.length;A++){const k=Rb(t,x[A]);if(k){const{transitionEnd:I,transition:N,...B}=k;for(const H in B){let q=B[H];if(Array.isArray(q)){const oe=g?q.length-1:0;q=q[oe]}q!==null&&(a[H]=q)}for(const H in I)a[H]=I[H]}}}return a}const KN=t=>(e,n)=>{const i=S.useContext(hp),a=S.useContext(lp),l=()=>gz(t,e,i,a);return n?l():cb(l)},vz=KN({scrapeMotionValuesFromProps:Vb,createRenderState:Lb}),bz=KN({scrapeMotionValuesFromProps:RN,createRenderState:$N}),xz=Symbol.for("motionComponentSymbol");function wz(t,e,n){const i=S.useRef(n);S.useInsertionEffect(()=>{i.current=n});const a=S.useRef(null);return S.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const c=i.current;if(typeof c=="function")if(l){const h=c(l);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[e])}const YN=S.createContext({});function Du(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function _z(t,e,n,i,a,l){const{visualElement:c}=S.useContext(hp),h=S.useContext(FN),d=S.useContext(lp),m=S.useContext(jb).reducedMotion,g=S.useRef(null);i=i||h.renderer,!g.current&&i&&(g.current=i(t,{visualState:e,parent:c,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m,isSVG:l}));const b=g.current,x=S.useContext(YN);b&&!b.projection&&a&&(b.type==="html"||b.type==="svg")&&Tz(g.current,n,a,x);const A=S.useRef(!1);S.useInsertionEffect(()=>{b&&A.current&&b.update(n,d)});const k=n[tN],I=S.useRef(!!k&&!window.MotionHandoffIsComplete?.(k)&&window.MotionHasOptimisedAnimation?.(k));return vR(()=>{b&&(A.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),I.current&&b.animationState&&b.animationState.animateChanges())}),S.useEffect(()=>{b&&(!I.current&&b.animationState&&b.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(k)}),I.current=!1),b.enteringChildren=void 0)}),b}function Tz(t,e,n,i){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:XN(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&Du(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:d,layoutRoot:m})}function XN(t){if(t)return t.options.allowProjection!==!1?t.projection:XN(t.parent)}function Hy(t,{forwardMotionProps:e=!1,type:n}={},i,a){i&&sz(i);const l=n?n==="svg":Ub(t),c=l?bz:vz;function h(m,g){let b;const x={...S.useContext(jb),...m,layoutId:Ez(m)},{isStatic:A}=x,k=cz(m),I=c(m,A);if(!A&&yR){Sz();const N=Az(x);b=N.MeasureLayout,k.visualElement=_z(t,I,x,a,N.ProjectionNode,l)}return v.jsxs(hp.Provider,{value:k,children:[b&&k.visualElement?v.jsx(b,{visualElement:k.visualElement,...x}):null,pz(t,m,wz(I,k.visualElement,g),I,A,e,l)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const d=S.forwardRef(h);return d[xz]=t,d}function Ez({layoutId:t}){const e=S.useContext(lb).id;return e&&t!==void 0?e+"-"+t:t}function Sz(t,e){S.useContext(FN).strict}function Az(t){const e=qN(),{drag:n,layout:i}=e;if(!n&&!i)return{};const a={...n,...i};return{MeasureLayout:n?.isEnabled(t)||i?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function Cz(t,e){if(typeof Proxy>"u")return Hy;const n=new Map,i=(l,c)=>Hy(l,c,t,e),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(n.has(c)||n.set(c,Hy(c,void 0,t,e)),n.get(c))})}const Rz=(t,e)=>e.isSVG??Ub(t)?new a9(e):new e9(e,{allowProjection:t!==S.Fragment});class Nz extends Za{constructor(e){super(e),e.animationState||(e.animationState=h9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();cp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Iz=0;class Dz extends Za{constructor(){super(...arguments),this.id=Iz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const kz={animation:{Feature:Nz},exit:{Feature:Dz}};function Vh(t){return{point:{x:t.pageX,y:t.pageY}}}const Mz=t=>e=>kb(e)&&t(e,Vh(e));function Fu(t,e,n,i){return lh(t,e,Mz(n),i)}const WN=({current:t})=>t?t.ownerDocument.defaultView:null,xS=(t,e)=>Math.abs(t-e);function Pz(t,e){const n=xS(t.x,e.x),i=xS(t.y,e.y);return Math.sqrt(n**2+i**2)}const wS=new Set(["auto","scroll"]);class QN{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=A=>{this.handleScroll(A.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=$y(this.lastMoveEventInfo,this.history),k=this.startEvent!==null,I=Pz(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!k&&!I)return;const{point:N}=A,{timestamp:B}=Xn;this.history.push({...N,timestamp:B});const{onStart:H,onMove:q}=this.handlers;k||(H&&H(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,A)},this.handlePointerMove=(A,k)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=Gy(k,this.transformPagePoint),Lt.update(this.updatePoint,!0)},this.handlePointerUp=(A,k)=>{this.end();const{onEnd:I,onSessionEnd:N,resumeAnimation:B}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const H=$y(A.type==="pointercancel"?this.lastMoveEventInfo:Gy(k,this.transformPagePoint),this.history);this.startEvent&&I&&I(A,H),N&&N(A,H)},!kb(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const d=Vh(e),m=Gy(d,this.transformPagePoint),{point:g}=m,{timestamp:b}=Xn;this.history=[{...g,timestamp:b}];const{onSessionStart:x}=n;x&&x(e,$y(m,this.history)),this.removeListeners=Mh(Fu(this.contextWindow,"pointermove",this.handlePointerMove),Fu(this.contextWindow,"pointerup",this.handlePointerUp),Fu(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(wS.has(i.overflowX)||wS.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),Lt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),$a(this.updatePoint)}}function Gy(t,e){return e?{point:e(t.point)}:t}function _S(t,e){return{x:t.x-e.x,y:t.y-e.y}}function $y({point:t},e){return{point:t,delta:_S(t,JN(e)),offset:_S(t,Oz(e)),velocity:Vz(e,.1)}}function Oz(t){return t[0]}function JN(t){return t[t.length-1]}function Vz(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=JN(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>zr(e)));)n--;if(!i)return{x:0,y:0};const l=us(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function jz(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?en(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?en(n,t,i.max):Math.min(t,n)),t}function TS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Lz(t,{top:e,left:n,bottom:i,right:a}){return{x:TS(t.x,n,a),y:TS(t.y,e,i)}}function ES(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function Uz(t,e){return{x:ES(t.x,e.x),y:ES(t.y,e.y)}}function zz(t,e){let n=.5;const i=gi(t),a=gi(e);return a>i?n=sh(e.min,e.max-i,t.min):i>a&&(n=sh(t.min,t.max-a,e.min)),or(0,1,n)}function Bz(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Q0=.35;function Fz(t=Q0){return t===!1?t=0:t===!0&&(t=Q0),{x:SS(t,"left","right"),y:SS(t,"top","bottom")}}function SS(t,e,n){return{min:AS(t,e),max:AS(t,n)}}function AS(t,e){return typeof t=="number"?t:t[e]||0}const qz=new WeakMap;class Hz{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=In(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{n?(this.stopAnimation(),this.snapToCursor(Vh(b).point)):this.pauseAnimation()},c=(b,x)=>{this.stopAnimation();const{drag:A,dragPropagation:k,onDragStart:I}=this.getProps();if(A&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=DU(A),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),os(B=>{let H=this.getAxisMotionValue(B).get()||0;if(nr.test(H)){const{projection:q}=this.visualElement;if(q&&q.layout){const oe=q.layout.layoutBox[B];oe&&(H=gi(oe)*(parseFloat(H)/100))}}this.originPoint[B]=H}),I&&Lt.postRender(()=>I(b,x)),H0(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},h=(b,x)=>{this.latestPointerEvent=b,this.latestPanInfo=x;const{dragPropagation:A,dragDirectionLock:k,onDirectionLock:I,onDrag:N}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:B}=x;if(k&&this.currentDirection===null){this.currentDirection=Gz(B),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",x.point,B),this.updateAxis("y",x.point,B),this.visualElement.render(),N&&N(b,x)},d=(b,x)=>{this.latestPointerEvent=b,this.latestPanInfo=x,this.stop(b,x),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>os(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new QN(e,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:WN(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&Lt.postRender(()=>h(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!yf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=jz(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Du(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Lz(i.layoutBox,e):this.constraints=!1,this.elastic=Fz(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&os(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Bz(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Du(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=YU(i,a.root,this.visualElement.getTransformPagePoint());let c=Uz(a.layout.layoutBox,l);if(n){const h=n(GU(c));this.hasMutatedConstraints=!!h,h&&(c=bN(h))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},m=os(g=>{if(!yf(g,n,this.currentDirection))return;let b=d&&d[g]||{};c&&(b={min:0,max:0});const x=a?200:1e6,A=a?40:1e7,k={type:"inertia",velocity:i?e[g]:0,bounceStiffness:x,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(g,k)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return H0(this.visualElement,e),i.start(Cb(e,i,0,n,this.visualElement,!1))}stopAnimation(){os(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){os(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){os(n=>{const{drag:i}=this.getProps();if(!yf(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n],d=l.get()||0;l.set(e[n]-en(c,h,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Du(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};os(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const d=h.get();a[c]=zz({min:d,max:d},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),os(c=>{if(!yf(c,e,null))return;const h=this.getAxisMotionValue(c),{min:d,max:m}=this.constraints[c];h.set(en(d,m,a[c]))})}addListeners(){if(!this.visualElement.current)return;qz.set(this.visualElement,this);const e=this.visualElement.current,n=Fu(e,"pointerdown",d=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&!fN(d.target)&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();Du(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Lt.read(i);const c=lh(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(os(g=>{const b=this.getAxisMotionValue(g);b&&(this.originPoint[g]+=d[g].translate,b.set(b.get()+d[g].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Q0,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function yf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Gz(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class $z extends Za{constructor(e){super(e),this.removeGroupControls=fs,this.removeListeners=fs,this.controls=new Hz(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fs}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const CS=t=>(e,n)=>{t&&Lt.postRender(()=>t(e,n))};class Kz extends Za{constructor(){super(...arguments),this.removePointerDownListener=fs}onPointerDown(e){this.session=new QN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:WN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:CS(e),onStart:CS(n),onMove:i,onEnd:(l,c)=>{delete this.session,a&&Lt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Fu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Ky=!1;class Yz extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),Ky&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Uf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,Ky=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Lt.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Db.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;Ky=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ZN(t){const[e,n]=BN(),i=S.useContext(lb);return v.jsx(Yz,{...t,layoutGroup:i,switchLayoutGroup:S.useContext(YN),isPresent:e,safeToRemove:n})}const Xz={pan:{Feature:Kz},drag:{Feature:$z,ProjectionNode:zN,MeasureLayout:ZN}};function RS(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&Lt.postRender(()=>l(e,Vh(e)))}class Wz extends Za{mount(){const{current:e}=this.node;e&&(this.unmount=kU(e,(n,i)=>(RS(this.node,i,"Start"),a=>RS(this.node,a,"End"))))}unmount(){}}class Qz extends Za{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mh(lh(this.node.current,"focus",()=>this.onFocus()),lh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function NS(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&Lt.postRender(()=>l(e,Vh(e)))}class Jz extends Za{mount(){const{current:e}=this.node;e&&(this.unmount=OU(e,(n,i)=>(NS(this.node,i,"Start"),(a,{success:l})=>NS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const J0=new WeakMap,Yy=new WeakMap,Zz=t=>{const e=J0.get(t.target);e&&e(t)},eB=t=>{t.forEach(Zz)};function tB({root:t,...e}){const n=t||document;Yy.has(n)||Yy.set(n,{});const i=Yy.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(eB,{root:t,...e})),i[a]}function nB(t,e,n){const i=tB(e);return J0.set(t,n),i.observe(t),()=>{J0.delete(t),i.unobserve(t)}}const iB={some:0,all:1};class sB extends Za{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:iB[a]},h=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:b}=this.node.getProps(),x=m?g:b;x&&x(d)};return nB(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(rB(e,n))&&this.startObserver()}unmount(){}}function rB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const aB={inView:{Feature:sB},tap:{Feature:Jz},focus:{Feature:Qz},hover:{Feature:Wz}},oB={layout:{ProjectionNode:zN,MeasureLayout:ZN}},lB={...kz,...aB,...Xz,...oB},Qe=Cz(lB,Rz);const cB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uB=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),IS=t=>{const e=uB(t);return e.charAt(0).toUpperCase()+e.slice(1)},eI=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),hB=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var dB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const fB=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...h},d)=>S.createElement("svg",{ref:d,...dB,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:eI("lucide",a),...!l&&!hB(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,g])=>S.createElement(m,g)),...Array.isArray(l)?l:[l]]));const at=(t,e)=>{const n=S.forwardRef(({className:i,...a},l)=>S.createElement(fB,{ref:l,iconNode:e,className:eI(`lucide-${cB(IS(t))}`,`lucide-${t}`,i),...a}));return n.displayName=IS(t),n};const mB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],pB=at("arrow-left",mB);const gB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],yB=at("arrow-right",gB);const vB=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],_m=at("award",vB);const bB=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Tm=at("book-open",bB);const xB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Em=at("calendar",xB);const wB=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ch=at("camera",wB);const _B=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ns=at("check",_B);const TB=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],tI=at("chevron-left",TB);const EB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],nI=at("chevron-right",EB);const SB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],DS=at("circle-alert",SB);const AB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CB=at("circle-check-big",AB);const RB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],iI=at("circle-question-mark",RB);const NB=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],IB=at("clock",NB);const DB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],kB=at("grid-3x3",DB);const MB=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],zb=at("layout-grid",MB);const PB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],sI=at("log-out",PB);const OB=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],VB=at("mail",OB);const jB=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],LB=at("menu",jB);const UB=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Sm=at("palette",UB);const zB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],qu=at("pen",zB);const BB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],FB=at("pencil",BB);const qB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],uh=at("plus",qB);const HB=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],GB=at("printer",HB);const $B=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],kS=at("rocket",$B);const KB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],YB=at("settings",KB);const XB=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],zf=at("share-2",XB);const WB=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],rI=at("sparkles",WB);const QB=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],JB=at("square-check-big",QB);const ZB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Bf=at("trash-2",ZB);const e8=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],MS=at("trophy",e8);const t8=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],n8=at("type",t8);const i8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],PS=at("user-plus",i8);const s8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Am=at("user",s8);const r8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],a8=at("users",r8);const o8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Br=at("x",o8);const l8=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Hu=at("zap",l8),aI=S.createContext(null),oI=()=>{const t=S.useContext(aI);if(!t)throw new Error("useDialog must be used within a DialogProvider");return t},c8=({children:t})=>{const[e,n]=S.useState({isOpen:!1,type:"alert",options:{message:""},resolve:null}),[i,a]=S.useState(""),[l,c]=S.useState("editor"),h=S.useCallback((k,I)=>new Promise(N=>{a(I.inputDefaultValue||""),c("editor"),n({isOpen:!0,type:k,options:I,resolve:N})}),[]),d=S.useCallback(k=>{e.resolve&&e.resolve(k),n(I=>({...I,isOpen:!1,resolve:null}))},[e.resolve]),m=S.useCallback((k,I)=>h("alert",{message:k,title:"Notice",confirmText:"OK",type:"info",...I}),[h]),g=S.useCallback((k,I)=>h("confirm",{message:k,title:"Confirm",confirmText:"Yes",cancelText:"Cancel",type:"warning",...I}),[h]),b=S.useCallback((k,I)=>h("prompt",{message:k,title:"Input",confirmText:"OK",cancelText:"Cancel",inputPlaceholder:"",...I}),[h]),x=S.useCallback((k,I)=>h("share",{message:k,title:"Share Board",confirmText:"Send Invite",cancelText:"Cancel",showRoleSelector:!0,inputPlaceholder:"Enter email address",...I}),[h]),A=()=>{switch(e.options.type){case"success":return v.jsx(CB,{className:"w-8 h-8 text-green-400"});case"warning":return v.jsx(DS,{className:"w-8 h-8 text-amber-400"});case"error":return v.jsx(DS,{className:"w-8 h-8 text-red-400"});default:return v.jsx(iI,{className:"w-8 h-8 text-accent-primary"})}};return v.jsxs(aI.Provider,{value:{alert:m,confirm:g,prompt:b,sharePrompt:x},children:[t,v.jsx(Rs,{children:e.isOpen&&v.jsx(Qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{e.type==="alert"?d(void 0):e.type==="confirm"?d(!1):d(null)},children:v.jsxs(Qe.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-slate-900 border border-white/20 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",onClick:k=>k.stopPropagation(),children:[v.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[e.type==="share"?v.jsx(VB,{className:"w-6 h-6 text-accent-primary"}):A(),v.jsx("h3",{className:"text-lg font-bold text-white",children:e.options.title})]}),v.jsx("button",{onClick:()=>{e.type==="alert"?d(void 0):e.type==="confirm"?d(!1):d(null)},className:"p-1 text-slate-400 hover:text-white rounded-full hover:bg-white/10 transition-colors",children:v.jsx(Br,{size:20})})]}),v.jsxs("div",{className:"p-6",children:[v.jsx("p",{className:"text-slate-300 mb-4 whitespace-pre-wrap",children:e.options.message}),(e.type==="prompt"||e.type==="share")&&v.jsx("input",{type:e.type==="share"?"email":"text",autoFocus:!0,value:i,onChange:k=>a(k.target.value),placeholder:e.options.inputPlaceholder,className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors mb-4",onKeyDown:k=>{k.key==="Enter"&&i.trim()&&(e.type==="share"?d({email:i.trim(),role:l}):d(i.trim()))}}),e.type==="share"&&e.options.showRoleSelector&&v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"text-sm font-medium text-slate-400 mb-2 block",children:"Access Level"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>c("viewer"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="viewer"?"bg-accent-primary/20 text-accent-primary border border-accent-primary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Viewer"}),v.jsx("button",{onClick:()=>c("editor"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Editor"})]}),v.jsx("p",{className:"text-xs text-slate-500 mt-2",children:l==="viewer"?"Can view the board but not make changes":"Can view and edit the board"})]})]}),v.jsxs("div",{className:"flex gap-3 p-4 pt-0",children:[e.type!=="alert"&&v.jsx("button",{onClick:()=>{e.type==="confirm"?d(!1):d(null)},className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:e.options.cancelText}),v.jsx("button",{onClick:()=>{e.type==="alert"?d(void 0):e.type==="confirm"?d(!0):e.type==="share"?i.trim()&&d({email:i.trim(),role:l}):d(i.trim()||null)},disabled:(e.type==="prompt"||e.type==="share")&&!i.trim(),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:e.options.confirmText})]})]})})})]})};function lI(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=lI(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function u8(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=lI(t))&&(i&&(i+=" "),i+=e);return i}const h8=(t,e)=>{const n=new Array(t.length+e.length);for(let i=0;i<t.length;i++)n[i]=t[i];for(let i=0;i<e.length;i++)n[t.length+i]=e[i];return n},d8=(t,e)=>({classGroupId:t,validator:e}),cI=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Cm="-",OS=[],f8="arbitrary..",m8=t=>{const e=g8(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return p8(c);const h=c.split(Cm),d=h[0]===""&&h.length>1?1:0;return uI(h,d,e)},getConflictingClassGroupIds:(c,h)=>{if(h){const d=i[c],m=n[c];return d?m?h8(m,d):d:m||OS}return n[c]||OS}}},uI=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const m=uI(t,e+1,l);if(m)return m}const c=n.validators;if(c===null)return;const h=e===0?t.join(Cm):t.slice(e).join(Cm),d=c.length;for(let m=0;m<d;m++){const g=c[m];if(g.validator(h))return g.classGroupId}},p8=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),i=e.slice(0,n);return i?f8+i:void 0})(),g8=t=>{const{theme:e,classGroups:n}=t;return y8(n,e)},y8=(t,e)=>{const n=cI();for(const i in t){const a=t[i];Bb(a,n,i,e)}return n},Bb=(t,e,n,i)=>{const a=t.length;for(let l=0;l<a;l++){const c=t[l];v8(c,e,n,i)}},v8=(t,e,n,i)=>{if(typeof t=="string"){b8(t,e,n);return}if(typeof t=="function"){x8(t,e,n,i);return}w8(t,e,n,i)},b8=(t,e,n)=>{const i=t===""?e:hI(e,t);i.classGroupId=n},x8=(t,e,n,i)=>{if(_8(t)){Bb(t(i),e,n,i);return}e.validators===null&&(e.validators=[]),e.validators.push(d8(n,t))},w8=(t,e,n,i)=>{const a=Object.entries(t),l=a.length;for(let c=0;c<l;c++){const[h,d]=a[c];Bb(d,hI(e,h),n,i)}},hI=(t,e)=>{let n=t;const i=e.split(Cm),a=i.length;for(let l=0;l<a;l++){const c=i[l];let h=n.nextPart.get(c);h||(h=cI(),n.nextPart.set(c,h)),n=h}return n},_8=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,T8=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),i=Object.create(null);const a=(l,c)=>{n[l]=c,e++,e>t&&(e=0,i=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=i[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},Z0="!",VS=":",E8=[],jS=(t,e,n,i,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:i,isExternal:a}),S8=t=>{const{prefix:e,experimentalParseClassName:n}=t;let i=a=>{const l=[];let c=0,h=0,d=0,m;const g=a.length;for(let I=0;I<g;I++){const N=a[I];if(c===0&&h===0){if(N===VS){l.push(a.slice(d,I)),d=I+1;continue}if(N==="/"){m=I;continue}}N==="["?c++:N==="]"?c--:N==="("?h++:N===")"&&h--}const b=l.length===0?a:a.slice(d);let x=b,A=!1;b.endsWith(Z0)?(x=b.slice(0,-1),A=!0):b.startsWith(Z0)&&(x=b.slice(1),A=!0);const k=m&&m>d?m-d:void 0;return jS(l,A,x,k)};if(e){const a=e+VS,l=i;i=c=>c.startsWith(a)?l(c.slice(a.length)):jS(E8,!1,c,void 0,!0)}if(n){const a=i;i=l=>n({className:l,parseClassName:a})}return i},A8=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,i)=>{e.set(n,1e6+i)}),n=>{const i=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],h=c[0]==="[",d=e.has(c);h||d?(a.length>0&&(a.sort(),i.push(...a),a=[]),i.push(c)):a.push(c)}return a.length>0&&(a.sort(),i.push(...a)),i}},C8=t=>({cache:T8(t.cacheSize),parseClassName:S8(t),sortModifiers:A8(t),...m8(t)}),R8=/\s+/,N8=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],h=t.trim().split(R8);let d="";for(let m=h.length-1;m>=0;m-=1){const g=h[m],{isExternal:b,modifiers:x,hasImportantModifier:A,baseClassName:k,maybePostfixModifierPosition:I}=n(g);if(b){d=g+(d.length>0?" "+d:d);continue}let N=!!I,B=i(N?k.substring(0,I):k);if(!B){if(!N){d=g+(d.length>0?" "+d:d);continue}if(B=i(k),!B){d=g+(d.length>0?" "+d:d);continue}N=!1}const H=x.length===0?"":x.length===1?x[0]:l(x).join(":"),q=A?H+Z0:H,oe=q+B;if(c.indexOf(oe)>-1)continue;c.push(oe);const se=a(B,N);for(let ue=0;ue<se.length;++ue){const D=se[ue];c.push(q+D)}d=g+(d.length>0?" "+d:d)}return d},I8=(...t)=>{let e=0,n,i,a="";for(;e<t.length;)(n=t[e++])&&(i=dI(n))&&(a&&(a+=" "),a+=i);return a},dI=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=dI(t[i]))&&(n&&(n+=" "),n+=e);return n},D8=(t,...e)=>{let n,i,a,l;const c=d=>{const m=e.reduce((g,b)=>b(g),t());return n=C8(m),i=n.cache.get,a=n.cache.set,l=h,h(d)},h=d=>{const m=i(d);if(m)return m;const g=N8(d,n);return a(d,g),g};return l=c,(...d)=>l(I8(...d))},k8=[],Nn=t=>{const e=n=>n[t]||k8;return e.isThemeGetter=!0,e},fI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,mI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,M8=/^\d+\/\d+$/,P8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,O8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,V8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,j8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,L8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vl=t=>M8.test(t),We=t=>!!t&&!Number.isNaN(Number(t)),Ra=t=>!!t&&Number.isInteger(Number(t)),Xy=t=>t.endsWith("%")&&We(t.slice(0,-1)),Ir=t=>P8.test(t),U8=()=>!0,z8=t=>O8.test(t)&&!V8.test(t),pI=()=>!1,B8=t=>j8.test(t),F8=t=>L8.test(t),q8=t=>!Ne(t)&&!Ie(t),H8=t=>wc(t,vI,pI),Ne=t=>fI.test(t),Io=t=>wc(t,bI,z8),Wy=t=>wc(t,X8,We),LS=t=>wc(t,gI,pI),G8=t=>wc(t,yI,F8),vf=t=>wc(t,xI,B8),Ie=t=>mI.test(t),_u=t=>_c(t,bI),$8=t=>_c(t,W8),US=t=>_c(t,gI),K8=t=>_c(t,vI),Y8=t=>_c(t,yI),bf=t=>_c(t,xI,!0),wc=(t,e,n)=>{const i=fI.exec(t);return i?i[1]?e(i[1]):n(i[2]):!1},_c=(t,e,n=!1)=>{const i=mI.exec(t);return i?i[1]?e(i[1]):n:!1},gI=t=>t==="position"||t==="percentage",yI=t=>t==="image"||t==="url",vI=t=>t==="length"||t==="size"||t==="bg-size",bI=t=>t==="length",X8=t=>t==="number",W8=t=>t==="family-name",xI=t=>t==="shadow",Q8=()=>{const t=Nn("color"),e=Nn("font"),n=Nn("text"),i=Nn("font-weight"),a=Nn("tracking"),l=Nn("leading"),c=Nn("breakpoint"),h=Nn("container"),d=Nn("spacing"),m=Nn("radius"),g=Nn("shadow"),b=Nn("inset-shadow"),x=Nn("text-shadow"),A=Nn("drop-shadow"),k=Nn("blur"),I=Nn("perspective"),N=Nn("aspect"),B=Nn("ease"),H=Nn("animate"),q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],oe=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],se=()=>[...oe(),Ie,Ne],ue=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],C=()=>[Ie,Ne,d],P=()=>[Vl,"full","auto",...C()],U=()=>[Ra,"none","subgrid",Ie,Ne],z=()=>["auto",{span:["full",Ra,Ie,Ne]},Ra,Ie,Ne],V=()=>[Ra,"auto",Ie,Ne],O=()=>["auto","min","max","fr",Ie,Ne],we=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],xe=()=>["start","end","center","stretch","center-safe","end-safe"],J=()=>["auto",...C()],X=()=>[Vl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],$=()=>[t,Ie,Ne],K=()=>[...oe(),US,LS,{position:[Ie,Ne]}],j=()=>["no-repeat",{repeat:["","x","y","space","round"]}],T=()=>["auto","cover","contain",K8,H8,{size:[Ie,Ne]}],L=()=>[Xy,_u,Io],Y=()=>["","none","full",m,Ie,Ne],ne=()=>["",We,_u,Io],pe=()=>["solid","dashed","dotted","double"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ge=()=>[We,Xy,US,LS],Ee=()=>["","none",k,Ie,Ne],Te=()=>["none",We,Ie,Ne],Se=()=>["none",We,Ie,Ne],Be=()=>[We,Ie,Ne],Ue=()=>[Vl,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ir],breakpoint:[Ir],color:[U8],container:[Ir],"drop-shadow":[Ir],ease:["in","out","in-out"],font:[q8],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ir],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ir],shadow:[Ir],spacing:["px",We],text:[Ir],"text-shadow":[Ir],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Vl,Ne,Ie,N]}],container:["container"],columns:[{columns:[We,Ne,Ie,h]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:se()}],overflow:[{overflow:ue()}],"overflow-x":[{"overflow-x":ue()}],"overflow-y":[{"overflow-y":ue()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[Ra,"auto",Ie,Ne]}],basis:[{basis:[Vl,"full","auto",h,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[We,Vl,"auto","initial","none",Ne]}],grow:[{grow:["",We,Ie,Ne]}],shrink:[{shrink:["",We,Ie,Ne]}],order:[{order:[Ra,"first","last","none",Ie,Ne]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...we(),"normal"]}],"justify-items":[{"justify-items":[...xe(),"normal"]}],"justify-self":[{"justify-self":["auto",...xe()]}],"align-content":[{content:["normal",...we()]}],"align-items":[{items:[...xe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...xe(),{baseline:["","last"]}]}],"place-content":[{"place-content":we()}],"place-items":[{"place-items":[...xe(),"baseline"]}],"place-self":[{"place-self":["auto",...xe()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:J()}],mx:[{mx:J()}],my:[{my:J()}],ms:[{ms:J()}],me:[{me:J()}],mt:[{mt:J()}],mr:[{mr:J()}],mb:[{mb:J()}],ml:[{ml:J()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:X()}],w:[{w:[h,"screen",...X()]}],"min-w":[{"min-w":[h,"screen","none",...X()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...X()]}],h:[{h:["screen","lh",...X()]}],"min-h":[{"min-h":["screen","lh","none",...X()]}],"max-h":[{"max-h":["screen","lh",...X()]}],"font-size":[{text:["base",n,_u,Io]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Ie,Wy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Xy,Ne]}],"font-family":[{font:[$8,Ne,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ie,Ne]}],"line-clamp":[{"line-clamp":[We,"none",Ie,Wy]}],leading:[{leading:[l,...C()]}],"list-image":[{"list-image":["none",Ie,Ne]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ie,Ne]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[We,"from-font","auto",Ie,Io]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[We,"auto",Ie,Ne]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie,Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie,Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:j()}],"bg-size":[{bg:T()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ra,Ie,Ne],radial:["",Ie,Ne],conic:[Ra,Ie,Ne]},Y8,G8]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:L()}],"gradient-via-pos":[{via:L()}],"gradient-to-pos":[{to:L()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:Y()}],"rounded-s":[{"rounded-s":Y()}],"rounded-e":[{"rounded-e":Y()}],"rounded-t":[{"rounded-t":Y()}],"rounded-r":[{"rounded-r":Y()}],"rounded-b":[{"rounded-b":Y()}],"rounded-l":[{"rounded-l":Y()}],"rounded-ss":[{"rounded-ss":Y()}],"rounded-se":[{"rounded-se":Y()}],"rounded-ee":[{"rounded-ee":Y()}],"rounded-es":[{"rounded-es":Y()}],"rounded-tl":[{"rounded-tl":Y()}],"rounded-tr":[{"rounded-tr":Y()}],"rounded-br":[{"rounded-br":Y()}],"rounded-bl":[{"rounded-bl":Y()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...pe(),"hidden","none"]}],"divide-style":[{divide:[...pe(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[We,Ie,Ne]}],"outline-w":[{outline:["",We,_u,Io]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",g,bf,vf]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",b,bf,vf]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[We,Io]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",x,bf,vf]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[We,Ie,Ne]}],"mix-blend":[{"mix-blend":[...ye(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ye()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[We]}],"mask-image-linear-from-pos":[{"mask-linear-from":ge()}],"mask-image-linear-to-pos":[{"mask-linear-to":ge()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":ge()}],"mask-image-t-to-pos":[{"mask-t-to":ge()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":ge()}],"mask-image-r-to-pos":[{"mask-r-to":ge()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":ge()}],"mask-image-b-to-pos":[{"mask-b-to":ge()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":ge()}],"mask-image-l-to-pos":[{"mask-l-to":ge()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":ge()}],"mask-image-x-to-pos":[{"mask-x-to":ge()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":ge()}],"mask-image-y-to-pos":[{"mask-y-to":ge()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[Ie,Ne]}],"mask-image-radial-from-pos":[{"mask-radial-from":ge()}],"mask-image-radial-to-pos":[{"mask-radial-to":ge()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":oe()}],"mask-image-conic-pos":[{"mask-conic":[We]}],"mask-image-conic-from-pos":[{"mask-conic-from":ge()}],"mask-image-conic-to-pos":[{"mask-conic-to":ge()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:j()}],"mask-size":[{mask:T()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ie,Ne]}],filter:[{filter:["","none",Ie,Ne]}],blur:[{blur:Ee()}],brightness:[{brightness:[We,Ie,Ne]}],contrast:[{contrast:[We,Ie,Ne]}],"drop-shadow":[{"drop-shadow":["","none",A,bf,vf]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",We,Ie,Ne]}],"hue-rotate":[{"hue-rotate":[We,Ie,Ne]}],invert:[{invert:["",We,Ie,Ne]}],saturate:[{saturate:[We,Ie,Ne]}],sepia:[{sepia:["",We,Ie,Ne]}],"backdrop-filter":[{"backdrop-filter":["","none",Ie,Ne]}],"backdrop-blur":[{"backdrop-blur":Ee()}],"backdrop-brightness":[{"backdrop-brightness":[We,Ie,Ne]}],"backdrop-contrast":[{"backdrop-contrast":[We,Ie,Ne]}],"backdrop-grayscale":[{"backdrop-grayscale":["",We,Ie,Ne]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[We,Ie,Ne]}],"backdrop-invert":[{"backdrop-invert":["",We,Ie,Ne]}],"backdrop-opacity":[{"backdrop-opacity":[We,Ie,Ne]}],"backdrop-saturate":[{"backdrop-saturate":[We,Ie,Ne]}],"backdrop-sepia":[{"backdrop-sepia":["",We,Ie,Ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ie,Ne]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[We,"initial",Ie,Ne]}],ease:[{ease:["linear","initial",B,Ie,Ne]}],delay:[{delay:[We,Ie,Ne]}],animate:[{animate:["none",H,Ie,Ne]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[I,Ie,Ne]}],"perspective-origin":[{"perspective-origin":se()}],rotate:[{rotate:Te()}],"rotate-x":[{"rotate-x":Te()}],"rotate-y":[{"rotate-y":Te()}],"rotate-z":[{"rotate-z":Te()}],scale:[{scale:Se()}],"scale-x":[{"scale-x":Se()}],"scale-y":[{"scale-y":Se()}],"scale-z":[{"scale-z":Se()}],"scale-3d":["scale-3d"],skew:[{skew:Be()}],"skew-x":[{"skew-x":Be()}],"skew-y":[{"skew-y":Be()}],transform:[{transform:[Ie,Ne,"","none","gpu","cpu"]}],"transform-origin":[{origin:se()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ue()}],"translate-x":[{"translate-x":Ue()}],"translate-y":[{"translate-y":Ue()}],"translate-z":[{"translate-z":Ue()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie,Ne]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie,Ne]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[We,_u,Io,Wy]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},J8=D8(Q8);function Z(...t){return J8(u8(t))}const Z8=()=>{const{isSettingsOpen:t,closeSettings:e,settings:n,updateSettings:i}=Oi(),a=Et.useRef(n);if(Et.useEffect(()=>{t&&(a.current=n)},[t]),!t)return null;const l=()=>{i(a.current,!1),e()},c=()=>{i(n,!0),e()},h=[{id:"light",name:"Light",color:"bg-white from-slate-100 to-sky-50",animated:!0},{id:"dawn",name:"Dawn",color:"bg-[#0f111a] from-violet-500/20 to-pink-500/20",animated:!1},{id:"cosmic",name:"Cosmic",color:"bg-[#2e1065] from-violet-600/20 to-pink-600/20",animated:!0},{id:"lavender",name:"Lavender",color:"bg-[#3b0764] from-fuchsia-500/20 to-purple-500/20",animated:!0},{id:"midnight",name:"Midnight",color:"bg-[#020617] from-sky-500/20 to-indigo-500/20",animated:!1},{id:"forest",name:"Forest",color:"bg-[#052e16] from-green-500/20 to-emerald-500/20",animated:!1},{id:"ocean",name:"Ocean",color:"bg-[#083344] from-cyan-500/20 to-teal-500/20",animated:!1},{id:"sunset",name:"Sunset",color:"bg-[#2a0a0a] from-orange-500/20 to-rose-500/20",animated:!1}],d=[{id:"outfit",name:"Modern",family:"font-[Outfit]"},{id:"inter",name:"Clean",family:"font-[Inter]"},{id:"playfair",name:"Elegant",family:'font-["Playfair_Display"]'},{id:"mono",name:"Tech",family:'font-["Fira_Code"]'}],m=n.theme==="light";return v.jsx(Rs,{children:t&&v.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 font-sans",children:[v.jsx(Qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:l}),v.jsxs(Qe.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:Z("relative w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden max-h-[85vh] flex flex-col border",m?"bg-white border-slate-200":"bg-slate-900 border-white/10"),children:[v.jsxs("div",{className:Z("p-6 border-b flex justify-between items-center sticky top-0 z-10",m?"bg-white border-slate-100":"bg-slate-900 border-white/10"),children:[v.jsxs("h2",{className:Z("text-xl font-bold flex items-center gap-2",m?"text-slate-800":"text-white"),children:[v.jsx(Sm,{className:"w-5 h-5 text-accent-primary"}),"Customization"]}),v.jsx("button",{onClick:l,className:Z("transition-colors",m?"text-slate-400 hover:text-slate-600":"text-slate-400 hover:text-white"),children:v.jsx(Br,{className:"w-6 h-6"})})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[v.jsxs("section",{children:[v.jsxs("h3",{className:Z("text-sm font-semibold uppercase tracking-wider mb-4 flex items-center gap-2",m?"text-slate-500":"text-slate-400"),children:[v.jsx(Sm,{className:"w-4 h-4"})," Theme"]}),v.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:h.map(g=>v.jsxs("button",{onClick:()=>i({theme:g.id},!1),className:Z("relative group overflow-hidden rounded-xl border transition-all duration-300",n.theme===g.id?"border-accent-primary ring-2 ring-accent-primary/50":m?"border-slate-200 hover:border-slate-300":"border-white/10 hover:border-white/30"),children:[v.jsx("div",{className:Z("h-16 w-full bg-gradient-to-br relative",g.color),children:g.animated&&v.jsxs("div",{className:"absolute top-1.5 left-1.5 px-1.5 py-0.5 bg-black/40 backdrop-blur-sm rounded text-[10px] font-bold text-white/90 flex items-center gap-1",children:[v.jsx(Hu,{className:"w-2.5 h-2.5"}),v.jsx("span",{children:"Animated"})]})}),v.jsx("div",{className:Z("p-3",m?"bg-slate-50":"bg-slate-800/50"),children:v.jsx("span",{className:Z("text-sm font-medium",n.theme===g.id?m?"text-slate-900":"text-white":"text-slate-400"),children:g.name})}),n.theme===g.id&&v.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 bg-accent-primary rounded-full flex items-center justify-center shadow-lg",children:v.jsx(Ns,{className:"w-3 h-3 text-white"})})]},g.id))})]}),v.jsxs("section",{children:[v.jsxs("h3",{className:Z("text-sm font-semibold uppercase tracking-wider mb-4 flex items-center gap-2",m?"text-slate-500":"text-slate-400"),children:[v.jsx(n8,{className:"w-4 h-4"})," Typography"]}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:d.map(g=>v.jsxs("button",{onClick:()=>i({font:g.id},!1),className:Z("flex items-center justify-between p-4 rounded-xl border transition-all duration-200 text-left",n.font===g.id?"bg-accent-primary/10 border-accent-primary text-accent-primary":m?"bg-white border-slate-200 hover:bg-slate-50 text-slate-600":"bg-white/5 border-white/5 hover:bg-white/10 text-slate-300"),children:[v.jsxs("div",{children:[v.jsx("span",{className:Z("text-lg block mb-0.5",g.family),children:"Aa"}),v.jsx("span",{className:"text-xs opacity-70",children:g.name})]}),n.font===g.id&&v.jsx(Ns,{className:"w-5 h-5"})]},g.id))}),v.jsx("div",{className:Z("mt-4 p-4 rounded-xl border",m?"bg-slate-50 border-slate-200":"bg-black/20 border-white/5"),children:v.jsx("p",{className:Z("text-sm leading-relaxed",m?"text-slate-600":"text-slate-300",n.font==="outfit"&&"font-[Outfit]",n.font==="inter"&&"font-[Inter]",n.font==="playfair"&&'font-["Playfair_Display"]',n.font==="mono"&&'font-["Fira_Code"]'),children:"The quick brown fox jumps over the lazy dog. 1234567890."})})]}),v.jsxs("section",{children:[v.jsxs("h3",{className:Z("text-sm font-semibold uppercase tracking-wider mb-4 flex items-center gap-2",m?"text-slate-500":"text-slate-400"),children:[v.jsx(Hu,{className:"w-4 h-4"})," Experience"]}),v.jsxs("div",{className:Z("flex items-center justify-between p-4 rounded-xl border mb-3",m?"bg-white border-slate-200":"bg-white/5 border-white/10"),children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:Z("p-2 rounded-lg",n.enableAnimation?"bg-accent-primary/20 text-accent-primary":m?"bg-slate-100 text-slate-400":"bg-slate-700 text-slate-400"),children:v.jsx(Hu,{size:20})}),v.jsxs("div",{children:[v.jsx("div",{className:Z("font-medium",m?"text-slate-800":"text-white"),children:"Live Backgrounds"}),v.jsx("div",{className:Z("text-xs",m?"text-slate-500":"text-slate-400"),children:"Dynamic particles and ambient effects"})]})]}),v.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:n.enableAnimation,onChange:g=>i({enableAnimation:g.target.checked},!1),className:"sr-only peer"}),v.jsx("div",{className:Z("w-11 h-6 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-accent-primary rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-primary",m?"bg-slate-200":"bg-slate-700")})]})]}),v.jsxs("div",{className:Z("flex items-center justify-between p-4 rounded-xl border",m?"bg-white border-slate-200":"bg-white/5 border-white/10"),children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:Z("p-2 rounded-lg",n.enableSound?"bg-emerald-500/20 text-emerald-400":m?"bg-slate-100 text-slate-400":"bg-slate-700 text-slate-400"),children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),v.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"}),v.jsx("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14"})]})}),v.jsxs("div",{children:[v.jsx("div",{className:Z("font-medium",m?"text-slate-800":"text-white"),children:"Sound Effects"}),v.jsx("div",{className:Z("text-xs",m?"text-slate-500":"text-slate-400"),children:"Satisfying clicks and celebrations"})]})]}),v.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:n.enableSound,onChange:g=>i({enableSound:g.target.checked},!1),className:"sr-only peer"}),v.jsx("div",{className:Z("w-11 h-6 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-emerald-500 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500",m?"bg-slate-200":"bg-slate-700")})]})]})]})]}),v.jsxs("div",{className:Z("p-6 border-t flex justify-end gap-3 sticky bottom-0 z-10 shrink-0",m?"bg-white border-slate-100":"bg-slate-900 border-white/10"),children:[v.jsx("button",{onClick:l,className:Z("px-4 py-2 rounded-xl font-semibold transition-colors",m?"bg-slate-100 text-slate-600 hover:bg-slate-200":"bg-white/5 text-slate-300 hover:bg-white/10"),children:"Cancel"}),v.jsx("button",{onClick:c,className:"px-6 py-2 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all active:scale-95",children:"Save Changes"})]})]})]})})},xf={theme:"dawn",font:"outfit",enableAnimation:!0,enableSound:!0},wI=S.createContext(null),Oi=()=>{const t=S.useContext(wI);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},eF=({children:t})=>{const{user:e}=Ja(),[n,i]=S.useState(()=>{try{const m=localStorage.getItem("bingo_settings");return m?{...xf,...JSON.parse(m)}:xf}catch(m){return console.error("Error parsing local settings",m),xf}}),[a,l]=S.useState(!1);S.useEffect(()=>{(async()=>{if(e)try{const g=Ds(ri,"users",e.uid),b=await Dh(g);if(b.exists()&&b.data().settings){const x={...xf,...b.data().settings};i(x),localStorage.setItem("bingo_settings",JSON.stringify(x))}}catch(g){console.error("Error loading settings:",g)}})()},[e]),S.useEffect(()=>{const m=document.body;m.classList.remove("theme-dawn","theme-midnight","theme-forest","theme-ocean","theme-sunset","theme-cosmic","theme-lavender","theme-light"),m.classList.add(`theme-${n.theme}`),m.classList.remove("font-inter","font-playfair","font-mono","font-comic"),n.font!=="outfit"&&m.classList.add(`font-${n.font}`),n.enableAnimation?m.classList.remove("reduce-motion"):m.classList.add("reduce-motion")},[n]);const c=async(m,g=!0)=>{const b={...n,...m};i(b);try{localStorage.setItem("bingo_settings",JSON.stringify(b))}catch(x){console.error("Failed to save settings locally",x)}if(e&&g)try{await dm(Ds(ri,"users",e.uid),{settings:b},{merge:!0})}catch(x){console.error("Error saving settings to DB:",x)}},h=()=>l(!0),d=()=>l(!1);return v.jsxs(wI.Provider,{value:{settings:n,updateSettings:c,isSettingsOpen:a,openSettings:h,closeSettings:d},children:[t,v.jsx(Z8,{})]})},tF=()=>{const{signIn:t,error:e}=Ja(),{settings:n}=Oi(),i=n.theme==="light";return v.jsxs("div",{className:Z("relative flex flex-col items-center justify-center min-h-screen p-4 text-center overflow-hidden font-sans",i?"text-slate-800":"text-slate-100"),children:[v.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none",children:v.jsx("div",{className:Z("absolute inset-0 bg-gradient-to-t via-transparent to-transparent",i?"from-white/30":"from-black/30")})}),v.jsxs("div",{className:"relative z-10 w-full max-w-[400px] animate-fade-in-up",children:[v.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[v.jsxs("div",{className:Z("relative w-20 h-20 mb-4 rounded-2xl flex items-center justify-center shadow-xl backdrop-blur-sm border",i?"bg-gradient-to-br from-blue-500/10 to-purple-500/10 border-slate-200 shadow-blue-500/5":"bg-gradient-to-br from-indigo-500/20 to-purple-500/20 border-white/10 shadow-indigo-500/10"),children:[v.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-12 h-12 object-contain drop-shadow-lg"}),v.jsx("div",{className:"absolute -top-2 -right-2",children:v.jsx(rI,{className:"w-6 h-6 text-accent-gold animate-bounce-gentle"})})]}),v.jsx("h1",{className:Z("text-3xl font-bold tracking-tight mb-2",i?"text-slate-900":"text-white"),children:"SunSar Bingo"}),v.jsx("p",{className:Z("text-sm font-medium",i?"text-slate-500":"text-slate-400"),children:"The social way to achieve your 2026 goals."})]}),v.jsx("div",{className:Z("backdrop-blur-md border rounded-2xl p-6 sm:p-8 shadow-2xl",i?"bg-white/80 border-slate-200 shadow-slate-200/50":"bg-slate-900/50 border-white/10 shadow-black/50"),children:v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"text-left space-y-2",children:[v.jsx("h2",{className:Z("text-xl font-semibold",i?"text-slate-900":"text-white"),children:"Welcome back"}),v.jsx("p",{className:Z("text-sm",i?"text-slate-500":"text-slate-400"),children:"Sign in to continue to your bingo boards."})]}),e&&v.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-500 px-4 py-3 rounded-xl text-sm flex items-start text-left",children:[v.jsx("span",{className:"mr-2",children:""}),e]}),v.jsxs("button",{onClick:t,className:Z("group relative w-full flex items-center justify-center gap-3 px-4 py-3 font-bold rounded-xl transition-all duration-200 shadow-lg hover:tracking-wide active:scale-[0.98]",i?"bg-slate-900 text-white hover:bg-slate-800 shadow-slate-300":"bg-white text-slate-900 hover:bg-slate-200 shadow-white/5"),children:[v.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"G",className:"w-5 h-5"}),v.jsx("span",{children:"Continue with Google"}),v.jsx(yB,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),v.jsxs("div",{className:"relative my-6",children:[v.jsx("div",{className:"absolute inset-0 flex items-center",children:v.jsx("span",{className:Z("w-full border-t",i?"border-slate-200":"border-white/10")})}),v.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:v.jsx("span",{className:Z("px-2",i?"bg-white/0 text-slate-400":"bg-transparent text-slate-500"),children:"New to SunSar?"})})]}),v.jsx(dv,{to:"/help",className:Z("block w-full py-3 px-4 rounded-xl border font-medium transition-colors text-sm",i?"border-slate-200 text-slate-600 hover:bg-slate-50 hover:text-slate-900":"border-white/10 text-slate-300 hover:bg-white/5 hover:text-white"),children:"Check out how it works"})]})}),v.jsx("div",{className:"mt-8 text-center",children:v.jsxs("p",{className:"text-xs text-slate-500",children:[" 2026 SunSar Bingo  ",v.jsx("a",{href:"#",className:"hover:text-slate-400 underline decoration-slate-700",children:"Privacy"}),"  ",v.jsx("a",{href:"#",className:"hover:text-slate-400 underline decoration-slate-700",children:"Terms"})]})})]})]})};var Fb={};(function t(e,n,i,a){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",h=(function(){if(!e.OffscreenCanvas)return!1;try{var j=new OffscreenCanvas(1,1),T=j.getContext("2d");T.fillRect(0,0,1,1);var L=j.transferToImageBitmap();T.createPattern(L,"no-repeat")}catch{return!1}return!0})();function d(){}function m(j){var T=n.exports.Promise,L=T!==void 0?T:e.Promise;return typeof L=="function"?new L(j):(j(d,d),null)}var g=(function(j,T){return{transform:function(L){if(j)return L;if(T.has(L))return T.get(L);var Y=new OffscreenCanvas(L.width,L.height),ne=Y.getContext("2d");return ne.drawImage(L,0,0),T.set(L,Y),Y},clear:function(){T.clear()}}})(h,new Map),b=(function(){var j=Math.floor(16.666666666666668),T,L,Y={},ne=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(T=function(pe){var ye=Math.random();return Y[ye]=requestAnimationFrame(function ge(Ee){ne===Ee||ne+j-1<Ee?(ne=Ee,delete Y[ye],pe()):Y[ye]=requestAnimationFrame(ge)}),ye},L=function(pe){Y[pe]&&cancelAnimationFrame(Y[pe])}):(T=function(pe){return setTimeout(pe,j)},L=function(pe){return clearTimeout(pe)}),{frame:T,cancel:L}})(),x=(function(){var j,T,L={};function Y(ne){function pe(ye,ge){ne.postMessage({options:ye||{},callback:ge})}ne.init=function(ge){var Ee=ge.transferControlToOffscreen();ne.postMessage({canvas:Ee},[Ee])},ne.fire=function(ge,Ee,Te){if(T)return pe(ge,null),T;var Se=Math.random().toString(36).slice(2);return T=m(function(Be){function Ue(et){et.data.callback===Se&&(delete L[Se],ne.removeEventListener("message",Ue),T=null,g.clear(),Te(),Be())}ne.addEventListener("message",Ue),pe(ge,Se),L[Se]=Ue.bind(null,{data:{callback:Se}})}),T},ne.reset=function(){ne.postMessage({reset:!0});for(var ge in L)L[ge](),delete L[ge]}}return function(){if(j)return j;if(!i&&l){var ne=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{j=new Worker(URL.createObjectURL(new Blob([ne])))}catch(pe){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",pe),null}Y(j)}return j}})(),A={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function k(j,T){return T?T(j):j}function I(j){return j!=null}function N(j,T,L){return k(j&&I(j[T])?j[T]:A[T],L)}function B(j){return j<0?0:Math.floor(j)}function H(j,T){return Math.floor(Math.random()*(T-j))+j}function q(j){return parseInt(j,16)}function oe(j){return j.map(se)}function se(j){var T=String(j).replace(/[^0-9a-f]/gi,"");return T.length<6&&(T=T[0]+T[0]+T[1]+T[1]+T[2]+T[2]),{r:q(T.substring(0,2)),g:q(T.substring(2,4)),b:q(T.substring(4,6))}}function ue(j){var T=N(j,"origin",Object);return T.x=N(T,"x",Number),T.y=N(T,"y",Number),T}function D(j){j.width=document.documentElement.clientWidth,j.height=document.documentElement.clientHeight}function C(j){var T=j.getBoundingClientRect();j.width=T.width,j.height=T.height}function P(j){var T=document.createElement("canvas");return T.style.position="fixed",T.style.top="0px",T.style.left="0px",T.style.pointerEvents="none",T.style.zIndex=j,T}function U(j,T,L,Y,ne,pe,ye,ge,Ee){j.save(),j.translate(T,L),j.rotate(pe),j.scale(Y,ne),j.arc(0,0,1,ye,ge,Ee),j.restore()}function z(j){var T=j.angle*(Math.PI/180),L=j.spread*(Math.PI/180);return{x:j.x,y:j.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:j.startVelocity*.5+Math.random()*j.startVelocity,angle2D:-T+(.5*L-Math.random()*L),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:j.color,shape:j.shape,tick:0,totalTicks:j.ticks,decay:j.decay,drift:j.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:j.gravity*3,ovalScalar:.6,scalar:j.scalar,flat:j.flat}}function V(j,T){T.x+=Math.cos(T.angle2D)*T.velocity+T.drift,T.y+=Math.sin(T.angle2D)*T.velocity+T.gravity,T.velocity*=T.decay,T.flat?(T.wobble=0,T.wobbleX=T.x+10*T.scalar,T.wobbleY=T.y+10*T.scalar,T.tiltSin=0,T.tiltCos=0,T.random=1):(T.wobble+=T.wobbleSpeed,T.wobbleX=T.x+10*T.scalar*Math.cos(T.wobble),T.wobbleY=T.y+10*T.scalar*Math.sin(T.wobble),T.tiltAngle+=.1,T.tiltSin=Math.sin(T.tiltAngle),T.tiltCos=Math.cos(T.tiltAngle),T.random=Math.random()+2);var L=T.tick++/T.totalTicks,Y=T.x+T.random*T.tiltCos,ne=T.y+T.random*T.tiltSin,pe=T.wobbleX+T.random*T.tiltCos,ye=T.wobbleY+T.random*T.tiltSin;if(j.fillStyle="rgba("+T.color.r+", "+T.color.g+", "+T.color.b+", "+(1-L)+")",j.beginPath(),c&&T.shape.type==="path"&&typeof T.shape.path=="string"&&Array.isArray(T.shape.matrix))j.fill(X(T.shape.path,T.shape.matrix,T.x,T.y,Math.abs(pe-Y)*.1,Math.abs(ye-ne)*.1,Math.PI/10*T.wobble));else if(T.shape.type==="bitmap"){var ge=Math.PI/10*T.wobble,Ee=Math.abs(pe-Y)*.1,Te=Math.abs(ye-ne)*.1,Se=T.shape.bitmap.width*T.scalar,Be=T.shape.bitmap.height*T.scalar,Ue=new DOMMatrix([Math.cos(ge)*Ee,Math.sin(ge)*Ee,-Math.sin(ge)*Te,Math.cos(ge)*Te,T.x,T.y]);Ue.multiplySelf(new DOMMatrix(T.shape.matrix));var et=j.createPattern(g.transform(T.shape.bitmap),"no-repeat");et.setTransform(Ue),j.globalAlpha=1-L,j.fillStyle=et,j.fillRect(T.x-Se/2,T.y-Be/2,Se,Be),j.globalAlpha=1}else if(T.shape==="circle")j.ellipse?j.ellipse(T.x,T.y,Math.abs(pe-Y)*T.ovalScalar,Math.abs(ye-ne)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI):U(j,T.x,T.y,Math.abs(pe-Y)*T.ovalScalar,Math.abs(ye-ne)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI);else if(T.shape==="star")for(var ke=Math.PI/2*3,yt=4*T.scalar,vt=8*T.scalar,Kt=T.x,Yt=T.y,ot=5,$e=Math.PI/ot;ot--;)Kt=T.x+Math.cos(ke)*vt,Yt=T.y+Math.sin(ke)*vt,j.lineTo(Kt,Yt),ke+=$e,Kt=T.x+Math.cos(ke)*yt,Yt=T.y+Math.sin(ke)*yt,j.lineTo(Kt,Yt),ke+=$e;else j.moveTo(Math.floor(T.x),Math.floor(T.y)),j.lineTo(Math.floor(T.wobbleX),Math.floor(ne)),j.lineTo(Math.floor(pe),Math.floor(ye)),j.lineTo(Math.floor(Y),Math.floor(T.wobbleY));return j.closePath(),j.fill(),T.tick<T.totalTicks}function O(j,T,L,Y,ne){var pe=T.slice(),ye=j.getContext("2d"),ge,Ee,Te=m(function(Se){function Be(){ge=Ee=null,ye.clearRect(0,0,Y.width,Y.height),g.clear(),ne(),Se()}function Ue(){i&&!(Y.width===a.width&&Y.height===a.height)&&(Y.width=j.width=a.width,Y.height=j.height=a.height),!Y.width&&!Y.height&&(L(j),Y.width=j.width,Y.height=j.height),ye.clearRect(0,0,Y.width,Y.height),pe=pe.filter(function(et){return V(ye,et)}),pe.length?ge=b.frame(Ue):Be()}ge=b.frame(Ue),Ee=Be});return{addFettis:function(Se){return pe=pe.concat(Se),Te},canvas:j,promise:Te,reset:function(){ge&&b.cancel(ge),Ee&&Ee()}}}function we(j,T){var L=!j,Y=!!N(T||{},"resize"),ne=!1,pe=N(T,"disableForReducedMotion",Boolean),ye=l&&!!N(T||{},"useWorker"),ge=ye?x():null,Ee=L?D:C,Te=j&&ge?!!j.__confetti_initialized:!1,Se=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Be;function Ue(ke,yt,vt){for(var Kt=N(ke,"particleCount",B),Yt=N(ke,"angle",Number),ot=N(ke,"spread",Number),$e=N(ke,"startVelocity",Number),Cn=N(ke,"decay",Number),sn=N(ke,"gravity",Number),ci=N(ke,"drift",Number),Ut=N(ke,"colors",oe),bi=N(ke,"ticks",Number),xi=N(ke,"shapes"),Mn=N(ke,"scalar"),Dt=!!N(ke,"flat"),ui=ue(ke),wi=Kt,pn=[],ps=j.width*ui.x,Pn=j.height*ui.y;wi--;)pn.push(z({x:ps,y:Pn,angle:Yt,spread:ot,startVelocity:$e,color:Ut[wi%Ut.length],shape:xi[H(0,xi.length)],ticks:bi,decay:Cn,gravity:sn,drift:ci,scalar:Mn,flat:Dt}));return Be?Be.addFettis(pn):(Be=O(j,pn,Ee,yt,vt),Be.promise)}function et(ke){var yt=pe||N(ke,"disableForReducedMotion",Boolean),vt=N(ke,"zIndex",Number);if(yt&&Se)return m(function($e){$e()});L&&Be?j=Be.canvas:L&&!j&&(j=P(vt),document.body.appendChild(j)),Y&&!Te&&Ee(j);var Kt={width:j.width,height:j.height};ge&&!Te&&ge.init(j),Te=!0,ge&&(j.__confetti_initialized=!0);function Yt(){if(ge){var $e={getBoundingClientRect:function(){if(!L)return j.getBoundingClientRect()}};Ee($e),ge.postMessage({resize:{width:$e.width,height:$e.height}});return}Kt.width=Kt.height=null}function ot(){Be=null,Y&&(ne=!1,e.removeEventListener("resize",Yt)),L&&j&&(document.body.contains(j)&&document.body.removeChild(j),j=null,Te=!1)}return Y&&!ne&&(ne=!0,e.addEventListener("resize",Yt,!1)),ge?ge.fire(ke,Kt,ot):Ue(ke,Kt,ot)}return et.reset=function(){ge&&ge.reset(),Be&&Be.reset()},et}var xe;function J(){return xe||(xe=we(null,{useWorker:!0,resize:!0})),xe}function X(j,T,L,Y,ne,pe,ye){var ge=new Path2D(j),Ee=new Path2D;Ee.addPath(ge,new DOMMatrix(T));var Te=new Path2D;return Te.addPath(Ee,new DOMMatrix([Math.cos(ye)*ne,Math.sin(ye)*ne,-Math.sin(ye)*pe,Math.cos(ye)*pe,L,Y])),Te}function $(j){if(!c)throw new Error("path confetti are not supported in this browser");var T,L;typeof j=="string"?T=j:(T=j.path,L=j.matrix);var Y=new Path2D(T),ne=document.createElement("canvas"),pe=ne.getContext("2d");if(!L){for(var ye=1e3,ge=ye,Ee=ye,Te=0,Se=0,Be,Ue,et=0;et<ye;et+=2)for(var ke=0;ke<ye;ke+=2)pe.isPointInPath(Y,et,ke,"nonzero")&&(ge=Math.min(ge,et),Ee=Math.min(Ee,ke),Te=Math.max(Te,et),Se=Math.max(Se,ke));Be=Te-ge,Ue=Se-Ee;var yt=10,vt=Math.min(yt/Be,yt/Ue);L=[vt,0,0,vt,-Math.round(Be/2+ge)*vt,-Math.round(Ue/2+Ee)*vt]}return{type:"path",path:T,matrix:L}}function K(j){var T,L=1,Y="#000000",ne='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof j=="string"?T=j:(T=j.text,L="scalar"in j?j.scalar:L,ne="fontFamily"in j?j.fontFamily:ne,Y="color"in j?j.color:Y);var pe=10*L,ye=""+pe+"px "+ne,ge=new OffscreenCanvas(pe,pe),Ee=ge.getContext("2d");Ee.font=ye;var Te=Ee.measureText(T),Se=Math.ceil(Te.actualBoundingBoxRight+Te.actualBoundingBoxLeft),Be=Math.ceil(Te.actualBoundingBoxAscent+Te.actualBoundingBoxDescent),Ue=2,et=Te.actualBoundingBoxLeft+Ue,ke=Te.actualBoundingBoxAscent+Ue;Se+=Ue+Ue,Be+=Ue+Ue,ge=new OffscreenCanvas(Se,Be),Ee=ge.getContext("2d"),Ee.font=ye,Ee.fillStyle=Y,Ee.fillText(T,et,ke);var yt=1/L;return{type:"bitmap",bitmap:ge.transferToImageBitmap(),matrix:[yt,0,0,yt,-Se*yt/2,-Be*yt/2]}}n.exports=function(){return J().apply(this,arguments)},n.exports.reset=function(){J().reset()},n.exports.create=we,n.exports.shapeFromPath=$,n.exports.shapeFromText=K})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Fb,!1);const ev=Fb.exports;Fb.exports.create;const Tu=(t=1)=>{const e=200*t,n={origin:{y:.7}};function i(a,l){ev(Object.assign({},n,l,{particleCount:Math.floor(e*a)}))}i(.25,{spread:26,startVelocity:55}),i(.2,{spread:60}),i(.35,{spread:100,decay:.91,scalar:.8}),i(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),i(.1,{spread:120,startVelocity:45})},zS={cloudName:"dia6ped7h",uploadPreset:"bingo_proofs"},BS=async t=>{const e=new FormData;e.append("file",t),e.append("upload_preset",zS.uploadPreset),e.append("folder","bingo-proofs");const n=await fetch(`https://api.cloudinary.com/v1_1/${zS.cloudName}/image/upload`,{method:"POST",body:e});if(!n.ok){const a=await n.json();throw console.error("Cloudinary upload error:",a),new Error(a.error?.message||"Failed to upload image")}return(await n.json()).secure_url},nF="2026",Qy=5,iF=["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"],sF=t=>{const{user:e}=Ja(),[n,i]=S.useState([]),[a,l]=S.useState({}),[c,h]=S.useState(!0),[d,m]=S.useState(!1),[g,b]=S.useState(!1),[x,A]=S.useState(""),[k,I]=S.useState(Qy),N=S.useMemo(()=>t?Ds(ri,"boards",t):Ds(ri,"years",nF),[t]),B=(X,$)=>{if(!X.length)return;const K=[];for(let T=0;T<$;T++)K.push(X.slice(T*$,(T+1)*$));let j=!1;for(let T=0;T<$;T++)if(K[T]&&K[T].every(L=>L.isCompleted||L.isFreeSpace)){j=!0;break}if(!j){for(let T=0;T<$;T++)if(K.map(L=>L[T]).every(L=>L&&(L.isCompleted||L.isFreeSpace))){j=!0;break}}!j&&K.map((T,L)=>T[L]).every(T=>T&&(T.isCompleted||T.isFreeSpace))&&(j=!0),!j&&K.map((T,L)=>T[$-1-L]).every(T=>T&&(T.isCompleted||T.isFreeSpace))&&(j=!0),j&&!d?(m(!0),Tu(2)):j||m(!1)},H=async(X=Qy)=>{const $=X*X,K=X%2===1?Math.floor($/2):-1,j=[...iF].sort(()=>.5-Math.random()),T=[];let L=0;for(let Y=0;Y<$;Y++)Y===K&&X%2===1?T.push({id:Y,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(T.push({id:Y,text:j[L%j.length]||`Goal ${Y+1}`,isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),L++);await dm(N,{year:2026,gridSize:X,items:T,isLocked:!1,createdAt:He.now(),lastUpdated:He.now(),...e?{ownerId:e.uid,members:{[e.uid]:"owner"}}:{}},{merge:!0})};S.useEffect(()=>{if(!e)return;h(!0);const X=uR(N,$=>{if($.exists()){const K=$.data(),j=K.gridSize||Qy;I(j),i(K.items||[]),l(K.members||{}),b(K.isLocked||!1),A(K.title||""),B(K.items||[],j)}else H();h(!1)},$=>{console.error("Error fetching bingo board:",$),h(!1)});return()=>X()},[N,e]);const q=async X=>{if(!n.length)return;const $=n.map(L=>({...L})),K=$[X];if(K.isFreeSpace)return;const j=K.targetCount||1,T=K.currentCount||0;if(K.isCompleted){const L=Math.max(0,T-1);K.currentCount=L,K.isCompleted=L>=j,L===0&&(K.completedBy=null,K.completedAt=null)}else{const L=Math.min(j,T+1);K.currentCount=L,K.isCompleted=L>=j,K.completedBy=e?.displayName||e?.email||"Unknown",K.completedAt=He.now(),Tu(.5)}i($),B($,k);try{await ii(N,{items:$,lastUpdated:He.now()})}catch(L){console.error("Error updating bingo board:",L)}},oe=async X=>{if(!n.length)return;const $=n.map(Y=>({...Y})),K=$[X];if(K.isFreeSpace)return;const j=K.currentCount||0;if(j<=0)return;const T=K.targetCount||1,L=j-1;K.currentCount=L,K.isCompleted=L>=T,L===0&&(K.completedBy=null,K.completedAt=null),i($),B($,k);try{await ii(N,{items:$,lastUpdated:He.now()})}catch(Y){console.error("Error decrementing progress:",Y)}},se=async(X,$)=>{if(!(!n.length||!e))try{const K=await BS($),j=n.map(ye=>({...ye})),T=j[X];if(T.isFreeSpace)return;const L=T.targetCount||1,Y=T.currentCount||0,ne=Math.min(L,Y+1);T.currentCount=ne,T.isCompleted=ne>=L,T.completedBy=e?.displayName||e?.email||"Unknown",T.completedAt=He.now();const pe=T.proofPhotos||[];T.proofPhotos=[...pe,K],i(j),B(j,k),Tu(1),await ii(N,{items:j,lastUpdated:He.now()})}catch(K){throw console.error("Error completing with photo:",K),K}},ue=async(X,$)=>{if(!n.length||!e)return;const K=n[X];!K.isCompleted&&(K.currentCount||0)<(K.targetCount||1);const j=K.proofPhotos||[];if(j.length>=5)throw new Error("Maximum 5 photos allowed per tile");try{const T=await BS($),L=n.map(Y=>({...Y}));return L[X].proofPhotos=[...j,T],i(L),Tu(.3),await ii(N,{items:L,lastUpdated:He.now()}),T}catch(T){throw console.error("Error adding photo:",T),T}},D=async(X,$)=>{if(!n.length)return;const K=n.map(L=>({...L})),j=K[X];if(!j.proofPhotos)return;const T=[...j.proofPhotos];T.splice($,1),j.proofPhotos=T,i(K);try{await ii(N,{items:K,lastUpdated:He.now()})}catch(L){console.error("Error deleting photo:",L)}},C=async(X,$)=>{if(e)try{const K=n.map(Y=>({...Y})),j=K[X],T={emoji:$,by:e.uid,byName:e.displayName||e.email?.split("@")[0]||"Friend",timestamp:Date.now()},L=j.reactions||[];j.reactions=[...L,T],i(K),await ii(N,{items:K,lastUpdated:He.now()}),Tu(.2)}catch(K){console.error("Error adding reaction:",K)}},P=async(X,$)=>{const K=n.map(j=>({...j}));$.text!==void 0&&(K[X].text=$.text),$.style!==void 0&&(K[X].style=$.style),i(K);try{await ii(N,{items:K,lastUpdated:He.now()})}catch(j){console.error("Error updating item:",j)}},U=async(X=!0)=>{const $=[...n];let K=$;if(X){const T=k*k,L=k%2===1?Math.floor(T/2):-1;if(L!==-1){const Y=$[L],ne=[...$.slice(0,L),...$.slice(L+1)];for(let pe=ne.length-1;pe>0;pe--){const ye=Math.floor(Math.random()*(pe+1));[ne[pe],ne[ye]]=[ne[ye],ne[pe]]}K=[...ne.slice(0,L),Y,...ne.slice(L)]}else{K=[...$];for(let Y=K.length-1;Y>0;Y--){const ne=Math.floor(Math.random()*(Y+1));[K[Y],K[ne]]=[K[ne],K[Y]]}}i(K)}b(!0);const j={isLocked:!0,lastUpdated:He.now()};X&&(j.items=K,j.itemsBackup=$),await dm(N,j,{merge:!0})},z=async()=>{try{const X=await Dh(N);if(X.exists()){const $=X.data();$.itemsBackup?await ii(N,{items:$.itemsBackup,itemsBackup:hm(),isLocked:!1,lastUpdated:He.now()}):await ii(N,{isLocked:!1,lastUpdated:He.now()})}}catch(X){console.error("Error unlocking board:",X)}},V=S.useMemo(()=>{const X=[[0,1,2,3,4],[5,6,7,8,9],[10,11,12,13,14],[15,16,17,18,19],[20,21,22,23,24],[0,5,10,15,20],[1,6,11,16,21],[2,7,12,17,22],[3,8,13,18,23],[4,9,14,19,24],[0,6,12,18,24],[4,8,12,16,20]],$=new Set(n.map((K,j)=>K.isCompleted||K.isFreeSpace?j:-1));return X.reduce((K,j)=>j.every(T=>$.has(T))?K+1:K,0)},[n]);return{items:n,members:a,loading:c,toggleItem:q,updateItem:P,hasWon:d,bingoCount:V,isLocked:g,unlockBoard:z,jumbleAndLock:U,saveBoard:async X=>{i(X);try{await ii(N,{items:X,lastUpdated:He.now()})}catch($){console.error("Error saving board:",$)}},completeWithPhoto:se,addPhotoToTile:ue,deletePhoto:D,addReaction:C,decrementProgress:oe,inviteUser:async(X,$="editor")=>{try{const K=nh(jo(ri,"users"),ih("email","==",X)),j=await Jl(K);if(j.empty)return{success:!1,type:"not_found",message:"User not found"};const T=j.docs[0],L=T.id;return await ii(N,{[`members.${L}`]:$}),{success:!0,type:"success",message:`Added ${T.data().displayName||X} as ${$}!`}}catch(K){return console.error("Error inviting user:",K),{success:!1,type:"error",message:"Failed to invite user"}}},removeMember:async X=>{try{return await ii(N,{[`members.${X}`]:hm()}),{success:!0}}catch($){return console.error("Error removing member:",$),{success:!1,error:$}}},title:x,gridSize:k,updateTitle:async X=>{try{await ii(N,{title:X,lastUpdated:He.now()}),A(X)}catch($){console.error("Error updating title:",$)}}}};let Gu=null;const Eu=()=>(Gu||(Gu=new(window.AudioContext||window.webkitAudioContext)),Gu),rF=()=>{const{settings:t}=Oi(),e=t.enableSound??!0,n=S.useRef(0);S.useEffect(()=>{const g=()=>{Gu?.state==="suspended"&&Gu.resume()};return document.addEventListener("click",g,{once:!0}),document.addEventListener("touchstart",g,{once:!0}),()=>{document.removeEventListener("click",g),document.removeEventListener("touchstart",g)}},[]);const i=S.useCallback(()=>{const g=Date.now();return g-n.current<50?!1:(n.current=g,!0)},[]),a=S.useCallback(()=>{if(!(!e||!i()))try{const g=Eu(),b=g.createOscillator(),x=g.createGain();b.connect(x),x.connect(g.destination),b.frequency.setValueAtTime(800,g.currentTime),b.frequency.exponentialRampToValueAtTime(400,g.currentTime+.1),b.type="sine",x.gain.setValueAtTime(.15,g.currentTime),x.gain.exponentialRampToValueAtTime(.001,g.currentTime+.1),b.start(g.currentTime),b.stop(g.currentTime+.1)}catch(g){console.warn("Audio playback failed:",g)}},[e,i]),l=S.useCallback(()=>{if(!(!e||!i()))try{const g=Eu();[523.25,659.25,783.99].forEach((x,A)=>{const k=g.createOscillator(),I=g.createGain();k.connect(I),I.connect(g.destination),k.frequency.setValueAtTime(x,g.currentTime),k.type="sine";const N=g.currentTime+A*.08;I.gain.setValueAtTime(0,N),I.gain.linearRampToValueAtTime(.12,N+.02),I.gain.exponentialRampToValueAtTime(.001,N+.3),k.start(N),k.stop(N+.3)})}catch(g){console.warn("Audio playback failed:",g)}},[e,i]),c=S.useCallback(()=>{if(e)try{const g=Eu();[{freq:523.25,time:0},{freq:659.25,time:.1},{freq:783.99,time:.2},{freq:1046.5,time:.35},{freq:1318.51,time:.5}].forEach(({freq:k,time:I})=>{const N=g.createOscillator(),B=g.createGain();N.connect(B),B.connect(g.destination),N.frequency.setValueAtTime(k,g.currentTime+I),N.type="sine",B.gain.setValueAtTime(0,g.currentTime+I),B.gain.linearRampToValueAtTime(.2,g.currentTime+I+.02),B.gain.exponentialRampToValueAtTime(.001,g.currentTime+I+.5),N.start(g.currentTime+I),N.stop(g.currentTime+I+.5)});const x=g.createOscillator(),A=g.createGain();x.connect(A),A.connect(g.destination),x.type="sine",x.frequency.setValueAtTime(2e3,g.currentTime+.6),x.frequency.exponentialRampToValueAtTime(4e3,g.currentTime+1.2),A.gain.setValueAtTime(0,g.currentTime+.6),A.gain.linearRampToValueAtTime(.05,g.currentTime+.7),A.gain.exponentialRampToValueAtTime(.001,g.currentTime+1.2),x.start(g.currentTime+.6),x.stop(g.currentTime+1.2)}catch(g){console.warn("Audio playback failed:",g)}},[e]),h=S.useRef(null),d=S.useCallback(()=>{if(!(!e||!i()))try{const g=Eu();if(!h.current){const k=g.sampleRate*.15,I=g.createBuffer(1,k,g.sampleRate),N=I.getChannelData(0);for(let B=0;B<k;B++)N[B]=(Math.random()*2-1)*(1-B/k);h.current=I}const b=g.createBufferSource(),x=g.createBiquadFilter(),A=g.createGain();b.buffer=h.current,x.type="lowpass",x.frequency.setValueAtTime(2e3,g.currentTime),x.frequency.exponentialRampToValueAtTime(500,g.currentTime+.15),b.connect(x),x.connect(A),A.connect(g.destination),A.gain.setValueAtTime(.08,g.currentTime),A.gain.exponentialRampToValueAtTime(.001,g.currentTime+.15),b.start(g.currentTime)}catch(g){console.warn("Audio playback failed:",g)}},[e,i]),m=S.useCallback(()=>{if(!(!e||!i()))try{const g=Eu(),b=g.createOscillator(),x=g.createGain();b.connect(x),x.connect(g.destination),b.frequency.setValueAtTime(200,g.currentTime),b.frequency.linearRampToValueAtTime(150,g.currentTime+.2),b.type="sine",x.gain.setValueAtTime(.15,g.currentTime),x.gain.exponentialRampToValueAtTime(.001,g.currentTime+.2),b.start(g.currentTime),b.stop(g.currentTime+.2)}catch(g){console.warn("Audio playback failed:",g)}},[e,i]);return{playClick:a,playSuccess:l,playBingo:c,playWhoosh:d,playError:m}},aF=({items:t,isOpen:e,onClose:n})=>{const[i,a]=S.useState(null),{settings:l}=Oi(),c=l.theme==="light",h=S.useMemo(()=>t.map((g,b)=>({...g,originalIndex:b})).filter(g=>g.proofPhotos&&g.proofPhotos.length>0).sort((g,b)=>{const x=g.completedAt?.toDate?.()||new Date(0);return(b.completedAt?.toDate?.()||new Date(0)).getTime()-x.getTime()}),[t]),d=S.useMemo(()=>{const g={};return h.forEach(b=>{const A=(b.completedAt?.toDate?.()||new Date).toLocaleDateString("en-US",{month:"long",year:"numeric"});g[A]||(g[A]=[]),g[A].push(b)}),g},[h]),m=g=>g?(g.toDate?g.toDate():new Date(g)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"";return e?v.jsx(Rs,{children:v.jsxs(Qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:Z("fixed inset-0 z-[200] overflow-y-auto",c?"bg-slate-50":"bg-bg-dark"),children:[v.jsx("div",{className:Z("sticky top-0 z-10 backdrop-blur-md border-b",c?"bg-white/95 border-slate-200":"bg-bg-dark/95 border-white/10"),children:v.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(Tm,{className:"w-6 h-6 text-accent-gold"}),v.jsx("h1",{className:Z("text-xl font-bold",c?"text-slate-800":"text-white"),children:"2026 Memories"}),v.jsxs("span",{className:"text-sm text-slate-400",children:["(",h.length," moments)"]})]}),v.jsx("button",{onClick:n,className:Z("p-2 transition-colors rounded-full",c?"text-slate-500 hover:text-slate-800 hover:bg-slate-100":"text-slate-400 hover:text-white hover:bg-white/10"),children:v.jsx(Br,{size:24})})]})}),v.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6",children:h.length===0?v.jsxs("div",{className:"text-center py-20",children:[v.jsx(Tm,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),v.jsx("h2",{className:"text-xl font-semibold text-slate-400 mb-2",children:"No memories yet"}),v.jsx("p",{className:"text-slate-500",children:"Complete tasks and add photos to build your 2026 album!"})]}):Object.entries(d).map(([g,b])=>v.jsxs("div",{className:"mb-8",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[v.jsx(Em,{className:"w-4 h-4 text-accent-primary"}),v.jsx("h2",{className:"text-lg font-semibold text-accent-primary",children:g}),v.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-accent-primary/30 to-transparent"})]}),v.jsx("div",{className:"space-y-6",children:b.map((x,A)=>v.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:A*.1},className:Z("rounded-2xl border overflow-hidden shadow-xl",c?"bg-white border-slate-200 shadow-slate-200/50":"bg-bg-card/80 border-white/10"),children:[v.jsxs("div",{className:"relative aspect-video bg-black cursor-pointer",onClick:()=>a({memoryIdx:h.indexOf(x),photoIdx:0}),children:[v.jsx("img",{src:x.proofPhotos[0],alt:x.text,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}),x.proofPhotos.length>1&&v.jsxs("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/70 rounded-full text-white text-xs font-medium",children:["+",x.proofPhotos.length-1," more"]})]}),x.proofPhotos.length>1&&v.jsx("div",{className:"flex gap-1 p-2 bg-black/30 overflow-x-auto",children:x.proofPhotos.map((k,I)=>v.jsx("button",{onClick:()=>a({memoryIdx:h.indexOf(x),photoIdx:I}),className:"w-14 h-14 rounded-lg overflow-hidden flex-shrink-0 border-2 border-transparent hover:border-accent-primary transition-all",children:v.jsx("img",{src:k,alt:"",className:"w-full h-full object-cover"})},I))}),v.jsxs("div",{className:"p-4",children:[v.jsxs("h3",{className:Z("text-lg font-semibold mb-2 flex items-center gap-2",c?"text-slate-800":"text-white"),children:[v.jsx("span",{className:"text-accent-gold",children:x.isCompleted?"":""}),x.text]}),v.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(Am,{size:14}),x.isCompleted?x.completedBy:"In Progress"]}),x.isCompleted&&v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(Em,{size:14}),m(x.completedAt)]})]})]})]},x.id))})]},g))}),v.jsx(Rs,{children:i!==null&&h[i.memoryIdx]&&v.jsxs(Qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[300] bg-black/95 flex items-center justify-center p-4",onClick:()=>a(null),children:[v.jsx("button",{onClick:()=>a(null),className:"absolute top-4 right-4 p-2 text-white/70 hover:text-white",children:v.jsx(Br,{size:32})}),(()=>{const g=h[i.memoryIdx],b=g.proofPhotos||[],x=i.photoIdx;return v.jsxs("div",{className:"relative max-w-4xl w-full",onClick:A=>A.stopPropagation(),children:[v.jsx("img",{src:b[x],alt:"",className:"w-full max-h-[80vh] object-contain rounded-lg"}),b.length>1&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>a({...i,photoIdx:x>0?x-1:b.length-1}),className:"absolute left-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:v.jsx(tI,{size:28})}),v.jsx("button",{onClick:()=>a({...i,photoIdx:x<b.length-1?x+1:0}),className:"absolute right-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:v.jsx(nI,{size:28})})]}),v.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:[v.jsx("p",{className:"text-white font-semibold",children:g.text}),v.jsxs("p",{className:"text-slate-300 text-sm",children:[x+1," / ",b.length,"  ",m(g.completedAt)]})]})]})})()]})})]})}):null},oF=({items:t})=>{const[e,n]=S.useState([]),i=S.useRef({}),a=S.useRef(!1),{settings:l}=Oi(),c=l.theme==="light";S.useEffect(()=>{if(!a.current){t.forEach(d=>{i.current[d.id]=d.reactions?.length||0}),a.current=!0;return}t.forEach(d=>{const m=d.reactions?.length||0,g=i.current[d.id]||0;m>g&&d.reactions.slice(g).forEach(x=>{h(x)}),i.current[d.id]=m})},[t]);const h=d=>{const m=Math.random().toString(36).substring(7),g=Math.random()*80+10;n(b=>[...b,{...d,id:m,x:g}]),setTimeout(()=>{n(b=>b.filter(x=>x.id!==m))},4e3)};return v.jsx("div",{className:"fixed inset-0 pointer-events-none z-[100] overflow-hidden",children:v.jsx(Rs,{children:e.map(d=>v.jsxs(Qe.div,{initial:{y:"110vh",opacity:0,x:`${d.x}vw`,scale:.5,rotate:0},animate:{y:"-10vh",opacity:[0,1,1,0],scale:[.5,1.5,1.2],rotate:[0,-10,10,0]},transition:{duration:4,ease:"easeOut"},className:"absolute top-0 flex flex-col items-center",children:[v.jsx("span",{className:"text-6xl drop-shadow-2xl filter",children:d.emoji}),d.byName&&v.jsx("div",{className:Z("text-sm font-bold text-center mt-2 px-3 py-1 rounded-full backdrop-blur-md border shadow-lg",c?"bg-white/80 text-slate-800 border-slate-200":"bg-black/40 text-white/90 border-white/10"),children:d.byName})]},d.id))})})};function lF(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return S.useMemo(()=>i=>{e.forEach(a=>a(i))},e)}const dp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Tc(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function qb(t){return"nodeType"in t}function vi(t){var e,n;return t?Tc(t)?t:qb(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Hb(t){const{Document:e}=vi(t);return t instanceof e}function jh(t){return Tc(t)?!1:t instanceof vi(t).HTMLElement}function _I(t){return t instanceof vi(t).SVGElement}function Ec(t){return t?Tc(t)?t.document:qb(t)?Hb(t)?t:jh(t)||_I(t)?t.ownerDocument:document:document:document}const Vs=dp?S.useLayoutEffect:S.useEffect;function fp(t){const e=S.useRef(t);return Vs(()=>{e.current=t}),S.useCallback(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e.current==null?void 0:e.current(...i)},[])}function cF(){const t=S.useRef(null),e=S.useCallback((i,a)=>{t.current=setInterval(i,a)},[]),n=S.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function hh(t,e){e===void 0&&(e=[t]);const n=S.useRef(t);return Vs(()=>{n.current!==t&&(n.current=t)},e),n}function Lh(t,e){const n=S.useRef();return S.useMemo(()=>{const i=t(n.current);return n.current=i,i},[...e])}function Rm(t){const e=fp(t),n=S.useRef(null),i=S.useCallback(a=>{a!==n.current&&e?.(a,n.current),n.current=a},[]);return[n,i]}function Nm(t){const e=S.useRef();return S.useEffect(()=>{e.current=t},[t]),e.current}let Jy={};function Uh(t,e){return S.useMemo(()=>{if(e)return e;const n=Jy[t]==null?0:Jy[t]+1;return Jy[t]=n,t+"-"+n},[t,e])}function TI(t){return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return i.reduce((l,c)=>{const h=Object.entries(c);for(const[d,m]of h){const g=l[d];g!=null&&(l[d]=g+t*m)}return l},{...e})}}const ec=TI(1),dh=TI(-1);function uF(t){return"clientX"in t&&"clientY"in t}function mp(t){if(!t)return!1;const{KeyboardEvent:e}=vi(t.target);return e&&t instanceof e}function hF(t){if(!t)return!1;const{TouchEvent:e}=vi(t.target);return e&&t instanceof e}function Im(t){if(hF(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return uF(t)?{x:t.clientX,y:t.clientY}:null}const Ya=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Ya.Translate.toString(t),Ya.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:i}=t;return e+" "+n+"ms "+i}}}),FS="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function dF(t){return t.matches(FS)?t:t.querySelector(FS)}const fF={display:"none"};function mF(t){let{id:e,value:n}=t;return Et.createElement("div",{id:e,style:fF},n)}function pF(t){let{id:e,announcement:n,ariaLiveType:i="assertive"}=t;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Et.createElement("div",{id:e,style:a,role:"status","aria-live":i,"aria-atomic":!0},n)}function gF(){const[t,e]=S.useState("");return{announce:S.useCallback(i=>{i!=null&&e(i)},[]),announcement:t}}const EI=S.createContext(null);function yF(t){const e=S.useContext(EI);S.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function vF(){const[t]=S.useState(()=>new Set),e=S.useCallback(i=>(t.add(i),()=>t.delete(i)),[t]);return[S.useCallback(i=>{let{type:a,event:l}=i;t.forEach(c=>{var h;return(h=c[a])==null?void 0:h.call(c,l)})},[t]),e]}const bF={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},xF={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function wF(t){let{announcements:e=xF,container:n,hiddenTextDescribedById:i,screenReaderInstructions:a=bF}=t;const{announce:l,announcement:c}=gF(),h=Uh("DndLiveRegion"),[d,m]=S.useState(!1);if(S.useEffect(()=>{m(!0)},[]),yF(S.useMemo(()=>({onDragStart(b){let{active:x}=b;l(e.onDragStart({active:x}))},onDragMove(b){let{active:x,over:A}=b;e.onDragMove&&l(e.onDragMove({active:x,over:A}))},onDragOver(b){let{active:x,over:A}=b;l(e.onDragOver({active:x,over:A}))},onDragEnd(b){let{active:x,over:A}=b;l(e.onDragEnd({active:x,over:A}))},onDragCancel(b){let{active:x,over:A}=b;l(e.onDragCancel({active:x,over:A}))}}),[l,e])),!d)return null;const g=Et.createElement(Et.Fragment,null,Et.createElement(mF,{id:i,value:a.draggable}),Et.createElement(pF,{id:h,announcement:c}));return n?Au.createPortal(g,n):g}var Dn;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Dn||(Dn={}));function Dm(){}function qS(t,e){return S.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function _F(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return S.useMemo(()=>[...e].filter(i=>i!=null),[...e])}const js=Object.freeze({x:0,y:0});function SI(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function TF(t,e){const n=Im(t);if(!n)return"0 0";const i={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return i.x+"% "+i.y+"%"}function AI(t,e){let{data:{value:n}}=t,{data:{value:i}}=e;return n-i}function EF(t,e){let{data:{value:n}}=t,{data:{value:i}}=e;return i-n}function HS(t){let{left:e,top:n,height:i,width:a}=t;return[{x:e,y:n},{x:e+a,y:n},{x:e,y:n+i},{x:e+a,y:n+i}]}function CI(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function GS(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const SF=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:i}=t;const a=GS(e,e.left,e.top),l=[];for(const c of i){const{id:h}=c,d=n.get(h);if(d){const m=SI(GS(d),a);l.push({id:h,data:{droppableContainer:c,value:m}})}}return l.sort(AI)},AF=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:i}=t;const a=HS(e),l=[];for(const c of i){const{id:h}=c,d=n.get(h);if(d){const m=HS(d),g=a.reduce((x,A,k)=>x+SI(m[k],A),0),b=Number((g/4).toFixed(4));l.push({id:h,data:{droppableContainer:c,value:b}})}}return l.sort(AI)};function CF(t,e){const n=Math.max(e.top,t.top),i=Math.max(e.left,t.left),a=Math.min(e.left+e.width,t.left+t.width),l=Math.min(e.top+e.height,t.top+t.height),c=a-i,h=l-n;if(i<a&&n<l){const d=e.width*e.height,m=t.width*t.height,g=c*h,b=g/(d+m-g);return Number(b.toFixed(4))}return 0}const RF=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:i}=t;const a=[];for(const l of i){const{id:c}=l,h=n.get(c);if(h){const d=CF(h,e);d>0&&a.push({id:c,data:{droppableContainer:l,value:d}})}}return a.sort(EF)};function NF(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function RI(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:js}function IF(t){return function(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),l=1;l<i;l++)a[l-1]=arguments[l];return a.reduce((c,h)=>({...c,top:c.top+t*h.y,bottom:c.bottom+t*h.y,left:c.left+t*h.x,right:c.right+t*h.x}),{...n})}}const DF=IF(1);function NI(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function kF(t,e,n){const i=NI(e);if(!i)return t;const{scaleX:a,scaleY:l,x:c,y:h}=i,d=t.left-c-(1-a)*parseFloat(n),m=t.top-h-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),g=a?t.width/a:t.width,b=l?t.height/l:t.height;return{width:g,height:b,top:m,right:d+g,bottom:m+b,left:d}}const MF={ignoreTransform:!1};function Sc(t,e){e===void 0&&(e=MF);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:m,transformOrigin:g}=vi(t).getComputedStyle(t);m&&(n=kF(n,m,g))}const{top:i,left:a,width:l,height:c,bottom:h,right:d}=n;return{top:i,left:a,width:l,height:c,bottom:h,right:d}}function $S(t){return Sc(t,{ignoreTransform:!0})}function PF(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function OF(t,e){return e===void 0&&(e=vi(t).getComputedStyle(t)),e.position==="fixed"}function VF(t,e){e===void 0&&(e=vi(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const l=e[a];return typeof l=="string"?n.test(l):!1})}function pp(t,e){const n=[];function i(a){if(e!=null&&n.length>=e||!a)return n;if(Hb(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!jh(a)||_I(a)||n.includes(a))return n;const l=vi(t).getComputedStyle(a);return a!==t&&VF(a,l)&&n.push(a),OF(a,l)?n:i(a.parentNode)}return t?i(t):n}function II(t){const[e]=pp(t,1);return e??null}function Zy(t){return!dp||!t?null:Tc(t)?t:qb(t)?Hb(t)||t===Ec(t).scrollingElement?window:jh(t)?t:null:null}function DI(t){return Tc(t)?t.scrollX:t.scrollLeft}function kI(t){return Tc(t)?t.scrollY:t.scrollTop}function tv(t){return{x:DI(t),y:kI(t)}}var zn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(zn||(zn={}));function MI(t){return!dp||!t?!1:t===document.scrollingElement}function PI(t){const e={x:0,y:0},n=MI(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},i={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},a=t.scrollTop<=e.y,l=t.scrollLeft<=e.x,c=t.scrollTop>=i.y,h=t.scrollLeft>=i.x;return{isTop:a,isLeft:l,isBottom:c,isRight:h,maxScroll:i,minScroll:e}}const jF={x:.2,y:.2};function LF(t,e,n,i,a){let{top:l,left:c,right:h,bottom:d}=n;i===void 0&&(i=10),a===void 0&&(a=jF);const{isTop:m,isBottom:g,isLeft:b,isRight:x}=PI(t),A={x:0,y:0},k={x:0,y:0},I={height:e.height*a.y,width:e.width*a.x};return!m&&l<=e.top+I.height?(A.y=zn.Backward,k.y=i*Math.abs((e.top+I.height-l)/I.height)):!g&&d>=e.bottom-I.height&&(A.y=zn.Forward,k.y=i*Math.abs((e.bottom-I.height-d)/I.height)),!x&&h>=e.right-I.width?(A.x=zn.Forward,k.x=i*Math.abs((e.right-I.width-h)/I.width)):!b&&c<=e.left+I.width&&(A.x=zn.Backward,k.x=i*Math.abs((e.left+I.width-c)/I.width)),{direction:A,speed:k}}function UF(t){if(t===document.scrollingElement){const{innerWidth:l,innerHeight:c}=window;return{top:0,left:0,right:l,bottom:c,width:l,height:c}}const{top:e,left:n,right:i,bottom:a}=t.getBoundingClientRect();return{top:e,left:n,right:i,bottom:a,width:t.clientWidth,height:t.clientHeight}}function OI(t){return t.reduce((e,n)=>ec(e,tv(n)),js)}function zF(t){return t.reduce((e,n)=>e+DI(n),0)}function BF(t){return t.reduce((e,n)=>e+kI(n),0)}function VI(t,e){if(e===void 0&&(e=Sc),!t)return;const{top:n,left:i,bottom:a,right:l}=e(t);II(t)&&(a<=0||l<=0||n>=window.innerHeight||i>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const FF=[["x",["left","right"],zF],["y",["top","bottom"],BF]];class Gb{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=pp(n),a=OI(i);this.rect={...e},this.width=e.width,this.height=e.height;for(const[l,c,h]of FF)for(const d of c)Object.defineProperty(this,d,{get:()=>{const m=h(i),g=a[l]-m;return this.rect[d]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class $u{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...n)})},this.target=e}add(e,n,i){var a;(a=this.target)==null||a.addEventListener(e,n,i),this.listeners.push([e,n,i])}}function qF(t){const{EventTarget:e}=vi(t);return t instanceof e?t:Ec(t)}function e0(t,e){const n=Math.abs(t.x),i=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+i**2)>e:"x"in e&&"y"in e?n>e.x&&i>e.y:"x"in e?n>e.x:"y"in e?i>e.y:!1}var ls;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(ls||(ls={}));function KS(t){t.preventDefault()}function HF(t){t.stopPropagation()}var ct;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(ct||(ct={}));const jI={start:[ct.Space,ct.Enter],cancel:[ct.Esc],end:[ct.Space,ct.Enter,ct.Tab]},GF=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case ct.Right:return{...n,x:n.x+25};case ct.Left:return{...n,x:n.x-25};case ct.Down:return{...n,y:n.y+25};case ct.Up:return{...n,y:n.y-25}}};class $b{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new $u(Ec(n)),this.windowListeners=new $u(vi(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ls.Resize,this.handleCancel),this.windowListeners.add(ls.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ls.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,i=e.node.current;i&&VI(i),n(js)}handleKeyDown(e){if(mp(e)){const{active:n,context:i,options:a}=this.props,{keyboardCodes:l=jI,coordinateGetter:c=GF,scrollBehavior:h="smooth"}=a,{code:d}=e;if(l.end.includes(d)){this.handleEnd(e);return}if(l.cancel.includes(d)){this.handleCancel(e);return}const{collisionRect:m}=i.current,g=m?{x:m.left,y:m.top}:js;this.referenceCoordinates||(this.referenceCoordinates=g);const b=c(e,{active:n,context:i.current,currentCoordinates:g});if(b){const x=dh(b,g),A={x:0,y:0},{scrollableAncestors:k}=i.current;for(const I of k){const N=e.code,{isTop:B,isRight:H,isLeft:q,isBottom:oe,maxScroll:se,minScroll:ue}=PI(I),D=UF(I),C={x:Math.min(N===ct.Right?D.right-D.width/2:D.right,Math.max(N===ct.Right?D.left:D.left+D.width/2,b.x)),y:Math.min(N===ct.Down?D.bottom-D.height/2:D.bottom,Math.max(N===ct.Down?D.top:D.top+D.height/2,b.y))},P=N===ct.Right&&!H||N===ct.Left&&!q,U=N===ct.Down&&!oe||N===ct.Up&&!B;if(P&&C.x!==b.x){const z=I.scrollLeft+x.x,V=N===ct.Right&&z<=se.x||N===ct.Left&&z>=ue.x;if(V&&!x.y){I.scrollTo({left:z,behavior:h});return}V?A.x=I.scrollLeft-z:A.x=N===ct.Right?I.scrollLeft-se.x:I.scrollLeft-ue.x,A.x&&I.scrollBy({left:-A.x,behavior:h});break}else if(U&&C.y!==b.y){const z=I.scrollTop+x.y,V=N===ct.Down&&z<=se.y||N===ct.Up&&z>=ue.y;if(V&&!x.x){I.scrollTo({top:z,behavior:h});return}V?A.y=I.scrollTop-z:A.y=N===ct.Down?I.scrollTop-se.y:I.scrollTop-ue.y,A.y&&I.scrollBy({top:-A.y,behavior:h});break}}this.handleMove(e,ec(dh(b,this.referenceCoordinates),A))}}}handleMove(e,n){const{onMove:i}=this.props;e.preventDefault(),i(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}$b.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:i=jI,onActivation:a}=e,{active:l}=n;const{code:c}=t.nativeEvent;if(i.start.includes(c)){const h=l.activatorNode.current;return h&&t.target!==h?!1:(t.preventDefault(),a?.({event:t.nativeEvent}),!0)}return!1}}];function YS(t){return!!(t&&"distance"in t)}function XS(t){return!!(t&&"delay"in t)}class Kb{constructor(e,n,i){var a;i===void 0&&(i=qF(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:l}=e,{target:c}=l;this.props=e,this.events=n,this.document=Ec(c),this.documentListeners=new $u(this.document),this.listeners=new $u(i),this.windowListeners=new $u(vi(c)),this.initialCoordinates=(a=Im(l))!=null?a:js,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:i}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(ls.Resize,this.handleCancel),this.windowListeners.add(ls.DragStart,KS),this.windowListeners.add(ls.VisibilityChange,this.handleCancel),this.windowListeners.add(ls.ContextMenu,KS),this.documentListeners.add(ls.Keydown,this.handleKeydown),n){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(XS(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(YS(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:i,onPending:a}=this.props;a(i,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(ls.Click,HF,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ls.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:i,initialCoordinates:a,props:l}=this,{onMove:c,options:{activationConstraint:h}}=l;if(!a)return;const d=(n=Im(e))!=null?n:js,m=dh(a,d);if(!i&&h){if(YS(h)){if(h.tolerance!=null&&e0(m,h.tolerance))return this.handleCancel();if(e0(m,h.distance))return this.handleStart()}if(XS(h)&&e0(m,h.tolerance))return this.handleCancel();this.handlePending(h,m);return}e.cancelable&&e.preventDefault(),c(d)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===ct.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const $F={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Yb extends Kb{constructor(e){const{event:n}=e,i=Ec(n.target);super(e,$F,i)}}Yb.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;return!n.isPrimary||n.button!==0?!1:(i?.({event:n}),!0)}}];const KF={move:{name:"mousemove"},end:{name:"mouseup"}};var nv;(function(t){t[t.RightClick=2]="RightClick"})(nv||(nv={}));class YF extends Kb{constructor(e){super(e,KF,Ec(e.event.target))}}YF.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;return n.button===nv.RightClick?!1:(i?.({event:n}),!0)}}];const t0={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class XF extends Kb{constructor(e){super(e,t0)}static setup(){return window.addEventListener(t0.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(t0.move.name,e)};function e(){}}}XF.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;const{touches:a}=n;return a.length>1?!1:(i?.({event:n}),!0)}}];var Ku;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Ku||(Ku={}));var km;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(km||(km={}));function WF(t){let{acceleration:e,activator:n=Ku.Pointer,canScroll:i,draggingRect:a,enabled:l,interval:c=5,order:h=km.TreeOrder,pointerCoordinates:d,scrollableAncestors:m,scrollableAncestorRects:g,delta:b,threshold:x}=t;const A=JF({delta:b,disabled:!l}),[k,I]=cF(),N=S.useRef({x:0,y:0}),B=S.useRef({x:0,y:0}),H=S.useMemo(()=>{switch(n){case Ku.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Ku.DraggableRect:return a}},[n,a,d]),q=S.useRef(null),oe=S.useCallback(()=>{const ue=q.current;if(!ue)return;const D=N.current.x*B.current.x,C=N.current.y*B.current.y;ue.scrollBy(D,C)},[]),se=S.useMemo(()=>h===km.TreeOrder?[...m].reverse():m,[h,m]);S.useEffect(()=>{if(!l||!m.length||!H){I();return}for(const ue of se){if(i?.(ue)===!1)continue;const D=m.indexOf(ue),C=g[D];if(!C)continue;const{direction:P,speed:U}=LF(ue,C,H,e,x);for(const z of["x","y"])A[z][P[z]]||(U[z]=0,P[z]=0);if(U.x>0||U.y>0){I(),q.current=ue,k(oe,c),N.current=U,B.current=P;return}}N.current={x:0,y:0},B.current={x:0,y:0},I()},[e,oe,i,I,l,c,JSON.stringify(H),JSON.stringify(A),k,m,se,g,JSON.stringify(x)])}const QF={x:{[zn.Backward]:!1,[zn.Forward]:!1},y:{[zn.Backward]:!1,[zn.Forward]:!1}};function JF(t){let{delta:e,disabled:n}=t;const i=Nm(e);return Lh(a=>{if(n||!i||!a)return QF;const l={x:Math.sign(e.x-i.x),y:Math.sign(e.y-i.y)};return{x:{[zn.Backward]:a.x[zn.Backward]||l.x===-1,[zn.Forward]:a.x[zn.Forward]||l.x===1},y:{[zn.Backward]:a.y[zn.Backward]||l.y===-1,[zn.Forward]:a.y[zn.Forward]||l.y===1}}},[n,e,i])}function ZF(t,e){const n=e!=null?t.get(e):void 0,i=n?n.node.current:null;return Lh(a=>{var l;return e==null?null:(l=i??a)!=null?l:null},[i,e])}function e7(t,e){return S.useMemo(()=>t.reduce((n,i)=>{const{sensor:a}=i,l=a.activators.map(c=>({eventName:c.eventName,handler:e(c.handler,i)}));return[...n,...l]},[]),[t,e])}var fh;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(fh||(fh={}));var iv;(function(t){t.Optimized="optimized"})(iv||(iv={}));const WS=new Map;function t7(t,e){let{dragging:n,dependencies:i,config:a}=e;const[l,c]=S.useState(null),{frequency:h,measure:d,strategy:m}=a,g=S.useRef(t),b=N(),x=hh(b),A=S.useCallback(function(B){B===void 0&&(B=[]),!x.current&&c(H=>H===null?B:H.concat(B.filter(q=>!H.includes(q))))},[x]),k=S.useRef(null),I=Lh(B=>{if(b&&!n)return WS;if(!B||B===WS||g.current!==t||l!=null){const H=new Map;for(let q of t){if(!q)continue;if(l&&l.length>0&&!l.includes(q.id)&&q.rect.current){H.set(q.id,q.rect.current);continue}const oe=q.node.current,se=oe?new Gb(d(oe),oe):null;q.rect.current=se,se&&H.set(q.id,se)}return H}return B},[t,l,n,b,d]);return S.useEffect(()=>{g.current=t},[t]),S.useEffect(()=>{b||A()},[n,b]),S.useEffect(()=>{l&&l.length>0&&c(null)},[JSON.stringify(l)]),S.useEffect(()=>{b||typeof h!="number"||k.current!==null||(k.current=setTimeout(()=>{A(),k.current=null},h))},[h,b,A,...i]),{droppableRects:I,measureDroppableContainers:A,measuringScheduled:l!=null};function N(){switch(m){case fh.Always:return!1;case fh.BeforeDragging:return n;default:return!n}}}function Xb(t,e){return Lh(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function n7(t,e){return Xb(t,e)}function i7(t){let{callback:e,disabled:n}=t;const i=fp(e),a=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(i)},[i,n]);return S.useEffect(()=>()=>a?.disconnect(),[a]),a}function gp(t){let{callback:e,disabled:n}=t;const i=fp(e),a=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(i)},[n]);return S.useEffect(()=>()=>a?.disconnect(),[a]),a}function s7(t){return new Gb(Sc(t),t)}function QS(t,e,n){e===void 0&&(e=s7);const[i,a]=S.useState(null);function l(){a(d=>{if(!t)return null;if(t.isConnected===!1){var m;return(m=d??n)!=null?m:null}const g=e(t);return JSON.stringify(d)===JSON.stringify(g)?d:g})}const c=i7({callback(d){if(t)for(const m of d){const{type:g,target:b}=m;if(g==="childList"&&b instanceof HTMLElement&&b.contains(t)){l();break}}}}),h=gp({callback:l});return Vs(()=>{l(),t?(h?.observe(t),c?.observe(document.body,{childList:!0,subtree:!0})):(h?.disconnect(),c?.disconnect())},[t]),i}function r7(t){const e=Xb(t);return RI(t,e)}const JS=[];function a7(t){const e=S.useRef(t),n=Lh(i=>t?i&&i!==JS&&t&&e.current&&t.parentNode===e.current.parentNode?i:pp(t):JS,[t]);return S.useEffect(()=>{e.current=t},[t]),n}function o7(t){const[e,n]=S.useState(null),i=S.useRef(t),a=S.useCallback(l=>{const c=Zy(l.target);c&&n(h=>h?(h.set(c,tv(c)),new Map(h)):null)},[]);return S.useEffect(()=>{const l=i.current;if(t!==l){c(l);const h=t.map(d=>{const m=Zy(d);return m?(m.addEventListener("scroll",a,{passive:!0}),[m,tv(m)]):null}).filter(d=>d!=null);n(h.length?new Map(h):null),i.current=t}return()=>{c(t),c(l)};function c(h){h.forEach(d=>{const m=Zy(d);m?.removeEventListener("scroll",a)})}},[a,t]),S.useMemo(()=>t.length?e?Array.from(e.values()).reduce((l,c)=>ec(l,c),js):OI(t):js,[t,e])}function ZS(t,e){e===void 0&&(e=[]);const n=S.useRef(null);return S.useEffect(()=>{n.current=null},e),S.useEffect(()=>{const i=t!==js;i&&!n.current&&(n.current=t),!i&&n.current&&(n.current=null)},[t]),n.current?dh(t,n.current):js}function l7(t){S.useEffect(()=>{if(!dp)return;const e=t.map(n=>{let{sensor:i}=n;return i.setup==null?void 0:i.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function c7(t,e){return S.useMemo(()=>t.reduce((n,i)=>{let{eventName:a,handler:l}=i;return n[a]=c=>{l(c,e)},n},{}),[t,e])}function LI(t){return S.useMemo(()=>t?PF(t):null,[t])}const eA=[];function u7(t,e){e===void 0&&(e=Sc);const[n]=t,i=LI(n?vi(n):null),[a,l]=S.useState(eA);function c(){l(()=>t.length?t.map(d=>MI(d)?i:new Gb(e(d),d)):eA)}const h=gp({callback:c});return Vs(()=>{h?.disconnect(),c(),t.forEach(d=>h?.observe(d))},[t]),a}function UI(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return jh(e)?e:t}function h7(t){let{measure:e}=t;const[n,i]=S.useState(null),a=S.useCallback(m=>{for(const{target:g}of m)if(jh(g)){i(b=>{const x=e(g);return b?{...b,width:x.width,height:x.height}:x});break}},[e]),l=gp({callback:a}),c=S.useCallback(m=>{const g=UI(m);l?.disconnect(),g&&l?.observe(g),i(g?e(g):null)},[e,l]),[h,d]=Rm(c);return S.useMemo(()=>({nodeRef:h,rect:n,setRef:d}),[n,h,d])}const d7=[{sensor:Yb,options:{}},{sensor:$b,options:{}}],f7={current:{}},Ff={draggable:{measure:$S},droppable:{measure:$S,strategy:fh.WhileDragging,frequency:iv.Optimized},dragOverlay:{measure:Sc}};class Yu extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,i;return(n=(i=this.get(e))==null?void 0:i.node.current)!=null?n:void 0}}const m7={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Yu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Dm},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ff,measureDroppableContainers:Dm,windowRect:null,measuringScheduled:!1},zI={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Dm,draggableNodes:new Map,over:null,measureDroppableContainers:Dm},zh=S.createContext(zI),BI=S.createContext(m7);function p7(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Yu}}}function g7(t,e){switch(e.type){case Dn.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Dn.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Dn.DragEnd:case Dn.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Dn.RegisterDroppable:{const{element:n}=e,{id:i}=n,a=new Yu(t.droppable.containers);return a.set(i,n),{...t,droppable:{...t.droppable,containers:a}}}case Dn.SetDroppableDisabled:{const{id:n,key:i,disabled:a}=e,l=t.droppable.containers.get(n);if(!l||i!==l.key)return t;const c=new Yu(t.droppable.containers);return c.set(n,{...l,disabled:a}),{...t,droppable:{...t.droppable,containers:c}}}case Dn.UnregisterDroppable:{const{id:n,key:i}=e,a=t.droppable.containers.get(n);if(!a||i!==a.key)return t;const l=new Yu(t.droppable.containers);return l.delete(n),{...t,droppable:{...t.droppable,containers:l}}}default:return t}}function y7(t){let{disabled:e}=t;const{active:n,activatorEvent:i,draggableNodes:a}=S.useContext(zh),l=Nm(i),c=Nm(n?.id);return S.useEffect(()=>{if(!e&&!i&&l&&c!=null){if(!mp(l)||document.activeElement===l.target)return;const h=a.get(c);if(!h)return;const{activatorNode:d,node:m}=h;if(!d.current&&!m.current)return;requestAnimationFrame(()=>{for(const g of[d.current,m.current]){if(!g)continue;const b=dF(g);if(b){b.focus();break}}})}},[i,e,a,c,l]),null}function FI(t,e){let{transform:n,...i}=e;return t!=null&&t.length?t.reduce((a,l)=>l({transform:a,...i}),n):n}function v7(t){return S.useMemo(()=>({draggable:{...Ff.draggable,...t?.draggable},droppable:{...Ff.droppable,...t?.droppable},dragOverlay:{...Ff.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function b7(t){let{activeNode:e,measure:n,initialRect:i,config:a=!0}=t;const l=S.useRef(!1),{x:c,y:h}=typeof a=="boolean"?{x:a,y:a}:a;Vs(()=>{if(!c&&!h||!e){l.current=!1;return}if(l.current||!i)return;const m=e?.node.current;if(!m||m.isConnected===!1)return;const g=n(m),b=RI(g,i);if(c||(b.x=0),h||(b.y=0),l.current=!0,Math.abs(b.x)>0||Math.abs(b.y)>0){const x=II(m);x&&x.scrollBy({top:b.y,left:b.x})}},[e,c,h,i,n])}const yp=S.createContext({...js,scaleX:1,scaleY:1});var Ia;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Ia||(Ia={}));const x7=S.memo(function(e){var n,i,a,l;let{id:c,accessibility:h,autoScroll:d=!0,children:m,sensors:g=d7,collisionDetection:b=RF,measuring:x,modifiers:A,...k}=e;const I=S.useReducer(g7,void 0,p7),[N,B]=I,[H,q]=vF(),[oe,se]=S.useState(Ia.Uninitialized),ue=oe===Ia.Initialized,{draggable:{active:D,nodes:C,translate:P},droppable:{containers:U}}=N,z=D!=null?C.get(D):null,V=S.useRef({initial:null,translated:null}),O=S.useMemo(()=>{var Ve;return D!=null?{id:D,data:(Ve=z?.data)!=null?Ve:f7,rect:V}:null},[D,z]),we=S.useRef(null),[xe,J]=S.useState(null),[X,$]=S.useState(null),K=hh(k,Object.values(k)),j=Uh("DndDescribedBy",c),T=S.useMemo(()=>U.getEnabled(),[U]),L=v7(x),{droppableRects:Y,measureDroppableContainers:ne,measuringScheduled:pe}=t7(T,{dragging:ue,dependencies:[P.x,P.y],config:L.droppable}),ye=ZF(C,D),ge=S.useMemo(()=>X?Im(X):null,[X]),Ee=Ti(),Te=n7(ye,L.draggable.measure);b7({activeNode:D!=null?C.get(D):null,config:Ee.layoutShiftCompensation,initialRect:Te,measure:L.draggable.measure});const Se=QS(ye,L.draggable.measure,Te),Be=QS(ye?ye.parentElement:null),Ue=S.useRef({activatorEvent:null,active:null,activeNode:ye,collisionRect:null,collisions:null,droppableRects:Y,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:U,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),et=U.getNodeFor((n=Ue.current.over)==null?void 0:n.id),ke=h7({measure:L.dragOverlay.measure}),yt=(i=ke.nodeRef.current)!=null?i:ye,vt=ue?(a=ke.rect)!=null?a:Se:null,Kt=!!(ke.nodeRef.current&&ke.rect),Yt=r7(Kt?null:Se),ot=LI(yt?vi(yt):null),$e=a7(ue?et??ye:null),Cn=u7($e),sn=FI(A,{transform:{x:P.x-Yt.x,y:P.y-Yt.y,scaleX:1,scaleY:1},activatorEvent:X,active:O,activeNodeRect:Se,containerNodeRect:Be,draggingNodeRect:vt,over:Ue.current.over,overlayNodeRect:ke.rect,scrollableAncestors:$e,scrollableAncestorRects:Cn,windowRect:ot}),ci=ge?ec(ge,P):null,Ut=o7($e),bi=ZS(Ut),xi=ZS(Ut,[Se]),Mn=ec(sn,bi),Dt=vt?DF(vt,sn):null,ui=O&&Dt?b({active:O,collisionRect:Dt,droppableRects:Y,droppableContainers:T,pointerCoordinates:ci}):null,wi=CI(ui,"id"),[pn,ps]=S.useState(null),Pn=Kt?sn:ec(sn,xi),bt=NF(Pn,(l=pn?.rect)!=null?l:null,Se),On=S.useRef(null),St=S.useCallback((Ve,xt)=>{let{sensor:kt,options:zt}=xt;if(we.current==null)return;const rn=C.get(we.current);if(!rn)return;const gn=Ve.nativeEvent,Xt=new kt({active:we.current,activeNode:rn,event:gn,options:zt,context:Ue,onAbort(Wt){if(!C.get(Wt))return;const{onDragAbort:Qt}=K.current,Pt={id:Wt};Qt?.(Pt),H({type:"onDragAbort",event:Pt})},onPending(Wt,Vn,Qt,Pt){if(!C.get(Wt))return;const{onDragPending:Jt}=K.current,Jn={id:Wt,constraint:Vn,initialCoordinates:Qt,offset:Pt};Jt?.(Jn),H({type:"onDragPending",event:Jn})},onStart(Wt){const Vn=we.current;if(Vn==null)return;const Qt=C.get(Vn);if(!Qt)return;const{onDragStart:Pt}=K.current,yn={activatorEvent:gn,active:{id:Vn,data:Qt.data,rect:V}};Au.unstable_batchedUpdates(()=>{Pt?.(yn),se(Ia.Initializing),B({type:Dn.DragStart,initialCoordinates:Wt,active:Vn}),H({type:"onDragStart",event:yn}),J(On.current),$(gn)})},onMove(Wt){B({type:Dn.DragMove,coordinates:Wt})},onEnd:Qn(Dn.DragEnd),onCancel:Qn(Dn.DragCancel)});On.current=Xt;function Qn(Wt){return async function(){const{active:Qt,collisions:Pt,over:yn,scrollAdjustedTranslate:Jt}=Ue.current;let Jn=null;if(Qt&&Jt){const{cancelDrop:un}=K.current;Jn={activatorEvent:gn,active:Qt,collisions:Pt,delta:Jt,over:yn},Wt===Dn.DragEnd&&typeof un=="function"&&await Promise.resolve(un(Jn))&&(Wt=Dn.DragCancel)}we.current=null,Au.unstable_batchedUpdates(()=>{B({type:Wt}),se(Ia.Uninitialized),ps(null),J(null),$(null),On.current=null;const un=Wt===Dn.DragEnd?"onDragEnd":"onDragCancel";if(Jn){const qn=K.current[un];qn?.(Jn),H({type:un,event:Jn})}})}}},[C]),Xr=S.useCallback((Ve,xt)=>(kt,zt)=>{const rn=kt.nativeEvent,gn=C.get(zt);if(we.current!==null||!gn||rn.dndKit||rn.defaultPrevented)return;const Xt={active:gn};Ve(kt,xt.options,Xt)===!0&&(rn.dndKit={capturedBy:xt.sensor},we.current=zt,St(kt,xt))},[C,St]),gs=e7(g,Xr);l7(g),Vs(()=>{Se&&oe===Ia.Initializing&&se(Ia.Initialized)},[Se,oe]),S.useEffect(()=>{const{onDragMove:Ve}=K.current,{active:xt,activatorEvent:kt,collisions:zt,over:rn}=Ue.current;if(!xt||!kt)return;const gn={active:xt,activatorEvent:kt,collisions:zt,delta:{x:Mn.x,y:Mn.y},over:rn};Au.unstable_batchedUpdates(()=>{Ve?.(gn),H({type:"onDragMove",event:gn})})},[Mn.x,Mn.y]),S.useEffect(()=>{const{active:Ve,activatorEvent:xt,collisions:kt,droppableContainers:zt,scrollAdjustedTranslate:rn}=Ue.current;if(!Ve||we.current==null||!xt||!rn)return;const{onDragOver:gn}=K.current,Xt=zt.get(wi),Qn=Xt&&Xt.rect.current?{id:Xt.id,rect:Xt.rect.current,data:Xt.data,disabled:Xt.disabled}:null,Wt={active:Ve,activatorEvent:xt,collisions:kt,delta:{x:rn.x,y:rn.y},over:Qn};Au.unstable_batchedUpdates(()=>{ps(Qn),gn?.(Wt),H({type:"onDragOver",event:Wt})})},[wi]),Vs(()=>{Ue.current={activatorEvent:X,active:O,activeNode:ye,collisionRect:Dt,collisions:ui,droppableRects:Y,draggableNodes:C,draggingNode:yt,draggingNodeRect:vt,droppableContainers:U,over:pn,scrollableAncestors:$e,scrollAdjustedTranslate:Mn},V.current={initial:vt,translated:Dt}},[O,ye,ui,Dt,C,yt,vt,Y,U,pn,$e,Mn]),WF({...Ee,delta:P,draggingRect:Dt,pointerCoordinates:ci,scrollableAncestors:$e,scrollableAncestorRects:Cn});const ys=S.useMemo(()=>({active:O,activeNode:ye,activeNodeRect:Se,activatorEvent:X,collisions:ui,containerNodeRect:Be,dragOverlay:ke,draggableNodes:C,droppableContainers:U,droppableRects:Y,over:pn,measureDroppableContainers:ne,scrollableAncestors:$e,scrollableAncestorRects:Cn,measuringConfiguration:L,measuringScheduled:pe,windowRect:ot}),[O,ye,Se,X,ui,Be,ke,C,U,Y,pn,ne,$e,Cn,L,pe,ot]),_i=S.useMemo(()=>({activatorEvent:X,activators:gs,active:O,activeNodeRect:Se,ariaDescribedById:{draggable:j},dispatch:B,draggableNodes:C,over:pn,measureDroppableContainers:ne}),[X,gs,O,Se,B,j,C,pn,ne]);return Et.createElement(EI.Provider,{value:q},Et.createElement(zh.Provider,{value:_i},Et.createElement(BI.Provider,{value:ys},Et.createElement(yp.Provider,{value:bt},m)),Et.createElement(y7,{disabled:h?.restoreFocus===!1})),Et.createElement(wF,{...h,hiddenTextDescribedById:j}));function Ti(){const Ve=xe?.autoScrollEnabled===!1,xt=typeof d=="object"?d.enabled===!1:d===!1,kt=ue&&!Ve&&!xt;return typeof d=="object"?{...d,enabled:kt}:{enabled:kt}}}),w7=S.createContext(null),tA="button",_7="Draggable";function T7(t){let{id:e,data:n,disabled:i=!1,attributes:a}=t;const l=Uh(_7),{activators:c,activatorEvent:h,active:d,activeNodeRect:m,ariaDescribedById:g,draggableNodes:b,over:x}=S.useContext(zh),{role:A=tA,roleDescription:k="draggable",tabIndex:I=0}=a??{},N=d?.id===e,B=S.useContext(N?yp:w7),[H,q]=Rm(),[oe,se]=Rm(),ue=c7(c,e),D=hh(n);Vs(()=>(b.set(e,{id:e,key:l,node:H,activatorNode:oe,data:D}),()=>{const P=b.get(e);P&&P.key===l&&b.delete(e)}),[b,e]);const C=S.useMemo(()=>({role:A,tabIndex:I,"aria-disabled":i,"aria-pressed":N&&A===tA?!0:void 0,"aria-roledescription":k,"aria-describedby":g.draggable}),[i,A,I,N,k,g.draggable]);return{active:d,activatorEvent:h,activeNodeRect:m,attributes:C,isDragging:N,listeners:i?void 0:ue,node:H,over:x,setNodeRef:q,setActivatorNodeRef:se,transform:B}}function qI(){return S.useContext(BI)}const E7="Droppable",S7={timeout:25};function A7(t){let{data:e,disabled:n=!1,id:i,resizeObserverConfig:a}=t;const l=Uh(E7),{active:c,dispatch:h,over:d,measureDroppableContainers:m}=S.useContext(zh),g=S.useRef({disabled:n}),b=S.useRef(!1),x=S.useRef(null),A=S.useRef(null),{disabled:k,updateMeasurementsFor:I,timeout:N}={...S7,...a},B=hh(I??i),H=S.useCallback(()=>{if(!b.current){b.current=!0;return}A.current!=null&&clearTimeout(A.current),A.current=setTimeout(()=>{m(Array.isArray(B.current)?B.current:[B.current]),A.current=null},N)},[N]),q=gp({callback:H,disabled:k||!c}),oe=S.useCallback((C,P)=>{q&&(P&&(q.unobserve(P),b.current=!1),C&&q.observe(C))},[q]),[se,ue]=Rm(oe),D=hh(e);return S.useEffect(()=>{!q||!se.current||(q.disconnect(),b.current=!1,q.observe(se.current))},[se,q]),S.useEffect(()=>(h({type:Dn.RegisterDroppable,element:{id:i,key:l,disabled:n,node:se,rect:x,data:D}}),()=>h({type:Dn.UnregisterDroppable,key:l,id:i})),[i]),S.useEffect(()=>{n!==g.current.disabled&&(h({type:Dn.SetDroppableDisabled,id:i,key:l,disabled:n}),g.current.disabled=n)},[i,l,n,h]),{active:c,rect:x,isOver:d?.id===i,node:se,over:d,setNodeRef:ue}}function C7(t){let{animation:e,children:n}=t;const[i,a]=S.useState(null),[l,c]=S.useState(null),h=Nm(n);return!n&&!i&&h&&a(h),Vs(()=>{if(!l)return;const d=i?.key,m=i?.props.id;if(d==null||m==null){a(null);return}Promise.resolve(e(m,l)).then(()=>{a(null)})},[e,i,l]),Et.createElement(Et.Fragment,null,n,i?S.cloneElement(i,{ref:c}):null)}const R7={x:0,y:0,scaleX:1,scaleY:1};function N7(t){let{children:e}=t;return Et.createElement(zh.Provider,{value:zI},Et.createElement(yp.Provider,{value:R7},e))}const I7={position:"fixed",touchAction:"none"},D7=t=>mp(t)?"transform 250ms ease":void 0,k7=S.forwardRef((t,e)=>{let{as:n,activatorEvent:i,adjustScale:a,children:l,className:c,rect:h,style:d,transform:m,transition:g=D7}=t;if(!h)return null;const b=a?m:{...m,scaleX:1,scaleY:1},x={...I7,width:h.width,height:h.height,top:h.top,left:h.left,transform:Ya.Transform.toString(b),transformOrigin:a&&i?TF(i,h):void 0,transition:typeof g=="function"?g(i):g,...d};return Et.createElement(n,{className:c,style:x,ref:e},l)}),M7=t=>e=>{let{active:n,dragOverlay:i}=e;const a={},{styles:l,className:c}=t;if(l!=null&&l.active)for(const[h,d]of Object.entries(l.active))d!==void 0&&(a[h]=n.node.style.getPropertyValue(h),n.node.style.setProperty(h,d));if(l!=null&&l.dragOverlay)for(const[h,d]of Object.entries(l.dragOverlay))d!==void 0&&i.node.style.setProperty(h,d);return c!=null&&c.active&&n.node.classList.add(c.active),c!=null&&c.dragOverlay&&i.node.classList.add(c.dragOverlay),function(){for(const[d,m]of Object.entries(a))n.node.style.setProperty(d,m);c!=null&&c.active&&n.node.classList.remove(c.active)}},P7=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:Ya.Transform.toString(e)},{transform:Ya.Transform.toString(n)}]},O7={duration:250,easing:"ease",keyframes:P7,sideEffects:M7({styles:{active:{opacity:"0"}}})};function V7(t){let{config:e,draggableNodes:n,droppableContainers:i,measuringConfiguration:a}=t;return fp((l,c)=>{if(e===null)return;const h=n.get(l);if(!h)return;const d=h.node.current;if(!d)return;const m=UI(c);if(!m)return;const{transform:g}=vi(c).getComputedStyle(c),b=NI(g);if(!b)return;const x=typeof e=="function"?e:j7(e);return VI(d,a.draggable.measure),x({active:{id:l,data:h.data,node:d,rect:a.draggable.measure(d)},draggableNodes:n,dragOverlay:{node:c,rect:a.dragOverlay.measure(m)},droppableContainers:i,measuringConfiguration:a,transform:b})})}function j7(t){const{duration:e,easing:n,sideEffects:i,keyframes:a}={...O7,...t};return l=>{let{active:c,dragOverlay:h,transform:d,...m}=l;if(!e)return;const g={x:h.rect.left-c.rect.left,y:h.rect.top-c.rect.top},b={scaleX:d.scaleX!==1?c.rect.width*d.scaleX/h.rect.width:1,scaleY:d.scaleY!==1?c.rect.height*d.scaleY/h.rect.height:1},x={x:d.x-g.x,y:d.y-g.y,...b},A=a({...m,active:c,dragOverlay:h,transform:{initial:d,final:x}}),[k]=A,I=A[A.length-1];if(JSON.stringify(k)===JSON.stringify(I))return;const N=i?.({active:c,dragOverlay:h,...m}),B=h.node.animate(A,{duration:e,easing:n,fill:"forwards"});return new Promise(H=>{B.onfinish=()=>{N?.(),H()}})}}let nA=0;function L7(t){return S.useMemo(()=>{if(t!=null)return nA++,nA},[t])}const U7=Et.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:i,style:a,transition:l,modifiers:c,wrapperElement:h="div",className:d,zIndex:m=999}=t;const{activatorEvent:g,active:b,activeNodeRect:x,containerNodeRect:A,draggableNodes:k,droppableContainers:I,dragOverlay:N,over:B,measuringConfiguration:H,scrollableAncestors:q,scrollableAncestorRects:oe,windowRect:se}=qI(),ue=S.useContext(yp),D=L7(b?.id),C=FI(c,{activatorEvent:g,active:b,activeNodeRect:x,containerNodeRect:A,draggingNodeRect:N.rect,over:B,overlayNodeRect:N.rect,scrollableAncestors:q,scrollableAncestorRects:oe,transform:ue,windowRect:se}),P=Xb(x),U=V7({config:i,draggableNodes:k,droppableContainers:I,measuringConfiguration:H}),z=P?N.setRef:void 0;return Et.createElement(N7,null,Et.createElement(C7,{animation:U},b&&D?Et.createElement(k7,{key:D,id:b.id,ref:z,as:h,activatorEvent:g,adjustScale:e,className:d,transition:l,rect:P,style:{zIndex:m,...a},transform:C},n):null))});function Wb(t,e,n){const i=t.slice();return i.splice(n<0?i.length+n:n,0,i.splice(e,1)[0]),i}function z7(t,e){return t.reduce((n,i,a)=>{const l=e.get(i);return l&&(n[a]=l),n},Array(t.length))}function wf(t){return t!==null&&t>=0}function B7(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function F7(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const Qb=t=>{let{rects:e,activeIndex:n,overIndex:i,index:a}=t;const l=Wb(e,i,n),c=e[a],h=l[a];return!h||!c?null:{x:h.left-c.left,y:h.top-c.top,scaleX:h.width/c.width,scaleY:h.height/c.height}},HI="Sortable",GI=Et.createContext({activeIndex:-1,containerId:HI,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Qb,disabled:{draggable:!1,droppable:!1}});function q7(t){let{children:e,id:n,items:i,strategy:a=Qb,disabled:l=!1}=t;const{active:c,dragOverlay:h,droppableRects:d,over:m,measureDroppableContainers:g}=qI(),b=Uh(HI,n),x=h.rect!==null,A=S.useMemo(()=>i.map(ue=>typeof ue=="object"&&"id"in ue?ue.id:ue),[i]),k=c!=null,I=c?A.indexOf(c.id):-1,N=m?A.indexOf(m.id):-1,B=S.useRef(A),H=!B7(A,B.current),q=N!==-1&&I===-1||H,oe=F7(l);Vs(()=>{H&&k&&g(A)},[H,A,k,g]),S.useEffect(()=>{B.current=A},[A]);const se=S.useMemo(()=>({activeIndex:I,containerId:b,disabled:oe,disableTransforms:q,items:A,overIndex:N,useDragOverlay:x,sortedRects:z7(A,d),strategy:a}),[I,b,oe.draggable,oe.droppable,q,A,N,d,x,a]);return Et.createElement(GI.Provider,{value:se},e)}const H7=t=>{let{id:e,items:n,activeIndex:i,overIndex:a}=t;return Wb(n,i,a).indexOf(e)},G7=t=>{let{containerId:e,isSorting:n,wasDragging:i,index:a,items:l,newIndex:c,previousItems:h,previousContainerId:d,transition:m}=t;return!m||!i||h!==l&&a===c?!1:n?!0:c!==a&&e===d},$7={duration:200,easing:"ease"},$I="transform",K7=Ya.Transition.toString({property:$I,duration:0,easing:"linear"}),Y7={roleDescription:"sortable"};function X7(t){let{disabled:e,index:n,node:i,rect:a}=t;const[l,c]=S.useState(null),h=S.useRef(n);return Vs(()=>{if(!e&&n!==h.current&&i.current){const d=a.current;if(d){const m=Sc(i.current,{ignoreTransform:!0}),g={x:d.left-m.left,y:d.top-m.top,scaleX:d.width/m.width,scaleY:d.height/m.height};(g.x||g.y)&&c(g)}}n!==h.current&&(h.current=n)},[e,n,i,a]),S.useEffect(()=>{l&&c(null)},[l]),l}function W7(t){let{animateLayoutChanges:e=G7,attributes:n,disabled:i,data:a,getNewIndex:l=H7,id:c,strategy:h,resizeObserverConfig:d,transition:m=$7}=t;const{items:g,containerId:b,activeIndex:x,disabled:A,disableTransforms:k,sortedRects:I,overIndex:N,useDragOverlay:B,strategy:H}=S.useContext(GI),q=Q7(i,A),oe=g.indexOf(c),se=S.useMemo(()=>({sortable:{containerId:b,index:oe,items:g},...a}),[b,a,oe,g]),ue=S.useMemo(()=>g.slice(g.indexOf(c)),[g,c]),{rect:D,node:C,isOver:P,setNodeRef:U}=A7({id:c,data:se,disabled:q.droppable,resizeObserverConfig:{updateMeasurementsFor:ue,...d}}),{active:z,activatorEvent:V,activeNodeRect:O,attributes:we,setNodeRef:xe,listeners:J,isDragging:X,over:$,setActivatorNodeRef:K,transform:j}=T7({id:c,data:se,attributes:{...Y7,...n},disabled:q.draggable}),T=lF(U,xe),L=!!z,Y=L&&!k&&wf(x)&&wf(N),ne=!B&&X,pe=ne&&Y?j:null,ge=Y?pe??(h??H)({rects:I,activeNodeRect:O,activeIndex:x,overIndex:N,index:oe}):null,Ee=wf(x)&&wf(N)?l({id:c,items:g,activeIndex:x,overIndex:N}):oe,Te=z?.id,Se=S.useRef({activeId:Te,items:g,newIndex:Ee,containerId:b}),Be=g!==Se.current.items,Ue=e({active:z,containerId:b,isDragging:X,isSorting:L,id:c,index:oe,items:g,newIndex:Se.current.newIndex,previousItems:Se.current.items,previousContainerId:Se.current.containerId,transition:m,wasDragging:Se.current.activeId!=null}),et=X7({disabled:!Ue,index:oe,node:C,rect:D});return S.useEffect(()=>{L&&Se.current.newIndex!==Ee&&(Se.current.newIndex=Ee),b!==Se.current.containerId&&(Se.current.containerId=b),g!==Se.current.items&&(Se.current.items=g)},[L,Ee,b,g]),S.useEffect(()=>{if(Te===Se.current.activeId)return;if(Te!=null&&Se.current.activeId==null){Se.current.activeId=Te;return}const yt=setTimeout(()=>{Se.current.activeId=Te},50);return()=>clearTimeout(yt)},[Te]),{active:z,activeIndex:x,attributes:we,data:se,rect:D,index:oe,newIndex:Ee,items:g,isOver:P,isSorting:L,isDragging:X,listeners:J,node:C,overIndex:N,over:$,setNodeRef:T,setActivatorNodeRef:K,setDroppableNodeRef:U,setDraggableNodeRef:xe,transform:et??ge,transition:ke()};function ke(){if(et||Be&&Se.current.newIndex===oe)return K7;if(!(ne&&!mp(V)||!m)&&(L||Ue))return Ya.Transition.toString({...m,property:$I})}}function Q7(t,e){var n,i;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(i=t?.droppable)!=null?i:e.droppable}}function Mm(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const J7=[ct.Down,ct.Right,ct.Up,ct.Left],Z7=(t,e)=>{let{context:{active:n,collisionRect:i,droppableRects:a,droppableContainers:l,over:c,scrollableAncestors:h}}=e;if(J7.includes(t.code)){if(t.preventDefault(),!n||!i)return;const d=[];l.getEnabled().forEach(b=>{if(!b||b!=null&&b.disabled)return;const x=a.get(b.id);if(x)switch(t.code){case ct.Down:i.top<x.top&&d.push(b);break;case ct.Up:i.top>x.top&&d.push(b);break;case ct.Left:i.left>x.left&&d.push(b);break;case ct.Right:i.left<x.left&&d.push(b);break}});const m=AF({collisionRect:i,droppableRects:a,droppableContainers:d});let g=CI(m,"id");if(g===c?.id&&m.length>1&&(g=m[1].id),g!=null){const b=l.get(n.id),x=l.get(g),A=x?a.get(x.id):null,k=x?.node.current;if(k&&A&&b&&x){const N=pp(k).some((ue,D)=>h[D]!==ue),B=KI(b,x),H=eq(b,x),q=N||!B?{x:0,y:0}:{x:H?i.width-A.width:0,y:H?i.height-A.height:0},oe={x:A.left,y:A.top};return q.x&&q.y?oe:dh(oe,q)}}}};function KI(t,e){return!Mm(t)||!Mm(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function eq(t,e){return!Mm(t)||!Mm(e)||!KI(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const tq=({id:t,children:e,disabled:n,className:i,onClick:a})=>{const{attributes:l,listeners:c,setNodeRef:h,transform:d,transition:m,isDragging:g}=W7({id:t,disabled:n}),b={transform:Ya.Transform.toString(d),transition:m,zIndex:g?50:"auto",position:"relative"};return v.jsx("div",{ref:h,style:b,...l,...c,onClick:a,className:Z("w-full h-full",!n&&"touch-none cursor-grab active:cursor-grabbing",g&&"opacity-0",i),children:v.jsx("div",{className:Z("w-full h-full",g&&"opacity-0"),children:e})})},nq=({item:t,gridSize:e,editMode:n,activeId:i,onClick:a,onEdit:l,isLocked:c})=>{const{settings:h}=Oi(),d=h.theme==="light",m="relative w-full h-full flex flex-col items-center justify-center p-2 rounded-xl cursor-pointer select-none overflow-hidden transition-all duration-200 border shadow-sm",g=e>=5?"text-xs sm:text-sm":"text-sm sm:text-base",b=d?{default:"bg-white border-slate-200 hover:bg-slate-50 hover:border-slate-300 text-slate-700",completed:"bg-emerald-50 border-emerald-300 text-emerald-700 shadow-[inset_0_0_20px_rgba(16,185,129,0.1)]",freeSpace:"bg-amber-50 border-amber-300 text-amber-600 shadow-[inset_0_0_20px_rgba(245,158,11,0.1)]",editing:"bg-slate-100 border-dashed border-slate-300 opacity-60 hover:opacity-100 hover:border-slate-400 shadow-none text-slate-500"}:{default:"bg-[var(--theme-bg-subtle)] border-[var(--theme-border)] hover:bg-[var(--theme-bg-base)] hover:border-zinc-600 text-slate-300",completed:"bg-emerald-950/20 border-emerald-500/20 text-emerald-200 shadow-[inset_0_0_20px_rgba(16,185,129,0.1)]",freeSpace:"bg-amber-950/20 border-amber-500/20 text-amber-500 shadow-[inset_0_0_20px_rgba(245,158,11,0.1)]",editing:"bg-slate-900 border-dashed border-slate-600 opacity-60 hover:opacity-100 hover:border-slate-400 shadow-none text-slate-500"};let x=b.default;return n?x=b.editing:t.isFreeSpace?x=b.freeSpace:t.isCompleted&&(x=b.completed),v.jsxs(Qe.div,{layout:!n&&!i,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:!n&&!i?{scale:1.02,y:-2,zIndex:10,boxShadow:d?"0 10px 30px -10px rgba(0,0,0,0.15)":"0 10px 30px -10px rgba(0,0,0,0.5)"}:void 0,whileTap:n?void 0:{scale:.98},onClick:n?l:a,className:Z(m,g,x),children:[v.jsx("div",{className:"z-10 text-center w-full px-1",children:t.isFreeSpace?v.jsxs("div",{className:"flex flex-col items-center gap-1",children:[v.jsx("span",{className:Z("text-[10px] font-bold uppercase tracking-widest",d?"text-amber-600":"text-amber-600/80"),children:"Bonus"}),v.jsx("span",{className:"font-bold text-amber-500 text-sm sm:text-base",children:"FREE"})]}):v.jsx("span",{className:"font-medium leading-snug block line-clamp-4 break-words",style:{color:t.isCompleted&&!n?void 0:t.style?.color,fontWeight:t.style?.bold?"bold":void 0,fontStyle:t.style?.italic?"italic":void 0,fontSize:void 0},children:t.text})}),v.jsx("div",{className:"absolute top-1.5 right-1.5 flex flex-col gap-1 items-end z-20",children:t.proofPhotos&&t.proofPhotos.length>0&&v.jsx("div",{className:Z("p-1 rounded-md backdrop-blur-sm",d?"bg-slate-600/80":"bg-black/40"),children:v.jsx(ch,{size:10,className:"text-white/90"})})}),t.dueDate&&!t.isCompleted&&!c&&v.jsxs("div",{className:Z("flex items-center gap-1 mt-1 text-[10px] font-medium absolute bottom-1.5 left-2 px-1 rounded backdrop-blur-sm",d?"bg-slate-200/90":"bg-black/40",(t.dueDate.toDate?t.dueDate.toDate():new Date(t.dueDate))<new Date?"text-red-500":d?"text-slate-600":"text-slate-400"),children:[v.jsx(IB,{size:10}),v.jsx("span",{children:(t.dueDate.toDate?t.dueDate.toDate():new Date(t.dueDate)).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),!t.isFreeSpace&&!n&&(t.targetCount||1)>1&&v.jsxs("div",{className:Z("absolute bottom-1.5 right-1.5 px-1.5 py-0.5 rounded text-[10px] font-bold shadow-sm",t.isCompleted?"bg-emerald-500/90 text-white":(t.currentCount||0)>0?"bg-amber-500/90 text-white":d?"bg-slate-300/90 text-slate-700":"bg-slate-700/90 text-slate-300"),children:[t.currentCount||0,"/",t.targetCount]}),n&&v.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 bg-black/40 transition-opacity z-30",children:v.jsx(qu,{size:20,className:"text-white drop-shadow-md"})}),t.isCompleted&&!t.isFreeSpace&&!n&&v.jsx(Qe.div,{initial:{scale:2,opacity:0,rotate:-45},animate:{scale:1,opacity:d?.15:.1,rotate:12},transition:{type:"spring",stiffness:300,damping:15},className:Z("absolute -bottom-2 -right-2 transform origin-bottom-right pointer-events-none",d?"text-emerald-600":"text-emerald-400"),children:v.jsx(Ns,{size:80,strokeWidth:3})}),t.isCompleted&&v.jsx("div",{className:Z("absolute inset-0 rounded-xl ring-1 ring-inset pointer-events-none",d?"ring-emerald-200":"ring-white/10")})]})},Su=({isOpen:t,onClose:e,title:n,children:i,footer:a,size:l="md",className:c,showCloseButton:h=!0})=>{const{settings:d}=Oi(),m=d.theme==="light",g={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",full:"max-w-4xl"};return v.jsx(Rs,{children:t&&v.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[v.jsx(Qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:Z("absolute inset-0 backdrop-blur-sm",m?"bg-black/40":"bg-black/60"),onClick:e}),v.jsxs(Qe.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},transition:{duration:.2},className:Z("relative w-full rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",m?"bg-white border border-slate-200":"bg-[var(--theme-bg-subtle)] border border-[var(--theme-border)]",g[l],c),onClick:b=>b.stopPropagation(),children:[(n||h)&&v.jsxs("div",{className:Z("flex items-center justify-between p-4 sm:p-6 border-b shrink-0",m?"border-slate-200":"border-[var(--theme-border)]"),children:[v.jsx("div",{className:Z("text-lg sm:text-xl font-bold truncate pr-4",m?"text-slate-800":"text-slate-100"),children:n}),h&&v.jsx("button",{onClick:e,className:Z("p-2 rounded-full transition-colors",m?"text-slate-400 hover:text-slate-700 hover:bg-slate-100":"text-slate-400 hover:text-slate-100 hover:bg-white/10"),children:v.jsx(Br,{size:20})})]}),v.jsx("div",{className:Z("p-4 sm:p-6 overflow-y-auto custom-scrollbar",m?"text-slate-700":"text-slate-300"),children:i}),a&&v.jsx("div",{className:Z("p-4 sm:p-6 border-t shrink-0 flex justify-end gap-3 rounded-b-2xl",m?"border-slate-200 bg-slate-50":"border-[var(--theme-border)] bg-[var(--theme-bg-base)]/50"),children:a})]})]})})},iA=()=>{const{boardId:t,yearId:e}=gM(),n=e?void 0:t,{items:i,members:a,loading:l,toggleItem:c,hasWon:h,bingoCount:d,isLocked:m,unlockBoard:g,jumbleAndLock:b,saveBoard:x,completeWithPhoto:A,addPhotoToTile:k,addReaction:I,deletePhoto:N,decrementProgress:B,inviteUser:H,removeMember:q,title:oe,gridSize:se,updateTitle:ue}=sF(n),{user:D}=Ja(),C=oI(),{settings:P}=Oi(),U=P.theme==="light",{playClick:z,playSuccess:V,playBingo:O,playWhoosh:we}=rF(),[xe,J]=S.useState(!1),[X,$]=S.useState(!1),[K,j]=S.useState(""),[T,L]=S.useState(i),[Y,ne]=S.useState(null);S.useEffect(()=>{(!Y&&!xe||xe&&T.length===0&&i.length>0)&&L(i)},[i,Y,xe]);const pe=_F(qS(Yb,{activationConstraint:{distance:8}}),qS($b,{coordinateGetter:Z7})),ye=Q=>{xe&&ne(Q.active.id)},ge=Q=>{const{active:ve,over:wt}=Q;ne(null),wt&&ve.id!==wt.id&&xe&&L(Bt=>{const Le=Bt.findIndex(jn=>jn.id===ve.id),Ft=Bt.findIndex(jn=>jn.id===wt.id),qt=Wb(Bt,Le,Ft);return x(qt),qt})},[Ee,Te]=S.useState(!1),[Se,Be]=S.useState(!1),[Ue,et]=S.useState(!1),[ke,yt]=S.useState(!1),[vt,Kt]=S.useState([]),[Yt,ot]=S.useState(null),[$e,Cn]=S.useState(""),[sn,ci]=S.useState({}),[Ut,bi]=S.useState(1),[xi,Mn]=S.useState(""),[Dt,ui]=S.useState(!1),[wi,pn]=S.useState("complete"),[ps,Pn]=S.useState(!1),[bt,On]=S.useState(0),[St,Xr]=S.useState(null),[gs,ys]=S.useState(!1),[_i,Ti]=S.useState(!1),[Ve,xt]=S.useState(null),[kt,zt]=S.useState(0),rn=S.useRef(null),gn=async()=>{if(!m)return;const Q=kt+1;zt(Q),rn.current&&clearTimeout(rn.current),rn.current=setTimeout(()=>{zt(0)},2e3),Q>=7&&(zt(0),rn.current&&clearTimeout(rn.current),await C.confirm("This will unlock the board and re-enable editing. Proceed?",{title:" Developer Unlock",confirmText:"Unlock Board",cancelText:"Cancel"})&&(await g(),V()))};S.useEffect(()=>{const Q=async ve=>{ve.ctrlKey&&ve.shiftKey&&ve.key.toLowerCase()==="u"&&m&&(ve.preventDefault(),await C.confirm("This will unlock the board and re-enable editing. Proceed?",{title:" Developer Unlock",confirmText:"Unlock Board",cancelText:"Cancel"})&&(await g(),V()))};return window.addEventListener("keydown",Q),()=>window.removeEventListener("keydown",Q)},[m,g,C,V]),S.useEffect(()=>{!localStorage.getItem("hasSeenWalkthrough")&&!l&&i.length>0&&Pn(!0)},[l,i]),S.useEffect(()=>{(async()=>{if(Se&&a){const ve=[];for(const[wt,Bt]of Object.entries(a))if(Bt!=="owner")try{const Le=await Dh(Ds(ri,"users",wt));if(Le.exists()){const Ft=Le.data();ve.push({id:wt,name:Ft.displayName||"Unknown",email:Ft.email||"No email",role:Bt})}}catch(Le){console.error("Error fetching user:",Le)}Kt(ve)}})()},[Se,a]);const Xt=async(Q,ve)=>{await C.confirm(`Are you sure you want to remove ${ve} from this board?`,{title:"Remove Member",type:"error",confirmText:"Remove"})&&((await q(Q)).success?(Kt(Le=>Le.filter(Ft=>Ft.id!==Q)),await C.alert(`${ve} has been removed.`,{type:"success"})):await C.alert("Failed to remove member.",{type:"error"}))},Qn=async()=>{const Q=await C.sharePrompt("Enter their email address to invite them to this board.",{title:"Invite User"});if(Q){const ve=await H(Q.email,Q.role);if(ve.type==="success")await C.alert(ve.message,{title:"Success!",type:"success"});else if(ve.type==="not_found"){if(await C.confirm(`"${Q.email}" hasn't signed up yet.

Would you like to send them an email invitation to join SunSar Bingo?`,{title:"User Not Found",confirmText:"Send Invite Email",type:"info"}))try{const{sendInviteEmail:Bt,openMailtoFallback:Le}=await jl(async()=>{const{sendInviteEmail:qt,openMailtoFallback:jn}=await import("./emailService-DVsIB1jX.js");return{sendInviteEmail:qt,openMailtoFallback:jn}},[]);(await Bt({recipientEmail:Q.email,senderName:D?.displayName||D?.email||"A friend"})).success?await C.alert(`Invitation sent to ${Q.email}! They'll receive an email with instructions to join.`,{title:"Invitation Sent!",type:"success"}):(Le(Q.email,D?.displayName||"A friend"),await C.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"}))}catch{const Le=encodeURIComponent("Join me on SunSar Bingo!"),Ft=encodeURIComponent(`Hey! Come join me on SunSar Bingo to track our 2026 goals together.

Sign up here: ${window.location.origin}`);window.open(`mailto:${Q.email}?subject=${Le}&body=${Ft}`),await C.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"})}}else await C.alert(ve.message,{title:"Error",type:"error"})}},Wt=()=>{bt<2?On(Q=>Q+1):(Pn(!1),localStorage.setItem("hasSeenWalkthrough","true"))},[Vn,Qt]=S.useState(!1),[Pt,yn]=S.useState(null),[Jt,Jn]=S.useState(!1),un=S.useRef(null),[qn,Ot]=S.useState(!1),[ut,hi]=S.useState(null),[Zn,eo]=S.useState(null),[Us,ur]=S.useState(0),Vi=S.useRef(null),[Wr,ji]=S.useState(!1),[Ei,ei]=S.useState(()=>localStorage.getItem("celebrationDismissed")==="true"),[Si,Zt]=S.useState(0);S.useEffect(()=>{Si===5&&(g(),Zt(0),ev({particleCount:100,spread:70,origin:{y:.6},colors:["#fbbf24","#ec4899","#ffffff"]}));let Q;return Si>0&&(Q=setTimeout(()=>Zt(0),1e3)),()=>clearTimeout(Q)},[Si,g]);const to=()=>{z(),b(ke),ev({particleCount:150,spread:60,origin:{y:.7},colors:["#22c55e","#ffffff"]}),V(),et(!1),J(!1)},no=()=>{ei(!0),localStorage.setItem("celebrationDismissed","true")};Et.useEffect(()=>{!l&&!h&&(ei(!1),localStorage.removeItem("celebrationDismissed"))},[h,l]);const Li=S.useRef(h);Et.useEffect(()=>{h&&!Li.current&&!l&&O(),Li.current=h},[h,l,O]);const Xi=Q=>{const ve=T.length>0?T:i;if(ot(Q),Cn(ve[Q].text),ci(ve[Q].style||{color:"#ffffff",fontSize:"base",bold:!1,italic:!1}),bi(ve[Q].targetCount||1),ve[Q].dueDate){const wt=ve[Q].dueDate,Bt=typeof wt.toDate=="function"?wt.toDate():new Date(wt),Le=Bt.getFullYear(),Ft=String(Bt.getMonth()+1).padStart(2,"0"),qt=String(Bt.getDate()).padStart(2,"0");Mn(`${Le}-${Ft}-${qt}`)}else Mn("");ui(!!ve[Q].isFreeSpace),Te(!0)},io=()=>{if(Yt===null)return;let Q;xi&&(Q=new Date(xi+"T12:00:00"));const ve=[...T];ve[Yt]={...ve[Yt],text:$e,style:sn,targetCount:Ut,dueDate:Q,isFreeSpace:Dt,isCompleted:ve[Yt].isCompleted||Dt},L(ve),x(ve),Te(!1),ot(null)},an=T.length>0?T:i;if(S.useEffect(()=>{Zn!==null&&an?.[Zn]&&hi(an[Zn])},[an,Zn]),l)return v.jsx("div",{className:"flex h-screen items-center justify-center text-accent-primary animate-pulse",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"w-12 h-12 border-4 border-accent-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),v.jsx("p",{children:"Loading Board..."})]})});const so=i.filter(Q=>Q.isCompleted).length/25*100,hr=Q=>{if(!Q)return"-";const ve=Q.toDate?Q.toDate():new Date(Q);return ve.toLocaleDateString()+" "+ve.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},di=Q=>{const ve=an[Q];Xr({index:Q,wasCompleted:ve.isCompleted}),ve.isCompleted?z():V(),c(Q),ys(!0),setTimeout(()=>ys(!1),3e3)};return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"min-h-screen bg-transparent text-white p-6 pb-24 relative overflow-x-hidden no-print",children:[v.jsx("input",{type:"file",accept:"image/*",ref:Vi,className:"hidden",onChange:async Q=>{const ve=Q.target.files?.[0];if(ve&&Zn!==null){try{await k(Zn,ve)}catch(wt){console.error(wt),alert("Failed to add photo")}Q.target.value=""}}}),v.jsx(oF,{items:i}),v.jsxs("div",{className:"max-w-4xl mx-auto",children:[v.jsxs("header",{className:"flex justify-between items-center mb-8 py-2",children:[v.jsxs("div",{className:"flex-1 mx-4 min-w-0",children:[X?v.jsx("input",{type:"text",value:K,onChange:Q=>j(Q.target.value),onBlur:()=>{K.trim()&&ue(K.trim()),$(!1)},onKeyDown:Q=>{Q.key==="Enter"?(K.trim()&&ue(K.trim()),$(!1)):Q.key==="Escape"&&$(!1)},autoFocus:!0,className:"bg-transparent border-b-2 border-accent-primary text-white text-lg sm:text-xl font-bold outline-none w-full max-w-[200px]"}):v.jsxs("button",{onClick:()=>{j(oe||"My Bingo"),$(!0)},className:"text-white text-lg sm:text-xl font-bold truncate max-w-[200px] hover:text-accent-primary transition-colors flex items-center gap-1 group",title:"Click to edit board name",children:[v.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent truncate",children:oe||"My Bingo"}),v.jsx(qu,{size:14,className:"opacity-0 group-hover:opacity-70 transition-opacity flex-shrink-0"})]}),v.jsxs("p",{className:"text-slate-500 text-xs mt-0.5 cursor-default select-none",onClick:gn,children:[se,"",se,"  ",i.filter(Q=>Q.isCompleted&&!Q.isFreeSpace).length,"/",i.filter(Q=>!Q.isFreeSpace).length]})]}),v.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[v.jsx("button",{onClick:()=>ji(!0),className:"p-2.5 text-slate-400 hover:text-accent-gold hover:bg-white/5 rounded-full transition-colors",title:"View Memories",children:v.jsx(Tm,{size:20})}),v.jsx("button",{onClick:()=>Be(!0),className:"p-2.5 text-slate-400 hover:text-accent-primary hover:bg-white/5 rounded-full transition-colors",title:"Share Board",children:v.jsx(zf,{size:20})})]})]}),v.jsxs(x7,{sensors:pe,collisionDetection:SF,onDragStart:ye,onDragEnd:ge,children:[v.jsx("div",{className:"flex justify-center mb-6",children:v.jsx("div",{className:"w-full max-w-[520px] aspect-square relative",children:v.jsx(q7,{items:an.map(Q=>Q.id),strategy:Qb,children:v.jsx("div",{className:Z("grid gap-1.5 sm:gap-2 w-full h-full",se===3&&"grid-cols-3 grid-rows-3",se===4&&"grid-cols-4 grid-rows-4",se===5&&"grid-cols-5 grid-rows-5",se===6&&"grid-cols-6 grid-rows-6"),style:{perspective:"1000px"},children:an.map((Q,ve)=>v.jsx(tq,{id:Q.id,disabled:!xe,children:v.jsx(nq,{item:Q,index:ve,gridSize:se,editMode:xe,activeId:Y,isLocked:m,onEdit:()=>Xi(ve),onClick:()=>{Q.isFreeSpace||(Q.isCompleted?(xt(ve),Ti(!0)):(we(),yn(ve),Qt(!0)))}})},Q.id))})})})}),v.jsx(U7,{children:Y?v.jsx("div",{className:Z("relative w-full h-full flex flex-col items-center justify-center p-1 sm:p-2 text-center select-none overflow-hidden","bingo-tile bg-white/10 backdrop-blur-md border-2 border-accent-primary shadow-2xl glass-panel"),style:{width:"100px",height:"100px"},children:v.jsx("span",{className:"text-white font-bold text-sm",children:T.find(Q=>Q.id===Y)?.text})}):null})]})]}),v.jsx("div",{className:"flex justify-center",children:v.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-[520px] glass-panel p-4 flex flex-col gap-4",children:[v.jsxs("div",{className:"w-full",children:[v.jsxs("div",{className:"flex justify-between text-xs text-slate-300 mb-1.5 px-1",children:[v.jsx("span",{className:"font-semibold",children:"Progress"}),v.jsxs("div",{className:"flex gap-3",children:[v.jsxs("span",{className:"font-mono text-accent-gold font-bold",children:[d,"/",se*2+2," Bingos"]}),v.jsxs("span",{className:"font-mono text-accent-primary",children:[Math.round(so),"%"]})]})]}),v.jsx("div",{className:"h-3 bg-bg-dark/50 rounded-full overflow-hidden border border-white/5",children:v.jsx(Qe.div,{className:"h-full bg-gradient-to-r from-accent-primary to-accent-secondary relative",initial:{width:0},animate:{width:`${so}%`},transition:{duration:1,ease:"easeOut"},children:v.jsx("div",{className:"absolute top-0 right-0 bottom-0 w-[1px] bg-white/50 shadow-[0_0_10px_white]"})})})]}),v.jsx("div",{className:"flex justify-center gap-2",children:xe?v.jsx(v.Fragment,{children:v.jsxs("div",{className:"flex gap-2 w-full",children:[v.jsx("button",{onClick:()=>J(!1),className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-white/5 text-slate-300 border border-white/10 hover:bg-white/10 transition-all",children:"Cancel"}),v.jsxs("button",{onClick:()=>{x(T),J(!1)},className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-green-500/20 text-green-200 border border-green-500/50 hover:bg-green-500/30 transition-all flex items-center justify-center gap-2",children:[v.jsx(Ns,{size:16}),"Save Changes"]})]})}):v.jsxs("div",{className:"flex gap-2 justify-center w-full flex-wrap",children:[!m&&v.jsxs(v.Fragment,{children:[v.jsxs("button",{onClick:()=>{L([...i]),J(!0)},className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[v.jsx(qu,{size:12}),"Edit Board"]}),v.jsxs("button",{onClick:()=>{z(),et(!0)},className:"flex-1 py-2 px-4 text-xs font-bold text-white bg-gradient-to-r from-accent-primary to-accent-secondary hover:shadow-lg hover:shadow-accent-primary/20 transition-all rounded-lg flex items-center justify-center gap-2 min-w-[120px]",children:[v.jsx(kS,{size:14}),"Go Live "]})]}),v.jsxs("button",{onClick:()=>window.print(),className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[v.jsx(GB,{size:12}),"Print Status"]})]})})]})}),v.jsx(Rs,{children:h&&!Ei&&v.jsx(Qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:v.jsxs(Qe.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:"glass-panel p-8 text-center max-w-sm w-full relative overflow-hidden border-accent-gold/30",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-accent-gold/10 to-transparent pointer-events-none"}),v.jsx(Qe.div,{animate:{rotate:[0,10,-10,0]},transition:{repeat:1/0,duration:2},className:"inline-block",children:v.jsx(_m,{className:"w-20 h-20 text-accent-gold mx-auto mb-4 drop-shadow-[0_0_15px_rgba(251,191,36,0.5)]"})}),v.jsx("h2",{className:"text-4xl font-heading font-bold text-transparent bg-clip-text bg-gradient-to-r from-accent-gold via-white to-accent-secondary mb-2",children:"BINGO!"}),v.jsx("p",{className:"text-slate-300 mb-8 leading-relaxed",children:"2026 is off to an amazing start!"}),v.jsx("button",{onClick:no,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-[0_0_20px_rgba(139,92,246,0.4)] transition-all transform hover:scale-105",children:"Keep Playing"})]})})}),v.jsxs(Su,{isOpen:Ee,onClose:()=>Te(!1),title:"Edit Tile",size:"sm",footer:v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>Te(!1),className:"flex-1 py-2.5 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),v.jsx("button",{onClick:io,className:"flex-1 py-2.5 px-4 bg-gradient-to-r from-violet-600 to-fuchsia-600 rounded-xl font-bold text-white shadow-lg hover:shadow-violet-500/25 active:scale-95 transition-all",children:"Save Changes"})]}),children:[v.jsx("div",{className:"mb-6 flex justify-center",children:v.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-lg bg-bg-card/80 border border-white/10 flex items-center justify-center p-2 text-center overflow-hidden relative",children:v.jsx("span",{className:Z("font-hand font-semibold leading-tight break-words"),style:{color:sn.color||"#ffffff",fontWeight:sn.bold?"bold":"600",fontStyle:sn.italic?"italic":"normal",fontSize:sn.fontSize==="sm"?"12px":sn.fontSize==="lg"?"18px":sn.fontSize==="xl"?"22px":"16px"},children:$e||"Preview Text"})})}),v.jsxs("div",{className:"mb-6",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-3 bg-white/5 p-3 rounded-xl border border-white/5",children:[v.jsxs("label",{className:"flex items-center gap-2 cursor-pointer flex-1",children:[v.jsx("input",{type:"checkbox",checked:Dt,onChange:Q=>{const ve=Q.target.checked;ui(ve),ve&&Cn("FREE!")},className:"w-4 h-4 rounded border-gray-500 bg-black/50 text-accent-primary focus:ring-accent-primary"}),v.jsx("span",{className:Z("text-sm font-bold transition-colors",Dt?"text-accent-primary":"text-slate-300"),children:"Flag as FREE Space "})]}),Dt&&v.jsxs("div",{className:"flex gap-1 bg-black/80 rounded-full p-1 px-1.5 border border-white/20",children:[v.jsx("div",{className:"w-2 h-2 rounded-full bg-red-900/30"}),v.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-900/30"}),v.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 shadow-[0_0_8px_#22c55e]"})]})]}),v.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Text Content"}),v.jsx("textarea",{className:Z("w-full bg-black/20 text-white rounded-lg p-3 border border-white/10 focus:border-accent-primary outline-none min-h-[80px]",Dt&&"opacity-50 cursor-not-allowed"),disabled:Dt,value:$e,onChange:Q=>Cn(Q.target.value),placeholder:"Enter bingo task..."})]}),v.jsxs("div",{className:Z("transition-opacity duration-300",Dt&&"opacity-30 pointer-events-none"),children:[v.jsxs("div",{className:"mb-6 space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Color"}),v.jsx("div",{className:"flex gap-2 flex-wrap",children:["#ffffff","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#ec4899","#a855f7"].map(Q=>v.jsx("button",{className:Z("w-6 h-6 rounded-full border border-white/10 transition-transform active:scale-90",sn.color===Q&&"ring-2 ring-white scale-110"),style:{backgroundColor:Q},onClick:()=>ci(ve=>({...ve,color:Q}))},Q))})]}),v.jsxs("div",{className:"flex gap-4",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Size"}),v.jsx("div",{className:"flex bg-black/20 rounded-lg p-1",children:["sm","base","lg","xl"].map(Q=>v.jsx("button",{onClick:()=>ci(ve=>({...ve,fontSize:Q})),className:Z("flex-1 py-1 text-[10px] font-bold rounded transition-colors uppercase",(sn.fontSize||"base")===Q?"bg-accent-primary text-white":"text-slate-400 hover:text-white"),children:Q==="base"?"M":Q},Q))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Style"}),v.jsxs("div",{className:"flex gap-1 bg-black/20 rounded-lg p-1",children:[v.jsx("button",{onClick:()=>ci(Q=>({...Q,bold:!Q.bold})),className:Z("w-8 h-full rounded flex items-center justify-center font-bold transition-colors",sn.bold?"bg-white text-black":"text-slate-400 hover:text-white"),children:"B"}),v.jsx("button",{onClick:()=>ci(Q=>({...Q,italic:!Q.italic})),className:Z("w-8 h-full rounded flex items-center justify-center italic transition-colors font-serif",sn.italic?"bg-white text-black":"text-slate-400 hover:text-white"),children:"I"})]})]})]})]}),v.jsxs("div",{className:"space-y-4 pt-4 border-t border-white/10",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Repeat Goal"}),v.jsx("input",{type:"number",min:"1",max:"100",value:Ut,onChange:Q=>bi(parseInt(Q.target.value)||1),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors"}),v.jsx("p",{className:"text-xs text-slate-500",children:"How many times should this be completed?"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Due Date (Optional)"}),v.jsx("input",{type:"date",value:xi,onChange:Q=>Mn(Q.target.value),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors [color-scheme:dark]"})]})]})]})]}),(()=>{const Q=Pt!==null?an[Pt]:null,ve=Q?.targetCount||1,wt=Q?.currentCount||0,Bt=ve>1,Le=wt>0;return Q?v.jsx(Su,{isOpen:Vn&&Pt!==null,onClose:()=>{Qt(!1),yn(null)},title:Q.isCompleted?"Tile Details":Le?"Add Progress":"Complete Task",size:"sm",children:v.jsxs("div",{className:"space-y-4",children:[v.jsxs("p",{className:"text-slate-300 text-sm text-center mb-4 line-clamp-3 italic",children:["",Q.text,""]}),Bt&&v.jsx("div",{className:"text-center mb-4",children:v.jsxs("span",{className:Z("inline-block px-3 py-1 rounded-full text-sm font-bold",Le?"bg-amber-500/20 text-amber-400":"bg-slate-600/50 text-slate-400"),children:["Progress: ",wt," / ",ve]})}),Q.proofPhotos&&Q.proofPhotos.length>0&&v.jsxs("div",{className:"mb-6 bg-black/20 p-3 rounded-xl border border-white/5",children:[v.jsx("label",{className:"text-xs text-slate-400 mb-2 block font-semibold uppercase tracking-wider",children:"Attached Photos"}),v.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:Q.proofPhotos.map((Ft,qt)=>v.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0 group rounded-lg overflow-hidden border border-white/10 touch-none select-none",onContextMenu:jn=>jn.preventDefault(),children:[v.jsx("img",{src:Ft,alt:"",className:"w-full h-full object-cover pointer-events-none"}),v.jsx("button",{onClick:async jn=>{jn.stopPropagation(),window.confirm("Delete this photo?")&&await N(Pt,qt)},className:"absolute top-1 right-1 bg-red-500/90 p-1.5 rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600 shadow-md",children:v.jsx(Bf,{size:12})})]},qt))})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsx("input",{type:"file",accept:"image/*",ref:un,className:"hidden",onChange:async Ft=>{const qt=Ft.target.files?.[0];if(qt&&Pt!==null){Jn(!0);try{wi==="complete"?await A(Pt,qt):await k(Pt,qt),Qt(!1),yn(null)}catch{alert("Failed to upload photo.")}finally{Jn(!1),Ft.target.value=""}}}}),v.jsxs("button",{onClick:()=>{pn("add"),setTimeout(()=>un.current?.click(),0)},disabled:Jt,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-blue-500/25 active:scale-95 transition-all disabled:opacity-50",children:[v.jsx(ch,{size:20}),Jt&&wi==="add"?"Uploading...":"Add Photo (Keep Status)"]}),!Q.isCompleted&&v.jsxs("button",{onClick:()=>{pn("complete"),setTimeout(()=>un.current?.click(),0)},disabled:Jt,className:"w-full py-3 px-4 bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-amber-500/25 active:scale-95 transition-all disabled:opacity-50",children:[v.jsx(Ns,{size:20}),Jt&&wi==="complete"?"Uploading...":Bt?"Add Photo & +1":"Add Photo & Complete"]}),v.jsxs("button",{onClick:()=>{c(Pt),Qt(!1),yn(null)},disabled:Jt,className:Z("w-full py-3 px-4 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 active:scale-95 transition-all disabled:opacity-50",Q.isCompleted?"bg-slate-700 hover:bg-slate-600":"bg-gradient-to-r from-green-600 to-emerald-600 hover:shadow-green-500/25"),children:[Q.isCompleted?v.jsx(Br,{size:20}):v.jsx(Ns,{size:20}),Q.isCompleted?"Mark Incomplete":Bt?`Mark +1 (${wt+1}/${ve})`:"Mark Complete"]}),Le&&!Q.isCompleted&&v.jsxs("button",{onClick:()=>{B(Pt),Qt(!1),yn(null)},disabled:Jt,className:"w-full py-2 rounded-xl font-semibold text-red-400 hover:bg-red-500/10 transition-colors disabled:opacity-50",children:["Remove Progress (",wt-1,"/",ve,")"]}),v.jsx("button",{onClick:()=>{Qt(!1),yn(null)},disabled:Jt,className:"w-full py-3 rounded-xl font-semibold bg-white/5 text-slate-400 hover:bg-white/10 transition-colors disabled:opacity-50",children:"Cancel"})]})]})}):null})(),v.jsx(Rs,{children:qn&&ut&&ut.proofPhotos&&ut.proofPhotos.length>0&&v.jsx(Qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",onClick:()=>{Ot(!1),hi(null),eo(null)},children:v.jsxs(Qe.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"relative max-w-lg w-full",onClick:Q=>Q.stopPropagation(),children:[v.jsx("button",{onClick:()=>{Ot(!1),hi(null),eo(null)},className:"absolute -top-12 right-0 p-2 text-white/70 hover:text-white transition-colors z-10",children:v.jsx(Br,{size:28})}),v.jsxs("div",{className:"rounded-2xl overflow-hidden border border-white/10 shadow-2xl",children:[v.jsxs("div",{className:"relative bg-black",children:[v.jsx("img",{src:ut.proofPhotos[Us],alt:`Proof photo ${Us+1}`,className:"w-full h-auto max-h-[50vh] object-contain"}),ut.proofPhotos.length>1&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>ur(Q=>Q>0?Q-1:ut.proofPhotos.length-1),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:v.jsx(tI,{size:24})}),v.jsx("button",{onClick:()=>ur(Q=>Q<ut.proofPhotos.length-1?Q+1:0),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:v.jsx(nI,{size:24})})]}),v.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/60 rounded-full text-white text-xs font-medium",children:[Us+1," / ",ut.proofPhotos.length]})]}),ut.proofPhotos.length>1&&v.jsx("div",{className:"flex gap-1 p-2 bg-bg-dark/80 overflow-x-auto",children:ut.proofPhotos.map((Q,ve)=>v.jsx("button",{onClick:()=>ur(ve),className:Z("w-12 h-12 rounded-md overflow-hidden border-2 flex-shrink-0 transition-all",Us===ve?"border-accent-primary":"border-transparent opacity-60 hover:opacity-100"),children:v.jsx("img",{src:Q,alt:"",className:"w-full h-full object-cover"})},ve))}),v.jsxs("div",{className:"p-4 bg-bg-dark/95",children:[v.jsx("p",{className:"text-white font-semibold mb-1",children:ut.text}),v.jsxs("p",{className:"text-slate-400 text-xs mb-4",children:["Completed by ",ut.completedBy,"  ",hr(ut.completedAt)]}),v.jsx("div",{className:"flex gap-2 justify-center pb-1",children:["","","","","",""].map(Q=>v.jsx("button",{onClick:()=>{Zn!==null&&(I(Zn,Q),z())},className:"text-2xl hover:scale-125 transition-transform p-2 rounded-full hover:bg-white/10 active:scale-95",title:"React",children:Q},Q))})]})]}),v.jsxs("div",{className:"mt-4 flex gap-3 justify-center",children:[v.jsxs("button",{onClick:async()=>{window.confirm("Delete this photo?")&&(await N(Zn,Us),ut?.proofPhotos?.length===1?Ot(!1):ur(0))},className:"flex-1 py-3 bg-red-500/10 text-red-400 rounded-xl font-semibold hover:bg-red-500/20 flex items-center justify-center gap-2",children:[v.jsx(Bf,{size:20}),"Delete Photo"]}),v.jsxs("button",{onClick:()=>Vi.current?.click(),className:"flex-1 py-3 bg-white/10 text-white rounded-xl font-semibold hover:bg-white/20 flex items-center justify-center gap-2",children:[v.jsx(uh,{size:20}),"Add Photo"]})]}),v.jsx("button",{onClick:()=>{const Q=i.findIndex(ve=>ve.id===ut.id);Q!==-1&&c(Q),Ot(!1),hi(null),eo(null)},className:"mt-2 w-full py-2 text-sm text-red-400 hover:text-red-300 transition-colors",children:"Mark as In Progress"})]})})}),v.jsx(Rs,{children:gs&&St&&v.jsxs(Qe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:Z("fixed bottom-24 left-1/2 -translate-x-1/2 border px-6 py-3 rounded-full shadow-2xl z-50 flex items-center gap-4",U?"bg-white border-slate-200 text-slate-800":"bg-slate-900 border-white/20 text-white"),children:[v.jsxs("span",{children:["Marked as ",St.wasCompleted?"incomplete":"complete"]}),v.jsx("button",{onClick:()=>{c(St.index),ys(!1)},className:"font-bold text-accent-primary hover:text-white transition-colors",children:"Undo"}),v.jsx("button",{onClick:()=>ys(!1),className:"text-slate-400 hover:text-white",children:v.jsx(Br,{size:16})})]})}),v.jsx(Rs,{children:ps&&v.jsx(Qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",children:v.jsxs(Qe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:Z("border rounded-3xl p-8 max-w-sm w-full shadow-2xl relative overflow-hidden",U?"bg-white border-slate-200":"bg-slate-900 border-white/20"),children:[v.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-20 pointer-events-none",children:v.jsx(_m,{className:"w-32 h-32 text-accent-gold rotate-12"})}),v.jsxs("div",{className:"relative z-10 text-center",children:[v.jsx("h3",{className:Z("text-2xl font-bold mb-2",U?"text-slate-900":"text-white"),children:"Welcome! "}),v.jsxs("p",{className:Z("mb-8 h-12",U?"text-slate-600":"text-slate-400"),children:[bt===0&&"Tap any tile to mark it as complete.",bt===1&&"Start 'Edit Mode' to add your own tasks.",bt===2&&"Invite friends to play together!"]}),v.jsx("div",{className:"flex justify-center mb-8",children:v.jsx("div",{className:Z("w-32 h-32 rounded-2xl border flex items-center justify-center relative",U?"bg-slate-50 border-slate-200":"bg-black/40 border-white/10"),children:v.jsxs(Rs,{mode:"wait",children:[bt===0&&v.jsxs(Qe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute inset-0 flex items-center justify-center",children:[v.jsx("div",{className:"w-16 h-16 bg-accent-primary/20 rounded-lg border border-accent-primary flex items-center justify-center",children:v.jsx(Ns,{className:"w-8 h-8 text-white"})}),v.jsx(Qe.div,{animate:{scale:[1,1.2,1],opacity:[0,1,0]},transition:{repeat:1/0,duration:1.5},className:"absolute w-20 h-20 rounded-full border-2 border-white/50"})]},"step0"),bt===1&&v.jsx(Qe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:v.jsx(qu,{className:"w-12 h-12 text-blue-400"})},"step1"),bt===2&&v.jsx(Qe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:v.jsx(zf,{className:"w-12 h-12 text-green-400"})},"step2")]})})}),v.jsx("div",{className:"flex gap-2 justify-center mb-6",children:[0,1,2].map(Q=>v.jsx("div",{className:Z("w-2 h-2 rounded-full transition-colors",Q===bt?"bg-white":"bg-white/20")},Q))}),v.jsx("button",{onClick:Wt,className:"w-full py-3 bg-white text-black font-bold rounded-xl hover:bg-slate-200 transition-colors",children:bt===2?"Let's Play!":"Next"})]})]})})})]}),v.jsxs("div",{className:"only-print hidden",children:[v.jsxs("div",{className:"flex justify-between items-end mb-4 border-b-2 border-black pb-2",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("img",{src:"/logo.png",className:"h-12 w-auto",alt:"Logo"}),v.jsx("h1",{className:"text-2xl font-bold",children:oe||"2026 Edition"})]}),v.jsxs("div",{className:"text-right",children:[v.jsxs("p",{className:"text-xs uppercase tracking-widest mb-0.5",children:["Status Report (",se,"",se,")"]}),v.jsxs("p",{className:"text-xl font-bold",children:[d," / ",se*2+2," Bingos"]})]})]}),v.jsx("div",{className:`grid gap-0 border-2 border-black ${se===3?"grid-cols-3":se===4?"grid-cols-4":se===5?"grid-cols-5":"grid-cols-6"}`,children:i.map(Q=>v.jsxs("div",{className:"aspect-square border border-black p-1.5 flex flex-col justify-between relative overflow-hidden min-h-[80px]",children:[v.jsx("div",{className:`font-bold leading-tight z-10 ${se>=5?"text-[10px]":"text-[11px]"}`,children:Q.text}),Q.isCompleted&&!Q.isFreeSpace&&v.jsxs("div",{className:"mt-0.5 relative z-10",children:[v.jsx("div",{className:"text-[7px] uppercase font-bold text-slate-700",children:"Completed by:"}),v.jsx("div",{className:"text-[9px] font-mono font-bold leading-none",children:Q.completedBy||"User"}),v.jsx("div",{className:"text-[7px] text-slate-600 mt-0.5",children:hr(Q.completedAt)})]}),Q.isCompleted&&v.jsx("div",{className:"absolute bottom-1 right-1 text-3xl font-bold text-slate-200 opacity-60 pointer-events-none z-0",children:""}),Q.isFreeSpace&&v.jsx("div",{className:"absolute inset-0 flex items-center justify-center font-bold text-xl rotate-[-45deg] opacity-20",children:"FREE"})]},Q.id))}),v.jsxs("div",{className:"mt-4 text-[9px] text-center border-t border-black pt-2 flex justify-between text-slate-500",children:[v.jsxs("span",{children:["Generated on ",new Date().toLocaleDateString()," at ",new Date().toLocaleTimeString()]}),v.jsx("span",{children:"bingo.mysunsar.com"})]})]}),v.jsx(aF,{items:i,isOpen:Wr,onClose:()=>ji(!1)}),v.jsx(Su,{isOpen:Se,onClose:()=>Be(!1),title:v.jsxs("span",{className:"flex items-center gap-2",children:[v.jsx(zf,{className:"w-5 h-5 text-accent-primary"}),"Shared With"]}),size:"md",children:v.jsxs("div",{children:[vt.length===0?v.jsx("div",{className:"text-center text-slate-400 py-8",children:v.jsx("p",{children:"This board hasn't been shared yet."})}):v.jsx("div",{className:"space-y-4 mb-6",children:vt.map(Q=>v.jsxs("div",{className:Z("flex items-center justify-between p-3 rounded-xl border",U?"bg-slate-50 border-slate-200":"bg-white/5 border-white/5"),children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold text-white",children:Q.name.charAt(0)}),v.jsxs("div",{children:[v.jsx("div",{className:Z("text-sm font-semibold",U?"text-slate-900":"text-white"),children:Q.name}),v.jsxs("div",{className:Z("text-xs",U?"text-slate-500":"text-slate-400"),children:[Q.email,"  ",Q.role]})]})]}),v.jsx("button",{onClick:()=>Xt(Q.id,Q.name),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Remove User",children:v.jsx(Bf,{size:16})})]},Q.id))}),v.jsxs("button",{onClick:Qn,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all flex items-center justify-center gap-2",children:[v.jsx(uh,{size:18}),"Invite New User"]})]})}),v.jsx(Su,{isOpen:Ue,onClose:()=>et(!1),title:v.jsxs("span",{className:"flex items-center gap-2",children:[v.jsx(kS,{className:"w-5 h-5 text-accent-primary"}),"Ready to Go Live?"]}),size:"sm",footer:v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>et(!1),className:Z("flex-1 py-3 rounded-xl font-semibold transition-colors",U?"bg-slate-100 text-slate-700 hover:bg-slate-200":"bg-white/5 text-slate-300 hover:bg-white/10"),children:"Not Yet"}),v.jsx("button",{onClick:to,className:"flex-1 py-3 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl font-bold text-white shadow-lg hover:shadow-green-500/25 transition-all",children:"Let's Go! "})]}),children:v.jsxs("div",{children:[v.jsxs("p",{className:Z("mb-6 leading-relaxed",U?"text-slate-600":"text-slate-300"),children:["Going live will ",v.jsx("strong",{className:U?"text-slate-800":"text-white",children:"lock the board"})," for play mode. You won't be able to edit items easily anymore."]}),v.jsx("div",{className:Z("rounded-xl p-4 mb-6 cursor-pointer transition-colors",U?"bg-slate-100 border border-slate-200 hover:bg-slate-200":"bg-white/5 border border-white/10 hover:bg-white/10"),onClick:()=>yt(!ke),children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:Z("mt-1 w-5 h-5 rounded border flex items-center justify-center transition-colors",ke?"bg-accent-primary border-accent-primary":U?"border-slate-400":"border-slate-500"),children:ke&&v.jsx(Ns,{size:14,className:"text-white"})}),v.jsxs("div",{children:[v.jsx("div",{className:Z("font-semibold",U?"text-slate-800":"text-white"),children:"Shuffle Items?"}),v.jsx("div",{className:Z("text-xs mt-1",U?"text-slate-500":"text-slate-400"),children:"Randomize the grid arrangement one last time before locking."})]})]})})]})}),v.jsx(Su,{isOpen:_i,onClose:()=>{Ti(!1),xt(null)},title:"Goal Status",size:"sm",footer:v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>{Ti(!1),xt(null)},className:Z("flex-1 py-2.5 rounded-xl font-semibold transition-colors",U?"bg-slate-100 text-slate-700 hover:bg-slate-200":"bg-white/5 text-slate-300 hover:bg-white/10"),children:"Cancel"}),v.jsx("button",{onClick:()=>{Ve!==null&&di(Ve),Ti(!1),xt(null)},className:"flex-1 py-2.5 px-4 bg-amber-600 hover:bg-amber-500 rounded-xl font-bold text-white shadow-lg transition-all",children:"Mark Incomplete"})]}),children:Ve!==null&&an[Ve]&&v.jsxs("div",{className:"text-center",children:[an[Ve].proofPhotos&&an[Ve].proofPhotos.length>0&&v.jsxs("div",{className:"mb-4 relative rounded-xl overflow-hidden",children:[v.jsx("img",{src:an[Ve].proofPhotos[0],alt:"Goal photo",className:"w-full h-32 object-cover"}),an[Ve].proofPhotos.length>1&&v.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/60 px-2 py-1 rounded text-xs text-white",children:["+",an[Ve].proofPhotos.length-1," more"]})]}),v.jsxs("div",{className:Z("rounded-xl p-4 mb-4",U?"bg-emerald-50 border border-emerald-200":"bg-emerald-500/10 border border-emerald-500/30"),children:[v.jsx("div",{className:Z("text-xs font-bold uppercase tracking-wider mb-1",U?"text-emerald-700":"text-emerald-400"),children:" Completed"}),v.jsx("div",{className:Z("text-lg font-bold",U?"text-slate-900":"text-white"),children:an[Ve].text})]}),v.jsxs("p",{className:Z("text-sm",U?"text-slate-600":"text-slate-400"),children:["Are you sure you want to mark this goal as ",v.jsx("strong",{className:U?"text-amber-600":"text-amber-400",children:"incomplete"}),"?",an[Ve].proofPhotos&&an[Ve].proofPhotos.length>0&&v.jsx("span",{children:" Your photos will be preserved."})]})]})})]})},Do=({className:t,...e})=>{const{settings:n}=Oi(),i=n.theme==="light";return v.jsx("div",{className:Z("animate-pulse rounded-lg",i?"bg-slate-200":"bg-white/5",t),...e})},iq=()=>{const{user:t}=Ja(),e=oI(),{settings:n}=Oi(),i=n.theme==="light",a=Om(),[l,c]=S.useState([]),[h,d]=S.useState(!0),[m,g]=S.useState(!1),[b,x]=S.useState(null),[A,k]=S.useState(5),[I,N]=S.useState(null),[B,H]=S.useState(""),q=(V,O)=>{V.preventDefault(),V.stopPropagation(),N(O.id),H(O.title)},oe=async V=>{if(V.preventDefault(),V.stopPropagation(),!!I){try{await ii(Ds(ri,"boards",I),{title:B}),c(O=>O.map(we=>we.id===I?{...we,title:B}:we))}catch(O){console.error("Error updating title:",O)}N(null)}},se=V=>{V.preventDefault(),V.stopPropagation(),N(null)},ue=V=>{V.key==="Enter"?oe(V):V.key==="Escape"?(V.stopPropagation(),N(null)):V.stopPropagation()},D=[{size:3,label:"33",description:"Quick (9 tiles)",icon:""},{size:4,label:"44",description:"Compact (16 tiles)",icon:""},{size:5,label:"55",description:"Classic (25 tiles)",icon:""},{size:6,label:"66",description:"Extended (36 tiles)",icon:""}],C={blank:{name:"Blank Canvas ",items:[]},default:{name:"2026 Goals ",items:["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"]},fitness:{name:"Fitness Challenge ",items:["Run a 5k","Do 50 pushups in a row","Try a yoga class","Drink 3L water for a week","No sugar for 7 days","Go for a hike","Meal prep for a week","Climb a bouldering wall","Try Pilates","Walk 15k steps in a day","Do a spin class","Bike 20km","FREE SPACE","Touch your toes","Hold a plank for 2 min","Try CrossFit","Go swimming","Meditate for 10 mins x 7","Try a new sport","Sleep 8 hours x 5 days","Do 100 squats","Run a 10k","Go to the gym 4x in a week","Stretch daily for a week","Join a run club"]},couples:{name:"Couple Goals ",items:["Date night (no phones)","Cook a meal together","Weekend getaway","Watch a whole series","Breakfast in bed","Go for a long walk","Plan a future trip","Give each other massages","Recreate first date","Take a dance class","Stargazing date","Write love letters","FREE SPACE","Visit a winery/brewery","Do a puzzle together","Double date","Sunset picnic","Bake something sweet","Volunteer together","Learn a couple's skill","Game night","Make a photo album","Try a new restaurant","Surprise gift","Kiss in the rain"]},personal:{name:"Personal Growth ",items:["Read 1 book/month","Learn a new language","Start a journal","Digital detox (24h)","Meditate daily (1 week)","Drink 2L water daily","Wake up at 6am (1 week)","Declutter a room","Learn to invest","Take a solo trip","Volunteer","Compliment a stranger","FREE SPACE","No social media (weekend)","Learn an instrument","Cook a new cuisine","Write a gratitude list","Take a cold shower","Listen to a podcast","Fix sleep schedule","Walk 10k steps","Call an old friend","Create a vision board","Save 10% income","Take a course"]},knitting:{name:"Knitting Goals ",items:["Finish a WIP","Cast on a sweater","Learn brioche","Knit socks","Stash bust project","Try colorwork","Knit a hat","Use luxury yarn","Fix a mistake","Knit a gift","Block a project","Organize needles","FREE SPACE","Try a new fiber","Knit in public","Attend a knit night","Learn magic loop","Design a pattern","Teach someone to knit","Finish a blanket","Knit a shawl","Try cables","Buy souvenir yarn","Weave in ends immediately","Knit a gauge swatch"]},weaving:{name:"Weaving Goals ",items:["Warp the loom","Weave a rug","Try a new structure","Sample a pattern","Use handspun yarn","Finish a scarf","Hemstitching","Fix a broken warp","Weave a towel","Try tapestry","Mix fibers","Organize yarn stash","FREE SPACE","Weave a placemat","Attend a workshop","Try doublewidth","Weave transparency","Calculate warp correctly","Finish raw edges","Weave with rags","Try tablet weaving","Rigid heddle project","Floor loom project","Visit a mill","Share a project online"]},spinning:{name:"Spinning Goals ",items:["Spin 100g fiber","Ply a yarn","Try a new breed","Spin lace weight","Spin art yarn","Comb fleece","Card a batt","Spin on a drop spindle","Clean the wheel","Spin distinct colors","Skein and wash","Fractal spin","FREE SPACE","Spin silk","Spin cotton","Navajo ply","Spin for a project","Participate in Tour de Fleece","Sample a blend","Teach spinning","Spin consistent grist","Dye fiber","Blend colors on hackle","Spin exotic fiber","Fill a bobbin"]},painting:{name:"Painting Goals ",items:["Paint a landscape","Try watercolors","Paint a portrait","Mix a new color","Paint en plein air","Visit a gallery","Finish a sketchbook","Try oils","Paint a still life","Use a palette knife","Paint an animal","Try abstract","FREE SPACE","Clean brushes properly","Paint on canvas","Paint on wood","Follow a tutorial","Paint a sky","Try gouache","Varnish a painting","Frame a piece","Paint daily for a week","Recreate a master","Paint a self-portrait","Host a paint night"]},corporate:{name:"Corporate Bingo ",items:['"Circle back"',`"Let's take this offline"`,"Meeting that could be an email",'"Synergy"','"Low hanging fruit"','"Touch base"',"Someone forgets to mute","Screen share fails",'"Can you see my screen?"',"Awkward silence",'"Bandwidth"','"Deep dive"',"FREE SPACE","Pet interrupts video call","Echo on the line",'"Per my last email"','"Drill down"','"Out of pocket"','"Hard stop"','"Boil the ocean"',"Reply All disaster",'"Move the needle"','"Blue sky thinking"','"Paradigm shift"','"Quick win"']},travel:{name:"Travel Bucket List ",items:["Visit a new continent","Go on a solo trip","See the Northern Lights","Swim in an ocean","Road trip across 3 states","Fly First Class","Visit a National Park","Eat street food","Stay in a hostel","Learn 'Hello' in 5 languages","Visit a Wonder of the World","Go on a cruise","FREE SPACE","Make a travel vlog","Sleep under the stars","Visit a castle","Ride a train","See a volcano","Go scuba diving","Watch a sunrise on a mountain","Visit a winery","Ride a camel/elephant","Go skiing/snowboarding","Visit a tropical island","Send a postcard"]}};S.useEffect(()=>{if(!t)return;(async()=>{try{console.log("Fetching boards for user:",t.uid,t.email);const O=new Map;try{const K=nh(jo(ri,"boards"),ih(`members.${t.uid}`,"in",["owner","editor","viewer"])),j=await Jl(K);console.log("Boards with membership found:",j.docs.length),j.docs.forEach(T=>{const L=T.data(),Y=L.members?.[t.uid],ne=L.members||{},pe=Object.values(ne).filter(ye=>ye!=="owner").length;O.set(T.id,{id:T.id,...L,sharedCount:pe,myRole:Y,members:ne})})}catch(K){console.error("Error querying boards by membership:",K)}try{const K=nh(jo(ri,"years"),ih("ownerId","==",t.uid)),j=await Jl(K);console.log("Legacy boards (years collection) found:",j.docs.length),j.docs.forEach(T=>{const L=T.data();O.set(`legacy_${T.id}`,{id:T.id,title:L.title||"2026 Bingo",createdAt:L.createdAt,isLocked:L.isLocked,ownerId:L.ownerId,myRole:"owner",members:{}})})}catch(K){console.log("Years collection query failed:",K)}try{const K=await Jl(jo(ri,"years"));console.log("All years docs:",K.docs.length),K.docs.forEach(j=>{const T=j.data();if(T.ownerId===t.uid||T.members?.[t.uid]){const L=`legacy_years_${j.id}`;O.has(L)||O.set(L,{id:j.id,title:T.title||`${j.id} Bingo`,createdAt:T.createdAt,isLocked:T.isLocked,ownerId:T.ownerId,myRole:T.ownerId===t.uid?"owner":T.members?.[t.uid]||"viewer",members:T.members||{}})}})}catch(K){console.log("Direct years fetch failed:",K)}const we=Array.from(O.values()),xe=new Set;we.forEach(K=>{K.myRole!=="owner"&&(K.ownerId&&K.ownerId!==t.uid&&xe.add(K.ownerId),K.members&&Object.entries(K.members).forEach(([j,T])=>{T==="owner"&&j!==t.uid&&xe.add(j)}))});const J=Array.from(xe),X={};for(const K of J)try{const j=await Dh(Ds(ri,"users",K));if(j.exists()){const T=j.data();X[K]=T.displayName||T.email||"Unknown"}}catch{console.log("Could not fetch owner info for:",K)}const $=we.map(K=>{let j=K.ownerId;if(K.members){const T=Object.keys(K.members).find(L=>K.members[L]==="owner"&&L!==t.uid);T&&(j=T)}return K.myRole!=="owner"&&j&&X[j]?{...K,ownerName:X[j]}:K});console.log("Total boards to display:",$.length,$.map(K=>K.title)),c($)}catch(O){console.error("Error fetching boards:",O)}finally{d(!1)}})()},[t]);const P=async V=>{if(!t)return;const O=C[V],we=A,xe=we*we,J=we%2===1?Math.floor(xe/2):-1,X=we%2===1?xe-1:xe,$=await e.prompt("What would you like to call this board?",{title:"Board Title",inputDefaultValue:O.name,confirmText:"Create"});if($)try{const K=O.items.filter(ne=>ne.trim().toUpperCase()!=="FREE SPACE"&&ne!=="FREE SPACE"),j=[...K].sort(()=>.5-Math.random());for(;j.length<X;)j.push(K[j.length%K.length]||`Goal ${j.length+1}`);const T=[];let L=0;for(let ne=0;ne<xe;ne++)ne===J&&we%2===1?T.push({id:ne,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(T.push({id:ne,text:j[L],isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),L++);const Y=await cR(jo(ri,"boards"),{title:$,gridSize:we,ownerId:t.uid,members:{[t.uid]:"owner"},items:T,createdAt:He.now(),isLocked:!1,lastUpdated:He.now()});a(`/board/${Y.id}`)}catch(K){console.error("Error creating board:",K),await e.alert("Failed to create board. Please try again.",{title:"Error",type:"error"})}finally{g(!1),x(null),k(5)}};if(h)return v.jsx("div",{className:"min-h-screen bg-transparent p-6 relative",children:v.jsxs("div",{className:"max-w-6xl mx-auto",children:[v.jsxs("header",{className:"flex justify-between items-center mb-12 py-2",children:[v.jsx(Do,{className:"h-10 w-32 md:w-40"}),v.jsxs("div",{className:"flex gap-2 items-center",children:[v.jsx(Do,{className:"w-10 h-10 rounded-full"}),v.jsx(Do,{className:"w-10 h-10 rounded-full"}),v.jsx(Do,{className:"w-20 h-10 rounded-xl"})]})]}),v.jsxs("div",{className:"mb-10",children:[v.jsx(Do,{className:"h-12 w-64 mb-3 rounded-lg"}),v.jsx(Do,{className:"h-6 w-48 rounded-md"})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((V,O)=>v.jsx(Do,{className:"h-48 rounded-2xl"},O))})]})});const U=async(V,O,we)=>{if(V.stopPropagation(),await e.confirm(`This will permanently delete "${we}" and all its data.

This action cannot be undone.`,{title:"Delete Board?",confirmText:"Delete",type:"error"}))try{await lR(Ds(ri,"boards",O)),c(J=>J.filter(X=>X.id!==O)),await e.alert("Board deleted successfully.",{title:"Deleted",type:"success"})}catch(J){console.error("Error deleting board:",J),await e.alert("Failed to delete board. Please try again.",{title:"Error",type:"error"})}},z=async(V,O,we)=>{if(V.stopPropagation(),!t)return;if(await e.confirm(`You will no longer have access to "${we}".

You can ask the owner to re-share it if needed.`,{title:"Leave Board?",confirmText:"Leave",type:"warning"}))try{await ii(Ds(ri,"boards",O),{[`members.${t.uid}`]:hm()}),c(J=>J.filter(X=>X.id!==O)),await e.alert("You have left the board.",{title:"Left Board",type:"success"})}catch(J){console.error("Error leaving board:",J),await e.alert("Failed to leave board. Please try again.",{title:"Error",type:"error"})}};return v.jsxs("div",{children:[v.jsxs("div",{className:"max-w-6xl mx-auto",children:[v.jsxs("div",{className:"mb-10 flex flex-col md:flex-row md:items-end justify-between gap-4",children:[v.jsxs("div",{children:[v.jsx("h1",{className:Z("text-3xl font-semibold tracking-tight",i?"text-slate-800":"text-white"),children:"My Boards"}),v.jsxs("p",{className:Z("mt-1",i?"text-slate-600":"text-slate-400"),children:["Welcome back, ",v.jsx("span",{className:Z("font-medium",i?"text-slate-900":"text-white"),children:t?.displayName?.split(" ")[0]||"Bingo Player"})]})]}),v.jsxs("button",{onClick:()=>g(!0),className:Z("flex items-center gap-2 px-4 py-2 font-bold rounded-lg transition-colors shadow-lg active:scale-95",i?"bg-slate-900 text-white hover:bg-slate-800":"bg-white text-bg-dark hover:bg-slate-200"),children:[v.jsx(uh,{className:"w-5 h-5"}),v.jsx("span",{children:"New Board"})]})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.filter(V=>V.myRole==="owner").map(V=>{const we=V.id==="2026"||!V.ownerId?`/board/legacy/${V.id}`:`/board/${V.id}`;return v.jsxs("div",{onClick:xe=>{xe.preventDefault(),console.log("Navigating to board:",we),a(we)},className:Z("group relative h-48 p-6 flex flex-col justify-between cursor-pointer overflow-hidden active:scale-[0.99] rounded-xl border transition-all",i?"bg-white border-slate-200 hover:bg-slate-50 hover:shadow-lg":"bg-[var(--theme-bg-card)] border-[var(--theme-border)] hover:bg-zinc-900"),children:[v.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:v.jsx("button",{onClick:xe=>U(xe,V.id,V.title),className:Z("p-2 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",i?"text-slate-400 hover:text-red-500 hover:bg-red-50":"text-slate-500 hover:text-red-400 hover:bg-white/10"),title:"Delete Board",children:v.jsx(Bf,{size:18})})}),v.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"h-7 mb-2",children:!!V.sharedCount&&V.sharedCount>0&&v.jsxs("span",{className:Z("inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider border",i?"bg-emerald-50 text-emerald-600 border-emerald-200":"bg-emerald-500/20 text-emerald-400 border-emerald-500/30"),children:[v.jsx(a8,{size:10}),"Shared with ",V.sharedCount]})}),I===V.id?v.jsxs("div",{className:"flex items-center gap-2 mb-1.5 z-30 relative",onClick:xe=>xe.stopPropagation(),children:[v.jsx("input",{type:"text",value:B,onChange:xe=>H(xe.target.value),onKeyDown:ue,onClick:xe=>xe.stopPropagation(),autoFocus:!0,className:Z("font-bold text-xl rounded px-2 py-0.5 border border-accent-primary outline-none min-w-0 flex-1 w-full",i?"bg-white text-slate-800":"bg-black/50 text-white")}),v.jsx("button",{onClick:oe,className:"p-1 text-green-400 hover:bg-green-400/20 rounded-full transition-colors",children:v.jsx(Ns,{size:18})}),v.jsx("button",{onClick:se,className:"p-1 text-red-400 hover:bg-red-400/20 rounded-full transition-colors",children:v.jsx(Br,{size:18})})]}):v.jsxs("div",{className:"flex items-start gap-2 pr-8 mb-1.5",children:[v.jsx("h3",{className:Z("text-xl font-bold line-clamp-2 group-hover:text-accent-primary transition-colors",i?"text-slate-800":"text-white"),children:V.title}),v.jsx("button",{onClick:xe=>q(xe,V),className:Z("opacity-0 group-hover:opacity-100 p-1.5 rounded-full transition-all z-20",i?"text-slate-400 hover:text-slate-700 hover:bg-slate-100":"text-slate-400 hover:text-white hover:bg-white/10"),title:"Rename Board",children:v.jsx(FB,{size:14})})]}),v.jsxs("div",{className:Z("flex items-center gap-2 text-xs",i?"text-slate-500":"text-slate-400"),children:[v.jsx(Em,{className:"w-3.5 h-3.5"}),V.createdAt?.toDate?V.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),v.jsx("div",{className:"mt-4",children:v.jsx("span",{className:Z("inline-block px-4 py-1.5 rounded-xl text-xs font-bold border transition-all shadow-sm","bg-accent-primary/10 text-accent-primary border-accent-primary/20 group-hover:bg-accent-primary group-hover:text-white"),children:"Open Board"})})]})]},V.id)})}),l.filter(V=>V.myRole!=="owner").length>0&&v.jsxs(v.Fragment,{children:[v.jsxs("h2",{className:Z("text-xl font-bold mt-10 mb-6 flex items-center gap-2",i?"text-slate-800":"text-white"),children:[v.jsx("span",{className:"bg-gradient-to-r from-accent-secondary to-pink-500 bg-clip-text text-transparent",children:"Shared With Me"}),v.jsxs("span",{className:Z("text-sm font-normal","text-slate-500"),children:["(",l.filter(V=>V.myRole!=="owner").length,")"]})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.filter(V=>V.myRole!=="owner").map(V=>{const we=V.id==="2026"||!V.ownerId?`/board/legacy/${V.id}`:`/board/${V.id}`;return v.jsxs("div",{onClick:xe=>{xe.preventDefault(),console.log("Navigating to shared board:",we),a(we)},className:Z("group relative h-48 p-6 flex flex-col justify-between cursor-pointer overflow-hidden active:scale-[0.99] rounded-xl border transition-all",i?"bg-white border-slate-200 hover:bg-slate-50 hover:shadow-lg":"bg-[var(--theme-bg-card)] border-[var(--theme-border)] hover:bg-zinc-900"),children:[v.jsx("div",{className:Z("absolute top-0 right-0 p-4 transition-opacity pointer-events-none",i?"opacity-5 group-hover:opacity-10":"opacity-10 group-hover:opacity-20"),children:v.jsx(zb,{className:"w-24 h-24"})}),v.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:v.jsx("button",{onClick:xe=>z(xe,V.id,V.title),className:Z("p-2 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",i?"text-slate-400 hover:text-amber-600 hover:bg-amber-50":"text-slate-500 hover:text-amber-400 hover:bg-white/10"),title:"Leave Board",children:v.jsx(sI,{size:18})})}),v.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"h-7 mb-2",children:v.jsx("span",{className:Z("inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider border",V.myRole==="editor"?i?"bg-purple-50 text-purple-600 border-purple-200":"bg-accent-secondary/20 text-accent-secondary border-accent-secondary/30":i?"bg-blue-50 text-blue-600 border-blue-200":"bg-blue-500/20 text-blue-400 border-blue-500/30"),children:V.myRole==="editor"?" Editor":" Viewer"})}),v.jsx("h3",{className:Z("text-xl font-bold mb-1 line-clamp-1 pr-8",i?"text-slate-800":"text-white"),children:V.title}),V.ownerName&&v.jsxs("div",{className:Z("text-xs mb-1.5","text-slate-500"),children:["Shared by ",v.jsx("span",{className:i?"text-slate-700":"text-slate-400",children:V.ownerName})]}),v.jsxs("div",{className:Z("flex items-center gap-2 text-xs",i?"text-slate-500":"text-slate-400"),children:[v.jsx(Em,{className:"w-3.5 h-3.5"}),V.createdAt?.toDate?V.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),v.jsx("div",{className:"mt-4",children:v.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-secondary/10 text-accent-secondary border border-accent-secondary/20 group-hover:bg-accent-secondary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},V.id)})})]})]}),m&&v.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[v.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>{b?x(null):g(!1)}}),v.jsxs("div",{className:"relative w-full max-w-2xl bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[v.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center shrink-0",children:[v.jsx("h2",{className:"text-xl font-bold text-white",children:b?C[b].name:"Choose a Template"}),v.jsx("button",{onClick:()=>{b?x(null):g(!1)},className:"text-slate-400 hover:text-white",children:v.jsx(uh,{className:"w-6 h-6 rotate-45"})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:b?v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"mb-4",children:[v.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Grid Size"}),v.jsx("div",{className:"grid grid-cols-4 gap-2",children:D.map(({size:V,label:O,icon:we})=>v.jsxs("button",{onClick:()=>k(V),className:`p-3 rounded-xl border text-center transition-all ${A===V?"bg-accent-primary/20 border-accent-primary text-white":"bg-white/5 border-white/10 text-slate-400 hover:bg-white/10 hover:text-white"}`,children:[v.jsx("span",{className:"text-lg block",children:we}),v.jsx("span",{className:"font-bold text-sm",children:O}),v.jsxs("span",{className:"text-[10px] block opacity-70",children:[V*V," tiles"]})]},V))})]}),v.jsx("div",{className:"flex justify-center",children:v.jsx("div",{className:`aspect-square w-full max-w-[380px] grid gap-1.5 p-3 bg-slate-950/50 rounded-xl border border-white/10 ${A===3?"grid-cols-3":A===4?"grid-cols-4":A===5?"grid-cols-5":"grid-cols-6"}`,children:(()=>{const V=A*A,O=A%2===1?Math.floor(V/2):-1,we=C[b].items.filter(xe=>xe.trim().toUpperCase()!=="FREE SPACE");return Array.from({length:V},(xe,J)=>{const X=J===O&&A%2===1,$=J<O||O===-1?J:J-1,K=X?"FREE":we[$%we.length]||`Goal ${J+1}`;return v.jsx("div",{className:`
                                                                relative rounded-lg flex items-center justify-center p-1 text-center select-none overflow-hidden 
                                                                ${A<=4?"text-[9px] sm:text-[11px]":"text-[7px] sm:text-[9px]"}
                                                                leading-tight font-medium border shadow-sm
                                                                ${X?"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50 text-accent-gold font-bold":"bg-white/5 border-white/10 text-slate-300"}
                                                            `,children:v.jsx("span",{className:"line-clamp-2",children:K})},J)})})()})}),v.jsxs("div",{className:"flex gap-3 pt-4",children:[v.jsx("button",{onClick:()=>x(null),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Back"}),v.jsxs("button",{onClick:()=>P(b),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all",children:["Create ",A,"",A," Board"]})]})]}):v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(C).map(([V,O])=>v.jsxs("button",{onClick:()=>x(V),className:"flex flex-col items-start p-4 rounded-xl bg-white/5 hover:bg-white/10 border border-white/5 hover:border-accent-primary/50 transition-all text-left group",children:[v.jsx("h3",{className:"font-bold text-white group-hover:text-accent-primary transition-colors",children:O.name}),v.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Click to preview"})]},V))})})]})]})]})},sq=()=>{const{settings:t}=Oi(),e=S.useRef(null),n=S.useRef(null),i=S.useRef([]),l=["cosmic","lavender","light"].includes(t.theme),c=S.useMemo(()=>{switch(t.theme){case"light":return{type:"clouds",particleCount:20,baseColor:"rgba(255, 255, 255, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #f0f9ff 0%, #e0f2fe 50%, #dbeafe 100%)",shootingStars:!1};case"cosmic":return{type:"stars",particleCount:200,baseColor:"rgba(139, 92, 246, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #1e1b4b 0%, #0f172a 40%, #020617 100%)",shootingStars:!0};case"lavender":return{type:"petals",particleCount:50,baseColor:"rgba(232, 121, 249, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #3b0764 0%, #2e1065 50%, #1a0525 100%)",shootingStars:!1};default:return{type:"none",particleCount:0,baseColor:"rgba(0, 0, 0, ",bgGradient:"none",shootingStars:!1}}},[t.theme]);return S.useEffect(()=>{const h=e.current;if(!h)return;const d=()=>{const g=[];for(let b=0;b<c.particleCount;b++)g.push(rq(h.width,h.height,c.type));i.current=g},m=()=>{h.width=window.innerWidth,h.height=window.innerHeight,d()};return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[c]),S.useEffect(()=>{if(t.enableAnimation===!1)return;const h=e.current;if(!h)return;const d=h.getContext("2d");if(!d)return;let m=0,g=null;const b=()=>{d.clearRect(0,0,h.width,h.height),i.current.forEach(x=>{aq(x,h.width,h.height,c.type),oq(d,x,c)}),c.shootingStars&&(m++,m>300&&Math.random()<.01&&(g={x:Math.random()*h.width,y:Math.random()*h.height*.5,length:80+Math.random()*40,speed:15+Math.random()*10,opacity:1},m=0),g&&(d.beginPath(),d.strokeStyle=`rgba(255, 255, 255, ${g.opacity})`,d.lineWidth=2,d.moveTo(g.x,g.y),d.lineTo(g.x-g.length,g.y-g.length*.3),d.stroke(),g.x+=g.speed,g.y+=g.speed*.3,g.opacity-=.02,g.opacity<=0&&(g=null))),n.current=requestAnimationFrame(b)};return b(),()=>{n.current&&cancelAnimationFrame(n.current)}},[t.enableAnimation,c]),l?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"fixed inset-0 z-0 transition-all duration-1000",style:{background:c.bgGradient}}),v.jsx("canvas",{ref:e,className:"fixed inset-0 z-0 pointer-events-none",style:{opacity:t.enableAnimation===!1?0:.8}}),v.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none overflow-hidden",children:[v.jsx("div",{className:`absolute w-[600px] h-[600px] rounded-full blur-[120px] animate-float-slow ${t.theme==="cosmic"?"bg-violet-600/20":t.theme==="lavender"?"bg-fuchsia-500/10":t.theme==="light"?"bg-blue-300/20":"bg-purple-500/10"}`,style:{top:"-15%",left:"-10%"}}),v.jsx("div",{className:`absolute w-[500px] h-[500px] rounded-full blur-[100px] animate-float-slower ${t.theme==="cosmic"?"bg-pink-600/20":t.theme==="lavender"?"bg-purple-600/20":t.theme==="light"?"bg-sky-300/20":"bg-pink-500/10"}`,style:{bottom:"-10%",right:"-5%"}})]})]}):null};function rq(t,e,n){const i={x:Math.random()*t,y:Math.random()*e,opacity:Math.random()*.5+.2};switch(n){case"stars":return{...i,size:Math.random()*3+1,speedX:0,speedY:0,opacity:Math.random()*.8+.4};case"clouds":return{...i,size:Math.random()*80+40,speedX:Math.random()*.3+.1,speedY:Math.random()*.05-.025,opacity:Math.random()*.4+.3};case"leaves":return{...i,size:Math.random()*6+3,speedX:Math.random()*.5-.25,speedY:Math.random()*.8+.3,hue:Math.random()*40+80};case"petals":return{...i,size:Math.random()*6+3,speedX:Math.random()*.5-.25,speedY:Math.random()*.5+.2,hue:Math.random()*40+280};case"bubbles":return{...i,size:Math.random()*8+2,speedX:Math.random()*.3-.15,speedY:-(Math.random()*.8+.3)};case"embers":return{...i,size:Math.random()*3+1,speedX:Math.random()*.4-.2,speedY:-(Math.random()*1+.5),hue:Math.random()*30+15};default:return{...i,size:Math.random()*4+1,speedX:Math.random()*.3-.15,speedY:Math.random()*.2-.1,hue:Math.random()*60+240}}}function aq(t,e,n,i){t.x+=t.speedX,t.y+=t.speedY,i==="stars"&&(t.opacity+=(Math.random()-.5)*.05,t.opacity=Math.max(.1,Math.min(1,t.opacity))),t.x<0&&(t.x=e),t.x>e&&(t.x=0),t.y<0&&(t.y=n),t.y>n&&(t.y=0)}function oq(t,e,n){switch(t.beginPath(),n.type){case"stars":t.fillStyle=`rgba(255, 255, 255, ${e.opacity})`,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill(),e.opacity>.7&&(t.beginPath(),t.fillStyle=`rgba(200, 220, 255, ${e.opacity*.3})`,t.arc(e.x,e.y,e.size*3,0,Math.PI*2),t.fill());break;case"clouds":t.save(),t.shadowColor="rgba(100, 150, 200, 0.3)",t.shadowBlur=20,t.fillStyle=`rgba(255, 255, 255, ${e.opacity})`,t.arc(e.x,e.y,e.size*.6,0,Math.PI*2),t.fill(),t.beginPath(),t.arc(e.x-e.size*.4,e.y+e.size*.1,e.size*.45,0,Math.PI*2),t.fill(),t.beginPath(),t.arc(e.x+e.size*.4,e.y+e.size*.1,e.size*.5,0,Math.PI*2),t.fill(),t.restore();break;case"leaves":t.fillStyle=`hsla(${e.hue}, 60%, 50%, ${e.opacity})`,t.ellipse(e.x,e.y,e.size,e.size*.5,e.x*.01,0,Math.PI*2),t.fill();break;case"petals":t.fillStyle=`hsla(${e.hue}, 70%, 60%, ${e.opacity})`,t.ellipse(e.x,e.y,e.size,e.size*.6,e.x*.02,0,Math.PI*2),t.fill();break;case"bubbles":t.strokeStyle=n.baseColor+`${e.opacity})`,t.lineWidth=1,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.stroke(),t.beginPath(),t.fillStyle=`rgba(255, 255, 255, ${e.opacity*.5})`,t.arc(e.x-e.size*.3,e.y-e.size*.3,e.size*.2,0,Math.PI*2),t.fill();break;case"embers":const i=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size);i.addColorStop(0,`hsla(${e.hue}, 100%, 70%, ${e.opacity})`),i.addColorStop(1,`hsla(${e.hue}, 100%, 50%, 0)`),t.fillStyle=i,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill();break;default:const a=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size*2);a.addColorStop(0,`hsla(${e.hue}, 80%, 60%, ${e.opacity})`),a.addColorStop(1,`hsla(${e.hue}, 80%, 60%, 0)`),t.fillStyle=a,t.arc(e.x,e.y,e.size*2,0,Math.PI*2),t.fill();break}}const _f=({icon:t,title:e,description:n,color:i})=>v.jsxs(Qe.div,{whileHover:{scale:1.02},className:"bg-white/5 border border-white/10 rounded-2xl p-6 backdrop-blur-sm",children:[v.jsx("div",{className:Z("w-12 h-12 rounded-xl flex items-center justify-center mb-4",i),children:v.jsx(t,{size:24,className:"text-white"})}),v.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:e}),v.jsx("p",{className:"text-slate-400 text-sm",children:n})]}),n0=({number:t,title:e,description:n})=>v.jsxs("div",{className:"flex gap-4",children:[v.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-accent-primary/20 border border-accent-primary/50 flex items-center justify-center text-accent-primary font-bold",children:t}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold text-white mb-1",children:e}),v.jsx("p",{className:"text-slate-400 text-sm",children:n})]})]}),lq=()=>{const t=Om(),{settings:e}=Oi(),n=e.theme==="light";return v.jsx("div",{className:Z("min-h-screen p-6 relative overflow-x-hidden pb-32 bg-transparent",n?"text-slate-800":"text-white"),children:v.jsxs("div",{className:"max-w-5xl mx-auto",children:[v.jsxs(Qe.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>t(-1),className:Z("flex items-center gap-2 transition-colors mb-8 group",n?"text-slate-600 hover:text-slate-900":"text-slate-400 hover:text-white"),children:[v.jsx(pB,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),"Back"]}),v.jsxs("div",{className:"text-center mb-16",children:[v.jsx(Qe.div,{initial:{scale:0},animate:{scale:1},className:"inline-flex items-center justify-center w-20 h-20 rounded-3xl bg-gradient-to-br from-accent-primary to-accent-secondary mb-6 shadow-2xl",children:v.jsx(Tm,{size:40,className:"text-white"})}),v.jsxs(Qe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl sm:text-5xl font-extrabold mb-4",children:["Welcome to ",v.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent",children:"SunSar Bingo"})]}),v.jsx(Qe.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:Z("text-xl max-w-2xl mx-auto",n?"text-slate-600":"text-slate-400"),children:"Turn your 2026 goals into a beautiful, social game. Track progress, celebrate wins, and stay motivated together."})]}),v.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-16",children:[v.jsx(_f,{icon:zb,title:"Custom Boards",description:"Create 3x3, 4x4, or 5x5 grids for any goal type",color:"bg-blue-500"}),v.jsx(_f,{icon:ch,title:"Photo Memories",description:"Attach photos to tiles and build a visual journal",color:"bg-green-500"}),v.jsx(_f,{icon:PS,title:"Shared Boards",description:"Invite friends to track goals together",color:"bg-purple-500"}),v.jsx(_f,{icon:Sm,title:"8 Themes",description:"Beautiful themes including 3 with animations",color:"bg-pink-500"})]}),v.jsxs(Qe.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-16",children:[v.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[v.jsx("div",{className:"p-3 bg-blue-500/20 rounded-xl text-blue-400",children:v.jsx(uh,{size:28})}),v.jsx("h2",{className:"text-2xl font-bold",children:"Getting Started"})]}),v.jsxs("div",{className:Z("rounded-3xl p-8 backdrop-blur-sm space-y-6",n?"bg-white/60 border border-slate-200":"bg-white/5 border border-white/10"),children:[v.jsx(n0,{number:1,title:"Create Your Board",description:"From the dashboard, click 'Create Board'. Choose from templates like 'Fitness', 'Travel', or 'Self Care'  or start blank."}),v.jsx(n0,{number:2,title:"Customize Your Goals",description:"Write specific, actionable goals for each tile. You can set multi-count targets (e.g., 'Run 10 miles' with progress tracking) and due dates."}),v.jsx(n0,{number:3,title:"Go Live",description:"Click 'Go Live' to lock your board and start playing. The board structure is now set  time to start completing goals!"})]})]}),v.jsxs(Qe.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mb-16",children:[v.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[v.jsx("div",{className:"p-3 bg-green-500/20 rounded-xl text-green-400",children:v.jsx(JB,{size:28})}),v.jsx("h2",{className:"text-2xl font-bold",children:"Playing & Tracking"})]}),v.jsx("div",{className:Z("rounded-3xl p-8 backdrop-blur-sm",n?"bg-white/60 border border-slate-200":"bg-white/5 border border-white/10"),children:v.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[v.jsx(rI,{className:"w-5 h-5 text-yellow-400"}),"Completing Goals"]}),v.jsxs("ul",{className:Z("space-y-3 text-sm",n?"text-slate-600":"text-slate-400"),children:[v.jsxs("li",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary mt-2 flex-shrink-0"}),v.jsxs("span",{children:[v.jsx("strong",{children:"Tap any tile"})," to open it and mark progress"]})]}),v.jsxs("li",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary mt-2 flex-shrink-0"}),v.jsxs("span",{children:[v.jsx("strong",{children:"Add photos"})," as proof and memories"]})]}),v.jsxs("li",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary mt-2 flex-shrink-0"}),v.jsxs("span",{children:[v.jsx("strong",{children:"Track multi-count"})," goals with +/- buttons"]})]})]})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[v.jsx(MS,{className:"w-5 h-5 text-amber-400"}),"Winning Bingo"]}),v.jsxs("p",{className:Z("text-sm",n?"text-slate-600":"text-slate-400"),children:["Complete any full ",v.jsx("strong",{children:"row"}),", ",v.jsx("strong",{children:"column"}),", or ",v.jsx("strong",{children:"diagonal"})," to score a BINGO! Watch for the confetti celebration when you hit one. The goal is to fill the entire board  but each bingo along the way is a victory."]}),v.jsxs("div",{className:Z("p-4 rounded-xl text-center",n?"bg-amber-50 border border-amber-200":"bg-amber-500/10 border border-amber-500/30"),children:[v.jsx("span",{className:"font-bold text-amber-500",children:"Pro tip:"}),v.jsx("span",{className:Z("ml-2 text-sm",n?"text-slate-700":"text-slate-300"),children:"The center tile is a FREE space!"})]})]})]})})]}),v.jsxs(Qe.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mb-16",children:[v.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[v.jsx("div",{className:"p-3 bg-purple-500/20 rounded-xl text-purple-400",children:v.jsx(zf,{size:28})}),v.jsx("h2",{className:"text-2xl font-bold",children:"Playing Together"})]}),v.jsx("div",{className:Z("rounded-3xl p-8 backdrop-blur-sm",n?"bg-white/60 border border-slate-200":"bg-white/5 border border-white/10"),children:v.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[v.jsxs("div",{children:[v.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[v.jsx(PS,{className:"w-5 h-5 text-accent-secondary"}),"Invite Collaborators"]}),v.jsx("p",{className:Z("text-sm mb-4",n?"text-slate-600":"text-slate-400"),children:"Share your board with friends, family, or teammates. Everyone can view progress and complete tiles together."}),v.jsxs("ul",{className:Z("space-y-2 text-sm",n?"text-slate-600":"text-slate-400"),children:[v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Editors"})," can mark goals complete"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Viewers"})," can see progress"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Owner"})," controls board settings"]})]})]}),v.jsxs("div",{children:[v.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[v.jsx(MS,{className:"w-5 h-5 text-amber-400"}),"Competition Mode"]}),v.jsxs("p",{className:Z("text-sm mb-4",n?"text-slate-600":"text-slate-400"),children:["On shared boards, tiles show ",v.jsx("strong",{children:"who completed them first"}),". Race your friends to complete the most goals!"]}),v.jsxs("div",{className:Z("rounded-xl p-4 border text-center",n?"bg-slate-50 border-slate-200":"bg-black/40 border-white/5"),children:[v.jsx("span",{className:Z("text-xs uppercase tracking-widest","text-slate-500"),children:"Example"}),v.jsx("div",{className:"mt-2 font-bold",children:'"Run a 5K"'}),v.jsx("div",{className:"text-xs text-accent-primary mt-1",children:" Completed by Sunit"})]})]})]})})]}),v.jsxs(Qe.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"mb-16",children:[v.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[v.jsx("div",{className:"p-3 bg-pink-500/20 rounded-xl text-pink-400",children:v.jsx(Sm,{size:28})}),v.jsx("h2",{className:"text-2xl font-bold",children:"Themes & Customization"})]}),v.jsxs("div",{className:Z("rounded-3xl p-8 backdrop-blur-sm",n?"bg-white/60 border border-slate-200":"bg-white/5 border border-white/10"),children:[v.jsxs("p",{className:Z("text-sm mb-6",n?"text-slate-600":"text-slate-400"),children:["Choose from ",v.jsx("strong",{children:"8 beautiful themes"})," to match your style. Access themes anytime from the sidebar or Settings."]}),v.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-8 gap-3 mb-6",children:[{name:"Light",color:"bg-sky-100",animated:!0},{name:"Dawn",color:"bg-orange-400",animated:!1},{name:"Midnight",color:"bg-indigo-600",animated:!1},{name:"Cosmic",color:"bg-violet-600",animated:!0},{name:"Lavender",color:"bg-fuchsia-600",animated:!0},{name:"Forest",color:"bg-emerald-600",animated:!1},{name:"Ocean",color:"bg-cyan-600",animated:!1},{name:"Sunset",color:"bg-rose-600",animated:!1}].map(i=>v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:Z("w-10 h-10 rounded-full mx-auto mb-2 relative",i.color,i.name==="Light"&&"border border-slate-300"),children:i.animated&&v.jsx(Hu,{className:"absolute -top-1 -right-1 w-4 h-4 text-yellow-400 drop-shadow"})}),v.jsx("span",{className:Z("text-xs",n?"text-slate-600":"text-slate-400"),children:i.name})]},i.name))}),v.jsxs("div",{className:Z("flex items-center gap-3 p-4 rounded-xl",n?"bg-blue-50 border border-blue-200":"bg-blue-500/10 border border-blue-500/30"),children:[v.jsx(Hu,{className:"w-5 h-5 text-blue-400"}),v.jsxs("p",{className:Z("text-sm",n?"text-blue-800":"text-blue-200"),children:[v.jsx("strong",{children:"Animated themes"})," (Light, Cosmic, Lavender) feature moving backgrounds with clouds, stars, or petals!"]})]})]})]}),v.jsx(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"text-center",children:v.jsx("button",{onClick:()=>t("/dashboard"),className:Z("px-8 py-4 font-bold rounded-2xl text-lg hover:scale-105 transition-transform shadow-xl",n?"bg-slate-900 text-white shadow-slate-300":"bg-white text-slate-900 shadow-white/10"),children:"Start Playing "})})]})})},cq=()=>{const{user:t,updateProfileName:e}=Ja(),{settings:n}=Oi(),i=n.theme==="light",[a,l]=S.useState({totalBoards:0,totalTiles:0,totalBingos:0,totalPhotos:0}),[c,h]=S.useState(!1),[d,m]=S.useState(t?.displayName||"");S.useEffect(()=>{if(!t)return;m(t.displayName||""),(async()=>{try{const x=nh(jo(ri,"boards"),ih(`members.${t.uid}`,"in",["owner","editor","viewer"])),A=await Jl(x);let k=0,I=0,N=0;A.docs.forEach(B=>{const H=B.data();k++,H.items&&H.items.forEach(q=>{q.isCompleted&&!q.isFreeSpace&&I++,q.proofPhotos&&(N+=q.proofPhotos.length)})}),l({totalBoards:k,totalTiles:I,totalBingos:0,totalPhotos:N})}catch(x){console.error("Error fetching stats",x)}})()},[t]);const g=async()=>{if(!(!t||!d.trim()))try{await e(d.trim()),h(!1)}catch(b){console.error("Failed to update name",b)}};return v.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-8 animate-in fade-in duration-500",children:[v.jsxs("div",{className:Z("rounded-3xl p-8 mb-12 shadow-2xl relative overflow-hidden border",i?"bg-gradient-to-br from-indigo-100 to-slate-100 border-white shadow-indigo-100":"bg-gradient-to-br from-indigo-900/50 to-slate-900/50 border-white/10"),children:[v.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-accent-primary/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),v.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center gap-8",children:[v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:Z("w-32 h-32 rounded-full border-4 flex items-center justify-center overflow-hidden shadow-xl",i?"bg-slate-200 border-white":"bg-slate-800 border-white/10"),children:t?.photoURL?v.jsx("img",{src:t.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):v.jsx(Am,{size:64,className:"text-slate-500"})}),v.jsx("button",{className:"absolute bottom-0 right-0 p-2 bg-accent-primary rounded-full text-white shadow-lg hover:scale-105 transition-transform",children:v.jsx(ch,{size:16})})]}),v.jsxs("div",{className:"flex-1 text-center md:text-left",children:[v.jsx("div",{className:"mb-2",children:v.jsx("span",{className:"text-sm font-semibold text-accent-secondary uppercase tracking-wider",children:"Player Profile"})}),c?v.jsxs("div",{className:"flex items-center gap-3 justify-center md:justify-start",children:[v.jsx("input",{value:d,onChange:b=>m(b.target.value),className:Z("border rounded-lg px-4 py-2 text-2xl font-bold outline-none focus:border-accent-primary w-full max-w-xs",i?"bg-white/80 border-slate-300 text-slate-800":"bg-black/30 border-white/20 text-white"),autoFocus:!0}),v.jsx("button",{onClick:g,className:"p-2 bg-green-500/20 text-green-400 rounded-lg hover:bg-green-500/30",children:v.jsx(Ns,{size:24})})]}):v.jsxs("h1",{className:Z("text-4xl font-bold mb-2 flex items-center justify-center md:justify-start gap-3 group",i?"text-slate-900":"text-white"),children:[t?.displayName||"Bingo Player",v.jsx("button",{onClick:()=>h(!0),className:Z("opacity-0 group-hover:opacity-100 transition-opacity",i?"text-slate-400 hover:text-slate-700":"text-slate-400 hover:text-white"),children:v.jsx(qu,{size:20})})]}),v.jsx("p",{className:Z(i?"text-slate-600":"text-slate-400"),children:t?.email}),v.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Joined January 2026"})]})]})]}),v.jsxs("h2",{className:Z("text-2xl font-bold mb-6 flex items-center gap-2",i?"text-slate-800":"text-white"),children:[v.jsx(_m,{className:"text-accent-gold"})," Lifetime Stats"]}),v.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[v.jsx(Tf,{label:"Active Boards",value:a.totalBoards,icon:v.jsx(kB,{size:24,className:"text-violet-400"}),delay:0,isLightTheme:i}),v.jsx(Tf,{label:"Tiles Completed",value:a.totalTiles,icon:v.jsx(Ns,{size:24,className:"text-emerald-400"}),delay:.1,isLightTheme:i}),v.jsx(Tf,{label:"Bingos Won",value:"--",icon:v.jsx(_m,{size:24,className:"text-amber-400"}),delay:.2,isLightTheme:i}),v.jsx(Tf,{label:"Photos Added",value:a.totalPhotos,icon:v.jsx(ch,{size:24,className:"text-pink-400"}),delay:.3,isLightTheme:i})]})]})},Tf=({label:t,value:e,icon:n,delay:i,isLightTheme:a})=>v.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i},className:Z("p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-colors border",a?"bg-white border-slate-200 hover:bg-slate-50 shadow-sm":"bg-white/5 border-white/10 hover:bg-white/10"),children:[v.jsx("div",{className:Z("mb-3 p-3 rounded-full",a?"bg-slate-100":"bg-white/5"),children:n}),v.jsx("div",{className:Z("text-3xl font-bold mb-1",a?"text-slate-800":"text-white"),children:e}),v.jsx("div",{className:Z("text-sm font-medium uppercase tracking-wide",a?"text-slate-500":"text-slate-400"),children:t})]}),Ef=({children:t})=>{const{logout:e,user:n}=Ja(),{openSettings:i,settings:a,updateSettings:l}=Oi(),[c,h]=Et.useState(!1),d=Yr();Et.useEffect(()=>{h(!1)},[d.pathname]);const m=[{label:"Dashboard",path:"/dashboard",icon:zb},{label:"Profile",path:"/profile",icon:Am},{label:"Help & Guide",path:"/help",icon:iI}],g=a.theme==="light";return v.jsxs("div",{className:"min-h-screen bg-transparent flex",style:{color:"var(--theme-text-main)"},children:[c&&v.jsx("div",{className:Z("fixed inset-0 z-40 lg:hidden backdrop-blur-sm",g?"bg-black/30":"bg-black/50"),onClick:()=>h(!1)}),v.jsxs("aside",{className:Z("fixed inset-y-0 left-0 z-50 w-64 bg-[var(--theme-bg-subtle)] border-r border-[var(--theme-border)] transform transition-transform duration-200 lg:translate-x-0 lg:static flex flex-col",c?"translate-x-0":"-translate-x-full"),children:[v.jsx("div",{className:"h-16 flex items-center px-6 border-b border-[var(--theme-border)] shrink-0",children:v.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-8 w-auto"})}),v.jsxs("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:[v.jsx("div",{className:Z("text-xs font-semibold uppercase tracking-wider mb-2 px-3","text-slate-500"),children:"Menu"}),m.map(b=>v.jsxs(TA,{to:b.path,className:({isActive:x})=>Z("flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",x?"bg-[var(--theme-accent-primary)]/10 text-[var(--theme-accent-primary)]":g?"text-slate-600 hover:text-slate-900 hover:bg-slate-100":"text-slate-400 hover:text-slate-100 hover:bg-white/5"),children:[v.jsx(b.icon,{size:18}),b.label]},b.path)),v.jsxs("button",{onClick:i,className:Z("w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",g?"text-slate-600 hover:text-slate-900 hover:bg-slate-100":"text-slate-400 hover:text-slate-100 hover:bg-white/5"),children:[v.jsx(YB,{size:18}),"Settings"]}),v.jsxs("div",{className:Z("px-3 py-3 mt-2 border-t",g?"border-slate-200":"border-white/5"),children:[v.jsx("div",{className:Z("text-[10px] font-bold uppercase tracking-wider mb-3","text-slate-500"),children:"Theme"}),v.jsx("div",{className:"flex justify-between gap-1",children:[{id:"light",color:"bg-slate-200 ring-1 ring-slate-400"},{id:"dawn",color:"bg-orange-400"},{id:"midnight",color:"bg-indigo-500"},{id:"cosmic",color:"bg-violet-500"},{id:"lavender",color:"bg-fuchsia-500"},{id:"forest",color:"bg-emerald-500"},{id:"ocean",color:"bg-cyan-500"},{id:"sunset",color:"bg-rose-500"}].map(b=>v.jsx("button",{onClick:()=>l({theme:b.id}),className:Z("w-6 h-6 rounded-full transition-all duration-300 relative",b.color,a.theme===b.id?g?"ring-2 ring-slate-800 ring-offset-2 ring-offset-white scale-110 z-10":"ring-2 ring-white ring-offset-2 ring-offset-[var(--theme-bg-subtle)] scale-110 z-10":"opacity-40 hover:opacity-100 hover:scale-105"),title:b.id},b.id))})]})]}),v.jsxs("div",{className:Z("p-4 border-t bg-[var(--theme-bg-subtle)] shrink-0",g?"border-slate-200":"border-[var(--theme-border)]"),children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4 px-2",children:[n?.photoURL?v.jsx("img",{src:n.photoURL,className:"w-8 h-8 rounded-full bg-slate-800 object-cover",alt:"User"}):v.jsx("div",{className:Z("w-8 h-8 rounded-full flex items-center justify-center",g?"bg-slate-200":"bg-slate-800"),children:v.jsx(Am,{size:14,className:g?"text-slate-600":"text-slate-400"})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("p",{className:Z("text-sm font-medium truncate",g?"text-slate-800":"text-white"),children:n?.displayName||"User"}),v.jsx("p",{className:Z("text-xs truncate","text-slate-500"),children:n?.email})]})]}),v.jsxs("button",{onClick:e,className:Z("w-full flex items-center gap-2 px-3 py-2 text-sm rounded-lg transition-colors",g?"text-slate-600 hover:text-red-600 hover:bg-red-50":"text-slate-400 hover:text-red-400 hover:bg-red-500/10"),children:[v.jsx(sI,{size:16}),"Sign Out"]})]})]}),v.jsxs("main",{className:"flex-1 min-w-0 flex flex-col h-screen overflow-hidden bg-transparent relative",children:[v.jsxs("header",{className:Z("h-16 flex items-center justify-between px-4 lg:hidden border-b shrink-0",g?"border-slate-200 bg-white/80 backdrop-blur-sm":"border-[var(--theme-border)] bg-[var(--theme-bg-subtle)]"),children:[v.jsx("button",{onClick:()=>h(!0),className:Z("p-2",g?"text-slate-600":"text-slate-400"),children:v.jsx(LB,{size:24})}),v.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-8 w-auto"}),v.jsx("div",{className:"w-8"})," "]}),v.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-4 sm:p-6 lg:p-8",children:v.jsx("div",{className:"max-w-7xl mx-auto h-full",children:t})})]})]})},uq=()=>{const{user:t,loading:e}=Ja();return e?v.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-bg-dark text-slate-500",children:"Initializing..."}):v.jsxs(v.Fragment,{children:[v.jsx(sq,{}),v.jsx(uP,{}),v.jsx("div",{className:"relative z-10 min-h-screen",children:v.jsx(tP,{children:v.jsxs(DM,{children:[v.jsx(Dr,{path:"/login",element:t?v.jsx(Ro,{to:"/dashboard",replace:!0}):v.jsx(tF,{})}),v.jsx(Dr,{path:"/help",element:v.jsx(lq,{})}),v.jsx(Dr,{path:"/dashboard",element:t?v.jsx(Ef,{children:v.jsx(iq,{})}):v.jsx(Ro,{to:"/login",replace:!0})}),v.jsx(Dr,{path:"/profile",element:t?v.jsx(Ef,{children:v.jsx(cq,{})}):v.jsx(Ro,{to:"/login",replace:!0})}),v.jsx(Dr,{path:"/board/legacy/:yearId",element:t?v.jsx(Ef,{children:v.jsx(iA,{})}):v.jsx(Ro,{to:"/login",replace:!0})}),v.jsx(Dr,{path:"/board/:boardId",element:t?v.jsx(Ef,{children:v.jsx(iA,{})}):v.jsx(Ro,{to:"/login",replace:!0})}),v.jsx(Dr,{path:"/",element:v.jsx(Ro,{to:t?"/dashboard":"/login",replace:!0})}),v.jsx(Dr,{path:"*",element:v.jsx(Ro,{to:t?"/dashboard":"/login",replace:!0})})]})})})]})};function hq(){return v.jsx(CL,{children:v.jsx(eF,{children:v.jsx(c8,{children:v.jsx(uq,{})})})})}console.log("Main.tsx full run");const sA=document.getElementById("root");sA?Mk.createRoot(sA).render(v.jsx(S.StrictMode,{children:v.jsx(hq,{})})):console.error("Root not found");export{La as C,lr as F,Lm as _,An as a,NA as b,qo as c,cs as d,op as e,yv as g,Ko as i,fv as p,Js as r,mv as u};
