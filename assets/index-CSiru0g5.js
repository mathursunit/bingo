(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function dN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dg={exports:{}},Qc={};var sT;function mN(){if(sT)return Qc;sT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Qc.Fragment=e,Qc.jsx=n,Qc.jsxs=n,Qc}var rT;function pN(){return rT||(rT=1,dg.exports=mN()),dg.exports}var b=pN(),mg={exports:{}},je={};var aT;function gN(){if(aT)return je;aT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),T=Symbol.iterator;function C(E){return E===null||typeof E!="object"?null:(E=T&&E[T]||E["@@iterator"],typeof E=="function"?E:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,N={};function H(E,K,ne){this.props=E,this.context=K,this.refs=N,this.updater=ne||M}H.prototype.isReactComponent={},H.prototype.setState=function(E,K){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,K,"setState")},H.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function W(){}W.prototype=H.prototype;function Q(E,K,ne){this.props=E,this.context=K,this.refs=N,this.updater=ne||M}var Y=Q.prototype=new W;Y.constructor=Q,O(Y,H.prototype),Y.isPureReactComponent=!0;var re=Array.isArray;function ce(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function D(E,K,ne){var oe=ne.ref;return{$$typeof:t,type:E,key:K,ref:oe!==void 0?oe:null,props:ne}}function L(E,K){return D(E.type,K,E.props)}function P(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function z(E){var K={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(ne){return K[ne]})}var V=/\/+/g;function pe(E,K){return typeof E=="object"&&E!==null&&E.key!=null?z(""+E.key):K.toString(36)}function ye(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(ce,ce):(E.status="pending",E.then(function(K){E.status==="pending"&&(E.status="fulfilled",E.value=K)},function(K){E.status==="pending"&&(E.status="rejected",E.reason=K)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function U(E,K,ne,oe,ge){var ve=typeof E;(ve==="undefined"||ve==="boolean")&&(E=null);var fe=!1;if(E===null)fe=!0;else switch(ve){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(E.$$typeof){case t:case e:fe=!0;break;case y:return fe=E._init,U(fe(E._payload),K,ne,oe,ge)}}if(fe)return ge=ge(E),fe=oe===""?"."+pe(E,0):oe,re(ge)?(ne="",fe!=null&&(ne=fe.replace(V,"$&/")+"/"),U(ge,K,ne,"",function(Ge){return Ge})):ge!=null&&(P(ge)&&(ge=L(ge,ne+(ge.key==null||E&&E.key===ge.key?"":(""+ge.key).replace(V,"$&/")+"/")+fe)),K.push(ge)),1;fe=0;var Ee=oe===""?".":oe+":";if(re(E))for(var Ie=0;Ie<E.length;Ie++)oe=E[Ie],ve=Ee+pe(oe,Ie),fe+=U(oe,K,ne,ve,ge);else if(Ie=C(E),typeof Ie=="function")for(E=Ie.call(E),Ie=0;!(oe=E.next()).done;)oe=oe.value,ve=Ee+pe(oe,Ie++),fe+=U(oe,K,ne,ve,ge);else if(ve==="object"){if(typeof E.then=="function")return U(ye(E),K,ne,oe,ge);throw K=String(E),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return fe}function Z(E,K,ne){if(E==null)return E;var oe=[],ge=0;return U(E,oe,"","",function(ve){return K.call(ne,ve,ge++)}),oe}function q(E){if(E._status===-1){var K=E._result;K=K(),K.then(function(ne){(E._status===0||E._status===-1)&&(E._status=1,E._result=ne)},function(ne){(E._status===0||E._status===-1)&&(E._status=2,E._result=ne)}),E._status===-1&&(E._status=0,E._result=K)}if(E._status===1)return E._result.default;throw E._result}var me=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},B={map:Z,forEach:function(E,K,ne){Z(E,function(){K.apply(this,arguments)},ne)},count:function(E){var K=0;return Z(E,function(){K++}),K},toArray:function(E){return Z(E,function(K){return K})||[]},only:function(E){if(!P(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return je.Activity=v,je.Children=B,je.Component=H,je.Fragment=n,je.Profiler=a,je.PureComponent=Q,je.StrictMode=s,je.Suspense=p,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,je.__COMPILER_RUNTIME={__proto__:null,c:function(E){return I.H.useMemoCache(E)}},je.cache=function(E){return function(){return E.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(E,K,ne){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var oe=O({},E.props),ge=E.key;if(K!=null)for(ve in K.key!==void 0&&(ge=""+K.key),K)!S.call(K,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&K.ref===void 0||(oe[ve]=K[ve]);var ve=arguments.length-2;if(ve===1)oe.children=ne;else if(1<ve){for(var fe=Array(ve),Ee=0;Ee<ve;Ee++)fe[Ee]=arguments[Ee+2];oe.children=fe}return D(E.type,ge,oe)},je.createContext=function(E){return E={$$typeof:u,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:l,_context:E},E},je.createElement=function(E,K,ne){var oe,ge={},ve=null;if(K!=null)for(oe in K.key!==void 0&&(ve=""+K.key),K)S.call(K,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ge[oe]=K[oe]);var fe=arguments.length-2;if(fe===1)ge.children=ne;else if(1<fe){for(var Ee=Array(fe),Ie=0;Ie<fe;Ie++)Ee[Ie]=arguments[Ie+2];ge.children=Ee}if(E&&E.defaultProps)for(oe in fe=E.defaultProps,fe)ge[oe]===void 0&&(ge[oe]=fe[oe]);return D(E,ve,ge)},je.createRef=function(){return{current:null}},je.forwardRef=function(E){return{$$typeof:f,render:E}},je.isValidElement=P,je.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:q}},je.memo=function(E,K){return{$$typeof:d,type:E,compare:K===void 0?null:K}},je.startTransition=function(E){var K=I.T,ne={};I.T=ne;try{var oe=E(),ge=I.S;ge!==null&&ge(ne,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ce,me)}catch(ve){me(ve)}finally{K!==null&&ne.types!==null&&(K.types=ne.types),I.T=K}},je.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},je.use=function(E){return I.H.use(E)},je.useActionState=function(E,K,ne){return I.H.useActionState(E,K,ne)},je.useCallback=function(E,K){return I.H.useCallback(E,K)},je.useContext=function(E){return I.H.useContext(E)},je.useDebugValue=function(){},je.useDeferredValue=function(E,K){return I.H.useDeferredValue(E,K)},je.useEffect=function(E,K){return I.H.useEffect(E,K)},je.useEffectEvent=function(E){return I.H.useEffectEvent(E)},je.useId=function(){return I.H.useId()},je.useImperativeHandle=function(E,K,ne){return I.H.useImperativeHandle(E,K,ne)},je.useInsertionEffect=function(E,K){return I.H.useInsertionEffect(E,K)},je.useLayoutEffect=function(E,K){return I.H.useLayoutEffect(E,K)},je.useMemo=function(E,K){return I.H.useMemo(E,K)},je.useOptimistic=function(E,K){return I.H.useOptimistic(E,K)},je.useReducer=function(E,K,ne){return I.H.useReducer(E,K,ne)},je.useRef=function(E){return I.H.useRef(E)},je.useState=function(E){return I.H.useState(E)},je.useSyncExternalStore=function(E,K,ne){return I.H.useSyncExternalStore(E,K,ne)},je.useTransition=function(){return I.H.useTransition()},je.version="19.2.3",je}var oT;function e0(){return oT||(oT=1,mg.exports=gN()),mg.exports}var k=e0();const id=dN(k);var pg={exports:{}},Wc={},gg={exports:{}},yg={};var lT;function yN(){return lT||(lT=1,(function(t){function e(U,Z){var q=U.length;U.push(Z);e:for(;0<q;){var me=q-1>>>1,B=U[me];if(0<a(B,Z))U[me]=Z,U[q]=B,q=me;else break e}}function n(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var Z=U[0],q=U.pop();if(q!==Z){U[0]=q;e:for(var me=0,B=U.length,E=B>>>1;me<E;){var K=2*(me+1)-1,ne=U[K],oe=K+1,ge=U[oe];if(0>a(ne,q))oe<B&&0>a(ge,ne)?(U[me]=ge,U[oe]=q,me=oe):(U[me]=ne,U[K]=q,me=K);else if(oe<B&&0>a(ge,q))U[me]=ge,U[oe]=q,me=oe;else break e}}return Z}function a(U,Z){var q=U.sortIndex-Z.sortIndex;return q!==0?q:U.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var p=[],d=[],y=1,v=null,T=3,C=!1,M=!1,O=!1,N=!1,H=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function Y(U){for(var Z=n(d);Z!==null;){if(Z.callback===null)s(d);else if(Z.startTime<=U)s(d),Z.sortIndex=Z.expirationTime,e(p,Z);else break;Z=n(d)}}function re(U){if(O=!1,Y(U),!M)if(n(p)!==null)M=!0,ce||(ce=!0,z());else{var Z=n(d);Z!==null&&ye(re,Z.startTime-U)}}var ce=!1,I=-1,S=5,D=-1;function L(){return N?!0:!(t.unstable_now()-D<S)}function P(){if(N=!1,ce){var U=t.unstable_now();D=U;var Z=!0;try{e:{M=!1,O&&(O=!1,W(I),I=-1),C=!0;var q=T;try{t:{for(Y(U),v=n(p);v!==null&&!(v.expirationTime>U&&L());){var me=v.callback;if(typeof me=="function"){v.callback=null,T=v.priorityLevel;var B=me(v.expirationTime<=U);if(U=t.unstable_now(),typeof B=="function"){v.callback=B,Y(U),Z=!0;break t}v===n(p)&&s(p),Y(U)}else s(p);v=n(p)}if(v!==null)Z=!0;else{var E=n(d);E!==null&&ye(re,E.startTime-U),Z=!1}}break e}finally{v=null,T=q,C=!1}Z=void 0}}finally{Z?z():ce=!1}}}var z;if(typeof Q=="function")z=function(){Q(P)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,pe=V.port2;V.port1.onmessage=P,z=function(){pe.postMessage(null)}}else z=function(){H(P,0)};function ye(U,Z){I=H(function(){U(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(U){switch(T){case 1:case 2:case 3:var Z=3;break;default:Z=T}var q=T;T=Z;try{return U()}finally{T=q}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(U,Z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var q=T;T=U;try{return Z()}finally{T=q}},t.unstable_scheduleCallback=function(U,Z,q){var me=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?me+q:me):q=me,U){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=q+B,U={id:y++,callback:Z,priorityLevel:U,startTime:q,expirationTime:B,sortIndex:-1},q>me?(U.sortIndex=q,e(d,U),n(p)===null&&U===n(d)&&(O?(W(I),I=-1):O=!0,ye(re,q-me))):(U.sortIndex=B,e(p,U),M||C||(M=!0,ce||(ce=!0,z()))),U},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(U){var Z=T;return function(){var q=T;T=Z;try{return U.apply(this,arguments)}finally{T=q}}}})(yg)),yg}var cT;function vN(){return cT||(cT=1,gg.exports=yN()),gg.exports}var vg={exports:{}},Cn={};var uT;function bN(){if(uT)return Cn;uT=1;var t=e0();function e(p){var d="https://react.dev/errors/"+p;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,d,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:p,containerInfo:d,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,d){if(p==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Cn.createPortal=function(p,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return l(p,d,null,y)},Cn.flushSync=function(p){var d=u.T,y=s.p;try{if(u.T=null,s.p=2,p)return p()}finally{u.T=d,s.p=y,s.d.f()}},Cn.preconnect=function(p,d){typeof p=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,s.d.C(p,d))},Cn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Cn.preinit=function(p,d){if(typeof p=="string"&&d&&typeof d.as=="string"){var y=d.as,v=f(y,d.crossOrigin),T=typeof d.integrity=="string"?d.integrity:void 0,C=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;y==="style"?s.d.S(p,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:C}):y==="script"&&s.d.X(p,{crossOrigin:v,integrity:T,fetchPriority:C,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Cn.preinitModule=function(p,d){if(typeof p=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var y=f(d.as,d.crossOrigin);s.d.M(p,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&s.d.M(p)},Cn.preload=function(p,d){if(typeof p=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var y=d.as,v=f(y,d.crossOrigin);s.d.L(p,y,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Cn.preloadModule=function(p,d){if(typeof p=="string")if(d){var y=f(d.as,d.crossOrigin);s.d.m(p,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else s.d.m(p)},Cn.requestFormReset=function(p){s.d.r(p)},Cn.unstable_batchedUpdates=function(p,d){return p(d)},Cn.useFormState=function(p,d,y){return u.H.useFormState(p,d,y)},Cn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Cn.version="19.2.3",Cn}var hT;function _N(){if(hT)return vg.exports;hT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vg.exports=bN(),vg.exports}var fT;function wN(){if(fT)return Wc;fT=1;var t=vN(),e=e0(),n=_N();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(l(i)!==i)throw Error(s(188))}function d(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return p(m),i;if(g===c)return p(m),r;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=m,c=g;else{for(var w=!1,A=m.child;A;){if(A===o){w=!0,o=m,c=g;break}if(A===c){w=!0,c=m,o=g;break}A=A.sibling}if(!w){for(A=g.child;A;){if(A===o){w=!0,o=g,c=m;break}if(A===c){w=!0,c=g,o=m;break}A=A.sibling}if(!w)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function pe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case H:return"Profiler";case N:return"StrictMode";case re:return"Suspense";case ce:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case Q:return i.displayName||"Context";case W:return(i._context.displayName||"Context")+".Consumer";case Y:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return r=i.displayName||null,r!==null?r:pe(i.type)||"Memo";case S:r=i._payload,i=i._init;try{return pe(i(r))}catch{}}return null}var ye=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},me=[],B=-1;function E(i){return{current:i}}function K(i){0>B||(i.current=me[B],me[B]=null,B--)}function ne(i,r){B++,me[B]=i.current,i.current=r}var oe=E(null),ge=E(null),ve=E(null),fe=E(null);function Ee(i,r){switch(ne(ve,r),ne(ge,i),ne(oe,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Cw(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Cw(r),i=Rw(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}K(oe),ne(oe,i)}function Ie(){K(oe),K(ge),K(ve)}function Ge(i){i.memoizedState!==null&&ne(fe,i);var r=oe.current,o=Rw(r,i.type);r!==o&&(ne(ge,i),ne(oe,o))}function qe(i){ge.current===i&&(K(oe),K(ge)),fe.current===i&&(K(fe),Gc._currentValue=q)}var $e,Tt;function Ve(i){if($e===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);$e=r&&r[1]||"",Tt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$e+i+Tt}var ut=!1;function zt(i,r){if(!i||ut)return"";ut=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(se){var te=se}Reflect.construct(i,[],ue)}else{try{ue.call()}catch(se){te=se}i.call(ue.prototype)}}else{try{throw Error()}catch(se){te=se}(ue=i())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(se){if(se&&te&&typeof se.stack=="string")return[se.stack,te.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),w=g[0],A=g[1];if(w&&A){var j=w.split(`
`),ee=A.split(`
`);for(m=c=0;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;for(;m<ee.length&&!ee[m].includes("DetermineComponentFrameRoot");)m++;if(c===j.length||m===ee.length)for(c=j.length-1,m=ee.length-1;1<=c&&0<=m&&j[c]!==ee[m];)m--;for(;1<=c&&0<=m;c--,m--)if(j[c]!==ee[m]){if(c!==1||m!==1)do if(c--,m--,0>m||j[c]!==ee[m]){var ae=`
`+j[c].replace(" at new "," at ");return i.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",i.displayName)),ae}while(1<=c&&0<=m);break}}}finally{ut=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ve(o):""}function Bt(i,r){switch(i.tag){case 26:case 27:case 5:return Ve(i.type);case 16:return Ve("Lazy");case 13:return i.child!==r&&r!==null?Ve("Suspense Fallback"):Ve("Suspense");case 19:return Ve("SuspenseList");case 0:case 15:return zt(i.type,!1);case 11:return zt(i.type.render,!1);case 1:return zt(i.type,!0);case 31:return Ve("Activity");default:return""}}function gn(i){try{var r="",o=null;do r+=Bt(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ht=Object.prototype.hasOwnProperty,et=t.unstable_scheduleCallback,pi=t.unstable_cancelCallback,Ca=t.unstable_shouldYield,br=t.unstable_requestPaint,Kt=t.unstable_now,En=t.unstable_getCurrentPriorityLevel,Mn=t.unstable_ImmediatePriority,Bn=t.unstable_UserBlockingPriority,Sn=t.unstable_NormalPriority,Ls=t.unstable_LowPriority,as=t.unstable_IdlePriority,os=t.log,Bi=t.unstable_setDisableYieldValue,st=null,kt=null;function Vn(i){if(typeof os=="function"&&Bi(i),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(st,i)}catch{}}var xt=Math.clz32?Math.clz32:Ra,Us=Math.log,gi=Math.LN2;function Ra(i){return i>>>=0,i===0?32:31-(Us(i)/gi|0)|0}var Jn=256,yi=262144,Ot=4194304;function ei(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function vi(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var m=0,g=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~g,c!==0?m=ei(c):(w&=A,w!==0?m=ei(w):o||(o=A&~i,o!==0&&(m=ei(o))))):(A=c&~g,A!==0?m=ei(A):w!==0?m=ei(w):o||(o=c&~i,o!==0&&(m=ei(o)))),m===0?0:r!==0&&r!==m&&(r&g)===0&&(g=m&-m,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:m}function Fn(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Ia(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _r(){var i=Ot;return Ot<<=1,(Ot&62914560)===0&&(Ot=4194304),i}function bi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function zs(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Xl(i,r,o,c,m,g){var w=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,j=i.expirationTimes,ee=i.hiddenUpdates;for(o=w&~o;0<o;){var ae=31-xt(o),ue=1<<ae;A[ae]=0,j[ae]=-1;var te=ee[ae];if(te!==null)for(ee[ae]=null,ae=0;ae<te.length;ae++){var se=te[ae];se!==null&&(se.lane&=-536870913)}o&=~ue}c!==0&&ls(i,c,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(w&~r))}function ls(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-xt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Na(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-xt(o),m=1<<c;m&r|i[c]&r&&(i[c]|=r),o&=~m}}function Da(i,r){var o=r&-r;return o=(o&42)!==0?1:wr(o),(o&(i.suspendedLanes|r))!==0?0:o}function wr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function _i(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Tr(){var i=Z.p;return i!==0?i:(i=window.event,i===void 0?32:Xw(i.type))}function Pn(i,r){var o=Z.p;try{return Z.p=i,r()}finally{Z.p=o}}var ti=Math.random().toString(36).slice(2),$="__reactFiber$"+ti,we="__reactProps$"+ti,ft="__reactContainer$"+ti,Rt="__reactEvents$"+ti,Yt="__reactListeners$"+ti,An="__reactHandles$"+ti,Fi="__reactResources$"+ti,ni="__reactMarker$"+ti;function So(i){delete i[$],delete i[we],delete i[Rt],delete i[Yt],delete i[An]}function cs(i){var r=i[$];if(r)return r;for(var o=i.parentNode;o;){if(r=o[ft]||o[$]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=Pw(i);i!==null;){if(o=i[$])return o;i=Pw(i)}return r}i=o,o=i.parentNode}return null}function wi(i){if(i=i[$]||i[ft]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function ii(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function us(i){var r=i[Fi];return r||(r=i[Fi]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Qt(i){i[ni]=!0}var Zl=new Set,Jl={};function hs(i,r){fs(i,r),fs(i+"Capture",r)}function fs(i,r){for(Jl[i]=r,i=0;i<r.length;i++)Zl.add(r[i])}var ec=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tc={},nc={};function rh(i){return ht.call(nc,i)?!0:ht.call(tc,i)?!1:ec.test(i)?nc[i]=!0:(tc[i]=!0,!1)}function Ao(i,r,o){if(rh(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function si(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Wt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function hn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function xr(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ic(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return m.call(this)},set:function(w){o=""+w,g.call(this,w)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function mt(i){if(!i._valueTracker){var r=xr(i)?"checked":"value";i._valueTracker=ic(i,r,""+i[r])}}function ka(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=xr(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function ds(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ma=/[\n"\\]/g;function qn(i){return i.replace(Ma,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Co(i,r,o,c,m,g,w,A){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),r!=null?w==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+hn(r)):i.value!==""+hn(r)&&(i.value=""+hn(r)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),r!=null?sc(i,w,hn(r)):o!=null?sc(i,w,hn(o)):c!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+hn(A):i.removeAttribute("name")}function ah(i,r,o,c,m,g,w,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){mt(i);return}o=o!=null?""+hn(o):"",r=r!=null?""+hn(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w),mt(i)}function sc(i,r,o){r==="number"&&ds(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Er(i,r,o,c){if(i=i.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=r.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&c&&(i[o].defaultSelected=!0)}else{for(o=""+hn(o),r=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}r!==null||i[m].disabled||(r=i[m])}r!==null&&(r.selected=!0)}}function oh(i,r,o){if(r!=null&&(r=""+hn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+hn(o):""}function Sr(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(ye(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=hn(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),mt(i)}function Hn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var lh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rc(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||lh.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function ac(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in r)c=r[m],r.hasOwnProperty(m)&&o[m]!==c&&rc(i,m,c)}else for(var g in r)r.hasOwnProperty(g)&&rc(i,g,r[g])}function Ro(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ch=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Io(i){return Ar.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function qi(){}var oc=null;function Ti(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Cr=null,ms=null;function Va(i){var r=wi(i);if(r&&(i=r.stateNode)){var o=i[we]||null;e:switch(i=r.stateNode,r.type){case"input":if(Co(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+qn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var m=c[we]||null;if(!m)throw Error(s(90));Co(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&ka(c)}break e;case"textarea":oh(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Er(i,!!o.multiple,r,!1)}}}var No=!1;function Rr(i,r,o){if(No)return i(r,o);No=!0;try{var c=i(r);return c}finally{if(No=!1,(Cr!==null||ms!==null)&&(nf(),Cr&&(r=Cr,i=ms,ms=Cr=null,Va(r),i)))for(r=0;r<i.length;r++)Va(i[r])}}function Hi(i,r){var o=i.stateNode;if(o===null)return null;var c=o[we]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pa=!1;if(xi)try{var yt={};Object.defineProperty(yt,"passive",{get:function(){Pa=!0}}),window.addEventListener("test",yt,yt),window.removeEventListener("test",yt,yt)}catch{Pa=!1}var ps=null,lc=null,Oa=null;function cc(){if(Oa)return Oa;var i,r=lc,o=r.length,c,m="value"in ps?ps.value:ps.textContent,g=m.length;for(i=0;i<o&&r[i]===m[i];i++);var w=o-i;for(c=1;c<=w&&r[o-c]===m[g-c];c++);return Oa=m.slice(i,1<c?1-c:void 0)}function ja(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Bs(){return!0}function Gi(){return!1}function yn(i){function r(o,c,m,g,w){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Bs:Gi,this.isPropagationStopped=Gi,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Bs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Bs)},persist:function(){},isPersistent:Bs}),r}var Fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gs=yn(Fs),Ir=v({},Fs,{view:0,detail:0}),uc=yn(Ir),Nr,Do,ys,ko=v({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ys&&(ys&&i.type==="mousemove"?(Nr=i.screenX-ys.screenX,Do=i.screenY-ys.screenY):Do=Nr=0,ys=i),Nr)},movementY:function(i){return"movementY"in i?i.movementY:Do}}),hc=yn(ko),La=v({},ko,{dataTransfer:0}),uh=yn(La),hh=v({},Ir,{relatedTarget:0}),Ua=yn(hh),fc=v({},Fs,{animationName:0,elapsedTime:0,pseudoElement:0}),fh=yn(fc),Mo=v({},Fs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),dh=yn(Mo),mh=v({},Fs,{data:0}),vs=yn(mh),ph={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=yh[i])?!!r[i]:!1}function Dr(){return vh}var On=v({},Ir,{key:function(i){if(i.key){var r=ph[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=ja(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?gh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dr,charCode:function(i){return i.type==="keypress"?ja(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ja(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),bh=yn(On),_h=v({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qs=yn(_h),h=v({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dr}),_=yn(h),x=v({},Fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=yn(x),X=v({},ko,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ie=yn(X),be=v({},Fs,{newState:0,oldState:0}),Ue=yn(be),Ft=[9,13,27,32],ot=xi&&"CompositionEvent"in window,It=null;xi&&"documentMode"in document&&(It=document.documentMode);var Ei=xi&&"TextEvent"in window&&!It,bs=xi&&(!ot||It&&8<It&&11>=It),$i=" ",Ki=!1;function za(i,r){switch(i){case"keyup":return Ft.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Po=!1;function jR(i,r){switch(i){case"compositionend":return Vo(r);case"keypress":return r.which!==32?null:(Ki=!0,$i);case"textInput":return i=r.data,i===$i&&Ki?null:i;default:return null}}function LR(i,r){if(Po)return i==="compositionend"||!ot&&za(i,r)?(i=cc(),Oa=lc=ps=null,Po=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return bs&&r.locale!=="ko"?null:r.data;default:return null}}var UR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!UR[i.type]:r==="textarea"}function Uv(i,r,o,c){Cr?ms?ms.push(c):ms=[c]:Cr=c,r=uf(r,"onChange"),0<r.length&&(o=new gs("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var dc=null,mc=null;function zR(i){ww(i,0)}function wh(i){var r=ii(i);if(ka(r))return i}function zv(i,r){if(i==="change")return r}var Bv=!1;if(xi){var _m;if(xi){var wm="oninput"in document;if(!wm){var Fv=document.createElement("div");Fv.setAttribute("oninput","return;"),wm=typeof Fv.oninput=="function"}_m=wm}else _m=!1;Bv=_m&&(!document.documentMode||9<document.documentMode)}function qv(){dc&&(dc.detachEvent("onpropertychange",Hv),mc=dc=null)}function Hv(i){if(i.propertyName==="value"&&wh(mc)){var r=[];Uv(r,mc,i,Ti(i)),Rr(zR,r)}}function BR(i,r,o){i==="focusin"?(qv(),dc=r,mc=o,dc.attachEvent("onpropertychange",Hv)):i==="focusout"&&qv()}function FR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return wh(mc)}function qR(i,r){if(i==="click")return wh(r)}function HR(i,r){if(i==="input"||i==="change")return wh(r)}function GR(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var ri=typeof Object.is=="function"?Object.is:GR;function pc(i,r){if(ri(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!ht.call(r,m)||!ri(i[m],r[m]))return!1}return!0}function Gv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function $v(i,r){var o=Gv(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Gv(o)}}function Kv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Kv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Yv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=ds(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=ds(i.document)}return r}function Tm(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var $R=xi&&"documentMode"in document&&11>=document.documentMode,Oo=null,xm=null,gc=null,Em=!1;function Qv(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Em||Oo==null||Oo!==ds(c)||(c=Oo,"selectionStart"in c&&Tm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),gc&&pc(gc,c)||(gc=c,c=uf(xm,"onSelect"),0<c.length&&(r=new gs("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=Oo)))}function Ba(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var jo={animationend:Ba("Animation","AnimationEnd"),animationiteration:Ba("Animation","AnimationIteration"),animationstart:Ba("Animation","AnimationStart"),transitionrun:Ba("Transition","TransitionRun"),transitionstart:Ba("Transition","TransitionStart"),transitioncancel:Ba("Transition","TransitionCancel"),transitionend:Ba("Transition","TransitionEnd")},Sm={},Wv={};xi&&(Wv=document.createElement("div").style,"AnimationEvent"in window||(delete jo.animationend.animation,delete jo.animationiteration.animation,delete jo.animationstart.animation),"TransitionEvent"in window||delete jo.transitionend.transition);function Fa(i){if(Sm[i])return Sm[i];if(!jo[i])return i;var r=jo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Wv)return Sm[i]=r[o];return i}var Xv=Fa("animationend"),Zv=Fa("animationiteration"),Jv=Fa("animationstart"),KR=Fa("transitionrun"),YR=Fa("transitionstart"),QR=Fa("transitioncancel"),eb=Fa("transitionend"),tb=new Map,Am="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Am.push("scrollEnd");function Yi(i,r){tb.set(i,r),hs(r,[i])}var Th=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Si=[],Lo=0,Cm=0;function xh(){for(var i=Lo,r=Cm=Lo=0;r<i;){var o=Si[r];Si[r++]=null;var c=Si[r];Si[r++]=null;var m=Si[r];Si[r++]=null;var g=Si[r];if(Si[r++]=null,c!==null&&m!==null){var w=c.pending;w===null?m.next=m:(m.next=w.next,w.next=m),c.pending=m}g!==0&&nb(o,m,g)}}function Eh(i,r,o,c){Si[Lo++]=i,Si[Lo++]=r,Si[Lo++]=o,Si[Lo++]=c,Cm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Rm(i,r,o,c){return Eh(i,r,o,c),Sh(i)}function qa(i,r){return Eh(i,null,null,r),Sh(i)}function nb(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&r!==null&&(m=31-xt(o),i=g.hiddenUpdates,c=i[m],c===null?i[m]=[r]:c.push(r),r.lane=o|536870912),g):null}function Sh(i){if(50<Lc)throw Lc=0,jp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Uo={};function WR(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(i,r,o,c){return new WR(i,r,o,c)}function Im(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Hs(i,r){var o=i.alternate;return o===null?(o=ai(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function ib(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Ah(i,r,o,c,m,g){var w=0;if(c=i,typeof i=="function")Im(i)&&(w=1);else if(typeof i=="string")w=tN(i,o,oe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=ai(31,o,r,m),i.elementType=D,i.lanes=g,i;case O:return Ha(o.children,m,g,r);case N:w=8,m|=24;break;case H:return i=ai(12,o,r,m|2),i.elementType=H,i.lanes=g,i;case re:return i=ai(13,o,r,m),i.elementType=re,i.lanes=g,i;case ce:return i=ai(19,o,r,m),i.elementType=ce,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Q:w=10;break e;case W:w=9;break e;case Y:w=11;break e;case I:w=14;break e;case S:w=16,c=null;break e}w=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=ai(w,o,r,m),r.elementType=i,r.type=c,r.lanes=g,r}function Ha(i,r,o,c){return i=ai(7,i,c,r),i.lanes=o,i}function Nm(i,r,o){return i=ai(6,i,null,r),i.lanes=o,i}function sb(i){var r=ai(18,null,null,0);return r.stateNode=i,r}function Dm(i,r,o){return r=ai(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var rb=new WeakMap;function Ai(i,r){if(typeof i=="object"&&i!==null){var o=rb.get(i);return o!==void 0?o:(r={value:i,source:r,stack:gn(r)},rb.set(i,r),r)}return{value:i,source:r,stack:gn(r)}}var zo=[],Bo=0,Ch=null,yc=0,Ci=[],Ri=0,kr=null,_s=1,ws="";function Gs(i,r){zo[Bo++]=yc,zo[Bo++]=Ch,Ch=i,yc=r}function ab(i,r,o){Ci[Ri++]=_s,Ci[Ri++]=ws,Ci[Ri++]=kr,kr=i;var c=_s;i=ws;var m=32-xt(c)-1;c&=~(1<<m),o+=1;var g=32-xt(r)+m;if(30<g){var w=m-m%5;g=(c&(1<<w)-1).toString(32),c>>=w,m-=w,_s=1<<32-xt(r)+m|o<<m|c,ws=g+i}else _s=1<<g|o<<m|c,ws=i}function km(i){i.return!==null&&(Gs(i,1),ab(i,1,0))}function Mm(i){for(;i===Ch;)Ch=zo[--Bo],zo[Bo]=null,yc=zo[--Bo],zo[Bo]=null;for(;i===kr;)kr=Ci[--Ri],Ci[Ri]=null,ws=Ci[--Ri],Ci[Ri]=null,_s=Ci[--Ri],Ci[Ri]=null}function ob(i,r){Ci[Ri++]=_s,Ci[Ri++]=ws,Ci[Ri++]=kr,_s=r.id,ws=r.overflow,kr=i}var vn=null,St=null,tt=!1,Mr=null,Ii=!1,Vm=Error(s(519));function Vr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vc(Ai(r,i)),Vm}function lb(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[$]=i,r[we]=c,o){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(o=0;o<zc.length;o++)Ye(zc[o],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":Ye("invalid",r),ah(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ye("invalid",r);break;case"textarea":Ye("invalid",r),Sr(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||Sw(r.textContent,o)?(c.popover!=null&&(Ye("beforetoggle",r),Ye("toggle",r)),c.onScroll!=null&&Ye("scroll",r),c.onScrollEnd!=null&&Ye("scrollend",r),c.onClick!=null&&(r.onclick=qi),r=!0):r=!1,r||Vr(i,!0)}function cb(i){for(vn=i.return;vn;)switch(vn.tag){case 5:case 31:case 13:Ii=!1;return;case 27:case 3:Ii=!0;return;default:vn=vn.return}}function Fo(i){if(i!==vn)return!1;if(!tt)return cb(i),tt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Zp(i.type,i.memoizedProps)),o=!o),o&&St&&Vr(i),cb(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));St=Vw(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));St=Vw(i)}else r===27?(r=St,Yr(i.type)?(i=ig,ig=null,St=i):St=r):St=vn?Di(i.stateNode.nextSibling):null;return!0}function Ga(){St=vn=null,tt=!1}function Pm(){var i=Mr;return i!==null&&(Yn===null?Yn=i:Yn.push.apply(Yn,i),Mr=null),i}function vc(i){Mr===null?Mr=[i]:Mr.push(i)}var Om=E(null),$a=null,$s=null;function Pr(i,r,o){ne(Om,r._currentValue),r._currentValue=o}function Ks(i){i._currentValue=Om.current,K(Om)}function jm(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function Lm(i,r,o,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var w=m.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=m;for(var j=0;j<r.length;j++)if(A.context===r[j]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),jm(g.return,o,i),c||(w=null);break e}g=A.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(s(341));w.lanes|=o,g=w.alternate,g!==null&&(g.lanes|=o),jm(w,o,i),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===i){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function qo(i,r,o,c){i=null;for(var m=r,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var A=m.type;ri(m.pendingProps.value,w.value)||(i!==null?i.push(A):i=[A])}}else if(m===fe.current){if(w=m.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Gc):i=[Gc])}m=m.return}i!==null&&Lm(r,i,o,c),r.flags|=262144}function Rh(i){for(i=i.firstContext;i!==null;){if(!ri(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ka(i){$a=i,$s=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function bn(i){return ub($a,i)}function Ih(i,r){return $a===null&&Ka(i),ub(i,r)}function ub(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},$s===null){if(i===null)throw Error(s(308));$s=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else $s=$s.next=r;return o}var XR=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},ZR=t.unstable_scheduleCallback,JR=t.unstable_NormalPriority,Xt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Um(){return{controller:new XR,data:new Map,refCount:0}}function bc(i){i.refCount--,i.refCount===0&&ZR(JR,function(){i.controller.abort()})}var _c=null,zm=0,Ho=0,Go=null;function eI(i,r){if(_c===null){var o=_c=[];zm=0,Ho=qp(),Go={status:"pending",value:void 0,then:function(c){o.push(c)}}}return zm++,r.then(hb,hb),r}function hb(){if(--zm===0&&_c!==null){Go!==null&&(Go.status="fulfilled");var i=_c;_c=null,Ho=0,Go=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function tI(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var fb=U.S;U.S=function(i,r){Q_=Kt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&eI(i,r),fb!==null&&fb(i,r)};var Ya=E(null);function Bm(){var i=Ya.current;return i!==null?i:wt.pooledCache}function Nh(i,r){r===null?ne(Ya,Ya.current):ne(Ya,r.pool)}function db(){var i=Bm();return i===null?null:{parent:Xt._currentValue,pool:i}}var $o=Error(s(460)),Fm=Error(s(474)),Dh=Error(s(542)),kh={then:function(){}};function mb(i){return i=i.status,i==="fulfilled"||i==="rejected"}function pb(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(qi,qi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,yb(i),i;default:if(typeof r.status=="string")r.then(qi,qi);else{if(i=wt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=c}},function(c){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,yb(i),i}throw Wa=r,$o}}function Qa(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Wa=o,$o):o}}var Wa=null;function gb(){if(Wa===null)throw Error(s(459));var i=Wa;return Wa=null,i}function yb(i){if(i===$o||i===Dh)throw Error(s(483))}var Ko=null,wc=0;function Mh(i){var r=wc;return wc+=1,Ko===null&&(Ko=[]),pb(Ko,i,r)}function Tc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Vh(i,r){throw r.$$typeof===T?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function vb(i){function r(G,F){if(i){var J=G.deletions;J===null?(G.deletions=[F],G.flags|=16):J.push(F)}}function o(G,F){if(!i)return null;for(;F!==null;)r(G,F),F=F.sibling;return null}function c(G){for(var F=new Map;G!==null;)G.key!==null?F.set(G.key,G):F.set(G.index,G),G=G.sibling;return F}function m(G,F){return G=Hs(G,F),G.index=0,G.sibling=null,G}function g(G,F,J){return G.index=J,i?(J=G.alternate,J!==null?(J=J.index,J<F?(G.flags|=67108866,F):J):(G.flags|=67108866,F)):(G.flags|=1048576,F)}function w(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function A(G,F,J,le){return F===null||F.tag!==6?(F=Nm(J,G.mode,le),F.return=G,F):(F=m(F,J),F.return=G,F)}function j(G,F,J,le){var De=J.type;return De===O?ae(G,F,J.props.children,le,J.key):F!==null&&(F.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===S&&Qa(De)===F.type)?(F=m(F,J.props),Tc(F,J),F.return=G,F):(F=Ah(J.type,J.key,J.props,null,G.mode,le),Tc(F,J),F.return=G,F)}function ee(G,F,J,le){return F===null||F.tag!==4||F.stateNode.containerInfo!==J.containerInfo||F.stateNode.implementation!==J.implementation?(F=Dm(J,G.mode,le),F.return=G,F):(F=m(F,J.children||[]),F.return=G,F)}function ae(G,F,J,le,De){return F===null||F.tag!==7?(F=Ha(J,G.mode,le,De),F.return=G,F):(F=m(F,J),F.return=G,F)}function ue(G,F,J){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Nm(""+F,G.mode,J),F.return=G,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case C:return J=Ah(F.type,F.key,F.props,null,G.mode,J),Tc(J,F),J.return=G,J;case M:return F=Dm(F,G.mode,J),F.return=G,F;case S:return F=Qa(F),ue(G,F,J)}if(ye(F)||z(F))return F=Ha(F,G.mode,J,null),F.return=G,F;if(typeof F.then=="function")return ue(G,Mh(F),J);if(F.$$typeof===Q)return ue(G,Ih(G,F),J);Vh(G,F)}return null}function te(G,F,J,le){var De=F!==null?F.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return De!==null?null:A(G,F,""+J,le);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case C:return J.key===De?j(G,F,J,le):null;case M:return J.key===De?ee(G,F,J,le):null;case S:return J=Qa(J),te(G,F,J,le)}if(ye(J)||z(J))return De!==null?null:ae(G,F,J,le,null);if(typeof J.then=="function")return te(G,F,Mh(J),le);if(J.$$typeof===Q)return te(G,F,Ih(G,J),le);Vh(G,J)}return null}function se(G,F,J,le,De){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return G=G.get(J)||null,A(F,G,""+le,De);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case C:return G=G.get(le.key===null?J:le.key)||null,j(F,G,le,De);case M:return G=G.get(le.key===null?J:le.key)||null,ee(F,G,le,De);case S:return le=Qa(le),se(G,F,J,le,De)}if(ye(le)||z(le))return G=G.get(J)||null,ae(F,G,le,De,null);if(typeof le.then=="function")return se(G,F,J,Mh(le),De);if(le.$$typeof===Q)return se(G,F,J,Ih(F,le),De);Vh(F,le)}return null}function Se(G,F,J,le){for(var De=null,rt=null,Re=F,Be=F=0,We=null;Re!==null&&Be<J.length;Be++){Re.index>Be?(We=Re,Re=null):We=Re.sibling;var at=te(G,Re,J[Be],le);if(at===null){Re===null&&(Re=We);break}i&&Re&&at.alternate===null&&r(G,Re),F=g(at,F,Be),rt===null?De=at:rt.sibling=at,rt=at,Re=We}if(Be===J.length)return o(G,Re),tt&&Gs(G,Be),De;if(Re===null){for(;Be<J.length;Be++)Re=ue(G,J[Be],le),Re!==null&&(F=g(Re,F,Be),rt===null?De=Re:rt.sibling=Re,rt=Re);return tt&&Gs(G,Be),De}for(Re=c(Re);Be<J.length;Be++)We=se(Re,G,Be,J[Be],le),We!==null&&(i&&We.alternate!==null&&Re.delete(We.key===null?Be:We.key),F=g(We,F,Be),rt===null?De=We:rt.sibling=We,rt=We);return i&&Re.forEach(function(Jr){return r(G,Jr)}),tt&&Gs(G,Be),De}function ke(G,F,J,le){if(J==null)throw Error(s(151));for(var De=null,rt=null,Re=F,Be=F=0,We=null,at=J.next();Re!==null&&!at.done;Be++,at=J.next()){Re.index>Be?(We=Re,Re=null):We=Re.sibling;var Jr=te(G,Re,at.value,le);if(Jr===null){Re===null&&(Re=We);break}i&&Re&&Jr.alternate===null&&r(G,Re),F=g(Jr,F,Be),rt===null?De=Jr:rt.sibling=Jr,rt=Jr,Re=We}if(at.done)return o(G,Re),tt&&Gs(G,Be),De;if(Re===null){for(;!at.done;Be++,at=J.next())at=ue(G,at.value,le),at!==null&&(F=g(at,F,Be),rt===null?De=at:rt.sibling=at,rt=at);return tt&&Gs(G,Be),De}for(Re=c(Re);!at.done;Be++,at=J.next())at=se(Re,G,Be,at.value,le),at!==null&&(i&&at.alternate!==null&&Re.delete(at.key===null?Be:at.key),F=g(at,F,Be),rt===null?De=at:rt.sibling=at,rt=at);return i&&Re.forEach(function(fN){return r(G,fN)}),tt&&Gs(G,Be),De}function _t(G,F,J,le){if(typeof J=="object"&&J!==null&&J.type===O&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case C:e:{for(var De=J.key;F!==null;){if(F.key===De){if(De=J.type,De===O){if(F.tag===7){o(G,F.sibling),le=m(F,J.props.children),le.return=G,G=le;break e}}else if(F.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===S&&Qa(De)===F.type){o(G,F.sibling),le=m(F,J.props),Tc(le,J),le.return=G,G=le;break e}o(G,F);break}else r(G,F);F=F.sibling}J.type===O?(le=Ha(J.props.children,G.mode,le,J.key),le.return=G,G=le):(le=Ah(J.type,J.key,J.props,null,G.mode,le),Tc(le,J),le.return=G,G=le)}return w(G);case M:e:{for(De=J.key;F!==null;){if(F.key===De)if(F.tag===4&&F.stateNode.containerInfo===J.containerInfo&&F.stateNode.implementation===J.implementation){o(G,F.sibling),le=m(F,J.children||[]),le.return=G,G=le;break e}else{o(G,F);break}else r(G,F);F=F.sibling}le=Dm(J,G.mode,le),le.return=G,G=le}return w(G);case S:return J=Qa(J),_t(G,F,J,le)}if(ye(J))return Se(G,F,J,le);if(z(J)){if(De=z(J),typeof De!="function")throw Error(s(150));return J=De.call(J),ke(G,F,J,le)}if(typeof J.then=="function")return _t(G,F,Mh(J),le);if(J.$$typeof===Q)return _t(G,F,Ih(G,J),le);Vh(G,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,F!==null&&F.tag===6?(o(G,F.sibling),le=m(F,J),le.return=G,G=le):(o(G,F),le=Nm(J,G.mode,le),le.return=G,G=le),w(G)):o(G,F)}return function(G,F,J,le){try{wc=0;var De=_t(G,F,J,le);return Ko=null,De}catch(Re){if(Re===$o||Re===Dh)throw Re;var rt=ai(29,Re,null,G.mode);return rt.lanes=le,rt.return=G,rt}}}var Xa=vb(!0),bb=vb(!1),Or=!1;function qm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function jr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Lr(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(lt&2)!==0){var m=c.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),c.pending=r,r=Sh(i),nb(i,null,o),r}return Eh(i,c,r,o),Sh(i)}function xc(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Na(i,o)}}function Gm(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=w:g=g.next=w,o=o.next}while(o!==null);g===null?m=g=r:g=g.next=r}else m=g=r;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var $m=!1;function Ec(){if($m){var i=Go;if(i!==null)throw i}}function Sc(i,r,o,c){$m=!1;var m=i.updateQueue;Or=!1;var g=m.firstBaseUpdate,w=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var j=A,ee=j.next;j.next=null,w===null?g=ee:w.next=ee,w=j;var ae=i.alternate;ae!==null&&(ae=ae.updateQueue,A=ae.lastBaseUpdate,A!==w&&(A===null?ae.firstBaseUpdate=ee:A.next=ee,ae.lastBaseUpdate=j))}if(g!==null){var ue=m.baseState;w=0,ae=ee=j=null,A=g;do{var te=A.lane&-536870913,se=te!==A.lane;if(se?(Qe&te)===te:(c&te)===te){te!==0&&te===Ho&&($m=!0),ae!==null&&(ae=ae.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Se=i,ke=A;te=r;var _t=o;switch(ke.tag){case 1:if(Se=ke.payload,typeof Se=="function"){ue=Se.call(_t,ue,te);break e}ue=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=ke.payload,te=typeof Se=="function"?Se.call(_t,ue,te):Se,te==null)break e;ue=v({},ue,te);break e;case 2:Or=!0}}te=A.callback,te!==null&&(i.flags|=64,se&&(i.flags|=8192),se=m.callbacks,se===null?m.callbacks=[te]:se.push(te))}else se={lane:te,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ae===null?(ee=ae=se,j=ue):ae=ae.next=se,w|=te;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;se=A,A=se.next,se.next=null,m.lastBaseUpdate=se,m.shared.pending=null}}while(!0);ae===null&&(j=ue),m.baseState=j,m.firstBaseUpdate=ee,m.lastBaseUpdate=ae,g===null&&(m.shared.lanes=0),qr|=w,i.lanes=w,i.memoizedState=ue}}function _b(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function wb(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)_b(o[i],r)}var Yo=E(null),Ph=E(0);function Tb(i,r){i=nr,ne(Ph,i),ne(Yo,r),nr=i|r.baseLanes}function Km(){ne(Ph,nr),ne(Yo,Yo.current)}function Ym(){nr=Ph.current,K(Yo),K(Ph)}var oi=E(null),Ni=null;function Ur(i){var r=i.alternate;ne(qt,qt.current&1),ne(oi,i),Ni===null&&(r===null||Yo.current!==null||r.memoizedState!==null)&&(Ni=i)}function Qm(i){ne(qt,qt.current),ne(oi,i),Ni===null&&(Ni=i)}function xb(i){i.tag===22?(ne(qt,qt.current),ne(oi,i),Ni===null&&(Ni=i)):zr()}function zr(){ne(qt,qt.current),ne(oi,oi.current)}function li(i){K(oi),Ni===i&&(Ni=null),K(qt)}var qt=E(0);function Oh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||tg(o)||ng(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ys=0,ze=null,vt=null,Zt=null,jh=!1,Qo=!1,Za=!1,Lh=0,Ac=0,Wo=null,nI=0;function jt(){throw Error(s(321))}function Wm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!ri(i[o],r[o]))return!1;return!0}function Xm(i,r,o,c,m,g){return Ys=g,ze=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,U.H=i===null||i.memoizedState===null?a_:fp,Za=!1,g=o(c,m),Za=!1,Qo&&(g=Sb(r,o,c,m)),Eb(i),g}function Eb(i){U.H=Ic;var r=vt!==null&&vt.next!==null;if(Ys=0,Zt=vt=ze=null,jh=!1,Ac=0,Wo=null,r)throw Error(s(300));i===null||Jt||(i=i.dependencies,i!==null&&Rh(i)&&(Jt=!0))}function Sb(i,r,o,c){ze=i;var m=0;do{if(Qo&&(Wo=null),Ac=0,Qo=!1,25<=m)throw Error(s(301));if(m+=1,Zt=vt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}U.H=o_,g=r(o,c)}while(Qo);return g}function iI(){var i=U.H,r=i.useState()[0];return r=typeof r.then=="function"?Cc(r):r,i=i.useState()[0],(vt!==null?vt.memoizedState:null)!==i&&(ze.flags|=1024),r}function Zm(){var i=Lh!==0;return Lh=0,i}function Jm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function ep(i){if(jh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}jh=!1}Ys=0,Zt=vt=ze=null,Qo=!1,Ac=Lh=0,Wo=null}function jn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?ze.memoizedState=Zt=i:Zt=Zt.next=i,Zt}function Ht(){if(vt===null){var i=ze.alternate;i=i!==null?i.memoizedState:null}else i=vt.next;var r=Zt===null?ze.memoizedState:Zt.next;if(r!==null)Zt=r,vt=i;else{if(i===null)throw ze.alternate===null?Error(s(467)):Error(s(310));vt=i,i={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Zt===null?ze.memoizedState=Zt=i:Zt=Zt.next=i}return Zt}function Uh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cc(i){var r=Ac;return Ac+=1,Wo===null&&(Wo=[]),i=pb(Wo,i,r),r=ze,(Zt===null?r.memoizedState:Zt.next)===null&&(r=r.alternate,U.H=r===null||r.memoizedState===null?a_:fp),i}function zh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Cc(i);if(i.$$typeof===Q)return bn(i)}throw Error(s(438,String(i)))}function tp(i){var r=null,o=ze.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=ze.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Uh(),ze.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=L;return r.index++,o}function Qs(i,r){return typeof r=="function"?r(i):r}function Bh(i){var r=Ht();return np(r,vt,i)}function np(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var m=i.baseQueue,g=c.pending;if(g!==null){if(m!==null){var w=m.next;m.next=g.next,g.next=w}r.baseQueue=m=g,c.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{r=m.next;var A=w=null,j=null,ee=r,ae=!1;do{var ue=ee.lane&-536870913;if(ue!==ee.lane?(Qe&ue)===ue:(Ys&ue)===ue){var te=ee.revertLane;if(te===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ue===Ho&&(ae=!0);else if((Ys&te)===te){ee=ee.next,te===Ho&&(ae=!0);continue}else ue={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},j===null?(A=j=ue,w=g):j=j.next=ue,ze.lanes|=te,qr|=te;ue=ee.action,Za&&o(g,ue),g=ee.hasEagerState?ee.eagerState:o(g,ue)}else te={lane:ue,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},j===null?(A=j=te,w=g):j=j.next=te,ze.lanes|=ue,qr|=ue;ee=ee.next}while(ee!==null&&ee!==r);if(j===null?w=g:j.next=A,!ri(g,i.memoizedState)&&(Jt=!0,ae&&(o=Go,o!==null)))throw o;i.memoizedState=g,i.baseState=w,i.baseQueue=j,c.lastRenderedState=g}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function ip(i){var r=Ht(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,m=o.pending,g=r.memoizedState;if(m!==null){o.pending=null;var w=m=m.next;do g=i(g,w.action),w=w.next;while(w!==m);ri(g,r.memoizedState)||(Jt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function Ab(i,r,o){var c=ze,m=Ht(),g=tt;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var w=!ri((vt||m).memoizedState,o);if(w&&(m.memoizedState=o,Jt=!0),m=m.queue,ap(Ib.bind(null,c,m,i),[i]),m.getSnapshot!==r||w||Zt!==null&&Zt.memoizedState.tag&1){if(c.flags|=2048,Xo(9,{destroy:void 0},Rb.bind(null,c,m,o,r),null),wt===null)throw Error(s(349));g||(Ys&127)!==0||Cb(c,r,o)}return o}function Cb(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=ze.updateQueue,r===null?(r=Uh(),ze.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function Rb(i,r,o,c){r.value=o,r.getSnapshot=c,Nb(r)&&Db(i)}function Ib(i,r,o){return o(function(){Nb(r)&&Db(i)})}function Nb(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!ri(i,o)}catch{return!0}}function Db(i){var r=qa(i,2);r!==null&&Qn(r,i,2)}function sp(i){var r=jn();if(typeof i=="function"){var o=i;if(i=o(),Za){Vn(!0);try{o()}finally{Vn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:i},r}function kb(i,r,o,c){return i.baseState=o,np(i,vt,typeof c=="function"?c:Qs)}function sI(i,r,o,c,m){if(Hh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};U.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,Mb(r,g)):(g.next=o.next,r.pending=o.next=g)}}function Mb(i,r){var o=r.action,c=r.payload,m=i.state;if(r.isTransition){var g=U.T,w={};U.T=w;try{var A=o(m,c),j=U.S;j!==null&&j(w,A),Vb(i,r,A)}catch(ee){rp(i,r,ee)}finally{g!==null&&w.types!==null&&(g.types=w.types),U.T=g}}else try{g=o(m,c),Vb(i,r,g)}catch(ee){rp(i,r,ee)}}function Vb(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Pb(i,r,c)},function(c){return rp(i,r,c)}):Pb(i,r,o)}function Pb(i,r,o){r.status="fulfilled",r.value=o,Ob(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Mb(i,o)))}function rp(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,Ob(r),r=r.next;while(r!==c)}i.action=null}function Ob(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function jb(i,r){return r}function Lb(i,r){if(tt){var o=wt.formState;if(o!==null){e:{var c=ze;if(tt){if(St){t:{for(var m=St,g=Ii;m.nodeType!==8;){if(!g){m=null;break t}if(m=Di(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){St=Di(m.nextSibling),c=m.data==="F!";break e}}Vr(c)}c=!1}c&&(r=o[0])}}return o=jn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jb,lastRenderedState:r},o.queue=c,o=i_.bind(null,ze,c),c.dispatch=o,c=sp(!1),g=hp.bind(null,ze,!1,c.queue),c=jn(),m={state:r,dispatch:null,action:i,pending:null},c.queue=m,o=sI.bind(null,ze,m,g,o),m.dispatch=o,c.memoizedState=i,[r,o,!1]}function Ub(i){var r=Ht();return zb(r,vt,i)}function zb(i,r,o){if(r=np(i,r,jb)[0],i=Bh(Qs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Cc(r)}catch(w){throw w===$o?Dh:w}else c=r;r=Ht();var m=r.queue,g=m.dispatch;return o!==r.memoizedState&&(ze.flags|=2048,Xo(9,{destroy:void 0},rI.bind(null,m,o),null)),[c,g,i]}function rI(i,r){i.action=r}function Bb(i){var r=Ht(),o=vt;if(o!==null)return zb(r,o,i);Ht(),r=r.memoizedState,o=Ht();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function Xo(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=ze.updateQueue,r===null&&(r=Uh(),ze.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function Fb(){return Ht().memoizedState}function Fh(i,r,o,c){var m=jn();ze.flags|=i,m.memoizedState=Xo(1|r,{destroy:void 0},o,c===void 0?null:c)}function qh(i,r,o,c){var m=Ht();c=c===void 0?null:c;var g=m.memoizedState.inst;vt!==null&&c!==null&&Wm(c,vt.memoizedState.deps)?m.memoizedState=Xo(r,g,o,c):(ze.flags|=i,m.memoizedState=Xo(1|r,g,o,c))}function qb(i,r){Fh(8390656,8,i,r)}function ap(i,r){qh(2048,8,i,r)}function aI(i){ze.flags|=4;var r=ze.updateQueue;if(r===null)r=Uh(),ze.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function Hb(i){var r=Ht().memoizedState;return aI({ref:r,nextImpl:i}),function(){if((lt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Gb(i,r){return qh(4,2,i,r)}function $b(i,r){return qh(4,4,i,r)}function Kb(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Yb(i,r,o){o=o!=null?o.concat([i]):null,qh(4,4,Kb.bind(null,r,i),o)}function op(){}function Qb(i,r){var o=Ht();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Wm(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function Wb(i,r){var o=Ht();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Wm(r,c[1]))return c[0];if(c=i(),Za){Vn(!0);try{i()}finally{Vn(!1)}}return o.memoizedState=[c,r],c}function lp(i,r,o){return o===void 0||(Ys&1073741824)!==0&&(Qe&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=X_(),ze.lanes|=i,qr|=i,o)}function Xb(i,r,o,c){return ri(o,r)?o:Yo.current!==null?(i=lp(i,o,c),ri(i,r)||(Jt=!0),i):(Ys&42)===0||(Ys&1073741824)!==0&&(Qe&261930)===0?(Jt=!0,i.memoizedState=o):(i=X_(),ze.lanes|=i,qr|=i,r)}function Zb(i,r,o,c,m){var g=Z.p;Z.p=g!==0&&8>g?g:8;var w=U.T,A={};U.T=A,hp(i,!1,r,o);try{var j=m(),ee=U.S;if(ee!==null&&ee(A,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ae=tI(j,c);Rc(i,r,ae,hi(i))}else Rc(i,r,c,hi(i))}catch(ue){Rc(i,r,{then:function(){},status:"rejected",reason:ue},hi())}finally{Z.p=g,w!==null&&A.types!==null&&(w.types=A.types),U.T=w}}function oI(){}function cp(i,r,o,c){if(i.tag!==5)throw Error(s(476));var m=Jb(i).queue;Zb(i,m,r,q,o===null?oI:function(){return e_(i),o(c)})}function Jb(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:q},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function e_(i){var r=Jb(i);r.next===null&&(r=i.alternate.memoizedState),Rc(i,r.next.queue,{},hi())}function up(){return bn(Gc)}function t_(){return Ht().memoizedState}function n_(){return Ht().memoizedState}function lI(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=hi();i=jr(o);var c=Lr(r,i,o);c!==null&&(Qn(c,r,o),xc(c,r,o)),r={cache:Um()},i.payload=r;return}r=r.return}}function cI(i,r,o){var c=hi();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Hh(i)?s_(r,o):(o=Rm(i,r,o,c),o!==null&&(Qn(o,i,c),r_(o,r,c)))}function i_(i,r,o){var c=hi();Rc(i,r,o,c)}function Rc(i,r,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Hh(i))s_(r,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var w=r.lastRenderedState,A=g(w,o);if(m.hasEagerState=!0,m.eagerState=A,ri(A,w))return Eh(i,r,m,0),wt===null&&xh(),!1}catch{}if(o=Rm(i,r,m,c),o!==null)return Qn(o,i,c),r_(o,r,c),!0}return!1}function hp(i,r,o,c){if(c={lane:2,revertLane:qp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Hh(i)){if(r)throw Error(s(479))}else r=Rm(i,o,c,2),r!==null&&Qn(r,i,2)}function Hh(i){var r=i.alternate;return i===ze||r!==null&&r===ze}function s_(i,r){Qo=jh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function r_(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Na(i,o)}}var Ic={readContext:bn,use:zh,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt};Ic.useEffectEvent=jt;var a_={readContext:bn,use:zh,useCallback:function(i,r){return jn().memoizedState=[i,r===void 0?null:r],i},useContext:bn,useEffect:qb,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Fh(4194308,4,Kb.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Fh(4194308,4,i,r)},useInsertionEffect:function(i,r){Fh(4,2,i,r)},useMemo:function(i,r){var o=jn();r=r===void 0?null:r;var c=i();if(Za){Vn(!0);try{i()}finally{Vn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=jn();if(o!==void 0){var m=o(r);if(Za){Vn(!0);try{o(r)}finally{Vn(!1)}}}else m=r;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=cI.bind(null,ze,i),[c.memoizedState,i]},useRef:function(i){var r=jn();return i={current:i},r.memoizedState=i},useState:function(i){i=sp(i);var r=i.queue,o=i_.bind(null,ze,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:op,useDeferredValue:function(i,r){var o=jn();return lp(o,i,r)},useTransition:function(){var i=sp(!1);return i=Zb.bind(null,ze,i.queue,!0,!1),jn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=ze,m=jn();if(tt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),wt===null)throw Error(s(349));(Qe&127)!==0||Cb(c,r,o)}m.memoizedState=o;var g={value:o,getSnapshot:r};return m.queue=g,qb(Ib.bind(null,c,g,i),[i]),c.flags|=2048,Xo(9,{destroy:void 0},Rb.bind(null,c,g,o,r),null),o},useId:function(){var i=jn(),r=wt.identifierPrefix;if(tt){var o=ws,c=_s;o=(c&~(1<<32-xt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Lh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=nI++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:up,useFormState:Lb,useActionState:Lb,useOptimistic:function(i){var r=jn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=hp.bind(null,ze,!0,o),o.dispatch=r,[i,r]},useMemoCache:tp,useCacheRefresh:function(){return jn().memoizedState=lI.bind(null,ze)},useEffectEvent:function(i){var r=jn(),o={impl:i};return r.memoizedState=o,function(){if((lt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},fp={readContext:bn,use:zh,useCallback:Qb,useContext:bn,useEffect:ap,useImperativeHandle:Yb,useInsertionEffect:Gb,useLayoutEffect:$b,useMemo:Wb,useReducer:Bh,useRef:Fb,useState:function(){return Bh(Qs)},useDebugValue:op,useDeferredValue:function(i,r){var o=Ht();return Xb(o,vt.memoizedState,i,r)},useTransition:function(){var i=Bh(Qs)[0],r=Ht().memoizedState;return[typeof i=="boolean"?i:Cc(i),r]},useSyncExternalStore:Ab,useId:t_,useHostTransitionStatus:up,useFormState:Ub,useActionState:Ub,useOptimistic:function(i,r){var o=Ht();return kb(o,vt,i,r)},useMemoCache:tp,useCacheRefresh:n_};fp.useEffectEvent=Hb;var o_={readContext:bn,use:zh,useCallback:Qb,useContext:bn,useEffect:ap,useImperativeHandle:Yb,useInsertionEffect:Gb,useLayoutEffect:$b,useMemo:Wb,useReducer:ip,useRef:Fb,useState:function(){return ip(Qs)},useDebugValue:op,useDeferredValue:function(i,r){var o=Ht();return vt===null?lp(o,i,r):Xb(o,vt.memoizedState,i,r)},useTransition:function(){var i=ip(Qs)[0],r=Ht().memoizedState;return[typeof i=="boolean"?i:Cc(i),r]},useSyncExternalStore:Ab,useId:t_,useHostTransitionStatus:up,useFormState:Bb,useActionState:Bb,useOptimistic:function(i,r){var o=Ht();return vt!==null?kb(o,vt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:tp,useCacheRefresh:n_};o_.useEffectEvent=Hb;function dp(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var mp={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=hi(),m=jr(c);m.payload=r,o!=null&&(m.callback=o),r=Lr(i,m,c),r!==null&&(Qn(r,i,c),xc(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=hi(),m=jr(c);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=Lr(i,m,c),r!==null&&(Qn(r,i,c),xc(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=hi(),c=jr(o);c.tag=2,r!=null&&(c.callback=r),r=Lr(i,c,o),r!==null&&(Qn(r,i,o),xc(r,i,o))}};function l_(i,r,o,c,m,g,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,w):r.prototype&&r.prototype.isPureReactComponent?!pc(o,c)||!pc(m,g):!0}function c_(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&mp.enqueueReplaceState(r,r.state,null)}function Ja(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function u_(i){Th(i)}function h_(i){console.error(i)}function f_(i){Th(i)}function Gh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function d_(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function pp(i,r,o){return o=jr(o),o.tag=3,o.payload={element:null},o.callback=function(){Gh(i,r)},o}function m_(i){return i=jr(i),i.tag=3,i}function p_(i,r,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;i.payload=function(){return m(g)},i.callback=function(){d_(r,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){d_(r,o,c),typeof m!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function uI(i,r,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&qo(r,o,m,!0),o=oi.current,o!==null){switch(o.tag){case 31:case 13:return Ni===null?sf():o.alternate===null&&Lt===0&&(Lt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===kh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),zp(i,c,m)),!1;case 22:return o.flags|=65536,c===kh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),zp(i,c,m)),!1}throw Error(s(435,o.tag))}return zp(i,c,m),sf(),!1}if(tt)return r=oi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,c!==Vm&&(i=Error(s(422),{cause:c}),vc(Ai(i,o)))):(c!==Vm&&(r=Error(s(423),{cause:c}),vc(Ai(r,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=Ai(c,o),m=pp(i.stateNode,c,m),Gm(i,m),Lt!==4&&(Lt=2)),!1;var g=Error(s(520),{cause:c});if(g=Ai(g,o),jc===null?jc=[g]:jc.push(g),Lt!==4&&(Lt=2),r===null)return!0;c=Ai(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=pp(o.stateNode,c,i),Gm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Hr===null||!Hr.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=m_(m),p_(m,i,o,c),Gm(o,m),!1}o=o.return}while(o!==null);return!1}var gp=Error(s(461)),Jt=!1;function _n(i,r,o,c){r.child=i===null?bb(r,null,o,c):Xa(r,i.child,o,c)}function g_(i,r,o,c,m){o=o.render;var g=r.ref;if("ref"in c){var w={};for(var A in c)A!=="ref"&&(w[A]=c[A])}else w=c;return Ka(r),c=Xm(i,r,o,w,g,m),A=Zm(),i!==null&&!Jt?(Jm(i,r,m),Ws(i,r,m)):(tt&&A&&km(r),r.flags|=1,_n(i,r,c,m),r.child)}function y_(i,r,o,c,m){if(i===null){var g=o.type;return typeof g=="function"&&!Im(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,v_(i,r,g,c,m)):(i=Ah(o.type,null,c,r,r.mode,m),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Ep(i,m)){var w=g.memoizedProps;if(o=o.compare,o=o!==null?o:pc,o(w,c)&&i.ref===r.ref)return Ws(i,r,m)}return r.flags|=1,i=Hs(g,c),i.ref=r.ref,i.return=r,r.child=i}function v_(i,r,o,c,m){if(i!==null){var g=i.memoizedProps;if(pc(g,c)&&i.ref===r.ref)if(Jt=!1,r.pendingProps=c=g,Ep(i,m))(i.flags&131072)!==0&&(Jt=!0);else return r.lanes=i.lanes,Ws(i,r,m)}return yp(i,r,o,c,m)}function b_(i,r,o,c){var m=c.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=r.child=i.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,r.child=null;return __(i,r,g,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Nh(r,g!==null?g.cachePool:null),g!==null?Tb(r,g):Km(),xb(r);else return c=r.lanes=536870912,__(i,r,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Nh(r,g.cachePool),Tb(r,g),zr(),r.memoizedState=null):(i!==null&&Nh(r,null),Km(),zr());return _n(i,r,m,o),r.child}function Nc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function __(i,r,o,c,m){var g=Bm();return g=g===null?null:{parent:Xt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&Nh(r,null),Km(),xb(r),i!==null&&qo(i,r,c,!0),r.childLanes=m,null}function $h(i,r){return r=Yh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function w_(i,r,o){return Xa(r,i.child,null,o),i=$h(r,r.pendingProps),i.flags|=2,li(r),r.memoizedState=null,i}function hI(i,r,o){var c=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(tt){if(c.mode==="hidden")return i=$h(r,c),r.lanes=536870912,Nc(null,i);if(Qm(r),(i=St)?(i=Mw(i,Ii),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:kr!==null?{id:_s,overflow:ws}:null,retryLane:536870912,hydrationErrors:null},o=sb(i),o.return=r,r.child=o,vn=r,St=null)):i=null,i===null)throw Vr(r);return r.lanes=536870912,null}return $h(r,c)}var g=i.memoizedState;if(g!==null){var w=g.dehydrated;if(Qm(r),m)if(r.flags&256)r.flags&=-257,r=w_(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Jt||qo(i,r,o,!1),m=(o&i.childLanes)!==0,Jt||m){if(c=wt,c!==null&&(w=Da(c,o),w!==0&&w!==g.retryLane))throw g.retryLane=w,qa(i,w),Qn(c,i,w),gp;sf(),r=w_(i,r,o)}else i=g.treeContext,St=Di(w.nextSibling),vn=r,tt=!0,Mr=null,Ii=!1,i!==null&&ob(r,i),r=$h(r,c),r.flags|=4096;return r}return i=Hs(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Kh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function yp(i,r,o,c,m){return Ka(r),o=Xm(i,r,o,c,void 0,m),c=Zm(),i!==null&&!Jt?(Jm(i,r,m),Ws(i,r,m)):(tt&&c&&km(r),r.flags|=1,_n(i,r,o,m),r.child)}function T_(i,r,o,c,m,g){return Ka(r),r.updateQueue=null,o=Sb(r,c,o,m),Eb(i),c=Zm(),i!==null&&!Jt?(Jm(i,r,g),Ws(i,r,g)):(tt&&c&&km(r),r.flags|=1,_n(i,r,o,g),r.child)}function x_(i,r,o,c,m){if(Ka(r),r.stateNode===null){var g=Uo,w=o.contextType;typeof w=="object"&&w!==null&&(g=bn(w)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=mp,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},qm(r),w=o.contextType,g.context=typeof w=="object"&&w!==null?bn(w):Uo,g.state=r.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(dp(r,o,w,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&mp.enqueueReplaceState(g,g.state,null),Sc(r,c,g,m),Ec(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){g=r.stateNode;var A=r.memoizedProps,j=Ja(o,A);g.props=j;var ee=g.context,ae=o.contextType;w=Uo,typeof ae=="object"&&ae!==null&&(w=bn(ae));var ue=o.getDerivedStateFromProps;ae=typeof ue=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,ae||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||ee!==w)&&c_(r,g,c,w),Or=!1;var te=r.memoizedState;g.state=te,Sc(r,c,g,m),Ec(),ee=r.memoizedState,A||te!==ee||Or?(typeof ue=="function"&&(dp(r,o,ue,c),ee=r.memoizedState),(j=Or||l_(r,o,j,c,te,ee,w))?(ae||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=ee),g.props=c,g.state=ee,g.context=w,c=j):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,Hm(i,r),w=r.memoizedProps,ae=Ja(o,w),g.props=ae,ue=r.pendingProps,te=g.context,ee=o.contextType,j=Uo,typeof ee=="object"&&ee!==null&&(j=bn(ee)),A=o.getDerivedStateFromProps,(ee=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==ue||te!==j)&&c_(r,g,c,j),Or=!1,te=r.memoizedState,g.state=te,Sc(r,c,g,m),Ec();var se=r.memoizedState;w!==ue||te!==se||Or||i!==null&&i.dependencies!==null&&Rh(i.dependencies)?(typeof A=="function"&&(dp(r,o,A,c),se=r.memoizedState),(ae=Or||l_(r,o,ae,c,te,se,j)||i!==null&&i.dependencies!==null&&Rh(i.dependencies))?(ee||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,se,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,se,j)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&te===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&te===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=se),g.props=c,g.state=se,g.context=j,c=ae):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&te===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&te===i.memoizedState||(r.flags|=1024),c=!1)}return g=c,Kh(i,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&c?(r.child=Xa(r,i.child,null,m),r.child=Xa(r,null,o,m)):_n(i,r,o,m),r.memoizedState=g.state,i=r.child):i=Ws(i,r,m),i}function E_(i,r,o,c){return Ga(),r.flags|=256,_n(i,r,o,c),r.child}var vp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bp(i){return{baseLanes:i,cachePool:db()}}function _p(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=ui),i}function S_(i,r,o){var c=r.pendingProps,m=!1,g=(r.flags&128)!==0,w;if((w=g)||(w=i!==null&&i.memoizedState===null?!1:(qt.current&2)!==0),w&&(m=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,i===null){if(tt){if(m?Ur(r):zr(),(i=St)?(i=Mw(i,Ii),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:kr!==null?{id:_s,overflow:ws}:null,retryLane:536870912,hydrationErrors:null},o=sb(i),o.return=r,r.child=o,vn=r,St=null)):i=null,i===null)throw Vr(r);return ng(i)?r.lanes=32:r.lanes=536870912,null}var A=c.children;return c=c.fallback,m?(zr(),m=r.mode,A=Yh({mode:"hidden",children:A},m),c=Ha(c,m,o,null),A.return=r,c.return=r,A.sibling=c,r.child=A,c=r.child,c.memoizedState=bp(o),c.childLanes=_p(i,w,o),r.memoizedState=vp,Nc(null,c)):(Ur(r),wp(r,A))}var j=i.memoizedState;if(j!==null&&(A=j.dehydrated,A!==null)){if(g)r.flags&256?(Ur(r),r.flags&=-257,r=Tp(i,r,o)):r.memoizedState!==null?(zr(),r.child=i.child,r.flags|=128,r=null):(zr(),A=c.fallback,m=r.mode,c=Yh({mode:"visible",children:c.children},m),A=Ha(A,m,o,null),A.flags|=2,c.return=r,A.return=r,c.sibling=A,r.child=c,Xa(r,i.child,null,o),c=r.child,c.memoizedState=bp(o),c.childLanes=_p(i,w,o),r.memoizedState=vp,r=Nc(null,c));else if(Ur(r),ng(A)){if(w=A.nextSibling&&A.nextSibling.dataset,w)var ee=w.dgst;w=ee,c=Error(s(419)),c.stack="",c.digest=w,vc({value:c,source:null,stack:null}),r=Tp(i,r,o)}else if(Jt||qo(i,r,o,!1),w=(o&i.childLanes)!==0,Jt||w){if(w=wt,w!==null&&(c=Da(w,o),c!==0&&c!==j.retryLane))throw j.retryLane=c,qa(i,c),Qn(w,i,c),gp;tg(A)||sf(),r=Tp(i,r,o)}else tg(A)?(r.flags|=192,r.child=i.child,r=null):(i=j.treeContext,St=Di(A.nextSibling),vn=r,tt=!0,Mr=null,Ii=!1,i!==null&&ob(r,i),r=wp(r,c.children),r.flags|=4096);return r}return m?(zr(),A=c.fallback,m=r.mode,j=i.child,ee=j.sibling,c=Hs(j,{mode:"hidden",children:c.children}),c.subtreeFlags=j.subtreeFlags&65011712,ee!==null?A=Hs(ee,A):(A=Ha(A,m,o,null),A.flags|=2),A.return=r,c.return=r,c.sibling=A,r.child=c,Nc(null,c),c=r.child,A=i.child.memoizedState,A===null?A=bp(o):(m=A.cachePool,m!==null?(j=Xt._currentValue,m=m.parent!==j?{parent:j,pool:j}:m):m=db(),A={baseLanes:A.baseLanes|o,cachePool:m}),c.memoizedState=A,c.childLanes=_p(i,w,o),r.memoizedState=vp,Nc(i.child,c)):(Ur(r),o=i.child,i=o.sibling,o=Hs(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(w=r.deletions,w===null?(r.deletions=[i],r.flags|=16):w.push(i)),r.child=o,r.memoizedState=null,o)}function wp(i,r){return r=Yh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Yh(i,r){return i=ai(22,i,null,r),i.lanes=0,i}function Tp(i,r,o){return Xa(r,i.child,null,o),i=wp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function A_(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),jm(i.return,r,o)}function xp(i,r,o,c,m,g){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:g}:(w.isBackwards=r,w.rendering=null,w.renderingStartTime=0,w.last=c,w.tail=o,w.tailMode=m,w.treeForkCount=g)}function C_(i,r,o){var c=r.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var w=qt.current,A=(w&2)!==0;if(A?(w=w&1|2,r.flags|=128):w&=1,ne(qt,w),_n(i,r,c,o),c=tt?yc:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&A_(i,o,r);else if(i.tag===19)A_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)i=o.alternate,i!==null&&Oh(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),xp(r,!1,m,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(i=m.alternate,i!==null&&Oh(i)===null){r.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}xp(r,!0,o,null,g,c);break;case"together":xp(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Ws(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),qr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(qo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Hs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Hs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Ep(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Rh(i)))}function fI(i,r,o){switch(r.tag){case 3:Ee(r,r.stateNode.containerInfo),Pr(r,Xt,i.memoizedState.cache),Ga();break;case 27:case 5:Ge(r);break;case 4:Ee(r,r.stateNode.containerInfo);break;case 10:Pr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Qm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Ur(r),r.flags|=128,null):(o&r.child.childLanes)!==0?S_(i,r,o):(Ur(r),i=Ws(i,r,o),i!==null?i.sibling:null);Ur(r);break;case 19:var m=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(qo(i,r,o,!1),c=(o&r.childLanes)!==0),m){if(c)return C_(i,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ne(qt,qt.current),c)break;return null;case 22:return r.lanes=0,b_(i,r,o,r.pendingProps);case 24:Pr(r,Xt,i.memoizedState.cache)}return Ws(i,r,o)}function R_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Jt=!0;else{if(!Ep(i,o)&&(r.flags&128)===0)return Jt=!1,fI(i,r,o);Jt=(i.flags&131072)!==0}else Jt=!1,tt&&(r.flags&1048576)!==0&&ab(r,yc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=Qa(r.elementType),r.type=i,typeof i=="function")Im(i)?(c=Ja(i,c),r.tag=1,r=x_(null,r,i,c,o)):(r.tag=0,r=yp(null,r,i,c,o));else{if(i!=null){var m=i.$$typeof;if(m===Y){r.tag=11,r=g_(null,r,i,c,o);break e}else if(m===I){r.tag=14,r=y_(null,r,i,c,o);break e}}throw r=pe(i)||i,Error(s(306,r,""))}}return r;case 0:return yp(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,m=Ja(c,r.pendingProps),x_(i,r,c,m,o);case 3:e:{if(Ee(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var g=r.memoizedState;m=g.element,Hm(i,r),Sc(r,c,null,o);var w=r.memoizedState;if(c=w.cache,Pr(r,Xt,c),c!==g.cache&&Lm(r,[Xt],o,!0),Ec(),c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=E_(i,r,c,o);break e}else if(c!==m){m=Ai(Error(s(424)),r),vc(m),r=E_(i,r,c,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,St=Di(i.firstChild),vn=r,tt=!0,Mr=null,Ii=!0,o=bb(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ga(),c===m){r=Ws(i,r,o);break e}_n(i,r,c,o)}r=r.child}return r;case 26:return Kh(i,r),i===null?(o=Uw(r.type,null,r.pendingProps,null))?r.memoizedState=o:tt||(o=r.type,i=r.pendingProps,c=hf(ve.current).createElement(o),c[$]=r,c[we]=i,wn(c,o,i),Qt(c),r.stateNode=c):r.memoizedState=Uw(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Ge(r),i===null&&tt&&(c=r.stateNode=Ow(r.type,r.pendingProps,ve.current),vn=r,Ii=!0,m=St,Yr(r.type)?(ig=m,St=Di(c.firstChild)):St=m),_n(i,r,r.pendingProps.children,o),Kh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&tt&&((m=c=St)&&(c=FI(c,r.type,r.pendingProps,Ii),c!==null?(r.stateNode=c,vn=r,St=Di(c.firstChild),Ii=!1,m=!0):m=!1),m||Vr(r)),Ge(r),m=r.type,g=r.pendingProps,w=i!==null?i.memoizedProps:null,c=g.children,Zp(m,g)?c=null:w!==null&&Zp(m,w)&&(r.flags|=32),r.memoizedState!==null&&(m=Xm(i,r,iI,null,null,o),Gc._currentValue=m),Kh(i,r),_n(i,r,c,o),r.child;case 6:return i===null&&tt&&((i=o=St)&&(o=qI(o,r.pendingProps,Ii),o!==null?(r.stateNode=o,vn=r,St=null,i=!0):i=!1),i||Vr(r)),null;case 13:return S_(i,r,o);case 4:return Ee(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=Xa(r,null,c,o):_n(i,r,c,o),r.child;case 11:return g_(i,r,r.type,r.pendingProps,o);case 7:return _n(i,r,r.pendingProps,o),r.child;case 8:return _n(i,r,r.pendingProps.children,o),r.child;case 12:return _n(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Pr(r,r.type,c.value),_n(i,r,c.children,o),r.child;case 9:return m=r.type._context,c=r.pendingProps.children,Ka(r),m=bn(m),c=c(m),r.flags|=1,_n(i,r,c,o),r.child;case 14:return y_(i,r,r.type,r.pendingProps,o);case 15:return v_(i,r,r.type,r.pendingProps,o);case 19:return C_(i,r,o);case 31:return hI(i,r,o);case 22:return b_(i,r,o,r.pendingProps);case 24:return Ka(r),c=bn(Xt),i===null?(m=Bm(),m===null&&(m=wt,g=Um(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),r.memoizedState={parent:c,cache:m},qm(r),Pr(r,Xt,m)):((i.lanes&o)!==0&&(Hm(i,r),Sc(r,null,null,o),Ec()),m=i.memoizedState,g=r.memoizedState,m.parent!==c?(m={parent:c,cache:c},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),Pr(r,Xt,c)):(c=g.cache,Pr(r,Xt,c),c!==m.cache&&Lm(r,[Xt],o,!0))),_n(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Xs(i){i.flags|=4}function Sp(i,r,o,c,m){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(tw())i.flags|=8192;else throw Wa=kh,Fm}else i.flags&=-16777217}function I_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Hw(r))if(tw())i.flags|=8192;else throw Wa=kh,Fm}function Qh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?_r():536870912,i.lanes|=r,tl|=r)}function Dc(i,r){if(!tt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function At(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function dI(i,r,o){var c=r.pendingProps;switch(Mm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(r),null;case 1:return At(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Ks(Xt),Ie(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Fo(r)?Xs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Pm())),At(r),null;case 26:var m=r.type,g=r.memoizedState;return i===null?(Xs(r),g!==null?(At(r),I_(r,g)):(At(r),Sp(r,m,null,c,o))):g?g!==i.memoizedState?(Xs(r),At(r),I_(r,g)):(At(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&Xs(r),At(r),Sp(r,m,i,c,o)),null;case 27:if(qe(r),o=ve.current,m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Xs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return At(r),null}i=oe.current,Fo(r)?lb(r):(i=Ow(m,c,o),r.stateNode=i,Xs(r))}return At(r),null;case 5:if(qe(r),m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Xs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return At(r),null}if(g=oe.current,Fo(r))lb(r);else{var w=hf(ve.current);switch(g){case 1:g=w.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=w.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=w.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?w.createElement("select",{is:c.is}):w.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?w.createElement(m,{is:c.is}):w.createElement(m)}}g[$]=r,g[we]=c;e:for(w=r.child;w!==null;){if(w.tag===5||w.tag===6)g.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===r)break e;for(;w.sibling===null;){if(w.return===null||w.return===r)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}r.stateNode=g;e:switch(wn(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Xs(r)}}return At(r),Sp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&Xs(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=ve.current,Fo(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,m=vn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[$]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Sw(i.nodeValue,o)),i||Vr(r,!0)}else i=hf(i).createTextNode(c),i[$]=r,r.stateNode=i}return At(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=Fo(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[$]=r}else Ga(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;At(r),i=!1}else o=Pm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(li(r),r):(li(r),null);if((r.flags&128)!==0)throw Error(s(558))}return At(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Fo(r),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[$]=r}else Ga(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;At(r),m=!1}else m=Pm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(li(r),r):(li(r),null)}return li(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Qh(r,r.updateQueue),At(r),null);case 4:return Ie(),i===null&&Kp(r.stateNode.containerInfo),At(r),null;case 10:return Ks(r.type),At(r),null;case 19:if(K(qt),c=r.memoizedState,c===null)return At(r),null;if(m=(r.flags&128)!==0,g=c.rendering,g===null)if(m)Dc(c,!1);else{if(Lt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Oh(i),g!==null){for(r.flags|=128,Dc(c,!1),i=g.updateQueue,r.updateQueue=i,Qh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)ib(o,i),o=o.sibling;return ne(qt,qt.current&1|2),tt&&Gs(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&Kt()>ef&&(r.flags|=128,m=!0,Dc(c,!1),r.lanes=4194304)}else{if(!m)if(i=Oh(g),i!==null){if(r.flags|=128,m=!0,i=i.updateQueue,r.updateQueue=i,Qh(r,i),Dc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!tt)return At(r),null}else 2*Kt()-c.renderingStartTime>ef&&o!==536870912&&(r.flags|=128,m=!0,Dc(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(i=c.last,i!==null?i.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=Kt(),i.sibling=null,o=qt.current,ne(qt,m?o&1|2:o&1),tt&&Gs(r,c.treeForkCount),i):(At(r),null);case 22:case 23:return li(r),Ym(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(At(r),r.subtreeFlags&6&&(r.flags|=8192)):At(r),o=r.updateQueue,o!==null&&Qh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&K(Ya),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ks(Xt),At(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function mI(i,r){switch(Mm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Ks(Xt),Ie(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return qe(r),null;case 31:if(r.memoizedState!==null){if(li(r),r.alternate===null)throw Error(s(340));Ga()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(li(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ga()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return K(qt),null;case 4:return Ie(),null;case 10:return Ks(r.type),null;case 22:case 23:return li(r),Ym(),i!==null&&K(Ya),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Ks(Xt),null;case 25:return null;default:return null}}function N_(i,r){switch(Mm(r),r.tag){case 3:Ks(Xt),Ie();break;case 26:case 27:case 5:qe(r);break;case 4:Ie();break;case 31:r.memoizedState!==null&&li(r);break;case 13:li(r);break;case 19:K(qt);break;case 10:Ks(r.type);break;case 22:case 23:li(r),Ym(),i!==null&&K(Ya);break;case 24:Ks(Xt)}}function kc(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&i)===i){c=void 0;var g=o.create,w=o.inst;c=g(),w.destroy=c}o=o.next}while(o!==m)}}catch(A){gt(r,r.return,A)}}function Br(i,r,o){try{var c=r.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&i)===i){var w=c.inst,A=w.destroy;if(A!==void 0){w.destroy=void 0,m=r;var j=o,ee=A;try{ee()}catch(ae){gt(m,j,ae)}}}c=c.next}while(c!==g)}}catch(ae){gt(r,r.return,ae)}}function D_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{wb(r,o)}catch(c){gt(i,i.return,c)}}}function k_(i,r,o){o.props=Ja(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){gt(i,r,c)}}function Mc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(m){gt(i,r,m)}}function Ts(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){gt(i,r,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){gt(i,r,m)}else o.current=null}function M_(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){gt(i,i.return,m)}}function Ap(i,r,o){try{var c=i.stateNode;OI(c,i.type,o,r),c[we]=r}catch(m){gt(i,i.return,m)}}function V_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Yr(i.type)||i.tag===4}function Cp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||V_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Yr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Rp(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=qi));else if(c!==4&&(c===27&&Yr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Rp(i,r,o),i=i.sibling;i!==null;)Rp(i,r,o),i=i.sibling}function Wh(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&Yr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Wh(i,r,o),i=i.sibling;i!==null;)Wh(i,r,o),i=i.sibling}function P_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);wn(r,c,o),r[$]=i,r[we]=o}catch(g){gt(i,i.return,g)}}var Zs=!1,en=!1,Ip=!1,O_=typeof WeakSet=="function"?WeakSet:Set,fn=null;function pI(i,r){if(i=i.containerInfo,Wp=vf,i=Yv(i),Tm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var w=0,A=-1,j=-1,ee=0,ae=0,ue=i,te=null;t:for(;;){for(var se;ue!==o||m!==0&&ue.nodeType!==3||(A=w+m),ue!==g||c!==0&&ue.nodeType!==3||(j=w+c),ue.nodeType===3&&(w+=ue.nodeValue.length),(se=ue.firstChild)!==null;)te=ue,ue=se;for(;;){if(ue===i)break t;if(te===o&&++ee===m&&(A=w),te===g&&++ae===c&&(j=w),(se=ue.nextSibling)!==null)break;ue=te,te=ue.parentNode}ue=se}o=A===-1||j===-1?null:{start:A,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(Xp={focusedElem:i,selectionRange:o},vf=!1,fn=r;fn!==null;)if(r=fn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,fn=i;else for(;fn!==null;){switch(r=fn,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Se=Ja(o.type,m);i=c.getSnapshotBeforeUpdate(Se,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(ke){gt(o,o.return,ke)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)eg(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":eg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,fn=i;break}fn=r.return}}function j_(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:er(i,o),c&4&&kc(5,o);break;case 1:if(er(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(w){gt(o,o.return,w)}else{var m=Ja(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(m,r,i.__reactInternalSnapshotBeforeUpdate)}catch(w){gt(o,o.return,w)}}c&64&&D_(o),c&512&&Mc(o,o.return);break;case 3:if(er(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{wb(i,r)}catch(w){gt(o,o.return,w)}}break;case 27:r===null&&c&4&&P_(o);case 26:case 5:er(i,o),r===null&&c&4&&M_(o),c&512&&Mc(o,o.return);break;case 12:er(i,o);break;case 31:er(i,o),c&4&&z_(i,o);break;case 13:er(i,o),c&4&&B_(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=EI.bind(null,o),HI(i,o))));break;case 22:if(c=o.memoizedState!==null||Zs,!c){r=r!==null&&r.memoizedState!==null||en,m=Zs;var g=en;Zs=c,(en=r)&&!g?tr(i,o,(o.subtreeFlags&8772)!==0):er(i,o),Zs=m,en=g}break;case 30:break;default:er(i,o)}}function L_(i){var r=i.alternate;r!==null&&(i.alternate=null,L_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&So(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Nt=null,Gn=!1;function Js(i,r,o){for(o=o.child;o!==null;)U_(i,r,o),o=o.sibling}function U_(i,r,o){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(st,o)}catch{}switch(o.tag){case 26:en||Ts(o,r),Js(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:en||Ts(o,r);var c=Nt,m=Gn;Yr(o.type)&&(Nt=o.stateNode,Gn=!1),Js(i,r,o),Fc(o.stateNode),Nt=c,Gn=m;break;case 5:en||Ts(o,r);case 6:if(c=Nt,m=Gn,Nt=null,Js(i,r,o),Nt=c,Gn=m,Nt!==null)if(Gn)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(o.stateNode)}catch(g){gt(o,r,g)}else try{Nt.removeChild(o.stateNode)}catch(g){gt(o,r,g)}break;case 18:Nt!==null&&(Gn?(i=Nt,Dw(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),cl(i)):Dw(Nt,o.stateNode));break;case 4:c=Nt,m=Gn,Nt=o.stateNode.containerInfo,Gn=!0,Js(i,r,o),Nt=c,Gn=m;break;case 0:case 11:case 14:case 15:Br(2,o,r),en||Br(4,o,r),Js(i,r,o);break;case 1:en||(Ts(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&k_(o,r,c)),Js(i,r,o);break;case 21:Js(i,r,o);break;case 22:en=(c=en)||o.memoizedState!==null,Js(i,r,o),en=c;break;default:Js(i,r,o)}}function z_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{cl(i)}catch(o){gt(r,r.return,o)}}}function B_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{cl(i)}catch(o){gt(r,r.return,o)}}function gI(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new O_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new O_),r;default:throw Error(s(435,i.tag))}}function Xh(i,r){var o=gI(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var m=SI.bind(null,i,c);c.then(m,m)}})}function $n(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=i,w=r,A=w;e:for(;A!==null;){switch(A.tag){case 27:if(Yr(A.type)){Nt=A.stateNode,Gn=!1;break e}break;case 5:Nt=A.stateNode,Gn=!1;break e;case 3:case 4:Nt=A.stateNode.containerInfo,Gn=!0;break e}A=A.return}if(Nt===null)throw Error(s(160));U_(g,w,m),Nt=null,Gn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)F_(r,i),r=r.sibling}var Qi=null;function F_(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:$n(r,i),Kn(i),c&4&&(Br(3,i,i.return),kc(3,i),Br(5,i,i.return));break;case 1:$n(r,i),Kn(i),c&512&&(en||o===null||Ts(o,o.return)),c&64&&Zs&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=Qi;if($n(r,i),Kn(i),c&512&&(en||o===null||Ts(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[ni]||g[$]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),wn(g,c,o),g[$]=i,Qt(g),c=g;break e;case"link":var w=Fw("link","href",m).get(c+(o.href||""));if(w){for(var A=0;A<w.length;A++)if(g=w[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(A,1);break t}}g=m.createElement(c),wn(g,c,o),m.head.appendChild(g);break;case"meta":if(w=Fw("meta","content",m).get(c+(o.content||""))){for(A=0;A<w.length;A++)if(g=w[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(A,1);break t}}g=m.createElement(c),wn(g,c,o),m.head.appendChild(g);break;default:throw Error(s(468,c))}g[$]=i,Qt(g),c=g}i.stateNode=c}else qw(m,i.type,i.stateNode);else i.stateNode=Bw(m,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?qw(m,i.type,i.stateNode):Bw(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Ap(i,i.memoizedProps,o.memoizedProps)}break;case 27:$n(r,i),Kn(i),c&512&&(en||o===null||Ts(o,o.return)),o!==null&&c&4&&Ap(i,i.memoizedProps,o.memoizedProps);break;case 5:if($n(r,i),Kn(i),c&512&&(en||o===null||Ts(o,o.return)),i.flags&32){m=i.stateNode;try{Hn(m,"")}catch(Se){gt(i,i.return,Se)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,Ap(i,m,o!==null?o.memoizedProps:m)),c&1024&&(Ip=!0);break;case 6:if($n(r,i),Kn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(Se){gt(i,i.return,Se)}}break;case 3:if(mf=null,m=Qi,Qi=ff(r.containerInfo),$n(r,i),Qi=m,Kn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{cl(r.containerInfo)}catch(Se){gt(i,i.return,Se)}Ip&&(Ip=!1,q_(i));break;case 4:c=Qi,Qi=ff(i.stateNode.containerInfo),$n(r,i),Kn(i),Qi=c;break;case 12:$n(r,i),Kn(i);break;case 31:$n(r,i),Kn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Xh(i,c)));break;case 13:$n(r,i),Kn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Jh=Kt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Xh(i,c)));break;case 22:m=i.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,ee=Zs,ae=en;if(Zs=ee||m,en=ae||j,$n(r,i),en=ae,Zs=ee,Kn(i),c&8192)e:for(r=i.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||j||Zs||en||eo(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){j=o=r;try{if(g=j.stateNode,m)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{A=j.stateNode;var ue=j.memoizedProps.style,te=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;A.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Se){gt(j,j.return,Se)}}}else if(r.tag===6){if(o===null){j=r;try{j.stateNode.nodeValue=m?"":j.memoizedProps}catch(Se){gt(j,j.return,Se)}}}else if(r.tag===18){if(o===null){j=r;try{var se=j.stateNode;m?kw(se,!0):kw(j.stateNode,!1)}catch(Se){gt(j,j.return,Se)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Xh(i,o))));break;case 19:$n(r,i),Kn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Xh(i,c)));break;case 30:break;case 21:break;default:$n(r,i),Kn(i)}}function Kn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(V_(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,g=Cp(i);Wh(i,g,m);break;case 5:var w=o.stateNode;o.flags&32&&(Hn(w,""),o.flags&=-33);var A=Cp(i);Wh(i,A,w);break;case 3:case 4:var j=o.stateNode.containerInfo,ee=Cp(i);Rp(i,ee,j);break;default:throw Error(s(161))}}catch(ae){gt(i,i.return,ae)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function q_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;q_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function er(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)j_(i,r.alternate,r),r=r.sibling}function eo(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Br(4,r,r.return),eo(r);break;case 1:Ts(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&k_(r,r.return,o),eo(r);break;case 27:Fc(r.stateNode);case 26:case 5:Ts(r,r.return),eo(r);break;case 22:r.memoizedState===null&&eo(r);break;case 30:eo(r);break;default:eo(r)}i=i.sibling}}function tr(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,m=i,g=r,w=g.flags;switch(g.tag){case 0:case 11:case 15:tr(m,g,o),kc(4,g);break;case 1:if(tr(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ee){gt(c,c.return,ee)}if(c=g,m=c.updateQueue,m!==null){var A=c.stateNode;try{var j=m.shared.hiddenCallbacks;if(j!==null)for(m.shared.hiddenCallbacks=null,m=0;m<j.length;m++)_b(j[m],A)}catch(ee){gt(c,c.return,ee)}}o&&w&64&&D_(g),Mc(g,g.return);break;case 27:P_(g);case 26:case 5:tr(m,g,o),o&&c===null&&w&4&&M_(g),Mc(g,g.return);break;case 12:tr(m,g,o);break;case 31:tr(m,g,o),o&&w&4&&z_(m,g);break;case 13:tr(m,g,o),o&&w&4&&B_(m,g);break;case 22:g.memoizedState===null&&tr(m,g,o),Mc(g,g.return);break;case 30:break;default:tr(m,g,o)}r=r.sibling}}function Np(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&bc(o))}function Dp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&bc(i))}function Wi(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)H_(i,r,o,c),r=r.sibling}function H_(i,r,o,c){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Wi(i,r,o,c),m&2048&&kc(9,r);break;case 1:Wi(i,r,o,c);break;case 3:Wi(i,r,o,c),m&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&bc(i)));break;case 12:if(m&2048){Wi(i,r,o,c),i=r.stateNode;try{var g=r.memoizedProps,w=g.id,A=g.onPostCommit;typeof A=="function"&&A(w,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(j){gt(r,r.return,j)}}else Wi(i,r,o,c);break;case 31:Wi(i,r,o,c);break;case 13:Wi(i,r,o,c);break;case 23:break;case 22:g=r.stateNode,w=r.alternate,r.memoizedState!==null?g._visibility&2?Wi(i,r,o,c):Vc(i,r):g._visibility&2?Wi(i,r,o,c):(g._visibility|=2,Zo(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),m&2048&&Np(w,r);break;case 24:Wi(i,r,o,c),m&2048&&Dp(r.alternate,r);break;default:Wi(i,r,o,c)}}function Zo(i,r,o,c,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,w=r,A=o,j=c,ee=w.flags;switch(w.tag){case 0:case 11:case 15:Zo(g,w,A,j,m),kc(8,w);break;case 23:break;case 22:var ae=w.stateNode;w.memoizedState!==null?ae._visibility&2?Zo(g,w,A,j,m):Vc(g,w):(ae._visibility|=2,Zo(g,w,A,j,m)),m&&ee&2048&&Np(w.alternate,w);break;case 24:Zo(g,w,A,j,m),m&&ee&2048&&Dp(w.alternate,w);break;default:Zo(g,w,A,j,m)}r=r.sibling}}function Vc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,m=c.flags;switch(c.tag){case 22:Vc(o,c),m&2048&&Np(c.alternate,c);break;case 24:Vc(o,c),m&2048&&Dp(c.alternate,c);break;default:Vc(o,c)}r=r.sibling}}var Pc=8192;function Jo(i,r,o){if(i.subtreeFlags&Pc)for(i=i.child;i!==null;)G_(i,r,o),i=i.sibling}function G_(i,r,o){switch(i.tag){case 26:Jo(i,r,o),i.flags&Pc&&i.memoizedState!==null&&nN(o,Qi,i.memoizedState,i.memoizedProps);break;case 5:Jo(i,r,o);break;case 3:case 4:var c=Qi;Qi=ff(i.stateNode.containerInfo),Jo(i,r,o),Qi=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=Pc,Pc=16777216,Jo(i,r,o),Pc=c):Jo(i,r,o));break;default:Jo(i,r,o)}}function $_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Oc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];fn=c,Y_(c,i)}$_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)K_(i),i=i.sibling}function K_(i){switch(i.tag){case 0:case 11:case 15:Oc(i),i.flags&2048&&Br(9,i,i.return);break;case 3:Oc(i);break;case 12:Oc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Zh(i)):Oc(i);break;default:Oc(i)}}function Zh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];fn=c,Y_(c,i)}$_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Br(8,r,r.return),Zh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Zh(r));break;default:Zh(r)}i=i.sibling}}function Y_(i,r){for(;fn!==null;){var o=fn;switch(o.tag){case 0:case 11:case 15:Br(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:bc(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,fn=c;else e:for(o=i;fn!==null;){c=fn;var m=c.sibling,g=c.return;if(L_(c),c===o){fn=null;break e}if(m!==null){m.return=g,fn=m;break e}fn=g}}}var yI={getCacheForType:function(i){var r=bn(Xt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return bn(Xt).controller.signal}},vI=typeof WeakMap=="function"?WeakMap:Map,lt=0,wt=null,Ke=null,Qe=0,pt=0,ci=null,Fr=!1,el=!1,kp=!1,nr=0,Lt=0,qr=0,to=0,Mp=0,ui=0,tl=0,jc=null,Yn=null,Vp=!1,Jh=0,Q_=0,ef=1/0,tf=null,Hr=null,an=0,Gr=null,nl=null,ir=0,Pp=0,Op=null,W_=null,Lc=0,jp=null;function hi(){return(lt&2)!==0&&Qe!==0?Qe&-Qe:U.T!==null?qp():Tr()}function X_(){if(ui===0)if((Qe&536870912)===0||tt){var i=yi;yi<<=1,(yi&3932160)===0&&(yi=262144),ui=i}else ui=536870912;return i=oi.current,i!==null&&(i.flags|=32),ui}function Qn(i,r,o){(i===wt&&(pt===2||pt===9)||i.cancelPendingCommit!==null)&&(il(i,0),$r(i,Qe,ui,!1)),zs(i,o),((lt&2)===0||i!==wt)&&(i===wt&&((lt&2)===0&&(to|=o),Lt===4&&$r(i,Qe,ui,!1)),xs(i))}function Z_(i,r,o){if((lt&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||Fn(i,r),m=c?wI(i,r):Up(i,r,!0),g=c;do{if(m===0){el&&!c&&$r(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!bI(o)){m=Up(i,r,!1),g=!1;continue}if(m===2){if(g=r,i.errorRecoveryDisabledLanes&g)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var A=i;m=jc;var j=A.current.memoizedState.isDehydrated;if(j&&(il(A,w).flags|=256),w=Up(A,w,!1),w!==2){if(kp&&!j){A.errorRecoveryDisabledLanes|=g,to|=g,m=4;break e}g=Yn,Yn=m,g!==null&&(Yn===null?Yn=g:Yn.push.apply(Yn,g))}m=w}if(g=!1,m!==2)continue}}if(m===1){il(i,0),$r(i,r,0,!0);break}e:{switch(c=i,g=m,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:$r(c,r,ui,!Fr);break e;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(m=Jh+300-Kt(),10<m)){if($r(c,r,ui,!Fr),vi(c,0,!0)!==0)break e;ir=r,c.timeoutHandle=Iw(J_.bind(null,c,o,Yn,tf,Vp,r,ui,to,tl,Fr,g,"Throttled",-0,0),m);break e}J_(c,o,Yn,tf,Vp,r,ui,to,tl,Fr,g,null,-0,0)}}break}while(!0);xs(i)}function J_(i,r,o,c,m,g,w,A,j,ee,ae,ue,te,se){if(i.timeoutHandle=-1,ue=r.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qi},G_(r,g,ue);var Se=(g&62914560)===g?Jh-Kt():(g&4194048)===g?Q_-Kt():0;if(Se=iN(ue,Se),Se!==null){ir=g,i.cancelPendingCommit=Se(ow.bind(null,i,r,g,o,c,m,w,A,j,ae,ue,null,te,se)),$r(i,g,w,!ee);return}}ow(i,r,g,o,c,m,w,A,j)}function bI(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!ri(g(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function $r(i,r,o,c){r&=~Mp,r&=~to,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var m=r;0<m;){var g=31-xt(m),w=1<<g;c[g]=-1,m&=~w}o!==0&&ls(i,o,r)}function nf(){return(lt&6)===0?(Uc(0),!1):!0}function Lp(){if(Ke!==null){if(pt===0)var i=Ke.return;else i=Ke,$s=$a=null,ep(i),Ko=null,wc=0,i=Ke;for(;i!==null;)N_(i.alternate,i),i=i.return;Ke=null}}function il(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,UI(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),ir=0,Lp(),wt=i,Ke=o=Hs(i.current,null),Qe=r,pt=0,ci=null,Fr=!1,el=Fn(i,r),kp=!1,tl=ui=Mp=to=qr=Lt=0,Yn=jc=null,Vp=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var m=31-xt(c),g=1<<m;r|=i[m],c&=~g}return nr=r,xh(),o}function ew(i,r){ze=null,U.H=Ic,r===$o||r===Dh?(r=gb(),pt=3):r===Fm?(r=gb(),pt=4):pt=r===gp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ci=r,Ke===null&&(Lt=1,Gh(i,Ai(r,i.current)))}function tw(){var i=oi.current;return i===null?!0:(Qe&4194048)===Qe?Ni===null:(Qe&62914560)===Qe||(Qe&536870912)!==0?i===Ni:!1}function nw(){var i=U.H;return U.H=Ic,i===null?Ic:i}function iw(){var i=U.A;return U.A=yI,i}function sf(){Lt=4,Fr||(Qe&4194048)!==Qe&&oi.current!==null||(el=!0),(qr&134217727)===0&&(to&134217727)===0||wt===null||$r(wt,Qe,ui,!1)}function Up(i,r,o){var c=lt;lt|=2;var m=nw(),g=iw();(wt!==i||Qe!==r)&&(tf=null,il(i,r)),r=!1;var w=Lt;e:do try{if(pt!==0&&Ke!==null){var A=Ke,j=ci;switch(pt){case 8:Lp(),w=6;break e;case 3:case 2:case 9:case 6:oi.current===null&&(r=!0);var ee=pt;if(pt=0,ci=null,sl(i,A,j,ee),o&&el){w=0;break e}break;default:ee=pt,pt=0,ci=null,sl(i,A,j,ee)}}_I(),w=Lt;break}catch(ae){ew(i,ae)}while(!0);return r&&i.shellSuspendCounter++,$s=$a=null,lt=c,U.H=m,U.A=g,Ke===null&&(wt=null,Qe=0,xh()),w}function _I(){for(;Ke!==null;)sw(Ke)}function wI(i,r){var o=lt;lt|=2;var c=nw(),m=iw();wt!==i||Qe!==r?(tf=null,ef=Kt()+500,il(i,r)):el=Fn(i,r);e:do try{if(pt!==0&&Ke!==null){r=Ke;var g=ci;t:switch(pt){case 1:pt=0,ci=null,sl(i,r,g,1);break;case 2:case 9:if(mb(g)){pt=0,ci=null,rw(r);break}r=function(){pt!==2&&pt!==9||wt!==i||(pt=7),xs(i)},g.then(r,r);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:mb(g)?(pt=0,ci=null,rw(r)):(pt=0,ci=null,sl(i,r,g,7));break;case 5:var w=null;switch(Ke.tag){case 26:w=Ke.memoizedState;case 5:case 27:var A=Ke;if(w?Hw(w):A.stateNode.complete){pt=0,ci=null;var j=A.sibling;if(j!==null)Ke=j;else{var ee=A.return;ee!==null?(Ke=ee,rf(ee)):Ke=null}break t}}pt=0,ci=null,sl(i,r,g,5);break;case 6:pt=0,ci=null,sl(i,r,g,6);break;case 8:Lp(),Lt=6;break e;default:throw Error(s(462))}}TI();break}catch(ae){ew(i,ae)}while(!0);return $s=$a=null,U.H=c,U.A=m,lt=o,Ke!==null?0:(wt=null,Qe=0,xh(),Lt)}function TI(){for(;Ke!==null&&!Ca();)sw(Ke)}function sw(i){var r=R_(i.alternate,i,nr);i.memoizedProps=i.pendingProps,r===null?rf(i):Ke=r}function rw(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=T_(o,r,r.pendingProps,r.type,void 0,Qe);break;case 11:r=T_(o,r,r.pendingProps,r.type.render,r.ref,Qe);break;case 5:ep(r);default:N_(o,r),r=Ke=ib(r,nr),r=R_(o,r,nr)}i.memoizedProps=i.pendingProps,r===null?rf(i):Ke=r}function sl(i,r,o,c){$s=$a=null,ep(r),Ko=null,wc=0;var m=r.return;try{if(uI(i,m,r,o,Qe)){Lt=1,Gh(i,Ai(o,i.current)),Ke=null;return}}catch(g){if(m!==null)throw Ke=m,g;Lt=1,Gh(i,Ai(o,i.current)),Ke=null;return}r.flags&32768?(tt||c===1?i=!0:el||(Qe&536870912)!==0?i=!1:(Fr=i=!0,(c===2||c===9||c===3||c===6)&&(c=oi.current,c!==null&&c.tag===13&&(c.flags|=16384))),aw(r,i)):rf(r)}function rf(i){var r=i;do{if((r.flags&32768)!==0){aw(r,Fr);return}i=r.return;var o=dI(r.alternate,r,nr);if(o!==null){Ke=o;return}if(r=r.sibling,r!==null){Ke=r;return}Ke=r=i}while(r!==null);Lt===0&&(Lt=5)}function aw(i,r){do{var o=mI(i.alternate,i);if(o!==null){o.flags&=32767,Ke=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ke=i;return}Ke=i=o}while(i!==null);Lt=6,Ke=null}function ow(i,r,o,c,m,g,w,A,j){i.cancelPendingCommit=null;do af();while(an!==0);if((lt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=Cm,Xl(i,o,g,w,A,j),i===wt&&(Ke=wt=null,Qe=0),nl=r,Gr=i,ir=o,Pp=g,Op=m,W_=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,AI(Sn,function(){return fw(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=U.T,U.T=null,m=Z.p,Z.p=2,w=lt,lt|=4;try{pI(i,r,o)}finally{lt=w,Z.p=m,U.T=c}}an=1,lw(),cw(),uw()}}function lw(){if(an===1){an=0;var i=Gr,r=nl,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=U.T,U.T=null;var c=Z.p;Z.p=2;var m=lt;lt|=4;try{F_(r,i);var g=Xp,w=Yv(i.containerInfo),A=g.focusedElem,j=g.selectionRange;if(w!==A&&A&&A.ownerDocument&&Kv(A.ownerDocument.documentElement,A)){if(j!==null&&Tm(A)){var ee=j.start,ae=j.end;if(ae===void 0&&(ae=ee),"selectionStart"in A)A.selectionStart=ee,A.selectionEnd=Math.min(ae,A.value.length);else{var ue=A.ownerDocument||document,te=ue&&ue.defaultView||window;if(te.getSelection){var se=te.getSelection(),Se=A.textContent.length,ke=Math.min(j.start,Se),_t=j.end===void 0?ke:Math.min(j.end,Se);!se.extend&&ke>_t&&(w=_t,_t=ke,ke=w);var G=$v(A,ke),F=$v(A,_t);if(G&&F&&(se.rangeCount!==1||se.anchorNode!==G.node||se.anchorOffset!==G.offset||se.focusNode!==F.node||se.focusOffset!==F.offset)){var J=ue.createRange();J.setStart(G.node,G.offset),se.removeAllRanges(),ke>_t?(se.addRange(J),se.extend(F.node,F.offset)):(J.setEnd(F.node,F.offset),se.addRange(J))}}}}for(ue=[],se=A;se=se.parentNode;)se.nodeType===1&&ue.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ue.length;A++){var le=ue[A];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}vf=!!Wp,Xp=Wp=null}finally{lt=m,Z.p=c,U.T=o}}i.current=r,an=2}}function cw(){if(an===2){an=0;var i=Gr,r=nl,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=U.T,U.T=null;var c=Z.p;Z.p=2;var m=lt;lt|=4;try{j_(i,r.alternate,r)}finally{lt=m,Z.p=c,U.T=o}}an=3}}function uw(){if(an===4||an===3){an=0,br();var i=Gr,r=nl,o=ir,c=W_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?an=5:(an=0,nl=Gr=null,hw(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Hr=null),_i(o),r=r.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(st,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=U.T,m=Z.p,Z.p=2,U.T=null;try{for(var g=i.onRecoverableError,w=0;w<c.length;w++){var A=c[w];g(A.value,{componentStack:A.stack})}}finally{U.T=r,Z.p=m}}(ir&3)!==0&&af(),xs(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===jp?Lc++:(Lc=0,jp=i):Lc=0,Uc(0)}}function hw(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,bc(r)))}function af(){return lw(),cw(),uw(),fw()}function fw(){if(an!==5)return!1;var i=Gr,r=Pp;Pp=0;var o=_i(ir),c=U.T,m=Z.p;try{Z.p=32>o?32:o,U.T=null,o=Op,Op=null;var g=Gr,w=ir;if(an=0,nl=Gr=null,ir=0,(lt&6)!==0)throw Error(s(331));var A=lt;if(lt|=4,K_(g.current),H_(g,g.current,w,o),lt=A,Uc(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(st,g)}catch{}return!0}finally{Z.p=m,U.T=c,hw(i,r)}}function dw(i,r,o){r=Ai(o,r),r=pp(i.stateNode,r,2),i=Lr(i,r,2),i!==null&&(zs(i,2),xs(i))}function gt(i,r,o){if(i.tag===3)dw(i,i,o);else for(;r!==null;){if(r.tag===3){dw(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Hr===null||!Hr.has(c))){i=Ai(o,i),o=m_(2),c=Lr(r,o,2),c!==null&&(p_(o,c,r,i),zs(c,2),xs(c));break}}r=r.return}}function zp(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new vI;var m=new Set;c.set(r,m)}else m=c.get(r),m===void 0&&(m=new Set,c.set(r,m));m.has(o)||(kp=!0,m.add(o),i=xI.bind(null,i,r,o),r.then(i,i))}function xI(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,wt===i&&(Qe&o)===o&&(Lt===4||Lt===3&&(Qe&62914560)===Qe&&300>Kt()-Jh?(lt&2)===0&&il(i,0):Mp|=o,tl===Qe&&(tl=0)),xs(i)}function mw(i,r){r===0&&(r=_r()),i=qa(i,r),i!==null&&(zs(i,r),xs(i))}function EI(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),mw(i,o)}function SI(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),mw(i,o)}function AI(i,r){return et(i,r)}var of=null,rl=null,Bp=!1,lf=!1,Fp=!1,Kr=0;function xs(i){i!==rl&&i.next===null&&(rl===null?of=rl=i:rl=rl.next=i),lf=!0,Bp||(Bp=!0,RI())}function Uc(i,r){if(!Fp&&lf){Fp=!0;do for(var o=!1,c=of;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var w=c.suspendedLanes,A=c.pingedLanes;g=(1<<31-xt(42|i)+1)-1,g&=m&~(w&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,vw(c,g))}else g=Qe,g=vi(c,c===wt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Fn(c,g)||(o=!0,vw(c,g));c=c.next}while(o);Fp=!1}}function CI(){pw()}function pw(){lf=Bp=!1;var i=0;Kr!==0&&LI()&&(i=Kr);for(var r=Kt(),o=null,c=of;c!==null;){var m=c.next,g=gw(c,r);g===0?(c.next=null,o===null?of=m:o.next=m,m===null&&(rl=o)):(o=c,(i!==0||(g&3)!==0)&&(lf=!0)),c=m}an!==0&&an!==5||Uc(i),Kr!==0&&(Kr=0)}function gw(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var w=31-xt(g),A=1<<w,j=m[w];j===-1?((A&o)===0||(A&c)!==0)&&(m[w]=Ia(A,r)):j<=r&&(i.expiredLanes|=A),g&=~A}if(r=wt,o=Qe,o=vi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(pt===2||pt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&pi(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Fn(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&pi(c),_i(o)){case 2:case 8:o=Bn;break;case 32:o=Sn;break;case 268435456:o=as;break;default:o=Sn}return c=yw.bind(null,i),o=et(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&pi(c),i.callbackPriority=2,i.callbackNode=null,2}function yw(i,r){if(an!==0&&an!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(af()&&i.callbackNode!==o)return null;var c=Qe;return c=vi(i,i===wt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(Z_(i,c,r),gw(i,Kt()),i.callbackNode!=null&&i.callbackNode===o?yw.bind(null,i):null)}function vw(i,r){if(af())return null;Z_(i,r,!0)}function RI(){zI(function(){(lt&6)!==0?et(Mn,CI):pw()})}function qp(){if(Kr===0){var i=Ho;i===0&&(i=Jn,Jn<<=1,(Jn&261888)===0&&(Jn=256)),Kr=i}return Kr}function bw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Io(""+i)}function _w(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function II(i,r,o,c,m){if(r==="submit"&&o&&o.stateNode===m){var g=bw((m[we]||null).action),w=c.submitter;w&&(r=(r=w[we]||null)?bw(r.formAction):w.getAttribute("formAction"),r!==null&&(g=r,w=null));var A=new gs("action","action",null,c,m);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Kr!==0){var j=w?_w(m,w):new FormData(m);cp(o,{pending:!0,data:j,method:m.method,action:g},null,j)}}else typeof g=="function"&&(A.preventDefault(),j=w?_w(m,w):new FormData(m),cp(o,{pending:!0,data:j,method:m.method,action:g},g,j))},currentTarget:m}]})}}for(var Hp=0;Hp<Am.length;Hp++){var Gp=Am[Hp],NI=Gp.toLowerCase(),DI=Gp[0].toUpperCase()+Gp.slice(1);Yi(NI,"on"+DI)}Yi(Xv,"onAnimationEnd"),Yi(Zv,"onAnimationIteration"),Yi(Jv,"onAnimationStart"),Yi("dblclick","onDoubleClick"),Yi("focusin","onFocus"),Yi("focusout","onBlur"),Yi(KR,"onTransitionRun"),Yi(YR,"onTransitionStart"),Yi(QR,"onTransitionCancel"),Yi(eb,"onTransitionEnd"),fs("onMouseEnter",["mouseout","mouseover"]),fs("onMouseLeave",["mouseout","mouseover"]),fs("onPointerEnter",["pointerout","pointerover"]),fs("onPointerLeave",["pointerout","pointerover"]),hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hs("onBeforeInput",["compositionend","keypress","textInput","paste"]),hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zc));function ww(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],m=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var w=c.length-1;0<=w;w--){var A=c[w],j=A.instance,ee=A.currentTarget;if(A=A.listener,j!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=ee;try{g(m)}catch(ae){Th(ae)}m.currentTarget=null,g=j}else for(w=0;w<c.length;w++){if(A=c[w],j=A.instance,ee=A.currentTarget,A=A.listener,j!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=ee;try{g(m)}catch(ae){Th(ae)}m.currentTarget=null,g=j}}}}function Ye(i,r){var o=r[Rt];o===void 0&&(o=r[Rt]=new Set);var c=i+"__bubble";o.has(c)||(Tw(r,i,2,!1),o.add(c))}function $p(i,r,o){var c=0;r&&(c|=4),Tw(o,i,c,r)}var cf="_reactListening"+Math.random().toString(36).slice(2);function Kp(i){if(!i[cf]){i[cf]=!0,Zl.forEach(function(o){o!=="selectionchange"&&(kI.has(o)||$p(o,!1,i),$p(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[cf]||(r[cf]=!0,$p("selectionchange",!1,r))}}function Tw(i,r,o,c){switch(Xw(r)){case 2:var m=aN;break;case 8:m=oN;break;default:m=lg}o=m.bind(null,r,o,i),m=void 0,!Pa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(r,o,{capture:!0,passive:m}):i.addEventListener(r,o,!0):m!==void 0?i.addEventListener(r,o,{passive:m}):i.addEventListener(r,o,!1)}function Yp(i,r,o,c,m){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var A=c.stateNode.containerInfo;if(A===m)break;if(w===4)for(w=c.return;w!==null;){var j=w.tag;if((j===3||j===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;A!==null;){if(w=cs(A),w===null)return;if(j=w.tag,j===5||j===6||j===26||j===27){c=g=w;continue e}A=A.parentNode}}c=c.return}Rr(function(){var ee=g,ae=Ti(o),ue=[];e:{var te=tb.get(i);if(te!==void 0){var se=gs,Se=i;switch(i){case"keypress":if(ja(o)===0)break e;case"keydown":case"keyup":se=bh;break;case"focusin":Se="focus",se=Ua;break;case"focusout":Se="blur",se=Ua;break;case"beforeblur":case"afterblur":se=Ua;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=hc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=_;break;case Xv:case Zv:case Jv:se=fh;break;case eb:se=R;break;case"scroll":case"scrollend":se=uc;break;case"wheel":se=ie;break;case"copy":case"cut":case"paste":se=dh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=qs;break;case"toggle":case"beforetoggle":se=Ue}var ke=(r&4)!==0,_t=!ke&&(i==="scroll"||i==="scrollend"),G=ke?te!==null?te+"Capture":null:te;ke=[];for(var F=ee,J;F!==null;){var le=F;if(J=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||J===null||G===null||(le=Hi(F,G),le!=null&&ke.push(Bc(F,le,J))),_t)break;F=F.return}0<ke.length&&(te=new se(te,Se,null,o,ae),ue.push({event:te,listeners:ke}))}}if((r&7)===0){e:{if(te=i==="mouseover"||i==="pointerover",se=i==="mouseout"||i==="pointerout",te&&o!==oc&&(Se=o.relatedTarget||o.fromElement)&&(cs(Se)||Se[ft]))break e;if((se||te)&&(te=ae.window===ae?ae:(te=ae.ownerDocument)?te.defaultView||te.parentWindow:window,se?(Se=o.relatedTarget||o.toElement,se=ee,Se=Se?cs(Se):null,Se!==null&&(_t=l(Se),ke=Se.tag,Se!==_t||ke!==5&&ke!==27&&ke!==6)&&(Se=null)):(se=null,Se=ee),se!==Se)){if(ke=hc,le="onMouseLeave",G="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(ke=qs,le="onPointerLeave",G="onPointerEnter",F="pointer"),_t=se==null?te:ii(se),J=Se==null?te:ii(Se),te=new ke(le,F+"leave",se,o,ae),te.target=_t,te.relatedTarget=J,le=null,cs(ae)===ee&&(ke=new ke(G,F+"enter",Se,o,ae),ke.target=J,ke.relatedTarget=_t,le=ke),_t=le,se&&Se)t:{for(ke=MI,G=se,F=Se,J=0,le=G;le;le=ke(le))J++;le=0;for(var De=F;De;De=ke(De))le++;for(;0<J-le;)G=ke(G),J--;for(;0<le-J;)F=ke(F),le--;for(;J--;){if(G===F||F!==null&&G===F.alternate){ke=G;break t}G=ke(G),F=ke(F)}ke=null}else ke=null;se!==null&&xw(ue,te,se,ke,!1),Se!==null&&_t!==null&&xw(ue,_t,Se,ke,!0)}}e:{if(te=ee?ii(ee):window,se=te.nodeName&&te.nodeName.toLowerCase(),se==="select"||se==="input"&&te.type==="file")var rt=zv;else if(Lv(te))if(Bv)rt=HR;else{rt=FR;var Re=BR}else se=te.nodeName,!se||se.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&Ro(ee.elementType)&&(rt=zv):rt=qR;if(rt&&(rt=rt(i,ee))){Uv(ue,rt,o,ae);break e}Re&&Re(i,te,ee),i==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&sc(te,"number",te.value)}switch(Re=ee?ii(ee):window,i){case"focusin":(Lv(Re)||Re.contentEditable==="true")&&(Oo=Re,xm=ee,gc=null);break;case"focusout":gc=xm=Oo=null;break;case"mousedown":Em=!0;break;case"contextmenu":case"mouseup":case"dragend":Em=!1,Qv(ue,o,ae);break;case"selectionchange":if($R)break;case"keydown":case"keyup":Qv(ue,o,ae)}var Be;if(ot)e:{switch(i){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Po?za(i,o)&&(We="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(We="onCompositionStart");We&&(bs&&o.locale!=="ko"&&(Po||We!=="onCompositionStart"?We==="onCompositionEnd"&&Po&&(Be=cc()):(ps=ae,lc="value"in ps?ps.value:ps.textContent,Po=!0)),Re=uf(ee,We),0<Re.length&&(We=new vs(We,i,null,o,ae),ue.push({event:We,listeners:Re}),Be?We.data=Be:(Be=Vo(o),Be!==null&&(We.data=Be)))),(Be=Ei?jR(i,o):LR(i,o))&&(We=uf(ee,"onBeforeInput"),0<We.length&&(Re=new vs("onBeforeInput","beforeinput",null,o,ae),ue.push({event:Re,listeners:We}),Re.data=Be)),II(ue,i,ee,o,ae)}ww(ue,r)})}function Bc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function uf(i,r){for(var o=r+"Capture",c=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Hi(i,o),m!=null&&c.unshift(Bc(i,m,g)),m=Hi(i,r),m!=null&&c.push(Bc(i,m,g))),i.tag===3)return c;i=i.return}return[]}function MI(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function xw(i,r,o,c,m){for(var g=r._reactName,w=[];o!==null&&o!==c;){var A=o,j=A.alternate,ee=A.stateNode;if(A=A.tag,j!==null&&j===c)break;A!==5&&A!==26&&A!==27||ee===null||(j=ee,m?(ee=Hi(o,g),ee!=null&&w.unshift(Bc(o,ee,j))):m||(ee=Hi(o,g),ee!=null&&w.push(Bc(o,ee,j)))),o=o.return}w.length!==0&&i.push({event:r,listeners:w})}var VI=/\r\n?/g,PI=/\u0000|\uFFFD/g;function Ew(i){return(typeof i=="string"?i:""+i).replace(VI,`
`).replace(PI,"")}function Sw(i,r){return r=Ew(r),Ew(i)===r}function bt(i,r,o,c,m,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Hn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Hn(i,""+c);break;case"className":si(i,"class",c);break;case"tabIndex":si(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":si(i,o,c);break;case"style":ac(i,c,g);break;case"data":if(r!=="object"){si(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Io(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&bt(i,r,"name",m.name,m,null),bt(i,r,"formEncType",m.formEncType,m,null),bt(i,r,"formMethod",m.formMethod,m,null),bt(i,r,"formTarget",m.formTarget,m,null)):(bt(i,r,"encType",m.encType,m,null),bt(i,r,"method",m.method,m,null),bt(i,r,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Io(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=qi);break;case"onScroll":c!=null&&Ye("scroll",i);break;case"onScrollEnd":c!=null&&Ye("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Io(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Ye("beforetoggle",i),Ye("toggle",i),Ao(i,"popover",c);break;case"xlinkActuate":Wt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Wt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Wt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Wt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Wt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Wt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Wt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Wt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Wt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ao(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ch.get(o)||o,Ao(i,o,c))}}function Qp(i,r,o,c,m,g){switch(o){case"style":ac(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?Hn(i,c):(typeof c=="number"||typeof c=="bigint")&&Hn(i,""+c);break;case"onScroll":c!=null&&Ye("scroll",i);break;case"onScrollEnd":c!=null&&Ye("scrollend",i);break;case"onClick":c!=null&&(i.onclick=qi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),g=i[we]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,m);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Ao(i,o,c)}}}function wn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",i),Ye("load",i);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var w=o[g];if(w!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:bt(i,r,g,w,o,null)}}m&&bt(i,r,"srcSet",o.srcSet,o,null),c&&bt(i,r,"src",o.src,o,null);return;case"input":Ye("invalid",i);var A=g=w=m=null,j=null,ee=null;for(c in o)if(o.hasOwnProperty(c)){var ae=o[c];if(ae!=null)switch(c){case"name":m=ae;break;case"type":w=ae;break;case"checked":j=ae;break;case"defaultChecked":ee=ae;break;case"value":g=ae;break;case"defaultValue":A=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(s(137,r));break;default:bt(i,r,c,ae,o,null)}}ah(i,g,A,j,ee,w,m,!1);return;case"select":Ye("invalid",i),c=w=g=null;for(m in o)if(o.hasOwnProperty(m)&&(A=o[m],A!=null))switch(m){case"value":g=A;break;case"defaultValue":w=A;break;case"multiple":c=A;default:bt(i,r,m,A,o,null)}r=g,o=w,i.multiple=!!c,r!=null?Er(i,!!c,r,!1):o!=null&&Er(i,!!c,o,!0);return;case"textarea":Ye("invalid",i),g=m=c=null;for(w in o)if(o.hasOwnProperty(w)&&(A=o[w],A!=null))switch(w){case"value":c=A;break;case"defaultValue":m=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:bt(i,r,w,A,o,null)}Sr(i,c,m,g);return;case"option":for(j in o)o.hasOwnProperty(j)&&(c=o[j],c!=null)&&(j==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":bt(i,r,j,c,o,null));return;case"dialog":Ye("beforetoggle",i),Ye("toggle",i),Ye("cancel",i),Ye("close",i);break;case"iframe":case"object":Ye("load",i);break;case"video":case"audio":for(c=0;c<zc.length;c++)Ye(zc[c],i);break;case"image":Ye("error",i),Ye("load",i);break;case"details":Ye("toggle",i);break;case"embed":case"source":case"link":Ye("error",i),Ye("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in o)if(o.hasOwnProperty(ee)&&(c=o[ee],c!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:bt(i,r,ee,c,o,null)}return;default:if(Ro(r)){for(ae in o)o.hasOwnProperty(ae)&&(c=o[ae],c!==void 0&&Qp(i,r,ae,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&bt(i,r,A,c,o,null))}function OI(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,w=null,A=null,j=null,ee=null,ae=null;for(se in o){var ue=o[se];if(o.hasOwnProperty(se)&&ue!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":j=ue;default:c.hasOwnProperty(se)||bt(i,r,se,null,c,ue)}}for(var te in c){var se=c[te];if(ue=o[te],c.hasOwnProperty(te)&&(se!=null||ue!=null))switch(te){case"type":g=se;break;case"name":m=se;break;case"checked":ee=se;break;case"defaultChecked":ae=se;break;case"value":w=se;break;case"defaultValue":A=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(s(137,r));break;default:se!==ue&&bt(i,r,te,se,c,ue)}}Co(i,w,A,j,ee,ae,g,m);return;case"select":se=w=A=te=null;for(g in o)if(j=o[g],o.hasOwnProperty(g)&&j!=null)switch(g){case"value":break;case"multiple":se=j;default:c.hasOwnProperty(g)||bt(i,r,g,null,c,j)}for(m in c)if(g=c[m],j=o[m],c.hasOwnProperty(m)&&(g!=null||j!=null))switch(m){case"value":te=g;break;case"defaultValue":A=g;break;case"multiple":w=g;default:g!==j&&bt(i,r,m,g,c,j)}r=A,o=w,c=se,te!=null?Er(i,!!o,te,!1):!!c!=!!o&&(r!=null?Er(i,!!o,r,!0):Er(i,!!o,o?[]:"",!1));return;case"textarea":se=te=null;for(A in o)if(m=o[A],o.hasOwnProperty(A)&&m!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:bt(i,r,A,null,c,m)}for(w in c)if(m=c[w],g=o[w],c.hasOwnProperty(w)&&(m!=null||g!=null))switch(w){case"value":te=m;break;case"defaultValue":se=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==g&&bt(i,r,w,m,c,g)}oh(i,te,se);return;case"option":for(var Se in o)te=o[Se],o.hasOwnProperty(Se)&&te!=null&&!c.hasOwnProperty(Se)&&(Se==="selected"?i.selected=!1:bt(i,r,Se,null,c,te));for(j in c)te=c[j],se=o[j],c.hasOwnProperty(j)&&te!==se&&(te!=null||se!=null)&&(j==="selected"?i.selected=te&&typeof te!="function"&&typeof te!="symbol":bt(i,r,j,te,c,se));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in o)te=o[ke],o.hasOwnProperty(ke)&&te!=null&&!c.hasOwnProperty(ke)&&bt(i,r,ke,null,c,te);for(ee in c)if(te=c[ee],se=o[ee],c.hasOwnProperty(ee)&&te!==se&&(te!=null||se!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,r));break;default:bt(i,r,ee,te,c,se)}return;default:if(Ro(r)){for(var _t in o)te=o[_t],o.hasOwnProperty(_t)&&te!==void 0&&!c.hasOwnProperty(_t)&&Qp(i,r,_t,void 0,c,te);for(ae in c)te=c[ae],se=o[ae],!c.hasOwnProperty(ae)||te===se||te===void 0&&se===void 0||Qp(i,r,ae,te,c,se);return}}for(var G in o)te=o[G],o.hasOwnProperty(G)&&te!=null&&!c.hasOwnProperty(G)&&bt(i,r,G,null,c,te);for(ue in c)te=c[ue],se=o[ue],!c.hasOwnProperty(ue)||te===se||te==null&&se==null||bt(i,r,ue,te,c,se)}function Aw(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],g=m.transferSize,w=m.initiatorType,A=m.duration;if(g&&A&&Aw(w)){for(w=0,A=m.responseEnd,c+=1;c<o.length;c++){var j=o[c],ee=j.startTime;if(ee>A)break;var ae=j.transferSize,ue=j.initiatorType;ae&&Aw(ue)&&(j=j.responseEnd,w+=ae*(j<A?1:(A-ee)/(j-ee)))}if(--c,r+=8*(g+w)/(m.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Wp=null,Xp=null;function hf(i){return i.nodeType===9?i:i.ownerDocument}function Cw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rw(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Zp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Jp=null;function LI(){var i=window.event;return i&&i.type==="popstate"?i===Jp?!1:(Jp=i,!0):(Jp=null,!1)}var Iw=typeof setTimeout=="function"?setTimeout:void 0,UI=typeof clearTimeout=="function"?clearTimeout:void 0,Nw=typeof Promise=="function"?Promise:void 0,zI=typeof queueMicrotask=="function"?queueMicrotask:typeof Nw<"u"?function(i){return Nw.resolve(null).then(i).catch(BI)}:Iw;function BI(i){setTimeout(function(){throw i})}function Yr(i){return i==="head"}function Dw(i,r){var o=r,c=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(m),cl(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Fc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Fc(o);for(var g=o.firstChild;g;){var w=g.nextSibling,A=g.nodeName;g[ni]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=w}}else o==="body"&&Fc(i.ownerDocument.body);o=m}while(o);cl(r)}function kw(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function eg(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":eg(o),So(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function FI(i,r,o,c){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[ni])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Di(i.nextSibling),i===null)break}return null}function qI(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Di(i.nextSibling),i===null))return null;return i}function Mw(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Di(i.nextSibling),i===null))return null;return i}function tg(i){return i.data==="$?"||i.data==="$~"}function ng(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function HI(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Di(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var ig=null;function Vw(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Di(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function Pw(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function Ow(i,r,o){switch(r=hf(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Fc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);So(i)}var ki=new Map,jw=new Set;function ff(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var sr=Z.d;Z.d={f:GI,r:$I,D:KI,C:YI,L:QI,m:WI,X:ZI,S:XI,M:JI};function GI(){var i=sr.f(),r=nf();return i||r}function $I(i){var r=wi(i);r!==null&&r.tag===5&&r.type==="form"?e_(r):sr.r(i)}var al=typeof document>"u"?null:document;function Lw(i,r,o){var c=al;if(c&&typeof r=="string"&&r){var m=qn(r);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),jw.has(m)||(jw.add(m),i={rel:i,crossOrigin:o,href:r},c.querySelector(m)===null&&(r=c.createElement("link"),wn(r,"link",i),Qt(r),c.head.appendChild(r)))}}function KI(i){sr.D(i),Lw("dns-prefetch",i,null)}function YI(i,r){sr.C(i,r),Lw("preconnect",i,r)}function QI(i,r,o){sr.L(i,r,o);var c=al;if(c&&i&&r){var m='link[rel="preload"][as="'+qn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+qn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+qn(o.imageSizes)+'"]')):m+='[href="'+qn(i)+'"]';var g=m;switch(r){case"style":g=ol(i);break;case"script":g=ll(i)}ki.has(g)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),ki.set(g,i),c.querySelector(m)!==null||r==="style"&&c.querySelector(qc(g))||r==="script"&&c.querySelector(Hc(g))||(r=c.createElement("link"),wn(r,"link",i),Qt(r),c.head.appendChild(r)))}}function WI(i,r){sr.m(i,r);var o=al;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+qn(c)+'"][href="'+qn(i)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ll(i)}if(!ki.has(g)&&(i=v({rel:"modulepreload",href:i},r),ki.set(g,i),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Hc(g)))return}c=o.createElement("link"),wn(c,"link",i),Qt(c),o.head.appendChild(c)}}}function XI(i,r,o){sr.S(i,r,o);var c=al;if(c&&i){var m=us(c).hoistableStyles,g=ol(i);r=r||"default";var w=m.get(g);if(!w){var A={loading:0,preload:null};if(w=c.querySelector(qc(g)))A.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=ki.get(g))&&sg(i,o);var j=w=c.createElement("link");Qt(j),wn(j,"link",i),j._p=new Promise(function(ee,ae){j.onload=ee,j.onerror=ae}),j.addEventListener("load",function(){A.loading|=1}),j.addEventListener("error",function(){A.loading|=2}),A.loading|=4,df(w,r,c)}w={type:"stylesheet",instance:w,count:1,state:A},m.set(g,w)}}}function ZI(i,r){sr.X(i,r);var o=al;if(o&&i){var c=us(o).hoistableScripts,m=ll(i),g=c.get(m);g||(g=o.querySelector(Hc(m)),g||(i=v({src:i,async:!0},r),(r=ki.get(m))&&rg(i,r),g=o.createElement("script"),Qt(g),wn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function JI(i,r){sr.M(i,r);var o=al;if(o&&i){var c=us(o).hoistableScripts,m=ll(i),g=c.get(m);g||(g=o.querySelector(Hc(m)),g||(i=v({src:i,async:!0,type:"module"},r),(r=ki.get(m))&&rg(i,r),g=o.createElement("script"),Qt(g),wn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function Uw(i,r,o,c){var m=(m=ve.current)?ff(m):null;if(!m)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=ol(o.href),o=us(m).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=ol(o.href);var g=us(m).hoistableStyles,w=g.get(i);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,w),(g=m.querySelector(qc(i)))&&!g._p&&(w.instance=g,w.state.loading=5),ki.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ki.set(i,o),g||eN(m,i,o,w.state))),r&&c===null)throw Error(s(528,""));return w}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ll(o),o=us(m).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function ol(i){return'href="'+qn(i)+'"'}function qc(i){return'link[rel="stylesheet"]['+i+"]"}function zw(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function eN(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),wn(r,"link",o),Qt(r),i.head.appendChild(r))}function ll(i){return'[src="'+qn(i)+'"]'}function Hc(i){return"script[async]"+i}function Bw(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+qn(o.href)+'"]');if(c)return r.instance=c,Qt(c),c;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Qt(c),wn(c,"style",m),df(c,o.precedence,i),r.instance=c;case"stylesheet":m=ol(o.href);var g=i.querySelector(qc(m));if(g)return r.state.loading|=4,r.instance=g,Qt(g),g;c=zw(o),(m=ki.get(m))&&sg(c,m),g=(i.ownerDocument||i).createElement("link"),Qt(g);var w=g;return w._p=new Promise(function(A,j){w.onload=A,w.onerror=j}),wn(g,"link",c),r.state.loading|=4,df(g,o.precedence,i),r.instance=g;case"script":return g=ll(o.src),(m=i.querySelector(Hc(g)))?(r.instance=m,Qt(m),m):(c=o,(m=ki.get(g))&&(c=v({},o),rg(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),Qt(m),wn(m,"link",c),i.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,df(c,o.precedence,i));return r.instance}function df(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,w=0;w<c.length;w++){var A=c[w];if(A.dataset.precedence===r)g=A;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function sg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function rg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var mf=null;function Fw(i,r,o){if(mf===null){var c=new Map,m=mf=new Map;m.set(o,c)}else m=mf,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[ni]||g[$]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(r)||"";w=i+w;var A=c.get(w);A?A.push(g):c.set(w,[g])}}return c}function qw(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function tN(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Hw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function nN(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=ol(c.href),g=r.querySelector(qc(m));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=pf.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Qt(g);return}g=r.ownerDocument||r,c=zw(c),(m=ki.get(m))&&sg(c,m),g=g.createElement("link"),Qt(g);var w=g;w._p=new Promise(function(A,j){w.onload=A,w.onerror=j}),wn(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=pf.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var ag=0;function iN(i,r){return i.stylesheets&&i.count===0&&yf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&yf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&ag===0&&(ag=62500*jI());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&yf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>ag?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function pf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var gf=null;function yf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,gf=new Map,r.forEach(sN,i),gf=null,pf.call(i))}function sN(i,r){if(!(r.state.loading&4)){var o=gf.get(i);if(o)var c=o.get(null);else{o=new Map,gf.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var w=m[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}m=r.instance,w=m.getAttribute("data-precedence"),g=o.get(w)||c,g===c&&o.set(null,m),o.set(w,m),this.count++,c=pf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),r.state.loading|=4}}var Gc={$$typeof:Q,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function rN(i,r,o,c,m,g,w,A,j){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function Gw(i,r,o,c,m,g,w,A,j,ee,ae,ue){return i=new rN(i,r,o,w,j,ee,ae,ue,A),r=1,g===!0&&(r|=24),g=ai(3,null,null,r),i.current=g,g.stateNode=i,r=Um(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},qm(g),i}function $w(i){return i?(i=Uo,i):Uo}function Kw(i,r,o,c,m,g){m=$w(m),c.context===null?c.context=m:c.pendingContext=m,c=jr(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Lr(i,c,r),o!==null&&(Qn(o,i,r),xc(o,i,r))}function Yw(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function og(i,r){Yw(i,r),(i=i.alternate)&&Yw(i,r)}function Qw(i){if(i.tag===13||i.tag===31){var r=qa(i,67108864);r!==null&&Qn(r,i,67108864),og(i,67108864)}}function Ww(i){if(i.tag===13||i.tag===31){var r=hi();r=wr(r);var o=qa(i,r);o!==null&&Qn(o,i,r),og(i,r)}}var vf=!0;function aN(i,r,o,c){var m=U.T;U.T=null;var g=Z.p;try{Z.p=2,lg(i,r,o,c)}finally{Z.p=g,U.T=m}}function oN(i,r,o,c){var m=U.T;U.T=null;var g=Z.p;try{Z.p=8,lg(i,r,o,c)}finally{Z.p=g,U.T=m}}function lg(i,r,o,c){if(vf){var m=cg(c);if(m===null)Yp(i,r,c,bf,o),Zw(i,c);else if(cN(m,i,r,o,c))c.stopPropagation();else if(Zw(i,c),r&4&&-1<lN.indexOf(i)){for(;m!==null;){var g=wi(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=ei(g.pendingLanes);if(w!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;w;){var j=1<<31-xt(w);A.entanglements[1]|=j,w&=~j}xs(g),(lt&6)===0&&(ef=Kt()+500,Uc(0))}}break;case 31:case 13:A=qa(g,2),A!==null&&Qn(A,g,2),nf(),og(g,2)}if(g=cg(c),g===null&&Yp(i,r,c,bf,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else Yp(i,r,c,null,o)}}function cg(i){return i=Ti(i),ug(i)}var bf=null;function ug(i){if(bf=null,i=cs(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return bf=i,null}function Xw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(En()){case Mn:return 2;case Bn:return 8;case Sn:case Ls:return 32;case as:return 268435456;default:return 32}default:return 32}}var hg=!1,Qr=null,Wr=null,Xr=null,$c=new Map,Kc=new Map,Zr=[],lN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zw(i,r){switch(i){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":$c.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kc.delete(r.pointerId)}}function Yc(i,r,o,c,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},r!==null&&(r=wi(r),r!==null&&Qw(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),i)}function cN(i,r,o,c,m){switch(r){case"focusin":return Qr=Yc(Qr,i,r,o,c,m),!0;case"dragenter":return Wr=Yc(Wr,i,r,o,c,m),!0;case"mouseover":return Xr=Yc(Xr,i,r,o,c,m),!0;case"pointerover":var g=m.pointerId;return $c.set(g,Yc($c.get(g)||null,i,r,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,Kc.set(g,Yc(Kc.get(g)||null,i,r,o,c,m)),!0}return!1}function Jw(i){var r=cs(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,Pn(i.priority,function(){Ww(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,Pn(i.priority,function(){Ww(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function _f(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=cg(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);oc=c,o.target.dispatchEvent(c),oc=null}else return r=wi(o),r!==null&&Qw(r),i.blockedOn=o,!1;r.shift()}return!0}function eT(i,r,o){_f(i)&&o.delete(r)}function uN(){hg=!1,Qr!==null&&_f(Qr)&&(Qr=null),Wr!==null&&_f(Wr)&&(Wr=null),Xr!==null&&_f(Xr)&&(Xr=null),$c.forEach(eT),Kc.forEach(eT)}function wf(i,r){i.blockedOn===r&&(i.blockedOn=null,hg||(hg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,uN)))}var Tf=null;function tT(i){Tf!==i&&(Tf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Tf===i&&(Tf=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],m=i[r+2];if(typeof c!="function"){if(ug(c||o)===null)continue;break}var g=wi(o);g!==null&&(i.splice(r,3),r-=3,cp(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function cl(i){function r(j){return wf(j,i)}Qr!==null&&wf(Qr,i),Wr!==null&&wf(Wr,i),Xr!==null&&wf(Xr,i),$c.forEach(r),Kc.forEach(r);for(var o=0;o<Zr.length;o++){var c=Zr[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Zr.length&&(o=Zr[0],o.blockedOn===null);)Jw(o),o.blockedOn===null&&Zr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],w=m[we]||null;if(typeof g=="function")w||tT(o);else if(w){var A=null;if(g&&g.hasAttribute("formAction")){if(m=g,w=g[we]||null)A=w.formAction;else if(ug(m)!==null)continue}else A=w.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),tT(o)}}}function nT(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(w){return m=w})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function fg(i){this._internalRoot=i}xf.prototype.render=fg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=hi();Kw(o,c,i,r,null,null)},xf.prototype.unmount=fg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Kw(i.current,2,null,i,null,null),nf(),r[ft]=null}};function xf(i){this._internalRoot=i}xf.prototype.unstable_scheduleHydration=function(i){if(i){var r=Tr();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Zr.length&&r!==0&&r<Zr[o].priority;o++);Zr.splice(o,0,i),o===0&&Jw(i)}};var iT=e.version;if(iT!=="19.2.3")throw Error(s(527,iT,"19.2.3"));Z.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=d(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var hN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ef.isDisabled&&Ef.supportsFiber)try{st=Ef.inject(hN),kt=Ef}catch{}}return Wc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",m=u_,g=h_,w=f_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError)),r=Gw(i,1,!1,null,null,o,c,null,m,g,w,nT),i[ft]=r.current,Kp(i),new fg(r)},Wc.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,m="",g=u_,w=h_,A=f_,j=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(j=o.formState)),r=Gw(i,1,!0,r,o??null,c,m,j,g,w,A,nT),r.context=$w(null),o=r.current,c=hi(),c=wr(c),m=jr(c),m.callback=null,Lr(o,m,c),o=c,r.current.lanes=o,zs(r,o),xs(r),i[ft]=r.current,Kp(i),new xf(r)},Wc.version="19.2.3",Wc}var dT;function TN(){if(dT)return pg.exports;dT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pg.exports=wN(),pg.exports}var xN=TN();var mT="popstate";function EN(t={}){function e(s,a){let{pathname:l,search:u,hash:f}=s.location;return ny("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:wu(a)}return AN(e,n,null,t)}function Dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SN(){return Math.random().toString(36).substring(2,10)}function pT(t,e){return{usr:t.state,key:t.key,idx:e}}function ny(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?jl(e):e,state:n,key:e&&e.key||s||SN()}}function wu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function jl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function AN(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,f="POP",p=null,d=y();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function y(){return(u.state||{idx:null}).idx}function v(){f="POP";let N=y(),H=N==null?null:N-d;d=N,p&&p({action:f,location:O.location,delta:H})}function T(N,H){f="PUSH";let W=ny(O.location,N,H);d=y()+1;let Q=pT(W,d),Y=O.createHref(W);try{u.pushState(Q,"",Y)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;a.location.assign(Y)}l&&p&&p({action:f,location:O.location,delta:1})}function C(N,H){f="REPLACE";let W=ny(O.location,N,H);d=y();let Q=pT(W,d),Y=O.createHref(W);u.replaceState(Q,"",Y),l&&p&&p({action:f,location:O.location,delta:0})}function M(N){return CN(N)}let O={get action(){return f},get location(){return t(a,u)},listen(N){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(mT,v),p=N,()=>{a.removeEventListener(mT,v),p=null}},createHref(N){return e(a,N)},createURL:M,encodeLocation(N){let H=M(N);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:T,replace:C,go(N){return u.go(N)}};return O}function CN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:wu(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function kE(t,e,n="/"){return RN(t,e,n,!1)}function RN(t,e,n,s){let a=typeof e=="string"?jl(e):e,l=dr(a.pathname||"/",n);if(l==null)return null;let u=ME(t);IN(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let d=zN(l);f=LN(u[p],d,s)}return f}function ME(t,e=[],n=[],s="",a=!1){let l=(u,f,p=a,d)=>{let y={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&p)return;Dt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let v=cr([s,y.relativePath]),T=n.concat(y);u.children&&u.children.length>0&&(Dt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),ME(u.children,e,T,v,p)),!(u.path==null&&!u.index)&&e.push({path:v,score:ON(v,u.index),routesMeta:T})};return t.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let p of VE(u.path))l(u,f,!0,p)}),e}function VE(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=VE(s.join("/")),f=[];return f.push(...u.map(p=>p===""?l:[l,p].join("/"))),a&&f.push(...u),f.map(p=>t.startsWith("/")&&p===""?"/":p)}function IN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:jN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var NN=/^:[\w-]+$/,DN=3,kN=2,MN=1,VN=10,PN=-2,gT=t=>t==="*";function ON(t,e){let n=t.split("/"),s=n.length;return n.some(gT)&&(s+=PN),e&&(s+=kN),n.filter(a=>!gT(a)).reduce((a,l)=>a+(NN.test(l)?DN:l===""?MN:VN),s)}function jN(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function LN(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let f=0;f<s.length;++f){let p=s[f],d=f===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=sd({path:p.relativePath,caseSensitive:p.caseSensitive,end:d},y),T=p.route;if(!v&&d&&n&&!s[s.length-1].route.index&&(v=sd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:cr([l,v.pathname]),pathnameBase:HN(cr([l,v.pathnameBase])),route:T}),v.pathnameBase!=="/"&&(l=cr([l,v.pathnameBase]))}return u}function sd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=UN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((d,{paramName:y,isOptional:v},T)=>{if(y==="*"){let M=f[T]||"";u=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const C=f[T];return v&&!C?d[y]=void 0:d[y]=(C||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:u,pattern:t}}function UN(t,e=!1,n=!0){zi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function zN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function dr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var PE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BN=t=>PE.test(t);function FN(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?jl(t):t,l;if(n)if(BN(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),zi(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=yT(n.substring(1),"/"):l=yT(n,e)}else l=e;return{pathname:l,search:GN(s),hash:$N(a)}}function yT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function bg(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function t0(t){let e=qN(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function n0(t,e,n,s=!1){let a;typeof t=="string"?a=jl(t):(a={...t},Dt(!a.pathname||!a.pathname.includes("?"),bg("?","pathname","search",a)),Dt(!a.pathname||!a.pathname.includes("#"),bg("#","pathname","hash",a)),Dt(!a.search||!a.search.includes("#"),bg("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=n;else{let v=e.length-1;if(!s&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),v-=1;a.pathname=T.join("/")}f=v>=0?e[v]:"/"}let p=FN(a,f),d=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(d||y)&&(p.pathname+="/"),p}var cr=t=>t.join("/").replace(/\/\/+/g,"/"),HN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),GN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$N=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,KN=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function YN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function QN(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var OE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function jE(t,e){let n=t;if(typeof n!="string"||!PE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(OE)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),f=dr(u.pathname,e);u.origin===l.origin&&f!=null?n=f+u.search+u.hash:a=!0}catch{zi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var LE=["POST","PUT","PATCH","DELETE"];new Set(LE);var WN=["GET",...LE];new Set(WN);var Ll=k.createContext(null);Ll.displayName="DataRouter";var qd=k.createContext(null);qd.displayName="DataRouterState";var XN=k.createContext(!1),UE=k.createContext({isTransitioning:!1});UE.displayName="ViewTransition";var ZN=k.createContext(new Map);ZN.displayName="Fetchers";var JN=k.createContext(null);JN.displayName="Await";var mi=k.createContext(null);mi.displayName="Navigation";var Vu=k.createContext(null);Vu.displayName="Location";var rs=k.createContext({outlet:null,matches:[],isDataRoute:!1});rs.displayName="Route";var i0=k.createContext(null);i0.displayName="RouteError";var zE="REACT_ROUTER_ERROR",eD="REDIRECT",tD="ROUTE_ERROR_RESPONSE";function nD(t){if(t.startsWith(`${zE}:${eD}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function iD(t){if(t.startsWith(`${zE}:${tD}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new KN(e.status,e.statusText,e.data)}catch{}}function sD(t,{relative:e}={}){Dt(Ul(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=k.useContext(mi),{hash:a,pathname:l,search:u}=Ou(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:cr([n,l])),s.createHref({pathname:f,search:u,hash:a})}function Ul(){return k.useContext(Vu)!=null}function Ta(){return Dt(Ul(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Vu).location}var BE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function FE(t){k.useContext(mi).static||k.useLayoutEffect(t)}function Pu(){let{isDataRoute:t}=k.useContext(rs);return t?vD():rD()}function rD(){Dt(Ul(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(Ll),{basename:e,navigator:n}=k.useContext(mi),{matches:s}=k.useContext(rs),{pathname:a}=Ta(),l=JSON.stringify(t0(s)),u=k.useRef(!1);return FE(()=>{u.current=!0}),k.useCallback((p,d={})=>{if(zi(u.current,BE),!u.current)return;if(typeof p=="number"){n.go(p);return}let y=n0(p,JSON.parse(l),a,d.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:cr([e,y.pathname])),(d.replace?n.replace:n.push)(y,d.state,d)},[e,n,l,a,t])}k.createContext(null);function aD(){let{matches:t}=k.useContext(rs),e=t[t.length-1];return e?e.params:{}}function Ou(t,{relative:e}={}){let{matches:n}=k.useContext(rs),{pathname:s}=Ta(),a=JSON.stringify(t0(n));return k.useMemo(()=>n0(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function oD(t,e){return qE(t,e)}function qE(t,e,n,s,a){Dt(Ul(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=k.useContext(mi),{matches:u}=k.useContext(rs),f=u[u.length-1],p=f?f.params:{},d=f?f.pathname:"/",y=f?f.pathnameBase:"/",v=f&&f.route;{let W=v&&v.path||"";GE(d,!v||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let T=Ta(),C;if(e){let W=typeof e=="string"?jl(e):e;Dt(y==="/"||W.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${W.pathname}" was given in the \`location\` prop.`),C=W}else C=T;let M=C.pathname||"/",O=M;if(y!=="/"){let W=y.replace(/^\//,"").split("/");O="/"+M.replace(/^\//,"").split("/").slice(W.length).join("/")}let N=kE(t,{pathname:O});zi(v||N!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),zi(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=fD(N&&N.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:cr([y,l.encodeLocation?l.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?y:cr([y,l.encodeLocation?l.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),u,n,s,a);return e&&H?k.createElement(Vu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},H):H}function lD(){let t=yD(),e=YN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:l},"ErrorBoundary")," or"," ",k.createElement("code",{style:l},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:a},n):null,u)}var cD=k.createElement(lD,null),HE=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=iD(t.digest);n&&(t=n)}let e=t!==void 0?k.createElement(rs.Provider,{value:this.props.routeContext},k.createElement(i0.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?k.createElement(uD,{error:t},e):e}};HE.contextType=XN;var _g=new WeakMap;function uD({children:t,error:e}){let{basename:n}=k.useContext(mi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=nD(e.digest);if(s){let a=_g.get(e);if(a)throw a;let l=jE(s.location,n);if(OE&&!_g.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw _g.set(e,u),u}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function hD({routeContext:t,match:e,children:n}){let s=k.useContext(Ll);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(rs.Provider,{value:t},n)}function fD(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let y=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);Dt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,p=-1;if(n)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=y),v.route.id){let{loaderData:T,errors:C}=n,M=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!C||C[v.route.id]===void 0);if(v.route.lazy||M){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let d=n&&s?(y,v)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:QN(n.matches),errorInfo:v})}:void 0;return l.reduceRight((y,v,T)=>{let C,M=!1,O=null,N=null;n&&(C=u&&v.route.id?u[v.route.id]:void 0,O=v.route.errorElement||cD,f&&(p<0&&T===0?(GE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,N=null):p===T&&(M=!0,N=v.route.hydrateFallbackElement||null)));let H=e.concat(l.slice(0,T+1)),W=()=>{let Q;return C?Q=O:M?Q=N:v.route.Component?Q=k.createElement(v.route.Component,null):v.route.element?Q=v.route.element:Q=y,k.createElement(hD,{match:v,routeContext:{outlet:y,matches:H,isDataRoute:n!=null},children:Q})};return n&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?k.createElement(HE,{location:n.location,revalidation:n.revalidation,component:O,error:C,children:W(),routeContext:{outlet:null,matches:H,isDataRoute:!0},onError:d}):W()},null)}function s0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dD(t){let e=k.useContext(Ll);return Dt(e,s0(t)),e}function mD(t){let e=k.useContext(qd);return Dt(e,s0(t)),e}function pD(t){let e=k.useContext(rs);return Dt(e,s0(t)),e}function r0(t){let e=pD(t),n=e.matches[e.matches.length-1];return Dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function gD(){return r0("useRouteId")}function yD(){let t=k.useContext(i0),e=mD("useRouteError"),n=r0("useRouteError");return t!==void 0?t:e.errors?.[n]}function vD(){let{router:t}=dD("useNavigate"),e=r0("useNavigate"),n=k.useRef(!1);return FE(()=>{n.current=!0}),k.useCallback(async(a,l={})=>{zi(n.current,BE),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var vT={};function GE(t,e,n){!e&&!vT[t]&&(vT[t]=!0,zi(!1,n))}k.memo(bD);function bD({routes:t,future:e,state:n,onError:s}){return qE(t,void 0,n,s,e)}function bT({to:t,replace:e,state:n,relative:s}){Dt(Ul(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=k.useContext(mi);zi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=k.useContext(rs),{pathname:u}=Ta(),f=Pu(),p=n0(t,t0(l),u,s==="path"),d=JSON.stringify(p);return k.useEffect(()=>{f(JSON.parse(d),{replace:e,state:n,relative:s})},[f,d,s,e,n]),null}function so(t){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _D({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){Dt(!Ul(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),p=k.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[f,a,l,u]);typeof n=="string"&&(n=jl(n));let{pathname:d="/",search:y="",hash:v="",state:T=null,key:C="default"}=n,M=k.useMemo(()=>{let O=dr(d,f);return O==null?null:{location:{pathname:O,search:y,hash:v,state:T,key:C},navigationType:s}},[f,d,y,v,T,C,s]);return zi(M!=null,`<Router basename="${f}"> is not able to match the URL "${d}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:k.createElement(mi.Provider,{value:p},k.createElement(Vu.Provider,{children:e,value:M}))}function wD({children:t,location:e}){return oD(iy(t),e)}function iy(t,e=[]){let n=[];return k.Children.forEach(t,(s,a)=>{if(!k.isValidElement(s))return;let l=[...e,a];if(s.type===k.Fragment){n.push.apply(n,iy(s.props.children,l));return}Dt(s.type===so,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=iy(s.props.children,l)),n.push(u)}),n}var zf="get",Bf="application/x-www-form-urlencoded";function Hd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function TD(t){return Hd(t)&&t.tagName.toLowerCase()==="button"}function xD(t){return Hd(t)&&t.tagName.toLowerCase()==="form"}function ED(t){return Hd(t)&&t.tagName.toLowerCase()==="input"}function SD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function AD(t,e){return t.button===0&&(!e||e==="_self")&&!SD(t)}var Sf=null;function CD(){if(Sf===null)try{new FormData(document.createElement("form"),0),Sf=!1}catch{Sf=!0}return Sf}var RD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wg(t){return t!=null&&!RD.has(t)?(zi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bf}"`),null):t}function ID(t,e){let n,s,a,l,u;if(xD(t)){let f=t.getAttribute("action");s=f?dr(f,e):null,n=t.getAttribute("method")||zf,a=wg(t.getAttribute("enctype"))||Bf,l=new FormData(t)}else if(TD(t)||ED(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||f.getAttribute("action");if(s=p?dr(p,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||zf,a=wg(t.getAttribute("formenctype"))||wg(f.getAttribute("enctype"))||Bf,l=new FormData(f,t),!CD()){let{name:d,type:y,value:v}=t;if(y==="image"){let T=d?`${d}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else d&&l.append(d,v)}}else{if(Hd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zf,s=null,a=Bf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function a0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ND(t,e,n,s){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:e&&dr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function DD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function MD(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await DD(l,n);return u.links?u.links():[]}return[]}));return jD(s.flat(1).filter(kD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function _T(t,e,n,s,a,l){let u=(p,d)=>n[d]?p.route.id!==n[d].route.id:!0,f=(p,d)=>n[d].pathname!==p.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,d)=>u(p,d)||f(p,d)):l==="data"?e.filter((p,d)=>{let y=s.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(u(p,d)||f(p,d))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function VD(t,e,{includeHydrateFallback:n}={}){return PD(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function PD(t){return[...new Set(t)]}function OD(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function jD(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(OD(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function $E(){let t=k.useContext(Ll);return a0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function LD(){let t=k.useContext(qd);return a0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var o0=k.createContext(void 0);o0.displayName="FrameworkContext";function KE(){let t=k.useContext(o0);return a0(t,"You must render this element inside a <HydratedRouter> element"),t}function UD(t,e){let n=k.useContext(o0),[s,a]=k.useState(!1),[l,u]=k.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:d,onMouseLeave:y,onTouchStart:v}=e,T=k.useRef(null);k.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let O=H=>{H.forEach(W=>{u(W.isIntersecting)})},N=new IntersectionObserver(O,{threshold:.5});return T.current&&N.observe(T.current),()=>{N.disconnect()}}},[t]),k.useEffect(()=>{if(s){let O=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(O)}}},[s]);let C=()=>{a(!0)},M=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:Xc(f,C),onBlur:Xc(p,M),onMouseEnter:Xc(d,C),onMouseLeave:Xc(y,M),onTouchStart:Xc(v,C)}]:[!1,T,{}]}function Xc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function zD({page:t,...e}){let{router:n}=$E(),s=k.useMemo(()=>kE(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?k.createElement(FD,{page:t,matches:s,...e}):null}function BD(t){let{manifest:e,routeModules:n}=KE(),[s,a]=k.useState([]);return k.useEffect(()=>{let l=!1;return MD(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function FD({page:t,matches:e,...n}){let s=Ta(),{future:a,manifest:l,routeModules:u}=KE(),{basename:f}=$E(),{loaderData:p,matches:d}=LD(),y=k.useMemo(()=>_T(t,e,d,l,s,"data"),[t,e,d,l,s]),v=k.useMemo(()=>_T(t,e,d,l,s,"assets"),[t,e,d,l,s]),T=k.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let O=new Set,N=!1;if(e.forEach(W=>{let Q=l.routes[W.route.id];!Q||!Q.hasLoader||(!y.some(Y=>Y.route.id===W.route.id)&&W.route.id in p&&u[W.route.id]?.shouldRevalidate||Q.hasClientLoader?N=!0:O.add(W.route.id))}),O.size===0)return[];let H=ND(t,f,a.unstable_trailingSlashAwareDataRequests,"data");return N&&O.size>0&&H.searchParams.set("_routes",e.filter(W=>O.has(W.route.id)).map(W=>W.route.id).join(",")),[H.pathname+H.search]},[f,a.unstable_trailingSlashAwareDataRequests,p,s,l,y,e,t,u]),C=k.useMemo(()=>VD(v,l),[v,l]),M=BD(v);return k.createElement(k.Fragment,null,T.map(O=>k.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),C.map(O=>k.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),M.map(({key:O,link:N})=>k.createElement("link",{key:O,nonce:n.nonce,...N})))}function qD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var HD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{HD&&(window.__reactRouterVersion="7.12.0")}catch{}function GD({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=k.useRef();a.current==null&&(a.current=EN({window:s,v5Compat:!0}));let l=a.current,[u,f]=k.useState({action:l.action,location:l.location}),p=k.useCallback(d=>{n===!1?f(d):k.startTransition(()=>f(d))},[n]);return k.useLayoutEffect(()=>l.listen(p),[l,p]),k.createElement(_D,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var YE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QE=k.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:f,target:p,to:d,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:T,...C},M){let{basename:O,unstable_useTransitions:N}=k.useContext(mi),H=typeof d=="string"&&YE.test(d),W=jE(d,O);d=W.to;let Q=sD(d,{relative:a}),[Y,re,ce]=UD(s,C),I=QD(d,{replace:u,state:f,target:p,preventScrollReset:y,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:T,unstable_useTransitions:N});function S(L){e&&e(L),L.defaultPrevented||I(L)}let D=k.createElement("a",{...C,...ce,href:W.absoluteURL||Q,onClick:W.isExternal||l?e:S,ref:qD(M,re),target:p,"data-discover":!H&&n==="render"?"true":void 0});return Y&&!H?k.createElement(k.Fragment,null,D,k.createElement(zD,{page:Q})):D});QE.displayName="Link";var $D=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:f,children:p,...d},y){let v=Ou(u,{relative:d.relative}),T=Ta(),C=k.useContext(qd),{navigator:M,basename:O}=k.useContext(mi),N=C!=null&&ek(v)&&f===!0,H=M.encodeLocation?M.encodeLocation(v).pathname:v.pathname,W=T.pathname,Q=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(W=W.toLowerCase(),Q=Q?Q.toLowerCase():null,H=H.toLowerCase()),Q&&O&&(Q=dr(Q,O)||Q);const Y=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let re=W===H||!a&&W.startsWith(H)&&W.charAt(Y)==="/",ce=Q!=null&&(Q===H||!a&&Q.startsWith(H)&&Q.charAt(H.length)==="/"),I={isActive:re,isPending:ce,isTransitioning:N},S=re?e:void 0,D;typeof s=="function"?D=s(I):D=[s,re?"active":null,ce?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(I):l;return k.createElement(QE,{...d,"aria-current":S,className:D,ref:y,style:L,to:u,viewTransition:f},typeof p=="function"?p(I):p)});$D.displayName="NavLink";var KD=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=zf,action:f,onSubmit:p,relative:d,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:T,...C},M)=>{let{unstable_useTransitions:O}=k.useContext(mi),N=ZD(),H=JD(f,{relative:d}),W=u.toLowerCase()==="get"?"get":"post",Q=typeof f=="string"&&YE.test(f),Y=re=>{if(p&&p(re),re.defaultPrevented)return;re.preventDefault();let ce=re.nativeEvent.submitter,I=ce?.getAttribute("formmethod")||u,S=()=>N(ce||re.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:a,state:l,relative:d,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:T});O&&n!==!1?k.startTransition(()=>S()):S()};return k.createElement("form",{ref:M,method:W,action:H,onSubmit:s?p:Y,...C,"data-discover":!Q&&t==="render"?"true":void 0})});KD.displayName="Form";function YD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WE(t){let e=k.useContext(Ll);return Dt(e,YD(t)),e}function QD(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f,unstable_useTransitions:p}={}){let d=Pu(),y=Ta(),v=Ou(t,{relative:l});return k.useCallback(T=>{if(AD(T,e)){T.preventDefault();let C=n!==void 0?n:wu(y)===wu(v),M=()=>d(t,{replace:C,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f});p?k.startTransition(()=>M()):M()}},[y,d,v,n,s,e,t,a,l,u,f,p])}var WD=0,XD=()=>`__${String(++WD)}__`;function ZD(){let{router:t}=WE("useSubmit"),{basename:e}=k.useContext(mi),n=gD(),s=t.fetch,a=t.navigate;return k.useCallback(async(l,u={})=>{let{action:f,method:p,encType:d,formData:y,body:v}=ID(l,e);if(u.navigate===!1){let T=u.fetcherKey||XD();await s(T,n,u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||p,formEncType:u.encType||d,flushSync:u.flushSync})}else await a(u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||p,formEncType:u.encType||d,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,a,e,n])}function JD(t,{relative:e}={}){let{basename:n}=k.useContext(mi),s=k.useContext(rs);Dt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Ou(t||".",{relative:e})},u=Ta();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(y=>y==="")){f.delete("index"),p.filter(v=>v).forEach(v=>f.append("index",v));let y=f.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:cr([n,l.pathname])),wu(l)}function ek(t,{relative:e}={}){let n=k.useContext(UE);Dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=WE("useViewTransitionState"),a=Ou(t,{relative:e});if(!n.isTransitioning)return!1;let l=dr(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=dr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return sd(a.pathname,u)!=null||sd(a.pathname,l)!=null}const tk="modulepreload",nk=function(t){return"/"+t},wT={},sy=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){let p=function(d){return Promise.all(d.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");a=p(n.map(d=>{if(d=nk(d),d in wT)return;wT[d]=!0;const y=d.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${v}`))return;const T=document.createElement("link");if(T.rel=y?"stylesheet":tk,y||(T.as="script"),T.crossOrigin="",T.href=d,f&&T.setAttribute("nonce",f),document.head.appendChild(T),y)return new Promise((C,M)=>{T.addEventListener("load",C),T.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${d}`)))})}))}function l(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return a.then(u=>{for(const f of u||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})},ik=()=>{};var TT={};const XE=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},sk=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],f=t[n++],p=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},ZE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,f=u?t[a+1]:0,p=a+2<t.length,d=p?t[a+2]:0,y=l>>2,v=(l&3)<<4|f>>4;let T=(f&15)<<2|d>>6,C=d&63;p||(C=64,u||(T=64)),s.push(n[y],n[v],n[T],n[C])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const d=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||d==null||v==null)throw new rk;const T=l<<2|f>>4;if(s.push(T),d!==64){const C=f<<4&240|d>>2;if(s.push(C),v!==64){const M=d<<6&192|v;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ak=function(t){const e=XE(t);return ZE.encodeByteArray(e,!0)},rd=function(t){return ak(t).replace(/\./g,"")},JE=function(t){try{return ZE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ok(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const lk=()=>ok().__FIREBASE_DEFAULTS__,ck=()=>{if(typeof process>"u"||typeof TT>"u")return;const t=TT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&JE(t[1]);return e&&JSON.parse(e)},Gd=()=>{try{return ik()||lk()||ck()||uk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eS=t=>Gd()?.emulatorHosts?.[t],tS=t=>{const e=eS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},nS=()=>Gd()?.config,iS=t=>Gd()?.[`_${t}`];class hk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function wo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function l0(t){return(await fetch(t,{credentials:"include"})).ok}function sS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[rd(JSON.stringify(n)),rd(JSON.stringify(u)),""].join(".")}const lu={};function fk(){const t={prod:[],emulator:[]};for(const e of Object.keys(lu))lu[e]?t.emulator.push(e):t.prod.push(e);return t}function dk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let xT=!1;function c0(t,e){if(typeof window>"u"||typeof document>"u"||!wo(window.location.host)||lu[t]===e||lu[t]||xT)return;lu[t]=e;function n(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=fk().prod.length>0;function u(){const T=document.getElementById(s);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,C){T.setAttribute("width","24"),T.setAttribute("id",C),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function d(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{xT=!0,u()},T}function y(T,C){T.setAttribute("id",C),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function v(){const T=dk(s),C=n("text"),M=document.getElementById(C)||document.createElement("span"),O=n("learnmore"),N=document.getElementById(O)||document.createElement("a"),H=n("preprendIcon"),W=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const Q=T.element;f(Q),y(N,O);const Y=d();p(W,H),Q.append(W,M,N,Y),document.body.appendChild(Q)}l?(M.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function pk(){const t=Gd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bk(){const t=kn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _k(){return!pk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wk(){try{return typeof indexedDB=="object"}catch{return!1}}function Tk(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const xk="FirebaseError";class Os extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=xk,Object.setPrototypeOf(this,Os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ju.prototype.create)}}class ju{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?Ek(l,s):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new Os(a,f,s)}}function Ek(t,e){return t.replace(Sk,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const Sk=/\{\$([^}]+)}/g;function Ak(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function po(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(ET(l)&&ET(u)){if(!po(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function ET(t){return t!==null&&typeof t=="object"}function Lu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ck(t,e){const n=new Rk(t,e);return n.subscribe.bind(n)}class Rk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Ik(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Tg),a.error===void 0&&(a.error=Tg),a.complete===void 0&&(a.complete=Tg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ik(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tg(){}function un(t){return t&&t._delegate?t._delegate:t}class da{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ro="[DEFAULT]";class Nk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new hk;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kk(e))try{this.getOrInitializeService({instanceIdentifier:ro})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ro){return this.instances.has(e)}getOptions(e=ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Dk(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ro){return this.component?this.component.multipleInstances?e:ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Dk(t){return t===ro?void 0:t}function kk(t){return t.instantiationMode==="EAGER"}class Mk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Nk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Xe||(Xe={}));const Vk={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},Pk=Xe.INFO,Ok={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},jk=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=Ok[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class u0{constructor(e){this.name=e,this._logLevel=Pk,this._logHandler=jk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Vk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const Lk=(t,e)=>e.some(n=>t instanceof n);let ST,AT;function Uk(){return ST||(ST=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zk(){return AT||(AT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rS=new WeakMap,ry=new WeakMap,aS=new WeakMap,xg=new WeakMap,h0=new WeakMap;function Bk(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(la(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&rS.set(n,t)}).catch(()=>{}),h0.set(e,t),e}function Fk(t){if(ry.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});ry.set(t,e)}let ay={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ry.get(t);if(e==="objectStoreNames")return t.objectStoreNames||aS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return la(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qk(t){ay=t(ay)}function Hk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Eg(this),e,...n);return aS.set(s,e.sort?e.sort():[e]),la(s)}:zk().includes(t)?function(...e){return t.apply(Eg(this),e),la(rS.get(this))}:function(...e){return la(t.apply(Eg(this),e))}}function Gk(t){return typeof t=="function"?Hk(t):(t instanceof IDBTransaction&&Fk(t),Lk(t,Uk())?new Proxy(t,ay):t)}function la(t){if(t instanceof IDBRequest)return Bk(t);if(xg.has(t))return xg.get(t);const e=Gk(t);return e!==t&&(xg.set(t,e),h0.set(e,t)),e}const Eg=t=>h0.get(t);function $k(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),f=la(u);return s&&u.addEventListener("upgradeneeded",p=>{s(la(u.result),p.oldVersion,p.newVersion,la(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),f}const Kk=["get","getKey","getAll","getAllKeys","count"],Yk=["put","add","delete","clear"],Sg=new Map;function CT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sg.get(e))return Sg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=Yk.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||Kk.includes(n)))return;const l=async function(u,...f){const p=this.transaction(u,a?"readwrite":"readonly");let d=p.store;return s&&(d=d.index(f.shift())),(await Promise.all([d[n](...f),a&&p.done]))[0]};return Sg.set(e,l),l}qk(t=>({...t,get:(e,n,s)=>CT(e,n)||t.get(e,n,s),has:(e,n)=>!!CT(e,n)||t.has(e,n)}));class Qk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Wk(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Wk(t){return t.getComponent()?.type==="VERSION"}const oy="@firebase/app",RT="0.14.7";const mr=new u0("@firebase/app"),Xk="@firebase/app-compat",Zk="@firebase/analytics-compat",Jk="@firebase/analytics",eM="@firebase/app-check-compat",tM="@firebase/app-check",nM="@firebase/auth",iM="@firebase/auth-compat",sM="@firebase/database",rM="@firebase/data-connect",aM="@firebase/database-compat",oM="@firebase/functions",lM="@firebase/functions-compat",cM="@firebase/installations",uM="@firebase/installations-compat",hM="@firebase/messaging",fM="@firebase/messaging-compat",dM="@firebase/performance",mM="@firebase/performance-compat",pM="@firebase/remote-config",gM="@firebase/remote-config-compat",yM="@firebase/storage",vM="@firebase/storage-compat",bM="@firebase/firestore",_M="@firebase/ai",wM="@firebase/firestore-compat",TM="firebase",xM="12.8.0";const ly="[DEFAULT]",EM={[oy]:"fire-core",[Xk]:"fire-core-compat",[Jk]:"fire-analytics",[Zk]:"fire-analytics-compat",[tM]:"fire-app-check",[eM]:"fire-app-check-compat",[nM]:"fire-auth",[iM]:"fire-auth-compat",[sM]:"fire-rtdb",[rM]:"fire-data-connect",[aM]:"fire-rtdb-compat",[oM]:"fire-fn",[lM]:"fire-fn-compat",[cM]:"fire-iid",[uM]:"fire-iid-compat",[hM]:"fire-fcm",[fM]:"fire-fcm-compat",[dM]:"fire-perf",[mM]:"fire-perf-compat",[pM]:"fire-rc",[gM]:"fire-rc-compat",[yM]:"fire-gcs",[vM]:"fire-gcs-compat",[bM]:"fire-fst",[wM]:"fire-fst-compat",[_M]:"fire-vertex","fire-js":"fire-js",[TM]:"fire-js-all"};const ad=new Map,SM=new Map,cy=new Map;function IT(t,e){try{t.container.addComponent(e)}catch(n){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function go(t){const e=t.name;if(cy.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;cy.set(e,t);for(const n of ad.values())IT(n,t);for(const n of SM.values())IT(n,t);return!0}function $d(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pi(t){return t==null?!1:t.settings!==void 0}const AM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ca=new ju("app","Firebase",AM);class CM{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ca.create("app-deleted",{appName:this._name})}}const To=xM;function oS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:ly,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw ca.create("bad-app-name",{appName:String(a)});if(n||(n=nS()),!n)throw ca.create("no-options");const l=ad.get(a);if(l){if(po(n,l.options)&&po(s,l.config))return l;throw ca.create("duplicate-app",{appName:a})}const u=new Mk(a);for(const p of cy.values())u.addComponent(p);const f=new CM(n,s,u);return ad.set(a,f),f}function f0(t=ly){const e=ad.get(t);if(!e&&t===ly&&nS())return oS();if(!e)throw ca.create("no-app",{appName:t});return e}function Ss(t,e,n){let s=EM[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(u.join(" "));return}go(new da(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const RM="firebase-heartbeat-database",IM=1,Tu="firebase-heartbeat-store";let Ag=null;function lS(){return Ag||(Ag=$k(RM,IM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Tu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ca.create("idb-open",{originalErrorMessage:t.message})})),Ag}async function NM(t){try{const n=(await lS()).transaction(Tu),s=await n.objectStore(Tu).get(cS(t));return await n.done,s}catch(e){if(e instanceof Os)mr.warn(e.message);else{const n=ca.create("idb-get",{originalErrorMessage:e?.message});mr.warn(n.message)}}}async function NT(t,e){try{const s=(await lS()).transaction(Tu,"readwrite");await s.objectStore(Tu).put(e,cS(t)),await s.done}catch(n){if(n instanceof Os)mr.warn(n.message);else{const s=ca.create("idb-set",{originalErrorMessage:n?.message});mr.warn(s.message)}}}function cS(t){return`${t.name}!${t.options.appId}`}const DM=1024,kM=30;class MM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PM(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=DT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>kM){const a=OM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){mr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=DT(),{heartbeatsToSend:n,unsentEntries:s}=VM(this._heartbeatsCache.heartbeats),a=rd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return mr.warn(e),""}}}function DT(){return new Date().toISOString().substring(0,10)}function VM(t,e=DM){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),kT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),kT(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class PM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wk()?Tk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await NM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return NT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return NT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function kT(t){return rd(JSON.stringify({version:2,heartbeats:t})).length}function OM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function jM(t){go(new da("platform-logger",e=>new Qk(e),"PRIVATE")),go(new da("heartbeat",e=>new MM(e),"PRIVATE")),Ss(oy,RT,t),Ss(oy,RT,"esm2020"),Ss("fire-js","")}jM("");var LM="firebase",UM="12.8.0";Ss(LM,UM,"app");function uS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zM=uS,hS=new ju("auth","Firebase",uS());const od=new u0("@firebase/auth");function BM(t,...e){od.logLevel<=Xe.WARN&&od.warn(`Auth (${To}): ${t}`,...e)}function Ff(t,...e){od.logLevel<=Xe.ERROR&&od.error(`Auth (${To}): ${t}`,...e)}function Ds(t,...e){throw m0(t,...e)}function ns(t,...e){return m0(t,...e)}function d0(t,e,n){const s={...zM(),[e]:n};return new ju("auth","Firebase",s).create(e,{appName:t.name})}function ho(t){return d0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function FM(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ds(t,"argument-error"),d0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function m0(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return hS.create(t,...e)}function Pe(t,e,...n){if(!t)throw m0(e,...n)}function or(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ff(e),new Error(e)}function pr(t,e){t||or(e)}function uy(){return typeof self<"u"&&self.location?.href||""}function qM(){return MT()==="http:"||MT()==="https:"}function MT(){return typeof self<"u"&&self.location?.protocol||null}function HM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qM()||yk()||"connection"in navigator)?navigator.onLine:!0}function GM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Uu{constructor(e,n){this.shortDelay=e,this.longDelay=n,pr(n>e,"Short delay should be less than long delay!"),this.isMobile=mk()||vk()}get(){return HM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function p0(t,e){pr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class fS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $M={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const KM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YM=new Uu(3e4,6e4);function g0(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function zl(t,e,n,s,a={}){return dS(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const f=Lu({key:t.config.apiKey,...u}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:p,...l};return gk()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&wo(t.emulatorConfig.host)&&(d.credentials="include"),fS.fetch()(await mS(t,t.config.apiHost,n,f),d)})}async function dS(t,e,n){t._canInitEmulator=!1;const s={...$M,...e};try{const a=new WM(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Af(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[p,d]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Af(t,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Af(t,"email-already-in-use",u);if(p==="USER_DISABLED")throw Af(t,"user-disabled",u);const y=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw d0(t,y,d);Ds(t,y)}}catch(a){if(a instanceof Os)throw a;Ds(t,"network-request-failed",{message:String(a)})}}async function QM(t,e,n,s,a={}){const l=await zl(t,e,n,s,a);return"mfaPendingCredential"in l&&Ds(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function mS(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?p0(t.config,a):`${t.config.apiScheme}://${a}`;return KM.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class WM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ns(this.auth,"network-request-failed")),YM.get())})}}function Af(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=ns(t,e,s);return a.customData._tokenResponse=n,a}async function XM(t,e){return zl(t,"POST","/v1/accounts:delete",e)}async function ld(t,e){return zl(t,"POST","/v1/accounts:lookup",e)}function cu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZM(t,e=!1){const n=un(t),s=await n.getIdToken(e),a=y0(s);Pe(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:cu(Cg(a.auth_time)),issuedAtTime:cu(Cg(a.iat)),expirationTime:cu(Cg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Cg(t){return Number(t)*1e3}function y0(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Ff("JWT malformed, contained fewer than 3 sections"),null;try{const a=JE(n);return a?JSON.parse(a):(Ff("Failed to decode base64 JWT payload"),null)}catch(a){return Ff("Caught error parsing JWT payload as JSON",a?.toString()),null}}function VT(t){const e=y0(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function xu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Os&&JM(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function JM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class eV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class hy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function cd(t){const e=t.auth,n=await t.getIdToken(),s=await xu(t,ld(e,{idToken:n}));Pe(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?pS(a.providerUserInfo):[],u=nV(t.providerData,l),f=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!u?.length,d=f?p:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new hy(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(t,y)}async function tV(t){const e=un(t);await cd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nV(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function pS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function iV(t,e){const n=await dS(t,{},async()=>{const s=Lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await mS(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:s};return t.emulatorConfig&&wo(t.emulatorConfig.host)&&(p.credentials="include"),fS.fetch()(u,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sV(t,e){return zl(t,"POST","/v2/accounts:revokeToken",g0(t,e))}class Tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=VT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await iV(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new Tl;return s&&(Pe(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Pe(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Pe(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tl,this.toJSON())}_performRefresh(){return or("not implemented")}}function ea(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class es{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new eV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new hy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await xu(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZM(this,e)}reload(){return tV(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new es({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await cd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pi(this.auth.app))return Promise.reject(ho(this.auth));const e=await this.getIdToken();return await xu(this,XM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,f=n.tenantId??void 0,p=n._redirectEventId??void 0,d=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:v,emailVerified:T,isAnonymous:C,providerData:M,stsTokenManager:O}=n;Pe(v&&O,e,"internal-error");const N=Tl.fromJSON(this.name,O);Pe(typeof v=="string",e,"internal-error"),ea(s,e.name),ea(a,e.name),Pe(typeof T=="boolean",e,"internal-error"),Pe(typeof C=="boolean",e,"internal-error"),ea(l,e.name),ea(u,e.name),ea(f,e.name),ea(p,e.name),ea(d,e.name),ea(y,e.name);const H=new es({uid:v,auth:e,email:a,emailVerified:T,displayName:s,isAnonymous:C,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:N,createdAt:d,lastLoginAt:y});return M&&Array.isArray(M)&&(H.providerData=M.map(W=>({...W}))),p&&(H._redirectEventId=p),H}static async _fromIdTokenResponse(e,n,s=!1){const a=new Tl;a.updateFromServerResponse(n);const l=new es({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await cd(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Pe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?pS(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,f=new Tl;f.updateFromIdToken(s);const p=new es({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new hy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,d),p}}const PT=new Map;function lr(t){pr(t instanceof Function,"Expected a class definition");let e=PT.get(t);return e?(pr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,PT.set(t,e),e)}class gS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gS.type="NONE";const OT=gS;function qf(t,e,n){return`firebase:${t}:${e}:${n}`}class xl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=qf(this.userKey,a.apiKey,l),this.fullPersistenceKey=qf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ld(this.auth,{idToken:e}).catch(()=>{});return n?es._fromGetAccountInfoResponse(this.auth,n,e):null}return es._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new xl(lr(OT),e,s);const a=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let l=a[0]||lr(OT);const u=qf(s,e.config.apiKey,e.name);let f=null;for(const d of n)try{const y=await d._get(u);if(y){let v;if(typeof y=="string"){const T=await ld(e,{idToken:y}).catch(()=>{});if(!T)break;v=await es._fromGetAccountInfoResponse(e,T,y)}else v=es._fromJSON(e,y);d!==l&&(f=v),l=d;break}}catch{}const p=a.filter(d=>d._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new xl(l,e,s):(l=p[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async d=>{if(d!==l)try{await d._remove(u)}catch{}})),new xl(l,e,s))}}function jT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_S(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TS(e))return"Blackberry";if(xS(e))return"Webos";if(vS(e))return"Safari";if((e.includes("chrome/")||bS(e))&&!e.includes("edge/"))return"Chrome";if(wS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function yS(t=kn()){return/firefox\//i.test(t)}function vS(t=kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bS(t=kn()){return/crios\//i.test(t)}function _S(t=kn()){return/iemobile/i.test(t)}function wS(t=kn()){return/android/i.test(t)}function TS(t=kn()){return/blackberry/i.test(t)}function xS(t=kn()){return/webos/i.test(t)}function v0(t=kn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rV(t=kn()){return v0(t)&&!!window.navigator?.standalone}function aV(){return bk()&&document.documentMode===10}function ES(t=kn()){return v0(t)||wS(t)||xS(t)||TS(t)||/windows phone/i.test(t)||_S(t)}function SS(t,e=[]){let n;switch(t){case"Browser":n=jT(kn());break;case"Worker":n=`${jT(kn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${To}/${s}`}class oV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,f)=>{try{const p=e(l);u(p)}catch(p){f(p)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function lV(t,e={}){return zl(t,"GET","/v2/passwordPolicy",g0(t,e))}const cV=6;class uV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??cV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class hV{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new LT(this),this.idTokenSubscription=new LT(this),this.beforeStateQueue=new oV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=lr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await xl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ld(this,{idToken:e}),s=await es._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Pi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pi(this.app))return Promise.reject(ho(this));const n=e?un(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pi(this.app)?Promise.reject(ho(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pi(this.app)?Promise.reject(ho(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lV(this),n=new uV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ju("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await sV(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&lr(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await xl.create(this,[lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,a);return()=>{u=!0,p()}}else{const p=e.addObserver(n);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&BM(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Kd(t){return un(t)}class LT{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ck(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let b0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fV(t){b0=t}function dV(t){return b0.loadJS(t)}function mV(){return b0.gapiScript}function pV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function gV(t,e){const n=$d(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(po(l,e??{}))return a;Ds(a,"already-initialized")}return n.initialize({options:e})}function yV(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(lr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function vV(t,e,n){const s=Kd(t);Pe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=AS(e),{host:u,port:f}=bV(e),p=f===null?"":`:${f}`,d={url:`${l}//${u}${p}/`},y=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Pe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Pe(po(d,s.config.emulator)&&po(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=d,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,wo(u)?(l0(`${l}//${u}${p}`),c0("Auth",!0)):_V()}function AS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function bV(t){const e=AS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:UT(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:UT(u)}}}function UT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _V(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class CS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}}async function El(t,e){return QM(t,"POST","/v1/accounts:signInWithIdp",g0(t,e))}const wV="http://localhost";class yo extends CS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new yo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ds("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new yo(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return El(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,El(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,El(e,n)}buildRequest(){const e={requestUri:wV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lu(n)}return e}}class _0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class zu extends _0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ia extends zu{constructor(){super("facebook.com")}static credential(e){return yo._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ia.credential(e.oauthAccessToken)}catch{return null}}}ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";ia.PROVIDER_ID="facebook.com";class ar extends zu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return yo._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ar.credential(n,s)}catch{return null}}}ar.GOOGLE_SIGN_IN_METHOD="google.com";ar.PROVIDER_ID="google.com";class sa extends zu{constructor(){super("github.com")}static credential(e){return yo._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sa.credential(e.oauthAccessToken)}catch{return null}}}sa.GITHUB_SIGN_IN_METHOD="github.com";sa.PROVIDER_ID="github.com";class ra extends zu{constructor(){super("twitter.com")}static credential(e,n){return yo._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ra.credential(n,s)}catch{return null}}}ra.TWITTER_SIGN_IN_METHOD="twitter.com";ra.PROVIDER_ID="twitter.com";class Rl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await es._fromIdTokenResponse(e,s,a),u=zT(s);return new Rl({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=zT(s);return new Rl({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function zT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class ud extends Os{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,ud.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new ud(e,n,s,a)}}function RS(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ud._fromErrorAndOperation(t,l,e,s):l})}async function TV(t,e,n=!1){const s=await xu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Rl._forOperation(t,"link",s)}async function xV(t,e,n=!1){const{auth:s}=t;if(Pi(s.app))return Promise.reject(ho(s));const a="reauthenticate";try{const l=await xu(t,RS(s,a,e,t),n);Pe(l.idToken,s,"internal-error");const u=y0(l.idToken);Pe(u,s,"internal-error");const{sub:f}=u;return Pe(t.uid===f,s,"user-mismatch"),Rl._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ds(s,"user-mismatch"),l}}async function EV(t,e,n=!1){if(Pi(t.app))return Promise.reject(ho(t));const s="signIn",a=await RS(t,s,e),l=await Rl._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}function SV(t,e,n,s){return un(t).onIdTokenChanged(e,n,s)}function AV(t,e,n){return un(t).beforeAuthStateChanged(e,n)}function CV(t,e,n,s){return un(t).onAuthStateChanged(e,n,s)}function RV(t){return un(t).signOut()}const hd="__sak";class IS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hd,"1"),this.storage.removeItem(hd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const IV=1e3,NV=10;class NS extends IS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ES(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,p)=>{this.notifyListeners(u,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);aV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,NV):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},IV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}NS.type="LOCAL";const DV=NS;class DS extends IS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}DS.type="SESSION";const kS=DS;function kV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Yd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Yd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(u).map(async d=>d(n.origin,l)),p=await kV(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yd.receivers=[];function w0(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class MV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,p)=>{const d=w0("",20);a.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(v){const T=v;if(T.data.eventId===d)switch(T.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(T.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function As(){return window}function VV(t){As().location.href=t}function MS(){return typeof As().WorkerGlobalScope<"u"&&typeof As().importScripts=="function"}async function PV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OV(){return navigator?.serviceWorker?.controller||null}function jV(){return MS()?self:null}const VS="firebaseLocalStorageDb",LV=1,fd="firebaseLocalStorage",PS="fbase_key";class Bu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qd(t,e){return t.transaction([fd],e?"readwrite":"readonly").objectStore(fd)}function UV(){const t=indexedDB.deleteDatabase(VS);return new Bu(t).toPromise()}function fy(){const t=indexedDB.open(VS,LV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(fd,{keyPath:PS})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(fd)?e(s):(s.close(),await UV(),e(await fy()))})})}async function BT(t,e,n){const s=Qd(t,!0).put({[PS]:e,value:n});return new Bu(s).toPromise()}async function zV(t,e){const n=Qd(t,!1).get(e),s=await new Bu(n).toPromise();return s===void 0?null:s.value}function FT(t,e){const n=Qd(t,!0).delete(e);return new Bu(n).toPromise()}const BV=800,FV=3;class OS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>FV)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yd._getInstance(jV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await PV(),!this.activeServiceWorker)return;this.sender=new MV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fy();return await BT(e,hd,"1"),await FT(e,hd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>BT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>zV(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>FT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Qd(a,!1).getAll();return new Bu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OS.type="LOCAL";const qV=OS;new Uu(3e4,6e4);function jS(t,e){return e?lr(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class T0 extends CS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return El(e,this._buildIdpRequest())}_linkToIdToken(e,n){return El(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return El(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HV(t){return EV(t.auth,new T0(t),t.bypassAuthState)}function GV(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),xV(n,new T0(t),t.bypassAuthState)}async function $V(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),TV(n,new T0(t),t.bypassAuthState)}class LS{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HV;case"linkViaPopup":case"linkViaRedirect":return $V;case"reauthViaPopup":case"reauthViaRedirect":return GV;default:Ds(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const KV=new Uu(2e3,1e4);async function YV(t,e,n){if(Pi(t.app))return Promise.reject(ns(t,"operation-not-supported-in-this-environment"));const s=Kd(t);FM(t,e,_0);const a=jS(s,n);return new oo(s,"signInViaPopup",e,a).executeNotNull()}class oo extends LS{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=w0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ns(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ns(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KV.get())};e()}}oo.currentPopupAction=null;const QV="pendingRedirect",Hf=new Map;class WV extends LS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Hf.get(this.auth._key());if(!e){try{const s=await XV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Hf.set(this.auth._key(),e)}return this.bypassAuthState||Hf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XV(t,e){const n=eP(e),s=JV(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function ZV(t,e){Hf.set(t._key(),e)}function JV(t){return lr(t._redirectPersistence)}function eP(t){return qf(QV,t.config.apiKey,t.name)}async function tP(t,e,n=!1){if(Pi(t.app))return Promise.reject(ho(t));const s=Kd(t),a=jS(s,e),u=await new WV(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const nP=600*1e3;class iP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!US(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ns(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nP&&this.cachedEventUids.clear(),this.cachedEventUids.has(qT(e))}saveEventToCache(e){this.cachedEventUids.add(qT(e)),this.lastProcessedEventTime=Date.now()}}function qT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function US({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function sP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return US(t);default:return!1}}async function rP(t,e={}){return zl(t,"GET","/v1/projects",e)}const aP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oP=/^https?/;async function lP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rP(t);for(const n of e)try{if(cP(n))return}catch{}Ds(t,"unauthorized-domain")}function cP(t){const e=uy(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!oP.test(n))return!1;if(aP.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const uP=new Uu(3e4,6e4);function HT(){const t=As().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hP(t){return new Promise((e,n)=>{function s(){HT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HT(),n(ns(t,"network-request-failed"))},timeout:uP.get()})}if(As().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(As().gapi?.load)s();else{const a=pV("iframefcb");return As()[a]=()=>{gapi.load?s():n(ns(t,"network-request-failed"))},dV(`${mV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Gf=null,e})}let Gf=null;function fP(t){return Gf=Gf||hP(t),Gf}const dP=new Uu(5e3,15e3),mP="__/auth/iframe",pP="emulator/auth/iframe",gP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vP(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?p0(e,pP):`https://${t.config.authDomain}/${mP}`,s={apiKey:e.apiKey,appName:t.name,v:To},a=yP.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Lu(s).slice(1)}`}async function bP(t){const e=await fP(t),n=As().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:vP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gP,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=ns(t,"network-request-failed"),f=As().setTimeout(()=>{l(u)},dP.get());function p(){As().clearTimeout(f),a(s)}s.ping(p).then(p,()=>{l(u)})}))}const _P={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wP=500,TP=600,xP="_blank",EP="http://localhost";class GT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SP(t,e,n,s=wP,a=TP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const p={..._P,width:s.toString(),height:a.toString(),top:l,left:u},d=kn().toLowerCase();n&&(f=bS(d)?xP:n),yS(d)&&(e=e||EP,p.scrollbars="yes");const y=Object.entries(p).reduce((T,[C,M])=>`${T}${C}=${M},`,"");if(rV(d)&&f!=="_self")return AP(e||"",f),new GT(null);const v=window.open(e||"",f,y);Pe(v,t,"popup-blocked");try{v.focus()}catch{}return new GT(v)}function AP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const CP="__/auth/handler",RP="emulator/auth/handler",IP=encodeURIComponent("fac");async function $T(t,e,n,s,a,l){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:To,eventId:a};if(e instanceof _0){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",Ak(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof zu){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const p=await t._getAppCheckToken(),d=p?`#${IP}=${encodeURIComponent(p)}`:"";return`${NP(t)}?${Lu(f).slice(1)}${d}`}function NP({config:t}){return t.emulator?p0(t,RP):`https://${t.authDomain}/${CP}`}const Rg="webStorageSupport";class DP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kS,this._completeRedirectFn=tP,this._overrideRedirectResult=ZV}async _openPopup(e,n,s,a){pr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await $T(e,n,s,uy(),a);return SP(e,l,w0())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await $T(e,n,s,uy(),a);return VV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(pr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await bP(e),s=new iP(e);return n.register("authEvent",a=>(Pe(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rg,{type:Rg},a=>{const l=a?.[0]?.[Rg];l!==void 0&&n(!!l),Ds(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ES()||vS()||v0()}}const kP=DP;var KT="@firebase/auth",YT="1.12.0";class MP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function VP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PP(t){go(new da("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=s.options;Pe(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SS(t)},d=new hV(s,a,l,p);return yV(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),go(new da("auth-internal",e=>{const n=Kd(e.getProvider("auth").getImmediate());return(s=>new MP(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ss(KT,YT,VP(t)),Ss(KT,YT,"esm2020")}const OP=300,jP=iS("authIdTokenMaxAge")||OP;let QT=null;const LP=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>jP)return;const a=n?.token;QT!==a&&(QT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function UP(t=f0()){const e=$d(t,"auth");if(e.isInitialized())return e.getImmediate();const n=gV(t,{popupRedirectResolver:kP,persistence:[qV,DV,kS]}),s=iS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=LP(l.toString());AV(n,u,()=>u(n.currentUser)),SV(n,f=>u(f))}}const a=eS("auth");return a&&vV(n,`http://${a}`),n}function zP(){return document.getElementsByTagName("head")?.[0]??document}fV({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=ns("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",zP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PP("Browser");var WT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ua,zS;(function(){var t;function e(I,S){function D(){}D.prototype=S.prototype,I.F=S.prototype,I.prototype=new D,I.prototype.constructor=I,I.D=function(L,P,z){for(var V=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)V[pe-2]=arguments[pe];return S.prototype[P].apply(L,V)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,S,D){D||(D=0);const L=Array(16);if(typeof S=="string")for(var P=0;P<16;++P)L[P]=S.charCodeAt(D++)|S.charCodeAt(D++)<<8|S.charCodeAt(D++)<<16|S.charCodeAt(D++)<<24;else for(P=0;P<16;++P)L[P]=S[D++]|S[D++]<<8|S[D++]<<16|S[D++]<<24;S=I.g[0],D=I.g[1],P=I.g[2];let z=I.g[3],V;V=S+(z^D&(P^z))+L[0]+3614090360&4294967295,S=D+(V<<7&4294967295|V>>>25),V=z+(P^S&(D^P))+L[1]+3905402710&4294967295,z=S+(V<<12&4294967295|V>>>20),V=P+(D^z&(S^D))+L[2]+606105819&4294967295,P=z+(V<<17&4294967295|V>>>15),V=D+(S^P&(z^S))+L[3]+3250441966&4294967295,D=P+(V<<22&4294967295|V>>>10),V=S+(z^D&(P^z))+L[4]+4118548399&4294967295,S=D+(V<<7&4294967295|V>>>25),V=z+(P^S&(D^P))+L[5]+1200080426&4294967295,z=S+(V<<12&4294967295|V>>>20),V=P+(D^z&(S^D))+L[6]+2821735955&4294967295,P=z+(V<<17&4294967295|V>>>15),V=D+(S^P&(z^S))+L[7]+4249261313&4294967295,D=P+(V<<22&4294967295|V>>>10),V=S+(z^D&(P^z))+L[8]+1770035416&4294967295,S=D+(V<<7&4294967295|V>>>25),V=z+(P^S&(D^P))+L[9]+2336552879&4294967295,z=S+(V<<12&4294967295|V>>>20),V=P+(D^z&(S^D))+L[10]+4294925233&4294967295,P=z+(V<<17&4294967295|V>>>15),V=D+(S^P&(z^S))+L[11]+2304563134&4294967295,D=P+(V<<22&4294967295|V>>>10),V=S+(z^D&(P^z))+L[12]+1804603682&4294967295,S=D+(V<<7&4294967295|V>>>25),V=z+(P^S&(D^P))+L[13]+4254626195&4294967295,z=S+(V<<12&4294967295|V>>>20),V=P+(D^z&(S^D))+L[14]+2792965006&4294967295,P=z+(V<<17&4294967295|V>>>15),V=D+(S^P&(z^S))+L[15]+1236535329&4294967295,D=P+(V<<22&4294967295|V>>>10),V=S+(P^z&(D^P))+L[1]+4129170786&4294967295,S=D+(V<<5&4294967295|V>>>27),V=z+(D^P&(S^D))+L[6]+3225465664&4294967295,z=S+(V<<9&4294967295|V>>>23),V=P+(S^D&(z^S))+L[11]+643717713&4294967295,P=z+(V<<14&4294967295|V>>>18),V=D+(z^S&(P^z))+L[0]+3921069994&4294967295,D=P+(V<<20&4294967295|V>>>12),V=S+(P^z&(D^P))+L[5]+3593408605&4294967295,S=D+(V<<5&4294967295|V>>>27),V=z+(D^P&(S^D))+L[10]+38016083&4294967295,z=S+(V<<9&4294967295|V>>>23),V=P+(S^D&(z^S))+L[15]+3634488961&4294967295,P=z+(V<<14&4294967295|V>>>18),V=D+(z^S&(P^z))+L[4]+3889429448&4294967295,D=P+(V<<20&4294967295|V>>>12),V=S+(P^z&(D^P))+L[9]+568446438&4294967295,S=D+(V<<5&4294967295|V>>>27),V=z+(D^P&(S^D))+L[14]+3275163606&4294967295,z=S+(V<<9&4294967295|V>>>23),V=P+(S^D&(z^S))+L[3]+4107603335&4294967295,P=z+(V<<14&4294967295|V>>>18),V=D+(z^S&(P^z))+L[8]+1163531501&4294967295,D=P+(V<<20&4294967295|V>>>12),V=S+(P^z&(D^P))+L[13]+2850285829&4294967295,S=D+(V<<5&4294967295|V>>>27),V=z+(D^P&(S^D))+L[2]+4243563512&4294967295,z=S+(V<<9&4294967295|V>>>23),V=P+(S^D&(z^S))+L[7]+1735328473&4294967295,P=z+(V<<14&4294967295|V>>>18),V=D+(z^S&(P^z))+L[12]+2368359562&4294967295,D=P+(V<<20&4294967295|V>>>12),V=S+(D^P^z)+L[5]+4294588738&4294967295,S=D+(V<<4&4294967295|V>>>28),V=z+(S^D^P)+L[8]+2272392833&4294967295,z=S+(V<<11&4294967295|V>>>21),V=P+(z^S^D)+L[11]+1839030562&4294967295,P=z+(V<<16&4294967295|V>>>16),V=D+(P^z^S)+L[14]+4259657740&4294967295,D=P+(V<<23&4294967295|V>>>9),V=S+(D^P^z)+L[1]+2763975236&4294967295,S=D+(V<<4&4294967295|V>>>28),V=z+(S^D^P)+L[4]+1272893353&4294967295,z=S+(V<<11&4294967295|V>>>21),V=P+(z^S^D)+L[7]+4139469664&4294967295,P=z+(V<<16&4294967295|V>>>16),V=D+(P^z^S)+L[10]+3200236656&4294967295,D=P+(V<<23&4294967295|V>>>9),V=S+(D^P^z)+L[13]+681279174&4294967295,S=D+(V<<4&4294967295|V>>>28),V=z+(S^D^P)+L[0]+3936430074&4294967295,z=S+(V<<11&4294967295|V>>>21),V=P+(z^S^D)+L[3]+3572445317&4294967295,P=z+(V<<16&4294967295|V>>>16),V=D+(P^z^S)+L[6]+76029189&4294967295,D=P+(V<<23&4294967295|V>>>9),V=S+(D^P^z)+L[9]+3654602809&4294967295,S=D+(V<<4&4294967295|V>>>28),V=z+(S^D^P)+L[12]+3873151461&4294967295,z=S+(V<<11&4294967295|V>>>21),V=P+(z^S^D)+L[15]+530742520&4294967295,P=z+(V<<16&4294967295|V>>>16),V=D+(P^z^S)+L[2]+3299628645&4294967295,D=P+(V<<23&4294967295|V>>>9),V=S+(P^(D|~z))+L[0]+4096336452&4294967295,S=D+(V<<6&4294967295|V>>>26),V=z+(D^(S|~P))+L[7]+1126891415&4294967295,z=S+(V<<10&4294967295|V>>>22),V=P+(S^(z|~D))+L[14]+2878612391&4294967295,P=z+(V<<15&4294967295|V>>>17),V=D+(z^(P|~S))+L[5]+4237533241&4294967295,D=P+(V<<21&4294967295|V>>>11),V=S+(P^(D|~z))+L[12]+1700485571&4294967295,S=D+(V<<6&4294967295|V>>>26),V=z+(D^(S|~P))+L[3]+2399980690&4294967295,z=S+(V<<10&4294967295|V>>>22),V=P+(S^(z|~D))+L[10]+4293915773&4294967295,P=z+(V<<15&4294967295|V>>>17),V=D+(z^(P|~S))+L[1]+2240044497&4294967295,D=P+(V<<21&4294967295|V>>>11),V=S+(P^(D|~z))+L[8]+1873313359&4294967295,S=D+(V<<6&4294967295|V>>>26),V=z+(D^(S|~P))+L[15]+4264355552&4294967295,z=S+(V<<10&4294967295|V>>>22),V=P+(S^(z|~D))+L[6]+2734768916&4294967295,P=z+(V<<15&4294967295|V>>>17),V=D+(z^(P|~S))+L[13]+1309151649&4294967295,D=P+(V<<21&4294967295|V>>>11),V=S+(P^(D|~z))+L[4]+4149444226&4294967295,S=D+(V<<6&4294967295|V>>>26),V=z+(D^(S|~P))+L[11]+3174756917&4294967295,z=S+(V<<10&4294967295|V>>>22),V=P+(S^(z|~D))+L[2]+718787259&4294967295,P=z+(V<<15&4294967295|V>>>17),V=D+(z^(P|~S))+L[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(P+(V<<21&4294967295|V>>>11))&4294967295,I.g[2]=I.g[2]+P&4294967295,I.g[3]=I.g[3]+z&4294967295}s.prototype.v=function(I,S){S===void 0&&(S=I.length);const D=S-this.blockSize,L=this.C;let P=this.h,z=0;for(;z<S;){if(P==0)for(;z<=D;)a(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<S;)if(L[P++]=I.charCodeAt(z++),P==this.blockSize){a(this,L),P=0;break}}else for(;z<S;)if(L[P++]=I[z++],P==this.blockSize){a(this,L),P=0;break}}this.h=P,this.o+=S},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var D=I.length-8;D<I.length;++D)I[D]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,D=0;D<4;++D)for(let L=0;L<32;L+=8)I[S++]=this.g[D]>>>L&255;return I};function l(I,S){var D=f;return Object.prototype.hasOwnProperty.call(D,I)?D[I]:D[I]=S(I)}function u(I,S){this.h=S;const D=[];let L=!0;for(let P=I.length-1;P>=0;P--){const z=I[P]|0;L&&z==S||(D[P]=z,L=!1)}this.g=D}var f={};function p(I){return-128<=I&&I<128?l(I,function(S){return new u([S|0],S<0?-1:0)}):new u([I|0],I<0?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return v;if(I<0)return N(d(-I));const S=[];let D=1;for(let L=0;I>=D;L++)S[L]=I/D|0,D*=4294967296;return new u(S,0)}function y(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return N(y(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=d(Math.pow(S,8));let L=v;for(let z=0;z<I.length;z+=8){var P=Math.min(8,I.length-z);const V=parseInt(I.substring(z,z+P),S);P<8?(P=d(Math.pow(S,P)),L=L.j(P).add(d(V))):(L=L.j(D),L=L.add(d(V)))}return L}var v=p(0),T=p(1),C=p(16777216);t=u.prototype,t.m=function(){if(O(this))return-N(this).m();let I=0,S=1;for(let D=0;D<this.g.length;D++){const L=this.i(D);I+=(L>=0?L:4294967296+L)*S,S*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(M(this))return"0";if(O(this))return"-"+N(this).toString(I);const S=d(Math.pow(I,6));var D=this;let L="";for(;;){const P=Y(D,S).g;D=H(D,P.j(S));let z=((D.g.length>0?D.g[0]:D.h)>>>0).toString(I);if(D=P,M(D))return z+L;for(;z.length<6;)z="0"+z;L=z+L}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function M(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function O(I){return I.h==-1}t.l=function(I){return I=H(this,I),O(I)?-1:M(I)?0:1};function N(I){const S=I.g.length,D=[];for(let L=0;L<S;L++)D[L]=~I.g[L];return new u(D,~I.h).add(T)}t.abs=function(){return O(this)?N(this):this},t.add=function(I){const S=Math.max(this.g.length,I.g.length),D=[];let L=0;for(let P=0;P<=S;P++){let z=L+(this.i(P)&65535)+(I.i(P)&65535),V=(z>>>16)+(this.i(P)>>>16)+(I.i(P)>>>16);L=V>>>16,z&=65535,V&=65535,D[P]=V<<16|z}return new u(D,D[D.length-1]&-2147483648?-1:0)};function H(I,S){return I.add(N(S))}t.j=function(I){if(M(this)||M(I))return v;if(O(this))return O(I)?N(this).j(N(I)):N(N(this).j(I));if(O(I))return N(this.j(N(I)));if(this.l(C)<0&&I.l(C)<0)return d(this.m()*I.m());const S=this.g.length+I.g.length,D=[];for(var L=0;L<2*S;L++)D[L]=0;for(L=0;L<this.g.length;L++)for(let P=0;P<I.g.length;P++){const z=this.i(L)>>>16,V=this.i(L)&65535,pe=I.i(P)>>>16,ye=I.i(P)&65535;D[2*L+2*P]+=V*ye,W(D,2*L+2*P),D[2*L+2*P+1]+=z*ye,W(D,2*L+2*P+1),D[2*L+2*P+1]+=V*pe,W(D,2*L+2*P+1),D[2*L+2*P+2]+=z*pe,W(D,2*L+2*P+2)}for(I=0;I<S;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=S;I<2*S;I++)D[I]=0;return new u(D,0)};function W(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function Q(I,S){this.g=I,this.h=S}function Y(I,S){if(M(S))throw Error("division by zero");if(M(I))return new Q(v,v);if(O(I))return S=Y(N(I),S),new Q(N(S.g),N(S.h));if(O(S))return S=Y(I,N(S)),new Q(N(S.g),S.h);if(I.g.length>30){if(O(I)||O(S))throw Error("slowDivide_ only works with positive integers.");for(var D=T,L=S;L.l(I)<=0;)D=re(D),L=re(L);var P=ce(D,1),z=ce(L,1);for(L=ce(L,2),D=ce(D,2);!M(L);){var V=z.add(L);V.l(I)<=0&&(P=P.add(D),z=V),L=ce(L,1),D=ce(D,1)}return S=H(I,P.j(S)),new Q(P,S)}for(P=v;I.l(S)>=0;){for(D=Math.max(1,Math.floor(I.m()/S.m())),L=Math.ceil(Math.log(D)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),z=d(D),V=z.j(S);O(V)||V.l(I)>0;)D-=L,z=d(D),V=z.j(S);M(z)&&(z=T),P=P.add(z),I=H(I,V)}return new Q(P,I)}t.B=function(I){return Y(this,I).h},t.and=function(I){const S=Math.max(this.g.length,I.g.length),D=[];for(let L=0;L<S;L++)D[L]=this.i(L)&I.i(L);return new u(D,this.h&I.h)},t.or=function(I){const S=Math.max(this.g.length,I.g.length),D=[];for(let L=0;L<S;L++)D[L]=this.i(L)|I.i(L);return new u(D,this.h|I.h)},t.xor=function(I){const S=Math.max(this.g.length,I.g.length),D=[];for(let L=0;L<S;L++)D[L]=this.i(L)^I.i(L);return new u(D,this.h^I.h)};function re(I){const S=I.g.length+1,D=[];for(let L=0;L<S;L++)D[L]=I.i(L)<<1|I.i(L-1)>>>31;return new u(D,I.h)}function ce(I,S){const D=S>>5;S%=32;const L=I.g.length-D,P=[];for(let z=0;z<L;z++)P[z]=S>0?I.i(z+D)>>>S|I.i(z+D+1)<<32-S:I.i(z+D);return new u(P,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,zS=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=y,ua=u}).apply(typeof WT<"u"?WT:typeof self<"u"?self:typeof window<"u"?window:{});var Cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var BS,iu,FS,$f,dy,qS,HS,GS;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cf=="object"&&Cf];for(var _=0;_<h.length;++_){var x=h[_];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var s=n(this);function a(h,_){if(_)e:{var x=s;h=h.split(".");for(var R=0;R<h.length-1;R++){var X=h[R];if(!(X in x))break e;x=x[X]}h=h[h.length-1],R=x[h],_=_(R),_!=R&&_!=null&&e(x,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var x=[],R;for(R in _)Object.prototype.hasOwnProperty.call(_,R)&&x.push([R,_[R]]);return x}});var l=l||{},u=this||self;function f(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function p(h,_,x){return h.call.apply(h.bind,arguments)}function d(h,_,x){return d=p,d.apply(null,arguments)}function y(h,_){var x=Array.prototype.slice.call(arguments,1);return function(){var R=x.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function v(h,_){function x(){}x.prototype=_.prototype,h.Z=_.prototype,h.prototype=new x,h.prototype.constructor=h,h.Ob=function(R,X,ie){for(var be=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)be[Ue-2]=arguments[Ue];return _.prototype[X].apply(R,be)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const _=h.length;if(_>0){const x=Array(_);for(let R=0;R<_;R++)x[R]=h[R];return x}return[]}function M(h,_){for(let R=1;R<arguments.length;R++){const X=arguments[R];var x=typeof X;if(x=x!="object"?x:X?Array.isArray(X)?"array":x:"null",x=="array"||x=="object"&&typeof X.length=="number"){x=h.length||0;const ie=X.length||0;h.length=x+ie;for(let be=0;be<ie;be++)h[x+be]=X[be]}else h.push(X)}}class O{constructor(_,x){this.i=_,this.j=x,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function N(h){u.setTimeout(()=>{throw h},0)}function H(){var h=I;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class W{constructor(){this.h=this.g=null}add(_,x){const R=Q.get();R.set(_,x),this.h?this.h.next=R:this.g=R,this.h=R}}var Q=new O(()=>new Y,h=>h.reset());class Y{constructor(){this.next=this.g=this.h=null}set(_,x){this.h=_,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let re,ce=!1,I=new W,S=()=>{const h=Promise.resolve(void 0);re=()=>{h.then(D)}};function D(){for(var h;h=H();){try{h.h.call(h.g)}catch(x){N(x)}var _=Q;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}ce=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const x=()=>{};u.addEventListener("test",x,_),u.removeEventListener("test",x,_)}catch{}return h})();function V(h){return/^[\s\xa0]*$/.test(h)}function pe(h,_){P.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}v(pe,P),pe.prototype.init=function(h,_){const x=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(x=="mouseover"?_=h.fromElement:x=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),U=0;function Z(h,_,x,R,X){this.listener=h,this.proxy=null,this.src=_,this.type=x,this.capture=!!R,this.ha=X,this.key=++U,this.da=this.fa=!1}function q(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function me(h,_,x){for(const R in h)_.call(x,h[R],R,h)}function B(h,_){for(const x in h)_.call(void 0,h[x],x,h)}function E(h){const _={};for(const x in h)_[x]=h[x];return _}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(h,_){let x,R;for(let X=1;X<arguments.length;X++){R=arguments[X];for(x in R)h[x]=R[x];for(let ie=0;ie<K.length;ie++)x=K[ie],Object.prototype.hasOwnProperty.call(R,x)&&(h[x]=R[x])}}function oe(h){this.src=h,this.g={},this.h=0}oe.prototype.add=function(h,_,x,R,X){const ie=h.toString();h=this.g[ie],h||(h=this.g[ie]=[],this.h++);const be=ve(h,_,R,X);return be>-1?(_=h[be],x||(_.fa=!1)):(_=new Z(_,this.src,ie,!!R,X),_.fa=x,h.push(_)),_};function ge(h,_){const x=_.type;if(x in h.g){var R=h.g[x],X=Array.prototype.indexOf.call(R,_,void 0),ie;(ie=X>=0)&&Array.prototype.splice.call(R,X,1),ie&&(q(_),h.g[x].length==0&&(delete h.g[x],h.h--))}}function ve(h,_,x,R){for(let X=0;X<h.length;++X){const ie=h[X];if(!ie.da&&ie.listener==_&&ie.capture==!!x&&ie.ha==R)return X}return-1}var fe="closure_lm_"+(Math.random()*1e6|0),Ee={};function Ie(h,_,x,R,X){if(Array.isArray(_)){for(let ie=0;ie<_.length;ie++)Ie(h,_[ie],x,R,X);return null}return x=gn(x),h&&h[ye]?h.J(_,x,f(R)?!!R.capture:!1,X):Ge(h,_,x,!1,R,X)}function Ge(h,_,x,R,X,ie){if(!_)throw Error("Invalid event type");const be=f(X)?!!X.capture:!!X;let Ue=zt(h);if(Ue||(h[fe]=Ue=new oe(h)),x=Ue.add(_,x,R,be,ie),x.proxy)return x;if(R=qe(),x.proxy=R,R.src=h,R.listener=x,h.addEventListener)z||(X=be),X===void 0&&(X=!1),h.addEventListener(_.toString(),R,X);else if(h.attachEvent)h.attachEvent(Ve(_.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return x}function qe(){function h(x){return _.call(h.src,h.listener,x)}const _=ut;return h}function $e(h,_,x,R,X){if(Array.isArray(_))for(var ie=0;ie<_.length;ie++)$e(h,_[ie],x,R,X);else R=f(R)?!!R.capture:!!R,x=gn(x),h&&h[ye]?(h=h.i,ie=String(_).toString(),ie in h.g&&(_=h.g[ie],x=ve(_,x,R,X),x>-1&&(q(_[x]),Array.prototype.splice.call(_,x,1),_.length==0&&(delete h.g[ie],h.h--)))):h&&(h=zt(h))&&(_=h.g[_.toString()],h=-1,_&&(h=ve(_,x,R,X)),(x=h>-1?_[h]:null)&&Tt(x))}function Tt(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[ye])ge(_.i,h);else{var x=h.type,R=h.proxy;_.removeEventListener?_.removeEventListener(x,R,h.capture):_.detachEvent?_.detachEvent(Ve(x),R):_.addListener&&_.removeListener&&_.removeListener(R),(x=zt(_))?(ge(x,h),x.h==0&&(x.src=null,_[fe]=null)):q(h)}}}function Ve(h){return h in Ee?Ee[h]:Ee[h]="on"+h}function ut(h,_){if(h.da)h=!0;else{_=new pe(_,this);const x=h.listener,R=h.ha||h.src;h.fa&&Tt(h),h=x.call(R,_)}return h}function zt(h){return h=h[fe],h instanceof oe?h:null}var Bt="__closure_events_fn_"+(Math.random()*1e9>>>0);function gn(h){return typeof h=="function"?h:(h[Bt]||(h[Bt]=function(_){return h.handleEvent(_)}),h[Bt])}function ht(){L.call(this),this.i=new oe(this),this.M=this,this.G=null}v(ht,L),ht.prototype[ye]=!0,ht.prototype.removeEventListener=function(h,_,x,R){$e(this,h,_,x,R)};function et(h,_){var x,R=h.G;if(R)for(x=[];R;R=R.G)x.push(R);if(h=h.M,R=_.type||_,typeof _=="string")_=new P(_,h);else if(_ instanceof P)_.target=_.target||h;else{var X=_;_=new P(R,h),ne(_,X)}X=!0;let ie,be;if(x)for(be=x.length-1;be>=0;be--)ie=_.g=x[be],X=pi(ie,R,!0,_)&&X;if(ie=_.g=h,X=pi(ie,R,!0,_)&&X,X=pi(ie,R,!1,_)&&X,x)for(be=0;be<x.length;be++)ie=_.g=x[be],X=pi(ie,R,!1,_)&&X}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const x=h.g[_];for(let R=0;R<x.length;R++)q(x[R]);delete h.g[_],h.h--}}this.G=null},ht.prototype.J=function(h,_,x,R){return this.i.add(String(h),_,!1,x,R)},ht.prototype.K=function(h,_,x,R){return this.i.add(String(h),_,!0,x,R)};function pi(h,_,x,R){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let X=!0;for(let ie=0;ie<_.length;++ie){const be=_[ie];if(be&&!be.da&&be.capture==x){const Ue=be.listener,Ft=be.ha||be.src;be.fa&&ge(h.i,be),X=Ue.call(Ft,R)!==!1&&X}}return X&&!R.defaultPrevented}function Ca(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=d(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function br(h){h.g=Ca(()=>{h.g=null,h.i&&(h.i=!1,br(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Kt extends L{constructor(_,x){super(),this.m=_,this.l=x,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:br(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function En(h){L.call(this),this.h=h,this.g={}}v(En,L);var Mn=[];function Bn(h){me(h.g,function(_,x){this.g.hasOwnProperty(x)&&Tt(_)},h),h.g={}}En.prototype.N=function(){En.Z.N.call(this),Bn(this)},En.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sn=u.JSON.stringify,Ls=u.JSON.parse,as=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function os(){}function Bi(){}var st={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function kt(){P.call(this,"d")}v(kt,P);function Vn(){P.call(this,"c")}v(Vn,P);var xt={},Us=null;function gi(){return Us=Us||new ht}xt.Ia="serverreachability";function Ra(h){P.call(this,xt.Ia,h)}v(Ra,P);function Jn(h){const _=gi();et(_,new Ra(_))}xt.STAT_EVENT="statevent";function yi(h,_){P.call(this,xt.STAT_EVENT,h),this.stat=_}v(yi,P);function Ot(h){const _=gi();et(_,new yi(_,h))}xt.Ja="timingevent";function ei(h,_){P.call(this,xt.Ja,h),this.size=_}v(ei,P);function vi(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function Ia(h,_,x,R,X,ie){h.info(function(){if(h.g)if(ie){var be="",Ue=ie.split("&");for(let ot=0;ot<Ue.length;ot++){var Ft=Ue[ot].split("=");if(Ft.length>1){const It=Ft[0];Ft=Ft[1];const Ei=It.split("_");be=Ei.length>=2&&Ei[1]=="type"?be+(It+"="+Ft+"&"):be+(It+"=redacted&")}}}else be=null;else be=ie;return"XMLHTTP REQ ("+R+") [attempt "+X+"]: "+_+`
`+x+`
`+be})}function _r(h,_,x,R,X,ie,be){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+X+"]: "+_+`
`+x+`
`+ie+" "+be})}function bi(h,_,x,R){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Xl(h,x)+(R?" "+R:"")})}function zs(h,_){h.info(function(){return"TIMEOUT: "+_})}Fn.prototype.info=function(){};function Xl(h,_){if(!h.g)return _;if(!_)return null;try{const ie=JSON.parse(_);if(ie){for(h=0;h<ie.length;h++)if(Array.isArray(ie[h])){var x=ie[h];if(!(x.length<2)){var R=x[1];if(Array.isArray(R)&&!(R.length<1)){var X=R[0];if(X!="noop"&&X!="stop"&&X!="close")for(let be=1;be<R.length;be++)R[be]=""}}}}return Sn(ie)}catch{return _}}var ls={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Na={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Da;function wr(){}v(wr,os),wr.prototype.g=function(){return new XMLHttpRequest},Da=new wr;function _i(h){return encodeURIComponent(String(h))}function Tr(h){var _=1;h=h.split(":");const x=[];for(;_>0&&h.length;)x.push(h.shift()),_--;return h.length&&x.push(h.join(":")),x}function Pn(h,_,x,R){this.j=h,this.i=_,this.l=x,this.S=R||1,this.V=new En(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ti}function ti(){this.i=null,this.g="",this.h=!1}var $={},we={};function ft(h,_,x){h.M=1,h.A=ka(Wt(_)),h.u=x,h.R=!0,Rt(h,null)}function Rt(h,_){h.F=Date.now(),ni(h),h.B=Wt(h.A);var x=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),Ro(x.i,"t",R),h.C=0,x=h.j.L,h.h=new ti,h.g=yh(h.j,x?_:null,!h.u),h.P>0&&(h.O=new Kt(d(h.Y,h,h.g),h.P)),_=h.V,x=h.g,R=h.ba;var X="readystatechange";Array.isArray(X)||(X&&(Mn[0]=X.toString()),X=Mn);for(let ie=0;ie<X.length;ie++){const be=Ie(x,X[ie],R||_.handleEvent,!1,_.h||_);if(!be)break;_.g[be.key]=be}_=h.J?E(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Jn(),Ia(h.i,h.v,h.B,h.l,h.S,h.u)}Pn.prototype.ba=function(h){h=h.target;const _=this.O;_&&Gi(h)==3?_.j():this.Y(h)},Pn.prototype.Y=function(h){try{if(h==this.g)e:{const Ue=Gi(this.g),Ft=this.g.ya(),ot=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||yn(this.g)))){this.K||Ue!=4||Ft==7||(Ft==8||ot<=0?Jn(3):Jn(2)),cs(this);var _=this.g.ca();this.X=_;var x=Yt(this);if(this.o=_==200,_r(this.i,this.v,this.B,this.l,this.S,Ue,_),this.o){if(this.U&&!this.L){t:{if(this.g){var R,X=this.g;if((R=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(R)){var ie=R;break t}}ie=null}if(h=ie)bi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,us(this,h);else{this.o=!1,this.m=3,Ot(12),ii(this),wi(this);break e}}if(this.R){h=!0;let It;for(;!this.K&&this.C<x.length;)if(It=Fi(this,x),It==we){Ue==4&&(this.m=4,Ot(14),h=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(It==$){this.m=4,Ot(15),bi(this.i,this.l,x,"[Invalid Chunk]"),h=!1;break}else bi(this.i,this.l,It,null),us(this,It);if(An(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||x.length!=0||this.h.h||(this.m=1,Ot(16),h=!1),this.o=this.o&&h,!h)bi(this.i,this.l,x,"[Invalid Chunked Response]"),ii(this),wi(this);else if(x.length>0&&!this.W){this.W=!0;var be=this.j;be.g==this&&be.aa&&!be.P&&(be.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),fc(be),be.P=!0,Ot(11))}}else bi(this.i,this.l,x,null),us(this,x);Ue==4&&ii(this),this.o&&!this.K&&(Ue==4?dh(this.j,this):(this.o=!1,ni(this)))}else Fs(this.g),_==400&&x.indexOf("Unknown SID")>0?(this.m=3,Ot(12)):(this.m=0,Ot(13)),ii(this),wi(this)}}}catch{}};function Yt(h){if(!An(h))return h.g.la();const _=yn(h.g);if(_==="")return"";let x="";const R=_.length,X=Gi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return ii(h),wi(h),"";h.h.i=new u.TextDecoder}for(let ie=0;ie<R;ie++)h.h.h=!0,x+=h.h.i.decode(_[ie],{stream:!(X&&ie==R-1)});return _.length=0,h.h.g+=x,h.C=0,h.h.g}function An(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Fi(h,_){var x=h.C,R=_.indexOf(`
`,x);return R==-1?we:(x=Number(_.substring(x,R)),isNaN(x)?$:(R+=1,R+x>_.length?we:(_=_.slice(R,R+x),h.C=R+x,_)))}Pn.prototype.cancel=function(){this.K=!0,ii(this)};function ni(h){h.T=Date.now()+h.H,So(h,h.H)}function So(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=vi(d(h.aa,h),_)}function cs(h){h.D&&(u.clearTimeout(h.D),h.D=null)}Pn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(zs(this.i,this.B),this.M!=2&&(Jn(),Ot(17)),ii(this),this.m=2,wi(this)):So(this,this.T-h)};function wi(h){h.j.I==0||h.K||dh(h.j,h)}function ii(h){cs(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Bn(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function us(h,_){try{var x=h.j;if(x.I!=0&&(x.g==h||fs(x.h,h))){if(!h.L&&fs(x.h,h)&&x.I==3){try{var R=x.Ba.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var X=R;if(X[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<h.F)Mo(x),Nr(x);else break e;Ua(x),Ot(18)}}else x.xa=X[1],0<x.xa-x.K&&X[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=vi(d(x.Va,x),6e3));hs(x.h)<=1&&x.ta&&(x.ta=void 0)}else vs(x,11)}else if((h.L||x.g==h)&&Mo(x),!V(_))for(X=x.Ba.g.parse(_),_=0;_<X.length;_++){let ot=X[_];const It=ot[0];if(!(It<=x.K))if(x.K=It,ot=ot[1],x.I==2)if(ot[0]=="c"){x.M=ot[1],x.ba=ot[2];const Ei=ot[3];Ei!=null&&(x.ka=Ei,x.j.info("VER="+x.ka));const bs=ot[4];bs!=null&&(x.za=bs,x.j.info("SVER="+x.za));const $i=ot[5];$i!=null&&typeof $i=="number"&&$i>0&&(R=1.5*$i,x.O=R,x.j.info("backChannelRequestTimeoutMs_="+R)),R=x;const Ki=h.g;if(Ki){const za=Ki.g?Ki.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(za){var ie=R.h;ie.g||za.indexOf("spdy")==-1&&za.indexOf("quic")==-1&&za.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(ec(ie,ie.h),ie.h=null))}if(R.G){const Vo=Ki.g?Ki.g.getResponseHeader("X-HTTP-Session-Id"):null;Vo&&(R.wa=Vo,mt(R.J,R.G,Vo))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-h.F,x.j.info("Handshake RTT: "+x.T+"ms")),R=x;var be=h;if(R.na=gh(R,R.L?R.ba:null,R.W),be.L){tc(R.h,be);var Ue=be,Ft=R.O;Ft&&(Ue.H=Ft),Ue.D&&(cs(Ue),ni(Ue)),R.g=be}else hh(R);x.i.length>0&&ys(x)}else ot[0]!="stop"&&ot[0]!="close"||vs(x,7);else x.I==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?vs(x,7):uc(x):ot[0]!="noop"&&x.l&&x.l.qa(ot),x.A=0)}}Jn(4)}catch{}}var Qt=class{constructor(h,_){this.g=h,this.map=_}};function Zl(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function hs(h){return h.h?1:h.g?h.g.size:0}function fs(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function ec(h,_){h.g?h.g.add(_):h.h=_}function tc(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Zl.prototype.cancel=function(){if(this.i=nc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function nc(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const x of h.g.values())_=_.concat(x.G);return _}return C(h.i)}var rh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ao(h,_){if(h){h=h.split("&");for(let x=0;x<h.length;x++){const R=h[x].indexOf("=");let X,ie=null;R>=0?(X=h[x].substring(0,R),ie=h[x].substring(R+1)):X=h[x],_(X,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function si(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof si?(this.l=h.l,hn(this,h.j),this.o=h.o,this.g=h.g,xr(this,h.u),this.h=h.h,ic(this,ch(h.i)),this.m=h.m):h&&(_=String(h).match(rh))?(this.l=!1,hn(this,_[1]||"",!0),this.o=ds(_[2]||""),this.g=ds(_[3]||"",!0),xr(this,_[4]),this.h=ds(_[5]||"",!0),ic(this,_[6]||"",!0),this.m=ds(_[7]||"")):(this.l=!1,this.i=new Sr(null,this.l))}si.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Ma(_,Co,!0),":");var x=this.g;return(x||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Ma(_,Co,!0),"@"),h.push(_i(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&h.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&h.push("/"),h.push(Ma(x,x.charAt(0)=="/"?sc:ah,!0))),(x=this.i.toString())&&h.push("?",x),(x=this.m)&&h.push("#",Ma(x,oh)),h.join("")},si.prototype.resolve=function(h){const _=Wt(this);let x=!!h.j;x?hn(_,h.j):x=!!h.o,x?_.o=h.o:x=!!h.g,x?_.g=h.g:x=h.u!=null;var R=h.h;if(x)xr(_,h.u);else if(x=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var X=_.h.lastIndexOf("/");X!=-1&&(R=_.h.slice(0,X+1)+R)}if(X=R,X==".."||X==".")R="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){R=X.lastIndexOf("/",0)==0,X=X.split("/");const ie=[];for(let be=0;be<X.length;){const Ue=X[be++];Ue=="."?R&&be==X.length&&ie.push(""):Ue==".."?((ie.length>1||ie.length==1&&ie[0]!="")&&ie.pop(),R&&be==X.length&&ie.push("")):(ie.push(Ue),R=!0)}R=ie.join("/")}else R=X}return x?_.h=R:x=h.i.toString()!=="",x?ic(_,ch(h.i)):x=!!h.m,x&&(_.m=h.m),_};function Wt(h){return new si(h)}function hn(h,_,x){h.j=x?ds(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function xr(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function ic(h,_,x){_ instanceof Sr?(h.i=_,Io(h.i,h.l)):(x||(_=Ma(_,Er)),h.i=new Sr(_,h.l))}function mt(h,_,x){h.i.set(_,x)}function ka(h){return mt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ds(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ma(h,_,x){return typeof h=="string"?(h=encodeURI(h).replace(_,qn),x&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function qn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Co=/[#\/\?@]/g,ah=/[#\?:]/g,sc=/[#\?]/g,Er=/[#\?@]/g,oh=/#/g;function Sr(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Hn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ao(h.i,function(_,x){h.add(decodeURIComponent(_.replace(/\+/g," ")),x)}))}t=Sr.prototype,t.add=function(h,_){Hn(this),this.i=null,h=Ar(this,h);let x=this.g.get(h);return x||this.g.set(h,x=[]),x.push(_),this.h+=1,this};function lh(h,_){Hn(h),_=Ar(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function rc(h,_){return Hn(h),_=Ar(h,_),h.g.has(_)}t.forEach=function(h,_){Hn(this),this.g.forEach(function(x,R){x.forEach(function(X){h.call(_,X,R,this)},this)},this)};function ac(h,_){Hn(h);let x=[];if(typeof _=="string")rc(h,_)&&(x=x.concat(h.g.get(Ar(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)x=x.concat(h[_]);return x}t.set=function(h,_){return Hn(this),this.i=null,h=Ar(this,h),rc(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=ac(this,h),h.length>0?String(h[0]):_):_};function Ro(h,_,x){lh(h,_),x.length>0&&(h.i=null,h.g.set(Ar(h,_),C(x)),h.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let R=0;R<_.length;R++){var x=_[R];const X=_i(x);x=ac(this,x);for(let ie=0;ie<x.length;ie++){let be=X;x[ie]!==""&&(be+="="+_i(x[ie])),h.push(be)}}return this.i=h.join("&")};function ch(h){const _=new Sr;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Ar(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Io(h,_){_&&!h.j&&(Hn(h),h.i=null,h.g.forEach(function(x,R){const X=R.toLowerCase();R!=X&&(lh(this,R),Ro(this,X,x))},h)),h.j=_}function qi(h,_){const x=new Fn;if(u.Image){const R=new Image;R.onload=y(Ti,x,"TestLoadImage: loaded",!0,_,R),R.onerror=y(Ti,x,"TestLoadImage: error",!1,_,R),R.onabort=y(Ti,x,"TestLoadImage: abort",!1,_,R),R.ontimeout=y(Ti,x,"TestLoadImage: timeout",!1,_,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else _(!1)}function oc(h,_){const x=new Fn,R=new AbortController,X=setTimeout(()=>{R.abort(),Ti(x,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:R.signal}).then(ie=>{clearTimeout(X),ie.ok?Ti(x,"TestPingServer: ok",!0,_):Ti(x,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(X),Ti(x,"TestPingServer: error",!1,_)})}function Ti(h,_,x,R,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),R(x)}catch{}}function Cr(){this.g=new as}function ms(h){this.i=h.Sb||null,this.h=h.ab||!1}v(ms,os),ms.prototype.g=function(){return new Va(this.i,this.h)};function Va(h,_){ht.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Va,ht),t=Va.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,Hi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Hi(this)),this.g&&(this.readyState=3,Hi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;No(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function No(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Rr(this):Hi(this),this.readyState==3&&No(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Rr(this))},t.Na=function(h){this.g&&(this.response=h,Rr(this))},t.ga=function(){this.g&&Rr(this)};function Rr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Hi(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var x=_.next();!x.done;)x=x.value,h.push(x[0]+": "+x[1]),x=_.next();return h.join(`\r
`)};function Hi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Va.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function xi(h){let _="";return me(h,function(x,R){_+=R,_+=":",_+=x,_+=`\r
`}),_}function Pa(h,_,x){e:{for(R in x){var R=!1;break e}R=!0}R||(x=xi(x),typeof h=="string"?x!=null&&_i(x):mt(h,_,x))}function yt(h){ht.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(yt,ht);var ps=/^https?$/i,lc=["POST","PUT"];t=yt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,x,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Da.g(),this.g.onreadystatechange=T(d(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(ie){Oa(this,ie);return}if(h=x||"",x=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var X in R)x.set(X,R[X]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const ie of R.keys())x.set(ie,R.get(ie));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(x.keys()).find(ie=>ie.toLowerCase()=="content-type"),X=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(lc,_,void 0)>=0)||R||X||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,be]of x)this.g.setRequestHeader(ie,be);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(ie){Oa(this,ie)}};function Oa(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,cc(h),Bs(h)}function cc(h){h.A||(h.A=!0,et(h,"complete"),et(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,et(this,"complete"),et(this,"abort"),Bs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bs(this,!0)),yt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ja(this):this.Xa())},t.Xa=function(){ja(this)};function ja(h){if(h.h&&typeof l<"u"){if(h.v&&Gi(h)==4)setTimeout(h.Ca.bind(h),0);else if(et(h,"readystatechange"),Gi(h)==4){h.h=!1;try{const ie=h.ca();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var x;if(!(x=_)){var R;if(R=ie===0){let be=String(h.D).match(rh)[1]||null;!be&&u.self&&u.self.location&&(be=u.self.location.protocol.slice(0,-1)),R=!ps.test(be?be.toLowerCase():"")}x=R}if(x)et(h,"complete"),et(h,"success");else{h.o=6;try{var X=Gi(h)>2?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.ca()+"]",cc(h)}}finally{Bs(h)}}}}function Bs(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const x=h.g;h.g=null,_||et(h,"ready");try{x.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Gi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Gi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Ls(_)}};function yn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Fs(h){const _={};h=(h.g&&Gi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(V(h[R]))continue;var x=Tr(h[R]);const X=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const ie=_[X]||[];_[X]=ie,ie.push(x)}B(_,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gs(h,_,x){return x&&x.internalChannelParams&&x.internalChannelParams[h]||_}function Ir(h){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gs("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gs("baseRetryDelayMs",5e3,h),this.Za=gs("retryDelaySeedMs",1e4,h),this.Ta=gs("forwardChannelMaxRetries",2,h),this.va=gs("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Zl(h&&h.concurrentRequestLimit),this.Ba=new Cr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ir.prototype,t.ka=8,t.I=1,t.connect=function(h,_,x,R){Ot(0),this.W=h,this.H=_||{},x&&R!==void 0&&(this.H.OSID=x,this.H.OAID=R),this.F=this.X,this.J=gh(this,null,this.W),ys(this)};function uc(h){if(Do(h),h.I==3){var _=h.V++,x=Wt(h.J);if(mt(x,"SID",h.M),mt(x,"RID",_),mt(x,"TYPE","terminate"),La(h,x),_=new Pn(h,h.j,_),_.M=2,_.A=ka(Wt(x)),x=!1,u.navigator&&u.navigator.sendBeacon)try{x=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!x&&u.Image&&(new Image().src=_.A,x=!0),x||(_.g=yh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),ni(_)}ph(h)}function Nr(h){h.g&&(fc(h),h.g.cancel(),h.g=null)}function Do(h){Nr(h),h.v&&(u.clearTimeout(h.v),h.v=null),Mo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function ys(h){if(!Jl(h.h)&&!h.m){h.m=!0;var _=h.Ea;re||S(),ce||(re(),ce=!0),I.add(_,h),h.D=0}}function ko(h,_){return hs(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=vi(d(h.Ea,h,_),mh(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const X=new Pn(this,this.j,h);let ie=this.o;if(this.U&&(ie?(ie=E(ie),ne(ie,this.U)):ie=this.U),this.u!==null||this.R||(X.J=ie,ie=null),this.S)e:{for(var _=0,x=0;x<this.i.length;x++){t:{var R=this.i[x];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,_>4096){_=x;break e}if(_===4096||x===this.i.length-1){_=x+1;break e}}_=1e3}else _=1e3;_=uh(this,X,_),x=Wt(this.J),mt(x,"RID",h),mt(x,"CVER",22),this.G&&mt(x,"X-HTTP-Session-Id",this.G),La(this,x),ie&&(this.R?_="headers="+_i(xi(ie))+"&"+_:this.u&&Pa(x,this.u,ie)),ec(this.h,X),this.Ra&&mt(x,"TYPE","init"),this.S?(mt(x,"$req",_),mt(x,"SID","null"),X.U=!0,ft(X,x,null)):ft(X,x,_),this.I=2}}else this.I==3&&(h?hc(this,h):this.i.length==0||Jl(this.h)||hc(this))};function hc(h,_){var x;_?x=_.l:x=h.V++;const R=Wt(h.J);mt(R,"SID",h.M),mt(R,"RID",x),mt(R,"AID",h.K),La(h,R),h.u&&h.o&&Pa(R,h.u,h.o),x=new Pn(h,h.j,x,h.D+1),h.u===null&&(x.J=h.o),_&&(h.i=_.G.concat(h.i)),_=uh(h,x,1e3),x.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ec(h.h,x),ft(x,R,_)}function La(h,_){h.H&&me(h.H,function(x,R){mt(_,R,x)}),h.l&&me({},function(x,R){mt(_,R,x)})}function uh(h,_,x){x=Math.min(h.i.length,x);const R=h.l?d(h.l.Ka,h.l,h):null;e:{var X=h.i;let Ue=-1;for(;;){const Ft=["count="+x];Ue==-1?x>0?(Ue=X[0].g,Ft.push("ofs="+Ue)):Ue=0:Ft.push("ofs="+Ue);let ot=!0;for(let It=0;It<x;It++){var ie=X[It].g;const Ei=X[It].map;if(ie-=Ue,ie<0)Ue=Math.max(0,X[It].g-100),ot=!1;else try{ie="req"+ie+"_"||"";try{var be=Ei instanceof Map?Ei:Object.entries(Ei);for(const[bs,$i]of be){let Ki=$i;f($i)&&(Ki=Sn($i)),Ft.push(ie+bs+"="+encodeURIComponent(Ki))}}catch(bs){throw Ft.push(ie+"type="+encodeURIComponent("_badmap")),bs}}catch{R&&R(Ei)}}if(ot){be=Ft.join("&");break e}}be=void 0}return h=h.i.splice(0,x),_.G=h,be}function hh(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;re||S(),ce||(re(),ce=!0),I.add(_,h),h.A=0}}function Ua(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=vi(d(h.Da,h),mh(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,fh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=vi(d(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ot(10),Nr(this),fh(this))};function fc(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function fh(h){h.g=new Pn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Wt(h.na);mt(_,"RID","rpc"),mt(_,"SID",h.M),mt(_,"AID",h.K),mt(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&mt(_,"TO",h.ia),mt(_,"TYPE","xmlhttp"),La(h,_),h.u&&h.o&&Pa(_,h.u,h.o),h.O&&(h.g.H=h.O);var x=h.g;h=h.ba,x.M=1,x.A=ka(Wt(_)),x.u=null,x.R=!0,Rt(x,h)}t.Va=function(){this.C!=null&&(this.C=null,Nr(this),Ua(this),Ot(19))};function Mo(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function dh(h,_){var x=null;if(h.g==_){Mo(h),fc(h),h.g=null;var R=2}else if(fs(h.h,_))x=_.G,tc(h.h,_),R=1;else return;if(h.I!=0){if(_.o)if(R==1){x=_.u?_.u.length:0,_=Date.now()-_.F;var X=h.D;R=gi(),et(R,new ei(R,x)),ys(h)}else hh(h);else if(X=_.m,X==3||X==0&&_.X>0||!(R==1&&ko(h,_)||R==2&&Ua(h)))switch(x&&x.length>0&&(_=h.h,_.i=_.i.concat(x)),X){case 1:vs(h,5);break;case 4:vs(h,10);break;case 3:vs(h,6);break;default:vs(h,2)}}}function mh(h,_){let x=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(x*=2),x*_}function vs(h,_){if(h.j.info("Error code "+_),_==2){var x=d(h.bb,h),R=h.Ua;const X=!R;R=new si(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||hn(R,"https"),ka(R),X?qi(R.toString(),x):oc(R.toString(),x)}else Ot(2);h.I=0,h.l&&h.l.pa(_),ph(h),Do(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function ph(h){if(h.I=0,h.ja=[],h.l){const _=nc(h.h);(_.length!=0||h.i.length!=0)&&(M(h.ja,_),M(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function gh(h,_,x){var R=x instanceof si?Wt(x):new si(x);if(R.g!="")_&&(R.g=_+"."+R.g),xr(R,R.u);else{var X=u.location;R=X.protocol,_=_?_+"."+X.hostname:X.hostname,X=+X.port;const ie=new si(null);R&&hn(ie,R),_&&(ie.g=_),X&&xr(ie,X),x&&(ie.h=x),R=ie}return x=h.G,_=h.wa,x&&_&&mt(R,x,_),mt(R,"VER",h.ka),La(h,R),R}function yh(h,_,x){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new yt(new ms({ab:x})):new yt(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vh(){}t=vh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Dr(){}Dr.prototype.g=function(h,_){return new On(h,_)};function On(h,_){ht.call(this),this.g=new Ir(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!V(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!V(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new qs(this)}v(On,ht),On.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){uc(this.g)},On.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var x={};x.__data__=h,h=x}else this.v&&(x={},x.__data__=Sn(h),h=x);_.i.push(new Qt(_.Ya++,h)),_.I==3&&ys(_)},On.prototype.N=function(){this.g.l=null,delete this.j,uc(this.g),delete this.g,On.Z.N.call(this)};function bh(h){kt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const x in _){h=x;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}v(bh,kt);function _h(){Vn.call(this),this.status=1}v(_h,Vn);function qs(h){this.g=h}v(qs,vh),qs.prototype.ra=function(){et(this.g,"a")},qs.prototype.qa=function(h){et(this.g,new bh(h))},qs.prototype.pa=function(h){et(this.g,new _h)},qs.prototype.oa=function(){et(this.g,"b")},Dr.prototype.createWebChannel=Dr.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,GS=function(){return new Dr},HS=function(){return gi()},qS=xt,dy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ls.NO_ERROR=0,ls.TIMEOUT=8,ls.HTTP_ERROR=6,$f=ls,Na.COMPLETE="complete",FS=Na,Bi.EventType=st,st.OPEN="a",st.CLOSE="b",st.ERROR="c",st.MESSAGE="d",ht.prototype.listen=ht.prototype.J,iu=Bi,yt.prototype.listenOnce=yt.prototype.K,yt.prototype.getLastError=yt.prototype.Ha,yt.prototype.getLastErrorCode=yt.prototype.ya,yt.prototype.getStatus=yt.prototype.ca,yt.prototype.getResponseJson=yt.prototype.La,yt.prototype.getResponseText=yt.prototype.la,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Fa,BS=yt}).apply(typeof Cf<"u"?Cf:typeof self<"u"?self:typeof window<"u"?window:{});let In=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");let Bl="12.8.0";function BP(t){Bl=t}const vo=new u0("@firebase/firestore");function hl(){return vo.logLevel}function Te(t,...e){if(vo.logLevel<=Xe.DEBUG){const n=e.map(x0);vo.debug(`Firestore (${Bl}): ${t}`,...n)}}function gr(t,...e){if(vo.logLevel<=Xe.ERROR){const n=e.map(x0);vo.error(`Firestore (${Bl}): ${t}`,...n)}}function bo(t,...e){if(vo.logLevel<=Xe.WARN){const n=e.map(x0);vo.warn(`Firestore (${Bl}): ${t}`,...n)}}function x0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Me(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,$S(t,s,n)}function $S(t,e,n){let s=`FIRESTORE (${Bl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw gr(s),new Error(s)}function dt(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||$S(e,a,s)}function Le(t,e){return t}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Os{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ur{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class KS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(In.UNAUTHENTICATED)))}shutdown(){}}class FP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class qP{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0,42304);let s=this.i;const a=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let l=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ur,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},f=p=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ur)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(dt(typeof s.accessToken=="string",31837,{l:s}),new KS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new In(e)}}class HP{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=In.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class GP{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new HP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(In.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class XT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $P{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){dt(this.o===void 0,3512);const s=l=>{l.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,Te("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new XT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new XT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function KP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class Wd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=KP(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Ze(t,e){return t<e?-1:t>e?1:0}function my(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Ig(a)===Ig(l)?Ze(a,l):Ig(a)?1:-1}return Ze(t.length,e.length)}const YP=55296,QP=57343;function Ig(t){const e=t.charCodeAt(0);return e>=YP&&e<=QP}function Il(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const ZT="__name__";class Es{constructor(e,n,s){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Me(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Es.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Es?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Es.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ze(e.length,n.length)}static compareSegments(e,n){const s=Es.isNumericId(e),a=Es.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Es.extractNumericId(e).compare(Es.extractNumericId(n)):my(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ua.fromString(e.substring(4,e.length-2))}}class Et extends Es{construct(e,n,s){return new Et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new _e(he.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new Et(n)}static emptyPath(){return new Et([])}}const WP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends Es{construct(e,n,s){return new mn(e,n,s)}static isValidIdentifier(e){return WP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ZT}static keyField(){return new mn([ZT])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new _e(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new _e(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _e(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(s+=f,a++):(l(),a++)}if(l(),u)throw new _e(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(n)}static emptyPath(){return new mn([])}}class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(Et.fromString(e))}static fromName(e){return new Ne(Et.fromString(e).popFirst(5))}static empty(){return new Ne(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new Et(e.slice()))}}function QS(t,e,n){if(!n)throw new _e(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function WS(t,e,n,s){if(e===!0&&s===!0)throw new _e(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function JT(t){if(!Ne.isDocumentKey(t))throw new _e(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ex(t){if(Ne.isDocumentKey(t))throw new _e(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function XS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Xd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function zn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xd(t);throw new _e(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function rn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Fu(t,e){if(!XS(t))throw new _e(he.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new _e(he.INVALID_ARGUMENT,n);return!0}const tx=-62135596800,nx=1e6;class Fe{static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*nx);return new Fe(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<tx)throw new _e(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nx}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fu(e,Fe._jsonSchema))return new Fe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-tx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Fe._jsonSchemaVersion="firestore/timestamp/1.0",Fe._jsonSchema={type:rn("string",Fe._jsonSchemaVersion),seconds:rn("number"),nanoseconds:rn("number")};class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Fe(0,0))}static max(){return new Oe(new Fe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Eu=-1;function XP(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Oe.fromTimestamp(s===1e9?new Fe(n+1,0):new Fe(n,s));return new ma(a,Ne.empty(),e)}function ZP(t){return new ma(t.readTime,t.key,Eu)}class ma{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ma(Oe.min(),Ne.empty(),Eu)}static max(){return new ma(Oe.max(),Ne.empty(),Eu)}}function JP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:Ze(t.largestBatchId,e.largestBatchId))}const eO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Fl(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==eO)throw t;Te("LocalStore","Unexpectedly lost primary lease")}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):de.reject(n)}static resolve(e){return new de(((n,s)=>{n(e)}))}static reject(e){return new de(((n,s)=>{s(e)}))}static waitFor(e){return new de(((n,s)=>{let a=0,l=0,u=!1;e.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&n()}),(p=>s(p)))})),u=!0,l===a&&n()}))}static or(e){let n=de.resolve(!1);for(const s of e)n=n.next((a=>a?de.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new de(((s,a)=>{const l=e.length,u=new Array(l);let f=0;for(let p=0;p<l;p++){const d=p;n(e[d]).next((y=>{u[d]=y,++f,f===l&&s(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new de(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function nO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ql(t){return t.name==="IndexedDbTransactionError"}class Zd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zd.ce=-1;const E0=-1;function Jd(t){return t==null}function dd(t){return t===0&&1/t==-1/0}function iO(t){return typeof t=="number"&&Number.isInteger(t)&&!dd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const ZS="";function sO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ix(e)),e=rO(t.get(n),e);return ix(e)}function rO(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case ZS:n+="";break;default:n+=l}}return n}function ix(t){return t+ZS+""}function sx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function JS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Pt{constructor(e,n){this.comparator=e,this.root=n||xn.EMPTY}insert(e,n){return new Pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rf(this.root,e,this.comparator,!0)}}class Rf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??xn.RED,this.left=a??xn.EMPTY,this.right=l??xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new xn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return xn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new xn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class cn{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rx(this.data.getIterator())}getIteratorFrom(e){return new rx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof cn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new cn(this.comparator);return n.data=e,n}}class rx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class di{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new di([])}unionWith(e){let n=new cn(mn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new di(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Il(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class eA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new eA("Invalid base64 string: "+l):l}})(e);return new pn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const aO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pa(t){if(dt(!!t,39018),typeof t=="string"){let e=0;const n=aO.exec(t);if(dt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:$t(t.seconds),nanos:$t(t.nanos)}}function $t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ga(t){return typeof t=="string"?pn.fromBase64String(t):pn.fromUint8Array(t)}const tA="server_timestamp",nA="__type__",iA="__previous_value__",sA="__local_write_time__";function S0(t){return(t?.mapValue?.fields||{})[nA]?.stringValue===tA}function em(t){const e=t.mapValue.fields[iA];return S0(e)?em(e):e}function Su(t){const e=pa(t.mapValue.fields[sA].timestampValue);return new Fe(e.seconds,e.nanos)}class oO{constructor(e,n,s,a,l,u,f,p,d,y,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=d,this.isUsingEmulator=y,this.apiKey=v}}const md="(default)";class Nl{constructor(e,n){this.projectId=e,this.database=n||md}static empty(){return new Nl("","")}get isDefaultDatabase(){return this.database===md}isEqual(e){return e instanceof Nl&&e.projectId===this.projectId&&e.database===this.database}}function lO(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new _e(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(t.options.projectId,e)}const rA="__type__",cO="__max__",If={mapValue:{}},aA="__vector__",pd="value";function ya(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?S0(t)?4:hO(t)?9007199254740991:uO(t)?10:11:Me(28295,{value:t})}function ks(t,e){if(t===e)return!0;const n=ya(t);if(n!==ya(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Su(t).isEqual(Su(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=pa(a.timestampValue),f=pa(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return ga(a.bytesValue).isEqual(ga(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return $t(a.geoPointValue.latitude)===$t(l.geoPointValue.latitude)&&$t(a.geoPointValue.longitude)===$t(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return $t(a.integerValue)===$t(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=$t(a.doubleValue),f=$t(l.doubleValue);return u===f?dd(u)===dd(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return Il(t.arrayValue.values||[],e.arrayValue.values||[],ks);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(sx(u)!==sx(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!ks(u[p],f[p])))return!1;return!0})(t,e);default:return Me(52216,{left:t})}}function Au(t,e){return(t.values||[]).find((n=>ks(n,e)))!==void 0}function Dl(t,e){if(t===e)return 0;const n=ya(t),s=ya(e);if(n!==s)return Ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=$t(l.integerValue||l.doubleValue),p=$t(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(t,e);case 3:return ax(t.timestampValue,e.timestampValue);case 4:return ax(Su(t),Su(e));case 5:return my(t.stringValue,e.stringValue);case 6:return(function(l,u){const f=ga(l),p=ga(u);return f.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),p=u.split("/");for(let d=0;d<f.length&&d<p.length;d++){const y=Ze(f[d],p[d]);if(y!==0)return y}return Ze(f.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=Ze($t(l.latitude),$t(u.latitude));return f!==0?f:Ze($t(l.longitude),$t(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return ox(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const f=l.fields||{},p=u.fields||{},d=f[pd]?.arrayValue,y=p[pd]?.arrayValue,v=Ze(d?.values?.length||0,y?.values?.length||0);return v!==0?v:ox(d,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===If.mapValue&&u===If.mapValue)return 0;if(l===If.mapValue)return 1;if(u===If.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),d=u.fields||{},y=Object.keys(d);p.sort(),y.sort();for(let v=0;v<p.length&&v<y.length;++v){const T=my(p[v],y[v]);if(T!==0)return T;const C=Dl(f[p[v]],d[y[v]]);if(C!==0)return C}return Ze(p.length,y.length)})(t.mapValue,e.mapValue);default:throw Me(23264,{he:n})}}function ax(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ze(t,e);const n=pa(t),s=pa(e),a=Ze(n.seconds,s.seconds);return a!==0?a:Ze(n.nanos,s.nanos)}function ox(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Dl(n[a],s[a]);if(l)return l}return Ze(n.length,s.length)}function kl(t){return py(t)}function py(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=pa(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ga(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ne.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=py(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${py(n.fields[u])}`;return a+"}"})(t.mapValue):Me(61005,{value:t})}function Kf(t){switch(ya(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=em(t);return e?16+Kf(e):16;case 5:return 2*t.stringValue.length;case 6:return ga(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Kf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return xa(s.fields,((l,u)=>{a+=l.length+Kf(u)})),a})(t.mapValue);default:throw Me(13486,{value:t})}}function lx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function gy(t){return!!t&&"integerValue"in t}function A0(t){return!!t&&"arrayValue"in t}function cx(t){return!!t&&"nullValue"in t}function ux(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yf(t){return!!t&&"mapValue"in t}function uO(t){return(t?.mapValue?.fields||{})[rA]?.stringValue===aA}function uu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return xa(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=uu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uu(t.arrayValue.values[n]);return e}return{...t}}function hO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===cO}class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Yf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(n)}setAll(e){let n=mn.emptyPath(),s={},a=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,s,a),s={},a=[],n=f.popLast()}u?s[f.lastSegment()]=uu(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Yf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ks(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Yf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){xa(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Zn(uu(this.value))}}function oA(t){const e=[];return xa(t.fields,((n,s)=>{const a=new mn([n]);if(Yf(s)){const l=oA(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new di(e)}class Nn{constructor(e,n,s,a,l,u,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Nn(e,0,Oe.min(),Oe.min(),Oe.min(),Zn.empty(),0)}static newFoundDocument(e,n,s,a){return new Nn(e,1,n,Oe.min(),s,a,0)}static newNoDocument(e,n){return new Nn(e,2,n,Oe.min(),Oe.min(),Zn.empty(),0)}static newUnknownDocument(e,n){return new Nn(e,3,n,Oe.min(),Oe.min(),Zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gd{constructor(e,n){this.position=e,this.inclusive=n}}function hx(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=Ne.comparator(Ne.fromName(u.referenceValue),n.key):s=Dl(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function fx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ks(t.position[n],e.position[n]))return!1;return!0}class yd{constructor(e,n="asc"){this.field=e,this.dir=n}}function fO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class lA{}class sn extends lA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new mO(e,n,s):n==="array-contains"?new yO(e,s):n==="in"?new vO(e,s):n==="not-in"?new bO(e,s):n==="array-contains-any"?new _O(e,s):new sn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new pO(e,s):new gO(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Dl(n,this.value)):n!==null&&ya(this.value)===ya(n)&&this.matchesComparison(Dl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ss extends lA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ss(e,n)}matches(e){return cA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function cA(t){return t.op==="and"}function uA(t){return dO(t)&&cA(t)}function dO(t){for(const e of t.filters)if(e instanceof ss)return!1;return!0}function yy(t){if(t instanceof sn)return t.field.canonicalString()+t.op.toString()+kl(t.value);if(uA(t))return t.filters.map((e=>yy(e))).join(",");{const e=t.filters.map((n=>yy(n))).join(",");return`${t.op}(${e})`}}function hA(t,e){return t instanceof sn?(function(s,a){return a instanceof sn&&s.op===a.op&&s.field.isEqual(a.field)&&ks(s.value,a.value)})(t,e):t instanceof ss?(function(s,a){return a instanceof ss&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,f)=>l&&hA(u,a.filters[f])),!0):!1})(t,e):void Me(19439)}function fA(t){return t instanceof sn?(function(n){return`${n.field.canonicalString()} ${n.op} ${kl(n.value)}`})(t):t instanceof ss?(function(n){return n.op.toString()+" {"+n.getFilters().map(fA).join(" ,")+"}"})(t):"Filter"}class mO extends sn{constructor(e,n,s){super(e,n,s),this.key=Ne.fromName(s.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class pO extends sn{constructor(e,n){super(e,"in",n),this.keys=dA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class gO extends sn{constructor(e,n){super(e,"not-in",n),this.keys=dA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function dA(t,e){return(e.arrayValue?.values||[]).map((n=>Ne.fromName(n.referenceValue)))}class yO extends sn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return A0(n)&&Au(n.arrayValue,this.value)}}class vO extends sn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Au(this.value.arrayValue,n)}}class bO extends sn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Au(this.value.arrayValue,n)}}class _O extends sn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!A0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Au(this.value.arrayValue,s)))}}class wO{constructor(e,n=null,s=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function dx(t,e=null,n=[],s=[],a=null,l=null,u=null){return new wO(t,e,n,s,a,l,u)}function C0(t){const e=Le(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>yy(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Jd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>kl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>kl(s))).join(",")),e.Te=n}return e.Te}function R0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!fO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fx(t.startAt,e.startAt)&&fx(t.endAt,e.endAt)}function vy(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class qu{constructor(e,n=null,s=[],a=[],l=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function TO(t,e,n,s,a,l,u,f){return new qu(t,e,n,s,a,l,u,f)}function tm(t){return new qu(t)}function mx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xO(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function mA(t){return t.collectionGroup!==null}function hu(t){const e=Le(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new cn(mn.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((d=>{d.isInequality()&&(f=f.add(d.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new yd(l,s))})),n.has(mn.keyField().canonicalString())||e.Ie.push(new yd(mn.keyField(),s))}return e.Ie}function Cs(t){const e=Le(t);return e.Ee||(e.Ee=EO(e,hu(t))),e.Ee}function EO(t,e){if(t.limitType==="F")return dx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new yd(a.field,l)}));const n=t.endAt?new gd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new gd(t.startAt.position,t.startAt.inclusive):null;return dx(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function by(t,e){const n=t.filters.concat([e]);return new qu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function _y(t,e,n){return new qu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nm(t,e){return R0(Cs(t),Cs(e))&&t.limitType===e.limitType}function pA(t){return`${C0(Cs(t))}|lt:${t.limitType}`}function fl(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>fA(a))).join(", ")}]`),Jd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>kl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>kl(a))).join(",")),`Target(${s})`})(Cs(t))}; limitType=${t.limitType})`}function im(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ne.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of hu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,f,p){const d=hx(u,f,p);return u.inclusive?d<=0:d<0})(s.startAt,hu(s),a)||s.endAt&&!(function(u,f,p){const d=hx(u,f,p);return u.inclusive?d>=0:d>0})(s.endAt,hu(s),a))})(t,e)}function SO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gA(t){return(e,n)=>{let s=!1;for(const a of hu(t)){const l=AO(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function AO(t,e,n){const s=t.field.isKeyField()?Ne.comparator(e.key,n.key):(function(l,u,f){const p=u.data.field(l),d=f.data.field(l);return p!==null&&d!==null?Dl(p,d):Me(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Me(19790,{direction:t.dir})}}class xo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){xa(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return JS(this.inner)}size(){return this.innerSize}}const CO=new Pt(Ne.comparator);function yr(){return CO}const yA=new Pt(Ne.comparator);function su(...t){let e=yA;for(const n of t)e=e.insert(n.key,n);return e}function vA(t){let e=yA;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function lo(){return fu()}function bA(){return fu()}function fu(){return new xo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const RO=new Pt(Ne.comparator),IO=new cn(Ne.comparator);function Je(...t){let e=IO;for(const n of t)e=e.add(n);return e}const NO=new cn(Ze);function DO(){return NO}function I0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dd(e)?"-0":e}}function _A(t){return{integerValue:""+t}}function kO(t,e){return iO(e)?_A(e):I0(t,e)}class sm{constructor(){this._=void 0}}function MO(t,e,n){return t instanceof vd?(function(a,l){const u={fields:{[nA]:{stringValue:tA},[sA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&S0(l)&&(l=em(l)),l&&(u.fields[iA]=l),{mapValue:u}})(n,e):t instanceof Cu?TA(t,e):t instanceof Ru?xA(t,e):(function(a,l){const u=wA(a,l),f=px(u)+px(a.Ae);return gy(u)&&gy(a.Ae)?_A(f):I0(a.serializer,f)})(t,e)}function VO(t,e,n){return t instanceof Cu?TA(t,e):t instanceof Ru?xA(t,e):n}function wA(t,e){return t instanceof bd?(function(s){return gy(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class vd extends sm{}class Cu extends sm{constructor(e){super(),this.elements=e}}function TA(t,e){const n=EA(e);for(const s of t.elements)n.some((a=>ks(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Ru extends sm{constructor(e){super(),this.elements=e}}function xA(t,e){let n=EA(e);for(const s of t.elements)n=n.filter((a=>!ks(a,s)));return{arrayValue:{values:n}}}class bd extends sm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function px(t){return $t(t.integerValue||t.doubleValue)}function EA(t){return A0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function PO(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Cu&&a instanceof Cu||s instanceof Ru&&a instanceof Ru?Il(s.elements,a.elements,ks):s instanceof bd&&a instanceof bd?ks(s.Ae,a.Ae):s instanceof vd&&a instanceof vd})(t.transform,e.transform)}class OO{constructor(e,n){this.version=e,this.transformResults=n}}class ji{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ji}static exists(e){return new ji(void 0,e)}static updateTime(e){return new ji(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rm{}function SA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new N0(t.key,ji.none()):new Hu(t.key,t.data,ji.none());{const n=t.data,s=Zn.empty();let a=new cn(mn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Ea(t.key,s,new di(a.toArray()),ji.none())}}function jO(t,e,n){t instanceof Hu?(function(a,l,u){const f=a.value.clone(),p=yx(a.fieldTransforms,l,u.transformResults);f.setAll(p),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Ea?(function(a,l,u){if(!Qf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=yx(a.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(AA(a)),p.setAll(f),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function du(t,e,n,s){return t instanceof Hu?(function(l,u,f,p){if(!Qf(l.precondition,u))return f;const d=l.value.clone(),y=vx(l.fieldTransforms,p,u);return d.setAll(y),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(t,e,n,s):t instanceof Ea?(function(l,u,f,p){if(!Qf(l.precondition,u))return f;const d=vx(l.fieldTransforms,p,u),y=u.data;return y.setAll(AA(l)),y.setAll(d),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,s):(function(l,u,f){return Qf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function LO(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=wA(s.transform,a||null);l!=null&&(n===null&&(n=Zn.empty()),n.set(s.field,l))}return n||null}function gx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Il(s,a,((l,u)=>PO(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hu extends rm{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ea extends rm{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function AA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function yx(t,e,n){const s=new Map;dt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,f=e.data.field(l.field);s.set(l.field,VO(u,f,n[a]))}return s}function vx(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,MO(l,u,e))}return s}class N0 extends rm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UO extends rm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zO{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&jO(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=du(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=du(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=bA();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(a.key)?null:f;const p=SA(u,f);p!==null&&s.set(a.key,p),u.isValidDocument()||u.convertToNoDocument(Oe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Je())}isEqual(e){return this.batchId===e.batchId&&Il(this.mutations,e.mutations,((n,s)=>gx(n,s)))&&Il(this.baseMutations,e.baseMutations,((n,s)=>gx(n,s)))}}class D0{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){dt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return RO})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new D0(e,n,s,a)}}class BO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class FO{constructor(e,n){this.count=e,this.unchangedNames=n}}var tn,it;function qO(t){switch(t){case he.OK:return Me(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function CA(t){if(t===void 0)return gr("GRPC error has no .code"),he.UNKNOWN;switch(t){case tn.OK:return he.OK;case tn.CANCELLED:return he.CANCELLED;case tn.UNKNOWN:return he.UNKNOWN;case tn.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case tn.INTERNAL:return he.INTERNAL;case tn.UNAVAILABLE:return he.UNAVAILABLE;case tn.UNAUTHENTICATED:return he.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case tn.NOT_FOUND:return he.NOT_FOUND;case tn.ALREADY_EXISTS:return he.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return he.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case tn.ABORTED:return he.ABORTED;case tn.OUT_OF_RANGE:return he.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return he.UNIMPLEMENTED;case tn.DATA_LOSS:return he.DATA_LOSS;default:return Me(39323,{code:t})}}(it=tn||(tn={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";function HO(){return new TextEncoder}const GO=new ua([4294967295,4294967295],0);function bx(t){const e=HO().encode(t),n=new zS;return n.update(e),new Uint8Array(n.digest())}function _x(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ua([n,s],0),new ua([a,l],0)]}class k0{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ru(`Invalid padding: ${n}`);if(s<0)throw new ru(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ru(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ua.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(ua.fromNumber(s)));return a.compare(GO)===1&&(a=new ua([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=bx(e),[s,a]=_x(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new k0(l,a,n);return s.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=bx(e),[s,a]=_x(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.be(u)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class am{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Gu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new am(Oe.min(),a,new Pt(Ze),yr(),Je())}}class Gu{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Gu(s,n,Je(),Je(),Je())}}class Wf{constructor(e,n,s,a){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=a}}class RA{constructor(e,n){this.targetId=e,this.Ce=n}}class IA{constructor(e,n,s=pn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class wx{constructor(){this.ve=0,this.Fe=Tx(),this.Me=pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),n=Je(),s=Je();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Me(38017,{changeType:l})}})),new Gu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=Tx()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,dt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class $O{constructor(e){this.Ge=e,this.ze=new Map,this.je=yr(),this.He=Nf(),this.Je=Nf(),this.Ze=new Pt(Ze)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(vy(l))if(s===0){const u=new Ne(l.path);this.et(n,u,Nn.newNoDocument(u,Oe.min()))}else dt(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const f=this.ut(e),p=f?this.ct(f,e,u):1;if(p!==0){this.it(n);const d=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,f;try{u=ga(s).toUint8Array()}catch(p){if(p instanceof eA)return bo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new k0(u,a,l)}catch(p){return bo(p instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&vy(f.target)){const p=new Ne(f.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,Nn.newNoDocument(p,e))}l.Be&&(n.set(u,l.ke()),l.Ke())}}));let s=Je();this.Je.forEach(((l,u)=>{let f=!0;u.forEachWhile((p=>{const d=this.ot(p);return!d||d.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new am(e,n,this.Ze,this.je,s);return this.je=yr(),this.He=Nf(),this.Je=Nf(),this.Ze=new Pt(Ze),a}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new wx,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new cn(Ze),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new cn(Ze),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new wx),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Nf(){return new Pt(Ne.comparator)}function Tx(){return new Pt(Ne.comparator)}const KO={asc:"ASCENDING",desc:"DESCENDING"},YO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QO={and:"AND",or:"OR"};class WO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wy(t,e){return t.useProto3Json||Jd(e)?e:{value:e}}function _d(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function XO(t,e){return _d(t,e.toTimestamp())}function Rs(t){return dt(!!t,49232),Oe.fromTimestamp((function(n){const s=pa(n);return new Fe(s.seconds,s.nanos)})(t))}function M0(t,e){return Ty(t,e).canonicalString()}function Ty(t,e){const n=(function(a){return new Et(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function DA(t){const e=Et.fromString(t);return dt(OA(e),10190,{key:e.toString()}),e}function xy(t,e){return M0(t.databaseId,e.path)}function Ng(t,e){const n=DA(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(MA(n))}function kA(t,e){return M0(t.databaseId,e)}function ZO(t){const e=DA(t);return e.length===4?Et.emptyPath():MA(e)}function Ey(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function MA(t){return dt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function xx(t,e,n){return{name:xy(t,e),fields:n.value.mapValue.fields}}function JO(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Me(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(d,y){return d.useProto3Json?(dt(y===void 0||typeof y=="string",58123),pn.fromBase64String(y||"")):(dt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),pn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(d){const y=d.code===void 0?he.UNKNOWN:CA(d.code);return new _e(y,d.message||"")})(u);n=new IA(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Ng(t,s.document.name),l=Rs(s.document.updateTime),u=s.document.createTime?Rs(s.document.createTime):Oe.min(),f=new Zn({mapValue:{fields:s.document.fields}}),p=Nn.newFoundDocument(a,l,u,f),d=s.targetIds||[],y=s.removedTargetIds||[];n=new Wf(d,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Ng(t,s.document),l=s.readTime?Rs(s.readTime):Oe.min(),u=Nn.newNoDocument(a,l),f=s.removedTargetIds||[];n=new Wf([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Ng(t,s.document),l=s.removedTargetIds||[];n=new Wf([],l,a,null)}else{if(!("filter"in e))return Me(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new FO(a,l),f=s.targetId;n=new RA(f,u)}}return n}function e4(t,e){let n;if(e instanceof Hu)n={update:xx(t,e.key,e.value)};else if(e instanceof N0)n={delete:xy(t,e.key)};else if(e instanceof Ea)n={update:xx(t,e.key,e.data),updateMask:c4(e.fieldMask)};else{if(!(e instanceof UO))return Me(16599,{dt:e.type});n={verify:xy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const f=u.transform;if(f instanceof vd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Cu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ru)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof bd)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Me(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:XO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Me(27497)})(t,e.precondition)),n}function t4(t,e){return t&&t.length>0?(dt(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?Rs(a.updateTime):Rs(l);return u.isEqual(Oe.min())&&(u=Rs(l)),new OO(u,a.transformResults||[])})(n,e)))):[]}function n4(t,e){return{documents:[kA(t,e.path)]}}function i4(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=kA(t,a);const l=(function(d){if(d.length!==0)return PA(ss.create(d,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(d){if(d.length!==0)return d.map((y=>(function(T){return{field:dl(T.field),direction:a4(T.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=wy(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:a}}function s4(t){let e=ZO(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){dt(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(v){const T=VA(v);return T instanceof ss&&uA(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(v){return v.map((T=>(function(M){return new yd(ml(M.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(T)))})(n.orderBy));let f=null;n.limit&&(f=(function(v){let T;return T=typeof v=="object"?v.value:v,Jd(T)?null:T})(n.limit));let p=null;n.startAt&&(p=(function(v){const T=!!v.before,C=v.values||[];return new gd(C,T)})(n.startAt));let d=null;return n.endAt&&(d=(function(v){const T=!v.before,C=v.values||[];return new gd(C,T)})(n.endAt)),TO(e,a,u,l,f,"F",p,d)}function r4(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ml(n.unaryFilter.field);return sn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=ml(n.unaryFilter.field);return sn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ml(n.unaryFilter.field);return sn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ml(n.unaryFilter.field);return sn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(t):t.fieldFilter!==void 0?(function(n){return sn.create(ml(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ss.create(n.compositeFilter.filters.map((s=>VA(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(n.compositeFilter.op))})(t):Me(30097,{filter:t})}function a4(t){return KO[t]}function o4(t){return YO[t]}function l4(t){return QO[t]}function dl(t){return{fieldPath:t.canonicalString()}}function ml(t){return mn.fromServerFormat(t.fieldPath)}function PA(t){return t instanceof sn?(function(n){if(n.op==="=="){if(ux(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NAN"}};if(cx(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ux(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NOT_NAN"}};if(cx(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dl(n.field),op:o4(n.op),value:n.value}}})(t):t instanceof ss?(function(n){const s=n.getFilters().map((a=>PA(a)));return s.length===1?s[0]:{compositeFilter:{op:l4(n.op),filters:s}}})(t):Me(54877,{filter:t})}function c4(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function OA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function jA(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class aa{constructor(e,n,s,a,l=Oe.min(),u=Oe.min(),f=pn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class u4{constructor(e){this.yt=e}}function h4(t){const e=s4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_y(e,e.limit,"L"):e}class f4{constructor(){this.Sn=new d4}addToCollectionParentIndex(e,n){return this.Sn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(ma.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(ma.min())}updateCollectionGroup(e,n,s){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class d4{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new cn(Et.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new cn(Et.comparator)).toArray()}}const Ex={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LA=41943040;class Wn{static withCacheSize(e){return new Wn(e,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Wn.DEFAULT_COLLECTION_PERCENTILE=10,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wn.DEFAULT=new Wn(LA,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wn.DISABLED=new Wn(-1,0,0);class Ml{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Ml(0)}static ar(){return new Ml(-1)}}const Sx="LruGarbageCollector",m4=1048576;function Ax([t,e],[n,s]){const a=Ze(t,n);return a===0?Ze(e,s):a}class p4{constructor(e){this.Pr=e,this.buffer=new cn(Ax),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Ax(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class g4{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Te(Sx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ql(n)?Te(Sx,"Ignoring IndexedDB error during garbage collection: ",n):await Fl(n)}await this.Ar(3e5)}))}}class y4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return de.resolve(Zd.ce);const s=new p4(n);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(Ex)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ex):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,a,l,u,f,p,d;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(s=v,f=Date.now(),this.removeTargets(e,s,n)))).next((v=>(l=v,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((v=>(d=Date.now(),hl()<=Xe.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${v} documents in `+(d-p)+`ms
Total Duration: ${d-y}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function v4(t,e){return new y4(t,e)}class b4{constructor(){this.changes=new xo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?de.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class _4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class w4{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&du(s.mutation,a,di.empty(),Fe.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Je()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Je()){const a=lo();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=su();return l.forEach(((f,p)=>{u=u.insert(f,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=lo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Je())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,s,a){let l=yr();const u=fu(),f=(function(){return fu()})();return n.forEach(((p,d)=>{const y=s.get(d.key);a.has(d.key)&&(y===void 0||y.mutation instanceof Ea)?l=l.insert(d.key,d):y!==void 0?(u.set(d.key,y.mutation.getFieldMask()),du(y.mutation,d,y.mutation.getFieldMask(),Fe.now())):u.set(d.key,di.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((d,y)=>u.set(d,y))),n.forEach(((d,y)=>f.set(d,new _4(y,u.get(d)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=fu();let a=new Pt(((u,f)=>u-f)),l=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((p=>{const d=n.get(p);if(d===null)return;let y=s.get(p)||di.empty();y=f.applyToLocalView(d,y),s.set(p,y);const v=(a.get(f.batchId)||Je()).add(p);a=a.insert(f.batchId,v)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),d=p.key,y=p.value,v=bA();y.forEach((T=>{if(!l.has(T)){const C=SA(n.get(T),s.get(T));C!==null&&v.set(T,C),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,v))}return de.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return xO(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):de.resolve(lo());let f=Eu,p=l;return u.next((d=>de.forEach(d,((y,v)=>(f<v.largestBatchId&&(f=v.largestBatchId),l.get(y)?de.resolve():this.remoteDocumentCache.getEntry(e,y).next((T=>{p=p.insert(y,T)}))))).next((()=>this.populateOverlays(e,d,l))).next((()=>this.computeViews(e,p,d,Je()))).next((y=>({batchId:f,changes:vA(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next((s=>{let a=su();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=su();return this.indexManager.getCollectionParents(e,l).next((f=>de.forEach(f,(p=>{const d=(function(v,T){return new qu(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,d,s,a).next((y=>{y.forEach(((v,T)=>{u=u.insert(v,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((p,d)=>{const y=d.getKey();u.get(y)===null&&(u=u.insert(y,Nn.newInvalidDocument(y)))}));let f=su();return u.forEach(((p,d)=>{const y=l.get(p);y!==void 0&&du(y.mutation,d,di.empty(),Fe.now()),im(n,d)&&(f=f.insert(p,d))})),f}))}}class T4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return de.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Rs(a.createTime)}})(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:h4(a.bundledQuery),readTime:Rs(a.readTime)}})(n)),de.resolve()}}class x4{constructor(){this.overlays=new Pt(Ne.comparator),this.Lr=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const s=lo();return de.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.bt(e,n,l)})),de.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),de.resolve()}getOverlaysForCollection(e,n,s){const a=lo(),l=n.length+1,u=new Ne(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,d=p.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===l&&p.largestBatchId>s&&a.set(p.getKey(),p)}return de.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new Pt(((d,y)=>d-y));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>s){let y=l.get(d.largestBatchId);y===null&&(y=lo(),l=l.insert(d.largestBatchId,y)),y.set(d.getKey(),d)}}const f=lo(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((d,y)=>f.set(d,y))),!(f.size()>=a)););return de.resolve(f)}bt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new BO(n,s));let l=this.Lr.get(n);l===void 0&&(l=Je(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}class E4{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}class V0{constructor(){this.kr=new cn(dn.Kr),this.qr=new cn(dn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new dn(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new dn(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new Ne(new Et([])),s=new dn(n,e),a=new dn(n,e+1),l=[];return this.qr.forEachInRange([s,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ne(new Et([])),s=new dn(n,e),a=new dn(n,e+1);let l=Je();return this.qr.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new dn(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class dn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ne.comparator(e.key,n.key)||Ze(e.Hr,n.Hr)}static Ur(e,n){return Ze(e.Hr,n.Hr)||Ne.comparator(e.key,n.key)}}class S4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new cn(dn.Kr)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new zO(l,n,s,a);this.mutationQueue.push(u);for(const f of a)this.Jr=this.Jr.add(new dn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return de.resolve(u)}lookupMutationBatch(e,n){return de.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return de.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?E0:this.Yn-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new dn(n,0),a=new dn(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(u=>{const f=this.Zr(u.Hr);l.push(f)})),de.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new cn(Ze);return n.forEach((a=>{const l=new dn(a,0),u=new dn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(f=>{s=s.add(f.Hr)}))})),de.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;Ne.isDocumentKey(l)||(l=l.child(""));const u=new dn(new Ne(l),0);let f=new cn(Ze);return this.Jr.forEachWhile((p=>{const d=p.key.path;return!!s.isPrefixOf(d)&&(d.length===a&&(f=f.add(p.Hr)),!0)}),u),de.resolve(this.Yr(f))}Yr(e){const n=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){dt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return de.forEach(n.mutations,(a=>{const l=new dn(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new dn(n,0),a=this.Jr.firstAfterOrEqual(s);return de.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class A4{constructor(e){this.ti=e,this.docs=(function(){return new Pt(Ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return de.resolve(s?s.document.mutableCopy():Nn.newInvalidDocument(n))}getEntries(e,n){let s=yr();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():Nn.newInvalidDocument(a))})),de.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=yr();const u=n.path,f=new Ne(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:d,value:{document:y}}=p.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||JP(ZP(y),s)<=0||(a.has(y.key)||im(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return de.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Me(9500)}ni(e,n){return de.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new C4(this)}getSize(e){return de.resolve(this.size)}}class C4 extends b4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),de.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class R4{constructor(e){this.persistence=e,this.ri=new xo((n=>C0(n)),R0),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.ii=0,this.si=new V0,this.targetCount=0,this.oi=Ml._r()}forEachTarget(e,n){return this.ri.forEach(((s,a)=>n(a))),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),de.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Ml(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.lr(n),de.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.ri.forEach(((u,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),de.waitFor(l).next((()=>a))}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return de.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),de.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),de.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return de.resolve(s)}containsKey(e,n){return de.resolve(this.si.containsKey(n))}}class UA{constructor(e,n){this._i={},this.overlays={},this.ai=new Zd(0),this.ui=!1,this.ui=!0,this.ci=new E4,this.referenceDelegate=e(this),this.li=new R4(this),this.indexManager=new f4,this.remoteDocumentCache=(function(a){return new A4(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new u4(n),this.Pi=new T4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new x4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new S4(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){Te("MemoryPersistence","Starting transaction:",e);const a=new I4(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return de.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class I4 extends tO{constructor(e){super(),this.currentSequenceNumber=e}}class P0{constructor(e){this.persistence=e,this.Ri=new V0,this.Ai=null}static Vi(e){return new P0(e)}get di(){if(this.Ai)return this.Ai;throw Me(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),de.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),de.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.di,(s=>{const a=Ne.fromPath(s);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Oe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return de.or([()=>de.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class wd{constructor(e,n){this.persistence=e,this.fi=new xo((s=>sO(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=v4(this,n)}static Vi(e,n){return new wd(e,n)}Ti(){}Ii(e){return de.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return de.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((l=>l?de.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,n).next((f=>{f||(s++,l.removeEntry(u,Oe.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),de.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),de.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),de.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Kf(e.data.value)),n}wr(e,n,s){return de.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return de.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class O0{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=a}static Es(e,n){let s=Je(),a=Je();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new O0(e,n.fromCache,s,a)}}class N4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class D4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return _k()?8:nO(kn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.gs(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new N4;return this.ys(e,n,u).next((f=>{if(l.result=f,this.As)return this.ws(e,n,u,f.size)}))})).next((()=>l.result))}ws(e,n,s,a){return s.documentReadCount<this.Vs?(hl()<=Xe.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",fl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),de.resolve()):(hl()<=Xe.DEBUG&&Te("QueryEngine","Query:",fl(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(hl()<=Xe.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",fl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cs(n))):de.resolve())}gs(e,n){if(mx(n))return de.resolve(null);let s=Cs(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=_y(n,null,"F"),s=Cs(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=Je(...l);return this.fs.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,s).next((p=>{const d=this.bs(n,f);return this.Ss(n,d,u,p.readTime)?this.gs(e,_y(n,null,"F")):this.Ds(e,d,n,p)}))))})))))}ps(e,n,s,a){return mx(n)||a.isEqual(Oe.min())?de.resolve(null):this.fs.getDocuments(e,s).next((l=>{const u=this.bs(n,l);return this.Ss(n,u,s,a)?de.resolve(null):(hl()<=Xe.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),fl(n)),this.Ds(e,u,n,XP(a,Eu)).next((f=>f)))}))}bs(e,n){let s=new cn(gA(e));return n.forEach(((a,l)=>{im(e,l)&&(s=s.add(l))})),s}Ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,s){return hl()<=Xe.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",fl(n)),this.fs.getDocumentsMatchingQuery(e,n,ma.min(),s)}Ds(e,n,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const j0="LocalStore",k4=3e8;class M4{constructor(e,n,s,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new Pt(Ze),this.Fs=new xo((l=>C0(l)),R0),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new w4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function V4(t,e,n,s){return new M4(t,e,n,s)}async function zA(t,e){const n=Le(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],f=[];let p=Je();for(const d of a){u.push(d.batchId);for(const y of d.mutations)p=p.add(y.key)}for(const d of l){f.push(d.batchId);for(const y of d.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(s,p).next((d=>({Ns:d,removedBatchIds:u,addedBatchIds:f})))}))}))}function P4(t,e){const n=Le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(f,p,d,y){const v=d.batch,T=v.keys();let C=de.resolve();return T.forEach((M=>{C=C.next((()=>y.getEntry(p,M))).next((O=>{const N=d.docVersions.get(M);dt(N!==null,48541),O.version.compareTo(N)<0&&(v.applyToRemoteDocument(O,d),O.isValidDocument()&&(O.setReadTime(d.commitVersion),y.addEntry(O)))}))})),C.next((()=>f.mutationQueue.removeMutationBatch(p,v)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let p=Je();for(let d=0;d<f.mutationResults.length;++d)f.mutationResults[d].transformResults.length>0&&(p=p.add(f.batch.mutations[d].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function BA(t){const e=Le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function O4(t,e){const n=Le(t),s=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const f=[];e.targetChanges.forEach(((y,v)=>{const T=a.get(v);if(!T)return;f.push(n.li.removeMatchingKeys(l,y.removedDocuments,v).next((()=>n.li.addMatchingKeys(l,y.addedDocuments,v))));let C=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?C=C.withResumeToken(pn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,s)),a=a.insert(v,C),(function(O,N,H){return O.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=k4?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(T,C,y)&&f.push(n.li.updateTargetData(l,C))}));let p=yr(),d=Je();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(j4(l,u,e.documentUpdates).next((y=>{p=y.Bs,d=y.Ls}))),!s.isEqual(Oe.min())){const y=n.li.getLastRemoteSnapshotVersion(l).next((v=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(y)}return de.waitFor(f).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,d))).next((()=>p))})).then((l=>(n.vs=a,l)))}function j4(t,e,n){let s=Je(),a=Je();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=yr();return n.forEach(((f,p)=>{const d=l.get(f);p.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(Oe.min())?(e.removeEntry(f,p.readTime),u=u.insert(f,p)):!d.isValidDocument()||p.version.compareTo(d.version)>0||p.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(p),u=u.insert(f,p)):Te(j0,"Ignoring outdated watch update for ",f,". Current version:",d.version," Watch version:",p.version)})),{Bs:u,Ls:a}}))}function L4(t,e){const n=Le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=E0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function U4(t,e){const n=Le(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,e).next((l=>l?(a=l,de.resolve(a)):n.li.allocateTargetId(s).next((u=>(a=new aa(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Sy(t,e,n){const s=Le(t),a=s.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!ql(u))throw u;Te(j0,`Failed to update sequence numbers for target ${e}: ${u}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function Cx(t,e,n){const s=Le(t);let a=Oe.min(),l=Je();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,d,y){const v=Le(p),T=v.Fs.get(y);return T!==void 0?de.resolve(v.vs.get(T)):v.li.getTargetData(d,y)})(s,u,Cs(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(u,f.targetId).next((p=>{l=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,e,n?a:Oe.min(),n?l:Je()))).next((f=>(z4(s,SO(e),f),{documents:f,ks:l})))))}function z4(t,e,n){let s=t.Ms.get(e)||Oe.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Ms.set(e,s)}class Rx{constructor(){this.activeTargetIds=DO()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B4{constructor(){this.vo=new Rx,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Rx,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class F4{Mo(e){}shutdown(){}}const Ix="ConnectivityMonitor";class Nx{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Te(Ix,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Te(Ix,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Df=null;function Ay(){return Df===null?Df=(function(){return 268435456+Math.round(2147483648*Math.random())})():Df++,"0x"+Df.toString(16)}const Dg="RestConnection",q4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class H4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===md?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,n,s,a,l){const u=Ay(),f=this.Qo(e,n.toUriEncodedString());Te(Dg,`Sending RPC '${e}' ${u}:`,f,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,a,l);const{host:d}=new URL(f),y=wo(d);return this.zo(e,f,p,s,y).then((v=>(Te(Dg,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw bo(Dg,`RPC '${e}' ${u} failed with error: `,v,"url: ",f,"request:",s),v}))}jo(e,n,s,a,l,u){return this.Wo(e,n,s,a,l)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const s=q4[e];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class G4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Rn="WebChannelConnection",Zc=(t,e,n)=>{t.listen(e,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Sl extends H4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Sl.c_){const e=HS();Zc(e,qS.STAT_EVENT,(n=>{n.stat===dy.PROXY?Te(Rn,"STAT_EVENT: detected buffering proxy"):n.stat===dy.NOPROXY&&Te(Rn,"STAT_EVENT: detected no buffering proxy")})),Sl.c_=!0}}zo(e,n,s,a,l){const u=Ay();return new Promise(((f,p)=>{const d=new BS;d.setWithCredentials(!0),d.listenOnce(FS.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case $f.NO_ERROR:const v=d.getResponseJson();Te(Rn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),f(v);break;case $f.TIMEOUT:Te(Rn,`RPC '${e}' ${u} timed out`),p(new _e(he.DEADLINE_EXCEEDED,"Request time out"));break;case $f.HTTP_ERROR:const T=d.getStatus();if(Te(Rn,`RPC '${e}' ${u} failed with status:`,T,"response text:",d.getResponseText()),T>0){let C=d.getResponseJson();Array.isArray(C)&&(C=C[0]);const M=C?.error;if(M&&M.status&&M.message){const O=(function(H){const W=H.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(W)>=0?W:he.UNKNOWN})(M.status);p(new _e(O,M.message))}else p(new _e(he.UNKNOWN,"Server responded with status "+d.getStatus()))}else p(new _e(he.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Te(Rn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);Te(Rn,`RPC '${e}' ${u} sending request:`,a),d.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=Ay(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,n,s),f.encodeInitMessageHeaders=!0;const d=l.join("");Te(Rn,`Creating RPC '${e}' stream ${a}: ${d}`,f);const y=u.createWebChannel(d,f);this.I_(y);let v=!1,T=!1;const C=new G4({Ho:M=>{T?Te(Rn,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(v||(Te(Rn,`Opening RPC '${e}' stream ${a} transport.`),y.open(),v=!0),Te(Rn,`RPC '${e}' stream ${a} sending:`,M),y.send(M))},Jo:()=>y.close()});return Zc(y,iu.EventType.OPEN,(()=>{T||(Te(Rn,`RPC '${e}' stream ${a} transport opened.`),C.i_())})),Zc(y,iu.EventType.CLOSE,(()=>{T||(T=!0,Te(Rn,`RPC '${e}' stream ${a} transport closed`),C.o_(),this.E_(y))})),Zc(y,iu.EventType.ERROR,(M=>{T||(T=!0,bo(Rn,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),C.o_(new _e(he.UNAVAILABLE,"The operation could not be completed")))})),Zc(y,iu.EventType.MESSAGE,(M=>{if(!T){const O=M.data[0];dt(!!O,16349);const N=O,H=N?.error||N[0]?.error;if(H){Te(Rn,`RPC '${e}' stream ${a} received error:`,H);const W=H.status;let Q=(function(ce){const I=tn[ce];if(I!==void 0)return CA(I)})(W),Y=H.message;Q===void 0&&(Q=he.INTERNAL,Y="Unknown error status: "+W+" with message "+H.message),T=!0,C.o_(new _e(Q,Y)),y.close()}else Te(Rn,`RPC '${e}' stream ${a} received:`,O),C.__(O)}})),Sl.u_(),setTimeout((()=>{C.s_()}),0),C}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return GS()}}function $4(t){return new Sl(t)}function kg(){return typeof document<"u"?document:null}function om(t){return new WO(t,!0)}Sl.c_=!1;class FA{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&Te("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Dx="PersistentStream";class qA{constructor(e,n,s,a,l,u,f,p){this.Ci=e,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new FA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(gr(n.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new _e(he.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(Dx,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Te(Dx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class K4 extends qA{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=JO(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Oe.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Oe.min():u.readTime?Rs(u.readTime):Oe.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Ey(this.serializer),n.addTarget=(function(l,u){let f;const p=u.target;if(f=vy(p)?{documents:n4(l,p)}:{query:i4(l,p).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=NA(l,u.resumeToken);const d=wy(l,u.expectedCount);d!==null&&(f.expectedCount=d)}else if(u.snapshotVersion.compareTo(Oe.min())>0){f.readTime=_d(l,u.snapshotVersion.toTimestamp());const d=wy(l,u.expectedCount);d!==null&&(f.expectedCount=d)}return f})(this.serializer,e);const s=r4(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Ey(this.serializer),n.removeTarget=e,this.K_(n)}}class Y4 extends qA{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=t4(e.writeResults,e.commitTime),s=Rs(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Ey(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>e4(this.serializer,s)))};this.K_(n)}}class Q4{}class W4 extends Q4{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new _e(he.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,Ty(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(he.UNKNOWN,l.toString())}))}jo(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.jo(e,Ty(n,s),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(he.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function X4(t,e,n,s){return new W4(t,e,n,s)}class Z4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gr(n),this.aa=!1):Te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const _o="RemoteStore";class J4{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{s.enqueueAndForget((async()=>{Eo(this)&&(Te(_o,"Restarting streams for network reachability change."),await(async function(p){const d=Le(p);d.Ea.add(4),await $u(d),d.Va.set("Unknown"),d.Ea.delete(4),await lm(d)})(this))}))})),this.Va=new Z4(s,a)}}async function lm(t){if(Eo(t))for(const e of t.Ra)await e(!0)}async function $u(t){for(const e of t.Ra)await e(!1)}function HA(t,e){const n=Le(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),B0(n)?z0(n):Hl(n).O_()&&U0(n,e))}function L0(t,e){const n=Le(t),s=Hl(n);n.Ia.delete(e),s.O_()&&GA(n,e),n.Ia.size===0&&(s.O_()?s.L_():Eo(n)&&n.Va.set("Unknown"))}function U0(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Hl(t).Z_(e)}function GA(t,e){t.da.$e(e),Hl(t).X_(e)}function z0(t){t.da=new $O({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Hl(t).start(),t.Va.ua()}function B0(t){return Eo(t)&&!Hl(t).x_()&&t.Ia.size>0}function Eo(t){return Le(t).Ea.size===0}function $A(t){t.da=void 0}async function e5(t){t.Va.set("Online")}async function t5(t){t.Ia.forEach(((e,n)=>{U0(t,e)}))}async function n5(t,e){$A(t),B0(t)?(t.Va.ha(e),z0(t)):t.Va.set("Unknown")}async function i5(t,e,n){if(t.Va.set("Online"),e instanceof IA&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.da.removeTarget(f))})(t,e)}catch(s){Te(_o,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Td(t,s)}else if(e instanceof Wf?t.da.Xe(e):e instanceof RA?t.da.st(e):t.da.tt(e),!n.isEqual(Oe.min()))try{const s=await BA(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const f=l.da.Tt(u);return f.targetChanges.forEach(((p,d)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.Ia.get(d);y&&l.Ia.set(d,y.withResumeToken(p.resumeToken,u))}})),f.targetMismatches.forEach(((p,d)=>{const y=l.Ia.get(p);if(!y)return;l.Ia.set(p,y.withResumeToken(pn.EMPTY_BYTE_STRING,y.snapshotVersion)),GA(l,p);const v=new aa(y.target,p,d,y.sequenceNumber);U0(l,v)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){Te(_o,"Failed to raise snapshot:",s),await Td(t,s)}}async function Td(t,e,n){if(!ql(e))throw e;t.Ea.add(1),await $u(t),t.Va.set("Offline"),n||(n=()=>BA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Te(_o,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await lm(t)}))}function KA(t,e){return e().catch((n=>Td(t,n,e)))}async function cm(t){const e=Le(t),n=va(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:E0;for(;s5(e);)try{const a=await L4(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,r5(e,a)}catch(a){await Td(e,a)}YA(e)&&QA(e)}function s5(t){return Eo(t)&&t.Ta.length<10}function r5(t,e){t.Ta.push(e);const n=va(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function YA(t){return Eo(t)&&!va(t).x_()&&t.Ta.length>0}function QA(t){va(t).start()}async function a5(t){va(t).ra()}async function o5(t){const e=va(t);for(const n of t.Ta)e.ea(n.mutations)}async function l5(t,e,n){const s=t.Ta.shift(),a=D0.from(s,e,n);await KA(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await cm(t)}async function c5(t,e){e&&va(t).Y_&&await(async function(s,a){if((function(u){return qO(u)&&u!==he.ABORTED})(a.code)){const l=s.Ta.shift();va(s).B_(),await KA(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await cm(s)}})(t,e),YA(t)&&QA(t)}async function kx(t,e){const n=Le(t);n.asyncQueue.verifyOperationInProgress(),Te(_o,"RemoteStore received new credentials");const s=Eo(n);n.Ea.add(3),await $u(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await lm(n)}async function u5(t,e){const n=Le(t);e?(n.Ea.delete(2),await lm(n)):e||(n.Ea.add(2),await $u(n),n.Va.set("Unknown"))}function Hl(t){return t.ma||(t.ma=(function(n,s,a){const l=Le(n);return l.sa(),new K4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:e5.bind(null,t),Yo:t5.bind(null,t),t_:n5.bind(null,t),J_:i5.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),B0(t)?z0(t):t.Va.set("Unknown")):(await t.ma.stop(),$A(t))}))),t.ma}function va(t){return t.fa||(t.fa=(function(n,s,a){const l=Le(n);return l.sa(),new Y4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:a5.bind(null,t),t_:c5.bind(null,t),ta:o5.bind(null,t),na:l5.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await cm(t)):(await t.fa.stop(),t.Ta.length>0&&(Te(_o,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class F0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,f=new F0(e,n,u,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function q0(t,e){if(gr("AsyncQueue",`${e}: ${t}`),ql(t))return new _e(he.UNAVAILABLE,`${e}: ${t}`);throw t}class Al{static emptySet(e){return new Al(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ne.comparator(n.key,s.key):(n,s)=>Ne.comparator(n.key,s.key),this.keyedMap=su(),this.sortedSet=new Pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Al)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Al;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class Mx{constructor(){this.ga=new Pt(Ne.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Me(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Vl{constructor(e,n,s,a,l,u,f,p,d){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=d}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new Vl(e,n,Al.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class h5{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class f5{constructor(){this.queries=Vx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Le(n),l=a.queries;a.queries=Vx(),l.forEach(((u,f)=>{for(const p of f.ba)p.onError(s)}))})(this,new _e(he.ABORTED,"Firestore shutting down"))}}function Vx(){return new xo((t=>pA(t)),nm)}async function H0(t,e){const n=Le(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(s=2):(l=new h5,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const f=q0(u,`Initialization of query '${fl(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&$0(n)}async function G0(t,e){const n=Le(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function d5(t,e){const n=Le(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const f of u.ba)f.Fa(a)&&(s=!0);u.wa=a}}s&&$0(n)}function m5(t,e,n){const s=Le(t),a=s.queries.get(e);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(e)}function $0(t){t.Ca.forEach((e=>{e.next()}))}var Cy,Px;(Px=Cy||(Cy={})).Ma="default",Px.Cache="cache";class K0{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Vl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cy.Cache}}class WA{constructor(e){this.key=e}}class XA{constructor(e){this.key=e}}class p5{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Je(),this.mutatedKeys=Je(),this.eu=gA(e),this.tu=new Al(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new Mx,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,v)=>{const T=a.get(y),C=im(this.query,v)?v:null,M=!!T&&this.mutatedKeys.has(T.key),O=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let N=!1;T&&C?T.data.isEqual(C.data)?M!==O&&(s.track({type:3,doc:C}),N=!0):this.su(T,C)||(s.track({type:2,doc:C}),N=!0,(p&&this.eu(C,p)>0||d&&this.eu(C,d)<0)&&(f=!0)):!T&&C?(s.track({type:0,doc:C}),N=!0):T&&!C&&(s.track({type:1,doc:T}),N=!0,(p||d)&&(f=!0)),N&&(C?(u=u.add(C),l=O?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:u,iu:s,Ss:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,v)=>(function(C,M){const O=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Vt:N})}};return O(C)-O(M)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],p=this.Ya.size===0&&this.current&&!a?1:0,d=p!==this.Xa;return this.Xa=p,u.length!==0||d?{snapshot:new Vl(this.query,e.tu,l,u,e.mutatedKeys,p===0,d,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Mx,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Je(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new XA(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new WA(s))})),n}cu(e){this.Za=e.ks,this.Ya=Je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Vl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Y0="SyncEngine";class g5{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class y5{constructor(e){this.key=e,this.hu=!1}}class v5{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new xo((f=>pA(f)),nm),this.Iu=new Map,this.Eu=new Set,this.Ru=new Pt(Ne.comparator),this.Au=new Map,this.Vu=new V0,this.du={},this.mu=new Map,this.fu=Ml.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function b5(t,e,n=!0){const s=iC(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await ZA(s,e,n,!0),a}async function _5(t,e){const n=iC(t);await ZA(n,e,!0,!1)}async function ZA(t,e,n,s){const a=await U4(t.localStore,Cs(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await w5(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&HA(t.remoteStore,a),f}async function w5(t,e,n,s,a){t.pu=(v,T,C)=>(async function(O,N,H,W){let Q=N.view.ru(H);Q.Ss&&(Q=await Cx(O.localStore,N.query,!1).then((({documents:I})=>N.view.ru(I,Q))));const Y=W&&W.targetChanges.get(N.targetId),re=W&&W.targetMismatches.get(N.targetId)!=null,ce=N.view.applyChanges(Q,O.isPrimaryClient,Y,re);return jx(O,N.targetId,ce.au),ce.snapshot})(t,v,T,C);const l=await Cx(t.localStore,e,!0),u=new p5(e,l.ks),f=u.ru(l.documents),p=Gu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),d=u.applyChanges(f,t.isPrimaryClient,p);jx(t,n,d.au);const y=new g5(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function T5(t,e,n){const s=Le(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!nm(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Sy(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&L0(s.remoteStore,a.targetId),Ry(s,a.targetId)})).catch(Fl)):(Ry(s,a.targetId),await Sy(s.localStore,a.targetId,!0))}async function x5(t,e){const n=Le(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),L0(n.remoteStore,s.targetId))}async function E5(t,e,n){const s=D5(t);try{const a=await(function(u,f){const p=Le(u),d=Fe.now(),y=f.reduce(((C,M)=>C.add(M.key)),Je());let v,T;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let M=yr(),O=Je();return p.xs.getEntries(C,y).next((N=>{M=N,M.forEach(((H,W)=>{W.isValidDocument()||(O=O.add(H))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,M))).next((N=>{v=N;const H=[];for(const W of f){const Q=LO(W,v.get(W.key).overlayedDocument);Q!=null&&H.push(new Ea(W.key,Q,oA(Q.value.mapValue),ji.exists(!0)))}return p.mutationQueue.addMutationBatch(C,d,H,f)})).next((N=>{T=N;const H=N.applyToLocalDocumentSet(v,O);return p.documentOverlayCache.saveOverlays(C,N.batchId,H)}))})).then((()=>({batchId:T.batchId,changes:vA(v)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,f,p){let d=u.du[u.currentUser.toKey()];d||(d=new Pt(Ze)),d=d.insert(f,p),u.du[u.currentUser.toKey()]=d})(s,a.batchId,n),await Ku(s,a.changes),await cm(s.remoteStore)}catch(a){const l=q0(a,"Failed to persist write");n.reject(l)}}async function JA(t,e){const n=Le(t);try{const s=await O4(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(dt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?dt(u.hu,14607):a.removedDocuments.size>0&&(dt(u.hu,42227),u.hu=!1))})),await Ku(n,s,e)}catch(s){await Fl(s)}}function Ox(t,e,n){const s=Le(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const p=Le(u);p.onlineState=f;let d=!1;p.queries.forEach(((y,v)=>{for(const T of v.ba)T.va(f)&&(d=!0)})),d&&$0(p)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function S5(t,e,n){const s=Le(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new Pt(Ne.comparator);u=u.insert(l,Nn.newNoDocument(l,Oe.min()));const f=Je().add(l),p=new am(Oe.min(),new Map,new Pt(Ze),u,f);await JA(s,p),s.Ru=s.Ru.remove(l),s.Au.delete(e),Q0(s)}else await Sy(s.localStore,e,!1).then((()=>Ry(s,e,n))).catch(Fl)}async function A5(t,e){const n=Le(t),s=e.batch.batchId;try{const a=await P4(n.localStore,e);tC(n,s,null),eC(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ku(n,a)}catch(a){await Fl(a)}}async function C5(t,e,n){const s=Le(t);try{const a=await(function(u,f){const p=Le(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let y;return p.mutationQueue.lookupMutationBatch(d,f).next((v=>(dt(v!==null,37113),y=v.keys(),p.mutationQueue.removeMutationBatch(d,v)))).next((()=>p.mutationQueue.performConsistencyCheck(d))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(d,y,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,y))).next((()=>p.localDocuments.getDocuments(d,y)))}))})(s.localStore,e);tC(s,e,n),eC(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ku(s,a)}catch(a){await Fl(a)}}function eC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function tC(t,e,n){const s=Le(t);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function Ry(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((s=>{t.Vu.containsKey(s)||nC(t,s)}))}function nC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(L0(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Q0(t))}function jx(t,e,n){for(const s of n)s instanceof WA?(t.Vu.addReference(s.key,e),R5(t,s)):s instanceof XA?(Te(Y0,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||nC(t,s.key)):Me(19791,{wu:s})}function R5(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(Te(Y0,"New document in limbo: "+n),t.Eu.add(s),Q0(t))}function Q0(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ne(Et.fromString(e)),s=t.fu.next();t.Au.set(s,new y5(n)),t.Ru=t.Ru.insert(n,s),HA(t.remoteStore,new aa(Cs(tm(n.path)),s,"TargetPurposeLimboResolution",Zd.ce))}}async function Ku(t,e,n){const s=Le(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,p)=>{u.push(s.pu(p,e,n).then((d=>{if((d||n)&&s.isPrimaryClient){const y=d?!d.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(d){a.push(d);const y=O0.Es(p.targetId,d);l.push(y)}})))})),await Promise.all(u),s.Pu.J_(a),await(async function(p,d){const y=Le(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>de.forEach(d,(T=>de.forEach(T.Ts,(C=>y.persistence.referenceDelegate.addReference(v,T.targetId,C))).next((()=>de.forEach(T.Is,(C=>y.persistence.referenceDelegate.removeReference(v,T.targetId,C)))))))))}catch(v){if(!ql(v))throw v;Te(j0,"Failed to update sequence numbers: "+v)}for(const v of d){const T=v.targetId;if(!v.fromCache){const C=y.vs.get(T),M=C.snapshotVersion,O=C.withLastLimboFreeSnapshotVersion(M);y.vs=y.vs.insert(T,O)}}})(s.localStore,l))}async function I5(t,e){const n=Le(t);if(!n.currentUser.isEqual(e)){Te(Y0,"User change. New user:",e.toKey());const s=await zA(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((p=>{p.reject(new _e(he.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ku(n,s.Ns)}}function N5(t,e){const n=Le(t),s=n.Au.get(e);if(s&&s.hu)return Je().add(s.key);{let a=Je();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const f=n.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function iC(t){const e=Le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=JA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=N5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=S5.bind(null,e),e.Pu.J_=d5.bind(null,e.eventManager),e.Pu.yu=m5.bind(null,e.eventManager),e}function D5(t){const e=Le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=A5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=C5.bind(null,e),e}class xd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=om(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return V4(this.persistence,new D4,e.initialUser,this.serializer)}Cu(e){return new UA(P0.Vi,this.serializer)}Du(e){return new B4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xd.provider={build:()=>new xd};class k5 extends xd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){dt(this.persistence.referenceDelegate instanceof wd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new g4(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Wn.withCacheSize(this.cacheSizeBytes):Wn.DEFAULT;return new UA((s=>wd.Vi(s,n)),this.serializer)}}class Iy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Ox(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=I5.bind(null,this.syncEngine),await u5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new f5})()}createDatastore(e){const n=om(e.databaseInfo.databaseId),s=$4(e.databaseInfo);return X4(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,f){return new J4(s,a,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>Ox(this.syncEngine,n,0)),(function(){return Nx.v()?new Nx:new F4})())}createSyncEngine(e,n){return(function(a,l,u,f,p,d,y){const v=new v5(a,l,u,f,p,d);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Le(n);Te(_o,"RemoteStore shutting down."),s.Ea.add(5),await $u(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Iy.provider={build:()=>new Iy};class W0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ba="FirestoreClient";class M5{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=In.UNAUTHENTICATED,this.clientId=Wd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{Te(ba,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(Te(ba,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=q0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Mg(t,e){t.asyncQueue.verifyOperationInProgress(),Te(ba,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await zA(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Lx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await V5(t);Te(ba,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>kx(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>kx(e.remoteStore,a))),t._onlineComponents=e}async function V5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(ba,"Using user provided OfflineComponentProvider");try{await Mg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===he.FAILED_PRECONDITION||a.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;bo("Error using user provided cache. Falling back to memory cache: "+n),await Mg(t,new xd)}}else Te(ba,"Using default OfflineComponentProvider"),await Mg(t,new k5(void 0));return t._offlineComponents}async function sC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(ba,"Using user provided OnlineComponentProvider"),await Lx(t,t._uninitializedComponentsProvider._online)):(Te(ba,"Using default OnlineComponentProvider"),await Lx(t,new Iy))),t._onlineComponents}function P5(t){return sC(t).then((e=>e.syncEngine))}async function Ed(t){const e=await sC(t),n=e.eventManager;return n.onListen=b5.bind(null,e.syncEngine),n.onUnlisten=T5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=x5.bind(null,e.syncEngine),n}function O5(t,e,n,s){const a=new W0(s),l=new K0(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>H0(await Ed(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>G0(await Ed(t),l)))}}function j5(t,e,n={}){const s=new ur;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,p,d){const y=new W0({next:T=>{y.Nu(),u.enqueueAndForget((()=>G0(l,v)));const C=T.docs.has(f);!C&&T.fromCache?d.reject(new _e(he.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&p&&p.source==="server"?d.reject(new _e(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(T)},error:T=>d.reject(T)}),v=new K0(tm(f.path),y,{includeMetadataChanges:!0,Ka:!0});return H0(l,v)})(await Ed(t),t.asyncQueue,e,n,s))),s.promise}function L5(t,e,n={}){const s=new ur;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,p,d){const y=new W0({next:T=>{y.Nu(),u.enqueueAndForget((()=>G0(l,v))),T.fromCache&&p.source==="server"?d.reject(new _e(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(T)},error:T=>d.reject(T)}),v=new K0(f,y,{includeMetadataChanges:!0,Ka:!0});return H0(l,v)})(await Ed(t),t.asyncQueue,e,n,s))),s.promise}function U5(t,e){const n=new ur;return t.asyncQueue.enqueueAndForget((async()=>E5(await P5(t),e,n))),n.promise}function rC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const z5="ComponentProvider",Ux=new Map;function B5(t,e,n,s,a){return new oO(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,rC(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const aC="firestore.googleapis.com",zx=!0;class Bx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aC,this.ssl=zx}else this.host=e.host,this.ssl=e.ssl??zx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=LA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<m4)throw new _e(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rC(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _e(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _e(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _e(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class um{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new YS;switch(s.type){case"firstParty":return new GP(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _e(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Ux.get(n);s&&(Te(z5,"Removing Datastore"),Ux.delete(n),s.terminate())})(this),Promise.resolve()}}function oC(t,e,n,s={}){t=zn(t,um);const a=wo(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(l0(`https://${f}`),c0("Firestore",!0)),l.host!==aC&&l.host!==f&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:a,emulatorOptions:s};if(!po(p,u)&&(t._setSettings(p),s.mockUserToken)){let d,y;if(typeof s.mockUserToken=="string")d=s.mockUserToken,y=In.MOCK_USER;else{d=sS(s.mockUserToken,t._app?.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new _e(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new In(v)}t._authCredentials=new FP(new KS(d,y))}}class Sa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Sa(this.firestore,e,this._query)}}class Vt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Fu(n,Vt._jsonSchema))return new Vt(e,s||null,new Ne(Et.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:rn("string",Vt._jsonSchemaVersion),referencePath:rn("string")};class hr extends Sa{constructor(e,n,s){super(e,n,tm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new Ne(e))}withConverter(e){return new hr(this.firestore,e,this._path)}}function pl(t,e,...n){if(t=un(t),QS("collection","path",e),t instanceof um){const s=Et.fromString(e,...n);return ex(s),new hr(t,null,s)}{if(!(t instanceof Vt||t instanceof hr))throw new _e(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Et.fromString(e,...n));return ex(s),new hr(t.firestore,null,s)}}function Is(t,e,...n){if(t=un(t),arguments.length===1&&(e=Wd.newId()),QS("doc","path",e),t instanceof um){const s=Et.fromString(e,...n);return JT(s),new Vt(t,null,new Ne(s))}{if(!(t instanceof Vt||t instanceof hr))throw new _e(he.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Et.fromString(e,...n));return JT(s),new Vt(t.firestore,t instanceof hr?t.converter:null,new Ne(s))}}const Fx="AsyncQueue";class qx{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new FA(this,"async_queue_retry"),this._c=()=>{const s=kg();s&&Te(Fx,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=kg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=kg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ur;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ql(e))throw e;Te(Fx,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,gr("INTERNAL UNHANDLED ERROR: ",Hx(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=F0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Me(47125,{Pc:Hx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Hx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ms extends um{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new qx,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qx(e),this._firestoreClient=void 0,await e}}}function lC(t,e){const n=typeof t=="object"?t:f0(),s=typeof t=="string"?t:md,a=$d(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=tS("firestore");l&&oC(a,...l)}return a}function Yu(t){if(t._terminated)throw new _e(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||F5(t),t._firestoreClient}function F5(t){const e=t._freezeSettings(),n=B5(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new M5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class fi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fi(pn.fromBase64String(e))}catch(n){throw new _e(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fi(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fu(e,fi._jsonSchema))return fi.fromBase64String(e.bytes)}}fi._jsonSchemaVersion="firestore/bytes/1.0",fi._jsonSchema={type:rn("string",fi._jsonSchemaVersion),bytes:rn("string")};class hm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fm{constructor(e){this._methodName=e}}class is{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:is._jsonSchemaVersion}}static fromJSON(e){if(Fu(e,is._jsonSchema))return new is(e.latitude,e.longitude)}}is._jsonSchemaVersion="firestore/geoPoint/1.0",is._jsonSchema={type:rn("string",is._jsonSchemaVersion),latitude:rn("number"),longitude:rn("number")};class Li{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fu(e,Li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Li(e.vectorValues);throw new _e(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Li._jsonSchemaVersion="firestore/vectorValue/1.0",Li._jsonSchema={type:rn("string",Li._jsonSchemaVersion),vectorValues:rn("object")};const q5=/^__.*__$/;class H5{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ea(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hu(e,this.data,n,this.fieldTransforms)}}class cC{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ea(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{dataSource:t})}}class X0{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new X0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Sd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(uC(this.dataSource)&&q5.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class G5{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||om(e)}createContext(e,n,s,a=!1){return new X0({dataSource:e,methodName:n,targetDoc:s,path:mn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dm(t){const e=t._freezeSettings(),n=om(t._databaseId);return new G5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hC(t,e,n,s,a,l={}){const u=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);Z0("Data must be an object, but it was:",u,s);const f=fC(s,u);let p,d;if(l.merge)p=new di(u.fieldMask),d=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const T=Pl(e,v,n);if(!u.contains(T))throw new _e(he.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);pC(y,T)||y.push(T)}p=new di(y),d=u.fieldTransforms.filter((v=>p.covers(v.field)))}else p=null,d=u.fieldTransforms;return new H5(new Zn(f),p,d)}class Qu extends fm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qu}}function $5(t,e,n,s){const a=t.createContext(1,e,n);Z0("Data must be an object, but it was:",a,s);const l=[],u=Zn.empty();xa(s,((p,d)=>{const y=mC(e,p,n);d=un(d);const v=a.childContextForFieldPath(y);if(d instanceof Qu)l.push(y);else{const T=Wu(d,v);T!=null&&(l.push(y),u.set(y,T))}}));const f=new di(l);return new cC(u,f,a.fieldTransforms)}function K5(t,e,n,s,a,l){const u=t.createContext(1,e,n),f=[Pl(e,s,n)],p=[a];if(l.length%2!=0)throw new _e(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)f.push(Pl(e,l[T])),p.push(l[T+1]);const d=[],y=Zn.empty();for(let T=f.length-1;T>=0;--T)if(!pC(d,f[T])){const C=f[T];let M=p[T];M=un(M);const O=u.childContextForFieldPath(C);if(M instanceof Qu)d.push(C);else{const N=Wu(M,O);N!=null&&(d.push(C),y.set(C,N))}}const v=new di(d);return new cC(y,v,u.fieldTransforms)}function Y5(t,e,n,s=!1){return Wu(n,t.createContext(s?4:3,e))}function Wu(t,e){if(dC(t=un(t)))return Z0("Unsupported field value:",e,t),fC(t,e);if(t instanceof fm)return(function(s,a){if(!uC(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const f of s){let p=Wu(f,a.childContextForArray(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=un(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return kO(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Fe.fromDate(s);return{timestampValue:_d(a.serializer,l)}}if(s instanceof Fe){const l=new Fe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:_d(a.serializer,l)}}if(s instanceof is)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof fi)return{bytesValue:NA(a.serializer,s._byteString)};if(s instanceof Vt){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:M0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Li)return(function(u,f){const p=u instanceof Li?u.toArray():u;return{mapValue:{fields:{[rA]:{stringValue:aA},[pd]:{arrayValue:{values:p.map((y=>{if(typeof y!="number")throw f.createError("VectorValues must only contain numeric values.");return I0(f.serializer,y)}))}}}}}})(s,a);if(jA(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Xd(s)}`)})(t,e)}function fC(t,e){const n={};return JS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xa(t,((s,a)=>{const l=Wu(a,e.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function dC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Fe||t instanceof is||t instanceof fi||t instanceof Vt||t instanceof fm||t instanceof Li||jA(t))}function Z0(t,e,n){if(!dC(n)||!XS(n)){const s=Xd(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function Pl(t,e,n){if((e=un(e))instanceof hm)return e._internalPath;if(typeof e=="string")return mC(t,e);throw Sd("Field path arguments must be of type string or ",t,!1,void 0,n)}const Q5=new RegExp("[~\\*/\\[\\]]");function mC(t,e,n){if(e.search(Q5)>=0)throw Sd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hm(...e.split("."))._internalPath}catch{throw Sd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sd(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${s}`),u&&(p+=` in document ${a}`),p+=")"),new _e(he.INVALID_ARGUMENT,f+t+p)}function pC(t,e){return t.some((n=>n.isEqual(e)))}class gC{convertValue(e,n="none"){switch(ya(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return xa(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[pd].arrayValue?.values?.map((s=>$t(s.doubleValue)));return new Li(n)}convertGeoPoint(e){return new is($t(e.latitude),$t(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=em(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Su(e));default:return null}}convertTimestamp(e){const n=pa(e);return new Fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Et.fromString(e);dt(OA(s),9688,{name:e});const a=new Nl(s.get(1),s.get(3)),l=new Ne(s.popFirst(5));return a.isEqual(n)||gr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class J0 extends gC{constructor(e){super(),this.firestore=e}convertBytes(e){return new fi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function Ad(){return new Qu("deleteField")}const Gx="@firebase/firestore",$x="4.10.0";function Kx(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class yC{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new W5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Pl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class W5 extends yC{data(){return super.data()}}function vC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ev{}class bC extends ev{}function Cd(t,e,...n){let s=[];e instanceof ev&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((p=>p instanceof mm)).length,f=l.filter((p=>p instanceof Xu)).length;if(u>1||u>0&&f>0)throw new _e(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Xu extends bC{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Xu(e,n,s)}_apply(e){const n=this._parse(e);return _C(e._query,n),new Sa(e.firestore,e.converter,by(e._query,n))}_parse(e){const n=dm(e.firestore);return(function(l,u,f,p,d,y,v){let T;if(d.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new _e(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Qx(v,y);const M=[];for(const O of v)M.push(Yx(p,l,O));T={arrayValue:{values:M}}}else T=Yx(p,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Qx(v,y),T=Y5(f,u,v,y==="in"||y==="not-in");return sn.create(d,y,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Rd(t,e,n){const s=e,a=Pl("where",t);return Xu._create(a,s,n)}class mm extends ev{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new mm(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ss.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const f=l.getFlattenedFilters();for(const p of f)_C(u,p),u=by(u,p)})(e._query,n),new Sa(e.firestore,e.converter,by(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Yx(t,e,n){if(typeof(n=un(n))=="string"){if(n==="")throw new _e(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mA(e)&&n.indexOf("/")!==-1)throw new _e(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Et.fromString(n));if(!Ne.isDocumentKey(s))throw new _e(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return lx(t,new Ne(s))}if(n instanceof Vt)return lx(t,n._key);throw new _e(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xd(n)}.`)}function Qx(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _C(t,e){const n=(function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new _e(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function wC(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ha extends yC{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Pl("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ha._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",ha._jsonSchema={type:rn("string",ha._jsonSchemaVersion),bundleSource:rn("string","DocumentSnapshot"),bundleName:rn("string"),bundle:rn("string")};class mu extends ha{data(e={}){return super.data(e)}}class fa{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new gl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new mu(this._firestore,this._userDataWriter,s.key,s,new gl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const p=new mu(a._firestore,a._userDataWriter,f.doc.key,f.doc,new gl(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new mu(a._firestore,a._userDataWriter,f.doc.key,f.doc,new gl(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,y=-1;return f.type!==0&&(d=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:X5(f.type),doc:p,oldIndex:d,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function X5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}fa._jsonSchemaVersion="firestore/querySnapshot/1.0",fa._jsonSchema={type:rn("string",fa._jsonSchemaVersion),bundleSource:rn("string","QuerySnapshot"),bundleName:rn("string"),bundle:rn("string")};function Zu(t){t=zn(t,Vt);const e=zn(t.firestore,Ms),n=Yu(e);return j5(n,t._key).then((s=>SC(e,t,s)))}function pu(t){t=zn(t,Sa);const e=zn(t.firestore,Ms),n=Yu(e),s=new J0(e);return vC(t._query),L5(n,t._query).then((a=>new fa(e,s,t,a)))}function Id(t,e,n){t=zn(t,Vt);const s=zn(t.firestore,Ms),a=wC(t.converter,e,n),l=dm(s);return Ju(s,[hC(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,ji.none())])}function Mi(t,e,n,...s){t=zn(t,Vt);const a=zn(t.firestore,Ms),l=dm(a);let u;return u=typeof(e=un(e))=="string"||e instanceof hm?K5(l,"updateDoc",t._key,e,n,s):$5(l,"updateDoc",t._key,e),Ju(a,[u.toMutation(t._key,ji.exists(!0))])}function TC(t){return Ju(zn(t.firestore,Ms),[new N0(t._key,ji.none())])}function xC(t,e){const n=zn(t.firestore,Ms),s=Is(t),a=wC(t.converter,e),l=dm(t.firestore);return Ju(n,[hC(l,"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,ji.exists(!1))]).then((()=>s))}function EC(t,...e){t=un(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Kx(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Kx(e[s])){const d=e[s];e[s]=d.next?.bind(d),e[s+1]=d.error?.bind(d),e[s+2]=d.complete?.bind(d)}let l,u,f;if(t instanceof Vt)u=zn(t.firestore,Ms),f=tm(t._key.path),l={next:d=>{e[s]&&e[s](SC(u,t,d))},error:e[s+1],complete:e[s+2]};else{const d=zn(t,Sa);u=zn(d.firestore,Ms),f=d._query;const y=new J0(u);l={next:v=>{e[s]&&e[s](new fa(u,y,d,v))},error:e[s+1],complete:e[s+2]},vC(t._query)}const p=Yu(u);return O5(p,f,a,l)}function Ju(t,e){const n=Yu(t);return U5(n,e)}function SC(t,e,n){const s=n.docs.get(e._key),a=new J0(t);return new ha(t,a,e._key,s,new gl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){BP(To),go(new da("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),f=new Ms(new qP(s.getProvider("auth-internal")),new $P(u,s.getProvider("app-check-internal")),lO(u,a),u);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Ss(Gx,$x,e),Ss(Gx,$x,"esm2020")})();const Z5=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:gC,Bytes:fi,CollectionReference:hr,DocumentReference:Vt,DocumentSnapshot:ha,FieldPath:hm,FieldValue:fm,Firestore:Ms,FirestoreError:_e,GeoPoint:is,Query:Sa,QueryCompositeFilterConstraint:mm,QueryConstraint:bC,QueryDocumentSnapshot:mu,QueryFieldFilterConstraint:Xu,QuerySnapshot:fa,SnapshotMetadata:gl,Timestamp:Fe,VectorValue:Li,_AutoId:Wd,_ByteString:pn,_DatabaseId:Nl,_DocumentKey:Ne,_EmptyAuthCredentialsProvider:YS,_FieldPath:mn,_cast:zn,_logWarn:bo,_validateIsNotUsedTogether:WS,addDoc:xC,collection:pl,connectFirestoreEmulator:oC,deleteDoc:TC,deleteField:Ad,doc:Is,ensureFirestoreConfigured:Yu,executeWrite:Ju,getDoc:Zu,getDocs:pu,getFirestore:lC,onSnapshot:EC,query:Cd,setDoc:Id,updateDoc:Mi,where:Rd},Symbol.toStringTag,{value:"Module"}));const AC="firebasestorage.googleapis.com",J5="storageBucket",e3=120*1e3,t3=600*1e3;class js extends Os{constructor(e,n,s=0){super(Vg(e),`Firebase Storage: ${n} (${Vg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,js.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Vs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Vs||(Vs={}));function Vg(t){return"storage/"+t}function n3(){const t="An unknown error occurred, please check the error payload for server response.";return new js(Vs.UNKNOWN,t)}function i3(){return new js(Vs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function s3(){return new js(Vs.CANCELED,"User canceled the upload/download.")}function r3(t){return new js(Vs.INVALID_URL,"Invalid URL '"+t+"'.")}function a3(t){return new js(Vs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Wx(t){return new js(Vs.INVALID_ARGUMENT,t)}function CC(){return new js(Vs.APP_DELETED,"The Firebase app was deleted.")}function o3(t){return new js(Vs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class ts{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=ts.makeFromUrl(e,n)}catch{return new ts(e,"")}if(s.path==="")return s;throw a3(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+a+u,"i"),p={bucket:1,path:3};function d(Y){Y.path_=decodeURIComponent(Y.path)}const y="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",C=new RegExp(`^https?://${v}/${y}/b/${a}/o${T}`,"i"),M={bucket:1,path:3},O=n===AC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",H=new RegExp(`^https?://${O}/${a}/${N}`,"i"),Q=[{regex:f,indices:p,postModify:l},{regex:C,indices:M,postModify:d},{regex:H,indices:{bucket:1,path:2},postModify:d}];for(let Y=0;Y<Q.length;Y++){const re=Q[Y],ce=re.regex.exec(e);if(ce){const I=ce[re.indices.bucket];let S=ce[re.indices.path];S||(S=""),s=new ts(I,S),re.postModify(s);break}}if(s==null)throw r3(e);return s}}class l3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function c3(t,e,n){let s=1,a=null,l=null,u=!1,f=0;function p(){return f===2}let d=!1;function y(...N){d||(d=!0,e.apply(null,N))}function v(N){a=setTimeout(()=>{a=null,t(C,p())},N)}function T(){l&&clearTimeout(l)}function C(N,...H){if(d){T();return}if(N){T(),y.call(null,N,...H);return}if(p()||u){T(),y.call(null,N,...H);return}s<64&&(s*=2);let Q;f===1?(f=2,Q=0):Q=(s+Math.random())*1e3,v(Q)}let M=!1;function O(N){M||(M=!0,T(),!d&&(a!==null?(N||(f=2),clearTimeout(a),v(0)):N||(f=1)))}return v(0),l=setTimeout(()=>{u=!0,O(!0)},n),O}function u3(t){t(!1)}function h3(t){return t!==void 0}function Xx(t,e,n,s){if(s<e)throw Wx(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw Wx(`Invalid value for '${t}'. Expected ${n} or less.`)}function f3(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var Nd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Nd||(Nd={}));function d3(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class m3{constructor(e,n,s,a,l,u,f,p,d,y,v,T=!0,C=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=p,this.timeout_=d,this.progressCallback_=y,this.connectionFactory_=v,this.retry=T,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,O)=>{this.resolve_=M,this.reject_=O,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new kf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const p=f.loaded,d=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,d)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===Nd.NO_ERROR,p=l.getStatus();if(!f||d3(p,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Nd.ABORT;s(!1,new kf(!1,null,y));return}const d=this.successCodes_.indexOf(p)!==-1;s(!0,new kf(d,l))})},n=(s,a)=>{const l=this.resolve_,u=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());h3(p)?l(p):l()}catch(p){u(p)}else if(f!==null){const p=n3();p.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,p)):u(p)}else if(a.canceled){const p=this.appDelete_?CC():s3();u(p)}else{const p=i3();u(p)}};this.canceled_?n(!1,new kf(!1,null,!0)):this.backoffId_=c3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&u3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class kf{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function p3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function g3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function y3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function v3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function b3(t,e,n,s,a,l,u=!0,f=!1){const p=f3(t.urlParams),d=t.url+p,y=Object.assign({},t.headers);return y3(y,e),p3(y,n),g3(y,l),v3(y,s),new m3(d,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,f)}function _3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function w3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class Dd{constructor(e,n){this._service=e,n instanceof ts?this._location=n:this._location=ts.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Dd(e,n)}get root(){const e=new ts(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return w3(this._location.path)}get storage(){return this._service}get parent(){const e=_3(this._location.path);if(e===null)return null;const n=new ts(this._location.bucket,e);return new Dd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw o3(e)}}function Zx(t,e){const n=e?.[J5];return n==null?null:ts.makeFromBucketSpec(n,t)}function T3(t,e,n,s={}){t.host=`${e}:${n}`;const a=wo(e);a&&(l0(`https://${t.host}/b`),c0("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:sS(l,t.app.options.projectId))}class x3{constructor(e,n,s,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=AC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=e3,this._maxUploadRetryTime=t3,this._requests=new Set,a!=null?this._bucket=ts.makeFromBucketSpec(a,this._host):this._bucket=Zx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ts.makeFromBucketSpec(this._url,e):this._bucket=Zx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Xx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Xx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Dd(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new l3(CC());{const u=b3(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const Jx="@firebase/storage",e1="0.14.0";const RC="storage";function E3(t=f0(),e){t=un(t);const s=$d(t,RC).getImmediate({identifier:e}),a=tS("storage");return a&&S3(s,...a),s}function S3(t,e,n,s={}){T3(t,e,n,s)}function A3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new x3(n,s,a,e,To)}function C3(){go(new da(RC,A3,"PUBLIC").setMultipleInstances(!0)),Ss(Jx,e1,""),Ss(Jx,e1,"esm2020")}C3();const R3={apiKey:"AIzaSyC7IaK8e0JimVT2DeKQovTDLPyufibEu_4",authDomain:"sunsar-bingo.firebaseapp.com",projectId:"sunsar-bingo",storageBucket:"sunsar-bingo.firebasestorage.app",messagingSenderId:"256131852935",appId:"1:256131852935:web:fe514c1e6758e5af252622"},pm=oS(R3),Xf=UP(pm),IC=new ar,Xn=lC(pm);E3(pm);const I3=Object.freeze(Object.defineProperty({__proto__:null,app:pm,auth:Xf,db:Xn,googleProvider:IC},Symbol.toStringTag,{value:"Module"})),NC=k.createContext(void 0),N3=({children:t})=>{const[e,n]=k.useState(null),[s,a]=k.useState(!0),[l,u]=k.useState(null);k.useEffect(()=>{const d=CV(Xf,async y=>{if(y){const v={uid:y.uid,email:y.email,displayName:y.displayName,photoURL:y.photoURL};n(v),u(null);try{const{doc:T,setDoc:C,Timestamp:M}=await sy(async()=>{const{doc:N,setDoc:H,Timestamp:W}=await Promise.resolve().then(()=>Z5);return{doc:N,setDoc:H,Timestamp:W}},[]),{db:O}=await sy(async()=>{const{db:N}=await Promise.resolve().then(()=>I3);return{db:N}},void 0);await C(T(O,"users",y.uid),{...v,lastSeen:M.now()},{merge:!0})}catch(T){console.error("Error syncing user profile:",T)}}else n(null);a(!1)});return()=>d()},[]);const f=async()=>{u(null);try{await YV(Xf,IC)}catch(d){u(d.message||"Failed to sign in")}},p=async()=>{await RV(Xf)};return b.jsx(NC.Provider,{value:{user:e,loading:s,signIn:f,logout:p,error:l},children:t})},Gl=()=>{const t=k.useContext(NC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},tv=k.createContext({});function nv(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const DC=typeof window<"u",kC=DC?k.useLayoutEffect:k.useEffect,gm=k.createContext(null);function iv(t,e){t.indexOf(e)===-1&&t.push(e)}function sv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ps=(t,e,n)=>n>e?e:n<t?t:n;let rv=()=>{};const vr={},MC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function VC(t){return typeof t=="object"&&t!==null}const PC=t=>/^0[^.\s]+$/u.test(t);function av(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ui=t=>t,D3=(t,e)=>n=>e(t(n)),eh=(...t)=>t.reduce(D3),Iu=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class ov{constructor(){this.subscriptions=[]}add(e){return iv(this.subscriptions,e),()=>sv(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fr=t=>t*1e3,Oi=t=>t/1e3;function OC(t,e){return e?t*(1e3/e):0}const jC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,k3=1e-7,M3=12;function V3(t,e,n,s,a){let l,u,f=0;do u=e+(n-e)/2,l=jC(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>k3&&++f<M3);return u}function th(t,e,n,s){if(t===e&&n===s)return Ui;const a=l=>V3(l,0,1,t,n);return l=>l===0||l===1?l:jC(a(l),e,s)}const LC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,UC=t=>e=>1-t(1-e),zC=th(.33,1.53,.69,.99),lv=UC(zC),BC=LC(lv),FC=t=>(t*=2)<1?.5*lv(t):.5*(2-Math.pow(2,-10*(t-1))),cv=t=>1-Math.sin(Math.acos(t)),qC=UC(cv),HC=LC(cv),P3=th(.42,0,1,1),O3=th(0,0,.58,1),GC=th(.42,0,.58,1),j3=t=>Array.isArray(t)&&typeof t[0]!="number",$C=t=>Array.isArray(t)&&typeof t[0]=="number",L3={linear:Ui,easeIn:P3,easeInOut:GC,easeOut:O3,circIn:cv,circInOut:HC,circOut:qC,backIn:lv,backInOut:BC,backOut:zC,anticipate:FC},U3=t=>typeof t=="string",t1=t=>{if($C(t)){rv(t.length===4);const[e,n,s,a]=t;return th(e,n,s,a)}else if(U3(t))return L3[t];return t},Mf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function z3(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function p(y){u.has(y)&&(d.schedule(y),t()),y(f)}const d={schedule:(y,v=!1,T=!1)=>{const M=T&&a?n:s;return v&&u.add(y),M.has(y)||M.add(y),y},cancel:y=>{s.delete(y),u.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(p),n.clear(),a=!1,l&&(l=!1,d.process(y))}};return d}const B3=40;function KC(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Mf.reduce((Q,Y)=>(Q[Y]=z3(l),Q),{}),{setup:f,read:p,resolveKeyframes:d,preUpdate:y,update:v,preRender:T,render:C,postRender:M}=u,O=()=>{const Q=vr.useManualTiming?a.timestamp:performance.now();n=!1,vr.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(Q-a.timestamp,B3),1)),a.timestamp=Q,a.isProcessing=!0,f.process(a),p.process(a),d.process(a),y.process(a),v.process(a),T.process(a),C.process(a),M.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(O))},N=()=>{n=!0,s=!0,a.isProcessing||t(O)};return{schedule:Mf.reduce((Q,Y)=>{const re=u[Y];return Q[Y]=(ce,I=!1,S=!1)=>(n||N(),re.schedule(ce,I,S)),Q},{}),cancel:Q=>{for(let Y=0;Y<Mf.length;Y++)u[Mf[Y]].cancel(Q)},state:a,steps:u}}const{schedule:Ct,cancel:_a,state:Tn,steps:Pg}=KC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ui,!0);let Zf;function F3(){Zf=void 0}const Ln={now:()=>(Zf===void 0&&Ln.set(Tn.isProcessing||vr.useManualTiming?Tn.timestamp:performance.now()),Zf),set:t=>{Zf=t,queueMicrotask(F3)}},YC=t=>e=>typeof e=="string"&&e.startsWith(t),QC=YC("--"),q3=YC("var(--"),uv=t=>q3(t)?H3.test(t.split("/*")[0].trim()):!1,H3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function n1(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const $l={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Nu={...$l,transform:t=>Ps(0,1,t)},Vf={...$l,default:1},gu=t=>Math.round(t*1e5)/1e5,hv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function G3(t){return t==null}const $3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fv=(t,e)=>n=>!!(typeof n=="string"&&$3.test(n)&&n.startsWith(t)||e&&!G3(n)&&Object.prototype.hasOwnProperty.call(n,e)),WC=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,f]=s.match(hv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},K3=t=>Ps(0,255,t),Og={...$l,transform:t=>Math.round(K3(t))},co={test:fv("rgb","red"),parse:WC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Og.transform(t)+", "+Og.transform(e)+", "+Og.transform(n)+", "+gu(Nu.transform(s))+")"};function Y3(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Ny={test:fv("#"),parse:Y3,transform:co.transform},nh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),na=nh("deg"),Ns=nh("%"),xe=nh("px"),Q3=nh("vh"),W3=nh("vw"),i1={...Ns,parse:t=>Ns.parse(t)/100,transform:t=>Ns.transform(t*100)},yl={test:fv("hsl","hue"),parse:WC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Ns.transform(gu(e))+", "+Ns.transform(gu(n))+", "+gu(Nu.transform(s))+")"},nn={test:t=>co.test(t)||Ny.test(t)||yl.test(t),parse:t=>co.test(t)?co.parse(t):yl.test(t)?yl.parse(t):Ny.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?co.transform(t):yl.transform(t),getAnimatableNone:t=>{const e=nn.parse(t);return e.alpha=0,nn.transform(e)}},X3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Z3(t){return isNaN(t)&&typeof t=="string"&&(t.match(hv)?.length||0)+(t.match(X3)?.length||0)>0}const XC="number",ZC="color",J3="var",ej="var(",s1="${}",tj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Du(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(tj,p=>(nn.test(p)?(s.color.push(l),a.push(ZC),n.push(nn.parse(p))):p.startsWith(ej)?(s.var.push(l),a.push(J3),n.push(p)):(s.number.push(l),a.push(XC),n.push(parseFloat(p))),++l,s1)).split(s1);return{values:n,split:f,indexes:s,types:a}}function JC(t){return Du(t).values}function e2(t){const{split:e,types:n}=Du(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const f=n[u];f===XC?l+=gu(a[u]):f===ZC?l+=nn.transform(a[u]):l+=a[u]}return l}}const nj=t=>typeof t=="number"?0:nn.test(t)?nn.getAnimatableNone(t):t;function ij(t){const e=JC(t);return e2(t)(e.map(nj))}const wa={test:Z3,parse:JC,createTransformer:e2,getAnimatableNone:ij};function jg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function sj({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,p=2*n-f;a=jg(p,f,t+1/3),l=jg(p,f,t),u=jg(p,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function kd(t,e){return n=>n>0?e:t}const Mt=(t,e,n)=>t+(e-t)*n,Lg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},rj=[Ny,co,yl],aj=t=>rj.find(e=>e.test(t));function r1(t){const e=aj(t);if(!e)return!1;let n=e.parse(t);return e===yl&&(n=sj(n)),n}const a1=(t,e)=>{const n=r1(t),s=r1(e);if(!n||!s)return kd(t,e);const a={...n};return l=>(a.red=Lg(n.red,s.red,l),a.green=Lg(n.green,s.green,l),a.blue=Lg(n.blue,s.blue,l),a.alpha=Mt(n.alpha,s.alpha,l),co.transform(a))},Dy=new Set(["none","hidden"]);function oj(t,e){return Dy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function lj(t,e){return n=>Mt(t,e,n)}function dv(t){return typeof t=="number"?lj:typeof t=="string"?uv(t)?kd:nn.test(t)?a1:hj:Array.isArray(t)?t2:typeof t=="object"?nn.test(t)?a1:cj:kd}function t2(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>dv(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function cj(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=dv(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function uj(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],f=t.values[u]??0;n[a]=f,s[l]++}return n}const hj=(t,e)=>{const n=wa.createTransformer(e),s=Du(t),a=Du(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Dy.has(t)&&!a.values.length||Dy.has(e)&&!s.values.length?oj(t,e):eh(t2(uj(s,a),a.values),n):kd(t,e)};function n2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Mt(t,e,n):dv(t)(t,e)}const fj=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ct.update(e,n),stop:()=>_a(e),now:()=>Tn.isProcessing?Tn.timestamp:Ln.now()}},i2=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Md=2e4;function mv(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Md;)e+=n,s=t.next(e);return e>=Md?1/0:e}function dj(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(mv(s),Md);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Oi(a)}}const mj=5;function s2(t,e,n){const s=Math.max(e-mj,0);return OC(n-t(s),e-s)}const Ut={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ug=.001;function pj({duration:t=Ut.duration,bounce:e=Ut.bounce,velocity:n=Ut.velocity,mass:s=Ut.mass}){let a,l,u=1-e;u=Ps(Ut.minDamping,Ut.maxDamping,u),t=Ps(Ut.minDuration,Ut.maxDuration,Oi(t)),u<1?(a=d=>{const y=d*u,v=y*t,T=y-n,C=ky(d,u),M=Math.exp(-v);return Ug-T/C*M},l=d=>{const v=d*u*t,T=v*n+n,C=Math.pow(u,2)*Math.pow(d,2)*t,M=Math.exp(-v),O=ky(Math.pow(d,2),u);return(-a(d)+Ug>0?-1:1)*((T-C)*M)/O}):(a=d=>{const y=Math.exp(-d*t),v=(d-n)*t+1;return-Ug+y*v},l=d=>{const y=Math.exp(-d*t),v=(n-d)*(t*t);return y*v});const f=5/t,p=yj(a,l,f);if(t=fr(t),isNaN(p))return{stiffness:Ut.stiffness,damping:Ut.damping,duration:t};{const d=Math.pow(p,2)*s;return{stiffness:d,damping:u*2*Math.sqrt(s*d),duration:t}}}const gj=12;function yj(t,e,n){let s=n;for(let a=1;a<gj;a++)s=s-t(s)/e(s);return s}function ky(t,e){return t*Math.sqrt(1-e*e)}const vj=["duration","bounce"],bj=["stiffness","damping","mass"];function o1(t,e){return e.some(n=>t[n]!==void 0)}function _j(t){let e={velocity:Ut.velocity,stiffness:Ut.stiffness,damping:Ut.damping,mass:Ut.mass,isResolvedFromDuration:!1,...t};if(!o1(t,bj)&&o1(t,vj))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Ps(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Ut.mass,stiffness:a,damping:l}}else{const n=pj(t);e={...e,...n,mass:Ut.mass},e.isResolvedFromDuration=!0}return e}function Vd(t=Ut.visualDuration,e=Ut.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:p,damping:d,mass:y,duration:v,velocity:T,isResolvedFromDuration:C}=_j({...n,velocity:-Oi(n.velocity||0)}),M=T||0,O=d/(2*Math.sqrt(p*y)),N=u-l,H=Oi(Math.sqrt(p/y)),W=Math.abs(N)<5;s||(s=W?Ut.restSpeed.granular:Ut.restSpeed.default),a||(a=W?Ut.restDelta.granular:Ut.restDelta.default);let Q;if(O<1){const re=ky(H,O);Q=ce=>{const I=Math.exp(-O*H*ce);return u-I*((M+O*H*N)/re*Math.sin(re*ce)+N*Math.cos(re*ce))}}else if(O===1)Q=re=>u-Math.exp(-H*re)*(N+(M+H*N)*re);else{const re=H*Math.sqrt(O*O-1);Q=ce=>{const I=Math.exp(-O*H*ce),S=Math.min(re*ce,300);return u-I*((M+O*H*N)*Math.sinh(S)+re*N*Math.cosh(S))/re}}const Y={calculatedDuration:C&&v||null,next:re=>{const ce=Q(re);if(C)f.done=re>=v;else{let I=re===0?M:0;O<1&&(I=re===0?fr(M):s2(Q,re,ce));const S=Math.abs(I)<=s,D=Math.abs(u-ce)<=a;f.done=S&&D}return f.value=f.done?u:ce,f},toString:()=>{const re=Math.min(mv(Y),Md),ce=i2(I=>Y.next(re*I).value,re,30);return re+"ms "+ce},toTransition:()=>{}};return Y}Vd.applyToOptions=t=>{const e=dj(t,100,Vd);return t.ease=e.ease,t.duration=fr(e.duration),t.type="keyframes",t};function My({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:p,restDelta:d=.5,restSpeed:y}){const v=t[0],T={done:!1,value:v},C=S=>f!==void 0&&S<f||p!==void 0&&S>p,M=S=>f===void 0?p:p===void 0||Math.abs(f-S)<Math.abs(p-S)?f:p;let O=n*e;const N=v+O,H=u===void 0?N:u(N);H!==N&&(O=H-v);const W=S=>-O*Math.exp(-S/s),Q=S=>H+W(S),Y=S=>{const D=W(S),L=Q(S);T.done=Math.abs(D)<=d,T.value=T.done?H:L};let re,ce;const I=S=>{C(T.value)&&(re=S,ce=Vd({keyframes:[T.value,M(T.value)],velocity:s2(Q,S,T.value),damping:a,stiffness:l,restDelta:d,restSpeed:y}))};return I(0),{calculatedDuration:null,next:S=>{let D=!1;return!ce&&re===void 0&&(D=!0,Y(S),I(S)),re!==void 0&&S>=re?ce.next(S-re):(!D&&Y(S),T)}}}function wj(t,e,n){const s=[],a=n||vr.mix||n2,l=t.length-1;for(let u=0;u<l;u++){let f=a(t[u],t[u+1]);if(e){const p=Array.isArray(e)?e[u]||Ui:e;f=eh(p,f)}s.push(f)}return s}function Tj(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(rv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=wj(e,s,a),p=f.length,d=y=>{if(u&&y<t[0])return e[0];let v=0;if(p>1)for(;v<t.length-2&&!(y<t[v+1]);v++);const T=Iu(t[v],t[v+1],y);return f[v](T)};return n?y=>d(Ps(t[0],t[l-1],y)):d}function xj(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=Iu(0,e,s);t.push(Mt(n,1,a))}}function Ej(t){const e=[0];return xj(e,t.length-1),e}function Sj(t,e){return t.map(n=>n*e)}function Aj(t,e){return t.map(()=>e||GC).splice(0,t.length-1)}function yu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=j3(s)?s.map(t1):t1(s),l={done:!1,value:e[0]},u=Sj(n&&n.length===e.length?n:Ej(e),t),f=Tj(u,e,{ease:Array.isArray(a)?a:Aj(e,a)});return{calculatedDuration:t,next:p=>(l.value=f(p),l.done=p>=t,l)}}const Cj=t=>t!==null;function pv(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(Cj),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const Rj={decay:My,inertia:My,tween:yu,keyframes:yu,spring:Vd};function r2(t){typeof t.type=="string"&&(t.type=Rj[t.type])}class gv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Ij=t=>t/100;class yv extends gv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Ln.now()&&this.tick(Ln.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;r2(e);const{type:n=yu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:f}=e;const p=n||yu;p!==yu&&typeof f[0]!="number"&&(this.mixKeyframes=eh(Ij,n2(f[0],f[1])),f=[0,100]);const d=p({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=p({...e,keyframes:[...f].reverse(),velocity:-u})),d.calculatedDuration===null&&(d.calculatedDuration=mv(d));const{calculatedDuration:y}=d;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:y,repeat:v,repeatType:T,repeatDelay:C,type:M,onUpdate:O,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const H=this.currentTime-d*(this.playbackSpeed>=0?1:-1),W=this.playbackSpeed>=0?H<0:H>a;this.currentTime=Math.max(H,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let Q=this.currentTime,Y=s;if(v){const S=Math.min(this.currentTime,a)/f;let D=Math.floor(S),L=S%1;!L&&S>=1&&(L=1),L===1&&D--,D=Math.min(D,v+1),D%2&&(T==="reverse"?(L=1-L,C&&(L-=C/f)):T==="mirror"&&(Y=u)),Q=Ps(0,1,L)*f}const re=W?{done:!1,value:y[0]}:Y.next(Q);l&&(re.value=l(re.value));let{done:ce}=re;!W&&p!==null&&(ce=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ce);return I&&M!==My&&(re.value=pv(y,this.options,N,this.speed)),O&&O(re.value),I&&this.finish(),re}then(e,n){return this.finished.then(e,n)}get duration(){return Oi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Oi(e)}get time(){return Oi(this.currentTime)}set time(e){e=fr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ln.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Oi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=fj,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ln.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Nj(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const uo=t=>t*180/Math.PI,Vy=t=>{const e=uo(Math.atan2(t[1],t[0]));return Py(e)},Dj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Vy,rotateZ:Vy,skewX:t=>uo(Math.atan(t[1])),skewY:t=>uo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Py=t=>(t=t%360,t<0&&(t+=360),t),l1=Vy,c1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),u1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),kj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:c1,scaleY:u1,scale:t=>(c1(t)+u1(t))/2,rotateX:t=>Py(uo(Math.atan2(t[6],t[5]))),rotateY:t=>Py(uo(Math.atan2(-t[2],t[0]))),rotateZ:l1,rotate:l1,skewX:t=>uo(Math.atan(t[4])),skewY:t=>uo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Oy(t){return t.includes("scale")?1:0}function jy(t,e){if(!t||t==="none")return Oy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=kj,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Dj,a=f}if(!a)return Oy(e);const l=s[e],u=a[1].split(",").map(Vj);return typeof l=="function"?l(u):u[l]}const Mj=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return jy(n,e)};function Vj(t){return parseFloat(t.trim())}const Kl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yl=new Set(Kl),h1=t=>t===$l||t===xe,Pj=new Set(["x","y","z"]),Oj=Kl.filter(t=>!Pj.has(t));function jj(t){const e=[];return Oj.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const oa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>jy(e,"x"),y:(t,{transform:e})=>jy(e,"y")};oa.translateX=oa.x;oa.translateY=oa.y;const fo=new Set;let Ly=!1,Uy=!1,zy=!1;function a2(){if(Uy){const t=Array.from(fo).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=jj(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Uy=!1,Ly=!1,fo.forEach(t=>t.complete(zy)),fo.clear()}function o2(){fo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Uy=!0)})}function Lj(){zy=!0,o2(),a2(),zy=!1}class vv{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(fo.add(this),Ly||(Ly=!0,Ct.read(o2),Ct.resolveKeyframes(a2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}Nj(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),fo.delete(this)}cancel(){this.state==="scheduled"&&(fo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Uj=t=>t.startsWith("--");function zj(t,e,n){Uj(e)?t.style.setProperty(e,n):t.style[e]=n}const Bj=av(()=>window.ScrollTimeline!==void 0),Fj={};function qj(t,e){const n=av(t);return()=>Fj[e]??n()}const l2=qj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),au=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,f1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:au([0,.65,.55,1]),circOut:au([.55,0,1,.45]),backIn:au([.31,.01,.66,-.59]),backOut:au([.33,1.53,.69,.99])};function c2(t,e){if(t)return typeof t=="function"?l2()?i2(t,e):"ease-out":$C(t)?au(t):Array.isArray(t)?t.map(n=>c2(n,e)||f1.easeOut):f1[t]}function Hj(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:p}={},d=void 0){const y={[e]:n};p&&(y.offset=p);const v=c2(f,a);Array.isArray(v)&&(y.easing=v);const T={delay:s,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return d&&(T.pseudoElement=d),t.animate(y,T)}function u2(t){return typeof t=="function"&&"applyToOptions"in t}function Gj({type:t,...e}){return u2(t)&&l2()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class $j extends gv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:p}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,rv(typeof e.type!="string");const d=Gj(e);this.animation=Hj(n,s,a,d,l),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=pv(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):zj(n,s,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Oi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Oi(e)}get time(){return Oi(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=fr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Bj()?(this.animation.timeline=e,Ui):n(this)}}const h2={anticipate:FC,backInOut:BC,circInOut:HC};function Kj(t){return t in h2}function Yj(t){typeof t.ease=="string"&&Kj(t.ease)&&(t.ease=h2[t.ease])}const zg=10;class Qj extends $j{constructor(e){Yj(e),r2(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new yv({...u,autoplay:!1}),p=Math.max(zg,Ln.now()-this.startTime),d=Ps(0,zg,p-zg);n.setWithVelocity(f.sample(Math.max(0,p-d)).value,f.sample(p).value,d),f.stop()}}const d1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(wa.test(t)||t==="0")&&!t.startsWith("url("));function Wj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Xj(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=d1(a,e),f=d1(l,e);return!u||!f?!1:Wj(t)||(n==="spring"||u2(n))&&s}function By(t){t.duration=0,t.type="keyframes"}const Zj=new Set(["opacity","clipPath","filter","transform"]),Jj=av(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function eL(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:d}=e.owner.getProps();return Jj()&&n&&Zj.has(n)&&(n!=="transform"||!d)&&!p&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const tL=40;class nL extends gv{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:p,motionValue:d,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ln.now();const T={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:p,motionValue:d,element:y,...v},C=y?.KeyframeResolver||vv;this.keyframeResolver=new C(f,(M,O,N)=>this.onKeyframesResolved(M,O,T,!N),p,d,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:p,isHandoff:d,onUpdate:y}=s;this.resolvedAt=Ln.now(),Xj(e,l,u,f)||((vr.instantAnimations||!p)&&y?.(pv(e,s,n)),e[0]=e[e.length-1],By(s),s.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>tL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},C=!d&&eL(T)?new Qj({...T,element:T.motionValue.owner.current}):new yv(T);C.finished.then(()=>this.notifyFinished()).catch(Ui),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Lj()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const iL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function sL(t){const e=iL.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function f2(t,e,n=1){const[s,a]=sL(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return MC(u)?parseFloat(u):u}return uv(a)?f2(a,e,n+1):a}function bv(t,e){return t?.[e]??t?.default??t}const rL={type:"spring",stiffness:500,damping:25,restSpeed:10},aL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),oL={type:"keyframes",duration:.8},lL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cL=(t,{keyframes:e})=>e.length>2?oL:Yl.has(t)?t.startsWith("scale")?aL(e[1]):rL:lL;function uL({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:p,elapsed:d,...y}){return!!Object.keys(y).length}const hL=t=>t!==null;function fL(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(hL),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function d2(t,e,n,s=0,a=1){const l=Array.from(t).sort((d,y)=>d.sortNodePosition(y)).indexOf(e),u=t.size,f=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:f-l*s}const _v=(t,e,n,s={},a,l)=>u=>{const f=bv(s,t)||{},p=f.delay||s.delay||0;let{elapsed:d=0}=s;d=d-fr(p);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-d,onUpdate:T=>{e.set(T),f.onUpdate&&f.onUpdate(T)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};uL(f)||Object.assign(y,cL(t,y)),y.duration&&(y.duration=fr(y.duration)),y.repeatDelay&&(y.repeatDelay=fr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(By(y),y.delay===0&&(v=!0)),(vr.instantAnimations||vr.skipAnimations)&&(v=!0,By(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,v&&!l&&e.get()!==void 0){const T=fL(y.keyframes,f);if(T!==void 0){Ct.update(()=>{y.onUpdate(T),y.onComplete()});return}}return f.isSync?new yv(y):new nL(y)},m2=new Set(["width","height","top","left","right","bottom",...Kl]),m1=30,dL=t=>!isNaN(parseFloat(t));class mL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Ln.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ln.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=dL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ov);const s=this.events[e].add(n);return e==="change"?()=>{s(),Ct.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ln.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>m1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,m1);return OC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ol(t,e){return new mL(t,e)}function p1(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function wv(t,e,n,s){if(typeof e=="function"){const[a,l]=p1(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=p1(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Cl(t,e,n){const s=t.getProps();return wv(s,e,n!==void 0?n:s.custom,t)}const Fy=t=>Array.isArray(t);function pL(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ol(n))}function gL(t){return Fy(t)?t[t.length-1]||0:t}function yL(t,e){const n=Cl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const f=gL(l[u]);pL(t,u,f)}}const Dn=t=>!!(t&&t.getVelocity);function vL(t){return!!(Dn(t)&&t.add)}function qy(t,e){const n=t.getValue("willChange");if(vL(n))return n.add(e);if(!n&&vr.WillChange){const s=new vr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function Tv(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const bL="framerAppearId",p2="data-"+Tv(bL);function g2(t){return t.props[p2]}function _L({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function y2(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...f}=e;s&&(l=s);const p=[],d=a&&t.animationState&&t.animationState.getState()[a];for(const y in f){const v=t.getValue(y,t.latestValues[y]??null),T=f[y];if(T===void 0||d&&_L(d,y))continue;const C={delay:n,...bv(l||{},y)},M=v.get();if(M!==void 0&&!v.isAnimating&&!Array.isArray(T)&&T===M&&!C.velocity)continue;let O=!1;if(window.MotionHandoffAnimation){const H=g2(t);if(H){const W=window.MotionHandoffAnimation(H,y,Ct);W!==null&&(C.startTime=W,O=!0)}}qy(t,y),v.start(_v(y,v,T,t.shouldReduceMotion&&m2.has(y)?{type:!1}:C,t,O));const N=v.animation;N&&p.push(N)}return u&&Promise.all(p).then(()=>{Ct.update(()=>{u&&yL(t,u)})}),p}function Hy(t,e,n={}){const s=Cl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(y2(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:d=0,staggerChildren:y,staggerDirection:v}=a;return wL(t,e,p,d,y,v,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,d]=f==="beforeChildren"?[l,u]:[u,l];return p().then(()=>d())}else return Promise.all([l(),u(n.delay)])}function wL(t,e,n=0,s=0,a=0,l=1,u){const f=[];for(const p of t.variantChildren)p.notify("AnimationStart",e),f.push(Hy(p,e,{...u,delay:n+(typeof s=="function"?0:s)+d2(t.variantChildren,p,s,a,l)}).then(()=>p.notify("AnimationComplete",e)));return Promise.all(f)}function TL(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Hy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Hy(t,e,n);else{const a=typeof e=="function"?Cl(t,e,n.custom):e;s=Promise.all(y2(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const xL={test:t=>t==="auto",parse:t=>t},v2=t=>e=>e.test(t),b2=[$l,xe,Ns,na,W3,Q3,xL],g1=t=>b2.find(v2(t));function EL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||PC(t):!0}const SL=new Set(["brightness","contrast","saturate","opacity"]);function AL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(hv)||[];if(!s)return t;const a=n.replace(s,"");let l=SL.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const CL=/\b([a-z-]*)\(.*?\)/gu,Gy={...wa,getAnimatableNone:t=>{const e=t.match(CL);return e?e.map(AL).join(" "):t}},y1={...$l,transform:Math.round},RL={rotate:na,rotateX:na,rotateY:na,rotateZ:na,scale:Vf,scaleX:Vf,scaleY:Vf,scaleZ:Vf,skew:na,skewX:na,skewY:na,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:Nu,originX:i1,originY:i1,originZ:xe},xv={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,radius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,top:xe,right:xe,bottom:xe,left:xe,inset:xe,insetBlock:xe,insetBlockStart:xe,insetBlockEnd:xe,insetInline:xe,insetInlineStart:xe,insetInlineEnd:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,paddingBlock:xe,paddingBlockStart:xe,paddingBlockEnd:xe,paddingInline:xe,paddingInlineStart:xe,paddingInlineEnd:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,marginBlock:xe,marginBlockStart:xe,marginBlockEnd:xe,marginInline:xe,marginInlineStart:xe,marginInlineEnd:xe,backgroundPositionX:xe,backgroundPositionY:xe,...RL,zIndex:y1,fillOpacity:Nu,strokeOpacity:Nu,numOctaves:y1},IL={...xv,color:nn,backgroundColor:nn,outlineColor:nn,fill:nn,stroke:nn,borderColor:nn,borderTopColor:nn,borderRightColor:nn,borderBottomColor:nn,borderLeftColor:nn,filter:Gy,WebkitFilter:Gy},_2=t=>IL[t];function w2(t,e){let n=_2(t);return n!==Gy&&(n=wa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const NL=new Set(["auto","none","0"]);function DL(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!NL.has(l)&&Du(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=w2(n,a)}class kL extends vv{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let v=e[y];if(typeof v=="string"&&(v=v.trim(),uv(v))){const T=f2(v,n.current);T!==void 0&&(e[y]=T),y===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!m2.has(s)||e.length!==2)return;const[a,l]=e,u=g1(a),f=g1(l),p=n1(a),d=n1(l);if(p!==d&&oa[s]){this.needsMeasurement=!0;return}if(u!==f)if(h1(u)&&h1(f))for(let y=0;y<e.length;y++){const v=e[y];typeof v=="string"&&(e[y]=parseFloat(v))}else oa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||EL(e[a]))&&s.push(a);s.length&&DL(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=oa[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=oa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function ML(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const T2=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function x2(t){return VC(t)&&"offsetHeight"in t}const{schedule:Ev}=KC(queueMicrotask,!1),Zi={x:!1,y:!1};function E2(){return Zi.x||Zi.y}function VL(t){return t==="x"||t==="y"?Zi[t]?null:(Zi[t]=!0,()=>{Zi[t]=!1}):Zi.x||Zi.y?null:(Zi.x=Zi.y=!0,()=>{Zi.x=Zi.y=!1})}function S2(t,e){const n=ML(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function v1(t){return!(t.pointerType==="touch"||E2())}function PL(t,e,n={}){const[s,a,l]=S2(t,n),u=f=>{if(!v1(f))return;const{target:p}=f,d=e(p,f);if(typeof d!="function"||!p)return;const y=v=>{v1(v)&&(d(v),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,a)};return s.forEach(f=>{f.addEventListener("pointerenter",u,a)}),l}const A2=(t,e)=>e?t===e?!0:A2(t,e.parentElement):!1,Sv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,OL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function C2(t){return OL.has(t.tagName)||t.isContentEditable===!0}const Jf=new WeakSet;function b1(t){return e=>{e.key==="Enter"&&t(e)}}function Bg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const jL=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=b1(()=>{if(Jf.has(n))return;Bg(n,"down");const a=b1(()=>{Bg(n,"up")}),l=()=>Bg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function _1(t){return Sv(t)&&!E2()}function LL(t,e,n={}){const[s,a,l]=S2(t,n),u=f=>{const p=f.currentTarget;if(!_1(f))return;Jf.add(p);const d=e(p,f),y=(C,M)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",T),Jf.has(p)&&Jf.delete(p),_1(C)&&typeof d=="function"&&d(C,{success:M})},v=C=>{y(C,p===window||p===document||n.useGlobalTarget||A2(p,C.target))},T=C=>{y(C,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",T,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),x2(f)&&(f.addEventListener("focus",d=>jL(d,a)),!C2(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function R2(t){return VC(t)&&"ownerSVGElement"in t}function UL(t){return R2(t)&&t.tagName==="svg"}const zL=[...b2,nn,wa],BL=t=>zL.find(v2(t)),w1=()=>({translate:0,scale:1,origin:0,originPoint:0}),vl=()=>({x:w1(),y:w1()}),T1=()=>({min:0,max:0}),ln=()=>({x:T1(),y:T1()}),$y={current:null},I2={current:!1},FL=typeof window<"u";function qL(){if(I2.current=!0,!!FL)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>$y.current=t.matches;t.addEventListener("change",e),e()}else $y.current=!1}const HL=new WeakMap;function ym(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ku(t){return typeof t=="string"||Array.isArray(t)}const Av=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cv=["initial",...Av];function vm(t){return ym(t.animate)||Cv.some(e=>ku(t[e]))}function N2(t){return!!(vm(t)||t.variants)}function GL(t,e,n){for(const s in e){const a=e[s],l=n[s];if(Dn(a))t.addValue(s,a);else if(Dn(l))t.addValue(s,Ol(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,Ol(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const x1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Pd={};function D2(t){Pd=t}function $L(){return Pd}class KL{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Ln.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,Ct.render(this.render,!1,!0))};const{latestValues:p,renderState:d}=u;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=vm(n),this.isVariantNode=N2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in v){const C=v[T];p[T]!==void 0&&Dn(C)&&C.set(p[T])}}mount(e){this.current=e,HL.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(I2.current||qL(),this.shouldReduceMotion=$y.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),_a(this.notifyUpdate),_a(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Yl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Ct.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Pd){const n=Pd[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ln()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<x1.length;s++){const a=x1[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=GL(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Ol(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(MC(s)||PC(s))?s=parseFloat(s):!BL(s)&&wa.test(n)&&(s=w2(e,n)),this.setBaseTarget(e,Dn(s)?s.get():s)),Dn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=wv(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Dn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ov),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Ev.render(this.render)}}class Aa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class k2 extends KL{constructor(){super(...arguments),this.KeyframeResolver=kL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function M2({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function YL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function QL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Fg(t){return t===void 0||t===1}function Ky({scale:t,scaleX:e,scaleY:n}){return!Fg(t)||!Fg(e)||!Fg(n)}function ao(t){return Ky(t)||V2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function V2(t){return E1(t.x)||E1(t.y)}function E1(t){return t&&t!=="0%"}function Od(t,e,n){const s=t-n,a=e*s;return n+a}function S1(t,e,n,s,a){return a!==void 0&&(t=Od(t,a,s)),Od(t,n,s)+e}function Yy(t,e=0,n=1,s,a){t.min=S1(t.min,e,n,s,a),t.max=S1(t.max,e,n,s,a)}function P2(t,{x:e,y:n}){Yy(t.x,e.translate,e.scale,e.originPoint),Yy(t.y,n.translate,n.scale,n.originPoint)}const A1=.999999999999,C1=1.0000000000001;function WL(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let f=0;f<a;f++){l=n[f],u=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&_l(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,P2(t,u)),s&&ao(l.latestValues)&&_l(t,l.latestValues))}e.x<C1&&e.x>A1&&(e.x=1),e.y<C1&&e.y>A1&&(e.y=1)}function bl(t,e){t.min=t.min+e,t.max=t.max+e}function R1(t,e,n,s,a=.5){const l=Mt(t.min,t.max,a);Yy(t,e,n,l,s)}function _l(t,e){R1(t.x,e.x,e.scaleX,e.scale,e.originX),R1(t.y,e.y,e.scaleY,e.scale,e.originY)}function O2(t,e){return M2(QL(t.getBoundingClientRect(),e))}function XL(t,e,n){const s=O2(t,n),{scroll:a}=e;return a&&(bl(s.x,a.offset.x),bl(s.y,a.offset.y)),s}const ZL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},JL=Kl.length;function e6(t,e,n){let s="",a=!0;for(let l=0;l<JL;l++){const u=Kl[l],f=t[u];if(f===void 0)continue;let p=!0;if(typeof f=="number"?p=f===(u.startsWith("scale")?1:0):p=parseFloat(f)===0,!p||n){const d=T2(f,xv[u]);if(!p){a=!1;const y=ZL[u]||u;s+=`${y}(${d}) `}n&&(e[u]=d)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function Rv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,f=!1;for(const p in e){const d=e[p];if(Yl.has(p)){u=!0;continue}else if(QC(p)){a[p]=d;continue}else{const y=T2(d,xv[p]);p.startsWith("origin")?(f=!0,l[p]=y):s[p]=y}}if(e.transform||(u||n?s.transform=e6(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:p="50%",originY:d="50%",originZ:y=0}=l;s.transformOrigin=`${p} ${d} ${y}`}}function j2(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function I1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Jc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(xe.test(t))t=parseFloat(t);else return t;const n=I1(t,e.target.x),s=I1(t,e.target.y);return`${n}% ${s}%`}},t6={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=wa.parse(t);if(a.length>5)return s;const l=wa.createTransformer(t),u=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,p=n.y.scale*e.y;a[0+u]/=f,a[1+u]/=p;const d=Mt(f,p,.5);return typeof a[2+u]=="number"&&(a[2+u]/=d),typeof a[3+u]=="number"&&(a[3+u]/=d),l(a)}},Qy={borderRadius:{...Jc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jc,borderTopRightRadius:Jc,borderBottomLeftRadius:Jc,borderBottomRightRadius:Jc,boxShadow:t6};function L2(t,{layout:e,layoutId:n}){return Yl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Qy[t]||t==="opacity")}function Iv(t,e,n){const s=t.style,a=e?.style,l={};if(!s)return l;for(const u in s)(Dn(s[u])||a&&Dn(a[u])||L2(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=s[u]);return l}function n6(t){return window.getComputedStyle(t)}class i6 extends k2{constructor(){super(...arguments),this.type="html",this.renderInstance=j2}readValueFromInstance(e,n){if(Yl.has(n))return this.projection?.isProjecting?Oy(n):Mj(e,n);{const s=n6(e),a=(QC(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return O2(e,n)}build(e,n,s){Rv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Iv(e,n,s)}}const s6={offset:"stroke-dashoffset",array:"stroke-dasharray"},r6={offset:"strokeDashoffset",array:"strokeDasharray"};function a6(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?s6:r6;t[l.offset]=xe.transform(-s);const u=xe.transform(e),f=xe.transform(n);t[l.array]=`${u} ${f}`}const o6=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function U2(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},p,d,y){if(Rv(t,f,d),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:T}=t;v.transform&&(T.transform=v.transform,delete v.transform),(T.transform||v.transformOrigin)&&(T.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),T.transform&&(T.transformBox=y?.transformBox??"fill-box",delete v.transformBox);for(const C of o6)v[C]!==void 0&&(T[C]=v[C],delete v[C]);e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),a!==void 0&&a6(v,a,l,u,!1)}const z2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),B2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function l6(t,e,n,s){j2(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(z2.has(a)?a:Tv(a),e.attrs[a])}function F2(t,e,n){const s=Iv(t,e,n);for(const a in t)if(Dn(t[a])||Dn(e[a])){const l=Kl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}class c6 extends k2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ln}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Yl.has(n)){const s=_2(n);return s&&s.default||0}return n=z2.has(n)?n:Tv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return F2(e,n,s)}build(e,n,s){U2(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){l6(e,n,s,a)}mount(e){this.isSVGTag=B2(e.tagName),super.mount(e)}}const u6=Cv.length;function q2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?q2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<u6;n++){const s=Cv[n],a=t.props[s];(ku(a)||a===!1)&&(e[s]=a)}return e}function H2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const h6=[...Av].reverse(),f6=Av.length;function d6(t){return e=>Promise.all(e.map(({animation:n,options:s})=>TL(t,n,s)))}function m6(t){let e=d6(t),n=N1(),s=!0;const a=p=>(d,y)=>{const v=Cl(t,y,p==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:T,transitionEnd:C,...M}=v;d={...d,...M,...C}}return d};function l(p){e=p(t)}function u(p){const{props:d}=t,y=q2(t.parent)||{},v=[],T=new Set;let C={},M=1/0;for(let N=0;N<f6;N++){const H=h6[N],W=n[H],Q=d[H]!==void 0?d[H]:y[H],Y=ku(Q),re=H===p?W.isActive:null;re===!1&&(M=N);let ce=Q===y[H]&&Q!==d[H]&&Y;if(ce&&s&&t.manuallyAnimateOnMount&&(ce=!1),W.protectedKeys={...C},!W.isActive&&re===null||!Q&&!W.prevProp||ym(Q)||typeof Q=="boolean")continue;const I=p6(W.prevProp,Q);let S=I||H===p&&W.isActive&&!ce&&Y||N>M&&Y,D=!1;const L=Array.isArray(Q)?Q:[Q];let P=L.reduce(a(H),{});re===!1&&(P={});const{prevResolvedValues:z={}}=W,V={...z,...P},pe=Z=>{S=!0,T.has(Z)&&(D=!0,T.delete(Z)),W.needsAnimating[Z]=!0;const q=t.getValue(Z);q&&(q.liveStyle=!1)};for(const Z in V){const q=P[Z],me=z[Z];if(C.hasOwnProperty(Z))continue;let B=!1;Fy(q)&&Fy(me)?B=!H2(q,me):B=q!==me,B?q!=null?pe(Z):T.add(Z):q!==void 0&&T.has(Z)?pe(Z):W.protectedKeys[Z]=!0}W.prevProp=Q,W.prevResolvedValues=P,W.isActive&&(C={...C,...P}),s&&t.blockInitialAnimation&&(S=!1);const ye=ce&&I;S&&(!ye||D)&&v.push(...L.map(Z=>{const q={type:H};if(typeof Z=="string"&&s&&!ye&&t.manuallyAnimateOnMount&&t.parent){const{parent:me}=t,B=Cl(me,Z);if(me.enteringChildren&&B){const{delayChildren:E}=B.transition||{};q.delay=d2(me.enteringChildren,t,E)}}return{animation:Z,options:q}}))}if(T.size){const N={};if(typeof d.initial!="boolean"){const H=Cl(t,Array.isArray(d.initial)?d.initial[0]:d.initial);H&&H.transition&&(N.transition=H.transition)}T.forEach(H=>{const W=t.getBaseTarget(H),Q=t.getValue(H);Q&&(Q.liveStyle=!0),N[H]=W??null}),v.push({animation:N})}let O=!!v.length;return s&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(O=!1),s=!1,O?e(v):Promise.resolve()}function f(p,d){if(n[p].isActive===d)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(p,d)),n[p].isActive=d;const y=u(p);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=N1()}}}function p6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!H2(e,t):!1}function no(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function N1(){return{animate:no(!0),whileInView:no(),whileHover:no(),whileTap:no(),whileDrag:no(),whileFocus:no(),exit:no()}}const G2=1e-4,g6=1-G2,y6=1+G2,$2=.01,v6=0-$2,b6=0+$2;function Un(t){return t.max-t.min}function _6(t,e,n){return Math.abs(t-e)<=n}function D1(t,e,n,s=.5){t.origin=s,t.originPoint=Mt(e.min,e.max,t.origin),t.scale=Un(n)/Un(e),t.translate=Mt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=g6&&t.scale<=y6||isNaN(t.scale))&&(t.scale=1),(t.translate>=v6&&t.translate<=b6||isNaN(t.translate))&&(t.translate=0)}function vu(t,e,n,s){D1(t.x,e.x,n.x,s?s.originX:void 0),D1(t.y,e.y,n.y,s?s.originY:void 0)}function k1(t,e,n){t.min=n.min+e.min,t.max=t.min+Un(e)}function w6(t,e,n){k1(t.x,e.x,n.x),k1(t.y,e.y,n.y)}function M1(t,e,n){t.min=e.min-n.min,t.max=t.min+Un(e)}function jd(t,e,n){M1(t.x,e.x,n.x),M1(t.y,e.y,n.y)}function V1(t,e,n,s,a){return t-=e,t=Od(t,1/n,s),a!==void 0&&(t=Od(t,1/a,s)),t}function T6(t,e=0,n=1,s=.5,a,l=t,u=t){if(Ns.test(e)&&(e=parseFloat(e),e=Mt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=Mt(l.min,l.max,s);t===l&&(f-=e),t.min=V1(t.min,e,n,f,a),t.max=V1(t.max,e,n,f,a)}function P1(t,e,[n,s,a],l,u){T6(t,e[n],e[s],e[a],e.scale,l,u)}const x6=["x","scaleX","originX"],E6=["y","scaleY","originY"];function O1(t,e,n,s){P1(t.x,e,x6,n?n.x:void 0,s?s.x:void 0),P1(t.y,e,E6,n?n.y:void 0,s?s.y:void 0)}function j1(t,e){t.min=e.min,t.max=e.max}function Xi(t,e){j1(t.x,e.x),j1(t.y,e.y)}function L1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function U1(t){return t.translate===0&&t.scale===1}function K2(t){return U1(t.x)&&U1(t.y)}function z1(t,e){return t.min===e.min&&t.max===e.max}function S6(t,e){return z1(t.x,e.x)&&z1(t.y,e.y)}function B1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Y2(t,e){return B1(t.x,e.x)&&B1(t.y,e.y)}function F1(t){return Un(t.x)/Un(t.y)}function q1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Vi(t){return[t("x"),t("y")]}function A6(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:y,rotateX:v,rotateY:T,skewX:C,skewY:M}=n;d&&(s=`perspective(${d}px) ${s}`),y&&(s+=`rotate(${y}deg) `),v&&(s+=`rotateX(${v}deg) `),T&&(s+=`rotateY(${T}deg) `),C&&(s+=`skewX(${C}deg) `),M&&(s+=`skewY(${M}deg) `)}const f=t.x.scale*e.x,p=t.y.scale*e.y;return(f!==1||p!==1)&&(s+=`scale(${f}, ${p})`),s||"none"}const Q2=["TopLeft","TopRight","BottomLeft","BottomRight"],C6=Q2.length,H1=t=>typeof t=="string"?parseFloat(t):t,G1=t=>typeof t=="number"||xe.test(t);function R6(t,e,n,s,a,l){a?(t.opacity=Mt(0,n.opacity??1,I6(s)),t.opacityExit=Mt(e.opacity??1,0,N6(s))):l&&(t.opacity=Mt(e.opacity??1,n.opacity??1,s));for(let u=0;u<C6;u++){const f=`border${Q2[u]}Radius`;let p=$1(e,f),d=$1(n,f);if(p===void 0&&d===void 0)continue;p||(p=0),d||(d=0),p===0||d===0||G1(p)===G1(d)?(t[f]=Math.max(Mt(H1(p),H1(d),s),0),(Ns.test(d)||Ns.test(p))&&(t[f]+="%")):t[f]=d}(e.rotate||n.rotate)&&(t.rotate=Mt(e.rotate||0,n.rotate||0,s))}function $1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const I6=W2(0,.5,qC),N6=W2(.5,.95,Ui);function W2(t,e,n){return s=>s<t?0:s>e?1:n(Iu(t,e,s))}function D6(t,e){const n=Ln.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(_a(s),t(l-e))};return Ct.setup(s,!0),()=>_a(s)}function Mu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function ed(t){return Dn(t)?t.get():t}function k6(t,e,n){const s=Dn(t)?t:Ol(t);return s.start(_v("",s,e,n)),s.animation}const M6=(t,e)=>t.depth-e.depth;class V6{constructor(){this.children=[],this.isDirty=!1}add(e){iv(this.children,e),this.isDirty=!0}remove(e){sv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(M6),this.isDirty=!1,this.children.forEach(e)}}class P6{constructor(){this.members=[]}add(e){iv(this.members,e),e.scheduleRender()}remove(e){if(sv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const td={hasAnimatedSinceResize:!0,hasEverUpdated:!1},qg=["","X","Y","Z"],O6=1e3;let j6=0;function Hg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function X2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=g2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ct,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&X2(s)}function Z2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},f=e?.()){this.id=j6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(z6),this.nodes.forEach(H6),this.nodes.forEach(G6),this.nodes.forEach(B6)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new V6)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new ov),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const p=this.eventHandlers.get(u);p&&p.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=R2(u)&&!UL(u),this.instance=u;const{layoutId:f,layout:p,visualElement:d}=this.options;if(d&&!d.current&&d.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||f)&&(this.isLayoutDirty=!0),t){let y,v=0;const T=()=>this.root.updateBlockedByResize=!1;Ct.read(()=>{v=window.innerWidth}),t(u,()=>{const C=window.innerWidth;C!==v&&(v=C,this.root.updateBlockedByResize=!0,y&&y(),y=D6(T,250),td.hasAnimatedSinceResize&&(td.hasAnimatedSinceResize=!1,this.nodes.forEach(Q1)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&d&&(f||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:T,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||d.getDefaultTransition()||W6,{onLayoutAnimationStart:O,onLayoutAnimationComplete:N}=d.getProps(),H=!this.targetLayout||!Y2(this.targetLayout,C),W=!v&&T;if(this.options.layoutRoot||this.resumeFrom||W||v&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Q={...bv(M,"layout"),onPlay:O,onComplete:N};(d.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q),this.setAnimationOrigin(y,W)}else v||Q1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),_a(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($6),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&X2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:p}=this.options;if(f===void 0&&!p)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(K1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Y1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(q6),this.nodes.forEach(L6),this.nodes.forEach(U6)):this.nodes.forEach(Y1),this.clearAllSnapshots();const f=Ln.now();Tn.delta=Ps(0,1e3/60,f-Tn.timestamp),Tn.timestamp=f,Tn.isProcessing=!0,Pg.update.process(Tn),Pg.preRender.process(Tn),Pg.render.process(Tn),Tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ev.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(F6),this.sharedNodes.forEach(K6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Un(this.snapshot.measuredBox.x)&&!Un(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ln(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!K2(this.projectionDelta),p=this.getTransformTemplate(),d=p?p(this.latestValues,""):void 0,y=d!==this.prevTransformTemplateValue;u&&this.instance&&(f||ao(this.latestValues)||y)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let p=this.removeElementScroll(f);return u&&(p=this.removeTransform(p)),X6(p),{animationId:this.root.animationId,measuredBox:f,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return ln();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Z6))){const{scroll:d}=this.root;d&&(bl(f.x,d.offset.x),bl(f.y,d.offset.y))}return f}removeElementScroll(u){const f=ln();if(Xi(f,u),this.scroll?.wasRoot)return f;for(let p=0;p<this.path.length;p++){const d=this.path[p],{scroll:y,options:v}=d;d!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Xi(f,u),bl(f.x,y.offset.x),bl(f.y,y.offset.y))}return f}applyTransform(u,f=!1){const p=ln();Xi(p,u);for(let d=0;d<this.path.length;d++){const y=this.path[d];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&_l(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ao(y.latestValues)&&_l(p,y.latestValues)}return ao(this.latestValues)&&_l(p,this.latestValues),p}removeTransform(u){const f=ln();Xi(f,u);for(let p=0;p<this.path.length;p++){const d=this.path[p];if(!d.instance||!ao(d.latestValues))continue;Ky(d.latestValues)&&d.updateSnapshot();const y=ln(),v=d.measurePageBox();Xi(y,v),O1(f,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,y)}return ao(this.latestValues)&&O1(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=Tn.timestamp;const T=this.getClosestProjectingParent();T&&this.linkedParentVersion!==T.layoutVersion&&!T.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(T&&T.layout?this.createRelativeTarget(T,this.layout.layoutBox,T.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ln(),this.targetWithTransforms=ln()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),w6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xi(this.target,this.layout.layoutBox),P2(this.target,this.targetDelta)):Xi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?this.createRelativeTarget(T,this.target,T.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Ky(this.parent.latestValues)||V2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,f,p){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ln(),this.relativeTargetOrigin=ln(),jd(this.relativeTargetOrigin,f,p),Xi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Tn.timestamp&&(p=!1),p)return;const{layout:d,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||y))return;Xi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,T=this.treeScale.y;WL(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=ln());const{target:C}=u;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(L1(this.prevProjectionDelta.x,this.projectionDelta.x),L1(this.prevProjectionDelta.y,this.projectionDelta.y)),vu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==T||!q1(this.projectionDelta.x,this.prevProjectionDelta.x)||!q1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vl(),this.projectionDelta=vl(),this.projectionDeltaWithTransform=vl()}setAnimationOrigin(u,f=!1){const p=this.snapshot,d=p?p.latestValues:{},y={...this.latestValues},v=vl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const T=ln(),C=p?p.source:void 0,M=this.layout?this.layout.source:void 0,O=C!==M,N=this.getStack(),H=!N||N.members.length<=1,W=!!(O&&!H&&this.options.crossfade===!0&&!this.path.some(Q6));this.animationProgress=0;let Q;this.mixTargetDelta=Y=>{const re=Y/1e3;W1(v.x,u.x,re),W1(v.y,u.y,re),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jd(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Y6(this.relativeTarget,this.relativeTargetOrigin,T,re),Q&&S6(this.relativeTarget,Q)&&(this.isProjectionDirty=!1),Q||(Q=ln()),Xi(Q,this.relativeTarget)),O&&(this.animationValues=y,R6(y,d,this.latestValues,re,W,H)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(_a(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ct.update(()=>{td.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ol(0)),this.currentAnimation=k6(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(O6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:p,layout:d,latestValues:y}=u;if(!(!f||!p||!d)){if(this!==u&&this.layout&&d&&J2(this.options.animationType,this.layout.layoutBox,d.layoutBox)){p=this.target||ln();const v=Un(this.layout.layoutBox.x);p.x.min=u.target.x.min,p.x.max=p.x.min+v;const T=Un(this.layout.layoutBox.y);p.y.min=u.target.y.min,p.y.max=p.y.min+T}Xi(f,p),_l(f,y),vu(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new P6),this.sharedNodes.get(u).add(f);const d=f.options.initialPromotionConfig;f.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:p}={}){const d=this.getStack();d&&d.promote(this,p),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:p}=u;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(f=!0),!f)return;const d={};p.z&&Hg("z",u,d,this.animationValues);for(let y=0;y<qg.length;y++)Hg(`rotate${qg[y]}`,u,d,this.animationValues),Hg(`skew${qg[y]}`,u,d,this.animationValues);u.render();for(const y in d)u.setStaticValue(y,d[y]),this.animationValues&&(this.animationValues[y]=d[y]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=ed(f?.pointerEvents)||"",u.transform=p?p(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=ed(f?.pointerEvents)||""),this.hasProjected&&!ao(this.latestValues)&&(u.transform=p?p({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=d.animationValues||d.latestValues;this.applyTransformsToTarget();let v=A6(this.projectionDeltaWithTransform,this.treeScale,y);p&&(v=p(y,v)),u.transform=v;const{x:T,y:C}=this.projectionDelta;u.transformOrigin=`${T.origin*100}% ${C.origin*100}% 0`,d.animationValues?u.opacity=d===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=d===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const M in Qy){if(y[M]===void 0)continue;const{correct:O,applyTo:N,isCSSVariable:H}=Qy[M],W=v==="none"?y[M]:O(y[M],d);if(N){const Q=N.length;for(let Y=0;Y<Q;Y++)u[N[Y]]=W}else H?this.options.visualElement.renderState.vars[M]=W:u[M]=W}this.options.layoutId&&(u.pointerEvents=d===this?ed(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(K1),this.root.sharedNodes.clear()}}}function L6(t){t.updateLayout()}function U6(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Vi(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],T=Un(v);v.min=n[y].min,v.max=v.min+T}):J2(a,e.layoutBox,n)&&Vi(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],T=Un(n[y]);v.max=v.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+T)});const u=vl();vu(u,n,e.layoutBox);const f=vl();l?vu(f,t.applyTransform(s,!0),e.measuredBox):vu(f,n,e.layoutBox);const p=!K2(u);let d=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:T}=y;if(v&&T){const C=ln();jd(C,e.layoutBox,v.layoutBox);const M=ln();jd(M,n,T.layoutBox),Y2(C,M)||(d=!0),y.options.layoutRoot&&(t.relativeTarget=M,t.relativeTargetOrigin=C,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function z6(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function B6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function F6(t){t.clearSnapshot()}function K1(t){t.clearMeasurements()}function Y1(t){t.isLayoutDirty=!1}function q6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Q1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function H6(t){t.resolveTargetDelta()}function G6(t){t.calcProjection()}function $6(t){t.resetSkewAndRotation()}function K6(t){t.removeLeadSnapshot()}function W1(t,e,n){t.translate=Mt(e.translate,0,n),t.scale=Mt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function X1(t,e,n,s){t.min=Mt(e.min,n.min,s),t.max=Mt(e.max,n.max,s)}function Y6(t,e,n,s){X1(t.x,e.x,n.x,s),X1(t.y,e.y,n.y,s)}function Q6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const W6={duration:.45,ease:[.4,0,.1,1]},Z1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),J1=Z1("applewebkit/")&&!Z1("chrome/")?Math.round:Ui;function eE(t){t.min=J1(t.min),t.max=J1(t.max)}function X6(t){eE(t.x),eE(t.y)}function J2(t,e,n){return t==="position"||t==="preserve-aspect"&&!_6(F1(e),F1(n),.2)}function Z6(t){return t!==t.root&&t.scroll?.wasRoot}const J6=Z2({attachResizeListener:(t,e)=>Mu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gg={current:void 0},eR=Z2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Gg.current){const t=new J6({});t.mount(window),t.setOptions({layoutScroll:!0}),Gg.current=t}return Gg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Nv=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function tE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function eU(...t){return e=>{let n=!1;const s=t.map(a=>{const l=tE(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():tE(t[a],null)}}}}function tU(...t){return k.useCallback(eU(...t),t)}class nU extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=x2(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function iU({children:t,isPresent:e,anchorX:n,root:s}){const a=k.useId(),l=k.useRef(null),u=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=k.useContext(Nv),p=t.props?.ref??t?.ref,d=tU(l,p);return k.useInsertionEffect(()=>{const{width:y,height:v,top:T,left:C,right:M}=u.current;if(e||!l.current||!y||!v)return;const O=n==="left"?`left: ${C}`:`right: ${M}`;l.current.dataset.motionPopId=a;const N=document.createElement("style");f&&(N.nonce=f);const H=s??document.head;return H.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${v}px !important;
            ${O}px !important;
            top: ${T}px !important;
          }
        `),()=>{H.contains(N)&&H.removeChild(N)}},[e]),b.jsx(nU,{isPresent:e,childRef:l,sizeRef:u,children:k.cloneElement(t,{ref:d})})}const sU=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:f,root:p})=>{const d=nv(rU),y=k.useId();let v=!0,T=k.useMemo(()=>(v=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:C=>{d.set(C,!0);for(const M of d.values())if(!M)return;s&&s()},register:C=>(d.set(C,!1),()=>d.delete(C))}),[n,d,s]);return l&&v&&(T={...T}),k.useMemo(()=>{d.forEach((C,M)=>d.set(M,!1))},[n]),k.useEffect(()=>{!n&&!d.size&&s&&s()},[n]),u==="popLayout"&&(t=b.jsx(iU,{isPresent:n,anchorX:f,root:p,children:t})),b.jsx(gm.Provider,{value:T,children:t})};function rU(){return new Map}function tR(t=!0){const e=k.useContext(gm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=k.useId();k.useEffect(()=>{if(t)return a(l)},[t]);const u=k.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const Pf=t=>t.key||"";function nE(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const Ji=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:f="left",root:p})=>{const[d,y]=tR(u),v=k.useMemo(()=>nE(t),[t]),T=u&&!d?[]:v.map(Pf),C=k.useRef(!0),M=k.useRef(v),O=nv(()=>new Map),N=k.useRef(new Set),[H,W]=k.useState(v),[Q,Y]=k.useState(v);kC(()=>{C.current=!1,M.current=v;for(let I=0;I<Q.length;I++){const S=Pf(Q[I]);T.includes(S)?(O.delete(S),N.current.delete(S)):O.get(S)!==!0&&O.set(S,!1)}},[Q,T.length,T.join("-")]);const re=[];if(v!==H){let I=[...v];for(let S=0;S<Q.length;S++){const D=Q[S],L=Pf(D);T.includes(L)||(I.splice(S,0,D),re.push(D))}return l==="wait"&&re.length&&(I=re),Y(nE(I)),W(v),null}const{forceRender:ce}=k.useContext(tv);return b.jsx(b.Fragment,{children:Q.map(I=>{const S=Pf(I),D=u&&!d?!1:v===Q||T.includes(S),L=()=>{if(N.current.has(S))return;if(N.current.add(S),O.has(S))O.set(S,!0);else return;let P=!0;O.forEach(z=>{z||(P=!1)}),P&&(ce?.(),Y(M.current),u&&y?.(),s&&s())};return b.jsx(sU,{isPresent:D,initial:!C.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:D?void 0:L,anchorX:f,children:I},S)})})},nR=k.createContext({strict:!1}),iE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let sE=!1;function aU(){if(sE)return;const t={};for(const e in iE)t[e]={isEnabled:n=>iE[e].some(s=>!!n[s])};D2(t),sE=!0}function iR(){return aU(),$L()}function oU(t){const e=iR();for(const n in t)e[n]={...e[n],...t[n]};D2(e)}const lU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ld(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||lU.has(t)}let sR=t=>!Ld(t);function cU(t){typeof t=="function"&&(sR=e=>e.startsWith("on")?!Ld(e):t(e))}try{cU(require("@emotion/is-prop-valid").default)}catch{}function uU(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(sR(a)||n===!0&&Ld(a)||!e&&!Ld(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const bm=k.createContext({});function hU(t,e){if(vm(t)){const{initial:n,animate:s}=t;return{initial:n===!1||ku(n)?n:void 0,animate:ku(s)?s:void 0}}return t.inherit!==!1?e:{}}function fU(t){const{initial:e,animate:n}=hU(t,k.useContext(bm));return k.useMemo(()=>({initial:e,animate:n}),[rE(e),rE(n)])}function rE(t){return Array.isArray(t)?t.join(" "):t}const Dv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rR(t,e,n){for(const s in e)!Dn(e[s])&&!L2(s,n)&&(t[s]=e[s])}function dU({transformTemplate:t},e){return k.useMemo(()=>{const n=Dv();return Rv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function mU(t,e){const n=t.style||{},s={};return rR(s,n,t),Object.assign(s,dU(t,e)),s}function pU(t,e){const n={},s=mU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const aR=()=>({...Dv(),attrs:{}});function gU(t,e,n,s){const a=k.useMemo(()=>{const l=aR();return U2(l,e,B2(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};rR(l,t.style,t),a.style={...l,...a.style}}return a}const yU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kv(t){return typeof t!="string"||t.includes("-")?!1:!!(yU.indexOf(t)>-1||/[A-Z]/u.test(t))}function vU(t,e,n,{latestValues:s},a,l=!1,u){const p=(u??kv(t)?gU:pU)(e,s,a,t),d=uU(e,typeof t=="string",l),y=t!==k.Fragment?{...d,...p,ref:n}:{},{children:v}=e,T=k.useMemo(()=>Dn(v)?v.get():v,[v]);return k.createElement(t,{...y,children:T})}function bU({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:_U(n,s,a,t),renderState:e()}}function _U(t,e,n,s){const a={},l=s(t,{});for(const T in l)a[T]=ed(l[T]);let{initial:u,animate:f}=t;const p=vm(t),d=N2(t);e&&d&&!p&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const v=y?f:u;if(v&&typeof v!="boolean"&&!ym(v)){const T=Array.isArray(v)?v:[v];for(let C=0;C<T.length;C++){const M=wv(t,T[C]);if(M){const{transitionEnd:O,transition:N,...H}=M;for(const W in H){let Q=H[W];if(Array.isArray(Q)){const Y=y?Q.length-1:0;Q=Q[Y]}Q!==null&&(a[W]=Q)}for(const W in O)a[W]=O[W]}}}return a}const oR=t=>(e,n)=>{const s=k.useContext(bm),a=k.useContext(gm),l=()=>bU(t,e,s,a);return n?l():nv(l)},wU=oR({scrapeMotionValuesFromProps:Iv,createRenderState:Dv}),TU=oR({scrapeMotionValuesFromProps:F2,createRenderState:aR}),xU=Symbol.for("motionComponentSymbol");function EU(t,e,n){const s=k.useRef(n);k.useInsertionEffect(()=>{s.current=n});const a=k.useRef(null);return k.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=s.current;if(typeof u=="function")if(l){const f=u(l);typeof f=="function"&&(a.current=f)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[e])}const lR=k.createContext({});function ou(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function SU(t,e,n,s,a,l){const{visualElement:u}=k.useContext(bm),f=k.useContext(nR),p=k.useContext(gm),d=k.useContext(Nv).reducedMotion,y=k.useRef(null);s=s||f.renderer,!y.current&&s&&(y.current=s(t,{visualState:e,parent:u,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:d,isSVG:l}));const v=y.current,T=k.useContext(lR);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&AU(y.current,n,a,T);const C=k.useRef(!1);k.useInsertionEffect(()=>{v&&C.current&&v.update(n,p)});const M=n[p2],O=k.useRef(!!M&&!window.MotionHandoffIsComplete?.(M)&&window.MotionHasOptimisedAnimation?.(M));return kC(()=>{v&&(C.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),O.current&&v.animationState&&v.animationState.animateChanges())}),k.useEffect(()=>{v&&(!O.current&&v.animationState&&v.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(M)}),O.current=!1),v.enteringChildren=void 0)}),v}function AU(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:p,layoutRoot:d,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:cR(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&ou(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:p,layoutRoot:d})}function cR(t){if(t)return t.options.allowProjection!==!1?t.projection:cR(t.parent)}function $g(t,{forwardMotionProps:e=!1,type:n}={},s,a){s&&oU(s);const l=n?n==="svg":kv(t),u=l?TU:wU;function f(d,y){let v;const T={...k.useContext(Nv),...d,layoutId:CU(d)},{isStatic:C}=T,M=fU(d),O=u(d,C);if(!C&&DC){RU();const N=IU(T);v=N.MeasureLayout,M.visualElement=SU(t,O,T,a,N.ProjectionNode,l)}return b.jsxs(bm.Provider,{value:M,children:[v&&M.visualElement?b.jsx(v,{visualElement:M.visualElement,...T}):null,vU(t,d,EU(O,M.visualElement,y),O,C,e,l)]})}f.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const p=k.forwardRef(f);return p[xU]=t,p}function CU({layoutId:t}){const e=k.useContext(tv).id;return e&&t!==void 0?e+"-"+t:t}function RU(t,e){k.useContext(nR).strict}function IU(t){const e=iR(),{drag:n,layout:s}=e;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function NU(t,e){if(typeof Proxy>"u")return $g;const n=new Map,s=(l,u)=>$g(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,$g(u,void 0,t,e)),n.get(u))})}const DU=(t,e)=>e.isSVG??kv(t)?new c6(e):new i6(e,{allowProjection:t!==k.Fragment});class kU extends Aa{constructor(e){super(e),e.animationState||(e.animationState=m6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ym(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let MU=0;class VU extends Aa{constructor(){super(...arguments),this.id=MU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const PU={animation:{Feature:kU},exit:{Feature:VU}};function ih(t){return{point:{x:t.pageX,y:t.pageY}}}const OU=t=>e=>Sv(e)&&t(e,ih(e));function bu(t,e,n,s){return Mu(t,e,OU(n),s)}const uR=({current:t})=>t?t.ownerDocument.defaultView:null,aE=(t,e)=>Math.abs(t-e);function jU(t,e){const n=aE(t.x,e.x),s=aE(t.y,e.y);return Math.sqrt(n**2+s**2)}const oE=new Set(["auto","scroll"]);class hR{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:f}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=C=>{this.handleScroll(C.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Yg(this.lastMoveEventInfo,this.history),M=this.startEvent!==null,O=jU(C.offset,{x:0,y:0})>=this.distanceThreshold;if(!M&&!O)return;const{point:N}=C,{timestamp:H}=Tn;this.history.push({...N,timestamp:H});const{onStart:W,onMove:Q}=this.handlers;M||(W&&W(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),Q&&Q(this.lastMoveEvent,C)},this.handlePointerMove=(C,M)=>{this.lastMoveEvent=C,this.lastMoveEventInfo=Kg(M,this.transformPagePoint),Ct.update(this.updatePoint,!0)},this.handlePointerUp=(C,M)=>{this.end();const{onEnd:O,onSessionEnd:N,resumeAnimation:H}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&H&&H(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const W=Yg(C.type==="pointercancel"?this.lastMoveEventInfo:Kg(M,this.transformPagePoint),this.history);this.startEvent&&O&&O(C,W),N&&N(C,W)},!Sv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const p=ih(e),d=Kg(p,this.transformPagePoint),{point:y}=d,{timestamp:v}=Tn;this.history=[{...y,timestamp:v}];const{onSessionStart:T}=n;T&&T(e,Yg(d,this.history)),this.removeListeners=eh(bu(this.contextWindow,"pointermove",this.handlePointerMove),bu(this.contextWindow,"pointerup",this.handlePointerUp),bu(this.contextWindow,"pointercancel",this.handlePointerUp)),f&&this.startScrollTracking(f)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(oE.has(s.overflowX)||oE.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),Ct.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),_a(this.updatePoint)}}function Kg(t,e){return e?{point:e(t.point)}:t}function lE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Yg({point:t},e){return{point:t,delta:lE(t,fR(e)),offset:lE(t,LU(e)),velocity:UU(e,.1)}}function LU(t){return t[0]}function fR(t){return t[t.length-1]}function UU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=fR(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>fr(e)));)n--;if(!s)return{x:0,y:0};const l=Oi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function zU(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Mt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Mt(n,t,s.max):Math.min(t,n)),t}function cE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function BU(t,{top:e,left:n,bottom:s,right:a}){return{x:cE(t.x,n,a),y:cE(t.y,e,s)}}function uE(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function FU(t,e){return{x:uE(t.x,e.x),y:uE(t.y,e.y)}}function qU(t,e){let n=.5;const s=Un(t),a=Un(e);return a>s?n=Iu(e.min,e.max-s,t.min):s>a&&(n=Iu(t.min,t.max-a,e.min)),Ps(0,1,n)}function HU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Wy=.35;function GU(t=Wy){return t===!1?t=0:t===!0&&(t=Wy),{x:hE(t,"left","right"),y:hE(t,"top","bottom")}}function hE(t,e,n){return{min:fE(t,e),max:fE(t,n)}}function fE(t,e){return typeof t=="number"?t:t[e]||0}const $U=new WeakMap;class KU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ln(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{n?(this.stopAnimation(),this.snapToCursor(ih(v).point)):this.pauseAnimation()},u=(v,T)=>{this.stopAnimation();const{drag:C,dragPropagation:M,onDragStart:O}=this.getProps();if(C&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=VL(C),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vi(H=>{let W=this.getAxisMotionValue(H).get()||0;if(Ns.test(W)){const{projection:Q}=this.visualElement;if(Q&&Q.layout){const Y=Q.layout.layoutBox[H];Y&&(W=Un(Y)*(parseFloat(W)/100))}}this.originPoint[H]=W}),O&&Ct.postRender(()=>O(v,T)),qy(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},f=(v,T)=>{this.latestPointerEvent=v,this.latestPanInfo=T;const{dragPropagation:C,dragDirectionLock:M,onDirectionLock:O,onDrag:N}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:H}=T;if(M&&this.currentDirection===null){this.currentDirection=YU(H),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",T.point,H),this.updateAxis("y",T.point,H),this.visualElement.render(),N&&N(v,T)},p=(v,T)=>{this.latestPointerEvent=v,this.latestPanInfo=T,this.stop(v,T),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Vi(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new hR(e,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:p,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:uR(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&Ct.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Of(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=zU(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&ou(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=BU(s.layoutBox,e):this.constraints=!1,this.elastic=GU(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Vi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=HU(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ou(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=XL(s,a.root,this.visualElement.getTransformPagePoint());let u=FU(a.layout.layoutBox,l);if(n){const f=n(YL(u));this.hasMutatedConstraints=!!f,f&&(u=M2(f))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),p=this.constraints||{},d=Vi(y=>{if(!Of(y,n,this.currentDirection))return;let v=p&&p[y]||{};u&&(v={min:0,max:0});const T=a?200:1e6,C=a?40:1e7,M={type:"inertia",velocity:s?e[y]:0,bounceStiffness:T,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,M)});return Promise.all(d).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return qy(this.visualElement,e),s.start(_v(e,s,0,n,this.visualElement,!1))}stopAnimation(){Vi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Vi(n=>{const{drag:s}=this.getProps();if(!Of(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[n],p=l.get()||0;l.set(e[n]-Mt(u,f,.5)+p)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ou(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Vi(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const p=f.get();a[u]=qU({min:p,max:p},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Vi(u=>{if(!Of(u,e,null))return;const f=this.getAxisMotionValue(u),{min:p,max:d}=this.constraints[u];f.set(Mt(p,d,a[u]))})}addListeners(){if(!this.visualElement.current)return;$U.set(this.visualElement,this);const e=this.visualElement.current,n=bu(e,"pointerdown",p=>{const{drag:d,dragListener:y=!0}=this.getProps();d&&y&&!C2(p.target)&&this.start(p)}),s=()=>{const{dragConstraints:p}=this.getProps();ou(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ct.read(s);const u=Mu(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:d})=>{this.isDragging&&d&&(Vi(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=p[y].translate,v.set(v.get()+p[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Wy,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function Of(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function YU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class QU extends Aa{constructor(e){super(e),this.removeGroupControls=Ui,this.removeListeners=Ui,this.controls=new KU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ui}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const dE=t=>(e,n)=>{t&&Ct.postRender(()=>t(e,n))};class WU extends Aa{constructor(){super(...arguments),this.removePointerDownListener=Ui}onPointerDown(e){this.session=new hR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:dE(e),onStart:dE(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&Ct.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=bu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Qg=!1;class XU extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Qg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),td.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,Qg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Ct.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ev.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Qg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function dR(t){const[e,n]=tR(),s=k.useContext(tv);return b.jsx(XU,{...t,layoutGroup:s,switchLayoutGroup:k.useContext(lR),isPresent:e,safeToRemove:n})}const ZU={pan:{Feature:WU},drag:{Feature:QU,ProjectionNode:eR,MeasureLayout:dR}};function mE(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&Ct.postRender(()=>l(e,ih(e)))}class JU extends Aa{mount(){const{current:e}=this.node;e&&(this.unmount=PL(e,(n,s)=>(mE(this.node,s,"Start"),a=>mE(this.node,a,"End"))))}unmount(){}}class e9 extends Aa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=eh(Mu(this.node.current,"focus",()=>this.onFocus()),Mu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function pE(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&Ct.postRender(()=>l(e,ih(e)))}class t9 extends Aa{mount(){const{current:e}=this.node;e&&(this.unmount=LL(e,(n,s)=>(pE(this.node,s,"Start"),(a,{success:l})=>pE(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xy=new WeakMap,Wg=new WeakMap,n9=t=>{const e=Xy.get(t.target);e&&e(t)},i9=t=>{t.forEach(n9)};function s9({root:t,...e}){const n=t||document;Wg.has(n)||Wg.set(n,{});const s=Wg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(i9,{root:t,...e})),s[a]}function r9(t,e,n){const s=s9(e);return Xy.set(t,n),s.observe(t),()=>{Xy.delete(t),s.unobserve(t)}}const a9={some:0,all:1};class o9 extends Aa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:a9[a]},f=p=>{const{isIntersecting:d}=p;if(this.isInView===d||(this.isInView=d,l&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),T=d?y:v;T&&T(p)};return r9(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(l9(e,n))&&this.startObserver()}unmount(){}}function l9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const c9={inView:{Feature:o9},tap:{Feature:t9},focus:{Feature:e9},hover:{Feature:JU}},u9={layout:{ProjectionNode:eR,MeasureLayout:dR}},h9={...PU,...c9,...ZU,...u9},nt=NU(h9,DU);const f9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),d9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),gE=t=>{const e=d9(t);return e.charAt(0).toUpperCase()+e.slice(1)},mR=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),m9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var p9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const g9=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...f},p)=>k.createElement("svg",{ref:p,...p9,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:mR("lucide",a),...!l&&!m9(f)&&{"aria-hidden":"true"},...f},[...u.map(([d,y])=>k.createElement(d,y)),...Array.isArray(l)?l:[l]]));const ct=(t,e)=>{const n=k.forwardRef(({className:s,...a},l)=>k.createElement(g9,{ref:l,iconNode:e,className:mR(`lucide-${f9(gE(t))}`,`lucide-${t}`,s),...a}));return n.displayName=gE(t),n};const y9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],v9=ct("arrow-left",y9);const b9=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],yE=ct("award",b9);const _9=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ud=ct("book-open",_9);const w9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],zd=ct("calendar",w9);const T9=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Zy=ct("camera",T9);const x9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],wl=ct("check",x9);const E9=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],pR=ct("chevron-left",E9);const S9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gR=ct("chevron-right",S9);const A9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],vE=ct("circle-alert",A9);const C9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],R9=ct("circle-check-big",C9);const I9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Mv=ct("circle-question-mark",I9);const N9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],D9=ct("clock",N9);const k9=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],M9=ct("crown",k9);const V9=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Vv=ct("layout-grid",V9);const P9=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],yR=ct("log-out",P9);const O9=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],j9=ct("mail",O9);const L9=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],bE=ct("palette",L9);const U9=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],_E=ct("pen",U9);const z9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Bd=ct("plus",z9);const B9=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],F9=ct("printer",B9);const q9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Pv=ct("settings",q9);const H9=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],nd=ct("share-2",H9);const G9=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],$9=ct("shuffle",G9);const K9=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],vR=ct("sparkles",K9);const Y9=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],wE=ct("square-check-big",Y9);const Q9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bR=ct("trash-2",Q9);const W9=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],X9=ct("type",W9);const Z9=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],J9=ct("user",Z9);const ez=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],tz=ct("users",ez);const nz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mo=ct("x",nz);const iz=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],TE=ct("zap",iz),_R=k.createContext(null),wR=()=>{const t=k.useContext(_R);if(!t)throw new Error("useDialog must be used within a DialogProvider");return t},sz=({children:t})=>{const[e,n]=k.useState({isOpen:!1,type:"alert",options:{message:""},resolve:null}),[s,a]=k.useState(""),[l,u]=k.useState("editor"),f=k.useCallback((M,O)=>new Promise(N=>{a(O.inputDefaultValue||""),u("editor"),n({isOpen:!0,type:M,options:O,resolve:N})}),[]),p=k.useCallback(M=>{e.resolve&&e.resolve(M),n(O=>({...O,isOpen:!1,resolve:null}))},[e.resolve]),d=k.useCallback((M,O)=>f("alert",{message:M,title:"Notice",confirmText:"OK",type:"info",...O}),[f]),y=k.useCallback((M,O)=>f("confirm",{message:M,title:"Confirm",confirmText:"Yes",cancelText:"Cancel",type:"warning",...O}),[f]),v=k.useCallback((M,O)=>f("prompt",{message:M,title:"Input",confirmText:"OK",cancelText:"Cancel",inputPlaceholder:"",...O}),[f]),T=k.useCallback((M,O)=>f("share",{message:M,title:"Share Board",confirmText:"Send Invite",cancelText:"Cancel",showRoleSelector:!0,inputPlaceholder:"Enter email address",...O}),[f]),C=()=>{switch(e.options.type){case"success":return b.jsx(R9,{className:"w-8 h-8 text-green-400"});case"warning":return b.jsx(vE,{className:"w-8 h-8 text-amber-400"});case"error":return b.jsx(vE,{className:"w-8 h-8 text-red-400"});default:return b.jsx(Mv,{className:"w-8 h-8 text-accent-primary"})}};return b.jsxs(_R.Provider,{value:{alert:d,confirm:y,prompt:v,sharePrompt:T},children:[t,b.jsx(Ji,{children:e.isOpen&&b.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{e.type==="alert"?p(void 0):e.type==="confirm"?p(!1):p(null)},children:b.jsxs(nt.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-slate-900 border border-white/20 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",onClick:M=>M.stopPropagation(),children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[e.type==="share"?b.jsx(j9,{className:"w-6 h-6 text-accent-primary"}):C(),b.jsx("h3",{className:"text-lg font-bold text-white",children:e.options.title})]}),b.jsx("button",{onClick:()=>{e.type==="alert"?p(void 0):e.type==="confirm"?p(!1):p(null)},className:"p-1 text-slate-400 hover:text-white rounded-full hover:bg-white/10 transition-colors",children:b.jsx(mo,{size:20})})]}),b.jsxs("div",{className:"p-6",children:[b.jsx("p",{className:"text-slate-300 mb-4 whitespace-pre-wrap",children:e.options.message}),(e.type==="prompt"||e.type==="share")&&b.jsx("input",{type:e.type==="share"?"email":"text",autoFocus:!0,value:s,onChange:M=>a(M.target.value),placeholder:e.options.inputPlaceholder,className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors mb-4",onKeyDown:M=>{M.key==="Enter"&&s.trim()&&(e.type==="share"?p({email:s.trim(),role:l}):p(s.trim()))}}),e.type==="share"&&e.options.showRoleSelector&&b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"text-sm font-medium text-slate-400 mb-2 block",children:"Access Level"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>u("viewer"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="viewer"?"bg-accent-primary/20 text-accent-primary border border-accent-primary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Viewer"}),b.jsx("button",{onClick:()=>u("editor"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Editor"})]}),b.jsx("p",{className:"text-xs text-slate-500 mt-2",children:l==="viewer"?"Can view the board but not make changes":"Can view and edit the board"})]})]}),b.jsxs("div",{className:"flex gap-3 p-4 pt-0",children:[e.type!=="alert"&&b.jsx("button",{onClick:()=>{e.type==="confirm"?p(!1):p(null)},className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:e.options.cancelText}),b.jsx("button",{onClick:()=>{e.type==="alert"?p(void 0):e.type==="confirm"?p(!0):e.type==="share"?s.trim()&&p({email:s.trim(),role:l}):p(s.trim()||null)},disabled:(e.type==="prompt"||e.type==="share")&&!s.trim(),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:e.options.confirmText})]})]})})})]})};function TR(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=TR(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function rz(){for(var t,e,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=TR(t))&&(s&&(s+=" "),s+=e);return s}const az=(t,e)=>{const n=new Array(t.length+e.length);for(let s=0;s<t.length;s++)n[s]=t[s];for(let s=0;s<e.length;s++)n[t.length+s]=e[s];return n},oz=(t,e)=>({classGroupId:t,validator:e}),xR=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Fd="-",xE=[],lz="arbitrary..",cz=t=>{const e=hz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return uz(u);const f=u.split(Fd),p=f[0]===""&&f.length>1?1:0;return ER(f,p,e)},getConflictingClassGroupIds:(u,f)=>{if(f){const p=s[u],d=n[u];return p?d?az(d,p):p:d||xE}return n[u]||xE}}},ER=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const d=ER(t,e+1,l);if(d)return d}const u=n.validators;if(u===null)return;const f=e===0?t.join(Fd):t.slice(e).join(Fd),p=u.length;for(let d=0;d<p;d++){const y=u[d];if(y.validator(f))return y.classGroupId}},uz=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),s=e.slice(0,n);return s?lz+s:void 0})(),hz=t=>{const{theme:e,classGroups:n}=t;return fz(n,e)},fz=(t,e)=>{const n=xR();for(const s in t){const a=t[s];Ov(a,n,s,e)}return n},Ov=(t,e,n,s)=>{const a=t.length;for(let l=0;l<a;l++){const u=t[l];dz(u,e,n,s)}},dz=(t,e,n,s)=>{if(typeof t=="string"){mz(t,e,n);return}if(typeof t=="function"){pz(t,e,n,s);return}gz(t,e,n,s)},mz=(t,e,n)=>{const s=t===""?e:SR(e,t);s.classGroupId=n},pz=(t,e,n,s)=>{if(yz(t)){Ov(t(s),e,n,s);return}e.validators===null&&(e.validators=[]),e.validators.push(oz(n,t))},gz=(t,e,n,s)=>{const a=Object.entries(t),l=a.length;for(let u=0;u<l;u++){const[f,p]=a[u];Ov(p,SR(e,f),n,s)}},SR=(t,e)=>{let n=t;const s=e.split(Fd),a=s.length;for(let l=0;l<a;l++){const u=s[l];let f=n.nextPart.get(u);f||(f=xR(),n.nextPart.set(u,f)),n=f}return n},yz=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,vz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),s=Object.create(null);const a=(l,u)=>{n[l]=u,e++,e>t&&(e=0,s=n,n=Object.create(null))};return{get(l){let u=n[l];if(u!==void 0)return u;if((u=s[l])!==void 0)return a(l,u),u},set(l,u){l in n?n[l]=u:a(l,u)}}},Jy="!",EE=":",bz=[],SE=(t,e,n,s,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:s,isExternal:a}),_z=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=a=>{const l=[];let u=0,f=0,p=0,d;const y=a.length;for(let O=0;O<y;O++){const N=a[O];if(u===0&&f===0){if(N===EE){l.push(a.slice(p,O)),p=O+1;continue}if(N==="/"){d=O;continue}}N==="["?u++:N==="]"?u--:N==="("?f++:N===")"&&f--}const v=l.length===0?a:a.slice(p);let T=v,C=!1;v.endsWith(Jy)?(T=v.slice(0,-1),C=!0):v.startsWith(Jy)&&(T=v.slice(1),C=!0);const M=d&&d>p?d-p:void 0;return SE(l,C,T,M)};if(e){const a=e+EE,l=s;s=u=>u.startsWith(a)?l(u.slice(a.length)):SE(bz,!1,u,void 0,!0)}if(n){const a=s;s=l=>n({className:l,parseClassName:a})}return s},wz=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,s)=>{e.set(n,1e6+s)}),n=>{const s=[];let a=[];for(let l=0;l<n.length;l++){const u=n[l],f=u[0]==="[",p=e.has(u);f||p?(a.length>0&&(a.sort(),s.push(...a),a=[]),s.push(u)):a.push(u)}return a.length>0&&(a.sort(),s.push(...a)),s}},Tz=t=>({cache:vz(t.cacheSize),parseClassName:_z(t),sortModifiers:wz(t),...cz(t)}),xz=/\s+/,Ez=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:l}=e,u=[],f=t.trim().split(xz);let p="";for(let d=f.length-1;d>=0;d-=1){const y=f[d],{isExternal:v,modifiers:T,hasImportantModifier:C,baseClassName:M,maybePostfixModifierPosition:O}=n(y);if(v){p=y+(p.length>0?" "+p:p);continue}let N=!!O,H=s(N?M.substring(0,O):M);if(!H){if(!N){p=y+(p.length>0?" "+p:p);continue}if(H=s(M),!H){p=y+(p.length>0?" "+p:p);continue}N=!1}const W=T.length===0?"":T.length===1?T[0]:l(T).join(":"),Q=C?W+Jy:W,Y=Q+H;if(u.indexOf(Y)>-1)continue;u.push(Y);const re=a(H,N);for(let ce=0;ce<re.length;++ce){const I=re[ce];u.push(Q+I)}p=y+(p.length>0?" "+p:p)}return p},Sz=(...t)=>{let e=0,n,s,a="";for(;e<t.length;)(n=t[e++])&&(s=AR(n))&&(a&&(a+=" "),a+=s);return a},AR=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=AR(t[s]))&&(n&&(n+=" "),n+=e);return n},Az=(t,...e)=>{let n,s,a,l;const u=p=>{const d=e.reduce((y,v)=>v(y),t());return n=Tz(d),s=n.cache.get,a=n.cache.set,l=f,f(p)},f=p=>{const d=s(p);if(d)return d;const y=Ez(p,n);return a(p,y),y};return l=u,(...p)=>l(Sz(...p))},Cz=[],on=t=>{const e=n=>n[t]||Cz;return e.isThemeGetter=!0,e},CR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,RR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Rz=/^\d+\/\d+$/,Iz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Nz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Dz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,kz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Mz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ul=t=>Rz.test(t),He=t=>!!t&&!Number.isNaN(Number(t)),ta=t=>!!t&&Number.isInteger(Number(t)),Xg=t=>t.endsWith("%")&&He(t.slice(0,-1)),rr=t=>Iz.test(t),Vz=()=>!0,Pz=t=>Nz.test(t)&&!Dz.test(t),IR=()=>!1,Oz=t=>kz.test(t),jz=t=>Mz.test(t),Lz=t=>!Ae(t)&&!Ce(t),Uz=t=>Ql(t,kR,IR),Ae=t=>CR.test(t),io=t=>Ql(t,MR,Pz),Zg=t=>Ql(t,Hz,He),AE=t=>Ql(t,NR,IR),zz=t=>Ql(t,DR,jz),jf=t=>Ql(t,VR,Oz),Ce=t=>RR.test(t),eu=t=>Wl(t,MR),Bz=t=>Wl(t,Gz),CE=t=>Wl(t,NR),Fz=t=>Wl(t,kR),qz=t=>Wl(t,DR),Lf=t=>Wl(t,VR,!0),Ql=(t,e,n)=>{const s=CR.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},Wl=(t,e,n=!1)=>{const s=RR.exec(t);return s?s[1]?e(s[1]):n:!1},NR=t=>t==="position"||t==="percentage",DR=t=>t==="image"||t==="url",kR=t=>t==="length"||t==="size"||t==="bg-size",MR=t=>t==="length",Hz=t=>t==="number",Gz=t=>t==="family-name",VR=t=>t==="shadow",$z=()=>{const t=on("color"),e=on("font"),n=on("text"),s=on("font-weight"),a=on("tracking"),l=on("leading"),u=on("breakpoint"),f=on("container"),p=on("spacing"),d=on("radius"),y=on("shadow"),v=on("inset-shadow"),T=on("text-shadow"),C=on("drop-shadow"),M=on("blur"),O=on("perspective"),N=on("aspect"),H=on("ease"),W=on("animate"),Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],re=()=>[...Y(),Ce,Ae],ce=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],S=()=>[Ce,Ae,p],D=()=>[ul,"full","auto",...S()],L=()=>[ta,"none","subgrid",Ce,Ae],P=()=>["auto",{span:["full",ta,Ce,Ae]},ta,Ce,Ae],z=()=>[ta,"auto",Ce,Ae],V=()=>["auto","min","max","fr",Ce,Ae],pe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ye=()=>["start","end","center","stretch","center-safe","end-safe"],U=()=>["auto",...S()],Z=()=>[ul,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],q=()=>[t,Ce,Ae],me=()=>[...Y(),CE,AE,{position:[Ce,Ae]}],B=()=>["no-repeat",{repeat:["","x","y","space","round"]}],E=()=>["auto","cover","contain",Fz,Uz,{size:[Ce,Ae]}],K=()=>[Xg,eu,io],ne=()=>["","none","full",d,Ce,Ae],oe=()=>["",He,eu,io],ge=()=>["solid","dashed","dotted","double"],ve=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],fe=()=>[He,Xg,CE,AE],Ee=()=>["","none",M,Ce,Ae],Ie=()=>["none",He,Ce,Ae],Ge=()=>["none",He,Ce,Ae],qe=()=>[He,Ce,Ae],$e=()=>[ul,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[rr],breakpoint:[rr],color:[Vz],container:[rr],"drop-shadow":[rr],ease:["in","out","in-out"],font:[Lz],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[rr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[rr],shadow:[rr],spacing:["px",He],text:[rr],"text-shadow":[rr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ul,Ae,Ce,N]}],container:["container"],columns:[{columns:[He,Ae,Ce,f]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:re()}],overflow:[{overflow:ce()}],"overflow-x":[{"overflow-x":ce()}],"overflow-y":[{"overflow-y":ce()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[ta,"auto",Ce,Ae]}],basis:[{basis:[ul,"full","auto",f,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[He,ul,"auto","initial","none",Ae]}],grow:[{grow:["",He,Ce,Ae]}],shrink:[{shrink:["",He,Ce,Ae]}],order:[{order:[ta,"first","last","none",Ce,Ae]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...pe(),"normal"]}],"justify-items":[{"justify-items":[...ye(),"normal"]}],"justify-self":[{"justify-self":["auto",...ye()]}],"align-content":[{content:["normal",...pe()]}],"align-items":[{items:[...ye(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ye(),{baseline:["","last"]}]}],"place-content":[{"place-content":pe()}],"place-items":[{"place-items":[...ye(),"baseline"]}],"place-self":[{"place-self":["auto",...ye()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[f,"screen",...Z()]}],"min-w":[{"min-w":[f,"screen","none",...Z()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",n,eu,io]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Ce,Zg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Xg,Ae]}],"font-family":[{font:[Bz,Ae,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ce,Ae]}],"line-clamp":[{"line-clamp":[He,"none",Ce,Zg]}],leading:[{leading:[l,...S()]}],"list-image":[{"list-image":["none",Ce,Ae]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ce,Ae]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[He,"from-font","auto",Ce,io]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[He,"auto",Ce,Ae]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce,Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce,Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:me()}],"bg-repeat":[{bg:B()}],"bg-size":[{bg:E()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ta,Ce,Ae],radial:["",Ce,Ae],conic:[ta,Ce,Ae]},qz,zz]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:oe()}],"border-w-x":[{"border-x":oe()}],"border-w-y":[{"border-y":oe()}],"border-w-s":[{"border-s":oe()}],"border-w-e":[{"border-e":oe()}],"border-w-t":[{"border-t":oe()}],"border-w-r":[{"border-r":oe()}],"border-w-b":[{"border-b":oe()}],"border-w-l":[{"border-l":oe()}],"divide-x":[{"divide-x":oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[He,Ce,Ae]}],"outline-w":[{outline:["",He,eu,io]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",y,Lf,jf]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",v,Lf,jf]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[He,io]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":oe()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",T,Lf,jf]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[He,Ce,Ae]}],"mix-blend":[{"mix-blend":[...ve(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ve()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[He]}],"mask-image-linear-from-pos":[{"mask-linear-from":fe()}],"mask-image-linear-to-pos":[{"mask-linear-to":fe()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":fe()}],"mask-image-t-to-pos":[{"mask-t-to":fe()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":fe()}],"mask-image-r-to-pos":[{"mask-r-to":fe()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":fe()}],"mask-image-b-to-pos":[{"mask-b-to":fe()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":fe()}],"mask-image-l-to-pos":[{"mask-l-to":fe()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":fe()}],"mask-image-x-to-pos":[{"mask-x-to":fe()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":fe()}],"mask-image-y-to-pos":[{"mask-y-to":fe()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[Ce,Ae]}],"mask-image-radial-from-pos":[{"mask-radial-from":fe()}],"mask-image-radial-to-pos":[{"mask-radial-to":fe()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Y()}],"mask-image-conic-pos":[{"mask-conic":[He]}],"mask-image-conic-from-pos":[{"mask-conic-from":fe()}],"mask-image-conic-to-pos":[{"mask-conic-to":fe()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:me()}],"mask-repeat":[{mask:B()}],"mask-size":[{mask:E()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ce,Ae]}],filter:[{filter:["","none",Ce,Ae]}],blur:[{blur:Ee()}],brightness:[{brightness:[He,Ce,Ae]}],contrast:[{contrast:[He,Ce,Ae]}],"drop-shadow":[{"drop-shadow":["","none",C,Lf,jf]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",He,Ce,Ae]}],"hue-rotate":[{"hue-rotate":[He,Ce,Ae]}],invert:[{invert:["",He,Ce,Ae]}],saturate:[{saturate:[He,Ce,Ae]}],sepia:[{sepia:["",He,Ce,Ae]}],"backdrop-filter":[{"backdrop-filter":["","none",Ce,Ae]}],"backdrop-blur":[{"backdrop-blur":Ee()}],"backdrop-brightness":[{"backdrop-brightness":[He,Ce,Ae]}],"backdrop-contrast":[{"backdrop-contrast":[He,Ce,Ae]}],"backdrop-grayscale":[{"backdrop-grayscale":["",He,Ce,Ae]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[He,Ce,Ae]}],"backdrop-invert":[{"backdrop-invert":["",He,Ce,Ae]}],"backdrop-opacity":[{"backdrop-opacity":[He,Ce,Ae]}],"backdrop-saturate":[{"backdrop-saturate":[He,Ce,Ae]}],"backdrop-sepia":[{"backdrop-sepia":["",He,Ce,Ae]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ce,Ae]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[He,"initial",Ce,Ae]}],ease:[{ease:["linear","initial",H,Ce,Ae]}],delay:[{delay:[He,Ce,Ae]}],animate:[{animate:["none",W,Ce,Ae]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[O,Ce,Ae]}],"perspective-origin":[{"perspective-origin":re()}],rotate:[{rotate:Ie()}],"rotate-x":[{"rotate-x":Ie()}],"rotate-y":[{"rotate-y":Ie()}],"rotate-z":[{"rotate-z":Ie()}],scale:[{scale:Ge()}],"scale-x":[{"scale-x":Ge()}],"scale-y":[{"scale-y":Ge()}],"scale-z":[{"scale-z":Ge()}],"scale-3d":["scale-3d"],skew:[{skew:qe()}],"skew-x":[{"skew-x":qe()}],"skew-y":[{"skew-y":qe()}],transform:[{transform:[Ce,Ae,"","none","gpu","cpu"]}],"transform-origin":[{origin:re()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:$e()}],"translate-x":[{"translate-x":$e()}],"translate-y":[{"translate-y":$e()}],"translate-z":[{"translate-z":$e()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce,Ae]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce,Ae]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[He,eu,io,Zg]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Kz=Az($z);function Gt(...t){return Kz(rz(t))}const Yz=()=>{const{isSettingsOpen:t,closeSettings:e,settings:n,updateSettings:s}=sh(),a=id.useRef(n);if(id.useEffect(()=>{t&&(a.current=n)},[t]),!t)return null;const l=()=>{s(a.current,!1),e()},u=()=>{s(n,!0),e()},f=[{id:"dawn",name:"Dawn",color:"bg-[#0f111a] from-violet-500/20 to-pink-500/20"},{id:"midnight",name:"Midnight",color:"bg-[#020617] from-sky-500/20 to-indigo-500/20"},{id:"forest",name:"Forest",color:"bg-[#052e16] from-green-500/20 to-emerald-500/20"},{id:"ocean",name:"Ocean",color:"bg-[#083344] from-cyan-500/20 to-teal-500/20"},{id:"sunset",name:"Sunset",color:"bg-[#2a0a0a] from-orange-500/20 to-rose-500/20"}],p=[{id:"outfit",name:"Modern",family:"font-[Outfit]"},{id:"inter",name:"Clean",family:"font-[Inter]"},{id:"playfair",name:"Elegant",family:'font-["Playfair_Display"]'},{id:"mono",name:"Tech",family:'font-["Fira_Code"]'}];return b.jsx(Ji,{children:t&&b.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 font-sans",children:[b.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:l}),b.jsxs(nt.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-lg bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden max-h-[85vh] flex flex-col",children:[b.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center sticky top-0 bg-slate-900 z-10",children:[b.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[b.jsx(bE,{className:"w-5 h-5 text-accent-primary"}),"Customization"]}),b.jsx("button",{onClick:l,className:"text-slate-400 hover:text-white transition-colors",children:b.jsx(mo,{className:"w-6 h-6"})})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[b.jsxs("section",{children:[b.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[b.jsx(bE,{className:"w-4 h-4"})," Theme"]}),b.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:f.map(d=>b.jsxs("button",{onClick:()=>s({theme:d.id},!1),className:Gt("relative group overflow-hidden rounded-xl border transition-all duration-300",n.theme===d.id?"border-accent-primary ring-2 ring-accent-primary/50":"border-white/10 hover:border-white/30"),children:[b.jsx("div",{className:Gt("h-16 w-full bg-gradient-to-br",d.color)}),b.jsx("div",{className:"p-3 bg-slate-800/50",children:b.jsx("span",{className:Gt("text-sm font-medium",n.theme===d.id?"text-white":"text-slate-400"),children:d.name})}),n.theme===d.id&&b.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 bg-accent-primary rounded-full flex items-center justify-center shadow-lg",children:b.jsx(wl,{className:"w-3 h-3 text-white"})})]},d.id))})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[b.jsx(X9,{className:"w-4 h-4"})," Typography"]}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:p.map(d=>b.jsxs("button",{onClick:()=>s({font:d.id},!1),className:Gt("flex items-center justify-between p-4 rounded-xl border transition-all duration-200 text-left",n.font===d.id?"bg-white/10 border-accent-primary text-white":"bg-white/5 border-white/5 hover:bg-white/10 text-slate-300"),children:[b.jsxs("div",{children:[b.jsx("span",{className:Gt("text-lg block mb-0.5",d.family),children:"Aa"}),b.jsx("span",{className:"text-xs text-slate-400",children:d.name})]}),n.font===d.id&&b.jsx(wl,{className:"w-5 h-5 text-accent-primary"})]},d.id))}),b.jsx("div",{className:"mt-4 p-4 rounded-xl bg-black/20 border border-white/5",children:b.jsx("p",{className:Gt("text-sm text-slate-300 leading-relaxed",n.font==="outfit"&&"font-[Outfit]",n.font==="inter"&&"font-[Inter]",n.font==="playfair"&&'font-["Playfair_Display"]',n.font==="mono"&&'font-["Fira_Code"]'),children:"The quick brown fox jumps over the lazy dog. 1234567890."})})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[b.jsx(TE,{className:"w-4 h-4"})," Experience"]}),b.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10 mb-3",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:Gt("p-2 rounded-lg",n.enableAnimation?"bg-accent-primary/20 text-accent-primary":"bg-slate-700 text-slate-400"),children:b.jsx(TE,{size:20})}),b.jsxs("div",{children:[b.jsx("div",{className:"font-medium text-white",children:"Live Backgrounds"}),b.jsx("div",{className:"text-xs text-slate-400",children:"Dynamic particles and ambient effects"})]})]}),b.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:n.enableAnimation,onChange:d=>s({enableAnimation:d.target.checked},!1),className:"sr-only peer"}),b.jsx("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-accent-primary rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-primary"})]})]}),b.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:Gt("p-2 rounded-lg",n.enableSound?"bg-emerald-500/20 text-emerald-400":"bg-slate-700 text-slate-400"),children:b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),b.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"}),b.jsx("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14"})]})}),b.jsxs("div",{children:[b.jsx("div",{className:"font-medium text-white",children:"Sound Effects"}),b.jsx("div",{className:"text-xs text-slate-400",children:"Satisfying clicks and celebrations"})]})]}),b.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:n.enableSound,onChange:d=>s({enableSound:d.target.checked},!1),className:"sr-only peer"}),b.jsx("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-emerald-500 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]})]})]})]}),b.jsxs("div",{className:"p-6 border-t border-white/10 flex justify-end gap-3 sticky bottom-0 bg-slate-900 z-10 shrink-0",children:[b.jsx("button",{onClick:l,className:"px-4 py-2 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),b.jsx("button",{onClick:u,className:"px-6 py-2 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all active:scale-95",children:"Save Changes"})]})]})]})})},Jg={theme:"dawn",font:"outfit",enableAnimation:!0,enableSound:!0},PR=k.createContext(null),sh=()=>{const t=k.useContext(PR);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},Qz=({children:t})=>{const{user:e}=Gl(),[n,s]=k.useState(Jg),[a,l]=k.useState(!1);k.useEffect(()=>{(async()=>{if(!e){s(Jg);return}try{const y=Is(Xn,"users",e.uid),v=await Zu(y);v.exists()&&v.data().settings&&s({...Jg,...v.data().settings})}catch(y){console.error("Error loading settings:",y)}})()},[e]),k.useEffect(()=>{const d=document.body;d.classList.remove("theme-midnight","theme-forest","theme-ocean","theme-sunset"),n.theme!=="dawn"&&d.classList.add(`theme-${n.theme}`),d.classList.remove("font-inter","font-playfair","font-mono","font-comic"),n.font!=="outfit"&&d.classList.add(`font-${n.font}`),n.enableAnimation?d.classList.remove("reduce-motion"):d.classList.add("reduce-motion")},[n]);const u=async(d,y=!0)=>{const v={...n,...d};if(s(v),e&&y)try{await Id(Is(Xn,"users",e.uid),{settings:v},{merge:!0})}catch(T){console.error("Error saving settings:",T)}},f=()=>l(!0),p=()=>l(!1);return b.jsxs(PR.Provider,{value:{settings:n,updateSettings:u,isSettingsOpen:a,openSettings:f,closeSettings:p},children:[t,b.jsx(Yz,{})]})},Wz=()=>{const{signIn:t,error:e}=Gl();return b.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-center",children:[b.jsx("div",{className:"background-animation"}),b.jsxs("div",{className:"glass-panel p-8 max-w-md w-full flex flex-col items-center gap-6 animate-fade-in",children:[b.jsxs("div",{className:"flex flex-col items-center gap-2 mb-2",children:[b.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-24 w-auto object-contain drop-shadow-[0_0_15px_rgba(251,191,36,0.3)]"}),b.jsx("div",{className:"rounded-full bg-accent-primary/20 p-2 hidden",children:b.jsx(vR,{className:"w-6 h-6 text-accent-gold animate-pulse"})})]}),b.jsx("h1",{className:"text-4xl font-heading font-bold text-gradient sr-only",children:"SunSar Bingo"}),b.jsxs("p",{className:"text-slate-300 font-light text-lg",children:["Track your goals, share with friends,",b.jsx("br",{}),"and make 2026 your best year yet."]}),e&&b.jsx("div",{className:"bg-red-500/20 text-red-200 px-4 py-2 rounded-lg text-sm border border-red-500/30",children:e}),b.jsx("button",{onClick:t,className:"group relative px-6 py-3 bg-white text-bg-dark font-bold rounded-full transition-all hover:scale-105 hover:shadow-[0_0_20px_rgba(255,255,255,0.3)]",children:b.jsxs("span",{className:"flex items-center gap-2",children:[b.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"G",className:"w-5 h-5"}),"Sign in / Sign up with Google"]})})]}),b.jsx("footer",{className:"absolute bottom-4 text-slate-500 text-xs",children:" 2026 SunSar Bingo  Free & Open Source"})]})};var jv={};(function t(e,n,s,a){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),u=typeof Path2D=="function"&&typeof DOMMatrix=="function",f=(function(){if(!e.OffscreenCanvas)return!1;try{var B=new OffscreenCanvas(1,1),E=B.getContext("2d");E.fillRect(0,0,1,1);var K=B.transferToImageBitmap();E.createPattern(K,"no-repeat")}catch{return!1}return!0})();function p(){}function d(B){var E=n.exports.Promise,K=E!==void 0?E:e.Promise;return typeof K=="function"?new K(B):(B(p,p),null)}var y=(function(B,E){return{transform:function(K){if(B)return K;if(E.has(K))return E.get(K);var ne=new OffscreenCanvas(K.width,K.height),oe=ne.getContext("2d");return oe.drawImage(K,0,0),E.set(K,ne),ne},clear:function(){E.clear()}}})(f,new Map),v=(function(){var B=Math.floor(16.666666666666668),E,K,ne={},oe=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(E=function(ge){var ve=Math.random();return ne[ve]=requestAnimationFrame(function fe(Ee){oe===Ee||oe+B-1<Ee?(oe=Ee,delete ne[ve],ge()):ne[ve]=requestAnimationFrame(fe)}),ve},K=function(ge){ne[ge]&&cancelAnimationFrame(ne[ge])}):(E=function(ge){return setTimeout(ge,B)},K=function(ge){return clearTimeout(ge)}),{frame:E,cancel:K}})(),T=(function(){var B,E,K={};function ne(oe){function ge(ve,fe){oe.postMessage({options:ve||{},callback:fe})}oe.init=function(fe){var Ee=fe.transferControlToOffscreen();oe.postMessage({canvas:Ee},[Ee])},oe.fire=function(fe,Ee,Ie){if(E)return ge(fe,null),E;var Ge=Math.random().toString(36).slice(2);return E=d(function(qe){function $e(Tt){Tt.data.callback===Ge&&(delete K[Ge],oe.removeEventListener("message",$e),E=null,y.clear(),Ie(),qe())}oe.addEventListener("message",$e),ge(fe,Ge),K[Ge]=$e.bind(null,{data:{callback:Ge}})}),E},oe.reset=function(){oe.postMessage({reset:!0});for(var fe in K)K[fe](),delete K[fe]}}return function(){if(B)return B;if(!s&&l){var oe=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{B=new Worker(URL.createObjectURL(new Blob([oe])))}catch(ge){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",ge),null}ne(B)}return B}})(),C={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function M(B,E){return E?E(B):B}function O(B){return B!=null}function N(B,E,K){return M(B&&O(B[E])?B[E]:C[E],K)}function H(B){return B<0?0:Math.floor(B)}function W(B,E){return Math.floor(Math.random()*(E-B))+B}function Q(B){return parseInt(B,16)}function Y(B){return B.map(re)}function re(B){var E=String(B).replace(/[^0-9a-f]/gi,"");return E.length<6&&(E=E[0]+E[0]+E[1]+E[1]+E[2]+E[2]),{r:Q(E.substring(0,2)),g:Q(E.substring(2,4)),b:Q(E.substring(4,6))}}function ce(B){var E=N(B,"origin",Object);return E.x=N(E,"x",Number),E.y=N(E,"y",Number),E}function I(B){B.width=document.documentElement.clientWidth,B.height=document.documentElement.clientHeight}function S(B){var E=B.getBoundingClientRect();B.width=E.width,B.height=E.height}function D(B){var E=document.createElement("canvas");return E.style.position="fixed",E.style.top="0px",E.style.left="0px",E.style.pointerEvents="none",E.style.zIndex=B,E}function L(B,E,K,ne,oe,ge,ve,fe,Ee){B.save(),B.translate(E,K),B.rotate(ge),B.scale(ne,oe),B.arc(0,0,1,ve,fe,Ee),B.restore()}function P(B){var E=B.angle*(Math.PI/180),K=B.spread*(Math.PI/180);return{x:B.x,y:B.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:B.startVelocity*.5+Math.random()*B.startVelocity,angle2D:-E+(.5*K-Math.random()*K),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:B.color,shape:B.shape,tick:0,totalTicks:B.ticks,decay:B.decay,drift:B.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:B.gravity*3,ovalScalar:.6,scalar:B.scalar,flat:B.flat}}function z(B,E){E.x+=Math.cos(E.angle2D)*E.velocity+E.drift,E.y+=Math.sin(E.angle2D)*E.velocity+E.gravity,E.velocity*=E.decay,E.flat?(E.wobble=0,E.wobbleX=E.x+10*E.scalar,E.wobbleY=E.y+10*E.scalar,E.tiltSin=0,E.tiltCos=0,E.random=1):(E.wobble+=E.wobbleSpeed,E.wobbleX=E.x+10*E.scalar*Math.cos(E.wobble),E.wobbleY=E.y+10*E.scalar*Math.sin(E.wobble),E.tiltAngle+=.1,E.tiltSin=Math.sin(E.tiltAngle),E.tiltCos=Math.cos(E.tiltAngle),E.random=Math.random()+2);var K=E.tick++/E.totalTicks,ne=E.x+E.random*E.tiltCos,oe=E.y+E.random*E.tiltSin,ge=E.wobbleX+E.random*E.tiltCos,ve=E.wobbleY+E.random*E.tiltSin;if(B.fillStyle="rgba("+E.color.r+", "+E.color.g+", "+E.color.b+", "+(1-K)+")",B.beginPath(),u&&E.shape.type==="path"&&typeof E.shape.path=="string"&&Array.isArray(E.shape.matrix))B.fill(Z(E.shape.path,E.shape.matrix,E.x,E.y,Math.abs(ge-ne)*.1,Math.abs(ve-oe)*.1,Math.PI/10*E.wobble));else if(E.shape.type==="bitmap"){var fe=Math.PI/10*E.wobble,Ee=Math.abs(ge-ne)*.1,Ie=Math.abs(ve-oe)*.1,Ge=E.shape.bitmap.width*E.scalar,qe=E.shape.bitmap.height*E.scalar,$e=new DOMMatrix([Math.cos(fe)*Ee,Math.sin(fe)*Ee,-Math.sin(fe)*Ie,Math.cos(fe)*Ie,E.x,E.y]);$e.multiplySelf(new DOMMatrix(E.shape.matrix));var Tt=B.createPattern(y.transform(E.shape.bitmap),"no-repeat");Tt.setTransform($e),B.globalAlpha=1-K,B.fillStyle=Tt,B.fillRect(E.x-Ge/2,E.y-qe/2,Ge,qe),B.globalAlpha=1}else if(E.shape==="circle")B.ellipse?B.ellipse(E.x,E.y,Math.abs(ge-ne)*E.ovalScalar,Math.abs(ve-oe)*E.ovalScalar,Math.PI/10*E.wobble,0,2*Math.PI):L(B,E.x,E.y,Math.abs(ge-ne)*E.ovalScalar,Math.abs(ve-oe)*E.ovalScalar,Math.PI/10*E.wobble,0,2*Math.PI);else if(E.shape==="star")for(var Ve=Math.PI/2*3,ut=4*E.scalar,zt=8*E.scalar,Bt=E.x,gn=E.y,ht=5,et=Math.PI/ht;ht--;)Bt=E.x+Math.cos(Ve)*zt,gn=E.y+Math.sin(Ve)*zt,B.lineTo(Bt,gn),Ve+=et,Bt=E.x+Math.cos(Ve)*ut,gn=E.y+Math.sin(Ve)*ut,B.lineTo(Bt,gn),Ve+=et;else B.moveTo(Math.floor(E.x),Math.floor(E.y)),B.lineTo(Math.floor(E.wobbleX),Math.floor(oe)),B.lineTo(Math.floor(ge),Math.floor(ve)),B.lineTo(Math.floor(ne),Math.floor(E.wobbleY));return B.closePath(),B.fill(),E.tick<E.totalTicks}function V(B,E,K,ne,oe){var ge=E.slice(),ve=B.getContext("2d"),fe,Ee,Ie=d(function(Ge){function qe(){fe=Ee=null,ve.clearRect(0,0,ne.width,ne.height),y.clear(),oe(),Ge()}function $e(){s&&!(ne.width===a.width&&ne.height===a.height)&&(ne.width=B.width=a.width,ne.height=B.height=a.height),!ne.width&&!ne.height&&(K(B),ne.width=B.width,ne.height=B.height),ve.clearRect(0,0,ne.width,ne.height),ge=ge.filter(function(Tt){return z(ve,Tt)}),ge.length?fe=v.frame($e):qe()}fe=v.frame($e),Ee=qe});return{addFettis:function(Ge){return ge=ge.concat(Ge),Ie},canvas:B,promise:Ie,reset:function(){fe&&v.cancel(fe),Ee&&Ee()}}}function pe(B,E){var K=!B,ne=!!N(E||{},"resize"),oe=!1,ge=N(E,"disableForReducedMotion",Boolean),ve=l&&!!N(E||{},"useWorker"),fe=ve?T():null,Ee=K?I:S,Ie=B&&fe?!!B.__confetti_initialized:!1,Ge=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,qe;function $e(Ve,ut,zt){for(var Bt=N(Ve,"particleCount",H),gn=N(Ve,"angle",Number),ht=N(Ve,"spread",Number),et=N(Ve,"startVelocity",Number),pi=N(Ve,"decay",Number),Ca=N(Ve,"gravity",Number),br=N(Ve,"drift",Number),Kt=N(Ve,"colors",Y),En=N(Ve,"ticks",Number),Mn=N(Ve,"shapes"),Bn=N(Ve,"scalar"),Sn=!!N(Ve,"flat"),Ls=ce(Ve),as=Bt,os=[],Bi=B.width*Ls.x,st=B.height*Ls.y;as--;)os.push(P({x:Bi,y:st,angle:gn,spread:ht,startVelocity:et,color:Kt[as%Kt.length],shape:Mn[W(0,Mn.length)],ticks:En,decay:pi,gravity:Ca,drift:br,scalar:Bn,flat:Sn}));return qe?qe.addFettis(os):(qe=V(B,os,Ee,ut,zt),qe.promise)}function Tt(Ve){var ut=ge||N(Ve,"disableForReducedMotion",Boolean),zt=N(Ve,"zIndex",Number);if(ut&&Ge)return d(function(et){et()});K&&qe?B=qe.canvas:K&&!B&&(B=D(zt),document.body.appendChild(B)),ne&&!Ie&&Ee(B);var Bt={width:B.width,height:B.height};fe&&!Ie&&fe.init(B),Ie=!0,fe&&(B.__confetti_initialized=!0);function gn(){if(fe){var et={getBoundingClientRect:function(){if(!K)return B.getBoundingClientRect()}};Ee(et),fe.postMessage({resize:{width:et.width,height:et.height}});return}Bt.width=Bt.height=null}function ht(){qe=null,ne&&(oe=!1,e.removeEventListener("resize",gn)),K&&B&&(document.body.contains(B)&&document.body.removeChild(B),B=null,Ie=!1)}return ne&&!oe&&(oe=!0,e.addEventListener("resize",gn,!1)),fe?fe.fire(Ve,Bt,ht):$e(Ve,Bt,ht)}return Tt.reset=function(){fe&&fe.reset(),qe&&qe.reset()},Tt}var ye;function U(){return ye||(ye=pe(null,{useWorker:!0,resize:!0})),ye}function Z(B,E,K,ne,oe,ge,ve){var fe=new Path2D(B),Ee=new Path2D;Ee.addPath(fe,new DOMMatrix(E));var Ie=new Path2D;return Ie.addPath(Ee,new DOMMatrix([Math.cos(ve)*oe,Math.sin(ve)*oe,-Math.sin(ve)*ge,Math.cos(ve)*ge,K,ne])),Ie}function q(B){if(!u)throw new Error("path confetti are not supported in this browser");var E,K;typeof B=="string"?E=B:(E=B.path,K=B.matrix);var ne=new Path2D(E),oe=document.createElement("canvas"),ge=oe.getContext("2d");if(!K){for(var ve=1e3,fe=ve,Ee=ve,Ie=0,Ge=0,qe,$e,Tt=0;Tt<ve;Tt+=2)for(var Ve=0;Ve<ve;Ve+=2)ge.isPointInPath(ne,Tt,Ve,"nonzero")&&(fe=Math.min(fe,Tt),Ee=Math.min(Ee,Ve),Ie=Math.max(Ie,Tt),Ge=Math.max(Ge,Ve));qe=Ie-fe,$e=Ge-Ee;var ut=10,zt=Math.min(ut/qe,ut/$e);K=[zt,0,0,zt,-Math.round(qe/2+fe)*zt,-Math.round($e/2+Ee)*zt]}return{type:"path",path:E,matrix:K}}function me(B){var E,K=1,ne="#000000",oe='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof B=="string"?E=B:(E=B.text,K="scalar"in B?B.scalar:K,oe="fontFamily"in B?B.fontFamily:oe,ne="color"in B?B.color:ne);var ge=10*K,ve=""+ge+"px "+oe,fe=new OffscreenCanvas(ge,ge),Ee=fe.getContext("2d");Ee.font=ve;var Ie=Ee.measureText(E),Ge=Math.ceil(Ie.actualBoundingBoxRight+Ie.actualBoundingBoxLeft),qe=Math.ceil(Ie.actualBoundingBoxAscent+Ie.actualBoundingBoxDescent),$e=2,Tt=Ie.actualBoundingBoxLeft+$e,Ve=Ie.actualBoundingBoxAscent+$e;Ge+=$e+$e,qe+=$e+$e,fe=new OffscreenCanvas(Ge,qe),Ee=fe.getContext("2d"),Ee.font=ve,Ee.fillStyle=ne,Ee.fillText(E,Tt,Ve);var ut=1/K;return{type:"bitmap",bitmap:fe.transferToImageBitmap(),matrix:[ut,0,0,ut,-Ge*ut/2,-qe*ut/2]}}n.exports=function(){return U().apply(this,arguments)},n.exports.reset=function(){U().reset()},n.exports.create=pe,n.exports.shapeFromPath=q,n.exports.shapeFromText=me})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),jv,!1);const OR=jv.exports;jv.exports.create;const Uf=(t=1)=>{const e=200*t,n={origin:{y:.7}};function s(a,l){OR(Object.assign({},n,l,{particleCount:Math.floor(e*a)}))}s(.25,{spread:26,startVelocity:55}),s(.2,{spread:60}),s(.35,{spread:100,decay:.91,scalar:.8}),s(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),s(.1,{spread:120,startVelocity:45})},RE={cloudName:"dia6ped7h",uploadPreset:"bingo_proofs"},IE=async t=>{const e=new FormData;e.append("file",t),e.append("upload_preset",RE.uploadPreset),e.append("folder","bingo-proofs");const n=await fetch(`https://api.cloudinary.com/v1_1/${RE.cloudName}/image/upload`,{method:"POST",body:e});if(!n.ok){const a=await n.json();throw console.error("Cloudinary upload error:",a),new Error(a.error?.message||"Failed to upload image")}return(await n.json()).secure_url},Xz="2026",ey=5,Zz=["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"],Jz=t=>{const{user:e}=Gl(),[n,s]=k.useState([]),[a,l]=k.useState({}),[u,f]=k.useState(!0),[p,d]=k.useState(!1),[y,v]=k.useState(!1),[T,C]=k.useState(""),[M,O]=k.useState(ey),N=k.useMemo(()=>t?Is(Xn,"boards",t):Is(Xn,"years",Xz),[t]),H=(pe,ye)=>{if(!pe.length)return;const U=[];for(let q=0;q<ye;q++)U.push(pe.slice(q*ye,(q+1)*ye));let Z=!1;for(let q=0;q<ye;q++)if(U[q]&&U[q].every(me=>me.isCompleted)){Z=!0;break}if(!Z){for(let q=0;q<ye;q++)if(U.map(me=>me[q]).every(me=>me&&me.isCompleted)){Z=!0;break}}!Z&&U.map((q,me)=>q[me]).every(q=>q&&q.isCompleted)&&(Z=!0),!Z&&U.map((q,me)=>q[ye-1-me]).every(q=>q&&q.isCompleted)&&(Z=!0),Z&&!p?(d(!0),Uf(2)):Z||d(!1)},W=async(pe=ey)=>{const ye=pe*pe,U=pe%2===1?Math.floor(ye/2):-1,Z=[...Zz].sort(()=>.5-Math.random()),q=[];let me=0;for(let B=0;B<ye;B++)B===U&&pe%2===1?q.push({id:B,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(q.push({id:B,text:Z[me%Z.length]||`Goal ${B+1}`,isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),me++);await Id(N,{year:2026,gridSize:pe,items:q,isLocked:!1,createdAt:Fe.now(),lastUpdated:Fe.now(),...e?{ownerId:e.uid,members:{[e.uid]:"owner"}}:{}},{merge:!0})};k.useEffect(()=>{if(!e)return;f(!0);const pe=EC(N,ye=>{if(ye.exists()){const U=ye.data(),Z=U.gridSize||ey;O(Z),s(U.items||[]),l(U.members||{}),v(U.isLocked||!1),C(U.title||""),H(U.items||[],Z)}else W();f(!1)},ye=>{console.error("Error fetching bingo board:",ye),f(!1)});return()=>pe()},[N,e]);const Q=async pe=>{if(!n.length)return;const ye=n.map(me=>({...me})),U=ye[pe];if(U.isFreeSpace)return;const Z=U.targetCount||1,q=U.currentCount||0;if(U.isCompleted){const me=Math.max(0,q-1);U.currentCount=me,U.isCompleted=me>=Z,me===0&&(U.completedBy=null,U.completedAt=null,U.proofPhotos=[])}else{const me=Math.min(Z,q+1);U.currentCount=me,U.isCompleted=me>=Z,U.completedBy=e?.displayName||e?.email||"Unknown",U.completedAt=Fe.now(),Uf(.5)}s(ye),H(ye,M);try{await Mi(N,{items:ye,lastUpdated:Fe.now()})}catch(me){console.error("Error updating bingo board:",me)}},Y=async pe=>{if(!n.length)return;const ye=n.map(B=>({...B})),U=ye[pe];if(U.isFreeSpace)return;const Z=U.currentCount||0;if(Z<=0)return;const q=U.targetCount||1,me=Z-1;U.currentCount=me,U.isCompleted=me>=q,me===0&&(U.completedBy=null,U.completedAt=null,U.proofPhotos=[]),s(ye),H(ye,M);try{await Mi(N,{items:ye,lastUpdated:Fe.now()})}catch(B){console.error("Error decrementing progress:",B)}},re=async(pe,ye)=>{if(!(!n.length||!e))try{const U=await IE(ye),Z=n.map(ne=>({...ne})),q=Z[pe];if(q.isFreeSpace)return;const me=q.targetCount||1,B=q.currentCount||0,E=Math.min(me,B+1);q.currentCount=E,q.isCompleted=E>=me,q.completedBy=e?.displayName||e?.email||"Unknown",q.completedAt=Fe.now();const K=q.proofPhotos||[];q.proofPhotos=[...K,U],s(Z),H(Z,M),Uf(1),await Mi(N,{items:Z,lastUpdated:Fe.now()})}catch(U){throw console.error("Error completing with photo:",U),U}},ce=async(pe,ye)=>{if(!n.length||!e)return;const U=n[pe];!U.isCompleted&&(U.currentCount||0)<(U.targetCount||1);const Z=U.proofPhotos||[];if(Z.length>=5)throw new Error("Maximum 5 photos allowed per tile");try{const q=await IE(ye),me=n.map(B=>({...B}));return me[pe].proofPhotos=[...Z,q],s(me),Uf(.3),await Mi(N,{items:me,lastUpdated:Fe.now()}),q}catch(q){throw console.error("Error adding photo:",q),q}},I=async(pe,ye)=>{const U=n.map(Z=>({...Z}));ye.text!==void 0&&(U[pe].text=ye.text),ye.style!==void 0&&(U[pe].style=ye.style),s(U);try{await Mi(N,{items:U,lastUpdated:Fe.now()})}catch(Z){console.error("Error updating item:",Z)}},S=async()=>{const pe=[...n],ye=M*M,U=M%2===1?Math.floor(ye/2):-1;let Z;if(U!==-1){const q=pe[U],me=[...pe.slice(0,U),...pe.slice(U+1)];for(let B=me.length-1;B>0;B--){const E=Math.floor(Math.random()*(B+1));[me[B],me[E]]=[me[E],me[B]]}Z=[...me.slice(0,U),q,...me.slice(U)]}else{Z=[...pe];for(let q=Z.length-1;q>0;q--){const me=Math.floor(Math.random()*(q+1));[Z[q],Z[me]]=[Z[me],Z[q]]}}s(Z),v(!0),await Id(N,{isLocked:!0,items:Z,itemsBackup:pe,lastUpdated:Fe.now()},{merge:!0})},D=async()=>{try{const pe=await Zu(N);if(pe.exists()){const ye=pe.data();ye.itemsBackup?await Mi(N,{items:ye.itemsBackup,itemsBackup:Ad(),isLocked:!1,lastUpdated:Fe.now()}):await Mi(N,{isLocked:!1,lastUpdated:Fe.now()})}}catch(pe){console.error("Error unlocking board:",pe)}},L=k.useMemo(()=>{const pe=[[0,1,2,3,4],[5,6,7,8,9],[10,11,12,13,14],[15,16,17,18,19],[20,21,22,23,24],[0,5,10,15,20],[1,6,11,16,21],[2,7,12,17,22],[3,8,13,18,23],[4,9,14,19,24],[0,6,12,18,24],[4,8,12,16,20]],ye=new Set(n.map((U,Z)=>U.isCompleted?Z:-1));return pe.reduce((U,Z)=>Z.every(q=>ye.has(q))?U+1:U,0)},[n]);return{items:n,members:a,loading:u,toggleItem:Q,updateItem:I,hasWon:p,bingoCount:L,isLocked:y,unlockBoard:D,jumbleAndLock:S,saveBoard:async pe=>{s(pe);try{await Mi(N,{items:pe,lastUpdated:Fe.now()})}catch(ye){console.error("Error saving board:",ye)}},completeWithPhoto:re,addPhotoToTile:ce,decrementProgress:Y,inviteUser:async(pe,ye="editor")=>{try{const U=Cd(pl(Xn,"users"),Rd("email","==",pe)),Z=await pu(U);if(Z.empty)return{success:!1,type:"not_found",message:"User not found"};const q=Z.docs[0],me=q.id;return await Mi(N,{[`members.${me}`]:ye}),{success:!0,type:"success",message:`Added ${q.data().displayName||pe} as ${ye}!`}}catch(U){return console.error("Error inviting user:",U),{success:!1,type:"error",message:"Failed to invite user"}}},removeMember:async pe=>{try{return await Mi(N,{[`members.${pe}`]:Ad()}),{success:!0}}catch(ye){return console.error("Error removing member:",ye),{success:!1,error:ye}}},title:T,gridSize:M}};let _u=null;const tu=()=>(_u||(_u=new(window.AudioContext||window.webkitAudioContext)),_u),eB=()=>{const{settings:t}=sh(),e=t.enableSound??!0,n=k.useRef(0);k.useEffect(()=>{const d=()=>{_u?.state==="suspended"&&_u.resume()};return document.addEventListener("click",d,{once:!0}),document.addEventListener("touchstart",d,{once:!0}),()=>{document.removeEventListener("click",d),document.removeEventListener("touchstart",d)}},[]);const s=k.useCallback(()=>{const d=Date.now();return d-n.current<50?!1:(n.current=d,!0)},[]),a=k.useCallback(()=>{if(!(!e||!s()))try{const d=tu(),y=d.createOscillator(),v=d.createGain();y.connect(v),v.connect(d.destination),y.frequency.setValueAtTime(800,d.currentTime),y.frequency.exponentialRampToValueAtTime(400,d.currentTime+.1),y.type="sine",v.gain.setValueAtTime(.15,d.currentTime),v.gain.exponentialRampToValueAtTime(.001,d.currentTime+.1),y.start(d.currentTime),y.stop(d.currentTime+.1)}catch(d){console.warn("Audio playback failed:",d)}},[e,s]),l=k.useCallback(()=>{if(!(!e||!s()))try{const d=tu();[523.25,659.25,783.99].forEach((v,T)=>{const C=d.createOscillator(),M=d.createGain();C.connect(M),M.connect(d.destination),C.frequency.setValueAtTime(v,d.currentTime),C.type="sine";const O=d.currentTime+T*.08;M.gain.setValueAtTime(0,O),M.gain.linearRampToValueAtTime(.12,O+.02),M.gain.exponentialRampToValueAtTime(.001,O+.3),C.start(O),C.stop(O+.3)})}catch(d){console.warn("Audio playback failed:",d)}},[e,s]),u=k.useCallback(()=>{if(e)try{const d=tu();[{freq:523.25,time:0},{freq:659.25,time:.1},{freq:783.99,time:.2},{freq:1046.5,time:.35},{freq:1318.51,time:.5}].forEach(({freq:C,time:M})=>{const O=d.createOscillator(),N=d.createGain();O.connect(N),N.connect(d.destination),O.frequency.setValueAtTime(C,d.currentTime+M),O.type="sine",N.gain.setValueAtTime(0,d.currentTime+M),N.gain.linearRampToValueAtTime(.2,d.currentTime+M+.02),N.gain.exponentialRampToValueAtTime(.001,d.currentTime+M+.5),O.start(d.currentTime+M),O.stop(d.currentTime+M+.5)});const v=d.createOscillator(),T=d.createGain();v.connect(T),T.connect(d.destination),v.type="sine",v.frequency.setValueAtTime(2e3,d.currentTime+.6),v.frequency.exponentialRampToValueAtTime(4e3,d.currentTime+1.2),T.gain.setValueAtTime(0,d.currentTime+.6),T.gain.linearRampToValueAtTime(.05,d.currentTime+.7),T.gain.exponentialRampToValueAtTime(.001,d.currentTime+1.2),v.start(d.currentTime+.6),v.stop(d.currentTime+1.2)}catch(d){console.warn("Audio playback failed:",d)}},[e]),f=k.useCallback(()=>{if(!(!e||!s()))try{const d=tu(),y=d.sampleRate*.15,v=d.createBuffer(1,y,d.sampleRate),T=v.getChannelData(0);for(let N=0;N<y;N++)T[N]=(Math.random()*2-1)*(1-N/y);const C=d.createBufferSource(),M=d.createBiquadFilter(),O=d.createGain();C.buffer=v,M.type="lowpass",M.frequency.setValueAtTime(2e3,d.currentTime),M.frequency.exponentialRampToValueAtTime(500,d.currentTime+.15),C.connect(M),M.connect(O),O.connect(d.destination),O.gain.setValueAtTime(.08,d.currentTime),O.gain.exponentialRampToValueAtTime(.001,d.currentTime+.15),C.start(d.currentTime)}catch(d){console.warn("Audio playback failed:",d)}},[e,s]),p=k.useCallback(()=>{if(!(!e||!s()))try{const d=tu(),y=d.createOscillator(),v=d.createGain();y.connect(v),v.connect(d.destination),y.frequency.setValueAtTime(200,d.currentTime),y.frequency.linearRampToValueAtTime(150,d.currentTime+.2),y.type="sine",v.gain.setValueAtTime(.15,d.currentTime),v.gain.exponentialRampToValueAtTime(.001,d.currentTime+.2),y.start(d.currentTime),y.stop(d.currentTime+.2)}catch(d){console.warn("Audio playback failed:",d)}},[e,s]);return{playClick:a,playSuccess:l,playBingo:u,playWhoosh:f,playError:p}},tB=({items:t,isOpen:e,onClose:n})=>{const[s,a]=k.useState(null),l=k.useMemo(()=>t.map((p,d)=>({...p,originalIndex:d})).filter(p=>p.isCompleted&&p.proofPhotos&&p.proofPhotos.length>0).sort((p,d)=>{const y=p.completedAt?.toDate?.()||new Date(0);return(d.completedAt?.toDate?.()||new Date(0)).getTime()-y.getTime()}),[t]),u=k.useMemo(()=>{const p={};return l.forEach(d=>{const v=(d.completedAt?.toDate?.()||new Date).toLocaleDateString("en-US",{month:"long",year:"numeric"});p[v]||(p[v]=[]),p[v].push(d)}),p},[l]),f=p=>p?(p.toDate?p.toDate():new Date(p)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"";return e?b.jsx(Ji,{children:b.jsxs(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] bg-bg-dark overflow-y-auto",children:[b.jsx("div",{className:"sticky top-0 z-10 bg-bg-dark/95 backdrop-blur-md border-b border-white/10",children:b.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(Ud,{className:"w-6 h-6 text-accent-gold"}),b.jsx("h1",{className:"text-xl font-bold text-white",children:"2026 Memories"}),b.jsxs("span",{className:"text-sm text-slate-400",children:["(",l.length," moments)"]})]}),b.jsx("button",{onClick:n,className:"p-2 text-slate-400 hover:text-white transition-colors rounded-full hover:bg-white/10",children:b.jsx(mo,{size:24})})]})}),b.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6",children:l.length===0?b.jsxs("div",{className:"text-center py-20",children:[b.jsx(Ud,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),b.jsx("h2",{className:"text-xl font-semibold text-slate-400 mb-2",children:"No memories yet"}),b.jsx("p",{className:"text-slate-500",children:"Complete tasks and add photos to build your 2026 album!"})]}):Object.entries(u).map(([p,d])=>b.jsxs("div",{className:"mb-8",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[b.jsx(zd,{className:"w-4 h-4 text-accent-primary"}),b.jsx("h2",{className:"text-lg font-semibold text-accent-primary",children:p}),b.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-accent-primary/30 to-transparent"})]}),b.jsx("div",{className:"space-y-6",children:d.map((y,v)=>b.jsxs(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},className:"bg-bg-card/80 rounded-2xl border border-white/10 overflow-hidden shadow-xl",children:[b.jsxs("div",{className:"relative aspect-video bg-black cursor-pointer",onClick:()=>a({memoryIdx:l.indexOf(y),photoIdx:0}),children:[b.jsx("img",{src:y.proofPhotos[0],alt:y.text,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}),y.proofPhotos.length>1&&b.jsxs("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/70 rounded-full text-white text-xs font-medium",children:["+",y.proofPhotos.length-1," more"]})]}),y.proofPhotos.length>1&&b.jsx("div",{className:"flex gap-1 p-2 bg-black/30 overflow-x-auto",children:y.proofPhotos.map((T,C)=>b.jsx("button",{onClick:()=>a({memoryIdx:l.indexOf(y),photoIdx:C}),className:"w-14 h-14 rounded-lg overflow-hidden flex-shrink-0 border-2 border-transparent hover:border-accent-primary transition-all",children:b.jsx("img",{src:T,alt:"",className:"w-full h-full object-cover"})},C))}),b.jsxs("div",{className:"p-4",children:[b.jsxs("h3",{className:"text-lg font-semibold text-white mb-2 flex items-center gap-2",children:[b.jsx("span",{className:"text-accent-gold",children:""}),y.text]}),b.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(J9,{size:14}),y.completedBy]}),b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(zd,{size:14}),f(y.completedAt)]})]})]})]},y.id))})]},p))}),b.jsx(Ji,{children:s!==null&&l[s.memoryIdx]&&b.jsxs(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[300] bg-black/95 flex items-center justify-center p-4",onClick:()=>a(null),children:[b.jsx("button",{onClick:()=>a(null),className:"absolute top-4 right-4 p-2 text-white/70 hover:text-white",children:b.jsx(mo,{size:32})}),(()=>{const p=l[s.memoryIdx],d=p.proofPhotos||[],y=s.photoIdx;return b.jsxs("div",{className:"relative max-w-4xl w-full",onClick:v=>v.stopPropagation(),children:[b.jsx("img",{src:d[y],alt:"",className:"w-full max-h-[80vh] object-contain rounded-lg"}),d.length>1&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>a({...s,photoIdx:y>0?y-1:d.length-1}),className:"absolute left-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:b.jsx(pR,{size:28})}),b.jsx("button",{onClick:()=>a({...s,photoIdx:y<d.length-1?y+1:0}),className:"absolute right-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:b.jsx(gR,{size:28})})]}),b.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:[b.jsx("p",{className:"text-white font-semibold",children:p.text}),b.jsxs("p",{className:"text-slate-300 text-sm",children:[y+1," / ",d.length,"  ",f(p.completedAt)]})]})]})})()]})})]})}):null},NE=()=>{const{boardId:t,yearId:e}=aD(),n=Pu(),s=e?void 0:t,{items:a,members:l,loading:u,toggleItem:f,hasWon:p,bingoCount:d,isLocked:y,unlockBoard:v,jumbleAndLock:T,saveBoard:C,completeWithPhoto:M,addPhotoToTile:O,decrementProgress:N,inviteUser:H,removeMember:W,title:Q,gridSize:Y}=Jz(s),{logout:re,user:ce}=Gl(),I=wR(),{openSettings:S}=sh(),{playClick:D,playSuccess:L,playBingo:P,playWhoosh:z}=eB(),[V,pe]=k.useState(!1),[ye,U]=k.useState([]),[Z,q]=k.useState(!1),[me,B]=k.useState(!1),[E,K]=k.useState([]),[ne,oe]=k.useState(null),[ge,ve]=k.useState(""),[fe,Ee]=k.useState({}),[Ie,Ge]=k.useState(1),[qe,$e]=k.useState(""),[Tt,Ve]=k.useState(!1),[ut,zt]=k.useState(0),[Bt,gn]=k.useState(null),[ht,et]=k.useState(!1);k.useEffect(()=>{!localStorage.getItem("hasSeenWalkthrough")&&!u&&a.length>0&&Ve(!0)},[u,a]),k.useEffect(()=>{(async()=>{if(me&&l){const we=[];for(const[ft,Rt]of Object.entries(l))if(Rt!=="owner")try{const Yt=await Zu(Is(Xn,"users",ft));if(Yt.exists()){const An=Yt.data();we.push({id:ft,name:An.displayName||"Unknown",email:An.email||"No email",role:Rt})}}catch(Yt){console.error("Error fetching user:",Yt)}K(we)}})()},[me,l]);const pi=async($,we)=>{await I.confirm(`Are you sure you want to remove ${we} from this board?`,{title:"Remove Member",type:"error",confirmText:"Remove"})&&((await W($)).success?(K(Yt=>Yt.filter(An=>An.id!==$)),await I.alert(`${we} has been removed.`,{type:"success"})):await I.alert("Failed to remove member.",{type:"error"}))},Ca=async()=>{const $=await I.sharePrompt("Enter their email address to invite them to this board.",{title:"Invite User"});if($){const we=await H($.email,$.role);if(we.type==="success")await I.alert(we.message,{title:"Success!",type:"success"});else if(we.type==="not_found"){if(await I.confirm(`"${$.email}" hasn't signed up yet.

Would you like to send them an email invitation to join SunSar Bingo?`,{title:"User Not Found",confirmText:"Send Invite Email",type:"info"}))try{const{sendInviteEmail:Rt,openMailtoFallback:Yt}=await sy(async()=>{const{sendInviteEmail:Fi,openMailtoFallback:ni}=await import("./emailService-DKTRCBjo.js");return{sendInviteEmail:Fi,openMailtoFallback:ni}},[]);(await Rt({recipientEmail:$.email,senderName:ce?.displayName||ce?.email||"A friend"})).success?await I.alert(`Invitation sent to ${$.email}! They'll receive an email with instructions to join.`,{title:"Invitation Sent!",type:"success"}):(Yt($.email,ce?.displayName||"A friend"),await I.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"}))}catch{const Yt=encodeURIComponent("Join me on SunSar Bingo!"),An=encodeURIComponent(`Hey! Come join me on SunSar Bingo to track our 2026 goals together.

Sign up here: ${window.location.origin}`);window.open(`mailto:${$.email}?subject=${Yt}&body=${An}`),await I.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"})}}else await I.alert(we.message,{title:"Error",type:"error"})}},br=()=>{ut<2?zt($=>$+1):(Ve(!1),localStorage.setItem("hasSeenWalkthrough","true"))},[Kt,En]=k.useState(!1),[Mn,Bn]=k.useState(null),[Sn,Ls]=k.useState(!1),as=k.useRef(null),[os,Bi]=k.useState(!1),[st,kt]=k.useState(null),[Vn,xt]=k.useState(null),[Us,gi]=k.useState(0),[Ra,Jn]=k.useState(!1),yi=k.useRef(null),[Ot,ei]=k.useState(!1),[vi,Fn]=k.useState(()=>localStorage.getItem("celebrationDismissed")==="true"),[Ia,_r]=k.useState(0);k.useEffect(()=>{Ia===5&&(v(),_r(0),OR({particleCount:100,spread:70,origin:{y:.6},colors:["#fbbf24","#ec4899","#ffffff"]}));let $;return Ia>0&&($=setTimeout(()=>_r(0),1e3)),()=>clearTimeout($)},[Ia,v]);const bi=()=>{y&&_r($=>$+1)},zs=async()=>{await I.confirm("This will randomly shuffle all tiles (except the center) and lock the board. You won't be able to edit it after this.",{title:"Shuffle & Lock Board?",confirmText:"Lock It!",type:"warning"})&&(T(),pe(!1))},Xl=()=>{Fn(!0),localStorage.setItem("celebrationDismissed","true")};id.useEffect(()=>{!u&&!p&&(Fn(!1),localStorage.removeItem("celebrationDismissed"))},[p,u]);const ls=k.useRef(p);id.useEffect(()=>{p&&!ls.current&&!u&&P(),ls.current=p},[p,u,P]);const Na=$=>{const we=V?ye:a;if(oe($),ve(we[$].text),Ee(we[$].style||{color:"#ffffff",fontSize:"base",bold:!1,italic:!1}),Ge(we[$].targetCount||1),we[$].dueDate){const ft=we[$].dueDate,Rt=typeof ft.toDate=="function"?ft.toDate():new Date(ft),Yt=Rt.getFullYear(),An=String(Rt.getMonth()+1).padStart(2,"0"),Fi=String(Rt.getDate()).padStart(2,"0");$e(`${Yt}-${An}-${Fi}`)}else $e("");q(!0)},Da=()=>{if(ne===null)return;let $;qe&&($=new Date(qe+"T12:00:00"));const we=[...ye];we[ne]={...we[ne],text:ge,style:fe,targetCount:Ie,dueDate:$},U(we),q(!1),oe(null)};if(u)return b.jsx("div",{className:"flex h-screen items-center justify-center text-accent-primary animate-pulse",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"w-12 h-12 border-4 border-accent-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),b.jsx("p",{children:"Loading Board..."})]})});const _i=a.filter($=>$.isCompleted).length/25*100,Tr=$=>{if(!$)return"-";const we=$.toDate?$.toDate():new Date($);return we.toLocaleDateString()+" "+we.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},Pn=V?ye:a,ti=$=>{const we=Pn[$];gn({index:$,wasCompleted:we.isCompleted}),we.isCompleted?D():L(),f($),et(!0),setTimeout(()=>et(!1),3e3)};return b.jsx(b.Fragment,{children:b.jsxs("div",{className:"min-h-screen bg-transparent text-white p-6 pb-24 relative overflow-x-hidden no-print",children:[b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsxs("header",{className:"flex justify-between items-center mb-8 py-2",children:[b.jsx(nt.img,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},src:"/logo.png",alt:"SunSar Bingo",className:"h-10 sm:h-12 w-auto object-contain cursor-pointer active:scale-95 transition-transform",onClick:bi}),b.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[b.jsx("button",{onClick:()=>ei(!0),className:"p-2.5 text-slate-400 hover:text-accent-gold hover:bg-white/5 rounded-full transition-colors",title:"View Memories",children:b.jsx(Ud,{size:20})}),b.jsx("button",{onClick:()=>n("/dashboard"),className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Dashboard",children:b.jsx(Vv,{size:20})}),b.jsx("button",{onClick:()=>B(!0),className:"p-2.5 text-slate-400 hover:text-accent-primary hover:bg-white/5 rounded-full transition-colors",title:"Share Board",children:b.jsx(nd,{size:20})}),b.jsx("button",{onClick:S,className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Settings",children:b.jsx(Pv,{size:20})}),b.jsx("div",{className:"w-px h-6 bg-white/10 mx-1 hidden sm:block"}),b.jsx(nt.div,{initial:{scale:0},animate:{scale:1},className:"relative cursor-pointer group",children:b.jsx("img",{src:ce?.photoURL||"",alt:"User",className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full border-2 border-white/10 group-hover:border-accent-primary transition-colors object-cover shrink-0"})}),b.jsx("button",{onClick:re,className:"p-2.5 text-slate-400 hover:text-red-400 hover:bg-white/5 rounded-full transition-colors",title:"Logout",children:b.jsx(yR,{size:20})})]})]}),b.jsxs("div",{className:"mb-10",children:[b.jsx(nt.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-4xl sm:text-5xl font-extrabold text-white tracking-tight",children:Q?b.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent",children:Q}):b.jsxs(b.Fragment,{children:["My ",b.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent italic",children:"Bingo"})]})}),b.jsxs("p",{className:"text-slate-400 mt-2 text-base flex items-center gap-2",children:[b.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-white/5 rounded-full text-sm border border-white/10",children:[Y,"",Y," Grid"]}),b.jsx("span",{children:""}),b.jsxs("span",{children:[a.filter($=>$.isCompleted).length,"/",a.length," completed"]})]})]}),b.jsx("div",{className:"flex justify-center mb-6",children:b.jsx("div",{className:"w-full max-w-[520px] aspect-square relative",children:b.jsx("div",{className:Gt("grid gap-1.5 sm:gap-2 w-full h-full",Y===3&&"grid-cols-3 grid-rows-3",Y===4&&"grid-cols-4 grid-rows-4",Y===5&&"grid-cols-5 grid-rows-5",Y===6&&"grid-cols-6 grid-rows-6"),children:Pn.map(($,we)=>b.jsxs(nt.div,{title:$.isCompleted?`Completed by ${$.completedBy||"Someone"} on ${Tr($.completedAt)}`:void 0,layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:we*.02},whileTap:{scale:.95},onClick:()=>{V||$.isFreeSpace||($.isCompleted?$.proofPhotos&&$.proofPhotos.length>0?(kt($),xt(we),gi(0),Bi(!0)):ti(we):(z(),Bn(we),En(!0)))},className:Gt("relative rounded-lg flex items-center justify-center p-1 cursor-pointer select-none border backdrop-blur-sm overflow-hidden",Y===3&&"text-sm sm:text-base",Y===4&&"text-xs sm:text-sm",Y===5&&"text-[11px] sm:text-sm",Y===6&&"text-[9px] sm:text-xs","font-medium leading-tight select-none",$.isCompleted?"text-white scale-110 font-semibold":"text-slate-300","bg-bg-card/90 border-white/20 shadow-md hover:border-white/40 hover:bg-bg-card/95 transition-all duration-200",$.isCompleted&&!$.isFreeSpace&&"bg-gradient-to-br from-accent-primary/30 to-accent-secondary/30 border-accent-primary/50 shadow-[0_0_15px_rgba(139,92,246,0.15)]",$.isFreeSpace&&"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50",V&&"border-dashed border-slate-500"),children:[b.jsx("div",{className:"w-full h-full flex items-center justify-center text-center relative z-10",children:b.jsx("div",{className:"w-full h-full flex items-center justify-center p-1",onClick:ft=>{V&&(ft.stopPropagation(),Na(we))},children:b.jsx("span",{className:Gt("leading-tight break-words w-full",$.isFreeSpace?"text-lg font-bold text-accent-gold":"font-semibold line-clamp-3 sm:line-clamp-4",$.isCompleted&&!$.isFreeSpace&&"text-white"),style:!$.isFreeSpace&&!$.isCompleted?{color:$.style?.color||"#cbd5e1",fontWeight:$.style?.bold?"bold":"600",fontStyle:$.style?.italic?"italic":"normal",fontSize:$.style?.fontSize==="sm"?"12px":$.style?.fontSize==="lg"?"18px":$.style?.fontSize==="xl"?"22px":void 0}:void 0,children:$.text})})}),$.dueDate&&!$.isCompleted&&!y&&b.jsxs("div",{className:Gt("flex items-center gap-1 mt-1 text-[10px] font-medium absolute bottom-1 right-1 px-1 rounded bg-black/40 backdrop-blur-sm",($.dueDate.toDate?$.dueDate.toDate():new Date($.dueDate))<new Date?"text-red-400":"text-slate-400"),children:[b.jsx(D9,{size:8}),b.jsx("span",{children:($.dueDate.toDate?$.dueDate.toDate():new Date($.dueDate)).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),$.isCompleted&&!$.isFreeSpace&&!V&&b.jsxs(b.Fragment,{children:[b.jsx(nt.div,{initial:{scale:0},animate:{scale:1},className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-20",children:b.jsx(wl,{className:"w-12 h-12 text-white"})}),b.jsx("div",{className:"absolute top-0.5 right-0.5 w-1.5 h-1.5 bg-accent-primary rounded-full shadow-[0_0_5px_rgba(139,92,246,0.8)]"}),$.proofPhotos&&$.proofPhotos.length>0&&b.jsxs("div",{className:"absolute bottom-0.5 left-0.5 p-0.5 bg-accent-gold/80 rounded-sm flex items-center gap-0.5",children:[b.jsx(Zy,{className:"w-2.5 h-2.5 text-black"}),$.proofPhotos.length>1&&b.jsx("span",{className:"text-[8px] font-bold text-black",children:$.proofPhotos.length})]})]}),!$.isFreeSpace&&!V&&($.targetCount||1)>1&&b.jsxs("div",{className:Gt("absolute bottom-0.5 right-0.5 px-1 py-0.5 rounded text-[8px] font-bold",$.isCompleted?"bg-green-500/80 text-white":($.currentCount||0)>0?"bg-amber-500/80 text-white":"bg-slate-600/80 text-slate-300"),children:[$.currentCount||0,"/",$.targetCount]})]},$.id))})})}),b.jsx("div",{className:"flex justify-center",children:b.jsxs(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-[520px] glass-panel p-4 flex flex-col gap-4",children:[b.jsxs("div",{className:"w-full",children:[b.jsxs("div",{className:"flex justify-between text-xs text-slate-300 mb-1.5 px-1",children:[b.jsx("span",{className:"font-semibold",children:"Progress"}),b.jsxs("div",{className:"flex gap-3",children:[b.jsxs("span",{className:"font-mono text-accent-gold font-bold",children:[d,"/",Y*2+2," Bingos"]}),b.jsxs("span",{className:"font-mono text-accent-primary",children:[Math.round(_i),"%"]})]})]}),b.jsx("div",{className:"h-3 bg-bg-dark/50 rounded-full overflow-hidden border border-white/5",children:b.jsx(nt.div,{className:"h-full bg-gradient-to-r from-accent-primary to-accent-secondary relative",initial:{width:0},animate:{width:`${_i}%`},transition:{duration:1,ease:"easeOut"},children:b.jsx("div",{className:"absolute top-0 right-0 bottom-0 w-[1px] bg-white/50 shadow-[0_0_10px_white]"})})})]}),b.jsx("div",{className:"flex justify-center gap-2",children:V?b.jsx(b.Fragment,{children:b.jsxs("div",{className:"flex gap-2 w-full",children:[b.jsx("button",{onClick:()=>pe(!1),className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-white/5 text-slate-300 border border-white/10 hover:bg-white/10 transition-all",children:"Cancel"}),b.jsxs("button",{onClick:()=>{C(ye),pe(!1)},className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-green-500/20 text-green-200 border border-green-500/50 hover:bg-green-500/30 transition-all flex items-center justify-center gap-2",children:[b.jsx(wl,{size:16}),"Save Changes"]})]})}):b.jsxs("div",{className:"flex gap-2 justify-center w-full flex-wrap",children:[!y&&b.jsxs(b.Fragment,{children:[b.jsxs("button",{onClick:()=>{U([...a]),pe(!0)},className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[b.jsx(_E,{size:12}),"Edit Board"]}),b.jsxs("button",{onClick:zs,className:"flex-1 py-2 px-4 text-xs font-medium text-red-400 hover:text-red-300 transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[b.jsx($9,{size:12}),"Shuffle & Lock"]})]}),b.jsxs("button",{onClick:()=>window.print(),className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[b.jsx(F9,{size:12}),"Print Status"]})]})})]})}),b.jsx(Ji,{children:p&&!vi&&b.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:b.jsxs(nt.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:"glass-panel p-8 text-center max-w-sm w-full relative overflow-hidden border-accent-gold/30",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-accent-gold/10 to-transparent pointer-events-none"}),b.jsx(nt.div,{animate:{rotate:[0,10,-10,0]},transition:{repeat:1/0,duration:2},className:"inline-block",children:b.jsx(yE,{className:"w-20 h-20 text-accent-gold mx-auto mb-4 drop-shadow-[0_0_15px_rgba(251,191,36,0.5)]"})}),b.jsx("h2",{className:"text-4xl font-heading font-bold text-transparent bg-clip-text bg-gradient-to-r from-accent-gold via-white to-accent-secondary mb-2",children:"BINGO!"}),b.jsx("p",{className:"text-slate-300 mb-8 leading-relaxed",children:"2026 is off to an amazing start!"}),b.jsx("button",{onClick:Xl,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-[0_0_20px_rgba(139,92,246,0.4)] transition-all transform hover:scale-105",children:"Keep Playing"})]})})}),b.jsx(Ji,{children:Z&&b.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:()=>q(!1),children:b.jsxs(nt.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-bg-dark border border-accent-gold/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl relative overflow-hidden",onClick:$=>$.stopPropagation(),children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Edit Tile"}),b.jsx("div",{className:"mb-4 flex justify-center",children:b.jsx("div",{className:"w-32 h-32 rounded-lg bg-bg-card/80 border border-white/10 flex items-center justify-center p-2 text-center overflow-hidden",children:b.jsx("span",{className:Gt("font-hand font-semibold leading-tight break-words"),style:{color:fe.color||"#ffffff",fontWeight:fe.bold?"bold":"600",fontStyle:fe.italic?"italic":"normal",fontSize:fe.fontSize==="sm"?"12px":fe.fontSize==="lg"?"18px":fe.fontSize==="xl"?"22px":"16px"},children:ge||"Preview Text"})})}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Text Content"}),b.jsx("textarea",{className:"w-full bg-black/20 text-white rounded-lg p-3 border border-white/10 focus:border-accent-primary outline-none min-h-[80px]",value:ge,onChange:$=>ve($.target.value),placeholder:"Enter bingo task..."})]}),b.jsxs("div",{className:"mb-6 space-y-3",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Color"}),b.jsx("div",{className:"flex gap-2 flex-wrap",children:["#ffffff","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#ec4899","#a855f7"].map($=>b.jsx("button",{className:Gt("w-6 h-6 rounded-full border border-white/10 transition-transform active:scale-90",fe.color===$&&"ring-2 ring-white scale-110"),style:{backgroundColor:$},onClick:()=>Ee(we=>({...we,color:$}))},$))})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Size"}),b.jsx("div",{className:"flex bg-black/20 rounded-lg p-1",children:["sm","base","lg","xl"].map($=>b.jsx("button",{onClick:()=>Ee(we=>({...we,fontSize:$})),className:Gt("flex-1 py-1 text-[10px] font-bold rounded transition-colors uppercase",(fe.fontSize||"base")===$?"bg-accent-primary text-white":"text-slate-400 hover:text-white"),children:$==="base"?"M":$},$))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Style"}),b.jsxs("div",{className:"flex gap-1 bg-black/20 rounded-lg p-1",children:[b.jsx("button",{onClick:()=>Ee($=>({...$,bold:!$.bold})),className:Gt("w-8 h-full rounded flex items-center justify-center font-bold transition-colors",fe.bold?"bg-white text-black":"text-slate-400 hover:text-white"),children:"B"}),b.jsx("button",{onClick:()=>Ee($=>({...$,italic:!$.italic})),className:Gt("w-8 h-full rounded flex items-center justify-center italic transition-colors font-serif",fe.italic?"bg-white text-black":"text-slate-400 hover:text-white"),children:"I"})]})]})]})]}),b.jsxs("div",{className:"space-y-4 mb-6 pt-4 border-t border-white/10",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Repeat Goal"}),b.jsx("input",{type:"number",min:"1",max:"100",value:Ie,onChange:$=>Ge(parseInt($.target.value)||1),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors"}),b.jsx("p",{className:"text-xs text-slate-500",children:"How many times should this be completed?"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Due Date (Optional)"}),b.jsx("input",{type:"date",value:qe,onChange:$=>$e($.target.value),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors [color-scheme:dark]"})]})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:()=>q(!1),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),b.jsx("button",{onClick:Da,className:"flex-1 py-3 px-4 bg-gradient-to-r from-violet-600 to-fuchsia-600 rounded-xl font-bold text-white shadow-lg hover:shadow-violet-500/25 active:scale-95 transition-all",children:"Ok"})]})]})})}),b.jsx(Ji,{children:Kt&&Mn!==null&&b.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{En(!1),Bn(null)},children:b.jsx(nt.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-bg-dark border border-accent-primary/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl",onClick:$=>$.stopPropagation(),children:(()=>{const $=Pn[Mn],we=$?.targetCount||1,ft=$?.currentCount||0,Rt=we>1,Yt=ft>0;return b.jsxs(b.Fragment,{children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2 text-center",children:Yt?"Add Progress":"Complete Task"}),b.jsxs("p",{className:"text-slate-300 text-sm text-center mb-2 line-clamp-2",children:["",$?.text,""]}),Rt&&b.jsx("div",{className:"text-center mb-4",children:b.jsxs("span",{className:Gt("inline-block px-3 py-1 rounded-full text-sm font-bold",Yt?"bg-amber-500/20 text-amber-400":"bg-slate-600/50 text-slate-400"),children:["Progress: ",ft," / ",we]})}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:as,className:"hidden",onChange:async An=>{const Fi=An.target.files?.[0];if(Fi&&Mn!==null){Ls(!0);try{await M(Mn,Fi),En(!1),Bn(null)}catch{alert("Failed to upload photo. Please try again.")}finally{Ls(!1)}}}}),b.jsxs("button",{onClick:()=>as.current?.click(),disabled:Sn,className:"w-full py-3 px-4 bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-amber-500/25 active:scale-95 transition-all disabled:opacity-50",children:[b.jsx(Zy,{size:20}),Sn?"Uploading...":Rt?"Add Photo & +1":"Add Photo & Complete"]}),b.jsxs("button",{onClick:()=>{f(Mn),En(!1),Bn(null)},disabled:Sn,className:"w-full py-3 px-4 bg-gradient-to-r from-green-600 to-emerald-600 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-green-500/25 active:scale-95 transition-all disabled:opacity-50",children:[b.jsx(wl,{size:20}),Rt?`Mark +1 (${ft+1}/${we})`:"Mark Complete"]}),Yt&&b.jsxs("button",{onClick:()=>{N(Mn),En(!1),Bn(null)},disabled:Sn,className:"w-full py-2 rounded-xl font-semibold text-red-400 hover:bg-red-500/10 transition-colors disabled:opacity-50",children:["Remove Progress (",ft-1,"/",we,")"]}),b.jsx("button",{onClick:()=>{En(!1),Bn(null)},disabled:Sn,className:"w-full py-3 rounded-xl font-semibold bg-white/5 text-slate-400 hover:bg-white/10 transition-colors disabled:opacity-50",children:"Cancel"})]})]})})()})})}),b.jsx(Ji,{children:os&&st&&st.proofPhotos&&st.proofPhotos.length>0&&b.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",onClick:()=>{Bi(!1),kt(null),xt(null)},children:b.jsxs(nt.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"relative max-w-lg w-full",onClick:$=>$.stopPropagation(),children:[b.jsx("button",{onClick:()=>{Bi(!1),kt(null),xt(null)},className:"absolute -top-12 right-0 p-2 text-white/70 hover:text-white transition-colors z-10",children:b.jsx(mo,{size:28})}),b.jsxs("div",{className:"rounded-2xl overflow-hidden border border-white/10 shadow-2xl",children:[b.jsxs("div",{className:"relative bg-black",children:[b.jsx("img",{src:st.proofPhotos[Us],alt:`Proof photo ${Us+1}`,className:"w-full h-auto max-h-[50vh] object-contain"}),st.proofPhotos.length>1&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>gi($=>$>0?$-1:st.proofPhotos.length-1),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:b.jsx(pR,{size:24})}),b.jsx("button",{onClick:()=>gi($=>$<st.proofPhotos.length-1?$+1:0),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:b.jsx(gR,{size:24})})]}),b.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/60 rounded-full text-white text-xs font-medium",children:[Us+1," / ",st.proofPhotos.length]})]}),st.proofPhotos.length>1&&b.jsx("div",{className:"flex gap-1 p-2 bg-bg-dark/80 overflow-x-auto",children:st.proofPhotos.map(($,we)=>b.jsx("button",{onClick:()=>gi(we),className:Gt("w-12 h-12 rounded-md overflow-hidden border-2 flex-shrink-0 transition-all",Us===we?"border-accent-primary":"border-transparent opacity-60 hover:opacity-100"),children:b.jsx("img",{src:$,alt:"",className:"w-full h-full object-cover"})},we))}),b.jsxs("div",{className:"p-4 bg-bg-dark/95",children:[b.jsx("p",{className:"text-white font-semibold mb-1",children:st.text}),b.jsxs("p",{className:"text-slate-400 text-xs",children:["Completed by ",st.completedBy,"  ",Tr(st.completedAt)]})]})]}),b.jsx("div",{className:"mt-4 flex gap-2",children:st.proofPhotos.length<5&&b.jsxs(b.Fragment,{children:[b.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:yi,className:"hidden",onChange:async $=>{const we=$.target.files?.[0];if(we&&Vn!==null&&st){Jn(!0);try{const ft=await O(Vn,we);if(ft){const Rt=[...st.proofPhotos||[],ft];kt({...st,proofPhotos:Rt}),gi(Rt.length-1)}}catch{alert("Failed to add photo. Max 5 photos allowed.")}finally{Jn(!1),yi.current&&(yi.current.value="")}}}}),b.jsxs("button",{onClick:()=>yi.current?.click(),disabled:Ra,className:"flex-1 py-2 px-4 bg-accent-gold/20 text-accent-gold rounded-xl font-medium flex items-center justify-center gap-2 hover:bg-accent-gold/30 transition-colors disabled:opacity-50",children:[b.jsx(Bd,{size:18}),Ra?"Adding...":`Add Photo (${st.proofPhotos.length}/5)`]})]})}),b.jsx("button",{onClick:()=>{const $=a.findIndex(we=>we.id===st.id);$!==-1&&f($),Bi(!1),kt(null),xt(null)},className:"mt-2 w-full py-2 text-sm text-red-400 hover:text-red-300 transition-colors",children:"Mark as In Progress"})]})})}),b.jsx(Ji,{children:ht&&Bt&&b.jsxs(nt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-24 left-1/2 -translate-x-1/2 bg-slate-900 border border-white/20 text-white px-6 py-3 rounded-full shadow-2xl z-50 flex items-center gap-4",children:[b.jsxs("span",{children:["Marked as ",Bt.wasCompleted?"incomplete":"complete"]}),b.jsx("button",{onClick:()=>{f(Bt.index),et(!1)},className:"font-bold text-accent-primary hover:text-white transition-colors",children:"Undo"}),b.jsx("button",{onClick:()=>et(!1),className:"text-slate-400 hover:text-white",children:b.jsx(mo,{size:16})})]})}),b.jsx(Ji,{children:Tt&&b.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",children:b.jsxs(nt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-slate-900 border border-white/20 rounded-3xl p-8 max-w-sm w-full shadow-2xl relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-20 pointer-events-none",children:b.jsx(yE,{className:"w-32 h-32 text-accent-gold rotate-12"})}),b.jsxs("div",{className:"relative z-10 text-center",children:[b.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Welcome! "}),b.jsxs("p",{className:"text-slate-400 mb-8 h-12",children:[ut===0&&"Tap any tile to mark it as complete.",ut===1&&"Start 'Edit Mode' to add your own tasks.",ut===2&&"Invite friends to play together!"]}),b.jsx("div",{className:"flex justify-center mb-8",children:b.jsx("div",{className:"w-32 h-32 bg-black/40 rounded-2xl border border-white/10 flex items-center justify-center relative",children:b.jsxs(Ji,{mode:"wait",children:[ut===0&&b.jsxs(nt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute inset-0 flex items-center justify-center",children:[b.jsx("div",{className:"w-16 h-16 bg-accent-primary/20 rounded-lg border border-accent-primary flex items-center justify-center",children:b.jsx(wl,{className:"w-8 h-8 text-white"})}),b.jsx(nt.div,{animate:{scale:[1,1.2,1],opacity:[0,1,0]},transition:{repeat:1/0,duration:1.5},className:"absolute w-20 h-20 rounded-full border-2 border-white/50"})]},"step0"),ut===1&&b.jsx(nt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:b.jsx(_E,{className:"w-12 h-12 text-blue-400"})},"step1"),ut===2&&b.jsx(nt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:b.jsx(nd,{className:"w-12 h-12 text-green-400"})},"step2")]})})}),b.jsx("div",{className:"flex gap-2 justify-center mb-6",children:[0,1,2].map($=>b.jsx("div",{className:Gt("w-2 h-2 rounded-full transition-colors",$===ut?"bg-white":"bg-white/20")},$))}),b.jsx("button",{onClick:br,className:"w-full py-3 bg-white text-black font-bold rounded-xl hover:bg-slate-200 transition-colors",children:ut===2?"Let's Play!":"Next"})]})]})})})]}),b.jsxs("div",{className:"only-print hidden",children:[b.jsxs("div",{className:"flex justify-between items-end mb-4 border-b-2 border-black pb-2",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("img",{src:"/logo.png",className:"h-12 w-auto",alt:"Logo"}),b.jsx("h1",{className:"text-2xl font-bold",children:Q||"2026 Edition"})]}),b.jsxs("div",{className:"text-right",children:[b.jsxs("p",{className:"text-xs uppercase tracking-widest mb-0.5",children:["Status Report (",Y,"",Y,")"]}),b.jsxs("p",{className:"text-xl font-bold",children:[d," / ",Y*2+2," Bingos"]})]})]}),b.jsx("div",{className:`grid gap-0 border-2 border-black ${Y===3?"grid-cols-3":Y===4?"grid-cols-4":Y===5?"grid-cols-5":"grid-cols-6"}`,children:a.map($=>b.jsxs("div",{className:"aspect-square border border-black p-1.5 flex flex-col justify-between relative overflow-hidden min-h-[80px]",children:[b.jsx("div",{className:`font-bold leading-tight z-10 ${Y>=5?"text-[10px]":"text-[11px]"}`,children:$.text}),$.isCompleted&&!$.isFreeSpace&&b.jsxs("div",{className:"mt-0.5 relative z-10",children:[b.jsx("div",{className:"text-[7px] uppercase font-bold text-slate-700",children:"Completed by:"}),b.jsx("div",{className:"text-[9px] font-mono font-bold leading-none",children:$.completedBy||"User"}),b.jsx("div",{className:"text-[7px] text-slate-600 mt-0.5",children:Tr($.completedAt)})]}),$.isCompleted&&b.jsx("div",{className:"absolute bottom-1 right-1 text-3xl font-bold text-slate-200 opacity-60 pointer-events-none z-0",children:""}),$.isFreeSpace&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center font-bold text-xl rotate-[-45deg] opacity-20",children:"FREE"})]},$.id))}),b.jsxs("div",{className:"mt-4 text-[9px] text-center border-t border-black pt-2 flex justify-between text-slate-500",children:[b.jsxs("span",{children:["Generated on ",new Date().toLocaleDateString()," at ",new Date().toLocaleTimeString()]}),b.jsx("span",{children:"bingo.mysunsar.com"})]})]}),b.jsx(tB,{items:a,isOpen:Ot,onClose:()=>ei(!1)}),me&&b.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[b.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>B(!1)}),b.jsxs("div",{className:"relative w-full max-w-md bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[b.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[b.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[b.jsx(nd,{className:"w-5 h-5 text-accent-primary"}),"Shared With"]}),b.jsx("button",{onClick:()=>B(!1),className:"text-slate-400 hover:text-white",children:b.jsx(mo,{className:"w-5 h-5"})})]}),b.jsxs("div",{className:"p-6",children:[E.length===0?b.jsx("div",{className:"text-center text-slate-400 py-8",children:b.jsx("p",{children:"This board hasn't been shared yet."})}):b.jsx("div",{className:"space-y-4 mb-6",children:E.map($=>b.jsxs("div",{className:"flex items-center justify-between bg-white/5 p-3 rounded-xl border border-white/5",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold text-white",children:$.name.charAt(0)}),b.jsxs("div",{children:[b.jsx("div",{className:"text-sm font-semibold text-white",children:$.name}),b.jsxs("div",{className:"text-xs text-slate-400",children:[$.email,"  ",$.role]})]})]}),b.jsx("button",{onClick:()=>pi($.id,$.name),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Remove User",children:b.jsx(bR,{size:16})})]},$.id))}),b.jsxs("button",{onClick:Ca,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all flex items-center justify-center gap-2",children:[b.jsx(Bd,{size:18}),"Invite New User"]})]})]})]})]})})},nB=()=>{const{user:t,logout:e}=Gl(),n=wR(),{openSettings:s}=sh(),a=Pu(),[l,u]=k.useState([]),[f,p]=k.useState(!0),[d,y]=k.useState(!1),[v,T]=k.useState(null),[C,M]=k.useState(5),O=[{size:3,label:"33",description:"Quick (9 tiles)",icon:""},{size:4,label:"44",description:"Compact (16 tiles)",icon:""},{size:5,label:"55",description:"Classic (25 tiles)",icon:""},{size:6,label:"66",description:"Extended (36 tiles)",icon:""}],N={default:{name:"2026 Goals ",items:["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"]},fitness:{name:"Fitness Challenge ",items:["Run a 5k","Do 50 pushups in a row","Try a yoga class","Drink 3L water for a week","No sugar for 7 days","Go for a hike","Meal prep for a week","Climb a bouldering wall","Try Pilates","Walk 15k steps in a day","Do a spin class","Bike 20km","FREE SPACE","Touch your toes","Hold a plank for 2 min","Try CrossFit","Go swimming","Meditate for 10 mins x 7","Try a new sport","Sleep 8 hours x 5 days","Do 100 squats","Run a 10k","Go to the gym 4x in a week","Stretch daily for a week","Join a run club"]},couples:{name:"Couple Goals ",items:["Date night (no phones)","Cook a meal together","Weekend getaway","Watch a whole series","Breakfast in bed","Go for a long walk","Plan a future trip","Give each other massages","Recreate first date","Take a dance class","Stargazing date","Write love letters","FREE SPACE","Visit a winery/brewery","Do a puzzle together","Double date","Sunset picnic","Bake something sweet","Volunteer together","Learn a couple's skill","Game night","Make a photo album","Try a new restaurant","Surprise gift","Kiss in the rain"]},personal:{name:"Personal Growth ",items:["Read 1 book/month","Learn a new language","Start a journal","Digital detox (24h)","Meditate daily (1 week)","Drink 2L water daily","Wake up at 6am (1 week)","Declutter a room","Learn to invest","Take a solo trip","Volunteer","Compliment a stranger","FREE SPACE","No social media (weekend)","Learn an instrument","Cook a new cuisine","Write a gratitude list","Take a cold shower","Listen to a podcast","Fix sleep schedule","Walk 10k steps","Call an old friend","Create a vision board","Save 10% income","Take a course"]},knitting:{name:"Knitting Goals ",items:["Finish a WIP","Cast on a sweater","Learn brioche","Knit socks","Stash bust project","Try colorwork","Knit a hat","Use luxury yarn","Fix a mistake","Knit a gift","Block a project","Organize needles","FREE SPACE","Try a new fiber","Knit in public","Attend a knit night","Learn magic loop","Design a pattern","Teach someone to knit","Finish a blanket","Knit a shawl","Try cables","Buy souvenir yarn","Weave in ends immediately","Knit a gauge swatch"]},weaving:{name:"Weaving Goals ",items:["Warp the loom","Weave a rug","Try a new structure","Sample a pattern","Use handspun yarn","Finish a scarf","Hemstitching","Fix a broken warp","Weave a towel","Try tapestry","Mix fibers","Organize yarn stash","FREE SPACE","Weave a placemat","Attend a workshop","Try doublewidth","Weave transparency","Calculate warp correctly","Finish raw edges","Weave with rags","Try tablet weaving","Rigid heddle project","Floor loom project","Visit a mill","Share a project online"]},spinning:{name:"Spinning Goals ",items:["Spin 100g fiber","Ply a yarn","Try a new breed","Spin lace weight","Spin art yarn","Comb fleece","Card a batt","Spin on a drop spindle","Clean the wheel","Spin distinct colors","Skein and wash","Fractal spin","FREE SPACE","Spin silk","Spin cotton","Navajo ply","Spin for a project","Participate in Tour de Fleece","Sample a blend","Teach spinning","Spin consistent grist","Dye fiber","Blend colors on hackle","Spin exotic fiber","Fill a bobbin"]},painting:{name:"Painting Goals ",items:["Paint a landscape","Try watercolors","Paint a portrait","Mix a new color","Paint en plein air","Visit a gallery","Finish a sketchbook","Try oils","Paint a still life","Use a palette knife","Paint an animal","Try abstract","FREE SPACE","Clean brushes properly","Paint on canvas","Paint on wood","Follow a tutorial","Paint a sky","Try gouache","Varnish a painting","Frame a piece","Paint daily for a week","Recreate a master","Paint a self-portrait","Host a paint night"]},corporate:{name:"Corporate Bingo ",items:['"Circle back"',`"Let's take this offline"`,"Meeting that could be an email",'"Synergy"','"Low hanging fruit"','"Touch base"',"Someone forgets to mute","Screen share fails",'"Can you see my screen?"',"Awkward silence",'"Bandwidth"','"Deep dive"',"FREE SPACE","Pet interrupts video call","Echo on the line",'"Per my last email"','"Drill down"','"Out of pocket"','"Hard stop"','"Boil the ocean"',"Reply All disaster",'"Move the needle"','"Blue sky thinking"','"Paradigm shift"','"Quick win"']},travel:{name:"Travel Bucket List ",items:["Visit a new continent","Go on a solo trip","See the Northern Lights","Swim in an ocean","Road trip across 3 states","Fly First Class","Visit a National Park","Eat street food","Stay in a hostel","Learn 'Hello' in 5 languages","Visit a Wonder of the World","Go on a cruise","FREE SPACE","Make a travel vlog","Sleep under the stars","Visit a castle","Ride a train","See a volcano","Go scuba diving","Watch a sunrise on a mountain","Visit a winery","Ride a camel/elephant","Go skiing/snowboarding","Visit a tropical island","Send a postcard"]}};k.useEffect(()=>{if(!t)return;(async()=>{try{console.log("Fetching boards for user:",t.uid,t.email);const re=new Map;try{const P=Cd(pl(Xn,"boards"),Rd(`members.${t.uid}`,"in",["owner","editor","viewer"])),z=await pu(P);console.log("Boards with membership found:",z.docs.length),z.docs.forEach(V=>{const pe=V.data(),ye=pe.members?.[t.uid],U=pe.members||{},Z=Object.values(U).filter(q=>q!=="owner").length;re.set(V.id,{id:V.id,...pe,sharedCount:Z,myRole:ye})})}catch(P){console.error("Error querying boards by membership:",P)}try{const P=Cd(pl(Xn,"years"),Rd("ownerId","==",t.uid)),z=await pu(P);console.log("Legacy boards (years collection) found:",z.docs.length),z.docs.forEach(V=>{const pe=V.data();re.set(`legacy_${V.id}`,{id:V.id,title:pe.title||"2026 Bingo",createdAt:pe.createdAt,isLocked:pe.isLocked,ownerId:pe.ownerId,myRole:"owner"})})}catch(P){console.log("Years collection query failed:",P)}try{const P=await pu(pl(Xn,"years"));console.log("All years docs:",P.docs.length),P.docs.forEach(z=>{const V=z.data();if(V.ownerId===t.uid||V.members?.[t.uid]){const pe=`legacy_years_${z.id}`;re.has(pe)||re.set(pe,{id:z.id,title:V.title||`${z.id} Bingo`,createdAt:V.createdAt,isLocked:V.isLocked,ownerId:V.ownerId,myRole:V.ownerId===t.uid?"owner":V.members?.[t.uid]||"viewer"})}})}catch(P){console.log("Direct years fetch failed:",P)}const ce=Array.from(re.values()),I=ce.filter(P=>P.myRole!=="owner"&&P.ownerId),S=[...new Set(I.map(P=>P.ownerId))],D={};for(const P of S)try{const z=await Zu(Is(Xn,"users",P));if(z.exists()){const V=z.data();D[P]=V.displayName||V.email||"Unknown"}}catch{console.log("Could not fetch owner info for:",P)}const L=ce.map(P=>P.myRole!=="owner"&&P.ownerId&&D[P.ownerId]?{...P,ownerName:D[P.ownerId]}:P);console.log("Total boards to display:",L.length,L.map(P=>P.title)),u(L)}catch(re){console.error("Error fetching boards:",re)}finally{p(!1)}})()},[t]);const H=async Y=>{if(!t)return;const re=N[Y],ce=C,I=ce*ce,S=ce%2===1?Math.floor(I/2):-1,D=ce%2===1?I-1:I,L=await n.prompt("What would you like to call this board?",{title:"Board Title",inputDefaultValue:re.name,confirmText:"Create"});if(L)try{const P=re.items.filter(U=>U.trim().toUpperCase()!=="FREE SPACE"&&U!=="FREE SPACE"),z=[...P].sort(()=>.5-Math.random());for(;z.length<D;)z.push(P[z.length%P.length]||`Goal ${z.length+1}`);const V=[];let pe=0;for(let U=0;U<I;U++)U===S&&ce%2===1?V.push({id:U,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(V.push({id:U,text:z[pe],isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),pe++);const ye=await xC(pl(Xn,"boards"),{title:L,gridSize:ce,ownerId:t.uid,members:{[t.uid]:"owner"},items:V,createdAt:Fe.now(),isLocked:!1,lastUpdated:Fe.now()});a(`/board/${ye.id}`)}catch(P){console.error("Error creating board:",P),await n.alert("Failed to create board. Please try again.",{title:"Error",type:"error"})}finally{y(!1),T(null),M(5)}};if(f)return b.jsx("div",{className:"min-h-screen bg-bg-dark flex items-center justify-center text-white",children:"Loading Dashboard..."});const W=async(Y,re,ce)=>{if(Y.stopPropagation(),await n.confirm(`This will permanently delete "${ce}" and all its data.

This action cannot be undone.`,{title:"Delete Board?",confirmText:"Delete",type:"error"}))try{await TC(Is(Xn,"boards",re)),u(S=>S.filter(D=>D.id!==re)),await n.alert("Board deleted successfully.",{title:"Deleted",type:"success"})}catch(S){console.error("Error deleting board:",S),await n.alert("Failed to delete board. Please try again.",{title:"Error",type:"error"})}},Q=async(Y,re,ce)=>{if(Y.stopPropagation(),!t)return;if(await n.confirm(`You will no longer have access to "${ce}".

You can ask the owner to re-share it if needed.`,{title:"Leave Board?",confirmText:"Leave",type:"warning"}))try{await Mi(Is(Xn,"boards",re),{[`members.${t.uid}`]:Ad()}),u(S=>S.filter(D=>D.id!==re)),await n.alert("You have left the board.",{title:"Left Board",type:"success"})}catch(S){console.error("Error leaving board:",S),await n.alert("Failed to leave board. Please try again.",{title:"Error",type:"error"})}};return b.jsxs("div",{className:"min-h-screen bg-transparent text-white p-6 relative",children:[b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsxs("header",{className:"flex justify-between items-center mb-12 py-2",children:[b.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-10 sm:h-12 w-auto object-contain cursor-pointer active:scale-95 transition-transform"}),b.jsxs("div",{className:"flex gap-2 items-center",children:[b.jsx("button",{onClick:()=>a("/help"),className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Help Guide",children:b.jsx(Mv,{size:20})}),b.jsx("button",{onClick:s,className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Settings",children:b.jsx(Pv,{size:20})}),b.jsx("button",{onClick:e,className:"bg-white/5 hover:bg-white/10 px-4 py-2 rounded-xl text-sm font-semibold transition-colors border border-white/10 hover:border-white/20",children:"Logout"})]})]}),b.jsxs("div",{className:"mb-10",children:[b.jsxs("h1",{className:"text-4xl sm:text-5xl font-extrabold text-white tracking-tight",children:["My ",b.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent italic",children:"Boards"})]}),b.jsxs("p",{className:"text-slate-400 mt-2 text-base sm:text-lg",children:["Welcome back, ",b.jsx("span",{className:"text-accent-primary font-medium",children:t?.displayName?.split(" ")[0]||"Bingo Player"})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[b.jsxs("button",{onClick:()=>y(!0),className:"group relative flex flex-col items-center justify-center h-48 rounded-2xl border-2 border-dashed border-slate-700 bg-white/5 hover:bg-white/10 hover:border-accent-primary transition-all cursor-pointer",children:[b.jsx("div",{className:"w-12 h-12 rounded-full bg-accent-primary/20 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:b.jsx(Bd,{className:"w-6 h-6 text-accent-primary"})}),b.jsx("span",{className:"font-semibold text-slate-300 group-hover:text-white",children:"Create New Board"})]}),l.filter(Y=>Y.myRole==="owner").map(Y=>{const ce=Y.id==="2026"||!Y.ownerId?`/board/legacy/${Y.id}`:`/board/${Y.id}`;return b.jsxs("div",{onClick:I=>{I.preventDefault(),console.log("Navigating to board:",ce),a(ce)},className:"group relative h-48 rounded-2xl bg-gradient-to-br from-slate-800 to-slate-900 border border-white/10 hover:border-accent-primary/50 p-6 flex flex-col justify-between cursor-pointer transition-all hover:translate-y-[-4px] hover:shadow-xl overflow-hidden active:scale-[0.99]",children:[b.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:b.jsx("button",{onClick:I=>W(I,Y.id,Y.title),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-white/10 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",title:"Delete Board",children:b.jsx(bR,{size:18})})}),b.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"h-7 mb-2",children:Y.sharedCount&&Y.sharedCount>0&&b.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider bg-emerald-500/20 text-emerald-400 border border-emerald-500/30",children:[b.jsx(tz,{size:10}),"Shared with ",Y.sharedCount]})}),b.jsx("h3",{className:"text-xl font-bold text-white mb-1.5 line-clamp-2 pr-8 group-hover:text-accent-primary transition-colors",children:Y.title}),b.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[b.jsx(zd,{className:"w-3.5 h-3.5"}),Y.createdAt?.toDate?Y.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),b.jsx("div",{className:"mt-4",children:b.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-primary/10 text-accent-primary border border-accent-primary/20 group-hover:bg-accent-primary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},Y.id)})]}),l.filter(Y=>Y.myRole!=="owner").length>0&&b.jsxs(b.Fragment,{children:[b.jsxs("h2",{className:"text-xl font-bold text-white mt-10 mb-6 flex items-center gap-2",children:[b.jsx("span",{className:"bg-gradient-to-r from-accent-secondary to-pink-500 bg-clip-text text-transparent",children:"Shared With Me"}),b.jsxs("span",{className:"text-sm font-normal text-slate-500",children:["(",l.filter(Y=>Y.myRole!=="owner").length,")"]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.filter(Y=>Y.myRole!=="owner").map(Y=>{const ce=Y.id==="2026"||!Y.ownerId?`/board/legacy/${Y.id}`:`/board/${Y.id}`;return b.jsxs("div",{onClick:I=>{I.preventDefault(),console.log("Navigating to shared board:",ce),a(ce)},className:"group relative h-48 rounded-2xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-white/10 hover:border-accent-secondary/50 p-6 flex flex-col justify-between cursor-pointer transition-all hover:translate-y-[-4px] hover:shadow-xl overflow-hidden active:scale-[0.99]",children:[b.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity pointer-events-none",children:b.jsx(Vv,{className:"w-24 h-24"})}),b.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:b.jsx("button",{onClick:I=>Q(I,Y.id,Y.title),className:"p-2 text-slate-500 hover:text-amber-400 hover:bg-white/10 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",title:"Leave Board",children:b.jsx(yR,{size:18})})}),b.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"h-7 mb-2",children:b.jsx("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider ${Y.myRole==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/30":"bg-blue-500/20 text-blue-400 border border-blue-500/30"}`,children:Y.myRole==="editor"?" Editor":" Viewer"})}),b.jsx("h3",{className:"text-xl font-bold text-white mb-1 line-clamp-1 pr-8",children:Y.title}),Y.ownerName&&b.jsxs("div",{className:"text-xs text-slate-500 mb-1.5",children:["Shared by ",b.jsx("span",{className:"text-slate-400",children:Y.ownerName})]}),b.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[b.jsx(zd,{className:"w-3.5 h-3.5"}),Y.createdAt?.toDate?Y.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),b.jsx("div",{className:"mt-4",children:b.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-secondary/10 text-accent-secondary border border-accent-secondary/20 group-hover:bg-accent-secondary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},Y.id)})})]})]}),d&&b.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[b.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>{v?T(null):y(!1)}}),b.jsxs("div",{className:"relative w-full max-w-2xl bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[b.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center shrink-0",children:[b.jsx("h2",{className:"text-xl font-bold text-white",children:v?N[v].name:"Choose a Template"}),b.jsx("button",{onClick:()=>{v?T(null):y(!1)},className:"text-slate-400 hover:text-white",children:b.jsx(Bd,{className:"w-6 h-6 rotate-45"})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:v?b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Grid Size"}),b.jsx("div",{className:"grid grid-cols-4 gap-2",children:O.map(({size:Y,label:re,icon:ce})=>b.jsxs("button",{onClick:()=>M(Y),className:`p-3 rounded-xl border text-center transition-all ${C===Y?"bg-accent-primary/20 border-accent-primary text-white":"bg-white/5 border-white/10 text-slate-400 hover:bg-white/10 hover:text-white"}`,children:[b.jsx("span",{className:"text-lg block",children:ce}),b.jsx("span",{className:"font-bold text-sm",children:re}),b.jsxs("span",{className:"text-[10px] block opacity-70",children:[Y*Y," tiles"]})]},Y))})]}),b.jsx("div",{className:"flex justify-center",children:b.jsx("div",{className:`aspect-square w-full max-w-[380px] grid gap-1.5 p-3 bg-slate-950/50 rounded-xl border border-white/10 ${C===3?"grid-cols-3":C===4?"grid-cols-4":C===5?"grid-cols-5":"grid-cols-6"}`,children:(()=>{const Y=C*C,re=C%2===1?Math.floor(Y/2):-1,ce=N[v].items.filter(I=>I.trim().toUpperCase()!=="FREE SPACE");return Array.from({length:Y},(I,S)=>{const D=S===re&&C%2===1,L=S<re||re===-1?S:S-1,P=D?"FREE":ce[L%ce.length]||`Goal ${S+1}`;return b.jsx("div",{className:`
                                                                relative rounded-lg flex items-center justify-center p-1 text-center select-none overflow-hidden 
                                                                ${C<=4?"text-[9px] sm:text-[11px]":"text-[7px] sm:text-[9px]"}
                                                                leading-tight font-medium border shadow-sm
                                                                ${D?"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50 text-accent-gold font-bold":"bg-white/5 border-white/10 text-slate-300"}
                                                            `,children:b.jsx("span",{className:"line-clamp-2",children:P})},S)})})()})}),b.jsxs("div",{className:"flex gap-3 pt-4",children:[b.jsx("button",{onClick:()=>T(null),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Back"}),b.jsxs("button",{onClick:()=>H(v),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all",children:["Create ",C,"",C," Board"]})]})]}):b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(N).map(([Y,re])=>b.jsxs("button",{onClick:()=>T(Y),className:"flex flex-col items-start p-4 rounded-xl bg-white/5 hover:bg-white/10 border border-white/5 hover:border-accent-primary/50 transition-all text-left group",children:[b.jsx("h3",{className:"font-bold text-white group-hover:text-accent-primary transition-colors",children:re.name}),b.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Click to preview"})]},Y))})})]})]})]})},iB=()=>{const{settings:t}=sh(),e=k.useRef(null),n=k.useRef(null),s=k.useRef([]),a=k.useMemo(()=>{switch(t.theme){case"midnight":return{type:"stars",particleCount:150,baseColor:"rgba(100, 150, 255, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #0a1628 0%, #020617 50%, #000 100%)",shootingStars:!0};case"forest":return{type:"leaves",particleCount:40,baseColor:"rgba(100, 200, 120, ",bgGradient:"radial-gradient(ellipse at 30% 80%, #0a3d1a 0%, #052e16 50%, #021a09 100%)",shootingStars:!1};case"ocean":return{type:"bubbles",particleCount:60,baseColor:"rgba(100, 220, 255, ",bgGradient:"radial-gradient(ellipse at 50% 100%, #0c4a5e 0%, #083344 50%, #041825 100%)",shootingStars:!1};case"sunset":return{type:"embers",particleCount:50,baseColor:"rgba(255, 150, 80, ",bgGradient:"radial-gradient(ellipse at 50% 100%, #4a1a00 0%, #2a0a0a 50%, #1a0505 100%)",shootingStars:!1};default:return{type:"aurora",particleCount:80,baseColor:"rgba(180, 120, 255, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #1a1040 0%, #0f111a 50%, #0a0b10 100%)",shootingStars:!1}}},[t.theme]);return k.useEffect(()=>{const l=e.current;if(!l)return;const u=()=>{const p=[];for(let d=0;d<a.particleCount;d++)p.push(sB(l.width,l.height,a.type));s.current=p},f=()=>{l.width=window.innerWidth,l.height=window.innerHeight,u()};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[a]),k.useEffect(()=>{if(t.enableAnimation===!1)return;const l=e.current;if(!l)return;const u=l.getContext("2d");if(!u)return;let f=0,p=null;const d=()=>{u.clearRect(0,0,l.width,l.height),s.current.forEach(y=>{rB(y,l.width,l.height,a.type),aB(u,y,a)}),a.shootingStars&&(f++,f>300&&Math.random()<.01&&(p={x:Math.random()*l.width,y:Math.random()*l.height*.5,length:80+Math.random()*40,speed:15+Math.random()*10,opacity:1},f=0),p&&(u.beginPath(),u.strokeStyle=`rgba(255, 255, 255, ${p.opacity})`,u.lineWidth=2,u.moveTo(p.x,p.y),u.lineTo(p.x-p.length,p.y-p.length*.3),u.stroke(),p.x+=p.speed,p.y+=p.speed*.3,p.opacity-=.02,p.opacity<=0&&(p=null))),n.current=requestAnimationFrame(d)};return d(),()=>{n.current&&cancelAnimationFrame(n.current)}},[t.enableAnimation,a]),b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 z-[-2] transition-all duration-1000",style:{background:a.bgGradient}}),b.jsx("canvas",{ref:e,className:"fixed inset-0 z-[-1] pointer-events-none",style:{opacity:t.enableAnimation===!1?0:.8}}),b.jsxs("div",{className:"fixed inset-0 z-[-1] pointer-events-none overflow-hidden",children:[b.jsx("div",{className:`absolute w-[600px] h-[600px] rounded-full blur-[120px] animate-float-slow ${t.theme==="midnight"?"bg-blue-500/10":t.theme==="forest"?"bg-green-500/10":t.theme==="ocean"?"bg-cyan-500/10":t.theme==="sunset"?"bg-orange-500/10":"bg-purple-500/10"}`,style:{top:"-15%",left:"-10%"}}),b.jsx("div",{className:`absolute w-[500px] h-[500px] rounded-full blur-[100px] animate-float-slower ${t.theme==="midnight"?"bg-indigo-500/10":t.theme==="forest"?"bg-emerald-500/10":t.theme==="ocean"?"bg-teal-500/10":t.theme==="sunset"?"bg-rose-500/10":"bg-pink-500/10"}`,style:{bottom:"-10%",right:"-5%"}})]})]})};function sB(t,e,n){const s={x:Math.random()*t,y:Math.random()*e,opacity:Math.random()*.5+.2};switch(n){case"stars":return{...s,size:Math.random()*2+.5,speedX:0,speedY:0,opacity:Math.random()*.8+.2};case"leaves":return{...s,size:Math.random()*6+3,speedX:Math.random()*.5-.25,speedY:Math.random()*.8+.3,hue:Math.random()*40+80};case"bubbles":return{...s,size:Math.random()*8+2,speedX:Math.random()*.3-.15,speedY:-(Math.random()*.8+.3)};case"embers":return{...s,size:Math.random()*3+1,speedX:Math.random()*.4-.2,speedY:-(Math.random()*1+.5),hue:Math.random()*30+15};default:return{...s,size:Math.random()*4+1,speedX:Math.random()*.3-.15,speedY:Math.random()*.2-.1,hue:Math.random()*60+240}}}function rB(t,e,n,s){t.x+=t.speedX,t.y+=t.speedY,s==="stars"&&(t.opacity+=(Math.random()-.5)*.05,t.opacity=Math.max(.1,Math.min(1,t.opacity))),t.x<0&&(t.x=e),t.x>e&&(t.x=0),t.y<0&&(t.y=n),t.y>n&&(t.y=0)}function aB(t,e,n){switch(t.beginPath(),n.type){case"stars":t.fillStyle=`rgba(255, 255, 255, ${e.opacity})`,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill(),e.opacity>.7&&(t.beginPath(),t.fillStyle=`rgba(200, 220, 255, ${e.opacity*.3})`,t.arc(e.x,e.y,e.size*3,0,Math.PI*2),t.fill());break;case"leaves":t.fillStyle=`hsla(${e.hue}, 60%, 50%, ${e.opacity})`,t.ellipse(e.x,e.y,e.size,e.size*.5,e.x*.01,0,Math.PI*2),t.fill();break;case"bubbles":t.strokeStyle=n.baseColor+`${e.opacity})`,t.lineWidth=1,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.stroke(),t.beginPath(),t.fillStyle=`rgba(255, 255, 255, ${e.opacity*.5})`,t.arc(e.x-e.size*.3,e.y-e.size*.3,e.size*.2,0,Math.PI*2),t.fill();break;case"embers":const s=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size);s.addColorStop(0,`hsla(${e.hue}, 100%, 70%, ${e.opacity})`),s.addColorStop(1,`hsla(${e.hue}, 100%, 50%, 0)`),t.fillStyle=s,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill();break;default:const a=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size*2);a.addColorStop(0,`hsla(${e.hue}, 80%, 60%, ${e.opacity})`),a.addColorStop(1,`hsla(${e.hue}, 80%, 60%, 0)`),t.fillStyle=a,t.arc(e.x,e.y,e.size*2,0,Math.PI*2),t.fill();break}}const nu=({title:t,icon:e,children:n,delay:s=0})=>b.jsxs(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s},className:"bg-white/5 border border-white/10 rounded-2xl p-6 backdrop-blur-sm hover:bg-white/10 transition-colors",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[b.jsx("div",{className:"p-2 bg-accent-primary/20 rounded-lg text-accent-primary",children:b.jsx(e,{size:24})}),b.jsx("h3",{className:"text-xl font-bold text-white",children:t})]}),b.jsx("div",{className:"text-slate-300 space-y-3 leading-relaxed",children:n})]}),ty=({number:t,title:e,text:n})=>b.jsxs("div",{className:"flex gap-4",children:[b.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-slate-800 border border-white/20 flex items-center justify-center font-bold text-sm text-white",children:t}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-semibold text-white mb-1",children:e}),b.jsx("p",{className:"text-sm text-slate-400",children:n})]})]}),oB=()=>{const t=Pu();return b.jsx("div",{className:"min-h-screen bg-transparent text-white p-6 relative overflow-x-hidden",children:b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsxs(nt.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>t("/dashboard"),className:"flex items-center gap-2 text-slate-400 hover:text-white transition-colors mb-8 group",children:[b.jsx(v9,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),"Back to Dashboard"]}),b.jsxs("div",{className:"text-center mb-16",children:[b.jsx(nt.div,{initial:{scale:0},animate:{scale:1},className:"inline-flex items-center justify-center w-20 h-20 rounded-3xl bg-gradient-to-br from-accent-primary to-accent-secondary mb-6 shadow-2xl shadow-accent-primary/20",children:b.jsx(Ud,{size:40,className:"text-white"})}),b.jsxs(nt.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl sm:text-5xl font-extrabold mb-4",children:["How to ",b.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent",children:"Bingo"})]}),b.jsx(nt.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-xl text-slate-400 max-w-2xl mx-auto",children:"Your complete guide to mastering the art of 2026 Bingo. Turn your goals into a game!"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pb-24",children:[b.jsxs(nu,{title:"Getting Started",icon:vR,delay:.3,children:[b.jsx("p",{children:"Welcome to your digital accountability partner! The app is designed to make achieving your 2026 goals fun and social."}),b.jsxs("div",{className:"mt-4 space-y-4",children:[b.jsx(ty,{number:1,title:"Sign Up",text:"You're already here! Your account is safe with us."}),b.jsx(ty,{number:2,title:"Create a Board",text:"Choose a template or start from scratch."}),b.jsx(ty,{number:3,title:"Invite Friends",text:"Everything is better together."})]})]}),b.jsxs(nu,{title:"Creating Boards",icon:Vv,delay:.4,children:[b.jsx("p",{children:"Your board is your battlefield. You can customize it to fit your exact needs."}),b.jsxs("div",{className:"mt-4 bg-black/20 rounded-xl p-4 border border-white/5",children:[b.jsxs("h4",{className:"font-semibold text-accent-gold mb-2 flex items-center gap-2",children:[b.jsx(M9,{size:16})," Pro Tips:"]}),b.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-slate-400",children:[b.jsxs("li",{children:[b.jsx("strong",{children:"3x3 Grid:"})," Quick, focused mini-goals."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"5x5 Grid:"})," The classic Bingo experience."]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Templates:"})," We have pre-made ideas for inspiration!"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Shuffle:"})," Don't like the layout? Hit shuffle before locking."]})]})]})]}),b.jsxs(nu,{title:"Playing the Game",icon:wE,delay:.5,children:[b.jsx("p",{children:"Once your board is finalized, the fun begins. Tap a tile to interact with it."}),b.jsxs("div",{className:"space-y-3 mt-4",children:[b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx(Zy,{className:"text-accent-secondary shrink-0 mt-1",size:18}),b.jsxs("div",{children:[b.jsx("span",{className:"text-white font-medium",children:"Add Proof:"}),b.jsx("p",{className:"text-sm",children:'Upload a photo to mark a tile as "In Progress" or "Completed".'})]})]}),b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx(wE,{className:"text-green-400 shrink-0 mt-1",size:18}),b.jsxs("div",{children:[b.jsx("span",{className:"text-white font-medium",children:"Mark Complete:"}),b.jsx("p",{className:"text-sm",children:`Tap "Mark Complete" when you're done. Watch the tile light up!`})]})]})]})]}),b.jsxs(nu,{title:"Shared Boards",icon:nd,delay:.6,children:[b.jsx("p",{children:"Compete or collaborate with friends on the same board."}),b.jsxs("div",{className:"mt-4 space-y-2 text-sm",children:[b.jsxs("p",{children:[" ",b.jsx("strong",{children:"Invite Users:"})," Click the share icon and add friends by email."]}),b.jsxs("p",{children:[" ",b.jsx("strong",{children:"Competition:"})," See who completes tiles first. The tile will show the name of the winner!"]}),b.jsxs("p",{children:[" ",b.jsx("strong",{children:"Live Updates:"})," Watch changes happen in real-time."]})]})]}),b.jsxs(nu,{title:"Advanced Features",icon:Pv,delay:.7,children:[b.jsx("p",{children:"Customize your experience in the settings menu."}),b.jsxs("ul",{className:"mt-2 space-y-2 text-sm text-slate-400",children:[b.jsxs("li",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary"}),"Toggle sound effects on/off"]}),b.jsxs("li",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary"}),"Switch dynamic backgrounds"]}),b.jsxs("li",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary"}),"Edit incomplete boards anytime"]})]})]}),b.jsx("div",{className:"md:col-span-2 mt-8",children:b.jsxs("div",{className:"bg-gradient-to-r from-accent-primary/10 to-accent-secondary/10 border border-white/10 rounded-2xl p-8 text-center relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-accent-primary to-accent-secondary"}),b.jsx(Mv,{className:"w-12 h-12 text-white mx-auto mb-4 opacity-80"}),b.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Ready to start?"}),b.jsx("p",{className:"text-slate-400 mb-6",children:"Create your first board and start your journey."}),b.jsx("button",{onClick:()=>t("/dashboard"),className:"px-8 py-3 bg-white text-bg-dark font-bold rounded-xl hover:bg-slate-200 transition-colors shadow-lg shadow-white/10",children:"Go to Dashboard"})]})})]})]})})},lB=()=>{const{user:t,loading:e}=Gl();return e?b.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-bg-dark text-slate-500",children:"Initializing..."}):t?b.jsxs(b.Fragment,{children:[b.jsx(iB,{}),b.jsx(GD,{children:b.jsxs(wD,{children:[b.jsx(so,{path:"/",element:b.jsx(bT,{to:"/dashboard",replace:!0})}),b.jsx(so,{path:"/dashboard",element:b.jsx(nB,{})}),b.jsx(so,{path:"/board/legacy/:yearId",element:b.jsx(NE,{})}),b.jsx(so,{path:"/board/:boardId",element:b.jsx(NE,{})}),b.jsx(so,{path:"/help",element:b.jsx(oB,{})}),b.jsx(so,{path:"*",element:b.jsx(bT,{to:"/dashboard",replace:!0})})]})})]}):b.jsx(Wz,{})};function cB(){return b.jsx(N3,{children:b.jsx(Qz,{children:b.jsx(sz,{children:b.jsx(lB,{})})})})}console.log("Main.tsx full run");const DE=document.getElementById("root");DE?xN.createRoot(DE).render(b.jsx(k.StrictMode,{children:b.jsx(cB,{})})):console.error("Root not found");export{da as C,Os as F,$d as _,un as a,tS as b,go as c,Pi as d,pm as e,f0 as g,wo as i,l0 as p,Ss as r,c0 as u};
