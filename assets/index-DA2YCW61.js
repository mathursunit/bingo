(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function rN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ag={exports:{}},$c={};var Qw;function aN(){if(Qw)return $c;Qw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return $c.Fragment=e,$c.jsx=n,$c.jsxs=n,$c}var Xw;function oN(){return Xw||(Xw=1,ag.exports=aN()),ag.exports}var w=oN(),og={exports:{}},je={};var Ww;function lN(){if(Ww)return je;Ww=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),E=Symbol.iterator;function R(S){return S===null||typeof S!="object"?null:(S=E&&S[E]||S["@@iterator"],typeof S=="function"?S:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,V={};function j(S,K,J){this.props=S,this.context=K,this.refs=V,this.updater=J||M}j.prototype.isReactComponent={},j.prototype.setState=function(S,K){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,K,"setState")},j.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function F(){}F.prototype=j.prototype;function H(S,K,J){this.props=S,this.context=K,this.refs=V,this.updater=J||M}var oe=H.prototype=new F;oe.constructor=H,O(oe,j.prototype),oe.isPureReactComponent=!0;var re=Array.isArray;function de(){}var D={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function I(S,K,J){var ae=J.ref;return{$$typeof:t,type:S,key:K,ref:ae!==void 0?ae:null,props:J}}function P(S,K){return I(S.type,K,S.props)}function L(S){return typeof S=="object"&&S!==null&&S.$$typeof===t}function z(S){var K={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(J){return K[J]})}var N=/\/+/g;function fe(S,K){return typeof S=="object"&&S!==null&&S.key!=null?z(""+S.key):K.toString(36)}function pe(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(de,de):(S.status="pending",S.then(function(K){S.status==="pending"&&(S.status="fulfilled",S.value=K)},function(K){S.status==="pending"&&(S.status="rejected",S.reason=K)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function q(S,K,J,ae,ge){var ye=typeof S;(ye==="undefined"||ye==="boolean")&&(S=null);var me=!1;if(S===null)me=!0;else switch(ye){case"bigint":case"string":case"number":me=!0;break;case"object":switch(S.$$typeof){case t:case e:me=!0;break;case y:return me=S._init,q(me(S._payload),K,J,ae,ge)}}if(me)return ge=ge(S),me=ae===""?"."+fe(S,0):ae,re(ge)?(J="",me!=null&&(J=me.replace(N,"$&/")+"/"),q(ge,K,J,"",function(Oe){return Oe})):ge!=null&&(L(ge)&&(ge=P(ge,J+(ge.key==null||S&&S.key===ge.key?"":(""+ge.key).replace(N,"$&/")+"/")+me)),K.push(ge)),1;me=0;var Se=ae===""?".":ae+":";if(re(S))for(var Ce=0;Ce<S.length;Ce++)ae=S[Ce],ye=Se+fe(ae,Ce),me+=q(ae,K,J,ye,ge);else if(Ce=R(S),typeof Ce=="function")for(S=Ce.call(S),Ce=0;!(ae=S.next()).done;)ae=ae.value,ye=Se+fe(ae,Ce++),me+=q(ae,K,J,ye,ge);else if(ye==="object"){if(typeof S.then=="function")return q(pe(S),K,J,ae,ge);throw K=String(S),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return me}function ne(S,K,J){if(S==null)return S;var ae=[],ge=0;return q(S,ae,"","",function(ye){return K.call(J,ye,ge++)}),ae}function ie(S){if(S._status===-1){var K=S._result;K=K(),K.then(function(J){(S._status===0||S._status===-1)&&(S._status=1,S._result=J)},function(J){(S._status===0||S._status===-1)&&(S._status=2,S._result=J)}),S._status===-1&&(S._status=0,S._result=K)}if(S._status===1)return S._result.default;throw S._result}var De=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},G={map:ne,forEach:function(S,K,J){ne(S,function(){K.apply(this,arguments)},J)},count:function(S){var K=0;return ne(S,function(){K++}),K},toArray:function(S){return ne(S,function(K){return K})||[]},only:function(S){if(!L(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return je.Activity=v,je.Children=G,je.Component=j,je.Fragment=n,je.Profiler=a,je.PureComponent=H,je.StrictMode=s,je.Suspense=m,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,je.__COMPILER_RUNTIME={__proto__:null,c:function(S){return D.H.useMemoCache(S)}},je.cache=function(S){return function(){return S.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(S,K,J){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var ae=O({},S.props),ge=S.key;if(K!=null)for(ye in K.key!==void 0&&(ge=""+K.key),K)!x.call(K,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&K.ref===void 0||(ae[ye]=K[ye]);var ye=arguments.length-2;if(ye===1)ae.children=J;else if(1<ye){for(var me=Array(ye),Se=0;Se<ye;Se++)me[Se]=arguments[Se+2];ae.children=me}return I(S.type,ge,ae)},je.createContext=function(S){return S={$$typeof:u,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:l,_context:S},S},je.createElement=function(S,K,J){var ae,ge={},ye=null;if(K!=null)for(ae in K.key!==void 0&&(ye=""+K.key),K)x.call(K,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ge[ae]=K[ae]);var me=arguments.length-2;if(me===1)ge.children=J;else if(1<me){for(var Se=Array(me),Ce=0;Ce<me;Ce++)Se[Ce]=arguments[Ce+2];ge.children=Se}if(S&&S.defaultProps)for(ae in me=S.defaultProps,me)ge[ae]===void 0&&(ge[ae]=me[ae]);return I(S,ye,ge)},je.createRef=function(){return{current:null}},je.forwardRef=function(S){return{$$typeof:f,render:S}},je.isValidElement=L,je.lazy=function(S){return{$$typeof:y,_payload:{_status:-1,_result:S},_init:ie}},je.memo=function(S,K){return{$$typeof:p,type:S,compare:K===void 0?null:K}},je.startTransition=function(S){var K=D.T,J={};D.T=J;try{var ae=S(),ge=D.S;ge!==null&&ge(J,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(de,De)}catch(ye){De(ye)}finally{K!==null&&J.types!==null&&(K.types=J.types),D.T=K}},je.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},je.use=function(S){return D.H.use(S)},je.useActionState=function(S,K,J){return D.H.useActionState(S,K,J)},je.useCallback=function(S,K){return D.H.useCallback(S,K)},je.useContext=function(S){return D.H.useContext(S)},je.useDebugValue=function(){},je.useDeferredValue=function(S,K){return D.H.useDeferredValue(S,K)},je.useEffect=function(S,K){return D.H.useEffect(S,K)},je.useEffectEvent=function(S){return D.H.useEffectEvent(S)},je.useId=function(){return D.H.useId()},je.useImperativeHandle=function(S,K,J){return D.H.useImperativeHandle(S,K,J)},je.useInsertionEffect=function(S,K){return D.H.useInsertionEffect(S,K)},je.useLayoutEffect=function(S,K){return D.H.useLayoutEffect(S,K)},je.useMemo=function(S,K){return D.H.useMemo(S,K)},je.useOptimistic=function(S,K){return D.H.useOptimistic(S,K)},je.useReducer=function(S,K,J){return D.H.useReducer(S,K,J)},je.useRef=function(S){return D.H.useRef(S)},je.useState=function(S){return D.H.useState(S)},je.useSyncExternalStore=function(S,K,J){return D.H.useSyncExternalStore(S,K,J)},je.useTransition=function(){return D.H.useTransition()},je.version="19.2.3",je}var Zw;function $y(){return Zw||(Zw=1,og.exports=lN()),og.exports}var k=$y();const Yg=rN(k);var lg={exports:{}},Yc={},cg={exports:{}},ug={};var Jw;function cN(){return Jw||(Jw=1,(function(t){function e(q,ne){var ie=q.length;q.push(ne);e:for(;0<ie;){var De=ie-1>>>1,G=q[De];if(0<a(G,ne))q[De]=ne,q[ie]=G,ie=De;else break e}}function n(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var ne=q[0],ie=q.pop();if(ie!==ne){q[0]=ie;e:for(var De=0,G=q.length,S=G>>>1;De<S;){var K=2*(De+1)-1,J=q[K],ae=K+1,ge=q[ae];if(0>a(J,ie))ae<G&&0>a(ge,J)?(q[De]=ge,q[ae]=ie,De=ae):(q[De]=J,q[K]=ie,De=K);else if(ae<G&&0>a(ge,ie))q[De]=ge,q[ae]=ie,De=ae;else break e}}return ne}function a(q,ne){var ie=q.sortIndex-ne.sortIndex;return ie!==0?ie:q.id-ne.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var m=[],p=[],y=1,v=null,E=3,R=!1,M=!1,O=!1,V=!1,j=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function oe(q){for(var ne=n(p);ne!==null;){if(ne.callback===null)s(p);else if(ne.startTime<=q)s(p),ne.sortIndex=ne.expirationTime,e(m,ne);else break;ne=n(p)}}function re(q){if(O=!1,oe(q),!M)if(n(m)!==null)M=!0,de||(de=!0,z());else{var ne=n(p);ne!==null&&pe(re,ne.startTime-q)}}var de=!1,D=-1,x=5,I=-1;function P(){return V?!0:!(t.unstable_now()-I<x)}function L(){if(V=!1,de){var q=t.unstable_now();I=q;var ne=!0;try{e:{M=!1,O&&(O=!1,F(D),D=-1),R=!0;var ie=E;try{t:{for(oe(q),v=n(m);v!==null&&!(v.expirationTime>q&&P());){var De=v.callback;if(typeof De=="function"){v.callback=null,E=v.priorityLevel;var G=De(v.expirationTime<=q);if(q=t.unstable_now(),typeof G=="function"){v.callback=G,oe(q),ne=!0;break t}v===n(m)&&s(m),oe(q)}else s(m);v=n(m)}if(v!==null)ne=!0;else{var S=n(p);S!==null&&pe(re,S.startTime-q),ne=!1}}break e}finally{v=null,E=ie,R=!1}ne=void 0}}finally{ne?z():de=!1}}}var z;if(typeof H=="function")z=function(){H(L)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,fe=N.port2;N.port1.onmessage=L,z=function(){fe.postMessage(null)}}else z=function(){j(L,0)};function pe(q,ne){D=j(function(){q(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(q){switch(E){case 1:case 2:case 3:var ne=3;break;default:ne=E}var ie=E;E=ne;try{return q()}finally{E=ie}},t.unstable_requestPaint=function(){V=!0},t.unstable_runWithPriority=function(q,ne){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ie=E;E=q;try{return ne()}finally{E=ie}},t.unstable_scheduleCallback=function(q,ne,ie){var De=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?De+ie:De):ie=De,q){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ie+G,q={id:y++,callback:ne,priorityLevel:q,startTime:ie,expirationTime:G,sortIndex:-1},ie>De?(q.sortIndex=ie,e(p,q),n(m)===null&&q===n(p)&&(O?(F(D),D=-1):O=!0,pe(re,ie-De))):(q.sortIndex=G,e(m,q),M||R||(M=!0,de||(de=!0,z()))),q},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(q){var ne=E;return function(){var ie=E;E=ne;try{return q.apply(this,arguments)}finally{E=ie}}}})(ug)),ug}var eT;function uN(){return eT||(eT=1,cg.exports=cN()),cg.exports}var hg={exports:{}},In={};var tT;function hN(){if(tT)return In;tT=1;var t=$y();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:m,containerInfo:p,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return In.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,In.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},In.flushSync=function(m){var p=u.T,y=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=p,s.p=y,s.d.f()}},In.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},In.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},In.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,v=f(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:R}):y==="script"&&s.d.X(m,{crossOrigin:v,integrity:E,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},In.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},In.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=f(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},In.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},In.requestFormReset=function(m){s.d.r(m)},In.unstable_batchedUpdates=function(m,p){return m(p)},In.useFormState=function(m,p,y){return u.H.useFormState(m,p,y)},In.useFormStatus=function(){return u.H.useHostTransitionStatus()},In.version="19.2.3",In}var nT;function fN(){if(nT)return hg.exports;nT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hg.exports=hN(),hg.exports}var iT;function dN(){if(iT)return Yc;iT=1;var t=uN(),e=$y(),n=fN();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),i;if(g===c)return m(d),r;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=d,c=g;else{for(var b=!1,A=d.child;A;){if(A===o){b=!0,o=d,c=g;break}if(A===c){b=!0,c=d,o=g;break}A=A.sibling}if(!b){for(A=g.child;A;){if(A===o){b=!0,o=g,c=d;break}if(A===c){b=!0,c=g,o=d;break}A=A.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),H=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function fe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case j:return"Profiler";case V:return"StrictMode";case re:return"Suspense";case de:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case H:return i.displayName||"Context";case F:return(i._context.displayName||"Context")+".Consumer";case oe:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return r=i.displayName||null,r!==null?r:fe(i.type)||"Memo";case x:r=i._payload,i=i._init;try{return fe(i(r))}catch{}}return null}var pe=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},De=[],G=-1;function S(i){return{current:i}}function K(i){0>G||(i.current=De[G],De[G]=null,G--)}function J(i,r){G++,De[G]=i.current,i.current=r}var ae=S(null),ge=S(null),ye=S(null),me=S(null);function Se(i,r){switch(J(ye,r),J(ge,i),J(ae,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?vw(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=vw(r),i=_w(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}K(ae),J(ae,i)}function Ce(){K(ae),K(ge),K(ye)}function Oe(i){i.memoizedState!==null&&J(me,i);var r=ae.current,o=_w(r,i.type);r!==o&&(J(ge,i),J(ae,o))}function Ge(i){ge.current===i&&(K(ae),K(ge)),me.current===i&&(K(me),Hc._currentValue=ie)}var Ke,Et;function Pe(i){if(Ke===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ke=r&&r[1]||"",Et=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ke+i+Et}var At=!1;function Ft(i,r){if(!i||At)return"";At=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(te){var Z=te}Reflect.construct(i,[],ce)}else{try{ce.call()}catch(te){Z=te}i.call(ce.prototype)}}else{try{throw Error()}catch(te){Z=te}(ce=i())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(te){if(te&&Z&&typeof te.stack=="string")return[te.stack,Z.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),b=g[0],A=g[1];if(b&&A){var U=b.split(`
`),W=A.split(`
`);for(d=c=0;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;for(;d<W.length&&!W[d].includes("DetermineComponentFrameRoot");)d++;if(c===U.length||d===W.length)for(c=U.length-1,d=W.length-1;1<=c&&0<=d&&U[c]!==W[d];)d--;for(;1<=c&&0<=d;c--,d--)if(U[c]!==W[d]){if(c!==1||d!==1)do if(c--,d--,0>d||U[c]!==W[d]){var se=`
`+U[c].replace(" at new "," at ");return i.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",i.displayName)),se}while(1<=c&&0<=d);break}}}finally{At=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Pe(o):""}function on(i,r){switch(i.tag){case 26:case 27:case 5:return Pe(i.type);case 16:return Pe("Lazy");case 13:return i.child!==r&&r!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return Ft(i.type,!1);case 11:return Ft(i.type.render,!1);case 1:return Ft(i.type,!0);case 31:return Pe("Activity");default:return""}}function bn(i){try{var r="",o=null;do r+=on(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ot=Object.prototype.hasOwnProperty,$e=t.unstable_scheduleCallback,wn=t.unstable_cancelCallback,fi=t.unstable_shouldYield,di=t.unstable_requestPaint,Ht=t.unstable_now,mi=t.unstable_getCurrentPriorityLevel,as=t.unstable_ImmediatePriority,pi=t.unstable_UserBlockingPriority,lt=t.unstable_NormalPriority,gi=t.unstable_LowPriority,os=t.unstable_IdlePriority,Wn=t.log,Ui=t.unstable_setDisableYieldValue,ln=null,Qt=null;function Pn(i){if(typeof Wn=="function"&&Ui(i),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(ln,i)}catch{}}var xt=Math.clz32?Math.clz32:_o,vo=Math.log,zs=Math.LN2;function _o(i){return i>>>=0,i===0?32:31-(vo(i)/zs|0)|0}var Zn=256,zi=262144,Nt=4194304;function yi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function vi(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var d=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~g,c!==0?d=yi(c):(b&=A,b!==0?d=yi(b):o||(o=A&~i,o!==0&&(d=yi(o))))):(A=c&~g,A!==0?d=yi(A):b!==0?d=yi(b):o||(o=c&~i,o!==0&&(d=yi(o)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:d}function Jn(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Ql(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bo(){var i=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),i}function Bi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function ls(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ea(i,r,o,c,d,g){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,U=i.expirationTimes,W=i.hiddenUpdates;for(o=b&~o;0<o;){var se=31-xt(o),ce=1<<se;A[se]=0,U[se]=-1;var Z=W[se];if(Z!==null)for(W[se]=null,se=0;se<Z.length;se++){var te=Z[se];te!==null&&(te.lane&=-536870913)}o&=~ce}c!==0&&Fi(i,c,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~r))}function Fi(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-xt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function xa(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-xt(o),d=1<<c;d&r|i[c]&r&&(i[c]|=r),o&=~d}}function Q(i,r){var o=r&-r;return o=(o&42)!==0?1:Re(o),(o&(i.suspendedLanes|r))!==0?0:o}function Re(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ht(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function jt(){var i=ne.p;return i!==0?i:(i=window.event,i===void 0?32:Fw(i.type))}function pt(i,r){var o=ne.p;try{return ne.p=i,r()}finally{ne.p=o}}var Vt=Math.random().toString(36).slice(2),wt="__reactFiber$"+Vt,qt="__reactProps$"+Vt,cs="__reactContainer$"+Vt,wo="__reactEvents$"+Vt,fm="__reactListeners$"+Vt,Zu="__reactHandles$"+Vt,Ju="__reactResources$"+Vt,us="__reactMarker$"+Vt;function To(i){delete i[wt],delete i[qt],delete i[wo],delete i[fm],delete i[Zu]}function hs(i){var r=i[wt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[cs]||o[wt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=Aw(i);i!==null;){if(o=i[wt])return o;i=Aw(i)}return r}i=o,o=i.parentNode}return null}function _i(i){if(i=i[wt]||i[cs]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function ei(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function fs(i){var r=i[Ju];return r||(r=i[Ju]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Xt(i){i[us]=!0}var Xl=new Set,Wl={};function ds(i,r){ms(i,r),ms(i+"Capture",r)}function ms(i,r){for(Wl[i]=r,i=0;i<r.length;i++)Xl.add(r[i])}var Zl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jl={},ec={};function eh(i){return ot.call(ec,i)?!0:ot.call(Jl,i)?!1:Zl.test(i)?ec[i]=!0:(Jl[i]=!0,!1)}function Eo(i,r,o){if(eh(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function ti(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Wt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function pn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function _r(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function tc(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,g=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(b){o=""+b,g.call(this,b)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function ft(i){if(!i._valueTracker){var r=_r(i)?"checked":"value";i._valueTracker=tc(i,r,""+i[r])}}function Sa(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=_r(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function ps(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Aa=/[\n"\\]/g;function Bn(i){return i.replace(Aa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function xo(i,r,o,c,d,g,b,A){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),r!=null?b==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+pn(r)):i.value!==""+pn(r)&&(i.value=""+pn(r)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),r!=null?nc(i,b,pn(r)):o!=null?nc(i,b,pn(o)):c!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+pn(A):i.removeAttribute("name")}function th(i,r,o,c,d,g,b,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){ft(i);return}o=o!=null?""+pn(o):"",r=r!=null?""+pn(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b),ft(i)}function nc(i,r,o){r==="number"&&ps(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function br(i,r,o,c){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&c&&(i[o].defaultSelected=!0)}else{for(o=""+pn(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,c&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function nh(i,r,o){if(r!=null&&(r=""+pn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+pn(o):""}function wr(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(pe(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=pn(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),ft(i)}function Fn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var ih=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ic(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||ih.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function sc(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var d in r)c=r[d],r.hasOwnProperty(d)&&o[d]!==c&&ic(i,d,c)}else for(var g in r)r.hasOwnProperty(g)&&ic(i,g,r[g])}function So(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ao(i){return Tr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Hi(){}var rc=null;function bi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Er=null,gs=null;function Ca(i){var r=_i(i);if(r&&(i=r.stateNode)){var o=i[qt]||null;e:switch(i=r.stateNode,r.type){case"input":if(xo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Bn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var d=c[qt]||null;if(!d)throw Error(s(90));xo(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&Sa(c)}break e;case"textarea":nh(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&br(i,!!o.multiple,r,!1)}}}var Co=!1;function xr(i,r,o){if(Co)return i(r,o);Co=!0;try{var c=i(r);return c}finally{if(Co=!1,(Er!==null||gs!==null)&&(Wh(),Er&&(r=Er,i=gs,gs=Er=null,Ca(r),i)))for(r=0;r<i.length;r++)Ca(i[r])}}function qi(i,r){var o=i.stateNode;if(o===null)return null;var c=o[qt]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ra=!1;if(wi)try{var gt={};Object.defineProperty(gt,"passive",{get:function(){Ra=!0}}),window.addEventListener("test",gt,gt),window.removeEventListener("test",gt,gt)}catch{Ra=!1}var ys=null,ac=null,Ia=null;function oc(){if(Ia)return Ia;var i,r=ac,o=r.length,c,d="value"in ys?ys.value:ys.textContent,g=d.length;for(i=0;i<o&&r[i]===d[i];i++);var b=o-i;for(c=1;c<=b&&r[o-c]===d[g-c];c++);return Ia=d.slice(i,1<c?1-c:void 0)}function Na(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Bs(){return!0}function Gi(){return!1}function Tn(i){function r(o,c,d,g,b){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Bs:Gi,this.isPropagationStopped=Gi,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Bs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Bs)},persist:function(){},isPersistent:Bs}),r}var Fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vs=Tn(Fs),Sr=v({},Fs,{view:0,detail:0}),lc=Tn(Sr),Ar,Ro,_s,Io=v({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==_s&&(_s&&i.type==="mousemove"?(Ar=i.screenX-_s.screenX,Ro=i.screenY-_s.screenY):Ro=Ar=0,_s=i),Ar)},movementY:function(i){return"movementY"in i?i.movementY:Ro}}),cc=Tn(Io),Da=v({},Io,{dataTransfer:0}),rh=Tn(Da),ah=v({},Sr,{relatedTarget:0}),ka=Tn(ah),uc=v({},Fs,{animationName:0,elapsedTime:0,pseudoElement:0}),oh=Tn(uc),No=v({},Fs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),lh=Tn(No),ch=v({},Fs,{data:0}),bs=Tn(ch),uh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=fh[i])?!!r[i]:!1}function Cr(){return dh}var On=v({},Sr,{key:function(i){if(i.key){var r=uh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Na(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?hh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(i){return i.type==="keypress"?Na(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Na(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),mh=Tn(On),ph=v({},Io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hs=Tn(ph),h=v({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),_=Tn(h),T=v({},Fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=Tn(T),Y=v({},Io,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ee=Tn(Y),ve=v({},Fs,{newState:0,oldState:0}),ze=Tn(ve),Gt=[9,13,27,32],rt=wi&&"CompositionEvent"in window,Dt=null;wi&&"documentMode"in document&&(Dt=document.documentMode);var Ti=wi&&"TextEvent"in window&&!Dt,ws=wi&&(!rt||Dt&&8<Dt&&11>=Dt),Ki=" ",$i=!1;function Ma(i,r){switch(i){case"keyup":return Gt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Do(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ko=!1;function I2(i,r){switch(i){case"compositionend":return Do(r);case"keypress":return r.which!==32?null:($i=!0,Ki);case"textInput":return i=r.data,i===Ki&&$i?null:i;default:return null}}function N2(i,r){if(ko)return i==="compositionend"||!rt&&Ma(i,r)?(i=oc(),Ia=ac=ys=null,ko=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ws&&r.locale!=="ko"?null:r.data;default:return null}}var D2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function I0(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!D2[i.type]:r==="textarea"}function N0(i,r,o,c){Er?gs?gs.push(c):gs=[c]:Er=c,r=rf(r,"onChange"),0<r.length&&(o=new vs("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var hc=null,fc=null;function k2(i){fw(i,0)}function gh(i){var r=ei(i);if(Sa(r))return i}function D0(i,r){if(i==="change")return r}var k0=!1;if(wi){var dm;if(wi){var mm="oninput"in document;if(!mm){var M0=document.createElement("div");M0.setAttribute("oninput","return;"),mm=typeof M0.oninput=="function"}dm=mm}else dm=!1;k0=dm&&(!document.documentMode||9<document.documentMode)}function V0(){hc&&(hc.detachEvent("onpropertychange",P0),fc=hc=null)}function P0(i){if(i.propertyName==="value"&&gh(fc)){var r=[];N0(r,fc,i,bi(i)),xr(k2,r)}}function M2(i,r,o){i==="focusin"?(V0(),hc=r,fc=o,hc.attachEvent("onpropertychange",P0)):i==="focusout"&&V0()}function V2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return gh(fc)}function P2(i,r){if(i==="click")return gh(r)}function O2(i,r){if(i==="input"||i==="change")return gh(r)}function L2(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var ni=typeof Object.is=="function"?Object.is:L2;function dc(i,r){if(ni(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!ot.call(r,d)||!ni(i[d],r[d]))return!1}return!0}function O0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function L0(i,r){var o=O0(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=O0(o)}}function j0(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?j0(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function U0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=ps(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=ps(i.document)}return r}function pm(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var j2=wi&&"documentMode"in document&&11>=document.documentMode,Mo=null,gm=null,mc=null,ym=!1;function z0(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ym||Mo==null||Mo!==ps(c)||(c=Mo,"selectionStart"in c&&pm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),mc&&dc(mc,c)||(mc=c,c=rf(gm,"onSelect"),0<c.length&&(r=new vs("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=Mo)))}function Va(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Vo={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionrun:Va("Transition","TransitionRun"),transitionstart:Va("Transition","TransitionStart"),transitioncancel:Va("Transition","TransitionCancel"),transitionend:Va("Transition","TransitionEnd")},vm={},B0={};wi&&(B0=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function Pa(i){if(vm[i])return vm[i];if(!Vo[i])return i;var r=Vo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in B0)return vm[i]=r[o];return i}var F0=Pa("animationend"),H0=Pa("animationiteration"),q0=Pa("animationstart"),U2=Pa("transitionrun"),z2=Pa("transitionstart"),B2=Pa("transitioncancel"),G0=Pa("transitionend"),K0=new Map,_m="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_m.push("scrollEnd");function Yi(i,r){K0.set(i,r),ds(r,[i])}var yh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Ei=[],Po=0,bm=0;function vh(){for(var i=Po,r=bm=Po=0;r<i;){var o=Ei[r];Ei[r++]=null;var c=Ei[r];Ei[r++]=null;var d=Ei[r];Ei[r++]=null;var g=Ei[r];if(Ei[r++]=null,c!==null&&d!==null){var b=c.pending;b===null?d.next=d:(d.next=b.next,b.next=d),c.pending=d}g!==0&&$0(o,d,g)}}function _h(i,r,o,c){Ei[Po++]=i,Ei[Po++]=r,Ei[Po++]=o,Ei[Po++]=c,bm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function wm(i,r,o,c){return _h(i,r,o,c),bh(i)}function Oa(i,r){return _h(i,null,null,r),bh(i)}function $0(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&r!==null&&(d=31-xt(o),i=g.hiddenUpdates,c=i[d],c===null?i[d]=[r]:c.push(r),r.lane=o|536870912),g):null}function bh(i){if(50<Oc)throw Oc=0,Np=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Oo={};function F2(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(i,r,o,c){return new F2(i,r,o,c)}function Tm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function qs(i,r){var o=i.alternate;return o===null?(o=ii(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Y0(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function wh(i,r,o,c,d,g){var b=0;if(c=i,typeof i=="function")Tm(i)&&(b=1);else if(typeof i=="string")b=$I(i,o,ae.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=ii(31,o,r,d),i.elementType=I,i.lanes=g,i;case O:return La(o.children,d,g,r);case V:b=8,d|=24;break;case j:return i=ii(12,o,r,d|2),i.elementType=j,i.lanes=g,i;case re:return i=ii(13,o,r,d),i.elementType=re,i.lanes=g,i;case de:return i=ii(19,o,r,d),i.elementType=de,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case H:b=10;break e;case F:b=9;break e;case oe:b=11;break e;case D:b=14;break e;case x:b=16,c=null;break e}b=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=ii(b,o,r,d),r.elementType=i,r.type=c,r.lanes=g,r}function La(i,r,o,c){return i=ii(7,i,c,r),i.lanes=o,i}function Em(i,r,o){return i=ii(6,i,null,r),i.lanes=o,i}function Q0(i){var r=ii(18,null,null,0);return r.stateNode=i,r}function xm(i,r,o){return r=ii(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var X0=new WeakMap;function xi(i,r){if(typeof i=="object"&&i!==null){var o=X0.get(i);return o!==void 0?o:(r={value:i,source:r,stack:bn(r)},X0.set(i,r),r)}return{value:i,source:r,stack:bn(r)}}var Lo=[],jo=0,Th=null,pc=0,Si=[],Ai=0,Rr=null,Ts=1,Es="";function Gs(i,r){Lo[jo++]=pc,Lo[jo++]=Th,Th=i,pc=r}function W0(i,r,o){Si[Ai++]=Ts,Si[Ai++]=Es,Si[Ai++]=Rr,Rr=i;var c=Ts;i=Es;var d=32-xt(c)-1;c&=~(1<<d),o+=1;var g=32-xt(r)+d;if(30<g){var b=d-d%5;g=(c&(1<<b)-1).toString(32),c>>=b,d-=b,Ts=1<<32-xt(r)+d|o<<d|c,Es=g+i}else Ts=1<<g|o<<d|c,Es=i}function Sm(i){i.return!==null&&(Gs(i,1),W0(i,1,0))}function Am(i){for(;i===Th;)Th=Lo[--jo],Lo[jo]=null,pc=Lo[--jo],Lo[jo]=null;for(;i===Rr;)Rr=Si[--Ai],Si[Ai]=null,Es=Si[--Ai],Si[Ai]=null,Ts=Si[--Ai],Si[Ai]=null}function Z0(i,r){Si[Ai++]=Ts,Si[Ai++]=Es,Si[Ai++]=Rr,Ts=r.id,Es=r.overflow,Rr=i}var En=null,Ct=null,tt=!1,Ir=null,Ci=!1,Cm=Error(s(519));function Nr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gc(xi(r,i)),Cm}function J0(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[wt]=i,r[qt]=c,o){case"dialog":Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":case"embed":Qe("load",r);break;case"video":case"audio":for(o=0;o<jc.length;o++)Qe(jc[o],r);break;case"source":Qe("error",r);break;case"img":case"image":case"link":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"input":Qe("invalid",r),th(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Qe("invalid",r);break;case"textarea":Qe("invalid",r),wr(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||gw(r.textContent,o)?(c.popover!=null&&(Qe("beforetoggle",r),Qe("toggle",r)),c.onScroll!=null&&Qe("scroll",r),c.onScrollEnd!=null&&Qe("scrollend",r),c.onClick!=null&&(r.onclick=Hi),r=!0):r=!1,r||Nr(i,!0)}function e_(i){for(En=i.return;En;)switch(En.tag){case 5:case 31:case 13:Ci=!1;return;case 27:case 3:Ci=!0;return;default:En=En.return}}function Uo(i){if(i!==En)return!1;if(!tt)return e_(i),tt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Gp(i.type,i.memoizedProps)),o=!o),o&&Ct&&Nr(i),e_(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Ct=Sw(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Ct=Sw(i)}else r===27?(r=Ct,qr(i.type)?(i=Xp,Xp=null,Ct=i):Ct=r):Ct=En?Ii(i.stateNode.nextSibling):null;return!0}function ja(){Ct=En=null,tt=!1}function Rm(){var i=Ir;return i!==null&&(Kn===null?Kn=i:Kn.push.apply(Kn,i),Ir=null),i}function gc(i){Ir===null?Ir=[i]:Ir.push(i)}var Im=S(null),Ua=null,Ks=null;function Dr(i,r,o){J(Im,r._currentValue),r._currentValue=o}function $s(i){i._currentValue=Im.current,K(Im)}function Nm(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function Dm(i,r,o,c){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var b=d.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=d;for(var U=0;U<r.length;U++)if(A.context===r[U]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),Nm(g.return,o,i),c||(b=null);break e}g=A.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(s(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),Nm(b,o,i),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===i){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function zo(i,r,o,c){i=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var A=d.type;ni(d.pendingProps.value,b.value)||(i!==null?i.push(A):i=[A])}}else if(d===me.current){if(b=d.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Hc):i=[Hc])}d=d.return}i!==null&&Dm(r,i,o,c),r.flags|=262144}function Eh(i){for(i=i.firstContext;i!==null;){if(!ni(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function za(i){Ua=i,Ks=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function xn(i){return t_(Ua,i)}function xh(i,r){return Ua===null&&za(i),t_(i,r)}function t_(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Ks===null){if(i===null)throw Error(s(308));Ks=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Ks=Ks.next=r;return o}var H2=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},q2=t.unstable_scheduleCallback,G2=t.unstable_NormalPriority,Zt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function km(){return{controller:new H2,data:new Map,refCount:0}}function yc(i){i.refCount--,i.refCount===0&&q2(G2,function(){i.controller.abort()})}var vc=null,Mm=0,Bo=0,Fo=null;function K2(i,r){if(vc===null){var o=vc=[];Mm=0,Bo=Op(),Fo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Mm++,r.then(n_,n_),r}function n_(){if(--Mm===0&&vc!==null){Fo!==null&&(Fo.status="fulfilled");var i=vc;vc=null,Bo=0,Fo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function $2(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var i_=q.S;q.S=function(i,r){zb=Ht(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&K2(i,r),i_!==null&&i_(i,r)};var Ba=S(null);function Vm(){var i=Ba.current;return i!==null?i:Tt.pooledCache}function Sh(i,r){r===null?J(Ba,Ba.current):J(Ba,r.pool)}function s_(){var i=Vm();return i===null?null:{parent:Zt._currentValue,pool:i}}var Ho=Error(s(460)),Pm=Error(s(474)),Ah=Error(s(542)),Ch={then:function(){}};function r_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function a_(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Hi,Hi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,l_(i),i;default:if(typeof r.status=="string")r.then(Hi,Hi);else{if(i=Tt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=c}},function(c){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,l_(i),i}throw Ha=r,Ho}}function Fa(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ha=o,Ho):o}}var Ha=null;function o_(){if(Ha===null)throw Error(s(459));var i=Ha;return Ha=null,i}function l_(i){if(i===Ho||i===Ah)throw Error(s(483))}var qo=null,_c=0;function Rh(i){var r=_c;return _c+=1,qo===null&&(qo=[]),a_(qo,i,r)}function bc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Ih(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function c_(i){function r($,B){if(i){var X=$.deletions;X===null?($.deletions=[B],$.flags|=16):X.push(B)}}function o($,B){if(!i)return null;for(;B!==null;)r($,B),B=B.sibling;return null}function c($){for(var B=new Map;$!==null;)$.key!==null?B.set($.key,$):B.set($.index,$),$=$.sibling;return B}function d($,B){return $=qs($,B),$.index=0,$.sibling=null,$}function g($,B,X){return $.index=X,i?(X=$.alternate,X!==null?(X=X.index,X<B?($.flags|=67108866,B):X):($.flags|=67108866,B)):($.flags|=1048576,B)}function b($){return i&&$.alternate===null&&($.flags|=67108866),$}function A($,B,X,le){return B===null||B.tag!==6?(B=Em(X,$.mode,le),B.return=$,B):(B=d(B,X),B.return=$,B)}function U($,B,X,le){var Ne=X.type;return Ne===O?se($,B,X.props.children,le,X.key):B!==null&&(B.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===x&&Fa(Ne)===B.type)?(B=d(B,X.props),bc(B,X),B.return=$,B):(B=wh(X.type,X.key,X.props,null,$.mode,le),bc(B,X),B.return=$,B)}function W($,B,X,le){return B===null||B.tag!==4||B.stateNode.containerInfo!==X.containerInfo||B.stateNode.implementation!==X.implementation?(B=xm(X,$.mode,le),B.return=$,B):(B=d(B,X.children||[]),B.return=$,B)}function se($,B,X,le,Ne){return B===null||B.tag!==7?(B=La(X,$.mode,le,Ne),B.return=$,B):(B=d(B,X),B.return=$,B)}function ce($,B,X){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Em(""+B,$.mode,X),B.return=$,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case R:return X=wh(B.type,B.key,B.props,null,$.mode,X),bc(X,B),X.return=$,X;case M:return B=xm(B,$.mode,X),B.return=$,B;case x:return B=Fa(B),ce($,B,X)}if(pe(B)||z(B))return B=La(B,$.mode,X,null),B.return=$,B;if(typeof B.then=="function")return ce($,Rh(B),X);if(B.$$typeof===H)return ce($,xh($,B),X);Ih($,B)}return null}function Z($,B,X,le){var Ne=B!==null?B.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ne!==null?null:A($,B,""+X,le);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case R:return X.key===Ne?U($,B,X,le):null;case M:return X.key===Ne?W($,B,X,le):null;case x:return X=Fa(X),Z($,B,X,le)}if(pe(X)||z(X))return Ne!==null?null:se($,B,X,le,null);if(typeof X.then=="function")return Z($,B,Rh(X),le);if(X.$$typeof===H)return Z($,B,xh($,X),le);Ih($,X)}return null}function te($,B,X,le,Ne){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return $=$.get(X)||null,A(B,$,""+le,Ne);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case R:return $=$.get(le.key===null?X:le.key)||null,U(B,$,le,Ne);case M:return $=$.get(le.key===null?X:le.key)||null,W(B,$,le,Ne);case x:return le=Fa(le),te($,B,X,le,Ne)}if(pe(le)||z(le))return $=$.get(X)||null,se(B,$,le,Ne,null);if(typeof le.then=="function")return te($,B,X,Rh(le),Ne);if(le.$$typeof===H)return te($,B,X,xh(B,le),Ne);Ih(B,le)}return null}function Te($,B,X,le){for(var Ne=null,it=null,Ae=B,Fe=B=0,We=null;Ae!==null&&Fe<X.length;Fe++){Ae.index>Fe?(We=Ae,Ae=null):We=Ae.sibling;var st=Z($,Ae,X[Fe],le);if(st===null){Ae===null&&(Ae=We);break}i&&Ae&&st.alternate===null&&r($,Ae),B=g(st,B,Fe),it===null?Ne=st:it.sibling=st,it=st,Ae=We}if(Fe===X.length)return o($,Ae),tt&&Gs($,Fe),Ne;if(Ae===null){for(;Fe<X.length;Fe++)Ae=ce($,X[Fe],le),Ae!==null&&(B=g(Ae,B,Fe),it===null?Ne=Ae:it.sibling=Ae,it=Ae);return tt&&Gs($,Fe),Ne}for(Ae=c(Ae);Fe<X.length;Fe++)We=te(Ae,$,Fe,X[Fe],le),We!==null&&(i&&We.alternate!==null&&Ae.delete(We.key===null?Fe:We.key),B=g(We,B,Fe),it===null?Ne=We:it.sibling=We,it=We);return i&&Ae.forEach(function(Qr){return r($,Qr)}),tt&&Gs($,Fe),Ne}function ke($,B,X,le){if(X==null)throw Error(s(151));for(var Ne=null,it=null,Ae=B,Fe=B=0,We=null,st=X.next();Ae!==null&&!st.done;Fe++,st=X.next()){Ae.index>Fe?(We=Ae,Ae=null):We=Ae.sibling;var Qr=Z($,Ae,st.value,le);if(Qr===null){Ae===null&&(Ae=We);break}i&&Ae&&Qr.alternate===null&&r($,Ae),B=g(Qr,B,Fe),it===null?Ne=Qr:it.sibling=Qr,it=Qr,Ae=We}if(st.done)return o($,Ae),tt&&Gs($,Fe),Ne;if(Ae===null){for(;!st.done;Fe++,st=X.next())st=ce($,st.value,le),st!==null&&(B=g(st,B,Fe),it===null?Ne=st:it.sibling=st,it=st);return tt&&Gs($,Fe),Ne}for(Ae=c(Ae);!st.done;Fe++,st=X.next())st=te(Ae,$,Fe,st.value,le),st!==null&&(i&&st.alternate!==null&&Ae.delete(st.key===null?Fe:st.key),B=g(st,B,Fe),it===null?Ne=st:it.sibling=st,it=st);return i&&Ae.forEach(function(sN){return r($,sN)}),tt&&Gs($,Fe),Ne}function _t($,B,X,le){if(typeof X=="object"&&X!==null&&X.type===O&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case R:e:{for(var Ne=X.key;B!==null;){if(B.key===Ne){if(Ne=X.type,Ne===O){if(B.tag===7){o($,B.sibling),le=d(B,X.props.children),le.return=$,$=le;break e}}else if(B.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===x&&Fa(Ne)===B.type){o($,B.sibling),le=d(B,X.props),bc(le,X),le.return=$,$=le;break e}o($,B);break}else r($,B);B=B.sibling}X.type===O?(le=La(X.props.children,$.mode,le,X.key),le.return=$,$=le):(le=wh(X.type,X.key,X.props,null,$.mode,le),bc(le,X),le.return=$,$=le)}return b($);case M:e:{for(Ne=X.key;B!==null;){if(B.key===Ne)if(B.tag===4&&B.stateNode.containerInfo===X.containerInfo&&B.stateNode.implementation===X.implementation){o($,B.sibling),le=d(B,X.children||[]),le.return=$,$=le;break e}else{o($,B);break}else r($,B);B=B.sibling}le=xm(X,$.mode,le),le.return=$,$=le}return b($);case x:return X=Fa(X),_t($,B,X,le)}if(pe(X))return Te($,B,X,le);if(z(X)){if(Ne=z(X),typeof Ne!="function")throw Error(s(150));return X=Ne.call(X),ke($,B,X,le)}if(typeof X.then=="function")return _t($,B,Rh(X),le);if(X.$$typeof===H)return _t($,B,xh($,X),le);Ih($,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,B!==null&&B.tag===6?(o($,B.sibling),le=d(B,X),le.return=$,$=le):(o($,B),le=Em(X,$.mode,le),le.return=$,$=le),b($)):o($,B)}return function($,B,X,le){try{_c=0;var Ne=_t($,B,X,le);return qo=null,Ne}catch(Ae){if(Ae===Ho||Ae===Ah)throw Ae;var it=ii(29,Ae,null,$.mode);return it.lanes=le,it.return=$,it}}}var qa=c_(!0),u_=c_(!1),kr=!1;function Om(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Mr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Vr(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(at&2)!==0){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,r=bh(i),$0(i,null,o),r}return _h(i,c,r,o),bh(i)}function wc(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,xa(i,o)}}function jm(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?d=g=r:g=g.next=r}else d=g=r;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Um=!1;function Tc(){if(Um){var i=Fo;if(i!==null)throw i}}function Ec(i,r,o,c){Um=!1;var d=i.updateQueue;kr=!1;var g=d.firstBaseUpdate,b=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var U=A,W=U.next;U.next=null,b===null?g=W:b.next=W,b=U;var se=i.alternate;se!==null&&(se=se.updateQueue,A=se.lastBaseUpdate,A!==b&&(A===null?se.firstBaseUpdate=W:A.next=W,se.lastBaseUpdate=U))}if(g!==null){var ce=d.baseState;b=0,se=W=U=null,A=g;do{var Z=A.lane&-536870913,te=Z!==A.lane;if(te?(Xe&Z)===Z:(c&Z)===Z){Z!==0&&Z===Bo&&(Um=!0),se!==null&&(se=se.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Te=i,ke=A;Z=r;var _t=o;switch(ke.tag){case 1:if(Te=ke.payload,typeof Te=="function"){ce=Te.call(_t,ce,Z);break e}ce=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ke.payload,Z=typeof Te=="function"?Te.call(_t,ce,Z):Te,Z==null)break e;ce=v({},ce,Z);break e;case 2:kr=!0}}Z=A.callback,Z!==null&&(i.flags|=64,te&&(i.flags|=8192),te=d.callbacks,te===null?d.callbacks=[Z]:te.push(Z))}else te={lane:Z,tag:A.tag,payload:A.payload,callback:A.callback,next:null},se===null?(W=se=te,U=ce):se=se.next=te,b|=Z;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;te=A,A=te.next,te.next=null,d.lastBaseUpdate=te,d.shared.pending=null}}while(!0);se===null&&(U=ce),d.baseState=U,d.firstBaseUpdate=W,d.lastBaseUpdate=se,g===null&&(d.shared.lanes=0),Ur|=b,i.lanes=b,i.memoizedState=ce}}function h_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function f_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)h_(o[i],r)}var Go=S(null),Nh=S(0);function d_(i,r){i=nr,J(Nh,i),J(Go,r),nr=i|r.baseLanes}function zm(){J(Nh,nr),J(Go,Go.current)}function Bm(){nr=Nh.current,K(Go),K(Nh)}var si=S(null),Ri=null;function Pr(i){var r=i.alternate;J(Kt,Kt.current&1),J(si,i),Ri===null&&(r===null||Go.current!==null||r.memoizedState!==null)&&(Ri=i)}function Fm(i){J(Kt,Kt.current),J(si,i),Ri===null&&(Ri=i)}function m_(i){i.tag===22?(J(Kt,Kt.current),J(si,i),Ri===null&&(Ri=i)):Or()}function Or(){J(Kt,Kt.current),J(si,si.current)}function ri(i){K(si),Ri===i&&(Ri=null),K(Kt)}var Kt=S(0);function Dh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Yp(o)||Qp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ys=0,Be=null,yt=null,Jt=null,kh=!1,Ko=!1,Ga=!1,Mh=0,xc=0,$o=null,Y2=0;function Ut(){throw Error(s(321))}function Hm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!ni(i[o],r[o]))return!1;return!0}function qm(i,r,o,c,d,g){return Ys=g,Be=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,q.H=i===null||i.memoizedState===null?W_:rp,Ga=!1,g=o(c,d),Ga=!1,Ko&&(g=g_(r,o,c,d)),p_(i),g}function p_(i){q.H=Cc;var r=yt!==null&&yt.next!==null;if(Ys=0,Jt=yt=Be=null,kh=!1,xc=0,$o=null,r)throw Error(s(300));i===null||en||(i=i.dependencies,i!==null&&Eh(i)&&(en=!0))}function g_(i,r,o,c){Be=i;var d=0;do{if(Ko&&($o=null),xc=0,Ko=!1,25<=d)throw Error(s(301));if(d+=1,Jt=yt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}q.H=Z_,g=r(o,c)}while(Ko);return g}function Q2(){var i=q.H,r=i.useState()[0];return r=typeof r.then=="function"?Sc(r):r,i=i.useState()[0],(yt!==null?yt.memoizedState:null)!==i&&(Be.flags|=1024),r}function Gm(){var i=Mh!==0;return Mh=0,i}function Km(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function $m(i){if(kh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}kh=!1}Ys=0,Jt=yt=Be=null,Ko=!1,xc=Mh=0,$o=null}function Ln(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Be.memoizedState=Jt=i:Jt=Jt.next=i,Jt}function $t(){if(yt===null){var i=Be.alternate;i=i!==null?i.memoizedState:null}else i=yt.next;var r=Jt===null?Be.memoizedState:Jt.next;if(r!==null)Jt=r,yt=i;else{if(i===null)throw Be.alternate===null?Error(s(467)):Error(s(310));yt=i,i={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Jt===null?Be.memoizedState=Jt=i:Jt=Jt.next=i}return Jt}function Vh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sc(i){var r=xc;return xc+=1,$o===null&&($o=[]),i=a_($o,i,r),r=Be,(Jt===null?r.memoizedState:Jt.next)===null&&(r=r.alternate,q.H=r===null||r.memoizedState===null?W_:rp),i}function Ph(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Sc(i);if(i.$$typeof===H)return xn(i)}throw Error(s(438,String(i)))}function Ym(i){var r=null,o=Be.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Be.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Vh(),Be.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=P;return r.index++,o}function Qs(i,r){return typeof r=="function"?r(i):r}function Oh(i){var r=$t();return Qm(r,yt,i)}function Qm(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var d=i.baseQueue,g=c.pending;if(g!==null){if(d!==null){var b=d.next;d.next=g.next,g.next=b}r.baseQueue=d=g,c.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{r=d.next;var A=b=null,U=null,W=r,se=!1;do{var ce=W.lane&-536870913;if(ce!==W.lane?(Xe&ce)===ce:(Ys&ce)===ce){var Z=W.revertLane;if(Z===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ce===Bo&&(se=!0);else if((Ys&Z)===Z){W=W.next,Z===Bo&&(se=!0);continue}else ce={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},U===null?(A=U=ce,b=g):U=U.next=ce,Be.lanes|=Z,Ur|=Z;ce=W.action,Ga&&o(g,ce),g=W.hasEagerState?W.eagerState:o(g,ce)}else Z={lane:ce,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},U===null?(A=U=Z,b=g):U=U.next=Z,Be.lanes|=ce,Ur|=ce;W=W.next}while(W!==null&&W!==r);if(U===null?b=g:U.next=A,!ni(g,i.memoizedState)&&(en=!0,se&&(o=Fo,o!==null)))throw o;i.memoizedState=g,i.baseState=b,i.baseQueue=U,c.lastRenderedState=g}return d===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Xm(i){var r=$t(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,d=o.pending,g=r.memoizedState;if(d!==null){o.pending=null;var b=d=d.next;do g=i(g,b.action),b=b.next;while(b!==d);ni(g,r.memoizedState)||(en=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function y_(i,r,o){var c=Be,d=$t(),g=tt;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var b=!ni((yt||d).memoizedState,o);if(b&&(d.memoizedState=o,en=!0),d=d.queue,Jm(b_.bind(null,c,d,i),[i]),d.getSnapshot!==r||b||Jt!==null&&Jt.memoizedState.tag&1){if(c.flags|=2048,Yo(9,{destroy:void 0},__.bind(null,c,d,o,r),null),Tt===null)throw Error(s(349));g||(Ys&127)!==0||v_(c,r,o)}return o}function v_(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Be.updateQueue,r===null?(r=Vh(),Be.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function __(i,r,o,c){r.value=o,r.getSnapshot=c,w_(r)&&T_(i)}function b_(i,r,o){return o(function(){w_(r)&&T_(i)})}function w_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!ni(i,o)}catch{return!0}}function T_(i){var r=Oa(i,2);r!==null&&$n(r,i,2)}function Wm(i){var r=Ln();if(typeof i=="function"){var o=i;if(i=o(),Ga){Pn(!0);try{o()}finally{Pn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:i},r}function E_(i,r,o,c){return i.baseState=o,Qm(i,yt,typeof c=="function"?c:Qs)}function X2(i,r,o,c,d){if(Uh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};q.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,x_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function x_(i,r){var o=r.action,c=r.payload,d=i.state;if(r.isTransition){var g=q.T,b={};q.T=b;try{var A=o(d,c),U=q.S;U!==null&&U(b,A),S_(i,r,A)}catch(W){Zm(i,r,W)}finally{g!==null&&b.types!==null&&(g.types=b.types),q.T=g}}else try{g=o(d,c),S_(i,r,g)}catch(W){Zm(i,r,W)}}function S_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){A_(i,r,c)},function(c){return Zm(i,r,c)}):A_(i,r,o)}function A_(i,r,o){r.status="fulfilled",r.value=o,C_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,x_(i,o)))}function Zm(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,C_(r),r=r.next;while(r!==c)}i.action=null}function C_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function R_(i,r){return r}function I_(i,r){if(tt){var o=Tt.formState;if(o!==null){e:{var c=Be;if(tt){if(Ct){t:{for(var d=Ct,g=Ci;d.nodeType!==8;){if(!g){d=null;break t}if(d=Ii(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){Ct=Ii(d.nextSibling),c=d.data==="F!";break e}}Nr(c)}c=!1}c&&(r=o[0])}}return o=Ln(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:R_,lastRenderedState:r},o.queue=c,o=Y_.bind(null,Be,c),c.dispatch=o,c=Wm(!1),g=sp.bind(null,Be,!1,c.queue),c=Ln(),d={state:r,dispatch:null,action:i,pending:null},c.queue=d,o=X2.bind(null,Be,d,g,o),d.dispatch=o,c.memoizedState=i,[r,o,!1]}function N_(i){var r=$t();return D_(r,yt,i)}function D_(i,r,o){if(r=Qm(i,r,R_)[0],i=Oh(Qs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Sc(r)}catch(b){throw b===Ho?Ah:b}else c=r;r=$t();var d=r.queue,g=d.dispatch;return o!==r.memoizedState&&(Be.flags|=2048,Yo(9,{destroy:void 0},W2.bind(null,d,o),null)),[c,g,i]}function W2(i,r){i.action=r}function k_(i){var r=$t(),o=yt;if(o!==null)return D_(r,o,i);$t(),r=r.memoizedState,o=$t();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function Yo(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=Be.updateQueue,r===null&&(r=Vh(),Be.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function M_(){return $t().memoizedState}function Lh(i,r,o,c){var d=Ln();Be.flags|=i,d.memoizedState=Yo(1|r,{destroy:void 0},o,c===void 0?null:c)}function jh(i,r,o,c){var d=$t();c=c===void 0?null:c;var g=d.memoizedState.inst;yt!==null&&c!==null&&Hm(c,yt.memoizedState.deps)?d.memoizedState=Yo(r,g,o,c):(Be.flags|=i,d.memoizedState=Yo(1|r,g,o,c))}function V_(i,r){Lh(8390656,8,i,r)}function Jm(i,r){jh(2048,8,i,r)}function Z2(i){Be.flags|=4;var r=Be.updateQueue;if(r===null)r=Vh(),Be.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function P_(i){var r=$t().memoizedState;return Z2({ref:r,nextImpl:i}),function(){if((at&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function O_(i,r){return jh(4,2,i,r)}function L_(i,r){return jh(4,4,i,r)}function j_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function U_(i,r,o){o=o!=null?o.concat([i]):null,jh(4,4,j_.bind(null,r,i),o)}function ep(){}function z_(i,r){var o=$t();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Hm(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function B_(i,r){var o=$t();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Hm(r,c[1]))return c[0];if(c=i(),Ga){Pn(!0);try{i()}finally{Pn(!1)}}return o.memoizedState=[c,r],c}function tp(i,r,o){return o===void 0||(Ys&1073741824)!==0&&(Xe&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=Fb(),Be.lanes|=i,Ur|=i,o)}function F_(i,r,o,c){return ni(o,r)?o:Go.current!==null?(i=tp(i,o,c),ni(i,r)||(en=!0),i):(Ys&42)===0||(Ys&1073741824)!==0&&(Xe&261930)===0?(en=!0,i.memoizedState=o):(i=Fb(),Be.lanes|=i,Ur|=i,r)}function H_(i,r,o,c,d){var g=ne.p;ne.p=g!==0&&8>g?g:8;var b=q.T,A={};q.T=A,sp(i,!1,r,o);try{var U=d(),W=q.S;if(W!==null&&W(A,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var se=$2(U,c);Ac(i,r,se,li(i))}else Ac(i,r,c,li(i))}catch(ce){Ac(i,r,{then:function(){},status:"rejected",reason:ce},li())}finally{ne.p=g,b!==null&&A.types!==null&&(b.types=A.types),q.T=b}}function J2(){}function np(i,r,o,c){if(i.tag!==5)throw Error(s(476));var d=q_(i).queue;H_(i,d,r,ie,o===null?J2:function(){return G_(i),o(c)})}function q_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:ie},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function G_(i){var r=q_(i);r.next===null&&(r=i.alternate.memoizedState),Ac(i,r.next.queue,{},li())}function ip(){return xn(Hc)}function K_(){return $t().memoizedState}function $_(){return $t().memoizedState}function eI(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=li();i=Mr(o);var c=Vr(r,i,o);c!==null&&($n(c,r,o),wc(c,r,o)),r={cache:km()},i.payload=r;return}r=r.return}}function tI(i,r,o){var c=li();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Uh(i)?Q_(r,o):(o=wm(i,r,o,c),o!==null&&($n(o,i,c),X_(o,r,c)))}function Y_(i,r,o){var c=li();Ac(i,r,o,c)}function Ac(i,r,o,c){var d={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Uh(i))Q_(r,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var b=r.lastRenderedState,A=g(b,o);if(d.hasEagerState=!0,d.eagerState=A,ni(A,b))return _h(i,r,d,0),Tt===null&&vh(),!1}catch{}if(o=wm(i,r,d,c),o!==null)return $n(o,i,c),X_(o,r,c),!0}return!1}function sp(i,r,o,c){if(c={lane:2,revertLane:Op(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Uh(i)){if(r)throw Error(s(479))}else r=wm(i,o,c,2),r!==null&&$n(r,i,2)}function Uh(i){var r=i.alternate;return i===Be||r!==null&&r===Be}function Q_(i,r){Ko=kh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function X_(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,xa(i,o)}}var Cc={readContext:xn,use:Ph,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut};Cc.useEffectEvent=Ut;var W_={readContext:xn,use:Ph,useCallback:function(i,r){return Ln().memoizedState=[i,r===void 0?null:r],i},useContext:xn,useEffect:V_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Lh(4194308,4,j_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Lh(4194308,4,i,r)},useInsertionEffect:function(i,r){Lh(4,2,i,r)},useMemo:function(i,r){var o=Ln();r=r===void 0?null:r;var c=i();if(Ga){Pn(!0);try{i()}finally{Pn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=Ln();if(o!==void 0){var d=o(r);if(Ga){Pn(!0);try{o(r)}finally{Pn(!1)}}}else d=r;return c.memoizedState=c.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},c.queue=i,i=i.dispatch=tI.bind(null,Be,i),[c.memoizedState,i]},useRef:function(i){var r=Ln();return i={current:i},r.memoizedState=i},useState:function(i){i=Wm(i);var r=i.queue,o=Y_.bind(null,Be,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:ep,useDeferredValue:function(i,r){var o=Ln();return tp(o,i,r)},useTransition:function(){var i=Wm(!1);return i=H_.bind(null,Be,i.queue,!0,!1),Ln().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=Be,d=Ln();if(tt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),Tt===null)throw Error(s(349));(Xe&127)!==0||v_(c,r,o)}d.memoizedState=o;var g={value:o,getSnapshot:r};return d.queue=g,V_(b_.bind(null,c,g,i),[i]),c.flags|=2048,Yo(9,{destroy:void 0},__.bind(null,c,g,o,r),null),o},useId:function(){var i=Ln(),r=Tt.identifierPrefix;if(tt){var o=Es,c=Ts;o=(c&~(1<<32-xt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Mh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=Y2++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:ip,useFormState:I_,useActionState:I_,useOptimistic:function(i){var r=Ln();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=sp.bind(null,Be,!0,o),o.dispatch=r,[i,r]},useMemoCache:Ym,useCacheRefresh:function(){return Ln().memoizedState=eI.bind(null,Be)},useEffectEvent:function(i){var r=Ln(),o={impl:i};return r.memoizedState=o,function(){if((at&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},rp={readContext:xn,use:Ph,useCallback:z_,useContext:xn,useEffect:Jm,useImperativeHandle:U_,useInsertionEffect:O_,useLayoutEffect:L_,useMemo:B_,useReducer:Oh,useRef:M_,useState:function(){return Oh(Qs)},useDebugValue:ep,useDeferredValue:function(i,r){var o=$t();return F_(o,yt.memoizedState,i,r)},useTransition:function(){var i=Oh(Qs)[0],r=$t().memoizedState;return[typeof i=="boolean"?i:Sc(i),r]},useSyncExternalStore:y_,useId:K_,useHostTransitionStatus:ip,useFormState:N_,useActionState:N_,useOptimistic:function(i,r){var o=$t();return E_(o,yt,i,r)},useMemoCache:Ym,useCacheRefresh:$_};rp.useEffectEvent=P_;var Z_={readContext:xn,use:Ph,useCallback:z_,useContext:xn,useEffect:Jm,useImperativeHandle:U_,useInsertionEffect:O_,useLayoutEffect:L_,useMemo:B_,useReducer:Xm,useRef:M_,useState:function(){return Xm(Qs)},useDebugValue:ep,useDeferredValue:function(i,r){var o=$t();return yt===null?tp(o,i,r):F_(o,yt.memoizedState,i,r)},useTransition:function(){var i=Xm(Qs)[0],r=$t().memoizedState;return[typeof i=="boolean"?i:Sc(i),r]},useSyncExternalStore:y_,useId:K_,useHostTransitionStatus:ip,useFormState:k_,useActionState:k_,useOptimistic:function(i,r){var o=$t();return yt!==null?E_(o,yt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Ym,useCacheRefresh:$_};Z_.useEffectEvent=P_;function ap(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var op={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=li(),d=Mr(c);d.payload=r,o!=null&&(d.callback=o),r=Vr(i,d,c),r!==null&&($n(r,i,c),wc(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=li(),d=Mr(c);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=Vr(i,d,c),r!==null&&($n(r,i,c),wc(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=li(),c=Mr(o);c.tag=2,r!=null&&(c.callback=r),r=Vr(i,c,o),r!==null&&($n(r,i,o),wc(r,i,o))}};function J_(i,r,o,c,d,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,b):r.prototype&&r.prototype.isPureReactComponent?!dc(o,c)||!dc(d,g):!0}function eb(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&op.enqueueReplaceState(r,r.state,null)}function Ka(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function tb(i){yh(i)}function nb(i){console.error(i)}function ib(i){yh(i)}function zh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function sb(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function lp(i,r,o){return o=Mr(o),o.tag=3,o.payload={element:null},o.callback=function(){zh(i,r)},o}function rb(i){return i=Mr(i),i.tag=3,i}function ab(i,r,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=c.value;i.payload=function(){return d(g)},i.callback=function(){sb(r,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){sb(r,o,c),typeof d!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function nI(i,r,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&zo(r,o,d,!0),o=si.current,o!==null){switch(o.tag){case 31:case 13:return Ri===null?Zh():o.alternate===null&&zt===0&&(zt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===Ch?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),Mp(i,c,d)),!1;case 22:return o.flags|=65536,c===Ch?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),Mp(i,c,d)),!1}throw Error(s(435,o.tag))}return Mp(i,c,d),Zh(),!1}if(tt)return r=si.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,c!==Cm&&(i=Error(s(422),{cause:c}),gc(xi(i,o)))):(c!==Cm&&(r=Error(s(423),{cause:c}),gc(xi(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,c=xi(c,o),d=lp(i.stateNode,c,d),jm(i,d),zt!==4&&(zt=2)),!1;var g=Error(s(520),{cause:c});if(g=xi(g,o),Pc===null?Pc=[g]:Pc.push(g),zt!==4&&(zt=2),r===null)return!0;c=xi(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=lp(o.stateNode,c,i),jm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(zr===null||!zr.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=rb(d),ab(d,i,o,c),jm(o,d),!1}o=o.return}while(o!==null);return!1}var cp=Error(s(461)),en=!1;function Sn(i,r,o,c){r.child=i===null?u_(r,null,o,c):qa(r,i.child,o,c)}function ob(i,r,o,c,d){o=o.render;var g=r.ref;if("ref"in c){var b={};for(var A in c)A!=="ref"&&(b[A]=c[A])}else b=c;return za(r),c=qm(i,r,o,b,g,d),A=Gm(),i!==null&&!en?(Km(i,r,d),Xs(i,r,d)):(tt&&A&&Sm(r),r.flags|=1,Sn(i,r,c,d),r.child)}function lb(i,r,o,c,d){if(i===null){var g=o.type;return typeof g=="function"&&!Tm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,cb(i,r,g,c,d)):(i=wh(o.type,null,c,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!yp(i,d)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:dc,o(b,c)&&i.ref===r.ref)return Xs(i,r,d)}return r.flags|=1,i=qs(g,c),i.ref=r.ref,i.return=r,r.child=i}function cb(i,r,o,c,d){if(i!==null){var g=i.memoizedProps;if(dc(g,c)&&i.ref===r.ref)if(en=!1,r.pendingProps=c=g,yp(i,d))(i.flags&131072)!==0&&(en=!0);else return r.lanes=i.lanes,Xs(i,r,d)}return up(i,r,o,c,d)}function ub(i,r,o,c){var d=c.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=r.child=i.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~g}else c=0,r.child=null;return hb(i,r,g,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Sh(r,g!==null?g.cachePool:null),g!==null?d_(r,g):zm(),m_(r);else return c=r.lanes=536870912,hb(i,r,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Sh(r,g.cachePool),d_(r,g),Or(),r.memoizedState=null):(i!==null&&Sh(r,null),zm(),Or());return Sn(i,r,d,o),r.child}function Rc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function hb(i,r,o,c,d){var g=Vm();return g=g===null?null:{parent:Zt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&Sh(r,null),zm(),m_(r),i!==null&&zo(i,r,c,!0),r.childLanes=d,null}function Bh(i,r){return r=Hh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function fb(i,r,o){return qa(r,i.child,null,o),i=Bh(r,r.pendingProps),i.flags|=2,ri(r),r.memoizedState=null,i}function iI(i,r,o){var c=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(tt){if(c.mode==="hidden")return i=Bh(r,c),r.lanes=536870912,Rc(null,i);if(Fm(r),(i=Ct)?(i=xw(i,Ci),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Rr!==null?{id:Ts,overflow:Es}:null,retryLane:536870912,hydrationErrors:null},o=Q0(i),o.return=r,r.child=o,En=r,Ct=null)):i=null,i===null)throw Nr(r);return r.lanes=536870912,null}return Bh(r,c)}var g=i.memoizedState;if(g!==null){var b=g.dehydrated;if(Fm(r),d)if(r.flags&256)r.flags&=-257,r=fb(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(en||zo(i,r,o,!1),d=(o&i.childLanes)!==0,en||d){if(c=Tt,c!==null&&(b=Q(c,o),b!==0&&b!==g.retryLane))throw g.retryLane=b,Oa(i,b),$n(c,i,b),cp;Zh(),r=fb(i,r,o)}else i=g.treeContext,Ct=Ii(b.nextSibling),En=r,tt=!0,Ir=null,Ci=!1,i!==null&&Z0(r,i),r=Bh(r,c),r.flags|=4096;return r}return i=qs(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Fh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function up(i,r,o,c,d){return za(r),o=qm(i,r,o,c,void 0,d),c=Gm(),i!==null&&!en?(Km(i,r,d),Xs(i,r,d)):(tt&&c&&Sm(r),r.flags|=1,Sn(i,r,o,d),r.child)}function db(i,r,o,c,d,g){return za(r),r.updateQueue=null,o=g_(r,c,o,d),p_(i),c=Gm(),i!==null&&!en?(Km(i,r,g),Xs(i,r,g)):(tt&&c&&Sm(r),r.flags|=1,Sn(i,r,o,g),r.child)}function mb(i,r,o,c,d){if(za(r),r.stateNode===null){var g=Oo,b=o.contextType;typeof b=="object"&&b!==null&&(g=xn(b)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=op,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},Om(r),b=o.contextType,g.context=typeof b=="object"&&b!==null?xn(b):Oo,g.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(ap(r,o,b,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&op.enqueueReplaceState(g,g.state,null),Ec(r,c,g,d),Tc(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){g=r.stateNode;var A=r.memoizedProps,U=Ka(o,A);g.props=U;var W=g.context,se=o.contextType;b=Oo,typeof se=="object"&&se!==null&&(b=xn(se));var ce=o.getDerivedStateFromProps;se=typeof ce=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,se||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||W!==b)&&eb(r,g,c,b),kr=!1;var Z=r.memoizedState;g.state=Z,Ec(r,c,g,d),Tc(),W=r.memoizedState,A||Z!==W||kr?(typeof ce=="function"&&(ap(r,o,ce,c),W=r.memoizedState),(U=kr||J_(r,o,U,c,Z,W,b))?(se||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=W),g.props=c,g.state=W,g.context=b,c=U):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,Lm(i,r),b=r.memoizedProps,se=Ka(o,b),g.props=se,ce=r.pendingProps,Z=g.context,W=o.contextType,U=Oo,typeof W=="object"&&W!==null&&(U=xn(W)),A=o.getDerivedStateFromProps,(W=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==ce||Z!==U)&&eb(r,g,c,U),kr=!1,Z=r.memoizedState,g.state=Z,Ec(r,c,g,d),Tc();var te=r.memoizedState;b!==ce||Z!==te||kr||i!==null&&i.dependencies!==null&&Eh(i.dependencies)?(typeof A=="function"&&(ap(r,o,A,c),te=r.memoizedState),(se=kr||J_(r,o,se,c,Z,te,U)||i!==null&&i.dependencies!==null&&Eh(i.dependencies))?(W||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,te,U),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,te,U)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&Z===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Z===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=te),g.props=c,g.state=te,g.context=U,c=se):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&Z===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Z===i.memoizedState||(r.flags|=1024),c=!1)}return g=c,Fh(i,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&c?(r.child=qa(r,i.child,null,d),r.child=qa(r,null,o,d)):Sn(i,r,o,d),r.memoizedState=g.state,i=r.child):i=Xs(i,r,d),i}function pb(i,r,o,c){return ja(),r.flags|=256,Sn(i,r,o,c),r.child}var hp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fp(i){return{baseLanes:i,cachePool:s_()}}function dp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=oi),i}function gb(i,r,o){var c=r.pendingProps,d=!1,g=(r.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(Kt.current&2)!==0),b&&(d=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,i===null){if(tt){if(d?Pr(r):Or(),(i=Ct)?(i=xw(i,Ci),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Rr!==null?{id:Ts,overflow:Es}:null,retryLane:536870912,hydrationErrors:null},o=Q0(i),o.return=r,r.child=o,En=r,Ct=null)):i=null,i===null)throw Nr(r);return Qp(i)?r.lanes=32:r.lanes=536870912,null}var A=c.children;return c=c.fallback,d?(Or(),d=r.mode,A=Hh({mode:"hidden",children:A},d),c=La(c,d,o,null),A.return=r,c.return=r,A.sibling=c,r.child=A,c=r.child,c.memoizedState=fp(o),c.childLanes=dp(i,b,o),r.memoizedState=hp,Rc(null,c)):(Pr(r),mp(r,A))}var U=i.memoizedState;if(U!==null&&(A=U.dehydrated,A!==null)){if(g)r.flags&256?(Pr(r),r.flags&=-257,r=pp(i,r,o)):r.memoizedState!==null?(Or(),r.child=i.child,r.flags|=128,r=null):(Or(),A=c.fallback,d=r.mode,c=Hh({mode:"visible",children:c.children},d),A=La(A,d,o,null),A.flags|=2,c.return=r,A.return=r,c.sibling=A,r.child=c,qa(r,i.child,null,o),c=r.child,c.memoizedState=fp(o),c.childLanes=dp(i,b,o),r.memoizedState=hp,r=Rc(null,c));else if(Pr(r),Qp(A)){if(b=A.nextSibling&&A.nextSibling.dataset,b)var W=b.dgst;b=W,c=Error(s(419)),c.stack="",c.digest=b,gc({value:c,source:null,stack:null}),r=pp(i,r,o)}else if(en||zo(i,r,o,!1),b=(o&i.childLanes)!==0,en||b){if(b=Tt,b!==null&&(c=Q(b,o),c!==0&&c!==U.retryLane))throw U.retryLane=c,Oa(i,c),$n(b,i,c),cp;Yp(A)||Zh(),r=pp(i,r,o)}else Yp(A)?(r.flags|=192,r.child=i.child,r=null):(i=U.treeContext,Ct=Ii(A.nextSibling),En=r,tt=!0,Ir=null,Ci=!1,i!==null&&Z0(r,i),r=mp(r,c.children),r.flags|=4096);return r}return d?(Or(),A=c.fallback,d=r.mode,U=i.child,W=U.sibling,c=qs(U,{mode:"hidden",children:c.children}),c.subtreeFlags=U.subtreeFlags&65011712,W!==null?A=qs(W,A):(A=La(A,d,o,null),A.flags|=2),A.return=r,c.return=r,c.sibling=A,r.child=c,Rc(null,c),c=r.child,A=i.child.memoizedState,A===null?A=fp(o):(d=A.cachePool,d!==null?(U=Zt._currentValue,d=d.parent!==U?{parent:U,pool:U}:d):d=s_(),A={baseLanes:A.baseLanes|o,cachePool:d}),c.memoizedState=A,c.childLanes=dp(i,b,o),r.memoizedState=hp,Rc(i.child,c)):(Pr(r),o=i.child,i=o.sibling,o=qs(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(b=r.deletions,b===null?(r.deletions=[i],r.flags|=16):b.push(i)),r.child=o,r.memoizedState=null,o)}function mp(i,r){return r=Hh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Hh(i,r){return i=ii(22,i,null,r),i.lanes=0,i}function pp(i,r,o){return qa(r,i.child,null,o),i=mp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function yb(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),Nm(i.return,r,o)}function gp(i,r,o,c,d,g){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d,treeForkCount:g}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=o,b.tailMode=d,b.treeForkCount=g)}function vb(i,r,o){var c=r.pendingProps,d=c.revealOrder,g=c.tail;c=c.children;var b=Kt.current,A=(b&2)!==0;if(A?(b=b&1|2,r.flags|=128):b&=1,J(Kt,b),Sn(i,r,c,o),c=tt?pc:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&yb(i,o,r);else if(i.tag===19)yb(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&Dh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),gp(r,!1,d,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&Dh(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}gp(r,!0,o,null,g,c);break;case"together":gp(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Xs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Ur|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(zo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=qs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=qs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function yp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Eh(i)))}function sI(i,r,o){switch(r.tag){case 3:Se(r,r.stateNode.containerInfo),Dr(r,Zt,i.memoizedState.cache),ja();break;case 27:case 5:Oe(r);break;case 4:Se(r,r.stateNode.containerInfo);break;case 10:Dr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Fm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Pr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?gb(i,r,o):(Pr(r),i=Xs(i,r,o),i!==null?i.sibling:null);Pr(r);break;case 19:var d=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(zo(i,r,o,!1),c=(o&r.childLanes)!==0),d){if(c)return vb(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),J(Kt,Kt.current),c)break;return null;case 22:return r.lanes=0,ub(i,r,o,r.pendingProps);case 24:Dr(r,Zt,i.memoizedState.cache)}return Xs(i,r,o)}function _b(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)en=!0;else{if(!yp(i,o)&&(r.flags&128)===0)return en=!1,sI(i,r,o);en=(i.flags&131072)!==0}else en=!1,tt&&(r.flags&1048576)!==0&&W0(r,pc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=Fa(r.elementType),r.type=i,typeof i=="function")Tm(i)?(c=Ka(i,c),r.tag=1,r=mb(null,r,i,c,o)):(r.tag=0,r=up(null,r,i,c,o));else{if(i!=null){var d=i.$$typeof;if(d===oe){r.tag=11,r=ob(null,r,i,c,o);break e}else if(d===D){r.tag=14,r=lb(null,r,i,c,o);break e}}throw r=fe(i)||i,Error(s(306,r,""))}}return r;case 0:return up(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,d=Ka(c,r.pendingProps),mb(i,r,c,d,o);case 3:e:{if(Se(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var g=r.memoizedState;d=g.element,Lm(i,r),Ec(r,c,null,o);var b=r.memoizedState;if(c=b.cache,Dr(r,Zt,c),c!==g.cache&&Dm(r,[Zt],o,!0),Tc(),c=b.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=pb(i,r,c,o);break e}else if(c!==d){d=xi(Error(s(424)),r),gc(d),r=pb(i,r,c,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Ct=Ii(i.firstChild),En=r,tt=!0,Ir=null,Ci=!0,o=u_(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ja(),c===d){r=Xs(i,r,o);break e}Sn(i,r,c,o)}r=r.child}return r;case 26:return Fh(i,r),i===null?(o=Nw(r.type,null,r.pendingProps,null))?r.memoizedState=o:tt||(o=r.type,i=r.pendingProps,c=af(ye.current).createElement(o),c[wt]=r,c[qt]=i,An(c,o,i),Xt(c),r.stateNode=c):r.memoizedState=Nw(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Oe(r),i===null&&tt&&(c=r.stateNode=Cw(r.type,r.pendingProps,ye.current),En=r,Ci=!0,d=Ct,qr(r.type)?(Xp=d,Ct=Ii(c.firstChild)):Ct=d),Sn(i,r,r.pendingProps.children,o),Fh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&tt&&((d=c=Ct)&&(c=VI(c,r.type,r.pendingProps,Ci),c!==null?(r.stateNode=c,En=r,Ct=Ii(c.firstChild),Ci=!1,d=!0):d=!1),d||Nr(r)),Oe(r),d=r.type,g=r.pendingProps,b=i!==null?i.memoizedProps:null,c=g.children,Gp(d,g)?c=null:b!==null&&Gp(d,b)&&(r.flags|=32),r.memoizedState!==null&&(d=qm(i,r,Q2,null,null,o),Hc._currentValue=d),Fh(i,r),Sn(i,r,c,o),r.child;case 6:return i===null&&tt&&((i=o=Ct)&&(o=PI(o,r.pendingProps,Ci),o!==null?(r.stateNode=o,En=r,Ct=null,i=!0):i=!1),i||Nr(r)),null;case 13:return gb(i,r,o);case 4:return Se(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=qa(r,null,c,o):Sn(i,r,c,o),r.child;case 11:return ob(i,r,r.type,r.pendingProps,o);case 7:return Sn(i,r,r.pendingProps,o),r.child;case 8:return Sn(i,r,r.pendingProps.children,o),r.child;case 12:return Sn(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Dr(r,r.type,c.value),Sn(i,r,c.children,o),r.child;case 9:return d=r.type._context,c=r.pendingProps.children,za(r),d=xn(d),c=c(d),r.flags|=1,Sn(i,r,c,o),r.child;case 14:return lb(i,r,r.type,r.pendingProps,o);case 15:return cb(i,r,r.type,r.pendingProps,o);case 19:return vb(i,r,o);case 31:return iI(i,r,o);case 22:return ub(i,r,o,r.pendingProps);case 24:return za(r),c=xn(Zt),i===null?(d=Vm(),d===null&&(d=Tt,g=km(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),r.memoizedState={parent:c,cache:d},Om(r),Dr(r,Zt,d)):((i.lanes&o)!==0&&(Lm(i,r),Ec(r,null,null,o),Tc()),d=i.memoizedState,g=r.memoizedState,d.parent!==c?(d={parent:c,cache:c},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Dr(r,Zt,c)):(c=g.cache,Dr(r,Zt,c),c!==d.cache&&Dm(r,[Zt],o,!0))),Sn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ws(i){i.flags|=4}function vp(i,r,o,c,d){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(Kb())i.flags|=8192;else throw Ha=Ch,Pm}else i.flags&=-16777217}function bb(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Pw(r))if(Kb())i.flags|=8192;else throw Ha=Ch,Pm}function qh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?bo():536870912,i.lanes|=r,Zo|=r)}function Ic(i,r){if(!tt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Rt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function rI(i,r,o){var c=r.pendingProps;switch(Am(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(r),null;case 1:return Rt(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),$s(Zt),Ce(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Uo(r)?Ws(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Rm())),Rt(r),null;case 26:var d=r.type,g=r.memoizedState;return i===null?(Ws(r),g!==null?(Rt(r),bb(r,g)):(Rt(r),vp(r,d,null,c,o))):g?g!==i.memoizedState?(Ws(r),Rt(r),bb(r,g)):(Rt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&Ws(r),Rt(r),vp(r,d,i,c,o)),null;case 27:if(Ge(r),o=ye.current,d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Ws(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return Rt(r),null}i=ae.current,Uo(r)?J0(r):(i=Cw(d,c,o),r.stateNode=i,Ws(r))}return Rt(r),null;case 5:if(Ge(r),d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Ws(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return Rt(r),null}if(g=ae.current,Uo(r))J0(r);else{var b=af(ye.current);switch(g){case 1:g=b.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=b.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=b.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?b.createElement(d,{is:c.is}):b.createElement(d)}}g[wt]=r,g[qt]=c;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)g.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=g;e:switch(An(g,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ws(r)}}return Rt(r),vp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&Ws(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=ye.current,Uo(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,d=En,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}i[wt]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||gw(i.nodeValue,o)),i||Nr(r,!0)}else i=af(i).createTextNode(c),i[wt]=r,r.stateNode=i}return Rt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=Uo(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[wt]=r}else ja(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Rt(r),i=!1}else o=Rm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(ri(r),r):(ri(r),null);if((r.flags&128)!==0)throw Error(s(558))}return Rt(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=Uo(r),c!==null&&c.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[wt]=r}else ja(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Rt(r),d=!1}else d=Rm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(ri(r),r):(ri(r),null)}return ri(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),qh(r,r.updateQueue),Rt(r),null);case 4:return Ce(),i===null&&zp(r.stateNode.containerInfo),Rt(r),null;case 10:return $s(r.type),Rt(r),null;case 19:if(K(Kt),c=r.memoizedState,c===null)return Rt(r),null;if(d=(r.flags&128)!==0,g=c.rendering,g===null)if(d)Ic(c,!1);else{if(zt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Dh(i),g!==null){for(r.flags|=128,Ic(c,!1),i=g.updateQueue,r.updateQueue=i,qh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Y0(o,i),o=o.sibling;return J(Kt,Kt.current&1|2),tt&&Gs(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&Ht()>Qh&&(r.flags|=128,d=!0,Ic(c,!1),r.lanes=4194304)}else{if(!d)if(i=Dh(g),i!==null){if(r.flags|=128,d=!0,i=i.updateQueue,r.updateQueue=i,qh(r,i),Ic(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!tt)return Rt(r),null}else 2*Ht()-c.renderingStartTime>Qh&&o!==536870912&&(r.flags|=128,d=!0,Ic(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(i=c.last,i!==null?i.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=Ht(),i.sibling=null,o=Kt.current,J(Kt,d?o&1|2:o&1),tt&&Gs(r,c.treeForkCount),i):(Rt(r),null);case 22:case 23:return ri(r),Bm(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(Rt(r),r.subtreeFlags&6&&(r.flags|=8192)):Rt(r),o=r.updateQueue,o!==null&&qh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&K(Ba),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),$s(Zt),Rt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function aI(i,r){switch(Am(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return $s(Zt),Ce(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ge(r),null;case 31:if(r.memoizedState!==null){if(ri(r),r.alternate===null)throw Error(s(340));ja()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(ri(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ja()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return K(Kt),null;case 4:return Ce(),null;case 10:return $s(r.type),null;case 22:case 23:return ri(r),Bm(),i!==null&&K(Ba),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return $s(Zt),null;case 25:return null;default:return null}}function wb(i,r){switch(Am(r),r.tag){case 3:$s(Zt),Ce();break;case 26:case 27:case 5:Ge(r);break;case 4:Ce();break;case 31:r.memoizedState!==null&&ri(r);break;case 13:ri(r);break;case 19:K(Kt);break;case 10:$s(r.type);break;case 22:case 23:ri(r),Bm(),i!==null&&K(Ba);break;case 24:$s(Zt)}}function Nc(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&i)===i){c=void 0;var g=o.create,b=o.inst;c=g(),b.destroy=c}o=o.next}while(o!==d)}}catch(A){mt(r,r.return,A)}}function Lr(i,r,o){try{var c=r.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&i)===i){var b=c.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,d=r;var U=o,W=A;try{W()}catch(se){mt(d,U,se)}}}c=c.next}while(c!==g)}}catch(se){mt(r,r.return,se)}}function Tb(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{f_(r,o)}catch(c){mt(i,i.return,c)}}}function Eb(i,r,o){o.props=Ka(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){mt(i,r,c)}}function Dc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(d){mt(i,r,d)}}function xs(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){mt(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){mt(i,r,d)}else o.current=null}function xb(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){mt(i,i.return,d)}}function _p(i,r,o){try{var c=i.stateNode;RI(c,i.type,o,r),c[qt]=r}catch(d){mt(i,i.return,d)}}function Sb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&qr(i.type)||i.tag===4}function bp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Sb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&qr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function wp(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Hi));else if(c!==4&&(c===27&&qr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(wp(i,r,o),i=i.sibling;i!==null;)wp(i,r,o),i=i.sibling}function Gh(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&qr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Gh(i,r,o),i=i.sibling;i!==null;)Gh(i,r,o),i=i.sibling}function Ab(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);An(r,c,o),r[wt]=i,r[qt]=o}catch(g){mt(i,i.return,g)}}var Zs=!1,tn=!1,Tp=!1,Cb=typeof WeakSet=="function"?WeakSet:Set,gn=null;function oI(i,r){if(i=i.containerInfo,Hp=df,i=U0(i),pm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,A=-1,U=-1,W=0,se=0,ce=i,Z=null;t:for(;;){for(var te;ce!==o||d!==0&&ce.nodeType!==3||(A=b+d),ce!==g||c!==0&&ce.nodeType!==3||(U=b+c),ce.nodeType===3&&(b+=ce.nodeValue.length),(te=ce.firstChild)!==null;)Z=ce,ce=te;for(;;){if(ce===i)break t;if(Z===o&&++W===d&&(A=b),Z===g&&++se===c&&(U=b),(te=ce.nextSibling)!==null)break;ce=Z,Z=ce.parentNode}ce=te}o=A===-1||U===-1?null:{start:A,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(qp={focusedElem:i,selectionRange:o},df=!1,gn=r;gn!==null;)if(r=gn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,gn=i;else for(;gn!==null;){switch(r=gn,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,d=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Te=Ka(o.type,d);i=c.getSnapshotBeforeUpdate(Te,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(ke){mt(o,o.return,ke)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)$p(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":$p(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,gn=i;break}gn=r.return}}function Rb(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:er(i,o),c&4&&Nc(5,o);break;case 1:if(er(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(b){mt(o,o.return,b)}else{var d=Ka(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(b){mt(o,o.return,b)}}c&64&&Tb(o),c&512&&Dc(o,o.return);break;case 3:if(er(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{f_(i,r)}catch(b){mt(o,o.return,b)}}break;case 27:r===null&&c&4&&Ab(o);case 26:case 5:er(i,o),r===null&&c&4&&xb(o),c&512&&Dc(o,o.return);break;case 12:er(i,o);break;case 31:er(i,o),c&4&&Db(i,o);break;case 13:er(i,o),c&4&&kb(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=gI.bind(null,o),OI(i,o))));break;case 22:if(c=o.memoizedState!==null||Zs,!c){r=r!==null&&r.memoizedState!==null||tn,d=Zs;var g=tn;Zs=c,(tn=r)&&!g?tr(i,o,(o.subtreeFlags&8772)!==0):er(i,o),Zs=d,tn=g}break;case 30:break;default:er(i,o)}}function Ib(i){var r=i.alternate;r!==null&&(i.alternate=null,Ib(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&To(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var kt=null,Hn=!1;function Js(i,r,o){for(o=o.child;o!==null;)Nb(i,r,o),o=o.sibling}function Nb(i,r,o){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(ln,o)}catch{}switch(o.tag){case 26:tn||xs(o,r),Js(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:tn||xs(o,r);var c=kt,d=Hn;qr(o.type)&&(kt=o.stateNode,Hn=!1),Js(i,r,o),zc(o.stateNode),kt=c,Hn=d;break;case 5:tn||xs(o,r);case 6:if(c=kt,d=Hn,kt=null,Js(i,r,o),kt=c,Hn=d,kt!==null)if(Hn)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(o.stateNode)}catch(g){mt(o,r,g)}else try{kt.removeChild(o.stateNode)}catch(g){mt(o,r,g)}break;case 18:kt!==null&&(Hn?(i=kt,Tw(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),al(i)):Tw(kt,o.stateNode));break;case 4:c=kt,d=Hn,kt=o.stateNode.containerInfo,Hn=!0,Js(i,r,o),kt=c,Hn=d;break;case 0:case 11:case 14:case 15:Lr(2,o,r),tn||Lr(4,o,r),Js(i,r,o);break;case 1:tn||(xs(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Eb(o,r,c)),Js(i,r,o);break;case 21:Js(i,r,o);break;case 22:tn=(c=tn)||o.memoizedState!==null,Js(i,r,o),tn=c;break;default:Js(i,r,o)}}function Db(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{al(i)}catch(o){mt(r,r.return,o)}}}function kb(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{al(i)}catch(o){mt(r,r.return,o)}}function lI(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Cb),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Cb),r;default:throw Error(s(435,i.tag))}}function Kh(i,r){var o=lI(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var d=yI.bind(null,i,c);c.then(d,d)}})}function qn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],g=i,b=r,A=b;e:for(;A!==null;){switch(A.tag){case 27:if(qr(A.type)){kt=A.stateNode,Hn=!1;break e}break;case 5:kt=A.stateNode,Hn=!1;break e;case 3:case 4:kt=A.stateNode.containerInfo,Hn=!0;break e}A=A.return}if(kt===null)throw Error(s(160));Nb(g,b,d),kt=null,Hn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Mb(r,i),r=r.sibling}var Qi=null;function Mb(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:qn(r,i),Gn(i),c&4&&(Lr(3,i,i.return),Nc(3,i),Lr(5,i,i.return));break;case 1:qn(r,i),Gn(i),c&512&&(tn||o===null||xs(o,o.return)),c&64&&Zs&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=Qi;if(qn(r,i),Gn(i),c&512&&(tn||o===null||xs(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":g=d.getElementsByTagName("title")[0],(!g||g[us]||g[wt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(c),d.head.insertBefore(g,d.querySelector("head > title"))),An(g,c,o),g[wt]=i,Xt(g),c=g;break e;case"link":var b=Mw("link","href",d).get(c+(o.href||""));if(b){for(var A=0;A<b.length;A++)if(g=b[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(A,1);break t}}g=d.createElement(c),An(g,c,o),d.head.appendChild(g);break;case"meta":if(b=Mw("meta","content",d).get(c+(o.content||""))){for(A=0;A<b.length;A++)if(g=b[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(A,1);break t}}g=d.createElement(c),An(g,c,o),d.head.appendChild(g);break;default:throw Error(s(468,c))}g[wt]=i,Xt(g),c=g}i.stateNode=c}else Vw(d,i.type,i.stateNode);else i.stateNode=kw(d,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?Vw(d,i.type,i.stateNode):kw(d,c,i.memoizedProps)):c===null&&i.stateNode!==null&&_p(i,i.memoizedProps,o.memoizedProps)}break;case 27:qn(r,i),Gn(i),c&512&&(tn||o===null||xs(o,o.return)),o!==null&&c&4&&_p(i,i.memoizedProps,o.memoizedProps);break;case 5:if(qn(r,i),Gn(i),c&512&&(tn||o===null||xs(o,o.return)),i.flags&32){d=i.stateNode;try{Fn(d,"")}catch(Te){mt(i,i.return,Te)}}c&4&&i.stateNode!=null&&(d=i.memoizedProps,_p(i,d,o!==null?o.memoizedProps:d)),c&1024&&(Tp=!0);break;case 6:if(qn(r,i),Gn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(Te){mt(i,i.return,Te)}}break;case 3:if(cf=null,d=Qi,Qi=of(r.containerInfo),qn(r,i),Qi=d,Gn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{al(r.containerInfo)}catch(Te){mt(i,i.return,Te)}Tp&&(Tp=!1,Vb(i));break;case 4:c=Qi,Qi=of(i.stateNode.containerInfo),qn(r,i),Gn(i),Qi=c;break;case 12:qn(r,i),Gn(i);break;case 31:qn(r,i),Gn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Kh(i,c)));break;case 13:qn(r,i),Gn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Yh=Ht()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Kh(i,c)));break;case 22:d=i.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,W=Zs,se=tn;if(Zs=W||d,tn=se||U,qn(r,i),tn=se,Zs=W,Gn(i),c&8192)e:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||U||Zs||tn||$a(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){U=o=r;try{if(g=U.stateNode,d)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=U.stateNode;var ce=U.memoizedProps.style,Z=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;A.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Te){mt(U,U.return,Te)}}}else if(r.tag===6){if(o===null){U=r;try{U.stateNode.nodeValue=d?"":U.memoizedProps}catch(Te){mt(U,U.return,Te)}}}else if(r.tag===18){if(o===null){U=r;try{var te=U.stateNode;d?Ew(te,!0):Ew(U.stateNode,!1)}catch(Te){mt(U,U.return,Te)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Kh(i,o))));break;case 19:qn(r,i),Gn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Kh(i,c)));break;case 30:break;case 21:break;default:qn(r,i),Gn(i)}}function Gn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(Sb(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,g=bp(i);Gh(i,g,d);break;case 5:var b=o.stateNode;o.flags&32&&(Fn(b,""),o.flags&=-33);var A=bp(i);Gh(i,A,b);break;case 3:case 4:var U=o.stateNode.containerInfo,W=bp(i);wp(i,W,U);break;default:throw Error(s(161))}}catch(se){mt(i,i.return,se)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Vb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;Vb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function er(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Rb(i,r.alternate,r),r=r.sibling}function $a(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Lr(4,r,r.return),$a(r);break;case 1:xs(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Eb(r,r.return,o),$a(r);break;case 27:zc(r.stateNode);case 26:case 5:xs(r,r.return),$a(r);break;case 22:r.memoizedState===null&&$a(r);break;case 30:$a(r);break;default:$a(r)}i=i.sibling}}function tr(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,d=i,g=r,b=g.flags;switch(g.tag){case 0:case 11:case 15:tr(d,g,o),Nc(4,g);break;case 1:if(tr(d,g,o),c=g,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(W){mt(c,c.return,W)}if(c=g,d=c.updateQueue,d!==null){var A=c.stateNode;try{var U=d.shared.hiddenCallbacks;if(U!==null)for(d.shared.hiddenCallbacks=null,d=0;d<U.length;d++)h_(U[d],A)}catch(W){mt(c,c.return,W)}}o&&b&64&&Tb(g),Dc(g,g.return);break;case 27:Ab(g);case 26:case 5:tr(d,g,o),o&&c===null&&b&4&&xb(g),Dc(g,g.return);break;case 12:tr(d,g,o);break;case 31:tr(d,g,o),o&&b&4&&Db(d,g);break;case 13:tr(d,g,o),o&&b&4&&kb(d,g);break;case 22:g.memoizedState===null&&tr(d,g,o),Dc(g,g.return);break;case 30:break;default:tr(d,g,o)}r=r.sibling}}function Ep(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&yc(o))}function xp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&yc(i))}function Xi(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Pb(i,r,o,c),r=r.sibling}function Pb(i,r,o,c){var d=r.flags;switch(r.tag){case 0:case 11:case 15:Xi(i,r,o,c),d&2048&&Nc(9,r);break;case 1:Xi(i,r,o,c);break;case 3:Xi(i,r,o,c),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&yc(i)));break;case 12:if(d&2048){Xi(i,r,o,c),i=r.stateNode;try{var g=r.memoizedProps,b=g.id,A=g.onPostCommit;typeof A=="function"&&A(b,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(U){mt(r,r.return,U)}}else Xi(i,r,o,c);break;case 31:Xi(i,r,o,c);break;case 13:Xi(i,r,o,c);break;case 23:break;case 22:g=r.stateNode,b=r.alternate,r.memoizedState!==null?g._visibility&2?Xi(i,r,o,c):kc(i,r):g._visibility&2?Xi(i,r,o,c):(g._visibility|=2,Qo(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),d&2048&&Ep(b,r);break;case 24:Xi(i,r,o,c),d&2048&&xp(r.alternate,r);break;default:Xi(i,r,o,c)}}function Qo(i,r,o,c,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,b=r,A=o,U=c,W=b.flags;switch(b.tag){case 0:case 11:case 15:Qo(g,b,A,U,d),Nc(8,b);break;case 23:break;case 22:var se=b.stateNode;b.memoizedState!==null?se._visibility&2?Qo(g,b,A,U,d):kc(g,b):(se._visibility|=2,Qo(g,b,A,U,d)),d&&W&2048&&Ep(b.alternate,b);break;case 24:Qo(g,b,A,U,d),d&&W&2048&&xp(b.alternate,b);break;default:Qo(g,b,A,U,d)}r=r.sibling}}function kc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,d=c.flags;switch(c.tag){case 22:kc(o,c),d&2048&&Ep(c.alternate,c);break;case 24:kc(o,c),d&2048&&xp(c.alternate,c);break;default:kc(o,c)}r=r.sibling}}var Mc=8192;function Xo(i,r,o){if(i.subtreeFlags&Mc)for(i=i.child;i!==null;)Ob(i,r,o),i=i.sibling}function Ob(i,r,o){switch(i.tag){case 26:Xo(i,r,o),i.flags&Mc&&i.memoizedState!==null&&YI(o,Qi,i.memoizedState,i.memoizedProps);break;case 5:Xo(i,r,o);break;case 3:case 4:var c=Qi;Qi=of(i.stateNode.containerInfo),Xo(i,r,o),Qi=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=Mc,Mc=16777216,Xo(i,r,o),Mc=c):Xo(i,r,o));break;default:Xo(i,r,o)}}function Lb(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Vc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];gn=c,Ub(c,i)}Lb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)jb(i),i=i.sibling}function jb(i){switch(i.tag){case 0:case 11:case 15:Vc(i),i.flags&2048&&Lr(9,i,i.return);break;case 3:Vc(i);break;case 12:Vc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,$h(i)):Vc(i);break;default:Vc(i)}}function $h(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];gn=c,Ub(c,i)}Lb(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Lr(8,r,r.return),$h(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,$h(r));break;default:$h(r)}i=i.sibling}}function Ub(i,r){for(;gn!==null;){var o=gn;switch(o.tag){case 0:case 11:case 15:Lr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:yc(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,gn=c;else e:for(o=i;gn!==null;){c=gn;var d=c.sibling,g=c.return;if(Ib(c),c===o){gn=null;break e}if(d!==null){d.return=g,gn=d;break e}gn=g}}}var cI={getCacheForType:function(i){var r=xn(Zt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return xn(Zt).controller.signal}},uI=typeof WeakMap=="function"?WeakMap:Map,at=0,Tt=null,Ye=null,Xe=0,dt=0,ai=null,jr=!1,Wo=!1,Sp=!1,nr=0,zt=0,Ur=0,Ya=0,Ap=0,oi=0,Zo=0,Pc=null,Kn=null,Cp=!1,Yh=0,zb=0,Qh=1/0,Xh=null,zr=null,cn=0,Br=null,Jo=null,ir=0,Rp=0,Ip=null,Bb=null,Oc=0,Np=null;function li(){return(at&2)!==0&&Xe!==0?Xe&-Xe:q.T!==null?Op():jt()}function Fb(){if(oi===0)if((Xe&536870912)===0||tt){var i=zi;zi<<=1,(zi&3932160)===0&&(zi=262144),oi=i}else oi=536870912;return i=si.current,i!==null&&(i.flags|=32),oi}function $n(i,r,o){(i===Tt&&(dt===2||dt===9)||i.cancelPendingCommit!==null)&&(el(i,0),Fr(i,Xe,oi,!1)),ls(i,o),((at&2)===0||i!==Tt)&&(i===Tt&&((at&2)===0&&(Ya|=o),zt===4&&Fr(i,Xe,oi,!1)),Ss(i))}function Hb(i,r,o){if((at&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||Jn(i,r),d=c?dI(i,r):kp(i,r,!0),g=c;do{if(d===0){Wo&&!c&&Fr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!hI(o)){d=kp(i,r,!1),g=!1;continue}if(d===2){if(g=r,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var A=i;d=Pc;var U=A.current.memoizedState.isDehydrated;if(U&&(el(A,b).flags|=256),b=kp(A,b,!1),b!==2){if(Sp&&!U){A.errorRecoveryDisabledLanes|=g,Ya|=g,d=4;break e}g=Kn,Kn=d,g!==null&&(Kn===null?Kn=g:Kn.push.apply(Kn,g))}d=b}if(g=!1,d!==2)continue}}if(d===1){el(i,0),Fr(i,r,0,!0);break}e:{switch(c=i,g=d,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Fr(c,r,oi,!jr);break e;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=Yh+300-Ht(),10<d)){if(Fr(c,r,oi,!jr),vi(c,0,!0)!==0)break e;ir=r,c.timeoutHandle=bw(qb.bind(null,c,o,Kn,Xh,Cp,r,oi,Ya,Zo,jr,g,"Throttled",-0,0),d);break e}qb(c,o,Kn,Xh,Cp,r,oi,Ya,Zo,jr,g,null,-0,0)}}break}while(!0);Ss(i)}function qb(i,r,o,c,d,g,b,A,U,W,se,ce,Z,te){if(i.timeoutHandle=-1,ce=r.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hi},Ob(r,g,ce);var Te=(g&62914560)===g?Yh-Ht():(g&4194048)===g?zb-Ht():0;if(Te=QI(ce,Te),Te!==null){ir=g,i.cancelPendingCommit=Te(Zb.bind(null,i,r,g,o,c,d,b,A,U,se,ce,null,Z,te)),Fr(i,g,b,!W);return}}Zb(i,r,g,o,c,d,b,A,U)}function hI(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],g=d.getSnapshot;d=d.value;try{if(!ni(g(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fr(i,r,o,c){r&=~Ap,r&=~Ya,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var d=r;0<d;){var g=31-xt(d),b=1<<g;c[g]=-1,d&=~b}o!==0&&Fi(i,o,r)}function Wh(){return(at&6)===0?(Lc(0),!1):!0}function Dp(){if(Ye!==null){if(dt===0)var i=Ye.return;else i=Ye,Ks=Ua=null,$m(i),qo=null,_c=0,i=Ye;for(;i!==null;)wb(i.alternate,i),i=i.return;Ye=null}}function el(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,DI(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),ir=0,Dp(),Tt=i,Ye=o=qs(i.current,null),Xe=r,dt=0,ai=null,jr=!1,Wo=Jn(i,r),Sp=!1,Zo=oi=Ap=Ya=Ur=zt=0,Kn=Pc=null,Cp=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var d=31-xt(c),g=1<<d;r|=i[d],c&=~g}return nr=r,vh(),o}function Gb(i,r){Be=null,q.H=Cc,r===Ho||r===Ah?(r=o_(),dt=3):r===Pm?(r=o_(),dt=4):dt=r===cp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ai=r,Ye===null&&(zt=1,zh(i,xi(r,i.current)))}function Kb(){var i=si.current;return i===null?!0:(Xe&4194048)===Xe?Ri===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?i===Ri:!1}function $b(){var i=q.H;return q.H=Cc,i===null?Cc:i}function Yb(){var i=q.A;return q.A=cI,i}function Zh(){zt=4,jr||(Xe&4194048)!==Xe&&si.current!==null||(Wo=!0),(Ur&134217727)===0&&(Ya&134217727)===0||Tt===null||Fr(Tt,Xe,oi,!1)}function kp(i,r,o){var c=at;at|=2;var d=$b(),g=Yb();(Tt!==i||Xe!==r)&&(Xh=null,el(i,r)),r=!1;var b=zt;e:do try{if(dt!==0&&Ye!==null){var A=Ye,U=ai;switch(dt){case 8:Dp(),b=6;break e;case 3:case 2:case 9:case 6:si.current===null&&(r=!0);var W=dt;if(dt=0,ai=null,tl(i,A,U,W),o&&Wo){b=0;break e}break;default:W=dt,dt=0,ai=null,tl(i,A,U,W)}}fI(),b=zt;break}catch(se){Gb(i,se)}while(!0);return r&&i.shellSuspendCounter++,Ks=Ua=null,at=c,q.H=d,q.A=g,Ye===null&&(Tt=null,Xe=0,vh()),b}function fI(){for(;Ye!==null;)Qb(Ye)}function dI(i,r){var o=at;at|=2;var c=$b(),d=Yb();Tt!==i||Xe!==r?(Xh=null,Qh=Ht()+500,el(i,r)):Wo=Jn(i,r);e:do try{if(dt!==0&&Ye!==null){r=Ye;var g=ai;t:switch(dt){case 1:dt=0,ai=null,tl(i,r,g,1);break;case 2:case 9:if(r_(g)){dt=0,ai=null,Xb(r);break}r=function(){dt!==2&&dt!==9||Tt!==i||(dt=7),Ss(i)},g.then(r,r);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:r_(g)?(dt=0,ai=null,Xb(r)):(dt=0,ai=null,tl(i,r,g,7));break;case 5:var b=null;switch(Ye.tag){case 26:b=Ye.memoizedState;case 5:case 27:var A=Ye;if(b?Pw(b):A.stateNode.complete){dt=0,ai=null;var U=A.sibling;if(U!==null)Ye=U;else{var W=A.return;W!==null?(Ye=W,Jh(W)):Ye=null}break t}}dt=0,ai=null,tl(i,r,g,5);break;case 6:dt=0,ai=null,tl(i,r,g,6);break;case 8:Dp(),zt=6;break e;default:throw Error(s(462))}}mI();break}catch(se){Gb(i,se)}while(!0);return Ks=Ua=null,q.H=c,q.A=d,at=o,Ye!==null?0:(Tt=null,Xe=0,vh(),zt)}function mI(){for(;Ye!==null&&!fi();)Qb(Ye)}function Qb(i){var r=_b(i.alternate,i,nr);i.memoizedProps=i.pendingProps,r===null?Jh(i):Ye=r}function Xb(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=db(o,r,r.pendingProps,r.type,void 0,Xe);break;case 11:r=db(o,r,r.pendingProps,r.type.render,r.ref,Xe);break;case 5:$m(r);default:wb(o,r),r=Ye=Y0(r,nr),r=_b(o,r,nr)}i.memoizedProps=i.pendingProps,r===null?Jh(i):Ye=r}function tl(i,r,o,c){Ks=Ua=null,$m(r),qo=null,_c=0;var d=r.return;try{if(nI(i,d,r,o,Xe)){zt=1,zh(i,xi(o,i.current)),Ye=null;return}}catch(g){if(d!==null)throw Ye=d,g;zt=1,zh(i,xi(o,i.current)),Ye=null;return}r.flags&32768?(tt||c===1?i=!0:Wo||(Xe&536870912)!==0?i=!1:(jr=i=!0,(c===2||c===9||c===3||c===6)&&(c=si.current,c!==null&&c.tag===13&&(c.flags|=16384))),Wb(r,i)):Jh(r)}function Jh(i){var r=i;do{if((r.flags&32768)!==0){Wb(r,jr);return}i=r.return;var o=rI(r.alternate,r,nr);if(o!==null){Ye=o;return}if(r=r.sibling,r!==null){Ye=r;return}Ye=r=i}while(r!==null);zt===0&&(zt=5)}function Wb(i,r){do{var o=aI(i.alternate,i);if(o!==null){o.flags&=32767,Ye=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ye=i;return}Ye=i=o}while(i!==null);zt=6,Ye=null}function Zb(i,r,o,c,d,g,b,A,U){i.cancelPendingCommit=null;do ef();while(cn!==0);if((at&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=bm,Ea(i,o,g,b,A,U),i===Tt&&(Ye=Tt=null,Xe=0),Jo=r,Br=i,ir=o,Rp=g,Ip=d,Bb=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,vI(lt,function(){return iw(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=q.T,q.T=null,d=ne.p,ne.p=2,b=at,at|=4;try{oI(i,r,o)}finally{at=b,ne.p=d,q.T=c}}cn=1,Jb(),ew(),tw()}}function Jb(){if(cn===1){cn=0;var i=Br,r=Jo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=q.T,q.T=null;var c=ne.p;ne.p=2;var d=at;at|=4;try{Mb(r,i);var g=qp,b=U0(i.containerInfo),A=g.focusedElem,U=g.selectionRange;if(b!==A&&A&&A.ownerDocument&&j0(A.ownerDocument.documentElement,A)){if(U!==null&&pm(A)){var W=U.start,se=U.end;if(se===void 0&&(se=W),"selectionStart"in A)A.selectionStart=W,A.selectionEnd=Math.min(se,A.value.length);else{var ce=A.ownerDocument||document,Z=ce&&ce.defaultView||window;if(Z.getSelection){var te=Z.getSelection(),Te=A.textContent.length,ke=Math.min(U.start,Te),_t=U.end===void 0?ke:Math.min(U.end,Te);!te.extend&&ke>_t&&(b=_t,_t=ke,ke=b);var $=L0(A,ke),B=L0(A,_t);if($&&B&&(te.rangeCount!==1||te.anchorNode!==$.node||te.anchorOffset!==$.offset||te.focusNode!==B.node||te.focusOffset!==B.offset)){var X=ce.createRange();X.setStart($.node,$.offset),te.removeAllRanges(),ke>_t?(te.addRange(X),te.extend(B.node,B.offset)):(X.setEnd(B.node,B.offset),te.addRange(X))}}}}for(ce=[],te=A;te=te.parentNode;)te.nodeType===1&&ce.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ce.length;A++){var le=ce[A];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}df=!!Hp,qp=Hp=null}finally{at=d,ne.p=c,q.T=o}}i.current=r,cn=2}}function ew(){if(cn===2){cn=0;var i=Br,r=Jo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=q.T,q.T=null;var c=ne.p;ne.p=2;var d=at;at|=4;try{Rb(i,r.alternate,r)}finally{at=d,ne.p=c,q.T=o}}cn=3}}function tw(){if(cn===4||cn===3){cn=0,di();var i=Br,r=Jo,o=ir,c=Bb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?cn=5:(cn=0,Jo=Br=null,nw(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(zr=null),ht(o),r=r.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(ln,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=q.T,d=ne.p,ne.p=2,q.T=null;try{for(var g=i.onRecoverableError,b=0;b<c.length;b++){var A=c[b];g(A.value,{componentStack:A.stack})}}finally{q.T=r,ne.p=d}}(ir&3)!==0&&ef(),Ss(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===Np?Oc++:(Oc=0,Np=i):Oc=0,Lc(0)}}function nw(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,yc(r)))}function ef(){return Jb(),ew(),tw(),iw()}function iw(){if(cn!==5)return!1;var i=Br,r=Rp;Rp=0;var o=ht(ir),c=q.T,d=ne.p;try{ne.p=32>o?32:o,q.T=null,o=Ip,Ip=null;var g=Br,b=ir;if(cn=0,Jo=Br=null,ir=0,(at&6)!==0)throw Error(s(331));var A=at;if(at|=4,jb(g.current),Pb(g,g.current,b,o),at=A,Lc(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(ln,g)}catch{}return!0}finally{ne.p=d,q.T=c,nw(i,r)}}function sw(i,r,o){r=xi(o,r),r=lp(i.stateNode,r,2),i=Vr(i,r,2),i!==null&&(ls(i,2),Ss(i))}function mt(i,r,o){if(i.tag===3)sw(i,i,o);else for(;r!==null;){if(r.tag===3){sw(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(zr===null||!zr.has(c))){i=xi(o,i),o=rb(2),c=Vr(r,o,2),c!==null&&(ab(o,c,r,i),ls(c,2),Ss(c));break}}r=r.return}}function Mp(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new uI;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(o)||(Sp=!0,d.add(o),i=pI.bind(null,i,r,o),r.then(i,i))}function pI(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,Tt===i&&(Xe&o)===o&&(zt===4||zt===3&&(Xe&62914560)===Xe&&300>Ht()-Yh?(at&2)===0&&el(i,0):Ap|=o,Zo===Xe&&(Zo=0)),Ss(i)}function rw(i,r){r===0&&(r=bo()),i=Oa(i,r),i!==null&&(ls(i,r),Ss(i))}function gI(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),rw(i,o)}function yI(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),rw(i,o)}function vI(i,r){return $e(i,r)}var tf=null,nl=null,Vp=!1,nf=!1,Pp=!1,Hr=0;function Ss(i){i!==nl&&i.next===null&&(nl===null?tf=nl=i:nl=nl.next=i),nf=!0,Vp||(Vp=!0,bI())}function Lc(i,r){if(!Pp&&nf){Pp=!0;do for(var o=!1,c=tf;c!==null;){if(i!==0){var d=c.pendingLanes;if(d===0)var g=0;else{var b=c.suspendedLanes,A=c.pingedLanes;g=(1<<31-xt(42|i)+1)-1,g&=d&~(b&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,cw(c,g))}else g=Xe,g=vi(c,c===Tt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Jn(c,g)||(o=!0,cw(c,g));c=c.next}while(o);Pp=!1}}function _I(){aw()}function aw(){nf=Vp=!1;var i=0;Hr!==0&&NI()&&(i=Hr);for(var r=Ht(),o=null,c=tf;c!==null;){var d=c.next,g=ow(c,r);g===0?(c.next=null,o===null?tf=d:o.next=d,d===null&&(nl=o)):(o=c,(i!==0||(g&3)!==0)&&(nf=!0)),c=d}cn!==0&&cn!==5||Lc(i),Hr!==0&&(Hr=0)}function ow(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-xt(g),A=1<<b,U=d[b];U===-1?((A&o)===0||(A&c)!==0)&&(d[b]=Ql(A,r)):U<=r&&(i.expiredLanes|=A),g&=~A}if(r=Tt,o=Xe,o=vi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(dt===2||dt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&wn(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Jn(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&wn(c),ht(o)){case 2:case 8:o=pi;break;case 32:o=lt;break;case 268435456:o=os;break;default:o=lt}return c=lw.bind(null,i),o=$e(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&wn(c),i.callbackPriority=2,i.callbackNode=null,2}function lw(i,r){if(cn!==0&&cn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(ef()&&i.callbackNode!==o)return null;var c=Xe;return c=vi(i,i===Tt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(Hb(i,c,r),ow(i,Ht()),i.callbackNode!=null&&i.callbackNode===o?lw.bind(null,i):null)}function cw(i,r){if(ef())return null;Hb(i,r,!0)}function bI(){kI(function(){(at&6)!==0?$e(as,_I):aw()})}function Op(){if(Hr===0){var i=Bo;i===0&&(i=Zn,Zn<<=1,(Zn&261888)===0&&(Zn=256)),Hr=i}return Hr}function uw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ao(""+i)}function hw(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function wI(i,r,o,c,d){if(r==="submit"&&o&&o.stateNode===d){var g=uw((d[qt]||null).action),b=c.submitter;b&&(r=(r=b[qt]||null)?uw(r.formAction):b.getAttribute("formAction"),r!==null&&(g=r,b=null));var A=new vs("action","action",null,c,d);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Hr!==0){var U=b?hw(d,b):new FormData(d);np(o,{pending:!0,data:U,method:d.method,action:g},null,U)}}else typeof g=="function"&&(A.preventDefault(),U=b?hw(d,b):new FormData(d),np(o,{pending:!0,data:U,method:d.method,action:g},g,U))},currentTarget:d}]})}}for(var Lp=0;Lp<_m.length;Lp++){var jp=_m[Lp],TI=jp.toLowerCase(),EI=jp[0].toUpperCase()+jp.slice(1);Yi(TI,"on"+EI)}Yi(F0,"onAnimationEnd"),Yi(H0,"onAnimationIteration"),Yi(q0,"onAnimationStart"),Yi("dblclick","onDoubleClick"),Yi("focusin","onFocus"),Yi("focusout","onBlur"),Yi(U2,"onTransitionRun"),Yi(z2,"onTransitionStart"),Yi(B2,"onTransitionCancel"),Yi(G0,"onTransitionEnd"),ms("onMouseEnter",["mouseout","mouseover"]),ms("onMouseLeave",["mouseout","mouseover"]),ms("onPointerEnter",["pointerout","pointerover"]),ms("onPointerLeave",["pointerout","pointerover"]),ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ds("onBeforeInput",["compositionend","keypress","textInput","paste"]),ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jc));function fw(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],d=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var b=c.length-1;0<=b;b--){var A=c[b],U=A.instance,W=A.currentTarget;if(A=A.listener,U!==g&&d.isPropagationStopped())break e;g=A,d.currentTarget=W;try{g(d)}catch(se){yh(se)}d.currentTarget=null,g=U}else for(b=0;b<c.length;b++){if(A=c[b],U=A.instance,W=A.currentTarget,A=A.listener,U!==g&&d.isPropagationStopped())break e;g=A,d.currentTarget=W;try{g(d)}catch(se){yh(se)}d.currentTarget=null,g=U}}}}function Qe(i,r){var o=r[wo];o===void 0&&(o=r[wo]=new Set);var c=i+"__bubble";o.has(c)||(dw(r,i,2,!1),o.add(c))}function Up(i,r,o){var c=0;r&&(c|=4),dw(o,i,c,r)}var sf="_reactListening"+Math.random().toString(36).slice(2);function zp(i){if(!i[sf]){i[sf]=!0,Xl.forEach(function(o){o!=="selectionchange"&&(xI.has(o)||Up(o,!1,i),Up(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[sf]||(r[sf]=!0,Up("selectionchange",!1,r))}}function dw(i,r,o,c){switch(Fw(r)){case 2:var d=ZI;break;case 8:d=JI;break;default:d=tg}o=d.bind(null,r,o,i),d=void 0,!Ra||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function Bp(i,r,o,c,d){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var A=c.stateNode.containerInfo;if(A===d)break;if(b===4)for(b=c.return;b!==null;){var U=b.tag;if((U===3||U===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;A!==null;){if(b=hs(A),b===null)return;if(U=b.tag,U===5||U===6||U===26||U===27){c=g=b;continue e}A=A.parentNode}}c=c.return}xr(function(){var W=g,se=bi(o),ce=[];e:{var Z=K0.get(i);if(Z!==void 0){var te=vs,Te=i;switch(i){case"keypress":if(Na(o)===0)break e;case"keydown":case"keyup":te=mh;break;case"focusin":Te="focus",te=ka;break;case"focusout":Te="blur",te=ka;break;case"beforeblur":case"afterblur":te=ka;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=rh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=_;break;case F0:case H0:case q0:te=oh;break;case G0:te=C;break;case"scroll":case"scrollend":te=lc;break;case"wheel":te=ee;break;case"copy":case"cut":case"paste":te=lh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Hs;break;case"toggle":case"beforetoggle":te=ze}var ke=(r&4)!==0,_t=!ke&&(i==="scroll"||i==="scrollend"),$=ke?Z!==null?Z+"Capture":null:Z;ke=[];for(var B=W,X;B!==null;){var le=B;if(X=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||X===null||$===null||(le=qi(B,$),le!=null&&ke.push(Uc(B,le,X))),_t)break;B=B.return}0<ke.length&&(Z=new te(Z,Te,null,o,se),ce.push({event:Z,listeners:ke}))}}if((r&7)===0){e:{if(Z=i==="mouseover"||i==="pointerover",te=i==="mouseout"||i==="pointerout",Z&&o!==rc&&(Te=o.relatedTarget||o.fromElement)&&(hs(Te)||Te[cs]))break e;if((te||Z)&&(Z=se.window===se?se:(Z=se.ownerDocument)?Z.defaultView||Z.parentWindow:window,te?(Te=o.relatedTarget||o.toElement,te=W,Te=Te?hs(Te):null,Te!==null&&(_t=l(Te),ke=Te.tag,Te!==_t||ke!==5&&ke!==27&&ke!==6)&&(Te=null)):(te=null,Te=W),te!==Te)){if(ke=cc,le="onMouseLeave",$="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(ke=Hs,le="onPointerLeave",$="onPointerEnter",B="pointer"),_t=te==null?Z:ei(te),X=Te==null?Z:ei(Te),Z=new ke(le,B+"leave",te,o,se),Z.target=_t,Z.relatedTarget=X,le=null,hs(se)===W&&(ke=new ke($,B+"enter",Te,o,se),ke.target=X,ke.relatedTarget=_t,le=ke),_t=le,te&&Te)t:{for(ke=SI,$=te,B=Te,X=0,le=$;le;le=ke(le))X++;le=0;for(var Ne=B;Ne;Ne=ke(Ne))le++;for(;0<X-le;)$=ke($),X--;for(;0<le-X;)B=ke(B),le--;for(;X--;){if($===B||B!==null&&$===B.alternate){ke=$;break t}$=ke($),B=ke(B)}ke=null}else ke=null;te!==null&&mw(ce,Z,te,ke,!1),Te!==null&&_t!==null&&mw(ce,_t,Te,ke,!0)}}e:{if(Z=W?ei(W):window,te=Z.nodeName&&Z.nodeName.toLowerCase(),te==="select"||te==="input"&&Z.type==="file")var it=D0;else if(I0(Z))if(k0)it=O2;else{it=V2;var Ae=M2}else te=Z.nodeName,!te||te.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?W&&So(W.elementType)&&(it=D0):it=P2;if(it&&(it=it(i,W))){N0(ce,it,o,se);break e}Ae&&Ae(i,Z,W),i==="focusout"&&W&&Z.type==="number"&&W.memoizedProps.value!=null&&nc(Z,"number",Z.value)}switch(Ae=W?ei(W):window,i){case"focusin":(I0(Ae)||Ae.contentEditable==="true")&&(Mo=Ae,gm=W,mc=null);break;case"focusout":mc=gm=Mo=null;break;case"mousedown":ym=!0;break;case"contextmenu":case"mouseup":case"dragend":ym=!1,z0(ce,o,se);break;case"selectionchange":if(j2)break;case"keydown":case"keyup":z0(ce,o,se)}var Fe;if(rt)e:{switch(i){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else ko?Ma(i,o)&&(We="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(We="onCompositionStart");We&&(ws&&o.locale!=="ko"&&(ko||We!=="onCompositionStart"?We==="onCompositionEnd"&&ko&&(Fe=oc()):(ys=se,ac="value"in ys?ys.value:ys.textContent,ko=!0)),Ae=rf(W,We),0<Ae.length&&(We=new bs(We,i,null,o,se),ce.push({event:We,listeners:Ae}),Fe?We.data=Fe:(Fe=Do(o),Fe!==null&&(We.data=Fe)))),(Fe=Ti?I2(i,o):N2(i,o))&&(We=rf(W,"onBeforeInput"),0<We.length&&(Ae=new bs("onBeforeInput","beforeinput",null,o,se),ce.push({event:Ae,listeners:We}),Ae.data=Fe)),wI(ce,i,W,o,se)}fw(ce,r)})}function Uc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function rf(i,r){for(var o=r+"Capture",c=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=qi(i,o),d!=null&&c.unshift(Uc(i,d,g)),d=qi(i,r),d!=null&&c.push(Uc(i,d,g))),i.tag===3)return c;i=i.return}return[]}function SI(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function mw(i,r,o,c,d){for(var g=r._reactName,b=[];o!==null&&o!==c;){var A=o,U=A.alternate,W=A.stateNode;if(A=A.tag,U!==null&&U===c)break;A!==5&&A!==26&&A!==27||W===null||(U=W,d?(W=qi(o,g),W!=null&&b.unshift(Uc(o,W,U))):d||(W=qi(o,g),W!=null&&b.push(Uc(o,W,U)))),o=o.return}b.length!==0&&i.push({event:r,listeners:b})}var AI=/\r\n?/g,CI=/\u0000|\uFFFD/g;function pw(i){return(typeof i=="string"?i:""+i).replace(AI,`
`).replace(CI,"")}function gw(i,r){return r=pw(r),pw(i)===r}function vt(i,r,o,c,d,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Fn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Fn(i,""+c);break;case"className":ti(i,"class",c);break;case"tabIndex":ti(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(i,o,c);break;case"style":sc(i,c,g);break;case"data":if(r!=="object"){ti(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ao(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&vt(i,r,"name",d.name,d,null),vt(i,r,"formEncType",d.formEncType,d,null),vt(i,r,"formMethod",d.formMethod,d,null),vt(i,r,"formTarget",d.formTarget,d,null)):(vt(i,r,"encType",d.encType,d,null),vt(i,r,"method",d.method,d,null),vt(i,r,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ao(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=Hi);break;case"onScroll":c!=null&&Qe("scroll",i);break;case"onScrollEnd":c!=null&&Qe("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Ao(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Qe("beforetoggle",i),Qe("toggle",i),Eo(i,"popover",c);break;case"xlinkActuate":Wt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Wt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Wt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Wt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Wt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Wt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Wt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Wt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Wt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Eo(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=sh.get(o)||o,Eo(i,o,c))}}function Fp(i,r,o,c,d,g){switch(o){case"style":sc(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?Fn(i,c):(typeof c=="number"||typeof c=="bigint")&&Fn(i,""+c);break;case"onScroll":c!=null&&Qe("scroll",i);break;case"onScrollEnd":c!=null&&Qe("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),g=i[qt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,d),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,d);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Eo(i,o,c)}}}function An(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",i),Qe("load",i);var c=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:vt(i,r,g,b,o,null)}}d&&vt(i,r,"srcSet",o.srcSet,o,null),c&&vt(i,r,"src",o.src,o,null);return;case"input":Qe("invalid",i);var A=g=b=d=null,U=null,W=null;for(c in o)if(o.hasOwnProperty(c)){var se=o[c];if(se!=null)switch(c){case"name":d=se;break;case"type":b=se;break;case"checked":U=se;break;case"defaultChecked":W=se;break;case"value":g=se;break;case"defaultValue":A=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(s(137,r));break;default:vt(i,r,c,se,o,null)}}th(i,g,A,U,W,b,d,!1);return;case"select":Qe("invalid",i),c=b=g=null;for(d in o)if(o.hasOwnProperty(d)&&(A=o[d],A!=null))switch(d){case"value":g=A;break;case"defaultValue":b=A;break;case"multiple":c=A;default:vt(i,r,d,A,o,null)}r=g,o=b,i.multiple=!!c,r!=null?br(i,!!c,r,!1):o!=null&&br(i,!!c,o,!0);return;case"textarea":Qe("invalid",i),g=d=c=null;for(b in o)if(o.hasOwnProperty(b)&&(A=o[b],A!=null))switch(b){case"value":c=A;break;case"defaultValue":d=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:vt(i,r,b,A,o,null)}wr(i,c,d,g);return;case"option":for(U in o)o.hasOwnProperty(U)&&(c=o[U],c!=null)&&(U==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":vt(i,r,U,c,o,null));return;case"dialog":Qe("beforetoggle",i),Qe("toggle",i),Qe("cancel",i),Qe("close",i);break;case"iframe":case"object":Qe("load",i);break;case"video":case"audio":for(c=0;c<jc.length;c++)Qe(jc[c],i);break;case"image":Qe("error",i),Qe("load",i);break;case"details":Qe("toggle",i);break;case"embed":case"source":case"link":Qe("error",i),Qe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(c=o[W],c!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:vt(i,r,W,c,o,null)}return;default:if(So(r)){for(se in o)o.hasOwnProperty(se)&&(c=o[se],c!==void 0&&Fp(i,r,se,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&vt(i,r,A,c,o,null))}function RI(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,b=null,A=null,U=null,W=null,se=null;for(te in o){var ce=o[te];if(o.hasOwnProperty(te)&&ce!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":U=ce;default:c.hasOwnProperty(te)||vt(i,r,te,null,c,ce)}}for(var Z in c){var te=c[Z];if(ce=o[Z],c.hasOwnProperty(Z)&&(te!=null||ce!=null))switch(Z){case"type":g=te;break;case"name":d=te;break;case"checked":W=te;break;case"defaultChecked":se=te;break;case"value":b=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,r));break;default:te!==ce&&vt(i,r,Z,te,c,ce)}}xo(i,b,A,U,W,se,g,d);return;case"select":te=b=A=Z=null;for(g in o)if(U=o[g],o.hasOwnProperty(g)&&U!=null)switch(g){case"value":break;case"multiple":te=U;default:c.hasOwnProperty(g)||vt(i,r,g,null,c,U)}for(d in c)if(g=c[d],U=o[d],c.hasOwnProperty(d)&&(g!=null||U!=null))switch(d){case"value":Z=g;break;case"defaultValue":A=g;break;case"multiple":b=g;default:g!==U&&vt(i,r,d,g,c,U)}r=A,o=b,c=te,Z!=null?br(i,!!o,Z,!1):!!c!=!!o&&(r!=null?br(i,!!o,r,!0):br(i,!!o,o?[]:"",!1));return;case"textarea":te=Z=null;for(A in o)if(d=o[A],o.hasOwnProperty(A)&&d!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:vt(i,r,A,null,c,d)}for(b in c)if(d=c[b],g=o[b],c.hasOwnProperty(b)&&(d!=null||g!=null))switch(b){case"value":Z=d;break;case"defaultValue":te=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==g&&vt(i,r,b,d,c,g)}nh(i,Z,te);return;case"option":for(var Te in o)Z=o[Te],o.hasOwnProperty(Te)&&Z!=null&&!c.hasOwnProperty(Te)&&(Te==="selected"?i.selected=!1:vt(i,r,Te,null,c,Z));for(U in c)Z=c[U],te=o[U],c.hasOwnProperty(U)&&Z!==te&&(Z!=null||te!=null)&&(U==="selected"?i.selected=Z&&typeof Z!="function"&&typeof Z!="symbol":vt(i,r,U,Z,c,te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in o)Z=o[ke],o.hasOwnProperty(ke)&&Z!=null&&!c.hasOwnProperty(ke)&&vt(i,r,ke,null,c,Z);for(W in c)if(Z=c[W],te=o[W],c.hasOwnProperty(W)&&Z!==te&&(Z!=null||te!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:vt(i,r,W,Z,c,te)}return;default:if(So(r)){for(var _t in o)Z=o[_t],o.hasOwnProperty(_t)&&Z!==void 0&&!c.hasOwnProperty(_t)&&Fp(i,r,_t,void 0,c,Z);for(se in c)Z=c[se],te=o[se],!c.hasOwnProperty(se)||Z===te||Z===void 0&&te===void 0||Fp(i,r,se,Z,c,te);return}}for(var $ in o)Z=o[$],o.hasOwnProperty($)&&Z!=null&&!c.hasOwnProperty($)&&vt(i,r,$,null,c,Z);for(ce in c)Z=c[ce],te=o[ce],!c.hasOwnProperty(ce)||Z===te||Z==null&&te==null||vt(i,r,ce,Z,c,te)}function yw(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function II(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var d=o[c],g=d.transferSize,b=d.initiatorType,A=d.duration;if(g&&A&&yw(b)){for(b=0,A=d.responseEnd,c+=1;c<o.length;c++){var U=o[c],W=U.startTime;if(W>A)break;var se=U.transferSize,ce=U.initiatorType;se&&yw(ce)&&(U=U.responseEnd,b+=se*(U<A?1:(A-W)/(U-W)))}if(--c,r+=8*(g+b)/(d.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Hp=null,qp=null;function af(i){return i.nodeType===9?i:i.ownerDocument}function vw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _w(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Gp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Kp=null;function NI(){var i=window.event;return i&&i.type==="popstate"?i===Kp?!1:(Kp=i,!0):(Kp=null,!1)}var bw=typeof setTimeout=="function"?setTimeout:void 0,DI=typeof clearTimeout=="function"?clearTimeout:void 0,ww=typeof Promise=="function"?Promise:void 0,kI=typeof queueMicrotask=="function"?queueMicrotask:typeof ww<"u"?function(i){return ww.resolve(null).then(i).catch(MI)}:bw;function MI(i){setTimeout(function(){throw i})}function qr(i){return i==="head"}function Tw(i,r){var o=r,c=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(d),al(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")zc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,zc(o);for(var g=o.firstChild;g;){var b=g.nextSibling,A=g.nodeName;g[us]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=b}}else o==="body"&&zc(i.ownerDocument.body);o=d}while(o);al(r)}function Ew(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function $p(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":$p(o),To(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function VI(i,r,o,c){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[us])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Ii(i.nextSibling),i===null)break}return null}function PI(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Ii(i.nextSibling),i===null))return null;return i}function xw(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Ii(i.nextSibling),i===null))return null;return i}function Yp(i){return i.data==="$?"||i.data==="$~"}function Qp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function OI(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Ii(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Xp=null;function Sw(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Ii(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function Aw(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function Cw(i,r,o){switch(r=af(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function zc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);To(i)}var Ni=new Map,Rw=new Set;function of(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var sr=ne.d;ne.d={f:LI,r:jI,D:UI,C:zI,L:BI,m:FI,X:qI,S:HI,M:GI};function LI(){var i=sr.f(),r=Wh();return i||r}function jI(i){var r=_i(i);r!==null&&r.tag===5&&r.type==="form"?G_(r):sr.r(i)}var il=typeof document>"u"?null:document;function Iw(i,r,o){var c=il;if(c&&typeof r=="string"&&r){var d=Bn(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Rw.has(d)||(Rw.add(d),i={rel:i,crossOrigin:o,href:r},c.querySelector(d)===null&&(r=c.createElement("link"),An(r,"link",i),Xt(r),c.head.appendChild(r)))}}function UI(i){sr.D(i),Iw("dns-prefetch",i,null)}function zI(i,r){sr.C(i,r),Iw("preconnect",i,r)}function BI(i,r,o){sr.L(i,r,o);var c=il;if(c&&i&&r){var d='link[rel="preload"][as="'+Bn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Bn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Bn(o.imageSizes)+'"]')):d+='[href="'+Bn(i)+'"]';var g=d;switch(r){case"style":g=sl(i);break;case"script":g=rl(i)}Ni.has(g)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Ni.set(g,i),c.querySelector(d)!==null||r==="style"&&c.querySelector(Bc(g))||r==="script"&&c.querySelector(Fc(g))||(r=c.createElement("link"),An(r,"link",i),Xt(r),c.head.appendChild(r)))}}function FI(i,r){sr.m(i,r);var o=il;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+Bn(c)+'"][href="'+Bn(i)+'"]',g=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=rl(i)}if(!Ni.has(g)&&(i=v({rel:"modulepreload",href:i},r),Ni.set(g,i),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Fc(g)))return}c=o.createElement("link"),An(c,"link",i),Xt(c),o.head.appendChild(c)}}}function HI(i,r,o){sr.S(i,r,o);var c=il;if(c&&i){var d=fs(c).hoistableStyles,g=sl(i);r=r||"default";var b=d.get(g);if(!b){var A={loading:0,preload:null};if(b=c.querySelector(Bc(g)))A.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Ni.get(g))&&Wp(i,o);var U=b=c.createElement("link");Xt(U),An(U,"link",i),U._p=new Promise(function(W,se){U.onload=W,U.onerror=se}),U.addEventListener("load",function(){A.loading|=1}),U.addEventListener("error",function(){A.loading|=2}),A.loading|=4,lf(b,r,c)}b={type:"stylesheet",instance:b,count:1,state:A},d.set(g,b)}}}function qI(i,r){sr.X(i,r);var o=il;if(o&&i){var c=fs(o).hoistableScripts,d=rl(i),g=c.get(d);g||(g=o.querySelector(Fc(d)),g||(i=v({src:i,async:!0},r),(r=Ni.get(d))&&Zp(i,r),g=o.createElement("script"),Xt(g),An(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function GI(i,r){sr.M(i,r);var o=il;if(o&&i){var c=fs(o).hoistableScripts,d=rl(i),g=c.get(d);g||(g=o.querySelector(Fc(d)),g||(i=v({src:i,async:!0,type:"module"},r),(r=Ni.get(d))&&Zp(i,r),g=o.createElement("script"),Xt(g),An(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function Nw(i,r,o,c){var d=(d=ye.current)?of(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=sl(o.href),o=fs(d).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=sl(o.href);var g=fs(d).hoistableStyles,b=g.get(i);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=d.querySelector(Bc(i)))&&!g._p&&(b.instance=g,b.state.loading=5),Ni.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ni.set(i,o),g||KI(d,i,o,b.state))),r&&c===null)throw Error(s(528,""));return b}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=rl(o),o=fs(d).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function sl(i){return'href="'+Bn(i)+'"'}function Bc(i){return'link[rel="stylesheet"]['+i+"]"}function Dw(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function KI(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),An(r,"link",o),Xt(r),i.head.appendChild(r))}function rl(i){return'[src="'+Bn(i)+'"]'}function Fc(i){return"script[async]"+i}function kw(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+Bn(o.href)+'"]');if(c)return r.instance=c,Xt(c),c;var d=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Xt(c),An(c,"style",d),lf(c,o.precedence,i),r.instance=c;case"stylesheet":d=sl(o.href);var g=i.querySelector(Bc(d));if(g)return r.state.loading|=4,r.instance=g,Xt(g),g;c=Dw(o),(d=Ni.get(d))&&Wp(c,d),g=(i.ownerDocument||i).createElement("link"),Xt(g);var b=g;return b._p=new Promise(function(A,U){b.onload=A,b.onerror=U}),An(g,"link",c),r.state.loading|=4,lf(g,o.precedence,i),r.instance=g;case"script":return g=rl(o.src),(d=i.querySelector(Fc(g)))?(r.instance=d,Xt(d),d):(c=o,(d=Ni.get(g))&&(c=v({},o),Zp(c,d)),i=i.ownerDocument||i,d=i.createElement("script"),Xt(d),An(d,"link",c),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,lf(c,o.precedence,i));return r.instance}function lf(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,g=d,b=0;b<c.length;b++){var A=c[b];if(A.dataset.precedence===r)g=A;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Wp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Zp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var cf=null;function Mw(i,r,o){if(cf===null){var c=new Map,d=cf=new Map;d.set(o,c)}else d=cf,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[us]||g[wt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(r)||"";b=i+b;var A=c.get(b);A?A.push(g):c.set(b,[g])}}return c}function Vw(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function $I(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Pw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function YI(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=sl(c.href),g=r.querySelector(Bc(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=uf.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Xt(g);return}g=r.ownerDocument||r,c=Dw(c),(d=Ni.get(d))&&Wp(c,d),g=g.createElement("link"),Xt(g);var b=g;b._p=new Promise(function(A,U){b.onload=A,b.onerror=U}),An(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=uf.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Jp=0;function QI(i,r){return i.stylesheets&&i.count===0&&ff(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&ff(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&Jp===0&&(Jp=62500*II());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&ff(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Jp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function uf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ff(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var hf=null;function ff(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,hf=new Map,r.forEach(XI,i),hf=null,uf.call(i))}function XI(i,r){if(!(r.state.loading&4)){var o=hf.get(i);if(o)var c=o.get(null);else{o=new Map,hf.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var b=d[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}d=r.instance,b=d.getAttribute("data-precedence"),g=o.get(b)||c,g===c&&o.set(null,d),o.set(b,d),this.count++,c=uf.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var Hc={$$typeof:H,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function WI(i,r,o,c,d,g,b,A,U){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bi(0),this.hiddenUpdates=Bi(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function Ow(i,r,o,c,d,g,b,A,U,W,se,ce){return i=new WI(i,r,o,b,U,W,se,ce,A),r=1,g===!0&&(r|=24),g=ii(3,null,null,r),i.current=g,g.stateNode=i,r=km(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},Om(g),i}function Lw(i){return i?(i=Oo,i):Oo}function jw(i,r,o,c,d,g){d=Lw(d),c.context===null?c.context=d:c.pendingContext=d,c=Mr(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Vr(i,c,r),o!==null&&($n(o,i,r),wc(o,i,r))}function Uw(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function eg(i,r){Uw(i,r),(i=i.alternate)&&Uw(i,r)}function zw(i){if(i.tag===13||i.tag===31){var r=Oa(i,67108864);r!==null&&$n(r,i,67108864),eg(i,67108864)}}function Bw(i){if(i.tag===13||i.tag===31){var r=li();r=Re(r);var o=Oa(i,r);o!==null&&$n(o,i,r),eg(i,r)}}var df=!0;function ZI(i,r,o,c){var d=q.T;q.T=null;var g=ne.p;try{ne.p=2,tg(i,r,o,c)}finally{ne.p=g,q.T=d}}function JI(i,r,o,c){var d=q.T;q.T=null;var g=ne.p;try{ne.p=8,tg(i,r,o,c)}finally{ne.p=g,q.T=d}}function tg(i,r,o,c){if(df){var d=ng(c);if(d===null)Bp(i,r,c,mf,o),Hw(i,c);else if(tN(d,i,r,o,c))c.stopPropagation();else if(Hw(i,c),r&4&&-1<eN.indexOf(i)){for(;d!==null;){var g=_i(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=yi(g.pendingLanes);if(b!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var U=1<<31-xt(b);A.entanglements[1]|=U,b&=~U}Ss(g),(at&6)===0&&(Qh=Ht()+500,Lc(0))}}break;case 31:case 13:A=Oa(g,2),A!==null&&$n(A,g,2),Wh(),eg(g,2)}if(g=ng(c),g===null&&Bp(i,r,c,mf,o),g===d)break;d=g}d!==null&&c.stopPropagation()}else Bp(i,r,c,null,o)}}function ng(i){return i=bi(i),ig(i)}var mf=null;function ig(i){if(mf=null,i=hs(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return mf=i,null}function Fw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mi()){case as:return 2;case pi:return 8;case lt:case gi:return 32;case os:return 268435456;default:return 32}default:return 32}}var sg=!1,Gr=null,Kr=null,$r=null,qc=new Map,Gc=new Map,Yr=[],eN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hw(i,r){switch(i){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":qc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gc.delete(r.pointerId)}}function Kc(i,r,o,c,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},r!==null&&(r=_i(r),r!==null&&zw(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function tN(i,r,o,c,d){switch(r){case"focusin":return Gr=Kc(Gr,i,r,o,c,d),!0;case"dragenter":return Kr=Kc(Kr,i,r,o,c,d),!0;case"mouseover":return $r=Kc($r,i,r,o,c,d),!0;case"pointerover":var g=d.pointerId;return qc.set(g,Kc(qc.get(g)||null,i,r,o,c,d)),!0;case"gotpointercapture":return g=d.pointerId,Gc.set(g,Kc(Gc.get(g)||null,i,r,o,c,d)),!0}return!1}function qw(i){var r=hs(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,pt(i.priority,function(){Bw(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,pt(i.priority,function(){Bw(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function pf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=ng(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);rc=c,o.target.dispatchEvent(c),rc=null}else return r=_i(o),r!==null&&zw(r),i.blockedOn=o,!1;r.shift()}return!0}function Gw(i,r,o){pf(i)&&o.delete(r)}function nN(){sg=!1,Gr!==null&&pf(Gr)&&(Gr=null),Kr!==null&&pf(Kr)&&(Kr=null),$r!==null&&pf($r)&&($r=null),qc.forEach(Gw),Gc.forEach(Gw)}function gf(i,r){i.blockedOn===r&&(i.blockedOn=null,sg||(sg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,nN)))}var yf=null;function Kw(i){yf!==i&&(yf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){yf===i&&(yf=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],d=i[r+2];if(typeof c!="function"){if(ig(c||o)===null)continue;break}var g=_i(o);g!==null&&(i.splice(r,3),r-=3,np(g,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function al(i){function r(U){return gf(U,i)}Gr!==null&&gf(Gr,i),Kr!==null&&gf(Kr,i),$r!==null&&gf($r,i),qc.forEach(r),Gc.forEach(r);for(var o=0;o<Yr.length;o++){var c=Yr[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Yr.length&&(o=Yr[0],o.blockedOn===null);)qw(o),o.blockedOn===null&&Yr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],g=o[c+1],b=d[qt]||null;if(typeof g=="function")b||Kw(o);else if(b){var A=null;if(g&&g.hasAttribute("formAction")){if(d=g,b=g[qt]||null)A=b.formAction;else if(ig(d)!==null)continue}else A=b.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),Kw(o)}}}function $w(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(b){return d=b})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function rg(i){this._internalRoot=i}vf.prototype.render=rg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=li();jw(o,c,i,r,null,null)},vf.prototype.unmount=rg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;jw(i.current,2,null,i,null,null),Wh(),r[cs]=null}};function vf(i){this._internalRoot=i}vf.prototype.unstable_scheduleHydration=function(i){if(i){var r=jt();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Yr.length&&r!==0&&r<Yr[o].priority;o++);Yr.splice(o,0,i),o===0&&qw(i)}};var Yw=e.version;if(Yw!=="19.2.3")throw Error(s(527,Yw,"19.2.3"));ne.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var iN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_f.isDisabled&&_f.supportsFiber)try{ln=_f.inject(iN),Qt=_f}catch{}}return Yc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",d=tb,g=nb,b=ib;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=Ow(i,1,!1,null,null,o,c,null,d,g,b,$w),i[cs]=r.current,zp(i),new rg(r)},Yc.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,d="",g=tb,b=nb,A=ib,U=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(U=o.formState)),r=Ow(i,1,!0,r,o??null,c,d,U,g,b,A,$w),r.context=Lw(null),o=r.current,c=li(),c=Re(c),d=Mr(c),d.callback=null,Vr(o,d,c),o=c,r.current.lanes=o,ls(r,o),Ss(r),i[cs]=r.current,zp(i),new vf(r)},Yc.version="19.2.3",Yc}var sT;function mN(){if(sT)return lg.exports;sT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),lg.exports=dN(),lg.exports}var pN=mN();var rT="popstate";function gN(t={}){function e(s,a){let{pathname:l,search:u,hash:f}=s.location;return Qg("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:gu(a)}return vN(e,n,null,t)}function Mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ji(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yN(){return Math.random().toString(36).substring(2,10)}function aT(t,e){return{usr:t.state,key:t.key,idx:e}}function Qg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Pl(e):e,state:n,key:e&&e.key||s||yN()}}function gu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Pl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function vN(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,f="POP",m=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function v(){f="POP";let V=y(),j=V==null?null:V-p;p=V,m&&m({action:f,location:O.location,delta:j})}function E(V,j){f="PUSH";let F=Qg(O.location,V,j);p=y()+1;let H=aT(F,p),oe=O.createHref(F);try{u.pushState(H,"",oe)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;a.location.assign(oe)}l&&m&&m({action:f,location:O.location,delta:1})}function R(V,j){f="REPLACE";let F=Qg(O.location,V,j);p=y();let H=aT(F,p),oe=O.createHref(F);u.replaceState(H,"",oe),l&&m&&m({action:f,location:O.location,delta:0})}function M(V){return _N(V)}let O={get action(){return f},get location(){return t(a,u)},listen(V){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(rT,v),m=V,()=>{a.removeEventListener(rT,v),m=null}},createHref(V){return e(a,V)},createURL:M,encodeLocation(V){let j=M(V);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:E,replace:R,go(V){return u.go(V)}};return O}function _N(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:gu(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Ex(t,e,n="/"){return bN(t,e,n,!1)}function bN(t,e,n,s){let a=typeof e=="string"?Pl(e):e,l=dr(a.pathname||"/",n);if(l==null)return null;let u=xx(t);wN(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let p=kN(l);f=NN(u[m],p,s)}return f}function xx(t,e=[],n=[],s="",a=!1){let l=(u,f,m=a,p)=>{let y={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;Mt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let v=cr([s,y.relativePath]),E=n.concat(y);u.children&&u.children.length>0&&(Mt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),xx(u.children,e,E,v,m)),!(u.path==null&&!u.index)&&e.push({path:v,score:RN(v,u.index),routesMeta:E})};return t.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let m of Sx(u.path))l(u,f,!0,m)}),e}function Sx(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=Sx(s.join("/")),f=[];return f.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...u),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function wN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:IN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var TN=/^:[\w-]+$/,EN=3,xN=2,SN=1,AN=10,CN=-2,oT=t=>t==="*";function RN(t,e){let n=t.split("/"),s=n.length;return n.some(oT)&&(s+=CN),e&&(s+=xN),n.filter(a=>!oT(a)).reduce((a,l)=>a+(TN.test(l)?EN:l===""?SN:AN),s)}function IN(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function NN(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=Xf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),E=m.route;if(!v&&p&&n&&!s[s.length-1].route.index&&(v=Xf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:cr([l,v.pathname]),pathnameBase:ON(cr([l,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(l=cr([l,v.pathnameBase]))}return u}function Xf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=DN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:v},E)=>{if(y==="*"){let M=f[E]||"";u=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const R=f[E];return v&&!R?p[y]=void 0:p[y]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function DN(t,e=!1,n=!0){ji(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function kN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ji(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function dr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var Ax=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MN=t=>Ax.test(t);function VN(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Pl(t):t,l;if(n)if(MN(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),ji(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=lT(n.substring(1),"/"):l=lT(n,e)}else l=e;return{pathname:l,search:LN(s),hash:jN(a)}}function lT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function fg(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Yy(t){let e=PN(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Qy(t,e,n,s=!1){let a;typeof t=="string"?a=Pl(t):(a={...t},Mt(!a.pathname||!a.pathname.includes("?"),fg("?","pathname","search",a)),Mt(!a.pathname||!a.pathname.includes("#"),fg("#","pathname","hash",a)),Mt(!a.search||!a.search.includes("#"),fg("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=n;else{let v=e.length-1;if(!s&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),v-=1;a.pathname=E.join("/")}f=v>=0?e[v]:"/"}let m=VN(a,f),p=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var cr=t=>t.join("/").replace(/\/\/+/g,"/"),ON=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,UN=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function zN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function BN(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Cx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Rx(t,e){let n=t;if(typeof n!="string"||!Ax.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(Cx)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),f=dr(u.pathname,e);u.origin===l.origin&&f!=null?n=f+u.search+u.hash:a=!0}catch{ji(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ix=["POST","PUT","PATCH","DELETE"];new Set(Ix);var FN=["GET",...Ix];new Set(FN);var Ol=k.createContext(null);Ol.displayName="DataRouter";var Vd=k.createContext(null);Vd.displayName="DataRouterState";var HN=k.createContext(!1),Nx=k.createContext({isTransitioning:!1});Nx.displayName="ViewTransition";var qN=k.createContext(new Map);qN.displayName="Fetchers";var GN=k.createContext(null);GN.displayName="Await";var hi=k.createContext(null);hi.displayName="Navigation";var Iu=k.createContext(null);Iu.displayName="Location";var rs=k.createContext({outlet:null,matches:[],isDataRoute:!1});rs.displayName="Route";var Xy=k.createContext(null);Xy.displayName="RouteError";var Dx="REACT_ROUTER_ERROR",KN="REDIRECT",$N="ROUTE_ERROR_RESPONSE";function YN(t){if(t.startsWith(`${Dx}:${KN}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function QN(t){if(t.startsWith(`${Dx}:${$N}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new UN(e.status,e.statusText,e.data)}catch{}}function XN(t,{relative:e}={}){Mt(Ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=k.useContext(hi),{hash:a,pathname:l,search:u}=Nu(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:cr([n,l])),s.createHref({pathname:f,search:u,hash:a})}function Ll(){return k.useContext(Iu)!=null}function va(){return Mt(Ll(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Iu).location}var kx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Mx(t){k.useContext(hi).static||k.useLayoutEffect(t)}function Pd(){let{isDataRoute:t}=k.useContext(rs);return t?uD():WN()}function WN(){Mt(Ll(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(Ol),{basename:e,navigator:n}=k.useContext(hi),{matches:s}=k.useContext(rs),{pathname:a}=va(),l=JSON.stringify(Yy(s)),u=k.useRef(!1);return Mx(()=>{u.current=!0}),k.useCallback((m,p={})=>{if(ji(u.current,kx),!u.current)return;if(typeof m=="number"){n.go(m);return}let y=Qy(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:cr([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}k.createContext(null);function ZN(){let{matches:t}=k.useContext(rs),e=t[t.length-1];return e?e.params:{}}function Nu(t,{relative:e}={}){let{matches:n}=k.useContext(rs),{pathname:s}=va(),a=JSON.stringify(Yy(n));return k.useMemo(()=>Qy(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function JN(t,e){return Vx(t,e)}function Vx(t,e,n,s,a){Mt(Ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=k.useContext(hi),{matches:u}=k.useContext(rs),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",v=f&&f.route;{let F=v&&v.path||"";Ox(p,!v||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let E=va(),R;if(e){let F=typeof e=="string"?Pl(e):e;Mt(y==="/"||F.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${F.pathname}" was given in the \`location\` prop.`),R=F}else R=E;let M=R.pathname||"/",O=M;if(y!=="/"){let F=y.replace(/^\//,"").split("/");O="/"+M.replace(/^\//,"").split("/").slice(F.length).join("/")}let V=Ex(t,{pathname:O});ji(v||V!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),ji(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=sD(V&&V.map(F=>Object.assign({},F,{params:Object.assign({},m,F.params),pathname:cr([y,l.encodeLocation?l.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?y:cr([y,l.encodeLocation?l.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),u,n,s,a);return e&&j?k.createElement(Iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},j):j}function eD(){let t=cD(),e=zN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:l},"ErrorBoundary")," or"," ",k.createElement("code",{style:l},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:a},n):null,u)}var tD=k.createElement(eD,null),Px=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=QN(t.digest);n&&(t=n)}let e=t!==void 0?k.createElement(rs.Provider,{value:this.props.routeContext},k.createElement(Xy.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?k.createElement(nD,{error:t},e):e}};Px.contextType=HN;var dg=new WeakMap;function nD({children:t,error:e}){let{basename:n}=k.useContext(hi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=YN(e.digest);if(s){let a=dg.get(e);if(a)throw a;let l=Rx(s.location,n);if(Cx&&!dg.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw dg.set(e,u),u}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function iD({routeContext:t,match:e,children:n}){let s=k.useContext(Ol);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(rs.Provider,{value:t},n)}function sD(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let y=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);Mt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,m=-1;if(n)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=y),v.route.id){let{loaderData:E,errors:R}=n,M=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!R||R[v.route.id]===void 0);if(v.route.lazy||M){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&s?(y,v)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:BN(n.matches),errorInfo:v})}:void 0;return l.reduceRight((y,v,E)=>{let R,M=!1,O=null,V=null;n&&(R=u&&v.route.id?u[v.route.id]:void 0,O=v.route.errorElement||tD,f&&(m<0&&E===0?(Ox("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,V=null):m===E&&(M=!0,V=v.route.hydrateFallbackElement||null)));let j=e.concat(l.slice(0,E+1)),F=()=>{let H;return R?H=O:M?H=V:v.route.Component?H=k.createElement(v.route.Component,null):v.route.element?H=v.route.element:H=y,k.createElement(iD,{match:v,routeContext:{outlet:y,matches:j,isDataRoute:n!=null},children:H})};return n&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?k.createElement(Px,{location:n.location,revalidation:n.revalidation,component:O,error:R,children:F(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:p}):F()},null)}function Wy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rD(t){let e=k.useContext(Ol);return Mt(e,Wy(t)),e}function aD(t){let e=k.useContext(Vd);return Mt(e,Wy(t)),e}function oD(t){let e=k.useContext(rs);return Mt(e,Wy(t)),e}function Zy(t){let e=oD(t),n=e.matches[e.matches.length-1];return Mt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function lD(){return Zy("useRouteId")}function cD(){let t=k.useContext(Xy),e=aD("useRouteError"),n=Zy("useRouteError");return t!==void 0?t:e.errors?.[n]}function uD(){let{router:t}=rD("useNavigate"),e=Zy("useNavigate"),n=k.useRef(!1);return Mx(()=>{n.current=!0}),k.useCallback(async(a,l={})=>{ji(n.current,kx),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var cT={};function Ox(t,e,n){!e&&!cT[t]&&(cT[t]=!0,ji(!1,n))}k.memo(hD);function hD({routes:t,future:e,state:n,onError:s}){return Vx(t,void 0,n,s,e)}function uT({to:t,replace:e,state:n,relative:s}){Mt(Ll(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=k.useContext(hi);ji(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=k.useContext(rs),{pathname:u}=va(),f=Pd(),m=Qy(t,Yy(l),u,s==="path"),p=JSON.stringify(m);return k.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:s})},[f,p,s,e,n]),null}function ll(t){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fD({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){Mt(!Ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),m=k.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[f,a,l,u]);typeof n=="string"&&(n=Pl(n));let{pathname:p="/",search:y="",hash:v="",state:E=null,key:R="default"}=n,M=k.useMemo(()=>{let O=dr(p,f);return O==null?null:{location:{pathname:O,search:y,hash:v,state:E,key:R},navigationType:s}},[f,p,y,v,E,R,s]);return ji(M!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:k.createElement(hi.Provider,{value:m},k.createElement(Iu.Provider,{children:e,value:M}))}function dD({children:t,location:e}){return JN(Xg(t),e)}function Xg(t,e=[]){let n=[];return k.Children.forEach(t,(s,a)=>{if(!k.isValidElement(s))return;let l=[...e,a];if(s.type===k.Fragment){n.push.apply(n,Xg(s.props.children,l));return}Mt(s.type===ll,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Xg(s.props.children,l)),n.push(u)}),n}var Vf="get",Pf="application/x-www-form-urlencoded";function Od(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function mD(t){return Od(t)&&t.tagName.toLowerCase()==="button"}function pD(t){return Od(t)&&t.tagName.toLowerCase()==="form"}function gD(t){return Od(t)&&t.tagName.toLowerCase()==="input"}function yD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vD(t,e){return t.button===0&&(!e||e==="_self")&&!yD(t)}var bf=null;function _D(){if(bf===null)try{new FormData(document.createElement("form"),0),bf=!1}catch{bf=!0}return bf}var bD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mg(t){return t!=null&&!bD.has(t)?(ji(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pf}"`),null):t}function wD(t,e){let n,s,a,l,u;if(pD(t)){let f=t.getAttribute("action");s=f?dr(f,e):null,n=t.getAttribute("method")||Vf,a=mg(t.getAttribute("enctype"))||Pf,l=new FormData(t)}else if(mD(t)||gD(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(s=m?dr(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Vf,a=mg(t.getAttribute("formenctype"))||mg(f.getAttribute("enctype"))||Pf,l=new FormData(f,t),!_D()){let{name:p,type:y,value:v}=t;if(y==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,v)}}else{if(Od(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Vf,s=null,a=Pf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function TD(t,e,n,s){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:e&&dr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function ED(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function SD(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await ED(l,n);return u.links?u.links():[]}return[]}));return ID(s.flat(1).filter(xD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function hT(t,e,n,s,a,l){let u=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>u(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(u(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function AD(t,e,{includeHydrateFallback:n}={}){return CD(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function CD(t){return[...new Set(t)]}function RD(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function ID(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(RD(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function Lx(){let t=k.useContext(Ol);return Jy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ND(){let t=k.useContext(Vd);return Jy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ev=k.createContext(void 0);ev.displayName="FrameworkContext";function jx(){let t=k.useContext(ev);return Jy(t,"You must render this element inside a <HydratedRouter> element"),t}function DD(t,e){let n=k.useContext(ev),[s,a]=k.useState(!1),[l,u]=k.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,E=k.useRef(null);k.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let O=j=>{j.forEach(F=>{u(F.isIntersecting)})},V=new IntersectionObserver(O,{threshold:.5});return E.current&&V.observe(E.current),()=>{V.disconnect()}}},[t]),k.useEffect(()=>{if(s){let O=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(O)}}},[s]);let R=()=>{a(!0)},M=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,E,{}]:[l,E,{onFocus:Qc(f,R),onBlur:Qc(m,M),onMouseEnter:Qc(p,R),onMouseLeave:Qc(y,M),onTouchStart:Qc(v,R)}]:[!1,E,{}]}function Qc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function kD({page:t,...e}){let{router:n}=Lx(),s=k.useMemo(()=>Ex(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?k.createElement(VD,{page:t,matches:s,...e}):null}function MD(t){let{manifest:e,routeModules:n}=jx(),[s,a]=k.useState([]);return k.useEffect(()=>{let l=!1;return SD(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function VD({page:t,matches:e,...n}){let s=va(),{future:a,manifest:l,routeModules:u}=jx(),{basename:f}=Lx(),{loaderData:m,matches:p}=ND(),y=k.useMemo(()=>hT(t,e,p,l,s,"data"),[t,e,p,l,s]),v=k.useMemo(()=>hT(t,e,p,l,s,"assets"),[t,e,p,l,s]),E=k.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let O=new Set,V=!1;if(e.forEach(F=>{let H=l.routes[F.route.id];!H||!H.hasLoader||(!y.some(oe=>oe.route.id===F.route.id)&&F.route.id in m&&u[F.route.id]?.shouldRevalidate||H.hasClientLoader?V=!0:O.add(F.route.id))}),O.size===0)return[];let j=TD(t,f,a.unstable_trailingSlashAwareDataRequests,"data");return V&&O.size>0&&j.searchParams.set("_routes",e.filter(F=>O.has(F.route.id)).map(F=>F.route.id).join(",")),[j.pathname+j.search]},[f,a.unstable_trailingSlashAwareDataRequests,m,s,l,y,e,t,u]),R=k.useMemo(()=>AD(v,l),[v,l]),M=MD(v);return k.createElement(k.Fragment,null,E.map(O=>k.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),R.map(O=>k.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),M.map(({key:O,link:V})=>k.createElement("link",{key:O,nonce:n.nonce,...V})))}function PD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var OD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OD&&(window.__reactRouterVersion="7.12.0")}catch{}function LD({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=k.useRef();a.current==null&&(a.current=gN({window:s,v5Compat:!0}));let l=a.current,[u,f]=k.useState({action:l.action,location:l.location}),m=k.useCallback(p=>{n===!1?f(p):k.startTransition(()=>f(p))},[n]);return k.useLayoutEffect(()=>l.listen(m),[l,m]),k.createElement(fD,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var Ux=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zx=k.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:f,target:m,to:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:E,...R},M){let{basename:O,unstable_useTransitions:V}=k.useContext(hi),j=typeof p=="string"&&Ux.test(p),F=Rx(p,O);p=F.to;let H=XN(p,{relative:a}),[oe,re,de]=DD(s,R),D=BD(p,{replace:u,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:E,unstable_useTransitions:V});function x(P){e&&e(P),P.defaultPrevented||D(P)}let I=k.createElement("a",{...R,...de,href:F.absoluteURL||H,onClick:F.isExternal||l?e:x,ref:PD(M,re),target:m,"data-discover":!j&&n==="render"?"true":void 0});return oe&&!j?k.createElement(k.Fragment,null,I,k.createElement(kD,{page:H})):I});zx.displayName="Link";var jD=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:f,children:m,...p},y){let v=Nu(u,{relative:p.relative}),E=va(),R=k.useContext(Vd),{navigator:M,basename:O}=k.useContext(hi),V=R!=null&&KD(v)&&f===!0,j=M.encodeLocation?M.encodeLocation(v).pathname:v.pathname,F=E.pathname,H=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(F=F.toLowerCase(),H=H?H.toLowerCase():null,j=j.toLowerCase()),H&&O&&(H=dr(H,O)||H);const oe=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let re=F===j||!a&&F.startsWith(j)&&F.charAt(oe)==="/",de=H!=null&&(H===j||!a&&H.startsWith(j)&&H.charAt(j.length)==="/"),D={isActive:re,isPending:de,isTransitioning:V},x=re?e:void 0,I;typeof s=="function"?I=s(D):I=[s,re?"active":null,de?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(D):l;return k.createElement(zx,{...p,"aria-current":x,className:I,ref:y,style:P,to:u,viewTransition:f},typeof m=="function"?m(D):m)});jD.displayName="NavLink";var UD=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=Vf,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:E,...R},M)=>{let{unstable_useTransitions:O}=k.useContext(hi),V=qD(),j=GD(f,{relative:p}),F=u.toLowerCase()==="get"?"get":"post",H=typeof f=="string"&&Ux.test(f),oe=re=>{if(m&&m(re),re.defaultPrevented)return;re.preventDefault();let de=re.nativeEvent.submitter,D=de?.getAttribute("formmethod")||u,x=()=>V(de||re.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:E});O&&n!==!1?k.startTransition(()=>x()):x()};return k.createElement("form",{ref:M,method:F,action:j,onSubmit:s?m:oe,...R,"data-discover":!H&&t==="render"?"true":void 0})});UD.displayName="Form";function zD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bx(t){let e=k.useContext(Ol);return Mt(e,zD(t)),e}function BD(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f,unstable_useTransitions:m}={}){let p=Pd(),y=va(),v=Nu(t,{relative:l});return k.useCallback(E=>{if(vD(E,e)){E.preventDefault();let R=n!==void 0?n:gu(y)===gu(v),M=()=>p(t,{replace:R,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f});m?k.startTransition(()=>M()):M()}},[y,p,v,n,s,e,t,a,l,u,f,m])}var FD=0,HD=()=>`__${String(++FD)}__`;function qD(){let{router:t}=Bx("useSubmit"),{basename:e}=k.useContext(hi),n=lD(),s=t.fetch,a=t.navigate;return k.useCallback(async(l,u={})=>{let{action:f,method:m,encType:p,formData:y,body:v}=wD(l,e);if(u.navigate===!1){let E=u.fetcherKey||HD();await s(E,n,u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||m,formEncType:u.encType||p,flushSync:u.flushSync})}else await a(u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||m,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,a,e,n])}function GD(t,{relative:e}={}){let{basename:n}=k.useContext(hi),s=k.useContext(rs);Mt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Nu(t||".",{relative:e})},u=va();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(v=>v).forEach(v=>f.append("index",v));let y=f.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:cr([n,l.pathname])),gu(l)}function KD(t,{relative:e}={}){let n=k.useContext(Nx);Mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Bx("useViewTransitionState"),a=Nu(t,{relative:e});if(!n.isTransitioning)return!1;let l=dr(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=dr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Xf(a.pathname,u)!=null||Xf(a.pathname,l)!=null}const $D="modulepreload",YD=function(t){return"/"+t},fT={},Wg=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){let m=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");a=m(n.map(p=>{if(p=YD(p),p in fT)return;fT[p]=!0;const y=p.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const E=document.createElement("link");if(E.rel=y?"stylesheet":$D,y||(E.as="script"),E.crossOrigin="",E.href=p,f&&E.setAttribute("nonce",f),document.head.appendChild(E),y)return new Promise((R,M)=>{E.addEventListener("load",R),E.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return a.then(u=>{for(const f of u||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})},QD=()=>{};var dT={};const Fx=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},XD=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Hx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,f=u?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,y=l>>2,v=(l&3)<<4|f>>4;let E=(f&15)<<2|p>>6,R=p&63;m||(R=64,u||(E=64)),s.push(n[y],n[v],n[E],n[R])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Fx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||v==null)throw new WD;const E=l<<2|f>>4;if(s.push(E),p!==64){const R=f<<4&240|p>>2;if(s.push(R),v!==64){const M=p<<6&192|v;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class WD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZD=function(t){const e=Fx(t);return Hx.encodeByteArray(e,!0)},Wf=function(t){return ZD(t).replace(/\./g,"")},qx=function(t){try{return Hx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function JD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ek=()=>JD().__FIREBASE_DEFAULTS__,tk=()=>{if(typeof process>"u"||typeof dT>"u")return;const t=dT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qx(t[1]);return e&&JSON.parse(e)},Ld=()=>{try{return QD()||ek()||tk()||nk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Gx=t=>Ld()?.emulatorHosts?.[t],Kx=t=>{const e=Gx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},$x=()=>Ld()?.config,Yx=t=>Ld()?.[`_${t}`];class ik{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function mo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tv(t){return(await fetch(t,{credentials:"include"})).ok}function Qx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Wf(JSON.stringify(n)),Wf(JSON.stringify(u)),""].join(".")}const su={};function sk(){const t={prod:[],emulator:[]};for(const e of Object.keys(su))su[e]?t.emulator.push(e):t.prod.push(e);return t}function rk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let mT=!1;function nv(t,e){if(typeof window>"u"||typeof document>"u"||!mo(window.location.host)||su[t]===e||su[t]||mT)return;su[t]=e;function n(E){return`__firebase__banner__${E}`}const s="__firebase__banner",l=sk().prod.length>0;function u(){const E=document.getElementById(s);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,R){E.setAttribute("width","24"),E.setAttribute("id",R),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{mT=!0,u()},E}function y(E,R){E.setAttribute("id",R),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=rk(s),R=n("text"),M=document.getElementById(R)||document.createElement("span"),O=n("learnmore"),V=document.getElementById(O)||document.createElement("a"),j=n("preprendIcon"),F=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const H=E.element;f(H),y(V,O);const oe=p();m(F,j),H.append(F,M,V,oe),document.body.appendChild(H)}l?(M.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ak(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vn())}function ok(){const t=Ld()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ck(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hk(){const t=Vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fk(){return!ok()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dk(){try{return typeof indexedDB=="object"}catch{return!1}}function mk(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const pk="FirebaseError";class js extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=pk,Object.setPrototypeOf(this,js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Du.prototype.create)}}class Du{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?gk(l,s):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new js(a,f,s)}}function gk(t,e){return t.replace(yk,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const yk=/\{\$([^}]+)}/g;function vk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function oo(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(pT(l)&&pT(u)){if(!oo(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function pT(t){return t!==null&&typeof t=="object"}function ku(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function _k(t,e){const n=new bk(t,e);return n.subscribe.bind(n)}class bk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");wk(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=pg),a.error===void 0&&(a.error=pg),a.complete===void 0&&(a.complete=pg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pg(){}function mn(t){return t&&t._delegate?t._delegate:t}class ca{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Za="[DEFAULT]";class Tk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new ik;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xk(e))try{this.getOrInitializeService({instanceIdentifier:Za})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Za){return this.instances.has(e)}getOptions(e=Za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Ek(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Za){return this.component?this.component.multipleInstances?e:Za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ek(t){return t===Za?void 0:t}function xk(t){return t.instantiationMode==="EAGER"}class Sk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Tk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const Ak={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},Ck=Ze.INFO,Rk={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},Ik=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=Rk[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iv{constructor(e){this.name=e,this._logLevel=Ck,this._logHandler=Ik,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ak[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const Nk=(t,e)=>e.some(n=>t instanceof n);let gT,yT;function Dk(){return gT||(gT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kk(){return yT||(yT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xx=new WeakMap,Zg=new WeakMap,Wx=new WeakMap,gg=new WeakMap,sv=new WeakMap;function Mk(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(sa(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&Xx.set(n,t)}).catch(()=>{}),sv.set(e,t),e}function Vk(t){if(Zg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Zg.set(t,e)}let Jg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Wx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Pk(t){Jg=t(Jg)}function Ok(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(yg(this),e,...n);return Wx.set(s,e.sort?e.sort():[e]),sa(s)}:kk().includes(t)?function(...e){return t.apply(yg(this),e),sa(Xx.get(this))}:function(...e){return sa(t.apply(yg(this),e))}}function Lk(t){return typeof t=="function"?Ok(t):(t instanceof IDBTransaction&&Vk(t),Nk(t,Dk())?new Proxy(t,Jg):t)}function sa(t){if(t instanceof IDBRequest)return Mk(t);if(gg.has(t))return gg.get(t);const e=Lk(t);return e!==t&&(gg.set(t,e),sv.set(e,t)),e}const yg=t=>sv.get(t);function jk(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),f=sa(u);return s&&u.addEventListener("upgradeneeded",m=>{s(sa(u.result),m.oldVersion,m.newVersion,sa(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const Uk=["get","getKey","getAll","getAllKeys","count"],zk=["put","add","delete","clear"],vg=new Map;function vT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vg.get(e))return vg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=zk.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||Uk.includes(n)))return;const l=async function(u,...f){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return vg.set(e,l),l}Pk(t=>({...t,get:(e,n,s)=>vT(e,n)||t.get(e,n,s),has:(e,n)=>!!vT(e,n)||t.has(e,n)}));class Bk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Fk(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Fk(t){return t.getComponent()?.type==="VERSION"}const ey="@firebase/app",_T="0.14.7";const mr=new iv("@firebase/app"),Hk="@firebase/app-compat",qk="@firebase/analytics-compat",Gk="@firebase/analytics",Kk="@firebase/app-check-compat",$k="@firebase/app-check",Yk="@firebase/auth",Qk="@firebase/auth-compat",Xk="@firebase/database",Wk="@firebase/data-connect",Zk="@firebase/database-compat",Jk="@firebase/functions",eM="@firebase/functions-compat",tM="@firebase/installations",nM="@firebase/installations-compat",iM="@firebase/messaging",sM="@firebase/messaging-compat",rM="@firebase/performance",aM="@firebase/performance-compat",oM="@firebase/remote-config",lM="@firebase/remote-config-compat",cM="@firebase/storage",uM="@firebase/storage-compat",hM="@firebase/firestore",fM="@firebase/ai",dM="@firebase/firestore-compat",mM="firebase",pM="12.8.0";const ty="[DEFAULT]",gM={[ey]:"fire-core",[Hk]:"fire-core-compat",[Gk]:"fire-analytics",[qk]:"fire-analytics-compat",[$k]:"fire-app-check",[Kk]:"fire-app-check-compat",[Yk]:"fire-auth",[Qk]:"fire-auth-compat",[Xk]:"fire-rtdb",[Wk]:"fire-data-connect",[Zk]:"fire-rtdb-compat",[Jk]:"fire-fn",[eM]:"fire-fn-compat",[tM]:"fire-iid",[nM]:"fire-iid-compat",[iM]:"fire-fcm",[sM]:"fire-fcm-compat",[rM]:"fire-perf",[aM]:"fire-perf-compat",[oM]:"fire-rc",[lM]:"fire-rc-compat",[cM]:"fire-gcs",[uM]:"fire-gcs-compat",[hM]:"fire-fst",[dM]:"fire-fst-compat",[fM]:"fire-vertex","fire-js":"fire-js",[mM]:"fire-js-all"};const Zf=new Map,yM=new Map,ny=new Map;function bT(t,e){try{t.container.addComponent(e)}catch(n){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function lo(t){const e=t.name;if(ny.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;ny.set(e,t);for(const n of Zf.values())bT(n,t);for(const n of yM.values())bT(n,t);return!0}function jd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mi(t){return t==null?!1:t.settings!==void 0}const vM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ra=new Du("app","Firebase",vM);class _M{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ra.create("app-deleted",{appName:this._name})}}const po=pM;function Zx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:ty,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw ra.create("bad-app-name",{appName:String(a)});if(n||(n=$x()),!n)throw ra.create("no-options");const l=Zf.get(a);if(l){if(oo(n,l.options)&&oo(s,l.config))return l;throw ra.create("duplicate-app",{appName:a})}const u=new Sk(a);for(const m of ny.values())u.addComponent(m);const f=new _M(n,s,u);return Zf.set(a,f),f}function rv(t=ty){const e=Zf.get(t);if(!e&&t===ty&&$x())return Zx();if(!e)throw ra.create("no-app",{appName:t});return e}function Cs(t,e,n){let s=gM[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(u.join(" "));return}lo(new ca(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const bM="firebase-heartbeat-database",wM=1,yu="firebase-heartbeat-store";let _g=null;function Jx(){return _g||(_g=jk(bM,wM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ra.create("idb-open",{originalErrorMessage:t.message})})),_g}async function TM(t){try{const n=(await Jx()).transaction(yu),s=await n.objectStore(yu).get(eS(t));return await n.done,s}catch(e){if(e instanceof js)mr.warn(e.message);else{const n=ra.create("idb-get",{originalErrorMessage:e?.message});mr.warn(n.message)}}}async function wT(t,e){try{const s=(await Jx()).transaction(yu,"readwrite");await s.objectStore(yu).put(e,eS(t)),await s.done}catch(n){if(n instanceof js)mr.warn(n.message);else{const s=ra.create("idb-set",{originalErrorMessage:n?.message});mr.warn(s.message)}}}function eS(t){return`${t.name}!${t.options.appId}`}const EM=1024,xM=30;class SM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CM(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=TT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>xM){const a=RM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){mr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=TT(),{heartbeatsToSend:n,unsentEntries:s}=AM(this._heartbeatsCache.heartbeats),a=Wf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return mr.warn(e),""}}}function TT(){return new Date().toISOString().substring(0,10)}function AM(t,e=EM){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),ET(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),ET(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class CM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dk()?mk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return wT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return wT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ET(t){return Wf(JSON.stringify({version:2,heartbeats:t})).length}function RM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function IM(t){lo(new ca("platform-logger",e=>new Bk(e),"PRIVATE")),lo(new ca("heartbeat",e=>new SM(e),"PRIVATE")),Cs(ey,_T,t),Cs(ey,_T,"esm2020"),Cs("fire-js","")}IM("");var NM="firebase",DM="12.8.0";Cs(NM,DM,"app");function tS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kM=tS,nS=new Du("auth","Firebase",tS());const Jf=new iv("@firebase/auth");function MM(t,...e){Jf.logLevel<=Ze.WARN&&Jf.warn(`Auth (${po}): ${t}`,...e)}function Of(t,...e){Jf.logLevel<=Ze.ERROR&&Jf.error(`Auth (${po}): ${t}`,...e)}function Ms(t,...e){throw ov(t,...e)}function ns(t,...e){return ov(t,...e)}function av(t,e,n){const s={...kM(),[e]:n};return new Du("auth","Firebase",s).create(e,{appName:t.name})}function so(t){return av(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function VM(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ms(t,"argument-error"),av(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ov(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return nS.create(t,...e)}function Ve(t,e,...n){if(!t)throw ov(e,...n)}function or(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Of(e),new Error(e)}function pr(t,e){t||or(e)}function iy(){return typeof self<"u"&&self.location?.href||""}function PM(){return xT()==="http:"||xT()==="https:"}function xT(){return typeof self<"u"&&self.location?.protocol||null}function OM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PM()||ck()||"connection"in navigator)?navigator.onLine:!0}function LM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,pr(n>e,"Short delay should be less than long delay!"),this.isMobile=ak()||uk()}get(){return OM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function lv(t,e){pr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class iS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const UM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zM=new Mu(3e4,6e4);function cv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function jl(t,e,n,s,a={}){return sS(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const f=ku({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return lk()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&mo(t.emulatorConfig.host)&&(p.credentials="include"),iS.fetch()(await rS(t,t.config.apiHost,n,f),p)})}async function sS(t,e,n){t._canInitEmulator=!1;const s={...jM,...e};try{const a=new FM(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw wf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw wf(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw wf(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw wf(t,"user-disabled",u);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw av(t,y,p);Ms(t,y)}}catch(a){if(a instanceof js)throw a;Ms(t,"network-request-failed",{message:String(a)})}}async function BM(t,e,n,s,a={}){const l=await jl(t,e,n,s,a);return"mfaPendingCredential"in l&&Ms(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function rS(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?lv(t.config,a):`${t.config.apiScheme}://${a}`;return UM.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class FM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ns(this.auth,"network-request-failed")),zM.get())})}}function wf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=ns(t,e,s);return a.customData._tokenResponse=n,a}async function HM(t,e){return jl(t,"POST","/v1/accounts:delete",e)}async function ed(t,e){return jl(t,"POST","/v1/accounts:lookup",e)}function ru(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qM(t,e=!1){const n=mn(t),s=await n.getIdToken(e),a=uv(s);Ve(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:ru(bg(a.auth_time)),issuedAtTime:ru(bg(a.iat)),expirationTime:ru(bg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function bg(t){return Number(t)*1e3}function uv(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Of("JWT malformed, contained fewer than 3 sections"),null;try{const a=qx(n);return a?JSON.parse(a):(Of("Failed to decode base64 JWT payload"),null)}catch(a){return Of("Caught error parsing JWT payload as JSON",a?.toString()),null}}function ST(t){const e=uv(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function vu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof js&&GM(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function GM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class KM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class sy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ru(this.lastLoginAt),this.creationTime=ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function td(t){const e=t.auth,n=await t.getIdToken(),s=await vu(t,ed(e,{idToken:n}));Ve(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?aS(a.providerUserInfo):[],u=YM(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,p=f?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new sy(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function $M(t){const e=mn(t);await td(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YM(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function aS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function QM(t,e){const n=await sS(t,{},async()=>{const s=ku({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await rS(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return t.emulatorConfig&&mo(t.emulatorConfig.host)&&(m.credentials="include"),iS.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function XM(t,e){return jl(t,"POST","/v2/accounts:revokeToken",cv(t,e))}class bl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ST(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=ST(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await QM(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new bl;return s&&(Ve(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Ve(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ve(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bl,this.toJSON())}_performRefresh(){return or("not implemented")}}function Xr(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class es{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new KM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new sy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await vu(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qM(this,e)}reload(){return $M(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new es({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await td(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mi(this.auth.app))return Promise.reject(so(this.auth));const e=await this.getIdToken();return await vu(this,HM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:R,providerData:M,stsTokenManager:O}=n;Ve(v&&O,e,"internal-error");const V=bl.fromJSON(this.name,O);Ve(typeof v=="string",e,"internal-error"),Xr(s,e.name),Xr(a,e.name),Ve(typeof E=="boolean",e,"internal-error"),Ve(typeof R=="boolean",e,"internal-error"),Xr(l,e.name),Xr(u,e.name),Xr(f,e.name),Xr(m,e.name),Xr(p,e.name),Xr(y,e.name);const j=new es({uid:v,auth:e,email:a,emailVerified:E,displayName:s,isAnonymous:R,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:V,createdAt:p,lastLoginAt:y});return M&&Array.isArray(M)&&(j.providerData=M.map(F=>({...F}))),m&&(j._redirectEventId=m),j}static async _fromIdTokenResponse(e,n,s=!1){const a=new bl;a.updateFromServerResponse(n);const l=new es({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await td(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Ve(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?aS(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,f=new bl;f.updateFromIdToken(s);const m=new es({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new sy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const AT=new Map;function lr(t){pr(t instanceof Function,"Expected a class definition");let e=AT.get(t);return e?(pr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,AT.set(t,e),e)}class oS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}oS.type="NONE";const CT=oS;function Lf(t,e,n){return`firebase:${t}:${e}:${n}`}class wl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Lf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Lf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ed(this.auth,{idToken:e}).catch(()=>{});return n?es._fromGetAccountInfoResponse(this.auth,n,e):null}return es._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new wl(lr(CT),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||lr(CT);const u=Lf(s,e.config.apiKey,e.name);let f=null;for(const p of n)try{const y=await p._get(u);if(y){let v;if(typeof y=="string"){const E=await ed(e,{idToken:y}).catch(()=>{});if(!E)break;v=await es._fromGetAccountInfoResponse(e,E,y)}else v=es._fromJSON(e,y);p!==l&&(f=v),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new wl(l,e,s):(l=m[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new wl(l,e,s))}}function RT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dS(e))return"Blackberry";if(mS(e))return"Webos";if(cS(e))return"Safari";if((e.includes("chrome/")||uS(e))&&!e.includes("edge/"))return"Chrome";if(fS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function lS(t=Vn()){return/firefox\//i.test(t)}function cS(t=Vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uS(t=Vn()){return/crios\//i.test(t)}function hS(t=Vn()){return/iemobile/i.test(t)}function fS(t=Vn()){return/android/i.test(t)}function dS(t=Vn()){return/blackberry/i.test(t)}function mS(t=Vn()){return/webos/i.test(t)}function hv(t=Vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function WM(t=Vn()){return hv(t)&&!!window.navigator?.standalone}function ZM(){return hk()&&document.documentMode===10}function pS(t=Vn()){return hv(t)||fS(t)||mS(t)||dS(t)||/windows phone/i.test(t)||hS(t)}function gS(t,e=[]){let n;switch(t){case"Browser":n=RT(Vn());break;case"Worker":n=`${RT(Vn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${po}/${s}`}class JM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,f)=>{try{const m=e(l);u(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function eV(t,e={}){return jl(t,"GET","/v2/passwordPolicy",cv(t,e))}const tV=6;class nV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??tV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class iV{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IT(this),this.idTokenSubscription=new IT(this),this.beforeStateQueue=new JM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=lr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await wl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ed(this,{idToken:e}),s=await es._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Mi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await td(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mi(this.app))return Promise.reject(so(this));const n=e?mn(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mi(this.app)?Promise.reject(so(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mi(this.app)?Promise.reject(so(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eV(this),n=new nV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Du("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await XM(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&lr(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await wl.create(this,[lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&MM(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ud(t){return mn(t)}class IT{constructor(e){this.auth=e,this.observer=null,this.addObserver=_k(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let fv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sV(t){fv=t}function rV(t){return fv.loadJS(t)}function aV(){return fv.gapiScript}function oV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function lV(t,e){const n=jd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(oo(l,e??{}))return a;Ms(a,"already-initialized")}return n.initialize({options:e})}function cV(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(lr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function uV(t,e,n){const s=Ud(t);Ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=yS(e),{host:u,port:f}=hV(e),m=f===null?"":`:${f}`,p={url:`${l}//${u}${m}/`},y=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ve(oo(p,s.config.emulator)&&oo(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,mo(u)?(tv(`${l}//${u}${m}`),nv("Auth",!0)):fV()}function yS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hV(t){const e=yS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:NT(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:NT(u)}}}function NT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function fV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class vS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}}async function Tl(t,e){return BM(t,"POST","/v1/accounts:signInWithIdp",cv(t,e))}const dV="http://localhost";class co extends vS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new co(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ms("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new co(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Tl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Tl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Tl(e,n)}buildRequest(){const e={requestUri:dV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ku(n)}return e}}class dv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Vu extends dv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Jr extends Vu{constructor(){super("facebook.com")}static credential(e){return co._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jr.PROVIDER_ID="facebook.com";class ar extends Vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return co._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ar.credential(n,s)}catch{return null}}}ar.GOOGLE_SIGN_IN_METHOD="google.com";ar.PROVIDER_ID="google.com";class ea extends Vu{constructor(){super("github.com")}static credential(e){return co._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ea.credential(e.oauthAccessToken)}catch{return null}}}ea.GITHUB_SIGN_IN_METHOD="github.com";ea.PROVIDER_ID="github.com";class ta extends Vu{constructor(){super("twitter.com")}static credential(e,n){return co._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ta.credential(n,s)}catch{return null}}}ta.TWITTER_SIGN_IN_METHOD="twitter.com";ta.PROVIDER_ID="twitter.com";class Al{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await es._fromIdTokenResponse(e,s,a),u=DT(s);return new Al({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=DT(s);return new Al({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function DT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class nd extends js{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,nd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new nd(e,n,s,a)}}function _S(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?nd._fromErrorAndOperation(t,l,e,s):l})}async function mV(t,e,n=!1){const s=await vu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Al._forOperation(t,"link",s)}async function pV(t,e,n=!1){const{auth:s}=t;if(Mi(s.app))return Promise.reject(so(s));const a="reauthenticate";try{const l=await vu(t,_S(s,a,e,t),n);Ve(l.idToken,s,"internal-error");const u=uv(l.idToken);Ve(u,s,"internal-error");const{sub:f}=u;return Ve(t.uid===f,s,"user-mismatch"),Al._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ms(s,"user-mismatch"),l}}async function gV(t,e,n=!1){if(Mi(t.app))return Promise.reject(so(t));const s="signIn",a=await _S(t,s,e),l=await Al._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}function yV(t,e,n,s){return mn(t).onIdTokenChanged(e,n,s)}function vV(t,e,n){return mn(t).beforeAuthStateChanged(e,n)}function _V(t,e,n,s){return mn(t).onAuthStateChanged(e,n,s)}function bV(t){return mn(t).signOut()}const id="__sak";class bS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(id,"1"),this.storage.removeItem(id),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const wV=1e3,TV=10;class wS extends bS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,m)=>{this.notifyListeners(u,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);ZM()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,TV):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},wV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}wS.type="LOCAL";const EV=wS;class TS extends bS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}TS.type="SESSION";const ES=TS;function xV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class zd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new zd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(u).map(async p=>p(n.origin,l)),m=await xV(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zd.receivers=[];function mv(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class SV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,m)=>{const p=mv("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(v){const E=v;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Rs(){return window}function AV(t){Rs().location.href=t}function xS(){return typeof Rs().WorkerGlobalScope<"u"&&typeof Rs().importScripts=="function"}async function CV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RV(){return navigator?.serviceWorker?.controller||null}function IV(){return xS()?self:null}const SS="firebaseLocalStorageDb",NV=1,sd="firebaseLocalStorage",AS="fbase_key";class Pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bd(t,e){return t.transaction([sd],e?"readwrite":"readonly").objectStore(sd)}function DV(){const t=indexedDB.deleteDatabase(SS);return new Pu(t).toPromise()}function ry(){const t=indexedDB.open(SS,NV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(sd,{keyPath:AS})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(sd)?e(s):(s.close(),await DV(),e(await ry()))})})}async function kT(t,e,n){const s=Bd(t,!0).put({[AS]:e,value:n});return new Pu(s).toPromise()}async function kV(t,e){const n=Bd(t,!1).get(e),s=await new Pu(n).toPromise();return s===void 0?null:s.value}function MT(t,e){const n=Bd(t,!0).delete(e);return new Pu(n).toPromise()}const MV=800,VV=3;class CS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ry(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>VV)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zd._getInstance(IV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CV(),!this.activeServiceWorker)return;this.sender=new SV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ry();return await kT(e,id,"1"),await MT(e,id),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>kT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>kV(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>MT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Bd(a,!1).getAll();return new Pu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CS.type="LOCAL";const PV=CS;new Mu(3e4,6e4);function RS(t,e){return e?lr(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class pv extends vS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Tl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function OV(t){return gV(t.auth,new pv(t),t.bypassAuthState)}function LV(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),pV(n,new pv(t),t.bypassAuthState)}async function jV(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),mV(n,new pv(t),t.bypassAuthState)}class IS{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OV;case"linkViaPopup":case"linkViaRedirect":return jV;case"reauthViaPopup":case"reauthViaRedirect":return LV;default:Ms(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const UV=new Mu(2e3,1e4);async function zV(t,e,n){if(Mi(t.app))return Promise.reject(ns(t,"operation-not-supported-in-this-environment"));const s=Ud(t);VM(t,e,dv);const a=RS(s,n);return new eo(s,"signInViaPopup",e,a).executeNotNull()}class eo extends IS{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,eo.currentPopupAction&&eo.currentPopupAction.cancel(),eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=mv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ns(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ns(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UV.get())};e()}}eo.currentPopupAction=null;const BV="pendingRedirect",jf=new Map;class FV extends IS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=jf.get(this.auth._key());if(!e){try{const s=await HV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}jf.set(this.auth._key(),e)}return this.bypassAuthState||jf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HV(t,e){const n=KV(e),s=GV(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function qV(t,e){jf.set(t._key(),e)}function GV(t){return lr(t._redirectPersistence)}function KV(t){return Lf(BV,t.config.apiKey,t.name)}async function $V(t,e,n=!1){if(Mi(t.app))return Promise.reject(so(t));const s=Ud(t),a=RS(s,e),u=await new FV(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const YV=600*1e3;class QV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!NS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ns(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YV&&this.cachedEventUids.clear(),this.cachedEventUids.has(VT(e))}saveEventToCache(e){this.cachedEventUids.add(VT(e)),this.lastProcessedEventTime=Date.now()}}function VT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function NS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function XV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NS(t);default:return!1}}async function WV(t,e={}){return jl(t,"GET","/v1/projects",e)}const ZV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JV=/^https?/;async function eP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await WV(t);for(const n of e)try{if(tP(n))return}catch{}Ms(t,"unauthorized-domain")}function tP(t){const e=iy(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!JV.test(n))return!1;if(ZV.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const nP=new Mu(3e4,6e4);function PT(){const t=Rs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function iP(t){return new Promise((e,n)=>{function s(){PT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PT(),n(ns(t,"network-request-failed"))},timeout:nP.get()})}if(Rs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Rs().gapi?.load)s();else{const a=oV("iframefcb");return Rs()[a]=()=>{gapi.load?s():n(ns(t,"network-request-failed"))},rV(`${aV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Uf=null,e})}let Uf=null;function sP(t){return Uf=Uf||iP(t),Uf}const rP=new Mu(5e3,15e3),aP="__/auth/iframe",oP="emulator/auth/iframe",lP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uP(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?lv(e,oP):`https://${t.config.authDomain}/${aP}`,s={apiKey:e.apiKey,appName:t.name,v:po},a=cP.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${ku(s).slice(1)}`}async function hP(t){const e=await sP(t),n=Rs().gapi;return Ve(n,t,"internal-error"),e.open({where:document.body,url:uP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lP,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=ns(t,"network-request-failed"),f=Rs().setTimeout(()=>{l(u)},rP.get());function m(){Rs().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(u)})}))}const fP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dP=500,mP=600,pP="_blank",gP="http://localhost";class OT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yP(t,e,n,s=dP,a=mP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m={...fP,width:s.toString(),height:a.toString(),top:l,left:u},p=Vn().toLowerCase();n&&(f=uS(p)?pP:n),lS(p)&&(e=e||gP,m.scrollbars="yes");const y=Object.entries(m).reduce((E,[R,M])=>`${E}${R}=${M},`,"");if(WM(p)&&f!=="_self")return vP(e||"",f),new OT(null);const v=window.open(e||"",f,y);Ve(v,t,"popup-blocked");try{v.focus()}catch{}return new OT(v)}function vP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const _P="__/auth/handler",bP="emulator/auth/handler",wP=encodeURIComponent("fac");async function LT(t,e,n,s,a,l){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:po,eventId:a};if(e instanceof dv){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",vk(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof Vu){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await t._getAppCheckToken(),p=m?`#${wP}=${encodeURIComponent(m)}`:"";return`${TP(t)}?${ku(f).slice(1)}${p}`}function TP({config:t}){return t.emulator?lv(t,bP):`https://${t.authDomain}/${_P}`}const wg="webStorageSupport";class EP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ES,this._completeRedirectFn=$V,this._overrideRedirectResult=qV}async _openPopup(e,n,s,a){pr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await LT(e,n,s,iy(),a);return yP(e,l,mv())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await LT(e,n,s,iy(),a);return AV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(pr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await hP(e),s=new QV(e);return n.register("authEvent",a=>(Ve(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wg,{type:wg},a=>{const l=a?.[0]?.[wg];l!==void 0&&n(!!l),Ms(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pS()||cS()||hv()}}const xP=EP;var jT="@firebase/auth",UT="1.12.0";class SP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function AP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CP(t){lo(new ca("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=s.options;Ve(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gS(t)},p=new iV(s,a,l,m);return cV(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),lo(new ca("auth-internal",e=>{const n=Ud(e.getProvider("auth").getImmediate());return(s=>new SP(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cs(jT,UT,AP(t)),Cs(jT,UT,"esm2020")}const RP=300,IP=Yx("authIdTokenMaxAge")||RP;let zT=null;const NP=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>IP)return;const a=n?.token;zT!==a&&(zT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function DP(t=rv()){const e=jd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=lV(t,{popupRedirectResolver:xP,persistence:[PV,EV,ES]}),s=Yx("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=NP(l.toString());vV(n,u,()=>u(n.currentUser)),yV(n,f=>u(f))}}const a=Gx("auth");return a&&uV(n,`http://${a}`),n}function kP(){return document.getElementsByTagName("head")?.[0]??document}sV({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=ns("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",kP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CP("Browser");var BT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var aa,DS;(function(){var t;function e(D,x){function I(){}I.prototype=x.prototype,D.F=x.prototype,D.prototype=new I,D.prototype.constructor=D,D.D=function(P,L,z){for(var N=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)N[fe-2]=arguments[fe];return x.prototype[L].apply(P,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,x,I){I||(I=0);const P=Array(16);if(typeof x=="string")for(var L=0;L<16;++L)P[L]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(L=0;L<16;++L)P[L]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=D.g[0],I=D.g[1],L=D.g[2];let z=D.g[3],N;N=x+(z^I&(L^z))+P[0]+3614090360&4294967295,x=I+(N<<7&4294967295|N>>>25),N=z+(L^x&(I^L))+P[1]+3905402710&4294967295,z=x+(N<<12&4294967295|N>>>20),N=L+(I^z&(x^I))+P[2]+606105819&4294967295,L=z+(N<<17&4294967295|N>>>15),N=I+(x^L&(z^x))+P[3]+3250441966&4294967295,I=L+(N<<22&4294967295|N>>>10),N=x+(z^I&(L^z))+P[4]+4118548399&4294967295,x=I+(N<<7&4294967295|N>>>25),N=z+(L^x&(I^L))+P[5]+1200080426&4294967295,z=x+(N<<12&4294967295|N>>>20),N=L+(I^z&(x^I))+P[6]+2821735955&4294967295,L=z+(N<<17&4294967295|N>>>15),N=I+(x^L&(z^x))+P[7]+4249261313&4294967295,I=L+(N<<22&4294967295|N>>>10),N=x+(z^I&(L^z))+P[8]+1770035416&4294967295,x=I+(N<<7&4294967295|N>>>25),N=z+(L^x&(I^L))+P[9]+2336552879&4294967295,z=x+(N<<12&4294967295|N>>>20),N=L+(I^z&(x^I))+P[10]+4294925233&4294967295,L=z+(N<<17&4294967295|N>>>15),N=I+(x^L&(z^x))+P[11]+2304563134&4294967295,I=L+(N<<22&4294967295|N>>>10),N=x+(z^I&(L^z))+P[12]+1804603682&4294967295,x=I+(N<<7&4294967295|N>>>25),N=z+(L^x&(I^L))+P[13]+4254626195&4294967295,z=x+(N<<12&4294967295|N>>>20),N=L+(I^z&(x^I))+P[14]+2792965006&4294967295,L=z+(N<<17&4294967295|N>>>15),N=I+(x^L&(z^x))+P[15]+1236535329&4294967295,I=L+(N<<22&4294967295|N>>>10),N=x+(L^z&(I^L))+P[1]+4129170786&4294967295,x=I+(N<<5&4294967295|N>>>27),N=z+(I^L&(x^I))+P[6]+3225465664&4294967295,z=x+(N<<9&4294967295|N>>>23),N=L+(x^I&(z^x))+P[11]+643717713&4294967295,L=z+(N<<14&4294967295|N>>>18),N=I+(z^x&(L^z))+P[0]+3921069994&4294967295,I=L+(N<<20&4294967295|N>>>12),N=x+(L^z&(I^L))+P[5]+3593408605&4294967295,x=I+(N<<5&4294967295|N>>>27),N=z+(I^L&(x^I))+P[10]+38016083&4294967295,z=x+(N<<9&4294967295|N>>>23),N=L+(x^I&(z^x))+P[15]+3634488961&4294967295,L=z+(N<<14&4294967295|N>>>18),N=I+(z^x&(L^z))+P[4]+3889429448&4294967295,I=L+(N<<20&4294967295|N>>>12),N=x+(L^z&(I^L))+P[9]+568446438&4294967295,x=I+(N<<5&4294967295|N>>>27),N=z+(I^L&(x^I))+P[14]+3275163606&4294967295,z=x+(N<<9&4294967295|N>>>23),N=L+(x^I&(z^x))+P[3]+4107603335&4294967295,L=z+(N<<14&4294967295|N>>>18),N=I+(z^x&(L^z))+P[8]+1163531501&4294967295,I=L+(N<<20&4294967295|N>>>12),N=x+(L^z&(I^L))+P[13]+2850285829&4294967295,x=I+(N<<5&4294967295|N>>>27),N=z+(I^L&(x^I))+P[2]+4243563512&4294967295,z=x+(N<<9&4294967295|N>>>23),N=L+(x^I&(z^x))+P[7]+1735328473&4294967295,L=z+(N<<14&4294967295|N>>>18),N=I+(z^x&(L^z))+P[12]+2368359562&4294967295,I=L+(N<<20&4294967295|N>>>12),N=x+(I^L^z)+P[5]+4294588738&4294967295,x=I+(N<<4&4294967295|N>>>28),N=z+(x^I^L)+P[8]+2272392833&4294967295,z=x+(N<<11&4294967295|N>>>21),N=L+(z^x^I)+P[11]+1839030562&4294967295,L=z+(N<<16&4294967295|N>>>16),N=I+(L^z^x)+P[14]+4259657740&4294967295,I=L+(N<<23&4294967295|N>>>9),N=x+(I^L^z)+P[1]+2763975236&4294967295,x=I+(N<<4&4294967295|N>>>28),N=z+(x^I^L)+P[4]+1272893353&4294967295,z=x+(N<<11&4294967295|N>>>21),N=L+(z^x^I)+P[7]+4139469664&4294967295,L=z+(N<<16&4294967295|N>>>16),N=I+(L^z^x)+P[10]+3200236656&4294967295,I=L+(N<<23&4294967295|N>>>9),N=x+(I^L^z)+P[13]+681279174&4294967295,x=I+(N<<4&4294967295|N>>>28),N=z+(x^I^L)+P[0]+3936430074&4294967295,z=x+(N<<11&4294967295|N>>>21),N=L+(z^x^I)+P[3]+3572445317&4294967295,L=z+(N<<16&4294967295|N>>>16),N=I+(L^z^x)+P[6]+76029189&4294967295,I=L+(N<<23&4294967295|N>>>9),N=x+(I^L^z)+P[9]+3654602809&4294967295,x=I+(N<<4&4294967295|N>>>28),N=z+(x^I^L)+P[12]+3873151461&4294967295,z=x+(N<<11&4294967295|N>>>21),N=L+(z^x^I)+P[15]+530742520&4294967295,L=z+(N<<16&4294967295|N>>>16),N=I+(L^z^x)+P[2]+3299628645&4294967295,I=L+(N<<23&4294967295|N>>>9),N=x+(L^(I|~z))+P[0]+4096336452&4294967295,x=I+(N<<6&4294967295|N>>>26),N=z+(I^(x|~L))+P[7]+1126891415&4294967295,z=x+(N<<10&4294967295|N>>>22),N=L+(x^(z|~I))+P[14]+2878612391&4294967295,L=z+(N<<15&4294967295|N>>>17),N=I+(z^(L|~x))+P[5]+4237533241&4294967295,I=L+(N<<21&4294967295|N>>>11),N=x+(L^(I|~z))+P[12]+1700485571&4294967295,x=I+(N<<6&4294967295|N>>>26),N=z+(I^(x|~L))+P[3]+2399980690&4294967295,z=x+(N<<10&4294967295|N>>>22),N=L+(x^(z|~I))+P[10]+4293915773&4294967295,L=z+(N<<15&4294967295|N>>>17),N=I+(z^(L|~x))+P[1]+2240044497&4294967295,I=L+(N<<21&4294967295|N>>>11),N=x+(L^(I|~z))+P[8]+1873313359&4294967295,x=I+(N<<6&4294967295|N>>>26),N=z+(I^(x|~L))+P[15]+4264355552&4294967295,z=x+(N<<10&4294967295|N>>>22),N=L+(x^(z|~I))+P[6]+2734768916&4294967295,L=z+(N<<15&4294967295|N>>>17),N=I+(z^(L|~x))+P[13]+1309151649&4294967295,I=L+(N<<21&4294967295|N>>>11),N=x+(L^(I|~z))+P[4]+4149444226&4294967295,x=I+(N<<6&4294967295|N>>>26),N=z+(I^(x|~L))+P[11]+3174756917&4294967295,z=x+(N<<10&4294967295|N>>>22),N=L+(x^(z|~I))+P[2]+718787259&4294967295,L=z+(N<<15&4294967295|N>>>17),N=I+(z^(L|~x))+P[9]+3951481745&4294967295,D.g[0]=D.g[0]+x&4294967295,D.g[1]=D.g[1]+(L+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+L&4294967295,D.g[3]=D.g[3]+z&4294967295}s.prototype.v=function(D,x){x===void 0&&(x=D.length);const I=x-this.blockSize,P=this.C;let L=this.h,z=0;for(;z<x;){if(L==0)for(;z<=I;)a(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<x;)if(P[L++]=D.charCodeAt(z++),L==this.blockSize){a(this,P),L=0;break}}else for(;z<x;)if(P[L++]=D[z++],L==this.blockSize){a(this,P),L=0;break}}this.h=L,this.o+=x},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var x=1;x<D.length-8;++x)D[x]=0;x=this.o*8;for(var I=D.length-8;I<D.length;++I)D[I]=x&255,x/=256;for(this.v(D),D=Array(16),x=0,I=0;I<4;++I)for(let P=0;P<32;P+=8)D[x++]=this.g[I]>>>P&255;return D};function l(D,x){var I=f;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=x(D)}function u(D,x){this.h=x;const I=[];let P=!0;for(let L=D.length-1;L>=0;L--){const z=D[L]|0;P&&z==x||(I[L]=z,P=!1)}this.g=I}var f={};function m(D){return-128<=D&&D<128?l(D,function(x){return new u([x|0],x<0?-1:0)}):new u([D|0],D<0?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return v;if(D<0)return V(p(-D));const x=[];let I=1;for(let P=0;D>=I;P++)x[P]=D/I|0,I*=4294967296;return new u(x,0)}function y(D,x){if(D.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(D.charAt(0)=="-")return V(y(D.substring(1),x));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(x,8));let P=v;for(let z=0;z<D.length;z+=8){var L=Math.min(8,D.length-z);const N=parseInt(D.substring(z,z+L),x);L<8?(L=p(Math.pow(x,L)),P=P.j(L).add(p(N))):(P=P.j(I),P=P.add(p(N)))}return P}var v=m(0),E=m(1),R=m(16777216);t=u.prototype,t.m=function(){if(O(this))return-V(this).m();let D=0,x=1;for(let I=0;I<this.g.length;I++){const P=this.i(I);D+=(P>=0?P:4294967296+P)*x,x*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(M(this))return"0";if(O(this))return"-"+V(this).toString(D);const x=p(Math.pow(D,6));var I=this;let P="";for(;;){const L=oe(I,x).g;I=j(I,L.j(x));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(D);if(I=L,M(I))return z+P;for(;z.length<6;)z="0"+z;P=z+P}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function M(D){if(D.h!=0)return!1;for(let x=0;x<D.g.length;x++)if(D.g[x]!=0)return!1;return!0}function O(D){return D.h==-1}t.l=function(D){return D=j(this,D),O(D)?-1:M(D)?0:1};function V(D){const x=D.g.length,I=[];for(let P=0;P<x;P++)I[P]=~D.g[P];return new u(I,~D.h).add(E)}t.abs=function(){return O(this)?V(this):this},t.add=function(D){const x=Math.max(this.g.length,D.g.length),I=[];let P=0;for(let L=0;L<=x;L++){let z=P+(this.i(L)&65535)+(D.i(L)&65535),N=(z>>>16)+(this.i(L)>>>16)+(D.i(L)>>>16);P=N>>>16,z&=65535,N&=65535,I[L]=N<<16|z}return new u(I,I[I.length-1]&-2147483648?-1:0)};function j(D,x){return D.add(V(x))}t.j=function(D){if(M(this)||M(D))return v;if(O(this))return O(D)?V(this).j(V(D)):V(V(this).j(D));if(O(D))return V(this.j(V(D)));if(this.l(R)<0&&D.l(R)<0)return p(this.m()*D.m());const x=this.g.length+D.g.length,I=[];for(var P=0;P<2*x;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(let L=0;L<D.g.length;L++){const z=this.i(P)>>>16,N=this.i(P)&65535,fe=D.i(L)>>>16,pe=D.i(L)&65535;I[2*P+2*L]+=N*pe,F(I,2*P+2*L),I[2*P+2*L+1]+=z*pe,F(I,2*P+2*L+1),I[2*P+2*L+1]+=N*fe,F(I,2*P+2*L+1),I[2*P+2*L+2]+=z*fe,F(I,2*P+2*L+2)}for(D=0;D<x;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=x;D<2*x;D++)I[D]=0;return new u(I,0)};function F(D,x){for(;(D[x]&65535)!=D[x];)D[x+1]+=D[x]>>>16,D[x]&=65535,x++}function H(D,x){this.g=D,this.h=x}function oe(D,x){if(M(x))throw Error("division by zero");if(M(D))return new H(v,v);if(O(D))return x=oe(V(D),x),new H(V(x.g),V(x.h));if(O(x))return x=oe(D,V(x)),new H(V(x.g),x.h);if(D.g.length>30){if(O(D)||O(x))throw Error("slowDivide_ only works with positive integers.");for(var I=E,P=x;P.l(D)<=0;)I=re(I),P=re(P);var L=de(I,1),z=de(P,1);for(P=de(P,2),I=de(I,2);!M(P);){var N=z.add(P);N.l(D)<=0&&(L=L.add(I),z=N),P=de(P,1),I=de(I,1)}return x=j(D,L.j(x)),new H(L,x)}for(L=v;D.l(x)>=0;){for(I=Math.max(1,Math.floor(D.m()/x.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),z=p(I),N=z.j(x);O(N)||N.l(D)>0;)I-=P,z=p(I),N=z.j(x);M(z)&&(z=E),L=L.add(z),D=j(D,N)}return new H(L,D)}t.B=function(D){return oe(this,D).h},t.and=function(D){const x=Math.max(this.g.length,D.g.length),I=[];for(let P=0;P<x;P++)I[P]=this.i(P)&D.i(P);return new u(I,this.h&D.h)},t.or=function(D){const x=Math.max(this.g.length,D.g.length),I=[];for(let P=0;P<x;P++)I[P]=this.i(P)|D.i(P);return new u(I,this.h|D.h)},t.xor=function(D){const x=Math.max(this.g.length,D.g.length),I=[];for(let P=0;P<x;P++)I[P]=this.i(P)^D.i(P);return new u(I,this.h^D.h)};function re(D){const x=D.g.length+1,I=[];for(let P=0;P<x;P++)I[P]=D.i(P)<<1|D.i(P-1)>>>31;return new u(I,D.h)}function de(D,x){const I=x>>5;x%=32;const P=D.g.length-I,L=[];for(let z=0;z<P;z++)L[z]=x>0?D.i(z+I)>>>x|D.i(z+I+1)<<32-x:D.i(z+I);return new u(L,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,DS=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,aa=u}).apply(typeof BT<"u"?BT:typeof self<"u"?self:typeof window<"u"?window:{});var Tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var kS,Jc,MS,zf,ay,VS,PS,OS;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tf=="object"&&Tf];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function a(h,_){if(_)e:{var T=s;h=h.split(".");for(var C=0;C<h.length-1;C++){var Y=h[C];if(!(Y in T))break e;T=T[Y]}h=h[h.length-1],C=T[h],_=_(C),_!=C&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var T=[],C;for(C in _)Object.prototype.hasOwnProperty.call(_,C)&&T.push([C,_[C]]);return T}});var l=l||{},u=this||self;function f(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,T){return h.call.apply(h.bind,arguments)}function p(h,_,T){return p=m,p.apply(null,arguments)}function y(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var C=T.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function v(h,_){function T(){}T.prototype=_.prototype,h.Z=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(C,Y,ee){for(var ve=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ve[ze-2]=arguments[ze];return _.prototype[Y].apply(C,ve)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const _=h.length;if(_>0){const T=Array(_);for(let C=0;C<_;C++)T[C]=h[C];return T}return[]}function M(h,_){for(let C=1;C<arguments.length;C++){const Y=arguments[C];var T=typeof Y;if(T=T!="object"?T:Y?Array.isArray(Y)?"array":T:"null",T=="array"||T=="object"&&typeof Y.length=="number"){T=h.length||0;const ee=Y.length||0;h.length=T+ee;for(let ve=0;ve<ee;ve++)h[T+ve]=Y[ve]}else h.push(Y)}}class O{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function V(h){u.setTimeout(()=>{throw h},0)}function j(){var h=D;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class F{constructor(){this.h=this.g=null}add(_,T){const C=H.get();C.set(_,T),this.h?this.h.next=C:this.g=C,this.h=C}}var H=new O(()=>new oe,h=>h.reset());class oe{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let re,de=!1,D=new F,x=()=>{const h=Promise.resolve(void 0);re=()=>{h.then(I)}};function I(){for(var h;h=j();){try{h.h.call(h.g)}catch(T){V(T)}var _=H;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}de=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};u.addEventListener("test",T,_),u.removeEventListener("test",T,_)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function fe(h,_){L.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}v(fe,L),fe.prototype.init=function(h,_){const T=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&fe.Z.h.call(this)},fe.prototype.h=function(){fe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),q=0;function ne(h,_,T,C,Y){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!C,this.ha=Y,this.key=++q,this.da=this.fa=!1}function ie(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function De(h,_,T){for(const C in h)_.call(T,h[C],C,h)}function G(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function S(h){const _={};for(const T in h)_[T]=h[T];return _}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(h,_){let T,C;for(let Y=1;Y<arguments.length;Y++){C=arguments[Y];for(T in C)h[T]=C[T];for(let ee=0;ee<K.length;ee++)T=K[ee],Object.prototype.hasOwnProperty.call(C,T)&&(h[T]=C[T])}}function ae(h){this.src=h,this.g={},this.h=0}ae.prototype.add=function(h,_,T,C,Y){const ee=h.toString();h=this.g[ee],h||(h=this.g[ee]=[],this.h++);const ve=ye(h,_,C,Y);return ve>-1?(_=h[ve],T||(_.fa=!1)):(_=new ne(_,this.src,ee,!!C,Y),_.fa=T,h.push(_)),_};function ge(h,_){const T=_.type;if(T in h.g){var C=h.g[T],Y=Array.prototype.indexOf.call(C,_,void 0),ee;(ee=Y>=0)&&Array.prototype.splice.call(C,Y,1),ee&&(ie(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function ye(h,_,T,C){for(let Y=0;Y<h.length;++Y){const ee=h[Y];if(!ee.da&&ee.listener==_&&ee.capture==!!T&&ee.ha==C)return Y}return-1}var me="closure_lm_"+(Math.random()*1e6|0),Se={};function Ce(h,_,T,C,Y){if(Array.isArray(_)){for(let ee=0;ee<_.length;ee++)Ce(h,_[ee],T,C,Y);return null}return T=bn(T),h&&h[pe]?h.J(_,T,f(C)?!!C.capture:!1,Y):Oe(h,_,T,!1,C,Y)}function Oe(h,_,T,C,Y,ee){if(!_)throw Error("Invalid event type");const ve=f(Y)?!!Y.capture:!!Y;let ze=Ft(h);if(ze||(h[me]=ze=new ae(h)),T=ze.add(_,T,C,ve,ee),T.proxy)return T;if(C=Ge(),T.proxy=C,C.src=h,C.listener=T,h.addEventListener)z||(Y=ve),Y===void 0&&(Y=!1),h.addEventListener(_.toString(),C,Y);else if(h.attachEvent)h.attachEvent(Pe(_.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ge(){function h(T){return _.call(h.src,h.listener,T)}const _=At;return h}function Ke(h,_,T,C,Y){if(Array.isArray(_))for(var ee=0;ee<_.length;ee++)Ke(h,_[ee],T,C,Y);else C=f(C)?!!C.capture:!!C,T=bn(T),h&&h[pe]?(h=h.i,ee=String(_).toString(),ee in h.g&&(_=h.g[ee],T=ye(_,T,C,Y),T>-1&&(ie(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete h.g[ee],h.h--)))):h&&(h=Ft(h))&&(_=h.g[_.toString()],h=-1,_&&(h=ye(_,T,C,Y)),(T=h>-1?_[h]:null)&&Et(T))}function Et(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[pe])ge(_.i,h);else{var T=h.type,C=h.proxy;_.removeEventListener?_.removeEventListener(T,C,h.capture):_.detachEvent?_.detachEvent(Pe(T),C):_.addListener&&_.removeListener&&_.removeListener(C),(T=Ft(_))?(ge(T,h),T.h==0&&(T.src=null,_[me]=null)):ie(h)}}}function Pe(h){return h in Se?Se[h]:Se[h]="on"+h}function At(h,_){if(h.da)h=!0;else{_=new fe(_,this);const T=h.listener,C=h.ha||h.src;h.fa&&Et(h),h=T.call(C,_)}return h}function Ft(h){return h=h[me],h instanceof ae?h:null}var on="__closure_events_fn_"+(Math.random()*1e9>>>0);function bn(h){return typeof h=="function"?h:(h[on]||(h[on]=function(_){return h.handleEvent(_)}),h[on])}function ot(){P.call(this),this.i=new ae(this),this.M=this,this.G=null}v(ot,P),ot.prototype[pe]=!0,ot.prototype.removeEventListener=function(h,_,T,C){Ke(this,h,_,T,C)};function $e(h,_){var T,C=h.G;if(C)for(T=[];C;C=C.G)T.push(C);if(h=h.M,C=_.type||_,typeof _=="string")_=new L(_,h);else if(_ instanceof L)_.target=_.target||h;else{var Y=_;_=new L(C,h),J(_,Y)}Y=!0;let ee,ve;if(T)for(ve=T.length-1;ve>=0;ve--)ee=_.g=T[ve],Y=wn(ee,C,!0,_)&&Y;if(ee=_.g=h,Y=wn(ee,C,!0,_)&&Y,Y=wn(ee,C,!1,_)&&Y,T)for(ve=0;ve<T.length;ve++)ee=_.g=T[ve],Y=wn(ee,C,!1,_)&&Y}ot.prototype.N=function(){if(ot.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const T=h.g[_];for(let C=0;C<T.length;C++)ie(T[C]);delete h.g[_],h.h--}}this.G=null},ot.prototype.J=function(h,_,T,C){return this.i.add(String(h),_,!1,T,C)},ot.prototype.K=function(h,_,T,C){return this.i.add(String(h),_,!0,T,C)};function wn(h,_,T,C){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let Y=!0;for(let ee=0;ee<_.length;++ee){const ve=_[ee];if(ve&&!ve.da&&ve.capture==T){const ze=ve.listener,Gt=ve.ha||ve.src;ve.fa&&ge(h.i,ve),Y=ze.call(Gt,C)!==!1&&Y}}return Y&&!C.defaultPrevented}function fi(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function di(h){h.g=fi(()=>{h.g=null,h.i&&(h.i=!1,di(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Ht extends P{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:di(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mi(h){P.call(this),this.h=h,this.g={}}v(mi,P);var as=[];function pi(h){De(h.g,function(_,T){this.g.hasOwnProperty(T)&&Et(_)},h),h.g={}}mi.prototype.N=function(){mi.Z.N.call(this),pi(this)},mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lt=u.JSON.stringify,gi=u.JSON.parse,os=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Wn(){}function Ui(){}var ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){L.call(this,"d")}v(Qt,L);function Pn(){L.call(this,"c")}v(Pn,L);var xt={},vo=null;function zs(){return vo=vo||new ot}xt.Ia="serverreachability";function _o(h){L.call(this,xt.Ia,h)}v(_o,L);function Zn(h){const _=zs();$e(_,new _o(_))}xt.STAT_EVENT="statevent";function zi(h,_){L.call(this,xt.STAT_EVENT,h),this.stat=_}v(zi,L);function Nt(h){const _=zs();$e(_,new zi(_,h))}xt.Ja="timingevent";function yi(h,_){L.call(this,xt.Ja,h),this.size=_}v(yi,L);function vi(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function Ql(h,_,T,C,Y,ee){h.info(function(){if(h.g)if(ee){var ve="",ze=ee.split("&");for(let rt=0;rt<ze.length;rt++){var Gt=ze[rt].split("=");if(Gt.length>1){const Dt=Gt[0];Gt=Gt[1];const Ti=Dt.split("_");ve=Ti.length>=2&&Ti[1]=="type"?ve+(Dt+"="+Gt+"&"):ve+(Dt+"=redacted&")}}}else ve=null;else ve=ee;return"XMLHTTP REQ ("+C+") [attempt "+Y+"]: "+_+`
`+T+`
`+ve})}function bo(h,_,T,C,Y,ee,ve){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+Y+"]: "+_+`
`+T+`
`+ee+" "+ve})}function Bi(h,_,T,C){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ea(h,T)+(C?" "+C:"")})}function ls(h,_){h.info(function(){return"TIMEOUT: "+_})}Jn.prototype.info=function(){};function Ea(h,_){if(!h.g)return _;if(!_)return null;try{const ee=JSON.parse(_);if(ee){for(h=0;h<ee.length;h++)if(Array.isArray(ee[h])){var T=ee[h];if(!(T.length<2)){var C=T[1];if(Array.isArray(C)&&!(C.length<1)){var Y=C[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let ve=1;ve<C.length;ve++)C[ve]=""}}}}return lt(ee)}catch{return _}}var Fi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xa={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Q;function Re(){}v(Re,Wn),Re.prototype.g=function(){return new XMLHttpRequest},Q=new Re;function ht(h){return encodeURIComponent(String(h))}function jt(h){var _=1;h=h.split(":");const T=[];for(;_>0&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function pt(h,_,T,C){this.j=h,this.i=_,this.l=T,this.S=C||1,this.V=new mi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Vt}function Vt(){this.i=null,this.g="",this.h=!1}var wt={},qt={};function cs(h,_,T){h.M=1,h.A=Sa(Wt(_)),h.u=T,h.R=!0,wo(h,null)}function wo(h,_){h.F=Date.now(),us(h),h.B=Wt(h.A);var T=h.B,C=h.S;Array.isArray(C)||(C=[String(C)]),So(T.i,"t",C),h.C=0,T=h.j.L,h.h=new Vt,h.g=fh(h.j,T?_:null,!h.u),h.P>0&&(h.O=new Ht(p(h.Y,h,h.g),h.P)),_=h.V,T=h.g,C=h.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(as[0]=Y.toString()),Y=as);for(let ee=0;ee<Y.length;ee++){const ve=Ce(T,Y[ee],C||_.handleEvent,!1,_.h||_);if(!ve)break;_.g[ve.key]=ve}_=h.J?S(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Zn(),Ql(h.i,h.v,h.B,h.l,h.S,h.u)}pt.prototype.ba=function(h){h=h.target;const _=this.O;_&&Gi(h)==3?_.j():this.Y(h)},pt.prototype.Y=function(h){try{if(h==this.g)e:{const ze=Gi(this.g),Gt=this.g.ya(),rt=this.g.ca();if(!(ze<3)&&(ze!=3||this.g&&(this.h.h||this.g.la()||Tn(this.g)))){this.K||ze!=4||Gt==7||(Gt==8||rt<=0?Zn(3):Zn(2)),hs(this);var _=this.g.ca();this.X=_;var T=fm(this);if(this.o=_==200,bo(this.i,this.v,this.B,this.l,this.S,ze,_),this.o){if(this.U&&!this.L){t:{if(this.g){var C,Y=this.g;if((C=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(C)){var ee=C;break t}}ee=null}if(h=ee)Bi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fs(this,h);else{this.o=!1,this.m=3,Nt(12),ei(this),_i(this);break e}}if(this.R){h=!0;let Dt;for(;!this.K&&this.C<T.length;)if(Dt=Ju(this,T),Dt==qt){ze==4&&(this.m=4,Nt(14),h=!1),Bi(this.i,this.l,null,"[Incomplete Response]");break}else if(Dt==wt){this.m=4,Nt(15),Bi(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Bi(this.i,this.l,Dt,null),fs(this,Dt);if(Zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||T.length!=0||this.h.h||(this.m=1,Nt(16),h=!1),this.o=this.o&&h,!h)Bi(this.i,this.l,T,"[Invalid Chunked Response]"),ei(this),_i(this);else if(T.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),uc(ve),ve.P=!0,Nt(11))}}else Bi(this.i,this.l,T,null),fs(this,T);ze==4&&ei(this),this.o&&!this.K&&(ze==4?lh(this.j,this):(this.o=!1,us(this)))}else Fs(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),ei(this),_i(this)}}}catch{}};function fm(h){if(!Zu(h))return h.g.la();const _=Tn(h.g);if(_==="")return"";let T="";const C=_.length,Y=Gi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return ei(h),_i(h),"";h.h.i=new u.TextDecoder}for(let ee=0;ee<C;ee++)h.h.h=!0,T+=h.h.i.decode(_[ee],{stream:!(Y&&ee==C-1)});return _.length=0,h.h.g+=T,h.C=0,h.h.g}function Zu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Ju(h,_){var T=h.C,C=_.indexOf(`
`,T);return C==-1?qt:(T=Number(_.substring(T,C)),isNaN(T)?wt:(C+=1,C+T>_.length?qt:(_=_.slice(C,C+T),h.C=C+T,_)))}pt.prototype.cancel=function(){this.K=!0,ei(this)};function us(h){h.T=Date.now()+h.H,To(h,h.H)}function To(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=vi(p(h.aa,h),_)}function hs(h){h.D&&(u.clearTimeout(h.D),h.D=null)}pt.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ls(this.i,this.B),this.M!=2&&(Zn(),Nt(17)),ei(this),this.m=2,_i(this)):To(this,this.T-h)};function _i(h){h.j.I==0||h.K||lh(h.j,h)}function ei(h){hs(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,pi(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function fs(h,_){try{var T=h.j;if(T.I!=0&&(T.g==h||ms(T.h,h))){if(!h.L&&ms(T.h,h)&&T.I==3){try{var C=T.Ba.g.parse(_)}catch{C=null}if(Array.isArray(C)&&C.length==3){var Y=C;if(Y[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)No(T),Ar(T);else break e;ka(T),Nt(18)}}else T.xa=Y[1],0<T.xa-T.K&&Y[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=vi(p(T.Va,T),6e3));ds(T.h)<=1&&T.ta&&(T.ta=void 0)}else bs(T,11)}else if((h.L||T.g==h)&&No(T),!N(_))for(Y=T.Ba.g.parse(_),_=0;_<Y.length;_++){let rt=Y[_];const Dt=rt[0];if(!(Dt<=T.K))if(T.K=Dt,rt=rt[1],T.I==2)if(rt[0]=="c"){T.M=rt[1],T.ba=rt[2];const Ti=rt[3];Ti!=null&&(T.ka=Ti,T.j.info("VER="+T.ka));const ws=rt[4];ws!=null&&(T.za=ws,T.j.info("SVER="+T.za));const Ki=rt[5];Ki!=null&&typeof Ki=="number"&&Ki>0&&(C=1.5*Ki,T.O=C,T.j.info("backChannelRequestTimeoutMs_="+C)),C=T;const $i=h.g;if($i){const Ma=$i.g?$i.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ma){var ee=C.h;ee.g||Ma.indexOf("spdy")==-1&&Ma.indexOf("quic")==-1&&Ma.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Zl(ee,ee.h),ee.h=null))}if(C.G){const Do=$i.g?$i.g.getResponseHeader("X-HTTP-Session-Id"):null;Do&&(C.wa=Do,ft(C.J,C.G,Do))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),C=T;var ve=h;if(C.na=hh(C,C.L?C.ba:null,C.W),ve.L){Jl(C.h,ve);var ze=ve,Gt=C.O;Gt&&(ze.H=Gt),ze.D&&(hs(ze),us(ze)),C.g=ve}else ah(C);T.i.length>0&&_s(T)}else rt[0]!="stop"&&rt[0]!="close"||bs(T,7);else T.I==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?bs(T,7):lc(T):rt[0]!="noop"&&T.l&&T.l.qa(rt),T.A=0)}}Zn(4)}catch{}}var Xt=class{constructor(h,_){this.g=h,this.map=_}};function Xl(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ds(h){return h.h?1:h.g?h.g.size:0}function ms(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Zl(h,_){h.g?h.g.add(_):h.h=_}function Jl(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Xl.prototype.cancel=function(){if(this.i=ec(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ec(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.G);return _}return R(h.i)}var eh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Eo(h,_){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const C=h[T].indexOf("=");let Y,ee=null;C>=0?(Y=h[T].substring(0,C),ee=h[T].substring(C+1)):Y=h[T],_(Y,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function ti(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof ti?(this.l=h.l,pn(this,h.j),this.o=h.o,this.g=h.g,_r(this,h.u),this.h=h.h,tc(this,sh(h.i)),this.m=h.m):h&&(_=String(h).match(eh))?(this.l=!1,pn(this,_[1]||"",!0),this.o=ps(_[2]||""),this.g=ps(_[3]||"",!0),_r(this,_[4]),this.h=ps(_[5]||"",!0),tc(this,_[6]||"",!0),this.m=ps(_[7]||"")):(this.l=!1,this.i=new wr(null,this.l))}ti.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Aa(_,xo,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Aa(_,xo,!0),"@"),h.push(ht(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Aa(T,T.charAt(0)=="/"?nc:th,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Aa(T,nh)),h.join("")},ti.prototype.resolve=function(h){const _=Wt(this);let T=!!h.j;T?pn(_,h.j):T=!!h.o,T?_.o=h.o:T=!!h.g,T?_.g=h.g:T=h.u!=null;var C=h.h;if(T)_r(_,h.u);else if(T=!!h.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var Y=_.h.lastIndexOf("/");Y!=-1&&(C=_.h.slice(0,Y+1)+C)}if(Y=C,Y==".."||Y==".")C="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){C=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const ee=[];for(let ve=0;ve<Y.length;){const ze=Y[ve++];ze=="."?C&&ve==Y.length&&ee.push(""):ze==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),C&&ve==Y.length&&ee.push("")):(ee.push(ze),C=!0)}C=ee.join("/")}else C=Y}return T?_.h=C:T=h.i.toString()!=="",T?tc(_,sh(h.i)):T=!!h.m,T&&(_.m=h.m),_};function Wt(h){return new ti(h)}function pn(h,_,T){h.j=T?ps(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function _r(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function tc(h,_,T){_ instanceof wr?(h.i=_,Ao(h.i,h.l)):(T||(_=Aa(_,br)),h.i=new wr(_,h.l))}function ft(h,_,T){h.i.set(_,T)}function Sa(h){return ft(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ps(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Aa(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,Bn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Bn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var xo=/[#\/\?@]/g,th=/[#\?:]/g,nc=/[#\?]/g,br=/[#\?@]/g,nh=/#/g;function wr(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Fn(h){h.g||(h.g=new Map,h.h=0,h.i&&Eo(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}t=wr.prototype,t.add=function(h,_){Fn(this),this.i=null,h=Tr(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function ih(h,_){Fn(h),_=Tr(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function ic(h,_){return Fn(h),_=Tr(h,_),h.g.has(_)}t.forEach=function(h,_){Fn(this),this.g.forEach(function(T,C){T.forEach(function(Y){h.call(_,Y,C,this)},this)},this)};function sc(h,_){Fn(h);let T=[];if(typeof _=="string")ic(h,_)&&(T=T.concat(h.g.get(Tr(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)T=T.concat(h[_]);return T}t.set=function(h,_){return Fn(this),this.i=null,h=Tr(this,h),ic(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=sc(this,h),h.length>0?String(h[0]):_):_};function So(h,_,T){ih(h,_),T.length>0&&(h.i=null,h.g.set(Tr(h,_),R(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let C=0;C<_.length;C++){var T=_[C];const Y=ht(T);T=sc(this,T);for(let ee=0;ee<T.length;ee++){let ve=Y;T[ee]!==""&&(ve+="="+ht(T[ee])),h.push(ve)}}return this.i=h.join("&")};function sh(h){const _=new wr;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Tr(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Ao(h,_){_&&!h.j&&(Fn(h),h.i=null,h.g.forEach(function(T,C){const Y=C.toLowerCase();C!=Y&&(ih(this,C),So(this,Y,T))},h)),h.j=_}function Hi(h,_){const T=new Jn;if(u.Image){const C=new Image;C.onload=y(bi,T,"TestLoadImage: loaded",!0,_,C),C.onerror=y(bi,T,"TestLoadImage: error",!1,_,C),C.onabort=y(bi,T,"TestLoadImage: abort",!1,_,C),C.ontimeout=y(bi,T,"TestLoadImage: timeout",!1,_,C),u.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else _(!1)}function rc(h,_){const T=new Jn,C=new AbortController,Y=setTimeout(()=>{C.abort(),bi(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:C.signal}).then(ee=>{clearTimeout(Y),ee.ok?bi(T,"TestPingServer: ok",!0,_):bi(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Y),bi(T,"TestPingServer: error",!1,_)})}function bi(h,_,T,C,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),C(T)}catch{}}function Er(){this.g=new os}function gs(h){this.i=h.Sb||null,this.h=h.ab||!1}v(gs,Wn),gs.prototype.g=function(){return new Ca(this.i,this.h)};function Ca(h,_){ot.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Ca,ot),t=Ca.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,qi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,qi(this)),this.g&&(this.readyState=3,qi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Co(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Co(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?xr(this):qi(this),this.readyState==3&&Co(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,xr(this))},t.Na=function(h){this.g&&(this.response=h,xr(this))},t.ga=function(){this.g&&xr(this)};function xr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,qi(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function qi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ca.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function wi(h){let _="";return De(h,function(T,C){_+=C,_+=":",_+=T,_+=`\r
`}),_}function Ra(h,_,T){e:{for(C in T){var C=!1;break e}C=!0}C||(T=wi(T),typeof h=="string"?T!=null&&ht(T):ft(h,_,T))}function gt(h){ot.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(gt,ot);var ys=/^https?$/i,ac=["POST","PUT"];t=gt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,T,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Q.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(ee){Ia(this,ee);return}if(h=T||"",T=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var Y in C)T.set(Y,C[Y]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const ee of C.keys())T.set(ee,C.get(ee));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(T.keys()).find(ee=>ee.toLowerCase()=="content-type"),Y=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(ac,_,void 0)>=0)||C||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,ve]of T)this.g.setRequestHeader(ee,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(ee){Ia(this,ee)}};function Ia(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,oc(h),Bs(h)}function oc(h){h.A||(h.A=!0,$e(h,"complete"),$e(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,$e(this,"complete"),$e(this,"abort"),Bs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bs(this,!0)),gt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Na(this):this.Xa())},t.Xa=function(){Na(this)};function Na(h){if(h.h&&typeof l<"u"){if(h.v&&Gi(h)==4)setTimeout(h.Ca.bind(h),0);else if($e(h,"readystatechange"),Gi(h)==4){h.h=!1;try{const ee=h.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var C;if(C=ee===0){let ve=String(h.D).match(eh)[1]||null;!ve&&u.self&&u.self.location&&(ve=u.self.location.protocol.slice(0,-1)),C=!ys.test(ve?ve.toLowerCase():"")}T=C}if(T)$e(h,"complete"),$e(h,"success");else{h.o=6;try{var Y=Gi(h)>2?h.g.statusText:""}catch{Y=""}h.l=Y+" ["+h.ca()+"]",oc(h)}}finally{Bs(h)}}}}function Bs(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,_||$e(h,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Gi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Gi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),gi(_)}};function Tn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Fs(h){const _={};h=(h.g&&Gi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(N(h[C]))continue;var T=jt(h[C]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ee=_[Y]||[];_[Y]=ee,ee.push(T)}G(_,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vs(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function Sr(h){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vs("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vs("baseRetryDelayMs",5e3,h),this.Za=vs("retryDelaySeedMs",1e4,h),this.Ta=vs("forwardChannelMaxRetries",2,h),this.va=vs("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Xl(h&&h.concurrentRequestLimit),this.Ba=new Er,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Sr.prototype,t.ka=8,t.I=1,t.connect=function(h,_,T,C){Nt(0),this.W=h,this.H=_||{},T&&C!==void 0&&(this.H.OSID=T,this.H.OAID=C),this.F=this.X,this.J=hh(this,null,this.W),_s(this)};function lc(h){if(Ro(h),h.I==3){var _=h.V++,T=Wt(h.J);if(ft(T,"SID",h.M),ft(T,"RID",_),ft(T,"TYPE","terminate"),Da(h,T),_=new pt(h,h.j,_),_.M=2,_.A=Sa(Wt(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=_.A,T=!0),T||(_.g=fh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),us(_)}uh(h)}function Ar(h){h.g&&(uc(h),h.g.cancel(),h.g=null)}function Ro(h){Ar(h),h.v&&(u.clearTimeout(h.v),h.v=null),No(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function _s(h){if(!Wl(h.h)&&!h.m){h.m=!0;var _=h.Ea;re||x(),de||(re(),de=!0),D.add(_,h),h.D=0}}function Io(h,_){return ds(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=vi(p(h.Ea,h,_),ch(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Y=new pt(this,this.j,h);let ee=this.o;if(this.U&&(ee?(ee=S(ee),J(ee,this.U)):ee=this.U),this.u!==null||this.R||(Y.J=ee,ee=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var C=this.i[T];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(_+=C,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=rh(this,Y,_),T=Wt(this.J),ft(T,"RID",h),ft(T,"CVER",22),this.G&&ft(T,"X-HTTP-Session-Id",this.G),Da(this,T),ee&&(this.R?_="headers="+ht(wi(ee))+"&"+_:this.u&&Ra(T,this.u,ee)),Zl(this.h,Y),this.Ra&&ft(T,"TYPE","init"),this.S?(ft(T,"$req",_),ft(T,"SID","null"),Y.U=!0,cs(Y,T,null)):cs(Y,T,_),this.I=2}}else this.I==3&&(h?cc(this,h):this.i.length==0||Wl(this.h)||cc(this))};function cc(h,_){var T;_?T=_.l:T=h.V++;const C=Wt(h.J);ft(C,"SID",h.M),ft(C,"RID",T),ft(C,"AID",h.K),Da(h,C),h.u&&h.o&&Ra(C,h.u,h.o),T=new pt(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),_&&(h.i=_.G.concat(h.i)),_=rh(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Zl(h.h,T),cs(T,C,_)}function Da(h,_){h.H&&De(h.H,function(T,C){ft(_,C,T)}),h.l&&De({},function(T,C){ft(_,C,T)})}function rh(h,_,T){T=Math.min(h.i.length,T);const C=h.l?p(h.l.Ka,h.l,h):null;e:{var Y=h.i;let ze=-1;for(;;){const Gt=["count="+T];ze==-1?T>0?(ze=Y[0].g,Gt.push("ofs="+ze)):ze=0:Gt.push("ofs="+ze);let rt=!0;for(let Dt=0;Dt<T;Dt++){var ee=Y[Dt].g;const Ti=Y[Dt].map;if(ee-=ze,ee<0)ze=Math.max(0,Y[Dt].g-100),rt=!1;else try{ee="req"+ee+"_"||"";try{var ve=Ti instanceof Map?Ti:Object.entries(Ti);for(const[ws,Ki]of ve){let $i=Ki;f(Ki)&&($i=lt(Ki)),Gt.push(ee+ws+"="+encodeURIComponent($i))}}catch(ws){throw Gt.push(ee+"type="+encodeURIComponent("_badmap")),ws}}catch{C&&C(Ti)}}if(rt){ve=Gt.join("&");break e}}ve=void 0}return h=h.i.splice(0,T),_.G=h,ve}function ah(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;re||x(),de||(re(),de=!0),D.add(_,h),h.A=0}}function ka(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=vi(p(h.Da,h),ch(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,oh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=vi(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),Ar(this),oh(this))};function uc(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function oh(h){h.g=new pt(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Wt(h.na);ft(_,"RID","rpc"),ft(_,"SID",h.M),ft(_,"AID",h.K),ft(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&ft(_,"TO",h.ia),ft(_,"TYPE","xmlhttp"),Da(h,_),h.u&&h.o&&Ra(_,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Sa(Wt(_)),T.u=null,T.R=!0,wo(T,h)}t.Va=function(){this.C!=null&&(this.C=null,Ar(this),ka(this),Nt(19))};function No(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function lh(h,_){var T=null;if(h.g==_){No(h),uc(h),h.g=null;var C=2}else if(ms(h.h,_))T=_.G,Jl(h.h,_),C=1;else return;if(h.I!=0){if(_.o)if(C==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var Y=h.D;C=zs(),$e(C,new yi(C,T)),_s(h)}else ah(h);else if(Y=_.m,Y==3||Y==0&&_.X>0||!(C==1&&Io(h,_)||C==2&&ka(h)))switch(T&&T.length>0&&(_=h.h,_.i=_.i.concat(T)),Y){case 1:bs(h,5);break;case 4:bs(h,10);break;case 3:bs(h,6);break;default:bs(h,2)}}}function ch(h,_){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*_}function bs(h,_){if(h.j.info("Error code "+_),_==2){var T=p(h.bb,h),C=h.Ua;const Y=!C;C=new ti(C||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||pn(C,"https"),Sa(C),Y?Hi(C.toString(),T):rc(C.toString(),T)}else Nt(2);h.I=0,h.l&&h.l.pa(_),uh(h),Ro(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function uh(h){if(h.I=0,h.ja=[],h.l){const _=ec(h.h);(_.length!=0||h.i.length!=0)&&(M(h.ja,_),M(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function hh(h,_,T){var C=T instanceof ti?Wt(T):new ti(T);if(C.g!="")_&&(C.g=_+"."+C.g),_r(C,C.u);else{var Y=u.location;C=Y.protocol,_=_?_+"."+Y.hostname:Y.hostname,Y=+Y.port;const ee=new ti(null);C&&pn(ee,C),_&&(ee.g=_),Y&&_r(ee,Y),T&&(ee.h=T),C=ee}return T=h.G,_=h.wa,T&&_&&ft(C,T,_),ft(C,"VER",h.ka),Da(h,C),C}function fh(h,_,T){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new gt(new gs({ab:T})):new gt(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dh(){}t=dh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Cr(){}Cr.prototype.g=function(h,_){return new On(h,_)};function On(h,_){ot.call(this),this.g=new Sr(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!N(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!N(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Hs(this)}v(On,ot),On.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){lc(this.g)},On.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=lt(h),h=T);_.i.push(new Xt(_.Ya++,h)),_.I==3&&_s(_)},On.prototype.N=function(){this.g.l=null,delete this.j,lc(this.g),delete this.g,On.Z.N.call(this)};function mh(h){Qt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}v(mh,Qt);function ph(){Pn.call(this),this.status=1}v(ph,Pn);function Hs(h){this.g=h}v(Hs,dh),Hs.prototype.ra=function(){$e(this.g,"a")},Hs.prototype.qa=function(h){$e(this.g,new mh(h))},Hs.prototype.pa=function(h){$e(this.g,new ph)},Hs.prototype.oa=function(){$e(this.g,"b")},Cr.prototype.createWebChannel=Cr.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,OS=function(){return new Cr},PS=function(){return zs()},VS=xt,ay={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fi.NO_ERROR=0,Fi.TIMEOUT=8,Fi.HTTP_ERROR=6,zf=Fi,xa.COMPLETE="complete",MS=xa,Ui.EventType=ln,ln.OPEN="a",ln.CLOSE="b",ln.ERROR="c",ln.MESSAGE="d",ot.prototype.listen=ot.prototype.J,Jc=Ui,gt.prototype.listenOnce=gt.prototype.K,gt.prototype.getLastError=gt.prototype.Ha,gt.prototype.getLastErrorCode=gt.prototype.ya,gt.prototype.getStatus=gt.prototype.ca,gt.prototype.getResponseJson=gt.prototype.La,gt.prototype.getResponseText=gt.prototype.la,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Fa,kS=gt}).apply(typeof Tf<"u"?Tf:typeof self<"u"?self:typeof window<"u"?window:{});let Dn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");let Ul="12.8.0";function MP(t){Ul=t}const uo=new iv("@firebase/firestore");function cl(){return uo.logLevel}function be(t,...e){if(uo.logLevel<=Ze.DEBUG){const n=e.map(gv);uo.debug(`Firestore (${Ul}): ${t}`,...n)}}function gr(t,...e){if(uo.logLevel<=Ze.ERROR){const n=e.map(gv);uo.error(`Firestore (${Ul}): ${t}`,...n)}}function ho(t,...e){if(uo.logLevel<=Ze.WARN){const n=e.map(gv);uo.warn(`Firestore (${Ul}): ${t}`,...n)}}function gv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Me(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,LS(t,s,n)}function LS(t,e,n){let s=`FIRESTORE (${Ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw gr(s),new Error(s)}function ut(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||LS(e,a,s)}function Ue(t,e){return t}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends js{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ur{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class jS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class US{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Dn.UNAUTHENTICATED)))}shutdown(){}}class VP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class PP{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ur,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ur)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ut(typeof s.accessToken=="string",31837,{l:s}),new jS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new Dn(e)}}class OP{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class LP{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new OP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class FT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ut(this.o===void 0,3512);const s=l=>{l.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,be("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new FT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new FT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function UP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class Fd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=UP(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Je(t,e){return t<e?-1:t>e?1:0}function oy(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Tg(a)===Tg(l)?Je(a,l):Tg(a)?1:-1}return Je(t.length,e.length)}const zP=55296,BP=57343;function Tg(t){const e=t.charCodeAt(0);return e>=zP&&e<=BP}function Cl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const HT="__name__";class As{constructor(e,n,s){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Me(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return As.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof As?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=As.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Je(e.length,n.length)}static compareSegments(e,n){const s=As.isNumericId(e),a=As.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?As.extractNumericId(e).compare(As.extractNumericId(n)):oy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return aa.fromString(e.substring(4,e.length-2))}}class St extends As{construct(e,n,s){return new St(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new _e(ue.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new St(n)}static emptyPath(){return new St([])}}const FP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends As{construct(e,n,s){return new vn(e,n,s)}static isValidIdentifier(e){return FP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===HT}static keyField(){return new vn([HT])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new _e(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new _e(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new _e(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(s+=f,a++):(l(),a++)}if(l(),u)throw new _e(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(n)}static emptyPath(){return new vn([])}}class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(St.fromString(e))}static fromName(e){return new Ie(St.fromString(e).popFirst(5))}static empty(){return new Ie(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return St.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new St(e.slice()))}}function zS(t,e,n){if(!n)throw new _e(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function BS(t,e,n,s){if(e===!0&&s===!0)throw new _e(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qT(t){if(!Ie.isDocumentKey(t))throw new _e(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function GT(t){if(Ie.isDocumentKey(t))throw new _e(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function FS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Hd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function zn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hd(t);throw new _e(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function an(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ou(t,e){if(!FS(t))throw new _e(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new _e(ue.INVALID_ARGUMENT,n);return!0}const KT=-62135596800,$T=1e6;class He{static now(){return He.fromMillis(Date.now())}static fromDate(e){return He.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*$T);return new He(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<KT)throw new _e(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$T}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:He._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ou(e,He._jsonSchema))return new He(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-KT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}He._jsonSchemaVersion="firestore/timestamp/1.0",He._jsonSchema={type:an("string",He._jsonSchemaVersion),seconds:an("number"),nanoseconds:an("number")};class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new He(0,0))}static max(){return new Le(new He(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const _u=-1;function HP(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Le.fromTimestamp(s===1e9?new He(n+1,0):new He(n,s));return new ua(a,Ie.empty(),e)}function qP(t){return new ua(t.readTime,t.key,_u)}class ua{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ua(Le.min(),Ie.empty(),_u)}static max(){return new ua(Le.max(),Ie.empty(),_u)}}function GP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}const KP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $P{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function zl(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==KP)throw t;be("LocalStore","Unexpectedly lost primary lease")}class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):he.reject(n)}static resolve(e){return new he(((n,s)=>{n(e)}))}static reject(e){return new he(((n,s)=>{s(e)}))}static waitFor(e){return new he(((n,s)=>{let a=0,l=0,u=!1;e.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&n()}),(m=>s(m)))})),u=!0,l===a&&n()}))}static or(e){let n=he.resolve(!1);for(const s of e)n=n.next((a=>a?he.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new he(((s,a)=>{const l=e.length,u=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((y=>{u[p]=y,++f,f===l&&s(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new he(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function YP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bl(t){return t.name==="IndexedDbTransactionError"}class qd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}qd.ce=-1;const yv=-1;function Gd(t){return t==null}function rd(t){return t===0&&1/t==-1/0}function QP(t){return typeof t=="number"&&Number.isInteger(t)&&!rd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const HS="";function XP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=YT(e)),e=WP(t.get(n),e);return YT(e)}function WP(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case HS:n+="";break;default:n+=l}}return n}function YT(t){return t+HS+""}function QT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _a(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Lt{constructor(e,n){this.comparator=e,this.root=n||Rn.EMPTY}insert(e,n){return new Lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ef(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ef(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ef(this.root,e,this.comparator,!0)}}class Ef{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??Rn.RED,this.left=a??Rn.EMPTY,this.right=l??Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new Rn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Rn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new Rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dn{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new XT(this.data.getIterator())}getIteratorFrom(e){return new XT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new dn(this.comparator);return n.data=e,n}}class XT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ui{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new ui([])}unionWith(e){let n=new dn(vn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ui(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Cl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class GS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new GS("Invalid base64 string: "+l):l}})(e);return new _n(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new _n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const ZP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ha(t){if(ut(!!t,39018),typeof t=="string"){let e=0;const n=ZP.exec(t);if(ut(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fa(t){return typeof t=="string"?_n.fromBase64String(t):_n.fromUint8Array(t)}const KS="server_timestamp",$S="__type__",YS="__previous_value__",QS="__local_write_time__";function vv(t){return(t?.mapValue?.fields||{})[$S]?.stringValue===KS}function Kd(t){const e=t.mapValue.fields[YS];return vv(e)?Kd(e):e}function bu(t){const e=ha(t.mapValue.fields[QS].timestampValue);return new He(e.seconds,e.nanos)}class JP{constructor(e,n,s,a,l,u,f,m,p,y,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y,this.apiKey=v}}const ad="(default)";class Rl{constructor(e,n){this.projectId=e,this.database=n||ad}static empty(){return new Rl("","")}get isDefaultDatabase(){return this.database===ad}isEqual(e){return e instanceof Rl&&e.projectId===this.projectId&&e.database===this.database}}function eO(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new _e(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(t.options.projectId,e)}const XS="__type__",tO="__max__",xf={mapValue:{}},WS="__vector__",od="value";function da(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vv(t)?4:iO(t)?9007199254740991:nO(t)?10:11:Me(28295,{value:t})}function Vs(t,e){if(t===e)return!0;const n=da(t);if(n!==da(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bu(t).isEqual(bu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=ha(a.timestampValue),f=ha(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return fa(a.bytesValue).isEqual(fa(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Yt(a.geoPointValue.latitude)===Yt(l.geoPointValue.latitude)&&Yt(a.geoPointValue.longitude)===Yt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Yt(a.integerValue)===Yt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Yt(a.doubleValue),f=Yt(l.doubleValue);return u===f?rd(u)===rd(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return Cl(t.arrayValue.values||[],e.arrayValue.values||[],Vs);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(QT(u)!==QT(f))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(f[m]===void 0||!Vs(u[m],f[m])))return!1;return!0})(t,e);default:return Me(52216,{left:t})}}function wu(t,e){return(t.values||[]).find((n=>Vs(n,e)))!==void 0}function Il(t,e){if(t===e)return 0;const n=da(t),s=da(e);if(n!==s)return Je(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=Yt(l.integerValue||l.doubleValue),m=Yt(u.integerValue||u.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return WT(t.timestampValue,e.timestampValue);case 4:return WT(bu(t),bu(e));case 5:return oy(t.stringValue,e.stringValue);case 6:return(function(l,u){const f=fa(l),m=fa(u);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),m=u.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=Je(f[p],m[p]);if(y!==0)return y}return Je(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=Je(Yt(l.latitude),Yt(u.latitude));return f!==0?f:Je(Yt(l.longitude),Yt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return ZT(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const f=l.fields||{},m=u.fields||{},p=f[od]?.arrayValue,y=m[od]?.arrayValue,v=Je(p?.values?.length||0,y?.values?.length||0);return v!==0?v:ZT(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===xf.mapValue&&u===xf.mapValue)return 0;if(l===xf.mapValue)return 1;if(u===xf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=u.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let v=0;v<m.length&&v<y.length;++v){const E=oy(m[v],y[v]);if(E!==0)return E;const R=Il(f[m[v]],p[y[v]]);if(R!==0)return R}return Je(m.length,y.length)})(t.mapValue,e.mapValue);default:throw Me(23264,{he:n})}}function WT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const n=ha(t),s=ha(e),a=Je(n.seconds,s.seconds);return a!==0?a:Je(n.nanos,s.nanos)}function ZT(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Il(n[a],s[a]);if(l)return l}return Je(n.length,s.length)}function Nl(t){return ly(t)}function ly(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=ha(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return fa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ie.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=ly(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${ly(n.fields[u])}`;return a+"}"})(t.mapValue):Me(61005,{value:t})}function Bf(t){switch(da(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kd(t);return e?16+Bf(e):16;case 5:return 2*t.stringValue.length;case 6:return fa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Bf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return _a(s.fields,((l,u)=>{a+=l.length+Bf(u)})),a})(t.mapValue);default:throw Me(13486,{value:t})}}function JT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function cy(t){return!!t&&"integerValue"in t}function _v(t){return!!t&&"arrayValue"in t}function eE(t){return!!t&&"nullValue"in t}function tE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ff(t){return!!t&&"mapValue"in t}function nO(t){return(t?.mapValue?.fields||{})[XS]?.stringValue===WS}function au(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return _a(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=au(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=au(t.arrayValue.values[n]);return e}return{...t}}function iO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===tO}class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ff(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=au(n)}setAll(e){let n=vn.emptyPath(),s={},a=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}u?s[f.lastSegment()]=au(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Ff(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Ff(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){_a(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Xn(au(this.value))}}function ZS(t){const e=[];return _a(t.fields,((n,s)=>{const a=new vn([n]);if(Ff(s)){const l=ZS(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new ui(e)}class kn{constructor(e,n,s,a,l,u,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new kn(e,0,Le.min(),Le.min(),Le.min(),Xn.empty(),0)}static newFoundDocument(e,n,s,a){return new kn(e,1,n,Le.min(),s,a,0)}static newNoDocument(e,n){return new kn(e,2,n,Le.min(),Le.min(),Xn.empty(),0)}static newUnknownDocument(e,n){return new kn(e,3,n,Le.min(),Le.min(),Xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ld{constructor(e,n){this.position=e,this.inclusive=n}}function nE(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=Ie.comparator(Ie.fromName(u.referenceValue),n.key):s=Il(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function iE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vs(t.position[n],e.position[n]))return!1;return!0}class cd{constructor(e,n="asc"){this.field=e,this.dir=n}}function sO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class JS{}class rn extends JS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new aO(e,n,s):n==="array-contains"?new cO(e,s):n==="in"?new uO(e,s):n==="not-in"?new hO(e,s):n==="array-contains-any"?new fO(e,s):new rn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new oO(e,s):new lO(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Il(n,this.value)):n!==null&&da(this.value)===da(n)&&this.matchesComparison(Il(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ss extends JS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ss(e,n)}matches(e){return eA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function eA(t){return t.op==="and"}function tA(t){return rO(t)&&eA(t)}function rO(t){for(const e of t.filters)if(e instanceof ss)return!1;return!0}function uy(t){if(t instanceof rn)return t.field.canonicalString()+t.op.toString()+Nl(t.value);if(tA(t))return t.filters.map((e=>uy(e))).join(",");{const e=t.filters.map((n=>uy(n))).join(",");return`${t.op}(${e})`}}function nA(t,e){return t instanceof rn?(function(s,a){return a instanceof rn&&s.op===a.op&&s.field.isEqual(a.field)&&Vs(s.value,a.value)})(t,e):t instanceof ss?(function(s,a){return a instanceof ss&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,f)=>l&&nA(u,a.filters[f])),!0):!1})(t,e):void Me(19439)}function iA(t){return t instanceof rn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Nl(n.value)}`})(t):t instanceof ss?(function(n){return n.op.toString()+" {"+n.getFilters().map(iA).join(" ,")+"}"})(t):"Filter"}class aO extends rn{constructor(e,n,s){super(e,n,s),this.key=Ie.fromName(s.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class oO extends rn{constructor(e,n){super(e,"in",n),this.keys=sA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class lO extends rn{constructor(e,n){super(e,"not-in",n),this.keys=sA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function sA(t,e){return(e.arrayValue?.values||[]).map((n=>Ie.fromName(n.referenceValue)))}class cO extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _v(n)&&wu(n.arrayValue,this.value)}}class uO extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wu(this.value.arrayValue,n)}}class hO extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wu(this.value.arrayValue,n)}}class fO extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_v(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>wu(this.value.arrayValue,s)))}}class dO{constructor(e,n=null,s=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function sE(t,e=null,n=[],s=[],a=null,l=null,u=null){return new dO(t,e,n,s,a,l,u)}function bv(t){const e=Ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>uy(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Gd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Nl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Nl(s))).join(",")),e.Te=n}return e.Te}function wv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!sO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!nA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iE(t.startAt,e.startAt)&&iE(t.endAt,e.endAt)}function hy(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Lu{constructor(e,n=null,s=[],a=[],l=null,u="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function mO(t,e,n,s,a,l,u,f){return new Lu(t,e,n,s,a,l,u,f)}function $d(t){return new Lu(t)}function rE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function pO(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function rA(t){return t.collectionGroup!==null}function ou(t){const e=Ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new dn(vn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new cd(l,s))})),n.has(vn.keyField().canonicalString())||e.Ie.push(new cd(vn.keyField(),s))}return e.Ie}function Is(t){const e=Ue(t);return e.Ee||(e.Ee=gO(e,ou(t))),e.Ee}function gO(t,e){if(t.limitType==="F")return sE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new cd(a.field,l)}));const n=t.endAt?new ld(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new ld(t.startAt.position,t.startAt.inclusive):null;return sE(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function fy(t,e){const n=t.filters.concat([e]);return new Lu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dy(t,e,n){return new Lu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yd(t,e){return wv(Is(t),Is(e))&&t.limitType===e.limitType}function aA(t){return`${bv(Is(t))}|lt:${t.limitType}`}function ul(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>iA(a))).join(", ")}]`),Gd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Nl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Nl(a))).join(",")),`Target(${s})`})(Is(t))}; limitType=${t.limitType})`}function Qd(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ie.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of ou(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,f,m){const p=nE(u,f,m);return u.inclusive?p<=0:p<0})(s.startAt,ou(s),a)||s.endAt&&!(function(u,f,m){const p=nE(u,f,m);return u.inclusive?p>=0:p>0})(s.endAt,ou(s),a))})(t,e)}function yO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function oA(t){return(e,n)=>{let s=!1;for(const a of ou(t)){const l=vO(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function vO(t,e,n){const s=t.field.isKeyField()?Ie.comparator(e.key,n.key):(function(l,u,f){const m=u.data.field(l),p=f.data.field(l);return m!==null&&p!==null?Il(m,p):Me(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Me(19790,{direction:t.dir})}}class go{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){_a(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return qS(this.inner)}size(){return this.innerSize}}const _O=new Lt(Ie.comparator);function yr(){return _O}const lA=new Lt(Ie.comparator);function eu(...t){let e=lA;for(const n of t)e=e.insert(n.key,n);return e}function cA(t){let e=lA;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function to(){return lu()}function uA(){return lu()}function lu(){return new go((t=>t.toString()),((t,e)=>t.isEqual(e)))}const bO=new Lt(Ie.comparator),wO=new dn(Ie.comparator);function et(...t){let e=wO;for(const n of t)e=e.add(n);return e}const TO=new dn(Je);function EO(){return TO}function Tv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rd(e)?"-0":e}}function hA(t){return{integerValue:""+t}}function xO(t,e){return QP(e)?hA(e):Tv(t,e)}class Xd{constructor(){this._=void 0}}function SO(t,e,n){return t instanceof ud?(function(a,l){const u={fields:{[$S]:{stringValue:KS},[QS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&vv(l)&&(l=Kd(l)),l&&(u.fields[YS]=l),{mapValue:u}})(n,e):t instanceof Tu?dA(t,e):t instanceof Eu?mA(t,e):(function(a,l){const u=fA(a,l),f=aE(u)+aE(a.Ae);return cy(u)&&cy(a.Ae)?hA(f):Tv(a.serializer,f)})(t,e)}function AO(t,e,n){return t instanceof Tu?dA(t,e):t instanceof Eu?mA(t,e):n}function fA(t,e){return t instanceof hd?(function(s){return cy(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class ud extends Xd{}class Tu extends Xd{constructor(e){super(),this.elements=e}}function dA(t,e){const n=pA(e);for(const s of t.elements)n.some((a=>Vs(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Eu extends Xd{constructor(e){super(),this.elements=e}}function mA(t,e){let n=pA(e);for(const s of t.elements)n=n.filter((a=>!Vs(a,s)));return{arrayValue:{values:n}}}class hd extends Xd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function aE(t){return Yt(t.integerValue||t.doubleValue)}function pA(t){return _v(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function CO(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Tu&&a instanceof Tu||s instanceof Eu&&a instanceof Eu?Cl(s.elements,a.elements,Vs):s instanceof hd&&a instanceof hd?Vs(s.Ae,a.Ae):s instanceof ud&&a instanceof ud})(t.transform,e.transform)}class RO{constructor(e,n){this.version=e,this.transformResults=n}}class Pi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pi}static exists(e){return new Pi(void 0,e)}static updateTime(e){return new Pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wd{}function gA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ev(t.key,Pi.none()):new ju(t.key,t.data,Pi.none());{const n=t.data,s=Xn.empty();let a=new dn(vn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new ba(t.key,s,new ui(a.toArray()),Pi.none())}}function IO(t,e,n){t instanceof ju?(function(a,l,u){const f=a.value.clone(),m=lE(a.fieldTransforms,l,u.transformResults);f.setAll(m),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof ba?(function(a,l,u){if(!Hf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=lE(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(yA(a)),m.setAll(f),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function cu(t,e,n,s){return t instanceof ju?(function(l,u,f,m){if(!Hf(l.precondition,u))return f;const p=l.value.clone(),y=cE(l.fieldTransforms,m,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof ba?(function(l,u,f,m){if(!Hf(l.precondition,u))return f;const p=cE(l.fieldTransforms,m,u),y=u.data;return y.setAll(yA(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,s):(function(l,u,f){return Hf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function NO(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=fA(s.transform,a||null);l!=null&&(n===null&&(n=Xn.empty()),n.set(s.field,l))}return n||null}function oE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Cl(s,a,((l,u)=>CO(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ju extends Wd{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ba extends Wd{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function yA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function lE(t,e,n){const s=new Map;ut(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,f=e.data.field(l.field);s.set(l.field,AO(u,f,n[a]))}return s}function cE(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,SO(l,u,e))}return s}class Ev extends Wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DO extends Wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kO{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&IO(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=cu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=cu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=uA();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(a.key)?null:f;const m=gA(u,f);m!==null&&s.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Le.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),et())}isEqual(e){return this.batchId===e.batchId&&Cl(this.mutations,e.mutations,((n,s)=>oE(n,s)))&&Cl(this.baseMutations,e.baseMutations,((n,s)=>oE(n,s)))}}class xv{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){ut(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return bO})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new xv(e,n,s,a)}}class MO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class VO{constructor(e,n){this.count=e,this.unchangedNames=n}}var nn,nt;function PO(t){switch(t){case ue.OK:return Me(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function vA(t){if(t===void 0)return gr("GRPC error has no .code"),ue.UNKNOWN;switch(t){case nn.OK:return ue.OK;case nn.CANCELLED:return ue.CANCELLED;case nn.UNKNOWN:return ue.UNKNOWN;case nn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case nn.INTERNAL:return ue.INTERNAL;case nn.UNAVAILABLE:return ue.UNAVAILABLE;case nn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case nn.NOT_FOUND:return ue.NOT_FOUND;case nn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case nn.ABORTED:return ue.ABORTED;case nn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case nn.DATA_LOSS:return ue.DATA_LOSS;default:return Me(39323,{code:t})}}(nt=nn||(nn={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";function OO(){return new TextEncoder}const LO=new aa([4294967295,4294967295],0);function uE(t){const e=OO().encode(t),n=new DS;return n.update(e),new Uint8Array(n.digest())}function hE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new aa([n,s],0),new aa([a,l],0)]}class Sv{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new tu(`Invalid padding: ${n}`);if(s<0)throw new tu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new tu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new tu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=aa.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(aa.fromNumber(s)));return a.compare(LO)===1&&(a=new aa([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=uE(e),[s,a]=hE(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Sv(l,a,n);return s.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=uE(e),[s,a]=hE(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.be(u)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Zd(Le.min(),a,new Lt(Je),yr(),et())}}class Uu{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Uu(s,n,et(),et(),et())}}class qf{constructor(e,n,s,a){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=a}}class _A{constructor(e,n){this.targetId=e,this.Ce=n}}class bA{constructor(e,n,s=_n.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class fE{constructor(){this.ve=0,this.Fe=dE(),this.Me=_n.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=et(),n=et(),s=et();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Me(38017,{changeType:l})}})),new Uu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=dE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class jO{constructor(e){this.Ge=e,this.ze=new Map,this.je=yr(),this.He=Sf(),this.Je=Sf(),this.Ze=new Lt(Je)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(hy(l))if(s===0){const u=new Ie(l.path);this.et(n,u,kn.newNoDocument(u,Le.min()))}else ut(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const f=this.ut(e),m=f?this.ct(f,e,u):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,f;try{u=fa(s).toUint8Array()}catch(m){if(m instanceof GS)return ho("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Sv(u,a,l)}catch(m){return ho(m instanceof tu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&hy(f.target)){const m=new Ie(f.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,kn.newNoDocument(m,e))}l.Be&&(n.set(u,l.ke()),l.Ke())}}));let s=et();this.Je.forEach(((l,u)=>{let f=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Zd(e,n,this.Ze,this.je,s);return this.je=yr(),this.He=Sf(),this.Je=Sf(),this.Ze=new Lt(Je),a}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new fE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new dn(Je),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new dn(Je),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||be("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new fE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Sf(){return new Lt(Ie.comparator)}function dE(){return new Lt(Ie.comparator)}const UO={asc:"ASCENDING",desc:"DESCENDING"},zO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BO={and:"AND",or:"OR"};class FO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function my(t,e){return t.useProto3Json||Gd(e)?e:{value:e}}function fd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function HO(t,e){return fd(t,e.toTimestamp())}function Ns(t){return ut(!!t,49232),Le.fromTimestamp((function(n){const s=ha(n);return new He(s.seconds,s.nanos)})(t))}function Av(t,e){return py(t,e).canonicalString()}function py(t,e){const n=(function(a){return new St(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function TA(t){const e=St.fromString(t);return ut(CA(e),10190,{key:e.toString()}),e}function gy(t,e){return Av(t.databaseId,e.path)}function Eg(t,e){const n=TA(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(xA(n))}function EA(t,e){return Av(t.databaseId,e)}function qO(t){const e=TA(t);return e.length===4?St.emptyPath():xA(e)}function yy(t){return new St(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xA(t){return ut(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function mE(t,e,n){return{name:gy(t,e),fields:n.value.mapValue.fields}}function GO(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Me(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(ut(y===void 0||typeof y=="string",58123),_n.fromBase64String(y||"")):(ut(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),_n.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(p){const y=p.code===void 0?ue.UNKNOWN:vA(p.code);return new _e(y,p.message||"")})(u);n=new bA(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Eg(t,s.document.name),l=Ns(s.document.updateTime),u=s.document.createTime?Ns(s.document.createTime):Le.min(),f=new Xn({mapValue:{fields:s.document.fields}}),m=kn.newFoundDocument(a,l,u,f),p=s.targetIds||[],y=s.removedTargetIds||[];n=new qf(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Eg(t,s.document),l=s.readTime?Ns(s.readTime):Le.min(),u=kn.newNoDocument(a,l),f=s.removedTargetIds||[];n=new qf([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Eg(t,s.document),l=s.removedTargetIds||[];n=new qf([],l,a,null)}else{if(!("filter"in e))return Me(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new VO(a,l),f=s.targetId;n=new _A(f,u)}}return n}function KO(t,e){let n;if(e instanceof ju)n={update:mE(t,e.key,e.value)};else if(e instanceof Ev)n={delete:gy(t,e.key)};else if(e instanceof ba)n={update:mE(t,e.key,e.data),updateMask:t4(e.fieldMask)};else{if(!(e instanceof DO))return Me(16599,{dt:e.type});n={verify:gy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const f=u.transform;if(f instanceof ud)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Tu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Eu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof hd)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Me(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:HO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Me(27497)})(t,e.precondition)),n}function $O(t,e){return t&&t.length>0?(ut(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?Ns(a.updateTime):Ns(l);return u.isEqual(Le.min())&&(u=Ns(l)),new RO(u,a.transformResults||[])})(n,e)))):[]}function YO(t,e){return{documents:[EA(t,e.path)]}}function QO(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=EA(t,a);const l=(function(p){if(p.length!==0)return AA(ss.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((y=>(function(E){return{field:hl(E.field),direction:ZO(E.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=my(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function XO(t){let e=qO(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){ut(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(v){const E=SA(v);return E instanceof ss&&tA(E)?E.getFilters():[E]})(n.where));let u=[];n.orderBy&&(u=(function(v){return v.map((E=>(function(M){return new cd(fl(M.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(E)))})(n.orderBy));let f=null;n.limit&&(f=(function(v){let E;return E=typeof v=="object"?v.value:v,Gd(E)?null:E})(n.limit));let m=null;n.startAt&&(m=(function(v){const E=!!v.before,R=v.values||[];return new ld(R,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const E=!v.before,R=v.values||[];return new ld(R,E)})(n.endAt)),mO(e,a,u,l,f,"F",m,p)}function WO(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function SA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=fl(n.unaryFilter.field);return rn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=fl(n.unaryFilter.field);return rn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=fl(n.unaryFilter.field);return rn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=fl(n.unaryFilter.field);return rn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(t):t.fieldFilter!==void 0?(function(n){return rn.create(fl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ss.create(n.compositeFilter.filters.map((s=>SA(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(n.compositeFilter.op))})(t):Me(30097,{filter:t})}function ZO(t){return UO[t]}function JO(t){return zO[t]}function e4(t){return BO[t]}function hl(t){return{fieldPath:t.canonicalString()}}function fl(t){return vn.fromServerFormat(t.fieldPath)}function AA(t){return t instanceof rn?(function(n){if(n.op==="=="){if(tE(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NAN"}};if(eE(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tE(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NOT_NAN"}};if(eE(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hl(n.field),op:JO(n.op),value:n.value}}})(t):t instanceof ss?(function(n){const s=n.getFilters().map((a=>AA(a)));return s.length===1?s[0]:{compositeFilter:{op:e4(n.op),filters:s}}})(t):Me(54877,{filter:t})}function t4(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function CA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function RA(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class na{constructor(e,n,s,a,l=Le.min(),u=Le.min(),f=_n.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new na(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class n4{constructor(e){this.yt=e}}function i4(t){const e=XO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dy(e,e.limit,"L"):e}class s4{constructor(){this.Sn=new r4}addToCollectionParentIndex(e,n){return this.Sn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(ua.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(ua.min())}updateCollectionGroup(e,n,s){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class r4{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new dn(St.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new dn(St.comparator)).toArray()}}const pE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},IA=41943040;class Yn{static withCacheSize(e){return new Yn(e,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Yn.DEFAULT_COLLECTION_PERCENTILE=10,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yn.DEFAULT=new Yn(IA,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yn.DISABLED=new Yn(-1,0,0);class Dl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Dl(0)}static ar(){return new Dl(-1)}}const gE="LruGarbageCollector",a4=1048576;function yE([t,e],[n,s]){const a=Je(t,n);return a===0?Je(e,s):a}class o4{constructor(e){this.Pr=e,this.buffer=new dn(yE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();yE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class l4{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){be(gE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Bl(n)?be(gE,"Ignoring IndexedDB error during garbage collection: ",n):await zl(n)}await this.Ar(3e5)}))}}class c4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return he.resolve(qd.ce);const s=new o4(n);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(pE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,a,l,u,f,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(s=v,f=Date.now(),this.removeTargets(e,s,n)))).next((v=>(l=v,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((v=>(p=Date.now(),cl()<=Ze.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${v} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function u4(t,e){return new c4(t,e)}class h4{constructor(){this.changes=new go((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?he.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class f4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class d4{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&cu(s.mutation,a,ui.empty(),He.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,et()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=et()){const a=to();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=eu();return l.forEach(((f,m)=>{u=u.insert(f,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=to();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,et())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,s,a){let l=yr();const u=lu(),f=(function(){return lu()})();return n.forEach(((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof ba)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),cu(y.mutation,p,y.mutation.getFieldMask(),He.now())):u.set(p.key,ui.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,y)=>u.set(p,y))),n.forEach(((p,y)=>f.set(p,new f4(y,u.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=lu();let a=new Lt(((u,f)=>u-f)),l=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||ui.empty();y=f.applyToLocalView(p,y),s.set(m,y);const v=(a.get(f.batchId)||et()).add(m);a=a.insert(f.batchId,v)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,v=uA();y.forEach((E=>{if(!l.has(E)){const R=gA(n.get(E),s.get(E));R!==null&&v.set(E,R),l=l.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return he.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return pO(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):he.resolve(to());let f=_u,m=l;return u.next((p=>he.forEach(p,((y,v)=>(f<v.largestBatchId&&(f=v.largestBatchId),l.get(y)?he.resolve():this.remoteDocumentCache.getEntry(e,y).next((E=>{m=m.insert(y,E)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,et()))).next((y=>({batchId:f,changes:cA(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((s=>{let a=eu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=eu();return this.indexManager.getCollectionParents(e,l).next((f=>he.forEach(f,(m=>{const p=(function(v,E){return new Lu(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((y=>{y.forEach(((v,E)=>{u=u.insert(v,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((m,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,kn.newInvalidDocument(y)))}));let f=eu();return u.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&cu(y.mutation,p,ui.empty(),He.now()),Qd(n,p)&&(f=f.insert(m,p))})),f}))}}class m4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return he.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Ns(a.createTime)}})(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:i4(a.bundledQuery),readTime:Ns(a.readTime)}})(n)),he.resolve()}}class p4{constructor(){this.overlays=new Lt(Ie.comparator),this.Lr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const s=to();return he.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.bt(e,n,l)})),he.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),he.resolve()}getOverlaysForCollection(e,n,s){const a=to(),l=n.length+1,u=new Ie(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return he.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new Lt(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=to(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=to(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>f.set(p,y))),!(f.size()>=a)););return he.resolve(f)}bt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new MO(n,s));let l=this.Lr.get(n);l===void 0&&(l=et(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}class g4{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}class Cv{constructor(){this.kr=new dn(yn.Kr),this.qr=new dn(yn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new yn(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new yn(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new Ie(new St([])),s=new yn(n,e),a=new yn(n,e+1),l=[];return this.qr.forEachInRange([s,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ie(new St([])),s=new yn(n,e),a=new yn(n,e+1);let l=et();return this.qr.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new yn(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class yn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ie.comparator(e.key,n.key)||Je(e.Hr,n.Hr)}static Ur(e,n){return Je(e.Hr,n.Hr)||Ie.comparator(e.key,n.key)}}class y4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new dn(yn.Kr)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new kO(l,n,s,a);this.mutationQueue.push(u);for(const f of a)this.Jr=this.Jr.add(new yn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return he.resolve(u)}lookupMutationBatch(e,n){return he.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return he.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?yv:this.Yn-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new yn(n,0),a=new yn(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(u=>{const f=this.Zr(u.Hr);l.push(f)})),he.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new dn(Je);return n.forEach((a=>{const l=new yn(a,0),u=new yn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(f=>{s=s.add(f.Hr)}))})),he.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;Ie.isDocumentKey(l)||(l=l.child(""));const u=new yn(new Ie(l),0);let f=new dn(Je);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Hr)),!0)}),u),he.resolve(this.Yr(f))}Yr(e){const n=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ut(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return he.forEach(n.mutations,(a=>{const l=new yn(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new yn(n,0),a=this.Jr.firstAfterOrEqual(s);return he.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class v4{constructor(e){this.ti=e,this.docs=(function(){return new Lt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return he.resolve(s?s.document.mutableCopy():kn.newInvalidDocument(n))}getEntries(e,n){let s=yr();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():kn.newInvalidDocument(a))})),he.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=yr();const u=n.path,f=new Ie(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||GP(qP(y),s)<=0||(a.has(y.key)||Qd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return he.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Me(9500)}ni(e,n){return he.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new _4(this)}getSize(e){return he.resolve(this.size)}}class _4 extends h4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),he.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class b4{constructor(e){this.persistence=e,this.ri=new go((n=>bv(n)),wv),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.ii=0,this.si=new Cv,this.targetCount=0,this.oi=Dl._r()}forEachTarget(e,n){return this.ri.forEach(((s,a)=>n(a))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),he.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Dl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.lr(n),he.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.ri.forEach(((u,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),he.waitFor(l).next((()=>a))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return he.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),he.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),he.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return he.resolve(s)}containsKey(e,n){return he.resolve(this.si.containsKey(n))}}class NA{constructor(e,n){this._i={},this.overlays={},this.ai=new qd(0),this.ui=!1,this.ui=!0,this.ci=new g4,this.referenceDelegate=e(this),this.li=new b4(this),this.indexManager=new s4,this.remoteDocumentCache=(function(a){return new v4(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new n4(n),this.Pi=new m4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new p4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new y4(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){be("MemoryPersistence","Starting transaction:",e);const a=new w4(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return he.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class w4 extends $P{constructor(e){super(),this.currentSequenceNumber=e}}class Rv{constructor(e){this.persistence=e,this.Ri=new Cv,this.Ai=null}static Vi(e){return new Rv(e)}get di(){if(this.Ai)return this.Ai;throw Me(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),he.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),he.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.di,(s=>{const a=Ie.fromPath(s);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Le.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return he.or([()=>he.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class dd{constructor(e,n){this.persistence=e,this.fi=new go((s=>XP(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=u4(this,n)}static Vi(e,n){return new dd(e,n)}Ti(){}Ii(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return he.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((l=>l?he.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,n).next((f=>{f||(s++,l.removeEntry(u,Le.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),he.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),he.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Bf(e.data.value)),n}wr(e,n,s){return he.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return he.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Iv{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=a}static Es(e,n){let s=et(),a=et();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Iv(e,n.fromCache,s,a)}}class T4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class E4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return fk()?8:YP(Vn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.gs(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new T4;return this.ys(e,n,u).next((f=>{if(l.result=f,this.As)return this.ws(e,n,u,f.size)}))})).next((()=>l.result))}ws(e,n,s,a){return s.documentReadCount<this.Vs?(cl()<=Ze.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",ul(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),he.resolve()):(cl()<=Ze.DEBUG&&be("QueryEngine","Query:",ul(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(cl()<=Ze.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",ul(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Is(n))):he.resolve())}gs(e,n){if(rE(n))return he.resolve(null);let s=Is(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=dy(n,null,"F"),s=Is(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=et(...l);return this.fs.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.bs(n,f);return this.Ss(n,p,u,m.readTime)?this.gs(e,dy(n,null,"F")):this.Ds(e,p,n,m)}))))})))))}ps(e,n,s,a){return rE(n)||a.isEqual(Le.min())?he.resolve(null):this.fs.getDocuments(e,s).next((l=>{const u=this.bs(n,l);return this.Ss(n,u,s,a)?he.resolve(null):(cl()<=Ze.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ul(n)),this.Ds(e,u,n,HP(a,_u)).next((f=>f)))}))}bs(e,n){let s=new dn(oA(e));return n.forEach(((a,l)=>{Qd(e,l)&&(s=s.add(l))})),s}Ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,s){return cl()<=Ze.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",ul(n)),this.fs.getDocumentsMatchingQuery(e,n,ua.min(),s)}Ds(e,n,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const Nv="LocalStore",x4=3e8;class S4{constructor(e,n,s,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new Lt(Je),this.Fs=new go((l=>bv(l)),wv),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new d4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function A4(t,e,n,s){return new S4(t,e,n,s)}async function DA(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],f=[];let m=et();for(const p of a){u.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ns:p,removedBatchIds:u,addedBatchIds:f})))}))}))}function C4(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,y){const v=p.batch,E=v.keys();let R=he.resolve();return E.forEach((M=>{R=R.next((()=>y.getEntry(m,M))).next((O=>{const V=p.docVersions.get(M);ut(V!==null,48541),O.version.compareTo(V)<0&&(v.applyToRemoteDocument(O,p),O.isValidDocument()&&(O.setReadTime(p.commitVersion),y.addEntry(O)))}))})),R.next((()=>f.mutationQueue.removeMutationBatch(m,v)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let m=et();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function kA(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function R4(t,e){const n=Ue(t),s=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const f=[];e.targetChanges.forEach(((y,v)=>{const E=a.get(v);if(!E)return;f.push(n.li.removeMatchingKeys(l,y.removedDocuments,v).next((()=>n.li.addMatchingKeys(l,y.addedDocuments,v))));let R=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?R=R.withResumeToken(_n.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,s)),a=a.insert(v,R),(function(O,V,j){return O.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=x4?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(E,R,y)&&f.push(n.li.updateTargetData(l,R))}));let m=yr(),p=et();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(I4(l,u,e.documentUpdates).next((y=>{m=y.Bs,p=y.Ls}))),!s.isEqual(Le.min())){const y=n.li.getLastRemoteSnapshotVersion(l).next((v=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(y)}return he.waitFor(f).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.vs=a,l)))}function I4(t,e,n){let s=et(),a=et();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=yr();return n.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Le.min())?(e.removeEntry(f,m.readTime),u=u.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),u=u.insert(f,m)):be(Nv,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{Bs:u,Ls:a}}))}function N4(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=yv),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function D4(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,e).next((l=>l?(a=l,he.resolve(a)):n.li.allocateTargetId(s).next((u=>(a=new na(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function vy(t,e,n){const s=Ue(t),a=s.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Bl(u))throw u;be(Nv,`Failed to update sequence numbers for target ${e}: ${u}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function vE(t,e,n){const s=Ue(t);let a=Le.min(),l=et();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,y){const v=Ue(m),E=v.Fs.get(y);return E!==void 0?he.resolve(v.vs.get(E)):v.li.getTargetData(p,y)})(s,u,Is(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(u,f.targetId).next((m=>{l=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,e,n?a:Le.min(),n?l:et()))).next((f=>(k4(s,yO(e),f),{documents:f,ks:l})))))}function k4(t,e,n){let s=t.Ms.get(e)||Le.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Ms.set(e,s)}class _E{constructor(){this.activeTargetIds=EO()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class M4{constructor(){this.vo=new _E,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new _E,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class V4{Mo(e){}shutdown(){}}const bE="ConnectivityMonitor";class wE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){be(bE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){be(bE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Af=null;function _y(){return Af===null?Af=(function(){return 268435456+Math.round(2147483648*Math.random())})():Af++,"0x"+Af.toString(16)}const xg="RestConnection",P4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class O4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===ad?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,n,s,a,l){const u=_y(),f=this.Qo(e,n.toUriEncodedString());be(xg,`Sending RPC '${e}' ${u}:`,f,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:p}=new URL(f),y=mo(p);return this.zo(e,f,m,s,y).then((v=>(be(xg,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw ho(xg,`RPC '${e}' ${u} failed with error: `,v,"url: ",f,"request:",s),v}))}jo(e,n,s,a,l,u){return this.Wo(e,n,s,a,l)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ul})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const s=P4[e];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class L4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Nn="WebChannelConnection",Xc=(t,e,n)=>{t.listen(e,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class El extends O4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!El.c_){const e=PS();Xc(e,VS.STAT_EVENT,(n=>{n.stat===ay.PROXY?be(Nn,"STAT_EVENT: detected buffering proxy"):n.stat===ay.NOPROXY&&be(Nn,"STAT_EVENT: detected no buffering proxy")})),El.c_=!0}}zo(e,n,s,a,l){const u=_y();return new Promise(((f,m)=>{const p=new kS;p.setWithCredentials(!0),p.listenOnce(MS.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case zf.NO_ERROR:const v=p.getResponseJson();be(Nn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),f(v);break;case zf.TIMEOUT:be(Nn,`RPC '${e}' ${u} timed out`),m(new _e(ue.DEADLINE_EXCEEDED,"Request time out"));break;case zf.HTTP_ERROR:const E=p.getStatus();if(be(Nn,`RPC '${e}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const M=R?.error;if(M&&M.status&&M.message){const O=(function(j){const F=j.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(F)>=0?F:ue.UNKNOWN})(M.status);m(new _e(O,M.message))}else m(new _e(ue.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new _e(ue.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{be(Nn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);be(Nn,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=_y(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,n,s),f.encodeInitMessageHeaders=!0;const p=l.join("");be(Nn,`Creating RPC '${e}' stream ${a}: ${p}`,f);const y=u.createWebChannel(p,f);this.I_(y);let v=!1,E=!1;const R=new L4({Ho:M=>{E?be(Nn,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(v||(be(Nn,`Opening RPC '${e}' stream ${a} transport.`),y.open(),v=!0),be(Nn,`RPC '${e}' stream ${a} sending:`,M),y.send(M))},Jo:()=>y.close()});return Xc(y,Jc.EventType.OPEN,(()=>{E||(be(Nn,`RPC '${e}' stream ${a} transport opened.`),R.i_())})),Xc(y,Jc.EventType.CLOSE,(()=>{E||(E=!0,be(Nn,`RPC '${e}' stream ${a} transport closed`),R.o_(),this.E_(y))})),Xc(y,Jc.EventType.ERROR,(M=>{E||(E=!0,ho(Nn,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),R.o_(new _e(ue.UNAVAILABLE,"The operation could not be completed")))})),Xc(y,Jc.EventType.MESSAGE,(M=>{if(!E){const O=M.data[0];ut(!!O,16349);const V=O,j=V?.error||V[0]?.error;if(j){be(Nn,`RPC '${e}' stream ${a} received error:`,j);const F=j.status;let H=(function(de){const D=nn[de];if(D!==void 0)return vA(D)})(F),oe=j.message;H===void 0&&(H=ue.INTERNAL,oe="Unknown error status: "+F+" with message "+j.message),E=!0,R.o_(new _e(H,oe)),y.close()}else be(Nn,`RPC '${e}' stream ${a} received:`,O),R.__(O)}})),El.u_(),setTimeout((()=>{R.s_()}),0),R}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return OS()}}function j4(t){return new El(t)}function Sg(){return typeof document<"u"?document:null}function Jd(t){return new FO(t,!0)}El.c_=!1;class MA{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&be("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const TE="PersistentStream";class VA{constructor(e,n,s,a,l,u,f,m){this.Ci=e,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new MA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(gr(n.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new _e(ue.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return be(TE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(be(TE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class U4 extends VA{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=GO(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Le.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Le.min():u.readTime?Ns(u.readTime):Le.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=yy(this.serializer),n.addTarget=(function(l,u){let f;const m=u.target;if(f=hy(m)?{documents:YO(l,m)}:{query:QO(l,m).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=wA(l,u.resumeToken);const p=my(l,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(Le.min())>0){f.readTime=fd(l,u.snapshotVersion.toTimestamp());const p=my(l,u.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const s=WO(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=yy(this.serializer),n.removeTarget=e,this.K_(n)}}class z4 extends VA{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=$O(e.writeResults,e.commitTime),s=Ns(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=yy(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>KO(this.serializer,s)))};this.K_(n)}}class B4{}class F4 extends B4{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new _e(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,py(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(ue.UNKNOWN,l.toString())}))}jo(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.jo(e,py(n,s),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(ue.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function H4(t,e,n,s){return new F4(t,e,n,s)}class q4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gr(n),this.aa=!1):be("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const fo="RemoteStore";class G4{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{s.enqueueAndForget((async()=>{yo(this)&&(be(fo,"Restarting streams for network reachability change."),await(async function(m){const p=Ue(m);p.Ea.add(4),await zu(p),p.Va.set("Unknown"),p.Ea.delete(4),await em(p)})(this))}))})),this.Va=new q4(s,a)}}async function em(t){if(yo(t))for(const e of t.Ra)await e(!0)}async function zu(t){for(const e of t.Ra)await e(!1)}function PA(t,e){const n=Ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Vv(n)?Mv(n):Fl(n).O_()&&kv(n,e))}function Dv(t,e){const n=Ue(t),s=Fl(n);n.Ia.delete(e),s.O_()&&OA(n,e),n.Ia.size===0&&(s.O_()?s.L_():yo(n)&&n.Va.set("Unknown"))}function kv(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fl(t).Z_(e)}function OA(t,e){t.da.$e(e),Fl(t).X_(e)}function Mv(t){t.da=new jO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Fl(t).start(),t.Va.ua()}function Vv(t){return yo(t)&&!Fl(t).x_()&&t.Ia.size>0}function yo(t){return Ue(t).Ea.size===0}function LA(t){t.da=void 0}async function K4(t){t.Va.set("Online")}async function $4(t){t.Ia.forEach(((e,n)=>{kv(t,e)}))}async function Y4(t,e){LA(t),Vv(t)?(t.Va.ha(e),Mv(t)):t.Va.set("Unknown")}async function Q4(t,e,n){if(t.Va.set("Online"),e instanceof bA&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.da.removeTarget(f))})(t,e)}catch(s){be(fo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await md(t,s)}else if(e instanceof qf?t.da.Xe(e):e instanceof _A?t.da.st(e):t.da.tt(e),!n.isEqual(Le.min()))try{const s=await kA(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const f=l.da.Tt(u);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,u))}})),f.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(_n.EMPTY_BYTE_STRING,y.snapshotVersion)),OA(l,m);const v=new na(y.target,m,p,y.sequenceNumber);kv(l,v)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){be(fo,"Failed to raise snapshot:",s),await md(t,s)}}async function md(t,e,n){if(!Bl(e))throw e;t.Ea.add(1),await zu(t),t.Va.set("Offline"),n||(n=()=>kA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{be(fo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await em(t)}))}function jA(t,e){return e().catch((n=>md(t,n,e)))}async function tm(t){const e=Ue(t),n=ma(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:yv;for(;X4(e);)try{const a=await N4(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,W4(e,a)}catch(a){await md(e,a)}UA(e)&&zA(e)}function X4(t){return yo(t)&&t.Ta.length<10}function W4(t,e){t.Ta.push(e);const n=ma(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function UA(t){return yo(t)&&!ma(t).x_()&&t.Ta.length>0}function zA(t){ma(t).start()}async function Z4(t){ma(t).ra()}async function J4(t){const e=ma(t);for(const n of t.Ta)e.ea(n.mutations)}async function eL(t,e,n){const s=t.Ta.shift(),a=xv.from(s,e,n);await jA(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await tm(t)}async function tL(t,e){e&&ma(t).Y_&&await(async function(s,a){if((function(u){return PO(u)&&u!==ue.ABORTED})(a.code)){const l=s.Ta.shift();ma(s).B_(),await jA(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await tm(s)}})(t,e),UA(t)&&zA(t)}async function EE(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),be(fo,"RemoteStore received new credentials");const s=yo(n);n.Ea.add(3),await zu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await em(n)}async function nL(t,e){const n=Ue(t);e?(n.Ea.delete(2),await em(n)):e||(n.Ea.add(2),await zu(n),n.Va.set("Unknown"))}function Fl(t){return t.ma||(t.ma=(function(n,s,a){const l=Ue(n);return l.sa(),new U4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:K4.bind(null,t),Yo:$4.bind(null,t),t_:Y4.bind(null,t),J_:Q4.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Vv(t)?Mv(t):t.Va.set("Unknown")):(await t.ma.stop(),LA(t))}))),t.ma}function ma(t){return t.fa||(t.fa=(function(n,s,a){const l=Ue(n);return l.sa(),new z4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Z4.bind(null,t),t_:tL.bind(null,t),ta:J4.bind(null,t),na:eL.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await tm(t)):(await t.fa.stop(),t.Ta.length>0&&(be(fo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Pv{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,f=new Pv(e,n,u,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ov(t,e){if(gr("AsyncQueue",`${e}: ${t}`),Bl(t))return new _e(ue.UNAVAILABLE,`${e}: ${t}`);throw t}class xl{static emptySet(e){return new xl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ie.comparator(n.key,s.key):(n,s)=>Ie.comparator(n.key,s.key),this.keyedMap=eu(),this.sortedSet=new Lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new xl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class xE{constructor(){this.ga=new Lt(Ie.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Me(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class kl{constructor(e,n,s,a,l,u,f,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new kl(e,n,xl.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class iL{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class sL{constructor(){this.queries=SE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Ue(n),l=a.queries;a.queries=SE(),l.forEach(((u,f)=>{for(const m of f.ba)m.onError(s)}))})(this,new _e(ue.ABORTED,"Firestore shutting down"))}}function SE(){return new go((t=>aA(t)),Yd)}async function Lv(t,e){const n=Ue(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(s=2):(l=new iL,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const f=Ov(u,`Initialization of query '${ul(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Uv(n)}async function jv(t,e){const n=Ue(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function rL(t,e){const n=Ue(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const f of u.ba)f.Fa(a)&&(s=!0);u.wa=a}}s&&Uv(n)}function aL(t,e,n){const s=Ue(t),a=s.queries.get(e);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(e)}function Uv(t){t.Ca.forEach((e=>{e.next()}))}var by,AE;(AE=by||(by={})).Ma="default",AE.Cache="cache";class zv{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new kl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==by.Cache}}class BA{constructor(e){this.key=e}}class FA{constructor(e){this.key=e}}class oL{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=et(),this.mutatedKeys=et(),this.eu=oA(e),this.tu=new xl(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new xE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,v)=>{const E=a.get(y),R=Qd(this.query,v)?v:null,M=!!E&&this.mutatedKeys.has(E.key),O=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let V=!1;E&&R?E.data.isEqual(R.data)?M!==O&&(s.track({type:3,doc:R}),V=!0):this.su(E,R)||(s.track({type:2,doc:R}),V=!0,(m&&this.eu(R,m)>0||p&&this.eu(R,p)<0)&&(f=!0)):!E&&R?(s.track({type:0,doc:R}),V=!0):E&&!R&&(s.track({type:1,doc:E}),V=!0,(m||p)&&(f=!0)),V&&(R?(u=u.add(R),l=O?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:u,iu:s,Ss:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,v)=>(function(R,M){const O=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Vt:V})}};return O(R)-O(M)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Xa;return this.Xa=m,u.length!==0||p?{snapshot:new kl(this.query,e.tu,l,u,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=et(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new FA(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new BA(s))})),n}cu(e){this.Za=e.ks,this.Ya=et();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return kl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Bv="SyncEngine";class lL{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class cL{constructor(e){this.key=e,this.hu=!1}}class uL{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new go((f=>aA(f)),Yd),this.Iu=new Map,this.Eu=new Set,this.Ru=new Lt(Ie.comparator),this.Au=new Map,this.Vu=new Cv,this.du={},this.mu=new Map,this.fu=Dl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hL(t,e,n=!0){const s=YA(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await HA(s,e,n,!0),a}async function fL(t,e){const n=YA(t);await HA(n,e,!0,!1)}async function HA(t,e,n,s){const a=await D4(t.localStore,Is(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await dL(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&PA(t.remoteStore,a),f}async function dL(t,e,n,s,a){t.pu=(v,E,R)=>(async function(O,V,j,F){let H=V.view.ru(j);H.Ss&&(H=await vE(O.localStore,V.query,!1).then((({documents:D})=>V.view.ru(D,H))));const oe=F&&F.targetChanges.get(V.targetId),re=F&&F.targetMismatches.get(V.targetId)!=null,de=V.view.applyChanges(H,O.isPrimaryClient,oe,re);return RE(O,V.targetId,de.au),de.snapshot})(t,v,E,R);const l=await vE(t.localStore,e,!0),u=new oL(e,l.ks),f=u.ru(l.documents),m=Uu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=u.applyChanges(f,t.isPrimaryClient,m);RE(t,n,p.au);const y=new lL(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function mL(t,e,n){const s=Ue(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!Yd(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await vy(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Dv(s.remoteStore,a.targetId),wy(s,a.targetId)})).catch(zl)):(wy(s,a.targetId),await vy(s.localStore,a.targetId,!0))}async function pL(t,e){const n=Ue(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Dv(n.remoteStore,s.targetId))}async function gL(t,e,n){const s=EL(t);try{const a=await(function(u,f){const m=Ue(u),p=He.now(),y=f.reduce(((R,M)=>R.add(M.key)),et());let v,E;return m.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let M=yr(),O=et();return m.xs.getEntries(R,y).next((V=>{M=V,M.forEach(((j,F)=>{F.isValidDocument()||(O=O.add(j))}))})).next((()=>m.localDocuments.getOverlayedDocuments(R,M))).next((V=>{v=V;const j=[];for(const F of f){const H=NO(F,v.get(F.key).overlayedDocument);H!=null&&j.push(new ba(F.key,H,ZS(H.value.mapValue),Pi.exists(!0)))}return m.mutationQueue.addMutationBatch(R,p,j,f)})).next((V=>{E=V;const j=V.applyToLocalDocumentSet(v,O);return m.documentOverlayCache.saveOverlays(R,V.batchId,j)}))})).then((()=>({batchId:E.batchId,changes:cA(v)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,f,m){let p=u.du[u.currentUser.toKey()];p||(p=new Lt(Je)),p=p.insert(f,m),u.du[u.currentUser.toKey()]=p})(s,a.batchId,n),await Bu(s,a.changes),await tm(s.remoteStore)}catch(a){const l=Ov(a,"Failed to persist write");n.reject(l)}}async function qA(t,e){const n=Ue(t);try{const s=await R4(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(ut(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?ut(u.hu,14607):a.removedDocuments.size>0&&(ut(u.hu,42227),u.hu=!1))})),await Bu(n,s,e)}catch(s){await zl(s)}}function CE(t,e,n){const s=Ue(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const m=Ue(u);m.onlineState=f;let p=!1;m.queries.forEach(((y,v)=>{for(const E of v.ba)E.va(f)&&(p=!0)})),p&&Uv(m)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function yL(t,e,n){const s=Ue(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new Lt(Ie.comparator);u=u.insert(l,kn.newNoDocument(l,Le.min()));const f=et().add(l),m=new Zd(Le.min(),new Map,new Lt(Je),u,f);await qA(s,m),s.Ru=s.Ru.remove(l),s.Au.delete(e),Fv(s)}else await vy(s.localStore,e,!1).then((()=>wy(s,e,n))).catch(zl)}async function vL(t,e){const n=Ue(t),s=e.batch.batchId;try{const a=await C4(n.localStore,e);KA(n,s,null),GA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Bu(n,a)}catch(a){await zl(a)}}async function _L(t,e,n){const s=Ue(t);try{const a=await(function(u,f){const m=Ue(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next((v=>(ut(v!==null,37113),y=v.keys(),m.mutationQueue.removeMutationBatch(p,v)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(s.localStore,e);KA(s,e,n),GA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Bu(s,a)}catch(a){await zl(a)}}function GA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function KA(t,e,n){const s=Ue(t);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function wy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((s=>{t.Vu.containsKey(s)||$A(t,s)}))}function $A(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Dv(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Fv(t))}function RE(t,e,n){for(const s of n)s instanceof BA?(t.Vu.addReference(s.key,e),bL(t,s)):s instanceof FA?(be(Bv,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||$A(t,s.key)):Me(19791,{wu:s})}function bL(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(be(Bv,"New document in limbo: "+n),t.Eu.add(s),Fv(t))}function Fv(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ie(St.fromString(e)),s=t.fu.next();t.Au.set(s,new cL(n)),t.Ru=t.Ru.insert(n,s),PA(t.remoteStore,new na(Is($d(n.path)),s,"TargetPurposeLimboResolution",qd.ce))}}async function Bu(t,e,n){const s=Ue(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,m)=>{u.push(s.pu(m,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=Iv.Es(m.targetId,p);l.push(y)}})))})),await Promise.all(u),s.Pu.J_(a),await(async function(m,p){const y=Ue(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>he.forEach(p,(E=>he.forEach(E.Ts,(R=>y.persistence.referenceDelegate.addReference(v,E.targetId,R))).next((()=>he.forEach(E.Is,(R=>y.persistence.referenceDelegate.removeReference(v,E.targetId,R)))))))))}catch(v){if(!Bl(v))throw v;be(Nv,"Failed to update sequence numbers: "+v)}for(const v of p){const E=v.targetId;if(!v.fromCache){const R=y.vs.get(E),M=R.snapshotVersion,O=R.withLastLimboFreeSnapshotVersion(M);y.vs=y.vs.insert(E,O)}}})(s.localStore,l))}async function wL(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){be(Bv,"User change. New user:",e.toKey());const s=await DA(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new _e(ue.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Bu(n,s.Ns)}}function TL(t,e){const n=Ue(t),s=n.Au.get(e);if(s&&s.hu)return et().add(s.key);{let a=et();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const f=n.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function YA(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yL.bind(null,e),e.Pu.J_=rL.bind(null,e.eventManager),e.Pu.yu=aL.bind(null,e.eventManager),e}function EL(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_L.bind(null,e),e}class pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return A4(this.persistence,new E4,e.initialUser,this.serializer)}Cu(e){return new NA(Rv.Vi,this.serializer)}Du(e){return new M4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pd.provider={build:()=>new pd};class xL extends pd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ut(this.persistence.referenceDelegate instanceof dd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new l4(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Yn.withCacheSize(this.cacheSizeBytes):Yn.DEFAULT;return new NA((s=>dd.Vi(s,n)),this.serializer)}}class Ty{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>CE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=wL.bind(null,this.syncEngine),await nL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new sL})()}createDatastore(e){const n=Jd(e.databaseInfo.databaseId),s=j4(e.databaseInfo);return H4(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,f){return new G4(s,a,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>CE(this.syncEngine,n,0)),(function(){return wE.v()?new wE:new V4})())}createSyncEngine(e,n){return(function(a,l,u,f,m,p,y){const v=new uL(a,l,u,f,m,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ue(n);be(fo,"RemoteStore shutting down."),s.Ea.add(5),await zu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ty.provider={build:()=>new Ty};class Hv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const pa="FirestoreClient";class SL{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=Dn.UNAUTHENTICATED,this.clientId=Fd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{be(pa,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(be(pa,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Ov(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Ag(t,e){t.asyncQueue.verifyOperationInProgress(),be(pa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await DA(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function IE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await AL(t);be(pa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>EE(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>EE(e.remoteStore,a))),t._onlineComponents=e}async function AL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){be(pa,"Using user provided OfflineComponentProvider");try{await Ag(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ue.FAILED_PRECONDITION||a.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),await Ag(t,new pd)}}else be(pa,"Using default OfflineComponentProvider"),await Ag(t,new xL(void 0));return t._offlineComponents}async function QA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(be(pa,"Using user provided OnlineComponentProvider"),await IE(t,t._uninitializedComponentsProvider._online)):(be(pa,"Using default OnlineComponentProvider"),await IE(t,new Ty))),t._onlineComponents}function CL(t){return QA(t).then((e=>e.syncEngine))}async function gd(t){const e=await QA(t),n=e.eventManager;return n.onListen=hL.bind(null,e.syncEngine),n.onUnlisten=mL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pL.bind(null,e.syncEngine),n}function RL(t,e,n,s){const a=new Hv(s),l=new zv(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>Lv(await gd(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>jv(await gd(t),l)))}}function IL(t,e,n={}){const s=new ur;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,p){const y=new Hv({next:E=>{y.Nu(),u.enqueueAndForget((()=>jv(l,v)));const R=E.docs.has(f);!R&&E.fromCache?p.reject(new _e(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&E.fromCache&&m&&m.source==="server"?p.reject(new _e(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new zv($d(f.path),y,{includeMetadataChanges:!0,Ka:!0});return Lv(l,v)})(await gd(t),t.asyncQueue,e,n,s))),s.promise}function NL(t,e,n={}){const s=new ur;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,p){const y=new Hv({next:E=>{y.Nu(),u.enqueueAndForget((()=>jv(l,v))),E.fromCache&&m.source==="server"?p.reject(new _e(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new zv(f,y,{includeMetadataChanges:!0,Ka:!0});return Lv(l,v)})(await gd(t),t.asyncQueue,e,n,s))),s.promise}function DL(t,e){const n=new ur;return t.asyncQueue.enqueueAndForget((async()=>gL(await CL(t),e,n))),n.promise}function XA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const kL="ComponentProvider",NE=new Map;function ML(t,e,n,s,a){return new JP(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,XA(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const WA="firestore.googleapis.com",DE=!0;class kE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WA,this.ssl=DE}else this.host=e.host,this.ssl=e.ssl??DE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=IA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<a4)throw new _e(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _e(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _e(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _e(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nm{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new US;switch(s.type){case"firstParty":return new LP(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _e(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=NE.get(n);s&&(be(kL,"Removing Datastore"),NE.delete(n),s.terminate())})(this),Promise.resolve()}}function ZA(t,e,n,s={}){t=zn(t,nm);const a=mo(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(tv(`https://${f}`),nv("Firestore",!0)),l.host!==WA&&l.host!==f&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:s};if(!oo(m,u)&&(t._setSettings(m),s.mockUserToken)){let p,y;if(typeof s.mockUserToken=="string")p=s.mockUserToken,y=Dn.MOCK_USER;else{p=Qx(s.mockUserToken,t._app?.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new _e(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Dn(v)}t._authCredentials=new VP(new jS(p,y))}}class wa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new wa(this.firestore,e,this._query)}}class Ot{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Ou(n,Ot._jsonSchema))return new Ot(e,s||null,new Ie(St.fromString(n.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:an("string",Ot._jsonSchemaVersion),referencePath:an("string")};class hr extends wa{constructor(e,n,s){super(e,n,$d(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new Ie(e))}withConverter(e){return new hr(this.firestore,e,this._path)}}function dl(t,e,...n){if(t=mn(t),zS("collection","path",e),t instanceof nm){const s=St.fromString(e,...n);return GT(s),new hr(t,null,s)}{if(!(t instanceof Ot||t instanceof hr))throw new _e(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(St.fromString(e,...n));return GT(s),new hr(t.firestore,null,s)}}function Ds(t,e,...n){if(t=mn(t),arguments.length===1&&(e=Fd.newId()),zS("doc","path",e),t instanceof nm){const s=St.fromString(e,...n);return qT(s),new Ot(t,null,new Ie(s))}{if(!(t instanceof Ot||t instanceof hr))throw new _e(ue.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(St.fromString(e,...n));return qT(s),new Ot(t.firestore,t instanceof hr?t.converter:null,new Ie(s))}}const ME="AsyncQueue";class VE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new MA(this,"async_queue_retry"),this._c=()=>{const s=Sg();s&&be(ME,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Sg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Sg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ur;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Bl(e))throw e;be(ME,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,gr("INTERNAL UNHANDLED ERROR: ",PE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Pv.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Me(47125,{Pc:PE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function PE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ps extends nm{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new VE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VE(e),this._firestoreClient=void 0,await e}}}function JA(t,e){const n=typeof t=="object"?t:rv(),s=typeof t=="string"?t:ad,a=jd(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=Kx("firestore");l&&ZA(a,...l)}return a}function Fu(t){if(t._terminated)throw new _e(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||VL(t),t._firestoreClient}function VL(t){const e=t._freezeSettings(),n=ML(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new SL(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class ci{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ci(_n.fromBase64String(e))}catch(n){throw new _e(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ci(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ou(e,ci._jsonSchema))return ci.fromBase64String(e.bytes)}}ci._jsonSchemaVersion="firestore/bytes/1.0",ci._jsonSchema={type:an("string",ci._jsonSchemaVersion),bytes:an("string")};class im{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sm{constructor(e){this._methodName=e}}class is{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:is._jsonSchemaVersion}}static fromJSON(e){if(Ou(e,is._jsonSchema))return new is(e.latitude,e.longitude)}}is._jsonSchemaVersion="firestore/geoPoint/1.0",is._jsonSchema={type:an("string",is._jsonSchemaVersion),latitude:an("number"),longitude:an("number")};class Oi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ou(e,Oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Oi(e.vectorValues);throw new _e(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Oi._jsonSchemaVersion="firestore/vectorValue/1.0",Oi._jsonSchema={type:an("string",Oi._jsonSchemaVersion),vectorValues:an("object")};const PL=/^__.*__$/;class OL{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ba(e,this.data,this.fieldMask,n,this.fieldTransforms):new ju(e,this.data,n,this.fieldTransforms)}}class eC{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ba(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function tC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{dataSource:t})}}class qv{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new qv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return yd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(tC(this.dataSource)&&PL.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class LL{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Jd(e)}createContext(e,n,s,a=!1){return new qv({dataSource:e,methodName:n,targetDoc:s,path:vn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rm(t){const e=t._freezeSettings(),n=Jd(t._databaseId);return new LL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nC(t,e,n,s,a,l={}){const u=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);Gv("Data must be an object, but it was:",u,s);const f=iC(s,u);let m,p;if(l.merge)m=new ui(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const E=Ml(e,v,n);if(!u.contains(E))throw new _e(ue.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);aC(y,E)||y.push(E)}m=new ui(y),p=u.fieldTransforms.filter((v=>m.covers(v.field)))}else m=null,p=u.fieldTransforms;return new OL(new Xn(f),m,p)}class Hu extends sm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hu}}function jL(t,e,n,s){const a=t.createContext(1,e,n);Gv("Data must be an object, but it was:",a,s);const l=[],u=Xn.empty();_a(s,((m,p)=>{const y=rC(e,m,n);p=mn(p);const v=a.childContextForFieldPath(y);if(p instanceof Hu)l.push(y);else{const E=qu(p,v);E!=null&&(l.push(y),u.set(y,E))}}));const f=new ui(l);return new eC(u,f,a.fieldTransforms)}function UL(t,e,n,s,a,l){const u=t.createContext(1,e,n),f=[Ml(e,s,n)],m=[a];if(l.length%2!=0)throw new _e(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)f.push(Ml(e,l[E])),m.push(l[E+1]);const p=[],y=Xn.empty();for(let E=f.length-1;E>=0;--E)if(!aC(p,f[E])){const R=f[E];let M=m[E];M=mn(M);const O=u.childContextForFieldPath(R);if(M instanceof Hu)p.push(R);else{const V=qu(M,O);V!=null&&(p.push(R),y.set(R,V))}}const v=new ui(p);return new eC(y,v,u.fieldTransforms)}function zL(t,e,n,s=!1){return qu(n,t.createContext(s?4:3,e))}function qu(t,e){if(sC(t=mn(t)))return Gv("Unsupported field value:",e,t),iC(t,e);if(t instanceof sm)return(function(s,a){if(!tC(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const f of s){let m=qu(f,a.childContextForArray(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=mn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return xO(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=He.fromDate(s);return{timestampValue:fd(a.serializer,l)}}if(s instanceof He){const l=new He(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:fd(a.serializer,l)}}if(s instanceof is)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ci)return{bytesValue:wA(a.serializer,s._byteString)};if(s instanceof Ot){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Av(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Oi)return(function(u,f){const m=u instanceof Oi?u.toArray():u;return{mapValue:{fields:{[XS]:{stringValue:WS},[od]:{arrayValue:{values:m.map((y=>{if(typeof y!="number")throw f.createError("VectorValues must only contain numeric values.");return Tv(f.serializer,y)}))}}}}}})(s,a);if(RA(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Hd(s)}`)})(t,e)}function iC(t,e){const n={};return qS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_a(t,((s,a)=>{const l=qu(a,e.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function sC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof He||t instanceof is||t instanceof ci||t instanceof Ot||t instanceof sm||t instanceof Oi||RA(t))}function Gv(t,e,n){if(!sC(n)||!FS(n)){const s=Hd(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function Ml(t,e,n){if((e=mn(e))instanceof im)return e._internalPath;if(typeof e=="string")return rC(t,e);throw yd("Field path arguments must be of type string or ",t,!1,void 0,n)}const BL=new RegExp("[~\\*/\\[\\]]");function rC(t,e,n){if(e.search(BL)>=0)throw yd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new im(...e.split("."))._internalPath}catch{throw yd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function yd(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${s}`),u&&(m+=` in document ${a}`),m+=")"),new _e(ue.INVALID_ARGUMENT,f+t+m)}function aC(t,e){return t.some((n=>n.isEqual(e)))}class oC{convertValue(e,n="none"){switch(da(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return _a(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[od].arrayValue?.values?.map((s=>Yt(s.doubleValue)));return new Oi(n)}convertGeoPoint(e){return new is(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Kd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(bu(e));default:return null}}convertTimestamp(e){const n=ha(e);return new He(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=St.fromString(e);ut(CA(s),9688,{name:e});const a=new Rl(s.get(1),s.get(3)),l=new Ie(s.popFirst(5));return a.isEqual(n)||gr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class Kv extends oC{constructor(e){super(),this.firestore=e}convertBytes(e){return new ci(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function vd(){return new Hu("deleteField")}const OE="@firebase/firestore",LE="4.10.0";function jE(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class lC{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Ml("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class FL extends lC{data(){return super.data()}}function cC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $v{}class uC extends $v{}function _d(t,e,...n){let s=[];e instanceof $v&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((m=>m instanceof am)).length,f=l.filter((m=>m instanceof Gu)).length;if(u>1||u>0&&f>0)throw new _e(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Gu extends uC{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Gu(e,n,s)}_apply(e){const n=this._parse(e);return hC(e._query,n),new wa(e.firestore,e.converter,fy(e._query,n))}_parse(e){const n=rm(e.firestore);return(function(l,u,f,m,p,y,v){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new _e(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){zE(v,y);const M=[];for(const O of v)M.push(UE(m,l,O));E={arrayValue:{values:M}}}else E=UE(m,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||zE(v,y),E=zL(f,u,v,y==="in"||y==="not-in");return rn.create(p,y,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function bd(t,e,n){const s=e,a=Ml("where",t);return Gu._create(a,s,n)}class am extends $v{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new am(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ss.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const f=l.getFlattenedFilters();for(const m of f)hC(u,m),u=fy(u,m)})(e._query,n),new wa(e.firestore,e.converter,fy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function UE(t,e,n){if(typeof(n=mn(n))=="string"){if(n==="")throw new _e(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rA(e)&&n.indexOf("/")!==-1)throw new _e(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(St.fromString(n));if(!Ie.isDocumentKey(s))throw new _e(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return JT(t,new Ie(s))}if(n instanceof Ot)return JT(t,n._key);throw new _e(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hd(n)}.`)}function zE(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hC(t,e){const n=(function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new _e(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function fC(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class ml{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oa extends lC{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ml("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=oa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:an("string",oa._jsonSchemaVersion),bundleSource:an("string","DocumentSnapshot"),bundleName:an("string"),bundle:an("string")};class uu extends oa{data(e={}){return super.data(e)}}class la{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new ml(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new uu(this._firestore,this._userDataWriter,s.key,s,new ml(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const m=new uu(a._firestore,a._userDataWriter,f.doc.key,f.doc,new ml(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new uu(a._firestore,a._userDataWriter,f.doc.key,f.doc,new ml(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:HL(f.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=la._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function HL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}la._jsonSchemaVersion="firestore/querySnapshot/1.0",la._jsonSchema={type:an("string",la._jsonSchemaVersion),bundleSource:an("string","QuerySnapshot"),bundleName:an("string"),bundle:an("string")};function Ku(t){t=zn(t,Ot);const e=zn(t.firestore,Ps),n=Fu(e);return IL(n,t._key).then((s=>gC(e,t,s)))}function hu(t){t=zn(t,wa);const e=zn(t.firestore,Ps),n=Fu(e),s=new Kv(e);return cC(t._query),NL(n,t._query).then((a=>new la(e,s,t,a)))}function wd(t,e,n){t=zn(t,Ot);const s=zn(t.firestore,Ps),a=fC(t.converter,e,n),l=rm(s);return $u(s,[nC(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Pi.none())])}function Di(t,e,n,...s){t=zn(t,Ot);const a=zn(t.firestore,Ps),l=rm(a);let u;return u=typeof(e=mn(e))=="string"||e instanceof im?UL(l,"updateDoc",t._key,e,n,s):jL(l,"updateDoc",t._key,e),$u(a,[u.toMutation(t._key,Pi.exists(!0))])}function dC(t){return $u(zn(t.firestore,Ps),[new Ev(t._key,Pi.none())])}function mC(t,e){const n=zn(t.firestore,Ps),s=Ds(t),a=fC(t.converter,e),l=rm(t.firestore);return $u(n,[nC(l,"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,Pi.exists(!1))]).then((()=>s))}function pC(t,...e){t=mn(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||jE(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(jE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let l,u,f;if(t instanceof Ot)u=zn(t.firestore,Ps),f=$d(t._key.path),l={next:p=>{e[s]&&e[s](gC(u,t,p))},error:e[s+1],complete:e[s+2]};else{const p=zn(t,wa);u=zn(p.firestore,Ps),f=p._query;const y=new Kv(u);l={next:v=>{e[s]&&e[s](new la(u,y,p,v))},error:e[s+1],complete:e[s+2]},cC(t._query)}const m=Fu(u);return RL(m,f,a,l)}function $u(t,e){const n=Fu(t);return DL(n,e)}function gC(t,e,n){const s=n.docs.get(e._key),a=new Kv(t);return new oa(t,a,e._key,s,new ml(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){MP(po),lo(new ca("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),f=new Ps(new PP(s.getProvider("auth-internal")),new jP(u,s.getProvider("app-check-internal")),eO(u,a),u);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Cs(OE,LE,e),Cs(OE,LE,"esm2020")})();const qL=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:oC,Bytes:ci,CollectionReference:hr,DocumentReference:Ot,DocumentSnapshot:oa,FieldPath:im,FieldValue:sm,Firestore:Ps,FirestoreError:_e,GeoPoint:is,Query:wa,QueryCompositeFilterConstraint:am,QueryConstraint:uC,QueryDocumentSnapshot:uu,QueryFieldFilterConstraint:Gu,QuerySnapshot:la,SnapshotMetadata:ml,Timestamp:He,VectorValue:Oi,_AutoId:Fd,_ByteString:_n,_DatabaseId:Rl,_DocumentKey:Ie,_EmptyAuthCredentialsProvider:US,_FieldPath:vn,_cast:zn,_logWarn:ho,_validateIsNotUsedTogether:BS,addDoc:mC,collection:dl,connectFirestoreEmulator:ZA,deleteDoc:dC,deleteField:vd,doc:Ds,ensureFirestoreConfigured:Fu,executeWrite:$u,getDoc:Ku,getDocs:hu,getFirestore:JA,onSnapshot:pC,query:_d,setDoc:wd,updateDoc:Di,where:bd},Symbol.toStringTag,{value:"Module"}));const yC="firebasestorage.googleapis.com",GL="storageBucket",KL=120*1e3,$L=600*1e3;class Us extends js{constructor(e,n,s=0){super(Cg(e),`Firebase Storage: ${n} (${Cg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Us.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Cg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Os;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Os||(Os={}));function Cg(t){return"storage/"+t}function YL(){const t="An unknown error occurred, please check the error payload for server response.";return new Us(Os.UNKNOWN,t)}function QL(){return new Us(Os.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function XL(){return new Us(Os.CANCELED,"User canceled the upload/download.")}function WL(t){return new Us(Os.INVALID_URL,"Invalid URL '"+t+"'.")}function ZL(t){return new Us(Os.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function BE(t){return new Us(Os.INVALID_ARGUMENT,t)}function vC(){return new Us(Os.APP_DELETED,"The Firebase app was deleted.")}function JL(t){return new Us(Os.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class ts{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=ts.makeFromUrl(e,n)}catch{return new ts(e,"")}if(s.path==="")return s;throw ZL(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+a+u,"i"),m={bucket:1,path:3};function p(oe){oe.path_=decodeURIComponent(oe.path)}const y="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",R=new RegExp(`^https?://${v}/${y}/b/${a}/o${E}`,"i"),M={bucket:1,path:3},O=n===yC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",j=new RegExp(`^https?://${O}/${a}/${V}`,"i"),H=[{regex:f,indices:m,postModify:l},{regex:R,indices:M,postModify:p},{regex:j,indices:{bucket:1,path:2},postModify:p}];for(let oe=0;oe<H.length;oe++){const re=H[oe],de=re.regex.exec(e);if(de){const D=de[re.indices.bucket];let x=de[re.indices.path];x||(x=""),s=new ts(D,x),re.postModify(s);break}}if(s==null)throw WL(e);return s}}class e3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function t3(t,e,n){let s=1,a=null,l=null,u=!1,f=0;function m(){return f===2}let p=!1;function y(...V){p||(p=!0,e.apply(null,V))}function v(V){a=setTimeout(()=>{a=null,t(R,m())},V)}function E(){l&&clearTimeout(l)}function R(V,...j){if(p){E();return}if(V){E(),y.call(null,V,...j);return}if(m()||u){E(),y.call(null,V,...j);return}s<64&&(s*=2);let H;f===1?(f=2,H=0):H=(s+Math.random())*1e3,v(H)}let M=!1;function O(V){M||(M=!0,E(),!p&&(a!==null?(V||(f=2),clearTimeout(a),v(0)):V||(f=1)))}return v(0),l=setTimeout(()=>{u=!0,O(!0)},n),O}function n3(t){t(!1)}function i3(t){return t!==void 0}function FE(t,e,n,s){if(s<e)throw BE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw BE(`Invalid value for '${t}'. Expected ${n} or less.`)}function s3(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var Td;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Td||(Td={}));function r3(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class a3{constructor(e,n,s,a,l,u,f,m,p,y,v,E=!0,R=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=v,this.retry=E,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,O)=>{this.resolve_=M,this.reject_=O,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Cf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const m=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===Td.NO_ERROR,m=l.getStatus();if(!f||r3(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Td.ABORT;s(!1,new Cf(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;s(!0,new Cf(p,l))})},n=(s,a)=>{const l=this.resolve_,u=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());i3(m)?l(m):l()}catch(m){u(m)}else if(f!==null){const m=YL();m.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,m)):u(m)}else if(a.canceled){const m=this.appDelete_?vC():XL();u(m)}else{const m=QL();u(m)}};this.canceled_?n(!1,new Cf(!1,null,!0)):this.backoffId_=t3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&n3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Cf{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function o3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function l3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function c3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function u3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function h3(t,e,n,s,a,l,u=!0,f=!1){const m=s3(t.urlParams),p=t.url+m,y=Object.assign({},t.headers);return c3(y,e),o3(y,n),l3(y,l),u3(y,s),new a3(p,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,f)}function f3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function d3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class Ed{constructor(e,n){this._service=e,n instanceof ts?this._location=n:this._location=ts.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ed(e,n)}get root(){const e=new ts(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return d3(this._location.path)}get storage(){return this._service}get parent(){const e=f3(this._location.path);if(e===null)return null;const n=new ts(this._location.bucket,e);return new Ed(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw JL(e)}}function HE(t,e){const n=e?.[GL];return n==null?null:ts.makeFromBucketSpec(n,t)}function m3(t,e,n,s={}){t.host=`${e}:${n}`;const a=mo(e);a&&(tv(`https://${t.host}/b`),nv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:Qx(l,t.app.options.projectId))}class p3{constructor(e,n,s,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=yC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=KL,this._maxUploadRetryTime=$L,this._requests=new Set,a!=null?this._bucket=ts.makeFromBucketSpec(a,this._host):this._bucket=HE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ts.makeFromBucketSpec(this._url,e):this._bucket=HE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){FE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){FE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ed(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new e3(vC());{const u=h3(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const qE="@firebase/storage",GE="0.14.0";const _C="storage";function g3(t=rv(),e){t=mn(t);const s=jd(t,_C).getImmediate({identifier:e}),a=Kx("storage");return a&&y3(s,...a),s}function y3(t,e,n,s={}){m3(t,e,n,s)}function v3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new p3(n,s,a,e,po)}function _3(){lo(new ca(_C,v3,"PUBLIC").setMultipleInstances(!0)),Cs(qE,GE,""),Cs(qE,GE,"esm2020")}_3();const b3={apiKey:"AIzaSyC7IaK8e0JimVT2DeKQovTDLPyufibEu_4",authDomain:"sunsar-bingo.firebaseapp.com",projectId:"sunsar-bingo",storageBucket:"sunsar-bingo.firebasestorage.app",messagingSenderId:"256131852935",appId:"1:256131852935:web:fe514c1e6758e5af252622"},om=Zx(b3),Gf=DP(om),bC=new ar,Qn=JA(om);g3(om);const w3=Object.freeze(Object.defineProperty({__proto__:null,app:om,auth:Gf,db:Qn,googleProvider:bC},Symbol.toStringTag,{value:"Module"})),wC=k.createContext(void 0),T3=({children:t})=>{const[e,n]=k.useState(null),[s,a]=k.useState(!0),[l,u]=k.useState(null);k.useEffect(()=>{const p=_V(Gf,async y=>{if(y){const v={uid:y.uid,email:y.email,displayName:y.displayName,photoURL:y.photoURL};n(v),u(null);try{const{doc:E,setDoc:R,Timestamp:M}=await Wg(async()=>{const{doc:V,setDoc:j,Timestamp:F}=await Promise.resolve().then(()=>qL);return{doc:V,setDoc:j,Timestamp:F}},[]),{db:O}=await Wg(async()=>{const{db:V}=await Promise.resolve().then(()=>w3);return{db:V}},void 0);await R(E(O,"users",y.uid),{...v,lastSeen:M.now()},{merge:!0})}catch(E){console.error("Error syncing user profile:",E)}}else n(null);a(!1)});return()=>p()},[]);const f=async()=>{u(null);try{await zV(Gf,bC)}catch(p){u(p.message||"Failed to sign in")}},m=async()=>{await bV(Gf)};return w.jsx(wC.Provider,{value:{user:e,loading:s,signIn:f,logout:m,error:l},children:t})},Hl=()=>{const t=k.useContext(wC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Yv=k.createContext({});function Qv(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const TC=typeof window<"u",EC=TC?k.useLayoutEffect:k.useEffect,lm=k.createContext(null);function Xv(t,e){t.indexOf(e)===-1&&t.push(e)}function Wv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ls=(t,e,n)=>n>e?e:n<t?t:n;let Zv=()=>{};const vr={},xC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function SC(t){return typeof t=="object"&&t!==null}const AC=t=>/^0[^.\s]+$/u.test(t);function Jv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Li=t=>t,E3=(t,e)=>n=>e(t(n)),Yu=(...t)=>t.reduce(E3),xu=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class e0{constructor(){this.subscriptions=[]}add(e){return Xv(this.subscriptions,e),()=>Wv(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fr=t=>t*1e3,Vi=t=>t/1e3;function CC(t,e){return e?t*(1e3/e):0}const RC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,x3=1e-7,S3=12;function A3(t,e,n,s,a){let l,u,f=0;do u=e+(n-e)/2,l=RC(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>x3&&++f<S3);return u}function Qu(t,e,n,s){if(t===e&&n===s)return Li;const a=l=>A3(l,0,1,t,n);return l=>l===0||l===1?l:RC(a(l),e,s)}const IC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,NC=t=>e=>1-t(1-e),DC=Qu(.33,1.53,.69,.99),t0=NC(DC),kC=IC(t0),MC=t=>(t*=2)<1?.5*t0(t):.5*(2-Math.pow(2,-10*(t-1))),n0=t=>1-Math.sin(Math.acos(t)),VC=NC(n0),PC=IC(n0),C3=Qu(.42,0,1,1),R3=Qu(0,0,.58,1),OC=Qu(.42,0,.58,1),I3=t=>Array.isArray(t)&&typeof t[0]!="number",LC=t=>Array.isArray(t)&&typeof t[0]=="number",N3={linear:Li,easeIn:C3,easeInOut:OC,easeOut:R3,circIn:n0,circInOut:PC,circOut:VC,backIn:t0,backInOut:kC,backOut:DC,anticipate:MC},D3=t=>typeof t=="string",KE=t=>{if(LC(t)){Zv(t.length===4);const[e,n,s,a]=t;return Qu(e,n,s,a)}else if(D3(t))return N3[t];return t},Rf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function k3(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){u.has(y)&&(p.schedule(y),t()),y(f)}const p={schedule:(y,v=!1,E=!1)=>{const M=E&&a?n:s;return v&&u.add(y),M.has(y)||M.add(y),y},cancel:y=>{s.delete(y),u.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const M3=40;function jC(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Rf.reduce((H,oe)=>(H[oe]=k3(l),H),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:y,update:v,preRender:E,render:R,postRender:M}=u,O=()=>{const H=vr.useManualTiming?a.timestamp:performance.now();n=!1,vr.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(H-a.timestamp,M3),1)),a.timestamp=H,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),v.process(a),E.process(a),R.process(a),M.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(O))},V=()=>{n=!0,s=!0,a.isProcessing||t(O)};return{schedule:Rf.reduce((H,oe)=>{const re=u[oe];return H[oe]=(de,D=!1,x=!1)=>(n||V(),re.schedule(de,D,x)),H},{}),cancel:H=>{for(let oe=0;oe<Rf.length;oe++)u[Rf[oe]].cancel(H)},state:a,steps:u}}const{schedule:It,cancel:ga,state:Cn,steps:Rg}=jC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Li,!0);let Kf;function V3(){Kf=void 0}const jn={now:()=>(Kf===void 0&&jn.set(Cn.isProcessing||vr.useManualTiming?Cn.timestamp:performance.now()),Kf),set:t=>{Kf=t,queueMicrotask(V3)}},UC=t=>e=>typeof e=="string"&&e.startsWith(t),zC=UC("--"),P3=UC("var(--"),i0=t=>P3(t)?O3.test(t.split("/*")[0].trim()):!1,O3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function $E(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const ql={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Su={...ql,transform:t=>Ls(0,1,t)},If={...ql,default:1},fu=t=>Math.round(t*1e5)/1e5,s0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function L3(t){return t==null}const j3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,r0=(t,e)=>n=>!!(typeof n=="string"&&j3.test(n)&&n.startsWith(t)||e&&!L3(n)&&Object.prototype.hasOwnProperty.call(n,e)),BC=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,f]=s.match(s0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},U3=t=>Ls(0,255,t),Ig={...ql,transform:t=>Math.round(U3(t))},no={test:r0("rgb","red"),parse:BC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Ig.transform(t)+", "+Ig.transform(e)+", "+Ig.transform(n)+", "+fu(Su.transform(s))+")"};function z3(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Ey={test:r0("#"),parse:z3,transform:no.transform},Xu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Zr=Xu("deg"),ks=Xu("%"),we=Xu("px"),B3=Xu("vh"),F3=Xu("vw"),YE={...ks,parse:t=>ks.parse(t)/100,transform:t=>ks.transform(t*100)},pl={test:r0("hsl","hue"),parse:BC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+ks.transform(fu(e))+", "+ks.transform(fu(n))+", "+fu(Su.transform(s))+")"},sn={test:t=>no.test(t)||Ey.test(t)||pl.test(t),parse:t=>no.test(t)?no.parse(t):pl.test(t)?pl.parse(t):Ey.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?no.transform(t):pl.transform(t),getAnimatableNone:t=>{const e=sn.parse(t);return e.alpha=0,sn.transform(e)}},H3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function q3(t){return isNaN(t)&&typeof t=="string"&&(t.match(s0)?.length||0)+(t.match(H3)?.length||0)>0}const FC="number",HC="color",G3="var",K3="var(",QE="${}",$3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Au(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace($3,m=>(sn.test(m)?(s.color.push(l),a.push(HC),n.push(sn.parse(m))):m.startsWith(K3)?(s.var.push(l),a.push(G3),n.push(m)):(s.number.push(l),a.push(FC),n.push(parseFloat(m))),++l,QE)).split(QE);return{values:n,split:f,indexes:s,types:a}}function qC(t){return Au(t).values}function GC(t){const{split:e,types:n}=Au(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const f=n[u];f===FC?l+=fu(a[u]):f===HC?l+=sn.transform(a[u]):l+=a[u]}return l}}const Y3=t=>typeof t=="number"?0:sn.test(t)?sn.getAnimatableNone(t):t;function Q3(t){const e=qC(t);return GC(t)(e.map(Y3))}const ya={test:q3,parse:qC,createTransformer:GC,getAnimatableNone:Q3};function Ng(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function X3({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=Ng(m,f,t+1/3),l=Ng(m,f,t),u=Ng(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function xd(t,e){return n=>n>0?e:t}const Pt=(t,e,n)=>t+(e-t)*n,Dg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},W3=[Ey,no,pl],Z3=t=>W3.find(e=>e.test(t));function XE(t){const e=Z3(t);if(!e)return!1;let n=e.parse(t);return e===pl&&(n=X3(n)),n}const WE=(t,e)=>{const n=XE(t),s=XE(e);if(!n||!s)return xd(t,e);const a={...n};return l=>(a.red=Dg(n.red,s.red,l),a.green=Dg(n.green,s.green,l),a.blue=Dg(n.blue,s.blue,l),a.alpha=Pt(n.alpha,s.alpha,l),no.transform(a))},xy=new Set(["none","hidden"]);function J3(t,e){return xy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function e5(t,e){return n=>Pt(t,e,n)}function a0(t){return typeof t=="number"?e5:typeof t=="string"?i0(t)?xd:sn.test(t)?WE:i5:Array.isArray(t)?KC:typeof t=="object"?sn.test(t)?WE:t5:xd}function KC(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>a0(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function t5(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=a0(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function n5(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],f=t.values[u]??0;n[a]=f,s[l]++}return n}const i5=(t,e)=>{const n=ya.createTransformer(e),s=Au(t),a=Au(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?xy.has(t)&&!a.values.length||xy.has(e)&&!s.values.length?J3(t,e):Yu(KC(n5(s,a),a.values),n):xd(t,e)};function $C(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Pt(t,e,n):a0(t)(t,e)}const s5=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>It.update(e,n),stop:()=>ga(e),now:()=>Cn.isProcessing?Cn.timestamp:jn.now()}},YC=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Sd=2e4;function o0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Sd;)e+=n,s=t.next(e);return e>=Sd?1/0:e}function r5(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(o0(s),Sd);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Vi(a)}}const a5=5;function QC(t,e,n){const s=Math.max(e-a5,0);return CC(n-t(s),e-s)}const Bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},kg=.001;function o5({duration:t=Bt.duration,bounce:e=Bt.bounce,velocity:n=Bt.velocity,mass:s=Bt.mass}){let a,l,u=1-e;u=Ls(Bt.minDamping,Bt.maxDamping,u),t=Ls(Bt.minDuration,Bt.maxDuration,Vi(t)),u<1?(a=p=>{const y=p*u,v=y*t,E=y-n,R=Sy(p,u),M=Math.exp(-v);return kg-E/R*M},l=p=>{const v=p*u*t,E=v*n+n,R=Math.pow(u,2)*Math.pow(p,2)*t,M=Math.exp(-v),O=Sy(Math.pow(p,2),u);return(-a(p)+kg>0?-1:1)*((E-R)*M)/O}):(a=p=>{const y=Math.exp(-p*t),v=(p-n)*t+1;return-kg+y*v},l=p=>{const y=Math.exp(-p*t),v=(n-p)*(t*t);return y*v});const f=5/t,m=c5(a,l,f);if(t=fr(t),isNaN(m))return{stiffness:Bt.stiffness,damping:Bt.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:u*2*Math.sqrt(s*p),duration:t}}}const l5=12;function c5(t,e,n){let s=n;for(let a=1;a<l5;a++)s=s-t(s)/e(s);return s}function Sy(t,e){return t*Math.sqrt(1-e*e)}const u5=["duration","bounce"],h5=["stiffness","damping","mass"];function ZE(t,e){return e.some(n=>t[n]!==void 0)}function f5(t){let e={velocity:Bt.velocity,stiffness:Bt.stiffness,damping:Bt.damping,mass:Bt.mass,isResolvedFromDuration:!1,...t};if(!ZE(t,h5)&&ZE(t,u5))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Ls(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Bt.mass,stiffness:a,damping:l}}else{const n=o5(t);e={...e,...n,mass:Bt.mass},e.isResolvedFromDuration=!0}return e}function Ad(t=Bt.visualDuration,e=Bt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:v,velocity:E,isResolvedFromDuration:R}=f5({...n,velocity:-Vi(n.velocity||0)}),M=E||0,O=p/(2*Math.sqrt(m*y)),V=u-l,j=Vi(Math.sqrt(m/y)),F=Math.abs(V)<5;s||(s=F?Bt.restSpeed.granular:Bt.restSpeed.default),a||(a=F?Bt.restDelta.granular:Bt.restDelta.default);let H;if(O<1){const re=Sy(j,O);H=de=>{const D=Math.exp(-O*j*de);return u-D*((M+O*j*V)/re*Math.sin(re*de)+V*Math.cos(re*de))}}else if(O===1)H=re=>u-Math.exp(-j*re)*(V+(M+j*V)*re);else{const re=j*Math.sqrt(O*O-1);H=de=>{const D=Math.exp(-O*j*de),x=Math.min(re*de,300);return u-D*((M+O*j*V)*Math.sinh(x)+re*V*Math.cosh(x))/re}}const oe={calculatedDuration:R&&v||null,next:re=>{const de=H(re);if(R)f.done=re>=v;else{let D=re===0?M:0;O<1&&(D=re===0?fr(M):QC(H,re,de));const x=Math.abs(D)<=s,I=Math.abs(u-de)<=a;f.done=x&&I}return f.value=f.done?u:de,f},toString:()=>{const re=Math.min(o0(oe),Sd),de=YC(D=>oe.next(re*D).value,re,30);return re+"ms "+de},toTransition:()=>{}};return oe}Ad.applyToOptions=t=>{const e=r5(t,100,Ad);return t.ease=e.ease,t.duration=fr(e.duration),t.type="keyframes",t};function Ay({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:m,restDelta:p=.5,restSpeed:y}){const v=t[0],E={done:!1,value:v},R=x=>f!==void 0&&x<f||m!==void 0&&x>m,M=x=>f===void 0?m:m===void 0||Math.abs(f-x)<Math.abs(m-x)?f:m;let O=n*e;const V=v+O,j=u===void 0?V:u(V);j!==V&&(O=j-v);const F=x=>-O*Math.exp(-x/s),H=x=>j+F(x),oe=x=>{const I=F(x),P=H(x);E.done=Math.abs(I)<=p,E.value=E.done?j:P};let re,de;const D=x=>{R(E.value)&&(re=x,de=Ad({keyframes:[E.value,M(E.value)],velocity:QC(H,x,E.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return D(0),{calculatedDuration:null,next:x=>{let I=!1;return!de&&re===void 0&&(I=!0,oe(x),D(x)),re!==void 0&&x>=re?de.next(x-re):(!I&&oe(x),E)}}}function d5(t,e,n){const s=[],a=n||vr.mix||$C,l=t.length-1;for(let u=0;u<l;u++){let f=a(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||Li:e;f=Yu(m,f)}s.push(f)}return s}function m5(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(Zv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=d5(e,s,a),m=f.length,p=y=>{if(u&&y<t[0])return e[0];let v=0;if(m>1)for(;v<t.length-2&&!(y<t[v+1]);v++);const E=xu(t[v],t[v+1],y);return f[v](E)};return n?y=>p(Ls(t[0],t[l-1],y)):p}function p5(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=xu(0,e,s);t.push(Pt(n,1,a))}}function g5(t){const e=[0];return p5(e,t.length-1),e}function y5(t,e){return t.map(n=>n*e)}function v5(t,e){return t.map(()=>e||OC).splice(0,t.length-1)}function du({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=I3(s)?s.map(KE):KE(s),l={done:!1,value:e[0]},u=y5(n&&n.length===e.length?n:g5(e),t),f=m5(u,e,{ease:Array.isArray(a)?a:v5(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const _5=t=>t!==null;function l0(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(_5),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const b5={decay:Ay,inertia:Ay,tween:du,keyframes:du,spring:Ad};function XC(t){typeof t.type=="string"&&(t.type=b5[t.type])}class c0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const w5=t=>t/100;class u0 extends c0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==jn.now()&&this.tick(jn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;XC(e);const{type:n=du,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:f}=e;const m=n||du;m!==du&&typeof f[0]!="number"&&(this.mixKeyframes=Yu(w5,$C(f[0],f[1])),f=[0,100]);const p=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=o0(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:E,repeatDelay:R,type:M,onUpdate:O,finalKeyframe:V}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const j=this.currentTime-p*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?j<0:j>a;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let H=this.currentTime,oe=s;if(v){const x=Math.min(this.currentTime,a)/f;let I=Math.floor(x),P=x%1;!P&&x>=1&&(P=1),P===1&&I--,I=Math.min(I,v+1),I%2&&(E==="reverse"?(P=1-P,R&&(P-=R/f)):E==="mirror"&&(oe=u)),H=Ls(0,1,P)*f}const re=F?{done:!1,value:y[0]}:oe.next(H);l&&(re.value=l(re.value));let{done:de}=re;!F&&m!==null&&(de=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&de);return D&&M!==Ay&&(re.value=l0(y,this.options,V,this.speed)),O&&O(re.value),D&&this.finish(),re}then(e,n){return this.finished.then(e,n)}get duration(){return Vi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Vi(e)}get time(){return Vi(this.currentTime)}set time(e){e=fr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(jn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Vi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=s5,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(jn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function T5(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const io=t=>t*180/Math.PI,Cy=t=>{const e=io(Math.atan2(t[1],t[0]));return Ry(e)},E5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Cy,rotateZ:Cy,skewX:t=>io(Math.atan(t[1])),skewY:t=>io(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ry=t=>(t=t%360,t<0&&(t+=360),t),JE=Cy,e1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),t1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),x5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:e1,scaleY:t1,scale:t=>(e1(t)+t1(t))/2,rotateX:t=>Ry(io(Math.atan2(t[6],t[5]))),rotateY:t=>Ry(io(Math.atan2(-t[2],t[0]))),rotateZ:JE,rotate:JE,skewX:t=>io(Math.atan(t[4])),skewY:t=>io(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Iy(t){return t.includes("scale")?1:0}function Ny(t,e){if(!t||t==="none")return Iy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=x5,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=E5,a=f}if(!a)return Iy(e);const l=s[e],u=a[1].split(",").map(A5);return typeof l=="function"?l(u):u[l]}const S5=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ny(n,e)};function A5(t){return parseFloat(t.trim())}const Gl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Kl=new Set(Gl),n1=t=>t===ql||t===we,C5=new Set(["x","y","z"]),R5=Gl.filter(t=>!C5.has(t));function I5(t){const e=[];return R5.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const ia={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ny(e,"x"),y:(t,{transform:e})=>Ny(e,"y")};ia.translateX=ia.x;ia.translateY=ia.y;const ro=new Set;let Dy=!1,ky=!1,My=!1;function WC(){if(ky){const t=Array.from(ro).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=I5(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}ky=!1,Dy=!1,ro.forEach(t=>t.complete(My)),ro.clear()}function ZC(){ro.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ky=!0)})}function N5(){My=!0,ZC(),WC(),My=!1}class h0{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(ro.add(this),Dy||(Dy=!0,It.read(ZC),It.resolveKeyframes(WC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}T5(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ro.delete(this)}cancel(){this.state==="scheduled"&&(ro.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const D5=t=>t.startsWith("--");function k5(t,e,n){D5(e)?t.style.setProperty(e,n):t.style[e]=n}const M5=Jv(()=>window.ScrollTimeline!==void 0),V5={};function P5(t,e){const n=Jv(t);return()=>V5[e]??n()}const JC=P5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),nu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,i1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nu([0,.65,.55,1]),circOut:nu([.55,0,1,.45]),backIn:nu([.31,.01,.66,-.59]),backOut:nu([.33,1.53,.69,.99])};function eR(t,e){if(t)return typeof t=="function"?JC()?YC(t,e):"ease-out":LC(t)?nu(t):Array.isArray(t)?t.map(n=>eR(n,e)||i1.easeOut):i1[t]}function O5(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:m}={},p=void 0){const y={[e]:n};m&&(y.offset=m);const v=eR(f,a);Array.isArray(v)&&(y.easing=v);const E={delay:s,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),t.animate(y,E)}function tR(t){return typeof t=="function"&&"applyToOptions"in t}function L5({type:t,...e}){return tR(t)&&JC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class j5 extends c0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Zv(typeof e.type!="string");const p=L5(e);this.animation=O5(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=l0(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):k5(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Vi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Vi(e)}get time(){return Vi(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=fr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&M5()?(this.animation.timeline=e,Li):n(this)}}const nR={anticipate:MC,backInOut:kC,circInOut:PC};function U5(t){return t in nR}function z5(t){typeof t.ease=="string"&&U5(t.ease)&&(t.ease=nR[t.ease])}const Mg=10;class B5 extends j5{constructor(e){z5(e),XC(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new u0({...u,autoplay:!1}),m=Math.max(Mg,jn.now()-this.startTime),p=Ls(0,Mg,m-Mg);n.setWithVelocity(f.sample(Math.max(0,m-p)).value,f.sample(m).value,p),f.stop()}}const s1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ya.test(t)||t==="0")&&!t.startsWith("url("));function F5(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function H5(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=s1(a,e),f=s1(l,e);return!u||!f?!1:F5(t)||(n==="spring"||tR(n))&&s}function Vy(t){t.duration=0,t.type="keyframes"}const q5=new Set(["opacity","clipPath","filter","transform"]),G5=Jv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function K5(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return G5()&&n&&q5.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const $5=40;class Y5 extends c0{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:m,motionValue:p,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=jn.now();const E={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:p,element:y,...v},R=y?.KeyframeResolver||h0;this.keyframeResolver=new R(f,(M,O,V)=>this.onKeyframesResolved(M,O,E,!V),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=jn.now(),H5(e,l,u,f)||((vr.instantAnimations||!m)&&y?.(l0(e,s,n)),e[0]=e[e.length-1],Vy(s),s.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>$5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},R=!p&&K5(E)?new B5({...E,element:E.motionValue.owner.current}):new u0(E);R.finished.then(()=>this.notifyFinished()).catch(Li),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),N5()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Q5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function X5(t){const e=Q5.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function iR(t,e,n=1){const[s,a]=X5(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return xC(u)?parseFloat(u):u}return i0(a)?iR(a,e,n+1):a}function f0(t,e){return t?.[e]??t?.default??t}const W5={type:"spring",stiffness:500,damping:25,restSpeed:10},Z5=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),J5={type:"keyframes",duration:.8},ej={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tj=(t,{keyframes:e})=>e.length>2?J5:Kl.has(t)?t.startsWith("scale")?Z5(e[1]):W5:ej;function nj({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const ij=t=>t!==null;function sj(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(ij),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function sR(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),u=t.size,f=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:f-l*s}const d0=(t,e,n,s={},a,l)=>u=>{const f=f0(s,t)||{},m=f.delay||s.delay||0;let{elapsed:p=0}=s;p=p-fr(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:E=>{e.set(E),f.onUpdate&&f.onUpdate(E)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};nj(f)||Object.assign(y,tj(t,y)),y.duration&&(y.duration=fr(y.duration)),y.repeatDelay&&(y.repeatDelay=fr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Vy(y),y.delay===0&&(v=!0)),(vr.instantAnimations||vr.skipAnimations)&&(v=!0,Vy(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,v&&!l&&e.get()!==void 0){const E=sj(y.keyframes,f);if(E!==void 0){It.update(()=>{y.onUpdate(E),y.onComplete()});return}}return f.isSync?new u0(y):new Y5(y)},rR=new Set(["width","height","top","left","right","bottom",...Gl]),r1=30,rj=t=>!isNaN(parseFloat(t));class aj{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=jn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=jn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=rj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new e0);const s=this.events[e].add(n);return e==="change"?()=>{s(),It.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=jn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>r1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,r1);return CC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vl(t,e){return new aj(t,e)}function a1(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function m0(t,e,n,s){if(typeof e=="function"){const[a,l]=a1(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=a1(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Sl(t,e,n){const s=t.getProps();return m0(s,e,n!==void 0?n:s.custom,t)}const Py=t=>Array.isArray(t);function oj(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Vl(n))}function lj(t){return Py(t)?t[t.length-1]||0:t}function cj(t,e){const n=Sl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const f=lj(l[u]);oj(t,u,f)}}const Mn=t=>!!(t&&t.getVelocity);function uj(t){return!!(Mn(t)&&t.add)}function Oy(t,e){const n=t.getValue("willChange");if(uj(n))return n.add(e);if(!n&&vr.WillChange){const s=new vr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function p0(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const hj="framerAppearId",aR="data-"+p0(hj);function oR(t){return t.props[aR]}function fj({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function lR(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...f}=e;s&&(l=s);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in f){const v=t.getValue(y,t.latestValues[y]??null),E=f[y];if(E===void 0||p&&fj(p,y))continue;const R={delay:n,...f0(l||{},y)},M=v.get();if(M!==void 0&&!v.isAnimating&&!Array.isArray(E)&&E===M&&!R.velocity)continue;let O=!1;if(window.MotionHandoffAnimation){const j=oR(t);if(j){const F=window.MotionHandoffAnimation(j,y,It);F!==null&&(R.startTime=F,O=!0)}}Oy(t,y),v.start(d0(y,v,E,t.shouldReduceMotion&&rR.has(y)?{type:!1}:R,t,O));const V=v.animation;V&&m.push(V)}return u&&Promise.all(m).then(()=>{It.update(()=>{u&&cj(t,u)})}),m}function Ly(t,e,n={}){const s=Sl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(lR(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=a;return dj(t,e,m,p,y,v,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,p]=f==="beforeChildren"?[l,u]:[u,l];return m().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function dj(t,e,n=0,s=0,a=0,l=1,u){const f=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),f.push(Ly(m,e,{...u,delay:n+(typeof s=="function"?0:s)+sR(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function mj(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Ly(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Ly(t,e,n);else{const a=typeof e=="function"?Sl(t,e,n.custom):e;s=Promise.all(lR(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const pj={test:t=>t==="auto",parse:t=>t},cR=t=>e=>e.test(t),uR=[ql,we,ks,Zr,F3,B3,pj],o1=t=>uR.find(cR(t));function gj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||AC(t):!0}const yj=new Set(["brightness","contrast","saturate","opacity"]);function vj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(s0)||[];if(!s)return t;const a=n.replace(s,"");let l=yj.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const _j=/\b([a-z-]*)\(.*?\)/gu,jy={...ya,getAnimatableNone:t=>{const e=t.match(_j);return e?e.map(vj).join(" "):t}},l1={...ql,transform:Math.round},bj={rotate:Zr,rotateX:Zr,rotateY:Zr,rotateZ:Zr,scale:If,scaleX:If,scaleY:If,scaleZ:If,skew:Zr,skewX:Zr,skewY:Zr,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Su,originX:YE,originY:YE,originZ:we},g0={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,inset:we,insetBlock:we,insetBlockStart:we,insetBlockEnd:we,insetInline:we,insetInlineStart:we,insetInlineEnd:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,paddingBlock:we,paddingBlockStart:we,paddingBlockEnd:we,paddingInline:we,paddingInlineStart:we,paddingInlineEnd:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,marginBlock:we,marginBlockStart:we,marginBlockEnd:we,marginInline:we,marginInlineStart:we,marginInlineEnd:we,backgroundPositionX:we,backgroundPositionY:we,...bj,zIndex:l1,fillOpacity:Su,strokeOpacity:Su,numOctaves:l1},wj={...g0,color:sn,backgroundColor:sn,outlineColor:sn,fill:sn,stroke:sn,borderColor:sn,borderTopColor:sn,borderRightColor:sn,borderBottomColor:sn,borderLeftColor:sn,filter:jy,WebkitFilter:jy},hR=t=>wj[t];function fR(t,e){let n=hR(t);return n!==jy&&(n=ya),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Tj=new Set(["auto","none","0"]);function Ej(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!Tj.has(l)&&Au(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=fR(n,a)}class xj extends h0{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let v=e[y];if(typeof v=="string"&&(v=v.trim(),i0(v))){const E=iR(v,n.current);E!==void 0&&(e[y]=E),y===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!rR.has(s)||e.length!==2)return;const[a,l]=e,u=o1(a),f=o1(l),m=$E(a),p=$E(l);if(m!==p&&ia[s]){this.needsMeasurement=!0;return}if(u!==f)if(n1(u)&&n1(f))for(let y=0;y<e.length;y++){const v=e[y];typeof v=="string"&&(e[y]=parseFloat(v))}else ia[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||gj(e[a]))&&s.push(a);s.length&&Ej(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ia[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=ia[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function Sj(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const dR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function mR(t){return SC(t)&&"offsetHeight"in t}const{schedule:y0}=jC(queueMicrotask,!1),Zi={x:!1,y:!1};function pR(){return Zi.x||Zi.y}function Aj(t){return t==="x"||t==="y"?Zi[t]?null:(Zi[t]=!0,()=>{Zi[t]=!1}):Zi.x||Zi.y?null:(Zi.x=Zi.y=!0,()=>{Zi.x=Zi.y=!1})}function gR(t,e){const n=Sj(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function c1(t){return!(t.pointerType==="touch"||pR())}function Cj(t,e,n={}){const[s,a,l]=gR(t,n),u=f=>{if(!c1(f))return;const{target:m}=f,p=e(m,f);if(typeof p!="function"||!m)return;const y=v=>{c1(v)&&(p(v),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(f=>{f.addEventListener("pointerenter",u,a)}),l}const yR=(t,e)=>e?t===e?!0:yR(t,e.parentElement):!1,v0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Rj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function vR(t){return Rj.has(t.tagName)||t.isContentEditable===!0}const $f=new WeakSet;function u1(t){return e=>{e.key==="Enter"&&t(e)}}function Vg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Ij=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=u1(()=>{if($f.has(n))return;Vg(n,"down");const a=u1(()=>{Vg(n,"up")}),l=()=>Vg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function h1(t){return v0(t)&&!pR()}function Nj(t,e,n={}){const[s,a,l]=gR(t,n),u=f=>{const m=f.currentTarget;if(!h1(f))return;$f.add(m);const p=e(m,f),y=(R,M)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",E),$f.has(m)&&$f.delete(m),h1(R)&&typeof p=="function"&&p(R,{success:M})},v=R=>{y(R,m===window||m===document||n.useGlobalTarget||yR(m,R.target))},E=R=>{y(R,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",E,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),mR(f)&&(f.addEventListener("focus",p=>Ij(p,a)),!vR(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function _R(t){return SC(t)&&"ownerSVGElement"in t}function Dj(t){return _R(t)&&t.tagName==="svg"}const kj=[...uR,sn,ya],Mj=t=>kj.find(cR(t)),f1=()=>({translate:0,scale:1,origin:0,originPoint:0}),gl=()=>({x:f1(),y:f1()}),d1=()=>({min:0,max:0}),hn=()=>({x:d1(),y:d1()}),Uy={current:null},bR={current:!1},Vj=typeof window<"u";function Pj(){if(bR.current=!0,!!Vj)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Uy.current=t.matches;t.addEventListener("change",e),e()}else Uy.current=!1}const Oj=new WeakMap;function cm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Cu(t){return typeof t=="string"||Array.isArray(t)}const _0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],b0=["initial",..._0];function um(t){return cm(t.animate)||b0.some(e=>Cu(t[e]))}function wR(t){return!!(um(t)||t.variants)}function Lj(t,e,n){for(const s in e){const a=e[s],l=n[s];if(Mn(a))t.addValue(s,a);else if(Mn(l))t.addValue(s,Vl(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,Vl(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const m1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Cd={};function TR(t){Cd=t}function jj(){return Cd}class Uj{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=h0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=jn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,It.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=um(n),this.isVariantNode=wR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in v){const R=v[E];m[E]!==void 0&&Mn(R)&&R.set(m[E])}}mount(e){this.current=e,Oj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(bR.current||Pj(),this.shouldReduceMotion=Uy.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ga(this.notifyUpdate),ga(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Kl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&It.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Cd){const n=Cd[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):hn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<m1.length;s++){const a=m1[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=Lj(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Vl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(xC(s)||AC(s))?s=parseFloat(s):!Mj(s)&&ya.test(n)&&(s=fR(e,n)),this.setBaseTarget(e,Mn(s)?s.get():s)),Mn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=m0(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Mn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new e0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){y0.render(this.render)}}class Ta{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ER extends Uj{constructor(){super(...arguments),this.KeyframeResolver=xj}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Mn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function xR({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function zj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Bj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Pg(t){return t===void 0||t===1}function zy({scale:t,scaleX:e,scaleY:n}){return!Pg(t)||!Pg(e)||!Pg(n)}function Ja(t){return zy(t)||SR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function SR(t){return p1(t.x)||p1(t.y)}function p1(t){return t&&t!=="0%"}function Rd(t,e,n){const s=t-n,a=e*s;return n+a}function g1(t,e,n,s,a){return a!==void 0&&(t=Rd(t,a,s)),Rd(t,n,s)+e}function By(t,e=0,n=1,s,a){t.min=g1(t.min,e,n,s,a),t.max=g1(t.max,e,n,s,a)}function AR(t,{x:e,y:n}){By(t.x,e.translate,e.scale,e.originPoint),By(t.y,n.translate,n.scale,n.originPoint)}const y1=.999999999999,v1=1.0000000000001;function Fj(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let f=0;f<a;f++){l=n[f],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&vl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,AR(t,u)),s&&Ja(l.latestValues)&&vl(t,l.latestValues))}e.x<v1&&e.x>y1&&(e.x=1),e.y<v1&&e.y>y1&&(e.y=1)}function yl(t,e){t.min=t.min+e,t.max=t.max+e}function _1(t,e,n,s,a=.5){const l=Pt(t.min,t.max,a);By(t,e,n,l,s)}function vl(t,e){_1(t.x,e.x,e.scaleX,e.scale,e.originX),_1(t.y,e.y,e.scaleY,e.scale,e.originY)}function CR(t,e){return xR(Bj(t.getBoundingClientRect(),e))}function Hj(t,e,n){const s=CR(t,n),{scroll:a}=e;return a&&(yl(s.x,a.offset.x),yl(s.y,a.offset.y)),s}const qj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Gj=Gl.length;function Kj(t,e,n){let s="",a=!0;for(let l=0;l<Gj;l++){const u=Gl[l],f=t[u];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(u.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=dR(f,g0[u]);if(!m){a=!1;const y=qj[u]||u;s+=`${y}(${p}) `}n&&(e[u]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function w0(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,f=!1;for(const m in e){const p=e[m];if(Kl.has(m)){u=!0;continue}else if(zC(m)){a[m]=p;continue}else{const y=dR(p,g0[m]);m.startsWith("origin")?(f=!0,l[m]=y):s[m]=y}}if(e.transform||(u||n?s.transform=Kj(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}function RR(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function b1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Wc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=b1(t,e.target.x),s=b1(t,e.target.y);return`${n}% ${s}%`}},$j={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=ya.parse(t);if(a.length>5)return s;const l=ya.createTransformer(t),u=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+u]/=f,a[1+u]/=m;const p=Pt(f,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}},Fy={borderRadius:{...Wc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wc,borderTopRightRadius:Wc,borderBottomLeftRadius:Wc,borderBottomRightRadius:Wc,boxShadow:$j};function IR(t,{layout:e,layoutId:n}){return Kl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Fy[t]||t==="opacity")}function T0(t,e,n){const s=t.style,a=e?.style,l={};if(!s)return l;for(const u in s)(Mn(s[u])||a&&Mn(a[u])||IR(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=s[u]);return l}function Yj(t){return window.getComputedStyle(t)}class Qj extends ER{constructor(){super(...arguments),this.type="html",this.renderInstance=RR}readValueFromInstance(e,n){if(Kl.has(n))return this.projection?.isProjecting?Iy(n):S5(e,n);{const s=Yj(e),a=(zC(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return CR(e,n)}build(e,n,s){w0(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return T0(e,n,s)}}const Xj={offset:"stroke-dashoffset",array:"stroke-dasharray"},Wj={offset:"strokeDashoffset",array:"strokeDasharray"};function Zj(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?Xj:Wj;t[l.offset]=we.transform(-s);const u=we.transform(e),f=we.transform(n);t[l.array]=`${u} ${f}`}const Jj=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function NR(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},m,p,y){if(w0(t,f,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:E}=t;v.transform&&(E.transform=v.transform,delete v.transform),(E.transform||v.transformOrigin)&&(E.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete v.transformBox);for(const R of Jj)v[R]!==void 0&&(E[R]=v[R],delete v[R]);e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),a!==void 0&&Zj(v,a,l,u,!1)}const DR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),kR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function e6(t,e,n,s){RR(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(DR.has(a)?a:p0(a),e.attrs[a])}function MR(t,e,n){const s=T0(t,e,n);for(const a in t)if(Mn(t[a])||Mn(e[a])){const l=Gl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}class t6 extends ER{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=hn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Kl.has(n)){const s=hR(n);return s&&s.default||0}return n=DR.has(n)?n:p0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return MR(e,n,s)}build(e,n,s){NR(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){e6(e,n,s,a)}mount(e){this.isSVGTag=kR(e.tagName),super.mount(e)}}const n6=b0.length;function VR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?VR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<n6;n++){const s=b0[n],a=t.props[s];(Cu(a)||a===!1)&&(e[s]=a)}return e}function PR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const i6=[..._0].reverse(),s6=_0.length;function r6(t){return e=>Promise.all(e.map(({animation:n,options:s})=>mj(t,n,s)))}function a6(t){let e=r6(t),n=w1(),s=!0;const a=m=>(p,y)=>{const v=Sl(t,y,m==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:E,transitionEnd:R,...M}=v;p={...p,...M,...R}}return p};function l(m){e=m(t)}function u(m){const{props:p}=t,y=VR(t.parent)||{},v=[],E=new Set;let R={},M=1/0;for(let V=0;V<s6;V++){const j=i6[V],F=n[j],H=p[j]!==void 0?p[j]:y[j],oe=Cu(H),re=j===m?F.isActive:null;re===!1&&(M=V);let de=H===y[j]&&H!==p[j]&&oe;if(de&&s&&t.manuallyAnimateOnMount&&(de=!1),F.protectedKeys={...R},!F.isActive&&re===null||!H&&!F.prevProp||cm(H)||typeof H=="boolean")continue;const D=o6(F.prevProp,H);let x=D||j===m&&F.isActive&&!de&&oe||V>M&&oe,I=!1;const P=Array.isArray(H)?H:[H];let L=P.reduce(a(j),{});re===!1&&(L={});const{prevResolvedValues:z={}}=F,N={...z,...L},fe=ne=>{x=!0,E.has(ne)&&(I=!0,E.delete(ne)),F.needsAnimating[ne]=!0;const ie=t.getValue(ne);ie&&(ie.liveStyle=!1)};for(const ne in N){const ie=L[ne],De=z[ne];if(R.hasOwnProperty(ne))continue;let G=!1;Py(ie)&&Py(De)?G=!PR(ie,De):G=ie!==De,G?ie!=null?fe(ne):E.add(ne):ie!==void 0&&E.has(ne)?fe(ne):F.protectedKeys[ne]=!0}F.prevProp=H,F.prevResolvedValues=L,F.isActive&&(R={...R,...L}),s&&t.blockInitialAnimation&&(x=!1);const pe=de&&D;x&&(!pe||I)&&v.push(...P.map(ne=>{const ie={type:j};if(typeof ne=="string"&&s&&!pe&&t.manuallyAnimateOnMount&&t.parent){const{parent:De}=t,G=Sl(De,ne);if(De.enteringChildren&&G){const{delayChildren:S}=G.transition||{};ie.delay=sR(De.enteringChildren,t,S)}}return{animation:ne,options:ie}}))}if(E.size){const V={};if(typeof p.initial!="boolean"){const j=Sl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);j&&j.transition&&(V.transition=j.transition)}E.forEach(j=>{const F=t.getBaseTarget(j),H=t.getValue(j);H&&(H.liveStyle=!0),V[j]=F??null}),v.push({animation:V})}let O=!!v.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(O=!1),s=!1,O?e(v):Promise.resolve()}function f(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(m,p)),n[m].isActive=p;const y=u(m);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=w1()}}}function o6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!PR(e,t):!1}function Qa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function w1(){return{animate:Qa(!0),whileInView:Qa(),whileHover:Qa(),whileTap:Qa(),whileDrag:Qa(),whileFocus:Qa(),exit:Qa()}}const OR=1e-4,l6=1-OR,c6=1+OR,LR=.01,u6=0-LR,h6=0+LR;function Un(t){return t.max-t.min}function f6(t,e,n){return Math.abs(t-e)<=n}function T1(t,e,n,s=.5){t.origin=s,t.originPoint=Pt(e.min,e.max,t.origin),t.scale=Un(n)/Un(e),t.translate=Pt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=l6&&t.scale<=c6||isNaN(t.scale))&&(t.scale=1),(t.translate>=u6&&t.translate<=h6||isNaN(t.translate))&&(t.translate=0)}function mu(t,e,n,s){T1(t.x,e.x,n.x,s?s.originX:void 0),T1(t.y,e.y,n.y,s?s.originY:void 0)}function E1(t,e,n){t.min=n.min+e.min,t.max=t.min+Un(e)}function d6(t,e,n){E1(t.x,e.x,n.x),E1(t.y,e.y,n.y)}function x1(t,e,n){t.min=e.min-n.min,t.max=t.min+Un(e)}function Id(t,e,n){x1(t.x,e.x,n.x),x1(t.y,e.y,n.y)}function S1(t,e,n,s,a){return t-=e,t=Rd(t,1/n,s),a!==void 0&&(t=Rd(t,1/a,s)),t}function m6(t,e=0,n=1,s=.5,a,l=t,u=t){if(ks.test(e)&&(e=parseFloat(e),e=Pt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=Pt(l.min,l.max,s);t===l&&(f-=e),t.min=S1(t.min,e,n,f,a),t.max=S1(t.max,e,n,f,a)}function A1(t,e,[n,s,a],l,u){m6(t,e[n],e[s],e[a],e.scale,l,u)}const p6=["x","scaleX","originX"],g6=["y","scaleY","originY"];function C1(t,e,n,s){A1(t.x,e,p6,n?n.x:void 0,s?s.x:void 0),A1(t.y,e,g6,n?n.y:void 0,s?s.y:void 0)}function R1(t,e){t.min=e.min,t.max=e.max}function Wi(t,e){R1(t.x,e.x),R1(t.y,e.y)}function I1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function N1(t){return t.translate===0&&t.scale===1}function jR(t){return N1(t.x)&&N1(t.y)}function D1(t,e){return t.min===e.min&&t.max===e.max}function y6(t,e){return D1(t.x,e.x)&&D1(t.y,e.y)}function k1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function UR(t,e){return k1(t.x,e.x)&&k1(t.y,e.y)}function M1(t){return Un(t.x)/Un(t.y)}function V1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function ki(t){return[t("x"),t("y")]}function v6(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:E,skewX:R,skewY:M}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),v&&(s+=`rotateX(${v}deg) `),E&&(s+=`rotateY(${E}deg) `),R&&(s+=`skewX(${R}deg) `),M&&(s+=`skewY(${M}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const zR=["TopLeft","TopRight","BottomLeft","BottomRight"],_6=zR.length,P1=t=>typeof t=="string"?parseFloat(t):t,O1=t=>typeof t=="number"||we.test(t);function b6(t,e,n,s,a,l){a?(t.opacity=Pt(0,n.opacity??1,w6(s)),t.opacityExit=Pt(e.opacity??1,0,T6(s))):l&&(t.opacity=Pt(e.opacity??1,n.opacity??1,s));for(let u=0;u<_6;u++){const f=`border${zR[u]}Radius`;let m=L1(e,f),p=L1(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||O1(m)===O1(p)?(t[f]=Math.max(Pt(P1(m),P1(p),s),0),(ks.test(p)||ks.test(m))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=Pt(e.rotate||0,n.rotate||0,s))}function L1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const w6=BR(0,.5,VC),T6=BR(.5,.95,Li);function BR(t,e,n){return s=>s<t?0:s>e?1:n(xu(t,e,s))}function E6(t,e){const n=jn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(ga(s),t(l-e))};return It.setup(s,!0),()=>ga(s)}function Ru(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Yf(t){return Mn(t)?t.get():t}function x6(t,e,n){const s=Mn(t)?t:Vl(t);return s.start(d0("",s,e,n)),s.animation}const S6=(t,e)=>t.depth-e.depth;class A6{constructor(){this.children=[],this.isDirty=!1}add(e){Xv(this.children,e),this.isDirty=!0}remove(e){Wv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(S6),this.isDirty=!1,this.children.forEach(e)}}class C6{constructor(){this.members=[]}add(e){Xv(this.members,e),e.scheduleRender()}remove(e){if(Wv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Qf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Og=["","X","Y","Z"],R6=1e3;let I6=0;function Lg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function FR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=oR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",It,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&FR(s)}function HR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},f=e?.()){this.id=I6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(k6),this.nodes.forEach(O6),this.nodes.forEach(L6),this.nodes.forEach(M6)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new A6)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new e0),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const m=this.eventHandlers.get(u);m&&m.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=_R(u)&&!Dj(u),this.instance=u;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let y,v=0;const E=()=>this.root.updateBlockedByResize=!1;It.read(()=>{v=window.innerWidth}),t(u,()=>{const R=window.innerWidth;R!==v&&(v=R,this.root.updateBlockedByResize=!0,y&&y(),y=E6(E,250),Qf.hasAnimatedSinceResize&&(Qf.hasAnimatedSinceResize=!1,this.nodes.forEach(z1)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:E,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||p.getDefaultTransition()||F6,{onLayoutAnimationStart:O,onLayoutAnimationComplete:V}=p.getProps(),j=!this.targetLayout||!UR(this.targetLayout,R),F=!v&&E;if(this.options.layoutRoot||this.resumeFrom||F||v&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const H={...f0(M,"layout"),onPlay:O,onComplete:V};(p.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H),this.setAnimationOrigin(y,F)}else v||z1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ga(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(j6),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&FR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(j1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(U1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(P6),this.nodes.forEach(N6),this.nodes.forEach(D6)):this.nodes.forEach(U1),this.clearAllSnapshots();const f=jn.now();Cn.delta=Ls(0,1e3/60,f-Cn.timestamp),Cn.timestamp=f,Cn.isProcessing=!0,Rg.update.process(Cn),Rg.preRender.process(Cn),Rg.render.process(Cn),Cn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,y0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(V6),this.sharedNodes.forEach(U6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,It.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){It.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Un(this.snapshot.measuredBox.x)&&!Un(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!jR(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(f||Ja(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return u&&(m=this.removeTransform(m)),H6(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return hn();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(q6))){const{scroll:p}=this.root;p&&(yl(f.x,p.offset.x),yl(f.y,p.offset.y))}return f}removeElementScroll(u){const f=hn();if(Wi(f,u),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Wi(f,u),yl(f.x,y.offset.x),yl(f.y,y.offset.y))}return f}applyTransform(u,f=!1){const m=hn();Wi(m,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&vl(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ja(y.latestValues)&&vl(m,y.latestValues)}return Ja(this.latestValues)&&vl(m,this.latestValues),m}removeTransform(u){const f=hn();Wi(f,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Ja(p.latestValues))continue;zy(p.latestValues)&&p.updateSnapshot();const y=hn(),v=p.measurePageBox();Wi(y,v),C1(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Ja(this.latestValues)&&C1(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Cn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=Cn.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=hn(),this.targetWithTransforms=hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),d6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wi(this.target,this.layout.layoutBox),AR(this.target,this.targetDelta)):Wi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||zy(this.parent.latestValues)||SR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,f,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hn(),this.relativeTargetOrigin=hn(),Id(this.relativeTargetOrigin,f,m),Wi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Cn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Wi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,E=this.treeScale.y;Fj(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=hn());const{target:R}=u;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(I1(this.prevProjectionDelta.x,this.projectionDelta.x),I1(this.prevProjectionDelta.y,this.projectionDelta.y)),mu(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==E||!V1(this.projectionDelta.x,this.prevProjectionDelta.x)||!V1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=gl(),this.projectionDelta=gl(),this.projectionDeltaWithTransform=gl()}setAnimationOrigin(u,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},v=gl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const E=hn(),R=m?m.source:void 0,M=this.layout?this.layout.source:void 0,O=R!==M,V=this.getStack(),j=!V||V.members.length<=1,F=!!(O&&!j&&this.options.crossfade===!0&&!this.path.some(B6));this.animationProgress=0;let H;this.mixTargetDelta=oe=>{const re=oe/1e3;B1(v.x,u.x,re),B1(v.y,u.y,re),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Id(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),z6(this.relativeTarget,this.relativeTargetOrigin,E,re),H&&y6(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=hn()),Wi(H,this.relativeTarget)),O&&(this.animationValues=y,b6(y,p,this.latestValues,re,F,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ga(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=It.update(()=>{Qf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Vl(0)),this.currentAnimation=x6(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(R6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=u;if(!(!f||!m||!p)){if(this!==u&&this.layout&&p&&qR(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||hn();const v=Un(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+v;const E=Un(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+E}Wi(f,m),vl(f,y),mu(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new C6),this.sharedNodes.get(u).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&Lg("z",u,p,this.animationValues);for(let y=0;y<Og.length;y++)Lg(`rotate${Og[y]}`,u,p,this.animationValues),Lg(`skew${Og[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Yf(f?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Yf(f?.pointerEvents)||""),this.hasProjected&&!Ja(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=v6(this.projectionDeltaWithTransform,this.treeScale,y);m&&(v=m(y,v)),u.transform=v;const{x:E,y:R}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${R.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const M in Fy){if(y[M]===void 0)continue;const{correct:O,applyTo:V,isCSSVariable:j}=Fy[M],F=v==="none"?y[M]:O(y[M],p);if(V){const H=V.length;for(let oe=0;oe<H;oe++)u[V[oe]]=F}else j?this.options.visualElement.renderState.vars[M]=F:u[M]=F}this.options.layoutId&&(u.pointerEvents=p===this?Yf(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(j1),this.root.sharedNodes.clear()}}}function N6(t){t.updateLayout()}function D6(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ki(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],E=Un(v);v.min=n[y].min,v.max=v.min+E}):qR(a,e.layoutBox,n)&&ki(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],E=Un(n[y]);v.max=v.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+E)});const u=gl();mu(u,n,e.layoutBox);const f=gl();l?mu(f,t.applyTransform(s,!0),e.measuredBox):mu(f,n,e.layoutBox);const m=!jR(u);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:E}=y;if(v&&E){const R=hn();Id(R,e.layoutBox,v.layoutBox);const M=hn();Id(M,n,E.layoutBox),UR(R,M)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=M,t.relativeTargetOrigin=R,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function k6(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function M6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function V6(t){t.clearSnapshot()}function j1(t){t.clearMeasurements()}function U1(t){t.isLayoutDirty=!1}function P6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function z1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function O6(t){t.resolveTargetDelta()}function L6(t){t.calcProjection()}function j6(t){t.resetSkewAndRotation()}function U6(t){t.removeLeadSnapshot()}function B1(t,e,n){t.translate=Pt(e.translate,0,n),t.scale=Pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function F1(t,e,n,s){t.min=Pt(e.min,n.min,s),t.max=Pt(e.max,n.max,s)}function z6(t,e,n,s){F1(t.x,e.x,n.x,s),F1(t.y,e.y,n.y,s)}function B6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const F6={duration:.45,ease:[.4,0,.1,1]},H1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),q1=H1("applewebkit/")&&!H1("chrome/")?Math.round:Li;function G1(t){t.min=q1(t.min),t.max=q1(t.max)}function H6(t){G1(t.x),G1(t.y)}function qR(t,e,n){return t==="position"||t==="preserve-aspect"&&!f6(M1(e),M1(n),.2)}function q6(t){return t!==t.root&&t.scroll?.wasRoot}const G6=HR({attachResizeListener:(t,e)=>Ru(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jg={current:void 0},GR=HR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!jg.current){const t=new G6({});t.mount(window),t.setOptions({layoutScroll:!0}),jg.current=t}return jg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),E0=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function K1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function K6(...t){return e=>{let n=!1;const s=t.map(a=>{const l=K1(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():K1(t[a],null)}}}}function $6(...t){return k.useCallback(K6(...t),t)}class Y6 extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=mR(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Q6({children:t,isPresent:e,anchorX:n,root:s}){const a=k.useId(),l=k.useRef(null),u=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=k.useContext(E0),m=t.props?.ref??t?.ref,p=$6(l,m);return k.useInsertionEffect(()=>{const{width:y,height:v,top:E,left:R,right:M}=u.current;if(e||!l.current||!y||!v)return;const O=n==="left"?`left: ${R}`:`right: ${M}`;l.current.dataset.motionPopId=a;const V=document.createElement("style");f&&(V.nonce=f);const j=s??document.head;return j.appendChild(V),V.sheet&&V.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${v}px !important;
            ${O}px !important;
            top: ${E}px !important;
          }
        `),()=>{j.contains(V)&&j.removeChild(V)}},[e]),w.jsx(Y6,{isPresent:e,childRef:l,sizeRef:u,children:k.cloneElement(t,{ref:p})})}const X6=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:f,root:m})=>{const p=Qv(W6),y=k.useId();let v=!0,E=k.useMemo(()=>(v=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:R=>{p.set(R,!0);for(const M of p.values())if(!M)return;s&&s()},register:R=>(p.set(R,!1),()=>p.delete(R))}),[n,p,s]);return l&&v&&(E={...E}),k.useMemo(()=>{p.forEach((R,M)=>p.set(M,!1))},[n]),k.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),u==="popLayout"&&(t=w.jsx(Q6,{isPresent:n,anchorX:f,root:m,children:t})),w.jsx(lm.Provider,{value:E,children:t})};function W6(){return new Map}function KR(t=!0){const e=k.useContext(lm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=k.useId();k.useEffect(()=>{if(t)return a(l)},[t]);const u=k.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const Nf=t=>t.key||"";function $1(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const Ji=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:f="left",root:m})=>{const[p,y]=KR(u),v=k.useMemo(()=>$1(t),[t]),E=u&&!p?[]:v.map(Nf),R=k.useRef(!0),M=k.useRef(v),O=Qv(()=>new Map),V=k.useRef(new Set),[j,F]=k.useState(v),[H,oe]=k.useState(v);EC(()=>{R.current=!1,M.current=v;for(let D=0;D<H.length;D++){const x=Nf(H[D]);E.includes(x)?(O.delete(x),V.current.delete(x)):O.get(x)!==!0&&O.set(x,!1)}},[H,E.length,E.join("-")]);const re=[];if(v!==j){let D=[...v];for(let x=0;x<H.length;x++){const I=H[x],P=Nf(I);E.includes(P)||(D.splice(x,0,I),re.push(I))}return l==="wait"&&re.length&&(D=re),oe($1(D)),F(v),null}const{forceRender:de}=k.useContext(Yv);return w.jsx(w.Fragment,{children:H.map(D=>{const x=Nf(D),I=u&&!p?!1:v===H||E.includes(x),P=()=>{if(V.current.has(x))return;if(V.current.add(x),O.has(x))O.set(x,!0);else return;let L=!0;O.forEach(z=>{z||(L=!1)}),L&&(de?.(),oe(M.current),u&&y?.(),s&&s())};return w.jsx(X6,{isPresent:I,initial:!R.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:I?void 0:P,anchorX:f,children:D},x)})})},$R=k.createContext({strict:!1}),Y1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Q1=!1;function Z6(){if(Q1)return;const t={};for(const e in Y1)t[e]={isEnabled:n=>Y1[e].some(s=>!!n[s])};TR(t),Q1=!0}function YR(){return Z6(),jj()}function J6(t){const e=YR();for(const n in t)e[n]={...e[n],...t[n]};TR(e)}const eU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Nd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||eU.has(t)}let QR=t=>!Nd(t);function tU(t){typeof t=="function"&&(QR=e=>e.startsWith("on")?!Nd(e):t(e))}try{tU(require("@emotion/is-prop-valid").default)}catch{}function nU(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(QR(a)||n===!0&&Nd(a)||!e&&!Nd(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const hm=k.createContext({});function iU(t,e){if(um(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Cu(n)?n:void 0,animate:Cu(s)?s:void 0}}return t.inherit!==!1?e:{}}function sU(t){const{initial:e,animate:n}=iU(t,k.useContext(hm));return k.useMemo(()=>({initial:e,animate:n}),[X1(e),X1(n)])}function X1(t){return Array.isArray(t)?t.join(" "):t}const x0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function XR(t,e,n){for(const s in e)!Mn(e[s])&&!IR(s,n)&&(t[s]=e[s])}function rU({transformTemplate:t},e){return k.useMemo(()=>{const n=x0();return w0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function aU(t,e){const n=t.style||{},s={};return XR(s,n,t),Object.assign(s,rU(t,e)),s}function oU(t,e){const n={},s=aU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const WR=()=>({...x0(),attrs:{}});function lU(t,e,n,s){const a=k.useMemo(()=>{const l=WR();return NR(l,e,kR(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};XR(l,t.style,t),a.style={...l,...a.style}}return a}const cU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function S0(t){return typeof t!="string"||t.includes("-")?!1:!!(cU.indexOf(t)>-1||/[A-Z]/u.test(t))}function uU(t,e,n,{latestValues:s},a,l=!1,u){const m=(u??S0(t)?lU:oU)(e,s,a,t),p=nU(e,typeof t=="string",l),y=t!==k.Fragment?{...p,...m,ref:n}:{},{children:v}=e,E=k.useMemo(()=>Mn(v)?v.get():v,[v]);return k.createElement(t,{...y,children:E})}function hU({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:fU(n,s,a,t),renderState:e()}}function fU(t,e,n,s){const a={},l=s(t,{});for(const E in l)a[E]=Yf(l[E]);let{initial:u,animate:f}=t;const m=um(t),p=wR(t);e&&p&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const v=y?f:u;if(v&&typeof v!="boolean"&&!cm(v)){const E=Array.isArray(v)?v:[v];for(let R=0;R<E.length;R++){const M=m0(t,E[R]);if(M){const{transitionEnd:O,transition:V,...j}=M;for(const F in j){let H=j[F];if(Array.isArray(H)){const oe=y?H.length-1:0;H=H[oe]}H!==null&&(a[F]=H)}for(const F in O)a[F]=O[F]}}}return a}const ZR=t=>(e,n)=>{const s=k.useContext(hm),a=k.useContext(lm),l=()=>hU(t,e,s,a);return n?l():Qv(l)},dU=ZR({scrapeMotionValuesFromProps:T0,createRenderState:x0}),mU=ZR({scrapeMotionValuesFromProps:MR,createRenderState:WR}),pU=Symbol.for("motionComponentSymbol");function gU(t,e,n){const s=k.useRef(n);k.useInsertionEffect(()=>{s.current=n});const a=k.useRef(null);return k.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=s.current;if(typeof u=="function")if(l){const f=u(l);typeof f=="function"&&(a.current=f)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[e])}const JR=k.createContext({});function iu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function yU(t,e,n,s,a,l){const{visualElement:u}=k.useContext(hm),f=k.useContext($R),m=k.useContext(lm),p=k.useContext(E0).reducedMotion,y=k.useRef(null);s=s||f.renderer,!y.current&&s&&(y.current=s(t,{visualState:e,parent:u,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p,isSVG:l}));const v=y.current,E=k.useContext(JR);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&vU(y.current,n,a,E);const R=k.useRef(!1);k.useInsertionEffect(()=>{v&&R.current&&v.update(n,m)});const M=n[aR],O=k.useRef(!!M&&!window.MotionHandoffIsComplete?.(M)&&window.MotionHasOptimisedAnimation?.(M));return EC(()=>{v&&(R.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),O.current&&v.animationState&&v.animationState.animateChanges())}),k.useEffect(()=>{v&&(!O.current&&v.animationState&&v.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(M)}),O.current=!1),v.enteringChildren=void 0)}),v}function vU(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:e2(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&iu(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function e2(t){if(t)return t.options.allowProjection!==!1?t.projection:e2(t.parent)}function Ug(t,{forwardMotionProps:e=!1,type:n}={},s,a){s&&J6(s);const l=n?n==="svg":S0(t),u=l?mU:dU;function f(p,y){let v;const E={...k.useContext(E0),...p,layoutId:_U(p)},{isStatic:R}=E,M=sU(p),O=u(p,R);if(!R&&TC){bU();const V=wU(E);v=V.MeasureLayout,M.visualElement=yU(t,O,E,a,V.ProjectionNode,l)}return w.jsxs(hm.Provider,{value:M,children:[v&&M.visualElement?w.jsx(v,{visualElement:M.visualElement,...E}):null,uU(t,p,gU(O,M.visualElement,y),O,R,e,l)]})}f.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const m=k.forwardRef(f);return m[pU]=t,m}function _U({layoutId:t}){const e=k.useContext(Yv).id;return e&&t!==void 0?e+"-"+t:t}function bU(t,e){k.useContext($R).strict}function wU(t){const e=YR(),{drag:n,layout:s}=e;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function TU(t,e){if(typeof Proxy>"u")return Ug;const n=new Map,s=(l,u)=>Ug(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,Ug(u,void 0,t,e)),n.get(u))})}const EU=(t,e)=>e.isSVG??S0(t)?new t6(e):new Qj(e,{allowProjection:t!==k.Fragment});class xU extends Ta{constructor(e){super(e),e.animationState||(e.animationState=a6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();cm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let SU=0;class AU extends Ta{constructor(){super(...arguments),this.id=SU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const CU={animation:{Feature:xU},exit:{Feature:AU}};function Wu(t){return{point:{x:t.pageX,y:t.pageY}}}const RU=t=>e=>v0(e)&&t(e,Wu(e));function pu(t,e,n,s){return Ru(t,e,RU(n),s)}const t2=({current:t})=>t?t.ownerDocument.defaultView:null,W1=(t,e)=>Math.abs(t-e);function IU(t,e){const n=W1(t.x,e.x),s=W1(t.y,e.y);return Math.sqrt(n**2+s**2)}const Z1=new Set(["auto","scroll"]);class n2{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:f}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=R=>{this.handleScroll(R.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Bg(this.lastMoveEventInfo,this.history),M=this.startEvent!==null,O=IU(R.offset,{x:0,y:0})>=this.distanceThreshold;if(!M&&!O)return;const{point:V}=R,{timestamp:j}=Cn;this.history.push({...V,timestamp:j});const{onStart:F,onMove:H}=this.handlers;M||(F&&F(this.lastMoveEvent,R),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,R)},this.handlePointerMove=(R,M)=>{this.lastMoveEvent=R,this.lastMoveEventInfo=zg(M,this.transformPagePoint),It.update(this.updatePoint,!0)},this.handlePointerUp=(R,M)=>{this.end();const{onEnd:O,onSessionEnd:V,resumeAnimation:j}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=Bg(R.type==="pointercancel"?this.lastMoveEventInfo:zg(M,this.transformPagePoint),this.history);this.startEvent&&O&&O(R,F),V&&V(R,F)},!v0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const m=Wu(e),p=zg(m,this.transformPagePoint),{point:y}=p,{timestamp:v}=Cn;this.history=[{...y,timestamp:v}];const{onSessionStart:E}=n;E&&E(e,Bg(p,this.history)),this.removeListeners=Yu(pu(this.contextWindow,"pointermove",this.handlePointerMove),pu(this.contextWindow,"pointerup",this.handlePointerUp),pu(this.contextWindow,"pointercancel",this.handlePointerUp)),f&&this.startScrollTracking(f)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(Z1.has(s.overflowX)||Z1.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),It.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ga(this.updatePoint)}}function zg(t,e){return e?{point:e(t.point)}:t}function J1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Bg({point:t},e){return{point:t,delta:J1(t,i2(e)),offset:J1(t,NU(e)),velocity:DU(e,.1)}}function NU(t){return t[0]}function i2(t){return t[t.length-1]}function DU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=i2(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>fr(e)));)n--;if(!s)return{x:0,y:0};const l=Vi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function kU(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Pt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Pt(n,t,s.max):Math.min(t,n)),t}function ex(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function MU(t,{top:e,left:n,bottom:s,right:a}){return{x:ex(t.x,n,a),y:ex(t.y,e,s)}}function tx(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function VU(t,e){return{x:tx(t.x,e.x),y:tx(t.y,e.y)}}function PU(t,e){let n=.5;const s=Un(t),a=Un(e);return a>s?n=xu(e.min,e.max-s,t.min):s>a&&(n=xu(t.min,t.max-a,e.min)),Ls(0,1,n)}function OU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Hy=.35;function LU(t=Hy){return t===!1?t=0:t===!0&&(t=Hy),{x:nx(t,"left","right"),y:nx(t,"top","bottom")}}function nx(t,e,n){return{min:ix(t,e),max:ix(t,n)}}function ix(t,e){return typeof t=="number"?t:t[e]||0}const jU=new WeakMap;class UU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=hn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{n?(this.stopAnimation(),this.snapToCursor(Wu(v).point)):this.pauseAnimation()},u=(v,E)=>{this.stopAnimation();const{drag:R,dragPropagation:M,onDragStart:O}=this.getProps();if(R&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Aj(R),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ki(j=>{let F=this.getAxisMotionValue(j).get()||0;if(ks.test(F)){const{projection:H}=this.visualElement;if(H&&H.layout){const oe=H.layout.layoutBox[j];oe&&(F=Un(oe)*(parseFloat(F)/100))}}this.originPoint[j]=F}),O&&It.postRender(()=>O(v,E)),Oy(this.visualElement,"transform");const{animationState:V}=this.visualElement;V&&V.setActive("whileDrag",!0)},f=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E;const{dragPropagation:R,dragDirectionLock:M,onDirectionLock:O,onDrag:V}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:j}=E;if(M&&this.currentDirection===null){this.currentDirection=zU(j),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",E.point,j),this.updateAxis("y",E.point,j),this.visualElement.render(),V&&V(v,E)},m=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E,this.stop(v,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ki(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new n2(e,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:t2(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&It.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Df(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=kU(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&iu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=MU(s.layoutBox,e):this.constraints=!1,this.elastic=LU(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ki(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=OU(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!iu(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=Hj(s,a.root,this.visualElement.getTransformPagePoint());let u=VU(a.layout.layoutBox,l);if(n){const f=n(zj(u));this.hasMutatedConstraints=!!f,f&&(u=xR(f))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=ki(y=>{if(!Df(y,n,this.currentDirection))return;let v=m&&m[y]||{};u&&(v={min:0,max:0});const E=a?200:1e6,R=a?40:1e7,M={type:"inertia",velocity:s?e[y]:0,bounceStiffness:E,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,M)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Oy(this.visualElement,e),s.start(d0(e,s,0,n,this.visualElement,!1))}stopAnimation(){ki(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ki(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ki(n=>{const{drag:s}=this.getProps();if(!Df(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[n],m=l.get()||0;l.set(e[n]-Pt(u,f,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!iu(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ki(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const m=f.get();a[u]=PU({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ki(u=>{if(!Df(u,e,null))return;const f=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];f.set(Pt(m,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;jU.set(this.visualElement,this);const e=this.visualElement.current,n=pu(e,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&!vR(m.target)&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();iu(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),It.read(s);const u=Ru(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(ki(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=m[y].translate,v.set(v.get()+m[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Hy,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function Df(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function zU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class BU extends Ta{constructor(e){super(e),this.removeGroupControls=Li,this.removeListeners=Li,this.controls=new UU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Li}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const sx=t=>(e,n)=>{t&&It.postRender(()=>t(e,n))};class FU extends Ta{constructor(){super(...arguments),this.removePointerDownListener=Li}onPointerDown(e){this.session=new n2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:t2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:sx(e),onStart:sx(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&It.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=pu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Fg=!1;class HU extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Fg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Qf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,Fg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||It.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),y0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Fg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function s2(t){const[e,n]=KR(),s=k.useContext(Yv);return w.jsx(HU,{...t,layoutGroup:s,switchLayoutGroup:k.useContext(JR),isPresent:e,safeToRemove:n})}const qU={pan:{Feature:FU},drag:{Feature:BU,ProjectionNode:GR,MeasureLayout:s2}};function rx(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&It.postRender(()=>l(e,Wu(e)))}class GU extends Ta{mount(){const{current:e}=this.node;e&&(this.unmount=Cj(e,(n,s)=>(rx(this.node,s,"Start"),a=>rx(this.node,a,"End"))))}unmount(){}}class KU extends Ta{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yu(Ru(this.node.current,"focus",()=>this.onFocus()),Ru(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ax(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&It.postRender(()=>l(e,Wu(e)))}class $U extends Ta{mount(){const{current:e}=this.node;e&&(this.unmount=Nj(e,(n,s)=>(ax(this.node,s,"Start"),(a,{success:l})=>ax(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const qy=new WeakMap,Hg=new WeakMap,YU=t=>{const e=qy.get(t.target);e&&e(t)},QU=t=>{t.forEach(YU)};function XU({root:t,...e}){const n=t||document;Hg.has(n)||Hg.set(n,{});const s=Hg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(QU,{root:t,...e})),s[a]}function WU(t,e,n){const s=XU(e);return qy.set(t,n),s.observe(t),()=>{qy.delete(t),s.unobserve(t)}}const ZU={some:0,all:1};class JU extends Ta{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:ZU[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),E=p?y:v;E&&E(m)};return WU(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(e9(e,n))&&this.startObserver()}unmount(){}}function e9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const t9={inView:{Feature:JU},tap:{Feature:$U},focus:{Feature:KU},hover:{Feature:GU}},n9={layout:{ProjectionNode:GR,MeasureLayout:s2}},i9={...CU,...t9,...qU,...n9},ct=TU(i9,EU);const s9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),ox=t=>{const e=r9(t);return e.charAt(0).toUpperCase()+e.slice(1)},r2=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),a9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var o9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const l9=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...f},m)=>k.createElement("svg",{ref:m,...o9,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:r2("lucide",a),...!l&&!a9(f)&&{"aria-hidden":"true"},...f},[...u.map(([p,y])=>k.createElement(p,y)),...Array.isArray(l)?l:[l]]));const bt=(t,e)=>{const n=k.forwardRef(({className:s,...a},l)=>k.createElement(l9,{ref:l,iconNode:e,className:r2(`lucide-${s9(ox(t))}`,`lucide-${t}`,s),...a}));return n.displayName=ox(t),n};const c9=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],lx=bt("award",c9);const u9=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Gy=bt("book-open",u9);const h9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Dd=bt("calendar",h9);const f9=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],cx=bt("camera",f9);const d9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],_l=bt("check",d9);const m9=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],a2=bt("chevron-left",m9);const p9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],o2=bt("chevron-right",p9);const g9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ux=bt("circle-alert",g9);const y9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],v9=bt("circle-check-big",y9);const _9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],b9=bt("circle-question-mark",_9);const w9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],T9=bt("clock",w9);const E9=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],l2=bt("layout-grid",E9);const x9=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],c2=bt("log-out",x9);const S9=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],A9=bt("mail",S9);const C9=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],hx=bt("palette",C9);const R9=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],fx=bt("pen",R9);const I9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],kd=bt("plus",I9);const N9=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],D9=bt("printer",N9);const k9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],u2=bt("settings",k9);const M9=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],qg=bt("share-2",M9);const V9=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],P9=bt("shuffle",V9);const O9=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],L9=bt("sparkles",O9);const j9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],h2=bt("trash-2",j9);const U9=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],z9=bt("type",U9);const B9=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],F9=bt("user",B9);const H9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],q9=bt("users",H9);const G9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ao=bt("x",G9);const K9=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],dx=bt("zap",K9),f2=k.createContext(null),d2=()=>{const t=k.useContext(f2);if(!t)throw new Error("useDialog must be used within a DialogProvider");return t},$9=({children:t})=>{const[e,n]=k.useState({isOpen:!1,type:"alert",options:{message:""},resolve:null}),[s,a]=k.useState(""),[l,u]=k.useState("editor"),f=k.useCallback((M,O)=>new Promise(V=>{a(O.inputDefaultValue||""),u("editor"),n({isOpen:!0,type:M,options:O,resolve:V})}),[]),m=k.useCallback(M=>{e.resolve&&e.resolve(M),n(O=>({...O,isOpen:!1,resolve:null}))},[e.resolve]),p=k.useCallback((M,O)=>f("alert",{message:M,title:"Notice",confirmText:"OK",type:"info",...O}),[f]),y=k.useCallback((M,O)=>f("confirm",{message:M,title:"Confirm",confirmText:"Yes",cancelText:"Cancel",type:"warning",...O}),[f]),v=k.useCallback((M,O)=>f("prompt",{message:M,title:"Input",confirmText:"OK",cancelText:"Cancel",inputPlaceholder:"",...O}),[f]),E=k.useCallback((M,O)=>f("share",{message:M,title:"Share Board",confirmText:"Send Invite",cancelText:"Cancel",showRoleSelector:!0,inputPlaceholder:"Enter email address",...O}),[f]),R=()=>{switch(e.options.type){case"success":return w.jsx(v9,{className:"w-8 h-8 text-green-400"});case"warning":return w.jsx(ux,{className:"w-8 h-8 text-amber-400"});case"error":return w.jsx(ux,{className:"w-8 h-8 text-red-400"});default:return w.jsx(b9,{className:"w-8 h-8 text-accent-primary"})}};return w.jsxs(f2.Provider,{value:{alert:p,confirm:y,prompt:v,sharePrompt:E},children:[t,w.jsx(Ji,{children:e.isOpen&&w.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{e.type==="alert"?m(void 0):e.type==="confirm"?m(!1):m(null)},children:w.jsxs(ct.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-slate-900 border border-white/20 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",onClick:M=>M.stopPropagation(),children:[w.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[e.type==="share"?w.jsx(A9,{className:"w-6 h-6 text-accent-primary"}):R(),w.jsx("h3",{className:"text-lg font-bold text-white",children:e.options.title})]}),w.jsx("button",{onClick:()=>{e.type==="alert"?m(void 0):e.type==="confirm"?m(!1):m(null)},className:"p-1 text-slate-400 hover:text-white rounded-full hover:bg-white/10 transition-colors",children:w.jsx(ao,{size:20})})]}),w.jsxs("div",{className:"p-6",children:[w.jsx("p",{className:"text-slate-300 mb-4 whitespace-pre-wrap",children:e.options.message}),(e.type==="prompt"||e.type==="share")&&w.jsx("input",{type:e.type==="share"?"email":"text",autoFocus:!0,value:s,onChange:M=>a(M.target.value),placeholder:e.options.inputPlaceholder,className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors mb-4",onKeyDown:M=>{M.key==="Enter"&&s.trim()&&(e.type==="share"?m({email:s.trim(),role:l}):m(s.trim()))}}),e.type==="share"&&e.options.showRoleSelector&&w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{className:"text-sm font-medium text-slate-400 mb-2 block",children:"Access Level"}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:()=>u("viewer"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="viewer"?"bg-accent-primary/20 text-accent-primary border border-accent-primary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Viewer"}),w.jsx("button",{onClick:()=>u("editor"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Editor"})]}),w.jsx("p",{className:"text-xs text-slate-500 mt-2",children:l==="viewer"?"Can view the board but not make changes":"Can view and edit the board"})]})]}),w.jsxs("div",{className:"flex gap-3 p-4 pt-0",children:[e.type!=="alert"&&w.jsx("button",{onClick:()=>{e.type==="confirm"?m(!1):m(null)},className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:e.options.cancelText}),w.jsx("button",{onClick:()=>{e.type==="alert"?m(void 0):e.type==="confirm"?m(!0):e.type==="share"?s.trim()&&m({email:s.trim(),role:l}):m(s.trim()||null)},disabled:(e.type==="prompt"||e.type==="share")&&!s.trim(),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:e.options.confirmText})]})]})})})]})};function m2(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=m2(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function Y9(){for(var t,e,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=m2(t))&&(s&&(s+=" "),s+=e);return s}const Q9=(t,e)=>{const n=new Array(t.length+e.length);for(let s=0;s<t.length;s++)n[s]=t[s];for(let s=0;s<e.length;s++)n[t.length+s]=e[s];return n},X9=(t,e)=>({classGroupId:t,validator:e}),p2=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Md="-",mx=[],W9="arbitrary..",Z9=t=>{const e=ez(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return J9(u);const f=u.split(Md),m=f[0]===""&&f.length>1?1:0;return g2(f,m,e)},getConflictingClassGroupIds:(u,f)=>{if(f){const m=s[u],p=n[u];return m?p?Q9(p,m):m:p||mx}return n[u]||mx}}},g2=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const p=g2(t,e+1,l);if(p)return p}const u=n.validators;if(u===null)return;const f=e===0?t.join(Md):t.slice(e).join(Md),m=u.length;for(let p=0;p<m;p++){const y=u[p];if(y.validator(f))return y.classGroupId}},J9=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),s=e.slice(0,n);return s?W9+s:void 0})(),ez=t=>{const{theme:e,classGroups:n}=t;return tz(n,e)},tz=(t,e)=>{const n=p2();for(const s in t){const a=t[s];A0(a,n,s,e)}return n},A0=(t,e,n,s)=>{const a=t.length;for(let l=0;l<a;l++){const u=t[l];nz(u,e,n,s)}},nz=(t,e,n,s)=>{if(typeof t=="string"){iz(t,e,n);return}if(typeof t=="function"){sz(t,e,n,s);return}rz(t,e,n,s)},iz=(t,e,n)=>{const s=t===""?e:y2(e,t);s.classGroupId=n},sz=(t,e,n,s)=>{if(az(t)){A0(t(s),e,n,s);return}e.validators===null&&(e.validators=[]),e.validators.push(X9(n,t))},rz=(t,e,n,s)=>{const a=Object.entries(t),l=a.length;for(let u=0;u<l;u++){const[f,m]=a[u];A0(m,y2(e,f),n,s)}},y2=(t,e)=>{let n=t;const s=e.split(Md),a=s.length;for(let l=0;l<a;l++){const u=s[l];let f=n.nextPart.get(u);f||(f=p2(),n.nextPart.set(u,f)),n=f}return n},az=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,oz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),s=Object.create(null);const a=(l,u)=>{n[l]=u,e++,e>t&&(e=0,s=n,n=Object.create(null))};return{get(l){let u=n[l];if(u!==void 0)return u;if((u=s[l])!==void 0)return a(l,u),u},set(l,u){l in n?n[l]=u:a(l,u)}}},Ky="!",px=":",lz=[],gx=(t,e,n,s,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:s,isExternal:a}),cz=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=a=>{const l=[];let u=0,f=0,m=0,p;const y=a.length;for(let O=0;O<y;O++){const V=a[O];if(u===0&&f===0){if(V===px){l.push(a.slice(m,O)),m=O+1;continue}if(V==="/"){p=O;continue}}V==="["?u++:V==="]"?u--:V==="("?f++:V===")"&&f--}const v=l.length===0?a:a.slice(m);let E=v,R=!1;v.endsWith(Ky)?(E=v.slice(0,-1),R=!0):v.startsWith(Ky)&&(E=v.slice(1),R=!0);const M=p&&p>m?p-m:void 0;return gx(l,R,E,M)};if(e){const a=e+px,l=s;s=u=>u.startsWith(a)?l(u.slice(a.length)):gx(lz,!1,u,void 0,!0)}if(n){const a=s;s=l=>n({className:l,parseClassName:a})}return s},uz=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,s)=>{e.set(n,1e6+s)}),n=>{const s=[];let a=[];for(let l=0;l<n.length;l++){const u=n[l],f=u[0]==="[",m=e.has(u);f||m?(a.length>0&&(a.sort(),s.push(...a),a=[]),s.push(u)):a.push(u)}return a.length>0&&(a.sort(),s.push(...a)),s}},hz=t=>({cache:oz(t.cacheSize),parseClassName:cz(t),sortModifiers:uz(t),...Z9(t)}),fz=/\s+/,dz=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:l}=e,u=[],f=t.trim().split(fz);let m="";for(let p=f.length-1;p>=0;p-=1){const y=f[p],{isExternal:v,modifiers:E,hasImportantModifier:R,baseClassName:M,maybePostfixModifierPosition:O}=n(y);if(v){m=y+(m.length>0?" "+m:m);continue}let V=!!O,j=s(V?M.substring(0,O):M);if(!j){if(!V){m=y+(m.length>0?" "+m:m);continue}if(j=s(M),!j){m=y+(m.length>0?" "+m:m);continue}V=!1}const F=E.length===0?"":E.length===1?E[0]:l(E).join(":"),H=R?F+Ky:F,oe=H+j;if(u.indexOf(oe)>-1)continue;u.push(oe);const re=a(j,V);for(let de=0;de<re.length;++de){const D=re[de];u.push(H+D)}m=y+(m.length>0?" "+m:m)}return m},mz=(...t)=>{let e=0,n,s,a="";for(;e<t.length;)(n=t[e++])&&(s=v2(n))&&(a&&(a+=" "),a+=s);return a},v2=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=v2(t[s]))&&(n&&(n+=" "),n+=e);return n},pz=(t,...e)=>{let n,s,a,l;const u=m=>{const p=e.reduce((y,v)=>v(y),t());return n=hz(p),s=n.cache.get,a=n.cache.set,l=f,f(m)},f=m=>{const p=s(m);if(p)return p;const y=dz(m,n);return a(m,y),y};return l=u,(...m)=>l(mz(...m))},gz=[],un=t=>{const e=n=>n[t]||gz;return e.isThemeGetter=!0,e},_2=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,b2=/^\((?:(\w[\w-]*):)?(.+)\)$/i,yz=/^\d+\/\d+$/,vz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_z=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,wz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Tz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ol=t=>yz.test(t),qe=t=>!!t&&!Number.isNaN(Number(t)),Wr=t=>!!t&&Number.isInteger(Number(t)),Gg=t=>t.endsWith("%")&&qe(t.slice(0,-1)),rr=t=>vz.test(t),Ez=()=>!0,xz=t=>_z.test(t)&&!bz.test(t),w2=()=>!1,Sz=t=>wz.test(t),Az=t=>Tz.test(t),Cz=t=>!Ee(t)&&!xe(t),Rz=t=>$l(t,x2,w2),Ee=t=>_2.test(t),Xa=t=>$l(t,S2,xz),Kg=t=>$l(t,Mz,qe),yx=t=>$l(t,T2,w2),Iz=t=>$l(t,E2,Az),kf=t=>$l(t,A2,Sz),xe=t=>b2.test(t),Zc=t=>Yl(t,S2),Nz=t=>Yl(t,Vz),vx=t=>Yl(t,T2),Dz=t=>Yl(t,x2),kz=t=>Yl(t,E2),Mf=t=>Yl(t,A2,!0),$l=(t,e,n)=>{const s=_2.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},Yl=(t,e,n=!1)=>{const s=b2.exec(t);return s?s[1]?e(s[1]):n:!1},T2=t=>t==="position"||t==="percentage",E2=t=>t==="image"||t==="url",x2=t=>t==="length"||t==="size"||t==="bg-size",S2=t=>t==="length",Mz=t=>t==="number",Vz=t=>t==="family-name",A2=t=>t==="shadow",Pz=()=>{const t=un("color"),e=un("font"),n=un("text"),s=un("font-weight"),a=un("tracking"),l=un("leading"),u=un("breakpoint"),f=un("container"),m=un("spacing"),p=un("radius"),y=un("shadow"),v=un("inset-shadow"),E=un("text-shadow"),R=un("drop-shadow"),M=un("blur"),O=un("perspective"),V=un("aspect"),j=un("ease"),F=un("animate"),H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],oe=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],re=()=>[...oe(),xe,Ee],de=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],x=()=>[xe,Ee,m],I=()=>[ol,"full","auto",...x()],P=()=>[Wr,"none","subgrid",xe,Ee],L=()=>["auto",{span:["full",Wr,xe,Ee]},Wr,xe,Ee],z=()=>[Wr,"auto",xe,Ee],N=()=>["auto","min","max","fr",xe,Ee],fe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],pe=()=>["start","end","center","stretch","center-safe","end-safe"],q=()=>["auto",...x()],ne=()=>[ol,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...x()],ie=()=>[t,xe,Ee],De=()=>[...oe(),vx,yx,{position:[xe,Ee]}],G=()=>["no-repeat",{repeat:["","x","y","space","round"]}],S=()=>["auto","cover","contain",Dz,Rz,{size:[xe,Ee]}],K=()=>[Gg,Zc,Xa],J=()=>["","none","full",p,xe,Ee],ae=()=>["",qe,Zc,Xa],ge=()=>["solid","dashed","dotted","double"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],me=()=>[qe,Gg,vx,yx],Se=()=>["","none",M,xe,Ee],Ce=()=>["none",qe,xe,Ee],Oe=()=>["none",qe,xe,Ee],Ge=()=>[qe,xe,Ee],Ke=()=>[ol,"full",...x()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[rr],breakpoint:[rr],color:[Ez],container:[rr],"drop-shadow":[rr],ease:["in","out","in-out"],font:[Cz],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[rr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[rr],shadow:[rr],spacing:["px",qe],text:[rr],"text-shadow":[rr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ol,Ee,xe,V]}],container:["container"],columns:[{columns:[qe,Ee,xe,f]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:re()}],overflow:[{overflow:de()}],"overflow-x":[{"overflow-x":de()}],"overflow-y":[{"overflow-y":de()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[Wr,"auto",xe,Ee]}],basis:[{basis:[ol,"full","auto",f,...x()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[qe,ol,"auto","initial","none",Ee]}],grow:[{grow:["",qe,xe,Ee]}],shrink:[{shrink:["",qe,xe,Ee]}],order:[{order:[Wr,"first","last","none",xe,Ee]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":N()}],"auto-rows":[{"auto-rows":N()}],gap:[{gap:x()}],"gap-x":[{"gap-x":x()}],"gap-y":[{"gap-y":x()}],"justify-content":[{justify:[...fe(),"normal"]}],"justify-items":[{"justify-items":[...pe(),"normal"]}],"justify-self":[{"justify-self":["auto",...pe()]}],"align-content":[{content:["normal",...fe()]}],"align-items":[{items:[...pe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...pe(),{baseline:["","last"]}]}],"place-content":[{"place-content":fe()}],"place-items":[{"place-items":[...pe(),"baseline"]}],"place-self":[{"place-self":["auto",...pe()]}],p:[{p:x()}],px:[{px:x()}],py:[{py:x()}],ps:[{ps:x()}],pe:[{pe:x()}],pt:[{pt:x()}],pr:[{pr:x()}],pb:[{pb:x()}],pl:[{pl:x()}],m:[{m:q()}],mx:[{mx:q()}],my:[{my:q()}],ms:[{ms:q()}],me:[{me:q()}],mt:[{mt:q()}],mr:[{mr:q()}],mb:[{mb:q()}],ml:[{ml:q()}],"space-x":[{"space-x":x()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":x()}],"space-y-reverse":["space-y-reverse"],size:[{size:ne()}],w:[{w:[f,"screen",...ne()]}],"min-w":[{"min-w":[f,"screen","none",...ne()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...ne()]}],h:[{h:["screen","lh",...ne()]}],"min-h":[{"min-h":["screen","lh","none",...ne()]}],"max-h":[{"max-h":["screen","lh",...ne()]}],"font-size":[{text:["base",n,Zc,Xa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,xe,Kg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Gg,Ee]}],"font-family":[{font:[Nz,Ee,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,xe,Ee]}],"line-clamp":[{"line-clamp":[qe,"none",xe,Kg]}],leading:[{leading:[l,...x()]}],"list-image":[{"list-image":["none",xe,Ee]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",xe,Ee]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ie()}],"text-color":[{text:ie()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[qe,"from-font","auto",xe,Xa]}],"text-decoration-color":[{decoration:ie()}],"underline-offset":[{"underline-offset":[qe,"auto",xe,Ee]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:x()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe,Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe,Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:De()}],"bg-repeat":[{bg:G()}],"bg-size":[{bg:S()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Wr,xe,Ee],radial:["",xe,Ee],conic:[Wr,xe,Ee]},kz,Iz]}],"bg-color":[{bg:ie()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:ie()}],"gradient-via":[{via:ie()}],"gradient-to":[{to:ie()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:ae()}],"border-w-x":[{"border-x":ae()}],"border-w-y":[{"border-y":ae()}],"border-w-s":[{"border-s":ae()}],"border-w-e":[{"border-e":ae()}],"border-w-t":[{"border-t":ae()}],"border-w-r":[{"border-r":ae()}],"border-w-b":[{"border-b":ae()}],"border-w-l":[{"border-l":ae()}],"divide-x":[{"divide-x":ae()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ae()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:ie()}],"border-color-x":[{"border-x":ie()}],"border-color-y":[{"border-y":ie()}],"border-color-s":[{"border-s":ie()}],"border-color-e":[{"border-e":ie()}],"border-color-t":[{"border-t":ie()}],"border-color-r":[{"border-r":ie()}],"border-color-b":[{"border-b":ie()}],"border-color-l":[{"border-l":ie()}],"divide-color":[{divide:ie()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[qe,xe,Ee]}],"outline-w":[{outline:["",qe,Zc,Xa]}],"outline-color":[{outline:ie()}],shadow:[{shadow:["","none",y,Mf,kf]}],"shadow-color":[{shadow:ie()}],"inset-shadow":[{"inset-shadow":["none",v,Mf,kf]}],"inset-shadow-color":[{"inset-shadow":ie()}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ie()}],"ring-offset-w":[{"ring-offset":[qe,Xa]}],"ring-offset-color":[{"ring-offset":ie()}],"inset-ring-w":[{"inset-ring":ae()}],"inset-ring-color":[{"inset-ring":ie()}],"text-shadow":[{"text-shadow":["none",E,Mf,kf]}],"text-shadow-color":[{"text-shadow":ie()}],opacity:[{opacity:[qe,xe,Ee]}],"mix-blend":[{"mix-blend":[...ye(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ye()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[qe]}],"mask-image-linear-from-pos":[{"mask-linear-from":me()}],"mask-image-linear-to-pos":[{"mask-linear-to":me()}],"mask-image-linear-from-color":[{"mask-linear-from":ie()}],"mask-image-linear-to-color":[{"mask-linear-to":ie()}],"mask-image-t-from-pos":[{"mask-t-from":me()}],"mask-image-t-to-pos":[{"mask-t-to":me()}],"mask-image-t-from-color":[{"mask-t-from":ie()}],"mask-image-t-to-color":[{"mask-t-to":ie()}],"mask-image-r-from-pos":[{"mask-r-from":me()}],"mask-image-r-to-pos":[{"mask-r-to":me()}],"mask-image-r-from-color":[{"mask-r-from":ie()}],"mask-image-r-to-color":[{"mask-r-to":ie()}],"mask-image-b-from-pos":[{"mask-b-from":me()}],"mask-image-b-to-pos":[{"mask-b-to":me()}],"mask-image-b-from-color":[{"mask-b-from":ie()}],"mask-image-b-to-color":[{"mask-b-to":ie()}],"mask-image-l-from-pos":[{"mask-l-from":me()}],"mask-image-l-to-pos":[{"mask-l-to":me()}],"mask-image-l-from-color":[{"mask-l-from":ie()}],"mask-image-l-to-color":[{"mask-l-to":ie()}],"mask-image-x-from-pos":[{"mask-x-from":me()}],"mask-image-x-to-pos":[{"mask-x-to":me()}],"mask-image-x-from-color":[{"mask-x-from":ie()}],"mask-image-x-to-color":[{"mask-x-to":ie()}],"mask-image-y-from-pos":[{"mask-y-from":me()}],"mask-image-y-to-pos":[{"mask-y-to":me()}],"mask-image-y-from-color":[{"mask-y-from":ie()}],"mask-image-y-to-color":[{"mask-y-to":ie()}],"mask-image-radial":[{"mask-radial":[xe,Ee]}],"mask-image-radial-from-pos":[{"mask-radial-from":me()}],"mask-image-radial-to-pos":[{"mask-radial-to":me()}],"mask-image-radial-from-color":[{"mask-radial-from":ie()}],"mask-image-radial-to-color":[{"mask-radial-to":ie()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":oe()}],"mask-image-conic-pos":[{"mask-conic":[qe]}],"mask-image-conic-from-pos":[{"mask-conic-from":me()}],"mask-image-conic-to-pos":[{"mask-conic-to":me()}],"mask-image-conic-from-color":[{"mask-conic-from":ie()}],"mask-image-conic-to-color":[{"mask-conic-to":ie()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:De()}],"mask-repeat":[{mask:G()}],"mask-size":[{mask:S()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",xe,Ee]}],filter:[{filter:["","none",xe,Ee]}],blur:[{blur:Se()}],brightness:[{brightness:[qe,xe,Ee]}],contrast:[{contrast:[qe,xe,Ee]}],"drop-shadow":[{"drop-shadow":["","none",R,Mf,kf]}],"drop-shadow-color":[{"drop-shadow":ie()}],grayscale:[{grayscale:["",qe,xe,Ee]}],"hue-rotate":[{"hue-rotate":[qe,xe,Ee]}],invert:[{invert:["",qe,xe,Ee]}],saturate:[{saturate:[qe,xe,Ee]}],sepia:[{sepia:["",qe,xe,Ee]}],"backdrop-filter":[{"backdrop-filter":["","none",xe,Ee]}],"backdrop-blur":[{"backdrop-blur":Se()}],"backdrop-brightness":[{"backdrop-brightness":[qe,xe,Ee]}],"backdrop-contrast":[{"backdrop-contrast":[qe,xe,Ee]}],"backdrop-grayscale":[{"backdrop-grayscale":["",qe,xe,Ee]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[qe,xe,Ee]}],"backdrop-invert":[{"backdrop-invert":["",qe,xe,Ee]}],"backdrop-opacity":[{"backdrop-opacity":[qe,xe,Ee]}],"backdrop-saturate":[{"backdrop-saturate":[qe,xe,Ee]}],"backdrop-sepia":[{"backdrop-sepia":["",qe,xe,Ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":x()}],"border-spacing-x":[{"border-spacing-x":x()}],"border-spacing-y":[{"border-spacing-y":x()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",xe,Ee]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[qe,"initial",xe,Ee]}],ease:[{ease:["linear","initial",j,xe,Ee]}],delay:[{delay:[qe,xe,Ee]}],animate:[{animate:["none",F,xe,Ee]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[O,xe,Ee]}],"perspective-origin":[{"perspective-origin":re()}],rotate:[{rotate:Ce()}],"rotate-x":[{"rotate-x":Ce()}],"rotate-y":[{"rotate-y":Ce()}],"rotate-z":[{"rotate-z":Ce()}],scale:[{scale:Oe()}],"scale-x":[{"scale-x":Oe()}],"scale-y":[{"scale-y":Oe()}],"scale-z":[{"scale-z":Oe()}],"scale-3d":["scale-3d"],skew:[{skew:Ge()}],"skew-x":[{"skew-x":Ge()}],"skew-y":[{"skew-y":Ge()}],transform:[{transform:[xe,Ee,"","none","gpu","cpu"]}],"transform-origin":[{origin:re()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ke()}],"translate-x":[{"translate-x":Ke()}],"translate-y":[{"translate-y":Ke()}],"translate-z":[{"translate-z":Ke()}],"translate-none":["translate-none"],accent:[{accent:ie()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ie()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe,Ee]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":x()}],"scroll-mx":[{"scroll-mx":x()}],"scroll-my":[{"scroll-my":x()}],"scroll-ms":[{"scroll-ms":x()}],"scroll-me":[{"scroll-me":x()}],"scroll-mt":[{"scroll-mt":x()}],"scroll-mr":[{"scroll-mr":x()}],"scroll-mb":[{"scroll-mb":x()}],"scroll-ml":[{"scroll-ml":x()}],"scroll-p":[{"scroll-p":x()}],"scroll-px":[{"scroll-px":x()}],"scroll-py":[{"scroll-py":x()}],"scroll-ps":[{"scroll-ps":x()}],"scroll-pe":[{"scroll-pe":x()}],"scroll-pt":[{"scroll-pt":x()}],"scroll-pr":[{"scroll-pr":x()}],"scroll-pb":[{"scroll-pb":x()}],"scroll-pl":[{"scroll-pl":x()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe,Ee]}],fill:[{fill:["none",...ie()]}],"stroke-w":[{stroke:[qe,Zc,Xa,Kg]}],stroke:[{stroke:["none",...ie()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Oz=pz(Pz);function fn(...t){return Oz(Y9(t))}const Lz=()=>{const{isSettingsOpen:t,closeSettings:e,settings:n,updateSettings:s}=C0(),a=Yg.useRef(n);if(Yg.useEffect(()=>{t&&(a.current=n)},[t]),!t)return null;const l=()=>{s(a.current,!1),e()},u=()=>{s(n,!0),e()},f=[{id:"dawn",name:"Dawn",color:"bg-[#0f111a] from-violet-500/20 to-pink-500/20"},{id:"midnight",name:"Midnight",color:"bg-[#020617] from-sky-500/20 to-indigo-500/20"},{id:"forest",name:"Forest",color:"bg-[#052e16] from-green-500/20 to-emerald-500/20"},{id:"ocean",name:"Ocean",color:"bg-[#083344] from-cyan-500/20 to-teal-500/20"},{id:"sunset",name:"Sunset",color:"bg-[#2a0a0a] from-orange-500/20 to-rose-500/20"}],m=[{id:"outfit",name:"Modern",family:"font-[Outfit]"},{id:"inter",name:"Clean",family:"font-[Inter]"},{id:"playfair",name:"Elegant",family:'font-["Playfair_Display"]'},{id:"mono",name:"Tech",family:'font-["Fira_Code"]'}];return w.jsx(Ji,{children:t&&w.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 font-sans",children:[w.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:l}),w.jsxs(ct.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-lg bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden max-h-[85vh] flex flex-col",children:[w.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center sticky top-0 bg-slate-900 z-10",children:[w.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[w.jsx(hx,{className:"w-5 h-5 text-accent-primary"}),"Customization"]}),w.jsx("button",{onClick:l,className:"text-slate-400 hover:text-white transition-colors",children:w.jsx(ao,{className:"w-6 h-6"})})]}),w.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[w.jsxs("section",{children:[w.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[w.jsx(hx,{className:"w-4 h-4"})," Theme"]}),w.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:f.map(p=>w.jsxs("button",{onClick:()=>s({theme:p.id},!1),className:fn("relative group overflow-hidden rounded-xl border transition-all duration-300",n.theme===p.id?"border-accent-primary ring-2 ring-accent-primary/50":"border-white/10 hover:border-white/30"),children:[w.jsx("div",{className:fn("h-16 w-full bg-gradient-to-br",p.color)}),w.jsx("div",{className:"p-3 bg-slate-800/50",children:w.jsx("span",{className:fn("text-sm font-medium",n.theme===p.id?"text-white":"text-slate-400"),children:p.name})}),n.theme===p.id&&w.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 bg-accent-primary rounded-full flex items-center justify-center shadow-lg",children:w.jsx(_l,{className:"w-3 h-3 text-white"})})]},p.id))})]}),w.jsxs("section",{children:[w.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[w.jsx(z9,{className:"w-4 h-4"})," Typography"]}),w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:m.map(p=>w.jsxs("button",{onClick:()=>s({font:p.id},!1),className:fn("flex items-center justify-between p-4 rounded-xl border transition-all duration-200 text-left",n.font===p.id?"bg-white/10 border-accent-primary text-white":"bg-white/5 border-white/5 hover:bg-white/10 text-slate-300"),children:[w.jsxs("div",{children:[w.jsx("span",{className:fn("text-lg block mb-0.5",p.family),children:"Aa"}),w.jsx("span",{className:"text-xs text-slate-400",children:p.name})]}),n.font===p.id&&w.jsx(_l,{className:"w-5 h-5 text-accent-primary"})]},p.id))}),w.jsx("div",{className:"mt-4 p-4 rounded-xl bg-black/20 border border-white/5",children:w.jsx("p",{className:fn("text-sm text-slate-300 leading-relaxed",n.font==="outfit"&&"font-[Outfit]",n.font==="inter"&&"font-[Inter]",n.font==="playfair"&&'font-["Playfair_Display"]',n.font==="mono"&&'font-["Fira_Code"]'),children:"The quick brown fox jumps over the lazy dog. 1234567890."})})]}),w.jsxs("section",{children:[w.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[w.jsx(dx,{className:"w-4 h-4"})," Accessibility"]}),w.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:fn("p-2 rounded-lg",n.enableAnimation?"bg-accent-primary/20 text-accent-primary":"bg-slate-700 text-slate-400"),children:w.jsx(dx,{size:20})}),w.jsxs("div",{children:[w.jsx("div",{className:"font-medium text-white",children:"Background Animation"}),w.jsx("div",{className:"text-xs text-slate-400",children:"Glowing blobs and floating particles"})]})]}),w.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[w.jsx("input",{type:"checkbox",checked:n.enableAnimation,onChange:p=>s({enableAnimation:p.target.checked},!1),className:"sr-only peer"}),w.jsx("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-accent-primary rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-primary"})]})]})]})]}),w.jsxs("div",{className:"p-6 border-t border-white/10 flex justify-end gap-3 sticky bottom-0 bg-slate-900 z-10 shrink-0",children:[w.jsx("button",{onClick:l,className:"px-4 py-2 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),w.jsx("button",{onClick:u,className:"px-6 py-2 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all active:scale-95",children:"Save Changes"})]})]})]})})},$g={theme:"dawn",font:"outfit",enableAnimation:!0},C2=k.createContext(null),C0=()=>{const t=k.useContext(C2);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},jz=({children:t})=>{const{user:e}=Hl(),[n,s]=k.useState($g),[a,l]=k.useState(!1);k.useEffect(()=>{(async()=>{if(!e){s($g);return}try{const y=Ds(Qn,"users",e.uid),v=await Ku(y);v.exists()&&v.data().settings&&s({...$g,...v.data().settings})}catch(y){console.error("Error loading settings:",y)}})()},[e]),k.useEffect(()=>{const p=document.body;p.classList.remove("theme-midnight","theme-forest","theme-ocean","theme-sunset"),n.theme!=="dawn"&&p.classList.add(`theme-${n.theme}`),p.classList.remove("font-inter","font-playfair","font-mono","font-comic"),n.font!=="outfit"&&p.classList.add(`font-${n.font}`),n.enableAnimation?p.classList.remove("reduce-motion"):p.classList.add("reduce-motion")},[n]);const u=async(p,y=!0)=>{const v={...n,...p};if(s(v),e&&y)try{await wd(Ds(Qn,"users",e.uid),{settings:v},{merge:!0})}catch(E){console.error("Error saving settings:",E)}},f=()=>l(!0),m=()=>l(!1);return w.jsxs(C2.Provider,{value:{settings:n,updateSettings:u,isSettingsOpen:a,openSettings:f,closeSettings:m},children:[t,w.jsx(Lz,{})]})},Uz=()=>{const{signIn:t,error:e}=Hl();return w.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-center",children:[w.jsx("div",{className:"background-animation"}),w.jsxs("div",{className:"glass-panel p-8 max-w-md w-full flex flex-col items-center gap-6 animate-fade-in",children:[w.jsxs("div",{className:"flex flex-col items-center gap-2 mb-2",children:[w.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-24 w-auto object-contain drop-shadow-[0_0_15px_rgba(251,191,36,0.3)]"}),w.jsx("div",{className:"rounded-full bg-accent-primary/20 p-2 hidden",children:w.jsx(L9,{className:"w-6 h-6 text-accent-gold animate-pulse"})})]}),w.jsx("h1",{className:"text-4xl font-heading font-bold text-gradient sr-only",children:"SunSar Bingo"}),w.jsxs("p",{className:"text-slate-300 font-light text-lg",children:["Track your goals, share with friends,",w.jsx("br",{}),"and make 2026 your best year yet."]}),e&&w.jsx("div",{className:"bg-red-500/20 text-red-200 px-4 py-2 rounded-lg text-sm border border-red-500/30",children:e}),w.jsx("button",{onClick:t,className:"group relative px-6 py-3 bg-white text-bg-dark font-bold rounded-full transition-all hover:scale-105 hover:shadow-[0_0_20px_rgba(255,255,255,0.3)]",children:w.jsxs("span",{className:"flex items-center gap-2",children:[w.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"G",className:"w-5 h-5"}),"Sign in / Sign up with Google"]})})]}),w.jsx("footer",{className:"absolute bottom-4 text-slate-500 text-xs",children:" 2026 SunSar Bingo  Free & Open Source"})]})};var R0={};(function t(e,n,s,a){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),u=typeof Path2D=="function"&&typeof DOMMatrix=="function",f=(function(){if(!e.OffscreenCanvas)return!1;try{var G=new OffscreenCanvas(1,1),S=G.getContext("2d");S.fillRect(0,0,1,1);var K=G.transferToImageBitmap();S.createPattern(K,"no-repeat")}catch{return!1}return!0})();function m(){}function p(G){var S=n.exports.Promise,K=S!==void 0?S:e.Promise;return typeof K=="function"?new K(G):(G(m,m),null)}var y=(function(G,S){return{transform:function(K){if(G)return K;if(S.has(K))return S.get(K);var J=new OffscreenCanvas(K.width,K.height),ae=J.getContext("2d");return ae.drawImage(K,0,0),S.set(K,J),J},clear:function(){S.clear()}}})(f,new Map),v=(function(){var G=Math.floor(16.666666666666668),S,K,J={},ae=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(S=function(ge){var ye=Math.random();return J[ye]=requestAnimationFrame(function me(Se){ae===Se||ae+G-1<Se?(ae=Se,delete J[ye],ge()):J[ye]=requestAnimationFrame(me)}),ye},K=function(ge){J[ge]&&cancelAnimationFrame(J[ge])}):(S=function(ge){return setTimeout(ge,G)},K=function(ge){return clearTimeout(ge)}),{frame:S,cancel:K}})(),E=(function(){var G,S,K={};function J(ae){function ge(ye,me){ae.postMessage({options:ye||{},callback:me})}ae.init=function(me){var Se=me.transferControlToOffscreen();ae.postMessage({canvas:Se},[Se])},ae.fire=function(me,Se,Ce){if(S)return ge(me,null),S;var Oe=Math.random().toString(36).slice(2);return S=p(function(Ge){function Ke(Et){Et.data.callback===Oe&&(delete K[Oe],ae.removeEventListener("message",Ke),S=null,y.clear(),Ce(),Ge())}ae.addEventListener("message",Ke),ge(me,Oe),K[Oe]=Ke.bind(null,{data:{callback:Oe}})}),S},ae.reset=function(){ae.postMessage({reset:!0});for(var me in K)K[me](),delete K[me]}}return function(){if(G)return G;if(!s&&l){var ae=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{G=new Worker(URL.createObjectURL(new Blob([ae])))}catch(ge){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",ge),null}J(G)}return G}})(),R={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function M(G,S){return S?S(G):G}function O(G){return G!=null}function V(G,S,K){return M(G&&O(G[S])?G[S]:R[S],K)}function j(G){return G<0?0:Math.floor(G)}function F(G,S){return Math.floor(Math.random()*(S-G))+G}function H(G){return parseInt(G,16)}function oe(G){return G.map(re)}function re(G){var S=String(G).replace(/[^0-9a-f]/gi,"");return S.length<6&&(S=S[0]+S[0]+S[1]+S[1]+S[2]+S[2]),{r:H(S.substring(0,2)),g:H(S.substring(2,4)),b:H(S.substring(4,6))}}function de(G){var S=V(G,"origin",Object);return S.x=V(S,"x",Number),S.y=V(S,"y",Number),S}function D(G){G.width=document.documentElement.clientWidth,G.height=document.documentElement.clientHeight}function x(G){var S=G.getBoundingClientRect();G.width=S.width,G.height=S.height}function I(G){var S=document.createElement("canvas");return S.style.position="fixed",S.style.top="0px",S.style.left="0px",S.style.pointerEvents="none",S.style.zIndex=G,S}function P(G,S,K,J,ae,ge,ye,me,Se){G.save(),G.translate(S,K),G.rotate(ge),G.scale(J,ae),G.arc(0,0,1,ye,me,Se),G.restore()}function L(G){var S=G.angle*(Math.PI/180),K=G.spread*(Math.PI/180);return{x:G.x,y:G.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:G.startVelocity*.5+Math.random()*G.startVelocity,angle2D:-S+(.5*K-Math.random()*K),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:G.color,shape:G.shape,tick:0,totalTicks:G.ticks,decay:G.decay,drift:G.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:G.gravity*3,ovalScalar:.6,scalar:G.scalar,flat:G.flat}}function z(G,S){S.x+=Math.cos(S.angle2D)*S.velocity+S.drift,S.y+=Math.sin(S.angle2D)*S.velocity+S.gravity,S.velocity*=S.decay,S.flat?(S.wobble=0,S.wobbleX=S.x+10*S.scalar,S.wobbleY=S.y+10*S.scalar,S.tiltSin=0,S.tiltCos=0,S.random=1):(S.wobble+=S.wobbleSpeed,S.wobbleX=S.x+10*S.scalar*Math.cos(S.wobble),S.wobbleY=S.y+10*S.scalar*Math.sin(S.wobble),S.tiltAngle+=.1,S.tiltSin=Math.sin(S.tiltAngle),S.tiltCos=Math.cos(S.tiltAngle),S.random=Math.random()+2);var K=S.tick++/S.totalTicks,J=S.x+S.random*S.tiltCos,ae=S.y+S.random*S.tiltSin,ge=S.wobbleX+S.random*S.tiltCos,ye=S.wobbleY+S.random*S.tiltSin;if(G.fillStyle="rgba("+S.color.r+", "+S.color.g+", "+S.color.b+", "+(1-K)+")",G.beginPath(),u&&S.shape.type==="path"&&typeof S.shape.path=="string"&&Array.isArray(S.shape.matrix))G.fill(ne(S.shape.path,S.shape.matrix,S.x,S.y,Math.abs(ge-J)*.1,Math.abs(ye-ae)*.1,Math.PI/10*S.wobble));else if(S.shape.type==="bitmap"){var me=Math.PI/10*S.wobble,Se=Math.abs(ge-J)*.1,Ce=Math.abs(ye-ae)*.1,Oe=S.shape.bitmap.width*S.scalar,Ge=S.shape.bitmap.height*S.scalar,Ke=new DOMMatrix([Math.cos(me)*Se,Math.sin(me)*Se,-Math.sin(me)*Ce,Math.cos(me)*Ce,S.x,S.y]);Ke.multiplySelf(new DOMMatrix(S.shape.matrix));var Et=G.createPattern(y.transform(S.shape.bitmap),"no-repeat");Et.setTransform(Ke),G.globalAlpha=1-K,G.fillStyle=Et,G.fillRect(S.x-Oe/2,S.y-Ge/2,Oe,Ge),G.globalAlpha=1}else if(S.shape==="circle")G.ellipse?G.ellipse(S.x,S.y,Math.abs(ge-J)*S.ovalScalar,Math.abs(ye-ae)*S.ovalScalar,Math.PI/10*S.wobble,0,2*Math.PI):P(G,S.x,S.y,Math.abs(ge-J)*S.ovalScalar,Math.abs(ye-ae)*S.ovalScalar,Math.PI/10*S.wobble,0,2*Math.PI);else if(S.shape==="star")for(var Pe=Math.PI/2*3,At=4*S.scalar,Ft=8*S.scalar,on=S.x,bn=S.y,ot=5,$e=Math.PI/ot;ot--;)on=S.x+Math.cos(Pe)*Ft,bn=S.y+Math.sin(Pe)*Ft,G.lineTo(on,bn),Pe+=$e,on=S.x+Math.cos(Pe)*At,bn=S.y+Math.sin(Pe)*At,G.lineTo(on,bn),Pe+=$e;else G.moveTo(Math.floor(S.x),Math.floor(S.y)),G.lineTo(Math.floor(S.wobbleX),Math.floor(ae)),G.lineTo(Math.floor(ge),Math.floor(ye)),G.lineTo(Math.floor(J),Math.floor(S.wobbleY));return G.closePath(),G.fill(),S.tick<S.totalTicks}function N(G,S,K,J,ae){var ge=S.slice(),ye=G.getContext("2d"),me,Se,Ce=p(function(Oe){function Ge(){me=Se=null,ye.clearRect(0,0,J.width,J.height),y.clear(),ae(),Oe()}function Ke(){s&&!(J.width===a.width&&J.height===a.height)&&(J.width=G.width=a.width,J.height=G.height=a.height),!J.width&&!J.height&&(K(G),J.width=G.width,J.height=G.height),ye.clearRect(0,0,J.width,J.height),ge=ge.filter(function(Et){return z(ye,Et)}),ge.length?me=v.frame(Ke):Ge()}me=v.frame(Ke),Se=Ge});return{addFettis:function(Oe){return ge=ge.concat(Oe),Ce},canvas:G,promise:Ce,reset:function(){me&&v.cancel(me),Se&&Se()}}}function fe(G,S){var K=!G,J=!!V(S||{},"resize"),ae=!1,ge=V(S,"disableForReducedMotion",Boolean),ye=l&&!!V(S||{},"useWorker"),me=ye?E():null,Se=K?D:x,Ce=G&&me?!!G.__confetti_initialized:!1,Oe=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ge;function Ke(Pe,At,Ft){for(var on=V(Pe,"particleCount",j),bn=V(Pe,"angle",Number),ot=V(Pe,"spread",Number),$e=V(Pe,"startVelocity",Number),wn=V(Pe,"decay",Number),fi=V(Pe,"gravity",Number),di=V(Pe,"drift",Number),Ht=V(Pe,"colors",oe),mi=V(Pe,"ticks",Number),as=V(Pe,"shapes"),pi=V(Pe,"scalar"),lt=!!V(Pe,"flat"),gi=de(Pe),os=on,Wn=[],Ui=G.width*gi.x,ln=G.height*gi.y;os--;)Wn.push(L({x:Ui,y:ln,angle:bn,spread:ot,startVelocity:$e,color:Ht[os%Ht.length],shape:as[F(0,as.length)],ticks:mi,decay:wn,gravity:fi,drift:di,scalar:pi,flat:lt}));return Ge?Ge.addFettis(Wn):(Ge=N(G,Wn,Se,At,Ft),Ge.promise)}function Et(Pe){var At=ge||V(Pe,"disableForReducedMotion",Boolean),Ft=V(Pe,"zIndex",Number);if(At&&Oe)return p(function($e){$e()});K&&Ge?G=Ge.canvas:K&&!G&&(G=I(Ft),document.body.appendChild(G)),J&&!Ce&&Se(G);var on={width:G.width,height:G.height};me&&!Ce&&me.init(G),Ce=!0,me&&(G.__confetti_initialized=!0);function bn(){if(me){var $e={getBoundingClientRect:function(){if(!K)return G.getBoundingClientRect()}};Se($e),me.postMessage({resize:{width:$e.width,height:$e.height}});return}on.width=on.height=null}function ot(){Ge=null,J&&(ae=!1,e.removeEventListener("resize",bn)),K&&G&&(document.body.contains(G)&&document.body.removeChild(G),G=null,Ce=!1)}return J&&!ae&&(ae=!0,e.addEventListener("resize",bn,!1)),me?me.fire(Pe,on,ot):Ke(Pe,on,ot)}return Et.reset=function(){me&&me.reset(),Ge&&Ge.reset()},Et}var pe;function q(){return pe||(pe=fe(null,{useWorker:!0,resize:!0})),pe}function ne(G,S,K,J,ae,ge,ye){var me=new Path2D(G),Se=new Path2D;Se.addPath(me,new DOMMatrix(S));var Ce=new Path2D;return Ce.addPath(Se,new DOMMatrix([Math.cos(ye)*ae,Math.sin(ye)*ae,-Math.sin(ye)*ge,Math.cos(ye)*ge,K,J])),Ce}function ie(G){if(!u)throw new Error("path confetti are not supported in this browser");var S,K;typeof G=="string"?S=G:(S=G.path,K=G.matrix);var J=new Path2D(S),ae=document.createElement("canvas"),ge=ae.getContext("2d");if(!K){for(var ye=1e3,me=ye,Se=ye,Ce=0,Oe=0,Ge,Ke,Et=0;Et<ye;Et+=2)for(var Pe=0;Pe<ye;Pe+=2)ge.isPointInPath(J,Et,Pe,"nonzero")&&(me=Math.min(me,Et),Se=Math.min(Se,Pe),Ce=Math.max(Ce,Et),Oe=Math.max(Oe,Pe));Ge=Ce-me,Ke=Oe-Se;var At=10,Ft=Math.min(At/Ge,At/Ke);K=[Ft,0,0,Ft,-Math.round(Ge/2+me)*Ft,-Math.round(Ke/2+Se)*Ft]}return{type:"path",path:S,matrix:K}}function De(G){var S,K=1,J="#000000",ae='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof G=="string"?S=G:(S=G.text,K="scalar"in G?G.scalar:K,ae="fontFamily"in G?G.fontFamily:ae,J="color"in G?G.color:J);var ge=10*K,ye=""+ge+"px "+ae,me=new OffscreenCanvas(ge,ge),Se=me.getContext("2d");Se.font=ye;var Ce=Se.measureText(S),Oe=Math.ceil(Ce.actualBoundingBoxRight+Ce.actualBoundingBoxLeft),Ge=Math.ceil(Ce.actualBoundingBoxAscent+Ce.actualBoundingBoxDescent),Ke=2,Et=Ce.actualBoundingBoxLeft+Ke,Pe=Ce.actualBoundingBoxAscent+Ke;Oe+=Ke+Ke,Ge+=Ke+Ke,me=new OffscreenCanvas(Oe,Ge),Se=me.getContext("2d"),Se.font=ye,Se.fillStyle=J,Se.fillText(S,Et,Pe);var At=1/K;return{type:"bitmap",bitmap:me.transferToImageBitmap(),matrix:[At,0,0,At,-Oe*At/2,-Ge*At/2]}}n.exports=function(){return q().apply(this,arguments)},n.exports.reset=function(){q().reset()},n.exports.create=fe,n.exports.shapeFromPath=ie,n.exports.shapeFromText=De})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),R0,!1);const R2=R0.exports;R0.exports.create;const Wa=(t=1)=>{const e=200*t,n={origin:{y:.7}};function s(a,l){R2(Object.assign({},n,l,{particleCount:Math.floor(e*a)}))}s(.25,{spread:26,startVelocity:55}),s(.2,{spread:60}),s(.35,{spread:100,decay:.91,scalar:.8}),s(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),s(.1,{spread:120,startVelocity:45})},_x={cloudName:"dia6ped7h",uploadPreset:"bingo_proofs"},bx=async t=>{const e=new FormData;e.append("file",t),e.append("upload_preset",_x.uploadPreset),e.append("folder","bingo-proofs");const n=await fetch(`https://api.cloudinary.com/v1_1/${_x.cloudName}/image/upload`,{method:"POST",body:e});if(!n.ok){const a=await n.json();throw console.error("Cloudinary upload error:",a),new Error(a.error?.message||"Failed to upload image")}return(await n.json()).secure_url},zz="2026",Bz=25,Fz=["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"],Hz=t=>{const{user:e}=Hl(),[n,s]=k.useState([]),[a,l]=k.useState({}),[u,f]=k.useState(!0),[m,p]=k.useState(!1),[y,v]=k.useState(!1),[E,R]=k.useState(""),M=k.useMemo(()=>t?Ds(Qn,"boards",t):Ds(Qn,"years",zz),[t]),O=z=>{if(!z.length)return;const N=5,fe=[];for(let pe=0;pe<N;pe++)fe.push(z.slice(pe*N,(pe+1)*N));for(let pe=0;pe<N;pe++)if(fe[pe].every(q=>q.isCompleted)){m||(p(!0),Wa(2));return}for(let pe=0;pe<N;pe++)if(fe.map(q=>q[pe]).every(q=>q.isCompleted)){m||(p(!0),Wa(2));return}if(fe.map((pe,q)=>pe[q]).every(pe=>pe.isCompleted)){m||(p(!0),Wa(2));return}if(fe.map((pe,q)=>pe[N-1-q]).every(pe=>pe.isCompleted)){m||(p(!0),Wa(2));return}p(!1)},V=async()=>{const z=[...Fz].sort(()=>.5-Math.random()),N=[];let fe=0;for(let pe=0;pe<Bz;pe++)pe===12?N.push({id:pe,text:"2026 ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(N.push({id:pe,text:z[fe],isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),fe++);await wd(M,{year:2026,items:N,isLocked:!1,createdAt:He.now(),lastUpdated:He.now(),...e?{ownerId:e.uid,members:{[e.uid]:"owner"}}:{}},{merge:!0})};k.useEffect(()=>{if(!e)return;f(!0);const z=pC(M,N=>{if(N.exists()){const fe=N.data();s(fe.items||[]),l(fe.members||{}),v(fe.isLocked||!1),R(fe.title||""),O(fe.items||[])}else V();f(!1)},N=>{console.error("Error fetching bingo board:",N),f(!1)});return()=>z()},[M,e]);const j=async z=>{if(!n.length)return;const N=n.map(ne=>({...ne})),fe=N[z];if(fe.isFreeSpace)return;const pe=fe.targetCount||1,q=fe.currentCount||0;if(fe.isCompleted){const ne=Math.max(0,q-1);fe.currentCount=ne,fe.isCompleted=ne>=pe,ne===0&&(fe.completedBy=null,fe.completedAt=null,fe.proofPhotos=[])}else{const ne=Math.min(pe,q+1);fe.currentCount=ne,fe.isCompleted=ne>=pe,fe.completedBy=e?.displayName||e?.email||"Unknown",fe.completedAt=He.now(),Wa(.5)}s(N),O(N);try{await Di(M,{items:N,lastUpdated:He.now()})}catch(ne){console.error("Error updating bingo board:",ne)}},F=async z=>{if(!n.length)return;const N=n.map(ie=>({...ie})),fe=N[z];if(fe.isFreeSpace)return;const pe=fe.currentCount||0;if(pe<=0)return;const q=fe.targetCount||1,ne=pe-1;fe.currentCount=ne,fe.isCompleted=ne>=q,ne===0&&(fe.completedBy=null,fe.completedAt=null,fe.proofPhotos=[]),s(N),O(N);try{await Di(M,{items:N,lastUpdated:He.now()})}catch(ie){console.error("Error decrementing progress:",ie)}},H=async(z,N)=>{if(!(!n.length||!e))try{const fe=await bx(N),pe=n.map(S=>({...S})),q=pe[z];if(q.isFreeSpace)return;const ne=q.targetCount||1,ie=q.currentCount||0,De=Math.min(ne,ie+1);q.currentCount=De,q.isCompleted=De>=ne,q.completedBy=e?.displayName||e?.email||"Unknown",q.completedAt=He.now();const G=q.proofPhotos||[];q.proofPhotos=[...G,fe],s(pe),O(pe),Wa(1),await Di(M,{items:pe,lastUpdated:He.now()})}catch(fe){throw console.error("Error completing with photo:",fe),fe}},oe=async(z,N)=>{if(!n.length||!e)return;const fe=n[z];!fe.isCompleted&&(fe.currentCount||0)<(fe.targetCount||1);const pe=fe.proofPhotos||[];if(pe.length>=5)throw new Error("Maximum 5 photos allowed per tile");try{const q=await bx(N),ne=n.map(ie=>({...ie}));return ne[z].proofPhotos=[...pe,q],s(ne),Wa(.3),await Di(M,{items:ne,lastUpdated:He.now()}),q}catch(q){throw console.error("Error adding photo:",q),q}},re=async(z,N)=>{const fe=n.map(pe=>({...pe}));N.text!==void 0&&(fe[z].text=N.text),N.style!==void 0&&(fe[z].style=N.style),s(fe);try{await Di(M,{items:fe,lastUpdated:He.now()})}catch(pe){console.error("Error updating item:",pe)}},de=async()=>{const z=[...n],N=z[12],fe=[...z.slice(0,12),...z.slice(13)];for(let q=fe.length-1;q>0;q--){const ne=Math.floor(Math.random()*(q+1));[fe[q],fe[ne]]=[fe[ne],fe[q]]}const pe=[...fe.slice(0,12),N,...fe.slice(12)];s(pe),v(!0),await wd(M,{isLocked:!0,items:pe,itemsBackup:z,lastUpdated:He.now()},{merge:!0})},D=async()=>{try{const z=await Ku(M);if(z.exists()){const N=z.data();N.itemsBackup?await Di(M,{items:N.itemsBackup,itemsBackup:vd(),isLocked:!1,lastUpdated:He.now()}):await Di(M,{isLocked:!1,lastUpdated:He.now()})}}catch(z){console.error("Error unlocking board:",z)}},x=k.useMemo(()=>{const z=[[0,1,2,3,4],[5,6,7,8,9],[10,11,12,13,14],[15,16,17,18,19],[20,21,22,23,24],[0,5,10,15,20],[1,6,11,16,21],[2,7,12,17,22],[3,8,13,18,23],[4,9,14,19,24],[0,6,12,18,24],[4,8,12,16,20]],N=new Set(n.map((fe,pe)=>fe.isCompleted?pe:-1));return z.reduce((fe,pe)=>pe.every(q=>N.has(q))?fe+1:fe,0)},[n]);return{items:n,members:a,loading:u,toggleItem:j,updateItem:re,hasWon:m,bingoCount:x,isLocked:y,unlockBoard:D,jumbleAndLock:de,saveBoard:async z=>{s(z);try{await Di(M,{items:z,lastUpdated:He.now()})}catch(N){console.error("Error saving board:",N)}},completeWithPhoto:H,addPhotoToTile:oe,decrementProgress:F,inviteUser:async(z,N="editor")=>{try{const fe=_d(dl(Qn,"users"),bd("email","==",z)),pe=await hu(fe);if(pe.empty)return{success:!1,type:"not_found",message:"User not found"};const q=pe.docs[0],ne=q.id;return await Di(M,{[`members.${ne}`]:N}),{success:!0,type:"success",message:`Added ${q.data().displayName||z} as ${N}!`}}catch(fe){return console.error("Error inviting user:",fe),{success:!1,type:"error",message:"Failed to invite user"}}},removeMember:async z=>{try{return await Di(M,{[`members.${z}`]:vd()}),{success:!0}}catch(N){return console.error("Error removing member:",N),{success:!1,error:N}}},title:E}},qz=({items:t,isOpen:e,onClose:n})=>{const[s,a]=k.useState(null),l=k.useMemo(()=>t.map((m,p)=>({...m,originalIndex:p})).filter(m=>m.isCompleted&&m.proofPhotos&&m.proofPhotos.length>0).sort((m,p)=>{const y=m.completedAt?.toDate?.()||new Date(0);return(p.completedAt?.toDate?.()||new Date(0)).getTime()-y.getTime()}),[t]),u=k.useMemo(()=>{const m={};return l.forEach(p=>{const v=(p.completedAt?.toDate?.()||new Date).toLocaleDateString("en-US",{month:"long",year:"numeric"});m[v]||(m[v]=[]),m[v].push(p)}),m},[l]),f=m=>m?(m.toDate?m.toDate():new Date(m)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"";return e?w.jsx(Ji,{children:w.jsxs(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] bg-bg-dark overflow-y-auto",children:[w.jsx("div",{className:"sticky top-0 z-10 bg-bg-dark/95 backdrop-blur-md border-b border-white/10",children:w.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4 flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(Gy,{className:"w-6 h-6 text-accent-gold"}),w.jsx("h1",{className:"text-xl font-bold text-white",children:"2026 Memories"}),w.jsxs("span",{className:"text-sm text-slate-400",children:["(",l.length," moments)"]})]}),w.jsx("button",{onClick:n,className:"p-2 text-slate-400 hover:text-white transition-colors rounded-full hover:bg-white/10",children:w.jsx(ao,{size:24})})]})}),w.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6",children:l.length===0?w.jsxs("div",{className:"text-center py-20",children:[w.jsx(Gy,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),w.jsx("h2",{className:"text-xl font-semibold text-slate-400 mb-2",children:"No memories yet"}),w.jsx("p",{className:"text-slate-500",children:"Complete tasks and add photos to build your 2026 album!"})]}):Object.entries(u).map(([m,p])=>w.jsxs("div",{className:"mb-8",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[w.jsx(Dd,{className:"w-4 h-4 text-accent-primary"}),w.jsx("h2",{className:"text-lg font-semibold text-accent-primary",children:m}),w.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-accent-primary/30 to-transparent"})]}),w.jsx("div",{className:"space-y-6",children:p.map((y,v)=>w.jsxs(ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},className:"bg-bg-card/80 rounded-2xl border border-white/10 overflow-hidden shadow-xl",children:[w.jsxs("div",{className:"relative aspect-video bg-black cursor-pointer",onClick:()=>a({memoryIdx:l.indexOf(y),photoIdx:0}),children:[w.jsx("img",{src:y.proofPhotos[0],alt:y.text,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}),y.proofPhotos.length>1&&w.jsxs("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/70 rounded-full text-white text-xs font-medium",children:["+",y.proofPhotos.length-1," more"]})]}),y.proofPhotos.length>1&&w.jsx("div",{className:"flex gap-1 p-2 bg-black/30 overflow-x-auto",children:y.proofPhotos.map((E,R)=>w.jsx("button",{onClick:()=>a({memoryIdx:l.indexOf(y),photoIdx:R}),className:"w-14 h-14 rounded-lg overflow-hidden flex-shrink-0 border-2 border-transparent hover:border-accent-primary transition-all",children:w.jsx("img",{src:E,alt:"",className:"w-full h-full object-cover"})},R))}),w.jsxs("div",{className:"p-4",children:[w.jsxs("h3",{className:"text-lg font-semibold text-white mb-2 flex items-center gap-2",children:[w.jsx("span",{className:"text-accent-gold",children:""}),y.text]}),w.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[w.jsxs("span",{className:"flex items-center gap-1",children:[w.jsx(F9,{size:14}),y.completedBy]}),w.jsxs("span",{className:"flex items-center gap-1",children:[w.jsx(Dd,{size:14}),f(y.completedAt)]})]})]})]},y.id))})]},m))}),w.jsx(Ji,{children:s!==null&&l[s.memoryIdx]&&w.jsxs(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[300] bg-black/95 flex items-center justify-center p-4",onClick:()=>a(null),children:[w.jsx("button",{onClick:()=>a(null),className:"absolute top-4 right-4 p-2 text-white/70 hover:text-white",children:w.jsx(ao,{size:32})}),(()=>{const m=l[s.memoryIdx],p=m.proofPhotos||[],y=s.photoIdx;return w.jsxs("div",{className:"relative max-w-4xl w-full",onClick:v=>v.stopPropagation(),children:[w.jsx("img",{src:p[y],alt:"",className:"w-full max-h-[80vh] object-contain rounded-lg"}),p.length>1&&w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>a({...s,photoIdx:y>0?y-1:p.length-1}),className:"absolute left-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:w.jsx(a2,{size:28})}),w.jsx("button",{onClick:()=>a({...s,photoIdx:y<p.length-1?y+1:0}),className:"absolute right-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:w.jsx(o2,{size:28})})]}),w.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:[w.jsx("p",{className:"text-white font-semibold",children:m.text}),w.jsxs("p",{className:"text-slate-300 text-sm",children:[y+1," / ",p.length,"  ",f(m.completedAt)]})]})]})})()]})})]})}):null},wx=()=>{const{boardId:t,yearId:e}=ZN(),n=Pd(),s=e?void 0:t,{items:a,members:l,loading:u,toggleItem:f,hasWon:m,bingoCount:p,isLocked:y,unlockBoard:v,jumbleAndLock:E,saveBoard:R,completeWithPhoto:M,addPhotoToTile:O,decrementProgress:V,inviteUser:j,removeMember:F,title:H}=Hz(s),{logout:oe,user:re}=Hl(),de=d2(),{openSettings:D}=C0(),[x,I]=k.useState(!1),[P,L]=k.useState([]),[z,N]=k.useState(!1),[fe,pe]=k.useState(!1),[q,ne]=k.useState([]),[ie,De]=k.useState(null),[G,S]=k.useState(""),[K,J]=k.useState({}),[ae,ge]=k.useState(1),[ye,me]=k.useState(""),[Se,Ce]=k.useState(!1),[Oe,Ge]=k.useState(0),[Ke,Et]=k.useState(null),[Pe,At]=k.useState(!1);k.useEffect(()=>{!localStorage.getItem("hasSeenWalkthrough")&&!u&&a.length>0&&Ce(!0)},[u,a]),k.useEffect(()=>{(async()=>{if(fe&&l){const Re=[];for(const[ht,jt]of Object.entries(l))if(jt!=="owner")try{const pt=await Ku(Ds(Qn,"users",ht));if(pt.exists()){const Vt=pt.data();Re.push({id:ht,name:Vt.displayName||"Unknown",email:Vt.email||"No email",role:jt})}}catch(pt){console.error("Error fetching user:",pt)}ne(Re)}})()},[fe,l]);const Ft=async(Q,Re)=>{await de.confirm(`Are you sure you want to remove ${Re} from this board?`,{title:"Remove Member",type:"error",confirmText:"Remove"})&&((await F(Q)).success?(ne(pt=>pt.filter(Vt=>Vt.id!==Q)),await de.alert(`${Re} has been removed.`,{type:"success"})):await de.alert("Failed to remove member.",{type:"error"}))},on=async()=>{const Q=await de.sharePrompt("Enter their email address to invite them to this board.",{title:"Invite User"});if(Q){const Re=await j(Q.email,Q.role);if(Re.type==="success")await de.alert(Re.message,{title:"Success!",type:"success"});else if(Re.type==="not_found"){if(await de.confirm(`"${Q.email}" hasn't signed up yet.

Would you like to send them an email invitation to join SunSar Bingo?`,{title:"User Not Found",confirmText:"Send Invite Email",type:"info"}))try{const{sendInviteEmail:jt,openMailtoFallback:pt}=await Wg(async()=>{const{sendInviteEmail:wt,openMailtoFallback:qt}=await import("./emailService-t2YHF0Yd.js");return{sendInviteEmail:wt,openMailtoFallback:qt}},[]);(await jt({recipientEmail:Q.email,senderName:re?.displayName||re?.email||"A friend"})).success?await de.alert(`Invitation sent to ${Q.email}! They'll receive an email with instructions to join.`,{title:"Invitation Sent!",type:"success"}):(pt(Q.email,re?.displayName||"A friend"),await de.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"}))}catch{const pt=encodeURIComponent("Join me on SunSar Bingo!"),Vt=encodeURIComponent(`Hey! Come join me on SunSar Bingo to track our 2026 goals together.

Sign up here: ${window.location.origin}`);window.open(`mailto:${Q.email}?subject=${pt}&body=${Vt}`),await de.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"})}}else await de.alert(Re.message,{title:"Error",type:"error"})}},bn=()=>{Oe<2?Ge(Q=>Q+1):(Ce(!1),localStorage.setItem("hasSeenWalkthrough","true"))},[ot,$e]=k.useState(!1),[wn,fi]=k.useState(null),[di,Ht]=k.useState(!1),mi=k.useRef(null),[as,pi]=k.useState(!1),[lt,gi]=k.useState(null),[os,Wn]=k.useState(null),[Ui,ln]=k.useState(0),[Qt,Pn]=k.useState(!1),xt=k.useRef(null),[vo,zs]=k.useState(!1),[_o,Zn]=k.useState(()=>localStorage.getItem("celebrationDismissed")==="true"),[zi,Nt]=k.useState(0);k.useEffect(()=>{zi===5&&(v(),Nt(0),R2({particleCount:100,spread:70,origin:{y:.6},colors:["#fbbf24","#ec4899","#ffffff"]}));let Q;return zi>0&&(Q=setTimeout(()=>Nt(0),1e3)),()=>clearTimeout(Q)},[zi,v]);const yi=()=>{y&&Nt(Q=>Q+1)},vi=async()=>{await de.confirm(`This will randomly shuffle all tiles (except the center) and LOCK the board.

(Tap the logo 5 times to Undo/Unlock).`,{title:"Jumble & Finalize Board?",confirmText:"Finalize",type:"warning"})&&(E(),I(!1))},Jn=()=>{Zn(!0),localStorage.setItem("celebrationDismissed","true")};Yg.useEffect(()=>{!u&&!m&&(Zn(!1),localStorage.removeItem("celebrationDismissed"))},[m,u]);const Ql=Q=>{const Re=x?P:a;if(De(Q),S(Re[Q].text),J(Re[Q].style||{color:"#ffffff",fontSize:"base",bold:!1,italic:!1}),ge(Re[Q].targetCount||1),Re[Q].dueDate){const ht=Re[Q].dueDate,jt=typeof ht.toDate=="function"?ht.toDate():new Date(ht),pt=jt.getFullYear(),Vt=String(jt.getMonth()+1).padStart(2,"0"),wt=String(jt.getDate()).padStart(2,"0");me(`${pt}-${Vt}-${wt}`)}else me("");N(!0)},bo=()=>{if(ie===null)return;let Q;ye&&(Q=new Date(ye+"T12:00:00"));const Re=[...P];Re[ie]={...Re[ie],text:G,style:K,targetCount:ae,dueDate:Q},L(Re),N(!1),De(null)};if(u)return w.jsx("div",{className:"flex h-screen items-center justify-center text-accent-primary animate-pulse",children:w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"w-12 h-12 border-4 border-accent-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),w.jsx("p",{children:"Loading Board..."})]})});const ls=a.filter(Q=>Q.isCompleted).length/25*100,Ea=Q=>{if(!Q)return"-";const Re=Q.toDate?Q.toDate():new Date(Q);return Re.toLocaleDateString()+" "+Re.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},Fi=x?P:a,xa=Q=>{const Re=Fi[Q];Et({index:Q,wasCompleted:Re.isCompleted}),f(Q),At(!0),setTimeout(()=>At(!1),3e3)};return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"min-h-screen flex flex-col items-center p-3 pb-24 relative overflow-x-hidden no-print",children:[w.jsx("div",{className:"background-animation"}),w.jsxs("div",{className:"w-full max-w-[500px] flex flex-col gap-6 mb-8 pt-2 px-2",children:[w.jsxs("header",{className:"w-full flex justify-between items-center",children:[w.jsx("div",{className:"flex items-center",children:w.jsx(ct.img,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},src:"/logo.png",alt:"SunSar Bingo",className:"h-10 sm:h-12 w-auto object-contain cursor-pointer active:scale-95 transition-transform",onClick:yi})}),w.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[w.jsx("button",{onClick:()=>zs(!0),className:"text-slate-400 hover:text-accent-gold transition-colors p-2 hover:bg-white/5 rounded-full",title:"View Memories",children:w.jsx(Gy,{size:18})}),w.jsx("button",{onClick:()=>n("/dashboard"),className:"text-slate-400 hover:text-white transition-colors p-2 hover:bg-white/5 rounded-full",title:"Dashboard",children:w.jsx(l2,{size:18})}),w.jsx("button",{onClick:()=>pe(!0),className:"text-slate-400 hover:text-accent-primary transition-colors p-2 hover:bg-white/5 rounded-full",title:"Share Board",children:w.jsx(qg,{size:18})}),w.jsx("button",{onClick:D,className:"text-slate-400 hover:text-white transition-colors p-2 hover:bg-white/5 rounded-full",title:"Settings",children:w.jsx(u2,{size:18})}),w.jsx(ct.div,{initial:{scale:0},animate:{scale:1},className:"relative cursor-pointer group px-1",children:w.jsx("img",{src:re?.photoURL||"",alt:"User",className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full border-2 border-glass-border group-hover:border-accent-primary transition-colors object-cover shrink-0"})}),w.jsx("button",{onClick:oe,className:"text-slate-400 hover:text-red-400 transition-colors p-2 hover:bg-white/5 rounded-full",title:"Logout",children:w.jsx(c2,{size:18})})]})]}),H&&w.jsx(ct.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-center",children:w.jsx("h1",{className:"text-3xl sm:text-4xl font-bold bg-gradient-to-r from-accent-primary via-accent-secondary to-accent-primary bg-clip-text text-transparent inline-block pb-1",children:H})})]}),w.jsx("div",{className:"w-full max-w-[500px] aspect-square relative mb-6",children:w.jsx("div",{className:"grid grid-cols-5 grid-rows-5 gap-1.5 sm:gap-2 w-full h-full",children:Fi.map((Q,Re)=>w.jsxs(ct.div,{title:Q.isCompleted?`Completed by ${Q.completedBy||"Someone"} on ${Ea(Q.completedAt)}`:void 0,layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:Re*.02},whileTap:{scale:.95},onClick:()=>{x||Q.isFreeSpace||(Q.isCompleted?Q.proofPhotos&&Q.proofPhotos.length>0?(gi(Q),Wn(Re),ln(0),pi(!0)):xa(Re):(fi(Re),$e(!0)))},className:fn("relative rounded-lg flex items-center justify-center p-1 cursor-pointer select-none border backdrop-blur-sm overflow-hidden","text-[11px] sm:text-sm font-medium leading-tight select-none",Q.isCompleted?"text-white scale-110 font-semibold":"text-slate-300","bg-bg-card/90 border-white/20 shadow-md hover:border-white/40 hover:bg-bg-card/95 transition-all duration-200",Q.isCompleted&&!Q.isFreeSpace&&"bg-gradient-to-br from-accent-primary/30 to-accent-secondary/30 border-accent-primary/50 shadow-[0_0_15px_rgba(139,92,246,0.15)]",Q.isFreeSpace&&"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50",x&&"border-dashed border-slate-500"),children:[w.jsx("div",{className:"w-full h-full flex items-center justify-center text-center relative z-10",children:w.jsx("div",{className:"w-full h-full flex items-center justify-center p-1",onClick:ht=>{x&&(ht.stopPropagation(),Ql(Re))},children:w.jsx("span",{className:fn("leading-tight break-words w-full",Q.isFreeSpace?"text-lg font-bold text-accent-gold":"font-semibold line-clamp-3 sm:line-clamp-4",Q.isCompleted&&!Q.isFreeSpace&&"text-white"),style:!Q.isFreeSpace&&!Q.isCompleted?{color:Q.style?.color||"#cbd5e1",fontWeight:Q.style?.bold?"bold":"600",fontStyle:Q.style?.italic?"italic":"normal",fontSize:Q.style?.fontSize==="sm"?"12px":Q.style?.fontSize==="lg"?"18px":Q.style?.fontSize==="xl"?"22px":void 0}:void 0,children:Q.text})})}),Q.dueDate&&!Q.isCompleted&&!y&&w.jsxs("div",{className:fn("flex items-center gap-1 mt-1 text-[10px] font-medium absolute bottom-1 right-1 px-1 rounded bg-black/40 backdrop-blur-sm",(Q.dueDate.toDate?Q.dueDate.toDate():new Date(Q.dueDate))<new Date?"text-red-400":"text-slate-400"),children:[w.jsx(T9,{size:8}),w.jsx("span",{children:(Q.dueDate.toDate?Q.dueDate.toDate():new Date(Q.dueDate)).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),Q.isCompleted&&!Q.isFreeSpace&&!x&&w.jsxs(w.Fragment,{children:[w.jsx(ct.div,{initial:{scale:0},animate:{scale:1},className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-20",children:w.jsx(_l,{className:"w-12 h-12 text-white"})}),w.jsx("div",{className:"absolute top-0.5 right-0.5 w-1.5 h-1.5 bg-accent-primary rounded-full shadow-[0_0_5px_rgba(139,92,246,0.8)]"}),Q.proofPhotos&&Q.proofPhotos.length>0&&w.jsxs("div",{className:"absolute bottom-0.5 left-0.5 p-0.5 bg-accent-gold/80 rounded-sm flex items-center gap-0.5",children:[w.jsx(cx,{className:"w-2.5 h-2.5 text-black"}),Q.proofPhotos.length>1&&w.jsx("span",{className:"text-[8px] font-bold text-black",children:Q.proofPhotos.length})]})]}),!Q.isFreeSpace&&!x&&(Q.targetCount||1)>1&&w.jsxs("div",{className:fn("absolute bottom-0.5 right-0.5 px-1 py-0.5 rounded text-[8px] font-bold",Q.isCompleted?"bg-green-500/80 text-white":(Q.currentCount||0)>0?"bg-amber-500/80 text-white":"bg-slate-600/80 text-slate-300"),children:[Q.currentCount||0,"/",Q.targetCount]})]},Q.id))})}),w.jsxs(ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-[500px] glass-panel p-4 flex flex-col gap-4",children:[w.jsxs("div",{className:"w-full",children:[w.jsxs("div",{className:"flex justify-between text-xs text-slate-300 mb-1.5 px-1",children:[w.jsx("span",{className:"font-semibold",children:"Progress"}),w.jsxs("div",{className:"flex gap-3",children:[w.jsxs("span",{className:"font-mono text-accent-gold font-bold",children:[p,"/12 Bingos"]}),w.jsxs("span",{className:"font-mono text-accent-primary",children:[Math.round(ls),"%"]})]})]}),w.jsx("div",{className:"h-3 bg-bg-dark/50 rounded-full overflow-hidden border border-white/5",children:w.jsx(ct.div,{className:"h-full bg-gradient-to-r from-accent-primary to-accent-secondary relative",initial:{width:0},animate:{width:`${ls}%`},transition:{duration:1,ease:"easeOut"},children:w.jsx("div",{className:"absolute top-0 right-0 bottom-0 w-[1px] bg-white/50 shadow-[0_0_10px_white]"})})})]}),w.jsx("div",{className:"flex justify-center gap-2",children:x?w.jsx(w.Fragment,{children:w.jsxs("div",{className:"flex gap-2 w-full",children:[w.jsx("button",{onClick:()=>I(!1),className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-white/5 text-slate-300 border border-white/10 hover:bg-white/10 transition-all",children:"Cancel"}),w.jsxs("button",{onClick:()=>{R(P),I(!1)},className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-green-500/20 text-green-200 border border-green-500/50 hover:bg-green-500/30 transition-all flex items-center justify-center gap-2",children:[w.jsx(_l,{size:16}),"Save Changes"]})]})}):w.jsxs("div",{className:"flex gap-2 justify-center w-full flex-wrap",children:[!y&&w.jsxs(w.Fragment,{children:[w.jsxs("button",{onClick:()=>{L([...a]),I(!0)},className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[w.jsx(fx,{size:12}),"Edit Board"]}),w.jsxs("button",{onClick:vi,className:"flex-1 py-2 px-4 text-xs font-medium text-red-400 hover:text-red-300 transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[w.jsx(P9,{size:12}),"Jumble & Finalize"]})]}),w.jsxs("button",{onClick:()=>window.print(),className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[w.jsx(D9,{size:12}),"Print Status"]})]})})]}),w.jsx(Ji,{children:m&&!_o&&w.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:w.jsxs(ct.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:"glass-panel p-8 text-center max-w-sm w-full relative overflow-hidden border-accent-gold/30",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-accent-gold/10 to-transparent pointer-events-none"}),w.jsx(ct.div,{animate:{rotate:[0,10,-10,0]},transition:{repeat:1/0,duration:2},className:"inline-block",children:w.jsx(lx,{className:"w-20 h-20 text-accent-gold mx-auto mb-4 drop-shadow-[0_0_15px_rgba(251,191,36,0.5)]"})}),w.jsx("h2",{className:"text-4xl font-heading font-bold text-transparent bg-clip-text bg-gradient-to-r from-accent-gold via-white to-accent-secondary mb-2",children:"BINGO!"}),w.jsx("p",{className:"text-slate-300 mb-8 leading-relaxed",children:"2026 is off to an amazing start!"}),w.jsx("button",{onClick:Jn,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-[0_0_20px_rgba(139,92,246,0.4)] transition-all transform hover:scale-105",children:"Keep Playing"})]})})}),w.jsx(Ji,{children:z&&w.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:()=>N(!1),children:w.jsxs(ct.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-bg-dark border border-accent-gold/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl relative overflow-hidden",onClick:Q=>Q.stopPropagation(),children:[w.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Edit Tile"}),w.jsx("div",{className:"mb-4 flex justify-center",children:w.jsx("div",{className:"w-32 h-32 rounded-lg bg-bg-card/80 border border-white/10 flex items-center justify-center p-2 text-center overflow-hidden",children:w.jsx("span",{className:fn("font-hand font-semibold leading-tight break-words"),style:{color:K.color||"#ffffff",fontWeight:K.bold?"bold":"600",fontStyle:K.italic?"italic":"normal",fontSize:K.fontSize==="sm"?"12px":K.fontSize==="lg"?"18px":K.fontSize==="xl"?"22px":"16px"},children:G||"Preview Text"})})}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Text Content"}),w.jsx("textarea",{className:"w-full bg-black/20 text-white rounded-lg p-3 border border-white/10 focus:border-accent-primary outline-none min-h-[80px]",value:G,onChange:Q=>S(Q.target.value),placeholder:"Enter bingo task..."})]}),w.jsxs("div",{className:"mb-6 space-y-3",children:[w.jsxs("div",{children:[w.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Color"}),w.jsx("div",{className:"flex gap-2 flex-wrap",children:["#ffffff","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#ec4899","#a855f7"].map(Q=>w.jsx("button",{className:fn("w-6 h-6 rounded-full border border-white/10 transition-transform active:scale-90",K.color===Q&&"ring-2 ring-white scale-110"),style:{backgroundColor:Q},onClick:()=>J(Re=>({...Re,color:Q}))},Q))})]}),w.jsxs("div",{className:"flex gap-4",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Size"}),w.jsx("div",{className:"flex bg-black/20 rounded-lg p-1",children:["sm","base","lg","xl"].map(Q=>w.jsx("button",{onClick:()=>J(Re=>({...Re,fontSize:Q})),className:fn("flex-1 py-1 text-[10px] font-bold rounded transition-colors uppercase",(K.fontSize||"base")===Q?"bg-accent-primary text-white":"text-slate-400 hover:text-white"),children:Q==="base"?"M":Q},Q))})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Style"}),w.jsxs("div",{className:"flex gap-1 bg-black/20 rounded-lg p-1",children:[w.jsx("button",{onClick:()=>J(Q=>({...Q,bold:!Q.bold})),className:fn("w-8 h-full rounded flex items-center justify-center font-bold transition-colors",K.bold?"bg-white text-black":"text-slate-400 hover:text-white"),children:"B"}),w.jsx("button",{onClick:()=>J(Q=>({...Q,italic:!Q.italic})),className:fn("w-8 h-full rounded flex items-center justify-center italic transition-colors font-serif",K.italic?"bg-white text-black":"text-slate-400 hover:text-white"),children:"I"})]})]})]})]}),w.jsxs("div",{className:"space-y-4 mb-6 pt-4 border-t border-white/10",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Target Count"}),w.jsx("input",{type:"number",min:"1",max:"100",value:ae,onChange:Q=>ge(parseInt(Q.target.value)||1),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors"}),w.jsx("p",{className:"text-xs text-slate-500",children:"How many times to complete this?"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Due Date (Optional)"}),w.jsx("input",{type:"date",value:ye,onChange:Q=>me(Q.target.value),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors [color-scheme:dark]"})]})]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{onClick:()=>N(!1),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),w.jsx("button",{onClick:bo,className:"flex-1 py-3 px-4 bg-gradient-to-r from-violet-600 to-fuchsia-600 rounded-xl font-bold text-white shadow-lg hover:shadow-violet-500/25 active:scale-95 transition-all",children:"Ok"})]})]})})}),w.jsx(Ji,{children:ot&&wn!==null&&w.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{$e(!1),fi(null)},children:w.jsx(ct.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-bg-dark border border-accent-primary/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl",onClick:Q=>Q.stopPropagation(),children:(()=>{const Q=Fi[wn],Re=Q?.targetCount||1,ht=Q?.currentCount||0,jt=Re>1,pt=ht>0;return w.jsxs(w.Fragment,{children:[w.jsx("h3",{className:"text-xl font-bold text-white mb-2 text-center",children:pt?"Add Progress":"Complete Task"}),w.jsxs("p",{className:"text-slate-300 text-sm text-center mb-2 line-clamp-2",children:["",Q?.text,""]}),jt&&w.jsx("div",{className:"text-center mb-4",children:w.jsxs("span",{className:fn("inline-block px-3 py-1 rounded-full text-sm font-bold",pt?"bg-amber-500/20 text-amber-400":"bg-slate-600/50 text-slate-400"),children:["Progress: ",ht," / ",Re]})}),w.jsxs("div",{className:"space-y-3",children:[w.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:mi,className:"hidden",onChange:async Vt=>{const wt=Vt.target.files?.[0];if(wt&&wn!==null){Ht(!0);try{await M(wn,wt),$e(!1),fi(null)}catch{alert("Failed to upload photo. Please try again.")}finally{Ht(!1)}}}}),w.jsxs("button",{onClick:()=>mi.current?.click(),disabled:di,className:"w-full py-3 px-4 bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-amber-500/25 active:scale-95 transition-all disabled:opacity-50",children:[w.jsx(cx,{size:20}),di?"Uploading...":jt?"Add Photo & +1":"Add Photo & Complete"]}),w.jsxs("button",{onClick:()=>{f(wn),$e(!1),fi(null)},disabled:di,className:"w-full py-3 px-4 bg-gradient-to-r from-green-600 to-emerald-600 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-green-500/25 active:scale-95 transition-all disabled:opacity-50",children:[w.jsx(_l,{size:20}),jt?`Mark +1 (${ht+1}/${Re})`:"Mark Complete"]}),pt&&w.jsxs("button",{onClick:()=>{V(wn),$e(!1),fi(null)},disabled:di,className:"w-full py-2 rounded-xl font-semibold text-red-400 hover:bg-red-500/10 transition-colors disabled:opacity-50",children:["Remove Progress (",ht-1,"/",Re,")"]}),w.jsx("button",{onClick:()=>{$e(!1),fi(null)},disabled:di,className:"w-full py-3 rounded-xl font-semibold bg-white/5 text-slate-400 hover:bg-white/10 transition-colors disabled:opacity-50",children:"Cancel"})]})]})})()})})}),w.jsx(Ji,{children:as&&lt&&lt.proofPhotos&&lt.proofPhotos.length>0&&w.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",onClick:()=>{pi(!1),gi(null),Wn(null)},children:w.jsxs(ct.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"relative max-w-lg w-full",onClick:Q=>Q.stopPropagation(),children:[w.jsx("button",{onClick:()=>{pi(!1),gi(null),Wn(null)},className:"absolute -top-12 right-0 p-2 text-white/70 hover:text-white transition-colors z-10",children:w.jsx(ao,{size:28})}),w.jsxs("div",{className:"rounded-2xl overflow-hidden border border-white/10 shadow-2xl",children:[w.jsxs("div",{className:"relative bg-black",children:[w.jsx("img",{src:lt.proofPhotos[Ui],alt:`Proof photo ${Ui+1}`,className:"w-full h-auto max-h-[50vh] object-contain"}),lt.proofPhotos.length>1&&w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>ln(Q=>Q>0?Q-1:lt.proofPhotos.length-1),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:w.jsx(a2,{size:24})}),w.jsx("button",{onClick:()=>ln(Q=>Q<lt.proofPhotos.length-1?Q+1:0),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:w.jsx(o2,{size:24})})]}),w.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/60 rounded-full text-white text-xs font-medium",children:[Ui+1," / ",lt.proofPhotos.length]})]}),lt.proofPhotos.length>1&&w.jsx("div",{className:"flex gap-1 p-2 bg-bg-dark/80 overflow-x-auto",children:lt.proofPhotos.map((Q,Re)=>w.jsx("button",{onClick:()=>ln(Re),className:fn("w-12 h-12 rounded-md overflow-hidden border-2 flex-shrink-0 transition-all",Ui===Re?"border-accent-primary":"border-transparent opacity-60 hover:opacity-100"),children:w.jsx("img",{src:Q,alt:"",className:"w-full h-full object-cover"})},Re))}),w.jsxs("div",{className:"p-4 bg-bg-dark/95",children:[w.jsx("p",{className:"text-white font-semibold mb-1",children:lt.text}),w.jsxs("p",{className:"text-slate-400 text-xs",children:["Completed by ",lt.completedBy,"  ",Ea(lt.completedAt)]})]})]}),w.jsx("div",{className:"mt-4 flex gap-2",children:lt.proofPhotos.length<5&&w.jsxs(w.Fragment,{children:[w.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:xt,className:"hidden",onChange:async Q=>{const Re=Q.target.files?.[0];if(Re&&os!==null&&lt){Pn(!0);try{const ht=await O(os,Re);if(ht){const jt=[...lt.proofPhotos||[],ht];gi({...lt,proofPhotos:jt}),ln(jt.length-1)}}catch{alert("Failed to add photo. Max 5 photos allowed.")}finally{Pn(!1),xt.current&&(xt.current.value="")}}}}),w.jsxs("button",{onClick:()=>xt.current?.click(),disabled:Qt,className:"flex-1 py-2 px-4 bg-accent-gold/20 text-accent-gold rounded-xl font-medium flex items-center justify-center gap-2 hover:bg-accent-gold/30 transition-colors disabled:opacity-50",children:[w.jsx(kd,{size:18}),Qt?"Adding...":`Add Photo (${lt.proofPhotos.length}/5)`]})]})}),w.jsx("button",{onClick:()=>{const Q=a.findIndex(Re=>Re.id===lt.id);Q!==-1&&f(Q),pi(!1),gi(null),Wn(null)},className:"mt-2 w-full py-2 text-sm text-red-400 hover:text-red-300 transition-colors",children:"Mark as In Progress"})]})})}),w.jsx(Ji,{children:Pe&&Ke&&w.jsxs(ct.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-24 left-1/2 -translate-x-1/2 bg-slate-900 border border-white/20 text-white px-6 py-3 rounded-full shadow-2xl z-50 flex items-center gap-4",children:[w.jsxs("span",{children:["Marked as ",Ke.wasCompleted?"incomplete":"complete"]}),w.jsx("button",{onClick:()=>{f(Ke.index),At(!1)},className:"font-bold text-accent-primary hover:text-white transition-colors",children:"Undo"}),w.jsx("button",{onClick:()=>At(!1),className:"text-slate-400 hover:text-white",children:w.jsx(ao,{size:16})})]})}),w.jsx(Ji,{children:Se&&w.jsx(ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",children:w.jsxs(ct.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-slate-900 border border-white/20 rounded-3xl p-8 max-w-sm w-full shadow-2xl relative overflow-hidden",children:[w.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-20 pointer-events-none",children:w.jsx(lx,{className:"w-32 h-32 text-accent-gold rotate-12"})}),w.jsxs("div",{className:"relative z-10 text-center",children:[w.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Welcome! "}),w.jsxs("p",{className:"text-slate-400 mb-8 h-12",children:[Oe===0&&"Tap any tile to mark it as complete.",Oe===1&&"Start 'Edit Mode' to add your own tasks.",Oe===2&&"Invite friends to play together!"]}),w.jsx("div",{className:"flex justify-center mb-8",children:w.jsx("div",{className:"w-32 h-32 bg-black/40 rounded-2xl border border-white/10 flex items-center justify-center relative",children:w.jsxs(Ji,{mode:"wait",children:[Oe===0&&w.jsxs(ct.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute inset-0 flex items-center justify-center",children:[w.jsx("div",{className:"w-16 h-16 bg-accent-primary/20 rounded-lg border border-accent-primary flex items-center justify-center",children:w.jsx(_l,{className:"w-8 h-8 text-white"})}),w.jsx(ct.div,{animate:{scale:[1,1.2,1],opacity:[0,1,0]},transition:{repeat:1/0,duration:1.5},className:"absolute w-20 h-20 rounded-full border-2 border-white/50"})]},"step0"),Oe===1&&w.jsx(ct.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:w.jsx(fx,{className:"w-12 h-12 text-blue-400"})},"step1"),Oe===2&&w.jsx(ct.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:w.jsx(qg,{className:"w-12 h-12 text-green-400"})},"step2")]})})}),w.jsx("div",{className:"flex gap-2 justify-center mb-6",children:[0,1,2].map(Q=>w.jsx("div",{className:fn("w-2 h-2 rounded-full transition-colors",Q===Oe?"bg-white":"bg-white/20")},Q))}),w.jsx("button",{onClick:bn,className:"w-full py-3 bg-white text-black font-bold rounded-xl hover:bg-slate-200 transition-colors",children:Oe===2?"Let's Play!":"Next"})]})]})})})]}),w.jsxs("div",{className:"only-print hidden",children:[w.jsxs("div",{className:"flex justify-between items-end mb-4 border-b-2 border-black pb-2",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("img",{src:"/logo.png",className:"h-12 w-auto",alt:"Logo"}),w.jsx("h1",{className:"text-2xl font-bold",children:"2026 Edition"})]}),w.jsxs("div",{className:"text-right",children:[w.jsx("p",{className:"text-xs uppercase tracking-widest mb-0.5",children:"Status Report"}),w.jsxs("p",{className:"text-xl font-bold",children:[p," / 12 Bingos"]})]})]}),w.jsx("div",{className:"grid grid-cols-5 gap-0 border-2 border-black",children:a.slice(0,25).map(Q=>w.jsxs("div",{className:"aspect-square border border-black p-1.5 flex flex-col justify-between relative overflow-hidden min-h-[100px]",children:[w.jsx("div",{className:"text-[11px] font-bold leading-tight z-10",children:Q.text}),Q.isCompleted&&!Q.isFreeSpace&&w.jsxs("div",{className:"mt-0.5 relative z-10",children:[w.jsx("div",{className:"text-[7px] uppercase font-bold text-slate-700",children:"Completed by:"}),w.jsx("div",{className:"text-[9px] font-mono font-bold leading-none",children:Q.completedBy||"User"}),w.jsx("div",{className:"text-[7px] text-slate-600 mt-0.5",children:Ea(Q.completedAt)})]}),Q.isCompleted&&w.jsx("div",{className:"absolute bottom-1 right-1 text-3xl font-bold text-slate-200 opacity-60 pointer-events-none z-0",children:""}),Q.isFreeSpace&&w.jsx("div",{className:"absolute inset-0 flex items-center justify-center font-bold text-xl rotate-[-45deg] opacity-20",children:"FREE"})]},Q.id))}),w.jsxs("div",{className:"mt-4 text-[9px] text-center border-t border-black pt-2 flex justify-between text-slate-500",children:[w.jsxs("span",{children:["Generated on ",new Date().toLocaleDateString()," at ",new Date().toLocaleTimeString()]}),w.jsx("span",{children:"bingo.mysunsar.com"})]})]}),w.jsx(qz,{items:a,isOpen:vo,onClose:()=>zs(!1)}),fe&&w.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[w.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>pe(!1)}),w.jsxs("div",{className:"relative w-full max-w-md bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[w.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[w.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[w.jsx(qg,{className:"w-5 h-5 text-accent-primary"}),"Shared With"]}),w.jsx("button",{onClick:()=>pe(!1),className:"text-slate-400 hover:text-white",children:w.jsx(ao,{className:"w-5 h-5"})})]}),w.jsxs("div",{className:"p-6",children:[q.length===0?w.jsx("div",{className:"text-center text-slate-400 py-8",children:w.jsx("p",{children:"This board hasn't been shared yet."})}):w.jsx("div",{className:"space-y-4 mb-6",children:q.map(Q=>w.jsxs("div",{className:"flex items-center justify-between bg-white/5 p-3 rounded-xl border border-white/5",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold text-white",children:Q.name.charAt(0)}),w.jsxs("div",{children:[w.jsx("div",{className:"text-sm font-semibold text-white",children:Q.name}),w.jsxs("div",{className:"text-xs text-slate-400",children:[Q.email,"  ",Q.role]})]})]}),w.jsx("button",{onClick:()=>Ft(Q.id,Q.name),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Remove User",children:w.jsx(h2,{size:16})})]},Q.id))}),w.jsxs("button",{onClick:on,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all flex items-center justify-center gap-2",children:[w.jsx(kd,{size:18}),"Invite New User"]})]})]})]})]})},Gz=()=>{const{user:t,logout:e}=Hl(),n=d2(),{openSettings:s}=C0(),a=Pd(),[l,u]=k.useState([]),[f,m]=k.useState(!0),[p,y]=k.useState(!1),[v,E]=k.useState(null),R={default:{name:"2026 Goals ",items:["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"]},fitness:{name:"Fitness Challenge ",items:["Run a 5k","Do 50 pushups in a row","Try a yoga class","Drink 3L water for a week","No sugar for 7 days","Go for a hike","Meal prep for a week","Climb a bouldering wall","Try Pilates","Walk 15k steps in a day","Do a spin class","Bike 20km","FREE SPACE","Touch your toes","Hold a plank for 2 min","Try CrossFit","Go swimming","Meditate for 10 mins x 7","Try a new sport","Sleep 8 hours x 5 days","Do 100 squats","Run a 10k","Go to the gym 4x in a week","Stretch daily for a week","Join a run club"]},couples:{name:"Couple Goals ",items:["Date night (no phones)","Cook a meal together","Weekend getaway","Watch a whole series","Breakfast in bed","Go for a long walk","Plan a future trip","Give each other massages","Recreate first date","Take a dance class","Stargazing date","Write love letters","FREE SPACE","Visit a winery/brewery","Do a puzzle together","Double date","Sunset picnic","Bake something sweet","Volunteer together","Learn a couple's skill","Game night","Make a photo album","Try a new restaurant","Surprise gift","Kiss in the rain"]},personal:{name:"Personal Growth ",items:["Read 1 book/month","Learn a new language","Start a journal","Digital detox (24h)","Meditate daily (1 week)","Drink 2L water daily","Wake up at 6am (1 week)","Declutter a room","Learn to invest","Take a solo trip","Volunteer","Compliment a stranger","FREE SPACE","No social media (weekend)","Learn an instrument","Cook a new cuisine","Write a gratitude list","Take a cold shower","Listen to a podcast","Fix sleep schedule","Walk 10k steps","Call an old friend","Create a vision board","Save 10% income","Take a course"]},knitting:{name:"Knitting Goals ",items:["Finish a WIP","Cast on a sweater","Learn brioche","Knit socks","Stash bust project","Try colorwork","Knit a hat","Use luxury yarn","Fix a mistake","Knit a gift","Block a project","Organize needles","FREE SPACE","Try a new fiber","Knit in public","Attend a knit night","Learn magic loop","Design a pattern","Teach someone to knit","Finish a blanket","Knit a shawl","Try cables","Buy souvenir yarn","Weave in ends immediately","Knit a gauge swatch"]},weaving:{name:"Weaving Goals ",items:["Warp the loom","Weave a rug","Try a new structure","Sample a pattern","Use handspun yarn","Finish a scarf","Hemstitching","Fix a broken warp","Weave a towel","Try tapestry","Mix fibers","Organize yarn stash","FREE SPACE","Weave a placemat","Attend a workshop","Try doublewidth","Weave transparency","Calculate warp correctly","Finish raw edges","Weave with rags","Try tablet weaving","Rigid heddle project","Floor loom project","Visit a mill","Share a project online"]},spinning:{name:"Spinning Goals ",items:["Spin 100g fiber","Ply a yarn","Try a new breed","Spin lace weight","Spin art yarn","Comb fleece","Card a batt","Spin on a drop spindle","Clean the wheel","Spin distinct colors","Skein and wash","Fractal spin","FREE SPACE","Spin silk","Spin cotton","Navajo ply","Spin for a project","Participate in Tour de Fleece","Sample a blend","Teach spinning","Spin consistent grist","Dye fiber","Blend colors on hackle","Spin exotic fiber","Fill a bobbin"]},painting:{name:"Painting Goals ",items:["Paint a landscape","Try watercolors","Paint a portrait","Mix a new color","Paint en plein air","Visit a gallery","Finish a sketchbook","Try oils","Paint a still life","Use a palette knife","Paint an animal","Try abstract","FREE SPACE","Clean brushes properly","Paint on canvas","Paint on wood","Follow a tutorial","Paint a sky","Try gouache","Varnish a painting","Frame a piece","Paint daily for a week","Recreate a master","Paint a self-portrait","Host a paint night"]},corporate:{name:"Corporate Bingo ",items:['"Circle back"',`"Let's take this offline"`,"Meeting that could be an email",'"Synergy"','"Low hanging fruit"','"Touch base"',"Someone forgets to mute","Screen share fails",'"Can you see my screen?"',"Awkward silence",'"Bandwidth"','"Deep dive"',"FREE SPACE","Pet interrupts video call","Echo on the line",'"Per my last email"','"Drill down"','"Out of pocket"','"Hard stop"','"Boil the ocean"',"Reply All disaster",'"Move the needle"','"Blue sky thinking"','"Paradigm shift"','"Quick win"']},travel:{name:"Travel Bucket List ",items:["Visit a new continent","Go on a solo trip","See the Northern Lights","Swim in an ocean","Road trip across 3 states","Fly First Class","Visit a National Park","Eat street food","Stay in a hostel","Learn 'Hello' in 5 languages","Visit a Wonder of the World","Go on a cruise","FREE SPACE","Make a travel vlog","Sleep under the stars","Visit a castle","Ride a train","See a volcano","Go scuba diving","Watch a sunrise on a mountain","Visit a winery","Ride a camel/elephant","Go skiing/snowboarding","Visit a tropical island","Send a postcard"]}};k.useEffect(()=>{if(!t)return;(async()=>{try{console.log("Fetching boards for user:",t.uid,t.email);const F=new Map;try{const x=_d(dl(Qn,"boards"),bd(`members.${t.uid}`,"in",["owner","editor","viewer"])),I=await hu(x);console.log("Boards with membership found:",I.docs.length),I.docs.forEach(P=>{const L=P.data(),z=L.members?.[t.uid],N=L.members||{},fe=Object.values(N).filter(pe=>pe!=="owner").length;F.set(P.id,{id:P.id,...L,sharedCount:fe,myRole:z})})}catch(x){console.error("Error querying boards by membership:",x)}try{const x=_d(dl(Qn,"years"),bd("ownerId","==",t.uid)),I=await hu(x);console.log("Legacy boards (years collection) found:",I.docs.length),I.docs.forEach(P=>{const L=P.data();F.set(`legacy_${P.id}`,{id:P.id,title:L.title||"2026 Bingo",createdAt:L.createdAt,isLocked:L.isLocked,ownerId:L.ownerId,myRole:"owner"})})}catch(x){console.log("Years collection query failed:",x)}try{const x=await hu(dl(Qn,"years"));console.log("All years docs:",x.docs.length),x.docs.forEach(I=>{const P=I.data();if(P.ownerId===t.uid||P.members?.[t.uid]){const L=`legacy_years_${I.id}`;F.has(L)||F.set(L,{id:I.id,title:P.title||`${I.id} Bingo`,createdAt:P.createdAt,isLocked:P.isLocked,ownerId:P.ownerId,myRole:P.ownerId===t.uid?"owner":P.members?.[t.uid]||"viewer"})}})}catch(x){console.log("Direct years fetch failed:",x)}const H=Array.from(F.values()),oe=H.filter(x=>x.myRole!=="owner"&&x.ownerId),re=[...new Set(oe.map(x=>x.ownerId))],de={};for(const x of re)try{const I=await Ku(Ds(Qn,"users",x));if(I.exists()){const P=I.data();de[x]=P.displayName||P.email||"Unknown"}}catch{console.log("Could not fetch owner info for:",x)}const D=H.map(x=>x.myRole!=="owner"&&x.ownerId&&de[x.ownerId]?{...x,ownerName:de[x.ownerId]}:x);console.log("Total boards to display:",D.length,D.map(x=>x.title)),u(D)}catch(F){console.error("Error fetching boards:",F)}finally{m(!1)}})()},[t]);const M=async j=>{if(!t)return;const F=R[j],H=await n.prompt("What would you like to call this board?",{title:"Board Title",inputDefaultValue:F.name,confirmText:"Create"});if(H)try{const re=[...F.items.filter(I=>I.trim().toUpperCase()!=="FREE SPACE"&&I!=="FREE SPACE")].sort(()=>.5-Math.random());for(;re.length<24;)re.push("Bonus Task ");const de=[];let D=0;for(let I=0;I<25;I++)I===12?de.push({id:I,text:"FREE SPACE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(de.push({id:I,text:re[D],isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),D++);const x=await mC(dl(Qn,"boards"),{title:H,ownerId:t.uid,members:{[t.uid]:"owner"},items:de,createdAt:He.now(),isLocked:!1,lastUpdated:He.now()});a(`/board/${x.id}`)}catch(oe){console.error("Error creating board:",oe),await n.alert("Failed to create board. Please try again.",{title:"Error",type:"error"})}finally{y(!1)}};if(f)return w.jsx("div",{className:"min-h-screen bg-bg-dark flex items-center justify-center text-white",children:"Loading Dashboard..."});const O=async(j,F,H)=>{if(j.stopPropagation(),await n.confirm(`This will permanently delete "${H}" and all its data.

This action cannot be undone.`,{title:"Delete Board?",confirmText:"Delete",type:"error"}))try{await dC(Ds(Qn,"boards",F)),u(re=>re.filter(de=>de.id!==F)),await n.alert("Board deleted successfully.",{title:"Deleted",type:"success"})}catch(re){console.error("Error deleting board:",re),await n.alert("Failed to delete board. Please try again.",{title:"Error",type:"error"})}},V=async(j,F,H)=>{if(j.stopPropagation(),!t)return;if(await n.confirm(`You will no longer have access to "${H}".

You can ask the owner to re-share it if needed.`,{title:"Leave Board?",confirmText:"Leave",type:"warning"}))try{await Di(Ds(Qn,"boards",F),{[`members.${t.uid}`]:vd()}),u(re=>re.filter(de=>de.id!==F)),await n.alert("You have left the board.",{title:"Left Board",type:"success"})}catch(re){console.error("Error leaving board:",re),await n.alert("Failed to leave board. Please try again.",{title:"Error",type:"error"})}};return w.jsxs("div",{className:"min-h-screen bg-bg-dark text-white p-6 relative",children:[w.jsxs("div",{className:"max-w-6xl mx-auto",children:[w.jsxs("header",{className:"flex justify-between items-center mb-12 py-2",children:[w.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-10 sm:h-12 w-auto object-contain cursor-pointer active:scale-95 transition-transform"}),w.jsxs("div",{className:"flex gap-2 items-center",children:[w.jsx("button",{onClick:s,className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Settings",children:w.jsx(u2,{size:20})}),w.jsx("button",{onClick:e,className:"bg-white/5 hover:bg-white/10 px-4 py-2 rounded-xl text-sm font-semibold transition-colors border border-white/10 hover:border-white/20",children:"Logout"})]})]}),w.jsxs("div",{className:"mb-10",children:[w.jsxs("h1",{className:"text-4xl sm:text-5xl font-extrabold text-white tracking-tight",children:["My ",w.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent italic",children:"Boards"})]}),w.jsxs("p",{className:"text-slate-400 mt-2 text-base sm:text-lg",children:["Welcome back, ",w.jsx("span",{className:"text-accent-primary font-medium",children:t?.displayName?.split(" ")[0]||"Bingo Player"})]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[w.jsxs("button",{onClick:()=>y(!0),className:"group relative flex flex-col items-center justify-center h-48 rounded-2xl border-2 border-dashed border-slate-700 bg-white/5 hover:bg-white/10 hover:border-accent-primary transition-all cursor-pointer",children:[w.jsx("div",{className:"w-12 h-12 rounded-full bg-accent-primary/20 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:w.jsx(kd,{className:"w-6 h-6 text-accent-primary"})}),w.jsx("span",{className:"font-semibold text-slate-300 group-hover:text-white",children:"Create New Board"})]}),l.filter(j=>j.myRole==="owner").map(j=>{const H=j.id==="2026"||!j.ownerId?`/board/legacy/${j.id}`:`/board/${j.id}`;return w.jsxs("div",{onClick:oe=>{oe.preventDefault(),console.log("Navigating to board:",H),a(H)},className:"group relative h-48 rounded-2xl bg-gradient-to-br from-slate-800 to-slate-900 border border-white/10 hover:border-accent-primary/50 p-6 flex flex-col justify-between cursor-pointer transition-all hover:translate-y-[-4px] hover:shadow-xl overflow-hidden active:scale-[0.99]",children:[w.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:w.jsx("button",{onClick:oe=>O(oe,j.id,j.title),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-white/10 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",title:"Delete Board",children:w.jsx(h2,{size:18})})}),w.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("div",{className:"h-7 mb-2",children:j.sharedCount&&j.sharedCount>0&&w.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider bg-emerald-500/20 text-emerald-400 border border-emerald-500/30",children:[w.jsx(q9,{size:10}),"Shared with ",j.sharedCount]})}),w.jsx("h3",{className:"text-xl font-bold text-white mb-1.5 line-clamp-2 pr-8 group-hover:text-accent-primary transition-colors",children:j.title}),w.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[w.jsx(Dd,{className:"w-3.5 h-3.5"}),j.createdAt?.toDate?j.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),w.jsx("div",{className:"mt-4",children:w.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-primary/10 text-accent-primary border border-accent-primary/20 group-hover:bg-accent-primary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},j.id)})]}),l.filter(j=>j.myRole!=="owner").length>0&&w.jsxs(w.Fragment,{children:[w.jsxs("h2",{className:"text-xl font-bold text-white mt-10 mb-6 flex items-center gap-2",children:[w.jsx("span",{className:"bg-gradient-to-r from-accent-secondary to-pink-500 bg-clip-text text-transparent",children:"Shared With Me"}),w.jsxs("span",{className:"text-sm font-normal text-slate-500",children:["(",l.filter(j=>j.myRole!=="owner").length,")"]})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.filter(j=>j.myRole!=="owner").map(j=>{const H=j.id==="2026"||!j.ownerId?`/board/legacy/${j.id}`:`/board/${j.id}`;return w.jsxs("div",{onClick:oe=>{oe.preventDefault(),console.log("Navigating to shared board:",H),a(H)},className:"group relative h-48 rounded-2xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-white/10 hover:border-accent-secondary/50 p-6 flex flex-col justify-between cursor-pointer transition-all hover:translate-y-[-4px] hover:shadow-xl overflow-hidden active:scale-[0.99]",children:[w.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity pointer-events-none",children:w.jsx(l2,{className:"w-24 h-24"})}),w.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:w.jsx("button",{onClick:oe=>V(oe,j.id,j.title),className:"p-2 text-slate-500 hover:text-amber-400 hover:bg-white/10 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",title:"Leave Board",children:w.jsx(c2,{size:18})})}),w.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("div",{className:"h-7 mb-2",children:w.jsx("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider ${j.myRole==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/30":"bg-blue-500/20 text-blue-400 border border-blue-500/30"}`,children:j.myRole==="editor"?" Editor":" Viewer"})}),w.jsx("h3",{className:"text-xl font-bold text-white mb-1 line-clamp-1 pr-8",children:j.title}),j.ownerName&&w.jsxs("div",{className:"text-xs text-slate-500 mb-1.5",children:["Shared by ",w.jsx("span",{className:"text-slate-400",children:j.ownerName})]}),w.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[w.jsx(Dd,{className:"w-3.5 h-3.5"}),j.createdAt?.toDate?j.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),w.jsx("div",{className:"mt-4",children:w.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-secondary/10 text-accent-secondary border border-accent-secondary/20 group-hover:bg-accent-secondary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},j.id)})})]})]}),p&&w.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[w.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>{v?E(null):y(!1)}}),w.jsxs("div",{className:"relative w-full max-w-2xl bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[w.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center shrink-0",children:[w.jsx("h2",{className:"text-xl font-bold text-white",children:v?R[v].name:"Choose a Template"}),w.jsx("button",{onClick:()=>{v?E(null):y(!1)},className:"text-slate-400 hover:text-white",children:w.jsx(kd,{className:"w-6 h-6 rotate-45"})})]}),w.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:v?w.jsxs("div",{className:"space-y-6",children:[w.jsx("div",{className:"flex justify-center mb-6",children:w.jsx("div",{className:"aspect-square w-full max-w-[420px] grid grid-cols-5 gap-2 p-3 bg-slate-950/50 rounded-xl border border-white/10",children:R[v].items.slice(0,25).map((j,F)=>{const H=F===12,oe=j.trim().toUpperCase()==="FREE SPACE"||H;return w.jsx("div",{className:`
                                                            relative rounded-lg flex items-center justify-center p-1 text-center select-none overflow-hidden 
                                                            text-[8px] sm:text-[10px] leading-tight font-medium border shadow-sm
                                                            ${oe?"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50 text-accent-gold font-bold":"bg-white/5 border-white/10 text-slate-300"}
                                                        `,children:oe?"FREE":j},F)})})}),w.jsxs("div",{className:"flex gap-3 pt-4",children:[w.jsx("button",{onClick:()=>E(null),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Back"}),w.jsx("button",{onClick:()=>M(v),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all",children:"Create Board"})]})]}):w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(R).map(([j,F])=>w.jsxs("button",{onClick:()=>E(j),className:"flex flex-col items-start p-4 rounded-xl bg-white/5 hover:bg-white/10 border border-white/5 hover:border-accent-primary/50 transition-all text-left group",children:[w.jsx("h3",{className:"font-bold text-white group-hover:text-accent-primary transition-colors",children:F.name}),w.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Click to preview"})]},j))})})]})]})]})},Kz=()=>{const{user:t,loading:e}=Hl();return e?w.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-bg-dark text-slate-500",children:"Initializing..."}):t?w.jsx(LD,{children:w.jsxs(dD,{children:[w.jsx(ll,{path:"/",element:w.jsx(uT,{to:"/dashboard",replace:!0})}),w.jsx(ll,{path:"/dashboard",element:w.jsx(Gz,{})}),w.jsx(ll,{path:"/board/legacy/:yearId",element:w.jsx(wx,{})}),w.jsx(ll,{path:"/board/:boardId",element:w.jsx(wx,{})}),w.jsx(ll,{path:"*",element:w.jsx(uT,{to:"/dashboard",replace:!0})})]})}):w.jsx(Uz,{})};function $z(){return w.jsx(T3,{children:w.jsx(jz,{children:w.jsx($9,{children:w.jsx(Kz,{})})})})}console.log("Main.tsx full run");const Tx=document.getElementById("root");Tx?pN.createRoot(Tx).render(w.jsx(k.StrictMode,{children:w.jsx($z,{})})):console.error("Root not found");export{ca as C,js as F,jd as _,mn as a,Kx as b,lo as c,Mi as d,om as e,rv as g,mo as i,tv as p,Cs as r,nv as u};
