(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function jk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var py={exports:{}},Au={};var I1;function Ok(){if(I1)return Au;I1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Au.Fragment=e,Au.jsx=n,Au.jsxs=n,Au}var D1;function Vk(){return D1||(D1=1,py.exports=Ok()),py.exports}var y=Vk(),gy={exports:{}},qe={};var k1;function Lk(){if(k1)return qe;k1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function A(T){return T===null||typeof T!="object"?null:(T=x&&T[x]||T["@@iterator"],typeof T=="function"?T:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,R={};function O(T,U,X){this.props=T,this.context=U,this.refs=R,this.updater=X||D}O.prototype.isReactComponent={},O.prototype.setState=function(T,U){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,U,"setState")},O.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function H(){}H.prototype=O.prototype;function F(T,U,X){this.props=T,this.context=U,this.refs=R,this.updater=X||D}var re=F.prototype=new H;re.constructor=F,I(re,O.prototype),re.isPureReactComponent=!0;var te=Array.isArray;function ce(){}var k={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function P(T,U,X){var ee=X.ref;return{$$typeof:t,type:T,key:U,ref:ee!==void 0?ee:null,props:X}}function z(T,U){return P(T.type,U,T.props)}function B(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}function j(T){var U={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(X){return U[X]})}var V=/\/+/g;function be(T,U){return typeof T=="object"&&T!==null&&T.key!=null?j(""+T.key):U.toString(36)}function we(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(ce,ce):(T.status="pending",T.then(function(U){T.status==="pending"&&(T.status="fulfilled",T.value=U)},function(U){T.status==="pending"&&(T.status="rejected",T.reason=U)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function J(T,U,X,ee,me){var ye=typeof T;(ye==="undefined"||ye==="boolean")&&(T=null);var ge=!1;if(T===null)ge=!0;else switch(ye){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(T.$$typeof){case t:case e:ge=!0;break;case g:return ge=T._init,J(ge(T._payload),U,X,ee,me)}}if(ge)return me=me(T),ge=ee===""?"."+be(T,0):ee,te(me)?(X="",ge!=null&&(X=ge.replace(V,"$&/")+"/"),J(me,U,X,"",function(Ce){return Ce})):me!=null&&(B(me)&&(me=z(me,X+(me.key==null||T&&T.key===me.key?"":(""+me.key).replace(V,"$&/")+"/")+ge)),U.push(me)),1;ge=0;var _e=ee===""?".":ee+":";if(te(T))for(var Ee=0;Ee<T.length;Ee++)ee=T[Ee],ye=_e+be(ee,Ee),ge+=J(ee,U,X,ye,me);else if(Ee=A(T),typeof Ee=="function")for(T=Ee.call(T),Ee=0;!(ee=T.next()).done;)ee=ee.value,ye=_e+be(ee,Ee++),ge+=J(ee,U,X,ye,me);else if(ye==="object"){if(typeof T.then=="function")return J(we(T),U,X,ee,me);throw U=String(T),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return ge}function Y(T,U,X){if(T==null)return T;var ee=[],me=0;return J(T,ee,"","",function(ye){return U.call(X,ye,me++)}),ee}function $(T){if(T._status===-1){var U=T._result;U=U(),U.then(function(X){(T._status===0||T._status===-1)&&(T._status=1,T._result=X)},function(X){(T._status===0||T._status===-1)&&(T._status=2,T._result=X)}),T._status===-1&&(T._status=0,T._result=U)}if(T._status===1)return T._result.default;throw T._result}var W=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},L={map:Y,forEach:function(T,U,X){Y(T,function(){U.apply(this,arguments)},X)},count:function(T){var U=0;return Y(T,function(){U++}),U},toArray:function(T){return Y(T,function(U){return U})||[]},only:function(T){if(!B(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return qe.Activity=b,qe.Children=L,qe.Component=O,qe.Fragment=n,qe.Profiler=a,qe.PureComponent=F,qe.StrictMode=s,qe.Suspense=d,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,qe.__COMPILER_RUNTIME={__proto__:null,c:function(T){return k.H.useMemoCache(T)}},qe.cache=function(T){return function(){return T.apply(null,arguments)}},qe.cacheSignal=function(){return null},qe.cloneElement=function(T,U,X){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var ee=I({},T.props),me=T.key;if(U!=null)for(ye in U.key!==void 0&&(me=""+U.key),U)!C.call(U,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&U.ref===void 0||(ee[ye]=U[ye]);var ye=arguments.length-2;if(ye===1)ee.children=X;else if(1<ye){for(var ge=Array(ye),_e=0;_e<ye;_e++)ge[_e]=arguments[_e+2];ee.children=ge}return P(T.type,me,ee)},qe.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:l,_context:T},T},qe.createElement=function(T,U,X){var ee,me={},ye=null;if(U!=null)for(ee in U.key!==void 0&&(ye=""+U.key),U)C.call(U,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(me[ee]=U[ee]);var ge=arguments.length-2;if(ge===1)me.children=X;else if(1<ge){for(var _e=Array(ge),Ee=0;Ee<ge;Ee++)_e[Ee]=arguments[Ee+2];me.children=_e}if(T&&T.defaultProps)for(ee in ge=T.defaultProps,ge)me[ee]===void 0&&(me[ee]=ge[ee]);return P(T,ye,me)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(T){return{$$typeof:h,render:T}},qe.isValidElement=B,qe.lazy=function(T){return{$$typeof:g,_payload:{_status:-1,_result:T},_init:$}},qe.memo=function(T,U){return{$$typeof:m,type:T,compare:U===void 0?null:U}},qe.startTransition=function(T){var U=k.T,X={};k.T=X;try{var ee=T(),me=k.S;me!==null&&me(X,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(ce,W)}catch(ye){W(ye)}finally{U!==null&&X.types!==null&&(U.types=X.types),k.T=U}},qe.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},qe.use=function(T){return k.H.use(T)},qe.useActionState=function(T,U,X){return k.H.useActionState(T,U,X)},qe.useCallback=function(T,U){return k.H.useCallback(T,U)},qe.useContext=function(T){return k.H.useContext(T)},qe.useDebugValue=function(){},qe.useDeferredValue=function(T,U){return k.H.useDeferredValue(T,U)},qe.useEffect=function(T,U){return k.H.useEffect(T,U)},qe.useEffectEvent=function(T){return k.H.useEffectEvent(T)},qe.useId=function(){return k.H.useId()},qe.useImperativeHandle=function(T,U,X){return k.H.useImperativeHandle(T,U,X)},qe.useInsertionEffect=function(T,U){return k.H.useInsertionEffect(T,U)},qe.useLayoutEffect=function(T,U){return k.H.useLayoutEffect(T,U)},qe.useMemo=function(T,U){return k.H.useMemo(T,U)},qe.useOptimistic=function(T,U){return k.H.useOptimistic(T,U)},qe.useReducer=function(T,U,X){return k.H.useReducer(T,U,X)},qe.useRef=function(T){return k.H.useRef(T)},qe.useState=function(T){return k.H.useState(T)},qe.useSyncExternalStore=function(T,U,X){return k.H.useSyncExternalStore(T,U,X)},qe.useTransition=function(){return k.H.useTransition()},qe.version="19.2.3",qe}var M1;function hv(){return M1||(M1=1,gy.exports=Lk()),gy.exports}var S=hv();const At=jk(S);var yy={exports:{}},Cu={},vy={exports:{}},by={};var P1;function Uk(){return P1||(P1=1,(function(t){function e(J,Y){var $=J.length;J.push(Y);e:for(;0<$;){var W=$-1>>>1,L=J[W];if(0<a(L,Y))J[W]=Y,J[$]=L,$=W;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var Y=J[0],$=J.pop();if($!==Y){J[0]=$;e:for(var W=0,L=J.length,T=L>>>1;W<T;){var U=2*(W+1)-1,X=J[U],ee=U+1,me=J[ee];if(0>a(X,$))ee<L&&0>a(me,X)?(J[W]=me,J[ee]=$,W=ee):(J[W]=X,J[U]=$,W=U);else if(ee<L&&0>a(me,$))J[W]=me,J[ee]=$,W=ee;else break e}}return Y}function a(J,Y){var $=J.sortIndex-Y.sortIndex;return $!==0?$:J.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],m=[],g=1,b=null,x=3,A=!1,D=!1,I=!1,R=!1,O=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function re(J){for(var Y=n(m);Y!==null;){if(Y.callback===null)s(m);else if(Y.startTime<=J)s(m),Y.sortIndex=Y.expirationTime,e(d,Y);else break;Y=n(m)}}function te(J){if(I=!1,re(J),!D)if(n(d)!==null)D=!0,ce||(ce=!0,j());else{var Y=n(m);Y!==null&&we(te,Y.startTime-J)}}var ce=!1,k=-1,C=5,P=-1;function z(){return R?!0:!(t.unstable_now()-P<C)}function B(){if(R=!1,ce){var J=t.unstable_now();P=J;var Y=!0;try{e:{D=!1,I&&(I=!1,H(k),k=-1),A=!0;var $=x;try{t:{for(re(J),b=n(d);b!==null&&!(b.expirationTime>J&&z());){var W=b.callback;if(typeof W=="function"){b.callback=null,x=b.priorityLevel;var L=W(b.expirationTime<=J);if(J=t.unstable_now(),typeof L=="function"){b.callback=L,re(J),Y=!0;break t}b===n(d)&&s(d),re(J)}else s(d);b=n(d)}if(b!==null)Y=!0;else{var T=n(m);T!==null&&we(te,T.startTime-J),Y=!1}}break e}finally{b=null,x=$,A=!1}Y=void 0}}finally{Y?j():ce=!1}}}var j;if(typeof F=="function")j=function(){F(B)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,be=V.port2;V.port1.onmessage=B,j=function(){be.postMessage(null)}}else j=function(){O(B,0)};function we(J,Y){k=O(function(){J(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(J){switch(x){case 1:case 2:case 3:var Y=3;break;default:Y=x}var $=x;x=Y;try{return J()}finally{x=$}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(J,Y){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var $=x;x=J;try{return Y()}finally{x=$}},t.unstable_scheduleCallback=function(J,Y,$){var W=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?W+$:W):$=W,J){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=$+L,J={id:g++,callback:Y,priorityLevel:J,startTime:$,expirationTime:L,sortIndex:-1},$>W?(J.sortIndex=$,e(m,J),n(d)===null&&J===n(m)&&(I?(H(k),k=-1):I=!0,we(te,$-W))):(J.sortIndex=L,e(d,J),D||A||(D=!0,ce||(ce=!0,j()))),J},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(J){var Y=x;return function(){var $=x;x=Y;try{return J.apply(this,arguments)}finally{x=$}}}})(by)),by}var j1;function zk(){return j1||(j1=1,vy.exports=Uk()),vy.exports}var xy={exports:{}},cs={};var O1;function Bk(){if(O1)return cs;O1=1;var t=hv();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,m,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:d,containerInfo:m,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return cs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,cs.createPortal=function(d,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(d,m,null,g)},cs.flushSync=function(d){var m=c.T,g=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=m,s.p=g,s.d.f()}},cs.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(d,m))},cs.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},cs.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var g=m.as,b=h(g,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?s.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:A}):g==="script"&&s.d.X(d,{crossOrigin:b,integrity:x,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},cs.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);s.d.M(d,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(d)},cs.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,b=h(g,m.crossOrigin);s.d.L(d,g,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},cs.preloadModule=function(d,m){if(typeof d=="string")if(m){var g=h(m.as,m.crossOrigin);s.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(d)},cs.requestFormReset=function(d){s.d.r(d)},cs.unstable_batchedUpdates=function(d,m){return d(m)},cs.useFormState=function(d,m,g){return c.H.useFormState(d,m,g)},cs.useFormStatus=function(){return c.H.useHostTransitionStatus()},cs.version="19.2.3",cs}var V1;function yA(){if(V1)return xy.exports;V1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xy.exports=Bk(),xy.exports}var L1;function Fk(){if(L1)return Cu;L1=1;var t=zk(),e=hv(),n=yA();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var p=o.return;if(p===null)break;var v=p.alternate;if(v===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===o)return d(p),i;if(v===u)return d(p),r;v=v.sibling}throw Error(s(188))}if(o.return!==u.return)o=p,u=v;else{for(var _=!1,N=p.child;N;){if(N===o){_=!0,o=p,u=v;break}if(N===u){_=!0,u=p,o=v;break}N=N.sibling}if(!_){for(N=v.child;N;){if(N===o){_=!0,o=v,u=p;break}if(N===u){_=!0,u=v,o=p;break}N=N.sibling}if(!_)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),F=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function j(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function be(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case I:return"Fragment";case O:return"Profiler";case R:return"StrictMode";case te:return"Suspense";case ce:return"SuspenseList";case P:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case D:return"Portal";case F:return i.displayName||"Context";case H:return(i._context.displayName||"Context")+".Consumer";case re:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return r=i.displayName||null,r!==null?r:be(i.type)||"Memo";case C:r=i._payload,i=i._init;try{return be(i(r))}catch{}}return null}var we=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},W=[],L=-1;function T(i){return{current:i}}function U(i){0>L||(i.current=W[L],W[L]=null,L--)}function X(i,r){L++,W[L]=i.current,i.current=r}var ee=T(null),me=T(null),ye=T(null),ge=T(null);function _e(i,r){switch(X(ye,r),X(me,i),X(ee,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Z_(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Z_(r),i=e1(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}U(ee),X(ee,i)}function Ee(){U(ee),U(me),U(ye)}function Ce(i){i.memoizedState!==null&&X(ge,i);var r=ee.current,o=e1(r,i.type);r!==o&&(X(me,i),X(ee,o))}function Ue(i){me.current===i&&(U(ee),U(me)),ge.current===i&&(U(ge),_u._currentValue=$)}var Ve,ut;function ke(i){if(Ve===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ve=r&&r[1]||"",ut=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ve+i+ut}var pt=!1;function bt(i,r){if(!i||pt)return"";pt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(le){var ae=le}Reflect.construct(i,[],fe)}else{try{fe.call()}catch(le){ae=le}i.call(fe.prototype)}}else{try{throw Error()}catch(le){ae=le}(fe=i())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(le){if(le&&ae&&typeof le.stack=="string")return[le.stack,ae.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),_=v[0],N=v[1];if(_&&N){var q=_.split(`
`),ie=N.split(`
`);for(p=u=0;u<q.length&&!q[u].includes("DetermineComponentFrameRoot");)u++;for(;p<ie.length&&!ie[p].includes("DetermineComponentFrameRoot");)p++;if(u===q.length||p===ie.length)for(u=q.length-1,p=ie.length-1;1<=u&&0<=p&&q[u]!==ie[p];)p--;for(;1<=u&&0<=p;u--,p--)if(q[u]!==ie[p]){if(u!==1||p!==1)do if(u--,p--,0>p||q[u]!==ie[p]){var ue=`
`+q[u].replace(" at new "," at ");return i.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",i.displayName)),ue}while(1<=u&&0<=p);break}}}finally{pt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?ke(o):""}function Zt(i,r){switch(i.tag){case 26:case 27:case 5:return ke(i.type);case 16:return ke("Lazy");case 13:return i.child!==r&&r!==null?ke("Suspense Fallback"):ke("Suspense");case 19:return ke("SuspenseList");case 0:case 15:return bt(i.type,!1);case 11:return bt(i.type.render,!1);case 1:return bt(i.type,!0);case 31:return ke("Activity");default:return""}}function on(i){try{var r="",o=null;do r+=Zt(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var ot=Object.prototype.hasOwnProperty,Fe=t.unstable_scheduleCallback,On=t.unstable_cancelCallback,Ss=t.unstable_shouldYield,Ls=t.unstable_requestPaint,ft=t.unstable_now,Kn=t.unstable_getCurrentPriorityLevel,Us=t.unstable_ImmediatePriority,Yn=t.unstable_UserBlockingPriority,ln=t.unstable_NormalPriority,is=t.unstable_LowPriority,Nn=t.unstable_IdlePriority,gn=t.log,zs=t.unstable_setDisableYieldValue,Vn=null,cn=null;function In(i){if(typeof gn=="function"&&zs(i),cn&&typeof cn.setStrictMode=="function")try{cn.setStrictMode(Vn,i)}catch{}}var ht=Math.clz32?Math.clz32:Zr,Jr=Math.log,Bs=Math.LN2;function Zr(i){return i>>>=0,i===0?32:31-(Jr(i)/Bs|0)|0}var As=256,Cs=262144,We=4194304;function Tt(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ze(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var p=0,v=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var N=u&134217727;return N!==0?(u=N&~v,u!==0?p=Tt(u):(_&=N,_!==0?p=Tt(_):o||(o=N&~i,o!==0&&(p=Tt(o))))):(N=u&~v,N!==0?p=Tt(N):_!==0?p=Tt(_):o||(o=u&~i,o!==0&&(p=Tt(o)))),p===0?0:r!==0&&r!==p&&(r&v)===0&&(v=p&-p,o=r&-r,v>=o||v===32&&(o&4194048)!==0)?r:p}function Ot(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Ln(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function en(){var i=We;return We<<=1,(We&62914560)===0&&(We=4194304),i}function Mt(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function rs(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Kt(i,r,o,u,p,v){var _=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var N=i.entanglements,q=i.expirationTimes,ie=i.hiddenUpdates;for(o=_&~o;0<o;){var ue=31-ht(o),fe=1<<ue;N[ue]=0,q[ue]=-1;var ae=ie[ue];if(ae!==null)for(ie[ue]=null,ue=0;ue<ae.length;ue++){var le=ae[ue];le!==null&&(le.lane&=-536870913)}o&=~fe}u!==0&&Un(i,u,0),v!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=v&~(_&~r))}function Un(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-ht(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function zn(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-ht(o),p=1<<u;p&r|i[u]&r&&(i[u]|=r),o&=~p}}function Xn(i,r){var o=r&-r;return o=(o&42)!==0?1:yn(o),(o&(i.suspendedLanes|r))!==0?0:o}function yn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Vt(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function vn(){var i=Y.p;return i!==0?i:(i=window.event,i===void 0?32:T1(i.type))}function Lt(i,r){var o=Y.p;try{return Y.p=i,r()}finally{Y.p=o}}var Bn=Math.random().toString(36).slice(2),Ft="__reactFiber$"+Bn,bn="__reactProps$"+Bn,vs="__reactContainer$"+Bn,tn="__reactEvents$"+Bn,ea="__reactListeners$"+Bn,Rs="__reactHandles$"+Bn,ta="__reactResources$"+Bn,as="__reactMarker$"+Bn;function Ti(i){delete i[Ft],delete i[bn],delete i[tn],delete i[ea],delete i[Rs]}function Fs(i){var r=i[Ft];if(r)return r;for(var o=i.parentNode;o;){if(r=o[vs]||o[Ft]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=o1(i);i!==null;){if(o=i[Ft])return o;i=o1(i)}return r}i=o,o=i.parentNode}return null}function Ns(i){if(i=i[Ft]||i[vs]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function os(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function ei(i){var r=i[ta];return r||(r=i[ta]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Yt(i){i[as]=!0}var pr=new Set,na={};function ti(i,r){ni(i,r),ni(i+"Capture",r)}function ni(i,r){for(na[i]=r,i=0;i<r.length;i++)pr.add(r[i])}var sa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lo={},co={};function un(i){return ot.call(co,i)?!0:ot.call(lo,i)?!1:sa.test(i)?co[i]=!0:(lo[i]=!0,!1)}function uo(i,r,o){if(un(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function ls(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Xt(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function xn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ne(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Te(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,v=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return p.call(this)},set:function(_){o=""+_,v.call(this,_)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function je(i){if(!i._valueTracker){var r=ne(i)?"checked":"value";i._valueTracker=Te(i,r,""+i[r])}}function Ct(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=ne(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function gt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var qt=/[\n"\\]/g;function Rt(i){return i.replace(qt,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Wn(i,r,o,u,p,v,_,N){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),r!=null?_==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+xn(r)):i.value!==""+xn(r)&&(i.value=""+xn(r)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),r!=null?jc(i,_,xn(r)):o!=null?jc(i,_,xn(o)):u!=null&&i.removeAttribute("value"),p==null&&v!=null&&(i.defaultChecked=!!v),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?i.name=""+xn(N):i.removeAttribute("name")}function Jh(i,r,o,u,p,v,_,N){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),r!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||r!=null)){je(i);return}o=o!=null?""+xn(o):"",r=r!=null?""+xn(r):o,N||r===i.value||(i.value=r),i.defaultValue=r}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=N?i.checked:!!u,i.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),je(i)}function jc(i,r,o){r==="number"&&gt(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function ia(i,r,o,u){if(i=i.options,r){r={};for(var p=0;p<o.length;p++)r["$"+o[p]]=!0;for(o=0;o<i.length;o++)p=r.hasOwnProperty("$"+i[o].value),i[o].selected!==p&&(i[o].selected=p),p&&u&&(i[o].defaultSelected=!0)}else{for(o=""+xn(o),r=null,p=0;p<i.length;p++){if(i[p].value===o){i[p].selected=!0,u&&(i[p].defaultSelected=!0);return}r!==null||i[p].disabled||(r=i[p])}r!==null&&(r.selected=!0)}}function Zh(i,r,o){if(r!=null&&(r=""+xn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+xn(o):""}function ra(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(we(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=xn(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),je(i)}function Is(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var ed=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oc(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||ed.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Vc(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var p in r)u=r[p],r.hasOwnProperty(p)&&o[p]!==u&&Oc(i,p,u)}else for(var v in r)r.hasOwnProperty(v)&&Oc(i,v,r[v])}function al(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var td=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),aa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ol(i){return aa.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ei(){}var Lc=null;function si(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var oa=null,Hi=null;function ho(i){var r=Ns(i);if(r&&(i=r.stateNode)){var o=i[bn]||null;e:switch(i=r.stateNode,r.type){case"input":if(Wn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Rt(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var p=u[bn]||null;if(!p)throw Error(s(90));Wn(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&Ct(u)}break e;case"textarea":Zh(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&ia(i,!!o.multiple,r,!1)}}}var ll=!1;function la(i,r,o){if(ll)return i(r,o);ll=!0;try{var u=i(r);return u}finally{if(ll=!1,(oa!==null||Hi!==null)&&(Yd(),oa&&(r=oa,i=Hi,Hi=oa=null,ho(r),i)))for(r=0;r<i.length;r++)ho(i[r])}}function Si(i,r){var o=i.stateNode;if(o===null)return null;var u=o[bn]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fo=!1;if(ii)try{var Nt={};Object.defineProperty(Nt,"passive",{get:function(){fo=!0}}),window.addEventListener("test",Nt,Nt),window.removeEventListener("test",Nt,Nt)}catch{fo=!1}var Gi=null,Uc=null,mo=null;function zc(){if(mo)return mo;var i,r=Uc,o=r.length,u,p="value"in Gi?Gi.value:Gi.textContent,v=p.length;for(i=0;i<o&&r[i]===p[i];i++);var _=o-i;for(u=1;u<=_&&r[o-u]===p[v-u];u++);return mo=p.slice(i,1<u?1-u:void 0)}function po(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function gr(){return!0}function Ai(){return!1}function Qn(i){function r(o,u,p,v,_){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=v,this.target=_,this.currentTarget=null;for(var N in i)i.hasOwnProperty(N)&&(o=i[N],this[N]=o?o(v):v[N]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?gr:Ai,this.isPropagationStopped=Ai,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=gr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=gr)},persist:function(){},isPersistent:gr}),r}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$i=Qn(yr),ca=b({},yr,{view:0,detail:0}),Bc=Qn(ca),ua,cl,Ki,ul=b({},ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ha,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ki&&(Ki&&i.type==="mousemove"?(ua=i.screenX-Ki.screenX,cl=i.screenY-Ki.screenY):cl=ua=0,Ki=i),ua)},movementY:function(i){return"movementY"in i?i.movementY:cl}}),Fc=Qn(ul),go=b({},ul,{dataTransfer:0}),nd=Qn(go),sd=b({},ca,{relatedTarget:0}),yo=Qn(sd),qc=b({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),id=Qn(qc),hl=b({},yr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),rd=Qn(hl),ad=b({},yr,{data:0}),Yi=Qn(ad),od={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ld={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ud(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=cd[i])?!!r[i]:!1}function ha(){return ud}var bs=b({},ca,{key:function(i){if(i.key){var r=od[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=po(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ld[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ha,charCode:function(i){return i.type==="keypress"?po(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?po(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),hd=Qn(bs),dd=b({},ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vr=Qn(dd),f=b({},ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ha}),w=Qn(f),E=b({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),M=Qn(E),Z=b({},ul,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),oe=Qn(Z),ve=b({},yr,{newState:0,oldState:0}),Ke=Qn(ve),hn=[9,13,27,32],xt=ii&&"CompositionEvent"in window,Ht=null;ii&&"documentMode"in document&&(Ht=document.documentMode);var ri=ii&&"TextEvent"in window&&!Ht,Xi=ii&&(!xt||Ht&&8<Ht&&11>=Ht),Ci=" ",Ri=!1;function vo(i,r){switch(i){case"keyup":return hn.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dl(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var fl=!1;function rD(i,r){switch(i){case"compositionend":return dl(r);case"keypress":return r.which!==32?null:(Ri=!0,Ci);case"textInput":return i=r.data,i===Ci&&Ri?null:i;default:return null}}function aD(i,r){if(fl)return i==="compositionend"||!xt&&vo(i,r)?(i=zc(),mo=Uc=Gi=null,fl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Xi&&r.locale!=="ko"?null:r.data;default:return null}}var oD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ux(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!oD[i.type]:r==="textarea"}function hx(i,r,o,u){oa?Hi?Hi.push(u):Hi=[u]:oa=u,r=tf(r,"onChange"),0<r.length&&(o=new $i("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Hc=null,Gc=null;function lD(i){K_(i,0)}function fd(i){var r=os(i);if(Ct(r))return i}function dx(i,r){if(i==="change")return r}var fx=!1;if(ii){var _p;if(ii){var Tp="oninput"in document;if(!Tp){var mx=document.createElement("div");mx.setAttribute("oninput","return;"),Tp=typeof mx.oninput=="function"}_p=Tp}else _p=!1;fx=_p&&(!document.documentMode||9<document.documentMode)}function px(){Hc&&(Hc.detachEvent("onpropertychange",gx),Gc=Hc=null)}function gx(i){if(i.propertyName==="value"&&fd(Gc)){var r=[];hx(r,Gc,i,si(i)),la(lD,r)}}function cD(i,r,o){i==="focusin"?(px(),Hc=r,Gc=o,Hc.attachEvent("onpropertychange",gx)):i==="focusout"&&px()}function uD(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return fd(Gc)}function hD(i,r){if(i==="click")return fd(r)}function dD(i,r){if(i==="input"||i==="change")return fd(r)}function fD(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var qs=typeof Object.is=="function"?Object.is:fD;function $c(i,r){if(qs(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!ot.call(r,p)||!qs(i[p],r[p]))return!1}return!0}function yx(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function vx(i,r){var o=yx(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=yx(o)}}function bx(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?bx(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function xx(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=gt(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=gt(i.document)}return r}function Ep(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var mD=ii&&"documentMode"in document&&11>=document.documentMode,ml=null,Sp=null,Kc=null,Ap=!1;function wx(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ap||ml==null||ml!==gt(u)||(u=ml,"selectionStart"in u&&Ep(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Kc&&$c(Kc,u)||(Kc=u,u=tf(Sp,"onSelect"),0<u.length&&(r=new $i("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=ml)))}function bo(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var pl={animationend:bo("Animation","AnimationEnd"),animationiteration:bo("Animation","AnimationIteration"),animationstart:bo("Animation","AnimationStart"),transitionrun:bo("Transition","TransitionRun"),transitionstart:bo("Transition","TransitionStart"),transitioncancel:bo("Transition","TransitionCancel"),transitionend:bo("Transition","TransitionEnd")},Cp={},_x={};ii&&(_x=document.createElement("div").style,"AnimationEvent"in window||(delete pl.animationend.animation,delete pl.animationiteration.animation,delete pl.animationstart.animation),"TransitionEvent"in window||delete pl.transitionend.transition);function xo(i){if(Cp[i])return Cp[i];if(!pl[i])return i;var r=pl[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in _x)return Cp[i]=r[o];return i}var Tx=xo("animationend"),Ex=xo("animationiteration"),Sx=xo("animationstart"),pD=xo("transitionrun"),gD=xo("transitionstart"),yD=xo("transitioncancel"),Ax=xo("transitionend"),Cx=new Map,Rp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rp.push("scrollEnd");function Ni(i,r){Cx.set(i,r),ti(r,[i])}var md=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ai=[],gl=0,Np=0;function pd(){for(var i=gl,r=Np=gl=0;r<i;){var o=ai[r];ai[r++]=null;var u=ai[r];ai[r++]=null;var p=ai[r];ai[r++]=null;var v=ai[r];if(ai[r++]=null,u!==null&&p!==null){var _=u.pending;_===null?p.next=p:(p.next=_.next,_.next=p),u.pending=p}v!==0&&Rx(o,p,v)}}function gd(i,r,o,u){ai[gl++]=i,ai[gl++]=r,ai[gl++]=o,ai[gl++]=u,Np|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Ip(i,r,o,u){return gd(i,r,o,u),yd(i)}function wo(i,r){return gd(i,null,null,r),yd(i)}function Rx(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var p=!1,v=i.return;v!==null;)v.childLanes|=o,u=v.alternate,u!==null&&(u.childLanes|=o),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(p=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,p&&r!==null&&(p=31-ht(o),i=v.hiddenUpdates,u=i[p],u===null?i[p]=[r]:u.push(r),r.lane=o|536870912),v):null}function yd(i){if(50<pu)throw pu=0,Ug=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var yl={};function vD(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hs(i,r,o,u){return new vD(i,r,o,u)}function Dp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function br(i,r){var o=i.alternate;return o===null?(o=Hs(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Nx(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function vd(i,r,o,u,p,v){var _=0;if(u=i,typeof i=="function")Dp(i)&&(_=1);else if(typeof i=="string")_=Tk(i,o,ee.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case P:return i=Hs(31,o,r,p),i.elementType=P,i.lanes=v,i;case I:return _o(o.children,p,v,r);case R:_=8,p|=24;break;case O:return i=Hs(12,o,r,p|2),i.elementType=O,i.lanes=v,i;case te:return i=Hs(13,o,r,p),i.elementType=te,i.lanes=v,i;case ce:return i=Hs(19,o,r,p),i.elementType=ce,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:_=10;break e;case H:_=9;break e;case re:_=11;break e;case k:_=14;break e;case C:_=16,u=null;break e}_=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Hs(_,o,r,p),r.elementType=i,r.type=u,r.lanes=v,r}function _o(i,r,o,u){return i=Hs(7,i,u,r),i.lanes=o,i}function kp(i,r,o){return i=Hs(6,i,null,r),i.lanes=o,i}function Ix(i){var r=Hs(18,null,null,0);return r.stateNode=i,r}function Mp(i,r,o){return r=Hs(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Dx=new WeakMap;function oi(i,r){if(typeof i=="object"&&i!==null){var o=Dx.get(i);return o!==void 0?o:(r={value:i,source:r,stack:on(r)},Dx.set(i,r),r)}return{value:i,source:r,stack:on(r)}}var vl=[],bl=0,bd=null,Yc=0,li=[],ci=0,da=null,Wi=1,Qi="";function xr(i,r){vl[bl++]=Yc,vl[bl++]=bd,bd=i,Yc=r}function kx(i,r,o){li[ci++]=Wi,li[ci++]=Qi,li[ci++]=da,da=i;var u=Wi;i=Qi;var p=32-ht(u)-1;u&=~(1<<p),o+=1;var v=32-ht(r)+p;if(30<v){var _=p-p%5;v=(u&(1<<_)-1).toString(32),u>>=_,p-=_,Wi=1<<32-ht(r)+p|o<<p|u,Qi=v+i}else Wi=1<<v|o<<p|u,Qi=i}function Pp(i){i.return!==null&&(xr(i,1),kx(i,1,0))}function jp(i){for(;i===bd;)bd=vl[--bl],vl[bl]=null,Yc=vl[--bl],vl[bl]=null;for(;i===da;)da=li[--ci],li[ci]=null,Qi=li[--ci],li[ci]=null,Wi=li[--ci],li[ci]=null}function Mx(i,r){li[ci++]=Wi,li[ci++]=Qi,li[ci++]=da,Wi=r.id,Qi=r.overflow,da=i}var Jn=null,Ut=null,lt=!1,fa=null,ui=!1,Op=Error(s(519));function ma(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xc(oi(r,i)),Op}function Px(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Ft]=i,r[bn]=u,o){case"dialog":tt("cancel",r),tt("close",r);break;case"iframe":case"object":case"embed":tt("load",r);break;case"video":case"audio":for(o=0;o<yu.length;o++)tt(yu[o],r);break;case"source":tt("error",r);break;case"img":case"image":case"link":tt("error",r),tt("load",r);break;case"details":tt("toggle",r);break;case"input":tt("invalid",r),Jh(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":tt("invalid",r);break;case"textarea":tt("invalid",r),ra(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||Q_(r.textContent,o)?(u.popover!=null&&(tt("beforetoggle",r),tt("toggle",r)),u.onScroll!=null&&tt("scroll",r),u.onScrollEnd!=null&&tt("scrollend",r),u.onClick!=null&&(r.onclick=Ei),r=!0):r=!1,r||ma(i,!0)}function jx(i){for(Jn=i.return;Jn;)switch(Jn.tag){case 5:case 31:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:Jn=Jn.return}}function xl(i){if(i!==Jn)return!1;if(!lt)return jx(i),lt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||ey(i.type,i.memoizedProps)),o=!o),o&&Ut&&ma(i),jx(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Ut=a1(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Ut=a1(i)}else r===27?(r=Ut,Ra(i.type)?(i=ry,ry=null,Ut=i):Ut=r):Ut=Jn?di(i.stateNode.nextSibling):null;return!0}function To(){Ut=Jn=null,lt=!1}function Vp(){var i=fa;return i!==null&&(Ps===null?Ps=i:Ps.push.apply(Ps,i),fa=null),i}function Xc(i){fa===null?fa=[i]:fa.push(i)}var Lp=T(null),Eo=null,wr=null;function pa(i,r,o){X(Lp,r._currentValue),r._currentValue=o}function _r(i){i._currentValue=Lp.current,U(Lp)}function Up(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function zp(i,r,o,u){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var v=p.dependencies;if(v!==null){var _=p.child;v=v.firstContext;e:for(;v!==null;){var N=v;v=p;for(var q=0;q<r.length;q++)if(N.context===r[q]){v.lanes|=o,N=v.alternate,N!==null&&(N.lanes|=o),Up(v.return,o,i),u||(_=null);break e}v=N.next}}else if(p.tag===18){if(_=p.return,_===null)throw Error(s(341));_.lanes|=o,v=_.alternate,v!==null&&(v.lanes|=o),Up(_,o,i),_=null}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===i){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}}function wl(i,r,o,u){i=null;for(var p=r,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var _=p.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var N=p.type;qs(p.pendingProps.value,_.value)||(i!==null?i.push(N):i=[N])}}else if(p===ge.current){if(_=p.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(_u):i=[_u])}p=p.return}i!==null&&zp(r,i,o,u),r.flags|=262144}function xd(i){for(i=i.firstContext;i!==null;){if(!qs(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function So(i){Eo=i,wr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Zn(i){return Ox(Eo,i)}function wd(i,r){return Eo===null&&So(i),Ox(i,r)}function Ox(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},wr===null){if(i===null)throw Error(s(308));wr=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else wr=wr.next=r;return o}var bD=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},xD=t.unstable_scheduleCallback,wD=t.unstable_NormalPriority,wn={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bp(){return{controller:new bD,data:new Map,refCount:0}}function Wc(i){i.refCount--,i.refCount===0&&xD(wD,function(){i.controller.abort()})}var Qc=null,Fp=0,_l=0,Tl=null;function _D(i,r){if(Qc===null){var o=Qc=[];Fp=0,_l=Gg(),Tl={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Fp++,r.then(Vx,Vx),r}function Vx(){if(--Fp===0&&Qc!==null){Tl!==null&&(Tl.status="fulfilled");var i=Qc;Qc=null,_l=0,Tl=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function TD(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var p=0;p<o.length;p++)(0,o[p])(r)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var Lx=J.S;J.S=function(i,r){w_=ft(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&_D(i,r),Lx!==null&&Lx(i,r)};var Ao=T(null);function qp(){var i=Ao.current;return i!==null?i:Pt.pooledCache}function _d(i,r){r===null?X(Ao,Ao.current):X(Ao,r.pool)}function Ux(){var i=qp();return i===null?null:{parent:wn._currentValue,pool:i}}var El=Error(s(460)),Hp=Error(s(474)),Td=Error(s(542)),Ed={then:function(){}};function zx(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Bx(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Ei,Ei),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,qx(i),i;default:if(typeof r.status=="string")r.then(Ei,Ei);else{if(i=Pt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=u}},function(u){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,qx(i),i}throw Ro=r,El}}function Co(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ro=o,El):o}}var Ro=null;function Fx(){if(Ro===null)throw Error(s(459));var i=Ro;return Ro=null,i}function qx(i){if(i===El||i===Td)throw Error(s(483))}var Sl=null,Jc=0;function Sd(i){var r=Jc;return Jc+=1,Sl===null&&(Sl=[]),Bx(Sl,i,r)}function Zc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Ad(i,r){throw r.$$typeof===x?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Hx(i){function r(Q,G){if(i){var se=Q.deletions;se===null?(Q.deletions=[G],Q.flags|=16):se.push(G)}}function o(Q,G){if(!i)return null;for(;G!==null;)r(Q,G),G=G.sibling;return null}function u(Q){for(var G=new Map;Q!==null;)Q.key!==null?G.set(Q.key,Q):G.set(Q.index,Q),Q=Q.sibling;return G}function p(Q,G){return Q=br(Q,G),Q.index=0,Q.sibling=null,Q}function v(Q,G,se){return Q.index=se,i?(se=Q.alternate,se!==null?(se=se.index,se<G?(Q.flags|=67108866,G):se):(Q.flags|=67108866,G)):(Q.flags|=1048576,G)}function _(Q){return i&&Q.alternate===null&&(Q.flags|=67108866),Q}function N(Q,G,se,he){return G===null||G.tag!==6?(G=kp(se,Q.mode,he),G.return=Q,G):(G=p(G,se),G.return=Q,G)}function q(Q,G,se,he){var Pe=se.type;return Pe===I?ue(Q,G,se.props.children,he,se.key):G!==null&&(G.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===C&&Co(Pe)===G.type)?(G=p(G,se.props),Zc(G,se),G.return=Q,G):(G=vd(se.type,se.key,se.props,null,Q.mode,he),Zc(G,se),G.return=Q,G)}function ie(Q,G,se,he){return G===null||G.tag!==4||G.stateNode.containerInfo!==se.containerInfo||G.stateNode.implementation!==se.implementation?(G=Mp(se,Q.mode,he),G.return=Q,G):(G=p(G,se.children||[]),G.return=Q,G)}function ue(Q,G,se,he,Pe){return G===null||G.tag!==7?(G=_o(se,Q.mode,he,Pe),G.return=Q,G):(G=p(G,se),G.return=Q,G)}function fe(Q,G,se){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=kp(""+G,Q.mode,se),G.return=Q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return se=vd(G.type,G.key,G.props,null,Q.mode,se),Zc(se,G),se.return=Q,se;case D:return G=Mp(G,Q.mode,se),G.return=Q,G;case C:return G=Co(G),fe(Q,G,se)}if(we(G)||j(G))return G=_o(G,Q.mode,se,null),G.return=Q,G;if(typeof G.then=="function")return fe(Q,Sd(G),se);if(G.$$typeof===F)return fe(Q,wd(Q,G),se);Ad(Q,G)}return null}function ae(Q,G,se,he){var Pe=G!==null?G.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Pe!==null?null:N(Q,G,""+se,he);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case A:return se.key===Pe?q(Q,G,se,he):null;case D:return se.key===Pe?ie(Q,G,se,he):null;case C:return se=Co(se),ae(Q,G,se,he)}if(we(se)||j(se))return Pe!==null?null:ue(Q,G,se,he,null);if(typeof se.then=="function")return ae(Q,G,Sd(se),he);if(se.$$typeof===F)return ae(Q,G,wd(Q,se),he);Ad(Q,se)}return null}function le(Q,G,se,he,Pe){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Q=Q.get(se)||null,N(G,Q,""+he,Pe);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case A:return Q=Q.get(he.key===null?se:he.key)||null,q(G,Q,he,Pe);case D:return Q=Q.get(he.key===null?se:he.key)||null,ie(G,Q,he,Pe);case C:return he=Co(he),le(Q,G,se,he,Pe)}if(we(he)||j(he))return Q=Q.get(se)||null,ue(G,Q,he,Pe,null);if(typeof he.then=="function")return le(Q,G,se,Sd(he),Pe);if(he.$$typeof===F)return le(Q,G,se,wd(G,he),Pe);Ad(G,he)}return null}function Re(Q,G,se,he){for(var Pe=null,yt=null,De=G,Xe=G=0,st=null;De!==null&&Xe<se.length;Xe++){De.index>Xe?(st=De,De=null):st=De.sibling;var vt=ae(Q,De,se[Xe],he);if(vt===null){De===null&&(De=st);break}i&&De&&vt.alternate===null&&r(Q,De),G=v(vt,G,Xe),yt===null?Pe=vt:yt.sibling=vt,yt=vt,De=st}if(Xe===se.length)return o(Q,De),lt&&xr(Q,Xe),Pe;if(De===null){for(;Xe<se.length;Xe++)De=fe(Q,se[Xe],he),De!==null&&(G=v(De,G,Xe),yt===null?Pe=De:yt.sibling=De,yt=De);return lt&&xr(Q,Xe),Pe}for(De=u(De);Xe<se.length;Xe++)st=le(De,Q,Xe,se[Xe],he),st!==null&&(i&&st.alternate!==null&&De.delete(st.key===null?Xe:st.key),G=v(st,G,Xe),yt===null?Pe=st:yt.sibling=st,yt=st);return i&&De.forEach(function(Ma){return r(Q,Ma)}),lt&&xr(Q,Xe),Pe}function Oe(Q,G,se,he){if(se==null)throw Error(s(151));for(var Pe=null,yt=null,De=G,Xe=G=0,st=null,vt=se.next();De!==null&&!vt.done;Xe++,vt=se.next()){De.index>Xe?(st=De,De=null):st=De.sibling;var Ma=ae(Q,De,vt.value,he);if(Ma===null){De===null&&(De=st);break}i&&De&&Ma.alternate===null&&r(Q,De),G=v(Ma,G,Xe),yt===null?Pe=Ma:yt.sibling=Ma,yt=Ma,De=st}if(vt.done)return o(Q,De),lt&&xr(Q,Xe),Pe;if(De===null){for(;!vt.done;Xe++,vt=se.next())vt=fe(Q,vt.value,he),vt!==null&&(G=v(vt,G,Xe),yt===null?Pe=vt:yt.sibling=vt,yt=vt);return lt&&xr(Q,Xe),Pe}for(De=u(De);!vt.done;Xe++,vt=se.next())vt=le(De,Q,Xe,vt.value,he),vt!==null&&(i&&vt.alternate!==null&&De.delete(vt.key===null?Xe:vt.key),G=v(vt,G,Xe),yt===null?Pe=vt:yt.sibling=vt,yt=vt);return i&&De.forEach(function(Pk){return r(Q,Pk)}),lt&&xr(Q,Xe),Pe}function kt(Q,G,se,he){if(typeof se=="object"&&se!==null&&se.type===I&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case A:e:{for(var Pe=se.key;G!==null;){if(G.key===Pe){if(Pe=se.type,Pe===I){if(G.tag===7){o(Q,G.sibling),he=p(G,se.props.children),he.return=Q,Q=he;break e}}else if(G.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===C&&Co(Pe)===G.type){o(Q,G.sibling),he=p(G,se.props),Zc(he,se),he.return=Q,Q=he;break e}o(Q,G);break}else r(Q,G);G=G.sibling}se.type===I?(he=_o(se.props.children,Q.mode,he,se.key),he.return=Q,Q=he):(he=vd(se.type,se.key,se.props,null,Q.mode,he),Zc(he,se),he.return=Q,Q=he)}return _(Q);case D:e:{for(Pe=se.key;G!==null;){if(G.key===Pe)if(G.tag===4&&G.stateNode.containerInfo===se.containerInfo&&G.stateNode.implementation===se.implementation){o(Q,G.sibling),he=p(G,se.children||[]),he.return=Q,Q=he;break e}else{o(Q,G);break}else r(Q,G);G=G.sibling}he=Mp(se,Q.mode,he),he.return=Q,Q=he}return _(Q);case C:return se=Co(se),kt(Q,G,se,he)}if(we(se))return Re(Q,G,se,he);if(j(se)){if(Pe=j(se),typeof Pe!="function")throw Error(s(150));return se=Pe.call(se),Oe(Q,G,se,he)}if(typeof se.then=="function")return kt(Q,G,Sd(se),he);if(se.$$typeof===F)return kt(Q,G,wd(Q,se),he);Ad(Q,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,G!==null&&G.tag===6?(o(Q,G.sibling),he=p(G,se),he.return=Q,Q=he):(o(Q,G),he=kp(se,Q.mode,he),he.return=Q,Q=he),_(Q)):o(Q,G)}return function(Q,G,se,he){try{Jc=0;var Pe=kt(Q,G,se,he);return Sl=null,Pe}catch(De){if(De===El||De===Td)throw De;var yt=Hs(29,De,null,Q.mode);return yt.lanes=he,yt.return=Q,yt}}}var No=Hx(!0),Gx=Hx(!1),ga=!1;function Gp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $p(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ya(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function va(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(wt&2)!==0){var p=u.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),u.pending=r,r=yd(i),Rx(i,null,o),r}return gd(i,u,r,o),yd(i)}function eu(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,zn(i,o)}}function Kp(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?p=v=_:v=v.next=_,o=o.next}while(o!==null);v===null?p=v=r:v=v.next=r}else p=v=r;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Yp=!1;function tu(){if(Yp){var i=Tl;if(i!==null)throw i}}function nu(i,r,o,u){Yp=!1;var p=i.updateQueue;ga=!1;var v=p.firstBaseUpdate,_=p.lastBaseUpdate,N=p.shared.pending;if(N!==null){p.shared.pending=null;var q=N,ie=q.next;q.next=null,_===null?v=ie:_.next=ie,_=q;var ue=i.alternate;ue!==null&&(ue=ue.updateQueue,N=ue.lastBaseUpdate,N!==_&&(N===null?ue.firstBaseUpdate=ie:N.next=ie,ue.lastBaseUpdate=q))}if(v!==null){var fe=p.baseState;_=0,ue=ie=q=null,N=v;do{var ae=N.lane&-536870913,le=ae!==N.lane;if(le?(nt&ae)===ae:(u&ae)===ae){ae!==0&&ae===_l&&(Yp=!0),ue!==null&&(ue=ue.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Re=i,Oe=N;ae=r;var kt=o;switch(Oe.tag){case 1:if(Re=Oe.payload,typeof Re=="function"){fe=Re.call(kt,fe,ae);break e}fe=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Oe.payload,ae=typeof Re=="function"?Re.call(kt,fe,ae):Re,ae==null)break e;fe=b({},fe,ae);break e;case 2:ga=!0}}ae=N.callback,ae!==null&&(i.flags|=64,le&&(i.flags|=8192),le=p.callbacks,le===null?p.callbacks=[ae]:le.push(ae))}else le={lane:ae,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ue===null?(ie=ue=le,q=fe):ue=ue.next=le,_|=ae;if(N=N.next,N===null){if(N=p.shared.pending,N===null)break;le=N,N=le.next,le.next=null,p.lastBaseUpdate=le,p.shared.pending=null}}while(!0);ue===null&&(q=fe),p.baseState=q,p.firstBaseUpdate=ie,p.lastBaseUpdate=ue,v===null&&(p.shared.lanes=0),Ta|=_,i.lanes=_,i.memoizedState=fe}}function $x(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Kx(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)$x(o[i],r)}var Al=T(null),Cd=T(0);function Yx(i,r){i=Dr,X(Cd,i),X(Al,r),Dr=i|r.baseLanes}function Xp(){X(Cd,Dr),X(Al,Al.current)}function Wp(){Dr=Cd.current,U(Al),U(Cd)}var Gs=T(null),hi=null;function ba(i){var r=i.alternate;X(dn,dn.current&1),X(Gs,i),hi===null&&(r===null||Al.current!==null||r.memoizedState!==null)&&(hi=i)}function Qp(i){X(dn,dn.current),X(Gs,i),hi===null&&(hi=i)}function Xx(i){i.tag===22?(X(dn,dn.current),X(Gs,i),hi===null&&(hi=i)):xa()}function xa(){X(dn,dn.current),X(Gs,Gs.current)}function $s(i){U(Gs),hi===i&&(hi=null),U(dn)}var dn=T(0);function Rd(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||sy(o)||iy(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Tr=0,Ye=null,It=null,_n=null,Nd=!1,Cl=!1,Io=!1,Id=0,su=0,Rl=null,ED=0;function nn(){throw Error(s(321))}function Jp(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!qs(i[o],r[o]))return!1;return!0}function Zp(i,r,o,u,p,v){return Tr=v,Ye=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=i===null||i.memoizedState===null?kw:mg,Io=!1,v=o(u,p),Io=!1,Cl&&(v=Qx(r,o,u,p)),Wx(i),v}function Wx(i){J.H=au;var r=It!==null&&It.next!==null;if(Tr=0,_n=It=Ye=null,Nd=!1,su=0,Rl=null,r)throw Error(s(300));i===null||Tn||(i=i.dependencies,i!==null&&xd(i)&&(Tn=!0))}function Qx(i,r,o,u){Ye=i;var p=0;do{if(Cl&&(Rl=null),su=0,Cl=!1,25<=p)throw Error(s(301));if(p+=1,_n=It=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}J.H=Mw,v=r(o,u)}while(Cl);return v}function SD(){var i=J.H,r=i.useState()[0];return r=typeof r.then=="function"?iu(r):r,i=i.useState()[0],(It!==null?It.memoizedState:null)!==i&&(Ye.flags|=1024),r}function eg(){var i=Id!==0;return Id=0,i}function tg(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function ng(i){if(Nd){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Nd=!1}Tr=0,_n=It=Ye=null,Cl=!1,su=Id=0,Rl=null}function xs(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?Ye.memoizedState=_n=i:_n=_n.next=i,_n}function fn(){if(It===null){var i=Ye.alternate;i=i!==null?i.memoizedState:null}else i=It.next;var r=_n===null?Ye.memoizedState:_n.next;if(r!==null)_n=r,It=i;else{if(i===null)throw Ye.alternate===null?Error(s(467)):Error(s(310));It=i,i={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},_n===null?Ye.memoizedState=_n=i:_n=_n.next=i}return _n}function Dd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function iu(i){var r=su;return su+=1,Rl===null&&(Rl=[]),i=Bx(Rl,i,r),r=Ye,(_n===null?r.memoizedState:_n.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?kw:mg),i}function kd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return iu(i);if(i.$$typeof===F)return Zn(i)}throw Error(s(438,String(i)))}function sg(i){var r=null,o=Ye.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ye.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Dd(),Ye.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=z;return r.index++,o}function Er(i,r){return typeof r=="function"?r(i):r}function Md(i){var r=fn();return ig(r,It,i)}function ig(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var p=i.baseQueue,v=u.pending;if(v!==null){if(p!==null){var _=p.next;p.next=v.next,v.next=_}r.baseQueue=p=v,u.pending=null}if(v=i.baseState,p===null)i.memoizedState=v;else{r=p.next;var N=_=null,q=null,ie=r,ue=!1;do{var fe=ie.lane&-536870913;if(fe!==ie.lane?(nt&fe)===fe:(Tr&fe)===fe){var ae=ie.revertLane;if(ae===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),fe===_l&&(ue=!0);else if((Tr&ae)===ae){ie=ie.next,ae===_l&&(ue=!0);continue}else fe={lane:0,revertLane:ie.revertLane,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},q===null?(N=q=fe,_=v):q=q.next=fe,Ye.lanes|=ae,Ta|=ae;fe=ie.action,Io&&o(v,fe),v=ie.hasEagerState?ie.eagerState:o(v,fe)}else ae={lane:fe,revertLane:ie.revertLane,gesture:ie.gesture,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},q===null?(N=q=ae,_=v):q=q.next=ae,Ye.lanes|=fe,Ta|=fe;ie=ie.next}while(ie!==null&&ie!==r);if(q===null?_=v:q.next=N,!qs(v,i.memoizedState)&&(Tn=!0,ue&&(o=Tl,o!==null)))throw o;i.memoizedState=v,i.baseState=_,i.baseQueue=q,u.lastRenderedState=v}return p===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function rg(i){var r=fn(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,p=o.pending,v=r.memoizedState;if(p!==null){o.pending=null;var _=p=p.next;do v=i(v,_.action),_=_.next;while(_!==p);qs(v,r.memoizedState)||(Tn=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),o.lastRenderedState=v}return[v,u]}function Jx(i,r,o){var u=Ye,p=fn(),v=lt;if(v){if(o===void 0)throw Error(s(407));o=o()}else o=r();var _=!qs((It||p).memoizedState,o);if(_&&(p.memoizedState=o,Tn=!0),p=p.queue,lg(tw.bind(null,u,p,i),[i]),p.getSnapshot!==r||_||_n!==null&&_n.memoizedState.tag&1){if(u.flags|=2048,Nl(9,{destroy:void 0},ew.bind(null,u,p,o,r),null),Pt===null)throw Error(s(349));v||(Tr&127)!==0||Zx(u,r,o)}return o}function Zx(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ye.updateQueue,r===null?(r=Dd(),Ye.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function ew(i,r,o,u){r.value=o,r.getSnapshot=u,nw(r)&&sw(i)}function tw(i,r,o){return o(function(){nw(r)&&sw(i)})}function nw(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!qs(i,o)}catch{return!0}}function sw(i){var r=wo(i,2);r!==null&&js(r,i,2)}function ag(i){var r=xs();if(typeof i=="function"){var o=i;if(i=o(),Io){In(!0);try{o()}finally{In(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:i},r}function iw(i,r,o,u){return i.baseState=o,ig(i,It,typeof u=="function"?u:Er)}function AD(i,r,o,u,p){if(Od(i))throw Error(s(485));if(i=r.action,i!==null){var v={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){v.listeners.push(_)}};J.T!==null?o(!0):v.isTransition=!1,u(v),o=r.pending,o===null?(v.next=r.pending=v,rw(r,v)):(v.next=o.next,r.pending=o.next=v)}}function rw(i,r){var o=r.action,u=r.payload,p=i.state;if(r.isTransition){var v=J.T,_={};J.T=_;try{var N=o(p,u),q=J.S;q!==null&&q(_,N),aw(i,r,N)}catch(ie){og(i,r,ie)}finally{v!==null&&_.types!==null&&(v.types=_.types),J.T=v}}else try{v=o(p,u),aw(i,r,v)}catch(ie){og(i,r,ie)}}function aw(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){ow(i,r,u)},function(u){return og(i,r,u)}):ow(i,r,o)}function ow(i,r,o){r.status="fulfilled",r.value=o,lw(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,rw(i,o)))}function og(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,lw(r),r=r.next;while(r!==u)}i.action=null}function lw(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function cw(i,r){return r}function uw(i,r){if(lt){var o=Pt.formState;if(o!==null){e:{var u=Ye;if(lt){if(Ut){t:{for(var p=Ut,v=ui;p.nodeType!==8;){if(!v){p=null;break t}if(p=di(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){Ut=di(p.nextSibling),u=p.data==="F!";break e}}ma(u)}u=!1}u&&(r=o[0])}}return o=xs(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cw,lastRenderedState:r},o.queue=u,o=Nw.bind(null,Ye,u),u.dispatch=o,u=ag(!1),v=fg.bind(null,Ye,!1,u.queue),u=xs(),p={state:r,dispatch:null,action:i,pending:null},u.queue=p,o=AD.bind(null,Ye,p,v,o),p.dispatch=o,u.memoizedState=i,[r,o,!1]}function hw(i){var r=fn();return dw(r,It,i)}function dw(i,r,o){if(r=ig(i,r,cw)[0],i=Md(Er)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=iu(r)}catch(_){throw _===El?Td:_}else u=r;r=fn();var p=r.queue,v=p.dispatch;return o!==r.memoizedState&&(Ye.flags|=2048,Nl(9,{destroy:void 0},CD.bind(null,p,o),null)),[u,v,i]}function CD(i,r){i.action=r}function fw(i){var r=fn(),o=It;if(o!==null)return dw(r,o,i);fn(),r=r.memoizedState,o=fn();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function Nl(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Ye.updateQueue,r===null&&(r=Dd(),Ye.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function mw(){return fn().memoizedState}function Pd(i,r,o,u){var p=xs();Ye.flags|=i,p.memoizedState=Nl(1|r,{destroy:void 0},o,u===void 0?null:u)}function jd(i,r,o,u){var p=fn();u=u===void 0?null:u;var v=p.memoizedState.inst;It!==null&&u!==null&&Jp(u,It.memoizedState.deps)?p.memoizedState=Nl(r,v,o,u):(Ye.flags|=i,p.memoizedState=Nl(1|r,v,o,u))}function pw(i,r){Pd(8390656,8,i,r)}function lg(i,r){jd(2048,8,i,r)}function RD(i){Ye.flags|=4;var r=Ye.updateQueue;if(r===null)r=Dd(),Ye.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function gw(i){var r=fn().memoizedState;return RD({ref:r,nextImpl:i}),function(){if((wt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function yw(i,r){return jd(4,2,i,r)}function vw(i,r){return jd(4,4,i,r)}function bw(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function xw(i,r,o){o=o!=null?o.concat([i]):null,jd(4,4,bw.bind(null,r,i),o)}function cg(){}function ww(i,r){var o=fn();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Jp(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function _w(i,r){var o=fn();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Jp(r,u[1]))return u[0];if(u=i(),Io){In(!0);try{i()}finally{In(!1)}}return o.memoizedState=[u,r],u}function ug(i,r,o){return o===void 0||(Tr&1073741824)!==0&&(nt&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=T_(),Ye.lanes|=i,Ta|=i,o)}function Tw(i,r,o,u){return qs(o,r)?o:Al.current!==null?(i=ug(i,o,u),qs(i,r)||(Tn=!0),i):(Tr&42)===0||(Tr&1073741824)!==0&&(nt&261930)===0?(Tn=!0,i.memoizedState=o):(i=T_(),Ye.lanes|=i,Ta|=i,r)}function Ew(i,r,o,u,p){var v=Y.p;Y.p=v!==0&&8>v?v:8;var _=J.T,N={};J.T=N,fg(i,!1,r,o);try{var q=p(),ie=J.S;if(ie!==null&&ie(N,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ue=TD(q,u);ru(i,r,ue,Xs(i))}else ru(i,r,u,Xs(i))}catch(fe){ru(i,r,{then:function(){},status:"rejected",reason:fe},Xs())}finally{Y.p=v,_!==null&&N.types!==null&&(_.types=N.types),J.T=_}}function ND(){}function hg(i,r,o,u){if(i.tag!==5)throw Error(s(476));var p=Sw(i).queue;Ew(i,p,r,$,o===null?ND:function(){return Aw(i),o(u)})}function Sw(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:$},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Aw(i){var r=Sw(i);r.next===null&&(r=i.alternate.memoizedState),ru(i,r.next.queue,{},Xs())}function dg(){return Zn(_u)}function Cw(){return fn().memoizedState}function Rw(){return fn().memoizedState}function ID(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Xs();i=ya(o);var u=va(r,i,o);u!==null&&(js(u,r,o),eu(u,r,o)),r={cache:Bp()},i.payload=r;return}r=r.return}}function DD(i,r,o){var u=Xs();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Od(i)?Iw(r,o):(o=Ip(i,r,o,u),o!==null&&(js(o,i,u),Dw(o,r,u)))}function Nw(i,r,o){var u=Xs();ru(i,r,o,u)}function ru(i,r,o,u){var p={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Od(i))Iw(r,p);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var _=r.lastRenderedState,N=v(_,o);if(p.hasEagerState=!0,p.eagerState=N,qs(N,_))return gd(i,r,p,0),Pt===null&&pd(),!1}catch{}if(o=Ip(i,r,p,u),o!==null)return js(o,i,u),Dw(o,r,u),!0}return!1}function fg(i,r,o,u){if(u={lane:2,revertLane:Gg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Od(i)){if(r)throw Error(s(479))}else r=Ip(i,o,u,2),r!==null&&js(r,i,2)}function Od(i){var r=i.alternate;return i===Ye||r!==null&&r===Ye}function Iw(i,r){Cl=Nd=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function Dw(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,zn(i,o)}}var au={readContext:Zn,use:kd,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useInsertionEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useSyncExternalStore:nn,useId:nn,useHostTransitionStatus:nn,useFormState:nn,useActionState:nn,useOptimistic:nn,useMemoCache:nn,useCacheRefresh:nn};au.useEffectEvent=nn;var kw={readContext:Zn,use:kd,useCallback:function(i,r){return xs().memoizedState=[i,r===void 0?null:r],i},useContext:Zn,useEffect:pw,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Pd(4194308,4,bw.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Pd(4194308,4,i,r)},useInsertionEffect:function(i,r){Pd(4,2,i,r)},useMemo:function(i,r){var o=xs();r=r===void 0?null:r;var u=i();if(Io){In(!0);try{i()}finally{In(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=xs();if(o!==void 0){var p=o(r);if(Io){In(!0);try{o(r)}finally{In(!1)}}}else p=r;return u.memoizedState=u.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},u.queue=i,i=i.dispatch=DD.bind(null,Ye,i),[u.memoizedState,i]},useRef:function(i){var r=xs();return i={current:i},r.memoizedState=i},useState:function(i){i=ag(i);var r=i.queue,o=Nw.bind(null,Ye,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:cg,useDeferredValue:function(i,r){var o=xs();return ug(o,i,r)},useTransition:function(){var i=ag(!1);return i=Ew.bind(null,Ye,i.queue,!0,!1),xs().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Ye,p=xs();if(lt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),Pt===null)throw Error(s(349));(nt&127)!==0||Zx(u,r,o)}p.memoizedState=o;var v={value:o,getSnapshot:r};return p.queue=v,pw(tw.bind(null,u,v,i),[i]),u.flags|=2048,Nl(9,{destroy:void 0},ew.bind(null,u,v,o,r),null),o},useId:function(){var i=xs(),r=Pt.identifierPrefix;if(lt){var o=Qi,u=Wi;o=(u&~(1<<32-ht(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Id++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=ED++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:dg,useFormState:uw,useActionState:uw,useOptimistic:function(i){var r=xs();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=fg.bind(null,Ye,!0,o),o.dispatch=r,[i,r]},useMemoCache:sg,useCacheRefresh:function(){return xs().memoizedState=ID.bind(null,Ye)},useEffectEvent:function(i){var r=xs(),o={impl:i};return r.memoizedState=o,function(){if((wt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},mg={readContext:Zn,use:kd,useCallback:ww,useContext:Zn,useEffect:lg,useImperativeHandle:xw,useInsertionEffect:yw,useLayoutEffect:vw,useMemo:_w,useReducer:Md,useRef:mw,useState:function(){return Md(Er)},useDebugValue:cg,useDeferredValue:function(i,r){var o=fn();return Tw(o,It.memoizedState,i,r)},useTransition:function(){var i=Md(Er)[0],r=fn().memoizedState;return[typeof i=="boolean"?i:iu(i),r]},useSyncExternalStore:Jx,useId:Cw,useHostTransitionStatus:dg,useFormState:hw,useActionState:hw,useOptimistic:function(i,r){var o=fn();return iw(o,It,i,r)},useMemoCache:sg,useCacheRefresh:Rw};mg.useEffectEvent=gw;var Mw={readContext:Zn,use:kd,useCallback:ww,useContext:Zn,useEffect:lg,useImperativeHandle:xw,useInsertionEffect:yw,useLayoutEffect:vw,useMemo:_w,useReducer:rg,useRef:mw,useState:function(){return rg(Er)},useDebugValue:cg,useDeferredValue:function(i,r){var o=fn();return It===null?ug(o,i,r):Tw(o,It.memoizedState,i,r)},useTransition:function(){var i=rg(Er)[0],r=fn().memoizedState;return[typeof i=="boolean"?i:iu(i),r]},useSyncExternalStore:Jx,useId:Cw,useHostTransitionStatus:dg,useFormState:fw,useActionState:fw,useOptimistic:function(i,r){var o=fn();return It!==null?iw(o,It,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:sg,useCacheRefresh:Rw};Mw.useEffectEvent=gw;function pg(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:b({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var gg={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Xs(),p=ya(u);p.payload=r,o!=null&&(p.callback=o),r=va(i,p,u),r!==null&&(js(r,i,u),eu(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Xs(),p=ya(u);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=va(i,p,u),r!==null&&(js(r,i,u),eu(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Xs(),u=ya(o);u.tag=2,r!=null&&(u.callback=r),r=va(i,u,o),r!==null&&(js(r,i,o),eu(r,i,o))}};function Pw(i,r,o,u,p,v,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,v,_):r.prototype&&r.prototype.isPureReactComponent?!$c(o,u)||!$c(p,v):!0}function jw(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&gg.enqueueReplaceState(r,r.state,null)}function Do(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=b({},o));for(var p in i)o[p]===void 0&&(o[p]=i[p])}return o}function Ow(i){md(i)}function Vw(i){console.error(i)}function Lw(i){md(i)}function Vd(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Uw(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function yg(i,r,o){return o=ya(o),o.tag=3,o.payload={element:null},o.callback=function(){Vd(i,r)},o}function zw(i){return i=ya(i),i.tag=3,i}function Bw(i,r,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var v=u.value;i.payload=function(){return p(v)},i.callback=function(){Uw(r,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){Uw(r,o,u),typeof p!="function"&&(Ea===null?Ea=new Set([this]):Ea.add(this));var N=u.stack;this.componentDidCatch(u.value,{componentStack:N!==null?N:""})})}function kD(i,r,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&wl(r,o,p,!0),o=Gs.current,o!==null){switch(o.tag){case 31:case 13:return hi===null?Xd():o.alternate===null&&sn===0&&(sn=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===Ed?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Fg(i,u,p)),!1;case 22:return o.flags|=65536,u===Ed?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Fg(i,u,p)),!1}throw Error(s(435,o.tag))}return Fg(i,u,p),Xd(),!1}if(lt)return r=Gs.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,u!==Op&&(i=Error(s(422),{cause:u}),Xc(oi(i,o)))):(u!==Op&&(r=Error(s(423),{cause:u}),Xc(oi(r,o))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,u=oi(u,o),p=yg(i.stateNode,u,p),Kp(i,p),sn!==4&&(sn=2)),!1;var v=Error(s(520),{cause:u});if(v=oi(v,o),mu===null?mu=[v]:mu.push(v),sn!==4&&(sn=2),r===null)return!0;u=oi(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=p&-p,o.lanes|=i,i=yg(o.stateNode,u,i),Kp(o,i),!1;case 1:if(r=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ea===null||!Ea.has(v))))return o.flags|=65536,p&=-p,o.lanes|=p,p=zw(p),Bw(p,i,o,u),Kp(o,p),!1}o=o.return}while(o!==null);return!1}var vg=Error(s(461)),Tn=!1;function es(i,r,o,u){r.child=i===null?Gx(r,null,o,u):No(r,i.child,o,u)}function Fw(i,r,o,u,p){o=o.render;var v=r.ref;if("ref"in u){var _={};for(var N in u)N!=="ref"&&(_[N]=u[N])}else _=u;return So(r),u=Zp(i,r,o,_,v,p),N=eg(),i!==null&&!Tn?(tg(i,r,p),Sr(i,r,p)):(lt&&N&&Pp(r),r.flags|=1,es(i,r,u,p),r.child)}function qw(i,r,o,u,p){if(i===null){var v=o.type;return typeof v=="function"&&!Dp(v)&&v.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=v,Hw(i,r,v,u,p)):(i=vd(o.type,null,u,r,r.mode,p),i.ref=r.ref,i.return=r,r.child=i)}if(v=i.child,!Ag(i,p)){var _=v.memoizedProps;if(o=o.compare,o=o!==null?o:$c,o(_,u)&&i.ref===r.ref)return Sr(i,r,p)}return r.flags|=1,i=br(v,u),i.ref=r.ref,i.return=r,r.child=i}function Hw(i,r,o,u,p){if(i!==null){var v=i.memoizedProps;if($c(v,u)&&i.ref===r.ref)if(Tn=!1,r.pendingProps=u=v,Ag(i,p))(i.flags&131072)!==0&&(Tn=!0);else return r.lanes=i.lanes,Sr(i,r,p)}return bg(i,r,o,u,p)}function Gw(i,r,o,u){var p=u.children,v=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(v=v!==null?v.baseLanes|o:o,i!==null){for(u=r.child=i.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~v}else u=0,r.child=null;return $w(i,r,v,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&_d(r,v!==null?v.cachePool:null),v!==null?Yx(r,v):Xp(),Xx(r);else return u=r.lanes=536870912,$w(i,r,v!==null?v.baseLanes|o:o,o,u)}else v!==null?(_d(r,v.cachePool),Yx(r,v),xa(),r.memoizedState=null):(i!==null&&_d(r,null),Xp(),xa());return es(i,r,p,o),r.child}function ou(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function $w(i,r,o,u,p){var v=qp();return v=v===null?null:{parent:wn._currentValue,pool:v},r.memoizedState={baseLanes:o,cachePool:v},i!==null&&_d(r,null),Xp(),Xx(r),i!==null&&wl(i,r,u,!0),r.childLanes=p,null}function Ld(i,r){return r=zd({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function Kw(i,r,o){return No(r,i.child,null,o),i=Ld(r,r.pendingProps),i.flags|=2,$s(r),r.memoizedState=null,i}function MD(i,r,o){var u=r.pendingProps,p=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(lt){if(u.mode==="hidden")return i=Ld(r,u),r.lanes=536870912,ou(null,i);if(Qp(r),(i=Ut)?(i=r1(i,ui),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:da!==null?{id:Wi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},o=Ix(i),o.return=r,r.child=o,Jn=r,Ut=null)):i=null,i===null)throw ma(r);return r.lanes=536870912,null}return Ld(r,u)}var v=i.memoizedState;if(v!==null){var _=v.dehydrated;if(Qp(r),p)if(r.flags&256)r.flags&=-257,r=Kw(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Tn||wl(i,r,o,!1),p=(o&i.childLanes)!==0,Tn||p){if(u=Pt,u!==null&&(_=Xn(u,o),_!==0&&_!==v.retryLane))throw v.retryLane=_,wo(i,_),js(u,i,_),vg;Xd(),r=Kw(i,r,o)}else i=v.treeContext,Ut=di(_.nextSibling),Jn=r,lt=!0,fa=null,ui=!1,i!==null&&Mx(r,i),r=Ld(r,u),r.flags|=4096;return r}return i=br(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Ud(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function bg(i,r,o,u,p){return So(r),o=Zp(i,r,o,u,void 0,p),u=eg(),i!==null&&!Tn?(tg(i,r,p),Sr(i,r,p)):(lt&&u&&Pp(r),r.flags|=1,es(i,r,o,p),r.child)}function Yw(i,r,o,u,p,v){return So(r),r.updateQueue=null,o=Qx(r,u,o,p),Wx(i),u=eg(),i!==null&&!Tn?(tg(i,r,v),Sr(i,r,v)):(lt&&u&&Pp(r),r.flags|=1,es(i,r,o,v),r.child)}function Xw(i,r,o,u,p){if(So(r),r.stateNode===null){var v=yl,_=o.contextType;typeof _=="object"&&_!==null&&(v=Zn(_)),v=new o(u,v),r.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=gg,r.stateNode=v,v._reactInternals=r,v=r.stateNode,v.props=u,v.state=r.memoizedState,v.refs={},Gp(r),_=o.contextType,v.context=typeof _=="object"&&_!==null?Zn(_):yl,v.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(pg(r,o,_,u),v.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(_=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),_!==v.state&&gg.enqueueReplaceState(v,v.state,null),nu(r,u,v,p),tu(),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){v=r.stateNode;var N=r.memoizedProps,q=Do(o,N);v.props=q;var ie=v.context,ue=o.contextType;_=yl,typeof ue=="object"&&ue!==null&&(_=Zn(ue));var fe=o.getDerivedStateFromProps;ue=typeof fe=="function"||typeof v.getSnapshotBeforeUpdate=="function",N=r.pendingProps!==N,ue||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(N||ie!==_)&&jw(r,v,u,_),ga=!1;var ae=r.memoizedState;v.state=ae,nu(r,u,v,p),tu(),ie=r.memoizedState,N||ae!==ie||ga?(typeof fe=="function"&&(pg(r,o,fe,u),ie=r.memoizedState),(q=ga||Pw(r,o,q,u,ae,ie,_))?(ue||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=ie),v.props=u,v.state=ie,v.context=_,u=q):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{v=r.stateNode,$p(i,r),_=r.memoizedProps,ue=Do(o,_),v.props=ue,fe=r.pendingProps,ae=v.context,ie=o.contextType,q=yl,typeof ie=="object"&&ie!==null&&(q=Zn(ie)),N=o.getDerivedStateFromProps,(ie=typeof N=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(_!==fe||ae!==q)&&jw(r,v,u,q),ga=!1,ae=r.memoizedState,v.state=ae,nu(r,u,v,p),tu();var le=r.memoizedState;_!==fe||ae!==le||ga||i!==null&&i.dependencies!==null&&xd(i.dependencies)?(typeof N=="function"&&(pg(r,o,N,u),le=r.memoizedState),(ue=ga||Pw(r,o,ue,u,ae,le,q)||i!==null&&i.dependencies!==null&&xd(i.dependencies))?(ie||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,le,q),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,le,q)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||_===i.memoizedProps&&ae===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&ae===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=le),v.props=u,v.state=le,v.context=q,u=ue):(typeof v.componentDidUpdate!="function"||_===i.memoizedProps&&ae===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&ae===i.memoizedState||(r.flags|=1024),u=!1)}return v=u,Ud(i,r),u=(r.flags&128)!==0,v||u?(v=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:v.render(),r.flags|=1,i!==null&&u?(r.child=No(r,i.child,null,p),r.child=No(r,null,o,p)):es(i,r,o,p),r.memoizedState=v.state,i=r.child):i=Sr(i,r,p),i}function Ww(i,r,o,u){return To(),r.flags|=256,es(i,r,o,u),r.child}var xg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wg(i){return{baseLanes:i,cachePool:Ux()}}function _g(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Ys),i}function Qw(i,r,o){var u=r.pendingProps,p=!1,v=(r.flags&128)!==0,_;if((_=v)||(_=i!==null&&i.memoizedState===null?!1:(dn.current&2)!==0),_&&(p=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,i===null){if(lt){if(p?ba(r):xa(),(i=Ut)?(i=r1(i,ui),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:da!==null?{id:Wi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},o=Ix(i),o.return=r,r.child=o,Jn=r,Ut=null)):i=null,i===null)throw ma(r);return iy(i)?r.lanes=32:r.lanes=536870912,null}var N=u.children;return u=u.fallback,p?(xa(),p=r.mode,N=zd({mode:"hidden",children:N},p),u=_o(u,p,o,null),N.return=r,u.return=r,N.sibling=u,r.child=N,u=r.child,u.memoizedState=wg(o),u.childLanes=_g(i,_,o),r.memoizedState=xg,ou(null,u)):(ba(r),Tg(r,N))}var q=i.memoizedState;if(q!==null&&(N=q.dehydrated,N!==null)){if(v)r.flags&256?(ba(r),r.flags&=-257,r=Eg(i,r,o)):r.memoizedState!==null?(xa(),r.child=i.child,r.flags|=128,r=null):(xa(),N=u.fallback,p=r.mode,u=zd({mode:"visible",children:u.children},p),N=_o(N,p,o,null),N.flags|=2,u.return=r,N.return=r,u.sibling=N,r.child=u,No(r,i.child,null,o),u=r.child,u.memoizedState=wg(o),u.childLanes=_g(i,_,o),r.memoizedState=xg,r=ou(null,u));else if(ba(r),iy(N)){if(_=N.nextSibling&&N.nextSibling.dataset,_)var ie=_.dgst;_=ie,u=Error(s(419)),u.stack="",u.digest=_,Xc({value:u,source:null,stack:null}),r=Eg(i,r,o)}else if(Tn||wl(i,r,o,!1),_=(o&i.childLanes)!==0,Tn||_){if(_=Pt,_!==null&&(u=Xn(_,o),u!==0&&u!==q.retryLane))throw q.retryLane=u,wo(i,u),js(_,i,u),vg;sy(N)||Xd(),r=Eg(i,r,o)}else sy(N)?(r.flags|=192,r.child=i.child,r=null):(i=q.treeContext,Ut=di(N.nextSibling),Jn=r,lt=!0,fa=null,ui=!1,i!==null&&Mx(r,i),r=Tg(r,u.children),r.flags|=4096);return r}return p?(xa(),N=u.fallback,p=r.mode,q=i.child,ie=q.sibling,u=br(q,{mode:"hidden",children:u.children}),u.subtreeFlags=q.subtreeFlags&65011712,ie!==null?N=br(ie,N):(N=_o(N,p,o,null),N.flags|=2),N.return=r,u.return=r,u.sibling=N,r.child=u,ou(null,u),u=r.child,N=i.child.memoizedState,N===null?N=wg(o):(p=N.cachePool,p!==null?(q=wn._currentValue,p=p.parent!==q?{parent:q,pool:q}:p):p=Ux(),N={baseLanes:N.baseLanes|o,cachePool:p}),u.memoizedState=N,u.childLanes=_g(i,_,o),r.memoizedState=xg,ou(i.child,u)):(ba(r),o=i.child,i=o.sibling,o=br(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(_=r.deletions,_===null?(r.deletions=[i],r.flags|=16):_.push(i)),r.child=o,r.memoizedState=null,o)}function Tg(i,r){return r=zd({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function zd(i,r){return i=Hs(22,i,null,r),i.lanes=0,i}function Eg(i,r,o){return No(r,i.child,null,o),i=Tg(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Jw(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Up(i.return,r,o)}function Sg(i,r,o,u,p,v){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p,treeForkCount:v}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=p,_.treeForkCount=v)}function Zw(i,r,o){var u=r.pendingProps,p=u.revealOrder,v=u.tail;u=u.children;var _=dn.current,N=(_&2)!==0;if(N?(_=_&1|2,r.flags|=128):_&=1,X(dn,_),es(i,r,u,o),u=lt?Yc:0,!N&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Jw(i,o,r);else if(i.tag===19)Jw(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(o=r.child,p=null;o!==null;)i=o.alternate,i!==null&&Rd(i)===null&&(p=o),o=o.sibling;o=p,o===null?(p=r.child,r.child=null):(p=o.sibling,o.sibling=null),Sg(r,!1,p,o,v,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=r.child,r.child=null;p!==null;){if(i=p.alternate,i!==null&&Rd(i)===null){r.child=p;break}i=p.sibling,p.sibling=o,o=p,p=i}Sg(r,!0,o,null,v,u);break;case"together":Sg(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Sr(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Ta|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(wl(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=br(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=br(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Ag(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&xd(i)))}function PD(i,r,o){switch(r.tag){case 3:_e(r,r.stateNode.containerInfo),pa(r,wn,i.memoizedState.cache),To();break;case 27:case 5:Ce(r);break;case 4:_e(r,r.stateNode.containerInfo);break;case 10:pa(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Qp(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(ba(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Qw(i,r,o):(ba(r),i=Sr(i,r,o),i!==null?i.sibling:null);ba(r);break;case 19:var p=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(wl(i,r,o,!1),u=(o&r.childLanes)!==0),p){if(u)return Zw(i,r,o);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),X(dn,dn.current),u)break;return null;case 22:return r.lanes=0,Gw(i,r,o,r.pendingProps);case 24:pa(r,wn,i.memoizedState.cache)}return Sr(i,r,o)}function e_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Tn=!0;else{if(!Ag(i,o)&&(r.flags&128)===0)return Tn=!1,PD(i,r,o);Tn=(i.flags&131072)!==0}else Tn=!1,lt&&(r.flags&1048576)!==0&&kx(r,Yc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=Co(r.elementType),r.type=i,typeof i=="function")Dp(i)?(u=Do(i,u),r.tag=1,r=Xw(null,r,i,u,o)):(r.tag=0,r=bg(null,r,i,u,o));else{if(i!=null){var p=i.$$typeof;if(p===re){r.tag=11,r=Fw(null,r,i,u,o);break e}else if(p===k){r.tag=14,r=qw(null,r,i,u,o);break e}}throw r=be(i)||i,Error(s(306,r,""))}}return r;case 0:return bg(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,p=Do(u,r.pendingProps),Xw(i,r,u,p,o);case 3:e:{if(_e(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var v=r.memoizedState;p=v.element,$p(i,r),nu(r,u,null,o);var _=r.memoizedState;if(u=_.cache,pa(r,wn,u),u!==v.cache&&zp(r,[wn],o,!0),tu(),u=_.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){r=Ww(i,r,u,o);break e}else if(u!==p){p=oi(Error(s(424)),r),Xc(p),r=Ww(i,r,u,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Ut=di(i.firstChild),Jn=r,lt=!0,fa=null,ui=!0,o=Gx(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(To(),u===p){r=Sr(i,r,o);break e}es(i,r,u,o)}r=r.child}return r;case 26:return Ud(i,r),i===null?(o=h1(r.type,null,r.pendingProps,null))?r.memoizedState=o:lt||(o=r.type,i=r.pendingProps,u=nf(ye.current).createElement(o),u[Ft]=r,u[bn]=i,ts(u,o,i),Yt(u),r.stateNode=u):r.memoizedState=h1(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Ce(r),i===null&&lt&&(u=r.stateNode=l1(r.type,r.pendingProps,ye.current),Jn=r,ui=!0,p=Ut,Ra(r.type)?(ry=p,Ut=di(u.firstChild)):Ut=p),es(i,r,r.pendingProps.children,o),Ud(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&lt&&((p=u=Ut)&&(u=uk(u,r.type,r.pendingProps,ui),u!==null?(r.stateNode=u,Jn=r,Ut=di(u.firstChild),ui=!1,p=!0):p=!1),p||ma(r)),Ce(r),p=r.type,v=r.pendingProps,_=i!==null?i.memoizedProps:null,u=v.children,ey(p,v)?u=null:_!==null&&ey(p,_)&&(r.flags|=32),r.memoizedState!==null&&(p=Zp(i,r,SD,null,null,o),_u._currentValue=p),Ud(i,r),es(i,r,u,o),r.child;case 6:return i===null&&lt&&((i=o=Ut)&&(o=hk(o,r.pendingProps,ui),o!==null?(r.stateNode=o,Jn=r,Ut=null,i=!0):i=!1),i||ma(r)),null;case 13:return Qw(i,r,o);case 4:return _e(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=No(r,null,u,o):es(i,r,u,o),r.child;case 11:return Fw(i,r,r.type,r.pendingProps,o);case 7:return es(i,r,r.pendingProps,o),r.child;case 8:return es(i,r,r.pendingProps.children,o),r.child;case 12:return es(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,pa(r,r.type,u.value),es(i,r,u.children,o),r.child;case 9:return p=r.type._context,u=r.pendingProps.children,So(r),p=Zn(p),u=u(p),r.flags|=1,es(i,r,u,o),r.child;case 14:return qw(i,r,r.type,r.pendingProps,o);case 15:return Hw(i,r,r.type,r.pendingProps,o);case 19:return Zw(i,r,o);case 31:return MD(i,r,o);case 22:return Gw(i,r,o,r.pendingProps);case 24:return So(r),u=Zn(wn),i===null?(p=qp(),p===null&&(p=Pt,v=Bp(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=o),p=v),r.memoizedState={parent:u,cache:p},Gp(r),pa(r,wn,p)):((i.lanes&o)!==0&&($p(i,r),nu(r,null,null,o),tu()),p=i.memoizedState,v=r.memoizedState,p.parent!==u?(p={parent:u,cache:u},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),pa(r,wn,u)):(u=v.cache,pa(r,wn,u),u!==p.cache&&zp(r,[wn],o,!0))),es(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ar(i){i.flags|=4}function Cg(i,r,o,u,p){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(C_())i.flags|=8192;else throw Ro=Ed,Hp}else i.flags&=-16777217}function t_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!g1(r))if(C_())i.flags|=8192;else throw Ro=Ed,Hp}function Bd(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?en():536870912,i.lanes|=r,Ml|=r)}function lu(i,r){if(!lt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function zt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var p=i.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function jD(i,r,o){var u=r.pendingProps;switch(jp(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(r),null;case 1:return zt(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),_r(wn),Ee(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(xl(r)?Ar(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Vp())),zt(r),null;case 26:var p=r.type,v=r.memoizedState;return i===null?(Ar(r),v!==null?(zt(r),t_(r,v)):(zt(r),Cg(r,p,null,u,o))):v?v!==i.memoizedState?(Ar(r),zt(r),t_(r,v)):(zt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&Ar(r),zt(r),Cg(r,p,i,u,o)),null;case 27:if(Ue(r),o=ye.current,p=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Ar(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return zt(r),null}i=ee.current,xl(r)?Px(r):(i=l1(p,u,o),r.stateNode=i,Ar(r))}return zt(r),null;case 5:if(Ue(r),p=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Ar(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return zt(r),null}if(v=ee.current,xl(r))Px(r);else{var _=nf(ye.current);switch(v){case 1:v=_.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:v=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":v=_.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":v=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":v=_.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?v.multiple=!0:u.size&&(v.size=u.size);break;default:v=typeof u.is=="string"?_.createElement(p,{is:u.is}):_.createElement(p)}}v[Ft]=r,v[bn]=u;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)v.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=v;e:switch(ts(v,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Ar(r)}}return zt(r),Cg(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&Ar(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=ye.current,xl(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,p=Jn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}i[Ft]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Q_(i.nodeValue,o)),i||ma(r,!0)}else i=nf(i).createTextNode(u),i[Ft]=r,r.stateNode=i}return zt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=xl(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Ft]=r}else To(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;zt(r),i=!1}else o=Vp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?($s(r),r):($s(r),null);if((r.flags&128)!==0)throw Error(s(558))}return zt(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=xl(r),u!==null&&u.dehydrated!==null){if(i===null){if(!p)throw Error(s(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[Ft]=r}else To(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;zt(r),p=!1}else p=Vp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?($s(r),r):($s(r),null)}return $s(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==p&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Bd(r,r.updateQueue),zt(r),null);case 4:return Ee(),i===null&&Xg(r.stateNode.containerInfo),zt(r),null;case 10:return _r(r.type),zt(r),null;case 19:if(U(dn),u=r.memoizedState,u===null)return zt(r),null;if(p=(r.flags&128)!==0,v=u.rendering,v===null)if(p)lu(u,!1);else{if(sn!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(v=Rd(i),v!==null){for(r.flags|=128,lu(u,!1),i=v.updateQueue,r.updateQueue=i,Bd(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Nx(o,i),o=o.sibling;return X(dn,dn.current&1|2),lt&&xr(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&ft()>$d&&(r.flags|=128,p=!0,lu(u,!1),r.lanes=4194304)}else{if(!p)if(i=Rd(v),i!==null){if(r.flags|=128,p=!0,i=i.updateQueue,r.updateQueue=i,Bd(r,i),lu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!v.alternate&&!lt)return zt(r),null}else 2*ft()-u.renderingStartTime>$d&&o!==536870912&&(r.flags|=128,p=!0,lu(u,!1),r.lanes=4194304);u.isBackwards?(v.sibling=r.child,r.child=v):(i=u.last,i!==null?i.sibling=v:r.child=v,u.last=v)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=ft(),i.sibling=null,o=dn.current,X(dn,p?o&1|2:o&1),lt&&xr(r,u.treeForkCount),i):(zt(r),null);case 22:case 23:return $s(r),Wp(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(zt(r),r.subtreeFlags&6&&(r.flags|=8192)):zt(r),o=r.updateQueue,o!==null&&Bd(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&U(Ao),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),_r(wn),zt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function OD(i,r){switch(jp(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return _r(wn),Ee(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ue(r),null;case 31:if(r.memoizedState!==null){if($s(r),r.alternate===null)throw Error(s(340));To()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if($s(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));To()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return U(dn),null;case 4:return Ee(),null;case 10:return _r(r.type),null;case 22:case 23:return $s(r),Wp(),i!==null&&U(Ao),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return _r(wn),null;case 25:return null;default:return null}}function n_(i,r){switch(jp(r),r.tag){case 3:_r(wn),Ee();break;case 26:case 27:case 5:Ue(r);break;case 4:Ee();break;case 31:r.memoizedState!==null&&$s(r);break;case 13:$s(r);break;case 19:U(dn);break;case 10:_r(r.type);break;case 22:case 23:$s(r),Wp(),i!==null&&U(Ao);break;case 24:_r(wn)}}function cu(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&i)===i){u=void 0;var v=o.create,_=o.inst;u=v(),_.destroy=u}o=o.next}while(o!==p)}}catch(N){St(r,r.return,N)}}function wa(i,r,o){try{var u=r.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var v=p.next;u=v;do{if((u.tag&i)===i){var _=u.inst,N=_.destroy;if(N!==void 0){_.destroy=void 0,p=r;var q=o,ie=N;try{ie()}catch(ue){St(p,q,ue)}}}u=u.next}while(u!==v)}}catch(ue){St(r,r.return,ue)}}function s_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Kx(r,o)}catch(u){St(i,i.return,u)}}}function i_(i,r,o){o.props=Do(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){St(i,r,u)}}function uu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(p){St(i,r,p)}}function Ji(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){St(i,r,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){St(i,r,p)}else o.current=null}function r_(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){St(i,i.return,p)}}function Rg(i,r,o){try{var u=i.stateNode;ik(u,i.type,o,r),u[bn]=r}catch(p){St(i,i.return,p)}}function a_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ra(i.type)||i.tag===4}function Ng(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||a_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ra(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ig(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ei));else if(u!==4&&(u===27&&Ra(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Ig(i,r,o),i=i.sibling;i!==null;)Ig(i,r,o),i=i.sibling}function Fd(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&Ra(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Fd(i,r,o),i=i.sibling;i!==null;)Fd(i,r,o),i=i.sibling}function o_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);ts(r,u,o),r[Ft]=i,r[bn]=o}catch(v){St(i,i.return,v)}}var Cr=!1,En=!1,Dg=!1,l_=typeof WeakSet=="function"?WeakSet:Set,Fn=null;function VD(i,r){if(i=i.containerInfo,Jg=uf,i=xx(i),Ep(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var _=0,N=-1,q=-1,ie=0,ue=0,fe=i,ae=null;t:for(;;){for(var le;fe!==o||p!==0&&fe.nodeType!==3||(N=_+p),fe!==v||u!==0&&fe.nodeType!==3||(q=_+u),fe.nodeType===3&&(_+=fe.nodeValue.length),(le=fe.firstChild)!==null;)ae=fe,fe=le;for(;;){if(fe===i)break t;if(ae===o&&++ie===p&&(N=_),ae===v&&++ue===u&&(q=_),(le=fe.nextSibling)!==null)break;fe=ae,ae=fe.parentNode}fe=le}o=N===-1||q===-1?null:{start:N,end:q}}else o=null}o=o||{start:0,end:0}}else o=null;for(Zg={focusedElem:i,selectionRange:o},uf=!1,Fn=r;Fn!==null;)if(r=Fn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Fn=i;else for(;Fn!==null;){switch(r=Fn,v=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)p=i[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,o=r,p=v.memoizedProps,v=v.memoizedState,u=o.stateNode;try{var Re=Do(o.type,p);i=u.getSnapshotBeforeUpdate(Re,v),u.__reactInternalSnapshotBeforeUpdate=i}catch(Oe){St(o,o.return,Oe)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)ny(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ny(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Fn=i;break}Fn=r.return}}function c_(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Nr(i,o),u&4&&cu(5,o);break;case 1:if(Nr(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(_){St(o,o.return,_)}else{var p=Do(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(p,r,i.__reactInternalSnapshotBeforeUpdate)}catch(_){St(o,o.return,_)}}u&64&&s_(o),u&512&&uu(o,o.return);break;case 3:if(Nr(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Kx(i,r)}catch(_){St(o,o.return,_)}}break;case 27:r===null&&u&4&&o_(o);case 26:case 5:Nr(i,o),r===null&&u&4&&r_(o),u&512&&uu(o,o.return);break;case 12:Nr(i,o);break;case 31:Nr(i,o),u&4&&d_(i,o);break;case 13:Nr(i,o),u&4&&f_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=$D.bind(null,o),dk(i,o))));break;case 22:if(u=o.memoizedState!==null||Cr,!u){r=r!==null&&r.memoizedState!==null||En,p=Cr;var v=En;Cr=u,(En=r)&&!v?Ir(i,o,(o.subtreeFlags&8772)!==0):Nr(i,o),Cr=p,En=v}break;case 30:break;default:Nr(i,o)}}function u_(i){var r=i.alternate;r!==null&&(i.alternate=null,u_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ti(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Gt=null,Ds=!1;function Rr(i,r,o){for(o=o.child;o!==null;)h_(i,r,o),o=o.sibling}function h_(i,r,o){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Vn,o)}catch{}switch(o.tag){case 26:En||Ji(o,r),Rr(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:En||Ji(o,r);var u=Gt,p=Ds;Ra(o.type)&&(Gt=o.stateNode,Ds=!1),Rr(i,r,o),bu(o.stateNode),Gt=u,Ds=p;break;case 5:En||Ji(o,r);case 6:if(u=Gt,p=Ds,Gt=null,Rr(i,r,o),Gt=u,Ds=p,Gt!==null)if(Ds)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(o.stateNode)}catch(v){St(o,r,v)}else try{Gt.removeChild(o.stateNode)}catch(v){St(o,r,v)}break;case 18:Gt!==null&&(Ds?(i=Gt,s1(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Bl(i)):s1(Gt,o.stateNode));break;case 4:u=Gt,p=Ds,Gt=o.stateNode.containerInfo,Ds=!0,Rr(i,r,o),Gt=u,Ds=p;break;case 0:case 11:case 14:case 15:wa(2,o,r),En||wa(4,o,r),Rr(i,r,o);break;case 1:En||(Ji(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&i_(o,r,u)),Rr(i,r,o);break;case 21:Rr(i,r,o);break;case 22:En=(u=En)||o.memoizedState!==null,Rr(i,r,o),En=u;break;default:Rr(i,r,o)}}function d_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Bl(i)}catch(o){St(r,r.return,o)}}}function f_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Bl(i)}catch(o){St(r,r.return,o)}}function LD(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new l_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new l_),r;default:throw Error(s(435,i.tag))}}function qd(i,r){var o=LD(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var p=KD.bind(null,i,u);u.then(p,p)}})}function ks(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],v=i,_=r,N=_;e:for(;N!==null;){switch(N.tag){case 27:if(Ra(N.type)){Gt=N.stateNode,Ds=!1;break e}break;case 5:Gt=N.stateNode,Ds=!1;break e;case 3:case 4:Gt=N.stateNode.containerInfo,Ds=!0;break e}N=N.return}if(Gt===null)throw Error(s(160));h_(v,_,p),Gt=null,Ds=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)m_(r,i),r=r.sibling}var Ii=null;function m_(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ks(r,i),Ms(i),u&4&&(wa(3,i,i.return),cu(3,i),wa(5,i,i.return));break;case 1:ks(r,i),Ms(i),u&512&&(En||o===null||Ji(o,o.return)),u&64&&Cr&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=Ii;if(ks(r,i),Ms(i),u&512&&(En||o===null||Ji(o,o.return)),u&4){var v=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":v=p.getElementsByTagName("title")[0],(!v||v[as]||v[Ft]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(u),p.head.insertBefore(v,p.querySelector("head > title"))),ts(v,u,o),v[Ft]=i,Yt(v),u=v;break e;case"link":var _=m1("link","href",p).get(u+(o.href||""));if(_){for(var N=0;N<_.length;N++)if(v=_[N],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(N,1);break t}}v=p.createElement(u),ts(v,u,o),p.head.appendChild(v);break;case"meta":if(_=m1("meta","content",p).get(u+(o.content||""))){for(N=0;N<_.length;N++)if(v=_[N],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(N,1);break t}}v=p.createElement(u),ts(v,u,o),p.head.appendChild(v);break;default:throw Error(s(468,u))}v[Ft]=i,Yt(v),u=v}i.stateNode=u}else p1(p,i.type,i.stateNode);else i.stateNode=f1(p,u,i.memoizedProps);else v!==u?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,u===null?p1(p,i.type,i.stateNode):f1(p,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Rg(i,i.memoizedProps,o.memoizedProps)}break;case 27:ks(r,i),Ms(i),u&512&&(En||o===null||Ji(o,o.return)),o!==null&&u&4&&Rg(i,i.memoizedProps,o.memoizedProps);break;case 5:if(ks(r,i),Ms(i),u&512&&(En||o===null||Ji(o,o.return)),i.flags&32){p=i.stateNode;try{Is(p,"")}catch(Re){St(i,i.return,Re)}}u&4&&i.stateNode!=null&&(p=i.memoizedProps,Rg(i,p,o!==null?o.memoizedProps:p)),u&1024&&(Dg=!0);break;case 6:if(ks(r,i),Ms(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(Re){St(i,i.return,Re)}}break;case 3:if(af=null,p=Ii,Ii=sf(r.containerInfo),ks(r,i),Ii=p,Ms(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Bl(r.containerInfo)}catch(Re){St(i,i.return,Re)}Dg&&(Dg=!1,p_(i));break;case 4:u=Ii,Ii=sf(i.stateNode.containerInfo),ks(r,i),Ms(i),Ii=u;break;case 12:ks(r,i),Ms(i);break;case 31:ks(r,i),Ms(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,qd(i,u)));break;case 13:ks(r,i),Ms(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Gd=ft()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,qd(i,u)));break;case 22:p=i.memoizedState!==null;var q=o!==null&&o.memoizedState!==null,ie=Cr,ue=En;if(Cr=ie||p,En=ue||q,ks(r,i),En=ue,Cr=ie,Ms(i),u&8192)e:for(r=i.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(o===null||q||Cr||En||ko(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){q=o=r;try{if(v=q.stateNode,p)_=v.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{N=q.stateNode;var fe=q.memoizedProps.style,ae=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;N.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(Re){St(q,q.return,Re)}}}else if(r.tag===6){if(o===null){q=r;try{q.stateNode.nodeValue=p?"":q.memoizedProps}catch(Re){St(q,q.return,Re)}}}else if(r.tag===18){if(o===null){q=r;try{var le=q.stateNode;p?i1(le,!0):i1(q.stateNode,!1)}catch(Re){St(q,q.return,Re)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,qd(i,o))));break;case 19:ks(r,i),Ms(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,qd(i,u)));break;case 30:break;case 21:break;default:ks(r,i),Ms(i)}}function Ms(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(a_(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var p=o.stateNode,v=Ng(i);Fd(i,v,p);break;case 5:var _=o.stateNode;o.flags&32&&(Is(_,""),o.flags&=-33);var N=Ng(i);Fd(i,N,_);break;case 3:case 4:var q=o.stateNode.containerInfo,ie=Ng(i);Ig(i,ie,q);break;default:throw Error(s(161))}}catch(ue){St(i,i.return,ue)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function p_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;p_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Nr(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)c_(i,r.alternate,r),r=r.sibling}function ko(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:wa(4,r,r.return),ko(r);break;case 1:Ji(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&i_(r,r.return,o),ko(r);break;case 27:bu(r.stateNode);case 26:case 5:Ji(r,r.return),ko(r);break;case 22:r.memoizedState===null&&ko(r);break;case 30:ko(r);break;default:ko(r)}i=i.sibling}}function Ir(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,p=i,v=r,_=v.flags;switch(v.tag){case 0:case 11:case 15:Ir(p,v,o),cu(4,v);break;case 1:if(Ir(p,v,o),u=v,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(ie){St(u,u.return,ie)}if(u=v,p=u.updateQueue,p!==null){var N=u.stateNode;try{var q=p.shared.hiddenCallbacks;if(q!==null)for(p.shared.hiddenCallbacks=null,p=0;p<q.length;p++)$x(q[p],N)}catch(ie){St(u,u.return,ie)}}o&&_&64&&s_(v),uu(v,v.return);break;case 27:o_(v);case 26:case 5:Ir(p,v,o),o&&u===null&&_&4&&r_(v),uu(v,v.return);break;case 12:Ir(p,v,o);break;case 31:Ir(p,v,o),o&&_&4&&d_(p,v);break;case 13:Ir(p,v,o),o&&_&4&&f_(p,v);break;case 22:v.memoizedState===null&&Ir(p,v,o),uu(v,v.return);break;case 30:break;default:Ir(p,v,o)}r=r.sibling}}function kg(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Wc(o))}function Mg(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Wc(i))}function Di(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)g_(i,r,o,u),r=r.sibling}function g_(i,r,o,u){var p=r.flags;switch(r.tag){case 0:case 11:case 15:Di(i,r,o,u),p&2048&&cu(9,r);break;case 1:Di(i,r,o,u);break;case 3:Di(i,r,o,u),p&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Wc(i)));break;case 12:if(p&2048){Di(i,r,o,u),i=r.stateNode;try{var v=r.memoizedProps,_=v.id,N=v.onPostCommit;typeof N=="function"&&N(_,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(q){St(r,r.return,q)}}else Di(i,r,o,u);break;case 31:Di(i,r,o,u);break;case 13:Di(i,r,o,u);break;case 23:break;case 22:v=r.stateNode,_=r.alternate,r.memoizedState!==null?v._visibility&2?Di(i,r,o,u):hu(i,r):v._visibility&2?Di(i,r,o,u):(v._visibility|=2,Il(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),p&2048&&kg(_,r);break;case 24:Di(i,r,o,u),p&2048&&Mg(r.alternate,r);break;default:Di(i,r,o,u)}}function Il(i,r,o,u,p){for(p=p&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var v=i,_=r,N=o,q=u,ie=_.flags;switch(_.tag){case 0:case 11:case 15:Il(v,_,N,q,p),cu(8,_);break;case 23:break;case 22:var ue=_.stateNode;_.memoizedState!==null?ue._visibility&2?Il(v,_,N,q,p):hu(v,_):(ue._visibility|=2,Il(v,_,N,q,p)),p&&ie&2048&&kg(_.alternate,_);break;case 24:Il(v,_,N,q,p),p&&ie&2048&&Mg(_.alternate,_);break;default:Il(v,_,N,q,p)}r=r.sibling}}function hu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,p=u.flags;switch(u.tag){case 22:hu(o,u),p&2048&&kg(u.alternate,u);break;case 24:hu(o,u),p&2048&&Mg(u.alternate,u);break;default:hu(o,u)}r=r.sibling}}var du=8192;function Dl(i,r,o){if(i.subtreeFlags&du)for(i=i.child;i!==null;)y_(i,r,o),i=i.sibling}function y_(i,r,o){switch(i.tag){case 26:Dl(i,r,o),i.flags&du&&i.memoizedState!==null&&Ek(o,Ii,i.memoizedState,i.memoizedProps);break;case 5:Dl(i,r,o);break;case 3:case 4:var u=Ii;Ii=sf(i.stateNode.containerInfo),Dl(i,r,o),Ii=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=du,du=16777216,Dl(i,r,o),du=u):Dl(i,r,o));break;default:Dl(i,r,o)}}function v_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function fu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Fn=u,x_(u,i)}v_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)b_(i),i=i.sibling}function b_(i){switch(i.tag){case 0:case 11:case 15:fu(i),i.flags&2048&&wa(9,i,i.return);break;case 3:fu(i);break;case 12:fu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Hd(i)):fu(i);break;default:fu(i)}}function Hd(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Fn=u,x_(u,i)}v_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:wa(8,r,r.return),Hd(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Hd(r));break;default:Hd(r)}i=i.sibling}}function x_(i,r){for(;Fn!==null;){var o=Fn;switch(o.tag){case 0:case 11:case 15:wa(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Wc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Fn=u;else e:for(o=i;Fn!==null;){u=Fn;var p=u.sibling,v=u.return;if(u_(u),u===o){Fn=null;break e}if(p!==null){p.return=v,Fn=p;break e}Fn=v}}}var UD={getCacheForType:function(i){var r=Zn(wn),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Zn(wn).controller.signal}},zD=typeof WeakMap=="function"?WeakMap:Map,wt=0,Pt=null,et=null,nt=0,Et=0,Ks=null,_a=!1,kl=!1,Pg=!1,Dr=0,sn=0,Ta=0,Mo=0,jg=0,Ys=0,Ml=0,mu=null,Ps=null,Og=!1,Gd=0,w_=0,$d=1/0,Kd=null,Ea=null,Dn=0,Sa=null,Pl=null,kr=0,Vg=0,Lg=null,__=null,pu=0,Ug=null;function Xs(){return(wt&2)!==0&&nt!==0?nt&-nt:J.T!==null?Gg():vn()}function T_(){if(Ys===0)if((nt&536870912)===0||lt){var i=Cs;Cs<<=1,(Cs&3932160)===0&&(Cs=262144),Ys=i}else Ys=536870912;return i=Gs.current,i!==null&&(i.flags|=32),Ys}function js(i,r,o){(i===Pt&&(Et===2||Et===9)||i.cancelPendingCommit!==null)&&(jl(i,0),Aa(i,nt,Ys,!1)),rs(i,o),((wt&2)===0||i!==Pt)&&(i===Pt&&((wt&2)===0&&(Mo|=o),sn===4&&Aa(i,nt,Ys,!1)),Zi(i))}function E_(i,r,o){if((wt&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||Ot(i,r),p=u?qD(i,r):Bg(i,r,!0),v=u;do{if(p===0){kl&&!u&&Aa(i,r,0,!1);break}else{if(o=i.current.alternate,v&&!BD(o)){p=Bg(i,r,!1),v=!1;continue}if(p===2){if(v=r,i.errorRecoveryDisabledLanes&v)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var N=i;p=mu;var q=N.current.memoizedState.isDehydrated;if(q&&(jl(N,_).flags|=256),_=Bg(N,_,!1),_!==2){if(Pg&&!q){N.errorRecoveryDisabledLanes|=v,Mo|=v,p=4;break e}v=Ps,Ps=p,v!==null&&(Ps===null?Ps=v:Ps.push.apply(Ps,v))}p=_}if(v=!1,p!==2)continue}}if(p===1){jl(i,0),Aa(i,r,0,!0);break}e:{switch(u=i,v=p,v){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Aa(u,r,Ys,!_a);break e;case 2:Ps=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(p=Gd+300-ft(),10<p)){if(Aa(u,r,Ys,!_a),Ze(u,0,!0)!==0)break e;kr=r,u.timeoutHandle=t1(S_.bind(null,u,o,Ps,Kd,Og,r,Ys,Mo,Ml,_a,v,"Throttled",-0,0),p);break e}S_(u,o,Ps,Kd,Og,r,Ys,Mo,Ml,_a,v,null,-0,0)}}break}while(!0);Zi(i)}function S_(i,r,o,u,p,v,_,N,q,ie,ue,fe,ae,le){if(i.timeoutHandle=-1,fe=r.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ei},y_(r,v,fe);var Re=(v&62914560)===v?Gd-ft():(v&4194048)===v?w_-ft():0;if(Re=Sk(fe,Re),Re!==null){kr=v,i.cancelPendingCommit=Re(M_.bind(null,i,r,v,o,u,p,_,N,q,ue,fe,null,ae,le)),Aa(i,v,_,!ie);return}}M_(i,r,v,o,u,p,_,N,q)}function BD(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],v=p.getSnapshot;p=p.value;try{if(!qs(v(),p))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Aa(i,r,o,u){r&=~jg,r&=~Mo,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var p=r;0<p;){var v=31-ht(p),_=1<<v;u[v]=-1,p&=~_}o!==0&&Un(i,o,r)}function Yd(){return(wt&6)===0?(gu(0),!1):!0}function zg(){if(et!==null){if(Et===0)var i=et.return;else i=et,wr=Eo=null,ng(i),Sl=null,Jc=0,i=et;for(;i!==null;)n_(i.alternate,i),i=i.return;et=null}}function jl(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,ok(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),kr=0,zg(),Pt=i,et=o=br(i.current,null),nt=r,Et=0,Ks=null,_a=!1,kl=Ot(i,r),Pg=!1,Ml=Ys=jg=Mo=Ta=sn=0,Ps=mu=null,Og=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var p=31-ht(u),v=1<<p;r|=i[p],u&=~v}return Dr=r,pd(),o}function A_(i,r){Ye=null,J.H=au,r===El||r===Td?(r=Fx(),Et=3):r===Hp?(r=Fx(),Et=4):Et=r===vg?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ks=r,et===null&&(sn=1,Vd(i,oi(r,i.current)))}function C_(){var i=Gs.current;return i===null?!0:(nt&4194048)===nt?hi===null:(nt&62914560)===nt||(nt&536870912)!==0?i===hi:!1}function R_(){var i=J.H;return J.H=au,i===null?au:i}function N_(){var i=J.A;return J.A=UD,i}function Xd(){sn=4,_a||(nt&4194048)!==nt&&Gs.current!==null||(kl=!0),(Ta&134217727)===0&&(Mo&134217727)===0||Pt===null||Aa(Pt,nt,Ys,!1)}function Bg(i,r,o){var u=wt;wt|=2;var p=R_(),v=N_();(Pt!==i||nt!==r)&&(Kd=null,jl(i,r)),r=!1;var _=sn;e:do try{if(Et!==0&&et!==null){var N=et,q=Ks;switch(Et){case 8:zg(),_=6;break e;case 3:case 2:case 9:case 6:Gs.current===null&&(r=!0);var ie=Et;if(Et=0,Ks=null,Ol(i,N,q,ie),o&&kl){_=0;break e}break;default:ie=Et,Et=0,Ks=null,Ol(i,N,q,ie)}}FD(),_=sn;break}catch(ue){A_(i,ue)}while(!0);return r&&i.shellSuspendCounter++,wr=Eo=null,wt=u,J.H=p,J.A=v,et===null&&(Pt=null,nt=0,pd()),_}function FD(){for(;et!==null;)I_(et)}function qD(i,r){var o=wt;wt|=2;var u=R_(),p=N_();Pt!==i||nt!==r?(Kd=null,$d=ft()+500,jl(i,r)):kl=Ot(i,r);e:do try{if(Et!==0&&et!==null){r=et;var v=Ks;t:switch(Et){case 1:Et=0,Ks=null,Ol(i,r,v,1);break;case 2:case 9:if(zx(v)){Et=0,Ks=null,D_(r);break}r=function(){Et!==2&&Et!==9||Pt!==i||(Et=7),Zi(i)},v.then(r,r);break e;case 3:Et=7;break e;case 4:Et=5;break e;case 7:zx(v)?(Et=0,Ks=null,D_(r)):(Et=0,Ks=null,Ol(i,r,v,7));break;case 5:var _=null;switch(et.tag){case 26:_=et.memoizedState;case 5:case 27:var N=et;if(_?g1(_):N.stateNode.complete){Et=0,Ks=null;var q=N.sibling;if(q!==null)et=q;else{var ie=N.return;ie!==null?(et=ie,Wd(ie)):et=null}break t}}Et=0,Ks=null,Ol(i,r,v,5);break;case 6:Et=0,Ks=null,Ol(i,r,v,6);break;case 8:zg(),sn=6;break e;default:throw Error(s(462))}}HD();break}catch(ue){A_(i,ue)}while(!0);return wr=Eo=null,J.H=u,J.A=p,wt=o,et!==null?0:(Pt=null,nt=0,pd(),sn)}function HD(){for(;et!==null&&!Ss();)I_(et)}function I_(i){var r=e_(i.alternate,i,Dr);i.memoizedProps=i.pendingProps,r===null?Wd(i):et=r}function D_(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=Yw(o,r,r.pendingProps,r.type,void 0,nt);break;case 11:r=Yw(o,r,r.pendingProps,r.type.render,r.ref,nt);break;case 5:ng(r);default:n_(o,r),r=et=Nx(r,Dr),r=e_(o,r,Dr)}i.memoizedProps=i.pendingProps,r===null?Wd(i):et=r}function Ol(i,r,o,u){wr=Eo=null,ng(r),Sl=null,Jc=0;var p=r.return;try{if(kD(i,p,r,o,nt)){sn=1,Vd(i,oi(o,i.current)),et=null;return}}catch(v){if(p!==null)throw et=p,v;sn=1,Vd(i,oi(o,i.current)),et=null;return}r.flags&32768?(lt||u===1?i=!0:kl||(nt&536870912)!==0?i=!1:(_a=i=!0,(u===2||u===9||u===3||u===6)&&(u=Gs.current,u!==null&&u.tag===13&&(u.flags|=16384))),k_(r,i)):Wd(r)}function Wd(i){var r=i;do{if((r.flags&32768)!==0){k_(r,_a);return}i=r.return;var o=jD(r.alternate,r,Dr);if(o!==null){et=o;return}if(r=r.sibling,r!==null){et=r;return}et=r=i}while(r!==null);sn===0&&(sn=5)}function k_(i,r){do{var o=OD(i.alternate,i);if(o!==null){o.flags&=32767,et=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){et=i;return}et=i=o}while(i!==null);sn=6,et=null}function M_(i,r,o,u,p,v,_,N,q){i.cancelPendingCommit=null;do Qd();while(Dn!==0);if((wt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(v=r.lanes|r.childLanes,v|=Np,Kt(i,o,v,_,N,q),i===Pt&&(et=Pt=null,nt=0),Pl=r,Sa=i,kr=o,Vg=v,Lg=p,__=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,YD(ln,function(){return L_(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=J.T,J.T=null,p=Y.p,Y.p=2,_=wt,wt|=4;try{VD(i,r,o)}finally{wt=_,Y.p=p,J.T=u}}Dn=1,P_(),j_(),O_()}}function P_(){if(Dn===1){Dn=0;var i=Sa,r=Pl,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var u=Y.p;Y.p=2;var p=wt;wt|=4;try{m_(r,i);var v=Zg,_=xx(i.containerInfo),N=v.focusedElem,q=v.selectionRange;if(_!==N&&N&&N.ownerDocument&&bx(N.ownerDocument.documentElement,N)){if(q!==null&&Ep(N)){var ie=q.start,ue=q.end;if(ue===void 0&&(ue=ie),"selectionStart"in N)N.selectionStart=ie,N.selectionEnd=Math.min(ue,N.value.length);else{var fe=N.ownerDocument||document,ae=fe&&fe.defaultView||window;if(ae.getSelection){var le=ae.getSelection(),Re=N.textContent.length,Oe=Math.min(q.start,Re),kt=q.end===void 0?Oe:Math.min(q.end,Re);!le.extend&&Oe>kt&&(_=kt,kt=Oe,Oe=_);var Q=vx(N,Oe),G=vx(N,kt);if(Q&&G&&(le.rangeCount!==1||le.anchorNode!==Q.node||le.anchorOffset!==Q.offset||le.focusNode!==G.node||le.focusOffset!==G.offset)){var se=fe.createRange();se.setStart(Q.node,Q.offset),le.removeAllRanges(),Oe>kt?(le.addRange(se),le.extend(G.node,G.offset)):(se.setEnd(G.node,G.offset),le.addRange(se))}}}}for(fe=[],le=N;le=le.parentNode;)le.nodeType===1&&fe.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<fe.length;N++){var he=fe[N];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}uf=!!Jg,Zg=Jg=null}finally{wt=p,Y.p=u,J.T=o}}i.current=r,Dn=2}}function j_(){if(Dn===2){Dn=0;var i=Sa,r=Pl,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var u=Y.p;Y.p=2;var p=wt;wt|=4;try{c_(i,r.alternate,r)}finally{wt=p,Y.p=u,J.T=o}}Dn=3}}function O_(){if(Dn===4||Dn===3){Dn=0,Ls();var i=Sa,r=Pl,o=kr,u=__;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Dn=5:(Dn=0,Pl=Sa=null,V_(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Ea=null),Vt(o),r=r.stateNode,cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Vn,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=J.T,p=Y.p,Y.p=2,J.T=null;try{for(var v=i.onRecoverableError,_=0;_<u.length;_++){var N=u[_];v(N.value,{componentStack:N.stack})}}finally{J.T=r,Y.p=p}}(kr&3)!==0&&Qd(),Zi(i),p=i.pendingLanes,(o&261930)!==0&&(p&42)!==0?i===Ug?pu++:(pu=0,Ug=i):pu=0,gu(0)}}function V_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Wc(r)))}function Qd(){return P_(),j_(),O_(),L_()}function L_(){if(Dn!==5)return!1;var i=Sa,r=Vg;Vg=0;var o=Vt(kr),u=J.T,p=Y.p;try{Y.p=32>o?32:o,J.T=null,o=Lg,Lg=null;var v=Sa,_=kr;if(Dn=0,Pl=Sa=null,kr=0,(wt&6)!==0)throw Error(s(331));var N=wt;if(wt|=4,b_(v.current),g_(v,v.current,_,o),wt=N,gu(0,!1),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Vn,v)}catch{}return!0}finally{Y.p=p,J.T=u,V_(i,r)}}function U_(i,r,o){r=oi(o,r),r=yg(i.stateNode,r,2),i=va(i,r,2),i!==null&&(rs(i,2),Zi(i))}function St(i,r,o){if(i.tag===3)U_(i,i,o);else for(;r!==null;){if(r.tag===3){U_(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ea===null||!Ea.has(u))){i=oi(o,i),o=zw(2),u=va(r,o,2),u!==null&&(Bw(o,u,r,i),rs(u,2),Zi(u));break}}r=r.return}}function Fg(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new zD;var p=new Set;u.set(r,p)}else p=u.get(r),p===void 0&&(p=new Set,u.set(r,p));p.has(o)||(Pg=!0,p.add(o),i=GD.bind(null,i,r,o),r.then(i,i))}function GD(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,Pt===i&&(nt&o)===o&&(sn===4||sn===3&&(nt&62914560)===nt&&300>ft()-Gd?(wt&2)===0&&jl(i,0):jg|=o,Ml===nt&&(Ml=0)),Zi(i)}function z_(i,r){r===0&&(r=en()),i=wo(i,r),i!==null&&(rs(i,r),Zi(i))}function $D(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),z_(i,o)}function KD(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,p=i.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),z_(i,o)}function YD(i,r){return Fe(i,r)}var Jd=null,Vl=null,qg=!1,Zd=!1,Hg=!1,Ca=0;function Zi(i){i!==Vl&&i.next===null&&(Vl===null?Jd=Vl=i:Vl=Vl.next=i),Zd=!0,qg||(qg=!0,WD())}function gu(i,r){if(!Hg&&Zd){Hg=!0;do for(var o=!1,u=Jd;u!==null;){if(i!==0){var p=u.pendingLanes;if(p===0)var v=0;else{var _=u.suspendedLanes,N=u.pingedLanes;v=(1<<31-ht(42|i)+1)-1,v&=p&~(_&~N),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,H_(u,v))}else v=nt,v=Ze(u,u===Pt?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||Ot(u,v)||(o=!0,H_(u,v));u=u.next}while(o);Hg=!1}}function XD(){B_()}function B_(){Zd=qg=!1;var i=0;Ca!==0&&ak()&&(i=Ca);for(var r=ft(),o=null,u=Jd;u!==null;){var p=u.next,v=F_(u,r);v===0?(u.next=null,o===null?Jd=p:o.next=p,p===null&&(Vl=o)):(o=u,(i!==0||(v&3)!==0)&&(Zd=!0)),u=p}Dn!==0&&Dn!==5||gu(i),Ca!==0&&(Ca=0)}function F_(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,p=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var _=31-ht(v),N=1<<_,q=p[_];q===-1?((N&o)===0||(N&u)!==0)&&(p[_]=Ln(N,r)):q<=r&&(i.expiredLanes|=N),v&=~N}if(r=Pt,o=nt,o=Ze(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Et===2||Et===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&On(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Ot(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&On(u),Vt(o)){case 2:case 8:o=Yn;break;case 32:o=ln;break;case 268435456:o=Nn;break;default:o=ln}return u=q_.bind(null,i),o=Fe(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&On(u),i.callbackPriority=2,i.callbackNode=null,2}function q_(i,r){if(Dn!==0&&Dn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Qd()&&i.callbackNode!==o)return null;var u=nt;return u=Ze(i,i===Pt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(E_(i,u,r),F_(i,ft()),i.callbackNode!=null&&i.callbackNode===o?q_.bind(null,i):null)}function H_(i,r){if(Qd())return null;E_(i,r,!0)}function WD(){lk(function(){(wt&6)!==0?Fe(Us,XD):B_()})}function Gg(){if(Ca===0){var i=_l;i===0&&(i=As,As<<=1,(As&261888)===0&&(As=256)),Ca=i}return Ca}function G_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ol(""+i)}function $_(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function QD(i,r,o,u,p){if(r==="submit"&&o&&o.stateNode===p){var v=G_((p[bn]||null).action),_=u.submitter;_&&(r=(r=_[bn]||null)?G_(r.formAction):_.getAttribute("formAction"),r!==null&&(v=r,_=null));var N=new $i("action","action",null,u,p);i.push({event:N,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ca!==0){var q=_?$_(p,_):new FormData(p);hg(o,{pending:!0,data:q,method:p.method,action:v},null,q)}}else typeof v=="function"&&(N.preventDefault(),q=_?$_(p,_):new FormData(p),hg(o,{pending:!0,data:q,method:p.method,action:v},v,q))},currentTarget:p}]})}}for(var $g=0;$g<Rp.length;$g++){var Kg=Rp[$g],JD=Kg.toLowerCase(),ZD=Kg[0].toUpperCase()+Kg.slice(1);Ni(JD,"on"+ZD)}Ni(Tx,"onAnimationEnd"),Ni(Ex,"onAnimationIteration"),Ni(Sx,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(pD,"onTransitionRun"),Ni(gD,"onTransitionStart"),Ni(yD,"onTransitionCancel"),Ni(Ax,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ek=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yu));function K_(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],p=u.event;u=u.listeners;e:{var v=void 0;if(r)for(var _=u.length-1;0<=_;_--){var N=u[_],q=N.instance,ie=N.currentTarget;if(N=N.listener,q!==v&&p.isPropagationStopped())break e;v=N,p.currentTarget=ie;try{v(p)}catch(ue){md(ue)}p.currentTarget=null,v=q}else for(_=0;_<u.length;_++){if(N=u[_],q=N.instance,ie=N.currentTarget,N=N.listener,q!==v&&p.isPropagationStopped())break e;v=N,p.currentTarget=ie;try{v(p)}catch(ue){md(ue)}p.currentTarget=null,v=q}}}}function tt(i,r){var o=r[tn];o===void 0&&(o=r[tn]=new Set);var u=i+"__bubble";o.has(u)||(Y_(r,i,2,!1),o.add(u))}function Yg(i,r,o){var u=0;r&&(u|=4),Y_(o,i,u,r)}var ef="_reactListening"+Math.random().toString(36).slice(2);function Xg(i){if(!i[ef]){i[ef]=!0,pr.forEach(function(o){o!=="selectionchange"&&(ek.has(o)||Yg(o,!1,i),Yg(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[ef]||(r[ef]=!0,Yg("selectionchange",!1,r))}}function Y_(i,r,o,u){switch(T1(r)){case 2:var p=Rk;break;case 8:p=Nk;break;default:p=uy}o=p.bind(null,r,o,i),p=void 0,!fo||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),u?p!==void 0?i.addEventListener(r,o,{capture:!0,passive:p}):i.addEventListener(r,o,!0):p!==void 0?i.addEventListener(r,o,{passive:p}):i.addEventListener(r,o,!1)}function Wg(i,r,o,u,p){var v=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var N=u.stateNode.containerInfo;if(N===p)break;if(_===4)for(_=u.return;_!==null;){var q=_.tag;if((q===3||q===4)&&_.stateNode.containerInfo===p)return;_=_.return}for(;N!==null;){if(_=Fs(N),_===null)return;if(q=_.tag,q===5||q===6||q===26||q===27){u=v=_;continue e}N=N.parentNode}}u=u.return}la(function(){var ie=v,ue=si(o),fe=[];e:{var ae=Cx.get(i);if(ae!==void 0){var le=$i,Re=i;switch(i){case"keypress":if(po(o)===0)break e;case"keydown":case"keyup":le=hd;break;case"focusin":Re="focus",le=yo;break;case"focusout":Re="blur",le=yo;break;case"beforeblur":case"afterblur":le=yo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=nd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=w;break;case Tx:case Ex:case Sx:le=id;break;case Ax:le=M;break;case"scroll":case"scrollend":le=Bc;break;case"wheel":le=oe;break;case"copy":case"cut":case"paste":le=rd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=vr;break;case"toggle":case"beforetoggle":le=Ke}var Oe=(r&4)!==0,kt=!Oe&&(i==="scroll"||i==="scrollend"),Q=Oe?ae!==null?ae+"Capture":null:ae;Oe=[];for(var G=ie,se;G!==null;){var he=G;if(se=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||se===null||Q===null||(he=Si(G,Q),he!=null&&Oe.push(vu(G,he,se))),kt)break;G=G.return}0<Oe.length&&(ae=new le(ae,Re,null,o,ue),fe.push({event:ae,listeners:Oe}))}}if((r&7)===0){e:{if(ae=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",ae&&o!==Lc&&(Re=o.relatedTarget||o.fromElement)&&(Fs(Re)||Re[vs]))break e;if((le||ae)&&(ae=ue.window===ue?ue:(ae=ue.ownerDocument)?ae.defaultView||ae.parentWindow:window,le?(Re=o.relatedTarget||o.toElement,le=ie,Re=Re?Fs(Re):null,Re!==null&&(kt=l(Re),Oe=Re.tag,Re!==kt||Oe!==5&&Oe!==27&&Oe!==6)&&(Re=null)):(le=null,Re=ie),le!==Re)){if(Oe=Fc,he="onMouseLeave",Q="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(Oe=vr,he="onPointerLeave",Q="onPointerEnter",G="pointer"),kt=le==null?ae:os(le),se=Re==null?ae:os(Re),ae=new Oe(he,G+"leave",le,o,ue),ae.target=kt,ae.relatedTarget=se,he=null,Fs(ue)===ie&&(Oe=new Oe(Q,G+"enter",Re,o,ue),Oe.target=se,Oe.relatedTarget=kt,he=Oe),kt=he,le&&Re)t:{for(Oe=tk,Q=le,G=Re,se=0,he=Q;he;he=Oe(he))se++;he=0;for(var Pe=G;Pe;Pe=Oe(Pe))he++;for(;0<se-he;)Q=Oe(Q),se--;for(;0<he-se;)G=Oe(G),he--;for(;se--;){if(Q===G||G!==null&&Q===G.alternate){Oe=Q;break t}Q=Oe(Q),G=Oe(G)}Oe=null}else Oe=null;le!==null&&X_(fe,ae,le,Oe,!1),Re!==null&&kt!==null&&X_(fe,kt,Re,Oe,!0)}}e:{if(ae=ie?os(ie):window,le=ae.nodeName&&ae.nodeName.toLowerCase(),le==="select"||le==="input"&&ae.type==="file")var yt=dx;else if(ux(ae))if(fx)yt=dD;else{yt=uD;var De=cD}else le=ae.nodeName,!le||le.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?ie&&al(ie.elementType)&&(yt=dx):yt=hD;if(yt&&(yt=yt(i,ie))){hx(fe,yt,o,ue);break e}De&&De(i,ae,ie),i==="focusout"&&ie&&ae.type==="number"&&ie.memoizedProps.value!=null&&jc(ae,"number",ae.value)}switch(De=ie?os(ie):window,i){case"focusin":(ux(De)||De.contentEditable==="true")&&(ml=De,Sp=ie,Kc=null);break;case"focusout":Kc=Sp=ml=null;break;case"mousedown":Ap=!0;break;case"contextmenu":case"mouseup":case"dragend":Ap=!1,wx(fe,o,ue);break;case"selectionchange":if(mD)break;case"keydown":case"keyup":wx(fe,o,ue)}var Xe;if(xt)e:{switch(i){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else fl?vo(i,o)&&(st="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(st="onCompositionStart");st&&(Xi&&o.locale!=="ko"&&(fl||st!=="onCompositionStart"?st==="onCompositionEnd"&&fl&&(Xe=zc()):(Gi=ue,Uc="value"in Gi?Gi.value:Gi.textContent,fl=!0)),De=tf(ie,st),0<De.length&&(st=new Yi(st,i,null,o,ue),fe.push({event:st,listeners:De}),Xe?st.data=Xe:(Xe=dl(o),Xe!==null&&(st.data=Xe)))),(Xe=ri?rD(i,o):aD(i,o))&&(st=tf(ie,"onBeforeInput"),0<st.length&&(De=new Yi("onBeforeInput","beforeinput",null,o,ue),fe.push({event:De,listeners:st}),De.data=Xe)),QD(fe,i,ie,o,ue)}K_(fe,r)})}function vu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function tf(i,r){for(var o=r+"Capture",u=[];i!==null;){var p=i,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=Si(i,o),p!=null&&u.unshift(vu(i,p,v)),p=Si(i,r),p!=null&&u.push(vu(i,p,v))),i.tag===3)return u;i=i.return}return[]}function tk(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function X_(i,r,o,u,p){for(var v=r._reactName,_=[];o!==null&&o!==u;){var N=o,q=N.alternate,ie=N.stateNode;if(N=N.tag,q!==null&&q===u)break;N!==5&&N!==26&&N!==27||ie===null||(q=ie,p?(ie=Si(o,v),ie!=null&&_.unshift(vu(o,ie,q))):p||(ie=Si(o,v),ie!=null&&_.push(vu(o,ie,q)))),o=o.return}_.length!==0&&i.push({event:r,listeners:_})}var nk=/\r\n?/g,sk=/\u0000|\uFFFD/g;function W_(i){return(typeof i=="string"?i:""+i).replace(nk,`
`).replace(sk,"")}function Q_(i,r){return r=W_(r),W_(i)===r}function Dt(i,r,o,u,p,v){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Is(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Is(i,""+u);break;case"className":ls(i,"class",u);break;case"tabIndex":ls(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ls(i,o,u);break;case"style":Vc(i,u,v);break;case"data":if(r!=="object"){ls(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ol(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(r!=="input"&&Dt(i,r,"name",p.name,p,null),Dt(i,r,"formEncType",p.formEncType,p,null),Dt(i,r,"formMethod",p.formMethod,p,null),Dt(i,r,"formTarget",p.formTarget,p,null)):(Dt(i,r,"encType",p.encType,p,null),Dt(i,r,"method",p.method,p,null),Dt(i,r,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ol(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Ei);break;case"onScroll":u!=null&&tt("scroll",i);break;case"onScrollEnd":u!=null&&tt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=ol(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":tt("beforetoggle",i),tt("toggle",i),uo(i,"popover",u);break;case"xlinkActuate":Xt(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Xt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Xt(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Xt(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Xt(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Xt(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Xt(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Xt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Xt(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":uo(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=td.get(o)||o,uo(i,o,u))}}function Qg(i,r,o,u,p,v){switch(o){case"style":Vc(i,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Is(i,u):(typeof u=="number"||typeof u=="bigint")&&Is(i,""+u);break;case"onScroll":u!=null&&tt("scroll",i);break;case"onScrollEnd":u!=null&&tt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!na.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),r=o.slice(2,p?o.length-7:void 0),v=i[bn]||null,v=v!=null?v[o]:null,typeof v=="function"&&i.removeEventListener(r,v,p),typeof u=="function")){typeof v!="function"&&v!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,p);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):uo(i,o,u)}}}function ts(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",i),tt("load",i);var u=!1,p=!1,v;for(v in o)if(o.hasOwnProperty(v)){var _=o[v];if(_!=null)switch(v){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Dt(i,r,v,_,o,null)}}p&&Dt(i,r,"srcSet",o.srcSet,o,null),u&&Dt(i,r,"src",o.src,o,null);return;case"input":tt("invalid",i);var N=v=_=p=null,q=null,ie=null;for(u in o)if(o.hasOwnProperty(u)){var ue=o[u];if(ue!=null)switch(u){case"name":p=ue;break;case"type":_=ue;break;case"checked":q=ue;break;case"defaultChecked":ie=ue;break;case"value":v=ue;break;case"defaultValue":N=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(s(137,r));break;default:Dt(i,r,u,ue,o,null)}}Jh(i,v,N,q,ie,_,p,!1);return;case"select":tt("invalid",i),u=_=v=null;for(p in o)if(o.hasOwnProperty(p)&&(N=o[p],N!=null))switch(p){case"value":v=N;break;case"defaultValue":_=N;break;case"multiple":u=N;default:Dt(i,r,p,N,o,null)}r=v,o=_,i.multiple=!!u,r!=null?ia(i,!!u,r,!1):o!=null&&ia(i,!!u,o,!0);return;case"textarea":tt("invalid",i),v=p=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(N=o[_],N!=null))switch(_){case"value":u=N;break;case"defaultValue":p=N;break;case"children":v=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(s(91));break;default:Dt(i,r,_,N,o,null)}ra(i,u,p,v);return;case"option":for(q in o)o.hasOwnProperty(q)&&(u=o[q],u!=null)&&(q==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":Dt(i,r,q,u,o,null));return;case"dialog":tt("beforetoggle",i),tt("toggle",i),tt("cancel",i),tt("close",i);break;case"iframe":case"object":tt("load",i);break;case"video":case"audio":for(u=0;u<yu.length;u++)tt(yu[u],i);break;case"image":tt("error",i),tt("load",i);break;case"details":tt("toggle",i);break;case"embed":case"source":case"link":tt("error",i),tt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in o)if(o.hasOwnProperty(ie)&&(u=o[ie],u!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Dt(i,r,ie,u,o,null)}return;default:if(al(r)){for(ue in o)o.hasOwnProperty(ue)&&(u=o[ue],u!==void 0&&Qg(i,r,ue,u,o,void 0));return}}for(N in o)o.hasOwnProperty(N)&&(u=o[N],u!=null&&Dt(i,r,N,u,o,null))}function ik(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,_=null,N=null,q=null,ie=null,ue=null;for(le in o){var fe=o[le];if(o.hasOwnProperty(le)&&fe!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":q=fe;default:u.hasOwnProperty(le)||Dt(i,r,le,null,u,fe)}}for(var ae in u){var le=u[ae];if(fe=o[ae],u.hasOwnProperty(ae)&&(le!=null||fe!=null))switch(ae){case"type":v=le;break;case"name":p=le;break;case"checked":ie=le;break;case"defaultChecked":ue=le;break;case"value":_=le;break;case"defaultValue":N=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(s(137,r));break;default:le!==fe&&Dt(i,r,ae,le,u,fe)}}Wn(i,_,N,q,ie,ue,v,p);return;case"select":le=_=N=ae=null;for(v in o)if(q=o[v],o.hasOwnProperty(v)&&q!=null)switch(v){case"value":break;case"multiple":le=q;default:u.hasOwnProperty(v)||Dt(i,r,v,null,u,q)}for(p in u)if(v=u[p],q=o[p],u.hasOwnProperty(p)&&(v!=null||q!=null))switch(p){case"value":ae=v;break;case"defaultValue":N=v;break;case"multiple":_=v;default:v!==q&&Dt(i,r,p,v,u,q)}r=N,o=_,u=le,ae!=null?ia(i,!!o,ae,!1):!!u!=!!o&&(r!=null?ia(i,!!o,r,!0):ia(i,!!o,o?[]:"",!1));return;case"textarea":le=ae=null;for(N in o)if(p=o[N],o.hasOwnProperty(N)&&p!=null&&!u.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Dt(i,r,N,null,u,p)}for(_ in u)if(p=u[_],v=o[_],u.hasOwnProperty(_)&&(p!=null||v!=null))switch(_){case"value":ae=p;break;case"defaultValue":le=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==v&&Dt(i,r,_,p,u,v)}Zh(i,ae,le);return;case"option":for(var Re in o)ae=o[Re],o.hasOwnProperty(Re)&&ae!=null&&!u.hasOwnProperty(Re)&&(Re==="selected"?i.selected=!1:Dt(i,r,Re,null,u,ae));for(q in u)ae=u[q],le=o[q],u.hasOwnProperty(q)&&ae!==le&&(ae!=null||le!=null)&&(q==="selected"?i.selected=ae&&typeof ae!="function"&&typeof ae!="symbol":Dt(i,r,q,ae,u,le));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in o)ae=o[Oe],o.hasOwnProperty(Oe)&&ae!=null&&!u.hasOwnProperty(Oe)&&Dt(i,r,Oe,null,u,ae);for(ie in u)if(ae=u[ie],le=o[ie],u.hasOwnProperty(ie)&&ae!==le&&(ae!=null||le!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(s(137,r));break;default:Dt(i,r,ie,ae,u,le)}return;default:if(al(r)){for(var kt in o)ae=o[kt],o.hasOwnProperty(kt)&&ae!==void 0&&!u.hasOwnProperty(kt)&&Qg(i,r,kt,void 0,u,ae);for(ue in u)ae=u[ue],le=o[ue],!u.hasOwnProperty(ue)||ae===le||ae===void 0&&le===void 0||Qg(i,r,ue,ae,u,le);return}}for(var Q in o)ae=o[Q],o.hasOwnProperty(Q)&&ae!=null&&!u.hasOwnProperty(Q)&&Dt(i,r,Q,null,u,ae);for(fe in u)ae=u[fe],le=o[fe],!u.hasOwnProperty(fe)||ae===le||ae==null&&le==null||Dt(i,r,fe,ae,u,le)}function J_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rk(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var p=o[u],v=p.transferSize,_=p.initiatorType,N=p.duration;if(v&&N&&J_(_)){for(_=0,N=p.responseEnd,u+=1;u<o.length;u++){var q=o[u],ie=q.startTime;if(ie>N)break;var ue=q.transferSize,fe=q.initiatorType;ue&&J_(fe)&&(q=q.responseEnd,_+=ue*(q<N?1:(N-ie)/(q-ie)))}if(--u,r+=8*(v+_)/(p.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Jg=null,Zg=null;function nf(i){return i.nodeType===9?i:i.ownerDocument}function Z_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e1(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function ey(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ty=null;function ak(){var i=window.event;return i&&i.type==="popstate"?i===ty?!1:(ty=i,!0):(ty=null,!1)}var t1=typeof setTimeout=="function"?setTimeout:void 0,ok=typeof clearTimeout=="function"?clearTimeout:void 0,n1=typeof Promise=="function"?Promise:void 0,lk=typeof queueMicrotask=="function"?queueMicrotask:typeof n1<"u"?function(i){return n1.resolve(null).then(i).catch(ck)}:t1;function ck(i){setTimeout(function(){throw i})}function Ra(i){return i==="head"}function s1(i,r){var o=r,u=0;do{var p=o.nextSibling;if(i.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(p),Bl(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")bu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,bu(o);for(var v=o.firstChild;v;){var _=v.nextSibling,N=v.nodeName;v[as]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&v.rel.toLowerCase()==="stylesheet"||o.removeChild(v),v=_}}else o==="body"&&bu(i.ownerDocument.body);o=p}while(o);Bl(r)}function i1(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function ny(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ny(o),Ti(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function uk(i,r,o,u){for(;i.nodeType===1;){var p=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[as])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=di(i.nextSibling),i===null)break}return null}function hk(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=di(i.nextSibling),i===null))return null;return i}function r1(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=di(i.nextSibling),i===null))return null;return i}function sy(i){return i.data==="$?"||i.data==="$~"}function iy(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function dk(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function di(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var ry=null;function a1(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return di(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function o1(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function l1(i,r,o){switch(r=nf(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function bu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ti(i)}var fi=new Map,c1=new Set;function sf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Mr=Y.d;Y.d={f:fk,r:mk,D:pk,C:gk,L:yk,m:vk,X:xk,S:bk,M:wk};function fk(){var i=Mr.f(),r=Yd();return i||r}function mk(i){var r=Ns(i);r!==null&&r.tag===5&&r.type==="form"?Aw(r):Mr.r(i)}var Ll=typeof document>"u"?null:document;function u1(i,r,o){var u=Ll;if(u&&typeof r=="string"&&r){var p=Rt(r);p='link[rel="'+i+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),c1.has(p)||(c1.add(p),i={rel:i,crossOrigin:o,href:r},u.querySelector(p)===null&&(r=u.createElement("link"),ts(r,"link",i),Yt(r),u.head.appendChild(r)))}}function pk(i){Mr.D(i),u1("dns-prefetch",i,null)}function gk(i,r){Mr.C(i,r),u1("preconnect",i,r)}function yk(i,r,o){Mr.L(i,r,o);var u=Ll;if(u&&i&&r){var p='link[rel="preload"][as="'+Rt(r)+'"]';r==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Rt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Rt(o.imageSizes)+'"]')):p+='[href="'+Rt(i)+'"]';var v=p;switch(r){case"style":v=Ul(i);break;case"script":v=zl(i)}fi.has(v)||(i=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),fi.set(v,i),u.querySelector(p)!==null||r==="style"&&u.querySelector(xu(v))||r==="script"&&u.querySelector(wu(v))||(r=u.createElement("link"),ts(r,"link",i),Yt(r),u.head.appendChild(r)))}}function vk(i,r){Mr.m(i,r);var o=Ll;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+Rt(u)+'"][href="'+Rt(i)+'"]',v=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=zl(i)}if(!fi.has(v)&&(i=b({rel:"modulepreload",href:i},r),fi.set(v,i),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(wu(v)))return}u=o.createElement("link"),ts(u,"link",i),Yt(u),o.head.appendChild(u)}}}function bk(i,r,o){Mr.S(i,r,o);var u=Ll;if(u&&i){var p=ei(u).hoistableStyles,v=Ul(i);r=r||"default";var _=p.get(v);if(!_){var N={loading:0,preload:null};if(_=u.querySelector(xu(v)))N.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":r},o),(o=fi.get(v))&&ay(i,o);var q=_=u.createElement("link");Yt(q),ts(q,"link",i),q._p=new Promise(function(ie,ue){q.onload=ie,q.onerror=ue}),q.addEventListener("load",function(){N.loading|=1}),q.addEventListener("error",function(){N.loading|=2}),N.loading|=4,rf(_,r,u)}_={type:"stylesheet",instance:_,count:1,state:N},p.set(v,_)}}}function xk(i,r){Mr.X(i,r);var o=Ll;if(o&&i){var u=ei(o).hoistableScripts,p=zl(i),v=u.get(p);v||(v=o.querySelector(wu(p)),v||(i=b({src:i,async:!0},r),(r=fi.get(p))&&oy(i,r),v=o.createElement("script"),Yt(v),ts(v,"link",i),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function wk(i,r){Mr.M(i,r);var o=Ll;if(o&&i){var u=ei(o).hoistableScripts,p=zl(i),v=u.get(p);v||(v=o.querySelector(wu(p)),v||(i=b({src:i,async:!0,type:"module"},r),(r=fi.get(p))&&oy(i,r),v=o.createElement("script"),Yt(v),ts(v,"link",i),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function h1(i,r,o,u){var p=(p=ye.current)?sf(p):null;if(!p)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Ul(o.href),o=ei(p).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Ul(o.href);var v=ei(p).hoistableStyles,_=v.get(i);if(_||(p=p.ownerDocument||p,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,_),(v=p.querySelector(xu(i)))&&!v._p&&(_.instance=v,_.state.loading=5),fi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},fi.set(i,o),v||_k(p,i,o,_.state))),r&&u===null)throw Error(s(528,""));return _}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=zl(o),o=ei(p).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Ul(i){return'href="'+Rt(i)+'"'}function xu(i){return'link[rel="stylesheet"]['+i+"]"}function d1(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function _k(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),ts(r,"link",o),Yt(r),i.head.appendChild(r))}function zl(i){return'[src="'+Rt(i)+'"]'}function wu(i){return"script[async]"+i}function f1(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+Rt(o.href)+'"]');if(u)return r.instance=u,Yt(u),u;var p=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Yt(u),ts(u,"style",p),rf(u,o.precedence,i),r.instance=u;case"stylesheet":p=Ul(o.href);var v=i.querySelector(xu(p));if(v)return r.state.loading|=4,r.instance=v,Yt(v),v;u=d1(o),(p=fi.get(p))&&ay(u,p),v=(i.ownerDocument||i).createElement("link"),Yt(v);var _=v;return _._p=new Promise(function(N,q){_.onload=N,_.onerror=q}),ts(v,"link",u),r.state.loading|=4,rf(v,o.precedence,i),r.instance=v;case"script":return v=zl(o.src),(p=i.querySelector(wu(v)))?(r.instance=p,Yt(p),p):(u=o,(p=fi.get(v))&&(u=b({},o),oy(u,p)),i=i.ownerDocument||i,p=i.createElement("script"),Yt(p),ts(p,"link",u),i.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,rf(u,o.precedence,i));return r.instance}function rf(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,v=p,_=0;_<u.length;_++){var N=u[_];if(N.dataset.precedence===r)v=N;else if(v!==p)break}v?v.parentNode.insertBefore(i,v.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function ay(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function oy(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var af=null;function m1(i,r,o){if(af===null){var u=new Map,p=af=new Map;p.set(o,u)}else p=af,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),p=0;p<o.length;p++){var v=o[p];if(!(v[as]||v[Ft]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var _=v.getAttribute(r)||"";_=i+_;var N=u.get(_);N?N.push(v):u.set(_,[v])}}return u}function p1(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function Tk(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function g1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function Ek(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Ul(u.href),v=r.querySelector(xu(p));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=of.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=v,Yt(v);return}v=r.ownerDocument||r,u=d1(u),(p=fi.get(p))&&ay(u,p),v=v.createElement("link"),Yt(v);var _=v;_._p=new Promise(function(N,q){_.onload=N,_.onerror=q}),ts(v,"link",u),o.instance=v}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=of.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var ly=0;function Sk(i,r){return i.stylesheets&&i.count===0&&cf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&cf(i,i.stylesheets),i.unsuspend){var v=i.unsuspend;i.unsuspend=null,v()}},6e4+r);0<i.imgBytes&&ly===0&&(ly=62500*rk());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&cf(i,i.stylesheets),i.unsuspend)){var v=i.unsuspend;i.unsuspend=null,v()}},(i.imgBytes>ly?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function of(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var lf=null;function cf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,lf=new Map,r.forEach(Ak,i),lf=null,of.call(i))}function Ak(i,r){if(!(r.state.loading&4)){var o=lf.get(i);if(o)var u=o.get(null);else{o=new Map,lf.set(i,o);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var _=p[v];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}p=r.instance,_=p.getAttribute("data-precedence"),v=o.get(_)||u,v===u&&o.set(null,p),o.set(_,p),this.count++,u=of.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),v?v.parentNode.insertBefore(p,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),r.state.loading|=4}}var _u={$$typeof:F,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function Ck(i,r,o,u,p,v,_,N,q){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mt(0),this.hiddenUpdates=Mt(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function y1(i,r,o,u,p,v,_,N,q,ie,ue,fe){return i=new Ck(i,r,o,_,q,ie,ue,fe,N),r=1,v===!0&&(r|=24),v=Hs(3,null,null,r),i.current=v,v.stateNode=i,r=Bp(),r.refCount++,i.pooledCache=r,r.refCount++,v.memoizedState={element:u,isDehydrated:o,cache:r},Gp(v),i}function v1(i){return i?(i=yl,i):yl}function b1(i,r,o,u,p,v){p=v1(p),u.context===null?u.context=p:u.pendingContext=p,u=ya(r),u.payload={element:o},v=v===void 0?null:v,v!==null&&(u.callback=v),o=va(i,u,r),o!==null&&(js(o,i,r),eu(o,i,r))}function x1(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function cy(i,r){x1(i,r),(i=i.alternate)&&x1(i,r)}function w1(i){if(i.tag===13||i.tag===31){var r=wo(i,67108864);r!==null&&js(r,i,67108864),cy(i,67108864)}}function _1(i){if(i.tag===13||i.tag===31){var r=Xs();r=yn(r);var o=wo(i,r);o!==null&&js(o,i,r),cy(i,r)}}var uf=!0;function Rk(i,r,o,u){var p=J.T;J.T=null;var v=Y.p;try{Y.p=2,uy(i,r,o,u)}finally{Y.p=v,J.T=p}}function Nk(i,r,o,u){var p=J.T;J.T=null;var v=Y.p;try{Y.p=8,uy(i,r,o,u)}finally{Y.p=v,J.T=p}}function uy(i,r,o,u){if(uf){var p=hy(u);if(p===null)Wg(i,r,u,hf,o),E1(i,u);else if(Dk(p,i,r,o,u))u.stopPropagation();else if(E1(i,u),r&4&&-1<Ik.indexOf(i)){for(;p!==null;){var v=Ns(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var _=Tt(v.pendingLanes);if(_!==0){var N=v;for(N.pendingLanes|=2,N.entangledLanes|=2;_;){var q=1<<31-ht(_);N.entanglements[1]|=q,_&=~q}Zi(v),(wt&6)===0&&($d=ft()+500,gu(0))}}break;case 31:case 13:N=wo(v,2),N!==null&&js(N,v,2),Yd(),cy(v,2)}if(v=hy(u),v===null&&Wg(i,r,u,hf,o),v===p)break;p=v}p!==null&&u.stopPropagation()}else Wg(i,r,u,null,o)}}function hy(i){return i=si(i),dy(i)}var hf=null;function dy(i){if(hf=null,i=Fs(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=h(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return hf=i,null}function T1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kn()){case Us:return 2;case Yn:return 8;case ln:case is:return 32;case Nn:return 268435456;default:return 32}default:return 32}}var fy=!1,Na=null,Ia=null,Da=null,Tu=new Map,Eu=new Map,ka=[],Ik="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function E1(i,r){switch(i){case"focusin":case"focusout":Na=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Da=null;break;case"pointerover":case"pointerout":Tu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eu.delete(r.pointerId)}}function Su(i,r,o,u,p,v){return i===null||i.nativeEvent!==v?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:v,targetContainers:[p]},r!==null&&(r=Ns(r),r!==null&&w1(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),i)}function Dk(i,r,o,u,p){switch(r){case"focusin":return Na=Su(Na,i,r,o,u,p),!0;case"dragenter":return Ia=Su(Ia,i,r,o,u,p),!0;case"mouseover":return Da=Su(Da,i,r,o,u,p),!0;case"pointerover":var v=p.pointerId;return Tu.set(v,Su(Tu.get(v)||null,i,r,o,u,p)),!0;case"gotpointercapture":return v=p.pointerId,Eu.set(v,Su(Eu.get(v)||null,i,r,o,u,p)),!0}return!1}function S1(i){var r=Fs(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,Lt(i.priority,function(){_1(o)});return}}else if(r===31){if(r=h(o),r!==null){i.blockedOn=r,Lt(i.priority,function(){_1(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function df(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=hy(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Lc=u,o.target.dispatchEvent(u),Lc=null}else return r=Ns(o),r!==null&&w1(r),i.blockedOn=o,!1;r.shift()}return!0}function A1(i,r,o){df(i)&&o.delete(r)}function kk(){fy=!1,Na!==null&&df(Na)&&(Na=null),Ia!==null&&df(Ia)&&(Ia=null),Da!==null&&df(Da)&&(Da=null),Tu.forEach(A1),Eu.forEach(A1)}function ff(i,r){i.blockedOn===r&&(i.blockedOn=null,fy||(fy=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,kk)))}var mf=null;function C1(i){mf!==i&&(mf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){mf===i&&(mf=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],p=i[r+2];if(typeof u!="function"){if(dy(u||o)===null)continue;break}var v=Ns(o);v!==null&&(i.splice(r,3),r-=3,hg(v,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function Bl(i){function r(q){return ff(q,i)}Na!==null&&ff(Na,i),Ia!==null&&ff(Ia,i),Da!==null&&ff(Da,i),Tu.forEach(r),Eu.forEach(r);for(var o=0;o<ka.length;o++){var u=ka[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<ka.length&&(o=ka[0],o.blockedOn===null);)S1(o),o.blockedOn===null&&ka.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],v=o[u+1],_=p[bn]||null;if(typeof v=="function")_||C1(o);else if(_){var N=null;if(v&&v.hasAttribute("formAction")){if(p=v,_=v[bn]||null)N=_.formAction;else if(dy(p)!==null)continue}else N=_.action;typeof N=="function"?o[u+1]=N:(o.splice(u,3),u-=3),C1(o)}}}function R1(){function i(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(_){return p=_})},focusReset:"manual",scroll:"manual"})}function r(){p!==null&&(p(),p=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),p!==null&&(p(),p=null)}}}function my(i){this._internalRoot=i}pf.prototype.render=my.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Xs();b1(o,u,i,r,null,null)},pf.prototype.unmount=my.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;b1(i.current,2,null,i,null,null),Yd(),r[vs]=null}};function pf(i){this._internalRoot=i}pf.prototype.unstable_scheduleHydration=function(i){if(i){var r=vn();i={blockedOn:null,target:i,priority:r};for(var o=0;o<ka.length&&r!==0&&r<ka[o].priority;o++);ka.splice(o,0,i),o===0&&S1(i)}};var N1=e.version;if(N1!=="19.2.3")throw Error(s(527,N1,"19.2.3"));Y.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var Mk={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gf.isDisabled&&gf.supportsFiber)try{Vn=gf.inject(Mk),cn=gf}catch{}}return Cu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",p=Ow,v=Vw,_=Lw;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=y1(i,1,!1,null,null,o,u,null,p,v,_,R1),i[vs]=r.current,Xg(i),new my(r)},Cu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,p="",v=Ow,_=Vw,N=Lw,q=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError),o.formState!==void 0&&(q=o.formState)),r=y1(i,1,!0,r,o??null,u,p,q,v,_,N,R1),r.context=v1(null),o=r.current,u=Xs(),u=yn(u),p=ya(u),p.callback=null,va(o,p,u),o=u,r.current.lanes=o,rs(r,o),Zi(r),i[vs]=r.current,Xg(i),new pf(r)},Cu.version="19.2.3",Cu}var U1;function qk(){if(U1)return yy.exports;U1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),yy.exports=Fk(),yy.exports}var Hk=qk();var z1="popstate";function Gk(t={}){function e(s,a){let{pathname:l,search:c,hash:h}=s.location;return l0("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:rh(a)}return Kk(e,n,null,t)}function $t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _i(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $k(){return Math.random().toString(36).substring(2,10)}function B1(t,e){return{usr:t.state,key:t.key,idx:e}}function l0(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?vc(e):e,state:n,key:e&&e.key||s||$k()}}function rh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function vc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function Kk(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,h="POP",d=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function b(){h="POP";let R=g(),O=R==null?null:R-m;m=R,d&&d({action:h,location:I.location,delta:O})}function x(R,O){h="PUSH";let H=l0(I.location,R,O);m=g()+1;let F=B1(H,m),re=I.createHref(H);try{c.pushState(F,"",re)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;a.location.assign(re)}l&&d&&d({action:h,location:I.location,delta:1})}function A(R,O){h="REPLACE";let H=l0(I.location,R,O);m=g();let F=B1(H,m),re=I.createHref(H);c.replaceState(F,"",re),l&&d&&d({action:h,location:I.location,delta:0})}function D(R){return Yk(R)}let I={get action(){return h},get location(){return t(a,c)},listen(R){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(z1,b),d=R,()=>{a.removeEventListener(z1,b),d=null}},createHref(R){return e(a,R)},createURL:D,encodeLocation(R){let O=D(R);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:x,replace:A,go(R){return c.go(R)}};return I}function Yk(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),$t(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:rh(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function vA(t,e,n="/"){return Xk(t,e,n,!1)}function Xk(t,e,n,s){let a=typeof e=="string"?vc(e):e,l=Gr(a.pathname||"/",n);if(l==null)return null;let c=bA(t);Wk(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let m=oM(l);h=rM(c[d],m,s)}return h}function bA(t,e=[],n=[],s="",a=!1){let l=(c,h,d=a,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(s)&&d)return;$t(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length)}let b=Br([s,g.relativePath]),x=n.concat(g);c.children&&c.children.length>0&&($t(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),bA(c.children,e,x,b,d)),!(c.path==null&&!c.index)&&e.push({path:b,score:sM(b,c.index),routesMeta:x})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))l(c,h);else for(let d of xA(c.path))l(c,h,!0,d)}),e}function xA(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=xA(s.join("/")),h=[];return h.push(...c.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...c),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function Wk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:iM(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Qk=/^:[\w-]+$/,Jk=3,Zk=2,eM=1,tM=10,nM=-2,F1=t=>t==="*";function sM(t,e){let n=t.split("/"),s=n.length;return n.some(F1)&&(s+=nM),e&&(s+=Zk),n.filter(a=>!F1(a)).reduce((a,l)=>a+(Qk.test(l)?Jk:l===""?eM:tM),s)}function iM(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function rM(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let h=0;h<s.length;++h){let d=s[h],m=h===s.length-1,g=l==="/"?e:e.slice(l.length)||"/",b=Zf({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},g),x=d.route;if(!b&&m&&n&&!s[s.length-1].route.index&&(b=Zf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Br([l,b.pathname]),pathnameBase:hM(Br([l,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(l=Br([l,b.pathnameBase]))}return c}function Zf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=aM(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((m,{paramName:g,isOptional:b},x)=>{if(g==="*"){let D=h[x]||"";c=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const A=h[x];return b&&!A?m[g]=void 0:m[g]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function aM(t,e=!1,n=!0){_i(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(s.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function oM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _i(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Gr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var wA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lM=t=>wA.test(t);function cM(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?vc(t):t,l;if(n)if(lM(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),_i(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=q1(n.substring(1),"/"):l=q1(n,e)}else l=e;return{pathname:l,search:dM(s),hash:fM(a)}}function q1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function wy(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dv(t){let e=uM(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function fv(t,e,n,s=!1){let a;typeof t=="string"?a=vc(t):(a={...t},$t(!a.pathname||!a.pathname.includes("?"),wy("?","pathname","search",a)),$t(!a.pathname||!a.pathname.includes("#"),wy("#","pathname","hash",a)),$t(!a.search||!a.search.includes("#"),wy("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=n;else{let b=e.length-1;if(!s&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),b-=1;a.pathname=x.join("/")}h=b>=0?e[b]:"/"}let d=cM(a,h),m=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||g)&&(d.pathname+="/"),d}var Br=t=>t.join("/").replace(/\/\/+/g,"/"),hM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,mM=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function pM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function gM(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var _A=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function TA(t,e){let n=t;if(typeof n!="string"||!wA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(_A)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),h=Gr(c.pathname,e);c.origin===l.origin&&h!=null?n=h+c.search+c.hash:a=!0}catch{_i(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var EA=["POST","PUT","PATCH","DELETE"];new Set(EA);var yM=["GET",...EA];new Set(yM);var bc=S.createContext(null);bc.displayName="DataRouter";var zm=S.createContext(null);zm.displayName="DataRouterState";var vM=S.createContext(!1),SA=S.createContext({isTransitioning:!1});SA.displayName="ViewTransition";var bM=S.createContext(new Map);bM.displayName="Fetchers";var xM=S.createContext(null);xM.displayName="Await";var Zs=S.createContext(null);Zs.displayName="Navigation";var Sh=S.createContext(null);Sh.displayName="Location";var Fi=S.createContext({outlet:null,matches:[],isDataRoute:!1});Fi.displayName="Route";var mv=S.createContext(null);mv.displayName="RouteError";var AA="REACT_ROUTER_ERROR",wM="REDIRECT",_M="ROUTE_ERROR_RESPONSE";function TM(t){if(t.startsWith(`${AA}:${wM}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function EM(t){if(t.startsWith(`${AA}:${_M}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new mM(e.status,e.statusText,e.data)}catch{}}function SM(t,{relative:e}={}){$t(xc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=S.useContext(Zs),{hash:a,pathname:l,search:c}=Ah(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Br([n,l])),s.createHref({pathname:h,search:c,hash:a})}function xc(){return S.useContext(Sh)!=null}function Qr(){return $t(xc(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Sh).location}var CA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function RA(t){S.useContext(Zs).static||S.useLayoutEffect(t)}function Bm(){let{isDataRoute:t}=S.useContext(Fi);return t?UM():AM()}function AM(){$t(xc(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(bc),{basename:e,navigator:n}=S.useContext(Zs),{matches:s}=S.useContext(Fi),{pathname:a}=Qr(),l=JSON.stringify(dv(s)),c=S.useRef(!1);return RA(()=>{c.current=!0}),S.useCallback((d,m={})=>{if(_i(c.current,CA),!c.current)return;if(typeof d=="number"){n.go(d);return}let g=fv(d,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Br([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,l,a,t])}S.createContext(null);function CM(){let{matches:t}=S.useContext(Fi),e=t[t.length-1];return e?e.params:{}}function Ah(t,{relative:e}={}){let{matches:n}=S.useContext(Fi),{pathname:s}=Qr(),a=JSON.stringify(dv(n));return S.useMemo(()=>fv(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function RM(t,e){return NA(t,e)}function NA(t,e,n,s,a){$t(xc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=S.useContext(Zs),{matches:c}=S.useContext(Fi),h=c[c.length-1],d=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",b=h&&h.route;{let H=b&&b.path||"";DA(m,!b||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let x=Qr(),A;if(e){let H=typeof e=="string"?vc(e):e;$t(g==="/"||H.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${H.pathname}" was given in the \`location\` prop.`),A=H}else A=x;let D=A.pathname||"/",I=D;if(g!=="/"){let H=g.replace(/^\//,"").split("/");I="/"+D.replace(/^\//,"").split("/").slice(H.length).join("/")}let R=vA(t,{pathname:I});_i(b||R!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),_i(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=MM(R&&R.map(H=>Object.assign({},H,{params:Object.assign({},d,H.params),pathname:Br([g,l.encodeLocation?l.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?g:Br([g,l.encodeLocation?l.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),c,n,s,a);return e&&O?S.createElement(Sh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},O):O}function NM(){let t=LM(),e=pM(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:l},"ErrorBoundary")," or"," ",S.createElement("code",{style:l},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:a},n):null,c)}var IM=S.createElement(NM,null),IA=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=EM(t.digest);n&&(t=n)}let e=t!==void 0?S.createElement(Fi.Provider,{value:this.props.routeContext},S.createElement(mv.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?S.createElement(DM,{error:t},e):e}};IA.contextType=vM;var _y=new WeakMap;function DM({children:t,error:e}){let{basename:n}=S.useContext(Zs);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=TM(e.digest);if(s){let a=_y.get(e);if(a)throw a;let l=TA(s.location,n);if(_A&&!_y.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw _y.set(e,c),c}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function kM({routeContext:t,match:e,children:n}){let s=S.useContext(bc);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Fi.Provider,{value:t},n)}function MM(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let g=l.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);$t(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,d=-1;if(n)for(let g=0;g<l.length;g++){let b=l[g];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(d=g),b.route.id){let{loaderData:x,errors:A}=n,D=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!A||A[b.route.id]===void 0);if(b.route.lazy||D){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let m=n&&s?(g,b)=>{s(g,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:gM(n.matches),errorInfo:b})}:void 0;return l.reduceRight((g,b,x)=>{let A,D=!1,I=null,R=null;n&&(A=c&&b.route.id?c[b.route.id]:void 0,I=b.route.errorElement||IM,h&&(d<0&&x===0?(DA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,R=null):d===x&&(D=!0,R=b.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,x+1)),H=()=>{let F;return A?F=I:D?F=R:b.route.Component?F=S.createElement(b.route.Component,null):b.route.element?F=b.route.element:F=g,S.createElement(kM,{match:b,routeContext:{outlet:g,matches:O,isDataRoute:n!=null},children:F})};return n&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?S.createElement(IA,{location:n.location,revalidation:n.revalidation,component:I,error:A,children:H(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:m}):H()},null)}function pv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PM(t){let e=S.useContext(bc);return $t(e,pv(t)),e}function jM(t){let e=S.useContext(zm);return $t(e,pv(t)),e}function OM(t){let e=S.useContext(Fi);return $t(e,pv(t)),e}function gv(t){let e=OM(t),n=e.matches[e.matches.length-1];return $t(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function VM(){return gv("useRouteId")}function LM(){let t=S.useContext(mv),e=jM("useRouteError"),n=gv("useRouteError");return t!==void 0?t:e.errors?.[n]}function UM(){let{router:t}=PM("useNavigate"),e=gv("useNavigate"),n=S.useRef(!1);return RA(()=>{n.current=!0}),S.useCallback(async(a,l={})=>{_i(n.current,CA),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var H1={};function DA(t,e,n){!e&&!H1[t]&&(H1[t]=!0,_i(!1,n))}S.memo(zM);function zM({routes:t,future:e,state:n,onError:s}){return NA(t,void 0,n,s,e)}function Po({to:t,replace:e,state:n,relative:s}){$t(xc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=S.useContext(Zs);_i(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=S.useContext(Fi),{pathname:c}=Qr(),h=Bm(),d=fv(t,dv(l),c,s==="path"),m=JSON.stringify(d);return S.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:s})},[h,m,s,e,n]),null}function jr(t){$t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function BM({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){$t(!xc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),d=S.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[h,a,l,c]);typeof n=="string"&&(n=vc(n));let{pathname:m="/",search:g="",hash:b="",state:x=null,key:A="default"}=n,D=S.useMemo(()=>{let I=Gr(m,h);return I==null?null:{location:{pathname:I,search:g,hash:b,state:x,key:A},navigationType:s}},[h,m,g,b,x,A,s]);return _i(D!=null,`<Router basename="${h}"> is not able to match the URL "${m}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:S.createElement(Zs.Provider,{value:d},S.createElement(Sh.Provider,{children:e,value:D}))}function FM({children:t,location:e}){return RM(c0(t),e)}function c0(t,e=[]){let n=[];return S.Children.forEach(t,(s,a)=>{if(!S.isValidElement(s))return;let l=[...e,a];if(s.type===S.Fragment){n.push.apply(n,c0(s.props.children,l));return}$t(s.type===jr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$t(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=c0(s.props.children,l)),n.push(c)}),n}var Of="get",Vf="application/x-www-form-urlencoded";function Fm(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function qM(t){return Fm(t)&&t.tagName.toLowerCase()==="button"}function HM(t){return Fm(t)&&t.tagName.toLowerCase()==="form"}function GM(t){return Fm(t)&&t.tagName.toLowerCase()==="input"}function $M(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function KM(t,e){return t.button===0&&(!e||e==="_self")&&!$M(t)}var yf=null;function YM(){if(yf===null)try{new FormData(document.createElement("form"),0),yf=!1}catch{yf=!0}return yf}var XM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ty(t){return t!=null&&!XM.has(t)?(_i(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vf}"`),null):t}function WM(t,e){let n,s,a,l,c;if(HM(t)){let h=t.getAttribute("action");s=h?Gr(h,e):null,n=t.getAttribute("method")||Of,a=Ty(t.getAttribute("enctype"))||Vf,l=new FormData(t)}else if(qM(t)||GM(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(s=d?Gr(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Of,a=Ty(t.getAttribute("formenctype"))||Ty(h.getAttribute("enctype"))||Vf,l=new FormData(h,t),!YM()){let{name:m,type:g,value:b}=t;if(g==="image"){let x=m?`${m}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else m&&l.append(m,b)}}else{if(Fm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Of,s=null,a=Vf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function QM(t,e,n,s){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:e&&Gr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function JM(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZM(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function eP(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await JM(l,n);return c.links?c.links():[]}return[]}));return iP(s.flat(1).filter(ZM).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function G1(t,e,n,s,a,l){let c=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,h=(d,m)=>n[m].pathname!==d.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,m)=>c(d,m)||h(d,m)):l==="data"?e.filter((d,m)=>{let g=s.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(c(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function tP(t,e,{includeHydrateFallback:n}={}){return nP(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function nP(t){return[...new Set(t)]}function sP(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function iP(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(sP(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function kA(){let t=S.useContext(bc);return yv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function rP(){let t=S.useContext(zm);return yv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var vv=S.createContext(void 0);vv.displayName="FrameworkContext";function MA(){let t=S.useContext(vv);return yv(t,"You must render this element inside a <HydratedRouter> element"),t}function aP(t,e){let n=S.useContext(vv),[s,a]=S.useState(!1),[l,c]=S.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:g,onTouchStart:b}=e,x=S.useRef(null);S.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let I=O=>{O.forEach(H=>{c(H.isIntersecting)})},R=new IntersectionObserver(I,{threshold:.5});return x.current&&R.observe(x.current),()=>{R.disconnect()}}},[t]),S.useEffect(()=>{if(s){let I=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(I)}}},[s]);let A=()=>{a(!0)},D=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,x,{}]:[l,x,{onFocus:Ru(h,A),onBlur:Ru(d,D),onMouseEnter:Ru(m,A),onMouseLeave:Ru(g,D),onTouchStart:Ru(b,A)}]:[!1,x,{}]}function Ru(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function oP({page:t,...e}){let{router:n}=kA(),s=S.useMemo(()=>vA(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?S.createElement(cP,{page:t,matches:s,...e}):null}function lP(t){let{manifest:e,routeModules:n}=MA(),[s,a]=S.useState([]);return S.useEffect(()=>{let l=!1;return eP(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function cP({page:t,matches:e,...n}){let s=Qr(),{future:a,manifest:l,routeModules:c}=MA(),{basename:h}=kA(),{loaderData:d,matches:m}=rP(),g=S.useMemo(()=>G1(t,e,m,l,s,"data"),[t,e,m,l,s]),b=S.useMemo(()=>G1(t,e,m,l,s,"assets"),[t,e,m,l,s]),x=S.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let I=new Set,R=!1;if(e.forEach(H=>{let F=l.routes[H.route.id];!F||!F.hasLoader||(!g.some(re=>re.route.id===H.route.id)&&H.route.id in d&&c[H.route.id]?.shouldRevalidate||F.hasClientLoader?R=!0:I.add(H.route.id))}),I.size===0)return[];let O=QM(t,h,a.unstable_trailingSlashAwareDataRequests,"data");return R&&I.size>0&&O.searchParams.set("_routes",e.filter(H=>I.has(H.route.id)).map(H=>H.route.id).join(",")),[O.pathname+O.search]},[h,a.unstable_trailingSlashAwareDataRequests,d,s,l,g,e,t,c]),A=S.useMemo(()=>tP(b,l),[b,l]),D=lP(b);return S.createElement(S.Fragment,null,x.map(I=>S.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),A.map(I=>S.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),D.map(({key:I,link:R})=>S.createElement("link",{key:I,nonce:n.nonce,...R})))}function uP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var hP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hP&&(window.__reactRouterVersion="7.12.0")}catch{}function dP({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=S.useRef();a.current==null&&(a.current=Gk({window:s,v5Compat:!0}));let l=a.current,[c,h]=S.useState({action:l.action,location:l.location}),d=S.useCallback(m=>{n===!1?h(m):S.startTransition(()=>h(m))},[n]);return S.useLayoutEffect(()=>l.listen(d),[l,d]),S.createElement(BM,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var PA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bv=S.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:h,target:d,to:m,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:x,...A},D){let{basename:I,unstable_useTransitions:R}=S.useContext(Zs),O=typeof m=="string"&&PA.test(m),H=TA(m,I);m=H.to;let F=SM(m,{relative:a}),[re,te,ce]=aP(s,A),k=pP(m,{replace:c,state:h,target:d,preventScrollReset:g,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:x,unstable_useTransitions:R});function C(z){e&&e(z),z.defaultPrevented||k(z)}let P=S.createElement("a",{...A,...ce,href:H.absoluteURL||F,onClick:H.isExternal||l?e:C,ref:uP(D,te),target:d,"data-discover":!O&&n==="render"?"true":void 0});return re&&!O?S.createElement(S.Fragment,null,P,S.createElement(oP,{page:F})):P});bv.displayName="Link";var jA=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:h,children:d,...m},g){let b=Ah(c,{relative:m.relative}),x=Qr(),A=S.useContext(zm),{navigator:D,basename:I}=S.useContext(Zs),R=A!=null&&xP(b)&&h===!0,O=D.encodeLocation?D.encodeLocation(b).pathname:b.pathname,H=x.pathname,F=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(H=H.toLowerCase(),F=F?F.toLowerCase():null,O=O.toLowerCase()),F&&I&&(F=Gr(F,I)||F);const re=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let te=H===O||!a&&H.startsWith(O)&&H.charAt(re)==="/",ce=F!=null&&(F===O||!a&&F.startsWith(O)&&F.charAt(O.length)==="/"),k={isActive:te,isPending:ce,isTransitioning:R},C=te?e:void 0,P;typeof s=="function"?P=s(k):P=[s,te?"active":null,ce?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let z=typeof l=="function"?l(k):l;return S.createElement(bv,{...m,"aria-current":C,className:P,ref:g,style:z,to:c,viewTransition:h},typeof d=="function"?d(k):d)});jA.displayName="NavLink";var fP=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=Of,action:h,onSubmit:d,relative:m,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:x,...A},D)=>{let{unstable_useTransitions:I}=S.useContext(Zs),R=vP(),O=bP(h,{relative:m}),H=c.toLowerCase()==="get"?"get":"post",F=typeof h=="string"&&PA.test(h),re=te=>{if(d&&d(te),te.defaultPrevented)return;te.preventDefault();let ce=te.nativeEvent.submitter,k=ce?.getAttribute("formmethod")||c,C=()=>R(ce||te.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:a,state:l,relative:m,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:x});I&&n!==!1?S.startTransition(()=>C()):C()};return S.createElement("form",{ref:D,method:H,action:O,onSubmit:s?d:re,...A,"data-discover":!F&&t==="render"?"true":void 0})});fP.displayName="Form";function mP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OA(t){let e=S.useContext(bc);return $t(e,mP(t)),e}function pP(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let m=Bm(),g=Qr(),b=Ah(t,{relative:l});return S.useCallback(x=>{if(KM(x,e)){x.preventDefault();let A=n!==void 0?n:rh(g)===rh(b),D=()=>m(t,{replace:A,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h});d?S.startTransition(()=>D()):D()}},[g,m,b,n,s,e,t,a,l,c,h,d])}var gP=0,yP=()=>`__${String(++gP)}__`;function vP(){let{router:t}=OA("useSubmit"),{basename:e}=S.useContext(Zs),n=VM(),s=t.fetch,a=t.navigate;return S.useCallback(async(l,c={})=>{let{action:h,method:d,encType:m,formData:g,body:b}=WM(l,e);if(c.navigate===!1){let x=c.fetcherKey||yP();await s(x,n,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:b,formMethod:c.method||d,formEncType:c.encType||m,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:b,formMethod:c.method||d,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,e,n])}function bP(t,{relative:e}={}){let{basename:n}=S.useContext(Zs),s=S.useContext(Fi);$t(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Ah(t||".",{relative:e})},c=Qr();if(t==null){l.search=c.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(b=>b).forEach(b=>h.append("index",b));let g=h.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Br([n,l.pathname])),rh(l)}function xP(t,{relative:e}={}){let n=S.useContext(SA);$t(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=OA("useViewTransitionState"),a=Ah(t,{relative:e});if(!n.isTransitioning)return!1;let l=Gr(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Gr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Zf(a.pathname,c)!=null||Zf(a.pathname,l)!=null}var ju=yA();const wP=()=>y.jsx("div",{className:"noise-overlay"}),_P="modulepreload",TP=function(t){return"/"+t},$1={},ql=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){let d=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=c?.nonce||c?.getAttribute("nonce");a=d(n.map(m=>{if(m=TP(m),m in $1)return;$1[m]=!0;const g=m.endsWith(".css"),b=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${b}`))return;const x=document.createElement("link");if(x.rel=g?"stylesheet":_P,g||(x.as="script"),x.crossOrigin="",x.href=m,h&&x.setAttribute("nonce",h),document.head.appendChild(x),g)return new Promise((A,D)=>{x.addEventListener("load",A),x.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},EP=()=>{};var K1={};const VA=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},SP=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],h=t[n++],d=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},LA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,h=c?t[a+1]:0,d=a+2<t.length,m=d?t[a+2]:0,g=l>>2,b=(l&3)<<4|h>>4;let x=(h&15)<<2|m>>6,A=m&63;d||(A=64,c||(x=64)),s.push(n[g],n[b],n[x],n[A])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||m==null||b==null)throw new AP;const x=l<<2|h>>4;if(s.push(x),m!==64){const A=h<<4&240|m>>2;if(s.push(A),b!==64){const D=m<<6&192|b;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class AP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CP=function(t){const e=VA(t);return LA.encodeByteArray(e,!0)},em=function(t){return CP(t).replace(/\./g,"")},UA=function(t){try{return LA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function RP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const NP=()=>RP().__FIREBASE_DEFAULTS__,IP=()=>{if(typeof process>"u"||typeof K1>"u")return;const t=K1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&UA(t[1]);return e&&JSON.parse(e)},qm=()=>{try{return EP()||NP()||IP()||DP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zA=t=>qm()?.emulatorHosts?.[t],BA=t=>{const e=zA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},FA=()=>qm()?.config,qA=t=>qm()?.[`_${t}`];class kP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function tl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xv(t){return(await fetch(t,{credentials:"include"})).ok}function HA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[em(JSON.stringify(n)),em(JSON.stringify(c)),""].join(".")}const Bu={};function MP(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bu))Bu[e]?t.emulator.push(e):t.prod.push(e);return t}function PP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Y1=!1;function wv(t,e){if(typeof window>"u"||typeof document>"u"||!tl(window.location.host)||Bu[t]===e||Bu[t]||Y1)return;Bu[t]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",l=MP().prod.length>0;function c(){const x=document.getElementById(s);x&&x.remove()}function h(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function d(x,A){x.setAttribute("width","24"),x.setAttribute("id",A),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function m(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Y1=!0,c()},x}function g(x,A){x.setAttribute("id",A),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=PP(s),A=n("text"),D=document.getElementById(A)||document.createElement("span"),I=n("learnmore"),R=document.getElementById(I)||document.createElement("a"),O=n("preprendIcon"),H=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const F=x.element;h(F),g(R,I);const re=m();d(H,O),F.append(H,D,R,re),document.body.appendChild(F)}l?(D.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function gs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gs())}function OP(){const t=qm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function UP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zP(){const t=gs();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function BP(){return!OP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FP(){try{return typeof indexedDB=="object"}catch{return!1}}function qP(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const HP="FirebaseError";class fr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=HP,Object.setPrototypeOf(this,fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ch.prototype.create)}}class Ch{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?GP(l,s):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new fr(a,h,s)}}function GP(t,e){return t.replace($P,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const $P=/\{\$([^}]+)}/g;function KP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wo(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(X1(l)&&X1(c)){if(!Wo(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function X1(t){return t!==null&&typeof t=="object"}function Rh(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function YP(t,e){const n=new XP(t,e);return n.subscribe.bind(n)}class XP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");WP(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Ey),a.error===void 0&&(a.error=Ey),a.complete===void 0&&(a.complete=Ey);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ey(){}function an(t){return t&&t._delegate?t._delegate:t}class Ka{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Lo="[DEFAULT]";class QP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new kP;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZP(e))try{this.getOrInitializeService({instanceIdentifier:Lo})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lo){return this.instances.has(e)}getOptions(e=Lo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:JP(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Lo){return this.component?this.component.multipleInstances?e:Lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JP(t){return t===Lo?void 0:t}function ZP(t){return t.instantiationMode==="EAGER"}class e4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new QP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const t4={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},n4=it.INFO,s4={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},i4=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=s4[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _v{constructor(e){this.name=e,this._logLevel=n4,this._logHandler=i4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?t4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const r4=(t,e)=>e.some(n=>t instanceof n);let W1,Q1;function a4(){return W1||(W1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o4(){return Q1||(Q1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GA=new WeakMap,u0=new WeakMap,$A=new WeakMap,Sy=new WeakMap,Tv=new WeakMap;function l4(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(za(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&GA.set(n,t)}).catch(()=>{}),Tv.set(e,t),e}function c4(t){if(u0.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});u0.set(t,e)}let h0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return u0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$A.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return za(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function u4(t){h0=t(h0)}function h4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Ay(this),e,...n);return $A.set(s,e.sort?e.sort():[e]),za(s)}:o4().includes(t)?function(...e){return t.apply(Ay(this),e),za(GA.get(this))}:function(...e){return za(t.apply(Ay(this),e))}}function d4(t){return typeof t=="function"?h4(t):(t instanceof IDBTransaction&&c4(t),r4(t,a4())?new Proxy(t,h0):t)}function za(t){if(t instanceof IDBRequest)return l4(t);if(Sy.has(t))return Sy.get(t);const e=d4(t);return e!==t&&(Sy.set(t,e),Tv.set(e,t)),e}const Ay=t=>Tv.get(t);function f4(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),h=za(c);return s&&c.addEventListener("upgradeneeded",d=>{s(za(c.result),d.oldVersion,d.newVersion,za(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const m4=["get","getKey","getAll","getAllKeys","count"],p4=["put","add","delete","clear"],Cy=new Map;function J1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cy.get(e))return Cy.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=p4.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||m4.includes(n)))return;const l=async function(c,...h){const d=this.transaction(c,a?"readwrite":"readonly");let m=d.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),a&&d.done]))[0]};return Cy.set(e,l),l}u4(t=>({...t,get:(e,n,s)=>J1(e,n)||t.get(e,n,s),has:(e,n)=>!!J1(e,n)||t.has(e,n)}));class g4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(y4(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function y4(t){return t.getComponent()?.type==="VERSION"}const d0="@firebase/app",Z1="0.14.7";const $r=new _v("@firebase/app"),v4="@firebase/app-compat",b4="@firebase/analytics-compat",x4="@firebase/analytics",w4="@firebase/app-check-compat",_4="@firebase/app-check",T4="@firebase/auth",E4="@firebase/auth-compat",S4="@firebase/database",A4="@firebase/data-connect",C4="@firebase/database-compat",R4="@firebase/functions",N4="@firebase/functions-compat",I4="@firebase/installations",D4="@firebase/installations-compat",k4="@firebase/messaging",M4="@firebase/messaging-compat",P4="@firebase/performance",j4="@firebase/performance-compat",O4="@firebase/remote-config",V4="@firebase/remote-config-compat",L4="@firebase/storage",U4="@firebase/storage-compat",z4="@firebase/firestore",B4="@firebase/ai",F4="@firebase/firestore-compat",q4="firebase",H4="12.8.0";const f0="[DEFAULT]",G4={[d0]:"fire-core",[v4]:"fire-core-compat",[x4]:"fire-analytics",[b4]:"fire-analytics-compat",[_4]:"fire-app-check",[w4]:"fire-app-check-compat",[T4]:"fire-auth",[E4]:"fire-auth-compat",[S4]:"fire-rtdb",[A4]:"fire-data-connect",[C4]:"fire-rtdb-compat",[R4]:"fire-fn",[N4]:"fire-fn-compat",[I4]:"fire-iid",[D4]:"fire-iid-compat",[k4]:"fire-fcm",[M4]:"fire-fcm-compat",[P4]:"fire-perf",[j4]:"fire-perf-compat",[O4]:"fire-rc",[V4]:"fire-rc-compat",[L4]:"fire-gcs",[U4]:"fire-gcs-compat",[z4]:"fire-fst",[F4]:"fire-fst-compat",[B4]:"fire-vertex","fire-js":"fire-js",[q4]:"fire-js-all"};const tm=new Map,$4=new Map,m0=new Map;function eT(t,e){try{t.container.addComponent(e)}catch(n){$r.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qo(t){const e=t.name;if(m0.has(e))return $r.debug(`There were multiple attempts to register component ${e}.`),!1;m0.set(e,t);for(const n of tm.values())eT(n,t);for(const n of $4.values())eT(n,t);return!0}function Hm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gi(t){return t==null?!1:t.settings!==void 0}const K4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ba=new Ch("app","Firebase",K4);class Y4{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ka("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ba.create("app-deleted",{appName:this._name})}}const nl=H4;function KA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:f0,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Ba.create("bad-app-name",{appName:String(a)});if(n||(n=FA()),!n)throw Ba.create("no-options");const l=tm.get(a);if(l){if(Wo(n,l.options)&&Wo(s,l.config))return l;throw Ba.create("duplicate-app",{appName:a})}const c=new e4(a);for(const d of m0.values())c.addComponent(d);const h=new Y4(n,s,c);return tm.set(a,h),h}function Ev(t=f0){const e=tm.get(t);if(!e&&t===f0&&FA())return KA();if(!e)throw Ba.create("no-app",{appName:t});return e}function sr(t,e,n){let s=G4[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$r.warn(c.join(" "));return}Qo(new Ka(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const X4="firebase-heartbeat-database",W4=1,ah="firebase-heartbeat-store";let Ry=null;function YA(){return Ry||(Ry=f4(X4,W4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ah)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ba.create("idb-open",{originalErrorMessage:t.message})})),Ry}async function Q4(t){try{const n=(await YA()).transaction(ah),s=await n.objectStore(ah).get(XA(t));return await n.done,s}catch(e){if(e instanceof fr)$r.warn(e.message);else{const n=Ba.create("idb-get",{originalErrorMessage:e?.message});$r.warn(n.message)}}}async function tT(t,e){try{const s=(await YA()).transaction(ah,"readwrite");await s.objectStore(ah).put(e,XA(t)),await s.done}catch(n){if(n instanceof fr)$r.warn(n.message);else{const s=Ba.create("idb-set",{originalErrorMessage:n?.message});$r.warn(s.message)}}}function XA(t){return`${t.name}!${t.options.appId}`}const J4=1024,Z4=30;class ej{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nj(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=nT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Z4){const a=sj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){$r.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=nT(),{heartbeatsToSend:n,unsentEntries:s}=tj(this._heartbeatsCache.heartbeats),a=em(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return $r.warn(e),""}}}function nT(){return new Date().toISOString().substring(0,10)}function tj(t,e=J4){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),sT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),sT(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class nj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FP()?qP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Q4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return tT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return tT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function sT(t){return em(JSON.stringify({version:2,heartbeats:t})).length}function sj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function ij(t){Qo(new Ka("platform-logger",e=>new g4(e),"PRIVATE")),Qo(new Ka("heartbeat",e=>new ej(e),"PRIVATE")),sr(d0,Z1,t),sr(d0,Z1,"esm2020"),sr("fire-js","")}ij("");var rj="firebase",aj="12.8.0";sr(rj,aj,"app");function WA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QA=WA,JA=new Ch("auth","Firebase",WA());const nm=new _v("@firebase/auth");function oj(t,...e){nm.logLevel<=it.WARN&&nm.warn(`Auth (${nl}): ${t}`,...e)}function Lf(t,...e){nm.logLevel<=it.ERROR&&nm.error(`Auth (${nl}): ${t}`,...e)}function cr(t,...e){throw Av(t,...e)}function Oi(t,...e){return Av(t,...e)}function Sv(t,e,n){const s={...QA(),[e]:n};return new Ch("auth","Firebase",s).create(e,{appName:t.name})}function Go(t){return Sv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lj(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&cr(t,"argument-error"),Sv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Av(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return JA.create(t,...e)}function ze(t,e,...n){if(!t)throw Av(e,...n)}function Ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Lf(e),new Error(e)}function Kr(t,e){t||Ur(e)}function p0(){return typeof self<"u"&&self.location?.href||""}function cj(){return iT()==="http:"||iT()==="https:"}function iT(){return typeof self<"u"&&self.location?.protocol||null}function uj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cj()||LP()||"connection"in navigator)?navigator.onLine:!0}function hj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Nh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Kr(n>e,"Short delay should be less than long delay!"),this.isMobile=jP()||UP()}get(){return uj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cv(t,e){Kr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class ZA{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const fj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mj=new Nh(3e4,6e4);function Rv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function sl(t,e,n,s,a={}){return eC(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const h=Rh({key:t.config.apiKey,...c}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:d,...l};return VP()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&tl(t.emulatorConfig.host)&&(m.credentials="include"),ZA.fetch()(await tC(t,t.config.apiHost,n,h),m)})}async function eC(t,e,n){t._canInitEmulator=!1;const s={...dj,...e};try{const a=new gj(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw vf(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw vf(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw vf(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw vf(t,"user-disabled",c);const g=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Sv(t,g,m);cr(t,g)}}catch(a){if(a instanceof fr)throw a;cr(t,"network-request-failed",{message:String(a)})}}async function pj(t,e,n,s,a={}){const l=await sl(t,e,n,s,a);return"mfaPendingCredential"in l&&cr(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function tC(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?Cv(t.config,a):`${t.config.apiScheme}://${a}`;return fj.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class gj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Oi(this.auth,"network-request-failed")),mj.get())})}}function vf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Oi(t,e,s);return a.customData._tokenResponse=n,a}async function yj(t,e){return sl(t,"POST","/v1/accounts:delete",e)}async function sm(t,e){return sl(t,"POST","/v1/accounts:lookup",e)}function Fu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nC(t,e=!1){const n=an(t),s=await n.getIdToken(e),a=Nv(s);ze(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Fu(Ny(a.auth_time)),issuedAtTime:Fu(Ny(a.iat)),expirationTime:Fu(Ny(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Ny(t){return Number(t)*1e3}function Nv(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Lf("JWT malformed, contained fewer than 3 sections"),null;try{const a=UA(n);return a?JSON.parse(a):(Lf("Failed to decode base64 JWT payload"),null)}catch(a){return Lf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function rT(t){const e=Nv(t);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function lc(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof fr&&vj(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function vj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class bj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class g0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fu(this.lastLoginAt),this.creationTime=Fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function im(t){const e=t.auth,n=await t.getIdToken(),s=await lc(t,sm(e,{idToken:n}));ze(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?iC(a.providerUserInfo):[],c=xj(t.providerData,l),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!c?.length,m=h?d:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new g0(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function sC(t){const e=an(t);await im(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xj(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function iC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function wj(t,e){const n=await eC(t,{},async()=>{const s=Rh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await tC(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:s};return t.emulatorConfig&&tl(t.emulatorConfig.host)&&(d.credentials="include"),ZA.fetch()(c,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _j(t,e){return sl(t,"POST","/v2/accounts:revokeToken",Rv(t,e))}class Zl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const n=rT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await wj(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Zl;return s&&(ze(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(ze(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(ze(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zl,this.toJSON())}_performRefresh(){return Ur("not implemented")}}function Pa(t,e){ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pi{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new bj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new g0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await lc(this,this.stsTokenManager.getToken(this.auth,e));return ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return nC(this,e)}reload(){return sC(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await im(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gi(this.auth.app))return Promise.reject(Go(this.auth));const e=await this.getIdToken();return await lc(this,yj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,m=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:A,providerData:D,stsTokenManager:I}=n;ze(b&&I,e,"internal-error");const R=Zl.fromJSON(this.name,I);ze(typeof b=="string",e,"internal-error"),Pa(s,e.name),Pa(a,e.name),ze(typeof x=="boolean",e,"internal-error"),ze(typeof A=="boolean",e,"internal-error"),Pa(l,e.name),Pa(c,e.name),Pa(h,e.name),Pa(d,e.name),Pa(m,e.name),Pa(g,e.name);const O=new Pi({uid:b,auth:e,email:a,emailVerified:x,displayName:s,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:h,stsTokenManager:R,createdAt:m,lastLoginAt:g});return D&&Array.isArray(D)&&(O.providerData=D.map(H=>({...H}))),d&&(O._redirectEventId=d),O}static async _fromIdTokenResponse(e,n,s=!1){const a=new Zl;a.updateFromServerResponse(n);const l=new Pi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await im(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];ze(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?iC(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,h=new Zl;h.updateFromIdToken(s);const d=new Pi({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new g0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,m),d}}const aT=new Map;function zr(t){Kr(t instanceof Function,"Expected a class definition");let e=aT.get(t);return e?(Kr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,aT.set(t,e),e)}class rC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}rC.type="NONE";const y0=rC;function Uf(t,e,n){return`firebase:${t}:${e}:${n}`}class ec{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Uf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Uf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await sm(this.auth,{idToken:e}).catch(()=>{});return n?Pi._fromGetAccountInfoResponse(this.auth,n,e):null}return Pi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ec(zr(y0),e,s);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||zr(y0);const c=Uf(s,e.config.apiKey,e.name);let h=null;for(const m of n)try{const g=await m._get(c);if(g){let b;if(typeof g=="string"){const x=await sm(e,{idToken:g}).catch(()=>{});if(!x)break;b=await Pi._fromGetAccountInfoResponse(e,x,g)}else b=Pi._fromJSON(e,g);m!==l&&(h=b),l=m;break}}catch{}const d=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new ec(l,e,s):(l=d[0],h&&await l._set(c,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new ec(l,e,s))}}function oT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hC(e))return"Blackberry";if(dC(e))return"Webos";if(oC(e))return"Safari";if((e.includes("chrome/")||lC(e))&&!e.includes("edge/"))return"Chrome";if(uC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function aC(t=gs()){return/firefox\//i.test(t)}function oC(t=gs()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lC(t=gs()){return/crios\//i.test(t)}function cC(t=gs()){return/iemobile/i.test(t)}function uC(t=gs()){return/android/i.test(t)}function hC(t=gs()){return/blackberry/i.test(t)}function dC(t=gs()){return/webos/i.test(t)}function Iv(t=gs()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Tj(t=gs()){return Iv(t)&&!!window.navigator?.standalone}function Ej(){return zP()&&document.documentMode===10}function fC(t=gs()){return Iv(t)||uC(t)||dC(t)||hC(t)||/windows phone/i.test(t)||cC(t)}function mC(t,e=[]){let n;switch(t){case"Browser":n=oT(gs());break;case"Worker":n=`${oT(gs())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${nl}/${s}`}class Sj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,h)=>{try{const d=e(l);c(d)}catch(d){h(d)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Aj(t,e={}){return sl(t,"GET","/v2/passwordPolicy",Rv(t,e))}const Cj=6;class Rj{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Cj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class Nj{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lT(this),this.idTokenSubscription=new lT(this),this.beforeStateQueue=new Sj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ec.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sm(this,{idToken:e}),s=await Pi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(gi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&h?.user&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await im(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gi(this.app))return Promise.reject(Go(this));const n=e?an(e):null;return n&&ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gi(this.app)?Promise.reject(Go(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gi(this.app)?Promise.reject(Go(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Aj(this),n=new Rj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ch("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await _j(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zr(e)||this._popupRedirectResolver;ze(n,this,"argument-error"),this.redirectPersistenceManager=await ec.create(this,[zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,s,a);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(gi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&oj(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Gm(t){return an(t)}class lT{constructor(e){this.auth=e,this.observer=null,this.addObserver=YP(n=>this.observer=n)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ij(t){Dv=t}function Dj(t){return Dv.loadJS(t)}function kj(){return Dv.gapiScript}function Mj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function pC(t,e){const n=Hm(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Wo(l,e??{}))return a;cr(a,"already-initialized")}return n.initialize({options:e})}function Pj(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(zr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function gC(t,e,n){const s=Gm(t);ze(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=yC(e),{host:c,port:h}=jj(e),d=h===null?"":`:${h}`,m={url:`${l}//${c}${d}/`},g=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){ze(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ze(Wo(m,s.config.emulator)&&Wo(g,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=g,s.settings.appVerificationDisabledForTesting=!0,tl(c)?(xv(`${l}//${c}${d}`),wv("Auth",!0)):Oj()}function yC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jj(t){const e=yC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:cT(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:cT(c)}}}function cT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Oj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class kv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,n){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}async function tc(t,e){return pj(t,"POST","/v1/accounts:signInWithIdp",Rv(t,e))}const Vj="http://localhost";class Ya extends kv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Ya(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return tc(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,tc(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tc(e,n)}buildRequest(){const e={requestUri:Vj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Rh(n)}return e}}class Mv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ih extends Mv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Or extends Ih{constructor(){super("facebook.com")}static credential(e){return Ya._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Or.credential(e.oauthAccessToken)}catch{return null}}}Or.FACEBOOK_SIGN_IN_METHOD="facebook.com";Or.PROVIDER_ID="facebook.com";class tr extends Ih{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ya._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return tr.credential(n,s)}catch{return null}}}tr.GOOGLE_SIGN_IN_METHOD="google.com";tr.PROVIDER_ID="google.com";class Vr extends Ih{constructor(){super("github.com")}static credential(e){return Ya._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vr.credential(e.oauthAccessToken)}catch{return null}}}Vr.GITHUB_SIGN_IN_METHOD="github.com";Vr.PROVIDER_ID="github.com";class Lr extends Ih{constructor(){super("twitter.com")}static credential(e,n){return Ya._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Lr.credential(n,s)}catch{return null}}}Lr.TWITTER_SIGN_IN_METHOD="twitter.com";Lr.PROVIDER_ID="twitter.com";class cc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Pi._fromIdTokenResponse(e,s,a),c=uT(s);return new cc({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=uT(s);return new cc({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function uT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class rm extends fr{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,rm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new rm(e,n,s,a)}}function vC(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?rm._fromErrorAndOperation(t,l,e,s):l})}async function Lj(t,e,n=!1){const s=await lc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return cc._forOperation(t,"link",s)}async function Uj(t,e,n=!1){const{auth:s}=t;if(gi(s.app))return Promise.reject(Go(s));const a="reauthenticate";try{const l=await lc(t,vC(s,a,e,t),n);ze(l.idToken,s,"internal-error");const c=Nv(l.idToken);ze(c,s,"internal-error");const{sub:h}=c;return ze(t.uid===h,s,"user-mismatch"),cc._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&cr(s,"user-mismatch"),l}}async function zj(t,e,n=!1){if(gi(t.app))return Promise.reject(Go(t));const s="signIn",a=await vC(t,s,e),l=await cc._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function Bj(t,e){return sl(t,"POST","/v1/accounts:update",e)}async function Fj(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=an(t),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await lc(s,Bj(s.auth,l));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const h=s.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=s.displayName,h.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function bC(t,e,n,s){return an(t).onIdTokenChanged(e,n,s)}function xC(t,e,n){return an(t).beforeAuthStateChanged(e,n)}function wC(t,e,n,s){return an(t).onAuthStateChanged(e,n,s)}function _C(t){return an(t).signOut()}const am="__sak";class TC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(am,"1"),this.storage.removeItem(am),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const qj=1e3,Hj=10;class EC extends TC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);Ej()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Hj):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},qj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}EC.type="LOCAL";const SC=EC;class AC extends TC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AC.type="SESSION";const Pv=AC;function Gj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class $m{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new $m(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const h=Array.from(c).map(async m=>m(n.origin,l)),d=await Gj(h);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$m.receivers=[];function jv(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class $j{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,d)=>{const m=jv("",20);a.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(b){const x=b;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(x.data.response);break;default:clearTimeout(g),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ir(){return window}function Kj(t){ir().location.href=t}function CC(){return typeof ir().WorkerGlobalScope<"u"&&typeof ir().importScripts=="function"}async function Yj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Xj(){return navigator?.serviceWorker?.controller||null}function Wj(){return CC()?self:null}const RC="firebaseLocalStorageDb",Qj=1,om="firebaseLocalStorage",NC="fbase_key";class Dh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Km(t,e){return t.transaction([om],e?"readwrite":"readonly").objectStore(om)}function Jj(){const t=indexedDB.deleteDatabase(RC);return new Dh(t).toPromise()}function v0(){const t=indexedDB.open(RC,Qj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(om,{keyPath:NC})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(om)?e(s):(s.close(),await Jj(),e(await v0()))})})}async function hT(t,e,n){const s=Km(t,!0).put({[NC]:e,value:n});return new Dh(s).toPromise()}async function Zj(t,e){const n=Km(t,!1).get(e),s=await new Dh(n).toPromise();return s===void 0?null:s.value}function dT(t,e){const n=Km(t,!0).delete(e);return new Dh(n).toPromise()}const eO=800,tO=3;class IC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await v0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>tO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$m._getInstance(Wj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Yj(),!this.activeServiceWorker)return;this.sender=new $j(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Xj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await v0();return await hT(e,am,"1"),await dT(e,am),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>hT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Zj(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>dT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Km(a,!1).getAll();return new Dh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IC.type="LOCAL";const DC=IC;new Nh(3e4,6e4);function kC(t,e){return e?zr(e):(ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Ov extends kv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function nO(t){return zj(t.auth,new Ov(t),t.bypassAuthState)}function sO(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),Uj(n,new Ov(t),t.bypassAuthState)}async function iO(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),Lj(n,new Ov(t),t.bypassAuthState)}class MC{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nO;case"linkViaPopup":case"linkViaRedirect":return iO;case"reauthViaPopup":case"reauthViaRedirect":return sO;default:cr(this.auth,"internal-error")}}resolve(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const rO=new Nh(2e3,1e4);async function PC(t,e,n){if(gi(t.app))return Promise.reject(Oi(t,"operation-not-supported-in-this-environment"));const s=Gm(t);lj(t,e,Mv);const a=kC(s,n);return new Bo(s,"signInViaPopup",e,a).executeNotNull()}class Bo extends MC{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Bo.currentPopupAction&&Bo.currentPopupAction.cancel(),Bo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){Kr(this.filter.length===1,"Popup operations only handle one event");const e=jv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rO.get())};e()}}Bo.currentPopupAction=null;const aO="pendingRedirect",zf=new Map;class oO extends MC{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=zf.get(this.auth._key());if(!e){try{const s=await lO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}zf.set(this.auth._key(),e)}return this.bypassAuthState||zf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lO(t,e){const n=hO(e),s=uO(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function cO(t,e){zf.set(t._key(),e)}function uO(t){return zr(t._redirectPersistence)}function hO(t){return Uf(aO,t.config.apiKey,t.name)}async function dO(t,e,n=!1){if(gi(t.app))return Promise.reject(Go(t));const s=Gm(t),a=kC(s,e),c=await new oO(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const fO=600*1e3;class mO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!jC(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Oi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fO&&this.cachedEventUids.clear(),this.cachedEventUids.has(fT(e))}saveEventToCache(e){this.cachedEventUids.add(fT(e)),this.lastProcessedEventTime=Date.now()}}function fT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function pO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jC(t);default:return!1}}async function gO(t,e={}){return sl(t,"GET","/v1/projects",e)}const yO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vO=/^https?/;async function bO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await gO(t);for(const n of e)try{if(xO(n))return}catch{}cr(t,"unauthorized-domain")}function xO(t){const e=p0(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!vO.test(n))return!1;if(yO.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const wO=new Nh(3e4,6e4);function mT(){const t=ir().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _O(t){return new Promise((e,n)=>{function s(){mT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mT(),n(Oi(t,"network-request-failed"))},timeout:wO.get()})}if(ir().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ir().gapi?.load)s();else{const a=Mj("iframefcb");return ir()[a]=()=>{gapi.load?s():n(Oi(t,"network-request-failed"))},Dj(`${kj()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Bf=null,e})}let Bf=null;function TO(t){return Bf=Bf||_O(t),Bf}const EO=new Nh(5e3,15e3),SO="__/auth/iframe",AO="emulator/auth/iframe",CO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NO(t){const e=t.config;ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Cv(e,AO):`https://${t.config.authDomain}/${SO}`,s={apiKey:e.apiKey,appName:t.name,v:nl},a=RO.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Rh(s).slice(1)}`}async function IO(t){const e=await TO(t),n=ir().gapi;return ze(n,t,"internal-error"),e.open({where:document.body,url:NO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CO,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Oi(t,"network-request-failed"),h=ir().setTimeout(()=>{l(c)},EO.get());function d(){ir().clearTimeout(h),a(s)}s.ping(d).then(d,()=>{l(c)})}))}const DO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kO=500,MO=600,PO="_blank",jO="http://localhost";class pT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OO(t,e,n,s=kO,a=MO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const d={...DO,width:s.toString(),height:a.toString(),top:l,left:c},m=gs().toLowerCase();n&&(h=lC(m)?PO:n),aC(m)&&(e=e||jO,d.scrollbars="yes");const g=Object.entries(d).reduce((x,[A,D])=>`${x}${A}=${D},`,"");if(Tj(m)&&h!=="_self")return VO(e||"",h),new pT(null);const b=window.open(e||"",h,g);ze(b,t,"popup-blocked");try{b.focus()}catch{}return new pT(b)}function VO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const LO="__/auth/handler",UO="emulator/auth/handler",zO=encodeURIComponent("fac");async function gT(t,e,n,s,a,l){ze(t.config.authDomain,t,"auth-domain-config-required"),ze(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:nl,eventId:a};if(e instanceof Mv){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",KP(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,b]of Object.entries({}))c[g]=b}if(e instanceof Ih){const g=e.getScopes().filter(b=>b!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),m=d?`#${zO}=${encodeURIComponent(d)}`:"";return`${BO(t)}?${Rh(h).slice(1)}${m}`}function BO({config:t}){return t.emulator?Cv(t,UO):`https://${t.authDomain}/${LO}`}const Iy="webStorageSupport";class FO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pv,this._completeRedirectFn=dO,this._overrideRedirectResult=cO}async _openPopup(e,n,s,a){Kr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await gT(e,n,s,p0(),a);return OO(e,l,jv())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await gT(e,n,s,p0(),a);return Kj(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Kr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await IO(e),s=new mO(e);return n.register("authEvent",a=>(ze(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Iy,{type:Iy},a=>{const l=a?.[0]?.[Iy];l!==void 0&&n(!!l),cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fC()||oC()||Iv()}}const OC=FO;var yT="@firebase/auth",vT="1.12.0";class qO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function HO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GO(t){Qo(new Ka("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=s.options;ze(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mC(t)},m=new Nj(s,a,l,d);return Pj(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Qo(new Ka("auth-internal",e=>{const n=Gm(e.getProvider("auth").getImmediate());return(s=>new qO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(yT,vT,HO(t)),sr(yT,vT,"esm2020")}const $O=300,KO=qA("authIdTokenMaxAge")||$O;let bT=null;const YO=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>KO)return;const a=n?.token;bT!==a&&(bT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function VC(t=Ev()){const e=Hm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=pC(t,{popupRedirectResolver:OC,persistence:[DC,SC,Pv]}),s=qA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=YO(l.toString());xC(n,c,()=>c(n.currentUser)),bC(n,h=>c(h))}}const a=zA("auth");return a&&gC(n,`http://${a}`),n}function XO(){return document.getElementsByTagName("head")?.[0]??document}Ij({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Oi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",XO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GO("Browser");const WO=Object.freeze(Object.defineProperty({__proto__:null,AuthCredential:kv,FacebookAuthProvider:Or,GithubAuthProvider:Vr,GoogleAuthProvider:tr,OAuthCredential:Ya,TwitterAuthProvider:Lr,beforeAuthStateChanged:xC,browserLocalPersistence:SC,browserPopupRedirectResolver:OC,browserSessionPersistence:Pv,connectAuthEmulator:gC,getAuth:VC,getIdTokenResult:nC,inMemoryPersistence:y0,indexedDBLocalPersistence:DC,initializeAuth:pC,onAuthStateChanged:wC,onIdTokenChanged:bC,prodErrorMap:QA,reload:sC,signInWithPopup:PC,signOut:_C,updateProfile:Fj},Symbol.toStringTag,{value:"Module"}));var xT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fa,LC;(function(){var t;function e(k,C){function P(){}P.prototype=C.prototype,k.F=C.prototype,k.prototype=new P,k.prototype.constructor=k,k.D=function(z,B,j){for(var V=Array(arguments.length-2),be=2;be<arguments.length;be++)V[be-2]=arguments[be];return C.prototype[B].apply(z,V)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,C,P){P||(P=0);const z=Array(16);if(typeof C=="string")for(var B=0;B<16;++B)z[B]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(B=0;B<16;++B)z[B]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=k.g[0],P=k.g[1],B=k.g[2];let j=k.g[3],V;V=C+(j^P&(B^j))+z[0]+3614090360&4294967295,C=P+(V<<7&4294967295|V>>>25),V=j+(B^C&(P^B))+z[1]+3905402710&4294967295,j=C+(V<<12&4294967295|V>>>20),V=B+(P^j&(C^P))+z[2]+606105819&4294967295,B=j+(V<<17&4294967295|V>>>15),V=P+(C^B&(j^C))+z[3]+3250441966&4294967295,P=B+(V<<22&4294967295|V>>>10),V=C+(j^P&(B^j))+z[4]+4118548399&4294967295,C=P+(V<<7&4294967295|V>>>25),V=j+(B^C&(P^B))+z[5]+1200080426&4294967295,j=C+(V<<12&4294967295|V>>>20),V=B+(P^j&(C^P))+z[6]+2821735955&4294967295,B=j+(V<<17&4294967295|V>>>15),V=P+(C^B&(j^C))+z[7]+4249261313&4294967295,P=B+(V<<22&4294967295|V>>>10),V=C+(j^P&(B^j))+z[8]+1770035416&4294967295,C=P+(V<<7&4294967295|V>>>25),V=j+(B^C&(P^B))+z[9]+2336552879&4294967295,j=C+(V<<12&4294967295|V>>>20),V=B+(P^j&(C^P))+z[10]+4294925233&4294967295,B=j+(V<<17&4294967295|V>>>15),V=P+(C^B&(j^C))+z[11]+2304563134&4294967295,P=B+(V<<22&4294967295|V>>>10),V=C+(j^P&(B^j))+z[12]+1804603682&4294967295,C=P+(V<<7&4294967295|V>>>25),V=j+(B^C&(P^B))+z[13]+4254626195&4294967295,j=C+(V<<12&4294967295|V>>>20),V=B+(P^j&(C^P))+z[14]+2792965006&4294967295,B=j+(V<<17&4294967295|V>>>15),V=P+(C^B&(j^C))+z[15]+1236535329&4294967295,P=B+(V<<22&4294967295|V>>>10),V=C+(B^j&(P^B))+z[1]+4129170786&4294967295,C=P+(V<<5&4294967295|V>>>27),V=j+(P^B&(C^P))+z[6]+3225465664&4294967295,j=C+(V<<9&4294967295|V>>>23),V=B+(C^P&(j^C))+z[11]+643717713&4294967295,B=j+(V<<14&4294967295|V>>>18),V=P+(j^C&(B^j))+z[0]+3921069994&4294967295,P=B+(V<<20&4294967295|V>>>12),V=C+(B^j&(P^B))+z[5]+3593408605&4294967295,C=P+(V<<5&4294967295|V>>>27),V=j+(P^B&(C^P))+z[10]+38016083&4294967295,j=C+(V<<9&4294967295|V>>>23),V=B+(C^P&(j^C))+z[15]+3634488961&4294967295,B=j+(V<<14&4294967295|V>>>18),V=P+(j^C&(B^j))+z[4]+3889429448&4294967295,P=B+(V<<20&4294967295|V>>>12),V=C+(B^j&(P^B))+z[9]+568446438&4294967295,C=P+(V<<5&4294967295|V>>>27),V=j+(P^B&(C^P))+z[14]+3275163606&4294967295,j=C+(V<<9&4294967295|V>>>23),V=B+(C^P&(j^C))+z[3]+4107603335&4294967295,B=j+(V<<14&4294967295|V>>>18),V=P+(j^C&(B^j))+z[8]+1163531501&4294967295,P=B+(V<<20&4294967295|V>>>12),V=C+(B^j&(P^B))+z[13]+2850285829&4294967295,C=P+(V<<5&4294967295|V>>>27),V=j+(P^B&(C^P))+z[2]+4243563512&4294967295,j=C+(V<<9&4294967295|V>>>23),V=B+(C^P&(j^C))+z[7]+1735328473&4294967295,B=j+(V<<14&4294967295|V>>>18),V=P+(j^C&(B^j))+z[12]+2368359562&4294967295,P=B+(V<<20&4294967295|V>>>12),V=C+(P^B^j)+z[5]+4294588738&4294967295,C=P+(V<<4&4294967295|V>>>28),V=j+(C^P^B)+z[8]+2272392833&4294967295,j=C+(V<<11&4294967295|V>>>21),V=B+(j^C^P)+z[11]+1839030562&4294967295,B=j+(V<<16&4294967295|V>>>16),V=P+(B^j^C)+z[14]+4259657740&4294967295,P=B+(V<<23&4294967295|V>>>9),V=C+(P^B^j)+z[1]+2763975236&4294967295,C=P+(V<<4&4294967295|V>>>28),V=j+(C^P^B)+z[4]+1272893353&4294967295,j=C+(V<<11&4294967295|V>>>21),V=B+(j^C^P)+z[7]+4139469664&4294967295,B=j+(V<<16&4294967295|V>>>16),V=P+(B^j^C)+z[10]+3200236656&4294967295,P=B+(V<<23&4294967295|V>>>9),V=C+(P^B^j)+z[13]+681279174&4294967295,C=P+(V<<4&4294967295|V>>>28),V=j+(C^P^B)+z[0]+3936430074&4294967295,j=C+(V<<11&4294967295|V>>>21),V=B+(j^C^P)+z[3]+3572445317&4294967295,B=j+(V<<16&4294967295|V>>>16),V=P+(B^j^C)+z[6]+76029189&4294967295,P=B+(V<<23&4294967295|V>>>9),V=C+(P^B^j)+z[9]+3654602809&4294967295,C=P+(V<<4&4294967295|V>>>28),V=j+(C^P^B)+z[12]+3873151461&4294967295,j=C+(V<<11&4294967295|V>>>21),V=B+(j^C^P)+z[15]+530742520&4294967295,B=j+(V<<16&4294967295|V>>>16),V=P+(B^j^C)+z[2]+3299628645&4294967295,P=B+(V<<23&4294967295|V>>>9),V=C+(B^(P|~j))+z[0]+4096336452&4294967295,C=P+(V<<6&4294967295|V>>>26),V=j+(P^(C|~B))+z[7]+1126891415&4294967295,j=C+(V<<10&4294967295|V>>>22),V=B+(C^(j|~P))+z[14]+2878612391&4294967295,B=j+(V<<15&4294967295|V>>>17),V=P+(j^(B|~C))+z[5]+4237533241&4294967295,P=B+(V<<21&4294967295|V>>>11),V=C+(B^(P|~j))+z[12]+1700485571&4294967295,C=P+(V<<6&4294967295|V>>>26),V=j+(P^(C|~B))+z[3]+2399980690&4294967295,j=C+(V<<10&4294967295|V>>>22),V=B+(C^(j|~P))+z[10]+4293915773&4294967295,B=j+(V<<15&4294967295|V>>>17),V=P+(j^(B|~C))+z[1]+2240044497&4294967295,P=B+(V<<21&4294967295|V>>>11),V=C+(B^(P|~j))+z[8]+1873313359&4294967295,C=P+(V<<6&4294967295|V>>>26),V=j+(P^(C|~B))+z[15]+4264355552&4294967295,j=C+(V<<10&4294967295|V>>>22),V=B+(C^(j|~P))+z[6]+2734768916&4294967295,B=j+(V<<15&4294967295|V>>>17),V=P+(j^(B|~C))+z[13]+1309151649&4294967295,P=B+(V<<21&4294967295|V>>>11),V=C+(B^(P|~j))+z[4]+4149444226&4294967295,C=P+(V<<6&4294967295|V>>>26),V=j+(P^(C|~B))+z[11]+3174756917&4294967295,j=C+(V<<10&4294967295|V>>>22),V=B+(C^(j|~P))+z[2]+718787259&4294967295,B=j+(V<<15&4294967295|V>>>17),V=P+(j^(B|~C))+z[9]+3951481745&4294967295,k.g[0]=k.g[0]+C&4294967295,k.g[1]=k.g[1]+(B+(V<<21&4294967295|V>>>11))&4294967295,k.g[2]=k.g[2]+B&4294967295,k.g[3]=k.g[3]+j&4294967295}s.prototype.v=function(k,C){C===void 0&&(C=k.length);const P=C-this.blockSize,z=this.C;let B=this.h,j=0;for(;j<C;){if(B==0)for(;j<=P;)a(this,k,j),j+=this.blockSize;if(typeof k=="string"){for(;j<C;)if(z[B++]=k.charCodeAt(j++),B==this.blockSize){a(this,z),B=0;break}}else for(;j<C;)if(z[B++]=k[j++],B==this.blockSize){a(this,z),B=0;break}}this.h=B,this.o+=C},s.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var C=1;C<k.length-8;++C)k[C]=0;C=this.o*8;for(var P=k.length-8;P<k.length;++P)k[P]=C&255,C/=256;for(this.v(k),k=Array(16),C=0,P=0;P<4;++P)for(let z=0;z<32;z+=8)k[C++]=this.g[P]>>>z&255;return k};function l(k,C){var P=h;return Object.prototype.hasOwnProperty.call(P,k)?P[k]:P[k]=C(k)}function c(k,C){this.h=C;const P=[];let z=!0;for(let B=k.length-1;B>=0;B--){const j=k[B]|0;z&&j==C||(P[B]=j,z=!1)}this.g=P}var h={};function d(k){return-128<=k&&k<128?l(k,function(C){return new c([C|0],C<0?-1:0)}):new c([k|0],k<0?-1:0)}function m(k){if(isNaN(k)||!isFinite(k))return b;if(k<0)return R(m(-k));const C=[];let P=1;for(let z=0;k>=P;z++)C[z]=k/P|0,P*=4294967296;return new c(C,0)}function g(k,C){if(k.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(k.charAt(0)=="-")return R(g(k.substring(1),C));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=m(Math.pow(C,8));let z=b;for(let j=0;j<k.length;j+=8){var B=Math.min(8,k.length-j);const V=parseInt(k.substring(j,j+B),C);B<8?(B=m(Math.pow(C,B)),z=z.j(B).add(m(V))):(z=z.j(P),z=z.add(m(V)))}return z}var b=d(0),x=d(1),A=d(16777216);t=c.prototype,t.m=function(){if(I(this))return-R(this).m();let k=0,C=1;for(let P=0;P<this.g.length;P++){const z=this.i(P);k+=(z>=0?z:4294967296+z)*C,C*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(D(this))return"0";if(I(this))return"-"+R(this).toString(k);const C=m(Math.pow(k,6));var P=this;let z="";for(;;){const B=re(P,C).g;P=O(P,B.j(C));let j=((P.g.length>0?P.g[0]:P.h)>>>0).toString(k);if(P=B,D(P))return j+z;for(;j.length<6;)j="0"+j;z=j+z}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function D(k){if(k.h!=0)return!1;for(let C=0;C<k.g.length;C++)if(k.g[C]!=0)return!1;return!0}function I(k){return k.h==-1}t.l=function(k){return k=O(this,k),I(k)?-1:D(k)?0:1};function R(k){const C=k.g.length,P=[];for(let z=0;z<C;z++)P[z]=~k.g[z];return new c(P,~k.h).add(x)}t.abs=function(){return I(this)?R(this):this},t.add=function(k){const C=Math.max(this.g.length,k.g.length),P=[];let z=0;for(let B=0;B<=C;B++){let j=z+(this.i(B)&65535)+(k.i(B)&65535),V=(j>>>16)+(this.i(B)>>>16)+(k.i(B)>>>16);z=V>>>16,j&=65535,V&=65535,P[B]=V<<16|j}return new c(P,P[P.length-1]&-2147483648?-1:0)};function O(k,C){return k.add(R(C))}t.j=function(k){if(D(this)||D(k))return b;if(I(this))return I(k)?R(this).j(R(k)):R(R(this).j(k));if(I(k))return R(this.j(R(k)));if(this.l(A)<0&&k.l(A)<0)return m(this.m()*k.m());const C=this.g.length+k.g.length,P=[];for(var z=0;z<2*C;z++)P[z]=0;for(z=0;z<this.g.length;z++)for(let B=0;B<k.g.length;B++){const j=this.i(z)>>>16,V=this.i(z)&65535,be=k.i(B)>>>16,we=k.i(B)&65535;P[2*z+2*B]+=V*we,H(P,2*z+2*B),P[2*z+2*B+1]+=j*we,H(P,2*z+2*B+1),P[2*z+2*B+1]+=V*be,H(P,2*z+2*B+1),P[2*z+2*B+2]+=j*be,H(P,2*z+2*B+2)}for(k=0;k<C;k++)P[k]=P[2*k+1]<<16|P[2*k];for(k=C;k<2*C;k++)P[k]=0;return new c(P,0)};function H(k,C){for(;(k[C]&65535)!=k[C];)k[C+1]+=k[C]>>>16,k[C]&=65535,C++}function F(k,C){this.g=k,this.h=C}function re(k,C){if(D(C))throw Error("division by zero");if(D(k))return new F(b,b);if(I(k))return C=re(R(k),C),new F(R(C.g),R(C.h));if(I(C))return C=re(k,R(C)),new F(R(C.g),C.h);if(k.g.length>30){if(I(k)||I(C))throw Error("slowDivide_ only works with positive integers.");for(var P=x,z=C;z.l(k)<=0;)P=te(P),z=te(z);var B=ce(P,1),j=ce(z,1);for(z=ce(z,2),P=ce(P,2);!D(z);){var V=j.add(z);V.l(k)<=0&&(B=B.add(P),j=V),z=ce(z,1),P=ce(P,1)}return C=O(k,B.j(C)),new F(B,C)}for(B=b;k.l(C)>=0;){for(P=Math.max(1,Math.floor(k.m()/C.m())),z=Math.ceil(Math.log(P)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),j=m(P),V=j.j(C);I(V)||V.l(k)>0;)P-=z,j=m(P),V=j.j(C);D(j)&&(j=x),B=B.add(j),k=O(k,V)}return new F(B,k)}t.B=function(k){return re(this,k).h},t.and=function(k){const C=Math.max(this.g.length,k.g.length),P=[];for(let z=0;z<C;z++)P[z]=this.i(z)&k.i(z);return new c(P,this.h&k.h)},t.or=function(k){const C=Math.max(this.g.length,k.g.length),P=[];for(let z=0;z<C;z++)P[z]=this.i(z)|k.i(z);return new c(P,this.h|k.h)},t.xor=function(k){const C=Math.max(this.g.length,k.g.length),P=[];for(let z=0;z<C;z++)P[z]=this.i(z)^k.i(z);return new c(P,this.h^k.h)};function te(k){const C=k.g.length+1,P=[];for(let z=0;z<C;z++)P[z]=k.i(z)<<1|k.i(z-1)>>>31;return new c(P,k.h)}function ce(k,C){const P=C>>5;C%=32;const z=k.g.length-P,B=[];for(let j=0;j<z;j++)B[j]=C>0?k.i(j+P)>>>C|k.i(j+P+1)<<32-C:k.i(j+P);return new c(B,k.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,LC=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=g,Fa=c}).apply(typeof xT<"u"?xT:typeof self<"u"?self:typeof window<"u"?window:{});var bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var UC,Ou,zC,Ff,b0,BC,FC,qC;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof bf=="object"&&bf];for(var w=0;w<f.length;++w){var E=f[w];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(f,w){if(w)e:{var E=s;f=f.split(".");for(var M=0;M<f.length-1;M++){var Z=f[M];if(!(Z in E))break e;E=E[Z]}f=f[f.length-1],M=E[f],w=w(M),w!=M&&w!=null&&e(E,f,{configurable:!0,writable:!0,value:w})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(w){var E=[],M;for(M in w)Object.prototype.hasOwnProperty.call(w,M)&&E.push([M,w[M]]);return E}});var l=l||{},c=this||self;function h(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function d(f,w,E){return f.call.apply(f.bind,arguments)}function m(f,w,E){return m=d,m.apply(null,arguments)}function g(f,w){var E=Array.prototype.slice.call(arguments,1);return function(){var M=E.slice();return M.push.apply(M,arguments),f.apply(this,M)}}function b(f,w){function E(){}E.prototype=w.prototype,f.Z=w.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(M,Z,oe){for(var ve=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)ve[Ke-2]=arguments[Ke];return w.prototype[Z].apply(M,ve)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function A(f){const w=f.length;if(w>0){const E=Array(w);for(let M=0;M<w;M++)E[M]=f[M];return E}return[]}function D(f,w){for(let M=1;M<arguments.length;M++){const Z=arguments[M];var E=typeof Z;if(E=E!="object"?E:Z?Array.isArray(Z)?"array":E:"null",E=="array"||E=="object"&&typeof Z.length=="number"){E=f.length||0;const oe=Z.length||0;f.length=E+oe;for(let ve=0;ve<oe;ve++)f[E+ve]=Z[ve]}else f.push(Z)}}class I{constructor(w,E){this.i=w,this.j=E,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function R(f){c.setTimeout(()=>{throw f},0)}function O(){var f=k;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class H{constructor(){this.h=this.g=null}add(w,E){const M=F.get();M.set(w,E),this.h?this.h.next=M:this.g=M,this.h=M}}var F=new I(()=>new re,f=>f.reset());class re{constructor(){this.next=this.g=this.h=null}set(w,E){this.h=w,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let te,ce=!1,k=new H,C=()=>{const f=Promise.resolve(void 0);te=()=>{f.then(P)}};function P(){for(var f;f=O();){try{f.h.call(f.g)}catch(E){R(E)}var w=F;w.j(f),w.h<100&&(w.h++,f.next=w.g,w.g=f)}ce=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};c.addEventListener("test",E,w),c.removeEventListener("test",E,w)}catch{}return f})();function V(f){return/^[\s\xa0]*$/.test(f)}function be(f,w){B.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,w)}b(be,B),be.prototype.init=function(f,w){const E=this.type=f.type,M=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget,w||(E=="mouseover"?w=f.fromElement:E=="mouseout"&&(w=f.toElement)),this.relatedTarget=w,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&be.Z.h.call(this)},be.prototype.h=function(){be.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var we="closure_listenable_"+(Math.random()*1e6|0),J=0;function Y(f,w,E,M,Z){this.listener=f,this.proxy=null,this.src=w,this.type=E,this.capture=!!M,this.ha=Z,this.key=++J,this.da=this.fa=!1}function $(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function W(f,w,E){for(const M in f)w.call(E,f[M],M,f)}function L(f,w){for(const E in f)w.call(void 0,f[E],E,f)}function T(f){const w={};for(const E in f)w[E]=f[E];return w}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(f,w){let E,M;for(let Z=1;Z<arguments.length;Z++){M=arguments[Z];for(E in M)f[E]=M[E];for(let oe=0;oe<U.length;oe++)E=U[oe],Object.prototype.hasOwnProperty.call(M,E)&&(f[E]=M[E])}}function ee(f){this.src=f,this.g={},this.h=0}ee.prototype.add=function(f,w,E,M,Z){const oe=f.toString();f=this.g[oe],f||(f=this.g[oe]=[],this.h++);const ve=ye(f,w,M,Z);return ve>-1?(w=f[ve],E||(w.fa=!1)):(w=new Y(w,this.src,oe,!!M,Z),w.fa=E,f.push(w)),w};function me(f,w){const E=w.type;if(E in f.g){var M=f.g[E],Z=Array.prototype.indexOf.call(M,w,void 0),oe;(oe=Z>=0)&&Array.prototype.splice.call(M,Z,1),oe&&($(w),f.g[E].length==0&&(delete f.g[E],f.h--))}}function ye(f,w,E,M){for(let Z=0;Z<f.length;++Z){const oe=f[Z];if(!oe.da&&oe.listener==w&&oe.capture==!!E&&oe.ha==M)return Z}return-1}var ge="closure_lm_"+(Math.random()*1e6|0),_e={};function Ee(f,w,E,M,Z){if(Array.isArray(w)){for(let oe=0;oe<w.length;oe++)Ee(f,w[oe],E,M,Z);return null}return E=on(E),f&&f[we]?f.J(w,E,h(M)?!!M.capture:!1,Z):Ce(f,w,E,!1,M,Z)}function Ce(f,w,E,M,Z,oe){if(!w)throw Error("Invalid event type");const ve=h(Z)?!!Z.capture:!!Z;let Ke=bt(f);if(Ke||(f[ge]=Ke=new ee(f)),E=Ke.add(w,E,M,ve,oe),E.proxy)return E;if(M=Ue(),E.proxy=M,M.src=f,M.listener=E,f.addEventListener)j||(Z=ve),Z===void 0&&(Z=!1),f.addEventListener(w.toString(),M,Z);else if(f.attachEvent)f.attachEvent(ke(w.toString()),M);else if(f.addListener&&f.removeListener)f.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ue(){function f(E){return w.call(f.src,f.listener,E)}const w=pt;return f}function Ve(f,w,E,M,Z){if(Array.isArray(w))for(var oe=0;oe<w.length;oe++)Ve(f,w[oe],E,M,Z);else M=h(M)?!!M.capture:!!M,E=on(E),f&&f[we]?(f=f.i,oe=String(w).toString(),oe in f.g&&(w=f.g[oe],E=ye(w,E,M,Z),E>-1&&($(w[E]),Array.prototype.splice.call(w,E,1),w.length==0&&(delete f.g[oe],f.h--)))):f&&(f=bt(f))&&(w=f.g[w.toString()],f=-1,w&&(f=ye(w,E,M,Z)),(E=f>-1?w[f]:null)&&ut(E))}function ut(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[we])me(w.i,f);else{var E=f.type,M=f.proxy;w.removeEventListener?w.removeEventListener(E,M,f.capture):w.detachEvent?w.detachEvent(ke(E),M):w.addListener&&w.removeListener&&w.removeListener(M),(E=bt(w))?(me(E,f),E.h==0&&(E.src=null,w[ge]=null)):$(f)}}}function ke(f){return f in _e?_e[f]:_e[f]="on"+f}function pt(f,w){if(f.da)f=!0;else{w=new be(w,this);const E=f.listener,M=f.ha||f.src;f.fa&&ut(f),f=E.call(M,w)}return f}function bt(f){return f=f[ge],f instanceof ee?f:null}var Zt="__closure_events_fn_"+(Math.random()*1e9>>>0);function on(f){return typeof f=="function"?f:(f[Zt]||(f[Zt]=function(w){return f.handleEvent(w)}),f[Zt])}function ot(){z.call(this),this.i=new ee(this),this.M=this,this.G=null}b(ot,z),ot.prototype[we]=!0,ot.prototype.removeEventListener=function(f,w,E,M){Ve(this,f,w,E,M)};function Fe(f,w){var E,M=f.G;if(M)for(E=[];M;M=M.G)E.push(M);if(f=f.M,M=w.type||w,typeof w=="string")w=new B(w,f);else if(w instanceof B)w.target=w.target||f;else{var Z=w;w=new B(M,f),X(w,Z)}Z=!0;let oe,ve;if(E)for(ve=E.length-1;ve>=0;ve--)oe=w.g=E[ve],Z=On(oe,M,!0,w)&&Z;if(oe=w.g=f,Z=On(oe,M,!0,w)&&Z,Z=On(oe,M,!1,w)&&Z,E)for(ve=0;ve<E.length;ve++)oe=w.g=E[ve],Z=On(oe,M,!1,w)&&Z}ot.prototype.N=function(){if(ot.Z.N.call(this),this.i){var f=this.i;for(const w in f.g){const E=f.g[w];for(let M=0;M<E.length;M++)$(E[M]);delete f.g[w],f.h--}}this.G=null},ot.prototype.J=function(f,w,E,M){return this.i.add(String(f),w,!1,E,M)},ot.prototype.K=function(f,w,E,M){return this.i.add(String(f),w,!0,E,M)};function On(f,w,E,M){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();let Z=!0;for(let oe=0;oe<w.length;++oe){const ve=w[oe];if(ve&&!ve.da&&ve.capture==E){const Ke=ve.listener,hn=ve.ha||ve.src;ve.fa&&me(f.i,ve),Z=Ke.call(hn,M)!==!1&&Z}}return Z&&!M.defaultPrevented}function Ss(f,w){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:c.setTimeout(f,w||0)}function Ls(f){f.g=Ss(()=>{f.g=null,f.i&&(f.i=!1,Ls(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class ft extends z{constructor(w,E){super(),this.m=w,this.l=E,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Ls(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kn(f){z.call(this),this.h=f,this.g={}}b(Kn,z);var Us=[];function Yn(f){W(f.g,function(w,E){this.g.hasOwnProperty(E)&&ut(w)},f),f.g={}}Kn.prototype.N=function(){Kn.Z.N.call(this),Yn(this)},Kn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ln=c.JSON.stringify,is=c.JSON.parse,Nn=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function gn(){}function zs(){}var Vn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function cn(){B.call(this,"d")}b(cn,B);function In(){B.call(this,"c")}b(In,B);var ht={},Jr=null;function Bs(){return Jr=Jr||new ot}ht.Ia="serverreachability";function Zr(f){B.call(this,ht.Ia,f)}b(Zr,B);function As(f){const w=Bs();Fe(w,new Zr(w))}ht.STAT_EVENT="statevent";function Cs(f,w){B.call(this,ht.STAT_EVENT,f),this.stat=w}b(Cs,B);function We(f){const w=Bs();Fe(w,new Cs(w,f))}ht.Ja="timingevent";function Tt(f,w){B.call(this,ht.Ja,f),this.size=w}b(Tt,B);function Ze(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},w)}function Ot(){this.g=!0}Ot.prototype.ua=function(){this.g=!1};function Ln(f,w,E,M,Z,oe){f.info(function(){if(f.g)if(oe){var ve="",Ke=oe.split("&");for(let xt=0;xt<Ke.length;xt++){var hn=Ke[xt].split("=");if(hn.length>1){const Ht=hn[0];hn=hn[1];const ri=Ht.split("_");ve=ri.length>=2&&ri[1]=="type"?ve+(Ht+"="+hn+"&"):ve+(Ht+"=redacted&")}}}else ve=null;else ve=oe;return"XMLHTTP REQ ("+M+") [attempt "+Z+"]: "+w+`
`+E+`
`+ve})}function en(f,w,E,M,Z,oe,ve){f.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+Z+"]: "+w+`
`+E+`
`+oe+" "+ve})}function Mt(f,w,E,M){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+Kt(f,E)+(M?" "+M:"")})}function rs(f,w){f.info(function(){return"TIMEOUT: "+w})}Ot.prototype.info=function(){};function Kt(f,w){if(!f.g)return w;if(!w)return null;try{const oe=JSON.parse(w);if(oe){for(f=0;f<oe.length;f++)if(Array.isArray(oe[f])){var E=oe[f];if(!(E.length<2)){var M=E[1];if(Array.isArray(M)&&!(M.length<1)){var Z=M[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(let ve=1;ve<M.length;ve++)M[ve]=""}}}}return ln(oe)}catch{return w}}var Un={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xn;function yn(){}b(yn,gn),yn.prototype.g=function(){return new XMLHttpRequest},Xn=new yn;function Vt(f){return encodeURIComponent(String(f))}function vn(f){var w=1;f=f.split(":");const E=[];for(;w>0&&f.length;)E.push(f.shift()),w--;return f.length&&E.push(f.join(":")),E}function Lt(f,w,E,M){this.j=f,this.i=w,this.l=E,this.S=M||1,this.V=new Kn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var Ft={},bn={};function vs(f,w,E){f.M=1,f.A=Ct(Xt(w)),f.u=E,f.R=!0,tn(f,null)}function tn(f,w){f.F=Date.now(),as(f),f.B=Xt(f.A);var E=f.B,M=f.S;Array.isArray(M)||(M=[String(M)]),al(E.i,"t",M),f.C=0,E=f.j.L,f.h=new Bn,f.g=cd(f.j,E?w:null,!f.u),f.P>0&&(f.O=new ft(m(f.Y,f,f.g),f.P)),w=f.V,E=f.g,M=f.ba;var Z="readystatechange";Array.isArray(Z)||(Z&&(Us[0]=Z.toString()),Z=Us);for(let oe=0;oe<Z.length;oe++){const ve=Ee(E,Z[oe],M||w.handleEvent,!1,w.h||w);if(!ve)break;w.g[ve.key]=ve}w=f.J?T(f.J):{},f.u?(f.v||(f.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,w)):(f.v="GET",f.g.ea(f.B,f.v,null,w)),As(),Ln(f.i,f.v,f.B,f.l,f.S,f.u)}Lt.prototype.ba=function(f){f=f.target;const w=this.O;w&&Ai(f)==3?w.j():this.Y(f)},Lt.prototype.Y=function(f){try{if(f==this.g)e:{const Ke=Ai(this.g),hn=this.g.ya(),xt=this.g.ca();if(!(Ke<3)&&(Ke!=3||this.g&&(this.h.h||this.g.la()||Qn(this.g)))){this.K||Ke!=4||hn==7||(hn==8||xt<=0?As(3):As(2)),Fs(this);var w=this.g.ca();this.X=w;var E=ea(this);if(this.o=w==200,en(this.i,this.v,this.B,this.l,this.S,Ke,w),this.o){if(this.U&&!this.L){t:{if(this.g){var M,Z=this.g;if((M=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(M)){var oe=M;break t}}oe=null}if(f=oe)Mt(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ei(this,f);else{this.o=!1,this.m=3,We(12),os(this),Ns(this);break e}}if(this.R){f=!0;let Ht;for(;!this.K&&this.C<E.length;)if(Ht=ta(this,E),Ht==bn){Ke==4&&(this.m=4,We(14),f=!1),Mt(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==Ft){this.m=4,We(15),Mt(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else Mt(this.i,this.l,Ht,null),ei(this,Ht);if(Rs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||E.length!=0||this.h.h||(this.m=1,We(16),f=!1),this.o=this.o&&f,!f)Mt(this.i,this.l,E,"[Invalid Chunked Response]"),os(this),Ns(this);else if(E.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),qc(ve),ve.P=!0,We(11))}}else Mt(this.i,this.l,E,null),ei(this,E);Ke==4&&os(this),this.o&&!this.K&&(Ke==4?rd(this.j,this):(this.o=!1,as(this)))}else yr(this.g),w==400&&E.indexOf("Unknown SID")>0?(this.m=3,We(12)):(this.m=0,We(13)),os(this),Ns(this)}}}catch{}};function ea(f){if(!Rs(f))return f.g.la();const w=Qn(f.g);if(w==="")return"";let E="";const M=w.length,Z=Ai(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return os(f),Ns(f),"";f.h.i=new c.TextDecoder}for(let oe=0;oe<M;oe++)f.h.h=!0,E+=f.h.i.decode(w[oe],{stream:!(Z&&oe==M-1)});return w.length=0,f.h.g+=E,f.C=0,f.h.g}function Rs(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function ta(f,w){var E=f.C,M=w.indexOf(`
`,E);return M==-1?bn:(E=Number(w.substring(E,M)),isNaN(E)?Ft:(M+=1,M+E>w.length?bn:(w=w.slice(M,M+E),f.C=M+E,w)))}Lt.prototype.cancel=function(){this.K=!0,os(this)};function as(f){f.T=Date.now()+f.H,Ti(f,f.H)}function Ti(f,w){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Ze(m(f.aa,f),w)}function Fs(f){f.D&&(c.clearTimeout(f.D),f.D=null)}Lt.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(rs(this.i,this.B),this.M!=2&&(As(),We(17)),os(this),this.m=2,Ns(this)):Ti(this,this.T-f)};function Ns(f){f.j.I==0||f.K||rd(f.j,f)}function os(f){Fs(f);var w=f.O;w&&typeof w.dispose=="function"&&w.dispose(),f.O=null,Yn(f.V),f.g&&(w=f.g,f.g=null,w.abort(),w.dispose())}function ei(f,w){try{var E=f.j;if(E.I!=0&&(E.g==f||ni(E.h,f))){if(!f.L&&ni(E.h,f)&&E.I==3){try{var M=E.Ba.g.parse(w)}catch{M=null}if(Array.isArray(M)&&M.length==3){var Z=M;if(Z[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)hl(E),ua(E);else break e;yo(E),We(18)}}else E.xa=Z[1],0<E.xa-E.K&&Z[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ze(m(E.Va,E),6e3));ti(E.h)<=1&&E.ta&&(E.ta=void 0)}else Yi(E,11)}else if((f.L||E.g==f)&&hl(E),!V(w))for(Z=E.Ba.g.parse(w),w=0;w<Z.length;w++){let xt=Z[w];const Ht=xt[0];if(!(Ht<=E.K))if(E.K=Ht,xt=xt[1],E.I==2)if(xt[0]=="c"){E.M=xt[1],E.ba=xt[2];const ri=xt[3];ri!=null&&(E.ka=ri,E.j.info("VER="+E.ka));const Xi=xt[4];Xi!=null&&(E.za=Xi,E.j.info("SVER="+E.za));const Ci=xt[5];Ci!=null&&typeof Ci=="number"&&Ci>0&&(M=1.5*Ci,E.O=M,E.j.info("backChannelRequestTimeoutMs_="+M)),M=E;const Ri=f.g;if(Ri){const vo=Ri.g?Ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vo){var oe=M.h;oe.g||vo.indexOf("spdy")==-1&&vo.indexOf("quic")==-1&&vo.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(sa(oe,oe.h),oe.h=null))}if(M.G){const dl=Ri.g?Ri.g.getResponseHeader("X-HTTP-Session-Id"):null;dl&&(M.wa=dl,je(M.J,M.G,dl))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),M=E;var ve=f;if(M.na=ld(M,M.L?M.ba:null,M.W),ve.L){lo(M.h,ve);var Ke=ve,hn=M.O;hn&&(Ke.H=hn),Ke.D&&(Fs(Ke),as(Ke)),M.g=ve}else sd(M);E.i.length>0&&Ki(E)}else xt[0]!="stop"&&xt[0]!="close"||Yi(E,7);else E.I==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?Yi(E,7):Bc(E):xt[0]!="noop"&&E.l&&E.l.qa(xt),E.A=0)}}As(4)}catch{}}var Yt=class{constructor(f,w){this.g=f,this.map=w}};function pr(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function na(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ti(f){return f.h?1:f.g?f.g.size:0}function ni(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function sa(f,w){f.g?f.g.add(w):f.h=w}function lo(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}pr.prototype.cancel=function(){if(this.i=co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function co(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const E of f.g.values())w=w.concat(E.G);return w}return A(f.i)}var un=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uo(f,w){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const M=f[E].indexOf("=");let Z,oe=null;M>=0?(Z=f[E].substring(0,M),oe=f[E].substring(M+1)):Z=f[E],w(Z,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function ls(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;f instanceof ls?(this.l=f.l,xn(this,f.j),this.o=f.o,this.g=f.g,ne(this,f.u),this.h=f.h,Te(this,td(f.i)),this.m=f.m):f&&(w=String(f).match(un))?(this.l=!1,xn(this,w[1]||"",!0),this.o=gt(w[2]||""),this.g=gt(w[3]||"",!0),ne(this,w[4]),this.h=gt(w[5]||"",!0),Te(this,w[6]||"",!0),this.m=gt(w[7]||"")):(this.l=!1,this.i=new ra(null,this.l))}ls.prototype.toString=function(){const f=[];var w=this.j;w&&f.push(qt(w,Wn,!0),":");var E=this.g;return(E||w=="file")&&(f.push("//"),(w=this.o)&&f.push(qt(w,Wn,!0),"@"),f.push(Vt(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(qt(E,E.charAt(0)=="/"?jc:Jh,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",qt(E,Zh)),f.join("")},ls.prototype.resolve=function(f){const w=Xt(this);let E=!!f.j;E?xn(w,f.j):E=!!f.o,E?w.o=f.o:E=!!f.g,E?w.g=f.g:E=f.u!=null;var M=f.h;if(E)ne(w,f.u);else if(E=!!f.h){if(M.charAt(0)!="/")if(this.g&&!this.h)M="/"+M;else{var Z=w.h.lastIndexOf("/");Z!=-1&&(M=w.h.slice(0,Z+1)+M)}if(Z=M,Z==".."||Z==".")M="";else if(Z.indexOf("./")!=-1||Z.indexOf("/.")!=-1){M=Z.lastIndexOf("/",0)==0,Z=Z.split("/");const oe=[];for(let ve=0;ve<Z.length;){const Ke=Z[ve++];Ke=="."?M&&ve==Z.length&&oe.push(""):Ke==".."?((oe.length>1||oe.length==1&&oe[0]!="")&&oe.pop(),M&&ve==Z.length&&oe.push("")):(oe.push(Ke),M=!0)}M=oe.join("/")}else M=Z}return E?w.h=M:E=f.i.toString()!=="",E?Te(w,td(f.i)):E=!!f.m,E&&(w.m=f.m),w};function Xt(f){return new ls(f)}function xn(f,w,E){f.j=E?gt(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function ne(f,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);f.u=w}else f.u=null}function Te(f,w,E){w instanceof ra?(f.i=w,ol(f.i,f.l)):(E||(w=qt(w,ia)),f.i=new ra(w,f.l))}function je(f,w,E){f.i.set(w,E)}function Ct(f){return je(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function gt(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function qt(f,w,E){return typeof f=="string"?(f=encodeURI(f).replace(w,Rt),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Rt(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Wn=/[#\/\?@]/g,Jh=/[#\?:]/g,jc=/[#\?]/g,ia=/[#\?@]/g,Zh=/#/g;function ra(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function Is(f){f.g||(f.g=new Map,f.h=0,f.i&&uo(f.i,function(w,E){f.add(decodeURIComponent(w.replace(/\+/g," ")),E)}))}t=ra.prototype,t.add=function(f,w){Is(this),this.i=null,f=aa(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(w),this.h+=1,this};function ed(f,w){Is(f),w=aa(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function Oc(f,w){return Is(f),w=aa(f,w),f.g.has(w)}t.forEach=function(f,w){Is(this),this.g.forEach(function(E,M){E.forEach(function(Z){f.call(w,Z,M,this)},this)},this)};function Vc(f,w){Is(f);let E=[];if(typeof w=="string")Oc(f,w)&&(E=E.concat(f.g.get(aa(f,w))));else for(f=Array.from(f.g.values()),w=0;w<f.length;w++)E=E.concat(f[w]);return E}t.set=function(f,w){return Is(this),this.i=null,f=aa(this,f),Oc(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},t.get=function(f,w){return f?(f=Vc(this,f),f.length>0?String(f[0]):w):w};function al(f,w,E){ed(f,w),E.length>0&&(f.i=null,f.g.set(aa(f,w),A(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(let M=0;M<w.length;M++){var E=w[M];const Z=Vt(E);E=Vc(this,E);for(let oe=0;oe<E.length;oe++){let ve=Z;E[oe]!==""&&(ve+="="+Vt(E[oe])),f.push(ve)}}return this.i=f.join("&")};function td(f){const w=new ra;return w.i=f.i,f.g&&(w.g=new Map(f.g),w.h=f.h),w}function aa(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function ol(f,w){w&&!f.j&&(Is(f),f.i=null,f.g.forEach(function(E,M){const Z=M.toLowerCase();M!=Z&&(ed(this,M),al(this,Z,E))},f)),f.j=w}function Ei(f,w){const E=new Ot;if(c.Image){const M=new Image;M.onload=g(si,E,"TestLoadImage: loaded",!0,w,M),M.onerror=g(si,E,"TestLoadImage: error",!1,w,M),M.onabort=g(si,E,"TestLoadImage: abort",!1,w,M),M.ontimeout=g(si,E,"TestLoadImage: timeout",!1,w,M),c.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=f}else w(!1)}function Lc(f,w){const E=new Ot,M=new AbortController,Z=setTimeout(()=>{M.abort(),si(E,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:M.signal}).then(oe=>{clearTimeout(Z),oe.ok?si(E,"TestPingServer: ok",!0,w):si(E,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Z),si(E,"TestPingServer: error",!1,w)})}function si(f,w,E,M,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),M(E)}catch{}}function oa(){this.g=new Nn}function Hi(f){this.i=f.Sb||null,this.h=f.ab||!1}b(Hi,gn),Hi.prototype.g=function(){return new ho(this.i,this.h)};function ho(f,w){ot.call(this),this.H=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ho,ot),t=ho.prototype,t.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=w,this.readyState=1,Si(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(w.body=f),(this.H||c).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,la(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ll(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function ll(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?la(this):Si(this),this.readyState==3&&ll(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,la(this))},t.Na=function(f){this.g&&(this.response=f,la(this))},t.ga=function(){this.g&&la(this)};function la(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Si(f)}t.setRequestHeader=function(f,w){this.A.append(f,w)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var E=w.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=w.next();return f.join(`\r
`)};function Si(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ho.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ii(f){let w="";return W(f,function(E,M){w+=M,w+=":",w+=E,w+=`\r
`}),w}function fo(f,w,E){e:{for(M in E){var M=!1;break e}M=!0}M||(E=ii(E),typeof f=="string"?E!=null&&Vt(E):je(f,w,E))}function Nt(f){ot.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Nt,ot);var Gi=/^https?$/i,Uc=["POST","PUT"];t=Nt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,w,E,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xn.g(),this.g.onreadystatechange=x(m(this.Ca,this));try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(oe){mo(this,oe);return}if(f=E||"",E=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var Z in M)E.set(Z,M[Z]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const oe of M.keys())E.set(oe,M.get(oe));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(E.keys()).find(oe=>oe.toLowerCase()=="content-type"),Z=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(Uc,w,void 0)>=0)||M||Z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,ve]of E)this.g.setRequestHeader(oe,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(oe){mo(this,oe)}};function mo(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.o=5,zc(f),gr(f)}function zc(f){f.A||(f.A=!0,Fe(f,"complete"),Fe(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Fe(this,"complete"),Fe(this,"abort"),gr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gr(this,!0)),Nt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?po(this):this.Xa())},t.Xa=function(){po(this)};function po(f){if(f.h&&typeof l<"u"){if(f.v&&Ai(f)==4)setTimeout(f.Ca.bind(f),0);else if(Fe(f,"readystatechange"),Ai(f)==4){f.h=!1;try{const oe=f.ca();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var E;if(!(E=w)){var M;if(M=oe===0){let ve=String(f.D).match(un)[1]||null;!ve&&c.self&&c.self.location&&(ve=c.self.location.protocol.slice(0,-1)),M=!Gi.test(ve?ve.toLowerCase():"")}E=M}if(E)Fe(f,"complete"),Fe(f,"success");else{f.o=6;try{var Z=Ai(f)>2?f.g.statusText:""}catch{Z=""}f.l=Z+" ["+f.ca()+"]",zc(f)}}finally{gr(f)}}}}function gr(f,w){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,w||Fe(f,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ai(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Ai(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),is(w)}};function Qn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function yr(f){const w={};f=(f.g&&Ai(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<f.length;M++){if(V(f[M]))continue;var E=vn(f[M]);const Z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const oe=w[Z]||[];w[Z]=oe,oe.push(E)}L(w,function(M){return M.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function $i(f,w,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||w}function ca(f){this.za=0,this.i=[],this.j=new Ot,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$i("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$i("baseRetryDelayMs",5e3,f),this.Za=$i("retryDelaySeedMs",1e4,f),this.Ta=$i("forwardChannelMaxRetries",2,f),this.va=$i("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new pr(f&&f.concurrentRequestLimit),this.Ba=new oa,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ca.prototype,t.ka=8,t.I=1,t.connect=function(f,w,E,M){We(0),this.W=f,this.H=w||{},E&&M!==void 0&&(this.H.OSID=E,this.H.OAID=M),this.F=this.X,this.J=ld(this,null,this.W),Ki(this)};function Bc(f){if(cl(f),f.I==3){var w=f.V++,E=Xt(f.J);if(je(E,"SID",f.M),je(E,"RID",w),je(E,"TYPE","terminate"),go(f,E),w=new Lt(f,f.j,w),w.M=2,w.A=Ct(Xt(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(w.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=w.A,E=!0),E||(w.g=cd(w.j,null),w.g.ea(w.A)),w.F=Date.now(),as(w)}od(f)}function ua(f){f.g&&(qc(f),f.g.cancel(),f.g=null)}function cl(f){ua(f),f.v&&(c.clearTimeout(f.v),f.v=null),hl(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function Ki(f){if(!na(f.h)&&!f.m){f.m=!0;var w=f.Ea;te||C(),ce||(te(),ce=!0),k.add(w,f),f.D=0}}function ul(f,w){return ti(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=w.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Ze(m(f.Ea,f,w),ad(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Z=new Lt(this,this.j,f);let oe=this.o;if(this.U&&(oe?(oe=T(oe),X(oe,this.U)):oe=this.U),this.u!==null||this.R||(Z.J=oe,oe=null),this.S)e:{for(var w=0,E=0;E<this.i.length;E++){t:{var M=this.i[E];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(w+=M,w>4096){w=E;break e}if(w===4096||E===this.i.length-1){w=E+1;break e}}w=1e3}else w=1e3;w=nd(this,Z,w),E=Xt(this.J),je(E,"RID",f),je(E,"CVER",22),this.G&&je(E,"X-HTTP-Session-Id",this.G),go(this,E),oe&&(this.R?w="headers="+Vt(ii(oe))+"&"+w:this.u&&fo(E,this.u,oe)),sa(this.h,Z),this.Ra&&je(E,"TYPE","init"),this.S?(je(E,"$req",w),je(E,"SID","null"),Z.U=!0,vs(Z,E,null)):vs(Z,E,w),this.I=2}}else this.I==3&&(f?Fc(this,f):this.i.length==0||na(this.h)||Fc(this))};function Fc(f,w){var E;w?E=w.l:E=f.V++;const M=Xt(f.J);je(M,"SID",f.M),je(M,"RID",E),je(M,"AID",f.K),go(f,M),f.u&&f.o&&fo(M,f.u,f.o),E=new Lt(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),w&&(f.i=w.G.concat(f.i)),w=nd(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),sa(f.h,E),vs(E,M,w)}function go(f,w){f.H&&W(f.H,function(E,M){je(w,M,E)}),f.l&&W({},function(E,M){je(w,M,E)})}function nd(f,w,E){E=Math.min(f.i.length,E);const M=f.l?m(f.l.Ka,f.l,f):null;e:{var Z=f.i;let Ke=-1;for(;;){const hn=["count="+E];Ke==-1?E>0?(Ke=Z[0].g,hn.push("ofs="+Ke)):Ke=0:hn.push("ofs="+Ke);let xt=!0;for(let Ht=0;Ht<E;Ht++){var oe=Z[Ht].g;const ri=Z[Ht].map;if(oe-=Ke,oe<0)Ke=Math.max(0,Z[Ht].g-100),xt=!1;else try{oe="req"+oe+"_"||"";try{var ve=ri instanceof Map?ri:Object.entries(ri);for(const[Xi,Ci]of ve){let Ri=Ci;h(Ci)&&(Ri=ln(Ci)),hn.push(oe+Xi+"="+encodeURIComponent(Ri))}}catch(Xi){throw hn.push(oe+"type="+encodeURIComponent("_badmap")),Xi}}catch{M&&M(ri)}}if(xt){ve=hn.join("&");break e}}ve=void 0}return f=f.i.splice(0,E),w.G=f,ve}function sd(f){if(!f.g&&!f.v){f.Y=1;var w=f.Da;te||C(),ce||(te(),ce=!0),k.add(w,f),f.A=0}}function yo(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Ze(m(f.Da,f),ad(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,id(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Ze(m(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,We(10),ua(this),id(this))};function qc(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function id(f){f.g=new Lt(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var w=Xt(f.na);je(w,"RID","rpc"),je(w,"SID",f.M),je(w,"AID",f.K),je(w,"CI",f.F?"0":"1"),!f.F&&f.ia&&je(w,"TO",f.ia),je(w,"TYPE","xmlhttp"),go(f,w),f.u&&f.o&&fo(w,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=Ct(Xt(w)),E.u=null,E.R=!0,tn(E,f)}t.Va=function(){this.C!=null&&(this.C=null,ua(this),yo(this),We(19))};function hl(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function rd(f,w){var E=null;if(f.g==w){hl(f),qc(f),f.g=null;var M=2}else if(ni(f.h,w))E=w.G,lo(f.h,w),M=1;else return;if(f.I!=0){if(w.o)if(M==1){E=w.u?w.u.length:0,w=Date.now()-w.F;var Z=f.D;M=Bs(),Fe(M,new Tt(M,E)),Ki(f)}else sd(f);else if(Z=w.m,Z==3||Z==0&&w.X>0||!(M==1&&ul(f,w)||M==2&&yo(f)))switch(E&&E.length>0&&(w=f.h,w.i=w.i.concat(E)),Z){case 1:Yi(f,5);break;case 4:Yi(f,10);break;case 3:Yi(f,6);break;default:Yi(f,2)}}}function ad(f,w){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*w}function Yi(f,w){if(f.j.info("Error code "+w),w==2){var E=m(f.bb,f),M=f.Ua;const Z=!M;M=new ls(M||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||xn(M,"https"),Ct(M),Z?Ei(M.toString(),E):Lc(M.toString(),E)}else We(2);f.I=0,f.l&&f.l.pa(w),od(f),cl(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),We(2)):(this.j.info("Failed to ping google.com"),We(1))};function od(f){if(f.I=0,f.ja=[],f.l){const w=co(f.h);(w.length!=0||f.i.length!=0)&&(D(f.ja,w),D(f.ja,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.oa()}}function ld(f,w,E){var M=E instanceof ls?Xt(E):new ls(E);if(M.g!="")w&&(M.g=w+"."+M.g),ne(M,M.u);else{var Z=c.location;M=Z.protocol,w=w?w+"."+Z.hostname:Z.hostname,Z=+Z.port;const oe=new ls(null);M&&xn(oe,M),w&&(oe.g=w),Z&&ne(oe,Z),E&&(oe.h=E),M=oe}return E=f.G,w=f.wa,E&&w&&je(M,E,w),je(M,"VER",f.ka),go(f,M),M}function cd(f,w,E){if(w&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Aa&&!f.ma?new Nt(new Hi({ab:E})):new Nt(f.ma),w.Fa(f.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ud(){}t=ud.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ha(){}ha.prototype.g=function(f,w){return new bs(f,w)};function bs(f,w){ot.call(this),this.g=new ca(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(f?f["X-WebChannel-Client-Profile"]=w.sa:f={"X-WebChannel-Client-Profile":w.sa}),this.g.U=f,(f=w&&w.Qb)&&!V(f)&&(this.g.u=f),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!V(w)&&(this.g.G=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new vr(this)}b(bs,ot),bs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bs.prototype.close=function(){Bc(this.g)},bs.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=ln(f),f=E);w.i.push(new Yt(w.Ya++,f)),w.I==3&&Ki(w)},bs.prototype.N=function(){this.g.l=null,delete this.j,Bc(this.g),delete this.g,bs.Z.N.call(this)};function hd(f){cn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const E in w){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}b(hd,cn);function dd(){In.call(this),this.status=1}b(dd,In);function vr(f){this.g=f}b(vr,ud),vr.prototype.ra=function(){Fe(this.g,"a")},vr.prototype.qa=function(f){Fe(this.g,new hd(f))},vr.prototype.pa=function(f){Fe(this.g,new dd)},vr.prototype.oa=function(){Fe(this.g,"b")},ha.prototype.createWebChannel=ha.prototype.g,bs.prototype.send=bs.prototype.o,bs.prototype.open=bs.prototype.m,bs.prototype.close=bs.prototype.close,qC=function(){return new ha},FC=function(){return Bs()},BC=ht,b0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Un.NO_ERROR=0,Un.TIMEOUT=8,Un.HTTP_ERROR=6,Ff=Un,zn.COMPLETE="complete",zC=zn,zs.EventType=Vn,Vn.OPEN="a",Vn.CLOSE="b",Vn.ERROR="c",Vn.MESSAGE="d",ot.prototype.listen=ot.prototype.J,Ou=zs,Nt.prototype.listenOnce=Nt.prototype.K,Nt.prototype.getLastError=Nt.prototype.Ha,Nt.prototype.getLastErrorCode=Nt.prototype.ya,Nt.prototype.getStatus=Nt.prototype.ca,Nt.prototype.getResponseJson=Nt.prototype.La,Nt.prototype.getResponseText=Nt.prototype.la,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Fa,UC=Nt}).apply(typeof bf<"u"?bf:typeof self<"u"?self:typeof window<"u"?window:{});let ds=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ds.UNAUTHENTICATED=new ds(null),ds.GOOGLE_CREDENTIALS=new ds("google-credentials-uid"),ds.FIRST_PARTY=new ds("first-party-uid"),ds.MOCK_USER=new ds("mock-user");let wc="12.8.0";function QO(t){wc=t}const Jo=new _v("@firebase/firestore");function Hl(){return Jo.logLevel}function Se(t,...e){if(Jo.logLevel<=it.DEBUG){const n=e.map(Vv);Jo.debug(`Firestore (${wc}): ${t}`,...n)}}function Yr(t,...e){if(Jo.logLevel<=it.ERROR){const n=e.map(Vv);Jo.error(`Firestore (${wc}): ${t}`,...n)}}function Zo(t,...e){if(Jo.logLevel<=it.WARN){const n=e.map(Vv);Jo.warn(`Firestore (${wc}): ${t}`,...n)}}function Vv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Le(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,HC(t,s,n)}function HC(t,e,n){let s=`FIRESTORE (${wc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Yr(s),new Error(s)}function _t(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||HC(e,a,s)}function Ge(t,e){return t}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends fr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class GC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $C{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ds.UNAUTHENTICATED)))}shutdown(){}}class JO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class ZO{constructor(e){this.t=e,this.currentUser=ds.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_t(this.o===void 0,42304);let s=this.i;const a=d=>this.i!==s?(s=this.i,n(d)):Promise.resolve();let l=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Fr,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const d=l;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Fr)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(_t(typeof s.accessToken=="string",31837,{l:s}),new GC(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string",2055,{h:e}),new ds(e)}}class e5{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=ds.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class t5{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new e5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ds.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_t(this.o===void 0,3512);const s=l=>{l.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Se("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new wT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(_t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new wT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function s5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class Ym{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=s5(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function rt(t,e){return t<e?-1:t>e?1:0}function x0(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Dy(a)===Dy(l)?rt(a,l):Dy(a)?1:-1}return rt(t.length,e.length)}const i5=55296,r5=57343;function Dy(t){const e=t.charCodeAt(0);return e>=i5&&e<=r5}function uc(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const _T="__name__";class er{constructor(e,n,s){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Le(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return er.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof er?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=er.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return rt(e.length,n.length)}static compareSegments(e,n){const s=er.isNumericId(e),a=er.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?er.extractNumericId(e).compare(er.extractNumericId(n)):x0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fa.fromString(e.substring(4,e.length-2))}}class jt extends er{construct(e,n,s){return new jt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new xe(de.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new jt(n)}static emptyPath(){return new jt([])}}const a5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gn extends er{construct(e,n,s){return new Gn(e,n,s)}static isValidIdentifier(e){return a5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_T}static keyField(){return new Gn([_T])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new xe(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new xe(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new xe(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=d,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(s+=h,a++):(l(),a++)}if(l(),c)throw new xe(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gn(n)}static emptyPath(){return new Gn([])}}class Me{constructor(e){this.path=e}static fromPath(e){return new Me(jt.fromString(e))}static fromName(e){return new Me(jt.fromString(e).popFirst(5))}static empty(){return new Me(jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return jt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new jt(e.slice()))}}function KC(t,e,n){if(!n)throw new xe(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YC(t,e,n,s){if(e===!0&&s===!0)throw new xe(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function TT(t){if(!Me.isDocumentKey(t))throw new xe(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ET(t){if(Me.isDocumentKey(t))throw new xe(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function XC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Xm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le(12329,{type:typeof t})}function ps(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xm(t);throw new xe(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Rn(t,e){const n={typeString:t};return e&&(n.value=e),n}function kh(t,e){if(!XC(t))throw new xe(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new xe(de.INVALID_ARGUMENT,n);return!0}const ST=-62135596800,AT=1e6;class He{static now(){return He.fromMillis(Date.now())}static fromDate(e){return He.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*AT);return new He(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new xe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ST)throw new xe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/AT}_compareTo(e){return this.seconds===e.seconds?rt(this.nanoseconds,e.nanoseconds):rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:He._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(kh(e,He._jsonSchema))return new He(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ST;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}He._jsonSchemaVersion="firestore/timestamp/1.0",He._jsonSchema={type:Rn("string",He._jsonSchemaVersion),seconds:Rn("number"),nanoseconds:Rn("number")};class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new He(0,0))}static max(){return new Be(new He(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const oh=-1;function o5(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Be.fromTimestamp(s===1e9?new He(n+1,0):new He(n,s));return new Xa(a,Me.empty(),e)}function l5(t){return new Xa(t.readTime,t.key,oh)}class Xa{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Xa(Be.min(),Me.empty(),oh)}static max(){return new Xa(Be.max(),Me.empty(),oh)}}function c5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(t.documentKey,e.documentKey),n!==0?n:rt(t.largestBatchId,e.largestBatchId))}const u5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function _c(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==u5)throw t;Se("LocalStore","Unexpectedly lost primary lease")}class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new pe(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof pe?n:pe.resolve(n)}catch(n){return pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):pe.reject(n)}static resolve(e){return new pe(((n,s)=>{n(e)}))}static reject(e){return new pe(((n,s)=>{s(e)}))}static waitFor(e){return new pe(((n,s)=>{let a=0,l=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++l,c&&l===a&&n()}),(d=>s(d)))})),c=!0,l===a&&n()}))}static or(e){let n=pe.resolve(!1);for(const s of e)n=n.next((a=>a?pe.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new pe(((s,a)=>{const l=e.length,c=new Array(l);let h=0;for(let d=0;d<l;d++){const m=d;n(e[m]).next((g=>{c[m]=g,++h,h===l&&s(c)}),(g=>a(g)))}}))}static doWhile(e,n){return new pe(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function d5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Tc(t){return t.name==="IndexedDbTransactionError"}class Wm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Wm.ce=-1;const Lv=-1;function Qm(t){return t==null}function lm(t){return t===0&&1/t==-1/0}function f5(t){return typeof t=="number"&&Number.isInteger(t)&&!lm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const WC="";function m5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=CT(e)),e=p5(t.get(n),e);return CT(e)}function p5(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case WC:n+="";break;default:n+=l}}return n}function CT(t){return t+WC+""}function RT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function io(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function QC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Jt{constructor(e,n){this.comparator=e,this.root=n||ss.EMPTY}insert(e,n){return new Jt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ss.BLACK,null,null))}remove(e){return new Jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ss.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xf(this.root,e,this.comparator,!1)}getReverseIterator(){return new xf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xf(this.root,e,this.comparator,!0)}}class xf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ss{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??ss.RED,this.left=a??ss.EMPTY,this.right=l??ss.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new ss(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ss.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return ss.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ss.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ss.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}ss.EMPTY=null,ss.RED=!0,ss.BLACK=!1;ss.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new ss(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jn{constructor(e){this.comparator=e,this.data=new Jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new NT(this.data.getIterator())}getIteratorFrom(e){return new NT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof jn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new jn(this.comparator);return n.data=e,n}}class NT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Js{constructor(e){this.fields=e,e.sort(Gn.comparator)}static empty(){return new Js([])}unionWith(e){let n=new jn(Gn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Js(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uc(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class JC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new JC("Invalid base64 string: "+l):l}})(e);return new $n(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new $n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$n.EMPTY_BYTE_STRING=new $n("");const g5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wa(t){if(_t(!!t,39018),typeof t=="string"){let e=0;const n=g5.exec(t);if(_t(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:mn(t.seconds),nanos:mn(t.nanos)}}function mn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qa(t){return typeof t=="string"?$n.fromBase64String(t):$n.fromUint8Array(t)}const ZC="server_timestamp",e2="__type__",t2="__previous_value__",n2="__local_write_time__";function Uv(t){return(t?.mapValue?.fields||{})[e2]?.stringValue===ZC}function Jm(t){const e=t.mapValue.fields[t2];return Uv(e)?Jm(e):e}function lh(t){const e=Wa(t.mapValue.fields[n2].timestampValue);return new He(e.seconds,e.nanos)}class y5{constructor(e,n,s,a,l,c,h,d,m,g,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=g,this.apiKey=b}}const cm="(default)";class hc{constructor(e,n){this.projectId=e,this.database=n||cm}static empty(){return new hc("","")}get isDefaultDatabase(){return this.database===cm}isEqual(e){return e instanceof hc&&e.projectId===this.projectId&&e.database===this.database}}function v5(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new xe(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hc(t.options.projectId,e)}const s2="__type__",b5="__max__",wf={mapValue:{}},i2="__vector__",um="value";function Ja(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Uv(t)?4:w5(t)?9007199254740991:x5(t)?10:11:Le(28295,{value:t})}function ur(t,e){if(t===e)return!0;const n=Ja(t);if(n!==Ja(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return lh(t).isEqual(lh(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Wa(a.timestampValue),h=Wa(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Qa(a.bytesValue).isEqual(Qa(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return mn(a.geoPointValue.latitude)===mn(l.geoPointValue.latitude)&&mn(a.geoPointValue.longitude)===mn(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return mn(a.integerValue)===mn(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=mn(a.doubleValue),h=mn(l.doubleValue);return c===h?lm(c)===lm(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return uc(t.arrayValue.values||[],e.arrayValue.values||[],ur);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(RT(c)!==RT(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!ur(c[d],h[d])))return!1;return!0})(t,e);default:return Le(52216,{left:t})}}function ch(t,e){return(t.values||[]).find((n=>ur(n,e)))!==void 0}function dc(t,e){if(t===e)return 0;const n=Ja(t),s=Ja(e);if(n!==s)return rt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return rt(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=mn(l.integerValue||l.doubleValue),d=mn(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return IT(t.timestampValue,e.timestampValue);case 4:return IT(lh(t),lh(e));case 5:return x0(t.stringValue,e.stringValue);case 6:return(function(l,c){const h=Qa(l),d=Qa(c);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),d=c.split("/");for(let m=0;m<h.length&&m<d.length;m++){const g=rt(h[m],d[m]);if(g!==0)return g}return rt(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=rt(mn(l.latitude),mn(c.latitude));return h!==0?h:rt(mn(l.longitude),mn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return DT(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const h=l.fields||{},d=c.fields||{},m=h[um]?.arrayValue,g=d[um]?.arrayValue,b=rt(m?.values?.length||0,g?.values?.length||0);return b!==0?b:DT(m,g)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===wf.mapValue&&c===wf.mapValue)return 0;if(l===wf.mapValue)return 1;if(c===wf.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),m=c.fields||{},g=Object.keys(m);d.sort(),g.sort();for(let b=0;b<d.length&&b<g.length;++b){const x=x0(d[b],g[b]);if(x!==0)return x;const A=dc(h[d[b]],m[g[b]]);if(A!==0)return A}return rt(d.length,g.length)})(t.mapValue,e.mapValue);default:throw Le(23264,{he:n})}}function IT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return rt(t,e);const n=Wa(t),s=Wa(e),a=rt(n.seconds,s.seconds);return a!==0?a:rt(n.nanos,s.nanos)}function DT(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=dc(n[a],s[a]);if(l)return l}return rt(n.length,s.length)}function fc(t){return w0(t)}function w0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Wa(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Qa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Me.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=w0(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${w0(n.fields[c])}`;return a+"}"})(t.mapValue):Le(61005,{value:t})}function qf(t){switch(Ja(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jm(t);return e?16+qf(e):16;case 5:return 2*t.stringValue.length;case 6:return Qa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+qf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return io(s.fields,((l,c)=>{a+=l.length+qf(c)})),a})(t.mapValue);default:throw Le(13486,{value:t})}}function kT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _0(t){return!!t&&"integerValue"in t}function zv(t){return!!t&&"arrayValue"in t}function MT(t){return!!t&&"nullValue"in t}function PT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hf(t){return!!t&&"mapValue"in t}function x5(t){return(t?.mapValue?.fields||{})[s2]?.stringValue===i2}function qu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return io(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=qu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qu(t.arrayValue.values[n]);return e}return{...t}}function w5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===b5}class Vs{constructor(e){this.value=e}static empty(){return new Vs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Hf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qu(n)}setAll(e){let n=Gn.emptyPath(),s={},a=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,s,a),s={},a=[],n=h.popLast()}c?s[h.lastSegment()]=qu(c):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Hf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Hf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){io(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Vs(qu(this.value))}}function r2(t){const e=[];return io(t.fields,((n,s)=>{const a=new Gn([n]);if(Hf(s)){const l=r2(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Js(e)}class fs{constructor(e,n,s,a,l,c,h){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new fs(e,0,Be.min(),Be.min(),Be.min(),Vs.empty(),0)}static newFoundDocument(e,n,s,a){return new fs(e,1,n,Be.min(),s,a,0)}static newNoDocument(e,n){return new fs(e,2,n,Be.min(),Be.min(),Vs.empty(),0)}static newUnknownDocument(e,n){return new fs(e,3,n,Be.min(),Be.min(),Vs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hm{constructor(e,n){this.position=e,this.inclusive=n}}function jT(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=Me.comparator(Me.fromName(c.referenceValue),n.key):s=dc(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function OT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ur(t.position[n],e.position[n]))return!1;return!0}class dm{constructor(e,n="asc"){this.field=e,this.dir=n}}function _5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class a2{}class Cn extends a2{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new E5(e,n,s):n==="array-contains"?new C5(e,s):n==="in"?new R5(e,s):n==="not-in"?new N5(e,s):n==="array-contains-any"?new I5(e,s):new Cn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new S5(e,s):new A5(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(dc(n,this.value)):n!==null&&Ja(this.value)===Ja(n)&&this.matchesComparison(dc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends a2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Li(e,n)}matches(e){return o2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function o2(t){return t.op==="and"}function l2(t){return T5(t)&&o2(t)}function T5(t){for(const e of t.filters)if(e instanceof Li)return!1;return!0}function T0(t){if(t instanceof Cn)return t.field.canonicalString()+t.op.toString()+fc(t.value);if(l2(t))return t.filters.map((e=>T0(e))).join(",");{const e=t.filters.map((n=>T0(n))).join(",");return`${t.op}(${e})`}}function c2(t,e){return t instanceof Cn?(function(s,a){return a instanceof Cn&&s.op===a.op&&s.field.isEqual(a.field)&&ur(s.value,a.value)})(t,e):t instanceof Li?(function(s,a){return a instanceof Li&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,h)=>l&&c2(c,a.filters[h])),!0):!1})(t,e):void Le(19439)}function u2(t){return t instanceof Cn?(function(n){return`${n.field.canonicalString()} ${n.op} ${fc(n.value)}`})(t):t instanceof Li?(function(n){return n.op.toString()+" {"+n.getFilters().map(u2).join(" ,")+"}"})(t):"Filter"}class E5 extends Cn{constructor(e,n,s){super(e,n,s),this.key=Me.fromName(s.referenceValue)}matches(e){const n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}}class S5 extends Cn{constructor(e,n){super(e,"in",n),this.keys=h2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class A5 extends Cn{constructor(e,n){super(e,"not-in",n),this.keys=h2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function h2(t,e){return(e.arrayValue?.values||[]).map((n=>Me.fromName(n.referenceValue)))}class C5 extends Cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zv(n)&&ch(n.arrayValue,this.value)}}class R5 extends Cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ch(this.value.arrayValue,n)}}class N5 extends Cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(ch(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ch(this.value.arrayValue,n)}}class I5 extends Cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ch(this.value.arrayValue,s)))}}class D5{constructor(e,n=null,s=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function VT(t,e=null,n=[],s=[],a=null,l=null,c=null){return new D5(t,e,n,s,a,l,c)}function Bv(t){const e=Ge(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>T0(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Qm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>fc(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>fc(s))).join(",")),e.Te=n}return e.Te}function Fv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!c2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OT(t.startAt,e.startAt)&&OT(t.endAt,e.endAt)}function E0(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Mh{constructor(e,n=null,s=[],a=[],l=null,c="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function k5(t,e,n,s,a,l,c,h){return new Mh(t,e,n,s,a,l,c,h)}function Zm(t){return new Mh(t)}function LT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function M5(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function d2(t){return t.collectionGroup!==null}function Hu(t){const e=Ge(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new jn(Gn.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new dm(l,s))})),n.has(Gn.keyField().canonicalString())||e.Ie.push(new dm(Gn.keyField(),s))}return e.Ie}function rr(t){const e=Ge(t);return e.Ee||(e.Ee=P5(e,Hu(t))),e.Ee}function P5(t,e){if(t.limitType==="F")return VT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new dm(a.field,l)}));const n=t.endAt?new hm(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new hm(t.startAt.position,t.startAt.inclusive):null;return VT(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function S0(t,e){const n=t.filters.concat([e]);return new Mh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function A0(t,e,n){return new Mh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ep(t,e){return Fv(rr(t),rr(e))&&t.limitType===e.limitType}function f2(t){return`${Bv(rr(t))}|lt:${t.limitType}`}function Gl(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>u2(a))).join(", ")}]`),Qm(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>fc(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>fc(a))).join(",")),`Target(${s})`})(rr(t))}; limitType=${t.limitType})`}function tp(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Me.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of Hu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,h,d){const m=jT(c,h,d);return c.inclusive?m<=0:m<0})(s.startAt,Hu(s),a)||s.endAt&&!(function(c,h,d){const m=jT(c,h,d);return c.inclusive?m>=0:m>0})(s.endAt,Hu(s),a))})(t,e)}function j5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function m2(t){return(e,n)=>{let s=!1;for(const a of Hu(t)){const l=O5(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function O5(t,e,n){const s=t.field.isKeyField()?Me.comparator(e.key,n.key):(function(l,c,h){const d=c.data.field(l),m=h.data.field(l);return d!==null&&m!==null?dc(d,m):Le(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Le(19790,{direction:t.dir})}}class il{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){io(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return QC(this.inner)}size(){return this.innerSize}}const V5=new Jt(Me.comparator);function Xr(){return V5}const p2=new Jt(Me.comparator);function Vu(...t){let e=p2;for(const n of t)e=e.insert(n.key,n);return e}function g2(t){let e=p2;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Fo(){return Gu()}function y2(){return Gu()}function Gu(){return new il((t=>t.toString()),((t,e)=>t.isEqual(e)))}const L5=new Jt(Me.comparator),U5=new jn(Me.comparator);function at(...t){let e=U5;for(const n of t)e=e.add(n);return e}const z5=new jn(rt);function B5(){return z5}function qv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lm(e)?"-0":e}}function v2(t){return{integerValue:""+t}}function F5(t,e){return f5(e)?v2(e):qv(t,e)}class np{constructor(){this._=void 0}}function q5(t,e,n){return t instanceof uh?(function(a,l){const c={fields:{[e2]:{stringValue:ZC},[n2]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Uv(l)&&(l=Jm(l)),l&&(c.fields[t2]=l),{mapValue:c}})(n,e):t instanceof hh?x2(t,e):t instanceof dh?w2(t,e):(function(a,l){const c=b2(a,l),h=UT(c)+UT(a.Ae);return _0(c)&&_0(a.Ae)?v2(h):qv(a.serializer,h)})(t,e)}function H5(t,e,n){return t instanceof hh?x2(t,e):t instanceof dh?w2(t,e):n}function b2(t,e){return t instanceof fm?(function(s){return _0(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class uh extends np{}class hh extends np{constructor(e){super(),this.elements=e}}function x2(t,e){const n=_2(e);for(const s of t.elements)n.some((a=>ur(a,s)))||n.push(s);return{arrayValue:{values:n}}}class dh extends np{constructor(e){super(),this.elements=e}}function w2(t,e){let n=_2(e);for(const s of t.elements)n=n.filter((a=>!ur(a,s)));return{arrayValue:{values:n}}}class fm extends np{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function UT(t){return mn(t.integerValue||t.doubleValue)}function _2(t){return zv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class G5{constructor(e,n){this.field=e,this.transform=n}}function $5(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof hh&&a instanceof hh||s instanceof dh&&a instanceof dh?uc(s.elements,a.elements,ur):s instanceof fm&&a instanceof fm?ur(s.Ae,a.Ae):s instanceof uh&&a instanceof uh})(t.transform,e.transform)}class K5{constructor(e,n){this.version=e,this.transformResults=n}}class Ts{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ts}static exists(e){return new Ts(void 0,e)}static updateTime(e){return new Ts(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sp{}function T2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ip(t.key,Ts.none()):new Ph(t.key,t.data,Ts.none());{const n=t.data,s=Vs.empty();let a=new jn(Gn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new ro(t.key,s,new Js(a.toArray()),Ts.none())}}function Y5(t,e,n){t instanceof Ph?(function(a,l,c){const h=a.value.clone(),d=BT(a.fieldTransforms,l,c.transformResults);h.setAll(d),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof ro?(function(a,l,c){if(!Gf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=BT(a.fieldTransforms,l,c.transformResults),d=l.data;d.setAll(E2(a)),d.setAll(h),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function $u(t,e,n,s){return t instanceof Ph?(function(l,c,h,d){if(!Gf(l.precondition,c))return h;const m=l.value.clone(),g=FT(l.fieldTransforms,d,c);return m.setAll(g),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(t,e,n,s):t instanceof ro?(function(l,c,h,d){if(!Gf(l.precondition,c))return h;const m=FT(l.fieldTransforms,d,c),g=c.data;return g.setAll(E2(l)),g.setAll(m),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,s):(function(l,c,h){return Gf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function X5(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=b2(s.transform,a||null);l!=null&&(n===null&&(n=Vs.empty()),n.set(s.field,l))}return n||null}function zT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&uc(s,a,((l,c)=>$5(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ph extends sp{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ro extends sp{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function E2(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function BT(t,e,n){const s=new Map;_t(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,h=e.data.field(l.field);s.set(l.field,H5(c,h,n[a]))}return s}function FT(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,q5(l,c,e))}return s}class ip extends sp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W5 extends sp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Q5{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Y5(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=$u(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=$u(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=y2();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(a.key)?null:h;const d=T2(c,h);d!==null&&s.set(a.key,d),c.isValidDocument()||c.convertToNoDocument(Be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),at())}isEqual(e){return this.batchId===e.batchId&&uc(this.mutations,e.mutations,((n,s)=>zT(n,s)))&&uc(this.baseMutations,e.baseMutations,((n,s)=>zT(n,s)))}}class Hv{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){_t(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return L5})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Hv(e,n,s,a)}}class J5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Z5{constructor(e,n){this.count=e,this.unchangedNames=n}}var Sn,dt;function eV(t){switch(t){case de.OK:return Le(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Le(15467,{code:t})}}function S2(t){if(t===void 0)return Yr("GRPC error has no .code"),de.UNKNOWN;switch(t){case Sn.OK:return de.OK;case Sn.CANCELLED:return de.CANCELLED;case Sn.UNKNOWN:return de.UNKNOWN;case Sn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Sn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Sn.INTERNAL:return de.INTERNAL;case Sn.UNAVAILABLE:return de.UNAVAILABLE;case Sn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Sn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Sn.NOT_FOUND:return de.NOT_FOUND;case Sn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Sn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Sn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Sn.ABORTED:return de.ABORTED;case Sn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Sn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Sn.DATA_LOSS:return de.DATA_LOSS;default:return Le(39323,{code:t})}}(dt=Sn||(Sn={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";function tV(){return new TextEncoder}const nV=new Fa([4294967295,4294967295],0);function qT(t){const e=tV().encode(t),n=new LC;return n.update(e),new Uint8Array(n.digest())}function HT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Fa([n,s],0),new Fa([a,l],0)]}class Gv{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Lu(`Invalid padding: ${n}`);if(s<0)throw new Lu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Lu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Lu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Fa.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Fa.fromNumber(s)));return a.compare(nV)===1&&(a=new Fa([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=qT(e),[s,a]=HT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Gv(l,a,n);return s.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=qT(e),[s,a]=HT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.be(c)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rp{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,jh.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new rp(Be.min(),a,new Jt(rt),Xr(),at())}}class jh{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new jh(s,n,at(),at(),at())}}class $f{constructor(e,n,s,a){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=a}}class A2{constructor(e,n){this.targetId=e,this.Ce=n}}class C2{constructor(e,n,s=$n.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class GT{constructor(){this.ve=0,this.Fe=$T(),this.Me=$n.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=at(),n=at(),s=at();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Le(38017,{changeType:l})}})),new jh(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=$T()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,_t(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class sV{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xr(),this.He=_f(),this.Je=_f(),this.Ze=new Jt(rt)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Le(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(E0(l))if(s===0){const c=new Me(l.path);this.et(n,c,fs.newNoDocument(c,Be.min()))}else _t(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const h=this.ut(e),d=h?this.ct(h,e,c):1;if(d!==0){this.it(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,h;try{c=Qa(s).toUint8Array()}catch(d){if(d instanceof JC)return Zo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Gv(c,a,l)}catch(d){return Zo(d instanceof Lu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&E0(h.target)){const d=new Me(h.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,fs.newNoDocument(d,e))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let s=at();this.Je.forEach(((l,c)=>{let h=!0;c.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new rp(e,n,this.Ze,this.je,s);return this.je=Xr(),this.He=_f(),this.Je=_f(),this.Ze=new Jt(rt),a}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new GT,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new jn(rt),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new jn(rt),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Se("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new GT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _f(){return new Jt(Me.comparator)}function $T(){return new Jt(Me.comparator)}const iV={asc:"ASCENDING",desc:"DESCENDING"},rV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aV={and:"AND",or:"OR"};class oV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function C0(t,e){return t.useProto3Json||Qm(e)?e:{value:e}}function mm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function R2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lV(t,e){return mm(t,e.toTimestamp())}function ar(t){return _t(!!t,49232),Be.fromTimestamp((function(n){const s=Wa(n);return new He(s.seconds,s.nanos)})(t))}function $v(t,e){return R0(t,e).canonicalString()}function R0(t,e){const n=(function(a){return new jt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function N2(t){const e=jt.fromString(t);return _t(P2(e),10190,{key:e.toString()}),e}function N0(t,e){return $v(t.databaseId,e.path)}function ky(t,e){const n=N2(e);if(n.get(1)!==t.databaseId.projectId)throw new xe(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xe(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Me(D2(n))}function I2(t,e){return $v(t.databaseId,e)}function cV(t){const e=N2(t);return e.length===4?jt.emptyPath():D2(e)}function I0(t){return new jt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function D2(t){return _t(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function KT(t,e,n){return{name:N0(t,e),fields:n.value.mapValue.fields}}function uV(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Le(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(m,g){return m.useProto3Json?(_t(g===void 0||typeof g=="string",58123),$n.fromBase64String(g||"")):(_t(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),$n.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(m){const g=m.code===void 0?de.UNKNOWN:S2(m.code);return new xe(g,m.message||"")})(c);n=new C2(s,a,l,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=ky(t,s.document.name),l=ar(s.document.updateTime),c=s.document.createTime?ar(s.document.createTime):Be.min(),h=new Vs({mapValue:{fields:s.document.fields}}),d=fs.newFoundDocument(a,l,c,h),m=s.targetIds||[],g=s.removedTargetIds||[];n=new $f(m,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=ky(t,s.document),l=s.readTime?ar(s.readTime):Be.min(),c=fs.newNoDocument(a,l),h=s.removedTargetIds||[];n=new $f([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=ky(t,s.document),l=s.removedTargetIds||[];n=new $f([],l,a,null)}else{if(!("filter"in e))return Le(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new Z5(a,l),h=s.targetId;n=new A2(h,c)}}return n}function hV(t,e){let n;if(e instanceof Ph)n={update:KT(t,e.key,e.value)};else if(e instanceof ip)n={delete:N0(t,e.key)};else if(e instanceof ro)n={update:KT(t,e.key,e.data),updateMask:xV(e.fieldMask)};else{if(!(e instanceof W5))return Le(16599,{dt:e.type});n={verify:N0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const h=c.transform;if(h instanceof uh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof hh)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof dh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof fm)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Le(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:lV(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Le(27497)})(t,e.precondition)),n}function dV(t,e){return t&&t.length>0?(_t(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?ar(a.updateTime):ar(l);return c.isEqual(Be.min())&&(c=ar(l)),new K5(c,a.transformResults||[])})(n,e)))):[]}function fV(t,e){return{documents:[I2(t,e.path)]}}function mV(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=I2(t,a);const l=(function(m){if(m.length!==0)return M2(Li.create(m,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((g=>(function(x){return{field:$l(x.field),direction:yV(x.dir)}})(g)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=C0(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:a}}function pV(t){let e=cV(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){_t(s===1,65062);const g=n.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let l=[];n.where&&(l=(function(b){const x=k2(b);return x instanceof Li&&l2(x)?x.getFilters():[x]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((x=>(function(D){return new dm(Kl(D.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(x)))})(n.orderBy));let h=null;n.limit&&(h=(function(b){let x;return x=typeof b=="object"?b.value:b,Qm(x)?null:x})(n.limit));let d=null;n.startAt&&(d=(function(b){const x=!!b.before,A=b.values||[];return new hm(A,x)})(n.startAt));let m=null;return n.endAt&&(m=(function(b){const x=!b.before,A=b.values||[];return new hm(A,x)})(n.endAt)),k5(e,a,c,l,h,"F",d,m)}function gV(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function k2(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Kl(n.unaryFilter.field);return Cn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Kl(n.unaryFilter.field);return Cn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Kl(n.unaryFilter.field);return Cn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Kl(n.unaryFilter.field);return Cn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Cn.create(Kl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Li.create(n.compositeFilter.filters.map((s=>k2(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Le(1026)}})(n.compositeFilter.op))})(t):Le(30097,{filter:t})}function yV(t){return iV[t]}function vV(t){return rV[t]}function bV(t){return aV[t]}function $l(t){return{fieldPath:t.canonicalString()}}function Kl(t){return Gn.fromServerFormat(t.fieldPath)}function M2(t){return t instanceof Cn?(function(n){if(n.op==="=="){if(PT(n.value))return{unaryFilter:{field:$l(n.field),op:"IS_NAN"}};if(MT(n.value))return{unaryFilter:{field:$l(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PT(n.value))return{unaryFilter:{field:$l(n.field),op:"IS_NOT_NAN"}};if(MT(n.value))return{unaryFilter:{field:$l(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$l(n.field),op:vV(n.op),value:n.value}}})(t):t instanceof Li?(function(n){const s=n.getFilters().map((a=>M2(a)));return s.length===1?s[0]:{compositeFilter:{op:bV(n.op),filters:s}}})(t):Le(54877,{filter:t})}function xV(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function P2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function j2(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class La{constructor(e,n,s,a,l=Be.min(),c=Be.min(),h=$n.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new La(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wV{constructor(e){this.yt=e}}function _V(t){const e=pV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?A0(e,e.limit,"L"):e}class TV{constructor(){this.Sn=new EV}addToCollectionParentIndex(e,n){return this.Sn.add(n),pe.resolve()}getCollectionParents(e,n){return pe.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return pe.resolve()}deleteFieldIndex(e,n){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,n){return pe.resolve()}getDocumentsMatchingTarget(e,n){return pe.resolve(null)}getIndexType(e,n){return pe.resolve(0)}getFieldIndexes(e,n){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,n){return pe.resolve(Xa.min())}getMinOffsetFromCollectionGroup(e,n){return pe.resolve(Xa.min())}updateCollectionGroup(e,n,s){return pe.resolve()}updateIndexEntries(e,n){return pe.resolve()}}class EV{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new jn(jt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new jn(jt.comparator)).toArray()}}const YT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},O2=41943040;class Os{static withCacheSize(e){return new Os(e,Os.DEFAULT_COLLECTION_PERCENTILE,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Os.DEFAULT_COLLECTION_PERCENTILE=10,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Os.DEFAULT=new Os(O2,Os.DEFAULT_COLLECTION_PERCENTILE,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Os.DISABLED=new Os(-1,0,0);class mc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new mc(0)}static ar(){return new mc(-1)}}const XT="LruGarbageCollector",SV=1048576;function WT([t,e],[n,s]){const a=rt(t,n);return a===0?rt(e,s):a}class AV{constructor(e){this.Pr=e,this.buffer=new jn(WT),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();WT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class CV{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Se(XT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Tc(n)?Se(XT,"Ignoring IndexedDB error during garbage collection: ",n):await _c(n)}await this.Ar(3e5)}))}}class RV{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return pe.resolve(Wm.ce);const s=new AV(n);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(YT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YT):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,a,l,c,h,d,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(s=b,h=Date.now(),this.removeTargets(e,s,n)))).next((b=>(l=b,d=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(m=Date.now(),Hl()<=it.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${b} documents in `+(m-d)+`ms
Total Duration: ${m-g}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function NV(t,e){return new RV(t,e)}class IV{constructor(){this.changes=new il((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fs.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?pe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class DV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class kV{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&$u(s.mutation,a,Js.empty(),He.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,at()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=at()){const a=Fo();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=Vu();return l.forEach(((h,d)=>{c=c.insert(h,d.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=Fo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,at())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,s,a){let l=Xr();const c=Gu(),h=(function(){return Gu()})();return n.forEach(((d,m)=>{const g=s.get(m.key);a.has(m.key)&&(g===void 0||g.mutation instanceof ro)?l=l.insert(m.key,m):g!==void 0?(c.set(m.key,g.mutation.getFieldMask()),$u(g.mutation,m,g.mutation.getFieldMask(),He.now())):c.set(m.key,Js.empty())})),this.recalculateAndSaveOverlays(e,l).next((d=>(d.forEach(((m,g)=>c.set(m,g))),n.forEach(((m,g)=>h.set(m,new DV(g,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,n){const s=Gu();let a=new Jt(((c,h)=>c-h)),l=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((d=>{const m=n.get(d);if(m===null)return;let g=s.get(d)||Js.empty();g=h.applyToLocalView(m,g),s.set(d,g);const b=(a.get(h.batchId)||at()).add(d);a=a.insert(h.batchId,b)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,g=d.value,b=y2();g.forEach((x=>{if(!l.has(x)){const A=T2(n.get(x),s.get(x));A!==null&&b.set(x,A),l=l.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,b))}return pe.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return M5(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):d2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):pe.resolve(Fo());let h=oh,d=l;return c.next((m=>pe.forEach(m,((g,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),l.get(g)?pe.resolve():this.remoteDocumentCache.getEntry(e,g).next((x=>{d=d.insert(g,x)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,d,m,at()))).next((g=>({batchId:h,changes:g2(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next((s=>{let a=Vu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=Vu();return this.indexManager.getCollectionParents(e,l).next((h=>pe.forEach(h,(d=>{const m=(function(b,x){return new Mh(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,s,a).next((g=>{g.forEach(((b,x)=>{c=c.insert(b,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((d,m)=>{const g=m.getKey();c.get(g)===null&&(c=c.insert(g,fs.newInvalidDocument(g)))}));let h=Vu();return c.forEach(((d,m)=>{const g=l.get(d);g!==void 0&&$u(g.mutation,m,Js.empty(),He.now()),tp(n,m)&&(h=h.insert(d,m))})),h}))}}class MV{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return pe.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ar(a.createTime)}})(n)),pe.resolve()}getNamedQuery(e,n){return pe.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:_V(a.bundledQuery),readTime:ar(a.readTime)}})(n)),pe.resolve()}}class PV{constructor(){this.overlays=new Jt(Me.comparator),this.Lr=new Map}getOverlay(e,n){return pe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Fo();return pe.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.bt(e,n,l)})),pe.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),pe.resolve()}getOverlaysForCollection(e,n,s){const a=Fo(),l=n.length+1,c=new Me(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&d.largestBatchId>s&&a.set(d.getKey(),d)}return pe.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new Jt(((m,g)=>m-g));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>s){let g=l.get(m.largestBatchId);g===null&&(g=Fo(),l=l.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const h=Fo(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,g)=>h.set(m,g))),!(h.size()>=a)););return pe.resolve(h)}bt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new J5(n,s));let l=this.Lr.get(n);l===void 0&&(l=at(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}class jV{constructor(){this.sessionToken=$n.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,pe.resolve()}}class Kv{constructor(){this.kr=new jn(qn.Kr),this.qr=new jn(qn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new qn(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new qn(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new Me(new jt([])),s=new qn(n,e),a=new qn(n,e+1),l=[];return this.qr.forEachInRange([s,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Me(new jt([])),s=new qn(n,e),a=new qn(n,e+1);let l=at();return this.qr.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new qn(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class qn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Me.comparator(e.key,n.key)||rt(e.Hr,n.Hr)}static Ur(e,n){return rt(e.Hr,n.Hr)||Me.comparator(e.key,n.key)}}class OV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new jn(qn.Kr)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Q5(l,n,s,a);this.mutationQueue.push(c);for(const h of a)this.Jr=this.Jr.add(new qn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return pe.resolve(c)}lookupMutationBatch(e,n){return pe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return pe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?Lv:this.Yn-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qn(n,0),a=new qn(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(c=>{const h=this.Zr(c.Hr);l.push(h)})),pe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new jn(rt);return n.forEach((a=>{const l=new qn(a,0),c=new qn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(h=>{s=s.add(h.Hr)}))})),pe.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;Me.isDocumentKey(l)||(l=l.child(""));const c=new qn(new Me(l),0);let h=new jn(rt);return this.Jr.forEachWhile((d=>{const m=d.key.path;return!!s.isPrefixOf(m)&&(m.length===a&&(h=h.add(d.Hr)),!0)}),c),pe.resolve(this.Yr(h))}Yr(e){const n=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){_t(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return pe.forEach(n.mutations,(a=>{const l=new qn(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new qn(n,0),a=this.Jr.firstAfterOrEqual(s);return pe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class VV{constructor(e){this.ti=e,this.docs=(function(){return new Jt(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return pe.resolve(s?s.document.mutableCopy():fs.newInvalidDocument(n))}getEntries(e,n){let s=Xr();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():fs.newInvalidDocument(a))})),pe.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Xr();const c=n.path,h=new Me(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:g}}=d.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||c5(l5(g),s)<=0||(a.has(g.key)||tp(n,g))&&(l=l.insert(g.key,g.mutableCopy()))}return pe.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Le(9500)}ni(e,n){return pe.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new LV(this)}getSize(e){return pe.resolve(this.size)}}class LV extends IV{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),pe.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class UV{constructor(e){this.persistence=e,this.ri=new il((n=>Bv(n)),Fv),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.ii=0,this.si=new Kv,this.targetCount=0,this.oi=mc._r()}forEachTarget(e,n){return this.ri.forEach(((s,a)=>n(a))),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),pe.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new mc(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,pe.resolve()}updateTargetData(e,n){return this.lr(n),pe.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=n&&s.get(h.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),pe.waitFor(l).next((()=>a))}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return pe.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),pe.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),pe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),pe.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return pe.resolve(s)}containsKey(e,n){return pe.resolve(this.si.containsKey(n))}}class V2{constructor(e,n){this._i={},this.overlays={},this.ai=new Wm(0),this.ui=!1,this.ui=!0,this.ci=new jV,this.referenceDelegate=e(this),this.li=new UV(this),this.indexManager=new TV,this.remoteDocumentCache=(function(a){return new VV(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new wV(n),this.Pi=new MV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new OV(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){Se("MemoryPersistence","Starting transaction:",e);const a=new zV(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return pe.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class zV extends h5{constructor(e){super(),this.currentSequenceNumber=e}}class Yv{constructor(e){this.persistence=e,this.Ri=new Kv,this.Ai=null}static Vi(e){return new Yv(e)}get di(){if(this.Ai)return this.Ai;throw Le(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),pe.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),pe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),pe.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.di,(s=>{const a=Me.fromPath(s);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Be.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return pe.or([()=>pe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class pm{constructor(e,n){this.persistence=e,this.fi=new il((s=>m5(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=NV(this,n)}static Vi(e,n){return new pm(e,n)}Ti(){}Ii(e){return pe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return pe.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((l=>l?pe.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,n).next((h=>{h||(s++,l.removeEntry(c,Be.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),pe.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),pe.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),pe.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qf(e.data.value)),n}wr(e,n,s){return pe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return pe.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Xv{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=a}static Es(e,n){let s=at(),a=at();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Xv(e,n.fromCache,s,a)}}class BV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class FV{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return BP()?8:d5(gs())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.gs(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new BV;return this.ys(e,n,c).next((h=>{if(l.result=h,this.As)return this.ws(e,n,c,h.size)}))})).next((()=>l.result))}ws(e,n,s,a){return s.documentReadCount<this.Vs?(Hl()<=it.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",Gl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),pe.resolve()):(Hl()<=it.DEBUG&&Se("QueryEngine","Query:",Gl(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(Hl()<=it.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",Gl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rr(n))):pe.resolve())}gs(e,n){if(LT(n))return pe.resolve(null);let s=rr(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=A0(n,null,"F"),s=rr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=at(...l);return this.fs.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,s).next((d=>{const m=this.bs(n,h);return this.Ss(n,m,c,d.readTime)?this.gs(e,A0(n,null,"F")):this.Ds(e,m,n,d)}))))})))))}ps(e,n,s,a){return LT(n)||a.isEqual(Be.min())?pe.resolve(null):this.fs.getDocuments(e,s).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,s,a)?pe.resolve(null):(Hl()<=it.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Gl(n)),this.Ds(e,c,n,o5(a,oh)).next((h=>h)))}))}bs(e,n){let s=new jn(m2(e));return n.forEach(((a,l)=>{tp(e,l)&&(s=s.add(l))})),s}Ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,s){return Hl()<=it.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",Gl(n)),this.fs.getDocumentsMatchingQuery(e,n,Xa.min(),s)}Ds(e,n,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Wv="LocalStore",qV=3e8;class HV{constructor(e,n,s,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new Jt(rt),this.Fs=new il((l=>Bv(l)),Fv),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kV(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function GV(t,e,n,s){return new HV(t,e,n,s)}async function L2(t,e){const n=Ge(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],h=[];let d=at();for(const m of a){c.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}for(const m of l){h.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(s,d).next((m=>({Ns:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function $V(t,e){const n=Ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(h,d,m,g){const b=m.batch,x=b.keys();let A=pe.resolve();return x.forEach((D=>{A=A.next((()=>g.getEntry(d,D))).next((I=>{const R=m.docVersions.get(D);_t(R!==null,48541),I.version.compareTo(R)<0&&(b.applyToRemoteDocument(I,m),I.isValidDocument()&&(I.setReadTime(m.commitVersion),g.addEntry(I)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(d,b)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let d=at();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function U2(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function KV(t,e){const n=Ge(t),s=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const h=[];e.targetChanges.forEach(((g,b)=>{const x=a.get(b);if(!x)return;h.push(n.li.removeMatchingKeys(l,g.removedDocuments,b).next((()=>n.li.addMatchingKeys(l,g.addedDocuments,b))));let A=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?A=A.withResumeToken($n.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):g.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(g.resumeToken,s)),a=a.insert(b,A),(function(I,R,O){return I.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=qV?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(x,A,g)&&h.push(n.li.updateTargetData(l,A))}));let d=Xr(),m=at();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,g))})),h.push(YV(l,c,e.documentUpdates).next((g=>{d=g.Bs,m=g.Ls}))),!s.isEqual(Be.min())){const g=n.li.getLastRemoteSnapshotVersion(l).next((b=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));h.push(g)}return pe.waitFor(h).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,d,m))).next((()=>d))})).then((l=>(n.vs=a,l)))}function YV(t,e,n){let s=at(),a=at();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=Xr();return n.forEach(((h,d)=>{const m=l.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Be.min())?(e.removeEntry(h,d.readTime),c=c.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),c=c.insert(h,d)):Se(Wv,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)})),{Bs:c,Ls:a}}))}function XV(t,e){const n=Ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Lv),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function WV(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,e).next((l=>l?(a=l,pe.resolve(a)):n.li.allocateTargetId(s).next((c=>(a=new La(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function D0(t,e,n){const s=Ge(t),a=s.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Tc(c))throw c;Se(Wv,`Failed to update sequence numbers for target ${e}: ${c}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function QT(t,e,n){const s=Ge(t);let a=Be.min(),l=at();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,m,g){const b=Ge(d),x=b.Fs.get(g);return x!==void 0?pe.resolve(b.vs.get(x)):b.li.getTargetData(m,g)})(s,c,rr(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(c,h.targetId).next((d=>{l=d}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,e,n?a:Be.min(),n?l:at()))).next((h=>(QV(s,j5(e),h),{documents:h,ks:l})))))}function QV(t,e,n){let s=t.Ms.get(e)||Be.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Ms.set(e,s)}class JT{constructor(){this.activeTargetIds=B5()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JV{constructor(){this.vo=new JT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new JT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ZV{Mo(e){}shutdown(){}}const ZT="ConnectivityMonitor";class eE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Se(ZT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Se(ZT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Tf=null;function k0(){return Tf===null?Tf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Tf++,"0x"+Tf.toString(16)}const My="RestConnection",e3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class t3{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===cm?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,n,s,a,l){const c=k0(),h=this.Qo(e,n.toUriEncodedString());Se(My,`Sending RPC '${e}' ${c}:`,h,s);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,a,l);const{host:m}=new URL(h),g=tl(m);return this.zo(e,h,d,s,g).then((b=>(Se(My,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw Zo(My,`RPC '${e}' ${c} failed with error: `,b,"url: ",h,"request:",s),b}))}jo(e,n,s,a,l,c){return this.Wo(e,n,s,a,l)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const s=e3[e];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class n3{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const us="WebChannelConnection",Nu=(t,e,n)=>{t.listen(e,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class nc extends t3{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!nc.c_){const e=FC();Nu(e,BC.STAT_EVENT,(n=>{n.stat===b0.PROXY?Se(us,"STAT_EVENT: detected buffering proxy"):n.stat===b0.NOPROXY&&Se(us,"STAT_EVENT: detected no buffering proxy")})),nc.c_=!0}}zo(e,n,s,a,l){const c=k0();return new Promise(((h,d)=>{const m=new UC;m.setWithCredentials(!0),m.listenOnce(zC.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Ff.NO_ERROR:const b=m.getResponseJson();Se(us,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),h(b);break;case Ff.TIMEOUT:Se(us,`RPC '${e}' ${c} timed out`),d(new xe(de.DEADLINE_EXCEEDED,"Request time out"));break;case Ff.HTTP_ERROR:const x=m.getStatus();if(Se(us,`RPC '${e}' ${c} failed with status:`,x,"response text:",m.getResponseText()),x>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A?.error;if(D&&D.status&&D.message){const I=(function(O){const H=O.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(H)>=0?H:de.UNKNOWN})(D.status);d(new xe(I,D.message))}else d(new xe(de.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new xe(de.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{Se(us,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(a);Se(us,`RPC '${e}' ${c} sending request:`,a),m.send(n,"POST",g,s,15)}))}T_(e,n,s){const a=k0(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,n,s),h.encodeInitMessageHeaders=!0;const m=l.join("");Se(us,`Creating RPC '${e}' stream ${a}: ${m}`,h);const g=c.createWebChannel(m,h);this.I_(g);let b=!1,x=!1;const A=new n3({Ho:D=>{x?Se(us,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(b||(Se(us,`Opening RPC '${e}' stream ${a} transport.`),g.open(),b=!0),Se(us,`RPC '${e}' stream ${a} sending:`,D),g.send(D))},Jo:()=>g.close()});return Nu(g,Ou.EventType.OPEN,(()=>{x||(Se(us,`RPC '${e}' stream ${a} transport opened.`),A.i_())})),Nu(g,Ou.EventType.CLOSE,(()=>{x||(x=!0,Se(us,`RPC '${e}' stream ${a} transport closed`),A.o_(),this.E_(g))})),Nu(g,Ou.EventType.ERROR,(D=>{x||(x=!0,Zo(us,`RPC '${e}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),A.o_(new xe(de.UNAVAILABLE,"The operation could not be completed")))})),Nu(g,Ou.EventType.MESSAGE,(D=>{if(!x){const I=D.data[0];_t(!!I,16349);const R=I,O=R?.error||R[0]?.error;if(O){Se(us,`RPC '${e}' stream ${a} received error:`,O);const H=O.status;let F=(function(ce){const k=Sn[ce];if(k!==void 0)return S2(k)})(H),re=O.message;F===void 0&&(F=de.INTERNAL,re="Unknown error status: "+H+" with message "+O.message),x=!0,A.o_(new xe(F,re)),g.close()}else Se(us,`RPC '${e}' stream ${a} received:`,I),A.__(I)}})),nc.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return qC()}}function s3(t){return new nc(t)}function Py(){return typeof document<"u"?document:null}function ap(t){return new oV(t,!0)}nc.c_=!1;class z2{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&Se("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const tE="PersistentStream";class B2{constructor(e,n,s,a,l,c,h,d){this.Ci=e,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new z2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(Yr(n.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new xe(de.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Se(tE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Se(tE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class i3 extends B2{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=uV(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Be.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Be.min():c.readTime?ar(c.readTime):Be.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=I0(this.serializer),n.addTarget=(function(l,c){let h;const d=c.target;if(h=E0(d)?{documents:fV(l,d)}:{query:mV(l,d).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=R2(l,c.resumeToken);const m=C0(l,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(Be.min())>0){h.readTime=mm(l,c.snapshotVersion.toTimestamp());const m=C0(l,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const s=gV(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=I0(this.serializer),n.removeTarget=e,this.K_(n)}}class r3 extends B2{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return _t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_t(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=dV(e.writeResults,e.commitTime),s=ar(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=I0(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>hV(this.serializer,s)))};this.K_(n)}}class a3{}class o3 extends a3{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new xe(de.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,R0(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(de.UNKNOWN,l.toString())}))}jo(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(e,R0(n,s),a,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new xe(de.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function l3(t,e,n,s){return new o3(t,e,n,s)}class c3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yr(n),this.aa=!1):Se("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const el="RemoteStore";class u3{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{s.enqueueAndForget((async()=>{rl(this)&&(Se(el,"Restarting streams for network reachability change."),await(async function(d){const m=Ge(d);m.Ea.add(4),await Oh(m),m.Va.set("Unknown"),m.Ea.delete(4),await op(m)})(this))}))})),this.Va=new c3(s,a)}}async function op(t){if(rl(t))for(const e of t.Ra)await e(!0)}async function Oh(t){for(const e of t.Ra)await e(!1)}function F2(t,e){const n=Ge(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),eb(n)?Zv(n):Ec(n).O_()&&Jv(n,e))}function Qv(t,e){const n=Ge(t),s=Ec(n);n.Ia.delete(e),s.O_()&&q2(n,e),n.Ia.size===0&&(s.O_()?s.L_():rl(n)&&n.Va.set("Unknown"))}function Jv(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ec(t).Z_(e)}function q2(t,e){t.da.$e(e),Ec(t).X_(e)}function Zv(t){t.da=new sV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ec(t).start(),t.Va.ua()}function eb(t){return rl(t)&&!Ec(t).x_()&&t.Ia.size>0}function rl(t){return Ge(t).Ea.size===0}function H2(t){t.da=void 0}async function h3(t){t.Va.set("Online")}async function d3(t){t.Ia.forEach(((e,n)=>{Jv(t,e)}))}async function f3(t,e){H2(t),eb(t)?(t.Va.ha(e),Zv(t)):t.Va.set("Unknown")}async function m3(t,e,n){if(t.Va.set("Online"),e instanceof C2&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.da.removeTarget(h))})(t,e)}catch(s){Se(el,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await gm(t,s)}else if(e instanceof $f?t.da.Xe(e):e instanceof A2?t.da.st(e):t.da.tt(e),!n.isEqual(Be.min()))try{const s=await U2(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const h=l.da.Tt(c);return h.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const g=l.Ia.get(m);g&&l.Ia.set(m,g.withResumeToken(d.resumeToken,c))}})),h.targetMismatches.forEach(((d,m)=>{const g=l.Ia.get(d);if(!g)return;l.Ia.set(d,g.withResumeToken($n.EMPTY_BYTE_STRING,g.snapshotVersion)),q2(l,d);const b=new La(g.target,d,m,g.sequenceNumber);Jv(l,b)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(s){Se(el,"Failed to raise snapshot:",s),await gm(t,s)}}async function gm(t,e,n){if(!Tc(e))throw e;t.Ea.add(1),await Oh(t),t.Va.set("Offline"),n||(n=()=>U2(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Se(el,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await op(t)}))}function G2(t,e){return e().catch((n=>gm(t,n,e)))}async function lp(t){const e=Ge(t),n=Za(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Lv;for(;p3(e);)try{const a=await XV(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,g3(e,a)}catch(a){await gm(e,a)}$2(e)&&K2(e)}function p3(t){return rl(t)&&t.Ta.length<10}function g3(t,e){t.Ta.push(e);const n=Za(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function $2(t){return rl(t)&&!Za(t).x_()&&t.Ta.length>0}function K2(t){Za(t).start()}async function y3(t){Za(t).ra()}async function v3(t){const e=Za(t);for(const n of t.Ta)e.ea(n.mutations)}async function b3(t,e,n){const s=t.Ta.shift(),a=Hv.from(s,e,n);await G2(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await lp(t)}async function x3(t,e){e&&Za(t).Y_&&await(async function(s,a){if((function(c){return eV(c)&&c!==de.ABORTED})(a.code)){const l=s.Ta.shift();Za(s).B_(),await G2(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await lp(s)}})(t,e),$2(t)&&K2(t)}async function nE(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),Se(el,"RemoteStore received new credentials");const s=rl(n);n.Ea.add(3),await Oh(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await op(n)}async function w3(t,e){const n=Ge(t);e?(n.Ea.delete(2),await op(n)):e||(n.Ea.add(2),await Oh(n),n.Va.set("Unknown"))}function Ec(t){return t.ma||(t.ma=(function(n,s,a){const l=Ge(n);return l.sa(),new i3(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:h3.bind(null,t),Yo:d3.bind(null,t),t_:f3.bind(null,t),J_:m3.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),eb(t)?Zv(t):t.Va.set("Unknown")):(await t.ma.stop(),H2(t))}))),t.ma}function Za(t){return t.fa||(t.fa=(function(n,s,a){const l=Ge(n);return l.sa(),new r3(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:y3.bind(null,t),t_:x3.bind(null,t),ta:v3.bind(null,t),na:b3.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await lp(t)):(await t.fa.stop(),t.Ta.length>0&&(Se(el,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class tb{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,h=new tb(e,n,c,a,l);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nb(t,e){if(Yr("AsyncQueue",`${e}: ${t}`),Tc(t))return new xe(de.UNAVAILABLE,`${e}: ${t}`);throw t}class sc{static emptySet(e){return new sc(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Me.comparator(n.key,s.key):(n,s)=>Me.comparator(n.key,s.key),this.keyedMap=Vu(),this.sortedSet=new Jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof sc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new sc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class sE{constructor(){this.ga=new Jt(Me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Le(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class pc{constructor(e,n,s,a,l,c,h,d,m){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new pc(e,n,sc.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ep(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class _3{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class T3{constructor(){this.queries=iE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Ge(n),l=a.queries;a.queries=iE(),l.forEach(((c,h)=>{for(const d of h.ba)d.onError(s)}))})(this,new xe(de.ABORTED,"Firestore shutting down"))}}function iE(){return new il((t=>f2(t)),ep)}async function sb(t,e){const n=Ge(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(s=2):(l=new _3,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=nb(c,`Initialization of query '${Gl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&rb(n)}async function ib(t,e){const n=Ge(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function E3(t,e){const n=Ge(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const h of c.ba)h.Fa(a)&&(s=!0);c.wa=a}}s&&rb(n)}function S3(t,e,n){const s=Ge(t),a=s.queries.get(e);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(e)}function rb(t){t.Ca.forEach((e=>{e.next()}))}var M0,rE;(rE=M0||(M0={})).Ma="default",rE.Cache="cache";class ab{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new pc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=pc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==M0.Cache}}class Y2{constructor(e){this.key=e}}class X2{constructor(e){this.key=e}}class A3{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=at(),this.mutatedKeys=at(),this.eu=m2(e),this.tu=new sc(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new sE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,b)=>{const x=a.get(g),A=tp(this.query,b)?b:null,D=!!x&&this.mutatedKeys.has(x.key),I=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let R=!1;x&&A?x.data.isEqual(A.data)?D!==I&&(s.track({type:3,doc:A}),R=!0):this.su(x,A)||(s.track({type:2,doc:A}),R=!0,(d&&this.eu(A,d)>0||m&&this.eu(A,m)<0)&&(h=!0)):!x&&A?(s.track({type:0,doc:A}),R=!0):x&&!A&&(s.track({type:1,doc:x}),R=!0,(d||m)&&(h=!0)),R&&(A?(c=c.add(A),l=I?l.add(g):l.delete(g)):(c=c.delete(g),l=l.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),l=l.delete(g.key),s.track({type:1,doc:g})}return{tu:c,iu:s,Ss:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,b)=>(function(A,D){const I=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Vt:R})}};return I(A)-I(D)})(g.type,b.type)||this.eu(g.doc,b.doc))),this.ou(s),a=a??!1;const h=n&&!a?this._u():[],d=this.Ya.size===0&&this.current&&!a?1:0,m=d!==this.Xa;return this.Xa=d,c.length!==0||m?{snapshot:new pc(this.query,e.tu,l,c,e.mutatedKeys,d===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=at(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new X2(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new Y2(s))})),n}cu(e){this.Za=e.ks,this.Ya=at();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return pc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ob="SyncEngine";class C3{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class R3{constructor(e){this.key=e,this.hu=!1}}class N3{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new il((h=>f2(h)),ep),this.Iu=new Map,this.Eu=new Set,this.Ru=new Jt(Me.comparator),this.Au=new Map,this.Vu=new Kv,this.du={},this.mu=new Map,this.fu=mc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function I3(t,e,n=!0){const s=tR(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await W2(s,e,n,!0),a}async function D3(t,e){const n=tR(t);await W2(n,e,!0,!1)}async function W2(t,e,n,s){const a=await WV(t.localStore,rr(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let h;return s&&(h=await k3(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&F2(t.remoteStore,a),h}async function k3(t,e,n,s,a){t.pu=(b,x,A)=>(async function(I,R,O,H){let F=R.view.ru(O);F.Ss&&(F=await QT(I.localStore,R.query,!1).then((({documents:k})=>R.view.ru(k,F))));const re=H&&H.targetChanges.get(R.targetId),te=H&&H.targetMismatches.get(R.targetId)!=null,ce=R.view.applyChanges(F,I.isPrimaryClient,re,te);return oE(I,R.targetId,ce.au),ce.snapshot})(t,b,x,A);const l=await QT(t.localStore,e,!0),c=new A3(e,l.ks),h=c.ru(l.documents),d=jh.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),m=c.applyChanges(h,t.isPrimaryClient,d);oE(t,n,m.au);const g=new C3(e,n,c);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function M3(t,e,n){const s=Ge(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!ep(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await D0(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Qv(s.remoteStore,a.targetId),P0(s,a.targetId)})).catch(_c)):(P0(s,a.targetId),await D0(s.localStore,a.targetId,!0))}async function P3(t,e){const n=Ge(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Qv(n.remoteStore,s.targetId))}async function j3(t,e,n){const s=F3(t);try{const a=await(function(c,h){const d=Ge(c),m=He.now(),g=h.reduce(((A,D)=>A.add(D.key)),at());let b,x;return d.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let D=Xr(),I=at();return d.xs.getEntries(A,g).next((R=>{D=R,D.forEach(((O,H)=>{H.isValidDocument()||(I=I.add(O))}))})).next((()=>d.localDocuments.getOverlayedDocuments(A,D))).next((R=>{b=R;const O=[];for(const H of h){const F=X5(H,b.get(H.key).overlayedDocument);F!=null&&O.push(new ro(H.key,F,r2(F.value.mapValue),Ts.exists(!0)))}return d.mutationQueue.addMutationBatch(A,m,O,h)})).next((R=>{x=R;const O=R.applyToLocalDocumentSet(b,I);return d.documentOverlayCache.saveOverlays(A,R.batchId,O)}))})).then((()=>({batchId:x.batchId,changes:g2(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,h,d){let m=c.du[c.currentUser.toKey()];m||(m=new Jt(rt)),m=m.insert(h,d),c.du[c.currentUser.toKey()]=m})(s,a.batchId,n),await Vh(s,a.changes),await lp(s.remoteStore)}catch(a){const l=nb(a,"Failed to persist write");n.reject(l)}}async function Q2(t,e){const n=Ge(t);try{const s=await KV(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(_t(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?_t(c.hu,14607):a.removedDocuments.size>0&&(_t(c.hu,42227),c.hu=!1))})),await Vh(n,s,e)}catch(s){await _c(s)}}function aE(t,e,n){const s=Ge(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const d=Ge(c);d.onlineState=h;let m=!1;d.queries.forEach(((g,b)=>{for(const x of b.ba)x.va(h)&&(m=!0)})),m&&rb(d)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function O3(t,e,n){const s=Ge(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new Jt(Me.comparator);c=c.insert(l,fs.newNoDocument(l,Be.min()));const h=at().add(l),d=new rp(Be.min(),new Map,new Jt(rt),c,h);await Q2(s,d),s.Ru=s.Ru.remove(l),s.Au.delete(e),lb(s)}else await D0(s.localStore,e,!1).then((()=>P0(s,e,n))).catch(_c)}async function V3(t,e){const n=Ge(t),s=e.batch.batchId;try{const a=await $V(n.localStore,e);Z2(n,s,null),J2(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Vh(n,a)}catch(a){await _c(a)}}async function L3(t,e,n){const s=Ge(t);try{const a=await(function(c,h){const d=Ge(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return d.mutationQueue.lookupMutationBatch(m,h).next((b=>(_t(b!==null,37113),g=b.keys(),d.mutationQueue.removeMutationBatch(m,b)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,g,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>d.localDocuments.getDocuments(m,g)))}))})(s.localStore,e);Z2(s,e,n),J2(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Vh(s,a)}catch(a){await _c(a)}}function J2(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Z2(t,e,n){const s=Ge(t);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function P0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((s=>{t.Vu.containsKey(s)||eR(t,s)}))}function eR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Qv(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),lb(t))}function oE(t,e,n){for(const s of n)s instanceof Y2?(t.Vu.addReference(s.key,e),U3(t,s)):s instanceof X2?(Se(ob,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||eR(t,s.key)):Le(19791,{wu:s})}function U3(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(Se(ob,"New document in limbo: "+n),t.Eu.add(s),lb(t))}function lb(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Me(jt.fromString(e)),s=t.fu.next();t.Au.set(s,new R3(n)),t.Ru=t.Ru.insert(n,s),F2(t.remoteStore,new La(rr(Zm(n.path)),s,"TargetPurposeLimboResolution",Wm.ce))}}async function Vh(t,e,n){const s=Ge(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,d)=>{c.push(s.pu(d,e,n).then((m=>{if((m||n)&&s.isPrimaryClient){const g=m?!m.fromCache:n?.targetChanges.get(d.targetId)?.current;s.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(m){a.push(m);const g=Xv.Es(d.targetId,m);l.push(g)}})))})),await Promise.all(c),s.Pu.J_(a),await(async function(d,m){const g=Ge(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>pe.forEach(m,(x=>pe.forEach(x.Ts,(A=>g.persistence.referenceDelegate.addReference(b,x.targetId,A))).next((()=>pe.forEach(x.Is,(A=>g.persistence.referenceDelegate.removeReference(b,x.targetId,A)))))))))}catch(b){if(!Tc(b))throw b;Se(Wv,"Failed to update sequence numbers: "+b)}for(const b of m){const x=b.targetId;if(!b.fromCache){const A=g.vs.get(x),D=A.snapshotVersion,I=A.withLastLimboFreeSnapshotVersion(D);g.vs=g.vs.insert(x,I)}}})(s.localStore,l))}async function z3(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){Se(ob,"User change. New user:",e.toKey());const s=await L2(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new xe(de.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Vh(n,s.Ns)}}function B3(t,e){const n=Ge(t),s=n.Au.get(e);if(s&&s.hu)return at().add(s.key);{let a=at();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const h=n.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function tR(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Q2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=O3.bind(null,e),e.Pu.J_=E3.bind(null,e.eventManager),e.Pu.yu=S3.bind(null,e.eventManager),e}function F3(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=V3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=L3.bind(null,e),e}class ym{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ap(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return GV(this.persistence,new FV,e.initialUser,this.serializer)}Cu(e){return new V2(Yv.Vi,this.serializer)}Du(e){return new JV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ym.provider={build:()=>new ym};class q3 extends ym{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){_t(this.persistence.referenceDelegate instanceof pm,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new CV(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Os.withCacheSize(this.cacheSizeBytes):Os.DEFAULT;return new V2((s=>pm.Vi(s,n)),this.serializer)}}class j0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>aE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=z3.bind(null,this.syncEngine),await w3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new T3})()}createDatastore(e){const n=ap(e.databaseInfo.databaseId),s=s3(e.databaseInfo);return l3(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,h){return new u3(s,a,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>aE(this.syncEngine,n,0)),(function(){return eE.v()?new eE:new ZV})())}createSyncEngine(e,n){return(function(a,l,c,h,d,m,g){const b=new N3(a,l,c,h,d,m);return g&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ge(n);Se(el,"RemoteStore shutting down."),s.Ea.add(5),await Oh(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}j0.provider={build:()=>new j0};class cb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const eo="FirestoreClient";class H3{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=ds.UNAUTHENTICATED,this.clientId=Ym.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{Se(eo,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(Se(eo,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=nb(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function jy(t,e){t.asyncQueue.verifyOperationInProgress(),Se(eo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await L2(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function lE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await G3(t);Se(eo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>nE(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>nE(e.remoteStore,a))),t._onlineComponents=e}async function G3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se(eo,"Using user provided OfflineComponentProvider");try{await jy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===de.FAILED_PRECONDITION||a.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Zo("Error using user provided cache. Falling back to memory cache: "+n),await jy(t,new ym)}}else Se(eo,"Using default OfflineComponentProvider"),await jy(t,new q3(void 0));return t._offlineComponents}async function nR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se(eo,"Using user provided OnlineComponentProvider"),await lE(t,t._uninitializedComponentsProvider._online)):(Se(eo,"Using default OnlineComponentProvider"),await lE(t,new j0))),t._onlineComponents}function $3(t){return nR(t).then((e=>e.syncEngine))}async function vm(t){const e=await nR(t),n=e.eventManager;return n.onListen=I3.bind(null,e.syncEngine),n.onUnlisten=M3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=D3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=P3.bind(null,e.syncEngine),n}function K3(t,e,n,s){const a=new cb(s),l=new ab(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>sb(await vm(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>ib(await vm(t),l)))}}function Y3(t,e,n={}){const s=new Fr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,d,m){const g=new cb({next:x=>{g.Nu(),c.enqueueAndForget((()=>ib(l,b)));const A=x.docs.has(h);!A&&x.fromCache?m.reject(new xe(de.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&x.fromCache&&d&&d.source==="server"?m.reject(new xe(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),b=new ab(Zm(h.path),g,{includeMetadataChanges:!0,Ka:!0});return sb(l,b)})(await vm(t),t.asyncQueue,e,n,s))),s.promise}function X3(t,e,n={}){const s=new Fr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,d,m){const g=new cb({next:x=>{g.Nu(),c.enqueueAndForget((()=>ib(l,b))),x.fromCache&&d.source==="server"?m.reject(new xe(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(x)},error:x=>m.reject(x)}),b=new ab(h,g,{includeMetadataChanges:!0,Ka:!0});return sb(l,b)})(await vm(t),t.asyncQueue,e,n,s))),s.promise}function W3(t,e){const n=new Fr;return t.asyncQueue.enqueueAndForget((async()=>j3(await $3(t),e,n))),n.promise}function sR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const Q3="ComponentProvider",cE=new Map;function J3(t,e,n,s,a){return new y5(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,sR(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const iR="firestore.googleapis.com",uE=!0;class hE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new xe(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iR,this.ssl=uE}else this.host=e.host,this.ssl=e.ssl??uE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=O2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SV)throw new xe(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sR(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new xe(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new xe(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new xe(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cp{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new $C;switch(s.type){case"firstParty":return new t5(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new xe(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=cE.get(n);s&&(Se(Q3,"Removing Datastore"),cE.delete(n),s.terminate())})(this),Promise.resolve()}}function rR(t,e,n,s={}){t=ps(t,cp);const a=tl(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(xv(`https://${h}`),wv("Firestore",!0)),l.host!==iR&&l.host!==h&&Zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:h,ssl:a,emulatorOptions:s};if(!Wo(d,c)&&(t._setSettings(d),s.mockUserToken)){let m,g;if(typeof s.mockUserToken=="string")m=s.mockUserToken,g=ds.MOCK_USER;else{m=HA(s.mockUserToken,t._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new xe(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new ds(b)}t._authCredentials=new JO(new GC(m,g))}}class ao{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ao(this.firestore,e,this._query)}}class Qt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(kh(n,Qt._jsonSchema))return new Qt(e,s||null,new Me(jt.fromString(n.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:Rn("string",Qt._jsonSchemaVersion),referencePath:Rn("string")};class qr extends ao{constructor(e,n,s){super(e,n,Zm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new Me(e))}withConverter(e){return new qr(this.firestore,e,this._path)}}function yi(t,e,...n){if(t=an(t),KC("collection","path",e),t instanceof cp){const s=jt.fromString(e,...n);return ET(s),new qr(t,null,s)}{if(!(t instanceof Qt||t instanceof qr))throw new xe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(jt.fromString(e,...n));return ET(s),new qr(t.firestore,null,s)}}function pn(t,e,...n){if(t=an(t),arguments.length===1&&(e=Ym.newId()),KC("doc","path",e),t instanceof cp){const s=jt.fromString(e,...n);return TT(s),new Qt(t,null,new Me(s))}{if(!(t instanceof Qt||t instanceof qr))throw new xe(de.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(jt.fromString(e,...n));return TT(s),new Qt(t.firestore,t instanceof qr?t.converter:null,new Me(s))}}const dE="AsyncQueue";class fE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new z2(this,"async_queue_retry"),this._c=()=>{const s=Py();s&&Se(dE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Py();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Py();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Tc(e))throw e;Se(dE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Yr("INTERNAL UNHANDLED ERROR: ",mE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=tb.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Le(47125,{Pc:mE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function mE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ui extends cp{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new fE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fE(e),this._firestoreClient=void 0,await e}}}function aR(t,e){const n=typeof t=="object"?t:Ev(),s=typeof t=="string"?t:cm,a=Hm(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=BA("firestore");l&&rR(a,...l)}return a}function Sc(t){if(t._terminated)throw new xe(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Z3(t),t._firestoreClient}function Z3(t){const e=t._freezeSettings(),n=J3(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new H3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class Ws{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ws($n.fromBase64String(e))}catch(n){throw new xe(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ws($n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ws._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(kh(e,Ws._jsonSchema))return Ws.fromBase64String(e.bytes)}}Ws._jsonSchemaVersion="firestore/bytes/1.0",Ws._jsonSchema={type:Rn("string",Ws._jsonSchemaVersion),bytes:Rn("string")};class Lh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new xe(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Uh{constructor(e){this._methodName=e}}class Vi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new xe(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new xe(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return rt(this._lat,e._lat)||rt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(e){if(kh(e,Vi._jsonSchema))return new Vi(e.latitude,e.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Rn("string",Vi._jsonSchemaVersion),latitude:Rn("number"),longitude:Rn("number")};class xi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(kh(e,xi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new xi(e.vectorValues);throw new xe(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xi._jsonSchemaVersion="firestore/vectorValue/1.0",xi._jsonSchema={type:Rn("string",xi._jsonSchemaVersion),vectorValues:Rn("object")};const eL=/^__.*__$/;class tL{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ro(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ph(e,this.data,n,this.fieldTransforms)}}class oR{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ro(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function lR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{dataSource:t})}}class ub{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ub({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return bm(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(lR(this.dataSource)&&eL.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class nL{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ap(e)}createContext(e,n,s,a=!1){return new ub({dataSource:e,methodName:n,targetDoc:s,path:Gn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zh(t){const e=t._freezeSettings(),n=ap(t._databaseId);return new nL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hb(t,e,n,s,a,l={}){const c=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);fb("Data must be an object, but it was:",c,s);const h=hR(s,c);let d,m;if(l.merge)d=new Js(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const g=[];for(const b of l.mergeFields){const x=gc(e,b,n);if(!c.contains(x))throw new xe(de.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);mR(g,x)||g.push(x)}d=new Js(g),m=c.fieldTransforms.filter((b=>d.covers(b.field)))}else d=null,m=c.fieldTransforms;return new tL(new Vs(h),d,m)}class Bh extends Uh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bh}}class db extends Uh{_toFieldTransform(e){return new G5(e.path,new uh)}isEqual(e){return e instanceof db}}function cR(t,e,n,s){const a=t.createContext(1,e,n);fb("Data must be an object, but it was:",a,s);const l=[],c=Vs.empty();io(s,((d,m)=>{const g=fR(e,d,n);m=an(m);const b=a.childContextForFieldPath(g);if(m instanceof Bh)l.push(g);else{const x=Fh(m,b);x!=null&&(l.push(g),c.set(g,x))}}));const h=new Js(l);return new oR(c,h,a.fieldTransforms)}function uR(t,e,n,s,a,l){const c=t.createContext(1,e,n),h=[gc(e,s,n)],d=[a];if(l.length%2!=0)throw new xe(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)h.push(gc(e,l[x])),d.push(l[x+1]);const m=[],g=Vs.empty();for(let x=h.length-1;x>=0;--x)if(!mR(m,h[x])){const A=h[x];let D=d[x];D=an(D);const I=c.childContextForFieldPath(A);if(D instanceof Bh)m.push(A);else{const R=Fh(D,I);R!=null&&(m.push(A),g.set(A,R))}}const b=new Js(m);return new oR(g,b,c.fieldTransforms)}function sL(t,e,n,s=!1){return Fh(n,t.createContext(s?4:3,e))}function Fh(t,e){if(dR(t=an(t)))return fb("Unsupported field value:",e,t),hR(t,e);if(t instanceof Uh)return(function(s,a){if(!lR(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const h of s){let d=Fh(h,a.childContextForArray(c));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=an(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return F5(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=He.fromDate(s);return{timestampValue:mm(a.serializer,l)}}if(s instanceof He){const l=new He(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:mm(a.serializer,l)}}if(s instanceof Vi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ws)return{bytesValue:R2(a.serializer,s._byteString)};if(s instanceof Qt){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:$v(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof xi)return(function(c,h){const d=c instanceof xi?c.toArray():c;return{mapValue:{fields:{[s2]:{stringValue:i2},[um]:{arrayValue:{values:d.map((g=>{if(typeof g!="number")throw h.createError("VectorValues must only contain numeric values.");return qv(h.serializer,g)}))}}}}}})(s,a);if(j2(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Xm(s)}`)})(t,e)}function hR(t,e){const n={};return QC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):io(t,((s,a)=>{const l=Fh(a,e.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function dR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof He||t instanceof Vi||t instanceof Ws||t instanceof Qt||t instanceof Uh||t instanceof xi||j2(t))}function fb(t,e,n){if(!dR(n)||!XC(n)){const s=Xm(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function gc(t,e,n){if((e=an(e))instanceof Lh)return e._internalPath;if(typeof e=="string")return fR(t,e);throw bm("Field path arguments must be of type string or ",t,!1,void 0,n)}const iL=new RegExp("[~\\*/\\[\\]]");function fR(t,e,n){if(e.search(iL)>=0)throw bm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Lh(...e.split("."))._internalPath}catch{throw bm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bm(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||c)&&(d+=" (found",l&&(d+=` in field ${s}`),c&&(d+=` in document ${a}`),d+=")"),new xe(de.INVALID_ARGUMENT,h+t+d)}function mR(t,e){return t.some((n=>n.isEqual(e)))}class pR{convertValue(e,n="none"){switch(Ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return io(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[um].arrayValue?.values?.map((s=>mn(s.doubleValue)));return new xi(n)}convertGeoPoint(e){return new Vi(mn(e.latitude),mn(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Jm(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(lh(e));default:return null}}convertTimestamp(e){const n=Wa(e);return new He(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=jt.fromString(e);_t(P2(s),9688,{name:e});const a=new hc(s.get(1),s.get(3)),l=new Me(s.popFirst(5));return a.isEqual(n)||Yr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class mb extends pR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ws(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,n)}}function xm(){return new Bh("deleteField")}function $o(){return new db("serverTimestamp")}const pE="@firebase/firestore",gE="4.10.0";function yE(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class gR{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(gc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rL extends gR{data(){return super.data()}}function yR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new xe(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pb{}class vR extends pb{}function qa(t,e,...n){let s=[];e instanceof pb&&s.push(e),s=s.concat(n),(function(l){const c=l.filter((d=>d instanceof up)).length,h=l.filter((d=>d instanceof qh)).length;if(c>1||c>0&&h>0)throw new xe(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class qh extends vR{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new qh(e,n,s)}_apply(e){const n=this._parse(e);return bR(e._query,n),new ao(e.firestore,e.converter,S0(e._query,n))}_parse(e){const n=zh(e.firestore);return(function(l,c,h,d,m,g,b){let x;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new xe(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){bE(b,g);const D=[];for(const I of b)D.push(vE(d,l,I));x={arrayValue:{values:D}}}else x=vE(d,l,b)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||bE(b,g),x=sL(h,c,b,g==="in"||g==="not-in");return Cn.create(m,g,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function nr(t,e,n){const s=e,a=gc("where",t);return qh._create(a,s,n)}class up extends pb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new up(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Li.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const h=l.getFlattenedFilters();for(const d of h)bR(c,d),c=S0(c,d)})(e._query,n),new ao(e.firestore,e.converter,S0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function vE(t,e,n){if(typeof(n=an(n))=="string"){if(n==="")throw new xe(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!d2(e)&&n.indexOf("/")!==-1)throw new xe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(jt.fromString(n));if(!Me.isDocumentKey(s))throw new xe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return kT(t,new Me(s))}if(n instanceof Qt)return kT(t,n._key);throw new xe(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xm(n)}.`)}function bE(t,e){if(!Array.isArray(t)||t.length===0)throw new xe(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bR(t,e){const n=(function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new xe(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function gb(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Yl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ha extends gR{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(gc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ha._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ha._jsonSchema={type:Rn("string",Ha._jsonSchemaVersion),bundleSource:Rn("string","DocumentSnapshot"),bundleName:Rn("string"),bundle:Rn("string")};class Ku extends Ha{data(e={}){return super.data(e)}}class Ga{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Yl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Ku(this._firestore,this._userDataWriter,s.key,s,new Yl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xe(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const d=new Ku(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Yl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new Ku(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Yl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,g=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),g=c.indexOf(h.doc.key)),{type:aL(h.type),doc:d,oldIndex:m,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ga._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ym.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function aL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:t})}}Ga._jsonSchemaVersion="firestore/querySnapshot/1.0",Ga._jsonSchema={type:Rn("string",Ga._jsonSchemaVersion),bundleSource:Rn("string","QuerySnapshot"),bundleName:Rn("string"),bundle:Rn("string")};class xR{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=zh(e)}set(e,n,s){this._verifyNotCommitted();const a=Oy(e,this._firestore),l=gb(a.converter,n,s),c=hb(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,s);return this._mutations.push(c.toMutation(a._key,Ts.none())),this}update(e,n,s,...a){this._verifyNotCommitted();const l=Oy(e,this._firestore);let c;return c=typeof(n=an(n))=="string"||n instanceof Lh?uR(this._dataReader,"WriteBatch.update",l._key,n,s,a):cR(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,Ts.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Oy(e,this._firestore);return this._mutations=this._mutations.concat(new ip(n._key,Ts.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Oy(t,e){if((t=an(t)).firestore!==e)throw new xe(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function $a(t){t=ps(t,Qt);const e=ps(t.firestore,Ui),n=Sc(e);return Y3(n,t._key).then((s=>wR(e,t,s)))}function Ko(t){t=ps(t,ao);const e=ps(t.firestore,Ui),n=Sc(e),s=new mb(e);return yR(t._query),X3(n,t._query).then((a=>new Ga(e,s,t,a)))}function Yo(t,e,n){t=ps(t,Qt);const s=ps(t.firestore,Ui),a=gb(t.converter,e,n),l=zh(s);return Ac(s,[hb(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Ts.none())])}function hs(t,e,n,...s){t=ps(t,Qt);const a=ps(t.firestore,Ui),l=zh(a);let c;return c=typeof(e=an(e))=="string"||e instanceof Lh?uR(l,"updateDoc",t._key,e,n,s):cR(l,"updateDoc",t._key,e),Ac(a,[c.toMutation(t._key,Ts.exists(!0))])}function yb(t){return Ac(ps(t.firestore,Ui),[new ip(t._key,Ts.none())])}function vb(t,e){const n=ps(t.firestore,Ui),s=pn(t),a=gb(t.converter,e),l=zh(t.firestore);return Ac(n,[hb(l,"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,Ts.exists(!1))]).then((()=>s))}function ic(t,...e){t=an(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||yE(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(yE(e[s])){const m=e[s];e[s]=m.next?.bind(m),e[s+1]=m.error?.bind(m),e[s+2]=m.complete?.bind(m)}let l,c,h;if(t instanceof Qt)c=ps(t.firestore,Ui),h=Zm(t._key.path),l={next:m=>{e[s]&&e[s](wR(c,t,m))},error:e[s+1],complete:e[s+2]};else{const m=ps(t,ao);c=ps(m.firestore,Ui),h=m._query;const g=new mb(c);l={next:b=>{e[s]&&e[s](new Ga(c,g,m,b))},error:e[s+1],complete:e[s+2]},yR(t._query)}const d=Sc(c);return K3(d,h,a,l)}function Ac(t,e){const n=Sc(t);return W3(n,e)}function wR(t,e,n){const s=n.docs.get(e._key),a=new mb(t);return new Ha(t,a,e._key,s,new Yl(n.hasPendingWrites,n.fromCache),e.converter)}function O0(t){return t=ps(t,Ui),Sc(t),new xR(t,(e=>Ac(t,e)))}(function(e,n=!0){QO(nl),Qo(new Ka("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),h=new Ui(new ZO(s.getProvider("auth-internal")),new n5(c,s.getProvider("app-check-internal")),v5(c,a),c);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),sr(pE,gE,e),sr(pE,gE,"esm2020")})();const xE=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:pR,Bytes:Ws,CollectionReference:qr,DocumentReference:Qt,DocumentSnapshot:Ha,FieldPath:Lh,FieldValue:Uh,Firestore:Ui,FirestoreError:xe,GeoPoint:Vi,Query:ao,QueryCompositeFilterConstraint:up,QueryConstraint:vR,QueryDocumentSnapshot:Ku,QueryFieldFilterConstraint:qh,QuerySnapshot:Ga,SnapshotMetadata:Yl,Timestamp:He,VectorValue:xi,WriteBatch:xR,_AutoId:Ym,_ByteString:$n,_DatabaseId:hc,_DocumentKey:Me,_EmptyAuthCredentialsProvider:$C,_FieldPath:Gn,_cast:ps,_logWarn:Zo,_validateIsNotUsedTogether:YC,addDoc:vb,collection:yi,connectFirestoreEmulator:rR,deleteDoc:yb,deleteField:xm,doc:pn,ensureFirestoreConfigured:Sc,executeWrite:Ac,getDoc:$a,getDocs:Ko,getFirestore:aR,onSnapshot:ic,query:qa,serverTimestamp:$o,setDoc:Yo,updateDoc:hs,where:nr,writeBatch:O0},Symbol.toStringTag,{value:"Module"}));const _R="firebasestorage.googleapis.com",oL="storageBucket",lL=120*1e3,cL=600*1e3;class mr extends fr{constructor(e,n,s=0){super(Vy(e),`Firebase Storage: ${n} (${Vy(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var hr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(hr||(hr={}));function Vy(t){return"storage/"+t}function uL(){const t="An unknown error occurred, please check the error payload for server response.";return new mr(hr.UNKNOWN,t)}function hL(){return new mr(hr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dL(){return new mr(hr.CANCELED,"User canceled the upload/download.")}function fL(t){return new mr(hr.INVALID_URL,"Invalid URL '"+t+"'.")}function mL(t){return new mr(hr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function wE(t){return new mr(hr.INVALID_ARGUMENT,t)}function TR(){return new mr(hr.APP_DELETED,"The Firebase app was deleted.")}function pL(t){return new mr(hr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class ji{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=ji.makeFromUrl(e,n)}catch{return new ji(e,"")}if(s.path==="")return s;throw mL(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+a+c,"i"),d={bucket:1,path:3};function m(re){re.path_=decodeURIComponent(re.path)}const g="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",A=new RegExp(`^https?://${b}/${g}/b/${a}/o${x}`,"i"),D={bucket:1,path:3},I=n===_R?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",O=new RegExp(`^https?://${I}/${a}/${R}`,"i"),F=[{regex:h,indices:d,postModify:l},{regex:A,indices:D,postModify:m},{regex:O,indices:{bucket:1,path:2},postModify:m}];for(let re=0;re<F.length;re++){const te=F[re],ce=te.regex.exec(e);if(ce){const k=ce[te.indices.bucket];let C=ce[te.indices.path];C||(C=""),s=new ji(k,C),te.postModify(s);break}}if(s==null)throw fL(e);return s}}class gL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function yL(t,e,n){let s=1,a=null,l=null,c=!1,h=0;function d(){return h===2}let m=!1;function g(...R){m||(m=!0,e.apply(null,R))}function b(R){a=setTimeout(()=>{a=null,t(A,d())},R)}function x(){l&&clearTimeout(l)}function A(R,...O){if(m){x();return}if(R){x(),g.call(null,R,...O);return}if(d()||c){x(),g.call(null,R,...O);return}s<64&&(s*=2);let F;h===1?(h=2,F=0):F=(s+Math.random())*1e3,b(F)}let D=!1;function I(R){D||(D=!0,x(),!m&&(a!==null?(R||(h=2),clearTimeout(a),b(0)):R||(h=1)))}return b(0),l=setTimeout(()=>{c=!0,I(!0)},n),I}function vL(t){t(!1)}function bL(t){return t!==void 0}function _E(t,e,n,s){if(s<e)throw wE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw wE(`Invalid value for '${t}'. Expected ${n} or less.`)}function xL(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var wm;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(wm||(wm={}));function wL(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class _L{constructor(e,n,s,a,l,c,h,d,m,g,b,x=!0,A=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=b,this.retry=x,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,I)=>{this.resolve_=D,this.reject_=I,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Ef(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=h=>{const d=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const h=l.getErrorCode()===wm.NO_ERROR,d=l.getStatus();if(!h||wL(d,this.additionalRetryCodes_)&&this.retry){const g=l.getErrorCode()===wm.ABORT;s(!1,new Ef(!1,null,g));return}const m=this.successCodes_.indexOf(d)!==-1;s(!0,new Ef(m,l))})},n=(s,a)=>{const l=this.resolve_,c=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());bL(d)?l(d):l()}catch(d){c(d)}else if(h!==null){const d=uL();d.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,d)):c(d)}else if(a.canceled){const d=this.appDelete_?TR():dL();c(d)}else{const d=hL();c(d)}};this.canceled_?n(!1,new Ef(!1,null,!0)):this.backoffId_=yL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&vL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ef{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function TL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function EL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function SL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function AL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function CL(t,e,n,s,a,l,c=!0,h=!1){const d=xL(t.urlParams),m=t.url+d,g=Object.assign({},t.headers);return SL(g,e),TL(g,n),EL(g,l),AL(g,s),new _L(m,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,h)}function RL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function NL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class _m{constructor(e,n){this._service=e,n instanceof ji?this._location=n:this._location=ji.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new _m(e,n)}get root(){const e=new ji(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return NL(this._location.path)}get storage(){return this._service}get parent(){const e=RL(this._location.path);if(e===null)return null;const n=new ji(this._location.bucket,e);return new _m(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw pL(e)}}function TE(t,e){const n=e?.[oL];return n==null?null:ji.makeFromBucketSpec(n,t)}function IL(t,e,n,s={}){t.host=`${e}:${n}`;const a=tl(e);a&&(xv(`https://${t.host}/b`),wv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:HA(l,t.app.options.projectId))}class DL{constructor(e,n,s,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=_R,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=lL,this._maxUploadRetryTime=cL,this._requests=new Set,a!=null?this._bucket=ji.makeFromBucketSpec(a,this._host):this._bucket=TE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ji.makeFromBucketSpec(this._url,e):this._bucket=TE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_E("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_E("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(gi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _m(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new gL(TR());{const c=CL(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const EE="@firebase/storage",SE="0.14.0";const ER="storage";function kL(t=Ev(),e){t=an(t);const s=Hm(t,ER).getImmediate({identifier:e}),a=BA("storage");return a&&ML(s,...a),s}function ML(t,e,n,s={}){IL(t,e,n,s)}function PL(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new DL(n,s,a,e,nl)}function jL(){Qo(new Ka(ER,PL,"PUBLIC").setMultipleInstances(!0)),sr(EE,SE,""),sr(EE,SE,"esm2020")}jL();const OL={apiKey:"AIzaSyC7IaK8e0JimVT2DeKQovTDLPyufibEu_4",authDomain:"sunsar-bingo.firebaseapp.com",projectId:"sunsar-bingo",storageBucket:"sunsar-bingo.firebasestorage.app",messagingSenderId:"256131852935",appId:"1:256131852935:web:fe514c1e6758e5af252622"},hp=KA(OL),Uo=VC(hp),SR=new tr,mt=aR(hp);kL(hp);const AE=Object.freeze(Object.defineProperty({__proto__:null,app:hp,auth:Uo,db:mt,googleProvider:SR},Symbol.toStringTag,{value:"Module"})),AR=S.createContext(void 0),VL=({children:t})=>{const[e,n]=S.useState(null),[s,a]=S.useState(!0),[l,c]=S.useState(null);S.useEffect(()=>{const g=wC(Uo,async b=>{if(b){const x={uid:b.uid,email:b.email,displayName:b.displayName,photoURL:b.photoURL};n(x),c(null);try{const{doc:A,setDoc:D,Timestamp:I}=await ql(async()=>{const{doc:O,setDoc:H,Timestamp:F}=await Promise.resolve().then(()=>xE);return{doc:O,setDoc:H,Timestamp:F}},[]),{db:R}=await ql(async()=>{const{db:O}=await Promise.resolve().then(()=>AE);return{db:O}},void 0);await D(A(R,"users",b.uid),{...x,lastSeen:I.now()},{merge:!0})}catch(A){console.error("Error syncing user profile:",A)}}else n(null);a(!1)});return()=>g()},[]);const h=async()=>{c(null);try{await PC(Uo,SR)}catch(g){c(g.message||"Failed to sign in")}},d=async()=>{await _C(Uo)},m=async g=>{if(Uo.currentUser)try{const{updateProfile:b}=await ql(async()=>{const{updateProfile:I}=await Promise.resolve().then(()=>WO);return{updateProfile:I}},void 0);await b(Uo.currentUser,{displayName:g}),n(I=>I?{...I,displayName:g}:null);const{doc:x,updateDoc:A}=await ql(async()=>{const{doc:I,updateDoc:R}=await Promise.resolve().then(()=>xE);return{doc:I,updateDoc:R}},void 0),{db:D}=await ql(async()=>{const{db:I}=await Promise.resolve().then(()=>AE);return{db:I}},void 0);await A(x(D,"users",Uo.currentUser.uid),{displayName:g})}catch(b){throw console.error("Error updating profile:",b),b}};return y.jsx(AR.Provider,{value:{user:e,loading:s,signIn:h,logout:d,updateProfileName:m,error:l},children:t})},qi=()=>{const t=S.useContext(AR);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},bb=S.createContext({});function xb(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const CR=typeof window<"u",RR=CR?S.useLayoutEffect:S.useEffect,dp=S.createContext(null);function wb(t,e){t.indexOf(e)===-1&&t.push(e)}function _b(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const dr=(t,e,n)=>n>e?e:n<t?t:n;let Tb=()=>{};const Wr={},NR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function IR(t){return typeof t=="object"&&t!==null}const DR=t=>/^0[^.\s]+$/u.test(t);function Eb(t){let e;return()=>(e===void 0&&(e=t()),e)}const wi=t=>t,LL=(t,e)=>n=>e(t(n)),Hh=(...t)=>t.reduce(LL),fh=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Sb{constructor(){this.subscriptions=[]}add(e){return wb(this.subscriptions,e),()=>_b(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hr=t=>t*1e3,bi=t=>t/1e3;function kR(t,e){return e?t*(1e3/e):0}const MR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,UL=1e-7,zL=12;function BL(t,e,n,s,a){let l,c,h=0;do c=e+(n-e)/2,l=MR(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>UL&&++h<zL);return c}function Gh(t,e,n,s){if(t===e&&n===s)return wi;const a=l=>BL(l,0,1,t,n);return l=>l===0||l===1?l:MR(a(l),e,s)}const PR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,jR=t=>e=>1-t(1-e),OR=Gh(.33,1.53,.69,.99),Ab=jR(OR),VR=PR(Ab),LR=t=>(t*=2)<1?.5*Ab(t):.5*(2-Math.pow(2,-10*(t-1))),Cb=t=>1-Math.sin(Math.acos(t)),UR=jR(Cb),zR=PR(Cb),FL=Gh(.42,0,1,1),qL=Gh(0,0,.58,1),BR=Gh(.42,0,.58,1),HL=t=>Array.isArray(t)&&typeof t[0]!="number",FR=t=>Array.isArray(t)&&typeof t[0]=="number",GL={linear:wi,easeIn:FL,easeInOut:BR,easeOut:qL,circIn:Cb,circInOut:zR,circOut:UR,backIn:Ab,backInOut:VR,backOut:OR,anticipate:LR},$L=t=>typeof t=="string",CE=t=>{if(FR(t)){Tb(t.length===4);const[e,n,s,a]=t;return Gh(e,n,s,a)}else if($L(t))return GL[t];return t},Sf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function KL(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(g){c.has(g)&&(m.schedule(g),t()),g(h)}const m={schedule:(g,b=!1,x=!1)=>{const D=x&&a?n:s;return b&&c.add(g),D.has(g)||D.add(g),g},cancel:g=>{s.delete(g),c.delete(g)},process:g=>{if(h=g,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(d),n.clear(),a=!1,l&&(l=!1,m.process(g))}};return m}const YL=40;function qR(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Sf.reduce((F,re)=>(F[re]=KL(l),F),{}),{setup:h,read:d,resolveKeyframes:m,preUpdate:g,update:b,preRender:x,render:A,postRender:D}=c,I=()=>{const F=Wr.useManualTiming?a.timestamp:performance.now();n=!1,Wr.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(F-a.timestamp,YL),1)),a.timestamp=F,a.isProcessing=!0,h.process(a),d.process(a),m.process(a),g.process(a),b.process(a),x.process(a),A.process(a),D.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(I))},R=()=>{n=!0,s=!0,a.isProcessing||t(I)};return{schedule:Sf.reduce((F,re)=>{const te=c[re];return F[re]=(ce,k=!1,C=!1)=>(n||R(),te.schedule(ce,k,C)),F},{}),cancel:F=>{for(let re=0;re<Sf.length;re++)c[Sf[re]].cancel(F)},state:a,steps:c}}const{schedule:Bt,cancel:to,state:ns,steps:Ly}=qR(typeof requestAnimationFrame<"u"?requestAnimationFrame:wi,!0);let Kf;function XL(){Kf=void 0}const ws={now:()=>(Kf===void 0&&ws.set(ns.isProcessing||Wr.useManualTiming?ns.timestamp:performance.now()),Kf),set:t=>{Kf=t,queueMicrotask(XL)}},HR=t=>e=>typeof e=="string"&&e.startsWith(t),GR=HR("--"),WL=HR("var(--"),Rb=t=>WL(t)?QL.test(t.split("/*")[0].trim()):!1,QL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function RE(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Cc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},mh={...Cc,transform:t=>dr(0,1,t)},Af={...Cc,default:1},Yu=t=>Math.round(t*1e5)/1e5,Nb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function JL(t){return t==null}const ZL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ib=(t,e)=>n=>!!(typeof n=="string"&&ZL.test(n)&&n.startsWith(t)||e&&!JL(n)&&Object.prototype.hasOwnProperty.call(n,e)),$R=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,h]=s.match(Nb);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},e6=t=>dr(0,255,t),Uy={...Cc,transform:t=>Math.round(e6(t))},qo={test:Ib("rgb","red"),parse:$R("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Uy.transform(t)+", "+Uy.transform(e)+", "+Uy.transform(n)+", "+Yu(mh.transform(s))+")"};function t6(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const V0={test:Ib("#"),parse:t6,transform:qo.transform},$h=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Oa=$h("deg"),or=$h("%"),Ae=$h("px"),n6=$h("vh"),s6=$h("vw"),NE={...or,parse:t=>or.parse(t)/100,transform:t=>or.transform(t*100)},Xl={test:Ib("hsl","hue"),parse:$R("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+or.transform(Yu(e))+", "+or.transform(Yu(n))+", "+Yu(mh.transform(s))+")"},An={test:t=>qo.test(t)||V0.test(t)||Xl.test(t),parse:t=>qo.test(t)?qo.parse(t):Xl.test(t)?Xl.parse(t):V0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?qo.transform(t):Xl.transform(t),getAnimatableNone:t=>{const e=An.parse(t);return e.alpha=0,An.transform(e)}},i6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function r6(t){return isNaN(t)&&typeof t=="string"&&(t.match(Nb)?.length||0)+(t.match(i6)?.length||0)>0}const KR="number",YR="color",a6="var",o6="var(",IE="${}",l6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ph(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(l6,d=>(An.test(d)?(s.color.push(l),a.push(YR),n.push(An.parse(d))):d.startsWith(o6)?(s.var.push(l),a.push(a6),n.push(d)):(s.number.push(l),a.push(KR),n.push(parseFloat(d))),++l,IE)).split(IE);return{values:n,split:h,indexes:s,types:a}}function XR(t){return ph(t).values}function WR(t){const{split:e,types:n}=ph(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const h=n[c];h===KR?l+=Yu(a[c]):h===YR?l+=An.transform(a[c]):l+=a[c]}return l}}const c6=t=>typeof t=="number"?0:An.test(t)?An.getAnimatableNone(t):t;function u6(t){const e=XR(t);return WR(t)(e.map(c6))}const no={test:r6,parse:XR,createTransformer:WR,getAnimatableNone:u6};function zy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function h6({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=zy(d,h,t+1/3),l=zy(d,h,t),c=zy(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Tm(t,e){return n=>n>0?e:t}const Wt=(t,e,n)=>t+(e-t)*n,By=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},d6=[V0,qo,Xl],f6=t=>d6.find(e=>e.test(t));function DE(t){const e=f6(t);if(!e)return!1;let n=e.parse(t);return e===Xl&&(n=h6(n)),n}const kE=(t,e)=>{const n=DE(t),s=DE(e);if(!n||!s)return Tm(t,e);const a={...n};return l=>(a.red=By(n.red,s.red,l),a.green=By(n.green,s.green,l),a.blue=By(n.blue,s.blue,l),a.alpha=Wt(n.alpha,s.alpha,l),qo.transform(a))},L0=new Set(["none","hidden"]);function m6(t,e){return L0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function p6(t,e){return n=>Wt(t,e,n)}function Db(t){return typeof t=="number"?p6:typeof t=="string"?Rb(t)?Tm:An.test(t)?kE:v6:Array.isArray(t)?QR:typeof t=="object"?An.test(t)?kE:g6:Tm}function QR(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>Db(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function g6(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=Db(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function y6(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],h=t.values[c]??0;n[a]=h,s[l]++}return n}const v6=(t,e)=>{const n=no.createTransformer(e),s=ph(t),a=ph(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?L0.has(t)&&!a.values.length||L0.has(e)&&!s.values.length?m6(t,e):Hh(QR(y6(s,a),a.values),n):Tm(t,e)};function JR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Wt(t,e,n):Db(t)(t,e)}const b6=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Bt.update(e,n),stop:()=>to(e),now:()=>ns.isProcessing?ns.timestamp:ws.now()}},ZR=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Em=2e4;function kb(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Em;)e+=n,s=t.next(e);return e>=Em?1/0:e}function x6(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(kb(s),Em);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:bi(a)}}const w6=5;function eN(t,e,n){const s=Math.max(e-w6,0);return kR(n-t(s),e-s)}const rn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Fy=.001;function _6({duration:t=rn.duration,bounce:e=rn.bounce,velocity:n=rn.velocity,mass:s=rn.mass}){let a,l,c=1-e;c=dr(rn.minDamping,rn.maxDamping,c),t=dr(rn.minDuration,rn.maxDuration,bi(t)),c<1?(a=m=>{const g=m*c,b=g*t,x=g-n,A=U0(m,c),D=Math.exp(-b);return Fy-x/A*D},l=m=>{const b=m*c*t,x=b*n+n,A=Math.pow(c,2)*Math.pow(m,2)*t,D=Math.exp(-b),I=U0(Math.pow(m,2),c);return(-a(m)+Fy>0?-1:1)*((x-A)*D)/I}):(a=m=>{const g=Math.exp(-m*t),b=(m-n)*t+1;return-Fy+g*b},l=m=>{const g=Math.exp(-m*t),b=(n-m)*(t*t);return g*b});const h=5/t,d=E6(a,l,h);if(t=Hr(t),isNaN(d))return{stiffness:rn.stiffness,damping:rn.damping,duration:t};{const m=Math.pow(d,2)*s;return{stiffness:m,damping:c*2*Math.sqrt(s*m),duration:t}}}const T6=12;function E6(t,e,n){let s=n;for(let a=1;a<T6;a++)s=s-t(s)/e(s);return s}function U0(t,e){return t*Math.sqrt(1-e*e)}const S6=["duration","bounce"],A6=["stiffness","damping","mass"];function ME(t,e){return e.some(n=>t[n]!==void 0)}function C6(t){let e={velocity:rn.velocity,stiffness:rn.stiffness,damping:rn.damping,mass:rn.mass,isResolvedFromDuration:!1,...t};if(!ME(t,A6)&&ME(t,S6))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*dr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:rn.mass,stiffness:a,damping:l}}else{const n=_6(t);e={...e,...n,mass:rn.mass},e.isResolvedFromDuration=!0}return e}function Sm(t=rn.visualDuration,e=rn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:m,mass:g,duration:b,velocity:x,isResolvedFromDuration:A}=C6({...n,velocity:-bi(n.velocity||0)}),D=x||0,I=m/(2*Math.sqrt(d*g)),R=c-l,O=bi(Math.sqrt(d/g)),H=Math.abs(R)<5;s||(s=H?rn.restSpeed.granular:rn.restSpeed.default),a||(a=H?rn.restDelta.granular:rn.restDelta.default);let F;if(I<1){const te=U0(O,I);F=ce=>{const k=Math.exp(-I*O*ce);return c-k*((D+I*O*R)/te*Math.sin(te*ce)+R*Math.cos(te*ce))}}else if(I===1)F=te=>c-Math.exp(-O*te)*(R+(D+O*R)*te);else{const te=O*Math.sqrt(I*I-1);F=ce=>{const k=Math.exp(-I*O*ce),C=Math.min(te*ce,300);return c-k*((D+I*O*R)*Math.sinh(C)+te*R*Math.cosh(C))/te}}const re={calculatedDuration:A&&b||null,next:te=>{const ce=F(te);if(A)h.done=te>=b;else{let k=te===0?D:0;I<1&&(k=te===0?Hr(D):eN(F,te,ce));const C=Math.abs(k)<=s,P=Math.abs(c-ce)<=a;h.done=C&&P}return h.value=h.done?c:ce,h},toString:()=>{const te=Math.min(kb(re),Em),ce=ZR(k=>re.next(te*k).value,te,30);return te+"ms "+ce},toTransition:()=>{}};return re}Sm.applyToOptions=t=>{const e=x6(t,100,Sm);return t.ease=e.ease,t.duration=Hr(e.duration),t.type="keyframes",t};function z0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:d,restDelta:m=.5,restSpeed:g}){const b=t[0],x={done:!1,value:b},A=C=>h!==void 0&&C<h||d!==void 0&&C>d,D=C=>h===void 0?d:d===void 0||Math.abs(h-C)<Math.abs(d-C)?h:d;let I=n*e;const R=b+I,O=c===void 0?R:c(R);O!==R&&(I=O-b);const H=C=>-I*Math.exp(-C/s),F=C=>O+H(C),re=C=>{const P=H(C),z=F(C);x.done=Math.abs(P)<=m,x.value=x.done?O:z};let te,ce;const k=C=>{A(x.value)&&(te=C,ce=Sm({keyframes:[x.value,D(x.value)],velocity:eN(F,C,x.value),damping:a,stiffness:l,restDelta:m,restSpeed:g}))};return k(0),{calculatedDuration:null,next:C=>{let P=!1;return!ce&&te===void 0&&(P=!0,re(C),k(C)),te!==void 0&&C>=te?ce.next(C-te):(!P&&re(C),x)}}}function R6(t,e,n){const s=[],a=n||Wr.mix||JR,l=t.length-1;for(let c=0;c<l;c++){let h=a(t[c],t[c+1]);if(e){const d=Array.isArray(e)?e[c]||wi:e;h=Hh(d,h)}s.push(h)}return s}function N6(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(Tb(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=R6(e,s,a),d=h.length,m=g=>{if(c&&g<t[0])return e[0];let b=0;if(d>1)for(;b<t.length-2&&!(g<t[b+1]);b++);const x=fh(t[b],t[b+1],g);return h[b](x)};return n?g=>m(dr(t[0],t[l-1],g)):m}function I6(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=fh(0,e,s);t.push(Wt(n,1,a))}}function D6(t){const e=[0];return I6(e,t.length-1),e}function k6(t,e){return t.map(n=>n*e)}function M6(t,e){return t.map(()=>e||BR).splice(0,t.length-1)}function Xu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=HL(s)?s.map(CE):CE(s),l={done:!1,value:e[0]},c=k6(n&&n.length===e.length?n:D6(e),t),h=N6(c,e,{ease:Array.isArray(a)?a:M6(e,a)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const P6=t=>t!==null;function Mb(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(P6),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||s===void 0?l[h]:s}const j6={decay:z0,inertia:z0,tween:Xu,keyframes:Xu,spring:Sm};function tN(t){typeof t.type=="string"&&(t.type=j6[t.type])}class Pb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const O6=t=>t/100;class jb extends Pb{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==ws.now()&&this.tick(ws.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;tN(e);const{type:n=Xu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:h}=e;const d=n||Xu;d!==Xu&&typeof h[0]!="number"&&(this.mixKeyframes=Hh(O6,JR(h[0],h[1])),h=[0,100]);const m=d({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=kb(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return s.next(0);const{delay:m=0,keyframes:g,repeat:b,repeatType:x,repeatDelay:A,type:D,onUpdate:I,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const O=this.currentTime-m*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?O<0:O>a;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,re=s;if(b){const C=Math.min(this.currentTime,a)/h;let P=Math.floor(C),z=C%1;!z&&C>=1&&(z=1),z===1&&P--,P=Math.min(P,b+1),P%2&&(x==="reverse"?(z=1-z,A&&(z-=A/h)):x==="mirror"&&(re=c)),F=dr(0,1,z)*h}const te=H?{done:!1,value:g[0]}:re.next(F);l&&(te.value=l(te.value));let{done:ce}=te;!H&&d!==null&&(ce=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ce);return k&&D!==z0&&(te.value=Mb(g,this.options,R,this.speed)),I&&I(te.value),k&&this.finish(),te}then(e,n){return this.finished.then(e,n)}get duration(){return bi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+bi(e)}get time(){return bi(this.currentTime)}set time(e){e=Hr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ws.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=bi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=b6,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ws.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function V6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ho=t=>t*180/Math.PI,B0=t=>{const e=Ho(Math.atan2(t[1],t[0]));return F0(e)},L6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:B0,rotateZ:B0,skewX:t=>Ho(Math.atan(t[1])),skewY:t=>Ho(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},F0=t=>(t=t%360,t<0&&(t+=360),t),PE=B0,jE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),OE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),U6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jE,scaleY:OE,scale:t=>(jE(t)+OE(t))/2,rotateX:t=>F0(Ho(Math.atan2(t[6],t[5]))),rotateY:t=>F0(Ho(Math.atan2(-t[2],t[0]))),rotateZ:PE,rotate:PE,skewX:t=>Ho(Math.atan(t[4])),skewY:t=>Ho(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function q0(t){return t.includes("scale")?1:0}function H0(t,e){if(!t||t==="none")return q0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=U6,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=L6,a=h}if(!a)return q0(e);const l=s[e],c=a[1].split(",").map(B6);return typeof l=="function"?l(c):c[l]}const z6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return H0(n,e)};function B6(t){return parseFloat(t.trim())}const Rc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Nc=new Set(Rc),VE=t=>t===Cc||t===Ae,F6=new Set(["x","y","z"]),q6=Rc.filter(t=>!F6.has(t));function H6(t){const e=[];return q6.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Ua={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>H0(e,"x"),y:(t,{transform:e})=>H0(e,"y")};Ua.translateX=Ua.x;Ua.translateY=Ua.y;const Xo=new Set;let G0=!1,$0=!1,K0=!1;function nN(){if($0){const t=Array.from(Xo).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=H6(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}$0=!1,G0=!1,Xo.forEach(t=>t.complete(K0)),Xo.clear()}function sN(){Xo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&($0=!0)})}function G6(){K0=!0,sN(),nN(),K0=!1}class Ob{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Xo.add(this),G0||(G0=!0,Bt.read(sN),Bt.resolveKeyframes(nN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const h=s.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}V6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Xo.delete(this)}cancel(){this.state==="scheduled"&&(Xo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const $6=t=>t.startsWith("--");function K6(t,e,n){$6(e)?t.style.setProperty(e,n):t.style[e]=n}const Y6=Eb(()=>window.ScrollTimeline!==void 0),X6={};function W6(t,e){const n=Eb(t);return()=>X6[e]??n()}const iN=W6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Uu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,LE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Uu([0,.65,.55,1]),circOut:Uu([.55,0,1,.45]),backIn:Uu([.31,.01,.66,-.59]),backOut:Uu([.33,1.53,.69,.99])};function rN(t,e){if(t)return typeof t=="function"?iN()?ZR(t,e):"ease-out":FR(t)?Uu(t):Array.isArray(t)?t.map(n=>rN(n,e)||LE.easeOut):LE[t]}function Q6(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:d}={},m=void 0){const g={[e]:n};d&&(g.offset=d);const b=rN(h,a);Array.isArray(b)&&(g.easing=b);const x={delay:s,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(x.pseudoElement=m),t.animate(g,x)}function aN(t){return typeof t=="function"&&"applyToOptions"in t}function J6({type:t,...e}){return aN(t)&&iN()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Z6 extends Pb{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Tb(typeof e.type!="string");const m=J6(e);this.animation=Q6(n,s,a,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=Mb(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):K6(n,s,g),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return bi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+bi(e)}get time(){return bi(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Hr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Y6()?(this.animation.timeline=e,wi):n(this)}}const oN={anticipate:LR,backInOut:VR,circInOut:zR};function eU(t){return t in oN}function tU(t){typeof t.ease=="string"&&eU(t.ease)&&(t.ease=oN[t.ease])}const qy=10;class nU extends Z6{constructor(e){tU(e),tN(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new jb({...c,autoplay:!1}),d=Math.max(qy,ws.now()-this.startTime),m=dr(0,qy,d-qy);n.setWithVelocity(h.sample(Math.max(0,d-m)).value,h.sample(d).value,m),h.stop()}}const UE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(no.test(t)||t==="0")&&!t.startsWith("url("));function sU(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function iU(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=UE(a,e),h=UE(l,e);return!c||!h?!1:sU(t)||(n==="spring"||aN(n))&&s}function Y0(t){t.duration=0,t.type="keyframes"}const rU=new Set(["opacity","clipPath","filter","transform"]),aU=Eb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function oU(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=e.owner.getProps();return aU()&&n&&rU.has(n)&&(n!=="transform"||!m)&&!d&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const lU=40;class cU extends Pb{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:d,motionValue:m,element:g,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ws.now();const x={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:d,motionValue:m,element:g,...b},A=g?.KeyframeResolver||Ob;this.keyframeResolver=new A(h,(D,I,R)=>this.onKeyframesResolved(D,I,x,!R),d,m,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:d,isHandoff:m,onUpdate:g}=s;this.resolvedAt=ws.now(),iU(e,l,c,h)||((Wr.instantAnimations||!d)&&g?.(Mb(e,s,n)),e[0]=e[e.length-1],Y0(s),s.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>lU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},A=!m&&oU(x)?new nU({...x,element:x.motionValue.owner.current}):new jb(x);A.finished.then(()=>this.notifyFinished()).catch(wi),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),G6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const uU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hU(t){const e=uU.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function lN(t,e,n=1){const[s,a]=hU(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return NR(c)?parseFloat(c):c}return Rb(a)?lN(a,e,n+1):a}function Vb(t,e){return t?.[e]??t?.default??t}const dU={type:"spring",stiffness:500,damping:25,restSpeed:10},fU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),mU={type:"keyframes",duration:.8},pU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gU=(t,{keyframes:e})=>e.length>2?mU:Nc.has(t)?t.startsWith("scale")?fU(e[1]):dU:pU;function yU({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:d,elapsed:m,...g}){return!!Object.keys(g).length}const vU=t=>t!==null;function bU(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(vU),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function cN(t,e,n,s=0,a=1){const l=Array.from(t).sort((m,g)=>m.sortNodePosition(g)).indexOf(e),c=t.size,h=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:h-l*s}const Lb=(t,e,n,s={},a,l)=>c=>{const h=Vb(s,t)||{},d=h.delay||s.delay||0;let{elapsed:m=0}=s;m=m-Hr(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:x=>{e.set(x),h.onUpdate&&h.onUpdate(x)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};yU(h)||Object.assign(g,gU(t,g)),g.duration&&(g.duration=Hr(g.duration)),g.repeatDelay&&(g.repeatDelay=Hr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let b=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Y0(g),g.delay===0&&(b=!0)),(Wr.instantAnimations||Wr.skipAnimations)&&(b=!0,Y0(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,b&&!l&&e.get()!==void 0){const x=bU(g.keyframes,h);if(x!==void 0){Bt.update(()=>{g.onUpdate(x),g.onComplete()});return}}return h.isSync?new jb(g):new cU(g)},uN=new Set(["width","height","top","left","right","bottom",...Rc]),zE=30,xU=t=>!isNaN(parseFloat(t));class wU{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=ws.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ws.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=xU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Sb);const s=this.events[e].add(n);return e==="change"?()=>{s(),Bt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ws.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zE);return kR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yc(t,e){return new wU(t,e)}function BE(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Ub(t,e,n,s){if(typeof e=="function"){const[a,l]=BE(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=BE(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function rc(t,e,n){const s=t.getProps();return Ub(s,e,n!==void 0?n:s.custom,t)}const X0=t=>Array.isArray(t);function _U(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,yc(n))}function TU(t){return X0(t)?t[t.length-1]||0:t}function EU(t,e){const n=rc(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const h=TU(l[c]);_U(t,c,h)}}const ms=t=>!!(t&&t.getVelocity);function SU(t){return!!(ms(t)&&t.add)}function W0(t,e){const n=t.getValue("willChange");if(SU(n))return n.add(e);if(!n&&Wr.WillChange){const s=new Wr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function zb(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const AU="framerAppearId",hN="data-"+zb(AU);function dN(t){return t.props[hN]}function CU({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function fN(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...h}=e;s&&(l=s);const d=[],m=a&&t.animationState&&t.animationState.getState()[a];for(const g in h){const b=t.getValue(g,t.latestValues[g]??null),x=h[g];if(x===void 0||m&&CU(m,g))continue;const A={delay:n,...Vb(l||{},g)},D=b.get();if(D!==void 0&&!b.isAnimating&&!Array.isArray(x)&&x===D&&!A.velocity)continue;let I=!1;if(window.MotionHandoffAnimation){const O=dN(t);if(O){const H=window.MotionHandoffAnimation(O,g,Bt);H!==null&&(A.startTime=H,I=!0)}}W0(t,g),b.start(Lb(g,b,x,t.shouldReduceMotion&&uN.has(g)?{type:!1}:A,t,I));const R=b.animation;R&&d.push(R)}return c&&Promise.all(d).then(()=>{Bt.update(()=>{c&&EU(t,c)})}),d}function Q0(t,e,n={}){const s=rc(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(fN(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:b}=a;return RU(t,e,d,m,g,b,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,m]=h==="beforeChildren"?[l,c]:[c,l];return d().then(()=>m())}else return Promise.all([l(),c(n.delay)])}function RU(t,e,n=0,s=0,a=0,l=1,c){const h=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),h.push(Q0(d,e,{...c,delay:n+(typeof s=="function"?0:s)+cN(t.variantChildren,d,s,a,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function NU(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Q0(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Q0(t,e,n);else{const a=typeof e=="function"?rc(t,e,n.custom):e;s=Promise.all(fN(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const IU={test:t=>t==="auto",parse:t=>t},mN=t=>e=>e.test(t),pN=[Cc,Ae,or,Oa,s6,n6,IU],FE=t=>pN.find(mN(t));function DU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||DR(t):!0}const kU=new Set(["brightness","contrast","saturate","opacity"]);function MU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Nb)||[];if(!s)return t;const a=n.replace(s,"");let l=kU.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const PU=/\b([a-z-]*)\(.*?\)/gu,J0={...no,getAnimatableNone:t=>{const e=t.match(PU);return e?e.map(MU).join(" "):t}},qE={...Cc,transform:Math.round},jU={rotate:Oa,rotateX:Oa,rotateY:Oa,rotateZ:Oa,scale:Af,scaleX:Af,scaleY:Af,scaleZ:Af,skew:Oa,skewX:Oa,skewY:Oa,distance:Ae,translateX:Ae,translateY:Ae,translateZ:Ae,x:Ae,y:Ae,z:Ae,perspective:Ae,transformPerspective:Ae,opacity:mh,originX:NE,originY:NE,originZ:Ae},Bb={borderWidth:Ae,borderTopWidth:Ae,borderRightWidth:Ae,borderBottomWidth:Ae,borderLeftWidth:Ae,borderRadius:Ae,radius:Ae,borderTopLeftRadius:Ae,borderTopRightRadius:Ae,borderBottomRightRadius:Ae,borderBottomLeftRadius:Ae,width:Ae,maxWidth:Ae,height:Ae,maxHeight:Ae,top:Ae,right:Ae,bottom:Ae,left:Ae,inset:Ae,insetBlock:Ae,insetBlockStart:Ae,insetBlockEnd:Ae,insetInline:Ae,insetInlineStart:Ae,insetInlineEnd:Ae,padding:Ae,paddingTop:Ae,paddingRight:Ae,paddingBottom:Ae,paddingLeft:Ae,paddingBlock:Ae,paddingBlockStart:Ae,paddingBlockEnd:Ae,paddingInline:Ae,paddingInlineStart:Ae,paddingInlineEnd:Ae,margin:Ae,marginTop:Ae,marginRight:Ae,marginBottom:Ae,marginLeft:Ae,marginBlock:Ae,marginBlockStart:Ae,marginBlockEnd:Ae,marginInline:Ae,marginInlineStart:Ae,marginInlineEnd:Ae,backgroundPositionX:Ae,backgroundPositionY:Ae,...jU,zIndex:qE,fillOpacity:mh,strokeOpacity:mh,numOctaves:qE},OU={...Bb,color:An,backgroundColor:An,outlineColor:An,fill:An,stroke:An,borderColor:An,borderTopColor:An,borderRightColor:An,borderBottomColor:An,borderLeftColor:An,filter:J0,WebkitFilter:J0},gN=t=>OU[t];function yN(t,e){let n=gN(t);return n!==J0&&(n=no),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const VU=new Set(["auto","none","0"]);function LU(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!VU.has(l)&&ph(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=yN(n,a)}class UU extends Ob{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let b=e[g];if(typeof b=="string"&&(b=b.trim(),Rb(b))){const x=lN(b,n.current);x!==void 0&&(e[g]=x),g===e.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!uN.has(s)||e.length!==2)return;const[a,l]=e,c=FE(a),h=FE(l),d=RE(a),m=RE(l);if(d!==m&&Ua[s]){this.needsMeasurement=!0;return}if(c!==h)if(VE(c)&&VE(h))for(let g=0;g<e.length;g++){const b=e[g];typeof b=="string"&&(e[g]=parseFloat(b))}else Ua[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||DU(e[a]))&&s.push(a);s.length&&LU(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ua[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Ua[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function zU(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const vN=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function bN(t){return IR(t)&&"offsetHeight"in t}const{schedule:Fb}=qR(queueMicrotask,!1),Mi={x:!1,y:!1};function xN(){return Mi.x||Mi.y}function BU(t){return t==="x"||t==="y"?Mi[t]?null:(Mi[t]=!0,()=>{Mi[t]=!1}):Mi.x||Mi.y?null:(Mi.x=Mi.y=!0,()=>{Mi.x=Mi.y=!1})}function wN(t,e){const n=zU(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function HE(t){return!(t.pointerType==="touch"||xN())}function FU(t,e,n={}){const[s,a,l]=wN(t,n),c=h=>{if(!HE(h))return;const{target:d}=h,m=e(d,h);if(typeof m!="function"||!d)return;const g=b=>{HE(b)&&(m(b),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,a)};return s.forEach(h=>{h.addEventListener("pointerenter",c,a)}),l}const _N=(t,e)=>e?t===e?!0:_N(t,e.parentElement):!1,qb=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,qU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TN(t){return qU.has(t.tagName)||t.isContentEditable===!0}const Yf=new WeakSet;function GE(t){return e=>{e.key==="Enter"&&t(e)}}function Hy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const HU=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=GE(()=>{if(Yf.has(n))return;Hy(n,"down");const a=GE(()=>{Hy(n,"up")}),l=()=>Hy(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function $E(t){return qb(t)&&!xN()}function GU(t,e,n={}){const[s,a,l]=wN(t,n),c=h=>{const d=h.currentTarget;if(!$E(h))return;Yf.add(d);const m=e(d,h),g=(A,D)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",x),Yf.has(d)&&Yf.delete(d),$E(A)&&typeof m=="function"&&m(A,{success:D})},b=A=>{g(A,d===window||d===document||n.useGlobalTarget||_N(d,A.target))},x=A=>{g(A,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",x,a)};return s.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),bN(h)&&(h.addEventListener("focus",m=>HU(m,a)),!TN(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function EN(t){return IR(t)&&"ownerSVGElement"in t}function $U(t){return EN(t)&&t.tagName==="svg"}const KU=[...pN,An,no],YU=t=>KU.find(mN(t)),KE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wl=()=>({x:KE(),y:KE()}),YE=()=>({min:0,max:0}),Mn=()=>({x:YE(),y:YE()}),Z0={current:null},SN={current:!1},XU=typeof window<"u";function WU(){if(SN.current=!0,!!XU)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Z0.current=t.matches;t.addEventListener("change",e),e()}else Z0.current=!1}const QU=new WeakMap;function fp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function gh(t){return typeof t=="string"||Array.isArray(t)}const Hb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gb=["initial",...Hb];function mp(t){return fp(t.animate)||Gb.some(e=>gh(t[e]))}function AN(t){return!!(mp(t)||t.variants)}function JU(t,e,n){for(const s in e){const a=e[s],l=n[s];if(ms(a))t.addValue(s,a);else if(ms(l))t.addValue(s,yc(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,yc(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const XE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Am={};function CN(t){Am=t}function ZU(){return Am}class e9{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ob,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=ws.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Bt.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=mp(n),this.isVariantNode=AN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in b){const A=b[x];d[x]!==void 0&&ms(A)&&A.set(d[x])}}mount(e){this.current=e,QU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(SN.current||WU(),this.shouldReduceMotion=Z0.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),to(this.notifyUpdate),to(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Nc.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Bt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Am){const n=Am[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Mn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<XE.length;s++){const a=XE[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=JU(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=yc(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(NR(s)||DR(s))?s=parseFloat(s):!YU(s)&&no.test(n)&&(s=yN(e,n)),this.setBaseTarget(e,ms(s)?s.get():s)),ms(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=Ub(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!ms(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Sb),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Fb.render(this.render)}}class oo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class RN extends e9{constructor(){super(...arguments),this.KeyframeResolver=UU}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ms(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function NN({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function t9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function n9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Gy(t){return t===void 0||t===1}function ev({scale:t,scaleX:e,scaleY:n}){return!Gy(t)||!Gy(e)||!Gy(n)}function zo(t){return ev(t)||IN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function IN(t){return WE(t.x)||WE(t.y)}function WE(t){return t&&t!=="0%"}function Cm(t,e,n){const s=t-n,a=e*s;return n+a}function QE(t,e,n,s,a){return a!==void 0&&(t=Cm(t,a,s)),Cm(t,n,s)+e}function tv(t,e=0,n=1,s,a){t.min=QE(t.min,e,n,s,a),t.max=QE(t.max,e,n,s,a)}function DN(t,{x:e,y:n}){tv(t.x,e.translate,e.scale,e.originPoint),tv(t.y,n.translate,n.scale,n.originPoint)}const JE=.999999999999,ZE=1.0000000000001;function s9(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let h=0;h<a;h++){l=n[h],c=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Jl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,DN(t,c)),s&&zo(l.latestValues)&&Jl(t,l.latestValues))}e.x<ZE&&e.x>JE&&(e.x=1),e.y<ZE&&e.y>JE&&(e.y=1)}function Ql(t,e){t.min=t.min+e,t.max=t.max+e}function eS(t,e,n,s,a=.5){const l=Wt(t.min,t.max,a);tv(t,e,n,l,s)}function Jl(t,e){eS(t.x,e.x,e.scaleX,e.scale,e.originX),eS(t.y,e.y,e.scaleY,e.scale,e.originY)}function kN(t,e){return NN(n9(t.getBoundingClientRect(),e))}function i9(t,e,n){const s=kN(t,n),{scroll:a}=e;return a&&(Ql(s.x,a.offset.x),Ql(s.y,a.offset.y)),s}const r9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},a9=Rc.length;function o9(t,e,n){let s="",a=!0;for(let l=0;l<a9;l++){const c=Rc[l],h=t[c];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(c.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const m=vN(h,Bb[c]);if(!d){a=!1;const g=r9[c]||c;s+=`${g}(${m}) `}n&&(e[c]=m)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function $b(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,h=!1;for(const d in e){const m=e[d];if(Nc.has(d)){c=!0;continue}else if(GR(d)){a[d]=m;continue}else{const g=vN(m,Bb[d]);d.startsWith("origin")?(h=!0,l[d]=g):s[d]=g}}if(e.transform||(c||n?s.transform=o9(e,t.transform,n):s.transform&&(s.transform="none")),h){const{originX:d="50%",originY:m="50%",originZ:g=0}=l;s.transformOrigin=`${d} ${m} ${g}`}}function MN(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function tS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Iu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ae.test(t))t=parseFloat(t);else return t;const n=tS(t,e.target.x),s=tS(t,e.target.y);return`${n}% ${s}%`}},l9={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=no.parse(t);if(a.length>5)return s;const l=no.createTransformer(t),c=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+c]/=h,a[1+c]/=d;const m=Wt(h,d,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),l(a)}},nv={borderRadius:{...Iu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Iu,borderTopRightRadius:Iu,borderBottomLeftRadius:Iu,borderBottomRightRadius:Iu,boxShadow:l9};function PN(t,{layout:e,layoutId:n}){return Nc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!nv[t]||t==="opacity")}function Kb(t,e,n){const s=t.style,a=e?.style,l={};if(!s)return l;for(const c in s)(ms(s[c])||a&&ms(a[c])||PN(c,t)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=s[c]);return l}function c9(t){return window.getComputedStyle(t)}class u9 extends RN{constructor(){super(...arguments),this.type="html",this.renderInstance=MN}readValueFromInstance(e,n){if(Nc.has(n))return this.projection?.isProjecting?q0(n):z6(e,n);{const s=c9(e),a=(GR(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return kN(e,n)}build(e,n,s){$b(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Kb(e,n,s)}}const h9={offset:"stroke-dashoffset",array:"stroke-dasharray"},d9={offset:"strokeDashoffset",array:"strokeDasharray"};function f9(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?h9:d9;t[l.offset]=Ae.transform(-s);const c=Ae.transform(e),h=Ae.transform(n);t[l.array]=`${c} ${h}`}const m9=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function jN(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},d,m,g){if($b(t,h,m),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:x}=t;b.transform&&(x.transform=b.transform,delete b.transform),(x.transform||b.transformOrigin)&&(x.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),x.transform&&(x.transformBox=g?.transformBox??"fill-box",delete b.transformBox);for(const A of m9)b[A]!==void 0&&(x[A]=b[A],delete b[A]);e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),s!==void 0&&(b.scale=s),a!==void 0&&f9(b,a,l,c,!1)}const ON=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),VN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function p9(t,e,n,s){MN(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(ON.has(a)?a:zb(a),e.attrs[a])}function LN(t,e,n){const s=Kb(t,e,n);for(const a in t)if(ms(t[a])||ms(e[a])){const l=Rc.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}class g9 extends RN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Mn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Nc.has(n)){const s=gN(n);return s&&s.default||0}return n=ON.has(n)?n:zb(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return LN(e,n,s)}build(e,n,s){jN(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){p9(e,n,s,a)}mount(e){this.isSVGTag=VN(e.tagName),super.mount(e)}}const y9=Gb.length;function UN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?UN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<y9;n++){const s=Gb[n],a=t.props[s];(gh(a)||a===!1)&&(e[s]=a)}return e}function zN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const v9=[...Hb].reverse(),b9=Hb.length;function x9(t){return e=>Promise.all(e.map(({animation:n,options:s})=>NU(t,n,s)))}function w9(t){let e=x9(t),n=nS(),s=!0;const a=d=>(m,g)=>{const b=rc(t,g,d==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:x,transitionEnd:A,...D}=b;m={...m,...D,...A}}return m};function l(d){e=d(t)}function c(d){const{props:m}=t,g=UN(t.parent)||{},b=[],x=new Set;let A={},D=1/0;for(let R=0;R<b9;R++){const O=v9[R],H=n[O],F=m[O]!==void 0?m[O]:g[O],re=gh(F),te=O===d?H.isActive:null;te===!1&&(D=R);let ce=F===g[O]&&F!==m[O]&&re;if(ce&&s&&t.manuallyAnimateOnMount&&(ce=!1),H.protectedKeys={...A},!H.isActive&&te===null||!F&&!H.prevProp||fp(F)||typeof F=="boolean")continue;const k=_9(H.prevProp,F);let C=k||O===d&&H.isActive&&!ce&&re||R>D&&re,P=!1;const z=Array.isArray(F)?F:[F];let B=z.reduce(a(O),{});te===!1&&(B={});const{prevResolvedValues:j={}}=H,V={...j,...B},be=Y=>{C=!0,x.has(Y)&&(P=!0,x.delete(Y)),H.needsAnimating[Y]=!0;const $=t.getValue(Y);$&&($.liveStyle=!1)};for(const Y in V){const $=B[Y],W=j[Y];if(A.hasOwnProperty(Y))continue;let L=!1;X0($)&&X0(W)?L=!zN($,W):L=$!==W,L?$!=null?be(Y):x.add(Y):$!==void 0&&x.has(Y)?be(Y):H.protectedKeys[Y]=!0}H.prevProp=F,H.prevResolvedValues=B,H.isActive&&(A={...A,...B}),s&&t.blockInitialAnimation&&(C=!1);const we=ce&&k;C&&(!we||P)&&b.push(...z.map(Y=>{const $={type:O};if(typeof Y=="string"&&s&&!we&&t.manuallyAnimateOnMount&&t.parent){const{parent:W}=t,L=rc(W,Y);if(W.enteringChildren&&L){const{delayChildren:T}=L.transition||{};$.delay=cN(W.enteringChildren,t,T)}}return{animation:Y,options:$}}))}if(x.size){const R={};if(typeof m.initial!="boolean"){const O=rc(t,Array.isArray(m.initial)?m.initial[0]:m.initial);O&&O.transition&&(R.transition=O.transition)}x.forEach(O=>{const H=t.getBaseTarget(O),F=t.getValue(O);F&&(F.liveStyle=!0),R[O]=H??null}),b.push({animation:R})}let I=!!b.length;return s&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(I=!1),s=!1,I?e(b):Promise.resolve()}function h(d,m){if(n[d].isActive===m)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(d,m)),n[d].isActive=m;const g=c(d);for(const b in n)n[b].protectedKeys={};return g}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=nS()}}}function _9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!zN(e,t):!1}function jo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nS(){return{animate:jo(!0),whileInView:jo(),whileHover:jo(),whileTap:jo(),whileDrag:jo(),whileFocus:jo(),exit:jo()}}const BN=1e-4,T9=1-BN,E9=1+BN,FN=.01,S9=0-FN,A9=0+FN;function _s(t){return t.max-t.min}function C9(t,e,n){return Math.abs(t-e)<=n}function sS(t,e,n,s=.5){t.origin=s,t.originPoint=Wt(e.min,e.max,t.origin),t.scale=_s(n)/_s(e),t.translate=Wt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=T9&&t.scale<=E9||isNaN(t.scale))&&(t.scale=1),(t.translate>=S9&&t.translate<=A9||isNaN(t.translate))&&(t.translate=0)}function Wu(t,e,n,s){sS(t.x,e.x,n.x,s?s.originX:void 0),sS(t.y,e.y,n.y,s?s.originY:void 0)}function iS(t,e,n){t.min=n.min+e.min,t.max=t.min+_s(e)}function R9(t,e,n){iS(t.x,e.x,n.x),iS(t.y,e.y,n.y)}function rS(t,e,n){t.min=e.min-n.min,t.max=t.min+_s(e)}function Rm(t,e,n){rS(t.x,e.x,n.x),rS(t.y,e.y,n.y)}function aS(t,e,n,s,a){return t-=e,t=Cm(t,1/n,s),a!==void 0&&(t=Cm(t,1/a,s)),t}function N9(t,e=0,n=1,s=.5,a,l=t,c=t){if(or.test(e)&&(e=parseFloat(e),e=Wt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Wt(l.min,l.max,s);t===l&&(h-=e),t.min=aS(t.min,e,n,h,a),t.max=aS(t.max,e,n,h,a)}function oS(t,e,[n,s,a],l,c){N9(t,e[n],e[s],e[a],e.scale,l,c)}const I9=["x","scaleX","originX"],D9=["y","scaleY","originY"];function lS(t,e,n,s){oS(t.x,e,I9,n?n.x:void 0,s?s.x:void 0),oS(t.y,e,D9,n?n.y:void 0,s?s.y:void 0)}function cS(t,e){t.min=e.min,t.max=e.max}function ki(t,e){cS(t.x,e.x),cS(t.y,e.y)}function uS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function hS(t){return t.translate===0&&t.scale===1}function qN(t){return hS(t.x)&&hS(t.y)}function dS(t,e){return t.min===e.min&&t.max===e.max}function k9(t,e){return dS(t.x,e.x)&&dS(t.y,e.y)}function fS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function HN(t,e){return fS(t.x,e.x)&&fS(t.y,e.y)}function mS(t){return _s(t.x)/_s(t.y)}function pS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function mi(t){return[t("x"),t("y")]}function M9(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:b,rotateY:x,skewX:A,skewY:D}=n;m&&(s=`perspective(${m}px) ${s}`),g&&(s+=`rotate(${g}deg) `),b&&(s+=`rotateX(${b}deg) `),x&&(s+=`rotateY(${x}deg) `),A&&(s+=`skewX(${A}deg) `),D&&(s+=`skewY(${D}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(s+=`scale(${h}, ${d})`),s||"none"}const GN=["TopLeft","TopRight","BottomLeft","BottomRight"],P9=GN.length,gS=t=>typeof t=="string"?parseFloat(t):t,yS=t=>typeof t=="number"||Ae.test(t);function j9(t,e,n,s,a,l){a?(t.opacity=Wt(0,n.opacity??1,O9(s)),t.opacityExit=Wt(e.opacity??1,0,V9(s))):l&&(t.opacity=Wt(e.opacity??1,n.opacity??1,s));for(let c=0;c<P9;c++){const h=`border${GN[c]}Radius`;let d=vS(e,h),m=vS(n,h);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||yS(d)===yS(m)?(t[h]=Math.max(Wt(gS(d),gS(m),s),0),(or.test(m)||or.test(d))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=Wt(e.rotate||0,n.rotate||0,s))}function vS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const O9=$N(0,.5,UR),V9=$N(.5,.95,wi);function $N(t,e,n){return s=>s<t?0:s>e?1:n(fh(t,e,s))}function L9(t,e){const n=ws.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(to(s),t(l-e))};return Bt.setup(s,!0),()=>to(s)}function yh(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Xf(t){return ms(t)?t.get():t}function U9(t,e,n){const s=ms(t)?t:yc(t);return s.start(Lb("",s,e,n)),s.animation}const z9=(t,e)=>t.depth-e.depth;class B9{constructor(){this.children=[],this.isDirty=!1}add(e){wb(this.children,e),this.isDirty=!0}remove(e){_b(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(z9),this.isDirty=!1,this.children.forEach(e)}}class F9{constructor(){this.members=[]}add(e){wb(this.members,e),e.scheduleRender()}remove(e){if(_b(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Wf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},$y=["","X","Y","Z"],q9=1e3;let H9=0;function Ky(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function KN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=dN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Bt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&KN(s)}function YN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},h=e?.()){this.id=H9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(K9),this.nodes.forEach(Q9),this.nodes.forEach(J9),this.nodes.forEach(Y9)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new B9)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Sb),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const d=this.eventHandlers.get(c);d&&d.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=EN(c)&&!$U(c),this.instance=c;const{layoutId:h,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let g,b=0;const x=()=>this.root.updateBlockedByResize=!1;Bt.read(()=>{b=window.innerWidth}),t(c,()=>{const A=window.innerWidth;A!==b&&(b=A,this.root.updateBlockedByResize=!0,g&&g(),g=L9(x,250),Wf.hasAnimatedSinceResize&&(Wf.hasAnimatedSinceResize=!1,this.nodes.forEach(wS)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:b,hasRelativeLayoutChanged:x,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||m.getDefaultTransition()||sz,{onLayoutAnimationStart:I,onLayoutAnimationComplete:R}=m.getProps(),O=!this.targetLayout||!HN(this.targetLayout,A),H=!b&&x;if(this.options.layoutRoot||this.resumeFrom||H||b&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...Vb(D,"layout"),onPlay:I,onComplete:R};(m.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(g,H)}else b||wS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),to(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Z9),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&KN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const b=this.path[g];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(bS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(xS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(W9),this.nodes.forEach(G9),this.nodes.forEach($9)):this.nodes.forEach(xS),this.clearAllSnapshots();const h=ws.now();ns.delta=dr(0,1e3/60,h-ns.timestamp),ns.timestamp=h,ns.isProcessing=!0,Ly.update.process(ns),Ly.preRender.process(ns),Ly.render.process(ns),ns.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Fb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(X9),this.sharedNodes.forEach(ez)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_s(this.snapshot.measuredBox.x)&&!_s(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Mn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!qN(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&this.instance&&(h||zo(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return c&&(d=this.removeTransform(d)),iz(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Mn();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(rz))){const{scroll:m}=this.root;m&&(Ql(h.x,m.offset.x),Ql(h.y,m.offset.y))}return h}removeElementScroll(c){const h=Mn();if(ki(h,c),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:g,options:b}=m;m!==this.root&&g&&b.layoutScroll&&(g.wasRoot&&ki(h,c),Ql(h.x,g.offset.x),Ql(h.y,g.offset.y))}return h}applyTransform(c,h=!1){const d=Mn();ki(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Jl(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),zo(g.latestValues)&&Jl(d,g.latestValues)}return zo(this.latestValues)&&Jl(d,this.latestValues),d}removeTransform(c){const h=Mn();ki(h,c);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!zo(m.latestValues))continue;ev(m.latestValues)&&m.updateSnapshot();const g=Mn(),b=m.measurePageBox();ki(g,b),lS(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return zo(this.latestValues)&&lS(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ns.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:b}=this.options;if(!this.layout||!(g||b))return;this.resolvedRelativeTargetAt=ns.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Mn(),this.targetWithTransforms=Mn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),R9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ki(this.target,this.layout.layoutBox),DN(this.target,this.targetDelta)):ki(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ev(this.parent.latestValues)||IN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,d){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mn(),this.relativeTargetOrigin=Mn(),Rm(this.relativeTargetOrigin,h,d),ki(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ns.timestamp&&(d=!1),d)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;ki(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,x=this.treeScale.y;s9(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Mn());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(uS(this.prevProjectionDelta.x,this.projectionDelta.x),uS(this.prevProjectionDelta.y,this.projectionDelta.y)),Wu(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==x||!pS(this.projectionDelta.x,this.prevProjectionDelta.x)||!pS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wl(),this.projectionDelta=Wl(),this.projectionDeltaWithTransform=Wl()}setAnimationOrigin(c,h=!1){const d=this.snapshot,m=d?d.latestValues:{},g={...this.latestValues},b=Wl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const x=Mn(),A=d?d.source:void 0,D=this.layout?this.layout.source:void 0,I=A!==D,R=this.getStack(),O=!R||R.members.length<=1,H=!!(I&&!O&&this.options.crossfade===!0&&!this.path.some(nz));this.animationProgress=0;let F;this.mixTargetDelta=re=>{const te=re/1e3;_S(b.x,c.x,te),_S(b.y,c.y,te),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rm(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tz(this.relativeTarget,this.relativeTargetOrigin,x,te),F&&k9(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Mn()),ki(F,this.relativeTarget)),I&&(this.animationValues=g,j9(g,m,this.latestValues,te,H,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=te},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(to(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Bt.update(()=>{Wf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=yc(0)),this.currentAnimation=U9(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(q9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:d,layout:m,latestValues:g}=c;if(!(!h||!d||!m)){if(this!==c&&this.layout&&m&&XN(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||Mn();const b=_s(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+b;const x=_s(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+x}ki(h,d),Jl(h,g),Wu(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new F9),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const m={};d.z&&Ky("z",c,m,this.animationValues);for(let g=0;g<$y.length;g++)Ky(`rotate${$y[g]}`,c,m,this.animationValues),Ky(`skew${$y[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Xf(h?.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Xf(h?.pointerEvents)||""),this.hasProjected&&!zo(this.latestValues)&&(c.transform=d?d({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let b=M9(this.projectionDeltaWithTransform,this.treeScale,g);d&&(b=d(g,b)),c.transform=b;const{x,y:A}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${A.origin*100}% 0`,m.animationValues?c.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const D in nv){if(g[D]===void 0)continue;const{correct:I,applyTo:R,isCSSVariable:O}=nv[D],H=b==="none"?g[D]:I(g[D],m);if(R){const F=R.length;for(let re=0;re<F;re++)c[R[re]]=H}else O?this.options.visualElement.renderState.vars[D]=H:c[D]=H}this.options.layoutId&&(c.pointerEvents=m===this?Xf(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(bS),this.root.sharedNodes.clear()}}}function G9(t){t.updateLayout()}function $9(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?mi(g=>{const b=l?e.measuredBox[g]:e.layoutBox[g],x=_s(b);b.min=n[g].min,b.max=b.min+x}):XN(a,e.layoutBox,n)&&mi(g=>{const b=l?e.measuredBox[g]:e.layoutBox[g],x=_s(n[g]);b.max=b.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+x)});const c=Wl();Wu(c,n,e.layoutBox);const h=Wl();l?Wu(h,t.applyTransform(s,!0),e.measuredBox):Wu(h,n,e.layoutBox);const d=!qN(c);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:b,layout:x}=g;if(b&&x){const A=Mn();Rm(A,e.layoutBox,b.layoutBox);const D=Mn();Rm(D,n,x.layoutBox),HN(A,D)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=A,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function K9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Y9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function X9(t){t.clearSnapshot()}function bS(t){t.clearMeasurements()}function xS(t){t.isLayoutDirty=!1}function W9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function wS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Q9(t){t.resolveTargetDelta()}function J9(t){t.calcProjection()}function Z9(t){t.resetSkewAndRotation()}function ez(t){t.removeLeadSnapshot()}function _S(t,e,n){t.translate=Wt(e.translate,0,n),t.scale=Wt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function TS(t,e,n,s){t.min=Wt(e.min,n.min,s),t.max=Wt(e.max,n.max,s)}function tz(t,e,n,s){TS(t.x,e.x,n.x,s),TS(t.y,e.y,n.y,s)}function nz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const sz={duration:.45,ease:[.4,0,.1,1]},ES=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),SS=ES("applewebkit/")&&!ES("chrome/")?Math.round:wi;function AS(t){t.min=SS(t.min),t.max=SS(t.max)}function iz(t){AS(t.x),AS(t.y)}function XN(t,e,n){return t==="position"||t==="preserve-aspect"&&!C9(mS(e),mS(n),.2)}function rz(t){return t!==t.root&&t.scroll?.wasRoot}const az=YN({attachResizeListener:(t,e)=>yh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yy={current:void 0},WN=YN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Yy.current){const t=new az({});t.mount(window),t.setOptions({layoutScroll:!0}),Yy.current=t}return Yy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Yb=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function CS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function oz(...t){return e=>{let n=!1;const s=t.map(a=>{const l=CS(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():CS(t[a],null)}}}}function lz(...t){return S.useCallback(oz(...t),t)}class cz extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=bN(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function uz({children:t,isPresent:e,anchorX:n,root:s}){const a=S.useId(),l=S.useRef(null),c=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=S.useContext(Yb),d=t.props?.ref??t?.ref,m=lz(l,d);return S.useInsertionEffect(()=>{const{width:g,height:b,top:x,left:A,right:D}=c.current;if(e||!l.current||!g||!b)return;const I=n==="left"?`left: ${A}`:`right: ${D}`;l.current.dataset.motionPopId=a;const R=document.createElement("style");h&&(R.nonce=h);const O=s??document.head;return O.appendChild(R),R.sheet&&R.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${b}px !important;
            ${I}px !important;
            top: ${x}px !important;
          }
        `),()=>{O.contains(R)&&O.removeChild(R)}},[e]),y.jsx(cz,{isPresent:e,childRef:l,sizeRef:c,children:S.cloneElement(t,{ref:m})})}const hz=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:h,root:d})=>{const m=xb(dz),g=S.useId();let b=!0,x=S.useMemo(()=>(b=!1,{id:g,initial:e,isPresent:n,custom:a,onExitComplete:A=>{m.set(A,!0);for(const D of m.values())if(!D)return;s&&s()},register:A=>(m.set(A,!1),()=>m.delete(A))}),[n,m,s]);return l&&b&&(x={...x}),S.useMemo(()=>{m.forEach((A,D)=>m.set(D,!1))},[n]),S.useEffect(()=>{!n&&!m.size&&s&&s()},[n]),c==="popLayout"&&(t=y.jsx(uz,{isPresent:n,anchorX:h,root:d,children:t})),y.jsx(dp.Provider,{value:x,children:t})};function dz(){return new Map}function QN(t=!0){const e=S.useContext(dp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=S.useId();S.useEffect(()=>{if(t)return a(l)},[t]);const c=S.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const Cf=t=>t.key||"";function RS(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const Qs=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",root:d})=>{const[m,g]=QN(c),b=S.useMemo(()=>RS(t),[t]),x=c&&!m?[]:b.map(Cf),A=S.useRef(!0),D=S.useRef(b),I=xb(()=>new Map),R=S.useRef(new Set),[O,H]=S.useState(b),[F,re]=S.useState(b);RR(()=>{A.current=!1,D.current=b;for(let k=0;k<F.length;k++){const C=Cf(F[k]);x.includes(C)?(I.delete(C),R.current.delete(C)):I.get(C)!==!0&&I.set(C,!1)}},[F,x.length,x.join("-")]);const te=[];if(b!==O){let k=[...b];for(let C=0;C<F.length;C++){const P=F[C],z=Cf(P);x.includes(z)||(k.splice(C,0,P),te.push(P))}return l==="wait"&&te.length&&(k=te),re(RS(k)),H(b),null}const{forceRender:ce}=S.useContext(bb);return y.jsx(y.Fragment,{children:F.map(k=>{const C=Cf(k),P=c&&!m?!1:b===F||x.includes(C),z=()=>{if(R.current.has(C))return;if(R.current.add(C),I.has(C))I.set(C,!0);else return;let B=!0;I.forEach(j=>{j||(B=!1)}),B&&(ce?.(),re(D.current),c&&g?.(),s&&s())};return y.jsx(hz,{isPresent:P,initial:!A.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:P?void 0:z,anchorX:h,children:k},C)})})},JN=S.createContext({strict:!1}),NS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let IS=!1;function fz(){if(IS)return;const t={};for(const e in NS)t[e]={isEnabled:n=>NS[e].some(s=>!!n[s])};CN(t),IS=!0}function ZN(){return fz(),ZU()}function mz(t){const e=ZN();for(const n in t)e[n]={...e[n],...t[n]};CN(e)}const pz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Nm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||pz.has(t)}let eI=t=>!Nm(t);function gz(t){typeof t=="function"&&(eI=e=>e.startsWith("on")?!Nm(e):t(e))}try{gz(require("@emotion/is-prop-valid").default)}catch{}function yz(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(eI(a)||n===!0&&Nm(a)||!e&&!Nm(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const pp=S.createContext({});function vz(t,e){if(mp(t)){const{initial:n,animate:s}=t;return{initial:n===!1||gh(n)?n:void 0,animate:gh(s)?s:void 0}}return t.inherit!==!1?e:{}}function bz(t){const{initial:e,animate:n}=vz(t,S.useContext(pp));return S.useMemo(()=>({initial:e,animate:n}),[DS(e),DS(n)])}function DS(t){return Array.isArray(t)?t.join(" "):t}const Xb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function tI(t,e,n){for(const s in e)!ms(e[s])&&!PN(s,n)&&(t[s]=e[s])}function xz({transformTemplate:t},e){return S.useMemo(()=>{const n=Xb();return $b(n,e,t),Object.assign({},n.vars,n.style)},[e])}function wz(t,e){const n=t.style||{},s={};return tI(s,n,t),Object.assign(s,xz(t,e)),s}function _z(t,e){const n={},s=wz(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const nI=()=>({...Xb(),attrs:{}});function Tz(t,e,n,s){const a=S.useMemo(()=>{const l=nI();return jN(l,e,VN(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};tI(l,t.style,t),a.style={...l,...a.style}}return a}const Ez=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Wb(t){return typeof t!="string"||t.includes("-")?!1:!!(Ez.indexOf(t)>-1||/[A-Z]/u.test(t))}function Sz(t,e,n,{latestValues:s},a,l=!1,c){const d=(c??Wb(t)?Tz:_z)(e,s,a,t),m=yz(e,typeof t=="string",l),g=t!==S.Fragment?{...m,...d,ref:n}:{},{children:b}=e,x=S.useMemo(()=>ms(b)?b.get():b,[b]);return S.createElement(t,{...g,children:x})}function Az({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:Cz(n,s,a,t),renderState:e()}}function Cz(t,e,n,s){const a={},l=s(t,{});for(const x in l)a[x]=Xf(l[x]);let{initial:c,animate:h}=t;const d=mp(t),m=AN(t);e&&m&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const b=g?h:c;if(b&&typeof b!="boolean"&&!fp(b)){const x=Array.isArray(b)?b:[b];for(let A=0;A<x.length;A++){const D=Ub(t,x[A]);if(D){const{transitionEnd:I,transition:R,...O}=D;for(const H in O){let F=O[H];if(Array.isArray(F)){const re=g?F.length-1:0;F=F[re]}F!==null&&(a[H]=F)}for(const H in I)a[H]=I[H]}}}return a}const sI=t=>(e,n)=>{const s=S.useContext(pp),a=S.useContext(dp),l=()=>Az(t,e,s,a);return n?l():xb(l)},Rz=sI({scrapeMotionValuesFromProps:Kb,createRenderState:Xb}),Nz=sI({scrapeMotionValuesFromProps:LN,createRenderState:nI}),Iz=Symbol.for("motionComponentSymbol");function Dz(t,e,n){const s=S.useRef(n);S.useInsertionEffect(()=>{s.current=n});const a=S.useRef(null);return S.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const c=s.current;if(typeof c=="function")if(l){const h=c(l);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[e])}const iI=S.createContext({});function zu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function kz(t,e,n,s,a,l){const{visualElement:c}=S.useContext(pp),h=S.useContext(JN),d=S.useContext(dp),m=S.useContext(Yb).reducedMotion,g=S.useRef(null);s=s||h.renderer,!g.current&&s&&(g.current=s(t,{visualState:e,parent:c,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m,isSVG:l}));const b=g.current,x=S.useContext(iI);b&&!b.projection&&a&&(b.type==="html"||b.type==="svg")&&Mz(g.current,n,a,x);const A=S.useRef(!1);S.useInsertionEffect(()=>{b&&A.current&&b.update(n,d)});const D=n[hN],I=S.useRef(!!D&&!window.MotionHandoffIsComplete?.(D)&&window.MotionHasOptimisedAnimation?.(D));return RR(()=>{b&&(A.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),I.current&&b.animationState&&b.animationState.animateChanges())}),S.useEffect(()=>{b&&(!I.current&&b.animationState&&b.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(D)}),I.current=!1),b.enteringChildren=void 0)}),b}function Mz(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:rI(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&zu(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:g,layoutScroll:d,layoutRoot:m})}function rI(t){if(t)return t.options.allowProjection!==!1?t.projection:rI(t.parent)}function Xy(t,{forwardMotionProps:e=!1,type:n}={},s,a){s&&mz(s);const l=n?n==="svg":Wb(t),c=l?Nz:Rz;function h(m,g){let b;const x={...S.useContext(Yb),...m,layoutId:Pz(m)},{isStatic:A}=x,D=bz(m),I=c(m,A);if(!A&&CR){jz();const R=Oz(x);b=R.MeasureLayout,D.visualElement=kz(t,I,x,a,R.ProjectionNode,l)}return y.jsxs(pp.Provider,{value:D,children:[b&&D.visualElement?y.jsx(b,{visualElement:D.visualElement,...x}):null,Sz(t,m,Dz(I,D.visualElement,g),I,A,e,l)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const d=S.forwardRef(h);return d[Iz]=t,d}function Pz({layoutId:t}){const e=S.useContext(bb).id;return e&&t!==void 0?e+"-"+t:t}function jz(t,e){S.useContext(JN).strict}function Oz(t){const e=ZN(),{drag:n,layout:s}=e;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function Vz(t,e){if(typeof Proxy>"u")return Xy;const n=new Map,s=(l,c)=>Xy(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Xy(c,void 0,t,e)),n.get(c))})}const Lz=(t,e)=>e.isSVG??Wb(t)?new g9(e):new u9(e,{allowProjection:t!==S.Fragment});class Uz extends oo{constructor(e){super(e),e.animationState||(e.animationState=w9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();fp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let zz=0;class Bz extends oo{constructor(){super(...arguments),this.id=zz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Fz={animation:{Feature:Uz},exit:{Feature:Bz}};function Kh(t){return{point:{x:t.pageX,y:t.pageY}}}const qz=t=>e=>qb(e)&&t(e,Kh(e));function Qu(t,e,n,s){return yh(t,e,qz(n),s)}const aI=({current:t})=>t?t.ownerDocument.defaultView:null,kS=(t,e)=>Math.abs(t-e);function Hz(t,e){const n=kS(t.x,e.x),s=kS(t.y,e.y);return Math.sqrt(n**2+s**2)}const MS=new Set(["auto","scroll"]);class oI{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=A=>{this.handleScroll(A.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Qy(this.lastMoveEventInfo,this.history),D=this.startEvent!==null,I=Hz(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!D&&!I)return;const{point:R}=A,{timestamp:O}=ns;this.history.push({...R,timestamp:O});const{onStart:H,onMove:F}=this.handlers;D||(H&&H(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,A)},this.handlePointerMove=(A,D)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=Wy(D,this.transformPagePoint),Bt.update(this.updatePoint,!0)},this.handlePointerUp=(A,D)=>{this.end();const{onEnd:I,onSessionEnd:R,resumeAnimation:O}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&O&&O(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const H=Qy(A.type==="pointercancel"?this.lastMoveEventInfo:Wy(D,this.transformPagePoint),this.history);this.startEvent&&I&&I(A,H),R&&R(A,H)},!qb(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const d=Kh(e),m=Wy(d,this.transformPagePoint),{point:g}=m,{timestamp:b}=ns;this.history=[{...g,timestamp:b}];const{onSessionStart:x}=n;x&&x(e,Qy(m,this.history)),this.removeListeners=Hh(Qu(this.contextWindow,"pointermove",this.handlePointerMove),Qu(this.contextWindow,"pointerup",this.handlePointerUp),Qu(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(MS.has(s.overflowX)||MS.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),Bt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),to(this.updatePoint)}}function Wy(t,e){return e?{point:e(t.point)}:t}function PS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Qy({point:t},e){return{point:t,delta:PS(t,lI(e)),offset:PS(t,Gz(e)),velocity:$z(e,.1)}}function Gz(t){return t[0]}function lI(t){return t[t.length-1]}function $z(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=lI(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Hr(e)));)n--;if(!s)return{x:0,y:0};const l=bi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Kz(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Wt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Wt(n,t,s.max):Math.min(t,n)),t}function jS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Yz(t,{top:e,left:n,bottom:s,right:a}){return{x:jS(t.x,n,a),y:jS(t.y,e,s)}}function OS(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function Xz(t,e){return{x:OS(t.x,e.x),y:OS(t.y,e.y)}}function Wz(t,e){let n=.5;const s=_s(t),a=_s(e);return a>s?n=fh(e.min,e.max-s,t.min):s>a&&(n=fh(t.min,t.max-a,e.min)),dr(0,1,n)}function Qz(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const sv=.35;function Jz(t=sv){return t===!1?t=0:t===!0&&(t=sv),{x:VS(t,"left","right"),y:VS(t,"top","bottom")}}function VS(t,e,n){return{min:LS(t,e),max:LS(t,n)}}function LS(t,e){return typeof t=="number"?t:t[e]||0}const Zz=new WeakMap;class eB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Mn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{n?(this.stopAnimation(),this.snapToCursor(Kh(b).point)):this.pauseAnimation()},c=(b,x)=>{this.stopAnimation();const{drag:A,dragPropagation:D,onDragStart:I}=this.getProps();if(A&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=BU(A),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),mi(O=>{let H=this.getAxisMotionValue(O).get()||0;if(or.test(H)){const{projection:F}=this.visualElement;if(F&&F.layout){const re=F.layout.layoutBox[O];re&&(H=_s(re)*(parseFloat(H)/100))}}this.originPoint[O]=H}),I&&Bt.postRender(()=>I(b,x)),W0(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},h=(b,x)=>{this.latestPointerEvent=b,this.latestPanInfo=x;const{dragPropagation:A,dragDirectionLock:D,onDirectionLock:I,onDrag:R}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:O}=x;if(D&&this.currentDirection===null){this.currentDirection=tB(O),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",x.point,O),this.updateAxis("y",x.point,O),this.visualElement.render(),R&&R(b,x)},d=(b,x)=>{this.latestPointerEvent=b,this.latestPanInfo=x,this.stop(b,x),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>mi(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new oI(e,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:s,contextWindow:aI(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&Bt.postRender(()=>h(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Rf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=Kz(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&zu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=Yz(s.layoutBox,e):this.constraints=!1,this.elastic=Jz(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&mi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Qz(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!zu(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=i9(s,a.root,this.visualElement.getTransformPagePoint());let c=Xz(a.layout.layoutBox,l);if(n){const h=n(t9(c));this.hasMutatedConstraints=!!h,h&&(c=NN(h))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},m=mi(g=>{if(!Rf(g,n,this.currentDirection))return;let b=d&&d[g]||{};c&&(b={min:0,max:0});const x=a?200:1e6,A=a?40:1e7,D={type:"inertia",velocity:s?e[g]:0,bounceStiffness:x,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(g,D)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return W0(this.visualElement,e),s.start(Lb(e,s,0,n,this.visualElement,!1))}stopAnimation(){mi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){mi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){mi(n=>{const{drag:s}=this.getProps();if(!Rf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n],d=l.get()||0;l.set(e[n]-Wt(c,h,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!zu(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};mi(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const d=h.get();a[c]=Wz({min:d,max:d},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),mi(c=>{if(!Rf(c,e,null))return;const h=this.getAxisMotionValue(c),{min:d,max:m}=this.constraints[c];h.set(Wt(d,m,a[c]))})}addListeners(){if(!this.visualElement.current)return;Zz.set(this.visualElement,this);const e=this.visualElement.current,n=Qu(e,"pointerdown",d=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&!TN(d.target)&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();zu(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Bt.read(s);const c=yh(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(mi(g=>{const b=this.getAxisMotionValue(g);b&&(this.originPoint[g]+=d[g].translate,b.set(b.get()+d[g].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=sv,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function Rf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function tB(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class nB extends oo{constructor(e){super(e),this.removeGroupControls=wi,this.removeListeners=wi,this.controls=new eB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||wi}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const US=t=>(e,n)=>{t&&Bt.postRender(()=>t(e,n))};class sB extends oo{constructor(){super(...arguments),this.removePointerDownListener=wi}onPointerDown(e){this.session=new oI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:aI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:US(e),onStart:US(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&Bt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Qu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Jy=!1;class iB extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Jy&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Wf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Jy=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Bt.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Fb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Jy=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function cI(t){const[e,n]=QN(),s=S.useContext(bb);return y.jsx(iB,{...t,layoutGroup:s,switchLayoutGroup:S.useContext(iI),isPresent:e,safeToRemove:n})}const rB={pan:{Feature:sB},drag:{Feature:nB,ProjectionNode:WN,MeasureLayout:cI}};function zS(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&Bt.postRender(()=>l(e,Kh(e)))}class aB extends oo{mount(){const{current:e}=this.node;e&&(this.unmount=FU(e,(n,s)=>(zS(this.node,s,"Start"),a=>zS(this.node,a,"End"))))}unmount(){}}class oB extends oo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hh(yh(this.node.current,"focus",()=>this.onFocus()),yh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function BS(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&Bt.postRender(()=>l(e,Kh(e)))}class lB extends oo{mount(){const{current:e}=this.node;e&&(this.unmount=GU(e,(n,s)=>(BS(this.node,s,"Start"),(a,{success:l})=>BS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const iv=new WeakMap,Zy=new WeakMap,cB=t=>{const e=iv.get(t.target);e&&e(t)},uB=t=>{t.forEach(cB)};function hB({root:t,...e}){const n=t||document;Zy.has(n)||Zy.set(n,{});const s=Zy.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(uB,{root:t,...e})),s[a]}function dB(t,e,n){const s=hB(e);return iv.set(t,n),s.observe(t),()=>{iv.delete(t),s.unobserve(t)}}const fB={some:0,all:1};class mB extends oo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:fB[a]},h=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:b}=this.node.getProps(),x=m?g:b;x&&x(d)};return dB(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(pB(e,n))&&this.startObserver()}unmount(){}}function pB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const gB={inView:{Feature:mB},tap:{Feature:lB},focus:{Feature:oB},hover:{Feature:aB}},yB={layout:{ProjectionNode:WN,MeasureLayout:cI}},vB={...Fz,...gB,...rB,...yB},$e=Vz(vB,Lz);const bB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xB=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),FS=t=>{const e=xB(t);return e.charAt(0).toUpperCase()+e.slice(1)},uI=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),wB=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var _B={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const TB=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...h},d)=>S.createElement("svg",{ref:d,..._B,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:uI("lucide",a),...!l&&!wB(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,g])=>S.createElement(m,g)),...Array.isArray(l)?l:[l]]));const Je=(t,e)=>{const n=S.forwardRef(({className:s,...a},l)=>S.createElement(TB,{ref:l,iconNode:e,className:uI(`lucide-${bB(FS(t))}`,`lucide-${t}`,s),...a}));return n.displayName=FS(t),n};const EB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],SB=Je("arrow-left",EB);const AB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],CB=Je("arrow-right",AB);const RB=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],vh=Je("award",RB);const NB=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Im=Je("book-open",NB);const IB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Dm=Je("calendar",IB);const DB=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],bh=Je("camera",DB);const kB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vi=Je("check",kB);const MB=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],PB=Je("chevron-down",MB);const jB=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],hI=Je("chevron-left",jB);const OB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],dI=Je("chevron-right",OB);const VB=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],LB=Je("chevron-up",VB);const UB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],qS=Je("circle-alert",UB);const zB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],BB=Je("circle-check-big",zB);const FB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fI=Je("circle-question-mark",FB);const qB=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mI=Je("clock",qB);const HB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],GB=Je("grid-3x3",HB);const $B=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Qb=Je("layout-grid",$B);const KB=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],YB=Je("lock",KB);const XB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],pI=Je("log-out",XB);const WB=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],rv=Je("mail",WB);const QB=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],JB=Je("menu",QB);const ZB=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],km=Je("palette",ZB);const e8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ju=Je("pen",e8);const t8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],n8=Je("pencil",t8);const s8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xh=Je("plus",s8);const i8=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],r8=Je("printer",i8);const a8=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],HS=Je("rocket",a8);const o8=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],l8=Je("settings",o8);const c8=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Qf=Je("share-2",c8);const u8=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],gI=Je("sparkles",u8);const h8=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],d8=Je("square-check-big",h8);const f8=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Zu=Je("trash-2",f8);const m8=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],GS=Je("trophy",m8);const p8=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],g8=Je("type",p8);const y8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],$S=Je("user-plus",y8);const v8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],wh=Je("user",v8);const b8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],x8=Je("users",b8);const w8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lr=Je("x",w8);const _8=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],eh=Je("zap",_8),yI=S.createContext(null),Jb=()=>{const t=S.useContext(yI);if(!t)throw new Error("useDialog must be used within a DialogProvider");return t},T8=({children:t})=>{const[e,n]=S.useState({isOpen:!1,type:"alert",options:{message:""},resolve:null}),[s,a]=S.useState(""),[l,c]=S.useState("editor"),h=S.useCallback((D,I)=>new Promise(R=>{a(I.inputDefaultValue||""),c("editor"),n({isOpen:!0,type:D,options:I,resolve:R})}),[]),d=S.useCallback(D=>{e.resolve&&e.resolve(D),n(I=>({...I,isOpen:!1,resolve:null}))},[e.resolve]),m=S.useCallback((D,I)=>h("alert",{message:D,title:"Notice",confirmText:"OK",type:"info",...I}),[h]),g=S.useCallback((D,I)=>h("confirm",{message:D,title:"Confirm",confirmText:"Yes",cancelText:"Cancel",type:"warning",...I}),[h]),b=S.useCallback((D,I)=>h("prompt",{message:D,title:"Input",confirmText:"OK",cancelText:"Cancel",inputPlaceholder:"",...I}),[h]),x=S.useCallback((D,I)=>h("share",{message:D,title:"Share Board",confirmText:"Send Invite",cancelText:"Cancel",showRoleSelector:!0,inputPlaceholder:"Enter email address",...I}),[h]),A=()=>{switch(e.options.type){case"success":return y.jsx(BB,{className:"w-8 h-8 text-green-400"});case"warning":return y.jsx(qS,{className:"w-8 h-8 text-amber-400"});case"error":return y.jsx(qS,{className:"w-8 h-8 text-red-400"});default:return y.jsx(fI,{className:"w-8 h-8 text-accent-primary"})}};return y.jsxs(yI.Provider,{value:{alert:m,confirm:g,prompt:b,sharePrompt:x},children:[t,y.jsx(Qs,{children:e.isOpen&&y.jsx($e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{e.type==="alert"?d(void 0):e.type==="confirm"?d(!1):d(null)},children:y.jsxs($e.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-slate-900 border border-white/20 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",onClick:D=>D.stopPropagation(),children:[y.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[e.type==="share"?y.jsx(rv,{className:"w-6 h-6 text-accent-primary"}):A(),y.jsx("h3",{className:"text-lg font-bold text-white",children:e.options.title})]}),y.jsx("button",{onClick:()=>{e.type==="alert"?d(void 0):e.type==="confirm"?d(!1):d(null)},className:"p-1 text-slate-400 hover:text-white rounded-full hover:bg-white/10 transition-colors",children:y.jsx(lr,{size:20})})]}),y.jsxs("div",{className:"p-6",children:[y.jsx("p",{className:"text-slate-300 mb-4 whitespace-pre-wrap",children:e.options.message}),(e.type==="prompt"||e.type==="share")&&y.jsx("input",{type:e.type==="share"?"email":"text",autoFocus:!0,value:s,onChange:D=>a(D.target.value),placeholder:e.options.inputPlaceholder,className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors mb-4",onKeyDown:D=>{D.key==="Enter"&&s.trim()&&(e.type==="share"?d({email:s.trim(),role:l}):d(s.trim()))}}),e.type==="share"&&e.options.showRoleSelector&&y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"text-sm font-medium text-slate-400 mb-2 block",children:"Access Level"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>c("viewer"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="viewer"?"bg-accent-primary/20 text-accent-primary border border-accent-primary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Viewer"}),y.jsx("button",{onClick:()=>c("editor"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Editor"})]}),y.jsx("p",{className:"text-xs text-slate-500 mt-2",children:l==="viewer"?"Can view the board but not make changes":"Can view and edit the board"})]})]}),y.jsxs("div",{className:"flex gap-3 p-4 pt-0",children:[e.type!=="alert"&&y.jsx("button",{onClick:()=>{e.type==="confirm"?d(!1):d(null)},className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:e.options.cancelText}),y.jsx("button",{onClick:()=>{e.type==="alert"?d(void 0):e.type==="confirm"?d(!0):e.type==="share"?s.trim()&&d({email:s.trim(),role:l}):d(s.trim()||null)},disabled:(e.type==="prompt"||e.type==="share")&&!s.trim(),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:e.options.confirmText})]})]})})})]})};function vI(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=vI(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function E8(){for(var t,e,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=vI(t))&&(s&&(s+=" "),s+=e);return s}const S8=(t,e)=>{const n=new Array(t.length+e.length);for(let s=0;s<t.length;s++)n[s]=t[s];for(let s=0;s<e.length;s++)n[t.length+s]=e[s];return n},A8=(t,e)=>({classGroupId:t,validator:e}),bI=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Mm="-",KS=[],C8="arbitrary..",R8=t=>{const e=I8(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return N8(c);const h=c.split(Mm),d=h[0]===""&&h.length>1?1:0;return xI(h,d,e)},getConflictingClassGroupIds:(c,h)=>{if(h){const d=s[c],m=n[c];return d?m?S8(m,d):d:m||KS}return n[c]||KS}}},xI=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const m=xI(t,e+1,l);if(m)return m}const c=n.validators;if(c===null)return;const h=e===0?t.join(Mm):t.slice(e).join(Mm),d=c.length;for(let m=0;m<d;m++){const g=c[m];if(g.validator(h))return g.classGroupId}},N8=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),s=e.slice(0,n);return s?C8+s:void 0})(),I8=t=>{const{theme:e,classGroups:n}=t;return D8(n,e)},D8=(t,e)=>{const n=bI();for(const s in t){const a=t[s];Zb(a,n,s,e)}return n},Zb=(t,e,n,s)=>{const a=t.length;for(let l=0;l<a;l++){const c=t[l];k8(c,e,n,s)}},k8=(t,e,n,s)=>{if(typeof t=="string"){M8(t,e,n);return}if(typeof t=="function"){P8(t,e,n,s);return}j8(t,e,n,s)},M8=(t,e,n)=>{const s=t===""?e:wI(e,t);s.classGroupId=n},P8=(t,e,n,s)=>{if(O8(t)){Zb(t(s),e,n,s);return}e.validators===null&&(e.validators=[]),e.validators.push(A8(n,t))},j8=(t,e,n,s)=>{const a=Object.entries(t),l=a.length;for(let c=0;c<l;c++){const[h,d]=a[c];Zb(d,wI(e,h),n,s)}},wI=(t,e)=>{let n=t;const s=e.split(Mm),a=s.length;for(let l=0;l<a;l++){const c=s[l];let h=n.nextPart.get(c);h||(h=bI(),n.nextPart.set(c,h)),n=h}return n},O8=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,V8=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),s=Object.create(null);const a=(l,c)=>{n[l]=c,e++,e>t&&(e=0,s=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=s[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},av="!",YS=":",L8=[],XS=(t,e,n,s,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:s,isExternal:a}),U8=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=a=>{const l=[];let c=0,h=0,d=0,m;const g=a.length;for(let I=0;I<g;I++){const R=a[I];if(c===0&&h===0){if(R===YS){l.push(a.slice(d,I)),d=I+1;continue}if(R==="/"){m=I;continue}}R==="["?c++:R==="]"?c--:R==="("?h++:R===")"&&h--}const b=l.length===0?a:a.slice(d);let x=b,A=!1;b.endsWith(av)?(x=b.slice(0,-1),A=!0):b.startsWith(av)&&(x=b.slice(1),A=!0);const D=m&&m>d?m-d:void 0;return XS(l,A,x,D)};if(e){const a=e+YS,l=s;s=c=>c.startsWith(a)?l(c.slice(a.length)):XS(L8,!1,c,void 0,!0)}if(n){const a=s;s=l=>n({className:l,parseClassName:a})}return s},z8=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,s)=>{e.set(n,1e6+s)}),n=>{const s=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],h=c[0]==="[",d=e.has(c);h||d?(a.length>0&&(a.sort(),s.push(...a),a=[]),s.push(c)):a.push(c)}return a.length>0&&(a.sort(),s.push(...a)),s}},B8=t=>({cache:V8(t.cacheSize),parseClassName:U8(t),sortModifiers:z8(t),...R8(t)}),F8=/\s+/,q8=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],h=t.trim().split(F8);let d="";for(let m=h.length-1;m>=0;m-=1){const g=h[m],{isExternal:b,modifiers:x,hasImportantModifier:A,baseClassName:D,maybePostfixModifierPosition:I}=n(g);if(b){d=g+(d.length>0?" "+d:d);continue}let R=!!I,O=s(R?D.substring(0,I):D);if(!O){if(!R){d=g+(d.length>0?" "+d:d);continue}if(O=s(D),!O){d=g+(d.length>0?" "+d:d);continue}R=!1}const H=x.length===0?"":x.length===1?x[0]:l(x).join(":"),F=A?H+av:H,re=F+O;if(c.indexOf(re)>-1)continue;c.push(re);const te=a(O,R);for(let ce=0;ce<te.length;++ce){const k=te[ce];c.push(F+k)}d=g+(d.length>0?" "+d:d)}return d},H8=(...t)=>{let e=0,n,s,a="";for(;e<t.length;)(n=t[e++])&&(s=_I(n))&&(a&&(a+=" "),a+=s);return a},_I=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=_I(t[s]))&&(n&&(n+=" "),n+=e);return n},G8=(t,...e)=>{let n,s,a,l;const c=d=>{const m=e.reduce((g,b)=>b(g),t());return n=B8(m),s=n.cache.get,a=n.cache.set,l=h,h(d)},h=d=>{const m=s(d);if(m)return m;const g=q8(d,n);return a(d,g),g};return l=c,(...d)=>l(H8(...d))},$8=[],kn=t=>{const e=n=>n[t]||$8;return e.isThemeGetter=!0,e},TI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,EI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,K8=/^\d+\/\d+$/,Y8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,X8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,W8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Q8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,J8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fl=t=>K8.test(t),Qe=t=>!!t&&!Number.isNaN(Number(t)),ja=t=>!!t&&Number.isInteger(Number(t)),e0=t=>t.endsWith("%")&&Qe(t.slice(0,-1)),Pr=t=>Y8.test(t),Z8=()=>!0,eF=t=>X8.test(t)&&!W8.test(t),SI=()=>!1,tF=t=>Q8.test(t),nF=t=>J8.test(t),sF=t=>!Ne(t)&&!Ie(t),iF=t=>Ic(t,RI,SI),Ne=t=>TI.test(t),Oo=t=>Ic(t,NI,eF),t0=t=>Ic(t,cF,Qe),WS=t=>Ic(t,AI,SI),rF=t=>Ic(t,CI,nF),Nf=t=>Ic(t,II,tF),Ie=t=>EI.test(t),Du=t=>Dc(t,NI),aF=t=>Dc(t,uF),QS=t=>Dc(t,AI),oF=t=>Dc(t,RI),lF=t=>Dc(t,CI),If=t=>Dc(t,II,!0),Ic=(t,e,n)=>{const s=TI.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},Dc=(t,e,n=!1)=>{const s=EI.exec(t);return s?s[1]?e(s[1]):n:!1},AI=t=>t==="position"||t==="percentage",CI=t=>t==="image"||t==="url",RI=t=>t==="length"||t==="size"||t==="bg-size",NI=t=>t==="length",cF=t=>t==="number",uF=t=>t==="family-name",II=t=>t==="shadow",hF=()=>{const t=kn("color"),e=kn("font"),n=kn("text"),s=kn("font-weight"),a=kn("tracking"),l=kn("leading"),c=kn("breakpoint"),h=kn("container"),d=kn("spacing"),m=kn("radius"),g=kn("shadow"),b=kn("inset-shadow"),x=kn("text-shadow"),A=kn("drop-shadow"),D=kn("blur"),I=kn("perspective"),R=kn("aspect"),O=kn("ease"),H=kn("animate"),F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],re=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],te=()=>[...re(),Ie,Ne],ce=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],C=()=>[Ie,Ne,d],P=()=>[Fl,"full","auto",...C()],z=()=>[ja,"none","subgrid",Ie,Ne],B=()=>["auto",{span:["full",ja,Ie,Ne]},ja,Ie,Ne],j=()=>[ja,"auto",Ie,Ne],V=()=>["auto","min","max","fr",Ie,Ne],be=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],we=()=>["start","end","center","stretch","center-safe","end-safe"],J=()=>["auto",...C()],Y=()=>[Fl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],$=()=>[t,Ie,Ne],W=()=>[...re(),QS,WS,{position:[Ie,Ne]}],L=()=>["no-repeat",{repeat:["","x","y","space","round"]}],T=()=>["auto","cover","contain",oF,iF,{size:[Ie,Ne]}],U=()=>[e0,Du,Oo],X=()=>["","none","full",m,Ie,Ne],ee=()=>["",Qe,Du,Oo],me=()=>["solid","dashed","dotted","double"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ge=()=>[Qe,e0,QS,WS],_e=()=>["","none",D,Ie,Ne],Ee=()=>["none",Qe,Ie,Ne],Ce=()=>["none",Qe,Ie,Ne],Ue=()=>[Qe,Ie,Ne],Ve=()=>[Fl,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Pr],breakpoint:[Pr],color:[Z8],container:[Pr],"drop-shadow":[Pr],ease:["in","out","in-out"],font:[sF],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Pr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Pr],shadow:[Pr],spacing:["px",Qe],text:[Pr],"text-shadow":[Pr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Fl,Ne,Ie,R]}],container:["container"],columns:[{columns:[Qe,Ne,Ie,h]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:te()}],overflow:[{overflow:ce()}],"overflow-x":[{"overflow-x":ce()}],"overflow-y":[{"overflow-y":ce()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[ja,"auto",Ie,Ne]}],basis:[{basis:[Fl,"full","auto",h,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Qe,Fl,"auto","initial","none",Ne]}],grow:[{grow:["",Qe,Ie,Ne]}],shrink:[{shrink:["",Qe,Ie,Ne]}],order:[{order:[ja,"first","last","none",Ie,Ne]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...be(),"normal"]}],"justify-items":[{"justify-items":[...we(),"normal"]}],"justify-self":[{"justify-self":["auto",...we()]}],"align-content":[{content:["normal",...be()]}],"align-items":[{items:[...we(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...we(),{baseline:["","last"]}]}],"place-content":[{"place-content":be()}],"place-items":[{"place-items":[...we(),"baseline"]}],"place-self":[{"place-self":["auto",...we()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:J()}],mx:[{mx:J()}],my:[{my:J()}],ms:[{ms:J()}],me:[{me:J()}],mt:[{mt:J()}],mr:[{mr:J()}],mb:[{mb:J()}],ml:[{ml:J()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],w:[{w:[h,"screen",...Y()]}],"min-w":[{"min-w":[h,"screen","none",...Y()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...Y()]}],h:[{h:["screen","lh",...Y()]}],"min-h":[{"min-h":["screen","lh","none",...Y()]}],"max-h":[{"max-h":["screen","lh",...Y()]}],"font-size":[{text:["base",n,Du,Oo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Ie,t0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",e0,Ne]}],"font-family":[{font:[aF,Ne,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ie,Ne]}],"line-clamp":[{"line-clamp":[Qe,"none",Ie,t0]}],leading:[{leading:[l,...C()]}],"list-image":[{"list-image":["none",Ie,Ne]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ie,Ne]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...me(),"wavy"]}],"text-decoration-thickness":[{decoration:[Qe,"from-font","auto",Ie,Oo]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[Qe,"auto",Ie,Ne]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie,Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie,Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:W()}],"bg-repeat":[{bg:L()}],"bg-size":[{bg:T()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ja,Ie,Ne],radial:["",Ie,Ne],conic:[ja,Ie,Ne]},lF,rF]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:ee()}],"border-w-x":[{"border-x":ee()}],"border-w-y":[{"border-y":ee()}],"border-w-s":[{"border-s":ee()}],"border-w-e":[{"border-e":ee()}],"border-w-t":[{"border-t":ee()}],"border-w-r":[{"border-r":ee()}],"border-w-b":[{"border-b":ee()}],"border-w-l":[{"border-l":ee()}],"divide-x":[{"divide-x":ee()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ee()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...me(),"hidden","none"]}],"divide-style":[{divide:[...me(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...me(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Qe,Ie,Ne]}],"outline-w":[{outline:["",Qe,Du,Oo]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",g,If,Nf]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",b,If,Nf]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[Qe,Oo]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":ee()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",x,If,Nf]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[Qe,Ie,Ne]}],"mix-blend":[{"mix-blend":[...ye(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ye()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Qe]}],"mask-image-linear-from-pos":[{"mask-linear-from":ge()}],"mask-image-linear-to-pos":[{"mask-linear-to":ge()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":ge()}],"mask-image-t-to-pos":[{"mask-t-to":ge()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":ge()}],"mask-image-r-to-pos":[{"mask-r-to":ge()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":ge()}],"mask-image-b-to-pos":[{"mask-b-to":ge()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":ge()}],"mask-image-l-to-pos":[{"mask-l-to":ge()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":ge()}],"mask-image-x-to-pos":[{"mask-x-to":ge()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":ge()}],"mask-image-y-to-pos":[{"mask-y-to":ge()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[Ie,Ne]}],"mask-image-radial-from-pos":[{"mask-radial-from":ge()}],"mask-image-radial-to-pos":[{"mask-radial-to":ge()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":re()}],"mask-image-conic-pos":[{"mask-conic":[Qe]}],"mask-image-conic-from-pos":[{"mask-conic-from":ge()}],"mask-image-conic-to-pos":[{"mask-conic-to":ge()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:W()}],"mask-repeat":[{mask:L()}],"mask-size":[{mask:T()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ie,Ne]}],filter:[{filter:["","none",Ie,Ne]}],blur:[{blur:_e()}],brightness:[{brightness:[Qe,Ie,Ne]}],contrast:[{contrast:[Qe,Ie,Ne]}],"drop-shadow":[{"drop-shadow":["","none",A,If,Nf]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",Qe,Ie,Ne]}],"hue-rotate":[{"hue-rotate":[Qe,Ie,Ne]}],invert:[{invert:["",Qe,Ie,Ne]}],saturate:[{saturate:[Qe,Ie,Ne]}],sepia:[{sepia:["",Qe,Ie,Ne]}],"backdrop-filter":[{"backdrop-filter":["","none",Ie,Ne]}],"backdrop-blur":[{"backdrop-blur":_e()}],"backdrop-brightness":[{"backdrop-brightness":[Qe,Ie,Ne]}],"backdrop-contrast":[{"backdrop-contrast":[Qe,Ie,Ne]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Qe,Ie,Ne]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Qe,Ie,Ne]}],"backdrop-invert":[{"backdrop-invert":["",Qe,Ie,Ne]}],"backdrop-opacity":[{"backdrop-opacity":[Qe,Ie,Ne]}],"backdrop-saturate":[{"backdrop-saturate":[Qe,Ie,Ne]}],"backdrop-sepia":[{"backdrop-sepia":["",Qe,Ie,Ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ie,Ne]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Qe,"initial",Ie,Ne]}],ease:[{ease:["linear","initial",O,Ie,Ne]}],delay:[{delay:[Qe,Ie,Ne]}],animate:[{animate:["none",H,Ie,Ne]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[I,Ie,Ne]}],"perspective-origin":[{"perspective-origin":te()}],rotate:[{rotate:Ee()}],"rotate-x":[{"rotate-x":Ee()}],"rotate-y":[{"rotate-y":Ee()}],"rotate-z":[{"rotate-z":Ee()}],scale:[{scale:Ce()}],"scale-x":[{"scale-x":Ce()}],"scale-y":[{"scale-y":Ce()}],"scale-z":[{"scale-z":Ce()}],"scale-3d":["scale-3d"],skew:[{skew:Ue()}],"skew-x":[{"skew-x":Ue()}],"skew-y":[{"skew-y":Ue()}],transform:[{transform:[Ie,Ne,"","none","gpu","cpu"]}],"transform-origin":[{origin:te()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ve()}],"translate-x":[{"translate-x":Ve()}],"translate-y":[{"translate-y":Ve()}],"translate-z":[{"translate-z":Ve()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie,Ne]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie,Ne]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[Qe,Du,Oo,t0]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},dF=G8(hF);function K(...t){return dF(E8(t))}const fF=()=>{const{isSettingsOpen:t,closeSettings:e,settings:n,updateSettings:s}=ys(),a=At.useRef(n);if(At.useEffect(()=>{t&&(a.current=n)},[t]),!t)return null;const l=()=>{s(a.current,!1),e()},c=()=>{s(n,!0),e()},h=[{id:"light",name:"Light",color:"bg-white from-slate-100 to-sky-50",animated:!0},{id:"dawn",name:"Dawn",color:"bg-[#0f111a] from-violet-500/20 to-pink-500/20",animated:!1},{id:"cosmic",name:"Cosmic",color:"bg-[#2e1065] from-violet-600/20 to-pink-600/20",animated:!0},{id:"lavender",name:"Lavender",color:"bg-[#3b0764] from-fuchsia-500/20 to-purple-500/20",animated:!0},{id:"midnight",name:"Midnight",color:"bg-[#020617] from-sky-500/20 to-indigo-500/20",animated:!1},{id:"forest",name:"Forest",color:"bg-[#052e16] from-green-500/20 to-emerald-500/20",animated:!1},{id:"ocean",name:"Ocean",color:"bg-[#083344] from-cyan-500/20 to-teal-500/20",animated:!1},{id:"sunset",name:"Sunset",color:"bg-[#2a0a0a] from-orange-500/20 to-rose-500/20",animated:!1}],d=[{id:"outfit",name:"Modern",family:"font-[Outfit]"},{id:"inter",name:"Clean",family:"font-[Inter]"},{id:"playfair",name:"Elegant",family:'font-["Playfair_Display"]'},{id:"mono",name:"Tech",family:'font-["Fira_Code"]'}],m=n.theme==="light";return y.jsx(Qs,{children:t&&y.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 font-sans",children:[y.jsx($e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:l}),y.jsxs($e.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:K("relative w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden max-h-[85vh] flex flex-col border",m?"bg-white border-slate-200":"bg-slate-900 border-white/10"),children:[y.jsxs("div",{className:K("p-6 border-b flex justify-between items-center sticky top-0 z-10",m?"bg-white border-slate-100":"bg-slate-900 border-white/10"),children:[y.jsxs("h2",{className:K("text-xl font-bold flex items-center gap-2",m?"text-slate-800":"text-white"),children:[y.jsx(km,{className:"w-5 h-5 text-accent-primary"}),"Customization"]}),y.jsx("button",{onClick:l,className:K("transition-colors",m?"text-slate-400 hover:text-slate-600":"text-slate-400 hover:text-white"),children:y.jsx(lr,{className:"w-6 h-6"})})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[y.jsxs("section",{children:[y.jsxs("h3",{className:K("text-sm font-semibold uppercase tracking-wider mb-4 flex items-center gap-2",m?"text-slate-500":"text-slate-400"),children:[y.jsx(km,{className:"w-4 h-4"})," Theme"]}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:h.map(g=>y.jsxs("button",{onClick:()=>s({theme:g.id},!1),className:K("relative group overflow-hidden rounded-xl border transition-all duration-300",n.theme===g.id?"border-accent-primary ring-2 ring-accent-primary/50":m?"border-slate-200 hover:border-slate-300":"border-white/10 hover:border-white/30"),children:[y.jsx("div",{className:K("h-16 w-full bg-gradient-to-br relative",g.color),children:g.animated&&y.jsxs("div",{className:"absolute top-1.5 left-1.5 px-1.5 py-0.5 bg-black/40 backdrop-blur-sm rounded text-[10px] font-bold text-white/90 flex items-center gap-1",children:[y.jsx(eh,{className:"w-2.5 h-2.5"}),y.jsx("span",{children:"Animated"})]})}),y.jsx("div",{className:K("p-3",m?"bg-slate-50":"bg-slate-800/50"),children:y.jsx("span",{className:K("text-sm font-medium",n.theme===g.id?m?"text-slate-900":"text-white":"text-slate-400"),children:g.name})}),n.theme===g.id&&y.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 bg-accent-primary rounded-full flex items-center justify-center shadow-lg",children:y.jsx(vi,{className:"w-3 h-3 text-white"})})]},g.id))})]}),y.jsxs("section",{children:[y.jsxs("h3",{className:K("text-sm font-semibold uppercase tracking-wider mb-4 flex items-center gap-2",m?"text-slate-500":"text-slate-400"),children:[y.jsx(g8,{className:"w-4 h-4"})," Typography"]}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:d.map(g=>y.jsxs("button",{onClick:()=>s({font:g.id},!1),className:K("flex items-center justify-between p-4 rounded-xl border transition-all duration-200 text-left",n.font===g.id?"bg-accent-primary/10 border-accent-primary text-accent-primary":m?"bg-white border-slate-200 hover:bg-slate-50 text-slate-600":"bg-white/5 border-white/5 hover:bg-white/10 text-slate-300"),children:[y.jsxs("div",{children:[y.jsx("span",{className:K("text-lg block mb-0.5",g.family),children:"Aa"}),y.jsx("span",{className:"text-xs opacity-70",children:g.name})]}),n.font===g.id&&y.jsx(vi,{className:"w-5 h-5"})]},g.id))}),y.jsx("div",{className:K("mt-4 p-4 rounded-xl border",m?"bg-slate-50 border-slate-200":"bg-black/20 border-white/5"),children:y.jsx("p",{className:K("text-sm leading-relaxed",m?"text-slate-600":"text-slate-300",n.font==="outfit"&&"font-[Outfit]",n.font==="inter"&&"font-[Inter]",n.font==="playfair"&&'font-["Playfair_Display"]',n.font==="mono"&&'font-["Fira_Code"]'),children:"The quick brown fox jumps over the lazy dog. 1234567890."})})]}),y.jsxs("section",{children:[y.jsxs("h3",{className:K("text-sm font-semibold uppercase tracking-wider mb-4 flex items-center gap-2",m?"text-slate-500":"text-slate-400"),children:[y.jsx(eh,{className:"w-4 h-4"})," Experience"]}),y.jsxs("div",{className:K("flex items-center justify-between p-4 rounded-xl border mb-3",m?"bg-white border-slate-200":"bg-white/5 border-white/10"),children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:K("p-2 rounded-lg",n.enableAnimation?"bg-accent-primary/20 text-accent-primary":m?"bg-slate-100 text-slate-400":"bg-slate-700 text-slate-400"),children:y.jsx(eh,{size:20})}),y.jsxs("div",{children:[y.jsx("div",{className:K("font-medium",m?"text-slate-800":"text-white"),children:"Live Backgrounds"}),y.jsx("div",{className:K("text-xs",m?"text-slate-500":"text-slate-400"),children:"Dynamic particles and ambient effects"})]})]}),y.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[y.jsx("input",{type:"checkbox",checked:n.enableAnimation,onChange:g=>s({enableAnimation:g.target.checked},!1),className:"sr-only peer"}),y.jsx("div",{className:K("w-11 h-6 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-accent-primary rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-primary",m?"bg-slate-200":"bg-slate-700")})]})]}),y.jsxs("div",{className:K("flex items-center justify-between p-4 rounded-xl border",m?"bg-white border-slate-200":"bg-white/5 border-white/10"),children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:K("p-2 rounded-lg",n.enableSound?"bg-emerald-500/20 text-emerald-400":m?"bg-slate-100 text-slate-400":"bg-slate-700 text-slate-400"),children:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),y.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"}),y.jsx("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14"})]})}),y.jsxs("div",{children:[y.jsx("div",{className:K("font-medium",m?"text-slate-800":"text-white"),children:"Sound Effects"}),y.jsx("div",{className:K("text-xs",m?"text-slate-500":"text-slate-400"),children:"Satisfying clicks and celebrations"})]})]}),y.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[y.jsx("input",{type:"checkbox",checked:n.enableSound,onChange:g=>s({enableSound:g.target.checked},!1),className:"sr-only peer"}),y.jsx("div",{className:K("w-11 h-6 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-emerald-500 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500",m?"bg-slate-200":"bg-slate-700")})]})]})]})]}),y.jsxs("div",{className:K("p-6 border-t flex justify-end gap-3 sticky bottom-0 z-10 shrink-0",m?"bg-white border-slate-100":"bg-slate-900 border-white/10"),children:[y.jsx("button",{onClick:l,className:K("px-4 py-2 rounded-xl font-semibold transition-colors",m?"bg-slate-100 text-slate-600 hover:bg-slate-200":"bg-white/5 text-slate-300 hover:bg-white/10"),children:"Cancel"}),y.jsx("button",{onClick:c,className:"px-6 py-2 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all active:scale-95",children:"Save Changes"})]})]})]})})},Df={theme:"dawn",font:"outfit",enableAnimation:!0,enableSound:!0},DI=S.createContext(null),ys=()=>{const t=S.useContext(DI);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},mF=({children:t})=>{const{user:e}=qi(),[n,s]=S.useState(()=>{try{const m=localStorage.getItem("bingo_settings");return m?{...Df,...JSON.parse(m)}:Df}catch(m){return console.error("Error parsing local settings",m),Df}}),[a,l]=S.useState(!1);S.useEffect(()=>{(async()=>{if(e)try{const g=pn(mt,"users",e.uid),b=await $a(g);if(b.exists()&&b.data().settings){const x={...Df,...b.data().settings};s(x),localStorage.setItem("bingo_settings",JSON.stringify(x))}}catch(g){console.error("Error loading settings:",g)}})()},[e]),S.useEffect(()=>{const m=document.body;m.classList.remove("theme-dawn","theme-midnight","theme-forest","theme-ocean","theme-sunset","theme-cosmic","theme-lavender","theme-light"),m.classList.add(`theme-${n.theme}`),m.classList.remove("font-inter","font-playfair","font-mono","font-comic"),n.font!=="outfit"&&m.classList.add(`font-${n.font}`),n.enableAnimation?m.classList.remove("reduce-motion"):m.classList.add("reduce-motion")},[n]);const c=async(m,g=!0)=>{const b={...n,...m};s(b);try{localStorage.setItem("bingo_settings",JSON.stringify(b))}catch(x){console.error("Failed to save settings locally",x)}if(e&&g)try{await Yo(pn(mt,"users",e.uid),{settings:b},{merge:!0})}catch(x){console.error("Error saving settings to DB:",x)}},h=()=>l(!0),d=()=>l(!1);return y.jsxs(DI.Provider,{value:{settings:n,updateSettings:c,isSettingsOpen:a,openSettings:h,closeSettings:d},children:[t,y.jsx(fF,{})]})},pF=()=>{const{signIn:t,error:e}=qi(),{settings:n}=ys(),s=n.theme==="light";return y.jsxs("div",{className:K("relative flex flex-col items-center justify-center min-h-screen p-4 text-center overflow-hidden font-sans",s?"text-slate-800":"text-slate-100"),children:[y.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none",children:y.jsx("div",{className:K("absolute inset-0 bg-gradient-to-t via-transparent to-transparent",s?"from-white/30":"from-black/30")})}),y.jsxs("div",{className:"relative z-10 w-full max-w-[400px] animate-fade-in-up",children:[y.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[y.jsxs("div",{className:K("relative w-20 h-20 mb-4 rounded-2xl flex items-center justify-center shadow-xl backdrop-blur-sm border",s?"bg-gradient-to-br from-blue-500/10 to-purple-500/10 border-slate-200 shadow-blue-500/5":"bg-gradient-to-br from-indigo-500/20 to-purple-500/20 border-white/10 shadow-indigo-500/10"),children:[y.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-12 h-12 object-contain drop-shadow-lg"}),y.jsx("div",{className:"absolute -top-2 -right-2",children:y.jsx(gI,{className:"w-6 h-6 text-accent-gold animate-bounce-gentle"})})]}),y.jsx("h1",{className:K("text-3xl font-bold tracking-tight mb-2",s?"text-slate-900":"text-white"),children:"SunSar Bingo"}),y.jsx("p",{className:K("text-sm font-medium",s?"text-slate-500":"text-slate-400"),children:"The social way to achieve your 2026 goals."})]}),y.jsx("div",{className:K("backdrop-blur-md border rounded-2xl p-6 sm:p-8 shadow-2xl",s?"bg-white/80 border-slate-200 shadow-slate-200/50":"bg-slate-900/50 border-white/10 shadow-black/50"),children:y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"text-left space-y-2",children:[y.jsx("h2",{className:K("text-xl font-semibold",s?"text-slate-900":"text-white"),children:"Welcome back"}),y.jsx("p",{className:K("text-sm",s?"text-slate-500":"text-slate-400"),children:"Sign in to continue to your bingo boards."})]}),e&&y.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-500 px-4 py-3 rounded-xl text-sm flex items-start text-left",children:[y.jsx("span",{className:"mr-2",children:""}),e]}),y.jsxs("button",{onClick:t,className:K("group relative w-full flex items-center justify-center gap-3 px-4 py-3 font-bold rounded-xl transition-all duration-200 shadow-lg hover:tracking-wide active:scale-[0.98]",s?"bg-slate-900 text-white hover:bg-slate-800 shadow-slate-300":"bg-white text-slate-900 hover:bg-slate-200 shadow-white/5"),children:[y.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"G",className:"w-5 h-5"}),y.jsx("span",{children:"Continue with Google"}),y.jsx(CB,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),y.jsxs("div",{className:"relative my-6",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("span",{className:K("w-full border-t",s?"border-slate-200":"border-white/10")})}),y.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:y.jsx("span",{className:K("px-2",s?"bg-white/0 text-slate-400":"bg-transparent text-slate-500"),children:"New to SunSar?"})})]}),y.jsx(bv,{to:"/help",className:K("block w-full py-3 px-4 rounded-xl border font-medium transition-colors text-sm",s?"border-slate-200 text-slate-600 hover:bg-slate-50 hover:text-slate-900":"border-white/10 text-slate-300 hover:bg-white/5 hover:text-white"),children:"Check out how it works"})]})}),y.jsx("div",{className:"mt-8 text-center",children:y.jsxs("p",{className:"text-xs text-slate-500",children:[" 2026 SunSar Bingo  ",y.jsx("a",{href:"#",className:"hover:text-slate-400 underline decoration-slate-700",children:"Privacy"}),"  ",y.jsx("a",{href:"#",className:"hover:text-slate-400 underline decoration-slate-700",children:"Terms"})]})})]})]})};var ex={};(function t(e,n,s,a){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",h=(function(){if(!e.OffscreenCanvas)return!1;try{var L=new OffscreenCanvas(1,1),T=L.getContext("2d");T.fillRect(0,0,1,1);var U=L.transferToImageBitmap();T.createPattern(U,"no-repeat")}catch{return!1}return!0})();function d(){}function m(L){var T=n.exports.Promise,U=T!==void 0?T:e.Promise;return typeof U=="function"?new U(L):(L(d,d),null)}var g=(function(L,T){return{transform:function(U){if(L)return U;if(T.has(U))return T.get(U);var X=new OffscreenCanvas(U.width,U.height),ee=X.getContext("2d");return ee.drawImage(U,0,0),T.set(U,X),X},clear:function(){T.clear()}}})(h,new Map),b=(function(){var L=Math.floor(16.666666666666668),T,U,X={},ee=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(T=function(me){var ye=Math.random();return X[ye]=requestAnimationFrame(function ge(_e){ee===_e||ee+L-1<_e?(ee=_e,delete X[ye],me()):X[ye]=requestAnimationFrame(ge)}),ye},U=function(me){X[me]&&cancelAnimationFrame(X[me])}):(T=function(me){return setTimeout(me,L)},U=function(me){return clearTimeout(me)}),{frame:T,cancel:U}})(),x=(function(){var L,T,U={};function X(ee){function me(ye,ge){ee.postMessage({options:ye||{},callback:ge})}ee.init=function(ge){var _e=ge.transferControlToOffscreen();ee.postMessage({canvas:_e},[_e])},ee.fire=function(ge,_e,Ee){if(T)return me(ge,null),T;var Ce=Math.random().toString(36).slice(2);return T=m(function(Ue){function Ve(ut){ut.data.callback===Ce&&(delete U[Ce],ee.removeEventListener("message",Ve),T=null,g.clear(),Ee(),Ue())}ee.addEventListener("message",Ve),me(ge,Ce),U[Ce]=Ve.bind(null,{data:{callback:Ce}})}),T},ee.reset=function(){ee.postMessage({reset:!0});for(var ge in U)U[ge](),delete U[ge]}}return function(){if(L)return L;if(!s&&l){var ee=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{L=new Worker(URL.createObjectURL(new Blob([ee])))}catch(me){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",me),null}X(L)}return L}})(),A={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function D(L,T){return T?T(L):L}function I(L){return L!=null}function R(L,T,U){return D(L&&I(L[T])?L[T]:A[T],U)}function O(L){return L<0?0:Math.floor(L)}function H(L,T){return Math.floor(Math.random()*(T-L))+L}function F(L){return parseInt(L,16)}function re(L){return L.map(te)}function te(L){var T=String(L).replace(/[^0-9a-f]/gi,"");return T.length<6&&(T=T[0]+T[0]+T[1]+T[1]+T[2]+T[2]),{r:F(T.substring(0,2)),g:F(T.substring(2,4)),b:F(T.substring(4,6))}}function ce(L){var T=R(L,"origin",Object);return T.x=R(T,"x",Number),T.y=R(T,"y",Number),T}function k(L){L.width=document.documentElement.clientWidth,L.height=document.documentElement.clientHeight}function C(L){var T=L.getBoundingClientRect();L.width=T.width,L.height=T.height}function P(L){var T=document.createElement("canvas");return T.style.position="fixed",T.style.top="0px",T.style.left="0px",T.style.pointerEvents="none",T.style.zIndex=L,T}function z(L,T,U,X,ee,me,ye,ge,_e){L.save(),L.translate(T,U),L.rotate(me),L.scale(X,ee),L.arc(0,0,1,ye,ge,_e),L.restore()}function B(L){var T=L.angle*(Math.PI/180),U=L.spread*(Math.PI/180);return{x:L.x,y:L.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:L.startVelocity*.5+Math.random()*L.startVelocity,angle2D:-T+(.5*U-Math.random()*U),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:L.color,shape:L.shape,tick:0,totalTicks:L.ticks,decay:L.decay,drift:L.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:L.gravity*3,ovalScalar:.6,scalar:L.scalar,flat:L.flat}}function j(L,T){T.x+=Math.cos(T.angle2D)*T.velocity+T.drift,T.y+=Math.sin(T.angle2D)*T.velocity+T.gravity,T.velocity*=T.decay,T.flat?(T.wobble=0,T.wobbleX=T.x+10*T.scalar,T.wobbleY=T.y+10*T.scalar,T.tiltSin=0,T.tiltCos=0,T.random=1):(T.wobble+=T.wobbleSpeed,T.wobbleX=T.x+10*T.scalar*Math.cos(T.wobble),T.wobbleY=T.y+10*T.scalar*Math.sin(T.wobble),T.tiltAngle+=.1,T.tiltSin=Math.sin(T.tiltAngle),T.tiltCos=Math.cos(T.tiltAngle),T.random=Math.random()+2);var U=T.tick++/T.totalTicks,X=T.x+T.random*T.tiltCos,ee=T.y+T.random*T.tiltSin,me=T.wobbleX+T.random*T.tiltCos,ye=T.wobbleY+T.random*T.tiltSin;if(L.fillStyle="rgba("+T.color.r+", "+T.color.g+", "+T.color.b+", "+(1-U)+")",L.beginPath(),c&&T.shape.type==="path"&&typeof T.shape.path=="string"&&Array.isArray(T.shape.matrix))L.fill(Y(T.shape.path,T.shape.matrix,T.x,T.y,Math.abs(me-X)*.1,Math.abs(ye-ee)*.1,Math.PI/10*T.wobble));else if(T.shape.type==="bitmap"){var ge=Math.PI/10*T.wobble,_e=Math.abs(me-X)*.1,Ee=Math.abs(ye-ee)*.1,Ce=T.shape.bitmap.width*T.scalar,Ue=T.shape.bitmap.height*T.scalar,Ve=new DOMMatrix([Math.cos(ge)*_e,Math.sin(ge)*_e,-Math.sin(ge)*Ee,Math.cos(ge)*Ee,T.x,T.y]);Ve.multiplySelf(new DOMMatrix(T.shape.matrix));var ut=L.createPattern(g.transform(T.shape.bitmap),"no-repeat");ut.setTransform(Ve),L.globalAlpha=1-U,L.fillStyle=ut,L.fillRect(T.x-Ce/2,T.y-Ue/2,Ce,Ue),L.globalAlpha=1}else if(T.shape==="circle")L.ellipse?L.ellipse(T.x,T.y,Math.abs(me-X)*T.ovalScalar,Math.abs(ye-ee)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI):z(L,T.x,T.y,Math.abs(me-X)*T.ovalScalar,Math.abs(ye-ee)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI);else if(T.shape==="star")for(var ke=Math.PI/2*3,pt=4*T.scalar,bt=8*T.scalar,Zt=T.x,on=T.y,ot=5,Fe=Math.PI/ot;ot--;)Zt=T.x+Math.cos(ke)*bt,on=T.y+Math.sin(ke)*bt,L.lineTo(Zt,on),ke+=Fe,Zt=T.x+Math.cos(ke)*pt,on=T.y+Math.sin(ke)*pt,L.lineTo(Zt,on),ke+=Fe;else L.moveTo(Math.floor(T.x),Math.floor(T.y)),L.lineTo(Math.floor(T.wobbleX),Math.floor(ee)),L.lineTo(Math.floor(me),Math.floor(ye)),L.lineTo(Math.floor(X),Math.floor(T.wobbleY));return L.closePath(),L.fill(),T.tick<T.totalTicks}function V(L,T,U,X,ee){var me=T.slice(),ye=L.getContext("2d"),ge,_e,Ee=m(function(Ce){function Ue(){ge=_e=null,ye.clearRect(0,0,X.width,X.height),g.clear(),ee(),Ce()}function Ve(){s&&!(X.width===a.width&&X.height===a.height)&&(X.width=L.width=a.width,X.height=L.height=a.height),!X.width&&!X.height&&(U(L),X.width=L.width,X.height=L.height),ye.clearRect(0,0,X.width,X.height),me=me.filter(function(ut){return j(ye,ut)}),me.length?ge=b.frame(Ve):Ue()}ge=b.frame(Ve),_e=Ue});return{addFettis:function(Ce){return me=me.concat(Ce),Ee},canvas:L,promise:Ee,reset:function(){ge&&b.cancel(ge),_e&&_e()}}}function be(L,T){var U=!L,X=!!R(T||{},"resize"),ee=!1,me=R(T,"disableForReducedMotion",Boolean),ye=l&&!!R(T||{},"useWorker"),ge=ye?x():null,_e=U?k:C,Ee=L&&ge?!!L.__confetti_initialized:!1,Ce=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ue;function Ve(ke,pt,bt){for(var Zt=R(ke,"particleCount",O),on=R(ke,"angle",Number),ot=R(ke,"spread",Number),Fe=R(ke,"startVelocity",Number),On=R(ke,"decay",Number),Ss=R(ke,"gravity",Number),Ls=R(ke,"drift",Number),ft=R(ke,"colors",re),Kn=R(ke,"ticks",Number),Us=R(ke,"shapes"),Yn=R(ke,"scalar"),ln=!!R(ke,"flat"),is=ce(ke),Nn=Zt,gn=[],zs=L.width*is.x,Vn=L.height*is.y;Nn--;)gn.push(B({x:zs,y:Vn,angle:on,spread:ot,startVelocity:Fe,color:ft[Nn%ft.length],shape:Us[H(0,Us.length)],ticks:Kn,decay:On,gravity:Ss,drift:Ls,scalar:Yn,flat:ln}));return Ue?Ue.addFettis(gn):(Ue=V(L,gn,_e,pt,bt),Ue.promise)}function ut(ke){var pt=me||R(ke,"disableForReducedMotion",Boolean),bt=R(ke,"zIndex",Number);if(pt&&Ce)return m(function(Fe){Fe()});U&&Ue?L=Ue.canvas:U&&!L&&(L=P(bt),document.body.appendChild(L)),X&&!Ee&&_e(L);var Zt={width:L.width,height:L.height};ge&&!Ee&&ge.init(L),Ee=!0,ge&&(L.__confetti_initialized=!0);function on(){if(ge){var Fe={getBoundingClientRect:function(){if(!U)return L.getBoundingClientRect()}};_e(Fe),ge.postMessage({resize:{width:Fe.width,height:Fe.height}});return}Zt.width=Zt.height=null}function ot(){Ue=null,X&&(ee=!1,e.removeEventListener("resize",on)),U&&L&&(document.body.contains(L)&&document.body.removeChild(L),L=null,Ee=!1)}return X&&!ee&&(ee=!0,e.addEventListener("resize",on,!1)),ge?ge.fire(ke,Zt,ot):Ve(ke,Zt,ot)}return ut.reset=function(){ge&&ge.reset(),Ue&&Ue.reset()},ut}var we;function J(){return we||(we=be(null,{useWorker:!0,resize:!0})),we}function Y(L,T,U,X,ee,me,ye){var ge=new Path2D(L),_e=new Path2D;_e.addPath(ge,new DOMMatrix(T));var Ee=new Path2D;return Ee.addPath(_e,new DOMMatrix([Math.cos(ye)*ee,Math.sin(ye)*ee,-Math.sin(ye)*me,Math.cos(ye)*me,U,X])),Ee}function $(L){if(!c)throw new Error("path confetti are not supported in this browser");var T,U;typeof L=="string"?T=L:(T=L.path,U=L.matrix);var X=new Path2D(T),ee=document.createElement("canvas"),me=ee.getContext("2d");if(!U){for(var ye=1e3,ge=ye,_e=ye,Ee=0,Ce=0,Ue,Ve,ut=0;ut<ye;ut+=2)for(var ke=0;ke<ye;ke+=2)me.isPointInPath(X,ut,ke,"nonzero")&&(ge=Math.min(ge,ut),_e=Math.min(_e,ke),Ee=Math.max(Ee,ut),Ce=Math.max(Ce,ke));Ue=Ee-ge,Ve=Ce-_e;var pt=10,bt=Math.min(pt/Ue,pt/Ve);U=[bt,0,0,bt,-Math.round(Ue/2+ge)*bt,-Math.round(Ve/2+_e)*bt]}return{type:"path",path:T,matrix:U}}function W(L){var T,U=1,X="#000000",ee='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof L=="string"?T=L:(T=L.text,U="scalar"in L?L.scalar:U,ee="fontFamily"in L?L.fontFamily:ee,X="color"in L?L.color:X);var me=10*U,ye=""+me+"px "+ee,ge=new OffscreenCanvas(me,me),_e=ge.getContext("2d");_e.font=ye;var Ee=_e.measureText(T),Ce=Math.ceil(Ee.actualBoundingBoxRight+Ee.actualBoundingBoxLeft),Ue=Math.ceil(Ee.actualBoundingBoxAscent+Ee.actualBoundingBoxDescent),Ve=2,ut=Ee.actualBoundingBoxLeft+Ve,ke=Ee.actualBoundingBoxAscent+Ve;Ce+=Ve+Ve,Ue+=Ve+Ve,ge=new OffscreenCanvas(Ce,Ue),_e=ge.getContext("2d"),_e.font=ye,_e.fillStyle=X,_e.fillText(T,ut,ke);var pt=1/U;return{type:"bitmap",bitmap:ge.transferToImageBitmap(),matrix:[pt,0,0,pt,-Ce*pt/2,-Ue*pt/2]}}n.exports=function(){return J().apply(this,arguments)},n.exports.reset=function(){J().reset()},n.exports.create=be,n.exports.shapeFromPath=$,n.exports.shapeFromText=W})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),ex,!1);const ov=ex.exports;ex.exports.create;const ku=(t=1)=>{const e=200*t,n={origin:{y:.7}};function s(a,l){ov(Object.assign({},n,l,{particleCount:Math.floor(e*a)}))}s(.25,{spread:26,startVelocity:55}),s(.2,{spread:60}),s(.35,{spread:100,decay:.91,scalar:.8}),s(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),s(.1,{spread:120,startVelocity:45})},JS={cloudName:"dia6ped7h",uploadPreset:"bingo_proofs"},ZS=async t=>{const e=new FormData;e.append("file",t),e.append("upload_preset",JS.uploadPreset),e.append("folder","bingo-proofs");const n=await fetch(`https://api.cloudinary.com/v1_1/${JS.cloudName}/image/upload`,{method:"POST",body:e});if(!n.ok){const a=await n.json();throw console.error("Cloudinary upload error:",a),new Error(a.error?.message||"Failed to upload image")}return(await n.json()).secure_url},gF="2026",n0=5,yF=["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"],vF=t=>{const{user:e}=qi(),[n,s]=S.useState([]),[a,l]=S.useState({}),[c,h]=S.useState(!0),[d,m]=S.useState(!1),[g,b]=S.useState(!1),[x,A]=S.useState(""),[D,I]=S.useState(n0),R=S.useMemo(()=>t?pn(mt,"boards",t):pn(mt,"years",gF),[t]),O=(Y,$)=>{if(!Y.length)return;const W=[];for(let T=0;T<$;T++)W.push(Y.slice(T*$,(T+1)*$));let L=!1;for(let T=0;T<$;T++)if(W[T]&&W[T].every(U=>U.isCompleted||U.isFreeSpace)){L=!0;break}if(!L){for(let T=0;T<$;T++)if(W.map(U=>U[T]).every(U=>U&&(U.isCompleted||U.isFreeSpace))){L=!0;break}}!L&&W.map((T,U)=>T[U]).every(T=>T&&(T.isCompleted||T.isFreeSpace))&&(L=!0),!L&&W.map((T,U)=>T[$-1-U]).every(T=>T&&(T.isCompleted||T.isFreeSpace))&&(L=!0),L&&!d?(m(!0),ku(2)):L||m(!1)},H=async(Y=n0)=>{const $=Y*Y,W=Y%2===1?Math.floor($/2):-1,L=[...yF].sort(()=>.5-Math.random()),T=[];let U=0;for(let X=0;X<$;X++)X===W&&Y%2===1?T.push({id:X,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(T.push({id:X,text:L[U%L.length]||`Goal ${X+1}`,isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),U++);await Yo(R,{year:2026,gridSize:Y,items:T,isLocked:!1,createdAt:He.now(),lastUpdated:He.now(),...e?{ownerId:e.uid,members:{[e.uid]:"owner"}}:{}},{merge:!0})};S.useEffect(()=>{if(!e)return;h(!0);const Y=ic(R,$=>{if($.exists()){const W=$.data(),L=W.gridSize||n0;I(L),s(W.items||[]),l(W.members||{}),b(W.isLocked||!1),A(W.title||""),O(W.items||[],L)}else H();h(!1)},$=>{console.error("Error fetching bingo board:",$),h(!1)});return()=>Y()},[R,e]);const F=async Y=>{if(!n.length)return;const $=n.map(U=>({...U})),W=$[Y];if(W.isFreeSpace)return;const L=W.targetCount||1,T=W.currentCount||0;if(W.isCompleted){const U=Math.max(0,T-1);W.currentCount=U,W.isCompleted=U>=L,U===0&&(W.completedBy=null,W.completedAt=null)}else{const U=Math.min(L,T+1);W.currentCount=U,W.isCompleted=U>=L,W.completedBy=e?.displayName||e?.email||"Unknown",W.completedAt=He.now(),ku(.5)}s($),O($,D);try{await hs(R,{items:$,lastUpdated:He.now()})}catch(U){console.error("Error updating bingo board:",U)}},re=async Y=>{if(!n.length)return;const $=n.map(X=>({...X})),W=$[Y];if(W.isFreeSpace)return;const L=W.currentCount||0;if(L<=0)return;const T=W.targetCount||1,U=L-1;W.currentCount=U,W.isCompleted=U>=T,U===0&&(W.completedBy=null,W.completedAt=null),s($),O($,D);try{await hs(R,{items:$,lastUpdated:He.now()})}catch(X){console.error("Error decrementing progress:",X)}},te=async(Y,$)=>{if(!(!n.length||!e))try{const W=await ZS($),L=n.map(ye=>({...ye})),T=L[Y];if(T.isFreeSpace)return;const U=T.targetCount||1,X=T.currentCount||0,ee=Math.min(U,X+1);T.currentCount=ee,T.isCompleted=ee>=U,T.completedBy=e?.displayName||e?.email||"Unknown",T.completedAt=He.now();const me=T.proofPhotos||[];T.proofPhotos=[...me,W],s(L),O(L,D),ku(1),await hs(R,{items:L,lastUpdated:He.now()})}catch(W){throw console.error("Error completing with photo:",W),W}},ce=async(Y,$)=>{if(!n.length||!e)return;const W=n[Y];!W.isCompleted&&(W.currentCount||0)<(W.targetCount||1);const L=W.proofPhotos||[];if(L.length>=5)throw new Error("Maximum 5 photos allowed per tile");try{const T=await ZS($),U=n.map(X=>({...X}));return U[Y].proofPhotos=[...L,T],s(U),ku(.3),await hs(R,{items:U,lastUpdated:He.now()}),T}catch(T){throw console.error("Error adding photo:",T),T}},k=async(Y,$)=>{if(!n.length)return;const W=n.map(U=>({...U})),L=W[Y];if(!L.proofPhotos)return;const T=[...L.proofPhotos];T.splice($,1),L.proofPhotos=T,s(W);try{await hs(R,{items:W,lastUpdated:He.now()})}catch(U){console.error("Error deleting photo:",U)}},C=async(Y,$)=>{if(e)try{const W=n.map(X=>({...X})),L=W[Y],T={emoji:$,by:e.uid,byName:e.displayName||e.email?.split("@")[0]||"Friend",timestamp:Date.now()},U=L.reactions||[];L.reactions=[...U,T],s(W),await hs(R,{items:W,lastUpdated:He.now()}),ku(.2)}catch(W){console.error("Error adding reaction:",W)}},P=async(Y,$)=>{const W=n.map(L=>({...L}));$.text!==void 0&&(W[Y].text=$.text),$.style!==void 0&&(W[Y].style=$.style),s(W);try{await hs(R,{items:W,lastUpdated:He.now()})}catch(L){console.error("Error updating item:",L)}},z=async(Y=!0)=>{const $=[...n];let W=$;if(Y){const T=D*D,U=D%2===1?Math.floor(T/2):-1;if(U!==-1){const X=$[U],ee=[...$.slice(0,U),...$.slice(U+1)];for(let me=ee.length-1;me>0;me--){const ye=Math.floor(Math.random()*(me+1));[ee[me],ee[ye]]=[ee[ye],ee[me]]}W=[...ee.slice(0,U),X,...ee.slice(U)]}else{W=[...$];for(let X=W.length-1;X>0;X--){const ee=Math.floor(Math.random()*(X+1));[W[X],W[ee]]=[W[ee],W[X]]}}s(W)}b(!0);const L={isLocked:!0,lastUpdated:He.now()};Y&&(L.items=W,L.itemsBackup=$),await Yo(R,L,{merge:!0})},B=async()=>{try{const Y=await $a(R);if(Y.exists()){const $=Y.data();$.itemsBackup?await hs(R,{items:$.itemsBackup,itemsBackup:xm(),isLocked:!1,lastUpdated:He.now()}):await hs(R,{isLocked:!1,lastUpdated:He.now()})}}catch(Y){console.error("Error unlocking board:",Y)}},j=S.useMemo(()=>{const Y=[[0,1,2,3,4],[5,6,7,8,9],[10,11,12,13,14],[15,16,17,18,19],[20,21,22,23,24],[0,5,10,15,20],[1,6,11,16,21],[2,7,12,17,22],[3,8,13,18,23],[4,9,14,19,24],[0,6,12,18,24],[4,8,12,16,20]],$=new Set(n.map((W,L)=>W.isCompleted||W.isFreeSpace?L:-1));return Y.reduce((W,L)=>L.every(T=>$.has(T))?W+1:W,0)},[n]);return{items:n,members:a,loading:c,toggleItem:F,updateItem:P,hasWon:d,bingoCount:j,isLocked:g,unlockBoard:B,jumbleAndLock:z,saveBoard:async Y=>{s(Y);try{await hs(R,{items:Y,lastUpdated:He.now()})}catch($){console.error("Error saving board:",$)}},completeWithPhoto:te,addPhotoToTile:ce,deletePhoto:k,addReaction:C,decrementProgress:re,inviteUser:async(Y,$="editor")=>{try{const W=qa(yi(mt,"users"),nr("email","==",Y)),L=await Ko(W);if(L.empty)return{success:!1,type:"not_found",message:"User not found"};const T=L.docs[0],U=T.id;return await hs(R,{[`members.${U}`]:$}),{success:!0,type:"success",message:`Added ${T.data().displayName||Y} as ${$}!`}}catch(W){return console.error("Error inviting user:",W),{success:!1,type:"error",message:"Failed to invite user"}}},removeMember:async Y=>{try{return await hs(R,{[`members.${Y}`]:xm()}),{success:!0}}catch($){return console.error("Error removing member:",$),{success:!1,error:$}}},title:x,gridSize:D,updateTitle:async Y=>{try{await hs(R,{title:Y,lastUpdated:He.now()}),A(Y)}catch($){console.error("Error updating title:",$)}}}},ac=[{id:"early_bird",category:"Speed",title:"Early Bird",description:"Complete your first tile in January.",icon:"",maxProgress:1},{id:"sprint_start",category:"Speed",title:"Sprint Start",description:"Complete 3 tiles within 24h of starting a board.",icon:"",maxProgress:1},{id:"on_fire",category:"Speed",title:"On Fire",description:"Maintain a 7-day streak.",icon:"",maxProgress:7},{id:"slow_steady",category:"Speed",title:"Slow & Steady",description:"Complete a tile >6 months after starting.",icon:"",maxProgress:1},{id:"weekend_warrior",category:"Speed",title:"Weekend Warrior",description:"Complete 5 tasks on Sat/Sun.",icon:"",maxProgress:5},{id:"shutterbug",category:"Creativity",title:"Shutterbug",description:"Upload your first 10 proof photos.",icon:"",maxProgress:10},{id:"curator",category:"Creativity",title:"Curator",description:"Have a board fully completed with photos.",icon:"",maxProgress:1},{id:"selfie_star",category:"Creativity",title:"Selfie Star",description:"Upload 50 photos total.",icon:"",maxProgress:50},{id:"memory_lane",category:"Creativity",title:"Memory Lane",description:'Open "Memories" view 5 times.',icon:"",maxProgress:5},{id:"social_butterfly",category:"Social",title:"Social Butterfly",description:"Add your first 5 friends.",icon:"",maxProgress:5},{id:"got_mail",category:"Social",title:"You've Got Mail",description:"Accept a friend request.",icon:"",maxProgress:1},{id:"town_crier",category:"Social",title:"Town Crier",description:"Share a board.",icon:"",maxProgress:1},{id:"better_together",category:"Social",title:"Better Together",description:"Join a shared board.",icon:"",maxProgress:1},{id:"peculiar_peeper",category:"Social",title:"Peculiar Peeper",description:"View a friend's profile 10 times.",icon:"",maxProgress:10,isHidden:!0}],kI=()=>{const{user:t}=qi();return{unlockBadge:async a=>{if(t)try{const l=pn(mt,`users/${t.uid}/badges/progress`),c=await $a(l),d=(c.exists()?c.data():{})[a]?.progress||0,m=ac.find(g=>g.id===a);if(!m)return;d<m.maxProgress&&(await Yo(l,{[a]:{progress:m.maxProgress,unlockedAt:$o()}},{merge:!0}),console.log(` Badge Unlocked: ${m.title}`))}catch(l){console.error("Error unlocking badge:",l)}},incrementBadge:async(a,l=1)=>{if(t)try{const c=pn(mt,`users/${t.uid}/badges/progress`),h=await $a(c),d=h.exists()?h.data():{},m=ac.find(b=>b.id===a);if(!m)return;const g=d[a]?.progress||0;if(g<m.maxProgress){const b=Math.min(g+l,m.maxProgress),x=b>=m.maxProgress;await Yo(c,{[a]:{progress:b,...x?{unlockedAt:$o()}:{}}},{merge:!0}),x&&g<m.maxProgress&&console.log(` Badge Unlocked: ${m.title}`)}}catch(c){console.error("Error incrementing badge:",c)}},setBadgeProgress:async(a,l)=>{if(t)try{const c=pn(mt,`users/${t.uid}/badges/progress`),h=await $a(c),d=h.exists()?h.data():{},m=ac.find(b=>b.id===a);if(!m)return;const g=d[a]?.progress||0;if(l>g){const b=Math.min(l,m.maxProgress),x=b>=m.maxProgress;await Yo(c,{[a]:{progress:b,...x?{unlockedAt:$o()}:{}}},{merge:!0}),x&&g<m.maxProgress&&console.log(` Badge Unlocked: ${m.title}`)}}catch(c){console.error("Error setting badge progress:",c)}}}};let th=null;const Mu=()=>(th||(th=new(window.AudioContext||window.webkitAudioContext)),th),bF=()=>{const{settings:t}=ys(),e=t.enableSound??!0,n=S.useRef(0);S.useEffect(()=>{const g=()=>{th?.state==="suspended"&&th.resume()};return document.addEventListener("click",g,{once:!0}),document.addEventListener("touchstart",g,{once:!0}),()=>{document.removeEventListener("click",g),document.removeEventListener("touchstart",g)}},[]);const s=S.useCallback(()=>{const g=Date.now();return g-n.current<50?!1:(n.current=g,!0)},[]),a=S.useCallback(()=>{if(!(!e||!s()))try{const g=Mu(),b=g.createOscillator(),x=g.createGain();b.connect(x),x.connect(g.destination),b.frequency.setValueAtTime(800,g.currentTime),b.frequency.exponentialRampToValueAtTime(400,g.currentTime+.1),b.type="sine",x.gain.setValueAtTime(.15,g.currentTime),x.gain.exponentialRampToValueAtTime(.001,g.currentTime+.1),b.start(g.currentTime),b.stop(g.currentTime+.1)}catch(g){console.warn("Audio playback failed:",g)}},[e,s]),l=S.useCallback(()=>{if(!(!e||!s()))try{const g=Mu();[523.25,659.25,783.99].forEach((x,A)=>{const D=g.createOscillator(),I=g.createGain();D.connect(I),I.connect(g.destination),D.frequency.setValueAtTime(x,g.currentTime),D.type="sine";const R=g.currentTime+A*.08;I.gain.setValueAtTime(0,R),I.gain.linearRampToValueAtTime(.12,R+.02),I.gain.exponentialRampToValueAtTime(.001,R+.3),D.start(R),D.stop(R+.3)})}catch(g){console.warn("Audio playback failed:",g)}},[e,s]),c=S.useCallback(()=>{if(e)try{const g=Mu();[{freq:523.25,time:0},{freq:659.25,time:.1},{freq:783.99,time:.2},{freq:1046.5,time:.35},{freq:1318.51,time:.5}].forEach(({freq:D,time:I})=>{const R=g.createOscillator(),O=g.createGain();R.connect(O),O.connect(g.destination),R.frequency.setValueAtTime(D,g.currentTime+I),R.type="sine",O.gain.setValueAtTime(0,g.currentTime+I),O.gain.linearRampToValueAtTime(.2,g.currentTime+I+.02),O.gain.exponentialRampToValueAtTime(.001,g.currentTime+I+.5),R.start(g.currentTime+I),R.stop(g.currentTime+I+.5)});const x=g.createOscillator(),A=g.createGain();x.connect(A),A.connect(g.destination),x.type="sine",x.frequency.setValueAtTime(2e3,g.currentTime+.6),x.frequency.exponentialRampToValueAtTime(4e3,g.currentTime+1.2),A.gain.setValueAtTime(0,g.currentTime+.6),A.gain.linearRampToValueAtTime(.05,g.currentTime+.7),A.gain.exponentialRampToValueAtTime(.001,g.currentTime+1.2),x.start(g.currentTime+.6),x.stop(g.currentTime+1.2)}catch(g){console.warn("Audio playback failed:",g)}},[e]),h=S.useRef(null),d=S.useCallback(()=>{if(!(!e||!s()))try{const g=Mu();if(!h.current){const D=g.sampleRate*.15,I=g.createBuffer(1,D,g.sampleRate),R=I.getChannelData(0);for(let O=0;O<D;O++)R[O]=(Math.random()*2-1)*(1-O/D);h.current=I}const b=g.createBufferSource(),x=g.createBiquadFilter(),A=g.createGain();b.buffer=h.current,x.type="lowpass",x.frequency.setValueAtTime(2e3,g.currentTime),x.frequency.exponentialRampToValueAtTime(500,g.currentTime+.15),b.connect(x),x.connect(A),A.connect(g.destination),A.gain.setValueAtTime(.08,g.currentTime),A.gain.exponentialRampToValueAtTime(.001,g.currentTime+.15),b.start(g.currentTime)}catch(g){console.warn("Audio playback failed:",g)}},[e,s]),m=S.useCallback(()=>{if(!(!e||!s()))try{const g=Mu(),b=g.createOscillator(),x=g.createGain();b.connect(x),x.connect(g.destination),b.frequency.setValueAtTime(200,g.currentTime),b.frequency.linearRampToValueAtTime(150,g.currentTime+.2),b.type="sine",x.gain.setValueAtTime(.15,g.currentTime),x.gain.exponentialRampToValueAtTime(.001,g.currentTime+.2),b.start(g.currentTime),b.stop(g.currentTime+.2)}catch(g){console.warn("Audio playback failed:",g)}},[e,s]);return{playClick:a,playSuccess:l,playBingo:c,playWhoosh:d,playError:m}},xF=({items:t,isOpen:e,onClose:n})=>{const[s,a]=S.useState(null),{settings:l}=ys(),c=l.theme==="light",h=S.useMemo(()=>t.map((g,b)=>({...g,originalIndex:b})).filter(g=>g.proofPhotos&&g.proofPhotos.length>0).sort((g,b)=>{const x=g.completedAt?.toDate?.()||new Date(0);return(b.completedAt?.toDate?.()||new Date(0)).getTime()-x.getTime()}),[t]),d=S.useMemo(()=>{const g={};return h.forEach(b=>{const A=(b.completedAt?.toDate?.()||new Date).toLocaleDateString("en-US",{month:"long",year:"numeric"});g[A]||(g[A]=[]),g[A].push(b)}),g},[h]),m=g=>g?(g.toDate?g.toDate():new Date(g)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"";return e?y.jsx(Qs,{children:y.jsxs($e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:K("fixed inset-0 z-[200] overflow-y-auto",c?"bg-slate-50":"bg-bg-dark"),children:[y.jsx("div",{className:K("sticky top-0 z-10 backdrop-blur-md border-b",c?"bg-white/95 border-slate-200":"bg-bg-dark/95 border-white/10"),children:y.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Im,{className:"w-6 h-6 text-accent-gold"}),y.jsx("h1",{className:K("text-xl font-bold",c?"text-slate-800":"text-white"),children:"2026 Memories"}),y.jsxs("span",{className:"text-sm text-slate-400",children:["(",h.length," moments)"]})]}),y.jsx("button",{onClick:n,className:K("p-2 transition-colors rounded-full",c?"text-slate-500 hover:text-slate-800 hover:bg-slate-100":"text-slate-400 hover:text-white hover:bg-white/10"),children:y.jsx(lr,{size:24})})]})}),y.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6",children:h.length===0?y.jsxs("div",{className:"text-center py-20",children:[y.jsx(Im,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),y.jsx("h2",{className:"text-xl font-semibold text-slate-400 mb-2",children:"No memories yet"}),y.jsx("p",{className:"text-slate-500",children:"Complete tasks and add photos to build your 2026 album!"})]}):Object.entries(d).map(([g,b])=>y.jsxs("div",{className:"mb-8",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[y.jsx(Dm,{className:"w-4 h-4 text-accent-primary"}),y.jsx("h2",{className:"text-lg font-semibold text-accent-primary",children:g}),y.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-accent-primary/30 to-transparent"})]}),y.jsx("div",{className:"space-y-6",children:b.map((x,A)=>y.jsxs($e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:A*.1},className:K("rounded-2xl border overflow-hidden shadow-xl",c?"bg-white border-slate-200 shadow-slate-200/50":"bg-bg-card/80 border-white/10"),children:[y.jsxs("div",{className:"relative aspect-video bg-black cursor-pointer",onClick:()=>a({memoryIdx:h.indexOf(x),photoIdx:0}),children:[y.jsx("img",{src:x.proofPhotos[0],alt:x.text,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}),x.proofPhotos.length>1&&y.jsxs("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/70 rounded-full text-white text-xs font-medium",children:["+",x.proofPhotos.length-1," more"]})]}),x.proofPhotos.length>1&&y.jsx("div",{className:"flex gap-1 p-2 bg-black/30 overflow-x-auto",children:x.proofPhotos.map((D,I)=>y.jsx("button",{onClick:()=>a({memoryIdx:h.indexOf(x),photoIdx:I}),className:"w-14 h-14 rounded-lg overflow-hidden flex-shrink-0 border-2 border-transparent hover:border-accent-primary transition-all",children:y.jsx("img",{src:D,alt:"",className:"w-full h-full object-cover"})},I))}),y.jsxs("div",{className:"p-4",children:[y.jsxs("h3",{className:K("text-lg font-semibold mb-2 flex items-center gap-2",c?"text-slate-800":"text-white"),children:[y.jsx("span",{className:"text-accent-gold",children:x.isCompleted?"":""}),x.text]}),y.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(wh,{size:14}),x.isCompleted?x.completedBy:"In Progress"]}),x.isCompleted&&y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(Dm,{size:14}),m(x.completedAt)]})]})]})]},x.id))})]},g))}),y.jsx(Qs,{children:s!==null&&h[s.memoryIdx]&&y.jsxs($e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[300] bg-black/95 flex items-center justify-center p-4",onClick:()=>a(null),children:[y.jsx("button",{onClick:()=>a(null),className:"absolute top-4 right-4 p-2 text-white/70 hover:text-white",children:y.jsx(lr,{size:32})}),(()=>{const g=h[s.memoryIdx],b=g.proofPhotos||[],x=s.photoIdx;return y.jsxs("div",{className:"relative max-w-4xl w-full",onClick:A=>A.stopPropagation(),children:[y.jsx("img",{src:b[x],alt:"",className:"w-full max-h-[80vh] object-contain rounded-lg"}),b.length>1&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>a({...s,photoIdx:x>0?x-1:b.length-1}),className:"absolute left-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:y.jsx(hI,{size:28})}),y.jsx("button",{onClick:()=>a({...s,photoIdx:x<b.length-1?x+1:0}),className:"absolute right-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:y.jsx(dI,{size:28})})]}),y.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:[y.jsx("p",{className:"text-white font-semibold",children:g.text}),y.jsxs("p",{className:"text-slate-300 text-sm",children:[x+1," / ",b.length,"  ",m(g.completedAt)]})]})]})})()]})})]})}):null},wF=({items:t})=>{const[e,n]=S.useState([]),s=S.useRef({}),a=S.useRef(!1),{settings:l}=ys(),c=l.theme==="light";S.useEffect(()=>{if(!a.current){t.forEach(d=>{s.current[d.id]=d.reactions?.length||0}),a.current=!0;return}t.forEach(d=>{const m=d.reactions?.length||0,g=s.current[d.id]||0;m>g&&d.reactions.slice(g).forEach(x=>{h(x)}),s.current[d.id]=m})},[t]);const h=d=>{const m=Math.random().toString(36).substring(7),g=Math.random()*80+10;n(b=>[...b,{...d,id:m,x:g}]),setTimeout(()=>{n(b=>b.filter(x=>x.id!==m))},4e3)};return y.jsx("div",{className:"fixed inset-0 pointer-events-none z-[100] overflow-hidden",children:y.jsx(Qs,{children:e.map(d=>y.jsxs($e.div,{initial:{y:"110vh",opacity:0,x:`${d.x}vw`,scale:.5,rotate:0},animate:{y:"-10vh",opacity:[0,1,1,0],scale:[.5,1.5,1.2],rotate:[0,-10,10,0]},transition:{duration:4,ease:"easeOut"},className:"absolute top-0 flex flex-col items-center",children:[y.jsx("span",{className:"text-6xl drop-shadow-2xl filter",children:d.emoji}),d.byName&&y.jsx("div",{className:K("text-sm font-bold text-center mt-2 px-3 py-1 rounded-full backdrop-blur-md border shadow-lg",c?"bg-white/80 text-slate-800 border-slate-200":"bg-black/40 text-white/90 border-white/10"),children:d.byName})]},d.id))})})};function _F(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return S.useMemo(()=>s=>{e.forEach(a=>a(s))},e)}const gp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function kc(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function tx(t){return"nodeType"in t}function Es(t){var e,n;return t?kc(t)?t:tx(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function nx(t){const{Document:e}=Es(t);return t instanceof e}function Yh(t){return kc(t)?!1:t instanceof Es(t).HTMLElement}function MI(t){return t instanceof Es(t).SVGElement}function Mc(t){return t?kc(t)?t.document:tx(t)?nx(t)?t:Yh(t)||MI(t)?t.ownerDocument:document:document:document}const zi=gp?S.useLayoutEffect:S.useEffect;function yp(t){const e=S.useRef(t);return zi(()=>{e.current=t}),S.useCallback(function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e.current==null?void 0:e.current(...s)},[])}function TF(){const t=S.useRef(null),e=S.useCallback((s,a)=>{t.current=setInterval(s,a)},[]),n=S.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function _h(t,e){e===void 0&&(e=[t]);const n=S.useRef(t);return zi(()=>{n.current!==t&&(n.current=t)},e),n}function Xh(t,e){const n=S.useRef();return S.useMemo(()=>{const s=t(n.current);return n.current=s,s},[...e])}function Pm(t){const e=yp(t),n=S.useRef(null),s=S.useCallback(a=>{a!==n.current&&e?.(a,n.current),n.current=a},[]);return[n,s]}function jm(t){const e=S.useRef();return S.useEffect(()=>{e.current=t},[t]),e.current}let s0={};function Wh(t,e){return S.useMemo(()=>{if(e)return e;const n=s0[t]==null?0:s0[t]+1;return s0[t]=n,t+"-"+n},[t,e])}function PI(t){return function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return s.reduce((l,c)=>{const h=Object.entries(c);for(const[d,m]of h){const g=l[d];g!=null&&(l[d]=g+t*m)}return l},{...e})}}const oc=PI(1),Th=PI(-1);function EF(t){return"clientX"in t&&"clientY"in t}function vp(t){if(!t)return!1;const{KeyboardEvent:e}=Es(t.target);return e&&t instanceof e}function SF(t){if(!t)return!1;const{TouchEvent:e}=Es(t.target);return e&&t instanceof e}function Om(t){if(SF(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return EF(t)?{x:t.clientX,y:t.clientY}:null}const so=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[so.Translate.toString(t),so.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:s}=t;return e+" "+n+"ms "+s}}}),eA="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function AF(t){return t.matches(eA)?t:t.querySelector(eA)}const CF={display:"none"};function RF(t){let{id:e,value:n}=t;return At.createElement("div",{id:e,style:CF},n)}function NF(t){let{id:e,announcement:n,ariaLiveType:s="assertive"}=t;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return At.createElement("div",{id:e,style:a,role:"status","aria-live":s,"aria-atomic":!0},n)}function IF(){const[t,e]=S.useState("");return{announce:S.useCallback(s=>{s!=null&&e(s)},[]),announcement:t}}const jI=S.createContext(null);function DF(t){const e=S.useContext(jI);S.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function kF(){const[t]=S.useState(()=>new Set),e=S.useCallback(s=>(t.add(s),()=>t.delete(s)),[t]);return[S.useCallback(s=>{let{type:a,event:l}=s;t.forEach(c=>{var h;return(h=c[a])==null?void 0:h.call(c,l)})},[t]),e]}const MF={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},PF={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function jF(t){let{announcements:e=PF,container:n,hiddenTextDescribedById:s,screenReaderInstructions:a=MF}=t;const{announce:l,announcement:c}=IF(),h=Wh("DndLiveRegion"),[d,m]=S.useState(!1);if(S.useEffect(()=>{m(!0)},[]),DF(S.useMemo(()=>({onDragStart(b){let{active:x}=b;l(e.onDragStart({active:x}))},onDragMove(b){let{active:x,over:A}=b;e.onDragMove&&l(e.onDragMove({active:x,over:A}))},onDragOver(b){let{active:x,over:A}=b;l(e.onDragOver({active:x,over:A}))},onDragEnd(b){let{active:x,over:A}=b;l(e.onDragEnd({active:x,over:A}))},onDragCancel(b){let{active:x,over:A}=b;l(e.onDragCancel({active:x,over:A}))}}),[l,e])),!d)return null;const g=At.createElement(At.Fragment,null,At.createElement(RF,{id:s,value:a.draggable}),At.createElement(NF,{id:h,announcement:c}));return n?ju.createPortal(g,n):g}var Pn;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Pn||(Pn={}));function Vm(){}function tA(t,e){return S.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function OF(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return S.useMemo(()=>[...e].filter(s=>s!=null),[...e])}const Bi=Object.freeze({x:0,y:0});function OI(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function VF(t,e){const n=Om(t);if(!n)return"0 0";const s={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return s.x+"% "+s.y+"%"}function VI(t,e){let{data:{value:n}}=t,{data:{value:s}}=e;return n-s}function LF(t,e){let{data:{value:n}}=t,{data:{value:s}}=e;return s-n}function nA(t){let{left:e,top:n,height:s,width:a}=t;return[{x:e,y:n},{x:e+a,y:n},{x:e,y:n+s},{x:e+a,y:n+s}]}function LI(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function sA(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const UF=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=t;const a=sA(e,e.left,e.top),l=[];for(const c of s){const{id:h}=c,d=n.get(h);if(d){const m=OI(sA(d),a);l.push({id:h,data:{droppableContainer:c,value:m}})}}return l.sort(VI)},zF=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=t;const a=nA(e),l=[];for(const c of s){const{id:h}=c,d=n.get(h);if(d){const m=nA(d),g=a.reduce((x,A,D)=>x+OI(m[D],A),0),b=Number((g/4).toFixed(4));l.push({id:h,data:{droppableContainer:c,value:b}})}}return l.sort(VI)};function BF(t,e){const n=Math.max(e.top,t.top),s=Math.max(e.left,t.left),a=Math.min(e.left+e.width,t.left+t.width),l=Math.min(e.top+e.height,t.top+t.height),c=a-s,h=l-n;if(s<a&&n<l){const d=e.width*e.height,m=t.width*t.height,g=c*h,b=g/(d+m-g);return Number(b.toFixed(4))}return 0}const FF=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=t;const a=[];for(const l of s){const{id:c}=l,h=n.get(c);if(h){const d=BF(h,e);d>0&&a.push({id:c,data:{droppableContainer:l,value:d}})}}return a.sort(LF)};function qF(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function UI(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Bi}function HF(t){return function(n){for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return a.reduce((c,h)=>({...c,top:c.top+t*h.y,bottom:c.bottom+t*h.y,left:c.left+t*h.x,right:c.right+t*h.x}),{...n})}}const GF=HF(1);function zI(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function $F(t,e,n){const s=zI(e);if(!s)return t;const{scaleX:a,scaleY:l,x:c,y:h}=s,d=t.left-c-(1-a)*parseFloat(n),m=t.top-h-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),g=a?t.width/a:t.width,b=l?t.height/l:t.height;return{width:g,height:b,top:m,right:d+g,bottom:m+b,left:d}}const KF={ignoreTransform:!1};function Pc(t,e){e===void 0&&(e=KF);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:m,transformOrigin:g}=Es(t).getComputedStyle(t);m&&(n=$F(n,m,g))}const{top:s,left:a,width:l,height:c,bottom:h,right:d}=n;return{top:s,left:a,width:l,height:c,bottom:h,right:d}}function iA(t){return Pc(t,{ignoreTransform:!0})}function YF(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function XF(t,e){return e===void 0&&(e=Es(t).getComputedStyle(t)),e.position==="fixed"}function WF(t,e){e===void 0&&(e=Es(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const l=e[a];return typeof l=="string"?n.test(l):!1})}function bp(t,e){const n=[];function s(a){if(e!=null&&n.length>=e||!a)return n;if(nx(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!Yh(a)||MI(a)||n.includes(a))return n;const l=Es(t).getComputedStyle(a);return a!==t&&WF(a,l)&&n.push(a),XF(a,l)?n:s(a.parentNode)}return t?s(t):n}function BI(t){const[e]=bp(t,1);return e??null}function i0(t){return!gp||!t?null:kc(t)?t:tx(t)?nx(t)||t===Mc(t).scrollingElement?window:Yh(t)?t:null:null}function FI(t){return kc(t)?t.scrollX:t.scrollLeft}function qI(t){return kc(t)?t.scrollY:t.scrollTop}function lv(t){return{x:FI(t),y:qI(t)}}var Hn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Hn||(Hn={}));function HI(t){return!gp||!t?!1:t===document.scrollingElement}function GI(t){const e={x:0,y:0},n=HI(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},s={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},a=t.scrollTop<=e.y,l=t.scrollLeft<=e.x,c=t.scrollTop>=s.y,h=t.scrollLeft>=s.x;return{isTop:a,isLeft:l,isBottom:c,isRight:h,maxScroll:s,minScroll:e}}const QF={x:.2,y:.2};function JF(t,e,n,s,a){let{top:l,left:c,right:h,bottom:d}=n;s===void 0&&(s=10),a===void 0&&(a=QF);const{isTop:m,isBottom:g,isLeft:b,isRight:x}=GI(t),A={x:0,y:0},D={x:0,y:0},I={height:e.height*a.y,width:e.width*a.x};return!m&&l<=e.top+I.height?(A.y=Hn.Backward,D.y=s*Math.abs((e.top+I.height-l)/I.height)):!g&&d>=e.bottom-I.height&&(A.y=Hn.Forward,D.y=s*Math.abs((e.bottom-I.height-d)/I.height)),!x&&h>=e.right-I.width?(A.x=Hn.Forward,D.x=s*Math.abs((e.right-I.width-h)/I.width)):!b&&c<=e.left+I.width&&(A.x=Hn.Backward,D.x=s*Math.abs((e.left+I.width-c)/I.width)),{direction:A,speed:D}}function ZF(t){if(t===document.scrollingElement){const{innerWidth:l,innerHeight:c}=window;return{top:0,left:0,right:l,bottom:c,width:l,height:c}}const{top:e,left:n,right:s,bottom:a}=t.getBoundingClientRect();return{top:e,left:n,right:s,bottom:a,width:t.clientWidth,height:t.clientHeight}}function $I(t){return t.reduce((e,n)=>oc(e,lv(n)),Bi)}function e7(t){return t.reduce((e,n)=>e+FI(n),0)}function t7(t){return t.reduce((e,n)=>e+qI(n),0)}function KI(t,e){if(e===void 0&&(e=Pc),!t)return;const{top:n,left:s,bottom:a,right:l}=e(t);BI(t)&&(a<=0||l<=0||n>=window.innerHeight||s>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const n7=[["x",["left","right"],e7],["y",["top","bottom"],t7]];class sx{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=bp(n),a=$I(s);this.rect={...e},this.width=e.width,this.height=e.height;for(const[l,c,h]of n7)for(const d of c)Object.defineProperty(this,d,{get:()=>{const m=h(s),g=a[l]-m;return this.rect[d]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class nh{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=e}add(e,n,s){var a;(a=this.target)==null||a.addEventListener(e,n,s),this.listeners.push([e,n,s])}}function s7(t){const{EventTarget:e}=Es(t);return t instanceof e?t:Mc(t)}function r0(t,e){const n=Math.abs(t.x),s=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+s**2)>e:"x"in e&&"y"in e?n>e.x&&s>e.y:"x"in e?n>e.x:"y"in e?s>e.y:!1}var pi;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(pi||(pi={}));function rA(t){t.preventDefault()}function i7(t){t.stopPropagation()}var ct;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(ct||(ct={}));const YI={start:[ct.Space,ct.Enter],cancel:[ct.Esc],end:[ct.Space,ct.Enter,ct.Tab]},r7=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case ct.Right:return{...n,x:n.x+25};case ct.Left:return{...n,x:n.x-25};case ct.Down:return{...n,y:n.y+25};case ct.Up:return{...n,y:n.y-25}}};class ix{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new nh(Mc(n)),this.windowListeners=new nh(Es(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(pi.Resize,this.handleCancel),this.windowListeners.add(pi.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(pi.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,s=e.node.current;s&&KI(s),n(Bi)}handleKeyDown(e){if(vp(e)){const{active:n,context:s,options:a}=this.props,{keyboardCodes:l=YI,coordinateGetter:c=r7,scrollBehavior:h="smooth"}=a,{code:d}=e;if(l.end.includes(d)){this.handleEnd(e);return}if(l.cancel.includes(d)){this.handleCancel(e);return}const{collisionRect:m}=s.current,g=m?{x:m.left,y:m.top}:Bi;this.referenceCoordinates||(this.referenceCoordinates=g);const b=c(e,{active:n,context:s.current,currentCoordinates:g});if(b){const x=Th(b,g),A={x:0,y:0},{scrollableAncestors:D}=s.current;for(const I of D){const R=e.code,{isTop:O,isRight:H,isLeft:F,isBottom:re,maxScroll:te,minScroll:ce}=GI(I),k=ZF(I),C={x:Math.min(R===ct.Right?k.right-k.width/2:k.right,Math.max(R===ct.Right?k.left:k.left+k.width/2,b.x)),y:Math.min(R===ct.Down?k.bottom-k.height/2:k.bottom,Math.max(R===ct.Down?k.top:k.top+k.height/2,b.y))},P=R===ct.Right&&!H||R===ct.Left&&!F,z=R===ct.Down&&!re||R===ct.Up&&!O;if(P&&C.x!==b.x){const B=I.scrollLeft+x.x,j=R===ct.Right&&B<=te.x||R===ct.Left&&B>=ce.x;if(j&&!x.y){I.scrollTo({left:B,behavior:h});return}j?A.x=I.scrollLeft-B:A.x=R===ct.Right?I.scrollLeft-te.x:I.scrollLeft-ce.x,A.x&&I.scrollBy({left:-A.x,behavior:h});break}else if(z&&C.y!==b.y){const B=I.scrollTop+x.y,j=R===ct.Down&&B<=te.y||R===ct.Up&&B>=ce.y;if(j&&!x.x){I.scrollTo({top:B,behavior:h});return}j?A.y=I.scrollTop-B:A.y=R===ct.Down?I.scrollTop-te.y:I.scrollTop-ce.y,A.y&&I.scrollBy({top:-A.y,behavior:h});break}}this.handleMove(e,oc(Th(b,this.referenceCoordinates),A))}}}handleMove(e,n){const{onMove:s}=this.props;e.preventDefault(),s(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}ix.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:s=YI,onActivation:a}=e,{active:l}=n;const{code:c}=t.nativeEvent;if(s.start.includes(c)){const h=l.activatorNode.current;return h&&t.target!==h?!1:(t.preventDefault(),a?.({event:t.nativeEvent}),!0)}return!1}}];function aA(t){return!!(t&&"distance"in t)}function oA(t){return!!(t&&"delay"in t)}class rx{constructor(e,n,s){var a;s===void 0&&(s=s7(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:l}=e,{target:c}=l;this.props=e,this.events=n,this.document=Mc(c),this.documentListeners=new nh(this.document),this.listeners=new nh(s),this.windowListeners=new nh(Es(c)),this.initialCoordinates=(a=Om(l))!=null?a:Bi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(pi.Resize,this.handleCancel),this.windowListeners.add(pi.DragStart,rA),this.windowListeners.add(pi.VisibilityChange,this.handleCancel),this.windowListeners.add(pi.ContextMenu,rA),this.documentListeners.add(pi.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(oA(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(aA(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:s,onPending:a}=this.props;a(s,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(pi.Click,i7,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(pi.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:s,initialCoordinates:a,props:l}=this,{onMove:c,options:{activationConstraint:h}}=l;if(!a)return;const d=(n=Om(e))!=null?n:Bi,m=Th(a,d);if(!s&&h){if(aA(h)){if(h.tolerance!=null&&r0(m,h.tolerance))return this.handleCancel();if(r0(m,h.distance))return this.handleStart()}if(oA(h)&&r0(m,h.tolerance))return this.handleCancel();this.handlePending(h,m);return}e.cancelable&&e.preventDefault(),c(d)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===ct.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const a7={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class ax extends rx{constructor(e){const{event:n}=e,s=Mc(n.target);super(e,a7,s)}}ax.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:s}=e;return!n.isPrimary||n.button!==0?!1:(s?.({event:n}),!0)}}];const o7={move:{name:"mousemove"},end:{name:"mouseup"}};var cv;(function(t){t[t.RightClick=2]="RightClick"})(cv||(cv={}));class l7 extends rx{constructor(e){super(e,o7,Mc(e.event.target))}}l7.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:s}=e;return n.button===cv.RightClick?!1:(s?.({event:n}),!0)}}];const a0={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class c7 extends rx{constructor(e){super(e,a0)}static setup(){return window.addEventListener(a0.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(a0.move.name,e)};function e(){}}}c7.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:s}=e;const{touches:a}=n;return a.length>1?!1:(s?.({event:n}),!0)}}];var sh;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(sh||(sh={}));var Lm;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Lm||(Lm={}));function u7(t){let{acceleration:e,activator:n=sh.Pointer,canScroll:s,draggingRect:a,enabled:l,interval:c=5,order:h=Lm.TreeOrder,pointerCoordinates:d,scrollableAncestors:m,scrollableAncestorRects:g,delta:b,threshold:x}=t;const A=d7({delta:b,disabled:!l}),[D,I]=TF(),R=S.useRef({x:0,y:0}),O=S.useRef({x:0,y:0}),H=S.useMemo(()=>{switch(n){case sh.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case sh.DraggableRect:return a}},[n,a,d]),F=S.useRef(null),re=S.useCallback(()=>{const ce=F.current;if(!ce)return;const k=R.current.x*O.current.x,C=R.current.y*O.current.y;ce.scrollBy(k,C)},[]),te=S.useMemo(()=>h===Lm.TreeOrder?[...m].reverse():m,[h,m]);S.useEffect(()=>{if(!l||!m.length||!H){I();return}for(const ce of te){if(s?.(ce)===!1)continue;const k=m.indexOf(ce),C=g[k];if(!C)continue;const{direction:P,speed:z}=JF(ce,C,H,e,x);for(const B of["x","y"])A[B][P[B]]||(z[B]=0,P[B]=0);if(z.x>0||z.y>0){I(),F.current=ce,D(re,c),R.current=z,O.current=P;return}}R.current={x:0,y:0},O.current={x:0,y:0},I()},[e,re,s,I,l,c,JSON.stringify(H),JSON.stringify(A),D,m,te,g,JSON.stringify(x)])}const h7={x:{[Hn.Backward]:!1,[Hn.Forward]:!1},y:{[Hn.Backward]:!1,[Hn.Forward]:!1}};function d7(t){let{delta:e,disabled:n}=t;const s=jm(e);return Xh(a=>{if(n||!s||!a)return h7;const l={x:Math.sign(e.x-s.x),y:Math.sign(e.y-s.y)};return{x:{[Hn.Backward]:a.x[Hn.Backward]||l.x===-1,[Hn.Forward]:a.x[Hn.Forward]||l.x===1},y:{[Hn.Backward]:a.y[Hn.Backward]||l.y===-1,[Hn.Forward]:a.y[Hn.Forward]||l.y===1}}},[n,e,s])}function f7(t,e){const n=e!=null?t.get(e):void 0,s=n?n.node.current:null;return Xh(a=>{var l;return e==null?null:(l=s??a)!=null?l:null},[s,e])}function m7(t,e){return S.useMemo(()=>t.reduce((n,s)=>{const{sensor:a}=s,l=a.activators.map(c=>({eventName:c.eventName,handler:e(c.handler,s)}));return[...n,...l]},[]),[t,e])}var Eh;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Eh||(Eh={}));var uv;(function(t){t.Optimized="optimized"})(uv||(uv={}));const lA=new Map;function p7(t,e){let{dragging:n,dependencies:s,config:a}=e;const[l,c]=S.useState(null),{frequency:h,measure:d,strategy:m}=a,g=S.useRef(t),b=R(),x=_h(b),A=S.useCallback(function(O){O===void 0&&(O=[]),!x.current&&c(H=>H===null?O:H.concat(O.filter(F=>!H.includes(F))))},[x]),D=S.useRef(null),I=Xh(O=>{if(b&&!n)return lA;if(!O||O===lA||g.current!==t||l!=null){const H=new Map;for(let F of t){if(!F)continue;if(l&&l.length>0&&!l.includes(F.id)&&F.rect.current){H.set(F.id,F.rect.current);continue}const re=F.node.current,te=re?new sx(d(re),re):null;F.rect.current=te,te&&H.set(F.id,te)}return H}return O},[t,l,n,b,d]);return S.useEffect(()=>{g.current=t},[t]),S.useEffect(()=>{b||A()},[n,b]),S.useEffect(()=>{l&&l.length>0&&c(null)},[JSON.stringify(l)]),S.useEffect(()=>{b||typeof h!="number"||D.current!==null||(D.current=setTimeout(()=>{A(),D.current=null},h))},[h,b,A,...s]),{droppableRects:I,measureDroppableContainers:A,measuringScheduled:l!=null};function R(){switch(m){case Eh.Always:return!1;case Eh.BeforeDragging:return n;default:return!n}}}function ox(t,e){return Xh(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function g7(t,e){return ox(t,e)}function y7(t){let{callback:e,disabled:n}=t;const s=yp(e),a=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(s)},[s,n]);return S.useEffect(()=>()=>a?.disconnect(),[a]),a}function xp(t){let{callback:e,disabled:n}=t;const s=yp(e),a=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(s)},[n]);return S.useEffect(()=>()=>a?.disconnect(),[a]),a}function v7(t){return new sx(Pc(t),t)}function cA(t,e,n){e===void 0&&(e=v7);const[s,a]=S.useState(null);function l(){a(d=>{if(!t)return null;if(t.isConnected===!1){var m;return(m=d??n)!=null?m:null}const g=e(t);return JSON.stringify(d)===JSON.stringify(g)?d:g})}const c=y7({callback(d){if(t)for(const m of d){const{type:g,target:b}=m;if(g==="childList"&&b instanceof HTMLElement&&b.contains(t)){l();break}}}}),h=xp({callback:l});return zi(()=>{l(),t?(h?.observe(t),c?.observe(document.body,{childList:!0,subtree:!0})):(h?.disconnect(),c?.disconnect())},[t]),s}function b7(t){const e=ox(t);return UI(t,e)}const uA=[];function x7(t){const e=S.useRef(t),n=Xh(s=>t?s&&s!==uA&&t&&e.current&&t.parentNode===e.current.parentNode?s:bp(t):uA,[t]);return S.useEffect(()=>{e.current=t},[t]),n}function w7(t){const[e,n]=S.useState(null),s=S.useRef(t),a=S.useCallback(l=>{const c=i0(l.target);c&&n(h=>h?(h.set(c,lv(c)),new Map(h)):null)},[]);return S.useEffect(()=>{const l=s.current;if(t!==l){c(l);const h=t.map(d=>{const m=i0(d);return m?(m.addEventListener("scroll",a,{passive:!0}),[m,lv(m)]):null}).filter(d=>d!=null);n(h.length?new Map(h):null),s.current=t}return()=>{c(t),c(l)};function c(h){h.forEach(d=>{const m=i0(d);m?.removeEventListener("scroll",a)})}},[a,t]),S.useMemo(()=>t.length?e?Array.from(e.values()).reduce((l,c)=>oc(l,c),Bi):$I(t):Bi,[t,e])}function hA(t,e){e===void 0&&(e=[]);const n=S.useRef(null);return S.useEffect(()=>{n.current=null},e),S.useEffect(()=>{const s=t!==Bi;s&&!n.current&&(n.current=t),!s&&n.current&&(n.current=null)},[t]),n.current?Th(t,n.current):Bi}function _7(t){S.useEffect(()=>{if(!gp)return;const e=t.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function T7(t,e){return S.useMemo(()=>t.reduce((n,s)=>{let{eventName:a,handler:l}=s;return n[a]=c=>{l(c,e)},n},{}),[t,e])}function XI(t){return S.useMemo(()=>t?YF(t):null,[t])}const dA=[];function E7(t,e){e===void 0&&(e=Pc);const[n]=t,s=XI(n?Es(n):null),[a,l]=S.useState(dA);function c(){l(()=>t.length?t.map(d=>HI(d)?s:new sx(e(d),d)):dA)}const h=xp({callback:c});return zi(()=>{h?.disconnect(),c(),t.forEach(d=>h?.observe(d))},[t]),a}function WI(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Yh(e)?e:t}function S7(t){let{measure:e}=t;const[n,s]=S.useState(null),a=S.useCallback(m=>{for(const{target:g}of m)if(Yh(g)){s(b=>{const x=e(g);return b?{...b,width:x.width,height:x.height}:x});break}},[e]),l=xp({callback:a}),c=S.useCallback(m=>{const g=WI(m);l?.disconnect(),g&&l?.observe(g),s(g?e(g):null)},[e,l]),[h,d]=Pm(c);return S.useMemo(()=>({nodeRef:h,rect:n,setRef:d}),[n,h,d])}const A7=[{sensor:ax,options:{}},{sensor:ix,options:{}}],C7={current:{}},Jf={draggable:{measure:iA},droppable:{measure:iA,strategy:Eh.WhileDragging,frequency:uv.Optimized},dragOverlay:{measure:Pc}};class ih extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,s;return(n=(s=this.get(e))==null?void 0:s.node.current)!=null?n:void 0}}const R7={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ih,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Vm},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Jf,measureDroppableContainers:Vm,windowRect:null,measuringScheduled:!1},QI={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Vm,draggableNodes:new Map,over:null,measureDroppableContainers:Vm},Qh=S.createContext(QI),JI=S.createContext(R7);function N7(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ih}}}function I7(t,e){switch(e.type){case Pn.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Pn.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Pn.DragEnd:case Pn.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Pn.RegisterDroppable:{const{element:n}=e,{id:s}=n,a=new ih(t.droppable.containers);return a.set(s,n),{...t,droppable:{...t.droppable,containers:a}}}case Pn.SetDroppableDisabled:{const{id:n,key:s,disabled:a}=e,l=t.droppable.containers.get(n);if(!l||s!==l.key)return t;const c=new ih(t.droppable.containers);return c.set(n,{...l,disabled:a}),{...t,droppable:{...t.droppable,containers:c}}}case Pn.UnregisterDroppable:{const{id:n,key:s}=e,a=t.droppable.containers.get(n);if(!a||s!==a.key)return t;const l=new ih(t.droppable.containers);return l.delete(n),{...t,droppable:{...t.droppable,containers:l}}}default:return t}}function D7(t){let{disabled:e}=t;const{active:n,activatorEvent:s,draggableNodes:a}=S.useContext(Qh),l=jm(s),c=jm(n?.id);return S.useEffect(()=>{if(!e&&!s&&l&&c!=null){if(!vp(l)||document.activeElement===l.target)return;const h=a.get(c);if(!h)return;const{activatorNode:d,node:m}=h;if(!d.current&&!m.current)return;requestAnimationFrame(()=>{for(const g of[d.current,m.current]){if(!g)continue;const b=AF(g);if(b){b.focus();break}}})}},[s,e,a,c,l]),null}function ZI(t,e){let{transform:n,...s}=e;return t!=null&&t.length?t.reduce((a,l)=>l({transform:a,...s}),n):n}function k7(t){return S.useMemo(()=>({draggable:{...Jf.draggable,...t?.draggable},droppable:{...Jf.droppable,...t?.droppable},dragOverlay:{...Jf.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function M7(t){let{activeNode:e,measure:n,initialRect:s,config:a=!0}=t;const l=S.useRef(!1),{x:c,y:h}=typeof a=="boolean"?{x:a,y:a}:a;zi(()=>{if(!c&&!h||!e){l.current=!1;return}if(l.current||!s)return;const m=e?.node.current;if(!m||m.isConnected===!1)return;const g=n(m),b=UI(g,s);if(c||(b.x=0),h||(b.y=0),l.current=!0,Math.abs(b.x)>0||Math.abs(b.y)>0){const x=BI(m);x&&x.scrollBy({top:b.y,left:b.x})}},[e,c,h,s,n])}const wp=S.createContext({...Bi,scaleX:1,scaleY:1});var Va;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Va||(Va={}));const P7=S.memo(function(e){var n,s,a,l;let{id:c,accessibility:h,autoScroll:d=!0,children:m,sensors:g=A7,collisionDetection:b=FF,measuring:x,modifiers:A,...D}=e;const I=S.useReducer(I7,void 0,N7),[R,O]=I,[H,F]=kF(),[re,te]=S.useState(Va.Uninitialized),ce=re===Va.Initialized,{draggable:{active:k,nodes:C,translate:P},droppable:{containers:z}}=R,B=k!=null?C.get(k):null,j=S.useRef({initial:null,translated:null}),V=S.useMemo(()=>{var We;return k!=null?{id:k,data:(We=B?.data)!=null?We:C7,rect:j}:null},[k,B]),be=S.useRef(null),[we,J]=S.useState(null),[Y,$]=S.useState(null),W=_h(D,Object.values(D)),L=Wh("DndDescribedBy",c),T=S.useMemo(()=>z.getEnabled(),[z]),U=k7(x),{droppableRects:X,measureDroppableContainers:ee,measuringScheduled:me}=p7(T,{dragging:ce,dependencies:[P.x,P.y],config:U.droppable}),ye=f7(C,k),ge=S.useMemo(()=>Y?Om(Y):null,[Y]),_e=Cs(),Ee=g7(ye,U.draggable.measure);M7({activeNode:k!=null?C.get(k):null,config:_e.layoutShiftCompensation,initialRect:Ee,measure:U.draggable.measure});const Ce=cA(ye,U.draggable.measure,Ee),Ue=cA(ye?ye.parentElement:null),Ve=S.useRef({activatorEvent:null,active:null,activeNode:ye,collisionRect:null,collisions:null,droppableRects:X,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ut=z.getNodeFor((n=Ve.current.over)==null?void 0:n.id),ke=S7({measure:U.dragOverlay.measure}),pt=(s=ke.nodeRef.current)!=null?s:ye,bt=ce?(a=ke.rect)!=null?a:Ce:null,Zt=!!(ke.nodeRef.current&&ke.rect),on=b7(Zt?null:Ce),ot=XI(pt?Es(pt):null),Fe=x7(ce?ut??ye:null),On=E7(Fe),Ss=ZI(A,{transform:{x:P.x-on.x,y:P.y-on.y,scaleX:1,scaleY:1},activatorEvent:Y,active:V,activeNodeRect:Ce,containerNodeRect:Ue,draggingNodeRect:bt,over:Ve.current.over,overlayNodeRect:ke.rect,scrollableAncestors:Fe,scrollableAncestorRects:On,windowRect:ot}),Ls=ge?oc(ge,P):null,ft=w7(Fe),Kn=hA(ft),Us=hA(ft,[Ce]),Yn=oc(Ss,Kn),ln=bt?GF(bt,Ss):null,is=V&&ln?b({active:V,collisionRect:ln,droppableRects:X,droppableContainers:T,pointerCoordinates:Ls}):null,Nn=LI(is,"id"),[gn,zs]=S.useState(null),Vn=Zt?Ss:oc(Ss,Us),cn=qF(Vn,(l=gn?.rect)!=null?l:null,Ce),In=S.useRef(null),ht=S.useCallback((We,Tt)=>{let{sensor:Ze,options:Ot}=Tt;if(be.current==null)return;const Ln=C.get(be.current);if(!Ln)return;const en=We.nativeEvent,Mt=new Ze({active:be.current,activeNode:Ln,event:en,options:Ot,context:Ve,onAbort(Kt){if(!C.get(Kt))return;const{onDragAbort:zn}=W.current,Xn={id:Kt};zn?.(Xn),H({type:"onDragAbort",event:Xn})},onPending(Kt,Un,zn,Xn){if(!C.get(Kt))return;const{onDragPending:Vt}=W.current,vn={id:Kt,constraint:Un,initialCoordinates:zn,offset:Xn};Vt?.(vn),H({type:"onDragPending",event:vn})},onStart(Kt){const Un=be.current;if(Un==null)return;const zn=C.get(Un);if(!zn)return;const{onDragStart:Xn}=W.current,yn={activatorEvent:en,active:{id:Un,data:zn.data,rect:j}};ju.unstable_batchedUpdates(()=>{Xn?.(yn),te(Va.Initializing),O({type:Pn.DragStart,initialCoordinates:Kt,active:Un}),H({type:"onDragStart",event:yn}),J(In.current),$(en)})},onMove(Kt){O({type:Pn.DragMove,coordinates:Kt})},onEnd:rs(Pn.DragEnd),onCancel:rs(Pn.DragCancel)});In.current=Mt;function rs(Kt){return async function(){const{active:zn,collisions:Xn,over:yn,scrollAdjustedTranslate:Vt}=Ve.current;let vn=null;if(zn&&Vt){const{cancelDrop:Lt}=W.current;vn={activatorEvent:en,active:zn,collisions:Xn,delta:Vt,over:yn},Kt===Pn.DragEnd&&typeof Lt=="function"&&await Promise.resolve(Lt(vn))&&(Kt=Pn.DragCancel)}be.current=null,ju.unstable_batchedUpdates(()=>{O({type:Kt}),te(Va.Uninitialized),zs(null),J(null),$(null),In.current=null;const Lt=Kt===Pn.DragEnd?"onDragEnd":"onDragCancel";if(vn){const Bn=W.current[Lt];Bn?.(vn),H({type:Lt,event:vn})}})}}},[C]),Jr=S.useCallback((We,Tt)=>(Ze,Ot)=>{const Ln=Ze.nativeEvent,en=C.get(Ot);if(be.current!==null||!en||Ln.dndKit||Ln.defaultPrevented)return;const Mt={active:en};We(Ze,Tt.options,Mt)===!0&&(Ln.dndKit={capturedBy:Tt.sensor},be.current=Ot,ht(Ze,Tt))},[C,ht]),Bs=m7(g,Jr);_7(g),zi(()=>{Ce&&re===Va.Initializing&&te(Va.Initialized)},[Ce,re]),S.useEffect(()=>{const{onDragMove:We}=W.current,{active:Tt,activatorEvent:Ze,collisions:Ot,over:Ln}=Ve.current;if(!Tt||!Ze)return;const en={active:Tt,activatorEvent:Ze,collisions:Ot,delta:{x:Yn.x,y:Yn.y},over:Ln};ju.unstable_batchedUpdates(()=>{We?.(en),H({type:"onDragMove",event:en})})},[Yn.x,Yn.y]),S.useEffect(()=>{const{active:We,activatorEvent:Tt,collisions:Ze,droppableContainers:Ot,scrollAdjustedTranslate:Ln}=Ve.current;if(!We||be.current==null||!Tt||!Ln)return;const{onDragOver:en}=W.current,Mt=Ot.get(Nn),rs=Mt&&Mt.rect.current?{id:Mt.id,rect:Mt.rect.current,data:Mt.data,disabled:Mt.disabled}:null,Kt={active:We,activatorEvent:Tt,collisions:Ze,delta:{x:Ln.x,y:Ln.y},over:rs};ju.unstable_batchedUpdates(()=>{zs(rs),en?.(Kt),H({type:"onDragOver",event:Kt})})},[Nn]),zi(()=>{Ve.current={activatorEvent:Y,active:V,activeNode:ye,collisionRect:ln,collisions:is,droppableRects:X,draggableNodes:C,draggingNode:pt,draggingNodeRect:bt,droppableContainers:z,over:gn,scrollableAncestors:Fe,scrollAdjustedTranslate:Yn},j.current={initial:bt,translated:ln}},[V,ye,is,ln,C,pt,bt,X,z,gn,Fe,Yn]),u7({..._e,delta:P,draggingRect:ln,pointerCoordinates:Ls,scrollableAncestors:Fe,scrollableAncestorRects:On});const Zr=S.useMemo(()=>({active:V,activeNode:ye,activeNodeRect:Ce,activatorEvent:Y,collisions:is,containerNodeRect:Ue,dragOverlay:ke,draggableNodes:C,droppableContainers:z,droppableRects:X,over:gn,measureDroppableContainers:ee,scrollableAncestors:Fe,scrollableAncestorRects:On,measuringConfiguration:U,measuringScheduled:me,windowRect:ot}),[V,ye,Ce,Y,is,Ue,ke,C,z,X,gn,ee,Fe,On,U,me,ot]),As=S.useMemo(()=>({activatorEvent:Y,activators:Bs,active:V,activeNodeRect:Ce,ariaDescribedById:{draggable:L},dispatch:O,draggableNodes:C,over:gn,measureDroppableContainers:ee}),[Y,Bs,V,Ce,O,L,C,gn,ee]);return At.createElement(jI.Provider,{value:F},At.createElement(Qh.Provider,{value:As},At.createElement(JI.Provider,{value:Zr},At.createElement(wp.Provider,{value:cn},m)),At.createElement(D7,{disabled:h?.restoreFocus===!1})),At.createElement(jF,{...h,hiddenTextDescribedById:L}));function Cs(){const We=we?.autoScrollEnabled===!1,Tt=typeof d=="object"?d.enabled===!1:d===!1,Ze=ce&&!We&&!Tt;return typeof d=="object"?{...d,enabled:Ze}:{enabled:Ze}}}),j7=S.createContext(null),fA="button",O7="Draggable";function V7(t){let{id:e,data:n,disabled:s=!1,attributes:a}=t;const l=Wh(O7),{activators:c,activatorEvent:h,active:d,activeNodeRect:m,ariaDescribedById:g,draggableNodes:b,over:x}=S.useContext(Qh),{role:A=fA,roleDescription:D="draggable",tabIndex:I=0}=a??{},R=d?.id===e,O=S.useContext(R?wp:j7),[H,F]=Pm(),[re,te]=Pm(),ce=T7(c,e),k=_h(n);zi(()=>(b.set(e,{id:e,key:l,node:H,activatorNode:re,data:k}),()=>{const P=b.get(e);P&&P.key===l&&b.delete(e)}),[b,e]);const C=S.useMemo(()=>({role:A,tabIndex:I,"aria-disabled":s,"aria-pressed":R&&A===fA?!0:void 0,"aria-roledescription":D,"aria-describedby":g.draggable}),[s,A,I,R,D,g.draggable]);return{active:d,activatorEvent:h,activeNodeRect:m,attributes:C,isDragging:R,listeners:s?void 0:ce,node:H,over:x,setNodeRef:F,setActivatorNodeRef:te,transform:O}}function eD(){return S.useContext(JI)}const L7="Droppable",U7={timeout:25};function z7(t){let{data:e,disabled:n=!1,id:s,resizeObserverConfig:a}=t;const l=Wh(L7),{active:c,dispatch:h,over:d,measureDroppableContainers:m}=S.useContext(Qh),g=S.useRef({disabled:n}),b=S.useRef(!1),x=S.useRef(null),A=S.useRef(null),{disabled:D,updateMeasurementsFor:I,timeout:R}={...U7,...a},O=_h(I??s),H=S.useCallback(()=>{if(!b.current){b.current=!0;return}A.current!=null&&clearTimeout(A.current),A.current=setTimeout(()=>{m(Array.isArray(O.current)?O.current:[O.current]),A.current=null},R)},[R]),F=xp({callback:H,disabled:D||!c}),re=S.useCallback((C,P)=>{F&&(P&&(F.unobserve(P),b.current=!1),C&&F.observe(C))},[F]),[te,ce]=Pm(re),k=_h(e);return S.useEffect(()=>{!F||!te.current||(F.disconnect(),b.current=!1,F.observe(te.current))},[te,F]),S.useEffect(()=>(h({type:Pn.RegisterDroppable,element:{id:s,key:l,disabled:n,node:te,rect:x,data:k}}),()=>h({type:Pn.UnregisterDroppable,key:l,id:s})),[s]),S.useEffect(()=>{n!==g.current.disabled&&(h({type:Pn.SetDroppableDisabled,id:s,key:l,disabled:n}),g.current.disabled=n)},[s,l,n,h]),{active:c,rect:x,isOver:d?.id===s,node:te,over:d,setNodeRef:ce}}function B7(t){let{animation:e,children:n}=t;const[s,a]=S.useState(null),[l,c]=S.useState(null),h=jm(n);return!n&&!s&&h&&a(h),zi(()=>{if(!l)return;const d=s?.key,m=s?.props.id;if(d==null||m==null){a(null);return}Promise.resolve(e(m,l)).then(()=>{a(null)})},[e,s,l]),At.createElement(At.Fragment,null,n,s?S.cloneElement(s,{ref:c}):null)}const F7={x:0,y:0,scaleX:1,scaleY:1};function q7(t){let{children:e}=t;return At.createElement(Qh.Provider,{value:QI},At.createElement(wp.Provider,{value:F7},e))}const H7={position:"fixed",touchAction:"none"},G7=t=>vp(t)?"transform 250ms ease":void 0,$7=S.forwardRef((t,e)=>{let{as:n,activatorEvent:s,adjustScale:a,children:l,className:c,rect:h,style:d,transform:m,transition:g=G7}=t;if(!h)return null;const b=a?m:{...m,scaleX:1,scaleY:1},x={...H7,width:h.width,height:h.height,top:h.top,left:h.left,transform:so.Transform.toString(b),transformOrigin:a&&s?VF(s,h):void 0,transition:typeof g=="function"?g(s):g,...d};return At.createElement(n,{className:c,style:x,ref:e},l)}),K7=t=>e=>{let{active:n,dragOverlay:s}=e;const a={},{styles:l,className:c}=t;if(l!=null&&l.active)for(const[h,d]of Object.entries(l.active))d!==void 0&&(a[h]=n.node.style.getPropertyValue(h),n.node.style.setProperty(h,d));if(l!=null&&l.dragOverlay)for(const[h,d]of Object.entries(l.dragOverlay))d!==void 0&&s.node.style.setProperty(h,d);return c!=null&&c.active&&n.node.classList.add(c.active),c!=null&&c.dragOverlay&&s.node.classList.add(c.dragOverlay),function(){for(const[d,m]of Object.entries(a))n.node.style.setProperty(d,m);c!=null&&c.active&&n.node.classList.remove(c.active)}},Y7=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:so.Transform.toString(e)},{transform:so.Transform.toString(n)}]},X7={duration:250,easing:"ease",keyframes:Y7,sideEffects:K7({styles:{active:{opacity:"0"}}})};function W7(t){let{config:e,draggableNodes:n,droppableContainers:s,measuringConfiguration:a}=t;return yp((l,c)=>{if(e===null)return;const h=n.get(l);if(!h)return;const d=h.node.current;if(!d)return;const m=WI(c);if(!m)return;const{transform:g}=Es(c).getComputedStyle(c),b=zI(g);if(!b)return;const x=typeof e=="function"?e:Q7(e);return KI(d,a.draggable.measure),x({active:{id:l,data:h.data,node:d,rect:a.draggable.measure(d)},draggableNodes:n,dragOverlay:{node:c,rect:a.dragOverlay.measure(m)},droppableContainers:s,measuringConfiguration:a,transform:b})})}function Q7(t){const{duration:e,easing:n,sideEffects:s,keyframes:a}={...X7,...t};return l=>{let{active:c,dragOverlay:h,transform:d,...m}=l;if(!e)return;const g={x:h.rect.left-c.rect.left,y:h.rect.top-c.rect.top},b={scaleX:d.scaleX!==1?c.rect.width*d.scaleX/h.rect.width:1,scaleY:d.scaleY!==1?c.rect.height*d.scaleY/h.rect.height:1},x={x:d.x-g.x,y:d.y-g.y,...b},A=a({...m,active:c,dragOverlay:h,transform:{initial:d,final:x}}),[D]=A,I=A[A.length-1];if(JSON.stringify(D)===JSON.stringify(I))return;const R=s?.({active:c,dragOverlay:h,...m}),O=h.node.animate(A,{duration:e,easing:n,fill:"forwards"});return new Promise(H=>{O.onfinish=()=>{R?.(),H()}})}}let mA=0;function J7(t){return S.useMemo(()=>{if(t!=null)return mA++,mA},[t])}const Z7=At.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:s,style:a,transition:l,modifiers:c,wrapperElement:h="div",className:d,zIndex:m=999}=t;const{activatorEvent:g,active:b,activeNodeRect:x,containerNodeRect:A,draggableNodes:D,droppableContainers:I,dragOverlay:R,over:O,measuringConfiguration:H,scrollableAncestors:F,scrollableAncestorRects:re,windowRect:te}=eD(),ce=S.useContext(wp),k=J7(b?.id),C=ZI(c,{activatorEvent:g,active:b,activeNodeRect:x,containerNodeRect:A,draggingNodeRect:R.rect,over:O,overlayNodeRect:R.rect,scrollableAncestors:F,scrollableAncestorRects:re,transform:ce,windowRect:te}),P=ox(x),z=W7({config:s,draggableNodes:D,droppableContainers:I,measuringConfiguration:H}),B=P?R.setRef:void 0;return At.createElement(q7,null,At.createElement(B7,{animation:z},b&&k?At.createElement($7,{key:k,id:b.id,ref:B,as:h,activatorEvent:g,adjustScale:e,className:d,transition:l,rect:P,style:{zIndex:m,...a},transform:C},n):null))});function lx(t,e,n){const s=t.slice();return s.splice(n<0?s.length+n:n,0,s.splice(e,1)[0]),s}function eq(t,e){return t.reduce((n,s,a)=>{const l=e.get(s);return l&&(n[a]=l),n},Array(t.length))}function kf(t){return t!==null&&t>=0}function tq(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function nq(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const cx=t=>{let{rects:e,activeIndex:n,overIndex:s,index:a}=t;const l=lx(e,s,n),c=e[a],h=l[a];return!h||!c?null:{x:h.left-c.left,y:h.top-c.top,scaleX:h.width/c.width,scaleY:h.height/c.height}},tD="Sortable",nD=At.createContext({activeIndex:-1,containerId:tD,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:cx,disabled:{draggable:!1,droppable:!1}});function sq(t){let{children:e,id:n,items:s,strategy:a=cx,disabled:l=!1}=t;const{active:c,dragOverlay:h,droppableRects:d,over:m,measureDroppableContainers:g}=eD(),b=Wh(tD,n),x=h.rect!==null,A=S.useMemo(()=>s.map(ce=>typeof ce=="object"&&"id"in ce?ce.id:ce),[s]),D=c!=null,I=c?A.indexOf(c.id):-1,R=m?A.indexOf(m.id):-1,O=S.useRef(A),H=!tq(A,O.current),F=R!==-1&&I===-1||H,re=nq(l);zi(()=>{H&&D&&g(A)},[H,A,D,g]),S.useEffect(()=>{O.current=A},[A]);const te=S.useMemo(()=>({activeIndex:I,containerId:b,disabled:re,disableTransforms:F,items:A,overIndex:R,useDragOverlay:x,sortedRects:eq(A,d),strategy:a}),[I,b,re.draggable,re.droppable,F,A,R,d,x,a]);return At.createElement(nD.Provider,{value:te},e)}const iq=t=>{let{id:e,items:n,activeIndex:s,overIndex:a}=t;return lx(n,s,a).indexOf(e)},rq=t=>{let{containerId:e,isSorting:n,wasDragging:s,index:a,items:l,newIndex:c,previousItems:h,previousContainerId:d,transition:m}=t;return!m||!s||h!==l&&a===c?!1:n?!0:c!==a&&e===d},aq={duration:200,easing:"ease"},sD="transform",oq=so.Transition.toString({property:sD,duration:0,easing:"linear"}),lq={roleDescription:"sortable"};function cq(t){let{disabled:e,index:n,node:s,rect:a}=t;const[l,c]=S.useState(null),h=S.useRef(n);return zi(()=>{if(!e&&n!==h.current&&s.current){const d=a.current;if(d){const m=Pc(s.current,{ignoreTransform:!0}),g={x:d.left-m.left,y:d.top-m.top,scaleX:d.width/m.width,scaleY:d.height/m.height};(g.x||g.y)&&c(g)}}n!==h.current&&(h.current=n)},[e,n,s,a]),S.useEffect(()=>{l&&c(null)},[l]),l}function uq(t){let{animateLayoutChanges:e=rq,attributes:n,disabled:s,data:a,getNewIndex:l=iq,id:c,strategy:h,resizeObserverConfig:d,transition:m=aq}=t;const{items:g,containerId:b,activeIndex:x,disabled:A,disableTransforms:D,sortedRects:I,overIndex:R,useDragOverlay:O,strategy:H}=S.useContext(nD),F=hq(s,A),re=g.indexOf(c),te=S.useMemo(()=>({sortable:{containerId:b,index:re,items:g},...a}),[b,a,re,g]),ce=S.useMemo(()=>g.slice(g.indexOf(c)),[g,c]),{rect:k,node:C,isOver:P,setNodeRef:z}=z7({id:c,data:te,disabled:F.droppable,resizeObserverConfig:{updateMeasurementsFor:ce,...d}}),{active:B,activatorEvent:j,activeNodeRect:V,attributes:be,setNodeRef:we,listeners:J,isDragging:Y,over:$,setActivatorNodeRef:W,transform:L}=V7({id:c,data:te,attributes:{...lq,...n},disabled:F.draggable}),T=_F(z,we),U=!!B,X=U&&!D&&kf(x)&&kf(R),ee=!O&&Y,me=ee&&X?L:null,ge=X?me??(h??H)({rects:I,activeNodeRect:V,activeIndex:x,overIndex:R,index:re}):null,_e=kf(x)&&kf(R)?l({id:c,items:g,activeIndex:x,overIndex:R}):re,Ee=B?.id,Ce=S.useRef({activeId:Ee,items:g,newIndex:_e,containerId:b}),Ue=g!==Ce.current.items,Ve=e({active:B,containerId:b,isDragging:Y,isSorting:U,id:c,index:re,items:g,newIndex:Ce.current.newIndex,previousItems:Ce.current.items,previousContainerId:Ce.current.containerId,transition:m,wasDragging:Ce.current.activeId!=null}),ut=cq({disabled:!Ve,index:re,node:C,rect:k});return S.useEffect(()=>{U&&Ce.current.newIndex!==_e&&(Ce.current.newIndex=_e),b!==Ce.current.containerId&&(Ce.current.containerId=b),g!==Ce.current.items&&(Ce.current.items=g)},[U,_e,b,g]),S.useEffect(()=>{if(Ee===Ce.current.activeId)return;if(Ee!=null&&Ce.current.activeId==null){Ce.current.activeId=Ee;return}const pt=setTimeout(()=>{Ce.current.activeId=Ee},50);return()=>clearTimeout(pt)},[Ee]),{active:B,activeIndex:x,attributes:be,data:te,rect:k,index:re,newIndex:_e,items:g,isOver:P,isSorting:U,isDragging:Y,listeners:J,node:C,overIndex:R,over:$,setNodeRef:T,setActivatorNodeRef:W,setDroppableNodeRef:z,setDraggableNodeRef:we,transform:ut??ge,transition:ke()};function ke(){if(ut||Ue&&Ce.current.newIndex===re)return oq;if(!(ee&&!vp(j)||!m)&&(U||Ve))return so.Transition.toString({...m,property:sD})}}function hq(t,e){var n,s;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(s=t?.droppable)!=null?s:e.droppable}}function Um(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const dq=[ct.Down,ct.Right,ct.Up,ct.Left],fq=(t,e)=>{let{context:{active:n,collisionRect:s,droppableRects:a,droppableContainers:l,over:c,scrollableAncestors:h}}=e;if(dq.includes(t.code)){if(t.preventDefault(),!n||!s)return;const d=[];l.getEnabled().forEach(b=>{if(!b||b!=null&&b.disabled)return;const x=a.get(b.id);if(x)switch(t.code){case ct.Down:s.top<x.top&&d.push(b);break;case ct.Up:s.top>x.top&&d.push(b);break;case ct.Left:s.left>x.left&&d.push(b);break;case ct.Right:s.left<x.left&&d.push(b);break}});const m=zF({collisionRect:s,droppableRects:a,droppableContainers:d});let g=LI(m,"id");if(g===c?.id&&m.length>1&&(g=m[1].id),g!=null){const b=l.get(n.id),x=l.get(g),A=x?a.get(x.id):null,D=x?.node.current;if(D&&A&&b&&x){const R=bp(D).some((ce,k)=>h[k]!==ce),O=iD(b,x),H=mq(b,x),F=R||!O?{x:0,y:0}:{x:H?s.width-A.width:0,y:H?s.height-A.height:0},re={x:A.left,y:A.top};return F.x&&F.y?re:Th(re,F)}}}};function iD(t,e){return!Um(t)||!Um(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function mq(t,e){return!Um(t)||!Um(e)||!iD(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const pq=({id:t,children:e,disabled:n,className:s,onClick:a})=>{const{attributes:l,listeners:c,setNodeRef:h,transform:d,transition:m,isDragging:g}=uq({id:t,disabled:n}),b={transform:so.Transform.toString(d),transition:m,zIndex:g?50:"auto",position:"relative"};return y.jsx("div",{ref:h,style:b,...l,...c,onClick:a,className:K("w-full h-full",!n&&"touch-none cursor-grab active:cursor-grabbing",g&&"opacity-0",s),children:y.jsx("div",{className:K("w-full h-full",g&&"opacity-0"),children:e})})},gq=({item:t,gridSize:e,editMode:n,activeId:s,onClick:a,onEdit:l,isLocked:c})=>{const{settings:h}=ys(),d=h.theme==="light",m="relative w-full h-full flex flex-col items-center justify-center p-2 rounded-xl cursor-pointer select-none overflow-hidden transition-all duration-200 border shadow-sm",g=e>=5?"text-xs sm:text-sm":"text-sm sm:text-base",b=d?{default:"bg-white border-slate-200 hover:bg-slate-50 hover:border-slate-300 text-slate-700",completed:"bg-emerald-50 border-emerald-300 text-emerald-700 shadow-[inset_0_0_20px_rgba(16,185,129,0.1)]",freeSpace:"bg-amber-50 border-amber-300 text-amber-600 shadow-[inset_0_0_20px_rgba(245,158,11,0.1)]",editing:"bg-slate-100 border-dashed border-slate-300 opacity-60 hover:opacity-100 hover:border-slate-400 shadow-none text-slate-500"}:{default:"bg-[var(--theme-bg-subtle)] border-[var(--theme-border)] hover:bg-[var(--theme-bg-base)] hover:border-zinc-600 text-slate-300",completed:"bg-emerald-950/20 border-emerald-500/20 text-emerald-200 shadow-[inset_0_0_20px_rgba(16,185,129,0.1)]",freeSpace:"bg-amber-950/20 border-amber-500/20 text-amber-500 shadow-[inset_0_0_20px_rgba(245,158,11,0.1)]",editing:"bg-slate-900 border-dashed border-slate-600 opacity-60 hover:opacity-100 hover:border-slate-400 shadow-none text-slate-500"};let x=b.default;return n?x=b.editing:t.isFreeSpace?x=b.freeSpace:t.isCompleted&&(x=b.completed),y.jsxs($e.div,{layout:!n&&!s,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:!n&&!s?{scale:1.02,y:-2,zIndex:10,boxShadow:d?"0 10px 30px -10px rgba(0,0,0,0.15)":"0 10px 30px -10px rgba(0,0,0,0.5)"}:void 0,whileTap:n?void 0:{scale:.98},onClick:n?l:a,className:K(m,g,x),children:[y.jsx("div",{className:"z-10 text-center w-full px-1",children:t.isFreeSpace?y.jsxs("div",{className:"flex flex-col items-center gap-1",children:[y.jsx("span",{className:K("text-[10px] font-bold uppercase tracking-widest",d?"text-amber-600":"text-amber-600/80"),children:"Bonus"}),y.jsx("span",{className:"font-bold text-amber-500 text-sm sm:text-base",children:"FREE"})]}):y.jsx("span",{className:"font-medium leading-snug block line-clamp-4 break-words",style:{color:t.isCompleted&&!n?void 0:t.style?.color,fontWeight:t.style?.bold?"bold":void 0,fontStyle:t.style?.italic?"italic":void 0,fontSize:void 0},children:t.text})}),y.jsx("div",{className:"absolute top-1.5 right-1.5 flex flex-col gap-1 items-end z-20",children:t.proofPhotos&&t.proofPhotos.length>0&&y.jsx("div",{className:K("p-1 rounded-md backdrop-blur-sm",d?"bg-slate-600/80":"bg-black/40"),children:y.jsx(bh,{size:10,className:"text-white/90"})})}),t.dueDate&&!t.isCompleted&&!c&&y.jsxs("div",{className:K("flex items-center gap-1 mt-1 text-[10px] font-medium absolute bottom-1.5 left-2 px-1 rounded backdrop-blur-sm",d?"bg-slate-200/90":"bg-black/40",(t.dueDate.toDate?t.dueDate.toDate():new Date(t.dueDate))<new Date?"text-red-500":d?"text-slate-600":"text-slate-400"),children:[y.jsx(mI,{size:10}),y.jsx("span",{children:(t.dueDate.toDate?t.dueDate.toDate():new Date(t.dueDate)).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),!t.isFreeSpace&&!n&&(t.targetCount||1)>1&&y.jsxs("div",{className:K("absolute bottom-1.5 right-1.5 px-1.5 py-0.5 rounded text-[10px] font-bold shadow-sm",t.isCompleted?"bg-emerald-500/90 text-white":(t.currentCount||0)>0?"bg-amber-500/90 text-white":d?"bg-slate-200 text-slate-600 border border-slate-300":"bg-slate-700/90 text-slate-300"),children:[t.currentCount||0,"/",t.targetCount]}),n&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 bg-black/40 transition-opacity z-30",children:y.jsx(Ju,{size:20,className:"text-white drop-shadow-md"})}),t.isCompleted&&!t.isFreeSpace&&!n&&y.jsx($e.div,{initial:{scale:2,opacity:0,rotate:-45},animate:{scale:1,opacity:d?.15:.1,rotate:12},transition:{type:"spring",stiffness:300,damping:15},className:K("absolute -bottom-2 -right-2 transform origin-bottom-right pointer-events-none",d?"text-emerald-600":"text-emerald-400"),children:y.jsx(vi,{size:80,strokeWidth:3})}),t.isCompleted&&y.jsx("div",{className:K("absolute inset-0 rounded-xl ring-1 ring-inset pointer-events-none",d?"ring-emerald-200":"ring-white/10")})]})},Pu=({isOpen:t,onClose:e,title:n,children:s,footer:a,size:l="md",className:c,showCloseButton:h=!0})=>{const{settings:d}=ys(),m=d.theme==="light",g={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",full:"max-w-4xl"};return y.jsx(Qs,{children:t&&y.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[y.jsx($e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:K("absolute inset-0 backdrop-blur-sm",m?"bg-black/40":"bg-black/60"),onClick:e}),y.jsxs($e.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},transition:{duration:.2},className:K("relative w-full rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",m?"bg-white border border-slate-200":"bg-[var(--theme-bg-subtle)] border border-[var(--theme-border)]",g[l],c),onClick:b=>b.stopPropagation(),children:[(n||h)&&y.jsxs("div",{className:K("flex items-center justify-between p-4 sm:p-6 border-b shrink-0",m?"border-slate-200":"border-[var(--theme-border)]"),children:[y.jsx("div",{className:K("text-lg sm:text-xl font-bold truncate pr-4",m?"text-slate-800":"text-slate-100"),children:n}),h&&y.jsx("button",{onClick:e,className:K("p-2 rounded-full transition-colors",m?"text-slate-400 hover:text-slate-700 hover:bg-slate-100":"text-slate-400 hover:text-slate-100 hover:bg-white/10"),children:y.jsx(lr,{size:20})})]}),y.jsx("div",{className:K("p-4 sm:p-6 overflow-y-auto custom-scrollbar",m?"text-slate-700":"text-slate-300"),children:s}),a&&y.jsx("div",{className:K("p-4 sm:p-6 border-t shrink-0 flex justify-end gap-3 rounded-b-2xl",m?"border-slate-200 bg-slate-50":"border-[var(--theme-border)] bg-[var(--theme-bg-base)]/50"),children:a})]})]})})},pA=()=>{const{boardId:t,yearId:e}=CM(),n=e?void 0:t,{items:s,members:a,loading:l,toggleItem:c,hasWon:h,bingoCount:d,isLocked:m,unlockBoard:g,jumbleAndLock:b,saveBoard:x,completeWithPhoto:A,addPhotoToTile:D,addReaction:I,deletePhoto:R,decrementProgress:O,inviteUser:H,removeMember:F,title:re,gridSize:te,updateTitle:ce}=vF(n),{user:k}=qi(),{unlockBadge:C,incrementBadge:P}=kI(),z=Jb(),{settings:B}=ys(),j=B.theme==="light",{playClick:V,playSuccess:be,playBingo:we,playWhoosh:J}=bF(),[Y,$]=S.useState(!1),[W,L]=S.useState(!1),[T,U]=S.useState(""),[X,ee]=S.useState(s),[me,ye]=S.useState(null);S.useEffect(()=>{(!me&&!Y||Y&&X.length===0&&s.length>0)&&ee(s)},[s,me,Y]);const ge=OF(tA(ax,{activationConstraint:{distance:8}}),tA(ix,{coordinateGetter:fq})),_e=ne=>{Y&&ye(ne.active.id)},Ee=ne=>{const{active:Te,over:je}=ne;ye(null),je&&Te.id!==je.id&&Y&&ee(Ct=>{const gt=Ct.findIndex(Wn=>Wn.id===Te.id),qt=Ct.findIndex(Wn=>Wn.id===je.id),Rt=lx(Ct,gt,qt);return x(Rt),Rt})},[Ce,Ue]=S.useState(!1),[Ve,ut]=S.useState(!1),[ke,pt]=S.useState(!1),[bt,Zt]=S.useState(!1),[on,ot]=S.useState([]),[Fe,On]=S.useState(null),[Ss,Ls]=S.useState(""),[ft,Kn]=S.useState({}),[Us,Yn]=S.useState(1),[ln,is]=S.useState(""),[Nn,gn]=S.useState(!1),[zs,Vn]=S.useState("complete"),[cn,In]=S.useState(!1),[ht,Jr]=S.useState(0),[Bs,Zr]=S.useState(null),[As,Cs]=S.useState(!1),[We,Tt]=S.useState(!1),[Ze,Ot]=S.useState(null),[Ln,en]=S.useState(0),Mt=S.useRef(null),rs=async()=>{if(!m)return;const ne=Ln+1;en(ne),Mt.current&&clearTimeout(Mt.current),Mt.current=setTimeout(()=>{en(0)},2e3),ne>=7&&(en(0),Mt.current&&clearTimeout(Mt.current),await z.confirm("This will unlock the board and re-enable editing. Proceed?",{title:" Developer Unlock",confirmText:"Unlock Board",cancelText:"Cancel"})&&(await g(),be()))};S.useEffect(()=>{const ne=async Te=>{Te.ctrlKey&&Te.shiftKey&&Te.key.toLowerCase()==="u"&&m&&(Te.preventDefault(),await z.confirm("This will unlock the board and re-enable editing. Proceed?",{title:" Developer Unlock",confirmText:"Unlock Board",cancelText:"Cancel"})&&(await g(),be()))};return window.addEventListener("keydown",ne),()=>window.removeEventListener("keydown",ne)},[m,g,z,be]),S.useEffect(()=>{!localStorage.getItem("hasSeenWalkthrough")&&!l&&s.length>0&&In(!0)},[l,s]),S.useEffect(()=>{(async()=>{if(Ve&&a){const Te=[];for(const[je,Ct]of Object.entries(a))if(Ct!=="owner")try{const gt=await $a(pn(mt,"users",je));if(gt.exists()){const qt=gt.data();Te.push({id:je,name:qt.displayName||"Unknown",email:qt.email||"No email",role:Ct})}}catch(gt){console.error("Error fetching user:",gt)}ot(Te)}})()},[Ve,a]);const Kt=async(ne,Te)=>{await z.confirm(`Are you sure you want to remove ${Te} from this board?`,{title:"Remove Member",type:"error",confirmText:"Remove"})&&((await F(ne)).success?(ot(gt=>gt.filter(qt=>qt.id!==ne)),await z.alert(`${Te} has been removed.`,{type:"success"})):await z.alert("Failed to remove member.",{type:"error"}))},Un=async()=>{const ne=await z.sharePrompt("Enter their email address to invite them to this board.",{title:"Invite User"});if(ne){const Te=await H(ne.email,ne.role);if(Te.type==="success")await z.alert(Te.message,{title:"Success!",type:"success"});else if(Te.type==="not_found"){if(await z.confirm(`"${ne.email}" hasn't signed up yet.

Would you like to send them an email invitation to join SunSar Bingo?`,{title:"User Not Found",confirmText:"Send Invite Email",type:"info"}))try{const{sendInviteEmail:Ct,openMailtoFallback:gt}=await ql(async()=>{const{sendInviteEmail:Rt,openMailtoFallback:Wn}=await import("./emailService-CSPMID4F.js");return{sendInviteEmail:Rt,openMailtoFallback:Wn}},[]);(await Ct({recipientEmail:ne.email,senderName:k?.displayName||k?.email||"A friend"})).success?await z.alert(`Invitation sent to ${ne.email}! They'll receive an email with instructions to join.`,{title:"Invitation Sent!",type:"success"}):(gt(ne.email,k?.displayName||"A friend"),await z.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"}))}catch{const gt=encodeURIComponent("Join me on SunSar Bingo!"),qt=encodeURIComponent(`Hey! Come join me on SunSar Bingo to track our 2026 goals together.

Sign up here: ${window.location.origin}`);window.open(`mailto:${ne.email}?subject=${gt}&body=${qt}`),await z.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"})}}else await z.alert(Te.message,{title:"Error",type:"error"})}},zn=()=>{ht<2?Jr(ne=>ne+1):(In(!1),localStorage.setItem("hasSeenWalkthrough","true"))},[Xn,yn]=S.useState(!1),[Vt,vn]=S.useState(null),[Lt,Bn]=S.useState(!1),Ft=S.useRef(null),[bn,vs]=S.useState(!1),[tn,ea]=S.useState(null),[Rs,ta]=S.useState(null),[as,Ti]=S.useState(0),Fs=S.useRef(null),[Ns,os]=S.useState(!1),[ei,Yt]=S.useState(()=>localStorage.getItem("celebrationDismissed")==="true"),[pr,na]=S.useState(0);S.useEffect(()=>{pr===5&&(g(),na(0),ov({particleCount:100,spread:70,origin:{y:.6},colors:["#fbbf24","#ec4899","#ffffff"]}));let ne;return pr>0&&(ne=setTimeout(()=>na(0),1e3)),()=>clearTimeout(ne)},[pr,g]);const ti=()=>{V(),b(bt),ov({particleCount:150,spread:60,origin:{y:.7},colors:["#22c55e","#ffffff"]}),be(),pt(!1),$(!1)},ni=()=>{Yt(!0),localStorage.setItem("celebrationDismissed","true")};At.useEffect(()=>{!l&&!h&&(Yt(!1),localStorage.removeItem("celebrationDismissed"))},[h,l]);const sa=S.useRef(h);At.useEffect(()=>{h&&!sa.current&&!l&&we(),sa.current=h},[h,l,we]);const lo=ne=>{const Te=X.length>0?X:s;if(On(ne),Ls(Te[ne].text),Kn(Te[ne].style||{color:"#ffffff",fontSize:"base",bold:!1,italic:!1}),Yn(Te[ne].targetCount||1),Te[ne].dueDate){const je=Te[ne].dueDate,Ct=typeof je.toDate=="function"?je.toDate():new Date(je),gt=Ct.getFullYear(),qt=String(Ct.getMonth()+1).padStart(2,"0"),Rt=String(Ct.getDate()).padStart(2,"0");is(`${gt}-${qt}-${Rt}`)}else is("");gn(!!Te[ne].isFreeSpace),Ue(!0)},co=()=>{if(Fe===null)return;let ne;ln&&(ne=new Date(ln+"T12:00:00"));const Te=[...X];Te[Fe]={...Te[Fe],text:Ss,style:ft,targetCount:Number(Us)||1,dueDate:ne,isFreeSpace:Nn,isCompleted:Te[Fe].isCompleted||Nn},ee(Te),x(Te),Ue(!1),On(null)},un=X.length>0?X:s;if(S.useEffect(()=>{Rs!==null&&un?.[Rs]&&ea(un[Rs])},[un,Rs]),l)return y.jsx("div",{className:"flex h-screen items-center justify-center text-accent-primary animate-pulse",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-12 h-12 border-4 border-accent-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),y.jsx("p",{children:"Loading Board..."})]})});const ls=s.filter(ne=>ne.isCompleted).length/25*100,Xt=ne=>{if(!ne)return"-";const Te=ne.toDate?ne.toDate():new Date(ne);return Te.toLocaleDateString()+" "+Te.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},xn=ne=>{const Te=un[ne];if(Zr({index:ne,wasCompleted:Te.isCompleted}),Te.isCompleted)V();else{be();const je=new Date,Ct=je.getMonth(),gt=je.getDay();C("first_step"),Ct===0&&C("early_bird"),(gt===0||gt===6)&&P("weekend_warrior")}c(ne),Cs(!0),setTimeout(()=>Cs(!1),3e3)};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"min-h-screen bg-transparent text-white p-6 pb-24 relative overflow-x-hidden no-print",children:[y.jsx("input",{type:"file",accept:"image/*",ref:Fs,className:"hidden",onChange:async ne=>{const Te=ne.target.files?.[0];if(Te&&Rs!==null){try{await D(Rs,Te),P("shutterbug"),P("selfie_star")}catch(je){console.error(je),alert("Failed to add photo")}ne.target.value=""}}}),y.jsx(wF,{items:s}),y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("header",{className:"flex justify-between items-center mb-8 py-2",children:[y.jsxs("div",{className:"flex-1 mx-4 min-w-0",children:[W?y.jsx("input",{type:"text",value:T,onChange:ne=>U(ne.target.value),onBlur:()=>{T.trim()&&ce(T.trim()),L(!1)},onKeyDown:ne=>{ne.key==="Enter"?(T.trim()&&ce(T.trim()),L(!1)):ne.key==="Escape"&&L(!1)},autoFocus:!0,className:"bg-transparent border-b-2 border-accent-primary text-white text-lg sm:text-xl font-bold outline-none w-full max-w-[200px]"}):y.jsxs("button",{onClick:()=>{U(re||"My Bingo"),L(!0)},className:"text-white text-lg sm:text-xl font-bold truncate max-w-[200px] hover:text-accent-primary transition-colors flex items-center gap-1 group",title:"Click to edit board name",children:[y.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent truncate",children:re||"My Bingo"}),y.jsx(Ju,{size:14,className:"opacity-0 group-hover:opacity-70 transition-opacity flex-shrink-0"})]}),y.jsxs("p",{className:"text-slate-500 text-xs mt-0.5 cursor-default select-none",onClick:rs,children:[te,"",te,"  ",s.filter(ne=>ne.isCompleted&&!ne.isFreeSpace).length,"/",s.filter(ne=>!ne.isFreeSpace).length]})]}),y.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[y.jsx("button",{onClick:()=>{os(!0),P("memory_lane")},className:"p-2.5 text-slate-400 hover:text-accent-gold hover:bg-white/5 rounded-full transition-colors",title:"View Memories",children:y.jsx(Im,{size:20})}),y.jsx("button",{onClick:()=>{ut(!0),C("town_crier")},className:"p-2.5 text-slate-400 hover:text-accent-primary hover:bg-white/5 rounded-full transition-colors",title:"Share Board",children:y.jsx(Qf,{size:20})})]})]}),y.jsxs(P7,{sensors:ge,collisionDetection:UF,onDragStart:_e,onDragEnd:Ee,children:[y.jsx("div",{className:"flex justify-center mb-6",children:y.jsx("div",{className:"w-full max-w-[520px] aspect-square relative",children:y.jsx(sq,{items:un.map(ne=>ne.id),strategy:cx,children:y.jsx("div",{className:K("grid gap-1.5 sm:gap-2 w-full h-full",te===3&&"grid-cols-3 grid-rows-3",te===4&&"grid-cols-4 grid-rows-4",te===5&&"grid-cols-5 grid-rows-5",te===6&&"grid-cols-6 grid-rows-6"),style:{perspective:"1000px"},children:un.map((ne,Te)=>y.jsx(pq,{id:ne.id,disabled:!Y,children:y.jsx(gq,{item:ne,index:Te,gridSize:te,editMode:Y,activeId:me,isLocked:m,onEdit:()=>lo(Te),onClick:()=>{ne.isFreeSpace||(ne.isCompleted?(Ot(Te),Tt(!0)):(J(),vn(Te),yn(!0)))}})},ne.id))})})})}),y.jsx(Z7,{children:me?y.jsx("div",{className:K("relative w-full h-full flex flex-col items-center justify-center p-1 sm:p-2 text-center select-none overflow-hidden","bingo-tile bg-white/10 backdrop-blur-md border-2 border-accent-primary shadow-2xl glass-panel"),style:{width:"100px",height:"100px"},children:y.jsx("span",{className:"text-white font-bold text-sm",children:X.find(ne=>ne.id===me)?.text})}):null})]})]}),y.jsx("div",{className:"flex justify-center",children:y.jsxs($e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-[520px] glass-panel p-4 flex flex-col gap-4",children:[y.jsxs("div",{className:"w-full",children:[y.jsxs("div",{className:"flex justify-between text-xs text-slate-300 mb-1.5 px-1",children:[y.jsx("span",{className:"font-semibold",children:"Progress"}),y.jsxs("div",{className:"flex gap-3",children:[y.jsxs("span",{className:"font-mono text-accent-gold font-bold",children:[d,"/",te*2+2," Bingos"]}),y.jsxs("span",{className:"font-mono text-accent-primary",children:[Math.round(ls),"%"]})]})]}),y.jsx("div",{className:"h-3 bg-bg-dark/50 rounded-full overflow-hidden border border-white/5",children:y.jsx($e.div,{className:"h-full bg-gradient-to-r from-accent-primary to-accent-secondary relative",initial:{width:0},animate:{width:`${ls}%`},transition:{duration:1,ease:"easeOut"},children:y.jsx("div",{className:"absolute top-0 right-0 bottom-0 w-[1px] bg-white/50 shadow-[0_0_10px_white]"})})})]}),y.jsx("div",{className:"flex justify-center gap-2",children:Y?y.jsx(y.Fragment,{children:y.jsxs("div",{className:"flex gap-2 w-full",children:[y.jsx("button",{onClick:()=>$(!1),className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-white/5 text-slate-300 border border-white/10 hover:bg-white/10 transition-all",children:"Cancel"}),y.jsxs("button",{onClick:()=>{x(X),$(!1)},className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-green-500/20 text-green-200 border border-green-500/50 hover:bg-green-500/30 transition-all flex items-center justify-center gap-2",children:[y.jsx(vi,{size:16}),"Save Changes"]})]})}):y.jsxs("div",{className:"flex gap-2 justify-center w-full flex-wrap",children:[!m&&y.jsxs(y.Fragment,{children:[y.jsxs("button",{onClick:()=>{ee([...s]),$(!0)},className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[y.jsx(Ju,{size:12}),"Edit Board"]}),y.jsxs("button",{onClick:()=>{V(),pt(!0)},className:"flex-1 py-2 px-4 text-xs font-bold text-white bg-gradient-to-r from-accent-primary to-accent-secondary hover:shadow-lg hover:shadow-accent-primary/20 transition-all rounded-lg flex items-center justify-center gap-2 min-w-[120px]",children:[y.jsx(HS,{size:14}),"Go Live "]})]}),y.jsxs("button",{onClick:()=>window.print(),className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[y.jsx(r8,{size:12}),"Print Status"]})]})})]})}),y.jsx(Qs,{children:h&&!ei&&y.jsx($e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:y.jsxs($e.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:"glass-panel p-8 text-center max-w-sm w-full relative overflow-hidden border-accent-gold/30",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-accent-gold/10 to-transparent pointer-events-none"}),y.jsx($e.div,{animate:{rotate:[0,10,-10,0]},transition:{repeat:1/0,duration:2},className:"inline-block",children:y.jsx(vh,{className:"w-20 h-20 text-accent-gold mx-auto mb-4 drop-shadow-[0_0_15px_rgba(251,191,36,0.5)]"})}),y.jsx("h2",{className:"text-4xl font-heading font-bold text-transparent bg-clip-text bg-gradient-to-r from-accent-gold via-white to-accent-secondary mb-2",children:"BINGO!"}),y.jsx("p",{className:"text-slate-300 mb-8 leading-relaxed",children:"2026 is off to an amazing start!"}),y.jsx("button",{onClick:ni,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-[0_0_20px_rgba(139,92,246,0.4)] transition-all transform hover:scale-105",children:"Keep Playing"})]})})}),y.jsxs(Pu,{isOpen:Ce,onClose:()=>Ue(!1),title:"Edit Tile",size:"sm",footer:y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>Ue(!1),className:"flex-1 py-2.5 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),y.jsx("button",{onClick:co,className:"flex-1 py-2.5 px-4 bg-gradient-to-r from-violet-600 to-fuchsia-600 rounded-xl font-bold text-white shadow-lg hover:shadow-violet-500/25 active:scale-95 transition-all",children:"Save Changes"})]}),children:[y.jsx("div",{className:"mb-6 flex justify-center",children:y.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-lg bg-bg-card/80 border border-white/10 flex items-center justify-center p-2 text-center overflow-hidden relative",children:y.jsx("span",{className:K("font-hand font-semibold leading-tight break-words"),style:{color:ft.color||"#ffffff",fontWeight:ft.bold?"bold":"600",fontStyle:ft.italic?"italic":"normal",fontSize:ft.fontSize==="sm"?"12px":ft.fontSize==="lg"?"18px":ft.fontSize==="xl"?"22px":"16px"},children:Ss||"Preview Text"})})}),y.jsxs("div",{className:"mb-6",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-3 bg-white/5 p-3 rounded-xl border border-white/5",children:[y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer flex-1",children:[y.jsx("input",{type:"checkbox",checked:Nn,onChange:ne=>{const Te=ne.target.checked;gn(Te),Te&&Ls("FREE!")},className:"w-4 h-4 rounded border-gray-500 bg-black/50 text-accent-primary focus:ring-accent-primary"}),y.jsx("span",{className:K("text-sm font-bold transition-colors",Nn?"text-accent-primary":"text-slate-300"),children:"Flag as FREE Space "})]}),Nn&&y.jsxs("div",{className:"flex gap-1 bg-black/80 rounded-full p-1 px-1.5 border border-white/20",children:[y.jsx("div",{className:"w-2 h-2 rounded-full bg-red-900/30"}),y.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-900/30"}),y.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 shadow-[0_0_8px_#22c55e]"})]})]}),y.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Text Content"}),y.jsx("textarea",{className:K("w-full bg-black/20 text-white rounded-lg p-3 border border-white/10 focus:border-accent-primary outline-none min-h-[80px]",Nn&&"opacity-50 cursor-not-allowed"),disabled:Nn,value:Ss,onChange:ne=>Ls(ne.target.value),placeholder:"Enter bingo task..."})]}),y.jsxs("div",{className:K("transition-opacity duration-300",Nn&&"opacity-30 pointer-events-none"),children:[y.jsxs("div",{className:"mb-6 space-y-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Color"}),y.jsx("div",{className:"flex gap-2 flex-wrap",children:["#ffffff","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#ec4899","#a855f7"].map(ne=>y.jsx("button",{className:K("w-6 h-6 rounded-full border border-white/10 transition-transform active:scale-90",ft.color===ne&&"ring-2 ring-white scale-110"),style:{backgroundColor:ne},onClick:()=>Kn(Te=>({...Te,color:ne}))},ne))})]}),y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Size"}),y.jsx("div",{className:"flex bg-black/20 rounded-lg p-1",children:["sm","base","lg","xl"].map(ne=>y.jsx("button",{onClick:()=>Kn(Te=>({...Te,fontSize:ne})),className:K("flex-1 py-1 text-[10px] font-bold rounded transition-colors uppercase",(ft.fontSize||"base")===ne?"bg-accent-primary text-white":"text-slate-400 hover:text-white"),children:ne==="base"?"M":ne},ne))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Style"}),y.jsxs("div",{className:"flex gap-1 bg-black/20 rounded-lg p-1",children:[y.jsx("button",{onClick:()=>Kn(ne=>({...ne,bold:!ne.bold})),className:K("w-8 h-full rounded flex items-center justify-center font-bold transition-colors",ft.bold?"bg-white text-black":"text-slate-400 hover:text-white"),children:"B"}),y.jsx("button",{onClick:()=>Kn(ne=>({...ne,italic:!ne.italic})),className:K("w-8 h-full rounded flex items-center justify-center italic transition-colors font-serif",ft.italic?"bg-white text-black":"text-slate-400 hover:text-white"),children:"I"})]})]})]})]}),y.jsxs("div",{className:"space-y-4 pt-4 border-t border-white/10",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Repeat Goal"}),y.jsx("input",{type:"number",min:"1",max:"100",value:Us,onChange:ne=>Yn(ne.target.value===""?"":parseInt(ne.target.value)),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors"}),y.jsx("p",{className:"text-xs text-slate-500",children:"How many times should this be completed?"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Due Date (Optional)"}),y.jsx("input",{type:"date",value:ln,onChange:ne=>is(ne.target.value),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors [color-scheme:dark]"})]})]})]})]}),(()=>{const ne=Vt!==null?un[Vt]:null,Te=ne?.targetCount||1,je=ne?.currentCount||0,Ct=Te>1,gt=je>0;return ne?y.jsx(Pu,{isOpen:Xn&&Vt!==null,onClose:()=>{yn(!1),vn(null)},title:ne.isCompleted?"Tile Details":gt?"Add Progress":"Complete Task",size:"sm",children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("p",{className:"text-slate-300 text-sm text-center mb-4 line-clamp-3 italic",children:["",ne.text,""]}),Ct&&y.jsx("div",{className:"text-center mb-4",children:y.jsxs("span",{className:K("inline-block px-3 py-1 rounded-full text-sm font-bold",gt?"bg-amber-500/20 text-amber-400":"bg-slate-600/50 text-slate-400"),children:["Progress: ",je," / ",Te]})}),ne.proofPhotos&&ne.proofPhotos.length>0&&y.jsxs("div",{className:"mb-6 bg-black/20 p-3 rounded-xl border border-white/5",children:[y.jsx("label",{className:"text-xs text-slate-400 mb-2 block font-semibold uppercase tracking-wider",children:"Attached Photos"}),y.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:ne.proofPhotos.map((qt,Rt)=>y.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0 group rounded-lg overflow-hidden border border-white/10 touch-none select-none",onContextMenu:Wn=>Wn.preventDefault(),children:[y.jsx("img",{src:qt,alt:"",className:"w-full h-full object-cover pointer-events-none"}),y.jsx("button",{onClick:async Wn=>{Wn.stopPropagation(),window.confirm("Delete this photo?")&&await R(Vt,Rt)},className:"absolute top-1 right-1 bg-red-500/90 p-1.5 rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600 shadow-md",children:y.jsx(Zu,{size:12})})]},Rt))})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("input",{type:"file",accept:"image/*",ref:Ft,className:"hidden",onChange:async qt=>{const Rt=qt.target.files?.[0];if(Rt&&Vt!==null){Bn(!0);try{zs==="complete"?await A(Vt,Rt):await D(Vt,Rt),yn(!1),vn(null)}catch{alert("Failed to upload photo.")}finally{Bn(!1),qt.target.value=""}}}}),y.jsxs("button",{onClick:()=>{Vn("add"),setTimeout(()=>Ft.current?.click(),0)},disabled:Lt,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-blue-500/25 active:scale-95 transition-all disabled:opacity-50",children:[y.jsx(bh,{size:20}),Lt&&zs==="add"?"Uploading...":"Add Photo (Keep Status)"]}),!ne.isCompleted&&y.jsxs("button",{onClick:()=>{Vn("complete"),setTimeout(()=>Ft.current?.click(),0)},disabled:Lt,className:"w-full py-3 px-4 bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-amber-500/25 active:scale-95 transition-all disabled:opacity-50",children:[y.jsx(vi,{size:20}),Lt&&zs==="complete"?"Uploading...":Ct?"Add Photo & +1":"Add Photo & Complete"]}),y.jsxs("button",{onClick:()=>{c(Vt),yn(!1),vn(null)},disabled:Lt,className:K("w-full py-3 px-4 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 active:scale-95 transition-all disabled:opacity-50",ne.isCompleted?"bg-slate-700 hover:bg-slate-600":"bg-gradient-to-r from-green-600 to-emerald-600 hover:shadow-green-500/25"),children:[ne.isCompleted?y.jsx(lr,{size:20}):y.jsx(vi,{size:20}),ne.isCompleted?"Mark Incomplete":Ct?`Mark +1 (${je+1}/${Te})`:"Mark Complete"]}),gt&&!ne.isCompleted&&y.jsxs("button",{onClick:()=>{O(Vt),yn(!1),vn(null)},disabled:Lt,className:"w-full py-2 rounded-xl font-semibold text-red-400 hover:bg-red-500/10 transition-colors disabled:opacity-50",children:["Remove Progress (",je-1,"/",Te,")"]}),y.jsx("button",{onClick:()=>{yn(!1),vn(null)},disabled:Lt,className:"w-full py-3 rounded-xl font-semibold bg-white/5 text-slate-400 hover:bg-white/10 transition-colors disabled:opacity-50",children:"Cancel"})]})]})}):null})(),y.jsx(Qs,{children:bn&&tn&&tn.proofPhotos&&tn.proofPhotos.length>0&&y.jsx($e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",onClick:()=>{vs(!1),ea(null),ta(null)},children:y.jsxs($e.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"relative max-w-lg w-full",onClick:ne=>ne.stopPropagation(),children:[y.jsx("button",{onClick:()=>{vs(!1),ea(null),ta(null)},className:"absolute -top-12 right-0 p-2 text-white/70 hover:text-white transition-colors z-10",children:y.jsx(lr,{size:28})}),y.jsxs("div",{className:"rounded-2xl overflow-hidden border border-white/10 shadow-2xl",children:[y.jsxs("div",{className:"relative bg-black",children:[y.jsx("img",{src:tn.proofPhotos[as],alt:`Proof photo ${as+1}`,className:"w-full h-auto max-h-[50vh] object-contain"}),tn.proofPhotos.length>1&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>Ti(ne=>ne>0?ne-1:tn.proofPhotos.length-1),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:y.jsx(hI,{size:24})}),y.jsx("button",{onClick:()=>Ti(ne=>ne<tn.proofPhotos.length-1?ne+1:0),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:y.jsx(dI,{size:24})})]}),y.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/60 rounded-full text-white text-xs font-medium",children:[as+1," / ",tn.proofPhotos.length]})]}),tn.proofPhotos.length>1&&y.jsx("div",{className:"flex gap-1 p-2 bg-bg-dark/80 overflow-x-auto",children:tn.proofPhotos.map((ne,Te)=>y.jsx("button",{onClick:()=>Ti(Te),className:K("w-12 h-12 rounded-md overflow-hidden border-2 flex-shrink-0 transition-all",as===Te?"border-accent-primary":"border-transparent opacity-60 hover:opacity-100"),children:y.jsx("img",{src:ne,alt:"",className:"w-full h-full object-cover"})},Te))}),y.jsxs("div",{className:"p-4 bg-bg-dark/95",children:[y.jsx("p",{className:"text-white font-semibold mb-1",children:tn.text}),y.jsxs("p",{className:"text-slate-400 text-xs mb-4",children:["Completed by ",tn.completedBy,"  ",Xt(tn.completedAt)]}),y.jsx("div",{className:"flex gap-2 justify-center pb-1",children:["","","","","",""].map(ne=>y.jsx("button",{onClick:()=>{Rs!==null&&(I(Rs,ne),V())},className:"text-2xl hover:scale-125 transition-transform p-2 rounded-full hover:bg-white/10 active:scale-95",title:"React",children:ne},ne))})]})]}),y.jsxs("div",{className:"mt-4 flex gap-3 justify-center",children:[y.jsxs("button",{onClick:async()=>{window.confirm("Delete this photo?")&&(await R(Rs,as),tn?.proofPhotos?.length===1?vs(!1):Ti(0))},className:"flex-1 py-3 bg-red-500/10 text-red-400 rounded-xl font-semibold hover:bg-red-500/20 flex items-center justify-center gap-2",children:[y.jsx(Zu,{size:20}),"Delete Photo"]}),y.jsxs("button",{onClick:()=>Fs.current?.click(),className:"flex-1 py-3 bg-white/10 text-white rounded-xl font-semibold hover:bg-white/20 flex items-center justify-center gap-2",children:[y.jsx(xh,{size:20}),"Add Photo"]})]}),y.jsx("button",{onClick:()=>{const ne=s.findIndex(Te=>Te.id===tn.id);ne!==-1&&c(ne),vs(!1),ea(null),ta(null)},className:"mt-2 w-full py-2 text-sm text-red-400 hover:text-red-300 transition-colors",children:"Mark as In Progress"})]})})}),y.jsx(Qs,{children:As&&Bs&&y.jsxs($e.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:K("fixed bottom-24 left-1/2 -translate-x-1/2 border px-6 py-3 rounded-full shadow-2xl z-50 flex items-center gap-4",j?"bg-white border-slate-200 text-slate-800":"bg-slate-900 border-white/20 text-white"),children:[y.jsxs("span",{children:["Marked as ",Bs.wasCompleted?"incomplete":"complete"]}),y.jsx("button",{onClick:()=>{c(Bs.index),Cs(!1)},className:"font-bold text-accent-primary hover:text-white transition-colors",children:"Undo"}),y.jsx("button",{onClick:()=>Cs(!1),className:"text-slate-400 hover:text-white",children:y.jsx(lr,{size:16})})]})}),y.jsx(Qs,{children:cn&&y.jsx($e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",children:y.jsxs($e.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:K("border rounded-3xl p-8 max-w-sm w-full shadow-2xl relative overflow-hidden",j?"bg-white border-slate-200":"bg-slate-900 border-white/20"),children:[y.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-20 pointer-events-none",children:y.jsx(vh,{className:"w-32 h-32 text-accent-gold rotate-12"})}),y.jsxs("div",{className:"relative z-10 text-center",children:[y.jsx("h3",{className:K("text-2xl font-bold mb-2",j?"text-slate-900":"text-white"),children:"Welcome! "}),y.jsxs("p",{className:K("mb-8 h-12",j?"text-slate-600":"text-slate-400"),children:[ht===0&&"Tap any tile to mark it as complete.",ht===1&&"Start 'Edit Mode' to add your own tasks.",ht===2&&"Invite friends to play together!"]}),y.jsx("div",{className:"flex justify-center mb-8",children:y.jsx("div",{className:K("w-32 h-32 rounded-2xl border flex items-center justify-center relative",j?"bg-slate-50 border-slate-200":"bg-black/40 border-white/10"),children:y.jsxs(Qs,{mode:"wait",children:[ht===0&&y.jsxs($e.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute inset-0 flex items-center justify-center",children:[y.jsx("div",{className:"w-16 h-16 bg-accent-primary/20 rounded-lg border border-accent-primary flex items-center justify-center",children:y.jsx(vi,{className:"w-8 h-8 text-white"})}),y.jsx($e.div,{animate:{scale:[1,1.2,1],opacity:[0,1,0]},transition:{repeat:1/0,duration:1.5},className:"absolute w-20 h-20 rounded-full border-2 border-white/50"})]},"step0"),ht===1&&y.jsx($e.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:y.jsx(Ju,{className:"w-12 h-12 text-blue-400"})},"step1"),ht===2&&y.jsx($e.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:y.jsx(Qf,{className:"w-12 h-12 text-green-400"})},"step2")]})})}),y.jsx("div",{className:"flex gap-2 justify-center mb-6",children:[0,1,2].map(ne=>y.jsx("div",{className:K("w-2 h-2 rounded-full transition-colors",ne===ht?"bg-white":"bg-white/20")},ne))}),y.jsx("button",{onClick:zn,className:"w-full py-3 bg-white text-black font-bold rounded-xl hover:bg-slate-200 transition-colors",children:ht===2?"Let's Play!":"Next"})]})]})})})]}),y.jsxs("div",{className:"only-print hidden",children:[y.jsxs("div",{className:"flex justify-between items-end mb-4 border-b-2 border-black pb-2",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("img",{src:"/logo.png",className:"h-12 w-auto",alt:"Logo"}),y.jsx("h1",{className:"text-2xl font-bold",children:re||"2026 Edition"})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:"text-xs uppercase tracking-widest mb-0.5",children:["Status Report (",te,"",te,")"]}),y.jsxs("p",{className:"text-xl font-bold",children:[d," / ",te*2+2," Bingos"]})]})]}),y.jsx("div",{className:`grid gap-0 border-2 border-black ${te===3?"grid-cols-3":te===4?"grid-cols-4":te===5?"grid-cols-5":"grid-cols-6"}`,children:s.map(ne=>y.jsxs("div",{className:"aspect-square border border-black p-1.5 flex flex-col justify-between relative overflow-hidden min-h-[80px]",children:[y.jsx("div",{className:`font-bold leading-tight z-10 ${te>=5?"text-[10px]":"text-[11px]"}`,children:ne.text}),ne.isCompleted&&!ne.isFreeSpace&&y.jsxs("div",{className:"mt-0.5 relative z-10",children:[y.jsx("div",{className:"text-[7px] uppercase font-bold text-slate-700",children:"Completed by:"}),y.jsx("div",{className:"text-[9px] font-mono font-bold leading-none",children:ne.completedBy||"User"}),y.jsx("div",{className:"text-[7px] text-slate-600 mt-0.5",children:Xt(ne.completedAt)})]}),ne.isCompleted&&y.jsx("div",{className:"absolute bottom-1 right-1 text-3xl font-bold text-slate-200 opacity-60 pointer-events-none z-0",children:""}),ne.isFreeSpace&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center font-bold text-xl rotate-[-45deg] opacity-20",children:"FREE"})]},ne.id))}),y.jsxs("div",{className:"mt-4 text-[9px] text-center border-t border-black pt-2 flex justify-between text-slate-500",children:[y.jsxs("span",{children:["Generated on ",new Date().toLocaleDateString()," at ",new Date().toLocaleTimeString()]}),y.jsx("span",{children:"bingo.mysunsar.com"})]})]}),y.jsx(xF,{items:s,isOpen:Ns,onClose:()=>os(!1)}),y.jsx(Pu,{isOpen:Ve,onClose:()=>ut(!1),title:y.jsxs("span",{className:"flex items-center gap-2",children:[y.jsx(Qf,{className:"w-5 h-5 text-accent-primary"}),"Shared With"]}),size:"md",children:y.jsxs("div",{children:[on.length===0?y.jsx("div",{className:"text-center text-slate-400 py-8",children:y.jsx("p",{children:"This board hasn't been shared yet."})}):y.jsx("div",{className:"space-y-4 mb-6",children:on.map(ne=>y.jsxs("div",{className:K("flex items-center justify-between p-3 rounded-xl border",j?"bg-slate-50 border-slate-200":"bg-white/5 border-white/5"),children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold text-white",children:ne.name.charAt(0)}),y.jsxs("div",{children:[y.jsx("div",{className:K("text-sm font-semibold",j?"text-slate-900":"text-white"),children:ne.name}),y.jsxs("div",{className:K("text-xs",j?"text-slate-500":"text-slate-400"),children:[ne.email,"  ",ne.role]})]})]}),y.jsx("button",{onClick:()=>Kt(ne.id,ne.name),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Remove User",children:y.jsx(Zu,{size:16})})]},ne.id))}),y.jsxs("button",{onClick:Un,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all flex items-center justify-center gap-2",children:[y.jsx(xh,{size:18}),"Invite New User"]})]})}),y.jsx(Pu,{isOpen:ke,onClose:()=>pt(!1),title:y.jsxs("span",{className:"flex items-center gap-2",children:[y.jsx(HS,{className:"w-5 h-5 text-accent-primary"}),"Ready to Go Live?"]}),size:"sm",footer:y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>pt(!1),className:K("flex-1 py-3 rounded-xl font-semibold transition-colors",j?"bg-slate-100 text-slate-700 hover:bg-slate-200":"bg-white/5 text-slate-300 hover:bg-white/10"),children:"Not Yet"}),y.jsx("button",{onClick:ti,className:"flex-1 py-3 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl font-bold text-white shadow-lg hover:shadow-green-500/25 transition-all",children:"Let's Go! "})]}),children:y.jsxs("div",{children:[y.jsxs("p",{className:K("mb-6 leading-relaxed",j?"text-slate-600":"text-slate-300"),children:["Going live will ",y.jsx("strong",{className:j?"text-slate-800":"text-white",children:"lock the board"})," for play mode. You won't be able to edit items easily anymore."]}),y.jsx("div",{className:K("rounded-xl p-4 mb-6 cursor-pointer transition-colors",j?"bg-slate-100 border border-slate-200 hover:bg-slate-200":"bg-white/5 border border-white/10 hover:bg-white/10"),onClick:()=>Zt(!bt),children:y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("div",{className:K("mt-1 w-5 h-5 rounded border flex items-center justify-center transition-colors",bt?"bg-accent-primary border-accent-primary":j?"border-slate-400":"border-slate-500"),children:bt&&y.jsx(vi,{size:14,className:"text-white"})}),y.jsxs("div",{children:[y.jsx("div",{className:K("font-semibold",j?"text-slate-800":"text-white"),children:"Shuffle Items?"}),y.jsx("div",{className:K("text-xs mt-1",j?"text-slate-500":"text-slate-400"),children:"Randomize the grid arrangement one last time before locking."})]})]})})]})}),y.jsx(Pu,{isOpen:We,onClose:()=>{Tt(!1),Ot(null)},title:"Goal Status",size:"sm",footer:y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>{Tt(!1),Ot(null)},className:K("flex-1 py-2.5 rounded-xl font-semibold transition-colors",j?"bg-slate-100 text-slate-700 hover:bg-slate-200":"bg-white/5 text-slate-300 hover:bg-white/10"),children:"Cancel"}),y.jsx("button",{onClick:()=>{Ze!==null&&xn(Ze),Tt(!1),Ot(null)},className:"flex-1 py-2.5 px-4 bg-amber-600 hover:bg-amber-500 rounded-xl font-bold text-white shadow-lg transition-all",children:"Mark Incomplete"})]}),children:Ze!==null&&un[Ze]&&y.jsxs("div",{className:"text-center",children:[un[Ze].proofPhotos&&un[Ze].proofPhotos.length>0&&y.jsxs("div",{className:"mb-4 relative rounded-xl overflow-hidden",children:[y.jsx("img",{src:un[Ze].proofPhotos[0],alt:"Goal photo",className:"w-full h-32 object-cover"}),un[Ze].proofPhotos.length>1&&y.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/60 px-2 py-1 rounded text-xs text-white",children:["+",un[Ze].proofPhotos.length-1," more"]})]}),y.jsxs("div",{className:K("rounded-xl p-4 mb-4",j?"bg-emerald-50 border border-emerald-200":"bg-emerald-500/10 border border-emerald-500/30"),children:[y.jsx("div",{className:K("text-xs font-bold uppercase tracking-wider mb-1",j?"text-emerald-700":"text-emerald-400"),children:" Completed"}),y.jsx("div",{className:K("text-lg font-bold",j?"text-slate-900":"text-white"),children:un[Ze].text})]}),y.jsxs("p",{className:K("text-sm",j?"text-slate-600":"text-slate-400"),children:["Are you sure you want to mark this goal as ",y.jsx("strong",{className:j?"text-amber-600":"text-amber-400",children:"incomplete"}),"?",un[Ze].proofPhotos&&un[Ze].proofPhotos.length>0&&y.jsx("span",{children:" Your photos will be preserved."})]})]})})]})},Vo=({className:t,...e})=>{const{settings:n}=ys(),s=n.theme==="light";return y.jsx("div",{className:K("animate-pulse rounded-lg",s?"bg-slate-200":"bg-white/5",t),...e})},yq=()=>{const{user:t}=qi(),e=Jb(),{settings:n}=ys(),s=n.theme==="light",a=Bm(),[l,c]=S.useState([]),[h,d]=S.useState(!0),[m,g]=S.useState(!1),[b,x]=S.useState(null),[A,D]=S.useState(5),[I,R]=S.useState(null),[O,H]=S.useState(""),F=(j,V)=>{j.preventDefault(),j.stopPropagation(),R(V.id),H(V.title)},re=async j=>{if(j.preventDefault(),j.stopPropagation(),!!I){try{await hs(pn(mt,"boards",I),{title:O}),c(V=>V.map(be=>be.id===I?{...be,title:O}:be))}catch(V){console.error("Error updating title:",V)}R(null)}},te=j=>{j.preventDefault(),j.stopPropagation(),R(null)},ce=j=>{j.key==="Enter"?re(j):j.key==="Escape"?(j.stopPropagation(),R(null)):j.stopPropagation()},k=[{size:3,label:"33",description:"Quick (9 tiles)",icon:""},{size:4,label:"44",description:"Compact (16 tiles)",icon:""},{size:5,label:"55",description:"Classic (25 tiles)",icon:""},{size:6,label:"66",description:"Extended (36 tiles)",icon:""}],C={blank:{name:"Blank Canvas ",items:[]},default:{name:"2026 Goals ",items:["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"]},fitness:{name:"Fitness Challenge ",items:["Run a 5k","Do 50 pushups in a row","Try a yoga class","Drink 3L water for a week","No sugar for 7 days","Go for a hike","Meal prep for a week","Climb a bouldering wall","Try Pilates","Walk 15k steps in a day","Do a spin class","Bike 20km","FREE SPACE","Touch your toes","Hold a plank for 2 min","Try CrossFit","Go swimming","Meditate for 10 mins x 7","Try a new sport","Sleep 8 hours x 5 days","Do 100 squats","Run a 10k","Go to the gym 4x in a week","Stretch daily for a week","Join a run club"]},couples:{name:"Couple Goals ",items:["Date night (no phones)","Cook a meal together","Weekend getaway","Watch a whole series","Breakfast in bed","Go for a long walk","Plan a future trip","Give each other massages","Recreate first date","Take a dance class","Stargazing date","Write love letters","FREE SPACE","Visit a winery/brewery","Do a puzzle together","Double date","Sunset picnic","Bake something sweet","Volunteer together","Learn a couple's skill","Game night","Make a photo album","Try a new restaurant","Surprise gift","Kiss in the rain"]},personal:{name:"Personal Growth ",items:["Read 1 book/month","Learn a new language","Start a journal","Digital detox (24h)","Meditate daily (1 week)","Drink 2L water daily","Wake up at 6am (1 week)","Declutter a room","Learn to invest","Take a solo trip","Volunteer","Compliment a stranger","FREE SPACE","No social media (weekend)","Learn an instrument","Cook a new cuisine","Write a gratitude list","Take a cold shower","Listen to a podcast","Fix sleep schedule","Walk 10k steps","Call an old friend","Create a vision board","Save 10% income","Take a course"]},knitting:{name:"Knitting Goals ",items:["Finish a WIP","Cast on a sweater","Learn brioche","Knit socks","Stash bust project","Try colorwork","Knit a hat","Use luxury yarn","Fix a mistake","Knit a gift","Block a project","Organize needles","FREE SPACE","Try a new fiber","Knit in public","Attend a knit night","Learn magic loop","Design a pattern","Teach someone to knit","Finish a blanket","Knit a shawl","Try cables","Buy souvenir yarn","Weave in ends immediately","Knit a gauge swatch"]},weaving:{name:"Weaving Goals ",items:["Warp the loom","Weave a rug","Try a new structure","Sample a pattern","Use handspun yarn","Finish a scarf","Hemstitching","Fix a broken warp","Weave a towel","Try tapestry","Mix fibers","Organize yarn stash","FREE SPACE","Weave a placemat","Attend a workshop","Try doublewidth","Weave transparency","Calculate warp correctly","Finish raw edges","Weave with rags","Try tablet weaving","Rigid heddle project","Floor loom project","Visit a mill","Share a project online"]},spinning:{name:"Spinning Goals ",items:["Spin 100g fiber","Ply a yarn","Try a new breed","Spin lace weight","Spin art yarn","Comb fleece","Card a batt","Spin on a drop spindle","Clean the wheel","Spin distinct colors","Skein and wash","Fractal spin","FREE SPACE","Spin silk","Spin cotton","Navajo ply","Spin for a project","Participate in Tour de Fleece","Sample a blend","Teach spinning","Spin consistent grist","Dye fiber","Blend colors on hackle","Spin exotic fiber","Fill a bobbin"]},painting:{name:"Painting Goals ",items:["Paint a landscape","Try watercolors","Paint a portrait","Mix a new color","Paint en plein air","Visit a gallery","Finish a sketchbook","Try oils","Paint a still life","Use a palette knife","Paint an animal","Try abstract","FREE SPACE","Clean brushes properly","Paint on canvas","Paint on wood","Follow a tutorial","Paint a sky","Try gouache","Varnish a painting","Frame a piece","Paint daily for a week","Recreate a master","Paint a self-portrait","Host a paint night"]},corporate:{name:"Corporate Bingo ",items:['"Circle back"',`"Let's take this offline"`,"Meeting that could be an email",'"Synergy"','"Low hanging fruit"','"Touch base"',"Someone forgets to mute","Screen share fails",'"Can you see my screen?"',"Awkward silence",'"Bandwidth"','"Deep dive"',"FREE SPACE","Pet interrupts video call","Echo on the line",'"Per my last email"','"Drill down"','"Out of pocket"','"Hard stop"','"Boil the ocean"',"Reply All disaster",'"Move the needle"','"Blue sky thinking"','"Paradigm shift"','"Quick win"']},travel:{name:"Travel Bucket List ",items:["Visit a new continent","Go on a solo trip","See the Northern Lights","Swim in an ocean","Road trip across 3 states","Fly First Class","Visit a National Park","Eat street food","Stay in a hostel","Learn 'Hello' in 5 languages","Visit a Wonder of the World","Go on a cruise","FREE SPACE","Make a travel vlog","Sleep under the stars","Visit a castle","Ride a train","See a volcano","Go scuba diving","Watch a sunrise on a mountain","Visit a winery","Ride a camel/elephant","Go skiing/snowboarding","Visit a tropical island","Send a postcard"]}};S.useEffect(()=>{if(!t)return;(async()=>{try{console.log("Fetching boards for user:",t.uid,t.email);const V=new Map;try{const W=qa(yi(mt,"boards"),nr(`members.${t.uid}`,"in",["owner","editor","viewer"])),L=await Ko(W);console.log("Boards with membership found:",L.docs.length),L.docs.forEach(T=>{const U=T.data(),X=U.members?.[t.uid],ee=U.members||{},me=Object.values(ee).filter(ye=>ye!=="owner").length;V.set(T.id,{id:T.id,...U,sharedCount:me,myRole:X,members:ee})})}catch(W){console.error("Error querying boards by membership:",W)}try{const W=qa(yi(mt,"years"),nr("ownerId","==",t.uid)),L=await Ko(W);console.log("Legacy boards (years collection) found:",L.docs.length),L.docs.forEach(T=>{const U=T.data();V.set(`legacy_${T.id}`,{id:T.id,title:U.title||"2026 Bingo",createdAt:U.createdAt,isLocked:U.isLocked,ownerId:U.ownerId,myRole:"owner",members:{}})})}catch(W){console.log("Years collection query failed:",W)}try{const W=await Ko(yi(mt,"years"));console.log("All years docs:",W.docs.length),W.docs.forEach(L=>{const T=L.data();if(T.ownerId===t.uid||T.members?.[t.uid]){const U=`legacy_years_${L.id}`;V.has(U)||V.set(U,{id:L.id,title:T.title||`${L.id} Bingo`,createdAt:T.createdAt,isLocked:T.isLocked,ownerId:T.ownerId,myRole:T.ownerId===t.uid?"owner":T.members?.[t.uid]||"viewer",members:T.members||{}})}})}catch(W){console.log("Direct years fetch failed:",W)}const be=Array.from(V.values()),we=new Set;be.forEach(W=>{W.myRole!=="owner"&&(W.ownerId&&W.ownerId!==t.uid&&we.add(W.ownerId),W.members&&Object.entries(W.members).forEach(([L,T])=>{T==="owner"&&L!==t.uid&&we.add(L)}))});const J=Array.from(we),Y={};for(const W of J)try{const L=await $a(pn(mt,"users",W));if(L.exists()){const T=L.data();Y[W]=T.displayName||T.email||"Unknown"}}catch{console.log("Could not fetch owner info for:",W)}const $=be.map(W=>{let L=W.ownerId;if(W.members){const T=Object.keys(W.members).find(U=>W.members[U]==="owner"&&U!==t.uid);T&&(L=T)}return W.myRole!=="owner"&&L&&Y[L]?{...W,ownerName:Y[L]}:W});console.log("Total boards to display:",$.length,$.map(W=>W.title)),c($)}catch(V){console.error("Error fetching boards:",V)}finally{d(!1)}})()},[t]);const P=async j=>{if(!t)return;const V=C[j],be=A,we=be*be,J=be%2===1?Math.floor(we/2):-1,Y=be%2===1?we-1:we,$=await e.prompt("What would you like to call this board?",{title:"Board Title",inputDefaultValue:V.name,confirmText:"Create"});if($)try{const W=V.items.filter(ee=>ee.trim().toUpperCase()!=="FREE SPACE"&&ee!=="FREE SPACE"),L=[...W].sort(()=>.5-Math.random());for(;L.length<Y;)L.push(W[L.length%W.length]||`Goal ${L.length+1}`);const T=[];let U=0;for(let ee=0;ee<we;ee++)ee===J&&be%2===1?T.push({id:ee,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(T.push({id:ee,text:L[U],isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),U++);const X=await vb(yi(mt,"boards"),{title:$,gridSize:be,ownerId:t.uid,members:{[t.uid]:"owner"},items:T,createdAt:He.now(),isLocked:!1,lastUpdated:He.now()});a(`/board/${X.id}`)}catch(W){console.error("Error creating board:",W),await e.alert("Failed to create board. Please try again.",{title:"Error",type:"error"})}finally{g(!1),x(null),D(5)}};if(h)return y.jsx("div",{className:"min-h-screen bg-transparent p-6 relative",children:y.jsxs("div",{className:"max-w-6xl mx-auto",children:[y.jsxs("header",{className:"flex justify-between items-center mb-12 py-2",children:[y.jsx(Vo,{className:"h-10 w-32 md:w-40"}),y.jsxs("div",{className:"flex gap-2 items-center",children:[y.jsx(Vo,{className:"w-10 h-10 rounded-full"}),y.jsx(Vo,{className:"w-10 h-10 rounded-full"}),y.jsx(Vo,{className:"w-20 h-10 rounded-xl"})]})]}),y.jsxs("div",{className:"mb-10",children:[y.jsx(Vo,{className:"h-12 w-64 mb-3 rounded-lg"}),y.jsx(Vo,{className:"h-6 w-48 rounded-md"})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((j,V)=>y.jsx(Vo,{className:"h-48 rounded-2xl"},V))})]})});const z=async(j,V,be)=>{if(j.stopPropagation(),await e.confirm(`This will permanently delete "${be}" and all its data.

This action cannot be undone.`,{title:"Delete Board?",confirmText:"Delete",type:"error"}))try{await yb(pn(mt,"boards",V)),c(J=>J.filter(Y=>Y.id!==V)),await e.alert("Board deleted successfully.",{title:"Deleted",type:"success"})}catch(J){console.error("Error deleting board:",J),await e.alert("Failed to delete board. Please try again.",{title:"Error",type:"error"})}},B=async(j,V,be)=>{if(j.stopPropagation(),!t)return;if(await e.confirm(`You will no longer have access to "${be}".

You can ask the owner to re-share it if needed.`,{title:"Leave Board?",confirmText:"Leave",type:"warning"}))try{await hs(pn(mt,"boards",V),{[`members.${t.uid}`]:xm()}),c(J=>J.filter(Y=>Y.id!==V)),await e.alert("You have left the board.",{title:"Left Board",type:"success"})}catch(J){console.error("Error leaving board:",J),await e.alert("Failed to leave board. Please try again.",{title:"Error",type:"error"})}};return y.jsxs("div",{children:[y.jsxs("div",{className:"max-w-6xl mx-auto",children:[y.jsxs("div",{className:"mb-10 flex flex-col md:flex-row md:items-end justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:K("text-3xl font-semibold tracking-tight",s?"text-slate-800":"text-white"),children:"My Boards"}),y.jsxs("p",{className:K("mt-1",s?"text-slate-600":"text-slate-400"),children:["Welcome back, ",y.jsx("span",{className:K("font-medium",s?"text-slate-900":"text-white"),children:t?.displayName?.split(" ")[0]||"Bingo Player"})]})]}),y.jsxs("button",{onClick:()=>g(!0),className:K("flex items-center gap-2 px-4 py-2 font-bold rounded-lg transition-colors shadow-lg active:scale-95",s?"bg-slate-900 text-white hover:bg-slate-800":"bg-white text-bg-dark hover:bg-slate-200"),children:[y.jsx(xh,{className:"w-5 h-5"}),y.jsx("span",{children:"New Board"})]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.filter(j=>j.myRole==="owner").map(j=>{const be=j.id==="2026"||!j.ownerId?`/board/legacy/${j.id}`:`/board/${j.id}`;return y.jsxs("div",{onClick:we=>{we.preventDefault(),console.log("Navigating to board:",be),a(be)},className:K("group relative h-48 p-6 flex flex-col justify-between cursor-pointer overflow-hidden active:scale-[0.99] rounded-xl border transition-all",s?"bg-white border-slate-200 hover:bg-slate-50 hover:shadow-lg":"bg-[var(--theme-bg-card)] border-[var(--theme-border)] hover:bg-zinc-900"),children:[y.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:y.jsx("button",{onClick:we=>z(we,j.id,j.title),className:K("p-2 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",s?"text-slate-400 hover:text-red-500 hover:bg-red-50":"text-slate-500 hover:text-red-400 hover:bg-white/10"),title:"Delete Board",children:y.jsx(Zu,{size:18})})}),y.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"h-7 mb-2",children:!!j.sharedCount&&j.sharedCount>0&&y.jsxs("span",{className:K("inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider border",s?"bg-emerald-50 text-emerald-600 border-emerald-200":"bg-emerald-500/20 text-emerald-400 border-emerald-500/30"),children:[y.jsx(x8,{size:10}),"Shared with ",j.sharedCount]})}),I===j.id?y.jsxs("div",{className:"flex items-center gap-2 mb-1.5 z-30 relative",onClick:we=>we.stopPropagation(),children:[y.jsx("input",{type:"text",value:O,onChange:we=>H(we.target.value),onKeyDown:ce,onClick:we=>we.stopPropagation(),autoFocus:!0,className:K("font-bold text-xl rounded px-2 py-0.5 border border-accent-primary outline-none min-w-0 flex-1 w-full",s?"bg-white text-slate-800":"bg-black/50 text-white")}),y.jsx("button",{onClick:re,className:"p-1 text-green-400 hover:bg-green-400/20 rounded-full transition-colors",children:y.jsx(vi,{size:18})}),y.jsx("button",{onClick:te,className:"p-1 text-red-400 hover:bg-red-400/20 rounded-full transition-colors",children:y.jsx(lr,{size:18})})]}):y.jsxs("div",{className:"flex items-start gap-2 pr-8 mb-1.5",children:[y.jsx("h3",{className:K("text-xl font-bold line-clamp-2 group-hover:text-accent-primary transition-colors",s?"text-slate-800":"text-white"),children:j.title}),y.jsx("button",{onClick:we=>F(we,j),className:K("opacity-0 group-hover:opacity-100 p-1.5 rounded-full transition-all z-20",s?"text-slate-400 hover:text-slate-700 hover:bg-slate-100":"text-slate-400 hover:text-white hover:bg-white/10"),title:"Rename Board",children:y.jsx(n8,{size:14})})]}),y.jsxs("div",{className:K("flex items-center gap-2 text-xs",s?"text-slate-500":"text-slate-400"),children:[y.jsx(Dm,{className:"w-3.5 h-3.5"}),j.createdAt?.toDate?j.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),y.jsx("div",{className:"mt-4",children:y.jsx("span",{className:K("inline-block px-4 py-1.5 rounded-xl text-xs font-bold border transition-all shadow-sm","bg-accent-primary/10 text-accent-primary border-accent-primary/20 group-hover:bg-accent-primary group-hover:text-white"),children:"Open Board"})})]})]},j.id)})}),l.filter(j=>j.myRole!=="owner").length>0&&y.jsxs(y.Fragment,{children:[y.jsxs("h2",{className:K("text-xl font-bold mt-10 mb-6 flex items-center gap-2",s?"text-slate-800":"text-white"),children:[y.jsx("span",{className:"bg-gradient-to-r from-accent-secondary to-pink-500 bg-clip-text text-transparent",children:"Shared With Me"}),y.jsxs("span",{className:K("text-sm font-normal","text-slate-500"),children:["(",l.filter(j=>j.myRole!=="owner").length,")"]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.filter(j=>j.myRole!=="owner").map(j=>{const be=j.id==="2026"||!j.ownerId?`/board/legacy/${j.id}`:`/board/${j.id}`;return y.jsxs("div",{onClick:we=>{we.preventDefault(),console.log("Navigating to shared board:",be),a(be)},className:K("group relative h-48 p-6 flex flex-col justify-between cursor-pointer overflow-hidden active:scale-[0.99] rounded-xl border transition-all",s?"bg-white border-slate-200 hover:bg-slate-50 hover:shadow-lg":"bg-[var(--theme-bg-card)] border-[var(--theme-border)] hover:bg-zinc-900"),children:[y.jsx("div",{className:K("absolute top-0 right-0 p-4 transition-opacity pointer-events-none",s?"opacity-5 group-hover:opacity-10":"opacity-10 group-hover:opacity-20"),children:y.jsx(Qb,{className:"w-24 h-24"})}),y.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:y.jsx("button",{onClick:we=>B(we,j.id,j.title),className:K("p-2 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",s?"text-slate-400 hover:text-amber-600 hover:bg-amber-50":"text-slate-500 hover:text-amber-400 hover:bg-white/10"),title:"Leave Board",children:y.jsx(pI,{size:18})})}),y.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"h-7 mb-2",children:y.jsx("span",{className:K("inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider border",j.myRole==="editor"?s?"bg-purple-50 text-purple-600 border-purple-200":"bg-accent-secondary/20 text-accent-secondary border-accent-secondary/30":s?"bg-blue-50 text-blue-600 border-blue-200":"bg-blue-500/20 text-blue-400 border-blue-500/30"),children:j.myRole==="editor"?" Editor":" Viewer"})}),y.jsx("h3",{className:K("text-xl font-bold mb-1 line-clamp-1 pr-8",s?"text-slate-800":"text-white"),children:j.title}),j.ownerName&&y.jsxs("div",{className:K("text-xs mb-1.5","text-slate-500"),children:["Shared by ",y.jsx("span",{className:s?"text-slate-700":"text-slate-400",children:j.ownerName})]}),y.jsxs("div",{className:K("flex items-center gap-2 text-xs",s?"text-slate-500":"text-slate-400"),children:[y.jsx(Dm,{className:"w-3.5 h-3.5"}),j.createdAt?.toDate?j.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),y.jsx("div",{className:"mt-4",children:y.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-secondary/10 text-accent-secondary border border-accent-secondary/20 group-hover:bg-accent-secondary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},j.id)})})]})]}),m&&y.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[y.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>{b?x(null):g(!1)}}),y.jsxs("div",{className:"relative w-full max-w-2xl bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[y.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center shrink-0",children:[y.jsx("h2",{className:"text-xl font-bold text-white",children:b?C[b].name:"Choose a Template"}),y.jsx("button",{onClick:()=>{b?x(null):g(!1)},className:"text-slate-400 hover:text-white",children:y.jsx(xh,{className:"w-6 h-6 rotate-45"})})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:b?y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"mb-4",children:[y.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Grid Size"}),y.jsx("div",{className:"grid grid-cols-4 gap-2",children:k.map(({size:j,label:V,icon:be})=>y.jsxs("button",{onClick:()=>D(j),className:`p-3 rounded-xl border text-center transition-all ${A===j?"bg-accent-primary/20 border-accent-primary text-white":"bg-white/5 border-white/10 text-slate-400 hover:bg-white/10 hover:text-white"}`,children:[y.jsx("span",{className:"text-lg block",children:be}),y.jsx("span",{className:"font-bold text-sm",children:V}),y.jsxs("span",{className:"text-[10px] block opacity-70",children:[j*j," tiles"]})]},j))})]}),y.jsx("div",{className:"flex justify-center",children:y.jsx("div",{className:`aspect-square w-full max-w-[380px] grid gap-1.5 p-3 bg-slate-950/50 rounded-xl border border-white/10 ${A===3?"grid-cols-3":A===4?"grid-cols-4":A===5?"grid-cols-5":"grid-cols-6"}`,children:(()=>{const j=A*A,V=A%2===1?Math.floor(j/2):-1,be=C[b].items.filter(we=>we.trim().toUpperCase()!=="FREE SPACE");return Array.from({length:j},(we,J)=>{const Y=J===V&&A%2===1,$=J<V||V===-1?J:J-1,W=Y?"FREE":be[$%be.length]||`Goal ${J+1}`;return y.jsx("div",{className:`
                                                                relative rounded-lg flex items-center justify-center p-1 text-center select-none overflow-hidden 
                                                                ${A<=4?"text-[9px] sm:text-[11px]":"text-[7px] sm:text-[9px]"}
                                                                leading-tight font-medium border shadow-sm
                                                                ${Y?"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50 text-accent-gold font-bold":"bg-white/5 border-white/10 text-slate-300"}
                                                            `,children:y.jsx("span",{className:"line-clamp-2",children:W})},J)})})()})}),y.jsxs("div",{className:"flex gap-3 pt-4",children:[y.jsx("button",{onClick:()=>x(null),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Back"}),y.jsxs("button",{onClick:()=>P(b),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all",children:["Create ",A,"",A," Board"]})]})]}):y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(C).map(([j,V])=>y.jsxs("button",{onClick:()=>x(j),className:"flex flex-col items-start p-4 rounded-xl bg-white/5 hover:bg-white/10 border border-white/5 hover:border-accent-primary/50 transition-all text-left group",children:[y.jsx("h3",{className:"font-bold text-white group-hover:text-accent-primary transition-colors",children:V.name}),y.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Click to preview"})]},j))})})]})]})]})},vq=()=>{const{settings:t}=ys(),e=S.useRef(null),n=S.useRef(null),s=S.useRef([]),l=["cosmic","lavender","light"].includes(t.theme),c=S.useMemo(()=>{switch(t.theme){case"light":return{type:"clouds",particleCount:20,baseColor:"rgba(255, 255, 255, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #f0f9ff 0%, #e0f2fe 50%, #dbeafe 100%)",shootingStars:!1};case"cosmic":return{type:"stars",particleCount:200,baseColor:"rgba(139, 92, 246, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #1e1b4b 0%, #0f172a 40%, #020617 100%)",shootingStars:!0};case"lavender":return{type:"petals",particleCount:50,baseColor:"rgba(232, 121, 249, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #3b0764 0%, #2e1065 50%, #1a0525 100%)",shootingStars:!1};default:return{type:"none",particleCount:0,baseColor:"rgba(0, 0, 0, ",bgGradient:"none",shootingStars:!1}}},[t.theme]);return S.useEffect(()=>{const h=e.current;if(!h)return;const d=()=>{const g=[];for(let b=0;b<c.particleCount;b++)g.push(bq(h.width,h.height,c.type));s.current=g},m=()=>{h.width=window.innerWidth,h.height=window.innerHeight,d()};return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[c]),S.useEffect(()=>{if(t.enableAnimation===!1)return;const h=e.current;if(!h)return;const d=h.getContext("2d");if(!d)return;let m=0,g=null;const b=()=>{d.clearRect(0,0,h.width,h.height),s.current.forEach(x=>{xq(x,h.width,h.height,c.type),wq(d,x,c)}),c.shootingStars&&(m++,m>300&&Math.random()<.01&&(g={x:Math.random()*h.width,y:Math.random()*h.height*.5,length:80+Math.random()*40,speed:15+Math.random()*10,opacity:1},m=0),g&&(d.beginPath(),d.strokeStyle=`rgba(255, 255, 255, ${g.opacity})`,d.lineWidth=2,d.moveTo(g.x,g.y),d.lineTo(g.x-g.length,g.y-g.length*.3),d.stroke(),g.x+=g.speed,g.y+=g.speed*.3,g.opacity-=.02,g.opacity<=0&&(g=null))),n.current=requestAnimationFrame(b)};return b(),()=>{n.current&&cancelAnimationFrame(n.current)}},[t.enableAnimation,c]),l?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed inset-0 z-0 transition-all duration-1000",style:{background:c.bgGradient}}),y.jsx("canvas",{ref:e,className:"fixed inset-0 z-0 pointer-events-none",style:{opacity:t.enableAnimation===!1?0:.8}}),y.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none overflow-hidden",children:[y.jsx("div",{className:`absolute w-[600px] h-[600px] rounded-full blur-[120px] animate-float-slow ${t.theme==="cosmic"?"bg-violet-600/20":t.theme==="lavender"?"bg-fuchsia-500/10":t.theme==="light"?"bg-blue-300/20":"bg-purple-500/10"}`,style:{top:"-15%",left:"-10%"}}),y.jsx("div",{className:`absolute w-[500px] h-[500px] rounded-full blur-[100px] animate-float-slower ${t.theme==="cosmic"?"bg-pink-600/20":t.theme==="lavender"?"bg-purple-600/20":t.theme==="light"?"bg-sky-300/20":"bg-pink-500/10"}`,style:{bottom:"-10%",right:"-5%"}})]})]}):null};function bq(t,e,n){const s={x:Math.random()*t,y:Math.random()*e,opacity:Math.random()*.5+.2};switch(n){case"stars":return{...s,size:Math.random()*3+1,speedX:0,speedY:0,opacity:Math.random()*.8+.4};case"clouds":return{...s,size:Math.random()*80+40,speedX:Math.random()*.3+.1,speedY:Math.random()*.05-.025,opacity:Math.random()*.4+.3};case"leaves":return{...s,size:Math.random()*6+3,speedX:Math.random()*.5-.25,speedY:Math.random()*.8+.3,hue:Math.random()*40+80};case"petals":return{...s,size:Math.random()*6+3,speedX:Math.random()*.5-.25,speedY:Math.random()*.5+.2,hue:Math.random()*40+280};case"bubbles":return{...s,size:Math.random()*8+2,speedX:Math.random()*.3-.15,speedY:-(Math.random()*.8+.3)};case"embers":return{...s,size:Math.random()*3+1,speedX:Math.random()*.4-.2,speedY:-(Math.random()*1+.5),hue:Math.random()*30+15};default:return{...s,size:Math.random()*4+1,speedX:Math.random()*.3-.15,speedY:Math.random()*.2-.1,hue:Math.random()*60+240}}}function xq(t,e,n,s){t.x+=t.speedX,t.y+=t.speedY,s==="stars"&&(t.opacity+=(Math.random()-.5)*.05,t.opacity=Math.max(.1,Math.min(1,t.opacity))),t.x<0&&(t.x=e),t.x>e&&(t.x=0),t.y<0&&(t.y=n),t.y>n&&(t.y=0)}function wq(t,e,n){switch(t.beginPath(),n.type){case"stars":t.fillStyle=`rgba(255, 255, 255, ${e.opacity})`,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill(),e.opacity>.7&&(t.beginPath(),t.fillStyle=`rgba(200, 220, 255, ${e.opacity*.3})`,t.arc(e.x,e.y,e.size*3,0,Math.PI*2),t.fill());break;case"clouds":t.save(),t.shadowColor="rgba(100, 150, 200, 0.3)",t.shadowBlur=20,t.fillStyle=`rgba(255, 255, 255, ${e.opacity})`,t.arc(e.x,e.y,e.size*.6,0,Math.PI*2),t.fill(),t.beginPath(),t.arc(e.x-e.size*.4,e.y+e.size*.1,e.size*.45,0,Math.PI*2),t.fill(),t.beginPath(),t.arc(e.x+e.size*.4,e.y+e.size*.1,e.size*.5,0,Math.PI*2),t.fill(),t.restore();break;case"leaves":t.fillStyle=`hsla(${e.hue}, 60%, 50%, ${e.opacity})`,t.ellipse(e.x,e.y,e.size,e.size*.5,e.x*.01,0,Math.PI*2),t.fill();break;case"petals":t.fillStyle=`hsla(${e.hue}, 70%, 60%, ${e.opacity})`,t.ellipse(e.x,e.y,e.size,e.size*.6,e.x*.02,0,Math.PI*2),t.fill();break;case"bubbles":t.strokeStyle=n.baseColor+`${e.opacity})`,t.lineWidth=1,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.stroke(),t.beginPath(),t.fillStyle=`rgba(255, 255, 255, ${e.opacity*.5})`,t.arc(e.x-e.size*.3,e.y-e.size*.3,e.size*.2,0,Math.PI*2),t.fill();break;case"embers":const s=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size);s.addColorStop(0,`hsla(${e.hue}, 100%, 70%, ${e.opacity})`),s.addColorStop(1,`hsla(${e.hue}, 100%, 50%, 0)`),t.fillStyle=s,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill();break;default:const a=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size*2);a.addColorStop(0,`hsla(${e.hue}, 80%, 60%, ${e.opacity})`),a.addColorStop(1,`hsla(${e.hue}, 80%, 60%, 0)`),t.fillStyle=a,t.arc(e.x,e.y,e.size*2,0,Math.PI*2),t.fill();break}}const Mf=({icon:t,title:e,description:n,color:s})=>y.jsxs($e.div,{whileHover:{scale:1.02},className:"bg-white/5 border border-white/10 rounded-2xl p-6 backdrop-blur-sm",children:[y.jsx("div",{className:K("w-12 h-12 rounded-xl flex items-center justify-center mb-4",s),children:y.jsx(t,{size:24,className:"text-white"})}),y.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:e}),y.jsx("p",{className:"text-slate-400 text-sm",children:n})]}),o0=({number:t,title:e,description:n})=>y.jsxs("div",{className:"flex gap-4",children:[y.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-accent-primary/20 border border-accent-primary/50 flex items-center justify-center text-accent-primary font-bold",children:t}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold text-white mb-1",children:e}),y.jsx("p",{className:"text-slate-400 text-sm",children:n})]})]}),_q=()=>{const t=Bm(),{settings:e}=ys(),n=e.theme==="light";return y.jsx("div",{className:K("min-h-screen p-6 relative overflow-x-hidden pb-32 bg-transparent",n?"text-slate-800":"text-white"),children:y.jsxs("div",{className:"max-w-5xl mx-auto",children:[y.jsxs($e.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>t(-1),className:K("flex items-center gap-2 transition-colors mb-8 group",n?"text-slate-600 hover:text-slate-900":"text-slate-400 hover:text-white"),children:[y.jsx(SB,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),"Back"]}),y.jsxs("div",{className:"text-center mb-16",children:[y.jsx($e.div,{initial:{scale:0},animate:{scale:1},className:"inline-flex items-center justify-center w-20 h-20 rounded-3xl bg-gradient-to-br from-accent-primary to-accent-secondary mb-6 shadow-2xl",children:y.jsx(Im,{size:40,className:"text-white"})}),y.jsxs($e.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl sm:text-5xl font-extrabold mb-4",children:["Welcome to ",y.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent",children:"SunSar Bingo"})]}),y.jsx($e.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:K("text-xl max-w-2xl mx-auto",n?"text-slate-600":"text-slate-400"),children:"Turn your 2026 goals into a beautiful, social game. Track progress, celebrate wins, and stay motivated together."})]}),y.jsxs($e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-16",children:[y.jsx(Mf,{icon:Qb,title:"Custom Boards",description:"Create 3x3, 4x4, or 5x5 grids for any goal type",color:"bg-blue-500"}),y.jsx(Mf,{icon:bh,title:"Photo Memories",description:"Attach photos to tiles and build a visual journal",color:"bg-green-500"}),y.jsx(Mf,{icon:$S,title:"Shared Boards",description:"Invite friends to track goals together",color:"bg-purple-500"}),y.jsx(Mf,{icon:km,title:"8 Themes",description:"Beautiful themes including 3 with animations",color:"bg-pink-500"})]}),y.jsxs($e.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-16",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("div",{className:"p-3 bg-blue-500/20 rounded-xl text-blue-400",children:y.jsx(xh,{size:28})}),y.jsx("h2",{className:"text-2xl font-bold",children:"Getting Started"})]}),y.jsxs("div",{className:K("rounded-3xl p-8 backdrop-blur-sm space-y-6",n?"bg-white/60 border border-slate-200":"bg-white/5 border border-white/10"),children:[y.jsx(o0,{number:1,title:"Create Your Board",description:"From the dashboard, click 'Create Board'. Choose from templates like 'Fitness', 'Travel', or 'Self Care'  or start blank."}),y.jsx(o0,{number:2,title:"Customize Your Goals",description:"Write specific, actionable goals for each tile. You can set multi-count targets (e.g., 'Run 10 miles' with progress tracking) and due dates."}),y.jsx(o0,{number:3,title:"Go Live",description:"Click 'Go Live' to lock your board and start playing. The board structure is now set  time to start completing goals!"})]})]}),y.jsxs($e.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mb-16",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("div",{className:"p-3 bg-green-500/20 rounded-xl text-green-400",children:y.jsx(d8,{size:28})}),y.jsx("h2",{className:"text-2xl font-bold",children:"Playing & Tracking"})]}),y.jsx("div",{className:K("rounded-3xl p-8 backdrop-blur-sm",n?"bg-white/60 border border-slate-200":"bg-white/5 border border-white/10"),children:y.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[y.jsx(gI,{className:"w-5 h-5 text-yellow-400"}),"Completing Goals"]}),y.jsxs("ul",{className:K("space-y-3 text-sm",n?"text-slate-600":"text-slate-400"),children:[y.jsxs("li",{className:"flex items-start gap-3",children:[y.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary mt-2 flex-shrink-0"}),y.jsxs("span",{children:[y.jsx("strong",{children:"Tap any tile"})," to open it and mark progress"]})]}),y.jsxs("li",{className:"flex items-start gap-3",children:[y.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary mt-2 flex-shrink-0"}),y.jsxs("span",{children:[y.jsx("strong",{children:"Add photos"})," as proof and memories"]})]}),y.jsxs("li",{className:"flex items-start gap-3",children:[y.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary mt-2 flex-shrink-0"}),y.jsxs("span",{children:[y.jsx("strong",{children:"Track multi-count"})," goals with +/- buttons"]})]})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[y.jsx(GS,{className:"w-5 h-5 text-amber-400"}),"Winning Bingo"]}),y.jsxs("p",{className:K("text-sm",n?"text-slate-600":"text-slate-400"),children:["Complete any full ",y.jsx("strong",{children:"row"}),", ",y.jsx("strong",{children:"column"}),", or ",y.jsx("strong",{children:"diagonal"})," to score a BINGO! Watch for the confetti celebration when you hit one. The goal is to fill the entire board  but each bingo along the way is a victory."]}),y.jsxs("div",{className:K("p-4 rounded-xl text-center",n?"bg-amber-50 border border-amber-200":"bg-amber-500/10 border border-amber-500/30"),children:[y.jsx("span",{className:"font-bold text-amber-500",children:"Pro tip:"}),y.jsx("span",{className:K("ml-2 text-sm",n?"text-slate-700":"text-slate-300"),children:"The center tile is a FREE space!"})]})]})]})})]}),y.jsxs($e.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mb-16",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("div",{className:"p-3 bg-purple-500/20 rounded-xl text-purple-400",children:y.jsx(Qf,{size:28})}),y.jsx("h2",{className:"text-2xl font-bold",children:"Playing Together"})]}),y.jsx("div",{className:K("rounded-3xl p-8 backdrop-blur-sm",n?"bg-white/60 border border-slate-200":"bg-white/5 border border-white/10"),children:y.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[y.jsxs("div",{children:[y.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[y.jsx($S,{className:"w-5 h-5 text-accent-secondary"}),"Invite Collaborators"]}),y.jsx("p",{className:K("text-sm mb-4",n?"text-slate-600":"text-slate-400"),children:"Share your board with friends, family, or teammates. Everyone can view progress and complete tiles together."}),y.jsxs("ul",{className:K("space-y-2 text-sm",n?"text-slate-600":"text-slate-400"),children:[y.jsxs("li",{children:[" ",y.jsx("strong",{children:"Editors"})," can mark goals complete"]}),y.jsxs("li",{children:[" ",y.jsx("strong",{children:"Viewers"})," can see progress"]}),y.jsxs("li",{children:[" ",y.jsx("strong",{children:"Owner"})," controls board settings"]})]})]}),y.jsxs("div",{children:[y.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[y.jsx(GS,{className:"w-5 h-5 text-amber-400"}),"Competition Mode"]}),y.jsxs("p",{className:K("text-sm mb-4",n?"text-slate-600":"text-slate-400"),children:["On shared boards, tiles show ",y.jsx("strong",{children:"who completed them first"}),". Race your friends to complete the most goals!"]}),y.jsxs("div",{className:K("rounded-xl p-4 border text-center",n?"bg-slate-50 border-slate-200":"bg-black/40 border-white/5"),children:[y.jsx("span",{className:K("text-xs uppercase tracking-widest","text-slate-500"),children:"Example"}),y.jsx("div",{className:"mt-2 font-bold",children:'"Run a 5K"'}),y.jsx("div",{className:"text-xs text-accent-primary mt-1",children:" Completed by Sunit"})]})]})]})})]}),y.jsxs($e.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"mb-16",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("div",{className:"p-3 bg-pink-500/20 rounded-xl text-pink-400",children:y.jsx(km,{size:28})}),y.jsx("h2",{className:"text-2xl font-bold",children:"Themes & Customization"})]}),y.jsxs("div",{className:K("rounded-3xl p-8 backdrop-blur-sm",n?"bg-white/60 border border-slate-200":"bg-white/5 border border-white/10"),children:[y.jsxs("p",{className:K("text-sm mb-6",n?"text-slate-600":"text-slate-400"),children:["Choose from ",y.jsx("strong",{children:"8 beautiful themes"})," to match your style. Access themes anytime from the sidebar or Settings."]}),y.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-8 gap-3 mb-6",children:[{name:"Light",color:"bg-sky-100",animated:!0},{name:"Dawn",color:"bg-orange-400",animated:!1},{name:"Midnight",color:"bg-indigo-600",animated:!1},{name:"Cosmic",color:"bg-violet-600",animated:!0},{name:"Lavender",color:"bg-fuchsia-600",animated:!0},{name:"Forest",color:"bg-emerald-600",animated:!1},{name:"Ocean",color:"bg-cyan-600",animated:!1},{name:"Sunset",color:"bg-rose-600",animated:!1}].map(s=>y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:K("w-10 h-10 rounded-full mx-auto mb-2 relative",s.color,s.name==="Light"&&"border border-slate-300"),children:s.animated&&y.jsx(eh,{className:"absolute -top-1 -right-1 w-4 h-4 text-yellow-400 drop-shadow"})}),y.jsx("span",{className:K("text-xs",n?"text-slate-600":"text-slate-400"),children:s.name})]},s.name))}),y.jsxs("div",{className:K("flex items-center gap-3 p-4 rounded-xl",n?"bg-blue-50 border border-blue-200":"bg-blue-500/10 border border-blue-500/30"),children:[y.jsx(eh,{className:"w-5 h-5 text-blue-400"}),y.jsxs("p",{className:K("text-sm",n?"text-blue-800":"text-blue-200"),children:[y.jsx("strong",{children:"Animated themes"})," (Light, Cosmic, Lavender) feature moving backgrounds with clouds, stars, or petals!"]})]})]})]}),y.jsx($e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"text-center",children:y.jsx("button",{onClick:()=>t("/dashboard"),className:K("px-8 py-4 font-bold rounded-2xl text-lg hover:scale-105 transition-transform shadow-xl",n?"bg-slate-900 text-white shadow-slate-300":"bg-white text-slate-900 shadow-white/10"),children:"Start Playing "})})]})})},Tq=()=>{const{user:t}=qi(),[e,n]=S.useState([]),[s,a]=S.useState([]),[l,c]=S.useState([]),[h,d]=S.useState(!0),{unlockBadge:m,setBadgeProgress:g}=kI();return S.useEffect(()=>{if(!t){n([]),d(!1);return}const R=yi(mt,`users/${t.uid}/friends`),O=ic(R,H=>{const F=[];H.forEach(re=>{F.push(re.data())}),n(F)});return()=>O()},[t]),S.useEffect(()=>{if(!t)return;const R=qa(yi(mt,"friend_requests"),nr("toUserEmail","==",t.email),nr("status","==","pending")),O=ic(R,H=>{const F=[];H.forEach(re=>{F.push({id:re.id,...re.data()})}),a(F),d(!1)});return()=>O()},[t]),S.useEffect(()=>{if(!t)return;const R=qa(yi(mt,"friend_requests"),nr("fromUserId","==",t.uid),nr("status","==","pending")),O=ic(R,H=>{const F=[];H.forEach(re=>{F.push({id:re.id,...re.data()})}),c(F)});return()=>O()},[t]),{friends:e,incomingRequests:s,outgoingRequests:l,loading:h,sendFriendRequest:async R=>{if(!t)throw new Error("Not authenticated");if(R.toLowerCase()===t.email?.toLowerCase())throw new Error("You cannot add yourself.");const O=yi(mt,"users"),H=qa(O,nr("email","==",R.toLowerCase())),F=await Ko(H);if(F.empty)return{success:!1,message:"User not found."};const re=F.docs[0].data(),te=F.docs[0].id;return e.some(ce=>ce.email.toLowerCase()===R.toLowerCase())?{success:!1,message:"Use is already your friend."}:l.some(ce=>ce.toUserEmail.toLowerCase()===R.toLowerCase())?{success:!1,message:"Request already sent."}:(await vb(yi(mt,"friend_requests"),{fromUserId:t.uid,fromUserEmail:t.email,fromUserName:t.displayName||"Unknown",fromUserPhoto:t.photoURL,toUserId:te,toUserEmail:re.email,status:"pending",createdAt:$o()}),{success:!0,message:"Friend request sent!"})},acceptFriendRequest:async R=>{if(!t)return;const O=O0(mt),H=pn(mt,"friend_requests",R.id);O.update(H,{status:"accepted"});const F=pn(mt,`users/${t.uid}/friends/${R.fromUserId}`);O.set(F,{uid:R.fromUserId,email:R.fromUserEmail,displayName:R.fromUserName,photoURL:R.fromUserPhoto,since:$o()});const re=pn(mt,`users/${R.fromUserId}/friends/${t.uid}`);O.set(re,{uid:t.uid,email:t.email,displayName:t.displayName||"Unknown",photoURL:t.photoURL,since:$o()}),await O.commit(),m("got_mail");const te=e.length+1;g("social_butterfly",te)},rejectFriendRequest:async R=>{await yb(pn(mt,"friend_requests",R))},removeFriend:async R=>{if(!t)return;const O=O0(mt),H=pn(mt,`users/${t.uid}/friends/${R}`),F=pn(mt,`users/${R}/friends/${t.uid}`);O.delete(H),O.delete(F),await O.commit()},getFriendsNotInBoard:R=>{const O=new Set(R.map(H=>H.id));return e.filter(H=>!O.has(H.uid))}}},Eq=()=>{const{friends:t,incomingRequests:e,outgoingRequests:n,sendFriendRequest:s,acceptFriendRequest:a,rejectFriendRequest:l,removeFriend:c}=Tq(),{settings:h}=ys(),d=h.theme==="light",m=Jb(),[g,b]=S.useState("friends"),[x,A]=S.useState(""),[D,I]=S.useState(!1),R=async()=>{if(x.trim()){I(!0);try{const O=await s(x.trim());O.success?(await m.alert(`Request sent to ${x}!`,{type:"success"}),A("")):await m.alert(O.message,{type:"error"})}catch{await m.alert("Something went wrong. Check the email and try again.",{type:"error"})}finally{I(!1)}}};return y.jsxs("div",{className:K("rounded-3xl border shadow-xl overflow-hidden mt-8 max-w-4xl mx-auto",d?"bg-white border-slate-200":"bg-slate-900 border-white/10"),children:[y.jsx("div",{className:K("p-4 border-b flex items-center justify-between",d?"bg-slate-50 border-slate-200":"bg-white/5 border-white/5"),children:y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("button",{onClick:()=>b("friends"),className:K("px-4 py-2 rounded-xl text-sm font-bold transition-all relative",g==="friends"?"bg-accent-primary text-white shadow-lg shadow-accent-primary/25":d?"text-slate-600 hover:bg-slate-200":"text-slate-400 hover:text-white hover:bg-white/5"),children:["My Friends",t.length>0&&y.jsx("span",{className:"ml-2 text-xs opacity-80 bg-black/20 px-1.5 rounded-full",children:t.length})]}),y.jsxs("button",{onClick:()=>b("requests"),className:K("px-4 py-2 rounded-xl text-sm font-bold transition-all relative",g==="requests"?"bg-accent-secondary text-white shadow-lg shadow-accent-secondary/25":d?"text-slate-600 hover:bg-slate-200":"text-slate-400 hover:text-white hover:bg-white/5"),children:["Requests",e.length>0&&y.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full text-[10px] flex items-center justify-center text-white border-2 border-slate-900",children:e.length})]}),y.jsx("button",{onClick:()=>b("search"),className:K("px-4 py-2 rounded-xl text-sm font-bold transition-all",g==="search"?"bg-emerald-500 text-white shadow-lg shadow-emerald-500/25":d?"text-slate-600 hover:bg-slate-200":"text-slate-400 hover:text-white hover:bg-white/5"),children:"Find People"})]})}),y.jsx("div",{className:"p-6 min-h-[300px]",children:y.jsxs(Qs,{mode:"wait",children:[g==="friends"&&y.jsx($e.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:t.length===0?y.jsxs("div",{className:"text-center py-12",children:[y.jsx("div",{className:K("w-20 h-20 mx-auto rounded-full flex items-center justify-center mb-4",d?"bg-slate-100":"bg-white/5"),children:y.jsx(wh,{size:32,className:"text-slate-400"})}),y.jsx("h3",{className:K("text-lg font-bold mb-2",d?"text-slate-800":"text-white"),children:"No friends yet"}),y.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"Connect with people to share boards and compete!"}),y.jsx("button",{onClick:()=>b("search"),className:"px-6 py-2 bg-accent-primary text-white rounded-xl font-bold hover:shadow-lg transition-all",children:"Find Friends"})]}):y.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:t.map(O=>y.jsxs("div",{className:K("flex items-center gap-4 p-4 rounded-xl border transition-all",d?"bg-white border-slate-200 hover:shadow-md":"bg-white/5 border-white/5 hover:bg-white/10"),children:[O.photoURL?y.jsx("img",{src:O.photoURL,alt:O.displayName,className:"w-12 h-12 rounded-full object-cover bg-slate-800"}):y.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-indigo-500 flex items-center justify-center text-white font-bold text-lg",children:O.displayName.charAt(0)}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("h4",{className:K("font-bold truncate",d?"text-slate-900":"text-white"),children:O.displayName}),y.jsx("p",{className:"text-xs text-slate-400 truncate",children:O.email})]}),y.jsx("button",{onClick:async()=>{await m.confirm("Are you sure you want to remove this friend?",{type:"error",confirmText:"Remove"})&&c(O.uid)},className:K("p-2 rounded-lg transition-colors",d?"text-slate-400 hover:text-red-500 hover:bg-red-50":"text-slate-600 hover:text-red-400 hover:bg-red-500/10"),children:y.jsx(Zu,{size:18})})]},O.uid))})},"friends"),g==="requests"&&y.jsxs($e.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:[y.jsxs("div",{className:"mb-8",children:[y.jsxs("h3",{className:K("text-sm font-bold uppercase tracking-wider mb-4 flex items-center gap-2",d?"text-slate-500":"text-slate-400"),children:[y.jsx(rv,{size:14})," Incoming Requests"]}),e.length===0?y.jsx("p",{className:"text-sm text-slate-500 italic",children:"No pending requests."}):y.jsx("div",{className:"space-y-3",children:e.map(O=>y.jsxs("div",{className:K("flex items-center gap-4 p-4 rounded-xl border",d?"bg-white border-slate-200":"bg-white/5 border-white/5"),children:[O.fromUserPhoto?y.jsx("img",{src:O.fromUserPhoto,className:"w-10 h-10 rounded-full object-cover"}):y.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center text-white font-bold",children:O.fromUserName.charAt(0)}),y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:K("font-bold",d?"text-slate-900":"text-white"),children:O.fromUserName}),y.jsx("div",{className:"text-xs text-slate-400",children:"Sent you a friend request"})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>a(O),className:"p-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors shadow-lg shadow-emerald-500/20",title:"Accept",children:y.jsx(vi,{size:18})}),y.jsx("button",{onClick:()=>l(O.id),className:K("p-2 rounded-lg transition-colors border",d?"border-slate-300 text-slate-500 hover:bg-slate-100":"border-white/10 text-slate-400 hover:bg-white/10"),title:"Decline",children:y.jsx(lr,{size:18})})]})]},O.id))})]}),y.jsxs("div",{children:[y.jsxs("h3",{className:K("text-sm font-bold uppercase tracking-wider mb-4 flex items-center gap-2",d?"text-slate-500":"text-slate-400"),children:[y.jsx(mI,{size:14})," Sent Requests"]}),n.length===0?y.jsx("p",{className:"text-sm text-slate-500 italic",children:"No sent requests."}):y.jsx("div",{className:"space-y-3",children:n.map(O=>y.jsxs("div",{className:K("flex items-center justify-between p-3 rounded-xl border opacity-70",d?"bg-slate-50 border-slate-200":"bg-white/5 border-white/5"),children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:K("w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold",d?"bg-slate-200 text-slate-600":"bg-white/10 text-white"),children:O.toUserEmail.charAt(0).toUpperCase()}),y.jsxs("div",{children:[y.jsx("div",{className:K("text-sm font-bold",d?"text-slate-900":"text-white"),children:O.toUserEmail}),y.jsx("div",{className:"text-[10px] text-slate-400",children:"Pending..."})]})]}),y.jsx("button",{onClick:()=>l(O.id),className:"text-xs text-red-400 hover:underline",children:"Cancel"})]},O.id))})]})]},"requests"),g==="search"&&y.jsxs($e.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"max-w-md mx-auto py-8",children:[y.jsxs("div",{className:"text-center mb-6",children:[y.jsx("h3",{className:K("text-xl font-bold mb-2",d?"text-slate-900":"text-white"),children:"Add a Friend"}),y.jsx("p",{className:"text-slate-400 text-sm",children:"Enter their email address to send a request."})]}),y.jsxs("div",{className:"relative mb-4",children:[y.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:y.jsx(rv,{size:18,className:"text-slate-500"})}),y.jsx("input",{type:"email",value:x,onChange:O=>A(O.target.value),placeholder:"friend@example.com",className:K("w-full pl-10 pr-4 py-3 rounded-xl outline-none border transition-all",d?"bg-slate-50 border-slate-200 focus:border-accent-primary focus:ring-2 focus:ring-accent-primary/20 text-slate-900 placeholder:text-slate-400":"bg-black/20 border-white/10 focus:border-accent-primary focus:ring-2 focus:ring-accent-primary/20 text-white placeholder:text-slate-500"),onKeyDown:O=>O.key==="Enter"&&R()})]}),y.jsx("button",{onClick:R,disabled:!x||D,className:"w-full py-3 bg-emerald-500 text-white font-bold rounded-xl hover:bg-emerald-600 hover:shadow-lg hover:shadow-emerald-500/25 active:scale-95 transition-all disabled:opacity-50 disabled:pointer-events-none",children:D?"Sending...":"Send Request"})]},"search")]})})]})},Sq=()=>{const{user:t}=qi(),{settings:e}=ys(),n=e.theme==="light",[s,a]=S.useState({}),[l,c]=S.useState(!0),[h,d]=S.useState(!1);S.useEffect(()=>{if(!t)return;c(!0);const b=pn(mt,`users/${t.uid}/badges/progress`),x=ic(b,A=>{A.exists()?a(A.data()):a({}),c(!1)});return()=>x()},[t]);const m=["Speed","Creativity","Social"],g=ac.filter(b=>(s[b.id]?.progress||0)>=b.maxProgress).length;return y.jsxs("div",{className:K("rounded-3xl border shadow-xl overflow-hidden mb-8",n?"bg-white border-slate-200":"bg-slate-900 border-white/10"),children:[y.jsxs("button",{onClick:()=>d(!h),className:"w-full flex items-center justify-between p-6 md:p-8 text-left focus:outline-none group",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:K("p-3 rounded-2xl",n?"bg-amber-100 text-amber-600":"bg-amber-500/10 text-amber-500"),children:y.jsx(vh,{size:32})}),y.jsxs("div",{children:[y.jsx("h2",{className:K("text-xl md:text-2xl font-bold",n?"text-slate-900":"text-white"),children:"Trophy Case"}),y.jsxs("p",{className:"text-slate-400 text-sm",children:[g," / ",ac.length," Unlocked"]})]})]}),y.jsx("div",{className:K("p-2 rounded-full transition-colors",n?"text-slate-400 group-hover:bg-slate-100":"text-slate-500 group-hover:bg-white/5"),children:h?y.jsx(LB,{size:24}):y.jsx(PB,{size:24})})]}),y.jsx(Qs,{children:h&&y.jsx($e.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:y.jsx("div",{className:"p-6 md:p-8 pt-0 border-t border-dashed border-slate-200 dark:border-white/10",children:l?y.jsx("div",{className:"text-center py-12 text-slate-500 animate-pulse",children:"Loading trophies..."}):y.jsx("div",{className:"space-y-10 mt-6",children:m.map(b=>y.jsxs("div",{children:[y.jsxs("h3",{className:K("text-lg font-bold mb-4 flex items-center gap-2",n?"text-slate-700":"text-slate-300"),children:[b==="Speed"&&"",b==="Creativity"&&"",b==="Social"&&"",b]}),y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:ac.filter(x=>x.category===b).map(x=>{const A=s[x.id]?.progress||0,D=A>=x.maxProgress,I=x.isHidden&&!D;return y.jsxs($e.div,{whileHover:{scale:1.02},className:K("relative p-4 rounded-2xl border flex flex-col items-center text-center transition-all h-full",D?n?"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200 shadow-sm":"bg-gradient-to-br from-amber-500/10 to-orange-500/10 border-amber-500/30":n?"bg-slate-50 border-slate-100 opacity-80":"bg-white/5 border-white/5 opacity-60"),children:[y.jsxs("div",{className:K("w-16 h-16 rounded-full flex items-center justify-center text-3xl mb-3 shadow-inner relative overflow-hidden",D?n?"bg-white shadow-amber-100":"bg-black/30 shadow-black/50":"bg-black/10 grayscale"),children:[I?y.jsx(YB,{size:20,className:"text-slate-400"}):x.icon,D&&y.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/20 to-transparent w-full h-full skew-x-12 translate-x-full animate-shimmer"})]}),y.jsx("h4",{className:K("font-bold text-sm mb-1",D?n?"text-slate-900":"text-white":"text-slate-500"),children:I?"???":x.title}),y.jsx("p",{className:"text-xs text-slate-400 mb-3 leading-snug",children:I?"Keep playing to unlock.":x.description}),!D&&!I&&x.maxProgress>1&&y.jsxs("div",{className:"w-full mt-auto",children:[y.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 mb-1 font-mono",children:[y.jsx("span",{children:A}),y.jsx("span",{children:x.maxProgress})]}),y.jsx("div",{className:"h-1.5 w-full bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-accent-primary rounded-full transition-all duration-500",style:{width:`${A/x.maxProgress*100}%`}})})]}),D&&s[x.id]?.unlockedAt&&y.jsx("div",{className:"mt-auto text-[10px] text-amber-500 font-medium bg-amber-500/10 px-2 py-0.5 rounded-full",children:"Unlocked!"})]},x.id)})})]},b))})})})})]})},Aq=()=>{const{user:t,updateProfileName:e}=qi(),{settings:n}=ys(),s=n.theme==="light",[a,l]=S.useState({totalBoards:0,totalTiles:0,totalBingos:0,totalPhotos:0}),[c,h]=S.useState(!1),[d,m]=S.useState(t?.displayName||"");S.useEffect(()=>{if(!t)return;m(t.displayName||""),(async()=>{try{const x=qa(yi(mt,"boards"),nr(`members.${t.uid}`,"in",["owner","editor","viewer"])),A=await Ko(x);let D=0,I=0,R=0;A.docs.forEach(O=>{const H=O.data();D++,H.items&&H.items.forEach(F=>{F.isCompleted&&!F.isFreeSpace&&I++,F.proofPhotos&&(R+=F.proofPhotos.length)})}),l({totalBoards:D,totalTiles:I,totalBingos:0,totalPhotos:R})}catch(x){console.error("Error fetching stats",x)}})()},[t]);const g=async()=>{if(!(!t||!d.trim()))try{await e(d.trim()),h(!1)}catch(b){console.error("Failed to update name",b)}};return y.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-8 animate-in fade-in duration-500",children:[y.jsxs("div",{className:K("rounded-3xl p-8 mb-12 shadow-2xl relative overflow-hidden border",s?"bg-gradient-to-br from-indigo-100 to-slate-100 border-white shadow-indigo-100":"bg-gradient-to-br from-indigo-900/50 to-slate-900/50 border-white/10"),children:[y.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-accent-primary/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),y.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center gap-8",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:K("w-32 h-32 rounded-full border-4 flex items-center justify-center overflow-hidden shadow-xl",s?"bg-slate-200 border-white":"bg-slate-800 border-white/10"),children:t?.photoURL?y.jsx("img",{src:t.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):y.jsx(wh,{size:64,className:"text-slate-500"})}),y.jsx("button",{className:"absolute bottom-0 right-0 p-2 bg-accent-primary rounded-full text-white shadow-lg hover:scale-105 transition-transform",children:y.jsx(bh,{size:16})})]}),y.jsxs("div",{className:"flex-1 text-center md:text-left",children:[y.jsx("div",{className:"mb-2",children:y.jsx("span",{className:"text-sm font-semibold text-accent-secondary uppercase tracking-wider",children:"Player Profile"})}),c?y.jsxs("div",{className:"flex items-center gap-3 justify-center md:justify-start",children:[y.jsx("input",{value:d,onChange:b=>m(b.target.value),className:K("border rounded-lg px-4 py-2 text-2xl font-bold outline-none focus:border-accent-primary w-full max-w-xs",s?"bg-white/80 border-slate-300 text-slate-800":"bg-black/30 border-white/20 text-white"),autoFocus:!0}),y.jsx("button",{onClick:g,className:"p-2 bg-green-500/20 text-green-400 rounded-lg hover:bg-green-500/30",children:y.jsx(vi,{size:24})})]}):y.jsxs("h1",{className:K("text-4xl font-bold mb-2 flex items-center justify-center md:justify-start gap-3 group",s?"text-slate-900":"text-white"),children:[t?.displayName||"Bingo Player",y.jsx("button",{onClick:()=>h(!0),className:K("opacity-0 group-hover:opacity-100 transition-opacity",s?"text-slate-400 hover:text-slate-700":"text-slate-400 hover:text-white"),children:y.jsx(Ju,{size:20})})]}),y.jsx("p",{className:K(s?"text-slate-600":"text-slate-400"),children:t?.email}),y.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Joined January 2026"})]})]})]}),y.jsx("div",{className:"mt-12",children:y.jsx(Eq,{})}),y.jsx(Sq,{}),y.jsxs("h2",{className:K("text-2xl font-bold mb-6 flex items-center gap-2 mt-12",s?"text-slate-800":"text-white"),children:[y.jsx(vh,{className:"text-accent-gold"})," Lifetime Stats"]}),y.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[y.jsx(Pf,{label:"Active Boards",value:a.totalBoards,icon:y.jsx(GB,{size:24,className:"text-violet-400"}),delay:0,isLightTheme:s}),y.jsx(Pf,{label:"Tiles Completed",value:a.totalTiles,icon:y.jsx(vi,{size:24,className:"text-emerald-400"}),delay:.1,isLightTheme:s}),y.jsx(Pf,{label:"Bingos Won",value:"--",icon:y.jsx(vh,{size:24,className:"text-amber-400"}),delay:.2,isLightTheme:s}),y.jsx(Pf,{label:"Photos Added",value:a.totalPhotos,icon:y.jsx(bh,{size:24,className:"text-pink-400"}),delay:.3,isLightTheme:s})]})]})},Pf=({label:t,value:e,icon:n,delay:s,isLightTheme:a})=>y.jsxs($e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s},className:K("p-6 rounded-2xl flex flex-col items-center justify-center text-center transition-colors border",a?"bg-white border-slate-200 hover:bg-slate-50 shadow-sm":"bg-white/5 border-white/10 hover:bg-white/10"),children:[y.jsx("div",{className:K("mb-3 p-3 rounded-full",a?"bg-slate-100":"bg-white/5"),children:n}),y.jsx("div",{className:K("text-3xl font-bold mb-1",a?"text-slate-800":"text-white"),children:e}),y.jsx("div",{className:K("text-sm font-medium uppercase tracking-wide",a?"text-slate-500":"text-slate-400"),children:t})]}),jf=({children:t})=>{const{logout:e,user:n}=qi(),{openSettings:s,settings:a,updateSettings:l}=ys(),[c,h]=At.useState(!1),d=Qr();At.useEffect(()=>{h(!1)},[d.pathname]);const m=[{label:"Dashboard",path:"/dashboard",icon:Qb},{label:"Profile",path:"/profile",icon:wh},{label:"Help & Guide",path:"/help",icon:fI}],g=a.theme==="light";return y.jsxs("div",{className:"min-h-screen bg-transparent flex",style:{color:"var(--theme-text-main)"},children:[c&&y.jsx("div",{className:K("fixed inset-0 z-40 lg:hidden backdrop-blur-sm",g?"bg-black/30":"bg-black/50"),onClick:()=>h(!1)}),y.jsxs("aside",{className:K("fixed inset-y-0 left-0 z-50 w-64 bg-[var(--theme-bg-subtle)] border-r border-[var(--theme-border)] transform transition-transform duration-200 lg:translate-x-0 lg:static flex flex-col",c?"translate-x-0":"-translate-x-full"),children:[y.jsx("div",{className:"h-16 flex items-center justify-center border-b border-[var(--theme-border)] shrink-0 p-2",children:y.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-full w-auto object-contain"})}),y.jsxs("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:[y.jsx("div",{className:K("text-xs font-semibold uppercase tracking-wider mb-2 px-3","text-slate-500"),children:"Menu"}),m.map(b=>y.jsxs(jA,{to:b.path,className:({isActive:x})=>K("flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",x?"bg-[var(--theme-accent-primary)]/10 text-[var(--theme-accent-primary)]":g?"text-slate-600 hover:text-slate-900 hover:bg-slate-100":"text-slate-400 hover:text-slate-100 hover:bg-white/5"),children:[y.jsx(b.icon,{size:18}),b.label]},b.path)),y.jsxs("button",{onClick:s,className:K("w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",g?"text-slate-600 hover:text-slate-900 hover:bg-slate-100":"text-slate-400 hover:text-slate-100 hover:bg-white/5"),children:[y.jsx(l8,{size:18}),"Settings"]}),y.jsxs("div",{className:K("px-3 py-3 mt-2 border-t",g?"border-slate-200":"border-white/5"),children:[y.jsx("div",{className:K("text-[10px] font-bold uppercase tracking-wider mb-3","text-slate-500"),children:"Theme"}),y.jsx("div",{className:"flex justify-between gap-1",children:[{id:"light",color:"bg-slate-200 ring-1 ring-slate-400"},{id:"dawn",color:"bg-orange-400"},{id:"midnight",color:"bg-indigo-500"},{id:"cosmic",color:"bg-violet-500"},{id:"lavender",color:"bg-fuchsia-500"},{id:"forest",color:"bg-emerald-500"},{id:"ocean",color:"bg-cyan-500"},{id:"sunset",color:"bg-rose-500"}].map(b=>y.jsx("button",{onClick:()=>l({theme:b.id}),className:K("w-6 h-6 rounded-full transition-all duration-300 relative",b.color,a.theme===b.id?g?"ring-2 ring-slate-800 ring-offset-2 ring-offset-white scale-110 z-10":"ring-2 ring-white ring-offset-2 ring-offset-[var(--theme-bg-subtle)] scale-110 z-10":"opacity-40 hover:opacity-100 hover:scale-105"),title:b.id},b.id))})]})]}),y.jsxs("div",{className:K("p-4 border-t bg-[var(--theme-bg-subtle)] shrink-0",g?"border-slate-200":"border-[var(--theme-border)]"),children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4 px-2",children:[n?.photoURL?y.jsx("img",{src:n.photoURL,className:"w-8 h-8 rounded-full bg-slate-800 object-cover",alt:"User"}):y.jsx("div",{className:K("w-8 h-8 rounded-full flex items-center justify-center",g?"bg-slate-200":"bg-slate-800"),children:y.jsx(wh,{size:14,className:g?"text-slate-600":"text-slate-400"})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:K("text-sm font-medium truncate",g?"text-slate-800":"text-white"),children:n?.displayName||"User"}),y.jsx("p",{className:K("text-xs truncate","text-slate-500"),children:n?.email})]})]}),y.jsxs("button",{onClick:e,className:K("w-full flex items-center gap-2 px-3 py-2 text-sm rounded-lg transition-colors",g?"text-slate-600 hover:text-red-600 hover:bg-red-50":"text-slate-400 hover:text-red-400 hover:bg-red-500/10"),children:[y.jsx(pI,{size:16}),"Sign Out"]})]})]}),y.jsxs("main",{className:"flex-1 min-w-0 flex flex-col h-screen overflow-hidden bg-transparent relative",children:[y.jsxs("header",{className:K("h-16 flex items-center justify-between px-4 lg:hidden border-b shrink-0",g?"border-slate-200 bg-white/80 backdrop-blur-sm":"border-[var(--theme-border)] bg-[var(--theme-bg-subtle)]"),children:[y.jsx("button",{onClick:()=>h(!0),className:K("p-2",g?"text-slate-600":"text-slate-400"),children:y.jsx(JB,{size:24})}),y.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-8 w-auto"}),y.jsx("div",{className:"w-8"})," "]}),y.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-4 sm:p-6 lg:p-8",children:y.jsx("div",{className:"max-w-7xl mx-auto h-full",children:t})})]})]})},Cq=()=>{const{user:t,loading:e}=qi();return e?y.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-bg-dark text-slate-500",children:"Initializing..."}):y.jsxs(y.Fragment,{children:[y.jsx(vq,{}),y.jsx(wP,{}),y.jsx("div",{className:"relative z-10 min-h-screen",children:y.jsx(dP,{children:y.jsxs(FM,{children:[y.jsx(jr,{path:"/login",element:t?y.jsx(Po,{to:"/dashboard",replace:!0}):y.jsx(pF,{})}),y.jsx(jr,{path:"/help",element:y.jsx(_q,{})}),y.jsx(jr,{path:"/dashboard",element:t?y.jsx(jf,{children:y.jsx(yq,{})}):y.jsx(Po,{to:"/login",replace:!0})}),y.jsx(jr,{path:"/profile",element:t?y.jsx(jf,{children:y.jsx(Aq,{})}):y.jsx(Po,{to:"/login",replace:!0})}),y.jsx(jr,{path:"/board/legacy/:yearId",element:t?y.jsx(jf,{children:y.jsx(pA,{})}):y.jsx(Po,{to:"/login",replace:!0})}),y.jsx(jr,{path:"/board/:boardId",element:t?y.jsx(jf,{children:y.jsx(pA,{})}):y.jsx(Po,{to:"/login",replace:!0})}),y.jsx(jr,{path:"/",element:y.jsx(Po,{to:t?"/dashboard":"/login",replace:!0})}),y.jsx(jr,{path:"*",element:y.jsx(Po,{to:t?"/dashboard":"/login",replace:!0})})]})})})]})};function Rq(){return y.jsx(VL,{children:y.jsx(mF,{children:y.jsx(T8,{children:y.jsx(Cq,{})})})})}console.log("Main.tsx full run");const gA=document.getElementById("root");gA?Hk.createRoot(gA).render(y.jsx(S.StrictMode,{children:y.jsx(Rq,{})})):console.error("Root not found");export{Ka as C,fr as F,Hm as _,an as a,BA as b,Qo as c,gi as d,hp as e,Ev as g,tl as i,xv as p,sr as r,wv as u};
