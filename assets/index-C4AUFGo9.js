(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function ek(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ey={exports:{}},mu={};var a1;function tk(){if(a1)return mu;a1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:l}}return mu.Fragment=e,mu.jsx=n,mu.jsxs=n,mu}var o1;function nk(){return o1||(o1=1,ey.exports=tk()),ey.exports}var b=nk(),ty={exports:{}},ze={};var l1;function ik(){if(l1)return ze;l1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function A(T){return T===null||typeof T!="object"?null:(T=w&&T[w]||T["@@iterator"],typeof T=="function"?T:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,I={};function B(T,L,W){this.props=T,this.context=L,this.refs=I,this.updater=W||k}B.prototype.isReactComponent={},B.prototype.setState=function(T,L){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,L,"setState")},B.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function H(){}H.prototype=B.prototype;function q(T,L,W){this.props=T,this.context=L,this.refs=I,this.updater=W||k}var le=q.prototype=new H;le.constructor=q,M(le,B.prototype),le.isPureReactComponent=!0;var re=Array.isArray;function ae(){}var N={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function O(T,L,W){var Z=W.ref;return{$$typeof:t,type:T,key:L,ref:Z!==void 0?Z:null,props:W}}function U(T,L){return O(T.type,L,T.props)}function z(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}function V(T){var L={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(W){return L[W]})}var P=/\/+/g;function ve(T,L){return typeof T=="object"&&T!==null&&T.key!=null?V(""+T.key):L.toString(36)}function be(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(ae,ae):(T.status="pending",T.then(function(L){T.status==="pending"&&(T.status="fulfilled",T.value=L)},function(L){T.status==="pending"&&(T.status="rejected",T.reason=L)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function J(T,L,W,Z,fe){var ge=typeof T;(ge==="undefined"||ge==="boolean")&&(T=null);var pe=!1;if(T===null)pe=!0;else switch(ge){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(T.$$typeof){case t:case e:pe=!0;break;case g:return pe=T._init,J(pe(T._payload),L,W,Z,fe)}}if(pe)return fe=fe(T),pe=Z===""?"."+ve(T,0):Z,re(fe)?(W="",pe!=null&&(W=pe.replace(P,"$&/")+"/"),J(fe,L,W,"",function(Se){return Se})):fe!=null&&(z(fe)&&(fe=U(fe,W+(fe.key==null||T&&T.key===fe.key?"":(""+fe.key).replace(P,"$&/")+"/")+pe)),L.push(fe)),1;pe=0;var we=Z===""?".":Z+":";if(re(T))for(var xe=0;xe<T.length;xe++)Z=T[xe],ge=we+ve(Z,xe),pe+=J(Z,L,W,ge,fe);else if(xe=A(T),typeof xe=="function")for(T=xe.call(T),xe=0;!(Z=T.next()).done;)Z=Z.value,ge=we+ve(Z,xe++),pe+=J(Z,L,W,ge,fe);else if(ge==="object"){if(typeof T.then=="function")return J(be(T),L,W,Z,fe);throw L=String(T),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return pe}function X(T,L,W){if(T==null)return T;var Z=[],fe=0;return J(T,Z,"","",function(ge){return L.call(W,ge,fe++)}),Z}function G(T){if(T._status===-1){var L=T._result;L=L(),L.then(function(W){(T._status===0||T._status===-1)&&(T._status=1,T._result=W)},function(W){(T._status===0||T._status===-1)&&(T._status=2,T._result=W)}),T._status===-1&&(T._status=0,T._result=L)}if(T._status===1)return T._result.default;throw T._result}var Y=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},j={map:X,forEach:function(T,L,W){X(T,function(){L.apply(this,arguments)},W)},count:function(T){var L=0;return X(T,function(){L++}),L},toArray:function(T){return X(T,function(L){return L})||[]},only:function(T){if(!z(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return ze.Activity=v,ze.Children=j,ze.Component=B,ze.Fragment=n,ze.Profiler=a,ze.PureComponent=q,ze.StrictMode=r,ze.Suspense=d,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,ze.__COMPILER_RUNTIME={__proto__:null,c:function(T){return N.H.useMemoCache(T)}},ze.cache=function(T){return function(){return T.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(T,L,W){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var Z=M({},T.props),fe=T.key;if(L!=null)for(ge in L.key!==void 0&&(fe=""+L.key),L)!C.call(L,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&L.ref===void 0||(Z[ge]=L[ge]);var ge=arguments.length-2;if(ge===1)Z.children=W;else if(1<ge){for(var pe=Array(ge),we=0;we<ge;we++)pe[we]=arguments[we+2];Z.children=pe}return O(T.type,fe,Z)},ze.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:l,_context:T},T},ze.createElement=function(T,L,W){var Z,fe={},ge=null;if(L!=null)for(Z in L.key!==void 0&&(ge=""+L.key),L)C.call(L,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(fe[Z]=L[Z]);var pe=arguments.length-2;if(pe===1)fe.children=W;else if(1<pe){for(var we=Array(pe),xe=0;xe<pe;xe++)we[xe]=arguments[xe+2];fe.children=we}if(T&&T.defaultProps)for(Z in pe=T.defaultProps,pe)fe[Z]===void 0&&(fe[Z]=pe[Z]);return O(T,ge,fe)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(T){return{$$typeof:h,render:T}},ze.isValidElement=z,ze.lazy=function(T){return{$$typeof:g,_payload:{_status:-1,_result:T},_init:G}},ze.memo=function(T,L){return{$$typeof:m,type:T,compare:L===void 0?null:L}},ze.startTransition=function(T){var L=N.T,W={};N.T=W;try{var Z=T(),fe=N.S;fe!==null&&fe(W,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(ae,Y)}catch(ge){Y(ge)}finally{L!==null&&W.types!==null&&(L.types=W.types),N.T=L}},ze.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},ze.use=function(T){return N.H.use(T)},ze.useActionState=function(T,L,W){return N.H.useActionState(T,L,W)},ze.useCallback=function(T,L){return N.H.useCallback(T,L)},ze.useContext=function(T){return N.H.useContext(T)},ze.useDebugValue=function(){},ze.useDeferredValue=function(T,L){return N.H.useDeferredValue(T,L)},ze.useEffect=function(T,L){return N.H.useEffect(T,L)},ze.useEffectEvent=function(T){return N.H.useEffectEvent(T)},ze.useId=function(){return N.H.useId()},ze.useImperativeHandle=function(T,L,W){return N.H.useImperativeHandle(T,L,W)},ze.useInsertionEffect=function(T,L){return N.H.useInsertionEffect(T,L)},ze.useLayoutEffect=function(T,L){return N.H.useLayoutEffect(T,L)},ze.useMemo=function(T,L){return N.H.useMemo(T,L)},ze.useOptimistic=function(T,L){return N.H.useOptimistic(T,L)},ze.useReducer=function(T,L,W){return N.H.useReducer(T,L,W)},ze.useRef=function(T){return N.H.useRef(T)},ze.useState=function(T){return N.H.useState(T)},ze.useSyncExternalStore=function(T,L,W){return N.H.useSyncExternalStore(T,L,W)},ze.useTransition=function(){return N.H.useTransition()},ze.version="19.2.3",ze}var c1;function Xv(){return c1||(c1=1,ty.exports=ik()),ty.exports}var S=Xv();const Ot=ek(S);var ny={exports:{}},pu={},iy={exports:{}},ry={};var u1;function rk(){return u1||(u1=1,(function(t){function e(J,X){var G=J.length;J.push(X);e:for(;0<G;){var Y=G-1>>>1,j=J[Y];if(0<a(j,X))J[Y]=X,J[G]=j,G=Y;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var X=J[0],G=J.pop();if(G!==X){J[0]=G;e:for(var Y=0,j=J.length,T=j>>>1;Y<T;){var L=2*(Y+1)-1,W=J[L],Z=L+1,fe=J[Z];if(0>a(W,G))Z<j&&0>a(fe,W)?(J[Y]=fe,J[Z]=G,Y=Z):(J[Y]=W,J[L]=G,Y=L);else if(Z<j&&0>a(fe,G))J[Y]=fe,J[Z]=G,Y=Z;else break e}}return X}function a(J,X){var G=J.sortIndex-X.sortIndex;return G!==0?G:J.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],m=[],g=1,v=null,w=3,A=!1,k=!1,M=!1,I=!1,B=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function le(J){for(var X=n(m);X!==null;){if(X.callback===null)r(m);else if(X.startTime<=J)r(m),X.sortIndex=X.expirationTime,e(d,X);else break;X=n(m)}}function re(J){if(M=!1,le(J),!k)if(n(d)!==null)k=!0,ae||(ae=!0,V());else{var X=n(m);X!==null&&be(re,X.startTime-J)}}var ae=!1,N=-1,C=5,O=-1;function U(){return I?!0:!(t.unstable_now()-O<C)}function z(){if(I=!1,ae){var J=t.unstable_now();O=J;var X=!0;try{e:{k=!1,M&&(M=!1,H(N),N=-1),A=!0;var G=w;try{t:{for(le(J),v=n(d);v!==null&&!(v.expirationTime>J&&U());){var Y=v.callback;if(typeof Y=="function"){v.callback=null,w=v.priorityLevel;var j=Y(v.expirationTime<=J);if(J=t.unstable_now(),typeof j=="function"){v.callback=j,le(J),X=!0;break t}v===n(d)&&r(d),le(J)}else r(d);v=n(d)}if(v!==null)X=!0;else{var T=n(m);T!==null&&be(re,T.startTime-J),X=!1}}break e}finally{v=null,w=G,A=!1}X=void 0}}finally{X?V():ae=!1}}}var V;if(typeof q=="function")V=function(){q(z)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,ve=P.port2;P.port1.onmessage=z,V=function(){ve.postMessage(null)}}else V=function(){B(z,0)};function be(J,X){N=B(function(){J(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(J){switch(w){case 1:case 2:case 3:var X=3;break;default:X=w}var G=w;w=X;try{return J()}finally{w=G}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(J,X){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var G=w;w=J;try{return X()}finally{w=G}},t.unstable_scheduleCallback=function(J,X,G){var Y=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?Y+G:Y):G=Y,J){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=G+j,J={id:g++,callback:X,priorityLevel:J,startTime:G,expirationTime:j,sortIndex:-1},G>Y?(J.sortIndex=G,e(m,J),n(d)===null&&J===n(m)&&(M?(H(N),N=-1):M=!0,be(re,G-Y))):(J.sortIndex=j,e(d,J),k||A||(k=!0,ae||(ae=!0,V()))),J},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(J){var X=w;return function(){var G=w;w=X;try{return J.apply(this,arguments)}finally{w=G}}}})(ry)),ry}var h1;function sk(){return h1||(h1=1,iy.exports=rk()),iy.exports}var sy={exports:{}},ni={};var d1;function ak(){if(d1)return ni;d1=1;var t=Xv();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,m,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:m,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ni.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ni.createPortal=function(d,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(d,m,null,g)},ni.flushSync=function(d){var m=c.T,g=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=m,r.p=g,r.d.f()}},ni.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(d,m))},ni.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},ni.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var g=m.as,v=h(g,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:A}):g==="script"&&r.d.X(d,{crossOrigin:v,integrity:w,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ni.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(d)},ni.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,v=h(g,m.crossOrigin);r.d.L(d,g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ni.preloadModule=function(d,m){if(typeof d=="string")if(m){var g=h(m.as,m.crossOrigin);r.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(d)},ni.requestFormReset=function(d){r.d.r(d)},ni.unstable_batchedUpdates=function(d,m){return d(m)},ni.useFormState=function(d,m,g){return c.H.useFormState(d,m,g)},ni.useFormStatus=function(){return c.H.useHostTransitionStatus()},ni.version="19.2.3",ni}var f1;function KS(){if(f1)return sy.exports;f1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sy.exports=ak(),sy.exports}var m1;function ok(){if(m1)return pu;m1=1;var t=sk(),e=Xv(),n=KS();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return d(p),i;if(y===u)return d(p),s;y=y.sibling}throw Error(r(188))}if(o.return!==u.return)o=p,u=y;else{for(var x=!1,R=p.child;R;){if(R===o){x=!0,o=p,u=y;break}if(R===u){x=!0,u=p,o=y;break}R=R.sibling}if(!x){for(R=y.child;R;){if(R===o){x=!0,o=y,u=p;break}if(R===u){x=!0,u=y,o=p;break}R=R.sibling}if(!x)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function g(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=g(i),s!==null)return s;i=i.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),q=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function V(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var P=Symbol.for("react.client.reference");function ve(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===P?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case B:return"Profiler";case I:return"StrictMode";case re:return"Suspense";case ae:return"SuspenseList";case O:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case k:return"Portal";case q:return i.displayName||"Context";case H:return(i._context.displayName||"Context")+".Consumer";case le:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return s=i.displayName||null,s!==null?s:ve(i.type)||"Memo";case C:s=i._payload,i=i._init;try{return ve(i(s))}catch{}}return null}var be=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},Y=[],j=-1;function T(i){return{current:i}}function L(i){0>j||(i.current=Y[j],Y[j]=null,j--)}function W(i,s){j++,Y[j]=i.current,i.current=s}var Z=T(null),fe=T(null),ge=T(null),pe=T(null);function we(i,s){switch(W(ge,s),W(fe,i),W(Z,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Ix(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Ix(s),i=Nx(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}L(Z),W(Z,i)}function xe(){L(Z),L(fe),L(ge)}function Se(i){i.memoizedState!==null&&W(pe,i);var s=Z.current,o=Nx(s,i.type);s!==o&&(W(fe,i),W(Z,o))}function Ue(i){fe.current===i&&(L(Z),L(fe)),pe.current===i&&(L(pe),uu._currentValue=G)}var Pe,at;function De(i){if(Pe===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Pe=s&&s[1]||"",at=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pe+i+at}var xt=!1;function dt(i,s){if(!i||xt)return"";xt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(oe){var ie=oe}Reflect.construct(i,[],he)}else{try{he.call()}catch(oe){ie=oe}i.call(he.prototype)}}else{try{throw Error()}catch(oe){ie=oe}(he=i())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(oe){if(oe&&ie&&typeof oe.stack=="string")return[oe.stack,ie.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),x=y[0],R=y[1];if(x&&R){var F=x.split(`
`),ne=R.split(`
`);for(p=u=0;u<F.length&&!F[u].includes("DetermineComponentFrameRoot");)u++;for(;p<ne.length&&!ne[p].includes("DetermineComponentFrameRoot");)p++;if(u===F.length||p===ne.length)for(u=F.length-1,p=ne.length-1;1<=u&&0<=p&&F[u]!==ne[p];)p--;for(;1<=u&&0<=p;u--,p--)if(F[u]!==ne[p]){if(u!==1||p!==1)do if(u--,p--,0>p||F[u]!==ne[p]){var ce=`
`+F[u].replace(" at new "," at ");return i.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",i.displayName)),ce}while(1<=u&&0<=p);break}}}finally{xt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?De(o):""}function zt(i,s){switch(i.tag){case 26:case 27:case 5:return De(i.type);case 16:return De("Lazy");case 13:return i.child!==s&&s!==null?De("Suspense Fallback"):De("Suspense");case 19:return De("SuspenseList");case 0:case 15:return dt(i.type,!1);case 11:return dt(i.type.render,!1);case 1:return dt(i.type,!0);case 31:return De("Activity");default:return""}}function mn(i){try{var s="",o=null;do s+=zt(i,o),o=i,i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var ot=Object.prototype.hasOwnProperty,qe=t.unstable_scheduleCallback,pn=t.unstable_cancelCallback,Ni=t.unstable_shouldYield,Di=t.unstable_requestPaint,Bt=t.unstable_now,Qt=t.unstable_getCurrentPriorityLevel,Zn=t.unstable_ImmediatePriority,Hn=t.unstable_UserBlockingPriority,gn=t.unstable_NormalPriority,ei=t.unstable_LowPriority,yi=t.unstable_IdlePriority,Pt=t.log,$i=t.unstable_setDisableYieldValue,Cn=null,rn=null;function jn(i){if(typeof Pt=="function"&&$i(i),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(Cn,i)}catch{}}var Dt=Math.clz32?Math.clz32:Vr,ti=Math.log,mr=Math.LN2;function Vr(i){return i>>>=0,i===0?32:31-(ti(i)/mr|0)|0}var vi=256,pr=262144,He=4194304;function Vt(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function jt(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var p=0,y=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var R=u&134217727;return R!==0?(u=R&~y,u!==0?p=Vt(u):(x&=R,x!==0?p=Vt(x):o||(o=R&~i,o!==0&&(p=Vt(o))))):(R=u&~y,R!==0?p=Vt(R):x!==0?p=Vt(x):o||(o=u&~i,o!==0&&(p=Vt(o)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:p}function sn(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Ln(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ft(){var i=He;return He<<=1,(He&62914560)===0&&(He=4194304),i}function gt(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function cn(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Tt(i,s,o,u,p,y){var x=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var R=i.entanglements,F=i.expirationTimes,ne=i.hiddenUpdates;for(o=x&~o;0<o;){var ce=31-Dt(o),he=1<<ce;R[ce]=0,F[ce]=-1;var ie=ne[ce];if(ie!==null)for(ne[ce]=null,ce=0;ce<ie.length;ce++){var oe=ie[ce];oe!==null&&(oe.lane&=-536870913)}o&=~he}u!==0&&Rn(i,u,0),y!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=y&~(x&~s))}function Rn(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Dt(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function yn(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-Dt(o),p=1<<u;p&s|i[u]&s&&(i[u]|=s),o&=~p}}function Gn(i,s){var o=s&-s;return o=(o&42)!==0?1:In(o),(o&(i.suspendedLanes|s))!==0?0:o}function In(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function yt(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Nn(){var i=X.p;return i!==0?i:(i=window.event,i===void 0?32:Zx(i.type))}function kt(i,s){var o=X.p;try{return X.p=i,s()}finally{X.p=o}}var vn=Math.random().toString(36).slice(2),Lt="__reactFiber$"+vn,$t="__reactProps$"+vn,ki="__reactContainer$"+vn,Hs="__reactEvents$"+vn,Ko="__reactListeners$"+vn,Yo="__reactHandles$"+vn,Qa="__reactResources$"+vn,bi="__reactMarker$"+vn;function jr(i){delete i[Lt],delete i[$t],delete i[Hs],delete i[Ko],delete i[Yo]}function Ki(i){var s=i[Lt];if(s)return s;for(var o=i.parentNode;o;){if(s=o[ki]||o[Lt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=jx(i);i!==null;){if(o=i[Lt])return o;i=jx(i)}return s}i=o,o=i.parentNode}return null}function _i(i){if(i=i[Lt]||i[ki]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function ui(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Mi(i){var s=i[Qa];return s||(s=i[Qa]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Jt(i){i[bi]=!0}var Ja=new Set,Oi={};function gr(i,s){Pi(i,s),Pi(i+"Capture",s)}function Pi(i,s){for(Oi[i]=s,i=0;i<s.length;i++)Ja.add(s[i])}var cs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Za={},K={};function Ae(i){return ot.call(K,i)?!0:ot.call(Za,i)?!1:cs.test(i)?K[i]=!0:(Za[i]=!0,!1)}function _t(i,s,o){if(Ae(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function ft(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Ye(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}function lt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Zt(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Kt(i,s,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(x){o=""+x,y.call(this,x)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Qe(i){if(!i._valueTracker){var s=Zt(i)?"checked":"value";i._valueTracker=Kt(i,s,""+i[s])}}function us(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=Zt(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function Lr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var eo=/[\n"\\]/g;function wi(i){return i.replace(eo,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Xo(i,s,o,u,p,y,x,R){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),s!=null?x==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+lt(s)):i.value!==""+lt(s)&&(i.value=""+lt(s)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),s!=null?Tc(i,x,lt(s)):o!=null?Tc(i,x,lt(o)):u!=null&&i.removeAttribute("value"),p==null&&y!=null&&(i.defaultChecked=!!y),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.name=""+lt(R):i.removeAttribute("name")}function Ph(i,s,o,u,p,y,x,R){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){Qe(i);return}o=o!=null?""+lt(o):"",s=s!=null?""+lt(s):o,R||s===i.value||(i.value=s),i.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=R?i.checked:!!u,i.defaultChecked=!!u,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x),Qe(i)}function Tc(i,s,o){s==="number"&&Lr(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Gs(i,s,o,u){if(i=i.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<i.length;o++)p=s.hasOwnProperty("$"+i[o].value),i[o].selected!==p&&(i[o].selected=p),p&&u&&(i[o].defaultSelected=!0)}else{for(o=""+lt(o),s=null,p=0;p<i.length;p++){if(i[p].value===o){i[p].selected=!0,u&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function Vh(i,s,o){if(s!=null&&(s=""+lt(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+lt(o):""}function $s(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(be(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=lt(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Qe(i)}function xi(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var jh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ec(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||jh.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Sc(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&o[p]!==u&&Ec(i,p,u)}else for(var y in s)s.hasOwnProperty(y)&&Ec(i,y,s[y])}function Wo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ks=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qo(i){return Ks.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function yr(){}var Ac=null;function Yi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ys=null,Ur=null;function to(i){var s=_i(i);if(s&&(i=s.stateNode)){var o=i[$t]||null;e:switch(i=s.stateNode,s.type){case"input":if(Xo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+wi(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var p=u[$t]||null;if(!p)throw Error(r(90));Xo(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&us(u)}break e;case"textarea":Vh(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Gs(i,!!o.multiple,s,!1)}}}var Jo=!1;function Xs(i,s,o){if(Jo)return i(s,o);Jo=!0;try{var u=i(s);return u}finally{if(Jo=!1,(Ys!==null||Ur!==null)&&(Dd(),Ys&&(s=Ys,i=Ur,Ur=Ys=null,to(s),i)))for(s=0;s<i.length;s++)to(i[s])}}function vr(i,s){var o=i.stateNode;if(o===null)return null;var u=o[$t]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),no=!1;if(Xi)try{var Ct={};Object.defineProperty(Ct,"passive",{get:function(){no=!0}}),window.addEventListener("test",Ct,Ct),window.removeEventListener("test",Ct,Ct)}catch{no=!1}var zr=null,Cc=null,io=null;function Rc(){if(io)return io;var i,s=Cc,o=s.length,u,p="value"in zr?zr.value:zr.textContent,y=p.length;for(i=0;i<o&&s[i]===p[i];i++);var x=o-i;for(u=1;u<=x&&s[o-u]===p[y-u];u++);return io=p.slice(i,1<u?1-u:void 0)}function ro(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function hs(){return!0}function br(){return!1}function $n(i){function s(o,u,p,y,x){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(o=i[R],this[R]=o?o(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?hs:br,this.isPropagationStopped=br,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),s}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Br=$n(ds),Ws=v({},ds,{view:0,detail:0}),Ic=$n(Ws),Qs,Zo,Fr,el=v({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Fr&&(Fr&&i.type==="mousemove"?(Qs=i.screenX-Fr.screenX,Zo=i.screenY-Fr.screenY):Zo=Qs=0,Fr=i),Qs)},movementY:function(i){return"movementY"in i?i.movementY:Zo}}),Nc=$n(el),so=v({},el,{dataTransfer:0}),Uh=$n(so),zh=v({},Ws,{relatedTarget:0}),ao=$n(zh),Dc=v({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),Bh=$n(Dc),tl=v({},ds,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Fh=$n(tl),qh=v({},ds,{data:0}),qr=$n(qh),Hh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$h={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kh(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=$h[i])?!!s[i]:!1}function Js(){return Kh}var hi=v({},Ws,{key:function(i){if(i.key){var s=Hh[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ro(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Gh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(i){return i.type==="keypress"?ro(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ro(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Yh=$n(hi),Xh=v({},el,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fs=$n(Xh),f=v({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),_=$n(f),E=v({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),D=$n(E),ee=v({},el,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),se=$n(ee),ye=v({},ds,{newState:0,oldState:0}),Ge=$n(ye),un=[9,13,27,32],vt=Xi&&"CompositionEvent"in window,Yt=null;Xi&&"documentMode"in document&&(Yt=document.documentMode);var Wi=Xi&&"TextEvent"in window&&!Yt,Hr=Xi&&(!vt||Yt&&8<Yt&&11>=Yt),_r=" ",wr=!1;function oo(i,s){switch(i){case"keyup":return un.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nl(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var il=!1;function EN(i,s){switch(i){case"compositionend":return nl(s);case"keypress":return s.which!==32?null:(wr=!0,_r);case"textInput":return i=s.data,i===_r&&wr?null:i;default:return null}}function SN(i,s){if(il)return i==="compositionend"||!vt&&oo(i,s)?(i=Rc(),io=Cc=zr=null,il=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Hr&&s.locale!=="ko"?null:s.data;default:return null}}var AN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zb(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!AN[i.type]:s==="textarea"}function Bb(i,s,o,u){Ys?Ur?Ur.push(u):Ur=[u]:Ys=u,s=Ld(s,"onChange"),0<s.length&&(o=new Br("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var kc=null,Mc=null;function CN(i){Tx(i,0)}function Wh(i){var s=ui(i);if(us(s))return i}function Fb(i,s){if(i==="change")return s}var qb=!1;if(Xi){var op;if(Xi){var lp="oninput"in document;if(!lp){var Hb=document.createElement("div");Hb.setAttribute("oninput","return;"),lp=typeof Hb.oninput=="function"}op=lp}else op=!1;qb=op&&(!document.documentMode||9<document.documentMode)}function Gb(){kc&&(kc.detachEvent("onpropertychange",$b),Mc=kc=null)}function $b(i){if(i.propertyName==="value"&&Wh(Mc)){var s=[];Bb(s,Mc,i,Yi(i)),Xs(CN,s)}}function RN(i,s,o){i==="focusin"?(Gb(),kc=s,Mc=o,kc.attachEvent("onpropertychange",$b)):i==="focusout"&&Gb()}function IN(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Wh(Mc)}function NN(i,s){if(i==="click")return Wh(s)}function DN(i,s){if(i==="input"||i==="change")return Wh(s)}function kN(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Vi=typeof Object.is=="function"?Object.is:kN;function Oc(i,s){if(Vi(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!ot.call(s,p)||!Vi(i[p],s[p]))return!1}return!0}function Kb(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Yb(i,s){var o=Kb(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Kb(o)}}function Xb(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Xb(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Wb(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Lr(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Lr(i.document)}return s}function cp(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var MN=Xi&&"documentMode"in document&&11>=document.documentMode,rl=null,up=null,Pc=null,hp=!1;function Qb(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;hp||rl==null||rl!==Lr(u)||(u=rl,"selectionStart"in u&&cp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Pc&&Oc(Pc,u)||(Pc=u,u=Ld(up,"onSelect"),0<u.length&&(s=new Br("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=rl)))}function lo(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var sl={animationend:lo("Animation","AnimationEnd"),animationiteration:lo("Animation","AnimationIteration"),animationstart:lo("Animation","AnimationStart"),transitionrun:lo("Transition","TransitionRun"),transitionstart:lo("Transition","TransitionStart"),transitioncancel:lo("Transition","TransitionCancel"),transitionend:lo("Transition","TransitionEnd")},dp={},Jb={};Xi&&(Jb=document.createElement("div").style,"AnimationEvent"in window||(delete sl.animationend.animation,delete sl.animationiteration.animation,delete sl.animationstart.animation),"TransitionEvent"in window||delete sl.transitionend.transition);function co(i){if(dp[i])return dp[i];if(!sl[i])return i;var s=sl[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in Jb)return dp[i]=s[o];return i}var Zb=co("animationend"),e_=co("animationiteration"),t_=co("animationstart"),ON=co("transitionrun"),PN=co("transitionstart"),VN=co("transitioncancel"),n_=co("transitionend"),i_=new Map,fp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fp.push("scrollEnd");function xr(i,s){i_.set(i,s),gr(s,[i])}var Qh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Qi=[],al=0,mp=0;function Jh(){for(var i=al,s=mp=al=0;s<i;){var o=Qi[s];Qi[s++]=null;var u=Qi[s];Qi[s++]=null;var p=Qi[s];Qi[s++]=null;var y=Qi[s];if(Qi[s++]=null,u!==null&&p!==null){var x=u.pending;x===null?p.next=p:(p.next=x.next,x.next=p),u.pending=p}y!==0&&r_(o,p,y)}}function Zh(i,s,o,u){Qi[al++]=i,Qi[al++]=s,Qi[al++]=o,Qi[al++]=u,mp|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function pp(i,s,o,u){return Zh(i,s,o,u),ed(i)}function uo(i,s){return Zh(i,null,null,s),ed(i)}function r_(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var p=!1,y=i.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(p=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,p&&s!==null&&(p=31-Dt(o),i=y.hiddenUpdates,u=i[p],u===null?i[p]=[s]:u.push(s),s.lane=o|536870912),y):null}function ed(i){if(50<iu)throw iu=0,Eg=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var ol={};function jN(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ji(i,s,o,u){return new jN(i,s,o,u)}function gp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ms(i,s){var o=i.alternate;return o===null?(o=ji(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function s_(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function td(i,s,o,u,p,y){var x=0;if(u=i,typeof i=="function")gp(i)&&(x=1);else if(typeof i=="string")x=FD(i,o,Z.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case O:return i=ji(31,o,s,p),i.elementType=O,i.lanes=y,i;case M:return ho(o.children,p,y,s);case I:x=8,p|=24;break;case B:return i=ji(12,o,s,p|2),i.elementType=B,i.lanes=y,i;case re:return i=ji(13,o,s,p),i.elementType=re,i.lanes=y,i;case ae:return i=ji(19,o,s,p),i.elementType=ae,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case q:x=10;break e;case H:x=9;break e;case le:x=11;break e;case N:x=14;break e;case C:x=16,u=null;break e}x=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=ji(x,o,s,p),s.elementType=i,s.type=u,s.lanes=y,s}function ho(i,s,o,u){return i=ji(7,i,u,s),i.lanes=o,i}function yp(i,s,o){return i=ji(6,i,null,s),i.lanes=o,i}function a_(i){var s=ji(18,null,null,0);return s.stateNode=i,s}function vp(i,s,o){return s=ji(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var o_=new WeakMap;function Ji(i,s){if(typeof i=="object"&&i!==null){var o=o_.get(i);return o!==void 0?o:(s={value:i,source:s,stack:mn(s)},o_.set(i,s),s)}return{value:i,source:s,stack:mn(s)}}var ll=[],cl=0,nd=null,Vc=0,Zi=[],er=0,Zs=null,Gr=1,$r="";function ps(i,s){ll[cl++]=Vc,ll[cl++]=nd,nd=i,Vc=s}function l_(i,s,o){Zi[er++]=Gr,Zi[er++]=$r,Zi[er++]=Zs,Zs=i;var u=Gr;i=$r;var p=32-Dt(u)-1;u&=~(1<<p),o+=1;var y=32-Dt(s)+p;if(30<y){var x=p-p%5;y=(u&(1<<x)-1).toString(32),u>>=x,p-=x,Gr=1<<32-Dt(s)+p|o<<p|u,$r=y+i}else Gr=1<<y|o<<p|u,$r=i}function bp(i){i.return!==null&&(ps(i,1),l_(i,1,0))}function _p(i){for(;i===nd;)nd=ll[--cl],ll[cl]=null,Vc=ll[--cl],ll[cl]=null;for(;i===Zs;)Zs=Zi[--er],Zi[er]=null,$r=Zi[--er],Zi[er]=null,Gr=Zi[--er],Zi[er]=null}function c_(i,s){Zi[er++]=Gr,Zi[er++]=$r,Zi[er++]=Zs,Gr=s.id,$r=s.overflow,Zs=i}var Kn=null,qt=null,ct=!1,ea=null,tr=!1,wp=Error(r(519));function ta(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jc(Ji(s,i)),wp}function u_(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[Lt]=i,s[$t]=u,o){case"dialog":Ze("cancel",s),Ze("close",s);break;case"iframe":case"object":case"embed":Ze("load",s);break;case"video":case"audio":for(o=0;o<su.length;o++)Ze(su[o],s);break;case"source":Ze("error",s);break;case"img":case"image":case"link":Ze("error",s),Ze("load",s);break;case"details":Ze("toggle",s);break;case"input":Ze("invalid",s),Ph(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ze("invalid",s);break;case"textarea":Ze("invalid",s),$s(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||Cx(s.textContent,o)?(u.popover!=null&&(Ze("beforetoggle",s),Ze("toggle",s)),u.onScroll!=null&&Ze("scroll",s),u.onScrollEnd!=null&&Ze("scrollend",s),u.onClick!=null&&(s.onclick=yr),s=!0):s=!1,s||ta(i,!0)}function h_(i){for(Kn=i.return;Kn;)switch(Kn.tag){case 5:case 31:case 13:tr=!1;return;case 27:case 3:tr=!0;return;default:Kn=Kn.return}}function ul(i){if(i!==Kn)return!1;if(!ct)return h_(i),ct=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Ug(i.type,i.memoizedProps)),o=!o),o&&qt&&ta(i),h_(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));qt=Vx(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));qt=Vx(i)}else s===27?(s=qt,pa(i.type)?(i=Hg,Hg=null,qt=i):qt=s):qt=Kn?ir(i.stateNode.nextSibling):null;return!0}function fo(){qt=Kn=null,ct=!1}function xp(){var i=ea;return i!==null&&(Ai===null?Ai=i:Ai.push.apply(Ai,i),ea=null),i}function jc(i){ea===null?ea=[i]:ea.push(i)}var Tp=T(null),mo=null,gs=null;function na(i,s,o){W(Tp,s._currentValue),s._currentValue=o}function ys(i){i._currentValue=Tp.current,L(Tp)}function Ep(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function Sp(i,s,o,u){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var y=p.dependencies;if(y!==null){var x=p.child;y=y.firstContext;e:for(;y!==null;){var R=y;y=p;for(var F=0;F<s.length;F++)if(R.context===s[F]){y.lanes|=o,R=y.alternate,R!==null&&(R.lanes|=o),Ep(y.return,o,i),u||(x=null);break e}y=R.next}}else if(p.tag===18){if(x=p.return,x===null)throw Error(r(341));x.lanes|=o,y=x.alternate,y!==null&&(y.lanes|=o),Ep(x,o,i),x=null}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===i){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}}function hl(i,s,o,u){i=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var x=p.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var R=p.type;Vi(p.pendingProps.value,x.value)||(i!==null?i.push(R):i=[R])}}else if(p===pe.current){if(x=p.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(uu):i=[uu])}p=p.return}i!==null&&Sp(s,i,o,u),s.flags|=262144}function id(i){for(i=i.firstContext;i!==null;){if(!Vi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function po(i){mo=i,gs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Yn(i){return d_(mo,i)}function rd(i,s){return mo===null&&po(i),d_(i,s)}function d_(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},gs===null){if(i===null)throw Error(r(308));gs=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else gs=gs.next=s;return o}var LN=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},UN=t.unstable_scheduleCallback,zN=t.unstable_NormalPriority,bn={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ap(){return{controller:new LN,data:new Map,refCount:0}}function Lc(i){i.refCount--,i.refCount===0&&UN(zN,function(){i.controller.abort()})}var Uc=null,Cp=0,dl=0,fl=null;function BN(i,s){if(Uc===null){var o=Uc=[];Cp=0,dl=Ng(),fl={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Cp++,s.then(f_,f_),s}function f_(){if(--Cp===0&&Uc!==null){fl!==null&&(fl.status="fulfilled");var i=Uc;Uc=null,dl=0,fl=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function FN(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var m_=J.S;J.S=function(i,s){Qw=Bt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&BN(i,s),m_!==null&&m_(i,s)};var go=T(null);function Rp(){var i=go.current;return i!==null?i:Mt.pooledCache}function sd(i,s){s===null?W(go,go.current):W(go,s.pool)}function p_(){var i=Rp();return i===null?null:{parent:bn._currentValue,pool:i}}var ml=Error(r(460)),Ip=Error(r(474)),ad=Error(r(542)),od={then:function(){}};function g_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function y_(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(yr,yr),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,b_(i),i;default:if(typeof s.status=="string")s.then(yr,yr);else{if(i=Mt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,b_(i),i}throw vo=s,ml}}function yo(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(vo=o,ml):o}}var vo=null;function v_(){if(vo===null)throw Error(r(459));var i=vo;return vo=null,i}function b_(i){if(i===ml||i===ad)throw Error(r(483))}var pl=null,zc=0;function ld(i){var s=zc;return zc+=1,pl===null&&(pl=[]),y_(pl,i,s)}function Bc(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function cd(i,s){throw s.$$typeof===w?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function __(i){function s(Q,$){if(i){var te=Q.deletions;te===null?(Q.deletions=[$],Q.flags|=16):te.push($)}}function o(Q,$){if(!i)return null;for(;$!==null;)s(Q,$),$=$.sibling;return null}function u(Q){for(var $=new Map;Q!==null;)Q.key!==null?$.set(Q.key,Q):$.set(Q.index,Q),Q=Q.sibling;return $}function p(Q,$){return Q=ms(Q,$),Q.index=0,Q.sibling=null,Q}function y(Q,$,te){return Q.index=te,i?(te=Q.alternate,te!==null?(te=te.index,te<$?(Q.flags|=67108866,$):te):(Q.flags|=67108866,$)):(Q.flags|=1048576,$)}function x(Q){return i&&Q.alternate===null&&(Q.flags|=67108866),Q}function R(Q,$,te,ue){return $===null||$.tag!==6?($=yp(te,Q.mode,ue),$.return=Q,$):($=p($,te),$.return=Q,$)}function F(Q,$,te,ue){var Me=te.type;return Me===M?ce(Q,$,te.props.children,ue,te.key):$!==null&&($.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===C&&yo(Me)===$.type)?($=p($,te.props),Bc($,te),$.return=Q,$):($=td(te.type,te.key,te.props,null,Q.mode,ue),Bc($,te),$.return=Q,$)}function ne(Q,$,te,ue){return $===null||$.tag!==4||$.stateNode.containerInfo!==te.containerInfo||$.stateNode.implementation!==te.implementation?($=vp(te,Q.mode,ue),$.return=Q,$):($=p($,te.children||[]),$.return=Q,$)}function ce(Q,$,te,ue,Me){return $===null||$.tag!==7?($=ho(te,Q.mode,ue,Me),$.return=Q,$):($=p($,te),$.return=Q,$)}function he(Q,$,te){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=yp(""+$,Q.mode,te),$.return=Q,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case A:return te=td($.type,$.key,$.props,null,Q.mode,te),Bc(te,$),te.return=Q,te;case k:return $=vp($,Q.mode,te),$.return=Q,$;case C:return $=yo($),he(Q,$,te)}if(be($)||V($))return $=ho($,Q.mode,te,null),$.return=Q,$;if(typeof $.then=="function")return he(Q,ld($),te);if($.$$typeof===q)return he(Q,rd(Q,$),te);cd(Q,$)}return null}function ie(Q,$,te,ue){var Me=$!==null?$.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Me!==null?null:R(Q,$,""+te,ue);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case A:return te.key===Me?F(Q,$,te,ue):null;case k:return te.key===Me?ne(Q,$,te,ue):null;case C:return te=yo(te),ie(Q,$,te,ue)}if(be(te)||V(te))return Me!==null?null:ce(Q,$,te,ue,null);if(typeof te.then=="function")return ie(Q,$,ld(te),ue);if(te.$$typeof===q)return ie(Q,$,rd(Q,te),ue);cd(Q,te)}return null}function oe(Q,$,te,ue,Me){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Q=Q.get(te)||null,R($,Q,""+ue,Me);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case A:return Q=Q.get(ue.key===null?te:ue.key)||null,F($,Q,ue,Me);case k:return Q=Q.get(ue.key===null?te:ue.key)||null,ne($,Q,ue,Me);case C:return ue=yo(ue),oe(Q,$,te,ue,Me)}if(be(ue)||V(ue))return Q=Q.get(te)||null,ce($,Q,ue,Me,null);if(typeof ue.then=="function")return oe(Q,$,te,ld(ue),Me);if(ue.$$typeof===q)return oe(Q,$,te,rd($,ue),Me);cd($,ue)}return null}function Ce(Q,$,te,ue){for(var Me=null,mt=null,Ne=$,Ke=$=0,nt=null;Ne!==null&&Ke<te.length;Ke++){Ne.index>Ke?(nt=Ne,Ne=null):nt=Ne.sibling;var pt=ie(Q,Ne,te[Ke],ue);if(pt===null){Ne===null&&(Ne=nt);break}i&&Ne&&pt.alternate===null&&s(Q,Ne),$=y(pt,$,Ke),mt===null?Me=pt:mt.sibling=pt,mt=pt,Ne=nt}if(Ke===te.length)return o(Q,Ne),ct&&ps(Q,Ke),Me;if(Ne===null){for(;Ke<te.length;Ke++)Ne=he(Q,te[Ke],ue),Ne!==null&&($=y(Ne,$,Ke),mt===null?Me=Ne:mt.sibling=Ne,mt=Ne);return ct&&ps(Q,Ke),Me}for(Ne=u(Ne);Ke<te.length;Ke++)nt=oe(Ne,Q,Ke,te[Ke],ue),nt!==null&&(i&&nt.alternate!==null&&Ne.delete(nt.key===null?Ke:nt.key),$=y(nt,$,Ke),mt===null?Me=nt:mt.sibling=nt,mt=nt);return i&&Ne.forEach(function(_a){return s(Q,_a)}),ct&&ps(Q,Ke),Me}function Oe(Q,$,te,ue){if(te==null)throw Error(r(151));for(var Me=null,mt=null,Ne=$,Ke=$=0,nt=null,pt=te.next();Ne!==null&&!pt.done;Ke++,pt=te.next()){Ne.index>Ke?(nt=Ne,Ne=null):nt=Ne.sibling;var _a=ie(Q,Ne,pt.value,ue);if(_a===null){Ne===null&&(Ne=nt);break}i&&Ne&&_a.alternate===null&&s(Q,Ne),$=y(_a,$,Ke),mt===null?Me=_a:mt.sibling=_a,mt=_a,Ne=nt}if(pt.done)return o(Q,Ne),ct&&ps(Q,Ke),Me;if(Ne===null){for(;!pt.done;Ke++,pt=te.next())pt=he(Q,pt.value,ue),pt!==null&&($=y(pt,$,Ke),mt===null?Me=pt:mt.sibling=pt,mt=pt);return ct&&ps(Q,Ke),Me}for(Ne=u(Ne);!pt.done;Ke++,pt=te.next())pt=oe(Ne,Q,Ke,pt.value,ue),pt!==null&&(i&&pt.alternate!==null&&Ne.delete(pt.key===null?Ke:pt.key),$=y(pt,$,Ke),mt===null?Me=pt:mt.sibling=pt,mt=pt);return i&&Ne.forEach(function(ZD){return s(Q,ZD)}),ct&&ps(Q,Ke),Me}function Nt(Q,$,te,ue){if(typeof te=="object"&&te!==null&&te.type===M&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case A:e:{for(var Me=te.key;$!==null;){if($.key===Me){if(Me=te.type,Me===M){if($.tag===7){o(Q,$.sibling),ue=p($,te.props.children),ue.return=Q,Q=ue;break e}}else if($.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===C&&yo(Me)===$.type){o(Q,$.sibling),ue=p($,te.props),Bc(ue,te),ue.return=Q,Q=ue;break e}o(Q,$);break}else s(Q,$);$=$.sibling}te.type===M?(ue=ho(te.props.children,Q.mode,ue,te.key),ue.return=Q,Q=ue):(ue=td(te.type,te.key,te.props,null,Q.mode,ue),Bc(ue,te),ue.return=Q,Q=ue)}return x(Q);case k:e:{for(Me=te.key;$!==null;){if($.key===Me)if($.tag===4&&$.stateNode.containerInfo===te.containerInfo&&$.stateNode.implementation===te.implementation){o(Q,$.sibling),ue=p($,te.children||[]),ue.return=Q,Q=ue;break e}else{o(Q,$);break}else s(Q,$);$=$.sibling}ue=vp(te,Q.mode,ue),ue.return=Q,Q=ue}return x(Q);case C:return te=yo(te),Nt(Q,$,te,ue)}if(be(te))return Ce(Q,$,te,ue);if(V(te)){if(Me=V(te),typeof Me!="function")throw Error(r(150));return te=Me.call(te),Oe(Q,$,te,ue)}if(typeof te.then=="function")return Nt(Q,$,ld(te),ue);if(te.$$typeof===q)return Nt(Q,$,rd(Q,te),ue);cd(Q,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,$!==null&&$.tag===6?(o(Q,$.sibling),ue=p($,te),ue.return=Q,Q=ue):(o(Q,$),ue=yp(te,Q.mode,ue),ue.return=Q,Q=ue),x(Q)):o(Q,$)}return function(Q,$,te,ue){try{zc=0;var Me=Nt(Q,$,te,ue);return pl=null,Me}catch(Ne){if(Ne===ml||Ne===ad)throw Ne;var mt=ji(29,Ne,null,Q.mode);return mt.lanes=ue,mt.return=Q,mt}}}var bo=__(!0),w_=__(!1),ia=!1;function Np(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dp(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ra(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function sa(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(bt&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=ed(i),r_(i,null,o),s}return Zh(i,u,s,o),ed(i)}function Fc(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,yn(i,o)}}function kp(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var x={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=x:y=y.next=x,o=o.next}while(o!==null);y===null?p=y=s:y=y.next=s}else p=y=s;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var Mp=!1;function qc(){if(Mp){var i=fl;if(i!==null)throw i}}function Hc(i,s,o,u){Mp=!1;var p=i.updateQueue;ia=!1;var y=p.firstBaseUpdate,x=p.lastBaseUpdate,R=p.shared.pending;if(R!==null){p.shared.pending=null;var F=R,ne=F.next;F.next=null,x===null?y=ne:x.next=ne,x=F;var ce=i.alternate;ce!==null&&(ce=ce.updateQueue,R=ce.lastBaseUpdate,R!==x&&(R===null?ce.firstBaseUpdate=ne:R.next=ne,ce.lastBaseUpdate=F))}if(y!==null){var he=p.baseState;x=0,ce=ne=F=null,R=y;do{var ie=R.lane&-536870913,oe=ie!==R.lane;if(oe?(tt&ie)===ie:(u&ie)===ie){ie!==0&&ie===dl&&(Mp=!0),ce!==null&&(ce=ce.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Ce=i,Oe=R;ie=s;var Nt=o;switch(Oe.tag){case 1:if(Ce=Oe.payload,typeof Ce=="function"){he=Ce.call(Nt,he,ie);break e}he=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Oe.payload,ie=typeof Ce=="function"?Ce.call(Nt,he,ie):Ce,ie==null)break e;he=v({},he,ie);break e;case 2:ia=!0}}ie=R.callback,ie!==null&&(i.flags|=64,oe&&(i.flags|=8192),oe=p.callbacks,oe===null?p.callbacks=[ie]:oe.push(ie))}else oe={lane:ie,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ce===null?(ne=ce=oe,F=he):ce=ce.next=oe,x|=ie;if(R=R.next,R===null){if(R=p.shared.pending,R===null)break;oe=R,R=oe.next,oe.next=null,p.lastBaseUpdate=oe,p.shared.pending=null}}while(!0);ce===null&&(F=he),p.baseState=F,p.firstBaseUpdate=ne,p.lastBaseUpdate=ce,y===null&&(p.shared.lanes=0),ua|=x,i.lanes=x,i.memoizedState=he}}function x_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function T_(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)x_(o[i],s)}var gl=T(null),ud=T(0);function E_(i,s){i=As,W(ud,i),W(gl,s),As=i|s.baseLanes}function Op(){W(ud,As),W(gl,gl.current)}function Pp(){As=ud.current,L(gl),L(ud)}var Li=T(null),nr=null;function aa(i){var s=i.alternate;W(hn,hn.current&1),W(Li,i),nr===null&&(s===null||gl.current!==null||s.memoizedState!==null)&&(nr=i)}function Vp(i){W(hn,hn.current),W(Li,i),nr===null&&(nr=i)}function S_(i){i.tag===22?(W(hn,hn.current),W(Li,i),nr===null&&(nr=i)):oa()}function oa(){W(hn,hn.current),W(Li,Li.current)}function Ui(i){L(Li),nr===i&&(nr=null),L(hn)}var hn=T(0);function hd(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Fg(o)||qg(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var vs=0,$e=null,Rt=null,_n=null,dd=!1,yl=!1,_o=!1,fd=0,Gc=0,vl=null,qN=0;function an(){throw Error(r(321))}function jp(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Vi(i[o],s[o]))return!1;return!0}function Lp(i,s,o,u,p,y){return vs=y,$e=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,J.H=i===null||i.memoizedState===null?lw:Zp,_o=!1,y=o(u,p),_o=!1,yl&&(y=C_(s,o,u,p)),A_(i),y}function A_(i){J.H=Yc;var s=Rt!==null&&Rt.next!==null;if(vs=0,_n=Rt=$e=null,dd=!1,Gc=0,vl=null,s)throw Error(r(300));i===null||wn||(i=i.dependencies,i!==null&&id(i)&&(wn=!0))}function C_(i,s,o,u){$e=i;var p=0;do{if(yl&&(vl=null),Gc=0,yl=!1,25<=p)throw Error(r(301));if(p+=1,_n=Rt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}J.H=cw,y=s(o,u)}while(yl);return y}function HN(){var i=J.H,s=i.useState()[0];return s=typeof s.then=="function"?$c(s):s,i=i.useState()[0],(Rt!==null?Rt.memoizedState:null)!==i&&($e.flags|=1024),s}function Up(){var i=fd!==0;return fd=0,i}function zp(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Bp(i){if(dd){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}dd=!1}vs=0,_n=Rt=$e=null,yl=!1,Gc=fd=0,vl=null}function di(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?$e.memoizedState=_n=i:_n=_n.next=i,_n}function dn(){if(Rt===null){var i=$e.alternate;i=i!==null?i.memoizedState:null}else i=Rt.next;var s=_n===null?$e.memoizedState:_n.next;if(s!==null)_n=s,Rt=i;else{if(i===null)throw $e.alternate===null?Error(r(467)):Error(r(310));Rt=i,i={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},_n===null?$e.memoizedState=_n=i:_n=_n.next=i}return _n}function md(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $c(i){var s=Gc;return Gc+=1,vl===null&&(vl=[]),i=y_(vl,i,s),s=$e,(_n===null?s.memoizedState:_n.next)===null&&(s=s.alternate,J.H=s===null||s.memoizedState===null?lw:Zp),i}function pd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return $c(i);if(i.$$typeof===q)return Yn(i)}throw Error(r(438,String(i)))}function Fp(i){var s=null,o=$e.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=$e.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=md(),$e.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=U;return s.index++,o}function bs(i,s){return typeof s=="function"?s(i):s}function gd(i){var s=dn();return qp(s,Rt,i)}function qp(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var p=i.baseQueue,y=u.pending;if(y!==null){if(p!==null){var x=p.next;p.next=y.next,y.next=x}s.baseQueue=p=y,u.pending=null}if(y=i.baseState,p===null)i.memoizedState=y;else{s=p.next;var R=x=null,F=null,ne=s,ce=!1;do{var he=ne.lane&-536870913;if(he!==ne.lane?(tt&he)===he:(vs&he)===he){var ie=ne.revertLane;if(ie===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),he===dl&&(ce=!0);else if((vs&ie)===ie){ne=ne.next,ie===dl&&(ce=!0);continue}else he={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},F===null?(R=F=he,x=y):F=F.next=he,$e.lanes|=ie,ua|=ie;he=ne.action,_o&&o(y,he),y=ne.hasEagerState?ne.eagerState:o(y,he)}else ie={lane:he,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},F===null?(R=F=ie,x=y):F=F.next=ie,$e.lanes|=he,ua|=he;ne=ne.next}while(ne!==null&&ne!==s);if(F===null?x=y:F.next=R,!Vi(y,i.memoizedState)&&(wn=!0,ce&&(o=fl,o!==null)))throw o;i.memoizedState=y,i.baseState=x,i.baseQueue=F,u.lastRenderedState=y}return p===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Hp(i){var s=dn(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,p=o.pending,y=s.memoizedState;if(p!==null){o.pending=null;var x=p=p.next;do y=i(y,x.action),x=x.next;while(x!==p);Vi(y,s.memoizedState)||(wn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,u]}function R_(i,s,o){var u=$e,p=dn(),y=ct;if(y){if(o===void 0)throw Error(r(407));o=o()}else o=s();var x=!Vi((Rt||p).memoizedState,o);if(x&&(p.memoizedState=o,wn=!0),p=p.queue,Kp(D_.bind(null,u,p,i),[i]),p.getSnapshot!==s||x||_n!==null&&_n.memoizedState.tag&1){if(u.flags|=2048,bl(9,{destroy:void 0},N_.bind(null,u,p,o,s),null),Mt===null)throw Error(r(349));y||(vs&127)!==0||I_(u,s,o)}return o}function I_(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=$e.updateQueue,s===null?(s=md(),$e.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function N_(i,s,o,u){s.value=o,s.getSnapshot=u,k_(s)&&M_(i)}function D_(i,s,o){return o(function(){k_(s)&&M_(i)})}function k_(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Vi(i,o)}catch{return!0}}function M_(i){var s=uo(i,2);s!==null&&Ci(s,i,2)}function Gp(i){var s=di();if(typeof i=="function"){var o=i;if(i=o(),_o){jn(!0);try{o()}finally{jn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:i},s}function O_(i,s,o,u){return i.baseState=o,qp(i,Rt,typeof u=="function"?u:bs)}function GN(i,s,o,u,p){if(bd(i))throw Error(r(485));if(i=s.action,i!==null){var y={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){y.listeners.push(x)}};J.T!==null?o(!0):y.isTransition=!1,u(y),o=s.pending,o===null?(y.next=s.pending=y,P_(s,y)):(y.next=o.next,s.pending=o.next=y)}}function P_(i,s){var o=s.action,u=s.payload,p=i.state;if(s.isTransition){var y=J.T,x={};J.T=x;try{var R=o(p,u),F=J.S;F!==null&&F(x,R),V_(i,s,R)}catch(ne){$p(i,s,ne)}finally{y!==null&&x.types!==null&&(y.types=x.types),J.T=y}}else try{y=o(p,u),V_(i,s,y)}catch(ne){$p(i,s,ne)}}function V_(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){j_(i,s,u)},function(u){return $p(i,s,u)}):j_(i,s,o)}function j_(i,s,o){s.status="fulfilled",s.value=o,L_(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,P_(i,o)))}function $p(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,L_(s),s=s.next;while(s!==u)}i.action=null}function L_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function U_(i,s){return s}function z_(i,s){if(ct){var o=Mt.formState;if(o!==null){e:{var u=$e;if(ct){if(qt){t:{for(var p=qt,y=tr;p.nodeType!==8;){if(!y){p=null;break t}if(p=ir(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){qt=ir(p.nextSibling),u=p.data==="F!";break e}}ta(u)}u=!1}u&&(s=o[0])}}return o=di(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:U_,lastRenderedState:s},o.queue=u,o=sw.bind(null,$e,u),u.dispatch=o,u=Gp(!1),y=Jp.bind(null,$e,!1,u.queue),u=di(),p={state:s,dispatch:null,action:i,pending:null},u.queue=p,o=GN.bind(null,$e,p,y,o),p.dispatch=o,u.memoizedState=i,[s,o,!1]}function B_(i){var s=dn();return F_(s,Rt,i)}function F_(i,s,o){if(s=qp(i,s,U_)[0],i=gd(bs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=$c(s)}catch(x){throw x===ml?ad:x}else u=s;s=dn();var p=s.queue,y=p.dispatch;return o!==s.memoizedState&&($e.flags|=2048,bl(9,{destroy:void 0},$N.bind(null,p,o),null)),[u,y,i]}function $N(i,s){i.action=s}function q_(i){var s=dn(),o=Rt;if(o!==null)return F_(s,o,i);dn(),s=s.memoizedState,o=dn();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function bl(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=$e.updateQueue,s===null&&(s=md(),$e.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function H_(){return dn().memoizedState}function yd(i,s,o,u){var p=di();$e.flags|=i,p.memoizedState=bl(1|s,{destroy:void 0},o,u===void 0?null:u)}function vd(i,s,o,u){var p=dn();u=u===void 0?null:u;var y=p.memoizedState.inst;Rt!==null&&u!==null&&jp(u,Rt.memoizedState.deps)?p.memoizedState=bl(s,y,o,u):($e.flags|=i,p.memoizedState=bl(1|s,y,o,u))}function G_(i,s){yd(8390656,8,i,s)}function Kp(i,s){vd(2048,8,i,s)}function KN(i){$e.flags|=4;var s=$e.updateQueue;if(s===null)s=md(),$e.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function $_(i){var s=dn().memoizedState;return KN({ref:s,nextImpl:i}),function(){if((bt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function K_(i,s){return vd(4,2,i,s)}function Y_(i,s){return vd(4,4,i,s)}function X_(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function W_(i,s,o){o=o!=null?o.concat([i]):null,vd(4,4,X_.bind(null,s,i),o)}function Yp(){}function Q_(i,s){var o=dn();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&jp(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function J_(i,s){var o=dn();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&jp(s,u[1]))return u[0];if(u=i(),_o){jn(!0);try{i()}finally{jn(!1)}}return o.memoizedState=[u,s],u}function Xp(i,s,o){return o===void 0||(vs&1073741824)!==0&&(tt&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=Zw(),$e.lanes|=i,ua|=i,o)}function Z_(i,s,o,u){return Vi(o,s)?o:gl.current!==null?(i=Xp(i,o,u),Vi(i,s)||(wn=!0),i):(vs&42)===0||(vs&1073741824)!==0&&(tt&261930)===0?(wn=!0,i.memoizedState=o):(i=Zw(),$e.lanes|=i,ua|=i,s)}function ew(i,s,o,u,p){var y=X.p;X.p=y!==0&&8>y?y:8;var x=J.T,R={};J.T=R,Jp(i,!1,s,o);try{var F=p(),ne=J.S;if(ne!==null&&ne(R,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ce=FN(F,u);Kc(i,s,ce,Fi(i))}else Kc(i,s,u,Fi(i))}catch(he){Kc(i,s,{then:function(){},status:"rejected",reason:he},Fi())}finally{X.p=y,x!==null&&R.types!==null&&(x.types=R.types),J.T=x}}function YN(){}function Wp(i,s,o,u){if(i.tag!==5)throw Error(r(476));var p=tw(i).queue;ew(i,p,s,G,o===null?YN:function(){return nw(i),o(u)})}function tw(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:G},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function nw(i){var s=tw(i);s.next===null&&(s=i.alternate.memoizedState),Kc(i,s.next.queue,{},Fi())}function Qp(){return Yn(uu)}function iw(){return dn().memoizedState}function rw(){return dn().memoizedState}function XN(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Fi();i=ra(o);var u=sa(s,i,o);u!==null&&(Ci(u,s,o),Fc(u,s,o)),s={cache:Ap()},i.payload=s;return}s=s.return}}function WN(i,s,o){var u=Fi();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},bd(i)?aw(s,o):(o=pp(i,s,o,u),o!==null&&(Ci(o,i,u),ow(o,s,u)))}function sw(i,s,o){var u=Fi();Kc(i,s,o,u)}function Kc(i,s,o,u){var p={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(bd(i))aw(s,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var x=s.lastRenderedState,R=y(x,o);if(p.hasEagerState=!0,p.eagerState=R,Vi(R,x))return Zh(i,s,p,0),Mt===null&&Jh(),!1}catch{}if(o=pp(i,s,p,u),o!==null)return Ci(o,i,u),ow(o,s,u),!0}return!1}function Jp(i,s,o,u){if(u={lane:2,revertLane:Ng(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},bd(i)){if(s)throw Error(r(479))}else s=pp(i,o,u,2),s!==null&&Ci(s,i,2)}function bd(i){var s=i.alternate;return i===$e||s!==null&&s===$e}function aw(i,s){yl=dd=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function ow(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,yn(i,o)}}var Yc={readContext:Yn,use:pd,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useLayoutEffect:an,useInsertionEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useSyncExternalStore:an,useId:an,useHostTransitionStatus:an,useFormState:an,useActionState:an,useOptimistic:an,useMemoCache:an,useCacheRefresh:an};Yc.useEffectEvent=an;var lw={readContext:Yn,use:pd,useCallback:function(i,s){return di().memoizedState=[i,s===void 0?null:s],i},useContext:Yn,useEffect:G_,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,yd(4194308,4,X_.bind(null,s,i),o)},useLayoutEffect:function(i,s){return yd(4194308,4,i,s)},useInsertionEffect:function(i,s){yd(4,2,i,s)},useMemo:function(i,s){var o=di();s=s===void 0?null:s;var u=i();if(_o){jn(!0);try{i()}finally{jn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=di();if(o!==void 0){var p=o(s);if(_o){jn(!0);try{o(s)}finally{jn(!1)}}}else p=s;return u.memoizedState=u.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},u.queue=i,i=i.dispatch=WN.bind(null,$e,i),[u.memoizedState,i]},useRef:function(i){var s=di();return i={current:i},s.memoizedState=i},useState:function(i){i=Gp(i);var s=i.queue,o=sw.bind(null,$e,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Yp,useDeferredValue:function(i,s){var o=di();return Xp(o,i,s)},useTransition:function(){var i=Gp(!1);return i=ew.bind(null,$e,i.queue,!0,!1),di().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=$e,p=di();if(ct){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),Mt===null)throw Error(r(349));(tt&127)!==0||I_(u,s,o)}p.memoizedState=o;var y={value:o,getSnapshot:s};return p.queue=y,G_(D_.bind(null,u,y,i),[i]),u.flags|=2048,bl(9,{destroy:void 0},N_.bind(null,u,y,o,s),null),o},useId:function(){var i=di(),s=Mt.identifierPrefix;if(ct){var o=$r,u=Gr;o=(u&~(1<<32-Dt(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=fd++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=qN++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Qp,useFormState:z_,useActionState:z_,useOptimistic:function(i){var s=di();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Jp.bind(null,$e,!0,o),o.dispatch=s,[i,s]},useMemoCache:Fp,useCacheRefresh:function(){return di().memoizedState=XN.bind(null,$e)},useEffectEvent:function(i){var s=di(),o={impl:i};return s.memoizedState=o,function(){if((bt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},Zp={readContext:Yn,use:pd,useCallback:Q_,useContext:Yn,useEffect:Kp,useImperativeHandle:W_,useInsertionEffect:K_,useLayoutEffect:Y_,useMemo:J_,useReducer:gd,useRef:H_,useState:function(){return gd(bs)},useDebugValue:Yp,useDeferredValue:function(i,s){var o=dn();return Z_(o,Rt.memoizedState,i,s)},useTransition:function(){var i=gd(bs)[0],s=dn().memoizedState;return[typeof i=="boolean"?i:$c(i),s]},useSyncExternalStore:R_,useId:iw,useHostTransitionStatus:Qp,useFormState:B_,useActionState:B_,useOptimistic:function(i,s){var o=dn();return O_(o,Rt,i,s)},useMemoCache:Fp,useCacheRefresh:rw};Zp.useEffectEvent=$_;var cw={readContext:Yn,use:pd,useCallback:Q_,useContext:Yn,useEffect:Kp,useImperativeHandle:W_,useInsertionEffect:K_,useLayoutEffect:Y_,useMemo:J_,useReducer:Hp,useRef:H_,useState:function(){return Hp(bs)},useDebugValue:Yp,useDeferredValue:function(i,s){var o=dn();return Rt===null?Xp(o,i,s):Z_(o,Rt.memoizedState,i,s)},useTransition:function(){var i=Hp(bs)[0],s=dn().memoizedState;return[typeof i=="boolean"?i:$c(i),s]},useSyncExternalStore:R_,useId:iw,useHostTransitionStatus:Qp,useFormState:q_,useActionState:q_,useOptimistic:function(i,s){var o=dn();return Rt!==null?O_(o,Rt,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Fp,useCacheRefresh:rw};cw.useEffectEvent=$_;function eg(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:v({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var tg={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=Fi(),p=ra(u);p.payload=s,o!=null&&(p.callback=o),s=sa(i,p,u),s!==null&&(Ci(s,i,u),Fc(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=Fi(),p=ra(u);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=sa(i,p,u),s!==null&&(Ci(s,i,u),Fc(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Fi(),u=ra(o);u.tag=2,s!=null&&(u.callback=s),s=sa(i,u,o),s!==null&&(Ci(s,i,o),Fc(s,i,o))}};function uw(i,s,o,u,p,y,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,y,x):s.prototype&&s.prototype.isPureReactComponent?!Oc(o,u)||!Oc(p,y):!0}function hw(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&tg.enqueueReplaceState(s,s.state,null)}function wo(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=v({},o));for(var p in i)o[p]===void 0&&(o[p]=i[p])}return o}function dw(i){Qh(i)}function fw(i){console.error(i)}function mw(i){Qh(i)}function _d(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function pw(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function ng(i,s,o){return o=ra(o),o.tag=3,o.payload={element:null},o.callback=function(){_d(i,s)},o}function gw(i){return i=ra(i),i.tag=3,i}function yw(i,s,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;i.payload=function(){return p(y)},i.callback=function(){pw(s,o,u)}}var x=o.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){pw(s,o,u),typeof p!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function QN(i,s,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&hl(s,o,p,!0),o=Li.current,o!==null){switch(o.tag){case 31:case 13:return nr===null?kd():o.alternate===null&&on===0&&(on=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===od?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Cg(i,u,p)),!1;case 22:return o.flags|=65536,u===od?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Cg(i,u,p)),!1}throw Error(r(435,o.tag))}return Cg(i,u,p),kd(),!1}if(ct)return s=Li.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==wp&&(i=Error(r(422),{cause:u}),jc(Ji(i,o)))):(u!==wp&&(s=Error(r(423),{cause:u}),jc(Ji(s,o))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,u=Ji(u,o),p=ng(i.stateNode,u,p),kp(i,p),on!==4&&(on=2)),!1;var y=Error(r(520),{cause:u});if(y=Ji(y,o),nu===null?nu=[y]:nu.push(y),on!==4&&(on=2),s===null)return!0;u=Ji(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=p&-p,o.lanes|=i,i=ng(o.stateNode,u,i),kp(o,i),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ha===null||!ha.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=gw(p),yw(p,i,o,u),kp(o,p),!1}o=o.return}while(o!==null);return!1}var ig=Error(r(461)),wn=!1;function Xn(i,s,o,u){s.child=i===null?w_(s,null,o,u):bo(s,i.child,o,u)}function vw(i,s,o,u,p){o=o.render;var y=s.ref;if("ref"in u){var x={};for(var R in u)R!=="ref"&&(x[R]=u[R])}else x=u;return po(s),u=Lp(i,s,o,x,y,p),R=Up(),i!==null&&!wn?(zp(i,s,p),_s(i,s,p)):(ct&&R&&bp(s),s.flags|=1,Xn(i,s,u,p),s.child)}function bw(i,s,o,u,p){if(i===null){var y=o.type;return typeof y=="function"&&!gp(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,_w(i,s,y,u,p)):(i=td(o.type,null,u,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!hg(i,p)){var x=y.memoizedProps;if(o=o.compare,o=o!==null?o:Oc,o(x,u)&&i.ref===s.ref)return _s(i,s,p)}return s.flags|=1,i=ms(y,u),i.ref=s.ref,i.return=s,s.child=i}function _w(i,s,o,u,p){if(i!==null){var y=i.memoizedProps;if(Oc(y,u)&&i.ref===s.ref)if(wn=!1,s.pendingProps=u=y,hg(i,p))(i.flags&131072)!==0&&(wn=!0);else return s.lanes=i.lanes,_s(i,s,p)}return rg(i,s,o,u,p)}function ww(i,s,o,u){var p=u.children,y=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,i!==null){for(u=s.child=i.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~y}else u=0,s.child=null;return xw(i,s,y,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&sd(s,y!==null?y.cachePool:null),y!==null?E_(s,y):Op(),S_(s);else return u=s.lanes=536870912,xw(i,s,y!==null?y.baseLanes|o:o,o,u)}else y!==null?(sd(s,y.cachePool),E_(s,y),oa(),s.memoizedState=null):(i!==null&&sd(s,null),Op(),oa());return Xn(i,s,p,o),s.child}function Xc(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function xw(i,s,o,u,p){var y=Rp();return y=y===null?null:{parent:bn._currentValue,pool:y},s.memoizedState={baseLanes:o,cachePool:y},i!==null&&sd(s,null),Op(),S_(s),i!==null&&hl(i,s,u,!0),s.childLanes=p,null}function wd(i,s){return s=Td({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function Tw(i,s,o){return bo(s,i.child,null,o),i=wd(s,s.pendingProps),i.flags|=2,Ui(s),s.memoizedState=null,i}function JN(i,s,o){var u=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(ct){if(u.mode==="hidden")return i=wd(s,u),s.lanes=536870912,Xc(null,i);if(Vp(s),(i=qt)?(i=Px(i,tr),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Zs!==null?{id:Gr,overflow:$r}:null,retryLane:536870912,hydrationErrors:null},o=a_(i),o.return=s,s.child=o,Kn=s,qt=null)):i=null,i===null)throw ta(s);return s.lanes=536870912,null}return wd(s,u)}var y=i.memoizedState;if(y!==null){var x=y.dehydrated;if(Vp(s),p)if(s.flags&256)s.flags&=-257,s=Tw(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(wn||hl(i,s,o,!1),p=(o&i.childLanes)!==0,wn||p){if(u=Mt,u!==null&&(x=Gn(u,o),x!==0&&x!==y.retryLane))throw y.retryLane=x,uo(i,x),Ci(u,i,x),ig;kd(),s=Tw(i,s,o)}else i=y.treeContext,qt=ir(x.nextSibling),Kn=s,ct=!0,ea=null,tr=!1,i!==null&&c_(s,i),s=wd(s,u),s.flags|=4096;return s}return i=ms(i.child,{mode:u.mode,children:u.children}),i.ref=s.ref,s.child=i,i.return=s,i}function xd(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function rg(i,s,o,u,p){return po(s),o=Lp(i,s,o,u,void 0,p),u=Up(),i!==null&&!wn?(zp(i,s,p),_s(i,s,p)):(ct&&u&&bp(s),s.flags|=1,Xn(i,s,o,p),s.child)}function Ew(i,s,o,u,p,y){return po(s),s.updateQueue=null,o=C_(s,u,o,p),A_(i),u=Up(),i!==null&&!wn?(zp(i,s,y),_s(i,s,y)):(ct&&u&&bp(s),s.flags|=1,Xn(i,s,o,y),s.child)}function Sw(i,s,o,u,p){if(po(s),s.stateNode===null){var y=ol,x=o.contextType;typeof x=="object"&&x!==null&&(y=Yn(x)),y=new o(u,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=tg,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=u,y.state=s.memoizedState,y.refs={},Np(s),x=o.contextType,y.context=typeof x=="object"&&x!==null?Yn(x):ol,y.state=s.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(eg(s,o,x,u),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(x=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),x!==y.state&&tg.enqueueReplaceState(y,y.state,null),Hc(s,u,y,p),qc(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){y=s.stateNode;var R=s.memoizedProps,F=wo(o,R);y.props=F;var ne=y.context,ce=o.contextType;x=ol,typeof ce=="object"&&ce!==null&&(x=Yn(ce));var he=o.getDerivedStateFromProps;ce=typeof he=="function"||typeof y.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,ce||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R||ne!==x)&&hw(s,y,u,x),ia=!1;var ie=s.memoizedState;y.state=ie,Hc(s,u,y,p),qc(),ne=s.memoizedState,R||ie!==ne||ia?(typeof he=="function"&&(eg(s,o,he,u),ne=s.memoizedState),(F=ia||uw(s,o,F,u,ie,ne,x))?(ce||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=ne),y.props=u,y.state=ne,y.context=x,u=F):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,Dp(i,s),x=s.memoizedProps,ce=wo(o,x),y.props=ce,he=s.pendingProps,ie=y.context,ne=o.contextType,F=ol,typeof ne=="object"&&ne!==null&&(F=Yn(ne)),R=o.getDerivedStateFromProps,(ne=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==he||ie!==F)&&hw(s,y,u,F),ia=!1,ie=s.memoizedState,y.state=ie,Hc(s,u,y,p),qc();var oe=s.memoizedState;x!==he||ie!==oe||ia||i!==null&&i.dependencies!==null&&id(i.dependencies)?(typeof R=="function"&&(eg(s,o,R,u),oe=s.memoizedState),(ce=ia||uw(s,o,ce,u,ie,oe,F)||i!==null&&i.dependencies!==null&&id(i.dependencies))?(ne||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,oe,F),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,oe,F)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===i.memoizedProps&&ie===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&ie===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=oe),y.props=u,y.state=oe,y.context=F,u=ce):(typeof y.componentDidUpdate!="function"||x===i.memoizedProps&&ie===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&ie===i.memoizedState||(s.flags|=1024),u=!1)}return y=u,xd(i,s),u=(s.flags&128)!==0,y||u?(y=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&u?(s.child=bo(s,i.child,null,p),s.child=bo(s,null,o,p)):Xn(i,s,o,p),s.memoizedState=y.state,i=s.child):i=_s(i,s,p),i}function Aw(i,s,o,u){return fo(),s.flags|=256,Xn(i,s,o,u),s.child}var sg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ag(i){return{baseLanes:i,cachePool:p_()}}function og(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Bi),i}function Cw(i,s,o){var u=s.pendingProps,p=!1,y=(s.flags&128)!==0,x;if((x=y)||(x=i!==null&&i.memoizedState===null?!1:(hn.current&2)!==0),x&&(p=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,i===null){if(ct){if(p?aa(s):oa(),(i=qt)?(i=Px(i,tr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Zs!==null?{id:Gr,overflow:$r}:null,retryLane:536870912,hydrationErrors:null},o=a_(i),o.return=s,s.child=o,Kn=s,qt=null)):i=null,i===null)throw ta(s);return qg(i)?s.lanes=32:s.lanes=536870912,null}var R=u.children;return u=u.fallback,p?(oa(),p=s.mode,R=Td({mode:"hidden",children:R},p),u=ho(u,p,o,null),R.return=s,u.return=s,R.sibling=u,s.child=R,u=s.child,u.memoizedState=ag(o),u.childLanes=og(i,x,o),s.memoizedState=sg,Xc(null,u)):(aa(s),lg(s,R))}var F=i.memoizedState;if(F!==null&&(R=F.dehydrated,R!==null)){if(y)s.flags&256?(aa(s),s.flags&=-257,s=cg(i,s,o)):s.memoizedState!==null?(oa(),s.child=i.child,s.flags|=128,s=null):(oa(),R=u.fallback,p=s.mode,u=Td({mode:"visible",children:u.children},p),R=ho(R,p,o,null),R.flags|=2,u.return=s,R.return=s,u.sibling=R,s.child=u,bo(s,i.child,null,o),u=s.child,u.memoizedState=ag(o),u.childLanes=og(i,x,o),s.memoizedState=sg,s=Xc(null,u));else if(aa(s),qg(R)){if(x=R.nextSibling&&R.nextSibling.dataset,x)var ne=x.dgst;x=ne,u=Error(r(419)),u.stack="",u.digest=x,jc({value:u,source:null,stack:null}),s=cg(i,s,o)}else if(wn||hl(i,s,o,!1),x=(o&i.childLanes)!==0,wn||x){if(x=Mt,x!==null&&(u=Gn(x,o),u!==0&&u!==F.retryLane))throw F.retryLane=u,uo(i,u),Ci(x,i,u),ig;Fg(R)||kd(),s=cg(i,s,o)}else Fg(R)?(s.flags|=192,s.child=i.child,s=null):(i=F.treeContext,qt=ir(R.nextSibling),Kn=s,ct=!0,ea=null,tr=!1,i!==null&&c_(s,i),s=lg(s,u.children),s.flags|=4096);return s}return p?(oa(),R=u.fallback,p=s.mode,F=i.child,ne=F.sibling,u=ms(F,{mode:"hidden",children:u.children}),u.subtreeFlags=F.subtreeFlags&65011712,ne!==null?R=ms(ne,R):(R=ho(R,p,o,null),R.flags|=2),R.return=s,u.return=s,u.sibling=R,s.child=u,Xc(null,u),u=s.child,R=i.child.memoizedState,R===null?R=ag(o):(p=R.cachePool,p!==null?(F=bn._currentValue,p=p.parent!==F?{parent:F,pool:F}:p):p=p_(),R={baseLanes:R.baseLanes|o,cachePool:p}),u.memoizedState=R,u.childLanes=og(i,x,o),s.memoizedState=sg,Xc(i.child,u)):(aa(s),o=i.child,i=o.sibling,o=ms(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(x=s.deletions,x===null?(s.deletions=[i],s.flags|=16):x.push(i)),s.child=o,s.memoizedState=null,o)}function lg(i,s){return s=Td({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Td(i,s){return i=ji(22,i,null,s),i.lanes=0,i}function cg(i,s,o){return bo(s,i.child,null,o),i=lg(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Rw(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Ep(i.return,s,o)}function ug(i,s,o,u,p,y){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p,treeForkCount:y}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=u,x.tail=o,x.tailMode=p,x.treeForkCount=y)}function Iw(i,s,o){var u=s.pendingProps,p=u.revealOrder,y=u.tail;u=u.children;var x=hn.current,R=(x&2)!==0;if(R?(x=x&1|2,s.flags|=128):x&=1,W(hn,x),Xn(i,s,u,o),u=ct?Vc:0,!R&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Rw(i,o,s);else if(i.tag===19)Rw(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(o=s.child,p=null;o!==null;)i=o.alternate,i!==null&&hd(i)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),ug(s,!1,p,o,y,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&hd(i)===null){s.child=p;break}i=p.sibling,p.sibling=o,o=p,p=i}ug(s,!0,o,null,y,u);break;case"together":ug(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function _s(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),ua|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(hl(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=ms(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=ms(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function hg(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&id(i)))}function ZN(i,s,o){switch(s.tag){case 3:we(s,s.stateNode.containerInfo),na(s,bn,i.memoizedState.cache),fo();break;case 27:case 5:Se(s);break;case 4:we(s,s.stateNode.containerInfo);break;case 10:na(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Vp(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(aa(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Cw(i,s,o):(aa(s),i=_s(i,s,o),i!==null?i.sibling:null);aa(s);break;case 19:var p=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(hl(i,s,o,!1),u=(o&s.childLanes)!==0),p){if(u)return Iw(i,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),W(hn,hn.current),u)break;return null;case 22:return s.lanes=0,ww(i,s,o,s.pendingProps);case 24:na(s,bn,i.memoizedState.cache)}return _s(i,s,o)}function Nw(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)wn=!0;else{if(!hg(i,o)&&(s.flags&128)===0)return wn=!1,ZN(i,s,o);wn=(i.flags&131072)!==0}else wn=!1,ct&&(s.flags&1048576)!==0&&l_(s,Vc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(i=yo(s.elementType),s.type=i,typeof i=="function")gp(i)?(u=wo(i,u),s.tag=1,s=Sw(null,s,i,u,o)):(s.tag=0,s=rg(null,s,i,u,o));else{if(i!=null){var p=i.$$typeof;if(p===le){s.tag=11,s=vw(null,s,i,u,o);break e}else if(p===N){s.tag=14,s=bw(null,s,i,u,o);break e}}throw s=ve(i)||i,Error(r(306,s,""))}}return s;case 0:return rg(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,p=wo(u,s.pendingProps),Sw(i,s,u,p,o);case 3:e:{if(we(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var y=s.memoizedState;p=y.element,Dp(i,s),Hc(s,u,null,o);var x=s.memoizedState;if(u=x.cache,na(s,bn,u),u!==y.cache&&Sp(s,[bn],o,!0),qc(),u=x.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=Aw(i,s,u,o);break e}else if(u!==p){p=Ji(Error(r(424)),s),jc(p),s=Aw(i,s,u,o);break e}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,qt=ir(i.firstChild),Kn=s,ct=!0,ea=null,tr=!0,o=w_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(fo(),u===p){s=_s(i,s,o);break e}Xn(i,s,u,o)}s=s.child}return s;case 26:return xd(i,s),i===null?(o=Bx(s.type,null,s.pendingProps,null))?s.memoizedState=o:ct||(o=s.type,i=s.pendingProps,u=Ud(ge.current).createElement(o),u[Lt]=s,u[$t]=i,Wn(u,o,i),Jt(u),s.stateNode=u):s.memoizedState=Bx(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Se(s),i===null&&ct&&(u=s.stateNode=Lx(s.type,s.pendingProps,ge.current),Kn=s,tr=!0,p=qt,pa(s.type)?(Hg=p,qt=ir(u.firstChild)):qt=p),Xn(i,s,s.pendingProps.children,o),xd(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&ct&&((p=u=qt)&&(u=ID(u,s.type,s.pendingProps,tr),u!==null?(s.stateNode=u,Kn=s,qt=ir(u.firstChild),tr=!1,p=!0):p=!1),p||ta(s)),Se(s),p=s.type,y=s.pendingProps,x=i!==null?i.memoizedProps:null,u=y.children,Ug(p,y)?u=null:x!==null&&Ug(p,x)&&(s.flags|=32),s.memoizedState!==null&&(p=Lp(i,s,HN,null,null,o),uu._currentValue=p),xd(i,s),Xn(i,s,u,o),s.child;case 6:return i===null&&ct&&((i=o=qt)&&(o=ND(o,s.pendingProps,tr),o!==null?(s.stateNode=o,Kn=s,qt=null,i=!0):i=!1),i||ta(s)),null;case 13:return Cw(i,s,o);case 4:return we(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=bo(s,null,u,o):Xn(i,s,u,o),s.child;case 11:return vw(i,s,s.type,s.pendingProps,o);case 7:return Xn(i,s,s.pendingProps,o),s.child;case 8:return Xn(i,s,s.pendingProps.children,o),s.child;case 12:return Xn(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,na(s,s.type,u.value),Xn(i,s,u.children,o),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,po(s),p=Yn(p),u=u(p),s.flags|=1,Xn(i,s,u,o),s.child;case 14:return bw(i,s,s.type,s.pendingProps,o);case 15:return _w(i,s,s.type,s.pendingProps,o);case 19:return Iw(i,s,o);case 31:return JN(i,s,o);case 22:return ww(i,s,o,s.pendingProps);case 24:return po(s),u=Yn(bn),i===null?(p=Rp(),p===null&&(p=Mt,y=Ap(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),s.memoizedState={parent:u,cache:p},Np(s),na(s,bn,p)):((i.lanes&o)!==0&&(Dp(i,s),Hc(s,null,null,o),qc()),p=i.memoizedState,y=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),na(s,bn,u)):(u=y.cache,na(s,bn,u),u!==p.cache&&Sp(s,[bn],o,!0))),Xn(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ws(i){i.flags|=4}function dg(i,s,o,u,p){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(ix())i.flags|=8192;else throw vo=od,Ip}else i.flags&=-16777217}function Dw(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!$x(s))if(ix())i.flags|=8192;else throw vo=od,Ip}function Ed(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Ft():536870912,i.lanes|=s,Tl|=s)}function Wc(i,s){if(!ct)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function Ht(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var p=i.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function eD(i,s,o){var u=s.pendingProps;switch(_p(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(s),null;case 1:return Ht(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ys(bn),xe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(ul(s)?ws(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,xp())),Ht(s),null;case 26:var p=s.type,y=s.memoizedState;return i===null?(ws(s),y!==null?(Ht(s),Dw(s,y)):(Ht(s),dg(s,p,null,u,o))):y?y!==i.memoizedState?(ws(s),Ht(s),Dw(s,y)):(Ht(s),s.flags&=-16777217):(i=i.memoizedProps,i!==u&&ws(s),Ht(s),dg(s,p,i,u,o)),null;case 27:if(Ue(s),o=ge.current,p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&ws(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Ht(s),null}i=Z.current,ul(s)?u_(s):(i=Lx(p,u,o),s.stateNode=i,ws(s))}return Ht(s),null;case 5:if(Ue(s),p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&ws(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Ht(s),null}if(y=Z.current,ul(s))u_(s);else{var x=Ud(ge.current);switch(y){case 1:y=x.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=x.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=x.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?x.createElement("select",{is:u.is}):x.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?x.createElement(p,{is:u.is}):x.createElement(p)}}y[Lt]=s,y[$t]=u;e:for(x=s.child;x!==null;){if(x.tag===5||x.tag===6)y.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===s)break e;for(;x.sibling===null;){if(x.return===null||x.return===s)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}s.stateNode=y;e:switch(Wn(y,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ws(s)}}return Ht(s),dg(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&ws(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=ge.current,ul(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,p=Kn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}i[Lt]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Cx(i.nodeValue,o)),i||ta(s,!0)}else i=Ud(i).createTextNode(u),i[Lt]=s,s.stateNode=i}return Ht(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(u=ul(s),o!==null){if(i===null){if(!u)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Lt]=s}else fo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ht(s),i=!1}else o=xp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(Ui(s),s):(Ui(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Ht(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=ul(s),u!==null&&u.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Lt]=s}else fo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ht(s),p=!1}else p=xp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Ui(s),s):(Ui(s),null)}return Ui(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),Ed(s,s.updateQueue),Ht(s),null);case 4:return xe(),i===null&&Og(s.stateNode.containerInfo),Ht(s),null;case 10:return ys(s.type),Ht(s),null;case 19:if(L(hn),u=s.memoizedState,u===null)return Ht(s),null;if(p=(s.flags&128)!==0,y=u.rendering,y===null)if(p)Wc(u,!1);else{if(on!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=hd(i),y!==null){for(s.flags|=128,Wc(u,!1),i=y.updateQueue,s.updateQueue=i,Ed(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)s_(o,i),o=o.sibling;return W(hn,hn.current&1|2),ct&&ps(s,u.treeForkCount),s.child}i=i.sibling}u.tail!==null&&Bt()>Id&&(s.flags|=128,p=!0,Wc(u,!1),s.lanes=4194304)}else{if(!p)if(i=hd(y),i!==null){if(s.flags|=128,p=!0,i=i.updateQueue,s.updateQueue=i,Ed(s,i),Wc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!ct)return Ht(s),null}else 2*Bt()-u.renderingStartTime>Id&&o!==536870912&&(s.flags|=128,p=!0,Wc(u,!1),s.lanes=4194304);u.isBackwards?(y.sibling=s.child,s.child=y):(i=u.last,i!==null?i.sibling=y:s.child=y,u.last=y)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Bt(),i.sibling=null,o=hn.current,W(hn,p?o&1|2:o&1),ct&&ps(s,u.treeForkCount),i):(Ht(s),null);case 22:case 23:return Ui(s),Pp(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(Ht(s),s.subtreeFlags&6&&(s.flags|=8192)):Ht(s),o=s.updateQueue,o!==null&&Ed(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&L(go),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ys(bn),Ht(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function tD(i,s){switch(_p(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ys(bn),xe(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ue(s),null;case 31:if(s.memoizedState!==null){if(Ui(s),s.alternate===null)throw Error(r(340));fo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Ui(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));fo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return L(hn),null;case 4:return xe(),null;case 10:return ys(s.type),null;case 22:case 23:return Ui(s),Pp(),i!==null&&L(go),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return ys(bn),null;case 25:return null;default:return null}}function kw(i,s){switch(_p(s),s.tag){case 3:ys(bn),xe();break;case 26:case 27:case 5:Ue(s);break;case 4:xe();break;case 31:s.memoizedState!==null&&Ui(s);break;case 13:Ui(s);break;case 19:L(hn);break;case 10:ys(s.type);break;case 22:case 23:Ui(s),Pp(),i!==null&&L(go);break;case 24:ys(bn)}}function Qc(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&i)===i){u=void 0;var y=o.create,x=o.inst;u=y(),x.destroy=u}o=o.next}while(o!==p)}}catch(R){St(s,s.return,R)}}function la(i,s,o){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&i)===i){var x=u.inst,R=x.destroy;if(R!==void 0){x.destroy=void 0,p=s;var F=o,ne=R;try{ne()}catch(ce){St(p,F,ce)}}}u=u.next}while(u!==y)}}catch(ce){St(s,s.return,ce)}}function Mw(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{T_(s,o)}catch(u){St(i,i.return,u)}}}function Ow(i,s,o){o.props=wo(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){St(i,s,u)}}function Jc(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(p){St(i,s,p)}}function Kr(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){St(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){St(i,s,p)}else o.current=null}function Pw(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){St(i,i.return,p)}}function fg(i,s,o){try{var u=i.stateNode;TD(u,i.type,o,s),u[$t]=s}catch(p){St(i,i.return,p)}}function Vw(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&pa(i.type)||i.tag===4}function mg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Vw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&pa(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function pg(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=yr));else if(u!==4&&(u===27&&pa(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(pg(i,s,o),i=i.sibling;i!==null;)pg(i,s,o),i=i.sibling}function Sd(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&pa(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Sd(i,s,o),i=i.sibling;i!==null;)Sd(i,s,o),i=i.sibling}function jw(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Wn(s,u,o),s[Lt]=i,s[$t]=o}catch(y){St(i,i.return,y)}}var xs=!1,xn=!1,gg=!1,Lw=typeof WeakSet=="function"?WeakSet:Set,Un=null;function nD(i,s){if(i=i.containerInfo,jg=$d,i=Wb(i),cp(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var x=0,R=-1,F=-1,ne=0,ce=0,he=i,ie=null;t:for(;;){for(var oe;he!==o||p!==0&&he.nodeType!==3||(R=x+p),he!==y||u!==0&&he.nodeType!==3||(F=x+u),he.nodeType===3&&(x+=he.nodeValue.length),(oe=he.firstChild)!==null;)ie=he,he=oe;for(;;){if(he===i)break t;if(ie===o&&++ne===p&&(R=x),ie===y&&++ce===u&&(F=x),(oe=he.nextSibling)!==null)break;he=ie,ie=he.parentNode}he=oe}o=R===-1||F===-1?null:{start:R,end:F}}else o=null}o=o||{start:0,end:0}}else o=null;for(Lg={focusedElem:i,selectionRange:o},$d=!1,Un=s;Un!==null;)if(s=Un,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Un=i;else for(;Un!==null;){switch(s=Un,y=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)p=i[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,o=s,p=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var Ce=wo(o.type,p);i=u.getSnapshotBeforeUpdate(Ce,y),u.__reactInternalSnapshotBeforeUpdate=i}catch(Oe){St(o,o.return,Oe)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Bg(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Bg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Un=i;break}Un=s.return}}function Uw(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Es(i,o),u&4&&Qc(5,o);break;case 1:if(Es(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(x){St(o,o.return,x)}else{var p=wo(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(x){St(o,o.return,x)}}u&64&&Mw(o),u&512&&Jc(o,o.return);break;case 3:if(Es(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{T_(i,s)}catch(x){St(o,o.return,x)}}break;case 27:s===null&&u&4&&jw(o);case 26:case 5:Es(i,o),s===null&&u&4&&Pw(o),u&512&&Jc(o,o.return);break;case 12:Es(i,o);break;case 31:Es(i,o),u&4&&Fw(i,o);break;case 13:Es(i,o),u&4&&qw(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=hD.bind(null,o),DD(i,o))));break;case 22:if(u=o.memoizedState!==null||xs,!u){s=s!==null&&s.memoizedState!==null||xn,p=xs;var y=xn;xs=u,(xn=s)&&!y?Ss(i,o,(o.subtreeFlags&8772)!==0):Es(i,o),xs=p,xn=y}break;case 30:break;default:Es(i,o)}}function zw(i){var s=i.alternate;s!==null&&(i.alternate=null,zw(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&jr(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Xt=null,Ti=!1;function Ts(i,s,o){for(o=o.child;o!==null;)Bw(i,s,o),o=o.sibling}function Bw(i,s,o){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Cn,o)}catch{}switch(o.tag){case 26:xn||Kr(o,s),Ts(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:xn||Kr(o,s);var u=Xt,p=Ti;pa(o.type)&&(Xt=o.stateNode,Ti=!1),Ts(i,s,o),ou(o.stateNode),Xt=u,Ti=p;break;case 5:xn||Kr(o,s);case 6:if(u=Xt,p=Ti,Xt=null,Ts(i,s,o),Xt=u,Ti=p,Xt!==null)if(Ti)try{(Xt.nodeType===9?Xt.body:Xt.nodeName==="HTML"?Xt.ownerDocument.body:Xt).removeChild(o.stateNode)}catch(y){St(o,s,y)}else try{Xt.removeChild(o.stateNode)}catch(y){St(o,s,y)}break;case 18:Xt!==null&&(Ti?(i=Xt,Mx(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Dl(i)):Mx(Xt,o.stateNode));break;case 4:u=Xt,p=Ti,Xt=o.stateNode.containerInfo,Ti=!0,Ts(i,s,o),Xt=u,Ti=p;break;case 0:case 11:case 14:case 15:la(2,o,s),xn||la(4,o,s),Ts(i,s,o);break;case 1:xn||(Kr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Ow(o,s,u)),Ts(i,s,o);break;case 21:Ts(i,s,o);break;case 22:xn=(u=xn)||o.memoizedState!==null,Ts(i,s,o),xn=u;break;default:Ts(i,s,o)}}function Fw(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Dl(i)}catch(o){St(s,s.return,o)}}}function qw(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Dl(i)}catch(o){St(s,s.return,o)}}function iD(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Lw),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Lw),s;default:throw Error(r(435,i.tag))}}function Ad(i,s){var o=iD(i);s.forEach(function(u){if(!o.has(u)){o.add(u);var p=dD.bind(null,i,u);u.then(p,p)}})}function Ei(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],y=i,x=s,R=x;e:for(;R!==null;){switch(R.tag){case 27:if(pa(R.type)){Xt=R.stateNode,Ti=!1;break e}break;case 5:Xt=R.stateNode,Ti=!1;break e;case 3:case 4:Xt=R.stateNode.containerInfo,Ti=!0;break e}R=R.return}if(Xt===null)throw Error(r(160));Bw(y,x,p),Xt=null,Ti=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Hw(s,i),s=s.sibling}var Tr=null;function Hw(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ei(s,i),Si(i),u&4&&(la(3,i,i.return),Qc(3,i),la(5,i,i.return));break;case 1:Ei(s,i),Si(i),u&512&&(xn||o===null||Kr(o,o.return)),u&64&&xs&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=Tr;if(Ei(s,i),Si(i),u&512&&(xn||o===null||Kr(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[bi]||y[Lt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),Wn(y,u,o),y[Lt]=i,Jt(y),u=y;break e;case"link":var x=Hx("link","href",p).get(u+(o.href||""));if(x){for(var R=0;R<x.length;R++)if(y=x[R],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){x.splice(R,1);break t}}y=p.createElement(u),Wn(y,u,o),p.head.appendChild(y);break;case"meta":if(x=Hx("meta","content",p).get(u+(o.content||""))){for(R=0;R<x.length;R++)if(y=x[R],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){x.splice(R,1);break t}}y=p.createElement(u),Wn(y,u,o),p.head.appendChild(y);break;default:throw Error(r(468,u))}y[Lt]=i,Jt(y),u=y}i.stateNode=u}else Gx(p,i.type,i.stateNode);else i.stateNode=qx(p,u,i.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?Gx(p,i.type,i.stateNode):qx(p,u,i.memoizedProps)):u===null&&i.stateNode!==null&&fg(i,i.memoizedProps,o.memoizedProps)}break;case 27:Ei(s,i),Si(i),u&512&&(xn||o===null||Kr(o,o.return)),o!==null&&u&4&&fg(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Ei(s,i),Si(i),u&512&&(xn||o===null||Kr(o,o.return)),i.flags&32){p=i.stateNode;try{xi(p,"")}catch(Ce){St(i,i.return,Ce)}}u&4&&i.stateNode!=null&&(p=i.memoizedProps,fg(i,p,o!==null?o.memoizedProps:p)),u&1024&&(gg=!0);break;case 6:if(Ei(s,i),Si(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(Ce){St(i,i.return,Ce)}}break;case 3:if(Fd=null,p=Tr,Tr=zd(s.containerInfo),Ei(s,i),Tr=p,Si(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Dl(s.containerInfo)}catch(Ce){St(i,i.return,Ce)}gg&&(gg=!1,Gw(i));break;case 4:u=Tr,Tr=zd(i.stateNode.containerInfo),Ei(s,i),Si(i),Tr=u;break;case 12:Ei(s,i),Si(i);break;case 31:Ei(s,i),Si(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Ad(i,u)));break;case 13:Ei(s,i),Si(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Rd=Bt()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Ad(i,u)));break;case 22:p=i.memoizedState!==null;var F=o!==null&&o.memoizedState!==null,ne=xs,ce=xn;if(xs=ne||p,xn=ce||F,Ei(s,i),xn=ce,xs=ne,Si(i),u&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(o===null||F||xs||xn||xo(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){F=o=s;try{if(y=F.stateNode,p)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{R=F.stateNode;var he=F.memoizedProps.style,ie=he!=null&&he.hasOwnProperty("display")?he.display:null;R.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Ce){St(F,F.return,Ce)}}}else if(s.tag===6){if(o===null){F=s;try{F.stateNode.nodeValue=p?"":F.memoizedProps}catch(Ce){St(F,F.return,Ce)}}}else if(s.tag===18){if(o===null){F=s;try{var oe=F.stateNode;p?Ox(oe,!0):Ox(F.stateNode,!1)}catch(Ce){St(F,F.return,Ce)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Ad(i,o))));break;case 19:Ei(s,i),Si(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Ad(i,u)));break;case 30:break;case 21:break;default:Ei(s,i),Si(i)}}function Si(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(Vw(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var p=o.stateNode,y=mg(i);Sd(i,y,p);break;case 5:var x=o.stateNode;o.flags&32&&(xi(x,""),o.flags&=-33);var R=mg(i);Sd(i,R,x);break;case 3:case 4:var F=o.stateNode.containerInfo,ne=mg(i);pg(i,ne,F);break;default:throw Error(r(161))}}catch(ce){St(i,i.return,ce)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Gw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Gw(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Es(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Uw(i,s.alternate,s),s=s.sibling}function xo(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:la(4,s,s.return),xo(s);break;case 1:Kr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Ow(s,s.return,o),xo(s);break;case 27:ou(s.stateNode);case 26:case 5:Kr(s,s.return),xo(s);break;case 22:s.memoizedState===null&&xo(s);break;case 30:xo(s);break;default:xo(s)}i=i.sibling}}function Ss(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=i,y=s,x=y.flags;switch(y.tag){case 0:case 11:case 15:Ss(p,y,o),Qc(4,y);break;case 1:if(Ss(p,y,o),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(ne){St(u,u.return,ne)}if(u=y,p=u.updateQueue,p!==null){var R=u.stateNode;try{var F=p.shared.hiddenCallbacks;if(F!==null)for(p.shared.hiddenCallbacks=null,p=0;p<F.length;p++)x_(F[p],R)}catch(ne){St(u,u.return,ne)}}o&&x&64&&Mw(y),Jc(y,y.return);break;case 27:jw(y);case 26:case 5:Ss(p,y,o),o&&u===null&&x&4&&Pw(y),Jc(y,y.return);break;case 12:Ss(p,y,o);break;case 31:Ss(p,y,o),o&&x&4&&Fw(p,y);break;case 13:Ss(p,y,o),o&&x&4&&qw(p,y);break;case 22:y.memoizedState===null&&Ss(p,y,o),Jc(y,y.return);break;case 30:break;default:Ss(p,y,o)}s=s.sibling}}function yg(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Lc(o))}function vg(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Lc(i))}function Er(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)$w(i,s,o,u),s=s.sibling}function $w(i,s,o,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Er(i,s,o,u),p&2048&&Qc(9,s);break;case 1:Er(i,s,o,u);break;case 3:Er(i,s,o,u),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Lc(i)));break;case 12:if(p&2048){Er(i,s,o,u),i=s.stateNode;try{var y=s.memoizedProps,x=y.id,R=y.onPostCommit;typeof R=="function"&&R(x,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(F){St(s,s.return,F)}}else Er(i,s,o,u);break;case 31:Er(i,s,o,u);break;case 13:Er(i,s,o,u);break;case 23:break;case 22:y=s.stateNode,x=s.alternate,s.memoizedState!==null?y._visibility&2?Er(i,s,o,u):Zc(i,s):y._visibility&2?Er(i,s,o,u):(y._visibility|=2,_l(i,s,o,u,(s.subtreeFlags&10256)!==0||!1)),p&2048&&yg(x,s);break;case 24:Er(i,s,o,u),p&2048&&vg(s.alternate,s);break;default:Er(i,s,o,u)}}function _l(i,s,o,u,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=i,x=s,R=o,F=u,ne=x.flags;switch(x.tag){case 0:case 11:case 15:_l(y,x,R,F,p),Qc(8,x);break;case 23:break;case 22:var ce=x.stateNode;x.memoizedState!==null?ce._visibility&2?_l(y,x,R,F,p):Zc(y,x):(ce._visibility|=2,_l(y,x,R,F,p)),p&&ne&2048&&yg(x.alternate,x);break;case 24:_l(y,x,R,F,p),p&&ne&2048&&vg(x.alternate,x);break;default:_l(y,x,R,F,p)}s=s.sibling}}function Zc(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,p=u.flags;switch(u.tag){case 22:Zc(o,u),p&2048&&yg(u.alternate,u);break;case 24:Zc(o,u),p&2048&&vg(u.alternate,u);break;default:Zc(o,u)}s=s.sibling}}var eu=8192;function wl(i,s,o){if(i.subtreeFlags&eu)for(i=i.child;i!==null;)Kw(i,s,o),i=i.sibling}function Kw(i,s,o){switch(i.tag){case 26:wl(i,s,o),i.flags&eu&&i.memoizedState!==null&&qD(o,Tr,i.memoizedState,i.memoizedProps);break;case 5:wl(i,s,o);break;case 3:case 4:var u=Tr;Tr=zd(i.stateNode.containerInfo),wl(i,s,o),Tr=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=eu,eu=16777216,wl(i,s,o),eu=u):wl(i,s,o));break;default:wl(i,s,o)}}function Yw(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function tu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Un=u,Ww(u,i)}Yw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Xw(i),i=i.sibling}function Xw(i){switch(i.tag){case 0:case 11:case 15:tu(i),i.flags&2048&&la(9,i,i.return);break;case 3:tu(i);break;case 12:tu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Cd(i)):tu(i);break;default:tu(i)}}function Cd(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Un=u,Ww(u,i)}Yw(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:la(8,s,s.return),Cd(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Cd(s));break;default:Cd(s)}i=i.sibling}}function Ww(i,s){for(;Un!==null;){var o=Un;switch(o.tag){case 0:case 11:case 15:la(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Lc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Un=u;else e:for(o=i;Un!==null;){u=Un;var p=u.sibling,y=u.return;if(zw(u),u===o){Un=null;break e}if(p!==null){p.return=y,Un=p;break e}Un=y}}}var rD={getCacheForType:function(i){var s=Yn(bn),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return Yn(bn).controller.signal}},sD=typeof WeakMap=="function"?WeakMap:Map,bt=0,Mt=null,Je=null,tt=0,Et=0,zi=null,ca=!1,xl=!1,bg=!1,As=0,on=0,ua=0,To=0,_g=0,Bi=0,Tl=0,nu=null,Ai=null,wg=!1,Rd=0,Qw=0,Id=1/0,Nd=null,ha=null,Dn=0,da=null,El=null,Cs=0,xg=0,Tg=null,Jw=null,iu=0,Eg=null;function Fi(){return(bt&2)!==0&&tt!==0?tt&-tt:J.T!==null?Ng():Nn()}function Zw(){if(Bi===0)if((tt&536870912)===0||ct){var i=pr;pr<<=1,(pr&3932160)===0&&(pr=262144),Bi=i}else Bi=536870912;return i=Li.current,i!==null&&(i.flags|=32),Bi}function Ci(i,s,o){(i===Mt&&(Et===2||Et===9)||i.cancelPendingCommit!==null)&&(Sl(i,0),fa(i,tt,Bi,!1)),cn(i,o),((bt&2)===0||i!==Mt)&&(i===Mt&&((bt&2)===0&&(To|=o),on===4&&fa(i,tt,Bi,!1)),Yr(i))}function ex(i,s,o){if((bt&6)!==0)throw Error(r(327));var u=!o&&(s&127)===0&&(s&i.expiredLanes)===0||sn(i,s),p=u?lD(i,s):Ag(i,s,!0),y=u;do{if(p===0){xl&&!u&&fa(i,s,0,!1);break}else{if(o=i.current.alternate,y&&!aD(o)){p=Ag(i,s,!1),y=!1;continue}if(p===2){if(y=s,i.errorRecoveryDisabledLanes&y)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;e:{var R=i;p=nu;var F=R.current.memoizedState.isDehydrated;if(F&&(Sl(R,x).flags|=256),x=Ag(R,x,!1),x!==2){if(bg&&!F){R.errorRecoveryDisabledLanes|=y,To|=y,p=4;break e}y=Ai,Ai=p,y!==null&&(Ai===null?Ai=y:Ai.push.apply(Ai,y))}p=x}if(y=!1,p!==2)continue}}if(p===1){Sl(i,0),fa(i,s,0,!0);break}e:{switch(u=i,y=p,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:fa(u,s,Bi,!ca);break e;case 2:Ai=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=Rd+300-Bt(),10<p)){if(fa(u,s,Bi,!ca),jt(u,0,!0)!==0)break e;Cs=s,u.timeoutHandle=Dx(tx.bind(null,u,o,Ai,Nd,wg,s,Bi,To,Tl,ca,y,"Throttled",-0,0),p);break e}tx(u,o,Ai,Nd,wg,s,Bi,To,Tl,ca,y,null,-0,0)}}break}while(!0);Yr(i)}function tx(i,s,o,u,p,y,x,R,F,ne,ce,he,ie,oe){if(i.timeoutHandle=-1,he=s.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yr},Kw(s,y,he);var Ce=(y&62914560)===y?Rd-Bt():(y&4194048)===y?Qw-Bt():0;if(Ce=HD(he,Ce),Ce!==null){Cs=y,i.cancelPendingCommit=Ce(cx.bind(null,i,s,y,o,u,p,x,R,F,ce,he,null,ie,oe)),fa(i,y,x,!ne);return}}cx(i,s,y,o,u,p,x,R,F)}function aD(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],y=p.getSnapshot;p=p.value;try{if(!Vi(y(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function fa(i,s,o,u){s&=~_g,s&=~To,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var p=s;0<p;){var y=31-Dt(p),x=1<<y;u[y]=-1,p&=~x}o!==0&&Rn(i,o,s)}function Dd(){return(bt&6)===0?(ru(0),!1):!0}function Sg(){if(Je!==null){if(Et===0)var i=Je.return;else i=Je,gs=mo=null,Bp(i),pl=null,zc=0,i=Je;for(;i!==null;)kw(i.alternate,i),i=i.return;Je=null}}function Sl(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,AD(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Cs=0,Sg(),Mt=i,Je=o=ms(i.current,null),tt=s,Et=0,zi=null,ca=!1,xl=sn(i,s),bg=!1,Tl=Bi=_g=To=ua=on=0,Ai=nu=null,wg=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var p=31-Dt(u),y=1<<p;s|=i[p],u&=~y}return As=s,Jh(),o}function nx(i,s){$e=null,J.H=Yc,s===ml||s===ad?(s=v_(),Et=3):s===Ip?(s=v_(),Et=4):Et=s===ig?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,zi=s,Je===null&&(on=1,_d(i,Ji(s,i.current)))}function ix(){var i=Li.current;return i===null?!0:(tt&4194048)===tt?nr===null:(tt&62914560)===tt||(tt&536870912)!==0?i===nr:!1}function rx(){var i=J.H;return J.H=Yc,i===null?Yc:i}function sx(){var i=J.A;return J.A=rD,i}function kd(){on=4,ca||(tt&4194048)!==tt&&Li.current!==null||(xl=!0),(ua&134217727)===0&&(To&134217727)===0||Mt===null||fa(Mt,tt,Bi,!1)}function Ag(i,s,o){var u=bt;bt|=2;var p=rx(),y=sx();(Mt!==i||tt!==s)&&(Nd=null,Sl(i,s)),s=!1;var x=on;e:do try{if(Et!==0&&Je!==null){var R=Je,F=zi;switch(Et){case 8:Sg(),x=6;break e;case 3:case 2:case 9:case 6:Li.current===null&&(s=!0);var ne=Et;if(Et=0,zi=null,Al(i,R,F,ne),o&&xl){x=0;break e}break;default:ne=Et,Et=0,zi=null,Al(i,R,F,ne)}}oD(),x=on;break}catch(ce){nx(i,ce)}while(!0);return s&&i.shellSuspendCounter++,gs=mo=null,bt=u,J.H=p,J.A=y,Je===null&&(Mt=null,tt=0,Jh()),x}function oD(){for(;Je!==null;)ax(Je)}function lD(i,s){var o=bt;bt|=2;var u=rx(),p=sx();Mt!==i||tt!==s?(Nd=null,Id=Bt()+500,Sl(i,s)):xl=sn(i,s);e:do try{if(Et!==0&&Je!==null){s=Je;var y=zi;t:switch(Et){case 1:Et=0,zi=null,Al(i,s,y,1);break;case 2:case 9:if(g_(y)){Et=0,zi=null,ox(s);break}s=function(){Et!==2&&Et!==9||Mt!==i||(Et=7),Yr(i)},y.then(s,s);break e;case 3:Et=7;break e;case 4:Et=5;break e;case 7:g_(y)?(Et=0,zi=null,ox(s)):(Et=0,zi=null,Al(i,s,y,7));break;case 5:var x=null;switch(Je.tag){case 26:x=Je.memoizedState;case 5:case 27:var R=Je;if(x?$x(x):R.stateNode.complete){Et=0,zi=null;var F=R.sibling;if(F!==null)Je=F;else{var ne=R.return;ne!==null?(Je=ne,Md(ne)):Je=null}break t}}Et=0,zi=null,Al(i,s,y,5);break;case 6:Et=0,zi=null,Al(i,s,y,6);break;case 8:Sg(),on=6;break e;default:throw Error(r(462))}}cD();break}catch(ce){nx(i,ce)}while(!0);return gs=mo=null,J.H=u,J.A=p,bt=o,Je!==null?0:(Mt=null,tt=0,Jh(),on)}function cD(){for(;Je!==null&&!Ni();)ax(Je)}function ax(i){var s=Nw(i.alternate,i,As);i.memoizedProps=i.pendingProps,s===null?Md(i):Je=s}function ox(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=Ew(o,s,s.pendingProps,s.type,void 0,tt);break;case 11:s=Ew(o,s,s.pendingProps,s.type.render,s.ref,tt);break;case 5:Bp(s);default:kw(o,s),s=Je=s_(s,As),s=Nw(o,s,As)}i.memoizedProps=i.pendingProps,s===null?Md(i):Je=s}function Al(i,s,o,u){gs=mo=null,Bp(s),pl=null,zc=0;var p=s.return;try{if(QN(i,p,s,o,tt)){on=1,_d(i,Ji(o,i.current)),Je=null;return}}catch(y){if(p!==null)throw Je=p,y;on=1,_d(i,Ji(o,i.current)),Je=null;return}s.flags&32768?(ct||u===1?i=!0:xl||(tt&536870912)!==0?i=!1:(ca=i=!0,(u===2||u===9||u===3||u===6)&&(u=Li.current,u!==null&&u.tag===13&&(u.flags|=16384))),lx(s,i)):Md(s)}function Md(i){var s=i;do{if((s.flags&32768)!==0){lx(s,ca);return}i=s.return;var o=eD(s.alternate,s,As);if(o!==null){Je=o;return}if(s=s.sibling,s!==null){Je=s;return}Je=s=i}while(s!==null);on===0&&(on=5)}function lx(i,s){do{var o=tD(i.alternate,i);if(o!==null){o.flags&=32767,Je=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Je=i;return}Je=i=o}while(i!==null);on=6,Je=null}function cx(i,s,o,u,p,y,x,R,F){i.cancelPendingCommit=null;do Od();while(Dn!==0);if((bt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=mp,Tt(i,o,y,x,R,F),i===Mt&&(Je=Mt=null,tt=0),El=s,da=i,Cs=o,xg=y,Tg=p,Jw=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,fD(gn,function(){return mx(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=J.T,J.T=null,p=X.p,X.p=2,x=bt,bt|=4;try{nD(i,s,o)}finally{bt=x,X.p=p,J.T=u}}Dn=1,ux(),hx(),dx()}}function ux(){if(Dn===1){Dn=0;var i=da,s=El,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var u=X.p;X.p=2;var p=bt;bt|=4;try{Hw(s,i);var y=Lg,x=Wb(i.containerInfo),R=y.focusedElem,F=y.selectionRange;if(x!==R&&R&&R.ownerDocument&&Xb(R.ownerDocument.documentElement,R)){if(F!==null&&cp(R)){var ne=F.start,ce=F.end;if(ce===void 0&&(ce=ne),"selectionStart"in R)R.selectionStart=ne,R.selectionEnd=Math.min(ce,R.value.length);else{var he=R.ownerDocument||document,ie=he&&he.defaultView||window;if(ie.getSelection){var oe=ie.getSelection(),Ce=R.textContent.length,Oe=Math.min(F.start,Ce),Nt=F.end===void 0?Oe:Math.min(F.end,Ce);!oe.extend&&Oe>Nt&&(x=Nt,Nt=Oe,Oe=x);var Q=Yb(R,Oe),$=Yb(R,Nt);if(Q&&$&&(oe.rangeCount!==1||oe.anchorNode!==Q.node||oe.anchorOffset!==Q.offset||oe.focusNode!==$.node||oe.focusOffset!==$.offset)){var te=he.createRange();te.setStart(Q.node,Q.offset),oe.removeAllRanges(),Oe>Nt?(oe.addRange(te),oe.extend($.node,$.offset)):(te.setEnd($.node,$.offset),oe.addRange(te))}}}}for(he=[],oe=R;oe=oe.parentNode;)oe.nodeType===1&&he.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<he.length;R++){var ue=he[R];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}$d=!!jg,Lg=jg=null}finally{bt=p,X.p=u,J.T=o}}i.current=s,Dn=2}}function hx(){if(Dn===2){Dn=0;var i=da,s=El,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var u=X.p;X.p=2;var p=bt;bt|=4;try{Uw(i,s.alternate,s)}finally{bt=p,X.p=u,J.T=o}}Dn=3}}function dx(){if(Dn===4||Dn===3){Dn=0,Di();var i=da,s=El,o=Cs,u=Jw;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Dn=5:(Dn=0,El=da=null,fx(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(ha=null),yt(o),s=s.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Cn,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=J.T,p=X.p,X.p=2,J.T=null;try{for(var y=i.onRecoverableError,x=0;x<u.length;x++){var R=u[x];y(R.value,{componentStack:R.stack})}}finally{J.T=s,X.p=p}}(Cs&3)!==0&&Od(),Yr(i),p=i.pendingLanes,(o&261930)!==0&&(p&42)!==0?i===Eg?iu++:(iu=0,Eg=i):iu=0,ru(0)}}function fx(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Lc(s)))}function Od(){return ux(),hx(),dx(),mx()}function mx(){if(Dn!==5)return!1;var i=da,s=xg;xg=0;var o=yt(Cs),u=J.T,p=X.p;try{X.p=32>o?32:o,J.T=null,o=Tg,Tg=null;var y=da,x=Cs;if(Dn=0,El=da=null,Cs=0,(bt&6)!==0)throw Error(r(331));var R=bt;if(bt|=4,Xw(y.current),$w(y,y.current,x,o),bt=R,ru(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Cn,y)}catch{}return!0}finally{X.p=p,J.T=u,fx(i,s)}}function px(i,s,o){s=Ji(o,s),s=ng(i.stateNode,s,2),i=sa(i,s,2),i!==null&&(cn(i,2),Yr(i))}function St(i,s,o){if(i.tag===3)px(i,i,o);else for(;s!==null;){if(s.tag===3){px(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ha===null||!ha.has(u))){i=Ji(o,i),o=gw(2),u=sa(s,o,2),u!==null&&(yw(o,u,s,i),cn(u,2),Yr(u));break}}s=s.return}}function Cg(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new sD;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(o)||(bg=!0,p.add(o),i=uD.bind(null,i,s,o),s.then(i,i))}function uD(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,Mt===i&&(tt&o)===o&&(on===4||on===3&&(tt&62914560)===tt&&300>Bt()-Rd?(bt&2)===0&&Sl(i,0):_g|=o,Tl===tt&&(Tl=0)),Yr(i)}function gx(i,s){s===0&&(s=Ft()),i=uo(i,s),i!==null&&(cn(i,s),Yr(i))}function hD(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),gx(i,o)}function dD(i,s){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,p=i.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),gx(i,o)}function fD(i,s){return qe(i,s)}var Pd=null,Cl=null,Rg=!1,Vd=!1,Ig=!1,ma=0;function Yr(i){i!==Cl&&i.next===null&&(Cl===null?Pd=Cl=i:Cl=Cl.next=i),Vd=!0,Rg||(Rg=!0,pD())}function ru(i,s){if(!Ig&&Vd){Ig=!0;do for(var o=!1,u=Pd;u!==null;){if(i!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var x=u.suspendedLanes,R=u.pingedLanes;y=(1<<31-Dt(42|i)+1)-1,y&=p&~(x&~R),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,_x(u,y))}else y=tt,y=jt(u,u===Mt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||sn(u,y)||(o=!0,_x(u,y));u=u.next}while(o);Ig=!1}}function mD(){yx()}function yx(){Vd=Rg=!1;var i=0;ma!==0&&SD()&&(i=ma);for(var s=Bt(),o=null,u=Pd;u!==null;){var p=u.next,y=vx(u,s);y===0?(u.next=null,o===null?Pd=p:o.next=p,p===null&&(Cl=o)):(o=u,(i!==0||(y&3)!==0)&&(Vd=!0)),u=p}Dn!==0&&Dn!==5||ru(i),ma!==0&&(ma=0)}function vx(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var x=31-Dt(y),R=1<<x,F=p[x];F===-1?((R&o)===0||(R&u)!==0)&&(p[x]=Ln(R,s)):F<=s&&(i.expiredLanes|=R),y&=~R}if(s=Mt,o=tt,o=jt(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(Et===2||Et===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&pn(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||sn(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&pn(u),yt(o)){case 2:case 8:o=Hn;break;case 32:o=gn;break;case 268435456:o=yi;break;default:o=gn}return u=bx.bind(null,i),o=qe(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&pn(u),i.callbackPriority=2,i.callbackNode=null,2}function bx(i,s){if(Dn!==0&&Dn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Od()&&i.callbackNode!==o)return null;var u=tt;return u=jt(i,i===Mt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(ex(i,u,s),vx(i,Bt()),i.callbackNode!=null&&i.callbackNode===o?bx.bind(null,i):null)}function _x(i,s){if(Od())return null;ex(i,s,!0)}function pD(){CD(function(){(bt&6)!==0?qe(Zn,mD):yx()})}function Ng(){if(ma===0){var i=dl;i===0&&(i=vi,vi<<=1,(vi&261888)===0&&(vi=256)),ma=i}return ma}function wx(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Qo(""+i)}function xx(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function gD(i,s,o,u,p){if(s==="submit"&&o&&o.stateNode===p){var y=wx((p[$t]||null).action),x=u.submitter;x&&(s=(s=x[$t]||null)?wx(s.formAction):x.getAttribute("formAction"),s!==null&&(y=s,x=null));var R=new Br("action","action",null,u,p);i.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ma!==0){var F=x?xx(p,x):new FormData(p);Wp(o,{pending:!0,data:F,method:p.method,action:y},null,F)}}else typeof y=="function"&&(R.preventDefault(),F=x?xx(p,x):new FormData(p),Wp(o,{pending:!0,data:F,method:p.method,action:y},y,F))},currentTarget:p}]})}}for(var Dg=0;Dg<fp.length;Dg++){var kg=fp[Dg],yD=kg.toLowerCase(),vD=kg[0].toUpperCase()+kg.slice(1);xr(yD,"on"+vD)}xr(Zb,"onAnimationEnd"),xr(e_,"onAnimationIteration"),xr(t_,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(ON,"onTransitionRun"),xr(PN,"onTransitionStart"),xr(VN,"onTransitionCancel"),xr(n_,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gr("onBeforeInput",["compositionend","keypress","textInput","paste"]),gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(su));function Tx(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],p=u.event;u=u.listeners;e:{var y=void 0;if(s)for(var x=u.length-1;0<=x;x--){var R=u[x],F=R.instance,ne=R.currentTarget;if(R=R.listener,F!==y&&p.isPropagationStopped())break e;y=R,p.currentTarget=ne;try{y(p)}catch(ce){Qh(ce)}p.currentTarget=null,y=F}else for(x=0;x<u.length;x++){if(R=u[x],F=R.instance,ne=R.currentTarget,R=R.listener,F!==y&&p.isPropagationStopped())break e;y=R,p.currentTarget=ne;try{y(p)}catch(ce){Qh(ce)}p.currentTarget=null,y=F}}}}function Ze(i,s){var o=s[Hs];o===void 0&&(o=s[Hs]=new Set);var u=i+"__bubble";o.has(u)||(Ex(s,i,2,!1),o.add(u))}function Mg(i,s,o){var u=0;s&&(u|=4),Ex(o,i,u,s)}var jd="_reactListening"+Math.random().toString(36).slice(2);function Og(i){if(!i[jd]){i[jd]=!0,Ja.forEach(function(o){o!=="selectionchange"&&(bD.has(o)||Mg(o,!1,i),Mg(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[jd]||(s[jd]=!0,Mg("selectionchange",!1,s))}}function Ex(i,s,o,u){switch(Zx(s)){case 2:var p=KD;break;case 8:p=YD;break;default:p=Xg}o=p.bind(null,s,o,i),p=void 0,!no||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?i.addEventListener(s,o,{capture:!0,passive:p}):i.addEventListener(s,o,!0):p!==void 0?i.addEventListener(s,o,{passive:p}):i.addEventListener(s,o,!1)}function Pg(i,s,o,u,p){var y=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var R=u.stateNode.containerInfo;if(R===p)break;if(x===4)for(x=u.return;x!==null;){var F=x.tag;if((F===3||F===4)&&x.stateNode.containerInfo===p)return;x=x.return}for(;R!==null;){if(x=Ki(R),x===null)return;if(F=x.tag,F===5||F===6||F===26||F===27){u=y=x;continue e}R=R.parentNode}}u=u.return}Xs(function(){var ne=y,ce=Yi(o),he=[];e:{var ie=i_.get(i);if(ie!==void 0){var oe=Br,Ce=i;switch(i){case"keypress":if(ro(o)===0)break e;case"keydown":case"keyup":oe=Yh;break;case"focusin":Ce="focus",oe=ao;break;case"focusout":Ce="blur",oe=ao;break;case"beforeblur":case"afterblur":oe=ao;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Nc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=_;break;case Zb:case e_:case t_:oe=Bh;break;case n_:oe=D;break;case"scroll":case"scrollend":oe=Ic;break;case"wheel":oe=se;break;case"copy":case"cut":case"paste":oe=Fh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=fs;break;case"toggle":case"beforetoggle":oe=Ge}var Oe=(s&4)!==0,Nt=!Oe&&(i==="scroll"||i==="scrollend"),Q=Oe?ie!==null?ie+"Capture":null:ie;Oe=[];for(var $=ne,te;$!==null;){var ue=$;if(te=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||te===null||Q===null||(ue=vr($,Q),ue!=null&&Oe.push(au($,ue,te))),Nt)break;$=$.return}0<Oe.length&&(ie=new oe(ie,Ce,null,o,ce),he.push({event:ie,listeners:Oe}))}}if((s&7)===0){e:{if(ie=i==="mouseover"||i==="pointerover",oe=i==="mouseout"||i==="pointerout",ie&&o!==Ac&&(Ce=o.relatedTarget||o.fromElement)&&(Ki(Ce)||Ce[ki]))break e;if((oe||ie)&&(ie=ce.window===ce?ce:(ie=ce.ownerDocument)?ie.defaultView||ie.parentWindow:window,oe?(Ce=o.relatedTarget||o.toElement,oe=ne,Ce=Ce?Ki(Ce):null,Ce!==null&&(Nt=l(Ce),Oe=Ce.tag,Ce!==Nt||Oe!==5&&Oe!==27&&Oe!==6)&&(Ce=null)):(oe=null,Ce=ne),oe!==Ce)){if(Oe=Nc,ue="onMouseLeave",Q="onMouseEnter",$="mouse",(i==="pointerout"||i==="pointerover")&&(Oe=fs,ue="onPointerLeave",Q="onPointerEnter",$="pointer"),Nt=oe==null?ie:ui(oe),te=Ce==null?ie:ui(Ce),ie=new Oe(ue,$+"leave",oe,o,ce),ie.target=Nt,ie.relatedTarget=te,ue=null,Ki(ce)===ne&&(Oe=new Oe(Q,$+"enter",Ce,o,ce),Oe.target=te,Oe.relatedTarget=Nt,ue=Oe),Nt=ue,oe&&Ce)t:{for(Oe=_D,Q=oe,$=Ce,te=0,ue=Q;ue;ue=Oe(ue))te++;ue=0;for(var Me=$;Me;Me=Oe(Me))ue++;for(;0<te-ue;)Q=Oe(Q),te--;for(;0<ue-te;)$=Oe($),ue--;for(;te--;){if(Q===$||$!==null&&Q===$.alternate){Oe=Q;break t}Q=Oe(Q),$=Oe($)}Oe=null}else Oe=null;oe!==null&&Sx(he,ie,oe,Oe,!1),Ce!==null&&Nt!==null&&Sx(he,Nt,Ce,Oe,!0)}}e:{if(ie=ne?ui(ne):window,oe=ie.nodeName&&ie.nodeName.toLowerCase(),oe==="select"||oe==="input"&&ie.type==="file")var mt=Fb;else if(zb(ie))if(qb)mt=DN;else{mt=IN;var Ne=RN}else oe=ie.nodeName,!oe||oe.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?ne&&Wo(ne.elementType)&&(mt=Fb):mt=NN;if(mt&&(mt=mt(i,ne))){Bb(he,mt,o,ce);break e}Ne&&Ne(i,ie,ne),i==="focusout"&&ne&&ie.type==="number"&&ne.memoizedProps.value!=null&&Tc(ie,"number",ie.value)}switch(Ne=ne?ui(ne):window,i){case"focusin":(zb(Ne)||Ne.contentEditable==="true")&&(rl=Ne,up=ne,Pc=null);break;case"focusout":Pc=up=rl=null;break;case"mousedown":hp=!0;break;case"contextmenu":case"mouseup":case"dragend":hp=!1,Qb(he,o,ce);break;case"selectionchange":if(MN)break;case"keydown":case"keyup":Qb(he,o,ce)}var Ke;if(vt)e:{switch(i){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else il?oo(i,o)&&(nt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(nt="onCompositionStart");nt&&(Hr&&o.locale!=="ko"&&(il||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&il&&(Ke=Rc()):(zr=ce,Cc="value"in zr?zr.value:zr.textContent,il=!0)),Ne=Ld(ne,nt),0<Ne.length&&(nt=new qr(nt,i,null,o,ce),he.push({event:nt,listeners:Ne}),Ke?nt.data=Ke:(Ke=nl(o),Ke!==null&&(nt.data=Ke)))),(Ke=Wi?EN(i,o):SN(i,o))&&(nt=Ld(ne,"onBeforeInput"),0<nt.length&&(Ne=new qr("onBeforeInput","beforeinput",null,o,ce),he.push({event:Ne,listeners:nt}),Ne.data=Ke)),gD(he,i,ne,o,ce)}Tx(he,s)})}function au(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Ld(i,s){for(var o=s+"Capture",u=[];i!==null;){var p=i,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=vr(i,o),p!=null&&u.unshift(au(i,p,y)),p=vr(i,s),p!=null&&u.push(au(i,p,y))),i.tag===3)return u;i=i.return}return[]}function _D(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Sx(i,s,o,u,p){for(var y=s._reactName,x=[];o!==null&&o!==u;){var R=o,F=R.alternate,ne=R.stateNode;if(R=R.tag,F!==null&&F===u)break;R!==5&&R!==26&&R!==27||ne===null||(F=ne,p?(ne=vr(o,y),ne!=null&&x.unshift(au(o,ne,F))):p||(ne=vr(o,y),ne!=null&&x.push(au(o,ne,F)))),o=o.return}x.length!==0&&i.push({event:s,listeners:x})}var wD=/\r\n?/g,xD=/\u0000|\uFFFD/g;function Ax(i){return(typeof i=="string"?i:""+i).replace(wD,`
`).replace(xD,"")}function Cx(i,s){return s=Ax(s),Ax(i)===s}function It(i,s,o,u,p,y){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||xi(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&xi(i,""+u);break;case"className":ft(i,"class",u);break;case"tabIndex":ft(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ft(i,o,u);break;case"style":Sc(i,u,y);break;case"data":if(s!=="object"){ft(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Qo(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&It(i,s,"name",p.name,p,null),It(i,s,"formEncType",p.formEncType,p,null),It(i,s,"formMethod",p.formMethod,p,null),It(i,s,"formTarget",p.formTarget,p,null)):(It(i,s,"encType",p.encType,p,null),It(i,s,"method",p.method,p,null),It(i,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Qo(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=yr);break;case"onScroll":u!=null&&Ze("scroll",i);break;case"onScrollEnd":u!=null&&Ze("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Qo(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Ze("beforetoggle",i),Ze("toggle",i),_t(i,"popover",u);break;case"xlinkActuate":Ye(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ye(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ye(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ye(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ye(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ye(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ye(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ye(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ye(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":_t(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Lh.get(o)||o,_t(i,o,u))}}function Vg(i,s,o,u,p,y){switch(o){case"style":Sc(i,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?xi(i,u):(typeof u=="number"||typeof u=="bigint")&&xi(i,""+u);break;case"onScroll":u!=null&&Ze("scroll",i);break;case"onScrollEnd":u!=null&&Ze("scrollend",i);break;case"onClick":u!=null&&(i.onclick=yr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oi.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),y=i[$t]||null,y=y!=null?y[o]:null,typeof y=="function"&&i.removeEventListener(s,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,p);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):_t(i,o,u)}}}function Wn(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",i),Ze("load",i);var u=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var x=o[y];if(x!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:It(i,s,y,x,o,null)}}p&&It(i,s,"srcSet",o.srcSet,o,null),u&&It(i,s,"src",o.src,o,null);return;case"input":Ze("invalid",i);var R=y=x=p=null,F=null,ne=null;for(u in o)if(o.hasOwnProperty(u)){var ce=o[u];if(ce!=null)switch(u){case"name":p=ce;break;case"type":x=ce;break;case"checked":F=ce;break;case"defaultChecked":ne=ce;break;case"value":y=ce;break;case"defaultValue":R=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,s));break;default:It(i,s,u,ce,o,null)}}Ph(i,y,R,F,ne,x,p,!1);return;case"select":Ze("invalid",i),u=x=y=null;for(p in o)if(o.hasOwnProperty(p)&&(R=o[p],R!=null))switch(p){case"value":y=R;break;case"defaultValue":x=R;break;case"multiple":u=R;default:It(i,s,p,R,o,null)}s=y,o=x,i.multiple=!!u,s!=null?Gs(i,!!u,s,!1):o!=null&&Gs(i,!!u,o,!0);return;case"textarea":Ze("invalid",i),y=p=u=null;for(x in o)if(o.hasOwnProperty(x)&&(R=o[x],R!=null))switch(x){case"value":u=R;break;case"defaultValue":p=R;break;case"children":y=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:It(i,s,x,R,o,null)}$s(i,u,p,y);return;case"option":for(F in o)o.hasOwnProperty(F)&&(u=o[F],u!=null)&&(F==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":It(i,s,F,u,o,null));return;case"dialog":Ze("beforetoggle",i),Ze("toggle",i),Ze("cancel",i),Ze("close",i);break;case"iframe":case"object":Ze("load",i);break;case"video":case"audio":for(u=0;u<su.length;u++)Ze(su[u],i);break;case"image":Ze("error",i),Ze("load",i);break;case"details":Ze("toggle",i);break;case"embed":case"source":case"link":Ze("error",i),Ze("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in o)if(o.hasOwnProperty(ne)&&(u=o[ne],u!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:It(i,s,ne,u,o,null)}return;default:if(Wo(s)){for(ce in o)o.hasOwnProperty(ce)&&(u=o[ce],u!==void 0&&Vg(i,s,ce,u,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(u=o[R],u!=null&&It(i,s,R,u,o,null))}function TD(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,x=null,R=null,F=null,ne=null,ce=null;for(oe in o){var he=o[oe];if(o.hasOwnProperty(oe)&&he!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":F=he;default:u.hasOwnProperty(oe)||It(i,s,oe,null,u,he)}}for(var ie in u){var oe=u[ie];if(he=o[ie],u.hasOwnProperty(ie)&&(oe!=null||he!=null))switch(ie){case"type":y=oe;break;case"name":p=oe;break;case"checked":ne=oe;break;case"defaultChecked":ce=oe;break;case"value":x=oe;break;case"defaultValue":R=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,s));break;default:oe!==he&&It(i,s,ie,oe,u,he)}}Xo(i,x,R,F,ne,ce,y,p);return;case"select":oe=x=R=ie=null;for(y in o)if(F=o[y],o.hasOwnProperty(y)&&F!=null)switch(y){case"value":break;case"multiple":oe=F;default:u.hasOwnProperty(y)||It(i,s,y,null,u,F)}for(p in u)if(y=u[p],F=o[p],u.hasOwnProperty(p)&&(y!=null||F!=null))switch(p){case"value":ie=y;break;case"defaultValue":R=y;break;case"multiple":x=y;default:y!==F&&It(i,s,p,y,u,F)}s=R,o=x,u=oe,ie!=null?Gs(i,!!o,ie,!1):!!u!=!!o&&(s!=null?Gs(i,!!o,s,!0):Gs(i,!!o,o?[]:"",!1));return;case"textarea":oe=ie=null;for(R in o)if(p=o[R],o.hasOwnProperty(R)&&p!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:It(i,s,R,null,u,p)}for(x in u)if(p=u[x],y=o[x],u.hasOwnProperty(x)&&(p!=null||y!=null))switch(x){case"value":ie=p;break;case"defaultValue":oe=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==y&&It(i,s,x,p,u,y)}Vh(i,ie,oe);return;case"option":for(var Ce in o)ie=o[Ce],o.hasOwnProperty(Ce)&&ie!=null&&!u.hasOwnProperty(Ce)&&(Ce==="selected"?i.selected=!1:It(i,s,Ce,null,u,ie));for(F in u)ie=u[F],oe=o[F],u.hasOwnProperty(F)&&ie!==oe&&(ie!=null||oe!=null)&&(F==="selected"?i.selected=ie&&typeof ie!="function"&&typeof ie!="symbol":It(i,s,F,ie,u,oe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in o)ie=o[Oe],o.hasOwnProperty(Oe)&&ie!=null&&!u.hasOwnProperty(Oe)&&It(i,s,Oe,null,u,ie);for(ne in u)if(ie=u[ne],oe=o[ne],u.hasOwnProperty(ne)&&ie!==oe&&(ie!=null||oe!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,s));break;default:It(i,s,ne,ie,u,oe)}return;default:if(Wo(s)){for(var Nt in o)ie=o[Nt],o.hasOwnProperty(Nt)&&ie!==void 0&&!u.hasOwnProperty(Nt)&&Vg(i,s,Nt,void 0,u,ie);for(ce in u)ie=u[ce],oe=o[ce],!u.hasOwnProperty(ce)||ie===oe||ie===void 0&&oe===void 0||Vg(i,s,ce,ie,u,oe);return}}for(var Q in o)ie=o[Q],o.hasOwnProperty(Q)&&ie!=null&&!u.hasOwnProperty(Q)&&It(i,s,Q,null,u,ie);for(he in u)ie=u[he],oe=o[he],!u.hasOwnProperty(he)||ie===oe||ie==null&&oe==null||It(i,s,he,ie,u,oe)}function Rx(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ED(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var p=o[u],y=p.transferSize,x=p.initiatorType,R=p.duration;if(y&&R&&Rx(x)){for(x=0,R=p.responseEnd,u+=1;u<o.length;u++){var F=o[u],ne=F.startTime;if(ne>R)break;var ce=F.transferSize,he=F.initiatorType;ce&&Rx(he)&&(F=F.responseEnd,x+=ce*(F<R?1:(R-ne)/(F-ne)))}if(--u,s+=8*(y+x)/(p.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var jg=null,Lg=null;function Ud(i){return i.nodeType===9?i:i.ownerDocument}function Ix(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nx(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Ug(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var zg=null;function SD(){var i=window.event;return i&&i.type==="popstate"?i===zg?!1:(zg=i,!0):(zg=null,!1)}var Dx=typeof setTimeout=="function"?setTimeout:void 0,AD=typeof clearTimeout=="function"?clearTimeout:void 0,kx=typeof Promise=="function"?Promise:void 0,CD=typeof queueMicrotask=="function"?queueMicrotask:typeof kx<"u"?function(i){return kx.resolve(null).then(i).catch(RD)}:Dx;function RD(i){setTimeout(function(){throw i})}function pa(i){return i==="head"}function Mx(i,s){var o=s,u=0;do{var p=o.nextSibling;if(i.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(p),Dl(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")ou(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,ou(o);for(var y=o.firstChild;y;){var x=y.nextSibling,R=y.nodeName;y[bi]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=x}}else o==="body"&&ou(i.ownerDocument.body);o=p}while(o);Dl(s)}function Ox(i,s){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Bg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Bg(o),jr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function ID(i,s,o,u){for(;i.nodeType===1;){var p=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[bi])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=ir(i.nextSibling),i===null)break}return null}function ND(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ir(i.nextSibling),i===null))return null;return i}function Px(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=ir(i.nextSibling),i===null))return null;return i}function Fg(i){return i.data==="$?"||i.data==="$~"}function qg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function DD(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ir(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Hg=null;function Vx(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return ir(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function jx(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function Lx(i,s,o){switch(s=Ud(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function ou(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);jr(i)}var rr=new Map,Ux=new Set;function zd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Rs=X.d;X.d={f:kD,r:MD,D:OD,C:PD,L:VD,m:jD,X:UD,S:LD,M:zD};function kD(){var i=Rs.f(),s=Dd();return i||s}function MD(i){var s=_i(i);s!==null&&s.tag===5&&s.type==="form"?nw(s):Rs.r(i)}var Rl=typeof document>"u"?null:document;function zx(i,s,o){var u=Rl;if(u&&typeof s=="string"&&s){var p=wi(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Ux.has(p)||(Ux.add(p),i={rel:i,crossOrigin:o,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),Wn(s,"link",i),Jt(s),u.head.appendChild(s)))}}function OD(i){Rs.D(i),zx("dns-prefetch",i,null)}function PD(i,s){Rs.C(i,s),zx("preconnect",i,s)}function VD(i,s,o){Rs.L(i,s,o);var u=Rl;if(u&&i&&s){var p='link[rel="preload"][as="'+wi(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+wi(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+wi(o.imageSizes)+'"]')):p+='[href="'+wi(i)+'"]';var y=p;switch(s){case"style":y=Il(i);break;case"script":y=Nl(i)}rr.has(y)||(i=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),rr.set(y,i),u.querySelector(p)!==null||s==="style"&&u.querySelector(lu(y))||s==="script"&&u.querySelector(cu(y))||(s=u.createElement("link"),Wn(s,"link",i),Jt(s),u.head.appendChild(s)))}}function jD(i,s){Rs.m(i,s);var o=Rl;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+wi(u)+'"][href="'+wi(i)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Nl(i)}if(!rr.has(y)&&(i=v({rel:"modulepreload",href:i},s),rr.set(y,i),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(cu(y)))return}u=o.createElement("link"),Wn(u,"link",i),Jt(u),o.head.appendChild(u)}}}function LD(i,s,o){Rs.S(i,s,o);var u=Rl;if(u&&i){var p=Mi(u).hoistableStyles,y=Il(i);s=s||"default";var x=p.get(y);if(!x){var R={loading:0,preload:null};if(x=u.querySelector(lu(y)))R.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":s},o),(o=rr.get(y))&&Gg(i,o);var F=x=u.createElement("link");Jt(F),Wn(F,"link",i),F._p=new Promise(function(ne,ce){F.onload=ne,F.onerror=ce}),F.addEventListener("load",function(){R.loading|=1}),F.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Bd(x,s,u)}x={type:"stylesheet",instance:x,count:1,state:R},p.set(y,x)}}}function UD(i,s){Rs.X(i,s);var o=Rl;if(o&&i){var u=Mi(o).hoistableScripts,p=Nl(i),y=u.get(p);y||(y=o.querySelector(cu(p)),y||(i=v({src:i,async:!0},s),(s=rr.get(p))&&$g(i,s),y=o.createElement("script"),Jt(y),Wn(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function zD(i,s){Rs.M(i,s);var o=Rl;if(o&&i){var u=Mi(o).hoistableScripts,p=Nl(i),y=u.get(p);y||(y=o.querySelector(cu(p)),y||(i=v({src:i,async:!0,type:"module"},s),(s=rr.get(p))&&$g(i,s),y=o.createElement("script"),Jt(y),Wn(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function Bx(i,s,o,u){var p=(p=ge.current)?zd(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Il(o.href),o=Mi(p).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Il(o.href);var y=Mi(p).hoistableStyles,x=y.get(i);if(x||(p=p.ownerDocument||p,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,x),(y=p.querySelector(lu(i)))&&!y._p&&(x.instance=y,x.state.loading=5),rr.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},rr.set(i,o),y||BD(p,i,o,x.state))),s&&u===null)throw Error(r(528,""));return x}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Nl(o),o=Mi(p).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Il(i){return'href="'+wi(i)+'"'}function lu(i){return'link[rel="stylesheet"]['+i+"]"}function Fx(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function BD(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Wn(s,"link",o),Jt(s),i.head.appendChild(s))}function Nl(i){return'[src="'+wi(i)+'"]'}function cu(i){return"script[async]"+i}function qx(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+wi(o.href)+'"]');if(u)return s.instance=u,Jt(u),u;var p=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Jt(u),Wn(u,"style",p),Bd(u,o.precedence,i),s.instance=u;case"stylesheet":p=Il(o.href);var y=i.querySelector(lu(p));if(y)return s.state.loading|=4,s.instance=y,Jt(y),y;u=Fx(o),(p=rr.get(p))&&Gg(u,p),y=(i.ownerDocument||i).createElement("link"),Jt(y);var x=y;return x._p=new Promise(function(R,F){x.onload=R,x.onerror=F}),Wn(y,"link",u),s.state.loading|=4,Bd(y,o.precedence,i),s.instance=y;case"script":return y=Nl(o.src),(p=i.querySelector(cu(y)))?(s.instance=p,Jt(p),p):(u=o,(p=rr.get(y))&&(u=v({},o),$g(u,p)),i=i.ownerDocument||i,p=i.createElement("script"),Jt(p),Wn(p,"link",u),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Bd(u,o.precedence,i));return s.instance}function Bd(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,x=0;x<u.length;x++){var R=u[x];if(R.dataset.precedence===s)y=R;else if(y!==p)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function Gg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function $g(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Fd=null;function Hx(i,s,o){if(Fd===null){var u=new Map,p=Fd=new Map;p.set(o,u)}else p=Fd,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),p=0;p<o.length;p++){var y=o[p];if(!(y[bi]||y[Lt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var x=y.getAttribute(s)||"";x=i+x;var R=u.get(x);R?R.push(y):u.set(x,[y])}}return u}function Gx(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function FD(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function $x(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function qD(i,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Il(u.href),y=s.querySelector(lu(p));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=qd.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=y,Jt(y);return}y=s.ownerDocument||s,u=Fx(u),(p=rr.get(p))&&Gg(u,p),y=y.createElement("link"),Jt(y);var x=y;x._p=new Promise(function(R,F){x.onload=R,x.onerror=F}),Wn(y,"link",u),o.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=qd.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var Kg=0;function HD(i,s){return i.stylesheets&&i.count===0&&Gd(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&Gd(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+s);0<i.imgBytes&&Kg===0&&(Kg=62500*ED());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Gd(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>Kg?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function qd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Hd=null;function Gd(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Hd=new Map,s.forEach(GD,i),Hd=null,qd.call(i))}function GD(i,s){if(!(s.state.loading&4)){var o=Hd.get(i);if(o)var u=o.get(null);else{o=new Map,Hd.set(i,o);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var x=p[y];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(o.set(x.dataset.precedence,x),u=x)}u&&o.set(null,u)}p=s.instance,x=p.getAttribute("data-precedence"),y=o.get(x)||u,y===u&&o.set(null,p),o.set(x,p),this.count++,u=qd.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var uu={$$typeof:q,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function $D(i,s,o,u,p,y,x,R,F){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.hiddenUpdates=gt(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function Kx(i,s,o,u,p,y,x,R,F,ne,ce,he){return i=new $D(i,s,o,x,F,ne,ce,he,R),s=1,y===!0&&(s|=24),y=ji(3,null,null,s),i.current=y,y.stateNode=i,s=Ap(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:s},Np(y),i}function Yx(i){return i?(i=ol,i):ol}function Xx(i,s,o,u,p,y){p=Yx(p),u.context===null?u.context=p:u.pendingContext=p,u=ra(s),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=sa(i,u,s),o!==null&&(Ci(o,i,s),Fc(o,i,s))}function Wx(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Yg(i,s){Wx(i,s),(i=i.alternate)&&Wx(i,s)}function Qx(i){if(i.tag===13||i.tag===31){var s=uo(i,67108864);s!==null&&Ci(s,i,67108864),Yg(i,67108864)}}function Jx(i){if(i.tag===13||i.tag===31){var s=Fi();s=In(s);var o=uo(i,s);o!==null&&Ci(o,i,s),Yg(i,s)}}var $d=!0;function KD(i,s,o,u){var p=J.T;J.T=null;var y=X.p;try{X.p=2,Xg(i,s,o,u)}finally{X.p=y,J.T=p}}function YD(i,s,o,u){var p=J.T;J.T=null;var y=X.p;try{X.p=8,Xg(i,s,o,u)}finally{X.p=y,J.T=p}}function Xg(i,s,o,u){if($d){var p=Wg(u);if(p===null)Pg(i,s,u,Kd,o),e1(i,u);else if(WD(p,i,s,o,u))u.stopPropagation();else if(e1(i,u),s&4&&-1<XD.indexOf(i)){for(;p!==null;){var y=_i(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var x=Vt(y.pendingLanes);if(x!==0){var R=y;for(R.pendingLanes|=2,R.entangledLanes|=2;x;){var F=1<<31-Dt(x);R.entanglements[1]|=F,x&=~F}Yr(y),(bt&6)===0&&(Id=Bt()+500,ru(0))}}break;case 31:case 13:R=uo(y,2),R!==null&&Ci(R,y,2),Dd(),Yg(y,2)}if(y=Wg(u),y===null&&Pg(i,s,u,Kd,o),y===p)break;p=y}p!==null&&u.stopPropagation()}else Pg(i,s,u,null,o)}}function Wg(i){return i=Yi(i),Qg(i)}var Kd=null;function Qg(i){if(Kd=null,i=Ki(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===31){if(i=h(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Kd=i,null}function Zx(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qt()){case Zn:return 2;case Hn:return 8;case gn:case ei:return 32;case yi:return 268435456;default:return 32}default:return 32}}var Jg=!1,ga=null,ya=null,va=null,hu=new Map,du=new Map,ba=[],XD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e1(i,s){switch(i){case"focusin":case"focusout":ga=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":hu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":du.delete(s.pointerId)}}function fu(i,s,o,u,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},s!==null&&(s=_i(s),s!==null&&Qx(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function WD(i,s,o,u,p){switch(s){case"focusin":return ga=fu(ga,i,s,o,u,p),!0;case"dragenter":return ya=fu(ya,i,s,o,u,p),!0;case"mouseover":return va=fu(va,i,s,o,u,p),!0;case"pointerover":var y=p.pointerId;return hu.set(y,fu(hu.get(y)||null,i,s,o,u,p)),!0;case"gotpointercapture":return y=p.pointerId,du.set(y,fu(du.get(y)||null,i,s,o,u,p)),!0}return!1}function t1(i){var s=Ki(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,kt(i.priority,function(){Jx(o)});return}}else if(s===31){if(s=h(o),s!==null){i.blockedOn=s,kt(i.priority,function(){Jx(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Yd(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Wg(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Ac=u,o.target.dispatchEvent(u),Ac=null}else return s=_i(o),s!==null&&Qx(s),i.blockedOn=o,!1;s.shift()}return!0}function n1(i,s,o){Yd(i)&&o.delete(s)}function QD(){Jg=!1,ga!==null&&Yd(ga)&&(ga=null),ya!==null&&Yd(ya)&&(ya=null),va!==null&&Yd(va)&&(va=null),hu.forEach(n1),du.forEach(n1)}function Xd(i,s){i.blockedOn===s&&(i.blockedOn=null,Jg||(Jg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,QD)))}var Wd=null;function i1(i){Wd!==i&&(Wd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Wd===i&&(Wd=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],p=i[s+2];if(typeof u!="function"){if(Qg(u||o)===null)continue;break}var y=_i(o);y!==null&&(i.splice(s,3),s-=3,Wp(y,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function Dl(i){function s(F){return Xd(F,i)}ga!==null&&Xd(ga,i),ya!==null&&Xd(ya,i),va!==null&&Xd(va,i),hu.forEach(s),du.forEach(s);for(var o=0;o<ba.length;o++){var u=ba[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<ba.length&&(o=ba[0],o.blockedOn===null);)t1(o),o.blockedOn===null&&ba.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],y=o[u+1],x=p[$t]||null;if(typeof y=="function")x||i1(o);else if(x){var R=null;if(y&&y.hasAttribute("formAction")){if(p=y,x=y[$t]||null)R=x.formAction;else if(Qg(p)!==null)continue}else R=x.action;typeof R=="function"?o[u+1]=R:(o.splice(u,3),u-=3),i1(o)}}}function r1(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(x){return p=x})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function Zg(i){this._internalRoot=i}Qd.prototype.render=Zg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Fi();Xx(o,u,i,s,null,null)},Qd.prototype.unmount=Zg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Xx(i.current,2,null,i,null,null),Dd(),s[ki]=null}};function Qd(i){this._internalRoot=i}Qd.prototype.unstable_scheduleHydration=function(i){if(i){var s=Nn();i={blockedOn:null,target:i,priority:s};for(var o=0;o<ba.length&&s!==0&&s<ba[o].priority;o++);ba.splice(o,0,i),o===0&&t1(i)}};var s1=e.version;if(s1!=="19.2.3")throw Error(r(527,s1,"19.2.3"));X.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var JD={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jd.isDisabled&&Jd.supportsFiber)try{Cn=Jd.inject(JD),rn=Jd}catch{}}return pu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",p=dw,y=fw,x=mw;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=Kx(i,1,!1,null,null,o,u,null,p,y,x,r1),i[ki]=s.current,Og(i),new Zg(s)},pu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,p="",y=dw,x=fw,R=mw,F=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.formState!==void 0&&(F=o.formState)),s=Kx(i,1,!0,s,o??null,u,p,F,y,x,R,r1),s.context=Yx(null),o=s.current,u=Fi(),u=In(u),p=ra(u),p.callback=null,sa(o,p,u),o=u,s.current.lanes=o,cn(s,o),Yr(s),i[ki]=s.current,Og(i),new Qd(s)},pu.version="19.2.3",pu}var p1;function lk(){if(p1)return ny.exports;p1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ny.exports=ok(),ny.exports}var ck=lk();var g1="popstate";function uk(t={}){function e(r,a){let{pathname:l,search:c,hash:h}=r.location;return Yy("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:qu(a)}return dk(e,n,null,t)}function Wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hk(){return Math.random().toString(36).substring(2,10)}function y1(t,e){return{usr:t.state,key:t.key,idx:e}}function Yy(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ac(e):e,state:n,key:e&&e.key||r||hk()}}function qu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ac(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function dk(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,h="POP",d=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function v(){h="POP";let I=g(),B=I==null?null:I-m;m=I,d&&d({action:h,location:M.location,delta:B})}function w(I,B){h="PUSH";let H=Yy(M.location,I,B);m=g()+1;let q=y1(H,m),le=M.createHref(H);try{c.pushState(q,"",le)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;a.location.assign(le)}l&&d&&d({action:h,location:M.location,delta:1})}function A(I,B){h="REPLACE";let H=Yy(M.location,I,B);m=g();let q=y1(H,m),le=M.createHref(H);c.replaceState(q,"",le),l&&d&&d({action:h,location:M.location,delta:0})}function k(I){return fk(I)}let M={get action(){return h},get location(){return t(a,c)},listen(I){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(g1,v),d=I,()=>{a.removeEventListener(g1,v),d=null}},createHref(I){return e(a,I)},createURL:k,encodeLocation(I){let B=k(I);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:w,replace:A,go(I){return c.go(I)}};return M}function fk(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Wt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:qu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function YS(t,e,n="/"){return mk(t,e,n,!1)}function mk(t,e,n,r){let a=typeof e=="string"?ac(e):e,l=Ls(a.pathname||"/",n);if(l==null)return null;let c=XS(t);pk(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let m=Ak(l);h=Ek(c[d],m,r)}return h}function XS(t,e=[],n=[],r="",a=!1){let l=(c,h,d=a,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&d)return;Wt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let v=Os([r,g.relativePath]),w=n.concat(g);c.children&&c.children.length>0&&(Wt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),XS(c.children,e,w,v,d)),!(c.path==null&&!c.index)&&e.push({path:v,score:xk(v,c.index),routesMeta:w})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))l(c,h);else for(let d of WS(c.path))l(c,h,!0,d)}),e}function WS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=WS(r.join("/")),h=[];return h.push(...c.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...c),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function pk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Tk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var gk=/^:[\w-]+$/,yk=3,vk=2,bk=1,_k=10,wk=-2,v1=t=>t==="*";function xk(t,e){let n=t.split("/"),r=n.length;return n.some(v1)&&(r+=wk),e&&(r+=vk),n.filter(a=>!v1(a)).reduce((a,l)=>a+(gk.test(l)?yk:l===""?bk:_k),r)}function Tk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function Ek(t,e,n=!1){let{routesMeta:r}=t,a={},l="/",c=[];for(let h=0;h<r.length;++h){let d=r[h],m=h===r.length-1,g=l==="/"?e:e.slice(l.length)||"/",v=Of({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},g),w=d.route;if(!v&&m&&n&&!r[r.length-1].route.index&&(v=Of({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:Os([l,v.pathname]),pathnameBase:Nk(Os([l,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(l=Os([l,v.pathnameBase]))}return c}function Of(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Sk(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:v},w)=>{if(g==="*"){let k=h[w]||"";c=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const A=h[w];return v&&!A?m[g]=void 0:m[g]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function Sk(t,e=!1,n=!0){fr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function Ak(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ls(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var QS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ck=t=>QS.test(t);function Rk(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?ac(t):t,l;if(n)if(Ck(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),fr(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=b1(n.substring(1),"/"):l=b1(n,e)}else l=e;return{pathname:l,search:Dk(r),hash:kk(a)}}function b1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ay(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ik(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wv(t){let e=Ik(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Qv(t,e,n,r=!1){let a;typeof t=="string"?a=ac(t):(a={...t},Wt(!a.pathname||!a.pathname.includes("?"),ay("?","pathname","search",a)),Wt(!a.pathname||!a.pathname.includes("#"),ay("#","pathname","hash",a)),Wt(!a.search||!a.search.includes("#"),ay("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=n;else{let v=e.length-1;if(!r&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),v-=1;a.pathname=w.join("/")}h=v>=0?e[v]:"/"}let d=Rk(a,h),m=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||g)&&(d.pathname+="/"),d}var Os=t=>t.join("/").replace(/\/\/+/g,"/"),Nk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Dk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Mk=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Ok(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Pk(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var JS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ZS(t,e){let n=t;if(typeof n!="string"||!QS.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(JS)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),h=Ls(c.pathname,e);c.origin===l.origin&&h!=null?n=h+c.search+c.hash:a=!0}catch{fr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var eA=["POST","PUT","PATCH","DELETE"];new Set(eA);var Vk=["GET",...eA];new Set(Vk);var oc=S.createContext(null);oc.displayName="DataRouter";var Em=S.createContext(null);Em.displayName="DataRouterState";var jk=S.createContext(!1),tA=S.createContext({isTransitioning:!1});tA.displayName="ViewTransition";var Lk=S.createContext(new Map);Lk.displayName="Fetchers";var Uk=S.createContext(null);Uk.displayName="Await";var Gi=S.createContext(null);Gi.displayName="Navigation";var ah=S.createContext(null);ah.displayName="Location";var Pr=S.createContext({outlet:null,matches:[],isDataRoute:!1});Pr.displayName="Route";var Jv=S.createContext(null);Jv.displayName="RouteError";var nA="REACT_ROUTER_ERROR",zk="REDIRECT",Bk="ROUTE_ERROR_RESPONSE";function Fk(t){if(t.startsWith(`${nA}:${zk}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function qk(t){if(t.startsWith(`${nA}:${Bk}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Mk(e.status,e.statusText,e.data)}catch{}}function Hk(t,{relative:e}={}){Wt(lc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(Gi),{hash:a,pathname:l,search:c}=lh(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Os([n,l])),r.createHref({pathname:h,search:c,hash:a})}function lc(){return S.useContext(ah)!=null}function $a(){return Wt(lc(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(ah).location}var iA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rA(t){S.useContext(Gi).static||S.useLayoutEffect(t)}function oh(){let{isDataRoute:t}=S.useContext(Pr);return t?rM():Gk()}function Gk(){Wt(lc(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(oc),{basename:e,navigator:n}=S.useContext(Gi),{matches:r}=S.useContext(Pr),{pathname:a}=$a(),l=JSON.stringify(Wv(r)),c=S.useRef(!1);return rA(()=>{c.current=!0}),S.useCallback((d,m={})=>{if(fr(c.current,iA),!c.current)return;if(typeof d=="number"){n.go(d);return}let g=Qv(d,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Os([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,l,a,t])}S.createContext(null);function $k(){let{matches:t}=S.useContext(Pr),e=t[t.length-1];return e?e.params:{}}function lh(t,{relative:e}={}){let{matches:n}=S.useContext(Pr),{pathname:r}=$a(),a=JSON.stringify(Wv(n));return S.useMemo(()=>Qv(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function Kk(t,e){return sA(t,e)}function sA(t,e,n,r,a){Wt(lc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=S.useContext(Gi),{matches:c}=S.useContext(Pr),h=c[c.length-1],d=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",v=h&&h.route;{let H=v&&v.path||"";oA(m,!v||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let w=$a(),A;if(e){let H=typeof e=="string"?ac(e):e;Wt(g==="/"||H.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${H.pathname}" was given in the \`location\` prop.`),A=H}else A=w;let k=A.pathname||"/",M=k;if(g!=="/"){let H=g.replace(/^\//,"").split("/");M="/"+k.replace(/^\//,"").split("/").slice(H.length).join("/")}let I=YS(t,{pathname:M});fr(v||I!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),fr(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=Jk(I&&I.map(H=>Object.assign({},H,{params:Object.assign({},d,H.params),pathname:Os([g,l.encodeLocation?l.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?g:Os([g,l.encodeLocation?l.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),c,n,r,a);return e&&B?S.createElement(ah.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},B):B}function Yk(){let t=iM(),e=Ok(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:l},"ErrorBoundary")," or"," ",S.createElement("code",{style:l},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:a},n):null,c)}var Xk=S.createElement(Yk,null),aA=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=qk(t.digest);n&&(t=n)}let e=t!==void 0?S.createElement(Pr.Provider,{value:this.props.routeContext},S.createElement(Jv.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?S.createElement(Wk,{error:t},e):e}};aA.contextType=jk;var oy=new WeakMap;function Wk({children:t,error:e}){let{basename:n}=S.useContext(Gi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=Fk(e.digest);if(r){let a=oy.get(e);if(a)throw a;let l=ZS(r.location,n);if(JS&&!oy.get(e))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw oy.set(e,c),c}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function Qk({routeContext:t,match:e,children:n}){let r=S.useContext(oc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Pr.Provider,{value:t},n)}function Jk(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let g=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);Wt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,d=-1;if(n)for(let g=0;g<l.length;g++){let v=l[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=g),v.route.id){let{loaderData:w,errors:A}=n,k=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!A||A[v.route.id]===void 0);if(v.route.lazy||k){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let m=n&&r?(g,v)=>{r(g,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Pk(n.matches),errorInfo:v})}:void 0;return l.reduceRight((g,v,w)=>{let A,k=!1,M=null,I=null;n&&(A=c&&v.route.id?c[v.route.id]:void 0,M=v.route.errorElement||Xk,h&&(d<0&&w===0?(oA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,I=null):d===w&&(k=!0,I=v.route.hydrateFallbackElement||null)));let B=e.concat(l.slice(0,w+1)),H=()=>{let q;return A?q=M:k?q=I:v.route.Component?q=S.createElement(v.route.Component,null):v.route.element?q=v.route.element:q=g,S.createElement(Qk,{match:v,routeContext:{outlet:g,matches:B,isDataRoute:n!=null},children:q})};return n&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?S.createElement(aA,{location:n.location,revalidation:n.revalidation,component:M,error:A,children:H(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:m}):H()},null)}function Zv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zk(t){let e=S.useContext(oc);return Wt(e,Zv(t)),e}function eM(t){let e=S.useContext(Em);return Wt(e,Zv(t)),e}function tM(t){let e=S.useContext(Pr);return Wt(e,Zv(t)),e}function e0(t){let e=tM(t),n=e.matches[e.matches.length-1];return Wt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function nM(){return e0("useRouteId")}function iM(){let t=S.useContext(Jv),e=eM("useRouteError"),n=e0("useRouteError");return t!==void 0?t:e.errors?.[n]}function rM(){let{router:t}=Zk("useNavigate"),e=e0("useNavigate"),n=S.useRef(!1);return rA(()=>{n.current=!0}),S.useCallback(async(a,l={})=>{fr(n.current,iA),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var _1={};function oA(t,e,n){!e&&!_1[t]&&(_1[t]=!0,fr(!1,n))}S.memo(sM);function sM({routes:t,future:e,state:n,onError:r}){return sA(t,void 0,n,r,e)}function kl({to:t,replace:e,state:n,relative:r}){Wt(lc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=S.useContext(Gi);fr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=S.useContext(Pr),{pathname:c}=$a(),h=oh(),d=Qv(t,Wv(l),c,r==="path"),m=JSON.stringify(d);return S.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:r})},[h,m,r,e,n]),null}function Ta(t){Wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aM({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){Wt(!lc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),d=S.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[h,a,l,c]);typeof n=="string"&&(n=ac(n));let{pathname:m="/",search:g="",hash:v="",state:w=null,key:A="default"}=n,k=S.useMemo(()=>{let M=Ls(m,h);return M==null?null:{location:{pathname:M,search:g,hash:v,state:w,key:A},navigationType:r}},[h,m,g,v,w,A,r]);return fr(k!=null,`<Router basename="${h}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:S.createElement(Gi.Provider,{value:d},S.createElement(ah.Provider,{children:e,value:k}))}function oM({children:t,location:e}){return Kk(Xy(t),e)}function Xy(t,e=[]){let n=[];return S.Children.forEach(t,(r,a)=>{if(!S.isValidElement(r))return;let l=[...e,a];if(r.type===S.Fragment){n.push.apply(n,Xy(r.props.children,l));return}Wt(r.type===Ta,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Xy(r.props.children,l)),n.push(c)}),n}var pf="get",gf="application/x-www-form-urlencoded";function Sm(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function lM(t){return Sm(t)&&t.tagName.toLowerCase()==="button"}function cM(t){return Sm(t)&&t.tagName.toLowerCase()==="form"}function uM(t){return Sm(t)&&t.tagName.toLowerCase()==="input"}function hM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dM(t,e){return t.button===0&&(!e||e==="_self")&&!hM(t)}var Zd=null;function fM(){if(Zd===null)try{new FormData(document.createElement("form"),0),Zd=!1}catch{Zd=!0}return Zd}var mM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ly(t){return t!=null&&!mM.has(t)?(fr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gf}"`),null):t}function pM(t,e){let n,r,a,l,c;if(cM(t)){let h=t.getAttribute("action");r=h?Ls(h,e):null,n=t.getAttribute("method")||pf,a=ly(t.getAttribute("enctype"))||gf,l=new FormData(t)}else if(lM(t)||uM(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?Ls(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||pf,a=ly(t.getAttribute("formenctype"))||ly(h.getAttribute("enctype"))||gf,l=new FormData(h,t),!fM()){let{name:m,type:g,value:v}=t;if(g==="image"){let w=m?`${m}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else m&&l.append(m,v)}}else{if(Sm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=pf,r=null,a=gf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function t0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gM(t,e,n,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:e&&Ls(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function yM(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vM(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function bM(t,e,n){let r=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await yM(l,n);return c.links?c.links():[]}return[]}));return TM(r.flat(1).filter(vM).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function w1(t,e,n,r,a,l){let c=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,h=(d,m)=>n[m].pathname!==d.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,m)=>c(d,m)||h(d,m)):l==="data"?e.filter((d,m)=>{let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(c(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function _M(t,e,{includeHydrateFallback:n}={}){return wM(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function wM(t){return[...new Set(t)]}function xM(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function TM(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let l=JSON.stringify(xM(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function lA(){let t=S.useContext(oc);return t0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function EM(){let t=S.useContext(Em);return t0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var n0=S.createContext(void 0);n0.displayName="FrameworkContext";function cA(){let t=S.useContext(n0);return t0(t,"You must render this element inside a <HydratedRouter> element"),t}function SM(t,e){let n=S.useContext(n0),[r,a]=S.useState(!1),[l,c]=S.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:g,onTouchStart:v}=e,w=S.useRef(null);S.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let M=B=>{B.forEach(H=>{c(H.isIntersecting)})},I=new IntersectionObserver(M,{threshold:.5});return w.current&&I.observe(w.current),()=>{I.disconnect()}}},[t]),S.useEffect(()=>{if(r){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[r]);let A=()=>{a(!0)},k=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:gu(h,A),onBlur:gu(d,k),onMouseEnter:gu(m,A),onMouseLeave:gu(g,k),onTouchStart:gu(v,A)}]:[!1,w,{}]}function gu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function AM({page:t,...e}){let{router:n}=lA(),r=S.useMemo(()=>YS(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?S.createElement(RM,{page:t,matches:r,...e}):null}function CM(t){let{manifest:e,routeModules:n}=cA(),[r,a]=S.useState([]);return S.useEffect(()=>{let l=!1;return bM(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),r}function RM({page:t,matches:e,...n}){let r=$a(),{future:a,manifest:l,routeModules:c}=cA(),{basename:h}=lA(),{loaderData:d,matches:m}=EM(),g=S.useMemo(()=>w1(t,e,m,l,r,"data"),[t,e,m,l,r]),v=S.useMemo(()=>w1(t,e,m,l,r,"assets"),[t,e,m,l,r]),w=S.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let M=new Set,I=!1;if(e.forEach(H=>{let q=l.routes[H.route.id];!q||!q.hasLoader||(!g.some(le=>le.route.id===H.route.id)&&H.route.id in d&&c[H.route.id]?.shouldRevalidate||q.hasClientLoader?I=!0:M.add(H.route.id))}),M.size===0)return[];let B=gM(t,h,a.unstable_trailingSlashAwareDataRequests,"data");return I&&M.size>0&&B.searchParams.set("_routes",e.filter(H=>M.has(H.route.id)).map(H=>H.route.id).join(",")),[B.pathname+B.search]},[h,a.unstable_trailingSlashAwareDataRequests,d,r,l,g,e,t,c]),A=S.useMemo(()=>_M(v,l),[v,l]),k=CM(v);return S.createElement(S.Fragment,null,w.map(M=>S.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),A.map(M=>S.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),k.map(({key:M,link:I})=>S.createElement("link",{key:M,nonce:n.nonce,...I})))}function IM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var NM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NM&&(window.__reactRouterVersion="7.12.0")}catch{}function DM({basename:t,children:e,unstable_useTransitions:n,window:r}){let a=S.useRef();a.current==null&&(a.current=uk({window:r,v5Compat:!0}));let l=a.current,[c,h]=S.useState({action:l.action,location:l.location}),d=S.useCallback(m=>{n===!1?h(m):S.startTransition(()=>h(m))},[n]);return S.useLayoutEffect(()=>l.listen(d),[l,d]),S.createElement(aM,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var uA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,i0=S.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:h,target:d,to:m,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:w,...A},k){let{basename:M,unstable_useTransitions:I}=S.useContext(Gi),B=typeof m=="string"&&uA.test(m),H=ZS(m,M);m=H.to;let q=Hk(m,{relative:a}),[le,re,ae]=SM(r,A),N=PM(m,{replace:c,state:h,target:d,preventScrollReset:g,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:w,unstable_useTransitions:I});function C(U){e&&e(U),U.defaultPrevented||N(U)}let O=S.createElement("a",{...A,...ae,href:H.absoluteURL||q,onClick:H.isExternal||l?e:C,ref:IM(k,re),target:d,"data-discover":!B&&n==="render"?"true":void 0});return le&&!B?S.createElement(S.Fragment,null,O,S.createElement(AM,{page:q})):O});i0.displayName="Link";var kM=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:h,children:d,...m},g){let v=lh(c,{relative:m.relative}),w=$a(),A=S.useContext(Em),{navigator:k,basename:M}=S.useContext(Gi),I=A!=null&&zM(v)&&h===!0,B=k.encodeLocation?k.encodeLocation(v).pathname:v.pathname,H=w.pathname,q=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(H=H.toLowerCase(),q=q?q.toLowerCase():null,B=B.toLowerCase()),q&&M&&(q=Ls(q,M)||q);const le=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let re=H===B||!a&&H.startsWith(B)&&H.charAt(le)==="/",ae=q!=null&&(q===B||!a&&q.startsWith(B)&&q.charAt(B.length)==="/"),N={isActive:re,isPending:ae,isTransitioning:I},C=re?e:void 0,O;typeof r=="function"?O=r(N):O=[r,re?"active":null,ae?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(N):l;return S.createElement(i0,{...m,"aria-current":C,className:O,ref:g,style:U,to:c,viewTransition:h},typeof d=="function"?d(N):d)});kM.displayName="NavLink";var MM=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:l,method:c=pf,action:h,onSubmit:d,relative:m,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:w,...A},k)=>{let{unstable_useTransitions:M}=S.useContext(Gi),I=LM(),B=UM(h,{relative:m}),H=c.toLowerCase()==="get"?"get":"post",q=typeof h=="string"&&uA.test(h),le=re=>{if(d&&d(re),re.defaultPrevented)return;re.preventDefault();let ae=re.nativeEvent.submitter,N=ae?.getAttribute("formmethod")||c,C=()=>I(ae||re.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:a,state:l,relative:m,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:w});M&&n!==!1?S.startTransition(()=>C()):C()};return S.createElement("form",{ref:k,method:H,action:B,onSubmit:r?d:le,...A,"data-discover":!q&&t==="render"?"true":void 0})});MM.displayName="Form";function OM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hA(t){let e=S.useContext(oc);return Wt(e,OM(t)),e}function PM(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let m=oh(),g=$a(),v=lh(t,{relative:l});return S.useCallback(w=>{if(dM(w,e)){w.preventDefault();let A=n!==void 0?n:qu(g)===qu(v),k=()=>m(t,{replace:A,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h});d?S.startTransition(()=>k()):k()}},[g,m,v,n,r,e,t,a,l,c,h,d])}var VM=0,jM=()=>`__${String(++VM)}__`;function LM(){let{router:t}=hA("useSubmit"),{basename:e}=S.useContext(Gi),n=nM(),r=t.fetch,a=t.navigate;return S.useCallback(async(l,c={})=>{let{action:h,method:d,encType:m,formData:g,body:v}=pM(l,e);if(c.navigate===!1){let w=c.fetcherKey||jM();await r(w,n,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:v,formMethod:c.method||d,formEncType:c.encType||m,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:v,formMethod:c.method||d,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,e,n])}function UM(t,{relative:e}={}){let{basename:n}=S.useContext(Gi),r=S.useContext(Pr);Wt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...lh(t||".",{relative:e})},c=$a();if(t==null){l.search=c.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let g=h.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Os([n,l.pathname])),qu(l)}function zM(t,{relative:e}={}){let n=S.useContext(tA);Wt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=hA("useViewTransitionState"),a=lh(t,{relative:e});if(!n.isTransitioning)return!1;let l=Ls(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Ls(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Of(a.pathname,c)!=null||Of(a.pathname,l)!=null}var xu=KS();const BM=()=>b.jsx("div",{className:"noise-overlay"}),FM="modulepreload",qM=function(t){return"/"+t},x1={},Wy=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let d=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=c?.nonce||c?.getAttribute("nonce");a=d(n.map(m=>{if(m=qM(m),m in x1)return;x1[m]=!0;const g=m.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":FM,g||(w.as="script"),w.crossOrigin="",w.href=m,h&&w.setAttribute("nonce",h),document.head.appendChild(w),g)return new Promise((A,k)=>{w.addEventListener("load",A),w.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},HM=()=>{};var T1={};const dA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},GM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],h=t[n++],d=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},fA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,h=c?t[a+1]:0,d=a+2<t.length,m=d?t[a+2]:0,g=l>>2,v=(l&3)<<4|h>>4;let w=(h&15)<<2|m>>6,A=m&63;d||(A=64,c||(w=64)),r.push(n[g],n[v],n[w],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||m==null||v==null)throw new $M;const w=l<<2|h>>4;if(r.push(w),m!==64){const A=h<<4&240|m>>2;if(r.push(A),v!==64){const k=m<<6&192|v;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $M extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KM=function(t){const e=dA(t);return fA.encodeByteArray(e,!0)},Pf=function(t){return KM(t).replace(/\./g,"")},mA=function(t){try{return fA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function YM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const XM=()=>YM().__FIREBASE_DEFAULTS__,WM=()=>{if(typeof process>"u"||typeof T1>"u")return;const t=T1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mA(t[1]);return e&&JSON.parse(e)},Am=()=>{try{return HM()||XM()||WM()||QM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pA=t=>Am()?.emulatorHosts?.[t],gA=t=>{const e=pA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yA=()=>Am()?.config,vA=t=>Am()?.[`_${t}`];class JM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function qo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function r0(t){return(await fetch(t,{credentials:"include"})).ok}function bA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Pf(JSON.stringify(n)),Pf(JSON.stringify(c)),""].join(".")}const Ru={};function ZM(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ru))Ru[e]?t.emulator.push(e):t.prod.push(e);return t}function eO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let E1=!1;function s0(t,e){if(typeof window>"u"||typeof document>"u"||!qo(window.location.host)||Ru[t]===e||Ru[t]||E1)return;Ru[t]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",l=ZM().prod.length>0;function c(){const w=document.getElementById(r);w&&w.remove()}function h(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function d(w,A){w.setAttribute("width","24"),w.setAttribute("id",A),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function m(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{E1=!0,c()},w}function g(w,A){w.setAttribute("id",A),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=eO(r),A=n("text"),k=document.getElementById(A)||document.createElement("span"),M=n("learnmore"),I=document.getElementById(M)||document.createElement("a"),B=n("preprendIcon"),H=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const q=w.element;h(q),g(I,M);const le=m();d(H,B),q.append(H,k,I,le),document.body.appendChild(q)}l?(k.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function ci(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ci())}function nO(){const t=Am()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aO(){const t=ci();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oO(){return!nO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lO(){try{return typeof indexedDB=="object"}catch{return!1}}function cO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const uO="FirebaseError";class os extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uO,Object.setPrototypeOf(this,os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ch.prototype.create)}}class ch{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?hO(l,r):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new os(a,h,r)}}function hO(t,e){return t.replace(dO,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const dO=/\{\$([^}]+)}/g;function fO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],c=e[a];if(S1(l)&&S1(c)){if(!jo(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function S1(t){return t!==null&&typeof t=="object"}function uh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mO(t,e){const n=new pO(t,e);return n.subscribe.bind(n)}class pO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");gO(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=cy),a.error===void 0&&(a.error=cy),a.complete===void 0&&(a.complete=cy);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cy(){}function Vn(t){return t&&t._delegate?t._delegate:t}class Va{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ro="[DEFAULT]";class yO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new JM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bO(e))try{this.getOrInitializeService({instanceIdentifier:Ro})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ro){return this.instances.has(e)}getOptions(e=Ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);r===h&&c.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ro){return this.component?this.component.multipleInstances?e:Ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vO(t){return t===Ro?void 0:t}function bO(t){return t.instantiationMode==="EAGER"}class _O{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const wO={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},xO=it.INFO,TO={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},EO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=TO[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class a0{constructor(e){this.name=e,this._logLevel=xO,this._logHandler=EO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const SO=(t,e)=>e.some(n=>t instanceof n);let A1,C1;function AO(){return A1||(A1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CO(){return C1||(C1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _A=new WeakMap,Qy=new WeakMap,wA=new WeakMap,uy=new WeakMap,o0=new WeakMap;function RO(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Da(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&_A.set(n,t)}).catch(()=>{}),o0.set(e,t),e}function IO(t){if(Qy.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Qy.set(t,e)}let Jy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Da(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function NO(t){Jy=t(Jy)}function DO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hy(this),e,...n);return wA.set(r,e.sort?e.sort():[e]),Da(r)}:CO().includes(t)?function(...e){return t.apply(hy(this),e),Da(_A.get(this))}:function(...e){return Da(t.apply(hy(this),e))}}function kO(t){return typeof t=="function"?DO(t):(t instanceof IDBTransaction&&IO(t),SO(t,AO())?new Proxy(t,Jy):t)}function Da(t){if(t instanceof IDBRequest)return RO(t);if(uy.has(t))return uy.get(t);const e=kO(t);return e!==t&&(uy.set(t,e),o0.set(e,t)),e}const hy=t=>o0.get(t);function MO(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),h=Da(c);return r&&c.addEventListener("upgradeneeded",d=>{r(Da(c.result),d.oldVersion,d.newVersion,Da(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const OO=["get","getKey","getAll","getAllKeys","count"],PO=["put","add","delete","clear"],dy=new Map;function R1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dy.get(e))return dy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=PO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||OO.includes(n)))return;const l=async function(c,...h){const d=this.transaction(c,a?"readwrite":"readonly");let m=d.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),a&&d.done]))[0]};return dy.set(e,l),l}NO(t=>({...t,get:(e,n,r)=>R1(e,n)||t.get(e,n,r),has:(e,n)=>!!R1(e,n)||t.has(e,n)}));class VO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function jO(t){return t.getComponent()?.type==="VERSION"}const Zy="@firebase/app",I1="0.14.7";const Us=new a0("@firebase/app"),LO="@firebase/app-compat",UO="@firebase/analytics-compat",zO="@firebase/analytics",BO="@firebase/app-check-compat",FO="@firebase/app-check",qO="@firebase/auth",HO="@firebase/auth-compat",GO="@firebase/database",$O="@firebase/data-connect",KO="@firebase/database-compat",YO="@firebase/functions",XO="@firebase/functions-compat",WO="@firebase/installations",QO="@firebase/installations-compat",JO="@firebase/messaging",ZO="@firebase/messaging-compat",eP="@firebase/performance",tP="@firebase/performance-compat",nP="@firebase/remote-config",iP="@firebase/remote-config-compat",rP="@firebase/storage",sP="@firebase/storage-compat",aP="@firebase/firestore",oP="@firebase/ai",lP="@firebase/firestore-compat",cP="firebase",uP="12.8.0";const ev="[DEFAULT]",hP={[Zy]:"fire-core",[LO]:"fire-core-compat",[zO]:"fire-analytics",[UO]:"fire-analytics-compat",[FO]:"fire-app-check",[BO]:"fire-app-check-compat",[qO]:"fire-auth",[HO]:"fire-auth-compat",[GO]:"fire-rtdb",[$O]:"fire-data-connect",[KO]:"fire-rtdb-compat",[YO]:"fire-fn",[XO]:"fire-fn-compat",[WO]:"fire-iid",[QO]:"fire-iid-compat",[JO]:"fire-fcm",[ZO]:"fire-fcm-compat",[eP]:"fire-perf",[tP]:"fire-perf-compat",[nP]:"fire-rc",[iP]:"fire-rc-compat",[rP]:"fire-gcs",[sP]:"fire-gcs-compat",[aP]:"fire-fst",[lP]:"fire-fst-compat",[oP]:"fire-vertex","fire-js":"fire-js",[cP]:"fire-js-all"};const Vf=new Map,dP=new Map,tv=new Map;function N1(t,e){try{t.container.addComponent(e)}catch(n){Us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Lo(t){const e=t.name;if(tv.has(e))return Us.debug(`There were multiple attempts to register component ${e}.`),!1;tv.set(e,t);for(const n of Vf.values())N1(n,t);for(const n of dP.values())N1(n,t);return!0}function Cm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function lr(t){return t==null?!1:t.settings!==void 0}const fP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ka=new ch("app","Firebase",fP);class mP{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ka.create("app-deleted",{appName:this._name})}}const Ho=uP;function xA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:ev,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw ka.create("bad-app-name",{appName:String(a)});if(n||(n=yA()),!n)throw ka.create("no-options");const l=Vf.get(a);if(l){if(jo(n,l.options)&&jo(r,l.config))return l;throw ka.create("duplicate-app",{appName:a})}const c=new _O(a);for(const d of tv.values())c.addComponent(d);const h=new mP(n,r,c);return Vf.set(a,h),h}function l0(t=ev){const e=Vf.get(t);if(!e&&t===ev&&yA())return xA();if(!e)throw ka.create("no-app",{appName:t});return e}function Qr(t,e,n){let r=hP[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Us.warn(c.join(" "));return}Lo(new Va(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const pP="firebase-heartbeat-database",gP=1,Hu="firebase-heartbeat-store";let fy=null;function TA(){return fy||(fy=MO(pP,gP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ka.create("idb-open",{originalErrorMessage:t.message})})),fy}async function yP(t){try{const n=(await TA()).transaction(Hu),r=await n.objectStore(Hu).get(EA(t));return await n.done,r}catch(e){if(e instanceof os)Us.warn(e.message);else{const n=ka.create("idb-get",{originalErrorMessage:e?.message});Us.warn(n.message)}}}async function D1(t,e){try{const r=(await TA()).transaction(Hu,"readwrite");await r.objectStore(Hu).put(e,EA(t)),await r.done}catch(n){if(n instanceof os)Us.warn(n.message);else{const r=ka.create("idb-set",{originalErrorMessage:n?.message});Us.warn(r.message)}}}function EA(t){return`${t.name}!${t.options.appId}`}const vP=1024,bP=30;class _P{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=k1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>bP){const a=TP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Us.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=k1(),{heartbeatsToSend:n,unsentEntries:r}=wP(this._heartbeatsCache.heartbeats),a=Pf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Us.warn(e),""}}}function k1(){return new Date().toISOString().substring(0,10)}function wP(t,e=vP){const n=[];let r=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),M1(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),M1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lO()?cO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return D1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return D1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function M1(t){return Pf(JSON.stringify({version:2,heartbeats:t})).length}function TP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function EP(t){Lo(new Va("platform-logger",e=>new VO(e),"PRIVATE")),Lo(new Va("heartbeat",e=>new _P(e),"PRIVATE")),Qr(Zy,I1,t),Qr(Zy,I1,"esm2020"),Qr("fire-js","")}EP("");var SP="firebase",AP="12.8.0";Qr(SP,AP,"app");function SA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CP=SA,AA=new ch("auth","Firebase",SA());const jf=new a0("@firebase/auth");function RP(t,...e){jf.logLevel<=it.WARN&&jf.warn(`Auth (${Ho}): ${t}`,...e)}function yf(t,...e){jf.logLevel<=it.ERROR&&jf.error(`Auth (${Ho}): ${t}`,...e)}function ns(t,...e){throw u0(t,...e)}function Nr(t,...e){return u0(t,...e)}function c0(t,e,n){const r={...CP(),[e]:n};return new ch("auth","Firebase",r).create(e,{appName:t.name})}function Po(t){return c0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IP(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ns(t,"argument-error"),c0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function u0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AA.create(t,...e)}function je(t,e,...n){if(!t)throw u0(e,...n)}function ks(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yf(e),new Error(e)}function zs(t,e){t||ks(e)}function nv(){return typeof self<"u"&&self.location?.href||""}function NP(){return O1()==="http:"||O1()==="https:"}function O1(){return typeof self<"u"&&self.location?.protocol||null}function DP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NP()||rO()||"connection"in navigator)?navigator.onLine:!0}function kP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class hh{constructor(e,n){this.shortDelay=e,this.longDelay=n,zs(n>e,"Short delay should be less than long delay!"),this.isMobile=tO()||sO()}get(){return DP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function h0(t,e){zs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class CA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const MP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const OP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PP=new hh(3e4,6e4);function d0(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function cc(t,e,n,r,a={}){return RA(t,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const h=uh({key:t.config.apiKey,...c}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:d,...l};return iO()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&qo(t.emulatorConfig.host)&&(m.credentials="include"),CA.fetch()(await IA(t,t.config.apiHost,n,h),m)})}async function RA(t,e,n){t._canInitEmulator=!1;const r={...MP,...e};try{const a=new jP(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw ef(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw ef(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw ef(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw ef(t,"user-disabled",c);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw c0(t,g,m);ns(t,g)}}catch(a){if(a instanceof os)throw a;ns(t,"network-request-failed",{message:String(a)})}}async function VP(t,e,n,r,a={}){const l=await cc(t,e,n,r,a);return"mfaPendingCredential"in l&&ns(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function IA(t,e,n,r){const a=`${e}${n}?${r}`,l=t,c=l.config.emulator?h0(t.config,a):`${t.config.apiScheme}://${a}`;return OP.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class jP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Nr(this.auth,"network-request-failed")),PP.get())})}}function ef(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Nr(t,e,r);return a.customData._tokenResponse=n,a}async function LP(t,e){return cc(t,"POST","/v1/accounts:delete",e)}async function Lf(t,e){return cc(t,"POST","/v1/accounts:lookup",e)}function Iu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UP(t,e=!1){const n=Vn(t),r=await n.getIdToken(e),a=f0(r);je(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:r,authTime:Iu(my(a.auth_time)),issuedAtTime:Iu(my(a.iat)),expirationTime:Iu(my(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function my(t){return Number(t)*1e3}function f0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yf("JWT malformed, contained fewer than 3 sections"),null;try{const a=mA(n);return a?JSON.parse(a):(yf("Failed to decode base64 JWT payload"),null)}catch(a){return yf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function P1(t){const e=f0(t);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Gu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof os&&zP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function zP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class BP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class iv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Iu(this.lastLoginAt),this.creationTime=Iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Uf(t){const e=t.auth,n=await t.getIdToken(),r=await Gu(t,Lf(e,{idToken:n}));je(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?NA(a.providerUserInfo):[],c=qP(t.providerData,l),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!c?.length,m=h?d:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new iv(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function FP(t){const e=Vn(t);await Uf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qP(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function NA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function HP(t,e){const n=await RA(t,{},async()=>{const r=uh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await IA(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return t.emulatorConfig&&qo(t.emulatorConfig.host)&&(d.credentials="include"),CA.fetch()(c,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function GP(t,e){return cc(t,"POST","/v2/accounts:revokeToken",d0(t,e))}class ql{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):P1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){je(e.length!==0,"internal-error");const n=P1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await HP(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,c=new ql;return r&&(je(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(je(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(je(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ql,this.toJSON())}_performRefresh(){return ks("not implemented")}}function wa(t,e){je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Cr{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new BP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new iv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Gu(this,this.stsTokenManager.getToken(this.auth,e));return je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return UP(this,e)}reload(){return FP(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Cr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Uf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(lr(this.auth.app))return Promise.reject(Po(this.auth));const e=await this.getIdToken();return await Gu(this,LP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,m=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:v,emailVerified:w,isAnonymous:A,providerData:k,stsTokenManager:M}=n;je(v&&M,e,"internal-error");const I=ql.fromJSON(this.name,M);je(typeof v=="string",e,"internal-error"),wa(r,e.name),wa(a,e.name),je(typeof w=="boolean",e,"internal-error"),je(typeof A=="boolean",e,"internal-error"),wa(l,e.name),wa(c,e.name),wa(h,e.name),wa(d,e.name),wa(m,e.name),wa(g,e.name);const B=new Cr({uid:v,auth:e,email:a,emailVerified:w,displayName:r,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:h,stsTokenManager:I,createdAt:m,lastLoginAt:g});return k&&Array.isArray(k)&&(B.providerData=k.map(H=>({...H}))),d&&(B._redirectEventId=d),B}static async _fromIdTokenResponse(e,n,r=!1){const a=new ql;a.updateFromServerResponse(n);const l=new Cr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Uf(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];je(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?NA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,h=new ql;h.updateFromIdToken(r);const d=new Cr({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new iv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,m),d}}const V1=new Map;function Ms(t){zs(t instanceof Function,"Expected a class definition");let e=V1.get(t);return e?(zs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,V1.set(t,e),e)}class DA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}DA.type="NONE";const j1=DA;function vf(t,e,n){return`firebase:${t}:${e}:${n}`}class Hl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=vf(this.userKey,a.apiKey,l),this.fullPersistenceKey=vf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Lf(this.auth,{idToken:e}).catch(()=>{});return n?Cr._fromGetAccountInfoResponse(this.auth,n,e):null}return Cr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Hl(Ms(j1),e,r);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Ms(j1);const c=vf(r,e.config.apiKey,e.name);let h=null;for(const m of n)try{const g=await m._get(c);if(g){let v;if(typeof g=="string"){const w=await Lf(e,{idToken:g}).catch(()=>{});if(!w)break;v=await Cr._fromGetAccountInfoResponse(e,w,g)}else v=Cr._fromJSON(e,g);m!==l&&(h=v),l=m;break}}catch{}const d=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new Hl(l,e,r):(l=d[0],h&&await l._set(c,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new Hl(l,e,r))}}function L1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jA(e))return"Blackberry";if(LA(e))return"Webos";if(MA(e))return"Safari";if((e.includes("chrome/")||OA(e))&&!e.includes("edge/"))return"Chrome";if(VA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function kA(t=ci()){return/firefox\//i.test(t)}function MA(t=ci()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OA(t=ci()){return/crios\//i.test(t)}function PA(t=ci()){return/iemobile/i.test(t)}function VA(t=ci()){return/android/i.test(t)}function jA(t=ci()){return/blackberry/i.test(t)}function LA(t=ci()){return/webos/i.test(t)}function m0(t=ci()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $P(t=ci()){return m0(t)&&!!window.navigator?.standalone}function KP(){return aO()&&document.documentMode===10}function UA(t=ci()){return m0(t)||VA(t)||LA(t)||jA(t)||/windows phone/i.test(t)||PA(t)}function zA(t,e=[]){let n;switch(t){case"Browser":n=L1(ci());break;case"Worker":n=`${L1(ci())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ho}/${r}`}class YP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((c,h)=>{try{const d=e(l);c(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function XP(t,e={}){return cc(t,"GET","/v2/passwordPolicy",d0(t,e))}const WP=6;class QP{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??WP,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class JP{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new U1(this),this.idTokenSubscription=new U1(this),this.beforeStateQueue=new YP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ms(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Hl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Lf(this,{idToken:e}),r=await Cr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(lr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Uf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(lr(this.app))return Promise.reject(Po(this));const n=e?Vn(e):null;return n&&je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return lr(this.app)?Promise.reject(Po(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return lr(this.app)?Promise.reject(Po(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ms(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XP(this),n=new QP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ch("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await GP(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ms(e)||this._popupRedirectResolver;je(n,this,"argument-error"),this.redirectPersistenceManager=await Hl.create(this,[Ms(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&RP(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Rm(t){return Vn(t)}class U1{constructor(e){this.auth=e,this.observer=null,this.addObserver=mO(n=>this.observer=n)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let p0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZP(t){p0=t}function eV(t){return p0.loadJS(t)}function tV(){return p0.gapiScript}function nV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function iV(t,e){const n=Cm(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(jo(l,e??{}))return a;ns(a,"already-initialized")}return n.initialize({options:e})}function rV(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ms);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function sV(t,e,n){const r=Rm(t);je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=BA(e),{host:c,port:h}=aV(e),d=h===null?"":`:${h}`,m={url:`${l}//${c}${d}/`},g=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),je(jo(m,r.config.emulator)&&jo(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,qo(c)?(r0(`${l}//${c}${d}`),s0("Auth",!0)):oV()}function BA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aV(t){const e=BA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:z1(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:z1(c)}}}function z1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function oV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class FA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ks("not implemented")}_getIdTokenResponse(e){return ks("not implemented")}_linkToIdToken(e,n){return ks("not implemented")}_getReauthenticationResolver(e){return ks("not implemented")}}async function Gl(t,e){return VP(t,"POST","/v1/accounts:signInWithIdp",d0(t,e))}const lV="http://localhost";class Uo extends FA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Uo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ns("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=n;if(!r||!a)return null;const c=new Uo(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Gl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Gl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Gl(e,n)}buildRequest(){const e={requestUri:lV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uh(n)}return e}}class g0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class dh extends g0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Aa extends dh{constructor(){super("facebook.com")}static credential(e){return Uo._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Aa.credential(e.oauthAccessToken)}catch{return null}}}Aa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Aa.PROVIDER_ID="facebook.com";class Ds extends dh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Uo._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ds.credential(n,r)}catch{return null}}}Ds.GOOGLE_SIGN_IN_METHOD="google.com";Ds.PROVIDER_ID="google.com";class Ca extends dh{constructor(){super("github.com")}static credential(e){return Uo._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ca.credential(e.oauthAccessToken)}catch{return null}}}Ca.GITHUB_SIGN_IN_METHOD="github.com";Ca.PROVIDER_ID="github.com";class Ra extends dh{constructor(){super("twitter.com")}static credential(e,n){return Uo._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ra.credential(n,r)}catch{return null}}}Ra.TWITTER_SIGN_IN_METHOD="twitter.com";Ra.PROVIDER_ID="twitter.com";class Ql{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await Cr._fromIdTokenResponse(e,r,a),c=B1(r);return new Ql({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=B1(r);return new Ql({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function B1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class zf extends os{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,zf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new zf(e,n,r,a)}}function qA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?zf._fromErrorAndOperation(t,l,e,r):l})}async function cV(t,e,n=!1){const r=await Gu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ql._forOperation(t,"link",r)}async function uV(t,e,n=!1){const{auth:r}=t;if(lr(r.app))return Promise.reject(Po(r));const a="reauthenticate";try{const l=await Gu(t,qA(r,a,e,t),n);je(l.idToken,r,"internal-error");const c=f0(l.idToken);je(c,r,"internal-error");const{sub:h}=c;return je(t.uid===h,r,"user-mismatch"),Ql._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ns(r,"user-mismatch"),l}}async function hV(t,e,n=!1){if(lr(t.app))return Promise.reject(Po(t));const r="signIn",a=await qA(t,r,e),l=await Ql._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}function dV(t,e,n,r){return Vn(t).onIdTokenChanged(e,n,r)}function fV(t,e,n){return Vn(t).beforeAuthStateChanged(e,n)}function mV(t,e,n,r){return Vn(t).onAuthStateChanged(e,n,r)}function pV(t){return Vn(t).signOut()}const Bf="__sak";class HA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bf,"1"),this.storage.removeItem(Bf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const gV=1e3,yV=10;class GA extends HA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);KP()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,yV):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},gV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}GA.type="LOCAL";const vV=GA;class $A extends HA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$A.type="SESSION";const KA=$A;function bV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Im{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Im(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(c).map(async m=>m(n.origin,l)),d=await bV(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Im.receivers=[];function y0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class _V{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,d)=>{const m=y0("",20);a.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(v){const w=v;if(w.data.eventId===m)switch(w.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(w.data.response);break;default:clearTimeout(g),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Jr(){return window}function wV(t){Jr().location.href=t}function YA(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function xV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TV(){return navigator?.serviceWorker?.controller||null}function EV(){return YA()?self:null}const XA="firebaseLocalStorageDb",SV=1,Ff="firebaseLocalStorage",WA="fbase_key";class fh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nm(t,e){return t.transaction([Ff],e?"readwrite":"readonly").objectStore(Ff)}function AV(){const t=indexedDB.deleteDatabase(XA);return new fh(t).toPromise()}function rv(){const t=indexedDB.open(XA,SV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ff,{keyPath:WA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ff)?e(r):(r.close(),await AV(),e(await rv()))})})}async function F1(t,e,n){const r=Nm(t,!0).put({[WA]:e,value:n});return new fh(r).toPromise()}async function CV(t,e){const n=Nm(t,!1).get(e),r=await new fh(n).toPromise();return r===void 0?null:r.value}function q1(t,e){const n=Nm(t,!0).delete(e);return new fh(n).toPromise()}const RV=800,IV=3;class QA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>IV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Im._getInstance(EV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await xV(),!this.activeServiceWorker)return;this.sender=new _V(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rv();return await F1(e,Bf,"1"),await q1(e,Bf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>F1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>CV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>q1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Nm(a,!1).getAll();return new fh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QA.type="LOCAL";const NV=QA;new hh(3e4,6e4);function JA(t,e){return e?Ms(e):(je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class v0 extends FA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Gl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Gl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function DV(t){return hV(t.auth,new v0(t),t.bypassAuthState)}function kV(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),uV(n,new v0(t),t.bypassAuthState)}async function MV(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),cV(n,new v0(t),t.bypassAuthState)}class ZA{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DV;case"linkViaPopup":case"linkViaRedirect":return MV;case"reauthViaPopup":case"reauthViaRedirect":return kV;default:ns(this.auth,"internal-error")}}resolve(e){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const OV=new hh(2e3,1e4);async function PV(t,e,n){if(lr(t.app))return Promise.reject(Nr(t,"operation-not-supported-in-this-environment"));const r=Rm(t);IP(t,e,g0);const a=JA(r,n);return new No(r,"signInViaPopup",e,a).executeNotNull()}class No extends ZA{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,No.currentPopupAction&&No.currentPopupAction.cancel(),No.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){zs(this.filter.length===1,"Popup operations only handle one event");const e=y0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,No.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OV.get())};e()}}No.currentPopupAction=null;const VV="pendingRedirect",bf=new Map;class jV extends ZA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bf.get(this.auth._key());if(!e){try{const r=await LV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bf.set(this.auth._key(),e)}return this.bypassAuthState||bf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LV(t,e){const n=BV(e),r=zV(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function UV(t,e){bf.set(t._key(),e)}function zV(t){return Ms(t._redirectPersistence)}function BV(t){return vf(VV,t.config.apiKey,t.name)}async function FV(t,e,n=!1){if(lr(t.app))return Promise.reject(Po(t));const r=Rm(t),a=JA(r,e),c=await new jV(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const qV=600*1e3;class HV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!eC(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Nr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qV&&this.cachedEventUids.clear(),this.cachedEventUids.has(H1(e))}saveEventToCache(e){this.cachedEventUids.add(H1(e)),this.lastProcessedEventTime=Date.now()}}function H1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function GV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eC(t);default:return!1}}async function $V(t,e={}){return cc(t,"GET","/v1/projects",e)}const KV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YV=/^https?/;async function XV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $V(t);for(const n of e)try{if(WV(n))return}catch{}ns(t,"unauthorized-domain")}function WV(t){const e=nv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!YV.test(n))return!1;if(KV.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const QV=new hh(3e4,6e4);function G1(){const t=Jr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function JV(t){return new Promise((e,n)=>{function r(){G1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{G1(),n(Nr(t,"network-request-failed"))},timeout:QV.get()})}if(Jr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Jr().gapi?.load)r();else{const a=nV("iframefcb");return Jr()[a]=()=>{gapi.load?r():n(Nr(t,"network-request-failed"))},eV(`${tV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw _f=null,e})}let _f=null;function ZV(t){return _f=_f||JV(t),_f}const e4=new hh(5e3,15e3),t4="__/auth/iframe",n4="emulator/auth/iframe",i4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},r4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s4(t){const e=t.config;je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?h0(e,n4):`https://${t.config.authDomain}/${t4}`,r={apiKey:e.apiKey,appName:t.name,v:Ho},a=r4.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${uh(r).slice(1)}`}async function a4(t){const e=await ZV(t),n=Jr().gapi;return je(n,t,"internal-error"),e.open({where:document.body,url:s4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:i4,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=Nr(t,"network-request-failed"),h=Jr().setTimeout(()=>{l(c)},e4.get());function d(){Jr().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{l(c)})}))}const o4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},l4=500,c4=600,u4="_blank",h4="http://localhost";class $1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function d4(t,e,n,r=l4,a=c4){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d={...o4,width:r.toString(),height:a.toString(),top:l,left:c},m=ci().toLowerCase();n&&(h=OA(m)?u4:n),kA(m)&&(e=e||h4,d.scrollbars="yes");const g=Object.entries(d).reduce((w,[A,k])=>`${w}${A}=${k},`,"");if($P(m)&&h!=="_self")return f4(e||"",h),new $1(null);const v=window.open(e||"",h,g);je(v,t,"popup-blocked");try{v.focus()}catch{}return new $1(v)}function f4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const m4="__/auth/handler",p4="emulator/auth/handler",g4=encodeURIComponent("fac");async function K1(t,e,n,r,a,l){je(t.config.authDomain,t,"auth-domain-config-required"),je(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ho,eventId:a};if(e instanceof g0){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",fO(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))c[g]=v}if(e instanceof dh){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),m=d?`#${g4}=${encodeURIComponent(d)}`:"";return`${y4(t)}?${uh(h).slice(1)}${m}`}function y4({config:t}){return t.emulator?h0(t,p4):`https://${t.authDomain}/${m4}`}const py="webStorageSupport";class v4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KA,this._completeRedirectFn=FV,this._overrideRedirectResult=UV}async _openPopup(e,n,r,a){zs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await K1(e,n,r,nv(),a);return d4(e,l,y0())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await K1(e,n,r,nv(),a);return wV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(zs(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await a4(e),r=new HV(e);return n.register("authEvent",a=>(je(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(py,{type:py},a=>{const l=a?.[0]?.[py];l!==void 0&&n(!!l),ns(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return UA()||MA()||m0()}}const b4=v4;var Y1="@firebase/auth",X1="1.12.0";class _4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function w4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function x4(t){Lo(new Va("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;je(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zA(t)},m=new JP(r,a,l,d);return rV(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Lo(new Va("auth-internal",e=>{const n=Rm(e.getProvider("auth").getImmediate());return(r=>new _4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qr(Y1,X1,w4(t)),Qr(Y1,X1,"esm2020")}const T4=300,E4=vA("authIdTokenMaxAge")||T4;let W1=null;const S4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>E4)return;const a=n?.token;W1!==a&&(W1=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function A4(t=l0()){const e=Cm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=iV(t,{popupRedirectResolver:b4,persistence:[NV,vV,KA]}),r=vA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=S4(l.toString());fV(n,c,()=>c(n.currentUser)),dV(n,h=>c(h))}}const a=pA("auth");return a&&sV(n,`http://${a}`),n}function C4(){return document.getElementsByTagName("head")?.[0]??document}ZP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=Nr("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",C4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});x4("Browser");var Q1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ma,tC;(function(){var t;function e(N,C){function O(){}O.prototype=C.prototype,N.F=C.prototype,N.prototype=new O,N.prototype.constructor=N,N.D=function(U,z,V){for(var P=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)P[ve-2]=arguments[ve];return C.prototype[z].apply(U,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,C,O){O||(O=0);const U=Array(16);if(typeof C=="string")for(var z=0;z<16;++z)U[z]=C.charCodeAt(O++)|C.charCodeAt(O++)<<8|C.charCodeAt(O++)<<16|C.charCodeAt(O++)<<24;else for(z=0;z<16;++z)U[z]=C[O++]|C[O++]<<8|C[O++]<<16|C[O++]<<24;C=N.g[0],O=N.g[1],z=N.g[2];let V=N.g[3],P;P=C+(V^O&(z^V))+U[0]+3614090360&4294967295,C=O+(P<<7&4294967295|P>>>25),P=V+(z^C&(O^z))+U[1]+3905402710&4294967295,V=C+(P<<12&4294967295|P>>>20),P=z+(O^V&(C^O))+U[2]+606105819&4294967295,z=V+(P<<17&4294967295|P>>>15),P=O+(C^z&(V^C))+U[3]+3250441966&4294967295,O=z+(P<<22&4294967295|P>>>10),P=C+(V^O&(z^V))+U[4]+4118548399&4294967295,C=O+(P<<7&4294967295|P>>>25),P=V+(z^C&(O^z))+U[5]+1200080426&4294967295,V=C+(P<<12&4294967295|P>>>20),P=z+(O^V&(C^O))+U[6]+2821735955&4294967295,z=V+(P<<17&4294967295|P>>>15),P=O+(C^z&(V^C))+U[7]+4249261313&4294967295,O=z+(P<<22&4294967295|P>>>10),P=C+(V^O&(z^V))+U[8]+1770035416&4294967295,C=O+(P<<7&4294967295|P>>>25),P=V+(z^C&(O^z))+U[9]+2336552879&4294967295,V=C+(P<<12&4294967295|P>>>20),P=z+(O^V&(C^O))+U[10]+4294925233&4294967295,z=V+(P<<17&4294967295|P>>>15),P=O+(C^z&(V^C))+U[11]+2304563134&4294967295,O=z+(P<<22&4294967295|P>>>10),P=C+(V^O&(z^V))+U[12]+1804603682&4294967295,C=O+(P<<7&4294967295|P>>>25),P=V+(z^C&(O^z))+U[13]+4254626195&4294967295,V=C+(P<<12&4294967295|P>>>20),P=z+(O^V&(C^O))+U[14]+2792965006&4294967295,z=V+(P<<17&4294967295|P>>>15),P=O+(C^z&(V^C))+U[15]+1236535329&4294967295,O=z+(P<<22&4294967295|P>>>10),P=C+(z^V&(O^z))+U[1]+4129170786&4294967295,C=O+(P<<5&4294967295|P>>>27),P=V+(O^z&(C^O))+U[6]+3225465664&4294967295,V=C+(P<<9&4294967295|P>>>23),P=z+(C^O&(V^C))+U[11]+643717713&4294967295,z=V+(P<<14&4294967295|P>>>18),P=O+(V^C&(z^V))+U[0]+3921069994&4294967295,O=z+(P<<20&4294967295|P>>>12),P=C+(z^V&(O^z))+U[5]+3593408605&4294967295,C=O+(P<<5&4294967295|P>>>27),P=V+(O^z&(C^O))+U[10]+38016083&4294967295,V=C+(P<<9&4294967295|P>>>23),P=z+(C^O&(V^C))+U[15]+3634488961&4294967295,z=V+(P<<14&4294967295|P>>>18),P=O+(V^C&(z^V))+U[4]+3889429448&4294967295,O=z+(P<<20&4294967295|P>>>12),P=C+(z^V&(O^z))+U[9]+568446438&4294967295,C=O+(P<<5&4294967295|P>>>27),P=V+(O^z&(C^O))+U[14]+3275163606&4294967295,V=C+(P<<9&4294967295|P>>>23),P=z+(C^O&(V^C))+U[3]+4107603335&4294967295,z=V+(P<<14&4294967295|P>>>18),P=O+(V^C&(z^V))+U[8]+1163531501&4294967295,O=z+(P<<20&4294967295|P>>>12),P=C+(z^V&(O^z))+U[13]+2850285829&4294967295,C=O+(P<<5&4294967295|P>>>27),P=V+(O^z&(C^O))+U[2]+4243563512&4294967295,V=C+(P<<9&4294967295|P>>>23),P=z+(C^O&(V^C))+U[7]+1735328473&4294967295,z=V+(P<<14&4294967295|P>>>18),P=O+(V^C&(z^V))+U[12]+2368359562&4294967295,O=z+(P<<20&4294967295|P>>>12),P=C+(O^z^V)+U[5]+4294588738&4294967295,C=O+(P<<4&4294967295|P>>>28),P=V+(C^O^z)+U[8]+2272392833&4294967295,V=C+(P<<11&4294967295|P>>>21),P=z+(V^C^O)+U[11]+1839030562&4294967295,z=V+(P<<16&4294967295|P>>>16),P=O+(z^V^C)+U[14]+4259657740&4294967295,O=z+(P<<23&4294967295|P>>>9),P=C+(O^z^V)+U[1]+2763975236&4294967295,C=O+(P<<4&4294967295|P>>>28),P=V+(C^O^z)+U[4]+1272893353&4294967295,V=C+(P<<11&4294967295|P>>>21),P=z+(V^C^O)+U[7]+4139469664&4294967295,z=V+(P<<16&4294967295|P>>>16),P=O+(z^V^C)+U[10]+3200236656&4294967295,O=z+(P<<23&4294967295|P>>>9),P=C+(O^z^V)+U[13]+681279174&4294967295,C=O+(P<<4&4294967295|P>>>28),P=V+(C^O^z)+U[0]+3936430074&4294967295,V=C+(P<<11&4294967295|P>>>21),P=z+(V^C^O)+U[3]+3572445317&4294967295,z=V+(P<<16&4294967295|P>>>16),P=O+(z^V^C)+U[6]+76029189&4294967295,O=z+(P<<23&4294967295|P>>>9),P=C+(O^z^V)+U[9]+3654602809&4294967295,C=O+(P<<4&4294967295|P>>>28),P=V+(C^O^z)+U[12]+3873151461&4294967295,V=C+(P<<11&4294967295|P>>>21),P=z+(V^C^O)+U[15]+530742520&4294967295,z=V+(P<<16&4294967295|P>>>16),P=O+(z^V^C)+U[2]+3299628645&4294967295,O=z+(P<<23&4294967295|P>>>9),P=C+(z^(O|~V))+U[0]+4096336452&4294967295,C=O+(P<<6&4294967295|P>>>26),P=V+(O^(C|~z))+U[7]+1126891415&4294967295,V=C+(P<<10&4294967295|P>>>22),P=z+(C^(V|~O))+U[14]+2878612391&4294967295,z=V+(P<<15&4294967295|P>>>17),P=O+(V^(z|~C))+U[5]+4237533241&4294967295,O=z+(P<<21&4294967295|P>>>11),P=C+(z^(O|~V))+U[12]+1700485571&4294967295,C=O+(P<<6&4294967295|P>>>26),P=V+(O^(C|~z))+U[3]+2399980690&4294967295,V=C+(P<<10&4294967295|P>>>22),P=z+(C^(V|~O))+U[10]+4293915773&4294967295,z=V+(P<<15&4294967295|P>>>17),P=O+(V^(z|~C))+U[1]+2240044497&4294967295,O=z+(P<<21&4294967295|P>>>11),P=C+(z^(O|~V))+U[8]+1873313359&4294967295,C=O+(P<<6&4294967295|P>>>26),P=V+(O^(C|~z))+U[15]+4264355552&4294967295,V=C+(P<<10&4294967295|P>>>22),P=z+(C^(V|~O))+U[6]+2734768916&4294967295,z=V+(P<<15&4294967295|P>>>17),P=O+(V^(z|~C))+U[13]+1309151649&4294967295,O=z+(P<<21&4294967295|P>>>11),P=C+(z^(O|~V))+U[4]+4149444226&4294967295,C=O+(P<<6&4294967295|P>>>26),P=V+(O^(C|~z))+U[11]+3174756917&4294967295,V=C+(P<<10&4294967295|P>>>22),P=z+(C^(V|~O))+U[2]+718787259&4294967295,z=V+(P<<15&4294967295|P>>>17),P=O+(V^(z|~C))+U[9]+3951481745&4294967295,N.g[0]=N.g[0]+C&4294967295,N.g[1]=N.g[1]+(z+(P<<21&4294967295|P>>>11))&4294967295,N.g[2]=N.g[2]+z&4294967295,N.g[3]=N.g[3]+V&4294967295}r.prototype.v=function(N,C){C===void 0&&(C=N.length);const O=C-this.blockSize,U=this.C;let z=this.h,V=0;for(;V<C;){if(z==0)for(;V<=O;)a(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<C;)if(U[z++]=N.charCodeAt(V++),z==this.blockSize){a(this,U),z=0;break}}else for(;V<C;)if(U[z++]=N[V++],z==this.blockSize){a(this,U),z=0;break}}this.h=z,this.o+=C},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var C=1;C<N.length-8;++C)N[C]=0;C=this.o*8;for(var O=N.length-8;O<N.length;++O)N[O]=C&255,C/=256;for(this.v(N),N=Array(16),C=0,O=0;O<4;++O)for(let U=0;U<32;U+=8)N[C++]=this.g[O]>>>U&255;return N};function l(N,C){var O=h;return Object.prototype.hasOwnProperty.call(O,N)?O[N]:O[N]=C(N)}function c(N,C){this.h=C;const O=[];let U=!0;for(let z=N.length-1;z>=0;z--){const V=N[z]|0;U&&V==C||(O[z]=V,U=!1)}this.g=O}var h={};function d(N){return-128<=N&&N<128?l(N,function(C){return new c([C|0],C<0?-1:0)}):new c([N|0],N<0?-1:0)}function m(N){if(isNaN(N)||!isFinite(N))return v;if(N<0)return I(m(-N));const C=[];let O=1;for(let U=0;N>=O;U++)C[U]=N/O|0,O*=4294967296;return new c(C,0)}function g(N,C){if(N.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(N.charAt(0)=="-")return I(g(N.substring(1),C));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=m(Math.pow(C,8));let U=v;for(let V=0;V<N.length;V+=8){var z=Math.min(8,N.length-V);const P=parseInt(N.substring(V,V+z),C);z<8?(z=m(Math.pow(C,z)),U=U.j(z).add(m(P))):(U=U.j(O),U=U.add(m(P)))}return U}var v=d(0),w=d(1),A=d(16777216);t=c.prototype,t.m=function(){if(M(this))return-I(this).m();let N=0,C=1;for(let O=0;O<this.g.length;O++){const U=this.i(O);N+=(U>=0?U:4294967296+U)*C,C*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(k(this))return"0";if(M(this))return"-"+I(this).toString(N);const C=m(Math.pow(N,6));var O=this;let U="";for(;;){const z=le(O,C).g;O=B(O,z.j(C));let V=((O.g.length>0?O.g[0]:O.h)>>>0).toString(N);if(O=z,k(O))return V+U;for(;V.length<6;)V="0"+V;U=V+U}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function k(N){if(N.h!=0)return!1;for(let C=0;C<N.g.length;C++)if(N.g[C]!=0)return!1;return!0}function M(N){return N.h==-1}t.l=function(N){return N=B(this,N),M(N)?-1:k(N)?0:1};function I(N){const C=N.g.length,O=[];for(let U=0;U<C;U++)O[U]=~N.g[U];return new c(O,~N.h).add(w)}t.abs=function(){return M(this)?I(this):this},t.add=function(N){const C=Math.max(this.g.length,N.g.length),O=[];let U=0;for(let z=0;z<=C;z++){let V=U+(this.i(z)&65535)+(N.i(z)&65535),P=(V>>>16)+(this.i(z)>>>16)+(N.i(z)>>>16);U=P>>>16,V&=65535,P&=65535,O[z]=P<<16|V}return new c(O,O[O.length-1]&-2147483648?-1:0)};function B(N,C){return N.add(I(C))}t.j=function(N){if(k(this)||k(N))return v;if(M(this))return M(N)?I(this).j(I(N)):I(I(this).j(N));if(M(N))return I(this.j(I(N)));if(this.l(A)<0&&N.l(A)<0)return m(this.m()*N.m());const C=this.g.length+N.g.length,O=[];for(var U=0;U<2*C;U++)O[U]=0;for(U=0;U<this.g.length;U++)for(let z=0;z<N.g.length;z++){const V=this.i(U)>>>16,P=this.i(U)&65535,ve=N.i(z)>>>16,be=N.i(z)&65535;O[2*U+2*z]+=P*be,H(O,2*U+2*z),O[2*U+2*z+1]+=V*be,H(O,2*U+2*z+1),O[2*U+2*z+1]+=P*ve,H(O,2*U+2*z+1),O[2*U+2*z+2]+=V*ve,H(O,2*U+2*z+2)}for(N=0;N<C;N++)O[N]=O[2*N+1]<<16|O[2*N];for(N=C;N<2*C;N++)O[N]=0;return new c(O,0)};function H(N,C){for(;(N[C]&65535)!=N[C];)N[C+1]+=N[C]>>>16,N[C]&=65535,C++}function q(N,C){this.g=N,this.h=C}function le(N,C){if(k(C))throw Error("division by zero");if(k(N))return new q(v,v);if(M(N))return C=le(I(N),C),new q(I(C.g),I(C.h));if(M(C))return C=le(N,I(C)),new q(I(C.g),C.h);if(N.g.length>30){if(M(N)||M(C))throw Error("slowDivide_ only works with positive integers.");for(var O=w,U=C;U.l(N)<=0;)O=re(O),U=re(U);var z=ae(O,1),V=ae(U,1);for(U=ae(U,2),O=ae(O,2);!k(U);){var P=V.add(U);P.l(N)<=0&&(z=z.add(O),V=P),U=ae(U,1),O=ae(O,1)}return C=B(N,z.j(C)),new q(z,C)}for(z=v;N.l(C)>=0;){for(O=Math.max(1,Math.floor(N.m()/C.m())),U=Math.ceil(Math.log(O)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),V=m(O),P=V.j(C);M(P)||P.l(N)>0;)O-=U,V=m(O),P=V.j(C);k(V)&&(V=w),z=z.add(V),N=B(N,P)}return new q(z,N)}t.B=function(N){return le(this,N).h},t.and=function(N){const C=Math.max(this.g.length,N.g.length),O=[];for(let U=0;U<C;U++)O[U]=this.i(U)&N.i(U);return new c(O,this.h&N.h)},t.or=function(N){const C=Math.max(this.g.length,N.g.length),O=[];for(let U=0;U<C;U++)O[U]=this.i(U)|N.i(U);return new c(O,this.h|N.h)},t.xor=function(N){const C=Math.max(this.g.length,N.g.length),O=[];for(let U=0;U<C;U++)O[U]=this.i(U)^N.i(U);return new c(O,this.h^N.h)};function re(N){const C=N.g.length+1,O=[];for(let U=0;U<C;U++)O[U]=N.i(U)<<1|N.i(U-1)>>>31;return new c(O,N.h)}function ae(N,C){const O=C>>5;C%=32;const U=N.g.length-O,z=[];for(let V=0;V<U;V++)z[V]=C>0?N.i(V+O)>>>C|N.i(V+O+1)<<32-C:N.i(V+O);return new c(z,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,tC=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=g,Ma=c}).apply(typeof Q1<"u"?Q1:typeof self<"u"?self:typeof window<"u"?window:{});var tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nC,Tu,iC,wf,sv,rC,sC,aC;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof tf=="object"&&tf];for(var _=0;_<f.length;++_){var E=f[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function a(f,_){if(_)e:{var E=r;f=f.split(".");for(var D=0;D<f.length-1;D++){var ee=f[D];if(!(ee in E))break e;E=E[ee]}f=f[f.length-1],D=E[f],_=_(D),_!=D&&_!=null&&e(E,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var E=[],D;for(D in _)Object.prototype.hasOwnProperty.call(_,D)&&E.push([D,_[D]]);return E}});var l=l||{},c=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,E){return f.call.apply(f.bind,arguments)}function m(f,_,E){return m=d,m.apply(null,arguments)}function g(f,_){var E=Array.prototype.slice.call(arguments,1);return function(){var D=E.slice();return D.push.apply(D,arguments),f.apply(this,D)}}function v(f,_){function E(){}E.prototype=_.prototype,f.Z=_.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(D,ee,se){for(var ye=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ye[Ge-2]=arguments[Ge];return _.prototype[ee].apply(D,ye)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function A(f){const _=f.length;if(_>0){const E=Array(_);for(let D=0;D<_;D++)E[D]=f[D];return E}return[]}function k(f,_){for(let D=1;D<arguments.length;D++){const ee=arguments[D];var E=typeof ee;if(E=E!="object"?E:ee?Array.isArray(ee)?"array":E:"null",E=="array"||E=="object"&&typeof ee.length=="number"){E=f.length||0;const se=ee.length||0;f.length=E+se;for(let ye=0;ye<se;ye++)f[E+ye]=ee[ye]}else f.push(ee)}}class M{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function I(f){c.setTimeout(()=>{throw f},0)}function B(){var f=N;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class H{constructor(){this.h=this.g=null}add(_,E){const D=q.get();D.set(_,E),this.h?this.h.next=D:this.g=D,this.h=D}}var q=new M(()=>new le,f=>f.reset());class le{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let re,ae=!1,N=new H,C=()=>{const f=Promise.resolve(void 0);re=()=>{f.then(O)}};function O(){for(var f;f=B();){try{f.h.call(f.g)}catch(E){I(E)}var _=q;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}ae=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};c.addEventListener("test",E,_),c.removeEventListener("test",E,_)}catch{}return f})();function P(f){return/^[\s\xa0]*$/.test(f)}function ve(f,_){z.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(ve,z),ve.prototype.init=function(f,_){const E=this.type=f.type,D=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(E=="mouseover"?_=f.fromElement:E=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ve.Z.h.call(this)},ve.prototype.h=function(){ve.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),J=0;function X(f,_,E,D,ee){this.listener=f,this.proxy=null,this.src=_,this.type=E,this.capture=!!D,this.ha=ee,this.key=++J,this.da=this.fa=!1}function G(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Y(f,_,E){for(const D in f)_.call(E,f[D],D,f)}function j(f,_){for(const E in f)_.call(void 0,f[E],E,f)}function T(f){const _={};for(const E in f)_[E]=f[E];return _}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(f,_){let E,D;for(let ee=1;ee<arguments.length;ee++){D=arguments[ee];for(E in D)f[E]=D[E];for(let se=0;se<L.length;se++)E=L[se],Object.prototype.hasOwnProperty.call(D,E)&&(f[E]=D[E])}}function Z(f){this.src=f,this.g={},this.h=0}Z.prototype.add=function(f,_,E,D,ee){const se=f.toString();f=this.g[se],f||(f=this.g[se]=[],this.h++);const ye=ge(f,_,D,ee);return ye>-1?(_=f[ye],E||(_.fa=!1)):(_=new X(_,this.src,se,!!D,ee),_.fa=E,f.push(_)),_};function fe(f,_){const E=_.type;if(E in f.g){var D=f.g[E],ee=Array.prototype.indexOf.call(D,_,void 0),se;(se=ee>=0)&&Array.prototype.splice.call(D,ee,1),se&&(G(_),f.g[E].length==0&&(delete f.g[E],f.h--))}}function ge(f,_,E,D){for(let ee=0;ee<f.length;++ee){const se=f[ee];if(!se.da&&se.listener==_&&se.capture==!!E&&se.ha==D)return ee}return-1}var pe="closure_lm_"+(Math.random()*1e6|0),we={};function xe(f,_,E,D,ee){if(Array.isArray(_)){for(let se=0;se<_.length;se++)xe(f,_[se],E,D,ee);return null}return E=mn(E),f&&f[be]?f.J(_,E,h(D)?!!D.capture:!1,ee):Se(f,_,E,!1,D,ee)}function Se(f,_,E,D,ee,se){if(!_)throw Error("Invalid event type");const ye=h(ee)?!!ee.capture:!!ee;let Ge=dt(f);if(Ge||(f[pe]=Ge=new Z(f)),E=Ge.add(_,E,D,ye,se),E.proxy)return E;if(D=Ue(),E.proxy=D,D.src=f,D.listener=E,f.addEventListener)V||(ee=ye),ee===void 0&&(ee=!1),f.addEventListener(_.toString(),D,ee);else if(f.attachEvent)f.attachEvent(De(_.toString()),D);else if(f.addListener&&f.removeListener)f.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ue(){function f(E){return _.call(f.src,f.listener,E)}const _=xt;return f}function Pe(f,_,E,D,ee){if(Array.isArray(_))for(var se=0;se<_.length;se++)Pe(f,_[se],E,D,ee);else D=h(D)?!!D.capture:!!D,E=mn(E),f&&f[be]?(f=f.i,se=String(_).toString(),se in f.g&&(_=f.g[se],E=ge(_,E,D,ee),E>-1&&(G(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete f.g[se],f.h--)))):f&&(f=dt(f))&&(_=f.g[_.toString()],f=-1,_&&(f=ge(_,E,D,ee)),(E=f>-1?_[f]:null)&&at(E))}function at(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[be])fe(_.i,f);else{var E=f.type,D=f.proxy;_.removeEventListener?_.removeEventListener(E,D,f.capture):_.detachEvent?_.detachEvent(De(E),D):_.addListener&&_.removeListener&&_.removeListener(D),(E=dt(_))?(fe(E,f),E.h==0&&(E.src=null,_[pe]=null)):G(f)}}}function De(f){return f in we?we[f]:we[f]="on"+f}function xt(f,_){if(f.da)f=!0;else{_=new ve(_,this);const E=f.listener,D=f.ha||f.src;f.fa&&at(f),f=E.call(D,_)}return f}function dt(f){return f=f[pe],f instanceof Z?f:null}var zt="__closure_events_fn_"+(Math.random()*1e9>>>0);function mn(f){return typeof f=="function"?f:(f[zt]||(f[zt]=function(_){return f.handleEvent(_)}),f[zt])}function ot(){U.call(this),this.i=new Z(this),this.M=this,this.G=null}v(ot,U),ot.prototype[be]=!0,ot.prototype.removeEventListener=function(f,_,E,D){Pe(this,f,_,E,D)};function qe(f,_){var E,D=f.G;if(D)for(E=[];D;D=D.G)E.push(D);if(f=f.M,D=_.type||_,typeof _=="string")_=new z(_,f);else if(_ instanceof z)_.target=_.target||f;else{var ee=_;_=new z(D,f),W(_,ee)}ee=!0;let se,ye;if(E)for(ye=E.length-1;ye>=0;ye--)se=_.g=E[ye],ee=pn(se,D,!0,_)&&ee;if(se=_.g=f,ee=pn(se,D,!0,_)&&ee,ee=pn(se,D,!1,_)&&ee,E)for(ye=0;ye<E.length;ye++)se=_.g=E[ye],ee=pn(se,D,!1,_)&&ee}ot.prototype.N=function(){if(ot.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const E=f.g[_];for(let D=0;D<E.length;D++)G(E[D]);delete f.g[_],f.h--}}this.G=null},ot.prototype.J=function(f,_,E,D){return this.i.add(String(f),_,!1,E,D)},ot.prototype.K=function(f,_,E,D){return this.i.add(String(f),_,!0,E,D)};function pn(f,_,E,D){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let ee=!0;for(let se=0;se<_.length;++se){const ye=_[se];if(ye&&!ye.da&&ye.capture==E){const Ge=ye.listener,un=ye.ha||ye.src;ye.fa&&fe(f.i,ye),ee=Ge.call(un,D)!==!1&&ee}}return ee&&!D.defaultPrevented}function Ni(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(f,_||0)}function Di(f){f.g=Ni(()=>{f.g=null,f.i&&(f.i=!1,Di(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class Bt extends U{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Di(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qt(f){U.call(this),this.h=f,this.g={}}v(Qt,U);var Zn=[];function Hn(f){Y(f.g,function(_,E){this.g.hasOwnProperty(E)&&at(_)},f),f.g={}}Qt.prototype.N=function(){Qt.Z.N.call(this),Hn(this)},Qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gn=c.JSON.stringify,ei=c.JSON.parse,yi=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function Pt(){}function $i(){}var Cn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function rn(){z.call(this,"d")}v(rn,z);function jn(){z.call(this,"c")}v(jn,z);var Dt={},ti=null;function mr(){return ti=ti||new ot}Dt.Ia="serverreachability";function Vr(f){z.call(this,Dt.Ia,f)}v(Vr,z);function vi(f){const _=mr();qe(_,new Vr(_))}Dt.STAT_EVENT="statevent";function pr(f,_){z.call(this,Dt.STAT_EVENT,f),this.stat=_}v(pr,z);function He(f){const _=mr();qe(_,new pr(_,f))}Dt.Ja="timingevent";function Vt(f,_){z.call(this,Dt.Ja,f),this.size=_}v(Vt,z);function jt(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},_)}function sn(){this.g=!0}sn.prototype.ua=function(){this.g=!1};function Ln(f,_,E,D,ee,se){f.info(function(){if(f.g)if(se){var ye="",Ge=se.split("&");for(let vt=0;vt<Ge.length;vt++){var un=Ge[vt].split("=");if(un.length>1){const Yt=un[0];un=un[1];const Wi=Yt.split("_");ye=Wi.length>=2&&Wi[1]=="type"?ye+(Yt+"="+un+"&"):ye+(Yt+"=redacted&")}}}else ye=null;else ye=se;return"XMLHTTP REQ ("+D+") [attempt "+ee+"]: "+_+`
`+E+`
`+ye})}function Ft(f,_,E,D,ee,se,ye){f.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+ee+"]: "+_+`
`+E+`
`+se+" "+ye})}function gt(f,_,E,D){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+Tt(f,E)+(D?" "+D:"")})}function cn(f,_){f.info(function(){return"TIMEOUT: "+_})}sn.prototype.info=function(){};function Tt(f,_){if(!f.g)return _;if(!_)return null;try{const se=JSON.parse(_);if(se){for(f=0;f<se.length;f++)if(Array.isArray(se[f])){var E=se[f];if(!(E.length<2)){var D=E[1];if(Array.isArray(D)&&!(D.length<1)){var ee=D[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(let ye=1;ye<D.length;ye++)D[ye]=""}}}}return gn(se)}catch{return _}}var Rn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Gn;function In(){}v(In,Pt),In.prototype.g=function(){return new XMLHttpRequest},Gn=new In;function yt(f){return encodeURIComponent(String(f))}function Nn(f){var _=1;f=f.split(":");const E=[];for(;_>0&&f.length;)E.push(f.shift()),_--;return f.length&&E.push(f.join(":")),E}function kt(f,_,E,D){this.j=f,this.i=_,this.l=E,this.S=D||1,this.V=new Qt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new vn}function vn(){this.i=null,this.g="",this.h=!1}var Lt={},$t={};function ki(f,_,E){f.M=1,f.A=us(Ye(_)),f.u=E,f.R=!0,Hs(f,null)}function Hs(f,_){f.F=Date.now(),bi(f),f.B=Ye(f.A);var E=f.B,D=f.S;Array.isArray(D)||(D=[String(D)]),Wo(E.i,"t",D),f.C=0,E=f.j.L,f.h=new vn,f.g=$h(f.j,E?_:null,!f.u),f.P>0&&(f.O=new Bt(m(f.Y,f,f.g),f.P)),_=f.V,E=f.g,D=f.ba;var ee="readystatechange";Array.isArray(ee)||(ee&&(Zn[0]=ee.toString()),ee=Zn);for(let se=0;se<ee.length;se++){const ye=xe(E,ee[se],D||_.handleEvent,!1,_.h||_);if(!ye)break;_.g[ye.key]=ye}_=f.J?T(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),vi(),Ln(f.i,f.v,f.B,f.l,f.S,f.u)}kt.prototype.ba=function(f){f=f.target;const _=this.O;_&&br(f)==3?_.j():this.Y(f)},kt.prototype.Y=function(f){try{if(f==this.g)e:{const Ge=br(this.g),un=this.g.ya(),vt=this.g.ca();if(!(Ge<3)&&(Ge!=3||this.g&&(this.h.h||this.g.la()||$n(this.g)))){this.K||Ge!=4||un==7||(un==8||vt<=0?vi(3):vi(2)),Ki(this);var _=this.g.ca();this.X=_;var E=Ko(this);if(this.o=_==200,Ft(this.i,this.v,this.B,this.l,this.S,Ge,_),this.o){if(this.U&&!this.L){t:{if(this.g){var D,ee=this.g;if((D=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(D)){var se=D;break t}}se=null}if(f=se)gt(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Mi(this,f);else{this.o=!1,this.m=3,He(12),ui(this),_i(this);break e}}if(this.R){f=!0;let Yt;for(;!this.K&&this.C<E.length;)if(Yt=Qa(this,E),Yt==$t){Ge==4&&(this.m=4,He(14),f=!1),gt(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==Lt){this.m=4,He(15),gt(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else gt(this.i,this.l,Yt,null),Mi(this,Yt);if(Yo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ge!=4||E.length!=0||this.h.h||(this.m=1,He(16),f=!1),this.o=this.o&&f,!f)gt(this.i,this.l,E,"[Invalid Chunked Response]"),ui(this),_i(this);else if(E.length>0&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.aa&&!ye.P&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Dc(ye),ye.P=!0,He(11))}}else gt(this.i,this.l,E,null),Mi(this,E);Ge==4&&ui(this),this.o&&!this.K&&(Ge==4?Fh(this.j,this):(this.o=!1,bi(this)))}else ds(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,He(12)):(this.m=0,He(13)),ui(this),_i(this)}}}catch{}};function Ko(f){if(!Yo(f))return f.g.la();const _=$n(f.g);if(_==="")return"";let E="";const D=_.length,ee=br(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return ui(f),_i(f),"";f.h.i=new c.TextDecoder}for(let se=0;se<D;se++)f.h.h=!0,E+=f.h.i.decode(_[se],{stream:!(ee&&se==D-1)});return _.length=0,f.h.g+=E,f.C=0,f.h.g}function Yo(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Qa(f,_){var E=f.C,D=_.indexOf(`
`,E);return D==-1?$t:(E=Number(_.substring(E,D)),isNaN(E)?Lt:(D+=1,D+E>_.length?$t:(_=_.slice(D,D+E),f.C=D+E,_)))}kt.prototype.cancel=function(){this.K=!0,ui(this)};function bi(f){f.T=Date.now()+f.H,jr(f,f.H)}function jr(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=jt(m(f.aa,f),_)}function Ki(f){f.D&&(c.clearTimeout(f.D),f.D=null)}kt.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(cn(this.i,this.B),this.M!=2&&(vi(),He(17)),ui(this),this.m=2,_i(this)):jr(this,this.T-f)};function _i(f){f.j.I==0||f.K||Fh(f.j,f)}function ui(f){Ki(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,Hn(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function Mi(f,_){try{var E=f.j;if(E.I!=0&&(E.g==f||Pi(E.h,f))){if(!f.L&&Pi(E.h,f)&&E.I==3){try{var D=E.Ba.g.parse(_)}catch{D=null}if(Array.isArray(D)&&D.length==3){var ee=D;if(ee[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)tl(E),Qs(E);else break e;ao(E),He(18)}}else E.xa=ee[1],0<E.xa-E.K&&ee[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=jt(m(E.Va,E),6e3));gr(E.h)<=1&&E.ta&&(E.ta=void 0)}else qr(E,11)}else if((f.L||E.g==f)&&tl(E),!P(_))for(ee=E.Ba.g.parse(_),_=0;_<ee.length;_++){let vt=ee[_];const Yt=vt[0];if(!(Yt<=E.K))if(E.K=Yt,vt=vt[1],E.I==2)if(vt[0]=="c"){E.M=vt[1],E.ba=vt[2];const Wi=vt[3];Wi!=null&&(E.ka=Wi,E.j.info("VER="+E.ka));const Hr=vt[4];Hr!=null&&(E.za=Hr,E.j.info("SVER="+E.za));const _r=vt[5];_r!=null&&typeof _r=="number"&&_r>0&&(D=1.5*_r,E.O=D,E.j.info("backChannelRequestTimeoutMs_="+D)),D=E;const wr=f.g;if(wr){const oo=wr.g?wr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oo){var se=D.h;se.g||oo.indexOf("spdy")==-1&&oo.indexOf("quic")==-1&&oo.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(cs(se,se.h),se.h=null))}if(D.G){const nl=wr.g?wr.g.getResponseHeader("X-HTTP-Session-Id"):null;nl&&(D.wa=nl,Qe(D.J,D.G,nl))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),D=E;var ye=f;if(D.na=Gh(D,D.L?D.ba:null,D.W),ye.L){Za(D.h,ye);var Ge=ye,un=D.O;un&&(Ge.H=un),Ge.D&&(Ki(Ge),bi(Ge)),D.g=ye}else zh(D);E.i.length>0&&Fr(E)}else vt[0]!="stop"&&vt[0]!="close"||qr(E,7);else E.I==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?qr(E,7):Ic(E):vt[0]!="noop"&&E.l&&E.l.qa(vt),E.A=0)}}vi(4)}catch{}}var Jt=class{constructor(f,_){this.g=f,this.map=_}};function Ja(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Oi(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function gr(f){return f.h?1:f.g?f.g.size:0}function Pi(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function cs(f,_){f.g?f.g.add(_):f.h=_}function Za(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Ja.prototype.cancel=function(){if(this.i=K(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function K(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const E of f.g.values())_=_.concat(E.G);return _}return A(f.i)}var Ae=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _t(f,_){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const D=f[E].indexOf("=");let ee,se=null;D>=0?(ee=f[E].substring(0,D),se=f[E].substring(D+1)):ee=f[E],_(ee,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function ft(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof ft?(this.l=f.l,lt(this,f.j),this.o=f.o,this.g=f.g,Zt(this,f.u),this.h=f.h,Kt(this,Lh(f.i)),this.m=f.m):f&&(_=String(f).match(Ae))?(this.l=!1,lt(this,_[1]||"",!0),this.o=Lr(_[2]||""),this.g=Lr(_[3]||"",!0),Zt(this,_[4]),this.h=Lr(_[5]||"",!0),Kt(this,_[6]||"",!0),this.m=Lr(_[7]||"")):(this.l=!1,this.i=new $s(null,this.l))}ft.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(eo(_,Xo,!0),":");var E=this.g;return(E||_=="file")&&(f.push("//"),(_=this.o)&&f.push(eo(_,Xo,!0),"@"),f.push(yt(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(eo(E,E.charAt(0)=="/"?Tc:Ph,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",eo(E,Vh)),f.join("")},ft.prototype.resolve=function(f){const _=Ye(this);let E=!!f.j;E?lt(_,f.j):E=!!f.o,E?_.o=f.o:E=!!f.g,E?_.g=f.g:E=f.u!=null;var D=f.h;if(E)Zt(_,f.u);else if(E=!!f.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var ee=_.h.lastIndexOf("/");ee!=-1&&(D=_.h.slice(0,ee+1)+D)}if(ee=D,ee==".."||ee==".")D="";else if(ee.indexOf("./")!=-1||ee.indexOf("/.")!=-1){D=ee.lastIndexOf("/",0)==0,ee=ee.split("/");const se=[];for(let ye=0;ye<ee.length;){const Ge=ee[ye++];Ge=="."?D&&ye==ee.length&&se.push(""):Ge==".."?((se.length>1||se.length==1&&se[0]!="")&&se.pop(),D&&ye==ee.length&&se.push("")):(se.push(Ge),D=!0)}D=se.join("/")}else D=ee}return E?_.h=D:E=f.i.toString()!=="",E?Kt(_,Lh(f.i)):E=!!f.m,E&&(_.m=f.m),_};function Ye(f){return new ft(f)}function lt(f,_,E){f.j=E?Lr(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Zt(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function Kt(f,_,E){_ instanceof $s?(f.i=_,Qo(f.i,f.l)):(E||(_=eo(_,Gs)),f.i=new $s(_,f.l))}function Qe(f,_,E){f.i.set(_,E)}function us(f){return Qe(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Lr(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function eo(f,_,E){return typeof f=="string"?(f=encodeURI(f).replace(_,wi),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function wi(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Xo=/[#\/\?@]/g,Ph=/[#\?:]/g,Tc=/[#\?]/g,Gs=/[#\?@]/g,Vh=/#/g;function $s(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function xi(f){f.g||(f.g=new Map,f.h=0,f.i&&_t(f.i,function(_,E){f.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=$s.prototype,t.add=function(f,_){xi(this),this.i=null,f=Ks(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(_),this.h+=1,this};function jh(f,_){xi(f),_=Ks(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Ec(f,_){return xi(f),_=Ks(f,_),f.g.has(_)}t.forEach=function(f,_){xi(this),this.g.forEach(function(E,D){E.forEach(function(ee){f.call(_,ee,D,this)},this)},this)};function Sc(f,_){xi(f);let E=[];if(typeof _=="string")Ec(f,_)&&(E=E.concat(f.g.get(Ks(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)E=E.concat(f[_]);return E}t.set=function(f,_){return xi(this),this.i=null,f=Ks(this,f),Ec(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=Sc(this,f),f.length>0?String(f[0]):_):_};function Wo(f,_,E){jh(f,_),E.length>0&&(f.i=null,f.g.set(Ks(f,_),A(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let D=0;D<_.length;D++){var E=_[D];const ee=yt(E);E=Sc(this,E);for(let se=0;se<E.length;se++){let ye=ee;E[se]!==""&&(ye+="="+yt(E[se])),f.push(ye)}}return this.i=f.join("&")};function Lh(f){const _=new $s;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function Ks(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function Qo(f,_){_&&!f.j&&(xi(f),f.i=null,f.g.forEach(function(E,D){const ee=D.toLowerCase();D!=ee&&(jh(this,D),Wo(this,ee,E))},f)),f.j=_}function yr(f,_){const E=new sn;if(c.Image){const D=new Image;D.onload=g(Yi,E,"TestLoadImage: loaded",!0,_,D),D.onerror=g(Yi,E,"TestLoadImage: error",!1,_,D),D.onabort=g(Yi,E,"TestLoadImage: abort",!1,_,D),D.ontimeout=g(Yi,E,"TestLoadImage: timeout",!1,_,D),c.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=f}else _(!1)}function Ac(f,_){const E=new sn,D=new AbortController,ee=setTimeout(()=>{D.abort(),Yi(E,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:D.signal}).then(se=>{clearTimeout(ee),se.ok?Yi(E,"TestPingServer: ok",!0,_):Yi(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(ee),Yi(E,"TestPingServer: error",!1,_)})}function Yi(f,_,E,D,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),D(E)}catch{}}function Ys(){this.g=new yi}function Ur(f){this.i=f.Sb||null,this.h=f.ab||!1}v(Ur,Pt),Ur.prototype.g=function(){return new to(this.i,this.h)};function to(f,_){ot.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(to,ot),t=to.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,vr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xs(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,vr(this)),this.g&&(this.readyState=3,vr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Jo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Jo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?Xs(this):vr(this),this.readyState==3&&Jo(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,Xs(this))},t.Na=function(f){this.g&&(this.response=f,Xs(this))},t.ga=function(){this.g&&Xs(this)};function Xs(f){f.readyState=4,f.l=null,f.j=null,f.B=null,vr(f)}t.setRequestHeader=function(f,_){this.A.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=_.next();return f.join(`\r
`)};function vr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(to.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Xi(f){let _="";return Y(f,function(E,D){_+=D,_+=":",_+=E,_+=`\r
`}),_}function no(f,_,E){e:{for(D in E){var D=!1;break e}D=!0}D||(E=Xi(E),typeof f=="string"?E!=null&&yt(E):Qe(f,_,E))}function Ct(f){ot.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Ct,ot);var zr=/^https?$/i,Cc=["POST","PUT"];t=Ct.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,_,E,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Gn.g(),this.g.onreadystatechange=w(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(se){io(this,se);return}if(f=E||"",E=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var ee in D)E.set(ee,D[ee]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const se of D.keys())E.set(se,D.get(se));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(E.keys()).find(se=>se.toLowerCase()=="content-type"),ee=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(Cc,_,void 0)>=0)||D||ee||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,ye]of E)this.g.setRequestHeader(se,ye);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(se){io(this,se)}};function io(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,Rc(f),hs(f)}function Rc(f){f.A||(f.A=!0,qe(f,"complete"),qe(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,qe(this,"complete"),qe(this,"abort"),hs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hs(this,!0)),Ct.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ro(this):this.Xa())},t.Xa=function(){ro(this)};function ro(f){if(f.h&&typeof l<"u"){if(f.v&&br(f)==4)setTimeout(f.Ca.bind(f),0);else if(qe(f,"readystatechange"),br(f)==4){f.h=!1;try{const se=f.ca();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var D;if(D=se===0){let ye=String(f.D).match(Ae)[1]||null;!ye&&c.self&&c.self.location&&(ye=c.self.location.protocol.slice(0,-1)),D=!zr.test(ye?ye.toLowerCase():"")}E=D}if(E)qe(f,"complete"),qe(f,"success");else{f.o=6;try{var ee=br(f)>2?f.g.statusText:""}catch{ee=""}f.l=ee+" ["+f.ca()+"]",Rc(f)}}finally{hs(f)}}}}function hs(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,_||qe(f,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function br(f){return f.g?f.g.readyState:0}t.ca=function(){try{return br(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),ei(_)}};function $n(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ds(f){const _={};f=(f.g&&br(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<f.length;D++){if(P(f[D]))continue;var E=Nn(f[D]);const ee=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const se=_[ee]||[];_[ee]=se,se.push(E)}j(_,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Br(f,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||_}function Ws(f){this.za=0,this.i=[],this.j=new sn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Br("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Br("baseRetryDelayMs",5e3,f),this.Za=Br("retryDelaySeedMs",1e4,f),this.Ta=Br("forwardChannelMaxRetries",2,f),this.va=Br("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Ja(f&&f.concurrentRequestLimit),this.Ba=new Ys,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ws.prototype,t.ka=8,t.I=1,t.connect=function(f,_,E,D){He(0),this.W=f,this.H=_||{},E&&D!==void 0&&(this.H.OSID=E,this.H.OAID=D),this.F=this.X,this.J=Gh(this,null,this.W),Fr(this)};function Ic(f){if(Zo(f),f.I==3){var _=f.V++,E=Ye(f.J);if(Qe(E,"SID",f.M),Qe(E,"RID",_),Qe(E,"TYPE","terminate"),so(f,E),_=new kt(f,f.j,_),_.M=2,_.A=us(Ye(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=_.A,E=!0),E||(_.g=$h(_.j,null),_.g.ea(_.A)),_.F=Date.now(),bi(_)}Hh(f)}function Qs(f){f.g&&(Dc(f),f.g.cancel(),f.g=null)}function Zo(f){Qs(f),f.v&&(c.clearTimeout(f.v),f.v=null),tl(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function Fr(f){if(!Oi(f.h)&&!f.m){f.m=!0;var _=f.Ea;re||C(),ae||(re(),ae=!0),N.add(_,f),f.D=0}}function el(f,_){return gr(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=jt(m(f.Ea,f,_),qh(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const ee=new kt(this,this.j,f);let se=this.o;if(this.U&&(se?(se=T(se),W(se,this.U)):se=this.U),this.u!==null||this.R||(ee.J=se,se=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var D=this.i[E];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(_+=D,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Uh(this,ee,_),E=Ye(this.J),Qe(E,"RID",f),Qe(E,"CVER",22),this.G&&Qe(E,"X-HTTP-Session-Id",this.G),so(this,E),se&&(this.R?_="headers="+yt(Xi(se))+"&"+_:this.u&&no(E,this.u,se)),cs(this.h,ee),this.Ra&&Qe(E,"TYPE","init"),this.S?(Qe(E,"$req",_),Qe(E,"SID","null"),ee.U=!0,ki(ee,E,null)):ki(ee,E,_),this.I=2}}else this.I==3&&(f?Nc(this,f):this.i.length==0||Oi(this.h)||Nc(this))};function Nc(f,_){var E;_?E=_.l:E=f.V++;const D=Ye(f.J);Qe(D,"SID",f.M),Qe(D,"RID",E),Qe(D,"AID",f.K),so(f,D),f.u&&f.o&&no(D,f.u,f.o),E=new kt(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),_&&(f.i=_.G.concat(f.i)),_=Uh(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),cs(f.h,E),ki(E,D,_)}function so(f,_){f.H&&Y(f.H,function(E,D){Qe(_,D,E)}),f.l&&Y({},function(E,D){Qe(_,D,E)})}function Uh(f,_,E){E=Math.min(f.i.length,E);const D=f.l?m(f.l.Ka,f.l,f):null;e:{var ee=f.i;let Ge=-1;for(;;){const un=["count="+E];Ge==-1?E>0?(Ge=ee[0].g,un.push("ofs="+Ge)):Ge=0:un.push("ofs="+Ge);let vt=!0;for(let Yt=0;Yt<E;Yt++){var se=ee[Yt].g;const Wi=ee[Yt].map;if(se-=Ge,se<0)Ge=Math.max(0,ee[Yt].g-100),vt=!1;else try{se="req"+se+"_"||"";try{var ye=Wi instanceof Map?Wi:Object.entries(Wi);for(const[Hr,_r]of ye){let wr=_r;h(_r)&&(wr=gn(_r)),un.push(se+Hr+"="+encodeURIComponent(wr))}}catch(Hr){throw un.push(se+"type="+encodeURIComponent("_badmap")),Hr}}catch{D&&D(Wi)}}if(vt){ye=un.join("&");break e}}ye=void 0}return f=f.i.splice(0,E),_.G=f,ye}function zh(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;re||C(),ae||(re(),ae=!0),N.add(_,f),f.A=0}}function ao(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=jt(m(f.Da,f),qh(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,Bh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=jt(m(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,He(10),Qs(this),Bh(this))};function Dc(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function Bh(f){f.g=new kt(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=Ye(f.na);Qe(_,"RID","rpc"),Qe(_,"SID",f.M),Qe(_,"AID",f.K),Qe(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&Qe(_,"TO",f.ia),Qe(_,"TYPE","xmlhttp"),so(f,_),f.u&&f.o&&no(_,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=us(Ye(_)),E.u=null,E.R=!0,Hs(E,f)}t.Va=function(){this.C!=null&&(this.C=null,Qs(this),ao(this),He(19))};function tl(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Fh(f,_){var E=null;if(f.g==_){tl(f),Dc(f),f.g=null;var D=2}else if(Pi(f.h,_))E=_.G,Za(f.h,_),D=1;else return;if(f.I!=0){if(_.o)if(D==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var ee=f.D;D=mr(),qe(D,new Vt(D,E)),Fr(f)}else zh(f);else if(ee=_.m,ee==3||ee==0&&_.X>0||!(D==1&&el(f,_)||D==2&&ao(f)))switch(E&&E.length>0&&(_=f.h,_.i=_.i.concat(E)),ee){case 1:qr(f,5);break;case 4:qr(f,10);break;case 3:qr(f,6);break;default:qr(f,2)}}}function qh(f,_){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*_}function qr(f,_){if(f.j.info("Error code "+_),_==2){var E=m(f.bb,f),D=f.Ua;const ee=!D;D=new ft(D||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||lt(D,"https"),us(D),ee?yr(D.toString(),E):Ac(D.toString(),E)}else He(2);f.I=0,f.l&&f.l.pa(_),Hh(f),Zo(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),He(2)):(this.j.info("Failed to ping google.com"),He(1))};function Hh(f){if(f.I=0,f.ja=[],f.l){const _=K(f.h);(_.length!=0||f.i.length!=0)&&(k(f.ja,_),k(f.ja,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.oa()}}function Gh(f,_,E){var D=E instanceof ft?Ye(E):new ft(E);if(D.g!="")_&&(D.g=_+"."+D.g),Zt(D,D.u);else{var ee=c.location;D=ee.protocol,_=_?_+"."+ee.hostname:ee.hostname,ee=+ee.port;const se=new ft(null);D&&lt(se,D),_&&(se.g=_),ee&&Zt(se,ee),E&&(se.h=E),D=se}return E=f.G,_=f.wa,E&&_&&Qe(D,E,_),Qe(D,"VER",f.ka),so(f,D),D}function $h(f,_,E){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new Ct(new Ur({ab:E})):new Ct(f.ma),_.Fa(f.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kh(){}t=Kh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Js(){}Js.prototype.g=function(f,_){return new hi(f,_)};function hi(f,_){ot.call(this),this.g=new Ws(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!P(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!P(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new fs(this)}v(hi,ot),hi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hi.prototype.close=function(){Ic(this.g)},hi.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=gn(f),f=E);_.i.push(new Jt(_.Ya++,f)),_.I==3&&Fr(_)},hi.prototype.N=function(){this.g.l=null,delete this.j,Ic(this.g),delete this.g,hi.Z.N.call(this)};function Yh(f){rn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const E in _){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(Yh,rn);function Xh(){jn.call(this),this.status=1}v(Xh,jn);function fs(f){this.g=f}v(fs,Kh),fs.prototype.ra=function(){qe(this.g,"a")},fs.prototype.qa=function(f){qe(this.g,new Yh(f))},fs.prototype.pa=function(f){qe(this.g,new Xh)},fs.prototype.oa=function(){qe(this.g,"b")},Js.prototype.createWebChannel=Js.prototype.g,hi.prototype.send=hi.prototype.o,hi.prototype.open=hi.prototype.m,hi.prototype.close=hi.prototype.close,aC=function(){return new Js},sC=function(){return mr()},rC=Dt,sv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Rn.NO_ERROR=0,Rn.TIMEOUT=8,Rn.HTTP_ERROR=6,wf=Rn,yn.COMPLETE="complete",iC=yn,$i.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",ot.prototype.listen=ot.prototype.J,Tu=$i,Ct.prototype.listenOnce=Ct.prototype.K,Ct.prototype.getLastError=Ct.prototype.Ha,Ct.prototype.getLastErrorCode=Ct.prototype.ya,Ct.prototype.getStatus=Ct.prototype.ca,Ct.prototype.getResponseJson=Ct.prototype.La,Ct.prototype.getResponseText=Ct.prototype.la,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Fa,nC=Ct}).apply(typeof tf<"u"?tf:typeof self<"u"?self:typeof window<"u"?window:{});let si=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};si.UNAUTHENTICATED=new si(null),si.GOOGLE_CREDENTIALS=new si("google-credentials-uid"),si.FIRST_PARTY=new si("first-party-uid"),si.MOCK_USER=new si("mock-user");let uc="12.8.0";function R4(t){uc=t}const zo=new a0("@firebase/firestore");function Ol(){return zo.logLevel}function Te(t,...e){if(zo.logLevel<=it.DEBUG){const n=e.map(b0);zo.debug(`Firestore (${uc}): ${t}`,...n)}}function Bs(t,...e){if(zo.logLevel<=it.ERROR){const n=e.map(b0);zo.error(`Firestore (${uc}): ${t}`,...n)}}function Bo(t,...e){if(zo.logLevel<=it.WARN){const n=e.map(b0);zo.warn(`Firestore (${uc}): ${t}`,...n)}}function b0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ve(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,oC(t,r,n)}function oC(t,e,n){let r=`FIRESTORE (${uc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Bs(r),new Error(r)}function wt(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||oC(e,a,r)}function Fe(t,e){return t}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends os{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ps{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class lC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(si.UNAUTHENTICATED)))}shutdown(){}}class I4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class N4{constructor(e){this.t=e,this.currentUser=si.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){wt(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let l=new Ps;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ps,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const d=l;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ps)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt(typeof r.accessToken=="string",31837,{l:r}),new lC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string",2055,{h:e}),new si(e)}}class D4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=si.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class k4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new D4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(si.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class J1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class M4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){wt(this.o===void 0,3512);const r=l=>{l.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Te("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new J1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new J1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function O4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Dm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=O4(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=e.charAt(a[l]%62))}return r}}function rt(t,e){return t<e?-1:t>e?1:0}function av(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),l=e.charAt(r);if(a!==l)return gy(a)===gy(l)?rt(a,l):gy(a)?1:-1}return rt(t.length,e.length)}const P4=55296,V4=57343;function gy(t){const e=t.charCodeAt(0);return e>=P4&&e<=V4}function Jl(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}const Z1="__name__";class Xr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ve(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ve(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xr?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=Xr.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return rt(e.length,n.length)}static compareSegments(e,n){const r=Xr.isNumericId(e),a=Xr.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Xr.extractNumericId(e).compare(Xr.extractNumericId(n)):av(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ma.fromString(e.substring(4,e.length-2))}}class Ut extends Xr{construct(e,n,r){return new Ut(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Ut(n)}static emptyPath(){return new Ut([])}}const j4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fn extends Xr{construct(e,n,r){return new Fn(e,n,r)}static isValidIdentifier(e){return j4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Z1}static keyField(){return new Fn([Z1])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new _e(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new _e(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new _e(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(r+=h,a++):(l(),a++)}if(l(),c)throw new _e(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fn(n)}static emptyPath(){return new Fn([])}}class ke{constructor(e){this.path=e}static fromPath(e){return new ke(Ut.fromString(e))}static fromName(e){return new ke(Ut.fromString(e).popFirst(5))}static empty(){return new ke(Ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new Ut(e.slice()))}}function uC(t,e,n){if(!n)throw new _e(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hC(t,e,n,r){if(e===!0&&r===!0)throw new _e(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function eT(t){if(!ke.isDocumentKey(t))throw new _e(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tT(t){if(ke.isDocumentKey(t))throw new _e(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function km(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve(12329,{type:typeof t})}function pi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=km(t);throw new _e(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function An(t,e){const n={typeString:t};return e&&(n.value=e),n}function mh(t,e){if(!dC(t))throw new _e(de.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(a&&typeof c!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${r}' field to equal '${l.value}'`;break}}if(n)throw new _e(de.INVALID_ARGUMENT,n);return!0}const nT=-62135596800,iT=1e6;class Be{static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*iT);return new Be(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<nT)throw new _e(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iT}_compareTo(e){return this.seconds===e.seconds?rt(this.nanoseconds,e.nanoseconds):rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mh(e,Be._jsonSchema))return new Be(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Be._jsonSchemaVersion="firestore/timestamp/1.0",Be._jsonSchema={type:An("string",Be._jsonSchemaVersion),seconds:An("number"),nanoseconds:An("number")};class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new Be(0,0))}static max(){return new Le(new Be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $u=-1;function L4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Le.fromTimestamp(r===1e9?new Be(n+1,0):new Be(n,r));return new ja(a,ke.empty(),e)}function U4(t){return new ja(t.readTime,t.key,$u)}class ja{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ja(Le.min(),ke.empty(),$u)}static max(){return new ja(Le.max(),ke.empty(),$u)}}function z4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(t.documentKey,e.documentKey),n!==0?n:rt(t.largestBatchId,e.largestBatchId))}const B4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function hc(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==B4)throw t;Te("LocalStore","Unexpectedly lost primary lease")}class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new me(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof me?n:me.resolve(n)}catch(n){return me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):me.reject(n)}static resolve(e){return new me(((n,r)=>{n(e)}))}static reject(e){return new me(((n,r)=>{r(e)}))}static waitFor(e){return new me(((n,r)=>{let a=0,l=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++l,c&&l===a&&n()}),(d=>r(d)))})),c=!0,l===a&&n()}))}static or(e){let n=me.resolve(!1);for(const r of e)n=n.next((a=>a?me.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,l)=>{r.push(n.call(this,a,l))})),this.waitFor(r)}static mapArray(e,n){return new me(((r,a)=>{const l=e.length,c=new Array(l);let h=0;for(let d=0;d<l;d++){const m=d;n(e[m]).next((g=>{c[m]=g,++h,h===l&&r(c)}),(g=>a(g)))}}))}static doWhile(e,n){return new me(((r,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):r()};l()}))}}function q4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function dc(t){return t.name==="IndexedDbTransactionError"}class Mm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mm.ce=-1;const _0=-1;function Om(t){return t==null}function qf(t){return t===0&&1/t==-1/0}function H4(t){return typeof t=="number"&&Number.isInteger(t)&&!qf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const fC="";function G4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=rT(e)),e=$4(t.get(n),e);return rT(e)}function $4(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case fC:n+="";break;default:n+=l}}return n}function rT(t){return t+fC+""}function sT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ka(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class nn{constructor(e,n){this.comparator=e,this.root=n||Jn.EMPTY}insert(e,n){return new nn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jn.BLACK,null,null))}remove(e){return new nn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nf(this.root,e,this.comparator,!1)}getReverseIterator(){return new nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nf(this.root,e,this.comparator,!0)}}class nf{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jn{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??Jn.RED,this.left=a??Jn.EMPTY,this.right=l??Jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new Jn(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Jn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Jn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}Jn.EMPTY=null,Jn.RED=!0,Jn.BLACK=!1;Jn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,n,r,a,l){return this}insert(e,n,r){return new Jn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pn{constructor(e){this.comparator=e,this.data=new nn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new aT(this.data.getIterator())}getIteratorFrom(e){return new aT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pn(this.comparator);return n.data=e,n}}class aT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Hi{constructor(e){this.fields=e,e.sort(Fn.comparator)}static empty(){return new Hi([])}unionWith(e){let n=new Pn(Fn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Hi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class pC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class qn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new pC("Invalid base64 string: "+l):l}})(e);return new qn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new qn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qn.EMPTY_BYTE_STRING=new qn("");const K4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function La(t){if(wt(!!t,39018),typeof t=="string"){let e=0;const n=K4.exec(t);if(wt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:fn(t.seconds),nanos:fn(t.nanos)}}function fn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ua(t){return typeof t=="string"?qn.fromBase64String(t):qn.fromUint8Array(t)}const gC="server_timestamp",yC="__type__",vC="__previous_value__",bC="__local_write_time__";function w0(t){return(t?.mapValue?.fields||{})[yC]?.stringValue===gC}function Pm(t){const e=t.mapValue.fields[vC];return w0(e)?Pm(e):e}function Ku(t){const e=La(t.mapValue.fields[bC].timestampValue);return new Be(e.seconds,e.nanos)}class Y4{constructor(e,n,r,a,l,c,h,d,m,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=g,this.apiKey=v}}const Hf="(default)";class Zl{constructor(e,n){this.projectId=e,this.database=n||Hf}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===Hf}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}function X4(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new _e(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(t.options.projectId,e)}const _C="__type__",W4="__max__",rf={mapValue:{}},wC="__vector__",Gf="value";function za(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?w0(t)?4:J4(t)?9007199254740991:Q4(t)?10:11:Ve(28295,{value:t})}function is(t,e){if(t===e)return!0;const n=za(t);if(n!==za(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ku(t).isEqual(Ku(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=La(a.timestampValue),h=La(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Ua(a.bytesValue).isEqual(Ua(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return fn(a.geoPointValue.latitude)===fn(l.geoPointValue.latitude)&&fn(a.geoPointValue.longitude)===fn(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return fn(a.integerValue)===fn(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=fn(a.doubleValue),h=fn(l.doubleValue);return c===h?qf(c)===qf(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return Jl(t.arrayValue.values||[],e.arrayValue.values||[],is);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(sT(c)!==sT(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!is(c[d],h[d])))return!1;return!0})(t,e);default:return Ve(52216,{left:t})}}function Yu(t,e){return(t.values||[]).find((n=>is(n,e)))!==void 0}function ec(t,e){if(t===e)return 0;const n=za(t),r=za(e);if(n!==r)return rt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return rt(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=fn(l.integerValue||l.doubleValue),d=fn(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return oT(t.timestampValue,e.timestampValue);case 4:return oT(Ku(t),Ku(e));case 5:return av(t.stringValue,e.stringValue);case 6:return(function(l,c){const h=Ua(l),d=Ua(c);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),d=c.split("/");for(let m=0;m<h.length&&m<d.length;m++){const g=rt(h[m],d[m]);if(g!==0)return g}return rt(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=rt(fn(l.latitude),fn(c.latitude));return h!==0?h:rt(fn(l.longitude),fn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return lT(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const h=l.fields||{},d=c.fields||{},m=h[Gf]?.arrayValue,g=d[Gf]?.arrayValue,v=rt(m?.values?.length||0,g?.values?.length||0);return v!==0?v:lT(m,g)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===rf.mapValue&&c===rf.mapValue)return 0;if(l===rf.mapValue)return 1;if(c===rf.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),m=c.fields||{},g=Object.keys(m);d.sort(),g.sort();for(let v=0;v<d.length&&v<g.length;++v){const w=av(d[v],g[v]);if(w!==0)return w;const A=ec(h[d[v]],m[g[v]]);if(A!==0)return A}return rt(d.length,g.length)})(t.mapValue,e.mapValue);default:throw Ve(23264,{he:n})}}function oT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return rt(t,e);const n=La(t),r=La(e),a=rt(n.seconds,r.seconds);return a!==0?a:rt(n.nanos,r.nanos)}function lT(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=ec(n[a],r[a]);if(l)return l}return rt(n.length,r.length)}function tc(t){return ov(t)}function ov(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=La(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ua(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ke.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=ov(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${ov(n.fields[c])}`;return a+"}"})(t.mapValue):Ve(61005,{value:t})}function xf(t){switch(za(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pm(t);return e?16+xf(e):16;case 5:return 2*t.stringValue.length;case 6:return Ua(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+xf(l)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return Ka(r.fields,((l,c)=>{a+=l.length+xf(c)})),a})(t.mapValue);default:throw Ve(13486,{value:t})}}function cT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function lv(t){return!!t&&"integerValue"in t}function x0(t){return!!t&&"arrayValue"in t}function uT(t){return!!t&&"nullValue"in t}function hT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tf(t){return!!t&&"mapValue"in t}function Q4(t){return(t?.mapValue?.fields||{})[_C]?.stringValue===wC}function Nu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ka(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Nu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nu(t.arrayValue.values[n]);return e}return{...t}}function J4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===W4}class Ii{constructor(e){this.value=e}static empty(){return new Ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Tf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nu(n)}setAll(e){let n=Fn.emptyPath(),r={},a=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=h.popLast()}c?r[h.lastSegment()]=Nu(c):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());Tf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return is(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Tf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){Ka(n,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new Ii(Nu(this.value))}}function xC(t){const e=[];return Ka(t.fields,((n,r)=>{const a=new Fn([n]);if(Tf(r)){const l=xC(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Hi(e)}class oi{constructor(e,n,r,a,l,c,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new oi(e,0,Le.min(),Le.min(),Le.min(),Ii.empty(),0)}static newFoundDocument(e,n,r,a){return new oi(e,1,n,Le.min(),r,a,0)}static newNoDocument(e,n){return new oi(e,2,n,Le.min(),Le.min(),Ii.empty(),0)}static newUnknownDocument(e,n){return new oi(e,3,n,Le.min(),Le.min(),Ii.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof oi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new oi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $f{constructor(e,n){this.position=e,this.inclusive=n}}function dT(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?r=ke.comparator(ke.fromName(c.referenceValue),n.key):r=ec(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function fT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!is(t.position[n],e.position[n]))return!1;return!0}class Kf{constructor(e,n="asc"){this.field=e,this.dir=n}}function Z4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class TC{}class Sn extends TC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new t5(e,n,r):n==="array-contains"?new r5(e,r):n==="in"?new s5(e,r):n==="not-in"?new a5(e,r):n==="array-contains-any"?new o5(e,r):new Sn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new n5(e,r):new i5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ec(n,this.value)):n!==null&&za(this.value)===za(n)&&this.matchesComparison(ec(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kr extends TC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new kr(e,n)}matches(e){return EC(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function EC(t){return t.op==="and"}function SC(t){return e5(t)&&EC(t)}function e5(t){for(const e of t.filters)if(e instanceof kr)return!1;return!0}function cv(t){if(t instanceof Sn)return t.field.canonicalString()+t.op.toString()+tc(t.value);if(SC(t))return t.filters.map((e=>cv(e))).join(",");{const e=t.filters.map((n=>cv(n))).join(",");return`${t.op}(${e})`}}function AC(t,e){return t instanceof Sn?(function(r,a){return a instanceof Sn&&r.op===a.op&&r.field.isEqual(a.field)&&is(r.value,a.value)})(t,e):t instanceof kr?(function(r,a){return a instanceof kr&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,c,h)=>l&&AC(c,a.filters[h])),!0):!1})(t,e):void Ve(19439)}function CC(t){return t instanceof Sn?(function(n){return`${n.field.canonicalString()} ${n.op} ${tc(n.value)}`})(t):t instanceof kr?(function(n){return n.op.toString()+" {"+n.getFilters().map(CC).join(" ,")+"}"})(t):"Filter"}class t5 extends Sn{constructor(e,n,r){super(e,n,r),this.key=ke.fromName(r.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class n5 extends Sn{constructor(e,n){super(e,"in",n),this.keys=RC("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class i5 extends Sn{constructor(e,n){super(e,"not-in",n),this.keys=RC("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function RC(t,e){return(e.arrayValue?.values||[]).map((n=>ke.fromName(n.referenceValue)))}class r5 extends Sn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return x0(n)&&Yu(n.arrayValue,this.value)}}class s5 extends Sn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yu(this.value.arrayValue,n)}}class a5 extends Sn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yu(this.value.arrayValue,n)}}class o5 extends Sn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!x0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Yu(this.value.arrayValue,r)))}}class l5{constructor(e,n=null,r=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function mT(t,e=null,n=[],r=[],a=null,l=null,c=null){return new l5(t,e,n,r,a,l,c)}function T0(t){const e=Fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>cv(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Om(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>tc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>tc(r))).join(",")),e.Te=n}return e.Te}function E0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Z4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fT(t.startAt,e.startAt)&&fT(t.endAt,e.endAt)}function uv(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class ph{constructor(e,n=null,r=[],a=[],l=null,c="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function c5(t,e,n,r,a,l,c,h){return new ph(t,e,n,r,a,l,c,h)}function Vm(t){return new ph(t)}function pT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function u5(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function IC(t){return t.collectionGroup!==null}function Du(t){const e=Fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Pn(Fn.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Kf(l,r))})),n.has(Fn.keyField().canonicalString())||e.Ie.push(new Kf(Fn.keyField(),r))}return e.Ie}function Zr(t){const e=Fe(t);return e.Ee||(e.Ee=h5(e,Du(t))),e.Ee}function h5(t,e){if(t.limitType==="F")return mT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Kf(a.field,l)}));const n=t.endAt?new $f(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $f(t.startAt.position,t.startAt.inclusive):null;return mT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function hv(t,e){const n=t.filters.concat([e]);return new ph(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dv(t,e,n){return new ph(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jm(t,e){return E0(Zr(t),Zr(e))&&t.limitType===e.limitType}function NC(t){return`${T0(Zr(t))}|lt:${t.limitType}`}function Pl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>CC(a))).join(", ")}]`),Om(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>tc(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>tc(a))).join(",")),`Target(${r})`})(Zr(t))}; limitType=${t.limitType})`}function Lm(t,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):ke.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,a){for(const l of Du(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(c,h,d){const m=dT(c,h,d);return c.inclusive?m<=0:m<0})(r.startAt,Du(r),a)||r.endAt&&!(function(c,h,d){const m=dT(c,h,d);return c.inclusive?m>=0:m>0})(r.endAt,Du(r),a))})(t,e)}function d5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DC(t){return(e,n)=>{let r=!1;for(const a of Du(t)){const l=f5(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function f5(t,e,n){const r=t.field.isKeyField()?ke.comparator(e.key,n.key):(function(l,c,h){const d=c.data.field(l),m=h.data.field(l);return d!==null&&m!==null?ec(d,m):Ve(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ve(19790,{direction:t.dir})}}class Go{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ka(this.inner,((n,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return mC(this.inner)}size(){return this.innerSize}}const m5=new nn(ke.comparator);function Fs(){return m5}const kC=new nn(ke.comparator);function Eu(...t){let e=kC;for(const n of t)e=e.insert(n.key,n);return e}function MC(t){let e=kC;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Do(){return ku()}function OC(){return ku()}function ku(){return new Go((t=>t.toString()),((t,e)=>t.isEqual(e)))}const p5=new nn(ke.comparator),g5=new Pn(ke.comparator);function st(...t){let e=g5;for(const n of t)e=e.add(n);return e}const y5=new Pn(rt);function v5(){return y5}function S0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qf(e)?"-0":e}}function PC(t){return{integerValue:""+t}}function b5(t,e){return H4(e)?PC(e):S0(t,e)}class Um{constructor(){this._=void 0}}function _5(t,e,n){return t instanceof Yf?(function(a,l){const c={fields:{[yC]:{stringValue:gC},[bC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&w0(l)&&(l=Pm(l)),l&&(c.fields[vC]=l),{mapValue:c}})(n,e):t instanceof Xu?jC(t,e):t instanceof Wu?LC(t,e):(function(a,l){const c=VC(a,l),h=gT(c)+gT(a.Ae);return lv(c)&&lv(a.Ae)?PC(h):S0(a.serializer,h)})(t,e)}function w5(t,e,n){return t instanceof Xu?jC(t,e):t instanceof Wu?LC(t,e):n}function VC(t,e){return t instanceof Xf?(function(r){return lv(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class Yf extends Um{}class Xu extends Um{constructor(e){super(),this.elements=e}}function jC(t,e){const n=UC(e);for(const r of t.elements)n.some((a=>is(a,r)))||n.push(r);return{arrayValue:{values:n}}}class Wu extends Um{constructor(e){super(),this.elements=e}}function LC(t,e){let n=UC(e);for(const r of t.elements)n=n.filter((a=>!is(a,r)));return{arrayValue:{values:n}}}class Xf extends Um{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function gT(t){return fn(t.integerValue||t.doubleValue)}function UC(t){return x0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function x5(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof Xu&&a instanceof Xu||r instanceof Wu&&a instanceof Wu?Jl(r.elements,a.elements,is):r instanceof Xf&&a instanceof Xf?is(r.Ae,a.Ae):r instanceof Yf&&a instanceof Yf})(t.transform,e.transform)}class T5{constructor(e,n){this.version=e,this.transformResults=n}}class ur{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ur}static exists(e){return new ur(void 0,e)}static updateTime(e){return new ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ef(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zm{}function zC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new A0(t.key,ur.none()):new gh(t.key,t.data,ur.none());{const n=t.data,r=Ii.empty();let a=new Pn(Fn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Ya(t.key,r,new Hi(a.toArray()),ur.none())}}function E5(t,e,n){t instanceof gh?(function(a,l,c){const h=a.value.clone(),d=vT(a.fieldTransforms,l,c.transformResults);h.setAll(d),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Ya?(function(a,l,c){if(!Ef(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=vT(a.fieldTransforms,l,c.transformResults),d=l.data;d.setAll(BC(a)),d.setAll(h),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Mu(t,e,n,r){return t instanceof gh?(function(l,c,h,d){if(!Ef(l.precondition,c))return h;const m=l.value.clone(),g=bT(l.fieldTransforms,d,c);return m.setAll(g),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ya?(function(l,c,h,d){if(!Ef(l.precondition,c))return h;const m=bT(l.fieldTransforms,d,c),g=c.data;return g.setAll(BC(l)),g.setAll(m),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(l,c,h){return Ef(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function S5(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=VC(r.transform,a||null);l!=null&&(n===null&&(n=Ii.empty()),n.set(r.field,l))}return n||null}function yT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Jl(r,a,((l,c)=>x5(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gh extends zm{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ya extends zm{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function BC(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function vT(t,e,n){const r=new Map;wt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,h=e.data.field(l.field);r.set(l.field,w5(c,h,n[a]))}return r}function bT(t,e,n){const r=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);r.set(a.field,_5(l,c,e))}return r}class A0 extends zm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class A5 extends zm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class C5{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&E5(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Mu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Mu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=OC();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(a.key)?null:h;const d=zC(c,h);d!==null&&r.set(a.key,d),c.isValidDocument()||c.convertToNoDocument(Le.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),st())}isEqual(e){return this.batchId===e.batchId&&Jl(this.mutations,e.mutations,((n,r)=>yT(n,r)))&&Jl(this.baseMutations,e.baseMutations,((n,r)=>yT(n,r)))}}class C0{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){wt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return p5})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new C0(e,n,r,a)}}class R5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class I5{constructor(e,n){this.count=e,this.unchangedNames=n}}var Tn,ht;function N5(t){switch(t){case de.OK:return Ve(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Ve(15467,{code:t})}}function FC(t){if(t===void 0)return Bs("GRPC error has no .code"),de.UNKNOWN;switch(t){case Tn.OK:return de.OK;case Tn.CANCELLED:return de.CANCELLED;case Tn.UNKNOWN:return de.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return de.INTERNAL;case Tn.UNAVAILABLE:return de.UNAVAILABLE;case Tn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Tn.NOT_FOUND:return de.NOT_FOUND;case Tn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Tn.ABORTED:return de.ABORTED;case Tn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Tn.DATA_LOSS:return de.DATA_LOSS;default:return Ve(39323,{code:t})}}(ht=Tn||(Tn={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";function D5(){return new TextEncoder}const k5=new Ma([4294967295,4294967295],0);function _T(t){const e=D5().encode(t),n=new tC;return n.update(e),new Uint8Array(n.digest())}function wT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ma([n,r],0),new Ma([a,l],0)]}class R0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Su(`Invalid padding: ${n}`);if(r<0)throw new Su(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Su(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Su(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ma.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Ma.fromNumber(r)));return a.compare(k5)===1&&(a=new Ma([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=_T(e),[r,a]=wT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);if(!this.we(c))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new R0(l,a,n);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=_T(e),[r,a]=wT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);this.be(c)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bm{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,yh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bm(Le.min(),a,new nn(rt),Fs(),st())}}class yh{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yh(r,n,st(),st(),st())}}class Sf{constructor(e,n,r,a){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=a}}class qC{constructor(e,n){this.targetId=e,this.Ce=n}}class HC{constructor(e,n,r=qn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class xT{constructor(){this.ve=0,this.Fe=TT(),this.Me=qn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=st(),n=st(),r=st();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Ve(38017,{changeType:l})}})),new yh(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=TT()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,wt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class M5{constructor(e){this.Ge=e,this.ze=new Map,this.je=Fs(),this.He=sf(),this.Je=sf(),this.Ze=new nn(rt)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(uv(l))if(r===0){const c=new ke(l.path);this.et(n,c,oi.newNoDocument(c,Le.min()))}else wt(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const h=this.ut(e),d=h?this.ct(h,e,c):1;if(d!==0){this.it(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let c,h;try{c=Ua(r).toUint8Array()}catch(d){if(d instanceof pC)return Bo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new R0(c,a,l)}catch(d){return Bo(d instanceof Su?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&uv(h.target)){const d=new ke(h.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,oi.newNoDocument(d,e))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let r=st();this.Je.forEach(((l,c)=>{let h=!0;c.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Bm(e,n,this.Ze,this.je,r);return this.je=Fs(),this.He=sf(),this.Je=sf(),this.Ze=new nn(rt),a}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new xT,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Pn(rt),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Pn(rt),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new xT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function sf(){return new nn(ke.comparator)}function TT(){return new nn(ke.comparator)}const O5={asc:"ASCENDING",desc:"DESCENDING"},P5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V5={and:"AND",or:"OR"};class j5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fv(t,e){return t.useProto3Json||Om(e)?e:{value:e}}function Wf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function L5(t,e){return Wf(t,e.toTimestamp())}function es(t){return wt(!!t,49232),Le.fromTimestamp((function(n){const r=La(n);return new Be(r.seconds,r.nanos)})(t))}function I0(t,e){return mv(t,e).canonicalString()}function mv(t,e){const n=(function(a){return new Ut(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function $C(t){const e=Ut.fromString(t);return wt(QC(e),10190,{key:e.toString()}),e}function pv(t,e){return I0(t.databaseId,e.path)}function yy(t,e){const n=$C(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ke(YC(n))}function KC(t,e){return I0(t.databaseId,e)}function U5(t){const e=$C(t);return e.length===4?Ut.emptyPath():YC(e)}function gv(t){return new Ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YC(t){return wt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ET(t,e,n){return{name:pv(t,e),fields:n.value.mapValue.fields}}function z5(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ve(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(m,g){return m.useProto3Json?(wt(g===void 0||typeof g=="string",58123),qn.fromBase64String(g||"")):(wt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),qn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(m){const g=m.code===void 0?de.UNKNOWN:FC(m.code);return new _e(g,m.message||"")})(c);n=new HC(r,a,l,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=yy(t,r.document.name),l=es(r.document.updateTime),c=r.document.createTime?es(r.document.createTime):Le.min(),h=new Ii({mapValue:{fields:r.document.fields}}),d=oi.newFoundDocument(a,l,c,h),m=r.targetIds||[],g=r.removedTargetIds||[];n=new Sf(m,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=yy(t,r.document),l=r.readTime?es(r.readTime):Le.min(),c=oi.newNoDocument(a,l),h=r.removedTargetIds||[];n=new Sf([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=yy(t,r.document),l=r.removedTargetIds||[];n=new Sf([],l,a,null)}else{if(!("filter"in e))return Ve(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new I5(a,l),h=r.targetId;n=new qC(h,c)}}return n}function B5(t,e){let n;if(e instanceof gh)n={update:ET(t,e.key,e.value)};else if(e instanceof A0)n={delete:pv(t,e.key)};else if(e instanceof Ya)n={update:ET(t,e.key,e.data),updateMask:W5(e.fieldMask)};else{if(!(e instanceof A5))return Ve(16599,{dt:e.type});n={verify:pv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const h=c.transform;if(h instanceof Yf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Xu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Wu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Xf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Ve(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:L5(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ve(27497)})(t,e.precondition)),n}function F5(t,e){return t&&t.length>0?(wt(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?es(a.updateTime):es(l);return c.isEqual(Le.min())&&(c=es(l)),new T5(c,a.transformResults||[])})(n,e)))):[]}function q5(t,e){return{documents:[KC(t,e.path)]}}function H5(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=KC(t,a);const l=(function(m){if(m.length!==0)return WC(kr.create(m,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((g=>(function(w){return{field:Vl(w.field),direction:K5(w.dir)}})(g)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=fv(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:a}}function G5(t){let e=U5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){wt(r===1,65062);const g=n.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let l=[];n.where&&(l=(function(v){const w=XC(v);return w instanceof kr&&SC(w)?w.getFilters():[w]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((w=>(function(k){return new Kf(jl(k.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(w)))})(n.orderBy));let h=null;n.limit&&(h=(function(v){let w;return w=typeof v=="object"?v.value:v,Om(w)?null:w})(n.limit));let d=null;n.startAt&&(d=(function(v){const w=!!v.before,A=v.values||[];return new $f(A,w)})(n.startAt));let m=null;return n.endAt&&(m=(function(v){const w=!v.before,A=v.values||[];return new $f(A,w)})(n.endAt)),c5(e,a,c,l,h,"F",d,m)}function $5(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XC(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=jl(n.unaryFilter.field);return Sn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=jl(n.unaryFilter.field);return Sn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=jl(n.unaryFilter.field);return Sn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=jl(n.unaryFilter.field);return Sn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Sn.create(jl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return kr.create(n.compositeFilter.filters.map((r=>XC(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}})(n.compositeFilter.op))})(t):Ve(30097,{filter:t})}function K5(t){return O5[t]}function Y5(t){return P5[t]}function X5(t){return V5[t]}function Vl(t){return{fieldPath:t.canonicalString()}}function jl(t){return Fn.fromServerFormat(t.fieldPath)}function WC(t){return t instanceof Sn?(function(n){if(n.op==="=="){if(hT(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NAN"}};if(uT(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hT(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NOT_NAN"}};if(uT(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vl(n.field),op:Y5(n.op),value:n.value}}})(t):t instanceof kr?(function(n){const r=n.getFilters().map((a=>WC(a)));return r.length===1?r[0]:{compositeFilter:{op:X5(n.op),filters:r}}})(t):Ve(54877,{filter:t})}function W5(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function QC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function JC(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Ia{constructor(e,n,r,a,l=Le.min(),c=Le.min(),h=qn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Ia(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Q5{constructor(e){this.yt=e}}function J5(t){const e=G5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dv(e,e.limit,"L"):e}class Z5{constructor(){this.Sn=new ej}addToCollectionParentIndex(e,n){return this.Sn.add(n),me.resolve()}getCollectionParents(e,n){return me.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return me.resolve()}deleteFieldIndex(e,n){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,n){return me.resolve()}getDocumentsMatchingTarget(e,n){return me.resolve(null)}getIndexType(e,n){return me.resolve(0)}getFieldIndexes(e,n){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,n){return me.resolve(ja.min())}getMinOffsetFromCollectionGroup(e,n){return me.resolve(ja.min())}updateCollectionGroup(e,n,r){return me.resolve()}updateIndexEntries(e,n){return me.resolve()}}class ej{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Pn(Ut.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Pn(Ut.comparator)).toArray()}}const ST={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZC=41943040;class Ri{static withCacheSize(e){return new Ri(e,Ri.DEFAULT_COLLECTION_PERCENTILE,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Ri.DEFAULT_COLLECTION_PERCENTILE=10,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ri.DEFAULT=new Ri(ZC,Ri.DEFAULT_COLLECTION_PERCENTILE,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ri.DISABLED=new Ri(-1,0,0);class nc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new nc(0)}static ar(){return new nc(-1)}}const AT="LruGarbageCollector",tj=1048576;function CT([t,e],[n,r]){const a=rt(t,n);return a===0?rt(e,r):a}class nj{constructor(e){this.Pr=e,this.buffer=new Pn(CT),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();CT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ij{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Te(AT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){dc(n)?Te(AT,"Ignoring IndexedDB error during garbage collection: ",n):await hc(n)}await this.Ar(3e5)}))}}class rj{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return me.resolve(Mm.ce);const r=new nj(n);return this.Vr.forEachTarget(e,(a=>r.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>r.Er(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(ST)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ST):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,a,l,c,h,d,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(r=v,h=Date.now(),this.removeTargets(e,r,n)))).next((v=>(l=v,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(m=Date.now(),Ol()<=it.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(m-d)+`ms
Total Duration: ${m-g}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function sj(t,e){return new rj(t,e)}class aj{constructor(){this.changes=new Go((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,oi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?me.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class oj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class lj{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&Mu(r.mutation,a,Hi.empty(),Be.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,st()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=st()){const a=Do();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((l=>{let c=Eu();return l.forEach(((h,d)=>{c=c.insert(h,d.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=Do();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,st())))}populateOverlays(e,n,r){const a=[];return r.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,r,a){let l=Fs();const c=ku(),h=(function(){return ku()})();return n.forEach(((d,m)=>{const g=r.get(m.key);a.has(m.key)&&(g===void 0||g.mutation instanceof Ya)?l=l.insert(m.key,m):g!==void 0?(c.set(m.key,g.mutation.getFieldMask()),Mu(g.mutation,m,g.mutation.getFieldMask(),Be.now())):c.set(m.key,Hi.empty())})),this.recalculateAndSaveOverlays(e,l).next((d=>(d.forEach(((m,g)=>c.set(m,g))),n.forEach(((m,g)=>h.set(m,new oj(g,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=ku();let a=new nn(((c,h)=>c-h)),l=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((d=>{const m=n.get(d);if(m===null)return;let g=r.get(d)||Hi.empty();g=h.applyToLocalView(m,g),r.set(d,g);const v=(a.get(h.batchId)||st()).add(d);a=a.insert(h.batchId,v)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,g=d.value,v=OC();g.forEach((w=>{if(!l.has(w)){const A=zC(n.get(w),r.get(w));A!==null&&v.set(w,A),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,v))}return me.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return u5(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):IC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):me.resolve(Do());let h=$u,d=l;return c.next((m=>me.forEach(m,((g,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(g)?me.resolve():this.remoteDocumentCache.getEntry(e,g).next((w=>{d=d.insert(g,w)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,d,m,st()))).next((g=>({batchId:h,changes:MC(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next((r=>{let a=Eu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const l=n.collectionGroup;let c=Eu();return this.indexManager.getCollectionParents(e,l).next((h=>me.forEach(h,(d=>{const m=(function(v,w){return new ph(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,r,a).next((g=>{g.forEach(((v,w)=>{c=c.insert(v,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,a)))).next((c=>{l.forEach(((d,m)=>{const g=m.getKey();c.get(g)===null&&(c=c.insert(g,oi.newInvalidDocument(g)))}));let h=Eu();return c.forEach(((d,m)=>{const g=l.get(d);g!==void 0&&Mu(g.mutation,m,Hi.empty(),Be.now()),Lm(n,m)&&(h=h.insert(d,m))})),h}))}}class cj{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return me.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:es(a.createTime)}})(n)),me.resolve()}getNamedQuery(e,n){return me.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:J5(a.bundledQuery),readTime:es(a.readTime)}})(n)),me.resolve()}}class uj{constructor(){this.overlays=new nn(ke.comparator),this.Lr=new Map}getOverlay(e,n){return me.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Do();return me.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,l)=>{this.bt(e,n,l)})),me.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.Lr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(r)),me.resolve()}getOverlaysForCollection(e,n,r){const a=Do(),l=n.length+1,c=new ke(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&d.largestBatchId>r&&a.set(d.getKey(),d)}return me.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new nn(((m,g)=>m-g));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let g=l.get(m.largestBatchId);g===null&&(g=Do(),l=l.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const h=Do(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,g)=>h.set(m,g))),!(h.size()>=a)););return me.resolve(h)}bt(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(r.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new R5(n,r));let l=this.Lr.get(n);l===void 0&&(l=st(),this.Lr.set(n,l)),this.Lr.set(n,l.add(r.key))}}class hj{constructor(){this.sessionToken=qn.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,me.resolve()}}class N0{constructor(){this.kr=new Pn(zn.Kr),this.qr=new Pn(zn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new zn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new zn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new ke(new Ut([])),r=new zn(n,e),a=new zn(n,e+1),l=[];return this.qr.forEachInRange([r,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ke(new Ut([])),r=new zn(n,e),a=new zn(n,e+1);let l=st();return this.qr.forEachInRange([r,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new zn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ke.comparator(e.key,n.key)||rt(e.Hr,n.Hr)}static Ur(e,n){return rt(e.Hr,n.Hr)||ke.comparator(e.key,n.key)}}class dj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Pn(zn.Kr)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new C5(l,n,r,a);this.mutationQueue.push(c);for(const h of a)this.Jr=this.Jr.add(new zn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return me.resolve(c)}lookupMutationBatch(e,n){return me.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.Xr(r),l=a<0?0:a;return me.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?_0:this.Yn-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zn(n,0),a=new zn(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([r,a],(c=>{const h=this.Zr(c.Hr);l.push(h)})),me.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pn(rt);return n.forEach((a=>{const l=new zn(a,0),c=new zn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(h=>{r=r.add(h.Hr)}))})),me.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;ke.isDocumentKey(l)||(l=l.child(""));const c=new zn(new ke(l),0);let h=new Pn(rt);return this.Jr.forEachWhile((d=>{const m=d.key.path;return!!r.isPrefixOf(m)&&(m.length===a&&(h=h.add(d.Hr)),!0)}),c),me.resolve(this.Yr(h))}Yr(e){const n=[];return e.forEach((r=>{const a=this.Zr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){wt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return me.forEach(n.mutations,(a=>{const l=new zn(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new zn(n,0),a=this.Jr.firstAfterOrEqual(r);return me.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class fj{constructor(e){this.ti=e,this.docs=(function(){return new nn(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return me.resolve(r?r.document.mutableCopy():oi.newInvalidDocument(n))}getEntries(e,n){let r=Fs();return n.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():oi.newInvalidDocument(a))})),me.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=Fs();const c=n.path,h=new ke(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:g}}=d.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||z4(U4(g),r)<=0||(a.has(g.key)||Lm(n,g))&&(l=l.insert(g.key,g.mutableCopy()))}return me.resolve(l)}getAllFromCollectionGroup(e,n,r,a){Ve(9500)}ni(e,n){return me.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new mj(this)}getSize(e){return me.resolve(this.size)}}class mj extends aj{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(r)})),me.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class pj{constructor(e){this.persistence=e,this.ri=new Go((n=>T0(n)),E0),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.ii=0,this.si=new N0,this.targetCount=0,this.oi=nc._r()}forEachTarget(e,n){return this.ri.forEach(((r,a)=>n(a))),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),me.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new nc(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,me.resolve()}updateTargetData(e,n){return this.lr(n),me.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),me.waitFor(l).next((()=>a))}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return me.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),me.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),me.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),me.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return me.resolve(r)}containsKey(e,n){return me.resolve(this.si.containsKey(n))}}class e2{constructor(e,n){this._i={},this.overlays={},this.ai=new Mm(0),this.ui=!1,this.ui=!0,this.ci=new hj,this.referenceDelegate=e(this),this.li=new pj(this),this.indexManager=new Z5,this.remoteDocumentCache=(function(a){return new fj(a)})((r=>this.referenceDelegate.hi(r))),this.serializer=new Q5(n),this.Pi=new cj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new dj(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const a=new gj(this.ai.next());return this.referenceDelegate.Ti(),r(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return me.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class gj extends F4{constructor(e){super(),this.currentSequenceNumber=e}}class D0{constructor(e){this.persistence=e,this.Ri=new N0,this.Ai=null}static Vi(e){return new D0(e)}get di(){if(this.Ai)return this.Ai;throw Ve(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),me.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),me.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.di,(r=>{const a=ke.fromPath(r);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Le.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return me.or([()=>me.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Qf{constructor(e,n){this.persistence=e,this.fi=new Go((r=>G4(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=sj(this,n)}static Vi(e,n){return new Qf(e,n)}Ti(){}Ii(e){return me.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return me.forEach(this.fi,((r,a)=>this.wr(e,r,a).next((l=>l?me.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,n).next((h=>{h||(r++,l.removeEntry(c,Le.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),me.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),me.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),me.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=xf(e.data.value)),n}wr(e,n,r){return me.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return me.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class k0{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=a}static Es(e,n){let r=st(),a=st();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new k0(e,n.fromCache,r,a)}}class yj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class vj{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return oO()?8:q4(ci())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const l={result:null};return this.gs(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,n,a,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new yj;return this.ys(e,n,c).next((h=>{if(l.result=h,this.As)return this.ws(e,n,c,h.size)}))})).next((()=>l.result))}ws(e,n,r,a){return r.documentReadCount<this.Vs?(Ol()<=it.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Pl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),me.resolve()):(Ol()<=it.DEBUG&&Te("QueryEngine","Query:",Pl(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Ol()<=it.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Pl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zr(n))):me.resolve())}gs(e,n){if(pT(n))return me.resolve(null);let r=Zr(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=dv(n,null,"F"),r=Zr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=st(...l);return this.fs.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((d=>{const m=this.bs(n,h);return this.Ss(n,m,c,d.readTime)?this.gs(e,dv(n,null,"F")):this.Ds(e,m,n,d)}))))})))))}ps(e,n,r,a){return pT(n)||a.isEqual(Le.min())?me.resolve(null):this.fs.getDocuments(e,r).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,r,a)?me.resolve(null):(Ol()<=it.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Pl(n)),this.Ds(e,c,n,L4(a,$u)).next((h=>h)))}))}bs(e,n){let r=new Pn(DC(e));return n.forEach(((a,l)=>{Lm(e,l)&&(r=r.add(l))})),r}Ss(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,r){return Ol()<=it.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Pl(n)),this.fs.getDocumentsMatchingQuery(e,n,ja.min(),r)}Ds(e,n,r,a){return this.fs.getDocumentsMatchingQuery(e,r,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const M0="LocalStore",bj=3e8;class _j{constructor(e,n,r,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new nn(rt),this.Fs=new Go((l=>T0(l)),E0),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lj(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function wj(t,e,n,r){return new _j(t,e,n,r)}async function t2(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],h=[];let d=st();for(const m of a){c.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}for(const m of l){h.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(r,d).next((m=>({Ns:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function xj(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(h,d,m,g){const v=m.batch,w=v.keys();let A=me.resolve();return w.forEach((k=>{A=A.next((()=>g.getEntry(d,k))).next((M=>{const I=m.docVersions.get(k);wt(I!==null,48541),M.version.compareTo(I)<0&&(v.applyToRemoteDocument(M,m),M.isValidDocument()&&(M.setReadTime(m.commitVersion),g.addEntry(M)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let d=st();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function n2(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function Tj(t,e){const n=Fe(t),r=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const h=[];e.targetChanges.forEach(((g,v)=>{const w=a.get(v);if(!w)return;h.push(n.li.removeMatchingKeys(l,g.removedDocuments,v).next((()=>n.li.addMatchingKeys(l,g.addedDocuments,v))));let A=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?A=A.withResumeToken(qn.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):g.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(g.resumeToken,r)),a=a.insert(v,A),(function(M,I,B){return M.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=bj?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(w,A,g)&&h.push(n.li.updateTargetData(l,A))}));let d=Fs(),m=st();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,g))})),h.push(Ej(l,c,e.documentUpdates).next((g=>{d=g.Bs,m=g.Ls}))),!r.isEqual(Le.min())){const g=n.li.getLastRemoteSnapshotVersion(l).next((v=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,r)));h.push(g)}return me.waitFor(h).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,d,m))).next((()=>d))})).then((l=>(n.vs=a,l)))}function Ej(t,e,n){let r=st(),a=st();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let c=Fs();return n.forEach(((h,d)=>{const m=l.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Le.min())?(e.removeEntry(h,d.readTime),c=c.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),c=c.insert(h,d)):Te(M0,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)})),{Bs:c,Ls:a}}))}function Sj(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=_0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Aj(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.li.getTargetData(r,e).next((l=>l?(a=l,me.resolve(a)):n.li.allocateTargetId(r).next((c=>(a=new Ia(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.vs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function yv(t,e,n){const r=Fe(t),a=r.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!dc(c))throw c;Te(M0,`Failed to update sequence numbers for target ${e}: ${c}`)}r.vs=r.vs.remove(e),r.Fs.delete(a.target)}function RT(t,e,n){const r=Fe(t);let a=Le.min(),l=st();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,m,g){const v=Fe(d),w=v.Fs.get(g);return w!==void 0?me.resolve(v.vs.get(w)):v.li.getTargetData(m,g)})(r,c,Zr(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,h.targetId).next((d=>{l=d}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,n?a:Le.min(),n?l:st()))).next((h=>(Cj(r,d5(e),h),{documents:h,ks:l})))))}function Cj(t,e,n){let r=t.Ms.get(e)||Le.min();n.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.Ms.set(e,r)}class IT{constructor(){this.activeTargetIds=v5()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rj{constructor(){this.vo=new IT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new IT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ij{Mo(e){}shutdown(){}}const NT="ConnectivityMonitor";class DT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Te(NT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Te(NT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let af=null;function vv(){return af===null?af=(function(){return 268435456+Math.round(2147483648*Math.random())})():af++,"0x"+af.toString(16)}const vy="RestConnection",Nj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Dj{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${a}`,this.$o=this.databaseId.database===Hf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(e,n,r,a,l){const c=vv(),h=this.Qo(e,n.toUriEncodedString());Te(vy,`Sending RPC '${e}' ${c}:`,h,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,a,l);const{host:m}=new URL(h),g=qo(m);return this.zo(e,h,d,r,g).then((v=>(Te(vy,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw Bo(vy,`RPC '${e}' ${c} failed with error: `,v,"url: ",h,"request:",r),v}))}jo(e,n,r,a,l,c){return this.Wo(e,n,r,a,l)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+uc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const r=Nj[e];let a=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class kj{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const ii="WebChannelConnection",yu=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(a){setTimeout((()=>{throw a}),0)}}))};class $l extends Dj{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!$l.c_){const e=sC();yu(e,rC.STAT_EVENT,(n=>{n.stat===sv.PROXY?Te(ii,"STAT_EVENT: detected buffering proxy"):n.stat===sv.NOPROXY&&Te(ii,"STAT_EVENT: detected no buffering proxy")})),$l.c_=!0}}zo(e,n,r,a,l){const c=vv();return new Promise(((h,d)=>{const m=new nC;m.setWithCredentials(!0),m.listenOnce(iC.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case wf.NO_ERROR:const v=m.getResponseJson();Te(ii,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),h(v);break;case wf.TIMEOUT:Te(ii,`RPC '${e}' ${c} timed out`),d(new _e(de.DEADLINE_EXCEEDED,"Request time out"));break;case wf.HTTP_ERROR:const w=m.getStatus();if(Te(ii,`RPC '${e}' ${c} failed with status:`,w,"response text:",m.getResponseText()),w>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const k=A?.error;if(k&&k.status&&k.message){const M=(function(B){const H=B.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(H)>=0?H:de.UNKNOWN})(k.status);d(new _e(M,k.message))}else d(new _e(de.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new _e(de.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{Te(ii,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(a);Te(ii,`RPC '${e}' ${c} sending request:`,a),m.send(n,"POST",g,r,15)}))}T_(e,n,r){const a=vv(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=l.join("");Te(ii,`Creating RPC '${e}' stream ${a}: ${m}`,h);const g=c.createWebChannel(m,h);this.I_(g);let v=!1,w=!1;const A=new kj({Ho:k=>{w?Te(ii,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(v||(Te(ii,`Opening RPC '${e}' stream ${a} transport.`),g.open(),v=!0),Te(ii,`RPC '${e}' stream ${a} sending:`,k),g.send(k))},Jo:()=>g.close()});return yu(g,Tu.EventType.OPEN,(()=>{w||(Te(ii,`RPC '${e}' stream ${a} transport opened.`),A.i_())})),yu(g,Tu.EventType.CLOSE,(()=>{w||(w=!0,Te(ii,`RPC '${e}' stream ${a} transport closed`),A.o_(),this.E_(g))})),yu(g,Tu.EventType.ERROR,(k=>{w||(w=!0,Bo(ii,`RPC '${e}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),A.o_(new _e(de.UNAVAILABLE,"The operation could not be completed")))})),yu(g,Tu.EventType.MESSAGE,(k=>{if(!w){const M=k.data[0];wt(!!M,16349);const I=M,B=I?.error||I[0]?.error;if(B){Te(ii,`RPC '${e}' stream ${a} received error:`,B);const H=B.status;let q=(function(ae){const N=Tn[ae];if(N!==void 0)return FC(N)})(H),le=B.message;q===void 0&&(q=de.INTERNAL,le="Unknown error status: "+H+" with message "+B.message),w=!0,A.o_(new _e(q,le)),g.close()}else Te(ii,`RPC '${e}' stream ${a} received:`,M),A.__(M)}})),$l.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return aC()}}function Mj(t){return new $l(t)}function by(){return typeof document<"u"?document:null}function Fm(t){return new j5(t,!0)}$l.c_=!1;class i2{constructor(e,n,r=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&Te("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const kT="PersistentStream";class r2{constructor(e,n,r,a,l,c,h,d){this.Ci=e,this.b_=r,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new i2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(Bs(n.toString()),Bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new _e(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(kT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Te(kT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Oj extends r2{constructor(e,n,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=z5(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Le.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Le.min():c.readTime?es(c.readTime):Le.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=gv(this.serializer),n.addTarget=(function(l,c){let h;const d=c.target;if(h=uv(d)?{documents:q5(l,d)}:{query:H5(l,d).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=GC(l,c.resumeToken);const m=fv(l,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(Le.min())>0){h.readTime=Wf(l,c.snapshotVersion.toTimestamp());const m=fv(l,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const r=$5(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=gv(this.serializer),n.removeTarget=e,this.K_(n)}}class Pj extends r2{constructor(e,n,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=F5(e.writeResults,e.commitTime),r=es(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=gv(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>B5(this.serializer,r)))};this.K_(n)}}class Vj{}class jj extends Vj{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new _e(de.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,mv(n,r),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(de.UNKNOWN,l.toString())}))}jo(e,n,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(e,mv(n,r),a,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(de.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Lj(t,e,n,r){return new jj(t,e,n,r)}class Uj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Bs(n),this.aa=!1):Te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Fo="RemoteStore";class zj{constructor(e,n,r,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{$o(this)&&(Te(Fo,"Restarting streams for network reachability change."),await(async function(d){const m=Fe(d);m.Ea.add(4),await vh(m),m.Va.set("Unknown"),m.Ea.delete(4),await qm(m)})(this))}))})),this.Va=new Uj(r,a)}}async function qm(t){if($o(t))for(const e of t.Ra)await e(!0)}async function vh(t){for(const e of t.Ra)await e(!1)}function s2(t,e){const n=Fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),j0(n)?V0(n):fc(n).O_()&&P0(n,e))}function O0(t,e){const n=Fe(t),r=fc(n);n.Ia.delete(e),r.O_()&&a2(n,e),n.Ia.size===0&&(r.O_()?r.L_():$o(n)&&n.Va.set("Unknown"))}function P0(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fc(t).Z_(e)}function a2(t,e){t.da.$e(e),fc(t).X_(e)}function V0(t){t.da=new M5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),fc(t).start(),t.Va.ua()}function j0(t){return $o(t)&&!fc(t).x_()&&t.Ia.size>0}function $o(t){return Fe(t).Ea.size===0}function o2(t){t.da=void 0}async function Bj(t){t.Va.set("Online")}async function Fj(t){t.Ia.forEach(((e,n)=>{P0(t,e)}))}async function qj(t,e){o2(t),j0(t)?(t.Va.ha(e),V0(t)):t.Va.set("Unknown")}async function Hj(t,e,n){if(t.Va.set("Online"),e instanceof HC&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.da.removeTarget(h))})(t,e)}catch(r){Te(Fo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jf(t,r)}else if(e instanceof Sf?t.da.Xe(e):e instanceof qC?t.da.st(e):t.da.tt(e),!n.isEqual(Le.min()))try{const r=await n2(t.localStore);n.compareTo(r)>=0&&await(function(l,c){const h=l.da.Tt(c);return h.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const g=l.Ia.get(m);g&&l.Ia.set(m,g.withResumeToken(d.resumeToken,c))}})),h.targetMismatches.forEach(((d,m)=>{const g=l.Ia.get(d);if(!g)return;l.Ia.set(d,g.withResumeToken(qn.EMPTY_BYTE_STRING,g.snapshotVersion)),a2(l,d);const v=new Ia(g.target,d,m,g.sequenceNumber);P0(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){Te(Fo,"Failed to raise snapshot:",r),await Jf(t,r)}}async function Jf(t,e,n){if(!dc(e))throw e;t.Ea.add(1),await vh(t),t.Va.set("Offline"),n||(n=()=>n2(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Te(Fo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await qm(t)}))}function l2(t,e){return e().catch((n=>Jf(t,n,e)))}async function Hm(t){const e=Fe(t),n=Ba(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_0;for(;Gj(e);)try{const a=await Sj(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,$j(e,a)}catch(a){await Jf(e,a)}c2(e)&&u2(e)}function Gj(t){return $o(t)&&t.Ta.length<10}function $j(t,e){t.Ta.push(e);const n=Ba(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function c2(t){return $o(t)&&!Ba(t).x_()&&t.Ta.length>0}function u2(t){Ba(t).start()}async function Kj(t){Ba(t).ra()}async function Yj(t){const e=Ba(t);for(const n of t.Ta)e.ea(n.mutations)}async function Xj(t,e,n){const r=t.Ta.shift(),a=C0.from(r,e,n);await l2(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Hm(t)}async function Wj(t,e){e&&Ba(t).Y_&&await(async function(r,a){if((function(c){return N5(c)&&c!==de.ABORTED})(a.code)){const l=r.Ta.shift();Ba(r).B_(),await l2(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Hm(r)}})(t,e),c2(t)&&u2(t)}async function MT(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),Te(Fo,"RemoteStore received new credentials");const r=$o(n);n.Ea.add(3),await vh(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await qm(n)}async function Qj(t,e){const n=Fe(t);e?(n.Ea.delete(2),await qm(n)):e||(n.Ea.add(2),await vh(n),n.Va.set("Unknown"))}function fc(t){return t.ma||(t.ma=(function(n,r,a){const l=Fe(n);return l.sa(),new Oj(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:Bj.bind(null,t),Yo:Fj.bind(null,t),t_:qj.bind(null,t),J_:Hj.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),j0(t)?V0(t):t.Va.set("Unknown")):(await t.ma.stop(),o2(t))}))),t.ma}function Ba(t){return t.fa||(t.fa=(function(n,r,a){const l=Fe(n);return l.sa(),new Pj(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Kj.bind(null,t),t_:Wj.bind(null,t),ta:Yj.bind(null,t),na:Xj.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Hm(t)):(await t.fa.stop(),t.Ta.length>0&&(Te(Fo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class L0{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,l){const c=Date.now()+r,h=new L0(e,n,c,a,l);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function U0(t,e){if(Bs("AsyncQueue",`${e}: ${t}`),dc(t))return new _e(de.UNAVAILABLE,`${e}: ${t}`);throw t}class Kl{static emptySet(e){return new Kl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ke.comparator(n.key,r.key):(n,r)=>ke.comparator(n.key,r.key),this.keyedMap=Eu(),this.sortedSet=new nn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Kl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Kl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class OT{constructor(){this.ga=new nn(ke.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ve(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class ic{constructor(e,n,r,a,l,c,h,d,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,a,l){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new ic(e,n,Kl.emptySet(n),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class Jj{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Zj{constructor(){this.queries=PT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=Fe(n),l=a.queries;a.queries=PT(),l.forEach(((c,h)=>{for(const d of h.ba)d.onError(r)}))})(this,new _e(de.ABORTED,"Firestore shutting down"))}}function PT(){return new Go((t=>NC(t)),jm)}async function z0(t,e){const n=Fe(t);let r=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(r=2):(l=new Jj,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=U0(c,`Initialization of query '${Pl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&F0(n)}async function B0(t,e){const n=Fe(t),r=e.query;let a=3;const l=n.queries.get(r);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function e3(t,e){const n=Fe(t);let r=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const h of c.ba)h.Fa(a)&&(r=!0);c.wa=a}}r&&F0(n)}function t3(t,e,n){const r=Fe(t),a=r.queries.get(e);if(a)for(const l of a.ba)l.onError(n);r.queries.delete(e)}function F0(t){t.Ca.forEach((e=>{e.next()}))}var bv,VT;(VT=bv||(bv={})).Ma="default",VT.Cache="cache";class q0{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new ic(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ic.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bv.Cache}}class h2{constructor(e){this.key=e}}class d2{constructor(e){this.key=e}}class n3{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=st(),this.mutatedKeys=st(),this.eu=DC(e),this.tu=new Kl(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new OT,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,v)=>{const w=a.get(g),A=Lm(this.query,v)?v:null,k=!!w&&this.mutatedKeys.has(w.key),M=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let I=!1;w&&A?w.data.isEqual(A.data)?k!==M&&(r.track({type:3,doc:A}),I=!0):this.su(w,A)||(r.track({type:2,doc:A}),I=!0,(d&&this.eu(A,d)>0||m&&this.eu(A,m)<0)&&(h=!0)):!w&&A?(r.track({type:0,doc:A}),I=!0):w&&!A&&(r.track({type:1,doc:w}),I=!0,(d||m)&&(h=!0)),I&&(A?(c=c.add(A),l=M?l.add(g):l.delete(g)):(c=c.delete(g),l=l.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),l=l.delete(g.key),r.track({type:1,doc:g})}return{tu:c,iu:r,Ss:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,v)=>(function(A,k){const M=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Vt:I})}};return M(A)-M(k)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(r),a=a??!1;const h=n&&!a?this._u():[],d=this.Ya.size===0&&this.current&&!a?1:0,m=d!==this.Xa;return this.Xa=d,c.length!==0||m?{snapshot:new ic(this.query,e.tu,l,c,e.mutatedKeys,d===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new OT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=st(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new d2(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new h2(r))})),n}cu(e){this.Za=e.ks,this.Ya=st();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ic.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const H0="SyncEngine";class i3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class r3{constructor(e){this.key=e,this.hu=!1}}class s3{constructor(e,n,r,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Go((h=>NC(h)),jm),this.Iu=new Map,this.Eu=new Set,this.Ru=new nn(ke.comparator),this.Au=new Map,this.Vu=new N0,this.du={},this.mu=new Map,this.fu=nc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function a3(t,e,n=!0){const r=v2(t);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await f2(r,e,n,!0),a}async function o3(t,e){const n=v2(t);await f2(n,e,!0,!1)}async function f2(t,e,n,r){const a=await Aj(t.localStore,Zr(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let h;return r&&(h=await l3(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&s2(t.remoteStore,a),h}async function l3(t,e,n,r,a){t.pu=(v,w,A)=>(async function(M,I,B,H){let q=I.view.ru(B);q.Ss&&(q=await RT(M.localStore,I.query,!1).then((({documents:N})=>I.view.ru(N,q))));const le=H&&H.targetChanges.get(I.targetId),re=H&&H.targetMismatches.get(I.targetId)!=null,ae=I.view.applyChanges(q,M.isPrimaryClient,le,re);return LT(M,I.targetId,ae.au),ae.snapshot})(t,v,w,A);const l=await RT(t.localStore,e,!0),c=new n3(e,l.ks),h=c.ru(l.documents),d=yh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),m=c.applyChanges(h,t.isPrimaryClient,d);LT(t,n,m.au);const g=new i3(e,n,c);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function c3(t,e,n){const r=Fe(t),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((c=>!jm(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await yv(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&O0(r.remoteStore,a.targetId),_v(r,a.targetId)})).catch(hc)):(_v(r,a.targetId),await yv(r.localStore,a.targetId,!0))}async function u3(t,e){const n=Fe(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),O0(n.remoteStore,r.targetId))}async function h3(t,e,n){const r=v3(t);try{const a=await(function(c,h){const d=Fe(c),m=Be.now(),g=h.reduce(((A,k)=>A.add(k.key)),st());let v,w;return d.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let k=Fs(),M=st();return d.xs.getEntries(A,g).next((I=>{k=I,k.forEach(((B,H)=>{H.isValidDocument()||(M=M.add(B))}))})).next((()=>d.localDocuments.getOverlayedDocuments(A,k))).next((I=>{v=I;const B=[];for(const H of h){const q=S5(H,v.get(H.key).overlayedDocument);q!=null&&B.push(new Ya(H.key,q,xC(q.value.mapValue),ur.exists(!0)))}return d.mutationQueue.addMutationBatch(A,m,B,h)})).next((I=>{w=I;const B=I.applyToLocalDocumentSet(v,M);return d.documentOverlayCache.saveOverlays(A,I.batchId,B)}))})).then((()=>({batchId:w.batchId,changes:MC(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,h,d){let m=c.du[c.currentUser.toKey()];m||(m=new nn(rt)),m=m.insert(h,d),c.du[c.currentUser.toKey()]=m})(r,a.batchId,n),await bh(r,a.changes),await Hm(r.remoteStore)}catch(a){const l=U0(a,"Failed to persist write");n.reject(l)}}async function m2(t,e){const n=Fe(t);try{const r=await Tj(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(wt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?wt(c.hu,14607):a.removedDocuments.size>0&&(wt(c.hu,42227),c.hu=!1))})),await bh(n,r,e)}catch(r){await hc(r)}}function jT(t,e,n){const r=Fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((l,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const d=Fe(c);d.onlineState=h;let m=!1;d.queries.forEach(((g,v)=>{for(const w of v.ba)w.va(h)&&(m=!0)})),m&&F0(d)})(r.eventManager,e),a.length&&r.Pu.J_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function d3(t,e,n){const r=Fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),l=a&&a.key;if(l){let c=new nn(ke.comparator);c=c.insert(l,oi.newNoDocument(l,Le.min()));const h=st().add(l),d=new Bm(Le.min(),new Map,new nn(rt),c,h);await m2(r,d),r.Ru=r.Ru.remove(l),r.Au.delete(e),G0(r)}else await yv(r.localStore,e,!1).then((()=>_v(r,e,n))).catch(hc)}async function f3(t,e){const n=Fe(t),r=e.batch.batchId;try{const a=await xj(n.localStore,e);g2(n,r,null),p2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bh(n,a)}catch(a){await hc(a)}}async function m3(t,e,n){const r=Fe(t);try{const a=await(function(c,h){const d=Fe(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return d.mutationQueue.lookupMutationBatch(m,h).next((v=>(wt(v!==null,37113),g=v.keys(),d.mutationQueue.removeMutationBatch(m,v)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,g,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>d.localDocuments.getDocuments(m,g)))}))})(r.localStore,e);g2(r,e,n),p2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bh(r,a)}catch(a){await hc(a)}}function p2(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function g2(t,e,n){const r=Fe(t);let a=r.du[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.du[r.currentUser.toKey()]=a}}function _v(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||y2(t,r)}))}function y2(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(O0(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),G0(t))}function LT(t,e,n){for(const r of n)r instanceof h2?(t.Vu.addReference(r.key,e),p3(t,r)):r instanceof d2?(Te(H0,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||y2(t,r.key)):Ve(19791,{wu:r})}function p3(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Te(H0,"New document in limbo: "+n),t.Eu.add(r),G0(t))}function G0(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ke(Ut.fromString(e)),r=t.fu.next();t.Au.set(r,new r3(n)),t.Ru=t.Ru.insert(n,r),s2(t.remoteStore,new Ia(Zr(Vm(n.path)),r,"TargetPurposeLimboResolution",Mm.ce))}}async function bh(t,e,n){const r=Fe(t),a=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,d)=>{c.push(r.pu(d,e,n).then((m=>{if((m||n)&&r.isPrimaryClient){const g=m?!m.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(m){a.push(m);const g=k0.Es(d.targetId,m);l.push(g)}})))})),await Promise.all(c),r.Pu.J_(a),await(async function(d,m){const g=Fe(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>me.forEach(m,(w=>me.forEach(w.Ts,(A=>g.persistence.referenceDelegate.addReference(v,w.targetId,A))).next((()=>me.forEach(w.Is,(A=>g.persistence.referenceDelegate.removeReference(v,w.targetId,A)))))))))}catch(v){if(!dc(v))throw v;Te(M0,"Failed to update sequence numbers: "+v)}for(const v of m){const w=v.targetId;if(!v.fromCache){const A=g.vs.get(w),k=A.snapshotVersion,M=A.withLastLimboFreeSnapshotVersion(k);g.vs=g.vs.insert(w,M)}}})(r.localStore,l))}async function g3(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){Te(H0,"User change. New user:",e.toKey());const r=await t2(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new _e(de.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bh(n,r.Ns)}}function y3(t,e){const n=Fe(t),r=n.Au.get(e);if(r&&r.hu)return st().add(r.key);{let a=st();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const h=n.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function v2(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=m2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=d3.bind(null,e),e.Pu.J_=e3.bind(null,e.eventManager),e.Pu.yu=t3.bind(null,e.eventManager),e}function v3(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=m3.bind(null,e),e}class Zf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return wj(this.persistence,new vj,e.initialUser,this.serializer)}Cu(e){return new e2(D0.Vi,this.serializer)}Du(e){return new Rj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zf.provider={build:()=>new Zf};class b3 extends Zf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){wt(this.persistence.referenceDelegate instanceof Qf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ij(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ri.withCacheSize(this.cacheSizeBytes):Ri.DEFAULT;return new e2((r=>Qf.Vi(r,n)),this.serializer)}}class wv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=g3.bind(null,this.syncEngine),await Qj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Zj})()}createDatastore(e){const n=Fm(e.databaseInfo.databaseId),r=Mj(e.databaseInfo);return Lj(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,l,c,h){return new zj(r,a,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>jT(this.syncEngine,n,0)),(function(){return DT.v()?new DT:new Ij})())}createSyncEngine(e,n){return(function(a,l,c,h,d,m,g){const v=new s3(a,l,c,h,d,m);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Fe(n);Te(Fo,"RemoteStore shutting down."),r.Ea.add(5),await vh(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wv.provider={build:()=>new wv};class $0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Bs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Fa="FirestoreClient";class _3{constructor(e,n,r,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=a,this.user=si.UNAUTHENTICATED,this.clientId=Dm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{Te(Fa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Te(Fa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=U0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function _y(t,e){t.asyncQueue.verifyOperationInProgress(),Te(Fa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await t2(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function UT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await w3(t);Te(Fa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>MT(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>MT(e.remoteStore,a))),t._onlineComponents=e}async function w3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(Fa,"Using user provided OfflineComponentProvider");try{await _y(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===de.FAILED_PRECONDITION||a.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Bo("Error using user provided cache. Falling back to memory cache: "+n),await _y(t,new Zf)}}else Te(Fa,"Using default OfflineComponentProvider"),await _y(t,new b3(void 0));return t._offlineComponents}async function b2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(Fa,"Using user provided OnlineComponentProvider"),await UT(t,t._uninitializedComponentsProvider._online)):(Te(Fa,"Using default OnlineComponentProvider"),await UT(t,new wv))),t._onlineComponents}function x3(t){return b2(t).then((e=>e.syncEngine))}async function em(t){const e=await b2(t),n=e.eventManager;return n.onListen=a3.bind(null,e.syncEngine),n.onUnlisten=c3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=o3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=u3.bind(null,e.syncEngine),n}function T3(t,e,n,r){const a=new $0(r),l=new q0(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>z0(await em(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>B0(await em(t),l)))}}function E3(t,e,n={}){const r=new Ps;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,d,m){const g=new $0({next:w=>{g.Nu(),c.enqueueAndForget((()=>B0(l,v)));const A=w.docs.has(h);!A&&w.fromCache?m.reject(new _e(de.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&w.fromCache&&d&&d.source==="server"?m.reject(new _e(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(w)},error:w=>m.reject(w)}),v=new q0(Vm(h.path),g,{includeMetadataChanges:!0,Ka:!0});return z0(l,v)})(await em(t),t.asyncQueue,e,n,r))),r.promise}function S3(t,e,n={}){const r=new Ps;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,d,m){const g=new $0({next:w=>{g.Nu(),c.enqueueAndForget((()=>B0(l,v))),w.fromCache&&d.source==="server"?m.reject(new _e(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(w)},error:w=>m.reject(w)}),v=new q0(h,g,{includeMetadataChanges:!0,Ka:!0});return z0(l,v)})(await em(t),t.asyncQueue,e,n,r))),r.promise}function A3(t,e){const n=new Ps;return t.asyncQueue.enqueueAndForget((async()=>h3(await x3(t),e,n))),n.promise}function _2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const C3="ComponentProvider",zT=new Map;function R3(t,e,n,r,a){return new Y4(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,_2(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,r)}const w2="firestore.googleapis.com",BT=!0;class FT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=w2,this.ssl=BT}else this.host=e.host,this.ssl=e.ssl??BT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tj)throw new _e(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_2(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new _e(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new _e(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new _e(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gm{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new cC;switch(r.type){case"firstParty":return new k4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=zT.get(n);r&&(Te(C3,"Removing Datastore"),zT.delete(n),r.terminate())})(this),Promise.resolve()}}function x2(t,e,n,r={}){t=pi(t,Gm);const a=qo(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(r0(`https://${h}`),s0("Firestore",!0)),l.host!==w2&&l.host!==h&&Bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:h,ssl:a,emulatorOptions:r};if(!jo(d,c)&&(t._setSettings(d),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=si.MOCK_USER;else{m=bA(r.mockUserToken,t._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new _e(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new si(v)}t._authCredentials=new I4(new lC(m,g))}}class Xa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xa(this.firestore,e,this._query)}}class tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}toJSON(){return{type:tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(mh(n,tn._jsonSchema))return new tn(e,r||null,new ke(Ut.fromString(n.referencePath)))}}tn._jsonSchemaVersion="firestore/documentReference/1.0",tn._jsonSchema={type:An("string",tn._jsonSchemaVersion),referencePath:An("string")};class Vs extends Xa{constructor(e,n,r){super(e,n,Vm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new ke(e))}withConverter(e){return new Vs(this.firestore,e,this._path)}}function ko(t,e,...n){if(t=Vn(t),uC("collection","path",e),t instanceof Gm){const r=Ut.fromString(e,...n);return tT(r),new Vs(t,null,r)}{if(!(t instanceof tn||t instanceof Vs))throw new _e(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ut.fromString(e,...n));return tT(r),new Vs(t.firestore,null,r)}}function Rr(t,e,...n){if(t=Vn(t),arguments.length===1&&(e=Dm.newId()),uC("doc","path",e),t instanceof Gm){const r=Ut.fromString(e,...n);return eT(r),new tn(t,null,new ke(r))}{if(!(t instanceof tn||t instanceof Vs))throw new _e(de.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ut.fromString(e,...n));return eT(r),new tn(t.firestore,t instanceof Vs?t.converter:null,new ke(r))}}const qT="AsyncQueue";class HT{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new i2(this,"async_queue_retry"),this._c=()=>{const r=by();r&&Te(qT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=by();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=by();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ps;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!dc(e))throw e;Te(qT,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Bs("INTERNAL UNHANDLED ERROR: ",GT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=L0.createAndSchedule(this,e,n,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ve(47125,{Pc:GT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function GT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class rs extends Gm{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new HT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new HT(e),this._firestoreClient=void 0,await e}}}function T2(t,e){const n=typeof t=="object"?t:l0(),r=typeof t=="string"?t:Hf,a=Cm(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=gA("firestore");l&&x2(a,...l)}return a}function _h(t){if(t._terminated)throw new _e(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||I3(t),t._firestoreClient}function I3(t){const e=t._freezeSettings(),n=R3(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new _3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class qi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qi(qn.fromBase64String(e))}catch(n){throw new _e(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qi(qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mh(e,qi._jsonSchema))return qi.fromBase64String(e.bytes)}}qi._jsonSchemaVersion="firestore/bytes/1.0",qi._jsonSchema={type:An("string",qi._jsonSchemaVersion),bytes:An("string")};class $m{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Km{constructor(e){this._methodName=e}}class Dr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return rt(this._lat,e._lat)||rt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Dr._jsonSchemaVersion}}static fromJSON(e){if(mh(e,Dr._jsonSchema))return new Dr(e.latitude,e.longitude)}}Dr._jsonSchemaVersion="firestore/geoPoint/1.0",Dr._jsonSchema={type:An("string",Dr._jsonSchemaVersion),latitude:An("number"),longitude:An("number")};class hr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:hr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mh(e,hr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new hr(e.vectorValues);throw new _e(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hr._jsonSchemaVersion="firestore/vectorValue/1.0",hr._jsonSchema={type:An("string",hr._jsonSchemaVersion),vectorValues:An("object")};const N3=/^__.*__$/;class D3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ya(e,this.data,this.fieldMask,n,this.fieldTransforms):new gh(e,this.data,n,this.fieldTransforms)}}class E2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ya(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function S2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{dataSource:t})}}class K0{constructor(e,n,r,a,l,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new K0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return tm(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(S2(this.dataSource)&&N3.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class k3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fm(e)}createContext(e,n,r,a=!1){return new K0({dataSource:e,methodName:n,targetDoc:r,path:Fn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ym(t){const e=t._freezeSettings(),n=Fm(t._databaseId);return new k3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function A2(t,e,n,r,a,l={}){const c=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);Y0("Data must be an object, but it was:",c,r);const h=C2(r,c);let d,m;if(l.merge)d=new Hi(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const g=[];for(const v of l.mergeFields){const w=rc(e,v,n);if(!c.contains(w))throw new _e(de.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);N2(g,w)||g.push(w)}d=new Hi(g),m=c.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,m=c.fieldTransforms;return new D3(new Ii(h),d,m)}class wh extends Km{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wh}}function M3(t,e,n,r){const a=t.createContext(1,e,n);Y0("Data must be an object, but it was:",a,r);const l=[],c=Ii.empty();Ka(r,((d,m)=>{const g=I2(e,d,n);m=Vn(m);const v=a.childContextForFieldPath(g);if(m instanceof wh)l.push(g);else{const w=xh(m,v);w!=null&&(l.push(g),c.set(g,w))}}));const h=new Hi(l);return new E2(c,h,a.fieldTransforms)}function O3(t,e,n,r,a,l){const c=t.createContext(1,e,n),h=[rc(e,r,n)],d=[a];if(l.length%2!=0)throw new _e(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)h.push(rc(e,l[w])),d.push(l[w+1]);const m=[],g=Ii.empty();for(let w=h.length-1;w>=0;--w)if(!N2(m,h[w])){const A=h[w];let k=d[w];k=Vn(k);const M=c.childContextForFieldPath(A);if(k instanceof wh)m.push(A);else{const I=xh(k,M);I!=null&&(m.push(A),g.set(A,I))}}const v=new Hi(m);return new E2(g,v,c.fieldTransforms)}function P3(t,e,n,r=!1){return xh(n,t.createContext(r?4:3,e))}function xh(t,e){if(R2(t=Vn(t)))return Y0("Unsupported field value:",e,t),C2(t,e);if(t instanceof Km)return(function(r,a){if(!S2(a.dataSource))throw a.createError(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,a){const l=[];let c=0;for(const h of r){let d=xh(h,a.childContextForArray(c));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),c++}return{arrayValue:{values:l}}})(t,e)}return(function(r,a){if((r=Vn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return b5(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Be.fromDate(r);return{timestampValue:Wf(a.serializer,l)}}if(r instanceof Be){const l=new Be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wf(a.serializer,l)}}if(r instanceof Dr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qi)return{bytesValue:GC(a.serializer,r._byteString)};if(r instanceof tn){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:I0(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof hr)return(function(c,h){const d=c instanceof hr?c.toArray():c;return{mapValue:{fields:{[_C]:{stringValue:wC},[Gf]:{arrayValue:{values:d.map((g=>{if(typeof g!="number")throw h.createError("VectorValues must only contain numeric values.");return S0(h.serializer,g)}))}}}}}})(r,a);if(JC(r))return r._toProto(a.serializer);throw a.createError(`Unsupported field value: ${km(r)}`)})(t,e)}function C2(t,e){const n={};return mC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ka(t,((r,a)=>{const l=xh(a,e.childContextForField(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function R2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Be||t instanceof Dr||t instanceof qi||t instanceof tn||t instanceof Km||t instanceof hr||JC(t))}function Y0(t,e,n){if(!R2(n)||!dC(n)){const r=km(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function rc(t,e,n){if((e=Vn(e))instanceof $m)return e._internalPath;if(typeof e=="string")return I2(t,e);throw tm("Field path arguments must be of type string or ",t,!1,void 0,n)}const V3=new RegExp("[~\\*/\\[\\]]");function I2(t,e,n){if(e.search(V3)>=0)throw tm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $m(...e.split("."))._internalPath}catch{throw tm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function tm(t,e,n,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||c)&&(d+=" (found",l&&(d+=` in field ${r}`),c&&(d+=` in document ${a}`),d+=")"),new _e(de.INVALID_ARGUMENT,h+t+d)}function N2(t,e){return t.some((n=>n.isEqual(e)))}class D2{convertValue(e,n="none"){switch(za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ka(e,((a,l)=>{r[a]=this.convertValue(l,n)})),r}convertVectorValue(e){const n=e.fields?.[Gf].arrayValue?.values?.map((r=>fn(r.doubleValue)));return new hr(n)}convertGeoPoint(e){return new Dr(fn(e.latitude),fn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Pm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ku(e));default:return null}}convertTimestamp(e){const n=La(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ut.fromString(e);wt(QC(r),9688,{name:e});const a=new Zl(r.get(1),r.get(3)),l=new ke(r.popFirst(5));return a.isEqual(n)||Bs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class X0 extends D2{constructor(e){super(),this.firestore=e}convertBytes(e){return new qi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function nm(){return new wh("deleteField")}const $T="@firebase/firestore",KT="4.10.0";function YT(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class k2{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new j3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(rc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class j3 extends k2{data(){return super.data()}}function M2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class W0{}class O2 extends W0{}function im(t,e,...n){let r=[];e instanceof W0&&r.push(e),r=r.concat(n),(function(l){const c=l.filter((d=>d instanceof Xm)).length,h=l.filter((d=>d instanceof Th)).length;if(c>1||c>0&&h>0)throw new _e(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class Th extends O2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Th(e,n,r)}_apply(e){const n=this._parse(e);return P2(e._query,n),new Xa(e.firestore,e.converter,hv(e._query,n))}_parse(e){const n=Ym(e.firestore);return(function(l,c,h,d,m,g,v){let w;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new _e(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){WT(v,g);const k=[];for(const M of v)k.push(XT(d,l,M));w={arrayValue:{values:k}}}else w=XT(d,l,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||WT(v,g),w=P3(h,c,v,g==="in"||g==="not-in");return Sn.create(m,g,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function rm(t,e,n){const r=e,a=rc("where",t);return Th._create(a,r,n)}class Xm extends W0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Xm(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:kr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const h=l.getFlattenedFilters();for(const d of h)P2(c,d),c=hv(c,d)})(e._query,n),new Xa(e.firestore,e.converter,hv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function XT(t,e,n){if(typeof(n=Vn(n))=="string"){if(n==="")throw new _e(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IC(e)&&n.indexOf("/")!==-1)throw new _e(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ut.fromString(n));if(!ke.isDocumentKey(r))throw new _e(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cT(t,new ke(r))}if(n instanceof tn)return cT(t,n._key);throw new _e(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${km(n)}.`)}function WT(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function P2(t,e){const n=(function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new _e(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function V2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ll{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Oa extends k2{constructor(e,n,r,a,l,c){super(e,n,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ou(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Oa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Oa._jsonSchema={type:An("string",Oa._jsonSchemaVersion),bundleSource:An("string","DocumentSnapshot"),bundleName:An("string"),bundle:An("string")};class Ou extends Oa{data(e={}){return super.data(e)}}class Pa{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Ll(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ou(this._firestore,this._userDataWriter,r.key,r,new Ll(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const d=new Ou(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Ll(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new Ou(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Ll(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,g=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),g=c.indexOf(h.doc.key)),{type:L3(h.type),doc:d,oldIndex:m,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function L3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:t})}}Pa._jsonSchemaVersion="firestore/querySnapshot/1.0",Pa._jsonSchema={type:An("string",Pa._jsonSchemaVersion),bundleSource:An("string","QuerySnapshot"),bundleName:An("string"),bundle:An("string")};function Eh(t){t=pi(t,tn);const e=pi(t.firestore,rs),n=_h(e);return E3(n,t._key).then((r=>z2(e,t,r)))}function Yl(t){t=pi(t,Xa);const e=pi(t.firestore,rs),n=_h(e),r=new X0(e);return M2(t._query),S3(n,t._query).then((a=>new Pa(e,r,t,a)))}function sm(t,e,n){t=pi(t,tn);const r=pi(t.firestore,rs),a=V2(t.converter,e,n),l=Ym(r);return Sh(r,[A2(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,ur.none())])}function ri(t,e,n,...r){t=pi(t,tn);const a=pi(t.firestore,rs),l=Ym(a);let c;return c=typeof(e=Vn(e))=="string"||e instanceof $m?O3(l,"updateDoc",t._key,e,n,r):M3(l,"updateDoc",t._key,e),Sh(a,[c.toMutation(t._key,ur.exists(!0))])}function j2(t){return Sh(pi(t.firestore,rs),[new A0(t._key,ur.none())])}function L2(t,e){const n=pi(t.firestore,rs),r=Rr(t),a=V2(t.converter,e),l=Ym(t.firestore);return Sh(n,[A2(l,"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,ur.exists(!1))]).then((()=>r))}function U2(t,...e){t=Vn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||YT(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(YT(e[r])){const m=e[r];e[r]=m.next?.bind(m),e[r+1]=m.error?.bind(m),e[r+2]=m.complete?.bind(m)}let l,c,h;if(t instanceof tn)c=pi(t.firestore,rs),h=Vm(t._key.path),l={next:m=>{e[r]&&e[r](z2(c,t,m))},error:e[r+1],complete:e[r+2]};else{const m=pi(t,Xa);c=pi(m.firestore,rs),h=m._query;const g=new X0(c);l={next:v=>{e[r]&&e[r](new Pa(c,g,m,v))},error:e[r+1],complete:e[r+2]},M2(t._query)}const d=_h(c);return T3(d,h,a,l)}function Sh(t,e){const n=_h(t);return A3(n,e)}function z2(t,e,n){const r=n.docs.get(e._key),a=new X0(t);return new Oa(t,a,e._key,r,new Ll(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){R4(Ho),Lo(new Va("firestore",((r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),h=new rs(new N4(r.getProvider("auth-internal")),new M4(c,r.getProvider("app-check-internal")),X4(c,a),c);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),Qr($T,KT,e),Qr($T,KT,"esm2020")})();const U3=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:D2,Bytes:qi,CollectionReference:Vs,DocumentReference:tn,DocumentSnapshot:Oa,FieldPath:$m,FieldValue:Km,Firestore:rs,FirestoreError:_e,GeoPoint:Dr,Query:Xa,QueryCompositeFilterConstraint:Xm,QueryConstraint:O2,QueryDocumentSnapshot:Ou,QueryFieldFilterConstraint:Th,QuerySnapshot:Pa,SnapshotMetadata:Ll,Timestamp:Be,VectorValue:hr,_AutoId:Dm,_ByteString:qn,_DatabaseId:Zl,_DocumentKey:ke,_EmptyAuthCredentialsProvider:cC,_FieldPath:Fn,_cast:pi,_logWarn:Bo,_validateIsNotUsedTogether:hC,addDoc:L2,collection:ko,connectFirestoreEmulator:x2,deleteDoc:j2,deleteField:nm,doc:Rr,ensureFirestoreConfigured:_h,executeWrite:Sh,getDoc:Eh,getDocs:Yl,getFirestore:T2,onSnapshot:U2,query:im,setDoc:sm,updateDoc:ri,where:rm},Symbol.toStringTag,{value:"Module"}));const B2="firebasestorage.googleapis.com",z3="storageBucket",B3=120*1e3,F3=600*1e3;class ls extends os{constructor(e,n,r=0){super(wy(e),`Firebase Storage: ${n} (${wy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ls.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ss;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ss||(ss={}));function wy(t){return"storage/"+t}function q3(){const t="An unknown error occurred, please check the error payload for server response.";return new ls(ss.UNKNOWN,t)}function H3(){return new ls(ss.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function G3(){return new ls(ss.CANCELED,"User canceled the upload/download.")}function $3(t){return new ls(ss.INVALID_URL,"Invalid URL '"+t+"'.")}function K3(t){return new ls(ss.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function QT(t){return new ls(ss.INVALID_ARGUMENT,t)}function F2(){return new ls(ss.APP_DELETED,"The Firebase app was deleted.")}function Y3(t){return new ls(ss.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Ir{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ir.makeFromUrl(e,n)}catch{return new Ir(e,"")}if(r.path==="")return r;throw K3(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(le){le.path.charAt(le.path.length-1)==="/"&&(le.path_=le.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+a+c,"i"),d={bucket:1,path:3};function m(le){le.path_=decodeURIComponent(le.path)}const g="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",A=new RegExp(`^https?://${v}/${g}/b/${a}/o${w}`,"i"),k={bucket:1,path:3},M=n===B2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",B=new RegExp(`^https?://${M}/${a}/${I}`,"i"),q=[{regex:h,indices:d,postModify:l},{regex:A,indices:k,postModify:m},{regex:B,indices:{bucket:1,path:2},postModify:m}];for(let le=0;le<q.length;le++){const re=q[le],ae=re.regex.exec(e);if(ae){const N=ae[re.indices.bucket];let C=ae[re.indices.path];C||(C=""),r=new Ir(N,C),re.postModify(r);break}}if(r==null)throw $3(e);return r}}class X3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function W3(t,e,n){let r=1,a=null,l=null,c=!1,h=0;function d(){return h===2}let m=!1;function g(...I){m||(m=!0,e.apply(null,I))}function v(I){a=setTimeout(()=>{a=null,t(A,d())},I)}function w(){l&&clearTimeout(l)}function A(I,...B){if(m){w();return}if(I){w(),g.call(null,I,...B);return}if(d()||c){w(),g.call(null,I,...B);return}r<64&&(r*=2);let q;h===1?(h=2,q=0):q=(r+Math.random())*1e3,v(q)}let k=!1;function M(I){k||(k=!0,w(),!m&&(a!==null?(I||(h=2),clearTimeout(a),v(0)):I||(h=1)))}return v(0),l=setTimeout(()=>{c=!0,M(!0)},n),M}function Q3(t){t(!1)}function J3(t){return t!==void 0}function JT(t,e,n,r){if(r<e)throw QT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw QT(`Invalid value for '${t}'. Expected ${n} or less.`)}function Z3(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var am;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(am||(am={}));function eL(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class tL{constructor(e,n,r,a,l,c,h,d,m,g,v,w=!0,A=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=v,this.retry=w,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,M)=>{this.resolve_=k,this.reject_=M,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new of(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=h=>{const d=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const h=l.getErrorCode()===am.NO_ERROR,d=l.getStatus();if(!h||eL(d,this.additionalRetryCodes_)&&this.retry){const g=l.getErrorCode()===am.ABORT;r(!1,new of(!1,null,g));return}const m=this.successCodes_.indexOf(d)!==-1;r(!0,new of(m,l))})},n=(r,a)=>{const l=this.resolve_,c=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());J3(d)?l(d):l()}catch(d){c(d)}else if(h!==null){const d=q3();d.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,d)):c(d)}else if(a.canceled){const d=this.appDelete_?F2():G3();c(d)}else{const d=H3();c(d)}};this.canceled_?n(!1,new of(!1,null,!0)):this.backoffId_=W3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Q3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class of{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function nL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function iL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function rL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function sL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function aL(t,e,n,r,a,l,c=!0,h=!1){const d=Z3(t.urlParams),m=t.url+d,g=Object.assign({},t.headers);return rL(g,e),nL(g,n),iL(g,l),sL(g,r),new tL(m,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,h)}function oL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function lL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class om{constructor(e,n){this._service=e,n instanceof Ir?this._location=n:this._location=Ir.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new om(e,n)}get root(){const e=new Ir(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lL(this._location.path)}get storage(){return this._service}get parent(){const e=oL(this._location.path);if(e===null)return null;const n=new Ir(this._location.bucket,e);return new om(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Y3(e)}}function ZT(t,e){const n=e?.[z3];return n==null?null:Ir.makeFromBucketSpec(n,t)}function cL(t,e,n,r={}){t.host=`${e}:${n}`;const a=qo(e);a&&(r0(`https://${t.host}/b`),s0("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=r;l&&(t._overrideAuthToken=typeof l=="string"?l:bA(l,t.app.options.projectId))}class uL{constructor(e,n,r,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=B2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=B3,this._maxUploadRetryTime=F3,this._requests=new Set,a!=null?this._bucket=Ir.makeFromBucketSpec(a,this._host):this._bucket=ZT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ir.makeFromBucketSpec(this._url,e):this._bucket=ZT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){JT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){JT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new om(this,e)}_makeRequest(e,n,r,a,l=!0){if(this._deleted)return new X3(F2());{const c=aL(e,this._appId,r,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const eE="@firebase/storage",tE="0.14.0";const q2="storage";function hL(t=l0(),e){t=Vn(t);const r=Cm(t,q2).getImmediate({identifier:e}),a=gA("storage");return a&&dL(r,...a),r}function dL(t,e,n,r={}){cL(t,e,n,r)}function fL(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new uL(n,r,a,e,Ho)}function mL(){Lo(new Va(q2,fL,"PUBLIC").setMultipleInstances(!0)),Qr(eE,tE,""),Qr(eE,tE,"esm2020")}mL();const pL={apiKey:"AIzaSyC7IaK8e0JimVT2DeKQovTDLPyufibEu_4",authDomain:"sunsar-bingo.firebaseapp.com",projectId:"sunsar-bingo",storageBucket:"sunsar-bingo.firebasestorage.app",messagingSenderId:"256131852935",appId:"1:256131852935:web:fe514c1e6758e5af252622"},Wm=xA(pL),Af=A4(Wm),H2=new Ds,ai=T2(Wm);hL(Wm);const gL=Object.freeze(Object.defineProperty({__proto__:null,app:Wm,auth:Af,db:ai,googleProvider:H2},Symbol.toStringTag,{value:"Module"})),G2=S.createContext(void 0),yL=({children:t})=>{const[e,n]=S.useState(null),[r,a]=S.useState(!0),[l,c]=S.useState(null);S.useEffect(()=>{const m=mV(Af,async g=>{if(g){const v={uid:g.uid,email:g.email,displayName:g.displayName,photoURL:g.photoURL};n(v),c(null);try{const{doc:w,setDoc:A,Timestamp:k}=await Wy(async()=>{const{doc:I,setDoc:B,Timestamp:H}=await Promise.resolve().then(()=>U3);return{doc:I,setDoc:B,Timestamp:H}},[]),{db:M}=await Wy(async()=>{const{db:I}=await Promise.resolve().then(()=>gL);return{db:I}},void 0);await A(w(M,"users",g.uid),{...v,lastSeen:k.now()},{merge:!0})}catch(w){console.error("Error syncing user profile:",w)}}else n(null);a(!1)});return()=>m()},[]);const h=async()=>{c(null);try{await PV(Af,H2)}catch(m){c(m.message||"Failed to sign in")}},d=async()=>{await pV(Af)};return b.jsx(G2.Provider,{value:{user:e,loading:r,signIn:h,logout:d,error:l},children:t})},mc=()=>{const t=S.useContext(G2);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Q0=S.createContext({});function J0(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const $2=typeof window<"u",K2=$2?S.useLayoutEffect:S.useEffect,Qm=S.createContext(null);function Z0(t,e){t.indexOf(e)===-1&&t.push(e)}function eb(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const as=(t,e,n)=>n>e?e:n<t?t:n;let tb=()=>{};const qs={},Y2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function X2(t){return typeof t=="object"&&t!==null}const W2=t=>/^0[^.\s]+$/u.test(t);function nb(t){let e;return()=>(e===void 0&&(e=t()),e)}const dr=t=>t,vL=(t,e)=>n=>e(t(n)),Ah=(...t)=>t.reduce(vL),Qu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class ib{constructor(){this.subscriptions=[]}add(e){return Z0(this.subscriptions,e),()=>eb(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const js=t=>t*1e3,cr=t=>t/1e3;function Q2(t,e){return e?t*(1e3/e):0}const J2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,bL=1e-7,_L=12;function wL(t,e,n,r,a){let l,c,h=0;do c=e+(n-e)/2,l=J2(c,r,a)-t,l>0?n=c:e=c;while(Math.abs(l)>bL&&++h<_L);return c}function Ch(t,e,n,r){if(t===e&&n===r)return dr;const a=l=>wL(l,0,1,t,n);return l=>l===0||l===1?l:J2(a(l),e,r)}const Z2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,eR=t=>e=>1-t(1-e),tR=Ch(.33,1.53,.69,.99),rb=eR(tR),nR=Z2(rb),iR=t=>(t*=2)<1?.5*rb(t):.5*(2-Math.pow(2,-10*(t-1))),sb=t=>1-Math.sin(Math.acos(t)),rR=eR(sb),sR=Z2(sb),xL=Ch(.42,0,1,1),TL=Ch(0,0,.58,1),aR=Ch(.42,0,.58,1),EL=t=>Array.isArray(t)&&typeof t[0]!="number",oR=t=>Array.isArray(t)&&typeof t[0]=="number",SL={linear:dr,easeIn:xL,easeInOut:aR,easeOut:TL,circIn:sb,circInOut:sR,circOut:rR,backIn:rb,backInOut:nR,backOut:tR,anticipate:iR},AL=t=>typeof t=="string",nE=t=>{if(oR(t)){tb(t.length===4);const[e,n,r,a]=t;return Ch(e,n,r,a)}else if(AL(t))return SL[t];return t},lf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function CL(t,e){let n=new Set,r=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(g){c.has(g)&&(m.schedule(g),t()),g(h)}const m={schedule:(g,v=!1,w=!1)=>{const k=w&&a?n:r;return v&&c.add(g),k.has(g)||k.add(g),g},cancel:g=>{r.delete(g),c.delete(g)},process:g=>{if(h=g,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(d),n.clear(),a=!1,l&&(l=!1,m.process(g))}};return m}const RL=40;function lR(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=lf.reduce((q,le)=>(q[le]=CL(l),q),{}),{setup:h,read:d,resolveKeyframes:m,preUpdate:g,update:v,preRender:w,render:A,postRender:k}=c,M=()=>{const q=qs.useManualTiming?a.timestamp:performance.now();n=!1,qs.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(q-a.timestamp,RL),1)),a.timestamp=q,a.isProcessing=!0,h.process(a),d.process(a),m.process(a),g.process(a),v.process(a),w.process(a),A.process(a),k.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(M))},I=()=>{n=!0,r=!0,a.isProcessing||t(M)};return{schedule:lf.reduce((q,le)=>{const re=c[le];return q[le]=(ae,N=!1,C=!1)=>(n||I(),re.schedule(ae,N,C)),q},{}),cancel:q=>{for(let le=0;le<lf.length;le++)c[lf[le]].cancel(q)},state:a,steps:c}}const{schedule:Gt,cancel:qa,state:Qn,steps:xy}=lR(typeof requestAnimationFrame<"u"?requestAnimationFrame:dr,!0);let Cf;function IL(){Cf=void 0}const fi={now:()=>(Cf===void 0&&fi.set(Qn.isProcessing||qs.useManualTiming?Qn.timestamp:performance.now()),Cf),set:t=>{Cf=t,queueMicrotask(IL)}},cR=t=>e=>typeof e=="string"&&e.startsWith(t),uR=cR("--"),NL=cR("var(--"),ab=t=>NL(t)?DL.test(t.split("/*")[0].trim()):!1,DL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function iE(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const pc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ju={...pc,transform:t=>as(0,1,t)},cf={...pc,default:1},Pu=t=>Math.round(t*1e5)/1e5,ob=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kL(t){return t==null}const ML=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lb=(t,e)=>n=>!!(typeof n=="string"&&ML.test(n)&&n.startsWith(t)||e&&!kL(n)&&Object.prototype.hasOwnProperty.call(n,e)),hR=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,l,c,h]=r.match(ob);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},OL=t=>as(0,255,t),Ty={...pc,transform:t=>Math.round(OL(t))},Mo={test:lb("rgb","red"),parse:hR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Ty.transform(t)+", "+Ty.transform(e)+", "+Ty.transform(n)+", "+Pu(Ju.transform(r))+")"};function PL(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const xv={test:lb("#"),parse:PL,transform:Mo.transform},Rh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ea=Rh("deg"),ts=Rh("%"),Ee=Rh("px"),VL=Rh("vh"),jL=Rh("vw"),rE={...ts,parse:t=>ts.parse(t)/100,transform:t=>ts.transform(t*100)},Ul={test:lb("hsl","hue"),parse:hR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ts.transform(Pu(e))+", "+ts.transform(Pu(n))+", "+Pu(Ju.transform(r))+")"},En={test:t=>Mo.test(t)||xv.test(t)||Ul.test(t),parse:t=>Mo.test(t)?Mo.parse(t):Ul.test(t)?Ul.parse(t):xv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Mo.transform(t):Ul.transform(t),getAnimatableNone:t=>{const e=En.parse(t);return e.alpha=0,En.transform(e)}},LL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function UL(t){return isNaN(t)&&typeof t=="string"&&(t.match(ob)?.length||0)+(t.match(LL)?.length||0)>0}const dR="number",fR="color",zL="var",BL="var(",sE="${}",FL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(FL,d=>(En.test(d)?(r.color.push(l),a.push(fR),n.push(En.parse(d))):d.startsWith(BL)?(r.var.push(l),a.push(zL),n.push(d)):(r.number.push(l),a.push(dR),n.push(parseFloat(d))),++l,sE)).split(sE);return{values:n,split:h,indexes:r,types:a}}function mR(t){return Zu(t).values}function pR(t){const{split:e,types:n}=Zu(t),r=e.length;return a=>{let l="";for(let c=0;c<r;c++)if(l+=e[c],a[c]!==void 0){const h=n[c];h===dR?l+=Pu(a[c]):h===fR?l+=En.transform(a[c]):l+=a[c]}return l}}const qL=t=>typeof t=="number"?0:En.test(t)?En.getAnimatableNone(t):t;function HL(t){const e=mR(t);return pR(t)(e.map(qL))}const Ha={test:UL,parse:mR,createTransformer:pR,getAnimatableNone:HL};function Ey(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function GL({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=Ey(d,h,t+1/3),l=Ey(d,h,t),c=Ey(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function lm(t,e){return n=>n>0?e:t}const en=(t,e,n)=>t+(e-t)*n,Sy=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},$L=[xv,Mo,Ul],KL=t=>$L.find(e=>e.test(t));function aE(t){const e=KL(t);if(!e)return!1;let n=e.parse(t);return e===Ul&&(n=GL(n)),n}const oE=(t,e)=>{const n=aE(t),r=aE(e);if(!n||!r)return lm(t,e);const a={...n};return l=>(a.red=Sy(n.red,r.red,l),a.green=Sy(n.green,r.green,l),a.blue=Sy(n.blue,r.blue,l),a.alpha=en(n.alpha,r.alpha,l),Mo.transform(a))},Tv=new Set(["none","hidden"]);function YL(t,e){return Tv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function XL(t,e){return n=>en(t,e,n)}function cb(t){return typeof t=="number"?XL:typeof t=="string"?ab(t)?lm:En.test(t)?oE:JL:Array.isArray(t)?gR:typeof t=="object"?En.test(t)?oE:WL:lm}function gR(t,e){const n=[...t],r=n.length,a=t.map((l,c)=>cb(l)(l,e[c]));return l=>{for(let c=0;c<r;c++)n[c]=a[c](l);return n}}function WL(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=cb(t[a])(t[a],e[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function QL(t,e){const n=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][r[l]],h=t.values[c]??0;n[a]=h,r[l]++}return n}const JL=(t,e)=>{const n=Ha.createTransformer(e),r=Zu(t),a=Zu(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Tv.has(t)&&!a.values.length||Tv.has(e)&&!r.values.length?YL(t,e):Ah(gR(QL(r,a),a.values),n):lm(t,e)};function yR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?en(t,e,n):cb(t)(t,e)}const ZL=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Gt.update(e,n),stop:()=>qa(e),now:()=>Qn.isProcessing?Qn.timestamp:fi.now()}},vR=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)r+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},cm=2e4;function ub(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<cm;)e+=n,r=t.next(e);return e>=cm?1/0:e}function e6(t,e=100,n){const r=n({...t,keyframes:[0,e]}),a=Math.min(ub(r),cm);return{type:"keyframes",ease:l=>r.next(a*l).value/e,duration:cr(a)}}const t6=5;function bR(t,e,n){const r=Math.max(e-t6,0);return Q2(n-t(r),e-r)}const ln={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ay=.001;function n6({duration:t=ln.duration,bounce:e=ln.bounce,velocity:n=ln.velocity,mass:r=ln.mass}){let a,l,c=1-e;c=as(ln.minDamping,ln.maxDamping,c),t=as(ln.minDuration,ln.maxDuration,cr(t)),c<1?(a=m=>{const g=m*c,v=g*t,w=g-n,A=Ev(m,c),k=Math.exp(-v);return Ay-w/A*k},l=m=>{const v=m*c*t,w=v*n+n,A=Math.pow(c,2)*Math.pow(m,2)*t,k=Math.exp(-v),M=Ev(Math.pow(m,2),c);return(-a(m)+Ay>0?-1:1)*((w-A)*k)/M}):(a=m=>{const g=Math.exp(-m*t),v=(m-n)*t+1;return-Ay+g*v},l=m=>{const g=Math.exp(-m*t),v=(n-m)*(t*t);return g*v});const h=5/t,d=r6(a,l,h);if(t=js(t),isNaN(d))return{stiffness:ln.stiffness,damping:ln.damping,duration:t};{const m=Math.pow(d,2)*r;return{stiffness:m,damping:c*2*Math.sqrt(r*m),duration:t}}}const i6=12;function r6(t,e,n){let r=n;for(let a=1;a<i6;a++)r=r-t(r)/e(r);return r}function Ev(t,e){return t*Math.sqrt(1-e*e)}const s6=["duration","bounce"],a6=["stiffness","damping","mass"];function lE(t,e){return e.some(n=>t[n]!==void 0)}function o6(t){let e={velocity:ln.velocity,stiffness:ln.stiffness,damping:ln.damping,mass:ln.mass,isResolvedFromDuration:!1,...t};if(!lE(t,a6)&&lE(t,s6))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*as(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:ln.mass,stiffness:a,damping:l}}else{const n=n6(t);e={...e,...n,mass:ln.mass},e.isResolvedFromDuration=!0}return e}function um(t=ln.visualDuration,e=ln.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:m,mass:g,duration:v,velocity:w,isResolvedFromDuration:A}=o6({...n,velocity:-cr(n.velocity||0)}),k=w||0,M=m/(2*Math.sqrt(d*g)),I=c-l,B=cr(Math.sqrt(d/g)),H=Math.abs(I)<5;r||(r=H?ln.restSpeed.granular:ln.restSpeed.default),a||(a=H?ln.restDelta.granular:ln.restDelta.default);let q;if(M<1){const re=Ev(B,M);q=ae=>{const N=Math.exp(-M*B*ae);return c-N*((k+M*B*I)/re*Math.sin(re*ae)+I*Math.cos(re*ae))}}else if(M===1)q=re=>c-Math.exp(-B*re)*(I+(k+B*I)*re);else{const re=B*Math.sqrt(M*M-1);q=ae=>{const N=Math.exp(-M*B*ae),C=Math.min(re*ae,300);return c-N*((k+M*B*I)*Math.sinh(C)+re*I*Math.cosh(C))/re}}const le={calculatedDuration:A&&v||null,next:re=>{const ae=q(re);if(A)h.done=re>=v;else{let N=re===0?k:0;M<1&&(N=re===0?js(k):bR(q,re,ae));const C=Math.abs(N)<=r,O=Math.abs(c-ae)<=a;h.done=C&&O}return h.value=h.done?c:ae,h},toString:()=>{const re=Math.min(ub(le),cm),ae=vR(N=>le.next(re*N).value,re,30);return re+"ms "+ae},toTransition:()=>{}};return le}um.applyToOptions=t=>{const e=e6(t,100,um);return t.ease=e.ease,t.duration=js(e.duration),t.type="keyframes",t};function Sv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:d,restDelta:m=.5,restSpeed:g}){const v=t[0],w={done:!1,value:v},A=C=>h!==void 0&&C<h||d!==void 0&&C>d,k=C=>h===void 0?d:d===void 0||Math.abs(h-C)<Math.abs(d-C)?h:d;let M=n*e;const I=v+M,B=c===void 0?I:c(I);B!==I&&(M=B-v);const H=C=>-M*Math.exp(-C/r),q=C=>B+H(C),le=C=>{const O=H(C),U=q(C);w.done=Math.abs(O)<=m,w.value=w.done?B:U};let re,ae;const N=C=>{A(w.value)&&(re=C,ae=um({keyframes:[w.value,k(w.value)],velocity:bR(q,C,w.value),damping:a,stiffness:l,restDelta:m,restSpeed:g}))};return N(0),{calculatedDuration:null,next:C=>{let O=!1;return!ae&&re===void 0&&(O=!0,le(C),N(C)),re!==void 0&&C>=re?ae.next(C-re):(!O&&le(C),w)}}}function l6(t,e,n){const r=[],a=n||qs.mix||yR,l=t.length-1;for(let c=0;c<l;c++){let h=a(t[c],t[c+1]);if(e){const d=Array.isArray(e)?e[c]||dr:e;h=Ah(d,h)}r.push(h)}return r}function c6(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const l=t.length;if(tb(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=l6(e,r,a),d=h.length,m=g=>{if(c&&g<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const w=Qu(t[v],t[v+1],g);return h[v](w)};return n?g=>m(as(t[0],t[l-1],g)):m}function u6(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=Qu(0,e,r);t.push(en(n,1,a))}}function h6(t){const e=[0];return u6(e,t.length-1),e}function d6(t,e){return t.map(n=>n*e)}function f6(t,e){return t.map(()=>e||aR).splice(0,t.length-1)}function Vu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=EL(r)?r.map(nE):nE(r),l={done:!1,value:e[0]},c=d6(n&&n.length===e.length?n:h6(e),t),h=c6(c,e,{ease:Array.isArray(a)?a:f6(e,a)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const m6=t=>t!==null;function hb(t,{repeat:e,repeatType:n="loop"},r,a=1){const l=t.filter(m6),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||r===void 0?l[h]:r}const p6={decay:Sv,inertia:Sv,tween:Vu,keyframes:Vu,spring:um};function _R(t){typeof t.type=="string"&&(t.type=p6[t.type])}class db{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const g6=t=>t/100;class fb extends db{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==fi.now()&&this.tick(fi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;_R(e);const{type:n=Vu,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:h}=e;const d=n||Vu;d!==Vu&&typeof h[0]!="number"&&(this.mixKeyframes=Ah(g6,yR(h[0],h[1])),h=[0,100]);const m=d({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=ub(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:g,repeat:v,repeatType:w,repeatDelay:A,type:k,onUpdate:M,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const B=this.currentTime-m*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?B<0:B>a;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let q=this.currentTime,le=r;if(v){const C=Math.min(this.currentTime,a)/h;let O=Math.floor(C),U=C%1;!U&&C>=1&&(U=1),U===1&&O--,O=Math.min(O,v+1),O%2&&(w==="reverse"?(U=1-U,A&&(U-=A/h)):w==="mirror"&&(le=c)),q=as(0,1,U)*h}const re=H?{done:!1,value:g[0]}:le.next(q);l&&(re.value=l(re.value));let{done:ae}=re;!H&&d!==null&&(ae=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ae);return N&&k!==Sv&&(re.value=hb(g,this.options,I,this.speed)),M&&M(re.value),N&&this.finish(),re}then(e,n){return this.finished.then(e,n)}get duration(){return cr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+cr(e)}get time(){return cr(this.currentTime)}set time(e){e=js(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(fi.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=cr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=ZL,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(fi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function y6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Oo=t=>t*180/Math.PI,Av=t=>{const e=Oo(Math.atan2(t[1],t[0]));return Cv(e)},v6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Av,rotateZ:Av,skewX:t=>Oo(Math.atan(t[1])),skewY:t=>Oo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Cv=t=>(t=t%360,t<0&&(t+=360),t),cE=Av,uE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),hE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),b6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:uE,scaleY:hE,scale:t=>(uE(t)+hE(t))/2,rotateX:t=>Cv(Oo(Math.atan2(t[6],t[5]))),rotateY:t=>Cv(Oo(Math.atan2(-t[2],t[0]))),rotateZ:cE,rotate:cE,skewX:t=>Oo(Math.atan(t[4])),skewY:t=>Oo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Rv(t){return t.includes("scale")?1:0}function Iv(t,e){if(!t||t==="none")return Rv(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=b6,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=v6,a=h}if(!a)return Rv(e);const l=r[e],c=a[1].split(",").map(w6);return typeof l=="function"?l(c):c[l]}const _6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Iv(n,e)};function w6(t){return parseFloat(t.trim())}const gc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yc=new Set(gc),dE=t=>t===pc||t===Ee,x6=new Set(["x","y","z"]),T6=gc.filter(t=>!x6.has(t));function E6(t){const e=[];return T6.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Na={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Iv(e,"x"),y:(t,{transform:e})=>Iv(e,"y")};Na.translateX=Na.x;Na.translateY=Na.y;const Vo=new Set;let Nv=!1,Dv=!1,kv=!1;function wR(){if(Dv){const t=Array.from(Vo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=E6(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,c])=>{r.getValue(l)?.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Dv=!1,Nv=!1,Vo.forEach(t=>t.complete(kv)),Vo.clear()}function xR(){Vo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Dv=!0)})}function S6(){kv=!0,xR(),wR(),kv=!1}class mb{constructor(e,n,r,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Vo.add(this),Nv||(Nv=!0,Gt.read(xR),Gt.resolveKeyframes(wR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const h=r.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}y6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Vo.delete(this)}cancel(){this.state==="scheduled"&&(Vo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const A6=t=>t.startsWith("--");function C6(t,e,n){A6(e)?t.style.setProperty(e,n):t.style[e]=n}const R6=nb(()=>window.ScrollTimeline!==void 0),I6={};function N6(t,e){const n=nb(t);return()=>I6[e]??n()}const TR=N6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Au=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,fE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Au([0,.65,.55,1]),circOut:Au([.55,0,1,.45]),backIn:Au([.31,.01,.66,-.59]),backOut:Au([.33,1.53,.69,.99])};function ER(t,e){if(t)return typeof t=="function"?TR()?vR(t,e):"ease-out":oR(t)?Au(t):Array.isArray(t)?t.map(n=>ER(n,e)||fE.easeOut):fE[t]}function D6(t,e,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:d}={},m=void 0){const g={[e]:n};d&&(g.offset=d);const v=ER(h,a);Array.isArray(v)&&(g.easing=v);const w={delay:r,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(w.pseudoElement=m),t.animate(g,w)}function SR(t){return typeof t=="function"&&"applyToOptions"in t}function k6({type:t,...e}){return SR(t)&&TR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class M6 extends db{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,tb(typeof e.type!="string");const m=k6(e);this.animation=D6(n,r,a,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=hb(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):C6(n,r,g),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return cr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+cr(e)}get time(){return cr(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=js(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&R6()?(this.animation.timeline=e,dr):n(this)}}const AR={anticipate:iR,backInOut:nR,circInOut:sR};function O6(t){return t in AR}function P6(t){typeof t.ease=="string"&&O6(t.ease)&&(t.ease=AR[t.ease])}const Cy=10;class V6 extends M6{constructor(e){P6(e),_R(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new fb({...c,autoplay:!1}),d=Math.max(Cy,fi.now()-this.startTime),m=as(0,Cy,d-Cy);n.setWithVelocity(h.sample(Math.max(0,d-m)).value,h.sample(d).value,m),h.stop()}}const mE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ha.test(t)||t==="0")&&!t.startsWith("url("));function j6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function L6(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=mE(a,e),h=mE(l,e);return!c||!h?!1:j6(t)||(n==="spring"||SR(n))&&r}function Mv(t){t.duration=0,t.type="keyframes"}const U6=new Set(["opacity","clipPath","filter","transform"]),z6=nb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function B6(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=e.owner.getProps();return z6()&&n&&U6.has(n)&&(n!=="transform"||!m)&&!d&&!r&&a!=="mirror"&&l!==0&&c!=="inertia"}const F6=40;class q6 extends db{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:d,motionValue:m,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=fi.now();const w={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:c,name:d,motionValue:m,element:g,...v},A=g?.KeyframeResolver||mb;this.keyframeResolver=new A(h,(k,M,I)=>this.onKeyframesResolved(k,M,w,!I),d,m,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:d,isHandoff:m,onUpdate:g}=r;this.resolvedAt=fi.now(),L6(e,l,c,h)||((qs.instantAnimations||!d)&&g?.(hb(e,r,n)),e[0]=e[e.length-1],Mv(r),r.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>F6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},A=!m&&B6(w)?new V6({...w,element:w.motionValue.owner.current}):new fb(w);A.finished.then(()=>this.notifyFinished()).catch(dr),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),S6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const H6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function G6(t){const e=H6.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function CR(t,e,n=1){const[r,a]=G6(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const c=l.trim();return Y2(c)?parseFloat(c):c}return ab(a)?CR(a,e,n+1):a}function pb(t,e){return t?.[e]??t?.default??t}const $6={type:"spring",stiffness:500,damping:25,restSpeed:10},K6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Y6={type:"keyframes",duration:.8},X6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},W6=(t,{keyframes:e})=>e.length>2?Y6:yc.has(t)?t.startsWith("scale")?K6(e[1]):$6:X6;function Q6({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:d,elapsed:m,...g}){return!!Object.keys(g).length}const J6=t=>t!==null;function Z6(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter(J6),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function RR(t,e,n,r=0,a=1){const l=Array.from(t).sort((m,g)=>m.sortNodePosition(g)).indexOf(e),c=t.size,h=(c-1)*r;return typeof n=="function"?n(l,c):a===1?l*r:h-l*r}const gb=(t,e,n,r={},a,l)=>c=>{const h=pb(r,t)||{},d=h.delay||r.delay||0;let{elapsed:m=0}=r;m=m-js(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:w=>{e.set(w),h.onUpdate&&h.onUpdate(w)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};Q6(h)||Object.assign(g,W6(t,g)),g.duration&&(g.duration=js(g.duration)),g.repeatDelay&&(g.repeatDelay=js(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Mv(g),g.delay===0&&(v=!0)),(qs.instantAnimations||qs.skipAnimations)&&(v=!0,Mv(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,v&&!l&&e.get()!==void 0){const w=Z6(g.keyframes,h);if(w!==void 0){Gt.update(()=>{g.onUpdate(w),g.onComplete()});return}}return h.isSync?new fb(g):new q6(g)},IR=new Set(["width","height","top","left","right","bottom",...gc]),pE=30,eU=t=>!isNaN(parseFloat(t));class tU{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const a=fi.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=fi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=eU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ib);const r=this.events[e].add(n);return e==="change"?()=>{r(),Gt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=fi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>pE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,pE);return Q2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sc(t,e){return new tU(t,e)}function gE(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function yb(t,e,n,r){if(typeof e=="function"){const[a,l]=gE(r);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=gE(r);e=e(n!==void 0?n:t.custom,a,l)}return e}function Xl(t,e,n){const r=t.getProps();return yb(r,e,n!==void 0?n:r.custom,t)}const Ov=t=>Array.isArray(t);function nU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,sc(n))}function iU(t){return Ov(t)?t[t.length-1]||0:t}function rU(t,e){const n=Xl(t,e);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const c in l){const h=iU(l[c]);nU(t,c,h)}}const li=t=>!!(t&&t.getVelocity);function sU(t){return!!(li(t)&&t.add)}function Pv(t,e){const n=t.getValue("willChange");if(sU(n))return n.add(e);if(!n&&qs.WillChange){const r=new qs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function vb(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const aU="framerAppearId",NR="data-"+vb(aU);function DR(t){return t.props[NR]}function oU({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function kR(t,e,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...h}=e;r&&(l=r);const d=[],m=a&&t.animationState&&t.animationState.getState()[a];for(const g in h){const v=t.getValue(g,t.latestValues[g]??null),w=h[g];if(w===void 0||m&&oU(m,g))continue;const A={delay:n,...pb(l||{},g)},k=v.get();if(k!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===k&&!A.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const B=DR(t);if(B){const H=window.MotionHandoffAnimation(B,g,Gt);H!==null&&(A.startTime=H,M=!0)}}Pv(t,g),v.start(gb(g,v,w,t.shouldReduceMotion&&IR.has(g)?{type:!1}:A,t,M));const I=v.animation;I&&d.push(I)}return c&&Promise.all(d).then(()=>{Gt.update(()=>{c&&rU(t,c)})}),d}function Vv(t,e,n={}){const r=Xl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(kR(t,r,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:v}=a;return lU(t,e,d,m,g,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,m]=h==="beforeChildren"?[l,c]:[c,l];return d().then(()=>m())}else return Promise.all([l(),c(n.delay)])}function lU(t,e,n=0,r=0,a=0,l=1,c){const h=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),h.push(Vv(d,e,{...c,delay:n+(typeof r=="function"?0:r)+RR(t.variantChildren,d,r,a,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function cU(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(l=>Vv(t,l,n));r=Promise.all(a)}else if(typeof e=="string")r=Vv(t,e,n);else{const a=typeof e=="function"?Xl(t,e,n.custom):e;r=Promise.all(kR(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const uU={test:t=>t==="auto",parse:t=>t},MR=t=>e=>e.test(t),OR=[pc,Ee,ts,Ea,jL,VL,uU],yE=t=>OR.find(MR(t));function hU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||W2(t):!0}const dU=new Set(["brightness","contrast","saturate","opacity"]);function fU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ob)||[];if(!r)return t;const a=n.replace(r,"");let l=dU.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+a+")"}const mU=/\b([a-z-]*)\(.*?\)/gu,jv={...Ha,getAnimatableNone:t=>{const e=t.match(mU);return e?e.map(fU).join(" "):t}},vE={...pc,transform:Math.round},pU={rotate:Ea,rotateX:Ea,rotateY:Ea,rotateZ:Ea,scale:cf,scaleX:cf,scaleY:cf,scaleZ:cf,skew:Ea,skewX:Ea,skewY:Ea,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:Ju,originX:rE,originY:rE,originZ:Ee},bb={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,inset:Ee,insetBlock:Ee,insetBlockStart:Ee,insetBlockEnd:Ee,insetInline:Ee,insetInlineStart:Ee,insetInlineEnd:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,paddingBlock:Ee,paddingBlockStart:Ee,paddingBlockEnd:Ee,paddingInline:Ee,paddingInlineStart:Ee,paddingInlineEnd:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,marginBlock:Ee,marginBlockStart:Ee,marginBlockEnd:Ee,marginInline:Ee,marginInlineStart:Ee,marginInlineEnd:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee,...pU,zIndex:vE,fillOpacity:Ju,strokeOpacity:Ju,numOctaves:vE},gU={...bb,color:En,backgroundColor:En,outlineColor:En,fill:En,stroke:En,borderColor:En,borderTopColor:En,borderRightColor:En,borderBottomColor:En,borderLeftColor:En,filter:jv,WebkitFilter:jv},PR=t=>gU[t];function VR(t,e){let n=PR(t);return n!==jv&&(n=Ha),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const yU=new Set(["auto","none","0"]);function vU(t,e,n){let r=0,a;for(;r<t.length&&!a;){const l=t[r];typeof l=="string"&&!yU.has(l)&&Zu(l).values.length&&(a=t[r]),r++}if(a&&n)for(const l of e)t[l]=VR(n,a)}class bU extends mb{constructor(e,n,r,a,l){super(e,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let v=e[g];if(typeof v=="string"&&(v=v.trim(),ab(v))){const w=CR(v,n.current);w!==void 0&&(e[g]=w),g===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!IR.has(r)||e.length!==2)return;const[a,l]=e,c=yE(a),h=yE(l),d=iE(a),m=iE(l);if(d!==m&&Na[r]){this.needsMeasurement=!0;return}if(c!==h)if(dE(c)&&dE(h))for(let g=0;g<e.length;g++){const v=e[g];typeof v=="string"&&(e[g]=parseFloat(v))}else Na[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||hU(e[a]))&&r.push(a);r.length&&vU(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Na[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=Na[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function _U(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const a=n?.[t]??r.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const jR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function LR(t){return X2(t)&&"offsetHeight"in t}const{schedule:_b}=lR(queueMicrotask,!1),Ar={x:!1,y:!1};function UR(){return Ar.x||Ar.y}function wU(t){return t==="x"||t==="y"?Ar[t]?null:(Ar[t]=!0,()=>{Ar[t]=!1}):Ar.x||Ar.y?null:(Ar.x=Ar.y=!0,()=>{Ar.x=Ar.y=!1})}function zR(t,e){const n=_U(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function bE(t){return!(t.pointerType==="touch"||UR())}function xU(t,e,n={}){const[r,a,l]=zR(t,n),c=h=>{if(!bE(h))return;const{target:d}=h,m=e(d,h);if(typeof m!="function"||!d)return;const g=v=>{bE(v)&&(m(v),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,a)};return r.forEach(h=>{h.addEventListener("pointerenter",c,a)}),l}const BR=(t,e)=>e?t===e?!0:BR(t,e.parentElement):!1,wb=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,TU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function FR(t){return TU.has(t.tagName)||t.isContentEditable===!0}const Rf=new WeakSet;function _E(t){return e=>{e.key==="Enter"&&t(e)}}function Ry(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const EU=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=_E(()=>{if(Rf.has(n))return;Ry(n,"down");const a=_E(()=>{Ry(n,"up")}),l=()=>Ry(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function wE(t){return wb(t)&&!UR()}function SU(t,e,n={}){const[r,a,l]=zR(t,n),c=h=>{const d=h.currentTarget;if(!wE(h))return;Rf.add(d);const m=e(d,h),g=(A,k)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),Rf.has(d)&&Rf.delete(d),wE(A)&&typeof m=="function"&&m(A,{success:k})},v=A=>{g(A,d===window||d===document||n.useGlobalTarget||BR(d,A.target))},w=A=>{g(A,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",w,a)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),LR(h)&&(h.addEventListener("focus",m=>EU(m,a)),!FR(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function qR(t){return X2(t)&&"ownerSVGElement"in t}function AU(t){return qR(t)&&t.tagName==="svg"}const CU=[...OR,En,Ha],RU=t=>CU.find(MR(t)),xE=()=>({translate:0,scale:1,origin:0,originPoint:0}),zl=()=>({x:xE(),y:xE()}),TE=()=>({min:0,max:0}),Mn=()=>({x:TE(),y:TE()}),Lv={current:null},HR={current:!1},IU=typeof window<"u";function NU(){if(HR.current=!0,!!IU)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Lv.current=t.matches;t.addEventListener("change",e),e()}else Lv.current=!1}const DU=new WeakMap;function Jm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function eh(t){return typeof t=="string"||Array.isArray(t)}const xb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Tb=["initial",...xb];function Zm(t){return Jm(t.animate)||Tb.some(e=>eh(t[e]))}function GR(t){return!!(Zm(t)||t.variants)}function kU(t,e,n){for(const r in e){const a=e[r],l=n[r];if(li(a))t.addValue(r,a);else if(li(l))t.addValue(r,sc(a,{owner:t}));else if(l!==a)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(r);t.addValue(r,sc(c!==void 0?c:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const EE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let hm={};function $R(t){hm=t}function MU(){return hm}class OU{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=mb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=fi.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Gt.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=Zm(n),this.isVariantNode=GR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in v){const A=v[w];d[w]!==void 0&&li(A)&&A.set(d[w])}}mount(e){this.current=e,DU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(HR.current||NU(),this.shouldReduceMotion=Lv.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),qa(this.notifyUpdate),qa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=yc.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Gt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in hm){const n=hm[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Mn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<EE.length;r++){const a=EE[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=kU(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=sc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Y2(r)||W2(r))?r=parseFloat(r):!RU(r)&&Ha.test(n)&&(r=VR(e,n)),this.setBaseTarget(e,li(r)?r.get():r)),li(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=yb(this.props,n,this.presenceContext?.custom);l&&(r=l[e])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!li(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ib),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){_b.render(this.render)}}class Wa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class KR extends OU{constructor(){super(...arguments),this.KeyframeResolver=bU}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;li(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function YR({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function PU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function VU(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Iy(t){return t===void 0||t===1}function Uv({scale:t,scaleX:e,scaleY:n}){return!Iy(t)||!Iy(e)||!Iy(n)}function Io(t){return Uv(t)||XR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function XR(t){return SE(t.x)||SE(t.y)}function SE(t){return t&&t!=="0%"}function dm(t,e,n){const r=t-n,a=e*r;return n+a}function AE(t,e,n,r,a){return a!==void 0&&(t=dm(t,a,r)),dm(t,n,r)+e}function zv(t,e=0,n=1,r,a){t.min=AE(t.min,e,n,r,a),t.max=AE(t.max,e,n,r,a)}function WR(t,{x:e,y:n}){zv(t.x,e.translate,e.scale,e.originPoint),zv(t.y,n.translate,n.scale,n.originPoint)}const CE=.999999999999,RE=1.0000000000001;function jU(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let h=0;h<a;h++){l=n[h],c=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Fl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,WR(t,c)),r&&Io(l.latestValues)&&Fl(t,l.latestValues))}e.x<RE&&e.x>CE&&(e.x=1),e.y<RE&&e.y>CE&&(e.y=1)}function Bl(t,e){t.min=t.min+e,t.max=t.max+e}function IE(t,e,n,r,a=.5){const l=en(t.min,t.max,a);zv(t,e,n,l,r)}function Fl(t,e){IE(t.x,e.x,e.scaleX,e.scale,e.originX),IE(t.y,e.y,e.scaleY,e.scale,e.originY)}function QR(t,e){return YR(VU(t.getBoundingClientRect(),e))}function LU(t,e,n){const r=QR(t,n),{scroll:a}=e;return a&&(Bl(r.x,a.offset.x),Bl(r.y,a.offset.y)),r}const UU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zU=gc.length;function BU(t,e,n){let r="",a=!0;for(let l=0;l<zU;l++){const c=gc[l],h=t[c];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(c.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const m=jR(h,bb[c]);if(!d){a=!1;const g=UU[c]||c;r+=`${g}(${m}) `}n&&(e[c]=m)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function Eb(t,e,n){const{style:r,vars:a,transformOrigin:l}=t;let c=!1,h=!1;for(const d in e){const m=e[d];if(yc.has(d)){c=!0;continue}else if(uR(d)){a[d]=m;continue}else{const g=jR(m,bb[d]);d.startsWith("origin")?(h=!0,l[d]=g):r[d]=g}}if(e.transform||(c||n?r.transform=BU(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:d="50%",originY:m="50%",originZ:g=0}=l;r.transformOrigin=`${d} ${m} ${g}`}}function JR(t,{style:e,vars:n},r,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,r);for(c in n)l.setProperty(c,n[c])}function NE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const vu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ee.test(t))t=parseFloat(t);else return t;const n=NE(t,e.target.x),r=NE(t,e.target.y);return`${n}% ${r}%`}},FU={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=Ha.parse(t);if(a.length>5)return r;const l=Ha.createTransformer(t),c=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+c]/=h,a[1+c]/=d;const m=en(h,d,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),l(a)}},Bv={borderRadius:{...vu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vu,borderTopRightRadius:vu,borderBottomLeftRadius:vu,borderBottomRightRadius:vu,boxShadow:FU};function ZR(t,{layout:e,layoutId:n}){return yc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Bv[t]||t==="opacity")}function Sb(t,e,n){const r=t.style,a=e?.style,l={};if(!r)return l;for(const c in r)(li(r[c])||a&&li(a[c])||ZR(c,t)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=r[c]);return l}function qU(t){return window.getComputedStyle(t)}class HU extends KR{constructor(){super(...arguments),this.type="html",this.renderInstance=JR}readValueFromInstance(e,n){if(yc.has(n))return this.projection?.isProjecting?Rv(n):_6(e,n);{const r=qU(e),a=(uR(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return QR(e,n)}build(e,n,r){Eb(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Sb(e,n,r)}}const GU={offset:"stroke-dashoffset",array:"stroke-dasharray"},$U={offset:"strokeDashoffset",array:"strokeDasharray"};function KU(t,e,n=1,r=0,a=!0){t.pathLength=1;const l=a?GU:$U;t[l.offset]=Ee.transform(-r);const c=Ee.transform(e),h=Ee.transform(n);t[l.array]=`${c} ${h}`}const YU=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function eI(t,{attrX:e,attrY:n,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},d,m,g){if(Eb(t,h,m),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w}=t;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=g?.transformBox??"fill-box",delete v.transformBox);for(const A of YU)v[A]!==void 0&&(w[A]=v[A],delete v[A]);e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),a!==void 0&&KU(v,a,l,c,!1)}const tI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),nI=t=>typeof t=="string"&&t.toLowerCase()==="svg";function XU(t,e,n,r){JR(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(tI.has(a)?a:vb(a),e.attrs[a])}function iI(t,e,n){const r=Sb(t,e,n);for(const a in t)if(li(t[a])||li(e[a])){const l=gc.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=t[a]}return r}class WU extends KR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Mn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(yc.has(n)){const r=PR(n);return r&&r.default||0}return n=tI.has(n)?n:vb(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return iI(e,n,r)}build(e,n,r){eI(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,a){XU(e,n,r,a)}mount(e){this.isSVGTag=nI(e.tagName),super.mount(e)}}const QU=Tb.length;function rI(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?rI(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<QU;n++){const r=Tb[n],a=t.props[r];(eh(a)||a===!1)&&(e[r]=a)}return e}function sI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const JU=[...xb].reverse(),ZU=xb.length;function e9(t){return e=>Promise.all(e.map(({animation:n,options:r})=>cU(t,n,r)))}function t9(t){let e=e9(t),n=DE(),r=!0;const a=d=>(m,g)=>{const v=Xl(t,g,d==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:w,transitionEnd:A,...k}=v;m={...m,...k,...A}}return m};function l(d){e=d(t)}function c(d){const{props:m}=t,g=rI(t.parent)||{},v=[],w=new Set;let A={},k=1/0;for(let I=0;I<ZU;I++){const B=JU[I],H=n[B],q=m[B]!==void 0?m[B]:g[B],le=eh(q),re=B===d?H.isActive:null;re===!1&&(k=I);let ae=q===g[B]&&q!==m[B]&&le;if(ae&&r&&t.manuallyAnimateOnMount&&(ae=!1),H.protectedKeys={...A},!H.isActive&&re===null||!q&&!H.prevProp||Jm(q)||typeof q=="boolean")continue;const N=n9(H.prevProp,q);let C=N||B===d&&H.isActive&&!ae&&le||I>k&&le,O=!1;const U=Array.isArray(q)?q:[q];let z=U.reduce(a(B),{});re===!1&&(z={});const{prevResolvedValues:V={}}=H,P={...V,...z},ve=X=>{C=!0,w.has(X)&&(O=!0,w.delete(X)),H.needsAnimating[X]=!0;const G=t.getValue(X);G&&(G.liveStyle=!1)};for(const X in P){const G=z[X],Y=V[X];if(A.hasOwnProperty(X))continue;let j=!1;Ov(G)&&Ov(Y)?j=!sI(G,Y):j=G!==Y,j?G!=null?ve(X):w.add(X):G!==void 0&&w.has(X)?ve(X):H.protectedKeys[X]=!0}H.prevProp=q,H.prevResolvedValues=z,H.isActive&&(A={...A,...z}),r&&t.blockInitialAnimation&&(C=!1);const be=ae&&N;C&&(!be||O)&&v.push(...U.map(X=>{const G={type:B};if(typeof X=="string"&&r&&!be&&t.manuallyAnimateOnMount&&t.parent){const{parent:Y}=t,j=Xl(Y,X);if(Y.enteringChildren&&j){const{delayChildren:T}=j.transition||{};G.delay=RR(Y.enteringChildren,t,T)}}return{animation:X,options:G}}))}if(w.size){const I={};if(typeof m.initial!="boolean"){const B=Xl(t,Array.isArray(m.initial)?m.initial[0]:m.initial);B&&B.transition&&(I.transition=B.transition)}w.forEach(B=>{const H=t.getBaseTarget(B),q=t.getValue(B);q&&(q.liveStyle=!0),I[B]=H??null}),v.push({animation:I})}let M=!!v.length;return r&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(M=!1),r=!1,M?e(v):Promise.resolve()}function h(d,m){if(n[d].isActive===m)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(d,m)),n[d].isActive=m;const g=c(d);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=DE()}}}function n9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!sI(e,t):!1}function Eo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function DE(){return{animate:Eo(!0),whileInView:Eo(),whileHover:Eo(),whileTap:Eo(),whileDrag:Eo(),whileFocus:Eo(),exit:Eo()}}const aI=1e-4,i9=1-aI,r9=1+aI,oI=.01,s9=0-oI,a9=0+oI;function mi(t){return t.max-t.min}function o9(t,e,n){return Math.abs(t-e)<=n}function kE(t,e,n,r=.5){t.origin=r,t.originPoint=en(e.min,e.max,t.origin),t.scale=mi(n)/mi(e),t.translate=en(n.min,n.max,t.origin)-t.originPoint,(t.scale>=i9&&t.scale<=r9||isNaN(t.scale))&&(t.scale=1),(t.translate>=s9&&t.translate<=a9||isNaN(t.translate))&&(t.translate=0)}function ju(t,e,n,r){kE(t.x,e.x,n.x,r?r.originX:void 0),kE(t.y,e.y,n.y,r?r.originY:void 0)}function ME(t,e,n){t.min=n.min+e.min,t.max=t.min+mi(e)}function l9(t,e,n){ME(t.x,e.x,n.x),ME(t.y,e.y,n.y)}function OE(t,e,n){t.min=e.min-n.min,t.max=t.min+mi(e)}function fm(t,e,n){OE(t.x,e.x,n.x),OE(t.y,e.y,n.y)}function PE(t,e,n,r,a){return t-=e,t=dm(t,1/n,r),a!==void 0&&(t=dm(t,1/a,r)),t}function c9(t,e=0,n=1,r=.5,a,l=t,c=t){if(ts.test(e)&&(e=parseFloat(e),e=en(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=en(l.min,l.max,r);t===l&&(h-=e),t.min=PE(t.min,e,n,h,a),t.max=PE(t.max,e,n,h,a)}function VE(t,e,[n,r,a],l,c){c9(t,e[n],e[r],e[a],e.scale,l,c)}const u9=["x","scaleX","originX"],h9=["y","scaleY","originY"];function jE(t,e,n,r){VE(t.x,e,u9,n?n.x:void 0,r?r.x:void 0),VE(t.y,e,h9,n?n.y:void 0,r?r.y:void 0)}function LE(t,e){t.min=e.min,t.max=e.max}function Sr(t,e){LE(t.x,e.x),LE(t.y,e.y)}function UE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function zE(t){return t.translate===0&&t.scale===1}function lI(t){return zE(t.x)&&zE(t.y)}function BE(t,e){return t.min===e.min&&t.max===e.max}function d9(t,e){return BE(t.x,e.x)&&BE(t.y,e.y)}function FE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function cI(t,e){return FE(t.x,e.x)&&FE(t.y,e.y)}function qE(t){return mi(t.x)/mi(t.y)}function HE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function sr(t){return[t("x"),t("y")]}function f9(t,e,n){let r="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(r=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:v,rotateY:w,skewX:A,skewY:k}=n;m&&(r=`perspective(${m}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),w&&(r+=`rotateY(${w}deg) `),A&&(r+=`skewX(${A}deg) `),k&&(r+=`skewY(${k}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(r+=`scale(${h}, ${d})`),r||"none"}const uI=["TopLeft","TopRight","BottomLeft","BottomRight"],m9=uI.length,GE=t=>typeof t=="string"?parseFloat(t):t,$E=t=>typeof t=="number"||Ee.test(t);function p9(t,e,n,r,a,l){a?(t.opacity=en(0,n.opacity??1,g9(r)),t.opacityExit=en(e.opacity??1,0,y9(r))):l&&(t.opacity=en(e.opacity??1,n.opacity??1,r));for(let c=0;c<m9;c++){const h=`border${uI[c]}Radius`;let d=KE(e,h),m=KE(n,h);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||$E(d)===$E(m)?(t[h]=Math.max(en(GE(d),GE(m),r),0),(ts.test(m)||ts.test(d))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=en(e.rotate||0,n.rotate||0,r))}function KE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const g9=hI(0,.5,rR),y9=hI(.5,.95,dr);function hI(t,e,n){return r=>r<t?0:r>e?1:n(Qu(t,e,r))}function v9(t,e){const n=fi.now(),r=({timestamp:a})=>{const l=a-n;l>=e&&(qa(r),t(l-e))};return Gt.setup(r,!0),()=>qa(r)}function th(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function If(t){return li(t)?t.get():t}function b9(t,e,n){const r=li(t)?t:sc(t);return r.start(gb("",r,e,n)),r.animation}const _9=(t,e)=>t.depth-e.depth;class w9{constructor(){this.children=[],this.isDirty=!1}add(e){Z0(this.children,e),this.isDirty=!0}remove(e){eb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(_9),this.isDirty=!1,this.children.forEach(e)}}class x9{constructor(){this.members=[]}add(e){Z0(this.members,e),e.scheduleRender()}remove(e){if(eb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Nf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Ny=["","X","Y","Z"],T9=1e3;let E9=0;function Dy(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function dI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=DR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Gt,!(a||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&dI(r)}function fI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},h=e?.()){this.id=E9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(C9),this.nodes.forEach(D9),this.nodes.forEach(k9),this.nodes.forEach(R9)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new w9)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new ib),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const d=this.eventHandlers.get(c);d&&d.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=qR(c)&&!AU(c),this.instance=c;const{layoutId:h,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let g,v=0;const w=()=>this.root.updateBlockedByResize=!1;Gt.read(()=>{v=window.innerWidth}),t(c,()=>{const A=window.innerWidth;A!==v&&(v=A,this.root.updateBlockedByResize=!0,g&&g(),g=v9(w,250),Nf.hasAnimatedSinceResize&&(Nf.hasAnimatedSinceResize=!1,this.nodes.forEach(WE)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||m.getDefaultTransition()||j9,{onLayoutAnimationStart:M,onLayoutAnimationComplete:I}=m.getProps(),B=!this.targetLayout||!cI(this.targetLayout,A),H=!v&&w;if(this.options.layoutRoot||this.resumeFrom||H||v&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...pb(k,"layout"),onPlay:M,onComplete:I};(m.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(g,H)}else v||WE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(M9),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&dI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(YE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(XE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(N9),this.nodes.forEach(S9),this.nodes.forEach(A9)):this.nodes.forEach(XE),this.clearAllSnapshots();const h=fi.now();Qn.delta=as(0,1e3/60,h-Qn.timestamp),Qn.timestamp=h,Qn.isProcessing=!0,xy.update.process(Qn),xy.preRender.process(Qn),xy.render.process(Qn),Qn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_b.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(I9),this.sharedNodes.forEach(O9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!mi(this.snapshot.measuredBox.x)&&!mi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Mn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!lI(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&this.instance&&(h||Io(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return c&&(d=this.removeTransform(d)),L9(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Mn();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(U9))){const{scroll:m}=this.root;m&&(Bl(h.x,m.offset.x),Bl(h.y,m.offset.y))}return h}removeElementScroll(c){const h=Mn();if(Sr(h,c),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:g,options:v}=m;m!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&Sr(h,c),Bl(h.x,g.offset.x),Bl(h.y,g.offset.y))}return h}applyTransform(c,h=!1){const d=Mn();Sr(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Fl(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Io(g.latestValues)&&Fl(d,g.latestValues)}return Io(this.latestValues)&&Fl(d,this.latestValues),d}removeTransform(c){const h=Mn();Sr(h,c);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!Io(m.latestValues))continue;Uv(m.latestValues)&&m.updateSnapshot();const g=Mn(),v=m.measurePageBox();Sr(g,v),jE(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Io(this.latestValues)&&jE(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!this.layout||!(g||v))return;this.resolvedRelativeTargetAt=Qn.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Mn(),this.targetWithTransforms=Mn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),l9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Sr(this.target,this.layout.layoutBox),WR(this.target,this.targetDelta)):Sr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Uv(this.parent.latestValues)||XR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,d){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mn(),this.relativeTargetOrigin=Mn(),fm(this.relativeTargetOrigin,h,d),Sr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Qn.timestamp&&(d=!1),d)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Sr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;jU(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Mn());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(UE(this.prevProjectionDelta.x,this.projectionDelta.x),UE(this.prevProjectionDelta.y,this.projectionDelta.y)),ju(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!HE(this.projectionDelta.x,this.prevProjectionDelta.x)||!HE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=zl(),this.projectionDelta=zl(),this.projectionDeltaWithTransform=zl()}setAnimationOrigin(c,h=!1){const d=this.snapshot,m=d?d.latestValues:{},g={...this.latestValues},v=zl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const w=Mn(),A=d?d.source:void 0,k=this.layout?this.layout.source:void 0,M=A!==k,I=this.getStack(),B=!I||I.members.length<=1,H=!!(M&&!B&&this.options.crossfade===!0&&!this.path.some(V9));this.animationProgress=0;let q;this.mixTargetDelta=le=>{const re=le/1e3;QE(v.x,c.x,re),QE(v.y,c.y,re),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fm(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),P9(this.relativeTarget,this.relativeTargetOrigin,w,re),q&&d9(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=Mn()),Sr(q,this.relativeTarget)),M&&(this.animationValues=g,p9(g,m,this.latestValues,re,H,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(qa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gt.update(()=>{Nf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=sc(0)),this.currentAnimation=b9(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(T9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:d,layout:m,latestValues:g}=c;if(!(!h||!d||!m)){if(this!==c&&this.layout&&m&&mI(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||Mn();const v=mi(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+v;const w=mi(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+w}Sr(h,d),Fl(h,g),ju(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new x9),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const m={};d.z&&Dy("z",c,m,this.animationValues);for(let g=0;g<Ny.length;g++)Dy(`rotate${Ny[g]}`,c,m,this.animationValues),Dy(`skew${Ny[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=If(h?.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=If(h?.pointerEvents)||""),this.hasProjected&&!Io(this.latestValues)&&(c.transform=d?d({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=f9(this.projectionDeltaWithTransform,this.treeScale,g);d&&(v=d(g,v)),c.transform=v;const{x:w,y:A}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${A.origin*100}% 0`,m.animationValues?c.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const k in Bv){if(g[k]===void 0)continue;const{correct:M,applyTo:I,isCSSVariable:B}=Bv[k],H=v==="none"?g[k]:M(g[k],m);if(I){const q=I.length;for(let le=0;le<q;le++)c[I[le]]=H}else B?this.options.visualElement.renderState.vars[k]=H:c[k]=H}this.options.layoutId&&(c.pointerEvents=m===this?If(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(YE),this.root.sharedNodes.clear()}}}function S9(t){t.updateLayout()}function A9(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?sr(g=>{const v=l?e.measuredBox[g]:e.layoutBox[g],w=mi(v);v.min=n[g].min,v.max=v.min+w}):mI(a,e.layoutBox,n)&&sr(g=>{const v=l?e.measuredBox[g]:e.layoutBox[g],w=mi(n[g]);v.max=v.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+w)});const c=zl();ju(c,n,e.layoutBox);const h=zl();l?ju(h,t.applyTransform(r,!0),e.measuredBox):ju(h,n,e.layoutBox);const d=!lI(c);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:w}=g;if(v&&w){const A=Mn();fm(A,e.layoutBox,v.layoutBox);const k=Mn();fm(k,n,w.layoutBox),cI(A,k)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=A,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function C9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function R9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function I9(t){t.clearSnapshot()}function YE(t){t.clearMeasurements()}function XE(t){t.isLayoutDirty=!1}function N9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function WE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function D9(t){t.resolveTargetDelta()}function k9(t){t.calcProjection()}function M9(t){t.resetSkewAndRotation()}function O9(t){t.removeLeadSnapshot()}function QE(t,e,n){t.translate=en(e.translate,0,n),t.scale=en(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function JE(t,e,n,r){t.min=en(e.min,n.min,r),t.max=en(e.max,n.max,r)}function P9(t,e,n,r){JE(t.x,e.x,n.x,r),JE(t.y,e.y,n.y,r)}function V9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const j9={duration:.45,ease:[.4,0,.1,1]},ZE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),eS=ZE("applewebkit/")&&!ZE("chrome/")?Math.round:dr;function tS(t){t.min=eS(t.min),t.max=eS(t.max)}function L9(t){tS(t.x),tS(t.y)}function mI(t,e,n){return t==="position"||t==="preserve-aspect"&&!o9(qE(e),qE(n),.2)}function U9(t){return t!==t.root&&t.scroll?.wasRoot}const z9=fI({attachResizeListener:(t,e)=>th(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ky={current:void 0},pI=fI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ky.current){const t=new z9({});t.mount(window),t.setOptions({layoutScroll:!0}),ky.current=t}return ky.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Ab=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function nS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function B9(...t){return e=>{let n=!1;const r=t.map(a=>{const l=nS(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<r.length;a++){const l=r[a];typeof l=="function"?l():nS(t[a],null)}}}}function F9(...t){return S.useCallback(B9(...t),t)}class q9 extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=LR(r)&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function H9({children:t,isPresent:e,anchorX:n,root:r}){const a=S.useId(),l=S.useRef(null),c=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=S.useContext(Ab),d=t.props?.ref??t?.ref,m=F9(l,d);return S.useInsertionEffect(()=>{const{width:g,height:v,top:w,left:A,right:k}=c.current;if(e||!l.current||!g||!v)return;const M=n==="left"?`left: ${A}`:`right: ${k}`;l.current.dataset.motionPopId=a;const I=document.createElement("style");h&&(I.nonce=h);const B=r??document.head;return B.appendChild(I),I.sheet&&I.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${v}px !important;
            ${M}px !important;
            top: ${w}px !important;
          }
        `),()=>{B.contains(I)&&B.removeChild(I)}},[e]),b.jsx(q9,{isPresent:e,childRef:l,sizeRef:c,children:S.cloneElement(t,{ref:m})})}const G9=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:c,anchorX:h,root:d})=>{const m=J0($9),g=S.useId();let v=!0,w=S.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:n,custom:a,onExitComplete:A=>{m.set(A,!0);for(const k of m.values())if(!k)return;r&&r()},register:A=>(m.set(A,!1),()=>m.delete(A))}),[n,m,r]);return l&&v&&(w={...w}),S.useMemo(()=>{m.forEach((A,k)=>m.set(k,!1))},[n]),S.useEffect(()=>{!n&&!m.size&&r&&r()},[n]),c==="popLayout"&&(t=b.jsx(H9,{isPresent:n,anchorX:h,root:d,children:t})),b.jsx(Qm.Provider,{value:w,children:t})};function $9(){return new Map}function gI(t=!0){const e=S.useContext(Qm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,l=S.useId();S.useEffect(()=>{if(t)return a(l)},[t]);const c=S.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,c]:[!0]}const uf=t=>t.key||"";function iS(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const ar=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",root:d})=>{const[m,g]=gI(c),v=S.useMemo(()=>iS(t),[t]),w=c&&!m?[]:v.map(uf),A=S.useRef(!0),k=S.useRef(v),M=J0(()=>new Map),I=S.useRef(new Set),[B,H]=S.useState(v),[q,le]=S.useState(v);K2(()=>{A.current=!1,k.current=v;for(let N=0;N<q.length;N++){const C=uf(q[N]);w.includes(C)?(M.delete(C),I.current.delete(C)):M.get(C)!==!0&&M.set(C,!1)}},[q,w.length,w.join("-")]);const re=[];if(v!==B){let N=[...v];for(let C=0;C<q.length;C++){const O=q[C],U=uf(O);w.includes(U)||(N.splice(C,0,O),re.push(O))}return l==="wait"&&re.length&&(N=re),le(iS(N)),H(v),null}const{forceRender:ae}=S.useContext(Q0);return b.jsx(b.Fragment,{children:q.map(N=>{const C=uf(N),O=c&&!m?!1:v===q||w.includes(C),U=()=>{if(I.current.has(C))return;if(I.current.add(C),M.has(C))M.set(C,!0);else return;let z=!0;M.forEach(V=>{V||(z=!1)}),z&&(ae?.(),le(k.current),c&&g?.(),r&&r())};return b.jsx(G9,{isPresent:O,initial:!A.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:O?void 0:U,anchorX:h,children:N},C)})})},yI=S.createContext({strict:!1}),rS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let sS=!1;function K9(){if(sS)return;const t={};for(const e in rS)t[e]={isEnabled:n=>rS[e].some(r=>!!n[r])};$R(t),sS=!0}function vI(){return K9(),MU()}function Y9(t){const e=vI();for(const n in t)e[n]={...e[n],...t[n]};$R(e)}const X9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||X9.has(t)}let bI=t=>!mm(t);function W9(t){typeof t=="function"&&(bI=e=>e.startsWith("on")?!mm(e):t(e))}try{W9(require("@emotion/is-prop-valid").default)}catch{}function Q9(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(bI(a)||n===!0&&mm(a)||!e&&!mm(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}const ep=S.createContext({});function J9(t,e){if(Zm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||eh(n)?n:void 0,animate:eh(r)?r:void 0}}return t.inherit!==!1?e:{}}function Z9(t){const{initial:e,animate:n}=J9(t,S.useContext(ep));return S.useMemo(()=>({initial:e,animate:n}),[aS(e),aS(n)])}function aS(t){return Array.isArray(t)?t.join(" "):t}const Cb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _I(t,e,n){for(const r in e)!li(e[r])&&!ZR(r,n)&&(t[r]=e[r])}function ez({transformTemplate:t},e){return S.useMemo(()=>{const n=Cb();return Eb(n,e,t),Object.assign({},n.vars,n.style)},[e])}function tz(t,e){const n=t.style||{},r={};return _I(r,n,t),Object.assign(r,ez(t,e)),r}function nz(t,e){const n={},r=tz(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const wI=()=>({...Cb(),attrs:{}});function iz(t,e,n,r){const a=S.useMemo(()=>{const l=wI();return eI(l,e,nI(r),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};_I(l,t.style,t),a.style={...l,...a.style}}return a}const rz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Rb(t){return typeof t!="string"||t.includes("-")?!1:!!(rz.indexOf(t)>-1||/[A-Z]/u.test(t))}function sz(t,e,n,{latestValues:r},a,l=!1,c){const d=(c??Rb(t)?iz:nz)(e,r,a,t),m=Q9(e,typeof t=="string",l),g=t!==S.Fragment?{...m,...d,ref:n}:{},{children:v}=e,w=S.useMemo(()=>li(v)?v.get():v,[v]);return S.createElement(t,{...g,children:w})}function az({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,a){return{latestValues:oz(n,r,a,t),renderState:e()}}function oz(t,e,n,r){const a={},l=r(t,{});for(const w in l)a[w]=If(l[w]);let{initial:c,animate:h}=t;const d=Zm(t),m=GR(t);e&&m&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const v=g?h:c;if(v&&typeof v!="boolean"&&!Jm(v)){const w=Array.isArray(v)?v:[v];for(let A=0;A<w.length;A++){const k=yb(t,w[A]);if(k){const{transitionEnd:M,transition:I,...B}=k;for(const H in B){let q=B[H];if(Array.isArray(q)){const le=g?q.length-1:0;q=q[le]}q!==null&&(a[H]=q)}for(const H in M)a[H]=M[H]}}}return a}const xI=t=>(e,n)=>{const r=S.useContext(ep),a=S.useContext(Qm),l=()=>az(t,e,r,a);return n?l():J0(l)},lz=xI({scrapeMotionValuesFromProps:Sb,createRenderState:Cb}),cz=xI({scrapeMotionValuesFromProps:iI,createRenderState:wI}),uz=Symbol.for("motionComponentSymbol");function hz(t,e,n){const r=S.useRef(n);S.useInsertionEffect(()=>{r.current=n});const a=S.useRef(null);return S.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const c=r.current;if(typeof c=="function")if(l){const h=c(l);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[e])}const TI=S.createContext({});function Cu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function dz(t,e,n,r,a,l){const{visualElement:c}=S.useContext(ep),h=S.useContext(yI),d=S.useContext(Qm),m=S.useContext(Ab).reducedMotion,g=S.useRef(null);r=r||h.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:c,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m,isSVG:l}));const v=g.current,w=S.useContext(TI);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&fz(g.current,n,a,w);const A=S.useRef(!1);S.useInsertionEffect(()=>{v&&A.current&&v.update(n,d)});const k=n[NR],M=S.useRef(!!k&&!window.MotionHandoffIsComplete?.(k)&&window.MotionHasOptimisedAnimation?.(k));return K2(()=>{v&&(A.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),M.current&&v.animationState&&v.animationState.animateChanges())}),S.useEffect(()=>{v&&(!M.current&&v.animationState&&v.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(k)}),M.current=!1),v.enteringChildren=void 0)}),v}function fz(t,e,n,r){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:EI(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&Cu(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:d,layoutRoot:m})}function EI(t){if(t)return t.options.allowProjection!==!1?t.projection:EI(t.parent)}function My(t,{forwardMotionProps:e=!1,type:n}={},r,a){r&&Y9(r);const l=n?n==="svg":Rb(t),c=l?cz:lz;function h(m,g){let v;const w={...S.useContext(Ab),...m,layoutId:mz(m)},{isStatic:A}=w,k=Z9(m),M=c(m,A);if(!A&&$2){pz();const I=gz(w);v=I.MeasureLayout,k.visualElement=dz(t,M,w,a,I.ProjectionNode,l)}return b.jsxs(ep.Provider,{value:k,children:[v&&k.visualElement?b.jsx(v,{visualElement:k.visualElement,...w}):null,sz(t,m,hz(M,k.visualElement,g),M,A,e,l)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const d=S.forwardRef(h);return d[uz]=t,d}function mz({layoutId:t}){const e=S.useContext(Q0).id;return e&&t!==void 0?e+"-"+t:t}function pz(t,e){S.useContext(yI).strict}function gz(t){const e=vI(),{drag:n,layout:r}=e;if(!n&&!r)return{};const a={...n,...r};return{MeasureLayout:n?.isEnabled(t)||r?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function yz(t,e){if(typeof Proxy>"u")return My;const n=new Map,r=(l,c)=>My(l,c,t,e),a=(l,c)=>r(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?r:(n.has(c)||n.set(c,My(c,void 0,t,e)),n.get(c))})}const vz=(t,e)=>e.isSVG??Rb(t)?new WU(e):new HU(e,{allowProjection:t!==S.Fragment});class bz extends Wa{constructor(e){super(e),e.animationState||(e.animationState=t9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Jm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let _z=0;class wz extends Wa{constructor(){super(...arguments),this.id=_z++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const xz={animation:{Feature:bz},exit:{Feature:wz}};function Ih(t){return{point:{x:t.pageX,y:t.pageY}}}const Tz=t=>e=>wb(e)&&t(e,Ih(e));function Lu(t,e,n,r){return th(t,e,Tz(n),r)}const SI=({current:t})=>t?t.ownerDocument.defaultView:null,oS=(t,e)=>Math.abs(t-e);function Ez(t,e){const n=oS(t.x,e.x),r=oS(t.y,e.y);return Math.sqrt(n**2+r**2)}const lS=new Set(["auto","scroll"]);class AI{constructor(e,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=A=>{this.handleScroll(A.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Py(this.lastMoveEventInfo,this.history),k=this.startEvent!==null,M=Ez(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!k&&!M)return;const{point:I}=A,{timestamp:B}=Qn;this.history.push({...I,timestamp:B});const{onStart:H,onMove:q}=this.handlers;k||(H&&H(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,A)},this.handlePointerMove=(A,k)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=Oy(k,this.transformPagePoint),Gt.update(this.updatePoint,!0)},this.handlePointerUp=(A,k)=>{this.end();const{onEnd:M,onSessionEnd:I,resumeAnimation:B}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const H=Py(A.type==="pointercancel"?this.lastMoveEventInfo:Oy(k,this.transformPagePoint),this.history);this.startEvent&&M&&M(A,H),I&&I(A,H)},!wb(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=a||window;const d=Ih(e),m=Oy(d,this.transformPagePoint),{point:g}=m,{timestamp:v}=Qn;this.history=[{...g,timestamp:v}];const{onSessionStart:w}=n;w&&w(e,Py(m,this.history)),this.removeListeners=Ah(Lu(this.contextWindow,"pointermove",this.handlePointerMove),Lu(this.contextWindow,"pointerup",this.handlePointerUp),Lu(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(lS.has(r.overflowX)||lS.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,a=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),Gt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),qa(this.updatePoint)}}function Oy(t,e){return e?{point:e(t.point)}:t}function cS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Py({point:t},e){return{point:t,delta:cS(t,CI(e)),offset:cS(t,Sz(e)),velocity:Az(e,.1)}}function Sz(t){return t[0]}function CI(t){return t[t.length-1]}function Az(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=CI(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>js(e)));)n--;if(!r)return{x:0,y:0};const l=cr(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Cz(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?en(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?en(n,t,r.max):Math.min(t,n)),t}function uS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Rz(t,{top:e,left:n,bottom:r,right:a}){return{x:uS(t.x,n,a),y:uS(t.y,e,r)}}function hS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Iz(t,e){return{x:hS(t.x,e.x),y:hS(t.y,e.y)}}function Nz(t,e){let n=.5;const r=mi(t),a=mi(e);return a>r?n=Qu(e.min,e.max-r,t.min):r>a&&(n=Qu(t.min,t.max-a,e.min)),as(0,1,n)}function Dz(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Fv=.35;function kz(t=Fv){return t===!1?t=0:t===!0&&(t=Fv),{x:dS(t,"left","right"),y:dS(t,"top","bottom")}}function dS(t,e,n){return{min:fS(t,e),max:fS(t,n)}}function fS(t,e){return typeof t=="number"?t:t[e]||0}const Mz=new WeakMap;class Oz{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Mn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{n?(this.stopAnimation(),this.snapToCursor(Ih(v).point)):this.pauseAnimation()},c=(v,w)=>{this.stopAnimation();const{drag:A,dragPropagation:k,onDragStart:M}=this.getProps();if(A&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wU(A),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),sr(B=>{let H=this.getAxisMotionValue(B).get()||0;if(ts.test(H)){const{projection:q}=this.visualElement;if(q&&q.layout){const le=q.layout.layoutBox[B];le&&(H=mi(le)*(parseFloat(H)/100))}}this.originPoint[B]=H}),M&&Gt.postRender(()=>M(v,w)),Pv(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},h=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:A,dragDirectionLock:k,onDirectionLock:M,onDrag:I}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:B}=w;if(k&&this.currentDirection===null){this.currentDirection=Pz(B),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",w.point,B),this.updateAxis("y",w.point,B),this.visualElement.render(),I&&I(v,w)},d=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>sr(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new AI(e,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:SI(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!r)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&Gt.postRender(()=>h(r,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!hf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=Cz(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Cu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Rz(r.layoutBox,e):this.constraints=!1,this.elastic=kz(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&sr(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Dz(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Cu(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=LU(r,a.root,this.visualElement.getTransformPagePoint());let c=Iz(a.layout.layoutBox,l);if(n){const h=n(PU(c));this.hasMutatedConstraints=!!h,h&&(c=YR(h))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},m=sr(g=>{if(!hf(g,n,this.currentDirection))return;let v=d&&d[g]||{};c&&(v={min:0,max:0});const w=a?200:1e6,A=a?40:1e7,k={type:"inertia",velocity:r?e[g]:0,bounceStiffness:w,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(g,k)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Pv(this.visualElement,e),r.start(gb(e,r,0,n,this.visualElement,!1))}stopAnimation(){sr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){sr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){sr(n=>{const{drag:r}=this.getProps();if(!hf(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n],d=l.get()||0;l.set(e[n]-en(c,h,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Cu(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};sr(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const d=h.get();a[c]=Nz({min:d,max:d},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),sr(c=>{if(!hf(c,e,null))return;const h=this.getAxisMotionValue(c),{min:d,max:m}=this.constraints[c];h.set(en(d,m,a[c]))})}addListeners(){if(!this.visualElement.current)return;Mz.set(this.visualElement,this);const e=this.visualElement.current,n=Lu(e,"pointerdown",d=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&!FR(d.target)&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Cu(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Gt.read(r);const c=th(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(sr(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=d[g].translate,v.set(v.get()+d[g].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Fv,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function hf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Pz(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Vz extends Wa{constructor(e){super(e),this.removeGroupControls=dr,this.removeListeners=dr,this.controls=new Oz(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||dr}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const mS=t=>(e,n)=>{t&&Gt.postRender(()=>t(e,n))};class jz extends Wa{constructor(){super(...arguments),this.removePointerDownListener=dr}onPointerDown(e){this.session=new AI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:SI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:mS(e),onStart:mS(n),onMove:r,onEnd:(l,c)=>{delete this.session,a&&Gt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Lu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Vy=!1;class Lz extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),Vy&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Nf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,{projection:c}=r;return c&&(c.isPresent=l,Vy=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Gt.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),_b.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;Vy=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function RI(t){const[e,n]=gI(),r=S.useContext(Q0);return b.jsx(Lz,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(TI),isPresent:e,safeToRemove:n})}const Uz={pan:{Feature:jz},drag:{Feature:Vz,ProjectionNode:pI,MeasureLayout:RI}};function pS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&Gt.postRender(()=>l(e,Ih(e)))}class zz extends Wa{mount(){const{current:e}=this.node;e&&(this.unmount=xU(e,(n,r)=>(pS(this.node,r,"Start"),a=>pS(this.node,a,"End"))))}unmount(){}}class Bz extends Wa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ah(th(this.node.current,"focus",()=>this.onFocus()),th(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gS(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&Gt.postRender(()=>l(e,Ih(e)))}class Fz extends Wa{mount(){const{current:e}=this.node;e&&(this.unmount=SU(e,(n,r)=>(gS(this.node,r,"Start"),(a,{success:l})=>gS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const qv=new WeakMap,jy=new WeakMap,qz=t=>{const e=qv.get(t.target);e&&e(t)},Hz=t=>{t.forEach(qz)};function Gz({root:t,...e}){const n=t||document;jy.has(n)||jy.set(n,{});const r=jy.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(Hz,{root:t,...e})),r[a]}function $z(t,e,n){const r=Gz(e);return qv.set(t,n),r.observe(t),()=>{qv.delete(t),r.unobserve(t)}}const Kz={some:0,all:1};class Yz extends Wa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Kz[a]},h=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),w=m?g:v;w&&w(d)};return $z(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Xz(e,n))&&this.startObserver()}unmount(){}}function Xz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Wz={inView:{Feature:Yz},tap:{Feature:Fz},focus:{Feature:Bz},hover:{Feature:zz}},Qz={layout:{ProjectionNode:pI,MeasureLayout:RI}},Jz={...xz,...Wz,...Uz,...Qz},We=yz(Jz,vz);const Zz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eB=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),yS=t=>{const e=eB(t);return e.charAt(0).toUpperCase()+e.slice(1)},II=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),tB=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var nB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const iB=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:c,...h},d)=>S.createElement("svg",{ref:d,...nB,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:II("lucide",a),...!l&&!tB(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,g])=>S.createElement(m,g)),...Array.isArray(l)?l:[l]]));const et=(t,e)=>{const n=S.forwardRef(({className:r,...a},l)=>S.createElement(iB,{ref:l,iconNode:e,className:II(`lucide-${Zz(yS(t))}`,`lucide-${t}`,r),...a}));return n.displayName=yS(t),n};const rB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],sB=et("arrow-left",rB);const aB=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],vS=et("award",aB);const oB=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],pm=et("book-open",oB);const lB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],gm=et("calendar",lB);const cB=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Ly=et("camera",cB);const uB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ns=et("check",uB);const hB=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],NI=et("chevron-left",hB);const dB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],DI=et("chevron-right",dB);const fB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],bS=et("circle-alert",fB);const mB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],pB=et("circle-check-big",mB);const gB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],kI=et("circle-question-mark",gB);const yB=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],vB=et("clock",yB);const bB=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],_B=et("download",bB);const wB=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],MI=et("layout-grid",wB);const xB=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],TB=et("lock",xB);const EB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],OI=et("log-out",EB);const SB=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],AB=et("mail",SB);const CB=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],RB=et("moon",CB);const IB=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],_S=et("palette",IB);const NB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Uy=et("pen",NB);const DB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],kB=et("pencil",DB);const MB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],nh=et("plus",MB);const OB=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],PB=et("printer",OB);const VB=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],wS=et("rocket",VB);const jB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],PI=et("settings",jB);const LB=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Df=et("share-2",LB);const UB=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],zB=et("sparkles",UB);const BB=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],FB=et("square-check-big",BB);const qB=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],HB=et("sun",qB);const GB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],kf=et("trash-2",GB);const $B=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],KB=et("trophy",$B);const YB=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],XB=et("type",YB);const WB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],QB=et("user-plus",WB);const JB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ZB=et("user",JB);const e8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],t8=et("users",e8);const n8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wr=et("x",n8);const i8=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],xS=et("zap",i8),VI=S.createContext(null),jI=()=>{const t=S.useContext(VI);if(!t)throw new Error("useDialog must be used within a DialogProvider");return t},r8=({children:t})=>{const[e,n]=S.useState({isOpen:!1,type:"alert",options:{message:""},resolve:null}),[r,a]=S.useState(""),[l,c]=S.useState("editor"),h=S.useCallback((k,M)=>new Promise(I=>{a(M.inputDefaultValue||""),c("editor"),n({isOpen:!0,type:k,options:M,resolve:I})}),[]),d=S.useCallback(k=>{e.resolve&&e.resolve(k),n(M=>({...M,isOpen:!1,resolve:null}))},[e.resolve]),m=S.useCallback((k,M)=>h("alert",{message:k,title:"Notice",confirmText:"OK",type:"info",...M}),[h]),g=S.useCallback((k,M)=>h("confirm",{message:k,title:"Confirm",confirmText:"Yes",cancelText:"Cancel",type:"warning",...M}),[h]),v=S.useCallback((k,M)=>h("prompt",{message:k,title:"Input",confirmText:"OK",cancelText:"Cancel",inputPlaceholder:"",...M}),[h]),w=S.useCallback((k,M)=>h("share",{message:k,title:"Share Board",confirmText:"Send Invite",cancelText:"Cancel",showRoleSelector:!0,inputPlaceholder:"Enter email address",...M}),[h]),A=()=>{switch(e.options.type){case"success":return b.jsx(pB,{className:"w-8 h-8 text-green-400"});case"warning":return b.jsx(bS,{className:"w-8 h-8 text-amber-400"});case"error":return b.jsx(bS,{className:"w-8 h-8 text-red-400"});default:return b.jsx(kI,{className:"w-8 h-8 text-accent-primary"})}};return b.jsxs(VI.Provider,{value:{alert:m,confirm:g,prompt:v,sharePrompt:w},children:[t,b.jsx(ar,{children:e.isOpen&&b.jsx(We.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{e.type==="alert"?d(void 0):e.type==="confirm"?d(!1):d(null)},children:b.jsxs(We.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-slate-900 border border-white/20 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",onClick:k=>k.stopPropagation(),children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[e.type==="share"?b.jsx(AB,{className:"w-6 h-6 text-accent-primary"}):A(),b.jsx("h3",{className:"text-lg font-bold text-white",children:e.options.title})]}),b.jsx("button",{onClick:()=>{e.type==="alert"?d(void 0):e.type==="confirm"?d(!1):d(null)},className:"p-1 text-slate-400 hover:text-white rounded-full hover:bg-white/10 transition-colors",children:b.jsx(Wr,{size:20})})]}),b.jsxs("div",{className:"p-6",children:[b.jsx("p",{className:"text-slate-300 mb-4 whitespace-pre-wrap",children:e.options.message}),(e.type==="prompt"||e.type==="share")&&b.jsx("input",{type:e.type==="share"?"email":"text",autoFocus:!0,value:r,onChange:k=>a(k.target.value),placeholder:e.options.inputPlaceholder,className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors mb-4",onKeyDown:k=>{k.key==="Enter"&&r.trim()&&(e.type==="share"?d({email:r.trim(),role:l}):d(r.trim()))}}),e.type==="share"&&e.options.showRoleSelector&&b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"text-sm font-medium text-slate-400 mb-2 block",children:"Access Level"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>c("viewer"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="viewer"?"bg-accent-primary/20 text-accent-primary border border-accent-primary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Viewer"}),b.jsx("button",{onClick:()=>c("editor"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${l==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/50":"bg-white/5 text-slate-400 border border-white/10 hover:bg-white/10"}`,children:" Editor"})]}),b.jsx("p",{className:"text-xs text-slate-500 mt-2",children:l==="viewer"?"Can view the board but not make changes":"Can view and edit the board"})]})]}),b.jsxs("div",{className:"flex gap-3 p-4 pt-0",children:[e.type!=="alert"&&b.jsx("button",{onClick:()=>{e.type==="confirm"?d(!1):d(null)},className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:e.options.cancelText}),b.jsx("button",{onClick:()=>{e.type==="alert"?d(void 0):e.type==="confirm"?d(!0):e.type==="share"?r.trim()&&d({email:r.trim(),role:l}):d(r.trim()||null)},disabled:(e.type==="prompt"||e.type==="share")&&!r.trim(),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:e.options.confirmText})]})]})})})]})};function LI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=LI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function s8(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=LI(t))&&(r&&(r+=" "),r+=e);return r}const a8=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},o8=(t,e)=>({classGroupId:t,validator:e}),UI=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),ym="-",TS=[],l8="arbitrary..",c8=t=>{const e=h8(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return u8(c);const h=c.split(ym),d=h[0]===""&&h.length>1?1:0;return zI(h,d,e)},getConflictingClassGroupIds:(c,h)=>{if(h){const d=r[c],m=n[c];return d?m?a8(m,d):d:m||TS}return n[c]||TS}}},zI=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const m=zI(t,e+1,l);if(m)return m}const c=n.validators;if(c===null)return;const h=e===0?t.join(ym):t.slice(e).join(ym),d=c.length;for(let m=0;m<d;m++){const g=c[m];if(g.validator(h))return g.classGroupId}},u8=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?l8+r:void 0})(),h8=t=>{const{theme:e,classGroups:n}=t;return d8(n,e)},d8=(t,e)=>{const n=UI();for(const r in t){const a=t[r];Ib(a,n,r,e)}return n},Ib=(t,e,n,r)=>{const a=t.length;for(let l=0;l<a;l++){const c=t[l];f8(c,e,n,r)}},f8=(t,e,n,r)=>{if(typeof t=="string"){m8(t,e,n);return}if(typeof t=="function"){p8(t,e,n,r);return}g8(t,e,n,r)},m8=(t,e,n)=>{const r=t===""?e:BI(e,t);r.classGroupId=n},p8=(t,e,n,r)=>{if(y8(t)){Ib(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(o8(n,t))},g8=(t,e,n,r)=>{const a=Object.entries(t),l=a.length;for(let c=0;c<l;c++){const[h,d]=a[c];Ib(d,BI(e,h),n,r)}},BI=(t,e)=>{let n=t;const r=e.split(ym),a=r.length;for(let l=0;l<a;l++){const c=r[l];let h=n.nextPart.get(c);h||(h=UI(),n.nextPart.set(c,h)),n=h}return n},y8=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,v8=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const a=(l,c)=>{n[l]=c,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=r[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},Hv="!",ES=":",b8=[],SS=(t,e,n,r,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:a}),_8=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=a=>{const l=[];let c=0,h=0,d=0,m;const g=a.length;for(let M=0;M<g;M++){const I=a[M];if(c===0&&h===0){if(I===ES){l.push(a.slice(d,M)),d=M+1;continue}if(I==="/"){m=M;continue}}I==="["?c++:I==="]"?c--:I==="("?h++:I===")"&&h--}const v=l.length===0?a:a.slice(d);let w=v,A=!1;v.endsWith(Hv)?(w=v.slice(0,-1),A=!0):v.startsWith(Hv)&&(w=v.slice(1),A=!0);const k=m&&m>d?m-d:void 0;return SS(l,A,w,k)};if(e){const a=e+ES,l=r;r=c=>c.startsWith(a)?l(c.slice(a.length)):SS(b8,!1,c,void 0,!0)}if(n){const a=r;r=l=>n({className:l,parseClassName:a})}return r},w8=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],h=c[0]==="[",d=e.has(c);h||d?(a.length>0&&(a.sort(),r.push(...a),a=[]),r.push(c)):a.push(c)}return a.length>0&&(a.sort(),r.push(...a)),r}},x8=t=>({cache:v8(t.cacheSize),parseClassName:_8(t),sortModifiers:w8(t),...c8(t)}),T8=/\s+/,E8=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],h=t.trim().split(T8);let d="";for(let m=h.length-1;m>=0;m-=1){const g=h[m],{isExternal:v,modifiers:w,hasImportantModifier:A,baseClassName:k,maybePostfixModifierPosition:M}=n(g);if(v){d=g+(d.length>0?" "+d:d);continue}let I=!!M,B=r(I?k.substring(0,M):k);if(!B){if(!I){d=g+(d.length>0?" "+d:d);continue}if(B=r(k),!B){d=g+(d.length>0?" "+d:d);continue}I=!1}const H=w.length===0?"":w.length===1?w[0]:l(w).join(":"),q=A?H+Hv:H,le=q+B;if(c.indexOf(le)>-1)continue;c.push(le);const re=a(B,I);for(let ae=0;ae<re.length;++ae){const N=re[ae];c.push(q+N)}d=g+(d.length>0?" "+d:d)}return d},S8=(...t)=>{let e=0,n,r,a="";for(;e<t.length;)(n=t[e++])&&(r=FI(n))&&(a&&(a+=" "),a+=r);return a},FI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=FI(t[r]))&&(n&&(n+=" "),n+=e);return n},A8=(t,...e)=>{let n,r,a,l;const c=d=>{const m=e.reduce((g,v)=>v(g),t());return n=x8(m),r=n.cache.get,a=n.cache.set,l=h,h(d)},h=d=>{const m=r(d);if(m)return m;const g=E8(d,n);return a(d,g),g};return l=c,(...d)=>l(S8(...d))},C8=[],kn=t=>{const e=n=>n[t]||C8;return e.isThemeGetter=!0,e},qI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,HI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,R8=/^\d+\/\d+$/,I8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,N8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,D8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,k8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,M8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ml=t=>R8.test(t),Xe=t=>!!t&&!Number.isNaN(Number(t)),xa=t=>!!t&&Number.isInteger(Number(t)),zy=t=>t.endsWith("%")&&Xe(t.slice(0,-1)),Is=t=>I8.test(t),O8=()=>!0,P8=t=>N8.test(t)&&!D8.test(t),GI=()=>!1,V8=t=>k8.test(t),j8=t=>M8.test(t),L8=t=>!Re(t)&&!Ie(t),U8=t=>vc(t,YI,GI),Re=t=>qI.test(t),So=t=>vc(t,XI,P8),By=t=>vc(t,H8,Xe),AS=t=>vc(t,$I,GI),z8=t=>vc(t,KI,j8),df=t=>vc(t,WI,V8),Ie=t=>HI.test(t),bu=t=>bc(t,XI),B8=t=>bc(t,G8),CS=t=>bc(t,$I),F8=t=>bc(t,YI),q8=t=>bc(t,KI),ff=t=>bc(t,WI,!0),vc=(t,e,n)=>{const r=qI.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},bc=(t,e,n=!1)=>{const r=HI.exec(t);return r?r[1]?e(r[1]):n:!1},$I=t=>t==="position"||t==="percentage",KI=t=>t==="image"||t==="url",YI=t=>t==="length"||t==="size"||t==="bg-size",XI=t=>t==="length",H8=t=>t==="number",G8=t=>t==="family-name",WI=t=>t==="shadow",$8=()=>{const t=kn("color"),e=kn("font"),n=kn("text"),r=kn("font-weight"),a=kn("tracking"),l=kn("leading"),c=kn("breakpoint"),h=kn("container"),d=kn("spacing"),m=kn("radius"),g=kn("shadow"),v=kn("inset-shadow"),w=kn("text-shadow"),A=kn("drop-shadow"),k=kn("blur"),M=kn("perspective"),I=kn("aspect"),B=kn("ease"),H=kn("animate"),q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],le=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],re=()=>[...le(),Ie,Re],ae=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],C=()=>[Ie,Re,d],O=()=>[Ml,"full","auto",...C()],U=()=>[xa,"none","subgrid",Ie,Re],z=()=>["auto",{span:["full",xa,Ie,Re]},xa,Ie,Re],V=()=>[xa,"auto",Ie,Re],P=()=>["auto","min","max","fr",Ie,Re],ve=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],be=()=>["start","end","center","stretch","center-safe","end-safe"],J=()=>["auto",...C()],X=()=>[Ml,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],G=()=>[t,Ie,Re],Y=()=>[...le(),CS,AS,{position:[Ie,Re]}],j=()=>["no-repeat",{repeat:["","x","y","space","round"]}],T=()=>["auto","cover","contain",F8,U8,{size:[Ie,Re]}],L=()=>[zy,bu,So],W=()=>["","none","full",m,Ie,Re],Z=()=>["",Xe,bu,So],fe=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pe=()=>[Xe,zy,CS,AS],we=()=>["","none",k,Ie,Re],xe=()=>["none",Xe,Ie,Re],Se=()=>["none",Xe,Ie,Re],Ue=()=>[Xe,Ie,Re],Pe=()=>[Ml,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Is],breakpoint:[Is],color:[O8],container:[Is],"drop-shadow":[Is],ease:["in","out","in-out"],font:[L8],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Is],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Is],shadow:[Is],spacing:["px",Xe],text:[Is],"text-shadow":[Is],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ml,Re,Ie,I]}],container:["container"],columns:[{columns:[Xe,Re,Ie,h]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:re()}],overflow:[{overflow:ae()}],"overflow-x":[{"overflow-x":ae()}],"overflow-y":[{"overflow-y":ae()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[xa,"auto",Ie,Re]}],basis:[{basis:[Ml,"full","auto",h,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Xe,Ml,"auto","initial","none",Re]}],grow:[{grow:["",Xe,Ie,Re]}],shrink:[{shrink:["",Xe,Ie,Re]}],order:[{order:[xa,"first","last","none",Ie,Re]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...ve(),"normal"]}],"justify-items":[{"justify-items":[...be(),"normal"]}],"justify-self":[{"justify-self":["auto",...be()]}],"align-content":[{content:["normal",...ve()]}],"align-items":[{items:[...be(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...be(),{baseline:["","last"]}]}],"place-content":[{"place-content":ve()}],"place-items":[{"place-items":[...be(),"baseline"]}],"place-self":[{"place-self":["auto",...be()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:J()}],mx:[{mx:J()}],my:[{my:J()}],ms:[{ms:J()}],me:[{me:J()}],mt:[{mt:J()}],mr:[{mr:J()}],mb:[{mb:J()}],ml:[{ml:J()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:X()}],w:[{w:[h,"screen",...X()]}],"min-w":[{"min-w":[h,"screen","none",...X()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...X()]}],h:[{h:["screen","lh",...X()]}],"min-h":[{"min-h":["screen","lh","none",...X()]}],"max-h":[{"max-h":["screen","lh",...X()]}],"font-size":[{text:["base",n,bu,So]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ie,By]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",zy,Re]}],"font-family":[{font:[B8,Re,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ie,Re]}],"line-clamp":[{"line-clamp":[Xe,"none",Ie,By]}],leading:[{leading:[l,...C()]}],"list-image":[{"list-image":["none",Ie,Re]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ie,Re]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Xe,"from-font","auto",Ie,So]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[Xe,"auto",Ie,Re]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie,Re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie,Re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Y()}],"bg-repeat":[{bg:j()}],"bg-size":[{bg:T()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},xa,Ie,Re],radial:["",Ie,Re],conic:[xa,Ie,Re]},q8,z8]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:L()}],"gradient-via-pos":[{via:L()}],"gradient-to-pos":[{to:L()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:Z()}],"border-w-x":[{"border-x":Z()}],"border-w-y":[{"border-y":Z()}],"border-w-s":[{"border-s":Z()}],"border-w-e":[{"border-e":Z()}],"border-w-t":[{"border-t":Z()}],"border-w-r":[{"border-r":Z()}],"border-w-b":[{"border-b":Z()}],"border-w-l":[{"border-l":Z()}],"divide-x":[{"divide-x":Z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Xe,Ie,Re]}],"outline-w":[{outline:["",Xe,bu,So]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",g,ff,df]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",v,ff,df]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[Xe,So]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":Z()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",w,ff,df]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[Xe,Ie,Re]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Xe]}],"mask-image-linear-from-pos":[{"mask-linear-from":pe()}],"mask-image-linear-to-pos":[{"mask-linear-to":pe()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":pe()}],"mask-image-t-to-pos":[{"mask-t-to":pe()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":pe()}],"mask-image-r-to-pos":[{"mask-r-to":pe()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":pe()}],"mask-image-b-to-pos":[{"mask-b-to":pe()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":pe()}],"mask-image-l-to-pos":[{"mask-l-to":pe()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":pe()}],"mask-image-x-to-pos":[{"mask-x-to":pe()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":pe()}],"mask-image-y-to-pos":[{"mask-y-to":pe()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[Ie,Re]}],"mask-image-radial-from-pos":[{"mask-radial-from":pe()}],"mask-image-radial-to-pos":[{"mask-radial-to":pe()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":le()}],"mask-image-conic-pos":[{"mask-conic":[Xe]}],"mask-image-conic-from-pos":[{"mask-conic-from":pe()}],"mask-image-conic-to-pos":[{"mask-conic-to":pe()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Y()}],"mask-repeat":[{mask:j()}],"mask-size":[{mask:T()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ie,Re]}],filter:[{filter:["","none",Ie,Re]}],blur:[{blur:we()}],brightness:[{brightness:[Xe,Ie,Re]}],contrast:[{contrast:[Xe,Ie,Re]}],"drop-shadow":[{"drop-shadow":["","none",A,ff,df]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",Xe,Ie,Re]}],"hue-rotate":[{"hue-rotate":[Xe,Ie,Re]}],invert:[{invert:["",Xe,Ie,Re]}],saturate:[{saturate:[Xe,Ie,Re]}],sepia:[{sepia:["",Xe,Ie,Re]}],"backdrop-filter":[{"backdrop-filter":["","none",Ie,Re]}],"backdrop-blur":[{"backdrop-blur":we()}],"backdrop-brightness":[{"backdrop-brightness":[Xe,Ie,Re]}],"backdrop-contrast":[{"backdrop-contrast":[Xe,Ie,Re]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Xe,Ie,Re]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Xe,Ie,Re]}],"backdrop-invert":[{"backdrop-invert":["",Xe,Ie,Re]}],"backdrop-opacity":[{"backdrop-opacity":[Xe,Ie,Re]}],"backdrop-saturate":[{"backdrop-saturate":[Xe,Ie,Re]}],"backdrop-sepia":[{"backdrop-sepia":["",Xe,Ie,Re]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ie,Re]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Xe,"initial",Ie,Re]}],ease:[{ease:["linear","initial",B,Ie,Re]}],delay:[{delay:[Xe,Ie,Re]}],animate:[{animate:["none",H,Ie,Re]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[M,Ie,Re]}],"perspective-origin":[{"perspective-origin":re()}],rotate:[{rotate:xe()}],"rotate-x":[{"rotate-x":xe()}],"rotate-y":[{"rotate-y":xe()}],"rotate-z":[{"rotate-z":xe()}],scale:[{scale:Se()}],"scale-x":[{"scale-x":Se()}],"scale-y":[{"scale-y":Se()}],"scale-z":[{"scale-z":Se()}],"scale-3d":["scale-3d"],skew:[{skew:Ue()}],"skew-x":[{"skew-x":Ue()}],"skew-y":[{"skew-y":Ue()}],transform:[{transform:[Ie,Re,"","none","gpu","cpu"]}],"transform-origin":[{origin:re()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Pe()}],"translate-x":[{"translate-x":Pe()}],"translate-y":[{"translate-y":Pe()}],"translate-z":[{"translate-z":Pe()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie,Re]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie,Re]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[Xe,bu,So,By]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},K8=A8($8);function At(...t){return K8(s8(t))}const Y8=()=>{const{isSettingsOpen:t,closeSettings:e,settings:n,updateSettings:r}=Nh(),a=Ot.useRef(n);if(Ot.useEffect(()=>{t&&(a.current=n)},[t]),!t)return null;const l=()=>{r(a.current,!1),e()},c=()=>{r(n,!0),e()},h=[{id:"dawn",name:"Dawn",color:"bg-[#0f111a] from-violet-500/20 to-pink-500/20"},{id:"cosmic",name:"Cosmic",color:"bg-[#0f172a] from-violet-600/20 to-pink-600/20"},{id:"midnight",name:"Midnight",color:"bg-[#020617] from-sky-500/20 to-indigo-500/20"},{id:"forest",name:"Forest",color:"bg-[#052e16] from-green-500/20 to-emerald-500/20"},{id:"ocean",name:"Ocean",color:"bg-[#083344] from-cyan-500/20 to-teal-500/20"},{id:"sunset",name:"Sunset",color:"bg-[#2a0a0a] from-orange-500/20 to-rose-500/20"}],d=[{id:"outfit",name:"Modern",family:"font-[Outfit]"},{id:"inter",name:"Clean",family:"font-[Inter]"},{id:"playfair",name:"Elegant",family:'font-["Playfair_Display"]'},{id:"mono",name:"Tech",family:'font-["Fira_Code"]'}];return b.jsx(ar,{children:t&&b.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 font-sans",children:[b.jsx(We.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:l}),b.jsxs(We.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-lg bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden max-h-[85vh] flex flex-col",children:[b.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center sticky top-0 bg-slate-900 z-10",children:[b.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[b.jsx(_S,{className:"w-5 h-5 text-accent-primary"}),"Customization"]}),b.jsx("button",{onClick:l,className:"text-slate-400 hover:text-white transition-colors",children:b.jsx(Wr,{className:"w-6 h-6"})})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[b.jsxs("section",{children:[b.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[b.jsx(_S,{className:"w-4 h-4"})," Theme"]}),b.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:h.map(m=>b.jsxs("button",{onClick:()=>r({theme:m.id},!1),className:At("relative group overflow-hidden rounded-xl border transition-all duration-300",n.theme===m.id?"border-accent-primary ring-2 ring-accent-primary/50":"border-white/10 hover:border-white/30"),children:[b.jsx("div",{className:At("h-16 w-full bg-gradient-to-br",m.color)}),b.jsx("div",{className:"p-3 bg-slate-800/50",children:b.jsx("span",{className:At("text-sm font-medium",n.theme===m.id?"text-white":"text-slate-400"),children:m.name})}),n.theme===m.id&&b.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 bg-accent-primary rounded-full flex items-center justify-center shadow-lg",children:b.jsx(Ns,{className:"w-3 h-3 text-white"})})]},m.id))})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[b.jsx(XB,{className:"w-4 h-4"})," Typography"]}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:d.map(m=>b.jsxs("button",{onClick:()=>r({font:m.id},!1),className:At("flex items-center justify-between p-4 rounded-xl border transition-all duration-200 text-left",n.font===m.id?"bg-white/10 border-accent-primary text-white":"bg-white/5 border-white/5 hover:bg-white/10 text-slate-300"),children:[b.jsxs("div",{children:[b.jsx("span",{className:At("text-lg block mb-0.5",m.family),children:"Aa"}),b.jsx("span",{className:"text-xs text-slate-400",children:m.name})]}),n.font===m.id&&b.jsx(Ns,{className:"w-5 h-5 text-accent-primary"})]},m.id))}),b.jsx("div",{className:"mt-4 p-4 rounded-xl bg-black/20 border border-white/5",children:b.jsx("p",{className:At("text-sm text-slate-300 leading-relaxed",n.font==="outfit"&&"font-[Outfit]",n.font==="inter"&&"font-[Inter]",n.font==="playfair"&&'font-["Playfair_Display"]',n.font==="mono"&&'font-["Fira_Code"]'),children:"The quick brown fox jumps over the lazy dog. 1234567890."})})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[b.jsx(xS,{className:"w-4 h-4"})," Experience"]}),b.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10 mb-3",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:At("p-2 rounded-lg",n.enableAnimation?"bg-accent-primary/20 text-accent-primary":"bg-slate-700 text-slate-400"),children:b.jsx(xS,{size:20})}),b.jsxs("div",{children:[b.jsx("div",{className:"font-medium text-white",children:"Live Backgrounds"}),b.jsx("div",{className:"text-xs text-slate-400",children:"Dynamic particles and ambient effects"})]})]}),b.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:n.enableAnimation,onChange:m=>r({enableAnimation:m.target.checked},!1),className:"sr-only peer"}),b.jsx("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-accent-primary rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-primary"})]})]}),b.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/10",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:At("p-2 rounded-lg",n.enableSound?"bg-emerald-500/20 text-emerald-400":"bg-slate-700 text-slate-400"),children:b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),b.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"}),b.jsx("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14"})]})}),b.jsxs("div",{children:[b.jsx("div",{className:"font-medium text-white",children:"Sound Effects"}),b.jsx("div",{className:"text-xs text-slate-400",children:"Satisfying clicks and celebrations"})]})]}),b.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:n.enableSound,onChange:m=>r({enableSound:m.target.checked},!1),className:"sr-only peer"}),b.jsx("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-emerald-500 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]})]})]})]}),b.jsxs("div",{className:"p-6 border-t border-white/10 flex justify-end gap-3 sticky bottom-0 bg-slate-900 z-10 shrink-0",children:[b.jsx("button",{onClick:l,className:"px-4 py-2 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),b.jsx("button",{onClick:c,className:"px-6 py-2 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all active:scale-95",children:"Save Changes"})]})]})]})})},Fy={theme:"dawn",font:"outfit",enableAnimation:!0,enableSound:!0},QI=S.createContext(null),Nh=()=>{const t=S.useContext(QI);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},X8=({children:t})=>{const{user:e}=mc(),[n,r]=S.useState(Fy),[a,l]=S.useState(!1);S.useEffect(()=>{(async()=>{if(!e){r(Fy);return}try{const g=Rr(ai,"users",e.uid),v=await Eh(g);v.exists()&&v.data().settings&&r({...Fy,...v.data().settings})}catch(g){console.error("Error loading settings:",g)}})()},[e]),S.useEffect(()=>{const m=document.body;m.classList.remove("theme-midnight","theme-forest","theme-ocean","theme-sunset"),n.theme!=="dawn"&&m.classList.add(`theme-${n.theme}`),m.classList.remove("font-inter","font-playfair","font-mono","font-comic"),n.font!=="outfit"&&m.classList.add(`font-${n.font}`),n.enableAnimation?m.classList.remove("reduce-motion"):m.classList.add("reduce-motion")},[n]);const c=async(m,g=!0)=>{const v={...n,...m};if(r(v),e&&g)try{await sm(Rr(ai,"users",e.uid),{settings:v},{merge:!0})}catch(w){console.error("Error saving settings:",w)}},h=()=>l(!0),d=()=>l(!1);return b.jsxs(QI.Provider,{value:{settings:n,updateSettings:c,isSettingsOpen:a,openSettings:h,closeSettings:d},children:[t,b.jsx(Y8,{})]})},W8=()=>{const{signIn:t,error:e}=mc();return b.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-center",children:[b.jsx("div",{className:"background-animation"}),b.jsxs("div",{className:"glass-panel p-8 max-w-md w-full flex flex-col items-center gap-6 animate-fade-in",children:[b.jsxs("div",{className:"flex flex-col items-center gap-2 mb-2",children:[b.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-24 w-auto object-contain drop-shadow-[0_0_15px_rgba(251,191,36,0.3)]"}),b.jsx("div",{className:"rounded-full bg-accent-primary/20 p-2 hidden",children:b.jsx(zB,{className:"w-6 h-6 text-accent-gold animate-pulse"})})]}),b.jsx("h1",{className:"text-4xl font-heading font-bold text-gradient sr-only",children:"SunSar Bingo"}),b.jsxs("p",{className:"text-slate-300 font-light text-lg",children:["Track your goals, share with friends,",b.jsx("br",{}),"and make 2026 your best year yet."]}),e&&b.jsx("div",{className:"bg-red-500/20 text-red-200 px-4 py-2 rounded-lg text-sm border border-red-500/30",children:e}),b.jsx("button",{onClick:t,className:"group relative px-6 py-3 bg-white text-bg-dark font-bold rounded-full transition-all hover:scale-105 hover:shadow-[0_0_20px_rgba(255,255,255,0.3)]",children:b.jsxs("span",{className:"flex items-center gap-2",children:[b.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"G",className:"w-5 h-5"}),"Sign in / Sign up with Google"]})}),b.jsxs("div",{className:"mt-8 text-sm text-slate-400",children:["New here? ",b.jsx(i0,{to:"/help",className:"text-accent-primary hover:text-accent-secondary transition-colors font-medium",children:"See how it works "})]})]}),b.jsx("footer",{className:"absolute bottom-4 text-slate-500 text-xs",children:" 2026 SunSar Bingo  Free & Open Source"})]})};var Nb={};(function t(e,n,r,a){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",h=(function(){if(!e.OffscreenCanvas)return!1;try{var j=new OffscreenCanvas(1,1),T=j.getContext("2d");T.fillRect(0,0,1,1);var L=j.transferToImageBitmap();T.createPattern(L,"no-repeat")}catch{return!1}return!0})();function d(){}function m(j){var T=n.exports.Promise,L=T!==void 0?T:e.Promise;return typeof L=="function"?new L(j):(j(d,d),null)}var g=(function(j,T){return{transform:function(L){if(j)return L;if(T.has(L))return T.get(L);var W=new OffscreenCanvas(L.width,L.height),Z=W.getContext("2d");return Z.drawImage(L,0,0),T.set(L,W),W},clear:function(){T.clear()}}})(h,new Map),v=(function(){var j=Math.floor(16.666666666666668),T,L,W={},Z=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(T=function(fe){var ge=Math.random();return W[ge]=requestAnimationFrame(function pe(we){Z===we||Z+j-1<we?(Z=we,delete W[ge],fe()):W[ge]=requestAnimationFrame(pe)}),ge},L=function(fe){W[fe]&&cancelAnimationFrame(W[fe])}):(T=function(fe){return setTimeout(fe,j)},L=function(fe){return clearTimeout(fe)}),{frame:T,cancel:L}})(),w=(function(){var j,T,L={};function W(Z){function fe(ge,pe){Z.postMessage({options:ge||{},callback:pe})}Z.init=function(pe){var we=pe.transferControlToOffscreen();Z.postMessage({canvas:we},[we])},Z.fire=function(pe,we,xe){if(T)return fe(pe,null),T;var Se=Math.random().toString(36).slice(2);return T=m(function(Ue){function Pe(at){at.data.callback===Se&&(delete L[Se],Z.removeEventListener("message",Pe),T=null,g.clear(),xe(),Ue())}Z.addEventListener("message",Pe),fe(pe,Se),L[Se]=Pe.bind(null,{data:{callback:Se}})}),T},Z.reset=function(){Z.postMessage({reset:!0});for(var pe in L)L[pe](),delete L[pe]}}return function(){if(j)return j;if(!r&&l){var Z=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{j=new Worker(URL.createObjectURL(new Blob([Z])))}catch(fe){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",fe),null}W(j)}return j}})(),A={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function k(j,T){return T?T(j):j}function M(j){return j!=null}function I(j,T,L){return k(j&&M(j[T])?j[T]:A[T],L)}function B(j){return j<0?0:Math.floor(j)}function H(j,T){return Math.floor(Math.random()*(T-j))+j}function q(j){return parseInt(j,16)}function le(j){return j.map(re)}function re(j){var T=String(j).replace(/[^0-9a-f]/gi,"");return T.length<6&&(T=T[0]+T[0]+T[1]+T[1]+T[2]+T[2]),{r:q(T.substring(0,2)),g:q(T.substring(2,4)),b:q(T.substring(4,6))}}function ae(j){var T=I(j,"origin",Object);return T.x=I(T,"x",Number),T.y=I(T,"y",Number),T}function N(j){j.width=document.documentElement.clientWidth,j.height=document.documentElement.clientHeight}function C(j){var T=j.getBoundingClientRect();j.width=T.width,j.height=T.height}function O(j){var T=document.createElement("canvas");return T.style.position="fixed",T.style.top="0px",T.style.left="0px",T.style.pointerEvents="none",T.style.zIndex=j,T}function U(j,T,L,W,Z,fe,ge,pe,we){j.save(),j.translate(T,L),j.rotate(fe),j.scale(W,Z),j.arc(0,0,1,ge,pe,we),j.restore()}function z(j){var T=j.angle*(Math.PI/180),L=j.spread*(Math.PI/180);return{x:j.x,y:j.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:j.startVelocity*.5+Math.random()*j.startVelocity,angle2D:-T+(.5*L-Math.random()*L),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:j.color,shape:j.shape,tick:0,totalTicks:j.ticks,decay:j.decay,drift:j.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:j.gravity*3,ovalScalar:.6,scalar:j.scalar,flat:j.flat}}function V(j,T){T.x+=Math.cos(T.angle2D)*T.velocity+T.drift,T.y+=Math.sin(T.angle2D)*T.velocity+T.gravity,T.velocity*=T.decay,T.flat?(T.wobble=0,T.wobbleX=T.x+10*T.scalar,T.wobbleY=T.y+10*T.scalar,T.tiltSin=0,T.tiltCos=0,T.random=1):(T.wobble+=T.wobbleSpeed,T.wobbleX=T.x+10*T.scalar*Math.cos(T.wobble),T.wobbleY=T.y+10*T.scalar*Math.sin(T.wobble),T.tiltAngle+=.1,T.tiltSin=Math.sin(T.tiltAngle),T.tiltCos=Math.cos(T.tiltAngle),T.random=Math.random()+2);var L=T.tick++/T.totalTicks,W=T.x+T.random*T.tiltCos,Z=T.y+T.random*T.tiltSin,fe=T.wobbleX+T.random*T.tiltCos,ge=T.wobbleY+T.random*T.tiltSin;if(j.fillStyle="rgba("+T.color.r+", "+T.color.g+", "+T.color.b+", "+(1-L)+")",j.beginPath(),c&&T.shape.type==="path"&&typeof T.shape.path=="string"&&Array.isArray(T.shape.matrix))j.fill(X(T.shape.path,T.shape.matrix,T.x,T.y,Math.abs(fe-W)*.1,Math.abs(ge-Z)*.1,Math.PI/10*T.wobble));else if(T.shape.type==="bitmap"){var pe=Math.PI/10*T.wobble,we=Math.abs(fe-W)*.1,xe=Math.abs(ge-Z)*.1,Se=T.shape.bitmap.width*T.scalar,Ue=T.shape.bitmap.height*T.scalar,Pe=new DOMMatrix([Math.cos(pe)*we,Math.sin(pe)*we,-Math.sin(pe)*xe,Math.cos(pe)*xe,T.x,T.y]);Pe.multiplySelf(new DOMMatrix(T.shape.matrix));var at=j.createPattern(g.transform(T.shape.bitmap),"no-repeat");at.setTransform(Pe),j.globalAlpha=1-L,j.fillStyle=at,j.fillRect(T.x-Se/2,T.y-Ue/2,Se,Ue),j.globalAlpha=1}else if(T.shape==="circle")j.ellipse?j.ellipse(T.x,T.y,Math.abs(fe-W)*T.ovalScalar,Math.abs(ge-Z)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI):U(j,T.x,T.y,Math.abs(fe-W)*T.ovalScalar,Math.abs(ge-Z)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI);else if(T.shape==="star")for(var De=Math.PI/2*3,xt=4*T.scalar,dt=8*T.scalar,zt=T.x,mn=T.y,ot=5,qe=Math.PI/ot;ot--;)zt=T.x+Math.cos(De)*dt,mn=T.y+Math.sin(De)*dt,j.lineTo(zt,mn),De+=qe,zt=T.x+Math.cos(De)*xt,mn=T.y+Math.sin(De)*xt,j.lineTo(zt,mn),De+=qe;else j.moveTo(Math.floor(T.x),Math.floor(T.y)),j.lineTo(Math.floor(T.wobbleX),Math.floor(Z)),j.lineTo(Math.floor(fe),Math.floor(ge)),j.lineTo(Math.floor(W),Math.floor(T.wobbleY));return j.closePath(),j.fill(),T.tick<T.totalTicks}function P(j,T,L,W,Z){var fe=T.slice(),ge=j.getContext("2d"),pe,we,xe=m(function(Se){function Ue(){pe=we=null,ge.clearRect(0,0,W.width,W.height),g.clear(),Z(),Se()}function Pe(){r&&!(W.width===a.width&&W.height===a.height)&&(W.width=j.width=a.width,W.height=j.height=a.height),!W.width&&!W.height&&(L(j),W.width=j.width,W.height=j.height),ge.clearRect(0,0,W.width,W.height),fe=fe.filter(function(at){return V(ge,at)}),fe.length?pe=v.frame(Pe):Ue()}pe=v.frame(Pe),we=Ue});return{addFettis:function(Se){return fe=fe.concat(Se),xe},canvas:j,promise:xe,reset:function(){pe&&v.cancel(pe),we&&we()}}}function ve(j,T){var L=!j,W=!!I(T||{},"resize"),Z=!1,fe=I(T,"disableForReducedMotion",Boolean),ge=l&&!!I(T||{},"useWorker"),pe=ge?w():null,we=L?N:C,xe=j&&pe?!!j.__confetti_initialized:!1,Se=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ue;function Pe(De,xt,dt){for(var zt=I(De,"particleCount",B),mn=I(De,"angle",Number),ot=I(De,"spread",Number),qe=I(De,"startVelocity",Number),pn=I(De,"decay",Number),Ni=I(De,"gravity",Number),Di=I(De,"drift",Number),Bt=I(De,"colors",le),Qt=I(De,"ticks",Number),Zn=I(De,"shapes"),Hn=I(De,"scalar"),gn=!!I(De,"flat"),ei=ae(De),yi=zt,Pt=[],$i=j.width*ei.x,Cn=j.height*ei.y;yi--;)Pt.push(z({x:$i,y:Cn,angle:mn,spread:ot,startVelocity:qe,color:Bt[yi%Bt.length],shape:Zn[H(0,Zn.length)],ticks:Qt,decay:pn,gravity:Ni,drift:Di,scalar:Hn,flat:gn}));return Ue?Ue.addFettis(Pt):(Ue=P(j,Pt,we,xt,dt),Ue.promise)}function at(De){var xt=fe||I(De,"disableForReducedMotion",Boolean),dt=I(De,"zIndex",Number);if(xt&&Se)return m(function(qe){qe()});L&&Ue?j=Ue.canvas:L&&!j&&(j=O(dt),document.body.appendChild(j)),W&&!xe&&we(j);var zt={width:j.width,height:j.height};pe&&!xe&&pe.init(j),xe=!0,pe&&(j.__confetti_initialized=!0);function mn(){if(pe){var qe={getBoundingClientRect:function(){if(!L)return j.getBoundingClientRect()}};we(qe),pe.postMessage({resize:{width:qe.width,height:qe.height}});return}zt.width=zt.height=null}function ot(){Ue=null,W&&(Z=!1,e.removeEventListener("resize",mn)),L&&j&&(document.body.contains(j)&&document.body.removeChild(j),j=null,xe=!1)}return W&&!Z&&(Z=!0,e.addEventListener("resize",mn,!1)),pe?pe.fire(De,zt,ot):Pe(De,zt,ot)}return at.reset=function(){pe&&pe.reset(),Ue&&Ue.reset()},at}var be;function J(){return be||(be=ve(null,{useWorker:!0,resize:!0})),be}function X(j,T,L,W,Z,fe,ge){var pe=new Path2D(j),we=new Path2D;we.addPath(pe,new DOMMatrix(T));var xe=new Path2D;return xe.addPath(we,new DOMMatrix([Math.cos(ge)*Z,Math.sin(ge)*Z,-Math.sin(ge)*fe,Math.cos(ge)*fe,L,W])),xe}function G(j){if(!c)throw new Error("path confetti are not supported in this browser");var T,L;typeof j=="string"?T=j:(T=j.path,L=j.matrix);var W=new Path2D(T),Z=document.createElement("canvas"),fe=Z.getContext("2d");if(!L){for(var ge=1e3,pe=ge,we=ge,xe=0,Se=0,Ue,Pe,at=0;at<ge;at+=2)for(var De=0;De<ge;De+=2)fe.isPointInPath(W,at,De,"nonzero")&&(pe=Math.min(pe,at),we=Math.min(we,De),xe=Math.max(xe,at),Se=Math.max(Se,De));Ue=xe-pe,Pe=Se-we;var xt=10,dt=Math.min(xt/Ue,xt/Pe);L=[dt,0,0,dt,-Math.round(Ue/2+pe)*dt,-Math.round(Pe/2+we)*dt]}return{type:"path",path:T,matrix:L}}function Y(j){var T,L=1,W="#000000",Z='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof j=="string"?T=j:(T=j.text,L="scalar"in j?j.scalar:L,Z="fontFamily"in j?j.fontFamily:Z,W="color"in j?j.color:W);var fe=10*L,ge=""+fe+"px "+Z,pe=new OffscreenCanvas(fe,fe),we=pe.getContext("2d");we.font=ge;var xe=we.measureText(T),Se=Math.ceil(xe.actualBoundingBoxRight+xe.actualBoundingBoxLeft),Ue=Math.ceil(xe.actualBoundingBoxAscent+xe.actualBoundingBoxDescent),Pe=2,at=xe.actualBoundingBoxLeft+Pe,De=xe.actualBoundingBoxAscent+Pe;Se+=Pe+Pe,Ue+=Pe+Pe,pe=new OffscreenCanvas(Se,Ue),we=pe.getContext("2d"),we.font=ge,we.fillStyle=W,we.fillText(T,at,De);var xt=1/L;return{type:"bitmap",bitmap:pe.transferToImageBitmap(),matrix:[xt,0,0,xt,-Se*xt/2,-Ue*xt/2]}}n.exports=function(){return J().apply(this,arguments)},n.exports.reset=function(){J().reset()},n.exports.create=ve,n.exports.shapeFromPath=G,n.exports.shapeFromText=Y})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Nb,!1);const Gv=Nb.exports;Nb.exports.create;const _u=(t=1)=>{const e=200*t,n={origin:{y:.7}};function r(a,l){Gv(Object.assign({},n,l,{particleCount:Math.floor(e*a)}))}r(.25,{spread:26,startVelocity:55}),r(.2,{spread:60}),r(.35,{spread:100,decay:.91,scalar:.8}),r(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),r(.1,{spread:120,startVelocity:45})},RS={cloudName:"dia6ped7h",uploadPreset:"bingo_proofs"},IS=async t=>{const e=new FormData;e.append("file",t),e.append("upload_preset",RS.uploadPreset),e.append("folder","bingo-proofs");const n=await fetch(`https://api.cloudinary.com/v1_1/${RS.cloudName}/image/upload`,{method:"POST",body:e});if(!n.ok){const a=await n.json();throw console.error("Cloudinary upload error:",a),new Error(a.error?.message||"Failed to upload image")}return(await n.json()).secure_url},Q8="2026",qy=5,J8=["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"],Z8=t=>{const{user:e}=mc(),[n,r]=S.useState([]),[a,l]=S.useState({}),[c,h]=S.useState(!0),[d,m]=S.useState(!1),[g,v]=S.useState(!1),[w,A]=S.useState(""),[k,M]=S.useState(qy),I=S.useMemo(()=>t?Rr(ai,"boards",t):Rr(ai,"years",Q8),[t]),B=(X,G)=>{if(!X.length)return;const Y=[];for(let T=0;T<G;T++)Y.push(X.slice(T*G,(T+1)*G));let j=!1;for(let T=0;T<G;T++)if(Y[T]&&Y[T].every(L=>L.isCompleted||L.isFreeSpace)){j=!0;break}if(!j){for(let T=0;T<G;T++)if(Y.map(L=>L[T]).every(L=>L&&(L.isCompleted||L.isFreeSpace))){j=!0;break}}!j&&Y.map((T,L)=>T[L]).every(T=>T&&(T.isCompleted||T.isFreeSpace))&&(j=!0),!j&&Y.map((T,L)=>T[G-1-L]).every(T=>T&&(T.isCompleted||T.isFreeSpace))&&(j=!0),j&&!d?(m(!0),_u(2)):j||m(!1)},H=async(X=qy)=>{const G=X*X,Y=X%2===1?Math.floor(G/2):-1,j=[...J8].sort(()=>.5-Math.random()),T=[];let L=0;for(let W=0;W<G;W++)W===Y&&X%2===1?T.push({id:W,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(T.push({id:W,text:j[L%j.length]||`Goal ${W+1}`,isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),L++);await sm(I,{year:2026,gridSize:X,items:T,isLocked:!1,createdAt:Be.now(),lastUpdated:Be.now(),...e?{ownerId:e.uid,members:{[e.uid]:"owner"}}:{}},{merge:!0})};S.useEffect(()=>{if(!e)return;h(!0);const X=U2(I,G=>{if(G.exists()){const Y=G.data(),j=Y.gridSize||qy;M(j),r(Y.items||[]),l(Y.members||{}),v(Y.isLocked||!1),A(Y.title||""),B(Y.items||[],j)}else H();h(!1)},G=>{console.error("Error fetching bingo board:",G),h(!1)});return()=>X()},[I,e]);const q=async X=>{if(!n.length)return;const G=n.map(L=>({...L})),Y=G[X];if(Y.isFreeSpace)return;const j=Y.targetCount||1,T=Y.currentCount||0;if(Y.isCompleted){const L=Math.max(0,T-1);Y.currentCount=L,Y.isCompleted=L>=j,L===0&&(Y.completedBy=null,Y.completedAt=null)}else{const L=Math.min(j,T+1);Y.currentCount=L,Y.isCompleted=L>=j,Y.completedBy=e?.displayName||e?.email||"Unknown",Y.completedAt=Be.now(),_u(.5)}r(G),B(G,k);try{await ri(I,{items:G,lastUpdated:Be.now()})}catch(L){console.error("Error updating bingo board:",L)}},le=async X=>{if(!n.length)return;const G=n.map(W=>({...W})),Y=G[X];if(Y.isFreeSpace)return;const j=Y.currentCount||0;if(j<=0)return;const T=Y.targetCount||1,L=j-1;Y.currentCount=L,Y.isCompleted=L>=T,L===0&&(Y.completedBy=null,Y.completedAt=null),r(G),B(G,k);try{await ri(I,{items:G,lastUpdated:Be.now()})}catch(W){console.error("Error decrementing progress:",W)}},re=async(X,G)=>{if(!(!n.length||!e))try{const Y=await IS(G),j=n.map(ge=>({...ge})),T=j[X];if(T.isFreeSpace)return;const L=T.targetCount||1,W=T.currentCount||0,Z=Math.min(L,W+1);T.currentCount=Z,T.isCompleted=Z>=L,T.completedBy=e?.displayName||e?.email||"Unknown",T.completedAt=Be.now();const fe=T.proofPhotos||[];T.proofPhotos=[...fe,Y],r(j),B(j,k),_u(1),await ri(I,{items:j,lastUpdated:Be.now()})}catch(Y){throw console.error("Error completing with photo:",Y),Y}},ae=async(X,G)=>{if(!n.length||!e)return;const Y=n[X];!Y.isCompleted&&(Y.currentCount||0)<(Y.targetCount||1);const j=Y.proofPhotos||[];if(j.length>=5)throw new Error("Maximum 5 photos allowed per tile");try{const T=await IS(G),L=n.map(W=>({...W}));return L[X].proofPhotos=[...j,T],r(L),_u(.3),await ri(I,{items:L,lastUpdated:Be.now()}),T}catch(T){throw console.error("Error adding photo:",T),T}},N=async(X,G)=>{if(!n.length)return;const Y=n.map(L=>({...L})),j=Y[X];if(!j.proofPhotos)return;const T=[...j.proofPhotos];T.splice(G,1),j.proofPhotos=T,r(Y);try{await ri(I,{items:Y,lastUpdated:Be.now()})}catch(L){console.error("Error deleting photo:",L)}},C=async(X,G)=>{if(e)try{const Y=n.map(W=>({...W})),j=Y[X],T={emoji:G,by:e.uid,byName:e.displayName||e.email?.split("@")[0]||"Friend",timestamp:Date.now()},L=j.reactions||[];j.reactions=[...L,T],r(Y),await ri(I,{items:Y,lastUpdated:Be.now()}),_u(.2)}catch(Y){console.error("Error adding reaction:",Y)}},O=async(X,G)=>{const Y=n.map(j=>({...j}));G.text!==void 0&&(Y[X].text=G.text),G.style!==void 0&&(Y[X].style=G.style),r(Y);try{await ri(I,{items:Y,lastUpdated:Be.now()})}catch(j){console.error("Error updating item:",j)}},U=async(X=!0)=>{const G=[...n];let Y=G;if(X){const T=k*k,L=k%2===1?Math.floor(T/2):-1;if(L!==-1){const W=G[L],Z=[...G.slice(0,L),...G.slice(L+1)];for(let fe=Z.length-1;fe>0;fe--){const ge=Math.floor(Math.random()*(fe+1));[Z[fe],Z[ge]]=[Z[ge],Z[fe]]}Y=[...Z.slice(0,L),W,...Z.slice(L)]}else{Y=[...G];for(let W=Y.length-1;W>0;W--){const Z=Math.floor(Math.random()*(W+1));[Y[W],Y[Z]]=[Y[Z],Y[W]]}}r(Y)}v(!0);const j={isLocked:!0,lastUpdated:Be.now()};X&&(j.items=Y,j.itemsBackup=G),await sm(I,j,{merge:!0})},z=async()=>{try{const X=await Eh(I);if(X.exists()){const G=X.data();G.itemsBackup?await ri(I,{items:G.itemsBackup,itemsBackup:nm(),isLocked:!1,lastUpdated:Be.now()}):await ri(I,{isLocked:!1,lastUpdated:Be.now()})}}catch(X){console.error("Error unlocking board:",X)}},V=S.useMemo(()=>{const X=[[0,1,2,3,4],[5,6,7,8,9],[10,11,12,13,14],[15,16,17,18,19],[20,21,22,23,24],[0,5,10,15,20],[1,6,11,16,21],[2,7,12,17,22],[3,8,13,18,23],[4,9,14,19,24],[0,6,12,18,24],[4,8,12,16,20]],G=new Set(n.map((Y,j)=>Y.isCompleted||Y.isFreeSpace?j:-1));return X.reduce((Y,j)=>j.every(T=>G.has(T))?Y+1:Y,0)},[n]);return{items:n,members:a,loading:c,toggleItem:q,updateItem:O,hasWon:d,bingoCount:V,isLocked:g,unlockBoard:z,jumbleAndLock:U,saveBoard:async X=>{r(X);try{await ri(I,{items:X,lastUpdated:Be.now()})}catch(G){console.error("Error saving board:",G)}},completeWithPhoto:re,addPhotoToTile:ae,deletePhoto:N,addReaction:C,decrementProgress:le,inviteUser:async(X,G="editor")=>{try{const Y=im(ko(ai,"users"),rm("email","==",X)),j=await Yl(Y);if(j.empty)return{success:!1,type:"not_found",message:"User not found"};const T=j.docs[0],L=T.id;return await ri(I,{[`members.${L}`]:G}),{success:!0,type:"success",message:`Added ${T.data().displayName||X} as ${G}!`}}catch(Y){return console.error("Error inviting user:",Y),{success:!1,type:"error",message:"Failed to invite user"}}},removeMember:async X=>{try{return await ri(I,{[`members.${X}`]:nm()}),{success:!0}}catch(G){return console.error("Error removing member:",G),{success:!1,error:G}}},title:w,gridSize:k,updateTitle:async X=>{try{await ri(I,{title:X,lastUpdated:Be.now()}),A(X)}catch(G){console.error("Error updating title:",G)}}}};let Uu=null;const wu=()=>(Uu||(Uu=new(window.AudioContext||window.webkitAudioContext)),Uu),eF=()=>{const{settings:t}=Nh(),e=t.enableSound??!0,n=S.useRef(0);S.useEffect(()=>{const g=()=>{Uu?.state==="suspended"&&Uu.resume()};return document.addEventListener("click",g,{once:!0}),document.addEventListener("touchstart",g,{once:!0}),()=>{document.removeEventListener("click",g),document.removeEventListener("touchstart",g)}},[]);const r=S.useCallback(()=>{const g=Date.now();return g-n.current<50?!1:(n.current=g,!0)},[]),a=S.useCallback(()=>{if(!(!e||!r()))try{const g=wu(),v=g.createOscillator(),w=g.createGain();v.connect(w),w.connect(g.destination),v.frequency.setValueAtTime(800,g.currentTime),v.frequency.exponentialRampToValueAtTime(400,g.currentTime+.1),v.type="sine",w.gain.setValueAtTime(.15,g.currentTime),w.gain.exponentialRampToValueAtTime(.001,g.currentTime+.1),v.start(g.currentTime),v.stop(g.currentTime+.1)}catch(g){console.warn("Audio playback failed:",g)}},[e,r]),l=S.useCallback(()=>{if(!(!e||!r()))try{const g=wu();[523.25,659.25,783.99].forEach((w,A)=>{const k=g.createOscillator(),M=g.createGain();k.connect(M),M.connect(g.destination),k.frequency.setValueAtTime(w,g.currentTime),k.type="sine";const I=g.currentTime+A*.08;M.gain.setValueAtTime(0,I),M.gain.linearRampToValueAtTime(.12,I+.02),M.gain.exponentialRampToValueAtTime(.001,I+.3),k.start(I),k.stop(I+.3)})}catch(g){console.warn("Audio playback failed:",g)}},[e,r]),c=S.useCallback(()=>{if(e)try{const g=wu();[{freq:523.25,time:0},{freq:659.25,time:.1},{freq:783.99,time:.2},{freq:1046.5,time:.35},{freq:1318.51,time:.5}].forEach(({freq:k,time:M})=>{const I=g.createOscillator(),B=g.createGain();I.connect(B),B.connect(g.destination),I.frequency.setValueAtTime(k,g.currentTime+M),I.type="sine",B.gain.setValueAtTime(0,g.currentTime+M),B.gain.linearRampToValueAtTime(.2,g.currentTime+M+.02),B.gain.exponentialRampToValueAtTime(.001,g.currentTime+M+.5),I.start(g.currentTime+M),I.stop(g.currentTime+M+.5)});const w=g.createOscillator(),A=g.createGain();w.connect(A),A.connect(g.destination),w.type="sine",w.frequency.setValueAtTime(2e3,g.currentTime+.6),w.frequency.exponentialRampToValueAtTime(4e3,g.currentTime+1.2),A.gain.setValueAtTime(0,g.currentTime+.6),A.gain.linearRampToValueAtTime(.05,g.currentTime+.7),A.gain.exponentialRampToValueAtTime(.001,g.currentTime+1.2),w.start(g.currentTime+.6),w.stop(g.currentTime+1.2)}catch(g){console.warn("Audio playback failed:",g)}},[e]),h=S.useRef(null),d=S.useCallback(()=>{if(!(!e||!r()))try{const g=wu();if(!h.current){const k=g.sampleRate*.15,M=g.createBuffer(1,k,g.sampleRate),I=M.getChannelData(0);for(let B=0;B<k;B++)I[B]=(Math.random()*2-1)*(1-B/k);h.current=M}const v=g.createBufferSource(),w=g.createBiquadFilter(),A=g.createGain();v.buffer=h.current,w.type="lowpass",w.frequency.setValueAtTime(2e3,g.currentTime),w.frequency.exponentialRampToValueAtTime(500,g.currentTime+.15),v.connect(w),w.connect(A),A.connect(g.destination),A.gain.setValueAtTime(.08,g.currentTime),A.gain.exponentialRampToValueAtTime(.001,g.currentTime+.15),v.start(g.currentTime)}catch(g){console.warn("Audio playback failed:",g)}},[e,r]),m=S.useCallback(()=>{if(!(!e||!r()))try{const g=wu(),v=g.createOscillator(),w=g.createGain();v.connect(w),w.connect(g.destination),v.frequency.setValueAtTime(200,g.currentTime),v.frequency.linearRampToValueAtTime(150,g.currentTime+.2),v.type="sine",w.gain.setValueAtTime(.15,g.currentTime),w.gain.exponentialRampToValueAtTime(.001,g.currentTime+.2),v.start(g.currentTime),v.stop(g.currentTime+.2)}catch(g){console.warn("Audio playback failed:",g)}},[e,r]);return{playClick:a,playSuccess:l,playBingo:c,playWhoosh:d,playError:m}},tF=async()=>{try{const t=["years","users","boards"],e={};for(const c of t){const h=await Yl(ko(ai,c));e[c]={},h.forEach(d=>{e[c][d.id]=d.data()})}const n=JSON.stringify(e,null,2),r=new Blob([n],{type:"application/json"}),a=URL.createObjectURL(r),l=document.createElement("a");return l.href=a,l.download=`bingo_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a),!0}catch(t){return console.error("Backup failed:",t),alert("Backup failed. See console for details."),!1}},nF=({items:t,isOpen:e,onClose:n})=>{const[r,a]=S.useState(null),l=S.useMemo(()=>t.map((d,m)=>({...d,originalIndex:m})).filter(d=>d.proofPhotos&&d.proofPhotos.length>0).sort((d,m)=>{const g=d.completedAt?.toDate?.()||new Date(0);return(m.completedAt?.toDate?.()||new Date(0)).getTime()-g.getTime()}),[t]),c=S.useMemo(()=>{const d={};return l.forEach(m=>{const v=(m.completedAt?.toDate?.()||new Date).toLocaleDateString("en-US",{month:"long",year:"numeric"});d[v]||(d[v]=[]),d[v].push(m)}),d},[l]),h=d=>d?(d.toDate?d.toDate():new Date(d)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"";return e?b.jsx(ar,{children:b.jsxs(We.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] bg-bg-dark overflow-y-auto",children:[b.jsx("div",{className:"sticky top-0 z-10 bg-bg-dark/95 backdrop-blur-md border-b border-white/10",children:b.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(pm,{className:"w-6 h-6 text-accent-gold"}),b.jsx("h1",{className:"text-xl font-bold text-white",children:"2026 Memories"}),b.jsxs("span",{className:"text-sm text-slate-400",children:["(",l.length," moments)"]})]}),b.jsx("button",{onClick:n,className:"p-2 text-slate-400 hover:text-white transition-colors rounded-full hover:bg-white/10",children:b.jsx(Wr,{size:24})})]})}),b.jsx("div",{className:"max-w-2xl mx-auto px-4 py-6",children:l.length===0?b.jsxs("div",{className:"text-center py-20",children:[b.jsx(pm,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),b.jsx("h2",{className:"text-xl font-semibold text-slate-400 mb-2",children:"No memories yet"}),b.jsx("p",{className:"text-slate-500",children:"Complete tasks and add photos to build your 2026 album!"})]}):Object.entries(c).map(([d,m])=>b.jsxs("div",{className:"mb-8",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[b.jsx(gm,{className:"w-4 h-4 text-accent-primary"}),b.jsx("h2",{className:"text-lg font-semibold text-accent-primary",children:d}),b.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-accent-primary/30 to-transparent"})]}),b.jsx("div",{className:"space-y-6",children:m.map((g,v)=>b.jsxs(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},className:"bg-bg-card/80 rounded-2xl border border-white/10 overflow-hidden shadow-xl",children:[b.jsxs("div",{className:"relative aspect-video bg-black cursor-pointer",onClick:()=>a({memoryIdx:l.indexOf(g),photoIdx:0}),children:[b.jsx("img",{src:g.proofPhotos[0],alt:g.text,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}),g.proofPhotos.length>1&&b.jsxs("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/70 rounded-full text-white text-xs font-medium",children:["+",g.proofPhotos.length-1," more"]})]}),g.proofPhotos.length>1&&b.jsx("div",{className:"flex gap-1 p-2 bg-black/30 overflow-x-auto",children:g.proofPhotos.map((w,A)=>b.jsx("button",{onClick:()=>a({memoryIdx:l.indexOf(g),photoIdx:A}),className:"w-14 h-14 rounded-lg overflow-hidden flex-shrink-0 border-2 border-transparent hover:border-accent-primary transition-all",children:b.jsx("img",{src:w,alt:"",className:"w-full h-full object-cover"})},A))}),b.jsxs("div",{className:"p-4",children:[b.jsxs("h3",{className:"text-lg font-semibold text-white mb-2 flex items-center gap-2",children:[b.jsx("span",{className:"text-accent-gold",children:g.isCompleted?"":""}),g.text]}),b.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(ZB,{size:14}),g.isCompleted?g.completedBy:"In Progress"]}),g.isCompleted&&b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(gm,{size:14}),h(g.completedAt)]})]})]})]},g.id))})]},d))}),b.jsx(ar,{children:r!==null&&l[r.memoryIdx]&&b.jsxs(We.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[300] bg-black/95 flex items-center justify-center p-4",onClick:()=>a(null),children:[b.jsx("button",{onClick:()=>a(null),className:"absolute top-4 right-4 p-2 text-white/70 hover:text-white",children:b.jsx(Wr,{size:32})}),(()=>{const d=l[r.memoryIdx],m=d.proofPhotos||[],g=r.photoIdx;return b.jsxs("div",{className:"relative max-w-4xl w-full",onClick:v=>v.stopPropagation(),children:[b.jsx("img",{src:m[g],alt:"",className:"w-full max-h-[80vh] object-contain rounded-lg"}),m.length>1&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>a({...r,photoIdx:g>0?g-1:m.length-1}),className:"absolute left-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:b.jsx(NI,{size:28})}),b.jsx("button",{onClick:()=>a({...r,photoIdx:g<m.length-1?g+1:0}),className:"absolute right-2 top-1/2 -translate-y-1/2 p-3 bg-black/50 rounded-full text-white hover:bg-black/70",children:b.jsx(DI,{size:28})})]}),b.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:[b.jsx("p",{className:"text-white font-semibold",children:d.text}),b.jsxs("p",{className:"text-slate-300 text-sm",children:[g+1," / ",m.length,"  ",h(d.completedAt)]})]})]})})()]})})]})}):null},iF=({items:t})=>{const[e,n]=S.useState([]),r=S.useRef({}),a=S.useRef(!1);S.useEffect(()=>{if(!a.current){t.forEach(c=>{r.current[c.id]=c.reactions?.length||0}),a.current=!0;return}t.forEach(c=>{const h=c.reactions?.length||0,d=r.current[c.id]||0;h>d&&c.reactions.slice(d).forEach(g=>{l(g)}),r.current[c.id]=h})},[t]);const l=c=>{const h=Math.random().toString(36).substring(7),d=Math.random()*80+10;n(m=>[...m,{...c,id:h,x:d}]),setTimeout(()=>{n(m=>m.filter(g=>g.id!==h))},4e3)};return b.jsx("div",{className:"fixed inset-0 pointer-events-none z-[100] overflow-hidden",children:b.jsx(ar,{children:e.map(c=>b.jsxs(We.div,{initial:{y:"110vh",opacity:0,x:`${c.x}vw`,scale:.5,rotate:0},animate:{y:"-10vh",opacity:[0,1,1,0],scale:[.5,1.5,1.2],rotate:[0,-10,10,0]},transition:{duration:4,ease:"easeOut"},className:"absolute top-0 flex flex-col items-center",children:[b.jsx("span",{className:"text-6xl drop-shadow-2xl filter",children:c.emoji}),c.byName&&b.jsx("div",{className:"text-sm font-bold text-white/90 text-center mt-2 bg-black/40 px-3 py-1 rounded-full backdrop-blur-md border border-white/10 shadow-lg",children:c.byName})]},c.id))})})};function rF(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return S.useMemo(()=>r=>{e.forEach(a=>a(r))},e)}const tp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function _c(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Db(t){return"nodeType"in t}function gi(t){var e,n;return t?_c(t)?t:Db(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function kb(t){const{Document:e}=gi(t);return t instanceof e}function Dh(t){return _c(t)?!1:t instanceof gi(t).HTMLElement}function JI(t){return t instanceof gi(t).SVGElement}function wc(t){return t?_c(t)?t.document:Db(t)?kb(t)?t:Dh(t)||JI(t)?t.ownerDocument:document:document:document}const Mr=tp?S.useLayoutEffect:S.useEffect;function np(t){const e=S.useRef(t);return Mr(()=>{e.current=t}),S.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e.current==null?void 0:e.current(...r)},[])}function sF(){const t=S.useRef(null),e=S.useCallback((r,a)=>{t.current=setInterval(r,a)},[]),n=S.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function ih(t,e){e===void 0&&(e=[t]);const n=S.useRef(t);return Mr(()=>{n.current!==t&&(n.current=t)},e),n}function kh(t,e){const n=S.useRef();return S.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function vm(t){const e=np(t),n=S.useRef(null),r=S.useCallback(a=>{a!==n.current&&e?.(a,n.current),n.current=a},[]);return[n,r]}function bm(t){const e=S.useRef();return S.useEffect(()=>{e.current=t},[t]),e.current}let Hy={};function Mh(t,e){return S.useMemo(()=>{if(e)return e;const n=Hy[t]==null?0:Hy[t]+1;return Hy[t]=n,t+"-"+n},[t,e])}function ZI(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((l,c)=>{const h=Object.entries(c);for(const[d,m]of h){const g=l[d];g!=null&&(l[d]=g+t*m)}return l},{...e})}}const Wl=ZI(1),rh=ZI(-1);function aF(t){return"clientX"in t&&"clientY"in t}function ip(t){if(!t)return!1;const{KeyboardEvent:e}=gi(t.target);return e&&t instanceof e}function oF(t){if(!t)return!1;const{TouchEvent:e}=gi(t.target);return e&&t instanceof e}function _m(t){if(oF(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return aF(t)?{x:t.clientX,y:t.clientY}:null}const Ga=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Ga.Translate.toString(t),Ga.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),NS="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function lF(t){return t.matches(NS)?t:t.querySelector(NS)}const cF={display:"none"};function uF(t){let{id:e,value:n}=t;return Ot.createElement("div",{id:e,style:cF},n)}function hF(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ot.createElement("div",{id:e,style:a,role:"status","aria-live":r,"aria-atomic":!0},n)}function dF(){const[t,e]=S.useState("");return{announce:S.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const eN=S.createContext(null);function fF(t){const e=S.useContext(eN);S.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function mF(){const[t]=S.useState(()=>new Set),e=S.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[S.useCallback(r=>{let{type:a,event:l}=r;t.forEach(c=>{var h;return(h=c[a])==null?void 0:h.call(c,l)})},[t]),e]}const pF={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},gF={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function yF(t){let{announcements:e=gF,container:n,hiddenTextDescribedById:r,screenReaderInstructions:a=pF}=t;const{announce:l,announcement:c}=dF(),h=Mh("DndLiveRegion"),[d,m]=S.useState(!1);if(S.useEffect(()=>{m(!0)},[]),fF(S.useMemo(()=>({onDragStart(v){let{active:w}=v;l(e.onDragStart({active:w}))},onDragMove(v){let{active:w,over:A}=v;e.onDragMove&&l(e.onDragMove({active:w,over:A}))},onDragOver(v){let{active:w,over:A}=v;l(e.onDragOver({active:w,over:A}))},onDragEnd(v){let{active:w,over:A}=v;l(e.onDragEnd({active:w,over:A}))},onDragCancel(v){let{active:w,over:A}=v;l(e.onDragCancel({active:w,over:A}))}}),[l,e])),!d)return null;const g=Ot.createElement(Ot.Fragment,null,Ot.createElement(uF,{id:r,value:a.draggable}),Ot.createElement(hF,{id:h,announcement:c}));return n?xu.createPortal(g,n):g}var On;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(On||(On={}));function wm(){}function DS(t,e){return S.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function vF(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return S.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Or=Object.freeze({x:0,y:0});function tN(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function bF(t,e){const n=_m(t);if(!n)return"0 0";const r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function nN(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function _F(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function kS(t){let{left:e,top:n,height:r,width:a}=t;return[{x:e,y:n},{x:e+a,y:n},{x:e,y:n+r},{x:e+a,y:n+r}]}function iN(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function MS(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const wF=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const a=MS(e,e.left,e.top),l=[];for(const c of r){const{id:h}=c,d=n.get(h);if(d){const m=tN(MS(d),a);l.push({id:h,data:{droppableContainer:c,value:m}})}}return l.sort(nN)},xF=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const a=kS(e),l=[];for(const c of r){const{id:h}=c,d=n.get(h);if(d){const m=kS(d),g=a.reduce((w,A,k)=>w+tN(m[k],A),0),v=Number((g/4).toFixed(4));l.push({id:h,data:{droppableContainer:c,value:v}})}}return l.sort(nN)};function TF(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),a=Math.min(e.left+e.width,t.left+t.width),l=Math.min(e.top+e.height,t.top+t.height),c=a-r,h=l-n;if(r<a&&n<l){const d=e.width*e.height,m=t.width*t.height,g=c*h,v=g/(d+m-g);return Number(v.toFixed(4))}return 0}const EF=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const a=[];for(const l of r){const{id:c}=l,h=n.get(c);if(h){const d=TF(h,e);d>0&&a.push({id:c,data:{droppableContainer:l,value:d}})}}return a.sort(_F)};function SF(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function rN(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Or}function AF(t){return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),l=1;l<r;l++)a[l-1]=arguments[l];return a.reduce((c,h)=>({...c,top:c.top+t*h.y,bottom:c.bottom+t*h.y,left:c.left+t*h.x,right:c.right+t*h.x}),{...n})}}const CF=AF(1);function sN(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function RF(t,e,n){const r=sN(e);if(!r)return t;const{scaleX:a,scaleY:l,x:c,y:h}=r,d=t.left-c-(1-a)*parseFloat(n),m=t.top-h-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),g=a?t.width/a:t.width,v=l?t.height/l:t.height;return{width:g,height:v,top:m,right:d+g,bottom:m+v,left:d}}const IF={ignoreTransform:!1};function xc(t,e){e===void 0&&(e=IF);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:m,transformOrigin:g}=gi(t).getComputedStyle(t);m&&(n=RF(n,m,g))}const{top:r,left:a,width:l,height:c,bottom:h,right:d}=n;return{top:r,left:a,width:l,height:c,bottom:h,right:d}}function OS(t){return xc(t,{ignoreTransform:!0})}function NF(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function DF(t,e){return e===void 0&&(e=gi(t).getComputedStyle(t)),e.position==="fixed"}function kF(t,e){e===void 0&&(e=gi(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const l=e[a];return typeof l=="string"?n.test(l):!1})}function rp(t,e){const n=[];function r(a){if(e!=null&&n.length>=e||!a)return n;if(kb(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!Dh(a)||JI(a)||n.includes(a))return n;const l=gi(t).getComputedStyle(a);return a!==t&&kF(a,l)&&n.push(a),DF(a,l)?n:r(a.parentNode)}return t?r(t):n}function aN(t){const[e]=rp(t,1);return e??null}function Gy(t){return!tp||!t?null:_c(t)?t:Db(t)?kb(t)||t===wc(t).scrollingElement?window:Dh(t)?t:null:null}function oN(t){return _c(t)?t.scrollX:t.scrollLeft}function lN(t){return _c(t)?t.scrollY:t.scrollTop}function $v(t){return{x:oN(t),y:lN(t)}}var Bn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Bn||(Bn={}));function cN(t){return!tp||!t?!1:t===document.scrollingElement}function uN(t){const e={x:0,y:0},n=cN(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},a=t.scrollTop<=e.y,l=t.scrollLeft<=e.x,c=t.scrollTop>=r.y,h=t.scrollLeft>=r.x;return{isTop:a,isLeft:l,isBottom:c,isRight:h,maxScroll:r,minScroll:e}}const MF={x:.2,y:.2};function OF(t,e,n,r,a){let{top:l,left:c,right:h,bottom:d}=n;r===void 0&&(r=10),a===void 0&&(a=MF);const{isTop:m,isBottom:g,isLeft:v,isRight:w}=uN(t),A={x:0,y:0},k={x:0,y:0},M={height:e.height*a.y,width:e.width*a.x};return!m&&l<=e.top+M.height?(A.y=Bn.Backward,k.y=r*Math.abs((e.top+M.height-l)/M.height)):!g&&d>=e.bottom-M.height&&(A.y=Bn.Forward,k.y=r*Math.abs((e.bottom-M.height-d)/M.height)),!w&&h>=e.right-M.width?(A.x=Bn.Forward,k.x=r*Math.abs((e.right-M.width-h)/M.width)):!v&&c<=e.left+M.width&&(A.x=Bn.Backward,k.x=r*Math.abs((e.left+M.width-c)/M.width)),{direction:A,speed:k}}function PF(t){if(t===document.scrollingElement){const{innerWidth:l,innerHeight:c}=window;return{top:0,left:0,right:l,bottom:c,width:l,height:c}}const{top:e,left:n,right:r,bottom:a}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:a,width:t.clientWidth,height:t.clientHeight}}function hN(t){return t.reduce((e,n)=>Wl(e,$v(n)),Or)}function VF(t){return t.reduce((e,n)=>e+oN(n),0)}function jF(t){return t.reduce((e,n)=>e+lN(n),0)}function dN(t,e){if(e===void 0&&(e=xc),!t)return;const{top:n,left:r,bottom:a,right:l}=e(t);aN(t)&&(a<=0||l<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const LF=[["x",["left","right"],VF],["y",["top","bottom"],jF]];class Mb{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=rp(n),a=hN(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[l,c,h]of LF)for(const d of c)Object.defineProperty(this,d,{get:()=>{const m=h(r),g=a[l]-m;return this.rect[d]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class zu{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var a;(a=this.target)==null||a.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function UF(t){const{EventTarget:e}=gi(t);return t instanceof e?t:wc(t)}function $y(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var or;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(or||(or={}));function PS(t){t.preventDefault()}function zF(t){t.stopPropagation()}var ut;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(ut||(ut={}));const fN={start:[ut.Space,ut.Enter],cancel:[ut.Esc],end:[ut.Space,ut.Enter,ut.Tab]},BF=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case ut.Right:return{...n,x:n.x+25};case ut.Left:return{...n,x:n.x-25};case ut.Down:return{...n,y:n.y+25};case ut.Up:return{...n,y:n.y-25}}};class Ob{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new zu(wc(n)),this.windowListeners=new zu(gi(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(or.Resize,this.handleCancel),this.windowListeners.add(or.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(or.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&dN(r),n(Or)}handleKeyDown(e){if(ip(e)){const{active:n,context:r,options:a}=this.props,{keyboardCodes:l=fN,coordinateGetter:c=BF,scrollBehavior:h="smooth"}=a,{code:d}=e;if(l.end.includes(d)){this.handleEnd(e);return}if(l.cancel.includes(d)){this.handleCancel(e);return}const{collisionRect:m}=r.current,g=m?{x:m.left,y:m.top}:Or;this.referenceCoordinates||(this.referenceCoordinates=g);const v=c(e,{active:n,context:r.current,currentCoordinates:g});if(v){const w=rh(v,g),A={x:0,y:0},{scrollableAncestors:k}=r.current;for(const M of k){const I=e.code,{isTop:B,isRight:H,isLeft:q,isBottom:le,maxScroll:re,minScroll:ae}=uN(M),N=PF(M),C={x:Math.min(I===ut.Right?N.right-N.width/2:N.right,Math.max(I===ut.Right?N.left:N.left+N.width/2,v.x)),y:Math.min(I===ut.Down?N.bottom-N.height/2:N.bottom,Math.max(I===ut.Down?N.top:N.top+N.height/2,v.y))},O=I===ut.Right&&!H||I===ut.Left&&!q,U=I===ut.Down&&!le||I===ut.Up&&!B;if(O&&C.x!==v.x){const z=M.scrollLeft+w.x,V=I===ut.Right&&z<=re.x||I===ut.Left&&z>=ae.x;if(V&&!w.y){M.scrollTo({left:z,behavior:h});return}V?A.x=M.scrollLeft-z:A.x=I===ut.Right?M.scrollLeft-re.x:M.scrollLeft-ae.x,A.x&&M.scrollBy({left:-A.x,behavior:h});break}else if(U&&C.y!==v.y){const z=M.scrollTop+w.y,V=I===ut.Down&&z<=re.y||I===ut.Up&&z>=ae.y;if(V&&!w.x){M.scrollTo({top:z,behavior:h});return}V?A.y=M.scrollTop-z:A.y=I===ut.Down?M.scrollTop-re.y:M.scrollTop-ae.y,A.y&&M.scrollBy({top:-A.y,behavior:h});break}}this.handleMove(e,Wl(rh(v,this.referenceCoordinates),A))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Ob.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=fN,onActivation:a}=e,{active:l}=n;const{code:c}=t.nativeEvent;if(r.start.includes(c)){const h=l.activatorNode.current;return h&&t.target!==h?!1:(t.preventDefault(),a?.({event:t.nativeEvent}),!0)}return!1}}];function VS(t){return!!(t&&"distance"in t)}function jS(t){return!!(t&&"delay"in t)}class Pb{constructor(e,n,r){var a;r===void 0&&(r=UF(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:l}=e,{target:c}=l;this.props=e,this.events=n,this.document=wc(c),this.documentListeners=new zu(this.document),this.listeners=new zu(r),this.windowListeners=new zu(gi(c)),this.initialCoordinates=(a=_m(l))!=null?a:Or,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(or.Resize,this.handleCancel),this.windowListeners.add(or.DragStart,PS),this.windowListeners.add(or.VisibilityChange,this.handleCancel),this.windowListeners.add(or.ContextMenu,PS),this.documentListeners.add(or.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(jS(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(VS(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:a}=this.props;a(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(or.Click,zF,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(or.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:a,props:l}=this,{onMove:c,options:{activationConstraint:h}}=l;if(!a)return;const d=(n=_m(e))!=null?n:Or,m=rh(a,d);if(!r&&h){if(VS(h)){if(h.tolerance!=null&&$y(m,h.tolerance))return this.handleCancel();if($y(m,h.distance))return this.handleStart()}if(jS(h)&&$y(m,h.tolerance))return this.handleCancel();this.handlePending(h,m);return}e.cancelable&&e.preventDefault(),c(d)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===ut.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const FF={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Vb extends Pb{constructor(e){const{event:n}=e,r=wc(n.target);super(e,FF,r)}}Vb.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const qF={move:{name:"mousemove"},end:{name:"mouseup"}};var Kv;(function(t){t[t.RightClick=2]="RightClick"})(Kv||(Kv={}));class HF extends Pb{constructor(e){super(e,qF,wc(e.event.target))}}HF.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===Kv.RightClick?!1:(r?.({event:n}),!0)}}];const Ky={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class GF extends Pb{constructor(e){super(e,Ky)}static setup(){return window.addEventListener(Ky.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Ky.move.name,e)};function e(){}}}GF.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:a}=n;return a.length>1?!1:(r?.({event:n}),!0)}}];var Bu;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Bu||(Bu={}));var xm;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(xm||(xm={}));function $F(t){let{acceleration:e,activator:n=Bu.Pointer,canScroll:r,draggingRect:a,enabled:l,interval:c=5,order:h=xm.TreeOrder,pointerCoordinates:d,scrollableAncestors:m,scrollableAncestorRects:g,delta:v,threshold:w}=t;const A=YF({delta:v,disabled:!l}),[k,M]=sF(),I=S.useRef({x:0,y:0}),B=S.useRef({x:0,y:0}),H=S.useMemo(()=>{switch(n){case Bu.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Bu.DraggableRect:return a}},[n,a,d]),q=S.useRef(null),le=S.useCallback(()=>{const ae=q.current;if(!ae)return;const N=I.current.x*B.current.x,C=I.current.y*B.current.y;ae.scrollBy(N,C)},[]),re=S.useMemo(()=>h===xm.TreeOrder?[...m].reverse():m,[h,m]);S.useEffect(()=>{if(!l||!m.length||!H){M();return}for(const ae of re){if(r?.(ae)===!1)continue;const N=m.indexOf(ae),C=g[N];if(!C)continue;const{direction:O,speed:U}=OF(ae,C,H,e,w);for(const z of["x","y"])A[z][O[z]]||(U[z]=0,O[z]=0);if(U.x>0||U.y>0){M(),q.current=ae,k(le,c),I.current=U,B.current=O;return}}I.current={x:0,y:0},B.current={x:0,y:0},M()},[e,le,r,M,l,c,JSON.stringify(H),JSON.stringify(A),k,m,re,g,JSON.stringify(w)])}const KF={x:{[Bn.Backward]:!1,[Bn.Forward]:!1},y:{[Bn.Backward]:!1,[Bn.Forward]:!1}};function YF(t){let{delta:e,disabled:n}=t;const r=bm(e);return kh(a=>{if(n||!r||!a)return KF;const l={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Bn.Backward]:a.x[Bn.Backward]||l.x===-1,[Bn.Forward]:a.x[Bn.Forward]||l.x===1},y:{[Bn.Backward]:a.y[Bn.Backward]||l.y===-1,[Bn.Forward]:a.y[Bn.Forward]||l.y===1}}},[n,e,r])}function XF(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return kh(a=>{var l;return e==null?null:(l=r??a)!=null?l:null},[r,e])}function WF(t,e){return S.useMemo(()=>t.reduce((n,r)=>{const{sensor:a}=r,l=a.activators.map(c=>({eventName:c.eventName,handler:e(c.handler,r)}));return[...n,...l]},[]),[t,e])}var sh;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(sh||(sh={}));var Yv;(function(t){t.Optimized="optimized"})(Yv||(Yv={}));const LS=new Map;function QF(t,e){let{dragging:n,dependencies:r,config:a}=e;const[l,c]=S.useState(null),{frequency:h,measure:d,strategy:m}=a,g=S.useRef(t),v=I(),w=ih(v),A=S.useCallback(function(B){B===void 0&&(B=[]),!w.current&&c(H=>H===null?B:H.concat(B.filter(q=>!H.includes(q))))},[w]),k=S.useRef(null),M=kh(B=>{if(v&&!n)return LS;if(!B||B===LS||g.current!==t||l!=null){const H=new Map;for(let q of t){if(!q)continue;if(l&&l.length>0&&!l.includes(q.id)&&q.rect.current){H.set(q.id,q.rect.current);continue}const le=q.node.current,re=le?new Mb(d(le),le):null;q.rect.current=re,re&&H.set(q.id,re)}return H}return B},[t,l,n,v,d]);return S.useEffect(()=>{g.current=t},[t]),S.useEffect(()=>{v||A()},[n,v]),S.useEffect(()=>{l&&l.length>0&&c(null)},[JSON.stringify(l)]),S.useEffect(()=>{v||typeof h!="number"||k.current!==null||(k.current=setTimeout(()=>{A(),k.current=null},h))},[h,v,A,...r]),{droppableRects:M,measureDroppableContainers:A,measuringScheduled:l!=null};function I(){switch(m){case sh.Always:return!1;case sh.BeforeDragging:return n;default:return!n}}}function jb(t,e){return kh(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function JF(t,e){return jb(t,e)}function ZF(t){let{callback:e,disabled:n}=t;const r=np(e),a=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(r)},[r,n]);return S.useEffect(()=>()=>a?.disconnect(),[a]),a}function sp(t){let{callback:e,disabled:n}=t;const r=np(e),a=S.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(r)},[n]);return S.useEffect(()=>()=>a?.disconnect(),[a]),a}function e7(t){return new Mb(xc(t),t)}function US(t,e,n){e===void 0&&(e=e7);const[r,a]=S.useState(null);function l(){a(d=>{if(!t)return null;if(t.isConnected===!1){var m;return(m=d??n)!=null?m:null}const g=e(t);return JSON.stringify(d)===JSON.stringify(g)?d:g})}const c=ZF({callback(d){if(t)for(const m of d){const{type:g,target:v}=m;if(g==="childList"&&v instanceof HTMLElement&&v.contains(t)){l();break}}}}),h=sp({callback:l});return Mr(()=>{l(),t?(h?.observe(t),c?.observe(document.body,{childList:!0,subtree:!0})):(h?.disconnect(),c?.disconnect())},[t]),r}function t7(t){const e=jb(t);return rN(t,e)}const zS=[];function n7(t){const e=S.useRef(t),n=kh(r=>t?r&&r!==zS&&t&&e.current&&t.parentNode===e.current.parentNode?r:rp(t):zS,[t]);return S.useEffect(()=>{e.current=t},[t]),n}function i7(t){const[e,n]=S.useState(null),r=S.useRef(t),a=S.useCallback(l=>{const c=Gy(l.target);c&&n(h=>h?(h.set(c,$v(c)),new Map(h)):null)},[]);return S.useEffect(()=>{const l=r.current;if(t!==l){c(l);const h=t.map(d=>{const m=Gy(d);return m?(m.addEventListener("scroll",a,{passive:!0}),[m,$v(m)]):null}).filter(d=>d!=null);n(h.length?new Map(h):null),r.current=t}return()=>{c(t),c(l)};function c(h){h.forEach(d=>{const m=Gy(d);m?.removeEventListener("scroll",a)})}},[a,t]),S.useMemo(()=>t.length?e?Array.from(e.values()).reduce((l,c)=>Wl(l,c),Or):hN(t):Or,[t,e])}function BS(t,e){e===void 0&&(e=[]);const n=S.useRef(null);return S.useEffect(()=>{n.current=null},e),S.useEffect(()=>{const r=t!==Or;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?rh(t,n.current):Or}function r7(t){S.useEffect(()=>{if(!tp)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function s7(t,e){return S.useMemo(()=>t.reduce((n,r)=>{let{eventName:a,handler:l}=r;return n[a]=c=>{l(c,e)},n},{}),[t,e])}function mN(t){return S.useMemo(()=>t?NF(t):null,[t])}const FS=[];function a7(t,e){e===void 0&&(e=xc);const[n]=t,r=mN(n?gi(n):null),[a,l]=S.useState(FS);function c(){l(()=>t.length?t.map(d=>cN(d)?r:new Mb(e(d),d)):FS)}const h=sp({callback:c});return Mr(()=>{h?.disconnect(),c(),t.forEach(d=>h?.observe(d))},[t]),a}function pN(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Dh(e)?e:t}function o7(t){let{measure:e}=t;const[n,r]=S.useState(null),a=S.useCallback(m=>{for(const{target:g}of m)if(Dh(g)){r(v=>{const w=e(g);return v?{...v,width:w.width,height:w.height}:w});break}},[e]),l=sp({callback:a}),c=S.useCallback(m=>{const g=pN(m);l?.disconnect(),g&&l?.observe(g),r(g?e(g):null)},[e,l]),[h,d]=vm(c);return S.useMemo(()=>({nodeRef:h,rect:n,setRef:d}),[n,h,d])}const l7=[{sensor:Vb,options:{}},{sensor:Ob,options:{}}],c7={current:{}},Mf={draggable:{measure:OS},droppable:{measure:OS,strategy:sh.WhileDragging,frequency:Yv.Optimized},dragOverlay:{measure:xc}};class Fu extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const u7={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Fu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:wm},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Mf,measureDroppableContainers:wm,windowRect:null,measuringScheduled:!1},gN={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:wm,draggableNodes:new Map,over:null,measureDroppableContainers:wm},Oh=S.createContext(gN),yN=S.createContext(u7);function h7(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Fu}}}function d7(t,e){switch(e.type){case On.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case On.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case On.DragEnd:case On.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case On.RegisterDroppable:{const{element:n}=e,{id:r}=n,a=new Fu(t.droppable.containers);return a.set(r,n),{...t,droppable:{...t.droppable,containers:a}}}case On.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=e,l=t.droppable.containers.get(n);if(!l||r!==l.key)return t;const c=new Fu(t.droppable.containers);return c.set(n,{...l,disabled:a}),{...t,droppable:{...t.droppable,containers:c}}}case On.UnregisterDroppable:{const{id:n,key:r}=e,a=t.droppable.containers.get(n);if(!a||r!==a.key)return t;const l=new Fu(t.droppable.containers);return l.delete(n),{...t,droppable:{...t.droppable,containers:l}}}default:return t}}function f7(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:a}=S.useContext(Oh),l=bm(r),c=bm(n?.id);return S.useEffect(()=>{if(!e&&!r&&l&&c!=null){if(!ip(l)||document.activeElement===l.target)return;const h=a.get(c);if(!h)return;const{activatorNode:d,node:m}=h;if(!d.current&&!m.current)return;requestAnimationFrame(()=>{for(const g of[d.current,m.current]){if(!g)continue;const v=lF(g);if(v){v.focus();break}}})}},[r,e,a,c,l]),null}function vN(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((a,l)=>l({transform:a,...r}),n):n}function m7(t){return S.useMemo(()=>({draggable:{...Mf.draggable,...t?.draggable},droppable:{...Mf.droppable,...t?.droppable},dragOverlay:{...Mf.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function p7(t){let{activeNode:e,measure:n,initialRect:r,config:a=!0}=t;const l=S.useRef(!1),{x:c,y:h}=typeof a=="boolean"?{x:a,y:a}:a;Mr(()=>{if(!c&&!h||!e){l.current=!1;return}if(l.current||!r)return;const m=e?.node.current;if(!m||m.isConnected===!1)return;const g=n(m),v=rN(g,r);if(c||(v.x=0),h||(v.y=0),l.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const w=aN(m);w&&w.scrollBy({top:v.y,left:v.x})}},[e,c,h,r,n])}const ap=S.createContext({...Or,scaleX:1,scaleY:1});var Sa;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Sa||(Sa={}));const g7=S.memo(function(e){var n,r,a,l;let{id:c,accessibility:h,autoScroll:d=!0,children:m,sensors:g=l7,collisionDetection:v=EF,measuring:w,modifiers:A,...k}=e;const M=S.useReducer(d7,void 0,h7),[I,B]=M,[H,q]=mF(),[le,re]=S.useState(Sa.Uninitialized),ae=le===Sa.Initialized,{draggable:{active:N,nodes:C,translate:O},droppable:{containers:U}}=I,z=N!=null?C.get(N):null,V=S.useRef({initial:null,translated:null}),P=S.useMemo(()=>{var He;return N!=null?{id:N,data:(He=z?.data)!=null?He:c7,rect:V}:null},[N,z]),ve=S.useRef(null),[be,J]=S.useState(null),[X,G]=S.useState(null),Y=ih(k,Object.values(k)),j=Mh("DndDescribedBy",c),T=S.useMemo(()=>U.getEnabled(),[U]),L=m7(w),{droppableRects:W,measureDroppableContainers:Z,measuringScheduled:fe}=QF(T,{dragging:ae,dependencies:[O.x,O.y],config:L.droppable}),ge=XF(C,N),pe=S.useMemo(()=>X?_m(X):null,[X]),we=pr(),xe=JF(ge,L.draggable.measure);p7({activeNode:N!=null?C.get(N):null,config:we.layoutShiftCompensation,initialRect:xe,measure:L.draggable.measure});const Se=US(ge,L.draggable.measure,xe),Ue=US(ge?ge.parentElement:null),Pe=S.useRef({activatorEvent:null,active:null,activeNode:ge,collisionRect:null,collisions:null,droppableRects:W,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:U,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),at=U.getNodeFor((n=Pe.current.over)==null?void 0:n.id),De=o7({measure:L.dragOverlay.measure}),xt=(r=De.nodeRef.current)!=null?r:ge,dt=ae?(a=De.rect)!=null?a:Se:null,zt=!!(De.nodeRef.current&&De.rect),mn=t7(zt?null:Se),ot=mN(xt?gi(xt):null),qe=n7(ae?at??ge:null),pn=a7(qe),Ni=vN(A,{transform:{x:O.x-mn.x,y:O.y-mn.y,scaleX:1,scaleY:1},activatorEvent:X,active:P,activeNodeRect:Se,containerNodeRect:Ue,draggingNodeRect:dt,over:Pe.current.over,overlayNodeRect:De.rect,scrollableAncestors:qe,scrollableAncestorRects:pn,windowRect:ot}),Di=pe?Wl(pe,O):null,Bt=i7(qe),Qt=BS(Bt),Zn=BS(Bt,[Se]),Hn=Wl(Ni,Qt),gn=dt?CF(dt,Ni):null,ei=P&&gn?v({active:P,collisionRect:gn,droppableRects:W,droppableContainers:T,pointerCoordinates:Di}):null,yi=iN(ei,"id"),[Pt,$i]=S.useState(null),Cn=zt?Ni:Wl(Ni,Zn),rn=SF(Cn,(l=Pt?.rect)!=null?l:null,Se),jn=S.useRef(null),Dt=S.useCallback((He,Vt)=>{let{sensor:jt,options:sn}=Vt;if(ve.current==null)return;const Ln=C.get(ve.current);if(!Ln)return;const Ft=He.nativeEvent,gt=new jt({active:ve.current,activeNode:Ln,event:Ft,options:sn,context:Pe,onAbort(Tt){if(!C.get(Tt))return;const{onDragAbort:yn}=Y.current,Gn={id:Tt};yn?.(Gn),H({type:"onDragAbort",event:Gn})},onPending(Tt,Rn,yn,Gn){if(!C.get(Tt))return;const{onDragPending:yt}=Y.current,Nn={id:Tt,constraint:Rn,initialCoordinates:yn,offset:Gn};yt?.(Nn),H({type:"onDragPending",event:Nn})},onStart(Tt){const Rn=ve.current;if(Rn==null)return;const yn=C.get(Rn);if(!yn)return;const{onDragStart:Gn}=Y.current,In={activatorEvent:Ft,active:{id:Rn,data:yn.data,rect:V}};xu.unstable_batchedUpdates(()=>{Gn?.(In),re(Sa.Initializing),B({type:On.DragStart,initialCoordinates:Tt,active:Rn}),H({type:"onDragStart",event:In}),J(jn.current),G(Ft)})},onMove(Tt){B({type:On.DragMove,coordinates:Tt})},onEnd:cn(On.DragEnd),onCancel:cn(On.DragCancel)});jn.current=gt;function cn(Tt){return async function(){const{active:yn,collisions:Gn,over:In,scrollAdjustedTranslate:yt}=Pe.current;let Nn=null;if(yn&&yt){const{cancelDrop:kt}=Y.current;Nn={activatorEvent:Ft,active:yn,collisions:Gn,delta:yt,over:In},Tt===On.DragEnd&&typeof kt=="function"&&await Promise.resolve(kt(Nn))&&(Tt=On.DragCancel)}ve.current=null,xu.unstable_batchedUpdates(()=>{B({type:Tt}),re(Sa.Uninitialized),$i(null),J(null),G(null),jn.current=null;const kt=Tt===On.DragEnd?"onDragEnd":"onDragCancel";if(Nn){const vn=Y.current[kt];vn?.(Nn),H({type:kt,event:Nn})}})}}},[C]),ti=S.useCallback((He,Vt)=>(jt,sn)=>{const Ln=jt.nativeEvent,Ft=C.get(sn);if(ve.current!==null||!Ft||Ln.dndKit||Ln.defaultPrevented)return;const gt={active:Ft};He(jt,Vt.options,gt)===!0&&(Ln.dndKit={capturedBy:Vt.sensor},ve.current=sn,Dt(jt,Vt))},[C,Dt]),mr=WF(g,ti);r7(g),Mr(()=>{Se&&le===Sa.Initializing&&re(Sa.Initialized)},[Se,le]),S.useEffect(()=>{const{onDragMove:He}=Y.current,{active:Vt,activatorEvent:jt,collisions:sn,over:Ln}=Pe.current;if(!Vt||!jt)return;const Ft={active:Vt,activatorEvent:jt,collisions:sn,delta:{x:Hn.x,y:Hn.y},over:Ln};xu.unstable_batchedUpdates(()=>{He?.(Ft),H({type:"onDragMove",event:Ft})})},[Hn.x,Hn.y]),S.useEffect(()=>{const{active:He,activatorEvent:Vt,collisions:jt,droppableContainers:sn,scrollAdjustedTranslate:Ln}=Pe.current;if(!He||ve.current==null||!Vt||!Ln)return;const{onDragOver:Ft}=Y.current,gt=sn.get(yi),cn=gt&&gt.rect.current?{id:gt.id,rect:gt.rect.current,data:gt.data,disabled:gt.disabled}:null,Tt={active:He,activatorEvent:Vt,collisions:jt,delta:{x:Ln.x,y:Ln.y},over:cn};xu.unstable_batchedUpdates(()=>{$i(cn),Ft?.(Tt),H({type:"onDragOver",event:Tt})})},[yi]),Mr(()=>{Pe.current={activatorEvent:X,active:P,activeNode:ge,collisionRect:gn,collisions:ei,droppableRects:W,draggableNodes:C,draggingNode:xt,draggingNodeRect:dt,droppableContainers:U,over:Pt,scrollableAncestors:qe,scrollAdjustedTranslate:Hn},V.current={initial:dt,translated:gn}},[P,ge,ei,gn,C,xt,dt,W,U,Pt,qe,Hn]),$F({...we,delta:O,draggingRect:gn,pointerCoordinates:Di,scrollableAncestors:qe,scrollableAncestorRects:pn});const Vr=S.useMemo(()=>({active:P,activeNode:ge,activeNodeRect:Se,activatorEvent:X,collisions:ei,containerNodeRect:Ue,dragOverlay:De,draggableNodes:C,droppableContainers:U,droppableRects:W,over:Pt,measureDroppableContainers:Z,scrollableAncestors:qe,scrollableAncestorRects:pn,measuringConfiguration:L,measuringScheduled:fe,windowRect:ot}),[P,ge,Se,X,ei,Ue,De,C,U,W,Pt,Z,qe,pn,L,fe,ot]),vi=S.useMemo(()=>({activatorEvent:X,activators:mr,active:P,activeNodeRect:Se,ariaDescribedById:{draggable:j},dispatch:B,draggableNodes:C,over:Pt,measureDroppableContainers:Z}),[X,mr,P,Se,B,j,C,Pt,Z]);return Ot.createElement(eN.Provider,{value:q},Ot.createElement(Oh.Provider,{value:vi},Ot.createElement(yN.Provider,{value:Vr},Ot.createElement(ap.Provider,{value:rn},m)),Ot.createElement(f7,{disabled:h?.restoreFocus===!1})),Ot.createElement(yF,{...h,hiddenTextDescribedById:j}));function pr(){const He=be?.autoScrollEnabled===!1,Vt=typeof d=="object"?d.enabled===!1:d===!1,jt=ae&&!He&&!Vt;return typeof d=="object"?{...d,enabled:jt}:{enabled:jt}}}),y7=S.createContext(null),qS="button",v7="Draggable";function b7(t){let{id:e,data:n,disabled:r=!1,attributes:a}=t;const l=Mh(v7),{activators:c,activatorEvent:h,active:d,activeNodeRect:m,ariaDescribedById:g,draggableNodes:v,over:w}=S.useContext(Oh),{role:A=qS,roleDescription:k="draggable",tabIndex:M=0}=a??{},I=d?.id===e,B=S.useContext(I?ap:y7),[H,q]=vm(),[le,re]=vm(),ae=s7(c,e),N=ih(n);Mr(()=>(v.set(e,{id:e,key:l,node:H,activatorNode:le,data:N}),()=>{const O=v.get(e);O&&O.key===l&&v.delete(e)}),[v,e]);const C=S.useMemo(()=>({role:A,tabIndex:M,"aria-disabled":r,"aria-pressed":I&&A===qS?!0:void 0,"aria-roledescription":k,"aria-describedby":g.draggable}),[r,A,M,I,k,g.draggable]);return{active:d,activatorEvent:h,activeNodeRect:m,attributes:C,isDragging:I,listeners:r?void 0:ae,node:H,over:w,setNodeRef:q,setActivatorNodeRef:re,transform:B}}function bN(){return S.useContext(yN)}const _7="Droppable",w7={timeout:25};function x7(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:a}=t;const l=Mh(_7),{active:c,dispatch:h,over:d,measureDroppableContainers:m}=S.useContext(Oh),g=S.useRef({disabled:n}),v=S.useRef(!1),w=S.useRef(null),A=S.useRef(null),{disabled:k,updateMeasurementsFor:M,timeout:I}={...w7,...a},B=ih(M??r),H=S.useCallback(()=>{if(!v.current){v.current=!0;return}A.current!=null&&clearTimeout(A.current),A.current=setTimeout(()=>{m(Array.isArray(B.current)?B.current:[B.current]),A.current=null},I)},[I]),q=sp({callback:H,disabled:k||!c}),le=S.useCallback((C,O)=>{q&&(O&&(q.unobserve(O),v.current=!1),C&&q.observe(C))},[q]),[re,ae]=vm(le),N=ih(e);return S.useEffect(()=>{!q||!re.current||(q.disconnect(),v.current=!1,q.observe(re.current))},[re,q]),S.useEffect(()=>(h({type:On.RegisterDroppable,element:{id:r,key:l,disabled:n,node:re,rect:w,data:N}}),()=>h({type:On.UnregisterDroppable,key:l,id:r})),[r]),S.useEffect(()=>{n!==g.current.disabled&&(h({type:On.SetDroppableDisabled,id:r,key:l,disabled:n}),g.current.disabled=n)},[r,l,n,h]),{active:c,rect:w,isOver:d?.id===r,node:re,over:d,setNodeRef:ae}}function T7(t){let{animation:e,children:n}=t;const[r,a]=S.useState(null),[l,c]=S.useState(null),h=bm(n);return!n&&!r&&h&&a(h),Mr(()=>{if(!l)return;const d=r?.key,m=r?.props.id;if(d==null||m==null){a(null);return}Promise.resolve(e(m,l)).then(()=>{a(null)})},[e,r,l]),Ot.createElement(Ot.Fragment,null,n,r?S.cloneElement(r,{ref:c}):null)}const E7={x:0,y:0,scaleX:1,scaleY:1};function S7(t){let{children:e}=t;return Ot.createElement(Oh.Provider,{value:gN},Ot.createElement(ap.Provider,{value:E7},e))}const A7={position:"fixed",touchAction:"none"},C7=t=>ip(t)?"transform 250ms ease":void 0,R7=S.forwardRef((t,e)=>{let{as:n,activatorEvent:r,adjustScale:a,children:l,className:c,rect:h,style:d,transform:m,transition:g=C7}=t;if(!h)return null;const v=a?m:{...m,scaleX:1,scaleY:1},w={...A7,width:h.width,height:h.height,top:h.top,left:h.left,transform:Ga.Transform.toString(v),transformOrigin:a&&r?bF(r,h):void 0,transition:typeof g=="function"?g(r):g,...d};return Ot.createElement(n,{className:c,style:w,ref:e},l)}),I7=t=>e=>{let{active:n,dragOverlay:r}=e;const a={},{styles:l,className:c}=t;if(l!=null&&l.active)for(const[h,d]of Object.entries(l.active))d!==void 0&&(a[h]=n.node.style.getPropertyValue(h),n.node.style.setProperty(h,d));if(l!=null&&l.dragOverlay)for(const[h,d]of Object.entries(l.dragOverlay))d!==void 0&&r.node.style.setProperty(h,d);return c!=null&&c.active&&n.node.classList.add(c.active),c!=null&&c.dragOverlay&&r.node.classList.add(c.dragOverlay),function(){for(const[d,m]of Object.entries(a))n.node.style.setProperty(d,m);c!=null&&c.active&&n.node.classList.remove(c.active)}},N7=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:Ga.Transform.toString(e)},{transform:Ga.Transform.toString(n)}]},D7={duration:250,easing:"ease",keyframes:N7,sideEffects:I7({styles:{active:{opacity:"0"}}})};function k7(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:a}=t;return np((l,c)=>{if(e===null)return;const h=n.get(l);if(!h)return;const d=h.node.current;if(!d)return;const m=pN(c);if(!m)return;const{transform:g}=gi(c).getComputedStyle(c),v=sN(g);if(!v)return;const w=typeof e=="function"?e:M7(e);return dN(d,a.draggable.measure),w({active:{id:l,data:h.data,node:d,rect:a.draggable.measure(d)},draggableNodes:n,dragOverlay:{node:c,rect:a.dragOverlay.measure(m)},droppableContainers:r,measuringConfiguration:a,transform:v})})}function M7(t){const{duration:e,easing:n,sideEffects:r,keyframes:a}={...D7,...t};return l=>{let{active:c,dragOverlay:h,transform:d,...m}=l;if(!e)return;const g={x:h.rect.left-c.rect.left,y:h.rect.top-c.rect.top},v={scaleX:d.scaleX!==1?c.rect.width*d.scaleX/h.rect.width:1,scaleY:d.scaleY!==1?c.rect.height*d.scaleY/h.rect.height:1},w={x:d.x-g.x,y:d.y-g.y,...v},A=a({...m,active:c,dragOverlay:h,transform:{initial:d,final:w}}),[k]=A,M=A[A.length-1];if(JSON.stringify(k)===JSON.stringify(M))return;const I=r?.({active:c,dragOverlay:h,...m}),B=h.node.animate(A,{duration:e,easing:n,fill:"forwards"});return new Promise(H=>{B.onfinish=()=>{I?.(),H()}})}}let HS=0;function O7(t){return S.useMemo(()=>{if(t!=null)return HS++,HS},[t])}const P7=Ot.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:a,transition:l,modifiers:c,wrapperElement:h="div",className:d,zIndex:m=999}=t;const{activatorEvent:g,active:v,activeNodeRect:w,containerNodeRect:A,draggableNodes:k,droppableContainers:M,dragOverlay:I,over:B,measuringConfiguration:H,scrollableAncestors:q,scrollableAncestorRects:le,windowRect:re}=bN(),ae=S.useContext(ap),N=O7(v?.id),C=vN(c,{activatorEvent:g,active:v,activeNodeRect:w,containerNodeRect:A,draggingNodeRect:I.rect,over:B,overlayNodeRect:I.rect,scrollableAncestors:q,scrollableAncestorRects:le,transform:ae,windowRect:re}),O=jb(w),U=k7({config:r,draggableNodes:k,droppableContainers:M,measuringConfiguration:H}),z=O?I.setRef:void 0;return Ot.createElement(S7,null,Ot.createElement(T7,{animation:U},v&&N?Ot.createElement(R7,{key:N,id:v.id,ref:z,as:h,activatorEvent:g,adjustScale:e,className:d,transition:l,rect:O,style:{zIndex:m,...a},transform:C},n):null))});function Lb(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function V7(t,e){return t.reduce((n,r,a)=>{const l=e.get(r);return l&&(n[a]=l),n},Array(t.length))}function mf(t){return t!==null&&t>=0}function j7(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function L7(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const Ub=t=>{let{rects:e,activeIndex:n,overIndex:r,index:a}=t;const l=Lb(e,r,n),c=e[a],h=l[a];return!h||!c?null:{x:h.left-c.left,y:h.top-c.top,scaleX:h.width/c.width,scaleY:h.height/c.height}},_N="Sortable",wN=Ot.createContext({activeIndex:-1,containerId:_N,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Ub,disabled:{draggable:!1,droppable:!1}});function U7(t){let{children:e,id:n,items:r,strategy:a=Ub,disabled:l=!1}=t;const{active:c,dragOverlay:h,droppableRects:d,over:m,measureDroppableContainers:g}=bN(),v=Mh(_N,n),w=h.rect!==null,A=S.useMemo(()=>r.map(ae=>typeof ae=="object"&&"id"in ae?ae.id:ae),[r]),k=c!=null,M=c?A.indexOf(c.id):-1,I=m?A.indexOf(m.id):-1,B=S.useRef(A),H=!j7(A,B.current),q=I!==-1&&M===-1||H,le=L7(l);Mr(()=>{H&&k&&g(A)},[H,A,k,g]),S.useEffect(()=>{B.current=A},[A]);const re=S.useMemo(()=>({activeIndex:M,containerId:v,disabled:le,disableTransforms:q,items:A,overIndex:I,useDragOverlay:w,sortedRects:V7(A,d),strategy:a}),[M,v,le.draggable,le.droppable,q,A,I,d,w,a]);return Ot.createElement(wN.Provider,{value:re},e)}const z7=t=>{let{id:e,items:n,activeIndex:r,overIndex:a}=t;return Lb(n,r,a).indexOf(e)},B7=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:a,items:l,newIndex:c,previousItems:h,previousContainerId:d,transition:m}=t;return!m||!r||h!==l&&a===c?!1:n?!0:c!==a&&e===d},F7={duration:200,easing:"ease"},xN="transform",q7=Ga.Transition.toString({property:xN,duration:0,easing:"linear"}),H7={roleDescription:"sortable"};function G7(t){let{disabled:e,index:n,node:r,rect:a}=t;const[l,c]=S.useState(null),h=S.useRef(n);return Mr(()=>{if(!e&&n!==h.current&&r.current){const d=a.current;if(d){const m=xc(r.current,{ignoreTransform:!0}),g={x:d.left-m.left,y:d.top-m.top,scaleX:d.width/m.width,scaleY:d.height/m.height};(g.x||g.y)&&c(g)}}n!==h.current&&(h.current=n)},[e,n,r,a]),S.useEffect(()=>{l&&c(null)},[l]),l}function $7(t){let{animateLayoutChanges:e=B7,attributes:n,disabled:r,data:a,getNewIndex:l=z7,id:c,strategy:h,resizeObserverConfig:d,transition:m=F7}=t;const{items:g,containerId:v,activeIndex:w,disabled:A,disableTransforms:k,sortedRects:M,overIndex:I,useDragOverlay:B,strategy:H}=S.useContext(wN),q=K7(r,A),le=g.indexOf(c),re=S.useMemo(()=>({sortable:{containerId:v,index:le,items:g},...a}),[v,a,le,g]),ae=S.useMemo(()=>g.slice(g.indexOf(c)),[g,c]),{rect:N,node:C,isOver:O,setNodeRef:U}=x7({id:c,data:re,disabled:q.droppable,resizeObserverConfig:{updateMeasurementsFor:ae,...d}}),{active:z,activatorEvent:V,activeNodeRect:P,attributes:ve,setNodeRef:be,listeners:J,isDragging:X,over:G,setActivatorNodeRef:Y,transform:j}=b7({id:c,data:re,attributes:{...H7,...n},disabled:q.draggable}),T=rF(U,be),L=!!z,W=L&&!k&&mf(w)&&mf(I),Z=!B&&X,fe=Z&&W?j:null,pe=W?fe??(h??H)({rects:M,activeNodeRect:P,activeIndex:w,overIndex:I,index:le}):null,we=mf(w)&&mf(I)?l({id:c,items:g,activeIndex:w,overIndex:I}):le,xe=z?.id,Se=S.useRef({activeId:xe,items:g,newIndex:we,containerId:v}),Ue=g!==Se.current.items,Pe=e({active:z,containerId:v,isDragging:X,isSorting:L,id:c,index:le,items:g,newIndex:Se.current.newIndex,previousItems:Se.current.items,previousContainerId:Se.current.containerId,transition:m,wasDragging:Se.current.activeId!=null}),at=G7({disabled:!Pe,index:le,node:C,rect:N});return S.useEffect(()=>{L&&Se.current.newIndex!==we&&(Se.current.newIndex=we),v!==Se.current.containerId&&(Se.current.containerId=v),g!==Se.current.items&&(Se.current.items=g)},[L,we,v,g]),S.useEffect(()=>{if(xe===Se.current.activeId)return;if(xe!=null&&Se.current.activeId==null){Se.current.activeId=xe;return}const xt=setTimeout(()=>{Se.current.activeId=xe},50);return()=>clearTimeout(xt)},[xe]),{active:z,activeIndex:w,attributes:ve,data:re,rect:N,index:le,newIndex:we,items:g,isOver:O,isSorting:L,isDragging:X,listeners:J,node:C,overIndex:I,over:G,setNodeRef:T,setActivatorNodeRef:Y,setDroppableNodeRef:U,setDraggableNodeRef:be,transform:at??pe,transition:De()};function De(){if(at||Ue&&Se.current.newIndex===le)return q7;if(!(Z&&!ip(V)||!m)&&(L||Pe))return Ga.Transition.toString({...m,property:xN})}}function K7(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(r=t?.droppable)!=null?r:e.droppable}}function Tm(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const Y7=[ut.Down,ut.Right,ut.Up,ut.Left],X7=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:a,droppableContainers:l,over:c,scrollableAncestors:h}}=e;if(Y7.includes(t.code)){if(t.preventDefault(),!n||!r)return;const d=[];l.getEnabled().forEach(v=>{if(!v||v!=null&&v.disabled)return;const w=a.get(v.id);if(w)switch(t.code){case ut.Down:r.top<w.top&&d.push(v);break;case ut.Up:r.top>w.top&&d.push(v);break;case ut.Left:r.left>w.left&&d.push(v);break;case ut.Right:r.left<w.left&&d.push(v);break}});const m=xF({collisionRect:r,droppableRects:a,droppableContainers:d});let g=iN(m,"id");if(g===c?.id&&m.length>1&&(g=m[1].id),g!=null){const v=l.get(n.id),w=l.get(g),A=w?a.get(w.id):null,k=w?.node.current;if(k&&A&&v&&w){const I=rp(k).some((ae,N)=>h[N]!==ae),B=TN(v,w),H=W7(v,w),q=I||!B?{x:0,y:0}:{x:H?r.width-A.width:0,y:H?r.height-A.height:0},le={x:A.left,y:A.top};return q.x&&q.y?le:rh(le,q)}}}};function TN(t,e){return!Tm(t)||!Tm(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function W7(t,e){return!Tm(t)||!Tm(e)||!TN(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const Q7=({id:t,children:e,disabled:n,className:r,onClick:a})=>{const{attributes:l,listeners:c,setNodeRef:h,transform:d,transition:m,isDragging:g}=$7({id:t,disabled:n}),v={transform:Ga.Transform.toString(d),transition:m,zIndex:g?50:"auto",position:"relative"};return b.jsx("div",{ref:h,style:v,...l,...c,onClick:a,className:At("w-full h-full",!n&&"touch-none cursor-grab active:cursor-grabbing",g&&"opacity-0",r),children:b.jsx("div",{className:At("w-full h-full",g&&"opacity-0"),children:e})})},GS=()=>{const{boardId:t,yearId:e}=$k(),n=oh(),r=e?void 0:t,{items:a,members:l,loading:c,toggleItem:h,hasWon:d,bingoCount:m,isLocked:g,unlockBoard:v,jumbleAndLock:w,saveBoard:A,completeWithPhoto:k,addPhotoToTile:M,addReaction:I,deletePhoto:B,decrementProgress:H,inviteUser:q,removeMember:le,title:re,gridSize:ae,updateTitle:N}=Z8(r),{logout:C,user:O}=mc(),U=jI(),{openSettings:z,settings:V,updateSettings:P}=Nh(),{playClick:ve,playSuccess:be,playBingo:J,playWhoosh:X}=eF(),[G,Y]=S.useState(!1),[j,T]=S.useState(!1),[L,W]=S.useState(""),[Z,fe]=S.useState(a),[ge,pe]=S.useState(null);S.useEffect(()=>{(!ge&&!G||G&&Z.length===0&&a.length>0)&&fe(a)},[a,ge,G]);const we=vF(DS(Vb,{activationConstraint:{distance:8}}),DS(Ob,{coordinateGetter:X7})),xe=K=>{G&&pe(K.active.id)},Se=K=>{const{active:Ae,over:_t}=K;pe(null),_t&&Ae.id!==_t.id&&G&&fe(ft=>{const Ye=ft.findIndex(Kt=>Kt.id===Ae.id),lt=ft.findIndex(Kt=>Kt.id===_t.id),Zt=Lb(ft,Ye,lt);return A(Zt),Zt})},[Ue,Pe]=S.useState(!1),[at,De]=S.useState(!1),[xt,dt]=S.useState(!1),[zt,mn]=S.useState(!1),[ot,qe]=S.useState([]),[pn,Ni]=S.useState(null),[Di,Bt]=S.useState(""),[Qt,Zn]=S.useState({}),[Hn,gn]=S.useState(1),[ei,yi]=S.useState(""),[Pt,$i]=S.useState(!1),[Cn,rn]=S.useState("complete"),[jn,Dt]=S.useState(!1),[ti,mr]=S.useState(0),[Vr,vi]=S.useState(null),[pr,He]=S.useState(!1);S.useEffect(()=>{!localStorage.getItem("hasSeenWalkthrough")&&!c&&a.length>0&&Dt(!0)},[c,a]),S.useEffect(()=>{(async()=>{if(at&&l){const Ae=[];for(const[_t,ft]of Object.entries(l))if(ft!=="owner")try{const Ye=await Eh(Rr(ai,"users",_t));if(Ye.exists()){const lt=Ye.data();Ae.push({id:_t,name:lt.displayName||"Unknown",email:lt.email||"No email",role:ft})}}catch(Ye){console.error("Error fetching user:",Ye)}qe(Ae)}})()},[at,l]);const Vt=async(K,Ae)=>{await U.confirm(`Are you sure you want to remove ${Ae} from this board?`,{title:"Remove Member",type:"error",confirmText:"Remove"})&&((await le(K)).success?(qe(Ye=>Ye.filter(lt=>lt.id!==K)),await U.alert(`${Ae} has been removed.`,{type:"success"})):await U.alert("Failed to remove member.",{type:"error"}))},jt=async()=>{const K=await U.sharePrompt("Enter their email address to invite them to this board.",{title:"Invite User"});if(K){const Ae=await q(K.email,K.role);if(Ae.type==="success")await U.alert(Ae.message,{title:"Success!",type:"success"});else if(Ae.type==="not_found"){if(await U.confirm(`"${K.email}" hasn't signed up yet.

Would you like to send them an email invitation to join SunSar Bingo?`,{title:"User Not Found",confirmText:"Send Invite Email",type:"info"}))try{const{sendInviteEmail:ft,openMailtoFallback:Ye}=await Wy(async()=>{const{sendInviteEmail:Zt,openMailtoFallback:Kt}=await import("./emailService-OEjlX8_O.js");return{sendInviteEmail:Zt,openMailtoFallback:Kt}},[]);(await ft({recipientEmail:K.email,senderName:O?.displayName||O?.email||"A friend"})).success?await U.alert(`Invitation sent to ${K.email}! They'll receive an email with instructions to join.`,{title:"Invitation Sent!",type:"success"}):(Ye(K.email,O?.displayName||"A friend"),await U.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"}))}catch{const Ye=encodeURIComponent("Join me on SunSar Bingo!"),lt=encodeURIComponent(`Hey! Come join me on SunSar Bingo to track our 2026 goals together.

Sign up here: ${window.location.origin}`);window.open(`mailto:${K.email}?subject=${Ye}&body=${lt}`),await U.alert("Your email app should open with a pre-filled invitation. Send it to invite your friend!",{title:"Email Ready",type:"info"})}}else await U.alert(Ae.message,{title:"Error",type:"error"})}},sn=()=>{ti<2?mr(K=>K+1):(Dt(!1),localStorage.setItem("hasSeenWalkthrough","true"))},[Ln,Ft]=S.useState(!1),[gt,cn]=S.useState(null),[Tt,Rn]=S.useState(!1),yn=S.useRef(null),[Gn,In]=S.useState(!1),[yt,Nn]=S.useState(null),[kt,vn]=S.useState(null),[Lt,$t]=S.useState(0),ki=S.useRef(null),[Hs,Ko]=S.useState(!1),[Yo,Qa]=S.useState(()=>localStorage.getItem("celebrationDismissed")==="true"),[bi,jr]=S.useState(0);S.useEffect(()=>{bi===5&&(v(),jr(0),Gv({particleCount:100,spread:70,origin:{y:.6},colors:["#fbbf24","#ec4899","#ffffff"]}));let K;return bi>0&&(K=setTimeout(()=>jr(0),1e3)),()=>clearTimeout(K)},[bi,v]);const Ki=()=>{g&&jr(K=>K+1)},_i=()=>{ve(),w(zt),Gv({particleCount:150,spread:60,origin:{y:.7},colors:["#22c55e","#ffffff"]}),be(),dt(!1),Y(!1)},ui=()=>{Qa(!0),localStorage.setItem("celebrationDismissed","true")};Ot.useEffect(()=>{!c&&!d&&(Qa(!1),localStorage.removeItem("celebrationDismissed"))},[d,c]);const Mi=S.useRef(d);Ot.useEffect(()=>{d&&!Mi.current&&!c&&J(),Mi.current=d},[d,c,J]);const Jt=K=>{const Ae=Z.length>0?Z:a;if(Ni(K),Bt(Ae[K].text),Zn(Ae[K].style||{color:"#ffffff",fontSize:"base",bold:!1,italic:!1}),gn(Ae[K].targetCount||1),Ae[K].dueDate){const _t=Ae[K].dueDate,ft=typeof _t.toDate=="function"?_t.toDate():new Date(_t),Ye=ft.getFullYear(),lt=String(ft.getMonth()+1).padStart(2,"0"),Zt=String(ft.getDate()).padStart(2,"0");yi(`${Ye}-${lt}-${Zt}`)}else yi("");$i(!!Ae[K].isFreeSpace),Pe(!0)},Ja=()=>{if(pn===null)return;let K;ei&&(K=new Date(ei+"T12:00:00"));const Ae=[...Z];Ae[pn]={...Ae[pn],text:Di,style:Qt,targetCount:Hn,dueDate:K,isFreeSpace:Pt,isCompleted:Ae[pn].isCompleted||Pt},fe(Ae),A(Ae),Pe(!1),Ni(null)},Oi=Z.length>0?Z:a;if(S.useEffect(()=>{kt!==null&&Oi?.[kt]&&Nn(Oi[kt])},[Oi,kt]),c)return b.jsx("div",{className:"flex h-screen items-center justify-center text-accent-primary animate-pulse",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"w-12 h-12 border-4 border-accent-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),b.jsx("p",{children:"Loading Board..."})]})});const Pi=a.filter(K=>K.isCompleted).length/25*100,cs=K=>{if(!K)return"-";const Ae=K.toDate?K.toDate():new Date(K);return Ae.toLocaleDateString()+" "+Ae.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},Za=K=>{const Ae=Oi[K];vi({index:K,wasCompleted:Ae.isCompleted}),Ae.isCompleted?ve():be(),h(K),He(!0),setTimeout(()=>He(!1),3e3)};return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"min-h-screen bg-transparent text-white p-6 pb-24 relative overflow-x-hidden no-print",children:[b.jsx("input",{type:"file",accept:"image/*",ref:ki,className:"hidden",onChange:async K=>{const Ae=K.target.files?.[0];if(Ae&&kt!==null){try{await M(kt,Ae)}catch(_t){console.error(_t),alert("Failed to add photo")}K.target.value=""}}}),b.jsx(iF,{items:a}),b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsxs("header",{className:"flex justify-between items-center mb-8 py-2",children:[b.jsx(We.img,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},src:"/logo.png",alt:"SunSar Bingo",className:"h-10 sm:h-12 w-auto object-contain cursor-pointer active:scale-95 transition-transform",onClick:Ki}),b.jsxs("div",{className:"flex-1 mx-4 min-w-0",children:[j?b.jsx("input",{type:"text",value:L,onChange:K=>W(K.target.value),onBlur:()=>{L.trim()&&N(L.trim()),T(!1)},onKeyDown:K=>{K.key==="Enter"?(L.trim()&&N(L.trim()),T(!1)):K.key==="Escape"&&T(!1)},autoFocus:!0,className:"bg-transparent border-b-2 border-accent-primary text-white text-lg sm:text-xl font-bold outline-none w-full max-w-[200px]"}):b.jsxs("button",{onClick:()=>{W(re||"My Bingo"),T(!0)},className:"text-white text-lg sm:text-xl font-bold truncate max-w-[200px] hover:text-accent-primary transition-colors flex items-center gap-1 group",title:"Click to edit board name",children:[b.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent truncate",children:re||"My Bingo"}),b.jsx(Uy,{size:14,className:"opacity-0 group-hover:opacity-70 transition-opacity flex-shrink-0"})]}),b.jsxs("p",{className:"text-slate-500 text-xs mt-0.5",children:[ae,"",ae,"  ",a.filter(K=>K.isCompleted&&!K.isFreeSpace).length,"/",a.filter(K=>!K.isFreeSpace).length]})]}),b.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[b.jsx("button",{onClick:tF,className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Download Database Backup",children:b.jsx(_B,{size:20})}),b.jsx("button",{onClick:()=>Ko(!0),className:"p-2.5 text-slate-400 hover:text-accent-gold hover:bg-white/5 rounded-full transition-colors",title:"View Memories",children:b.jsx(pm,{size:20})}),b.jsx("button",{onClick:()=>n("/dashboard"),className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Dashboard",children:b.jsx(MI,{size:20})}),b.jsx("button",{onClick:()=>De(!0),className:"p-2.5 text-slate-400 hover:text-accent-primary hover:bg-white/5 rounded-full transition-colors",title:"Share Board",children:b.jsx(Df,{size:20})}),b.jsx("button",{onClick:()=>{const K=["dawn","midnight","forest","ocean","sunset"],_t=(K.indexOf(V.theme)+1)%K.length;P({theme:K[_t]})},className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:`Theme: ${V.theme} (click to change)`,children:V.theme==="dawn"?b.jsx(HB,{size:20}):b.jsx(RB,{size:20})}),b.jsx("button",{onClick:z,className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Settings",children:b.jsx(PI,{size:20})}),b.jsx("div",{className:"w-px h-6 bg-white/10 mx-1 hidden sm:block"}),b.jsx(We.div,{initial:{scale:0},animate:{scale:1},className:"relative cursor-pointer group",children:b.jsx("img",{src:O?.photoURL||"",alt:"User",className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full border-2 border-white/10 group-hover:border-accent-primary transition-colors object-cover shrink-0"})}),b.jsx("button",{onClick:C,className:"p-2.5 text-slate-400 hover:text-red-400 hover:bg-white/5 rounded-full transition-colors",title:"Logout",children:b.jsx(OI,{size:20})})]})]}),b.jsxs(g7,{sensors:we,collisionDetection:wF,onDragStart:xe,onDragEnd:Se,children:[b.jsx("div",{className:"flex justify-center mb-6",children:b.jsx("div",{className:"w-full max-w-[520px] aspect-square relative",children:b.jsx(U7,{items:Oi.map(K=>K.id),strategy:Ub,children:b.jsx("div",{className:At("grid gap-1.5 sm:gap-2 w-full h-full",ae===3&&"grid-cols-3 grid-rows-3",ae===4&&"grid-cols-4 grid-rows-4",ae===5&&"grid-cols-5 grid-rows-5",ae===6&&"grid-cols-6 grid-rows-6"),style:{perspective:"1000px"},children:Oi.map((K,Ae)=>b.jsx(Q7,{id:K.id,disabled:!G,children:b.jsxs(We.div,{title:K.isCompleted?`Completed by ${K.completedBy||"Someone"} on ${cs(K.completedAt)}`:void 0,layout:!G&&!ge,initial:{opacity:0,scale:.8,rotateX:-90},animate:{opacity:1,scale:1,rotateX:0},transition:{type:"spring",stiffness:260,damping:20,delay:Ae*.03},whileHover:!G&&!ge?{scale:1.05,zIndex:10,boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.3), 0 8px 10px -6px rgb(0 0 0 / 0.3)"}:void 0,whileTap:G?void 0:{scale:.9,rotateX:15},onClick:()=>{if(G){Jt(Ae);return}K.isFreeSpace||(K.isCompleted?K.proofPhotos&&K.proofPhotos.length>0?(Nn(K),vn(Ae),$t(0),In(!0)):Za(Ae):(X(),cn(Ae),Ft(!0)))},className:At("bingo-tile relative flex items-center justify-center p-1 cursor-pointer select-none overflow-hidden w-full h-full",ae===3&&"text-sm sm:text-base",ae===4&&"text-xs sm:text-sm",ae===5&&"text-[11px] sm:text-sm",ae===6&&"text-[9px] sm:text-xs","font-medium leading-tight select-none",K.isCompleted?"completed text-white scale-[1.02] font-semibold":"text-slate-300",K.isFreeSpace&&"bg-gradient-to-br from-green-500/20 to-emerald-600/20 border-green-500/50 text-green-400 font-bold shadow-[0_0_15px_rgba(34,197,94,0.2)]",G&&"border-dashed border-slate-500 opacity-80"),children:[b.jsx("div",{className:"w-full h-full flex items-center justify-center text-center relative z-10",children:b.jsx("div",{className:"w-full h-full flex items-center justify-center p-1",onClick:_t=>{G&&(_t.stopPropagation(),Jt(Ae))},children:b.jsx("span",{className:At("leading-tight break-words w-full",K.isFreeSpace?"text-lg font-bold text-accent-gold":"font-semibold line-clamp-3 sm:line-clamp-4",K.isCompleted&&!K.isFreeSpace&&"text-white"),style:!K.isFreeSpace&&!K.isCompleted?{color:K.style?.color||"#cbd5e1",fontWeight:K.style?.bold?"bold":"600",fontStyle:K.style?.italic?"italic":"normal",fontSize:K.style?.fontSize==="sm"?"12px":K.style?.fontSize==="lg"?"18px":K.style?.fontSize==="xl"?"22px":void 0}:void 0,children:K.text})})}),K.isFreeSpace&&b.jsx("div",{className:"absolute top-1 left-1 z-20",children:b.jsxs("div",{className:"flex gap-[2px] bg-black/60 backdrop-blur-[1px] rounded-full p-[2px] border border-white/10 scale-75 origin-top-left",children:[b.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-900/40"}),b.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-yellow-900/40"}),b.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 shadow-[0_0_6px_#22c55e]"})]})}),K.proofPhotos&&K.proofPhotos.length>0&&b.jsx("div",{className:"absolute top-1 right-1 z-20 text-white drop-shadow-[0_1px_2px_rgba(0,0,0,0.8)]",children:b.jsx(Ly,{size:ae>=5?10:14,className:"opacity-90"})}),K.dueDate&&!K.isCompleted&&!g&&b.jsxs("div",{className:At("flex items-center gap-1 mt-1 text-[10px] font-medium absolute bottom-1 right-1 px-1 rounded bg-black/40 backdrop-blur-sm",(K.dueDate.toDate?K.dueDate.toDate():new Date(K.dueDate))<new Date?"text-red-400":"text-slate-400"),children:[b.jsx(vB,{size:8}),b.jsx("span",{children:(K.dueDate.toDate?K.dueDate.toDate():new Date(K.dueDate)).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),K.isCompleted&&!K.isFreeSpace&&!G&&b.jsxs(b.Fragment,{children:[b.jsx(We.div,{initial:{scale:0},animate:{scale:1},className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-20",children:b.jsx(Ns,{className:"w-12 h-12 text-white"})}),b.jsx("div",{className:"absolute top-0.5 right-0.5 w-1.5 h-1.5 bg-accent-primary rounded-full shadow-[0_0_5px_rgba(139,92,246,0.8)]"}),K.proofPhotos&&K.proofPhotos.length>0&&b.jsxs("div",{className:"absolute bottom-0.5 left-0.5 p-0.5 bg-accent-gold/80 rounded-sm flex items-center gap-0.5",children:[b.jsx(Ly,{className:"w-2.5 h-2.5 text-black"}),K.proofPhotos.length>1&&b.jsx("span",{className:"text-[8px] font-bold text-black",children:K.proofPhotos.length})]})]}),!K.isFreeSpace&&!G&&(K.targetCount||1)>1&&b.jsxs("div",{className:At("absolute bottom-0.5 right-0.5 px-1 py-0.5 rounded text-[8px] font-bold",K.isCompleted?"bg-green-500/80 text-white":(K.currentCount||0)>0?"bg-amber-500/80 text-white":"bg-slate-600/80 text-slate-300"),children:[K.currentCount||0,"/",K.targetCount]})]})},K.id))})})})}),b.jsx(P7,{children:ge?b.jsx("div",{className:At("relative w-full h-full flex flex-col items-center justify-center p-1 sm:p-2 text-center select-none overflow-hidden","bingo-tile bg-white/10 backdrop-blur-md border-2 border-accent-primary shadow-2xl glass-panel"),style:{width:"100px",height:"100px"},children:b.jsx("span",{className:"text-white font-bold text-sm",children:Z.find(K=>K.id===ge)?.text})}):null})]})]}),b.jsx("div",{className:"flex justify-center",children:b.jsxs(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-[520px] glass-panel p-4 flex flex-col gap-4",children:[b.jsxs("div",{className:"w-full",children:[b.jsxs("div",{className:"flex justify-between text-xs text-slate-300 mb-1.5 px-1",children:[b.jsx("span",{className:"font-semibold",children:"Progress"}),b.jsxs("div",{className:"flex gap-3",children:[b.jsxs("span",{className:"font-mono text-accent-gold font-bold",children:[m,"/",ae*2+2," Bingos"]}),b.jsxs("span",{className:"font-mono text-accent-primary",children:[Math.round(Pi),"%"]})]})]}),b.jsx("div",{className:"h-3 bg-bg-dark/50 rounded-full overflow-hidden border border-white/5",children:b.jsx(We.div,{className:"h-full bg-gradient-to-r from-accent-primary to-accent-secondary relative",initial:{width:0},animate:{width:`${Pi}%`},transition:{duration:1,ease:"easeOut"},children:b.jsx("div",{className:"absolute top-0 right-0 bottom-0 w-[1px] bg-white/50 shadow-[0_0_10px_white]"})})})]}),b.jsx("div",{className:"flex justify-center gap-2",children:G?b.jsx(b.Fragment,{children:b.jsxs("div",{className:"flex gap-2 w-full",children:[b.jsx("button",{onClick:()=>Y(!1),className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-white/5 text-slate-300 border border-white/10 hover:bg-white/10 transition-all",children:"Cancel"}),b.jsxs("button",{onClick:()=>{A(Z),Y(!1)},className:"flex-1 py-2.5 px-4 rounded-xl text-sm font-semibold bg-green-500/20 text-green-200 border border-green-500/50 hover:bg-green-500/30 transition-all flex items-center justify-center gap-2",children:[b.jsx(Ns,{size:16}),"Save Changes"]})]})}):b.jsxs("div",{className:"flex gap-2 justify-center w-full flex-wrap",children:[!g&&b.jsxs(b.Fragment,{children:[b.jsxs("button",{onClick:()=>{fe([...a]),Y(!0)},className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[b.jsx(Uy,{size:12}),"Edit Board"]}),b.jsxs("button",{onClick:()=>{ve(),dt(!0)},className:"flex-1 py-2 px-4 text-xs font-bold text-white bg-gradient-to-r from-accent-primary to-accent-secondary hover:shadow-lg hover:shadow-accent-primary/20 transition-all rounded-lg flex items-center justify-center gap-2 min-w-[120px]",children:[b.jsx(wS,{size:14}),"Go Live "]})]}),b.jsxs("button",{onClick:()=>window.print(),className:"flex-1 py-2 px-4 text-xs font-medium text-slate-400 hover:text-white transition-colors flex items-center justify-center gap-2 min-w-[100px]",children:[b.jsx(PB,{size:12}),"Print Status"]})]})})]})}),b.jsx(ar,{children:d&&!Yo&&b.jsx(We.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:b.jsxs(We.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:"glass-panel p-8 text-center max-w-sm w-full relative overflow-hidden border-accent-gold/30",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-accent-gold/10 to-transparent pointer-events-none"}),b.jsx(We.div,{animate:{rotate:[0,10,-10,0]},transition:{repeat:1/0,duration:2},className:"inline-block",children:b.jsx(vS,{className:"w-20 h-20 text-accent-gold mx-auto mb-4 drop-shadow-[0_0_15px_rgba(251,191,36,0.5)]"})}),b.jsx("h2",{className:"text-4xl font-heading font-bold text-transparent bg-clip-text bg-gradient-to-r from-accent-gold via-white to-accent-secondary mb-2",children:"BINGO!"}),b.jsx("p",{className:"text-slate-300 mb-8 leading-relaxed",children:"2026 is off to an amazing start!"}),b.jsx("button",{onClick:ui,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-[0_0_20px_rgba(139,92,246,0.4)] transition-all transform hover:scale-105",children:"Keep Playing"})]})})}),b.jsx(ar,{children:Ue&&b.jsx(We.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:()=>Pe(!1),children:b.jsxs(We.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-bg-dark border border-accent-gold/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl relative overflow-hidden",onClick:K=>K.stopPropagation(),children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Edit Tile"}),b.jsx("div",{className:"mb-4 flex justify-center",children:b.jsx("div",{className:"w-32 h-32 rounded-lg bg-bg-card/80 border border-white/10 flex items-center justify-center p-2 text-center overflow-hidden",children:b.jsx("span",{className:At("font-hand font-semibold leading-tight break-words"),style:{color:Qt.color||"#ffffff",fontWeight:Qt.bold?"bold":"600",fontStyle:Qt.italic?"italic":"normal",fontSize:Qt.fontSize==="sm"?"12px":Qt.fontSize==="lg"?"18px":Qt.fontSize==="xl"?"22px":"16px"},children:Di||"Preview Text"})})}),b.jsxs("div",{className:"mb-4",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-3 bg-white/5 p-3 rounded-xl border border-white/5",children:[b.jsxs("label",{className:"flex items-center gap-2 cursor-pointer flex-1",children:[b.jsx("input",{type:"checkbox",checked:Pt,onChange:K=>{const Ae=K.target.checked;$i(Ae),Ae&&Bt("FREE!")},className:"w-4 h-4 rounded border-gray-500 bg-black/50 text-accent-primary focus:ring-accent-primary"}),b.jsx("span",{className:At("text-sm font-bold transition-colors",Pt?"text-accent-primary":"text-slate-300"),children:"Flag as FREE Space "})]}),Pt&&b.jsxs("div",{className:"flex gap-1 bg-black/80 rounded-full p-1 px-1.5 border border-white/20",children:[b.jsx("div",{className:"w-2 h-2 rounded-full bg-red-900/30"}),b.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-900/30"}),b.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 shadow-[0_0_8px_#22c55e]"})]})]}),b.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Text Content"}),b.jsx("textarea",{className:At("w-full bg-black/20 text-white rounded-lg p-3 border border-white/10 focus:border-accent-primary outline-none min-h-[80px]",Pt&&"opacity-50 cursor-not-allowed"),disabled:Pt,value:Di,onChange:K=>Bt(K.target.value),placeholder:"Enter bingo task..."})]}),b.jsxs("div",{className:At("transition-opacity duration-300",Pt&&"opacity-30 pointer-events-none"),children:[b.jsxs("div",{className:"mb-6 space-y-3",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Color"}),b.jsx("div",{className:"flex gap-2 flex-wrap",children:["#ffffff","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#ec4899","#a855f7"].map(K=>b.jsx("button",{className:At("w-6 h-6 rounded-full border border-white/10 transition-transform active:scale-90",Qt.color===K&&"ring-2 ring-white scale-110"),style:{backgroundColor:K},onClick:()=>Zn(Ae=>({...Ae,color:K}))},K))})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Size"}),b.jsx("div",{className:"flex bg-black/20 rounded-lg p-1",children:["sm","base","lg","xl"].map(K=>b.jsx("button",{onClick:()=>Zn(Ae=>({...Ae,fontSize:K})),className:At("flex-1 py-1 text-[10px] font-bold rounded transition-colors uppercase",(Qt.fontSize||"base")===K?"bg-accent-primary text-white":"text-slate-400 hover:text-white"),children:K==="base"?"M":K},K))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Style"}),b.jsxs("div",{className:"flex gap-1 bg-black/20 rounded-lg p-1",children:[b.jsx("button",{onClick:()=>Zn(K=>({...K,bold:!K.bold})),className:At("w-8 h-full rounded flex items-center justify-center font-bold transition-colors",Qt.bold?"bg-white text-black":"text-slate-400 hover:text-white"),children:"B"}),b.jsx("button",{onClick:()=>Zn(K=>({...K,italic:!K.italic})),className:At("w-8 h-full rounded flex items-center justify-center italic transition-colors font-serif",Qt.italic?"bg-white text-black":"text-slate-400 hover:text-white"),children:"I"})]})]})]})]}),b.jsxs("div",{className:"space-y-4 mb-6 pt-4 border-t border-white/10",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Repeat Goal"}),b.jsx("input",{type:"number",min:"1",max:"100",value:Hn,onChange:K=>gn(parseInt(K.target.value)||1),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors"}),b.jsx("p",{className:"text-xs text-slate-500",children:"How many times should this be completed?"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Due Date (Optional)"}),b.jsx("input",{type:"date",value:ei,onChange:K=>yi(K.target.value),className:"w-full bg-slate-950/50 border border-white/10 rounded-xl p-3 text-white placeholder-slate-500 focus:outline-none focus:border-accent-primary/50 transition-colors [color-scheme:dark]"})]})]})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:()=>Pe(!1),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Cancel"}),b.jsx("button",{onClick:Ja,className:"flex-1 py-3 px-4 bg-gradient-to-r from-violet-600 to-fuchsia-600 rounded-xl font-bold text-white shadow-lg hover:shadow-violet-500/25 active:scale-95 transition-all",children:"Ok"})]})]})})}),b.jsx(ar,{children:Ln&&gt!==null&&b.jsx(We.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>{Ft(!1),cn(null)},children:b.jsx(We.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-bg-dark border border-accent-primary/30 p-6 rounded-2xl w-full max-w-sm shadow-2xl max-h-[90vh] overflow-y-auto no-scrollbar",onClick:K=>K.stopPropagation(),children:(()=>{const K=Oi[gt],Ae=K?.targetCount||1,_t=K?.currentCount||0,ft=Ae>1,Ye=_t>0;return b.jsxs(b.Fragment,{children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2 text-center",children:K.isCompleted?"Tile Details":Ye?"Add Progress":"Complete Task"}),b.jsxs("p",{className:"text-slate-300 text-sm text-center mb-4 line-clamp-3 italic",children:["",K?.text,""]}),ft&&b.jsx("div",{className:"text-center mb-4",children:b.jsxs("span",{className:At("inline-block px-3 py-1 rounded-full text-sm font-bold",Ye?"bg-amber-500/20 text-amber-400":"bg-slate-600/50 text-slate-400"),children:["Progress: ",_t," / ",Ae]})}),K.proofPhotos&&K.proofPhotos.length>0&&b.jsxs("div",{className:"mb-6 bg-black/20 p-3 rounded-xl border border-white/5",children:[b.jsx("label",{className:"text-xs text-slate-400 mb-2 block font-semibold uppercase tracking-wider",children:"Attached Photos"}),b.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:K.proofPhotos.map((lt,Zt)=>b.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0 group rounded-lg overflow-hidden border border-white/10 touch-none select-none",onContextMenu:Kt=>Kt.preventDefault(),onTouchStart:Kt=>{const Qe=Kt.currentTarget,us=setTimeout(()=>{navigator.vibrate&&navigator.vibrate(50),window.confirm("Delete this photo?")&&B(gt,Zt)},800);Qe.dataset.timer=String(us)},onTouchEnd:Kt=>{const Qe=Number(Kt.currentTarget.dataset.timer);Qe&&clearTimeout(Qe),Kt.currentTarget.dataset.timer=""},onTouchMove:Kt=>{const Qe=Number(Kt.currentTarget.dataset.timer);Qe&&clearTimeout(Qe),Kt.currentTarget.dataset.timer=""},children:[b.jsx("img",{src:lt,alt:"",className:"w-full h-full object-cover pointer-events-none"}),b.jsx("button",{onClick:async Kt=>{Kt.stopPropagation(),window.confirm("Delete this photo?")&&await B(gt,Zt)},className:"absolute top-1 right-1 bg-red-500/90 p-1.5 rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600 shadow-md",children:b.jsx(kf,{size:12})})]},Zt))})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("input",{type:"file",accept:"image/*",ref:yn,className:"hidden",onChange:async lt=>{const Zt=lt.target.files?.[0];if(Zt&&gt!==null){Rn(!0);try{Cn==="complete"?await k(gt,Zt):await M(gt,Zt),Ft(!1),cn(null)}catch{alert("Failed to upload photo.")}finally{Rn(!1),lt.target.value=""}}}}),b.jsxs("button",{onClick:()=>{rn("add"),setTimeout(()=>yn.current?.click(),0)},disabled:Tt,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-blue-500/25 active:scale-95 transition-all disabled:opacity-50",children:[b.jsx(Ly,{size:20}),Tt&&Cn==="add"?"Uploading...":"Add Photo (Keep Status)"]}),!K.isCompleted&&b.jsxs("button",{onClick:()=>{rn("complete"),setTimeout(()=>yn.current?.click(),0)},disabled:Tt,className:"w-full py-3 px-4 bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:shadow-amber-500/25 active:scale-95 transition-all disabled:opacity-50",children:[b.jsx(Ns,{size:20}),Tt&&Cn==="complete"?"Uploading...":ft?"Add Photo & +1":"Add Photo & Complete"]}),b.jsxs("button",{onClick:()=>{h(gt),Ft(!1),cn(null)},disabled:Tt,className:At("w-full py-3 px-4 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 active:scale-95 transition-all disabled:opacity-50",K.isCompleted?"bg-slate-700 hover:bg-slate-600":"bg-gradient-to-r from-green-600 to-emerald-600 hover:shadow-green-500/25"),children:[K.isCompleted?b.jsx(Wr,{size:20}):b.jsx(Ns,{size:20}),K.isCompleted?"Mark Incomplete":ft?`Mark +1 (${_t+1}/${Ae})`:"Mark Complete"]}),Ye&&!K.isCompleted&&b.jsxs("button",{onClick:()=>{H(gt),Ft(!1),cn(null)},disabled:Tt,className:"w-full py-2 rounded-xl font-semibold text-red-400 hover:bg-red-500/10 transition-colors disabled:opacity-50",children:["Remove Progress (",_t-1,"/",Ae,")"]}),b.jsx("button",{onClick:()=>{Ft(!1),cn(null)},disabled:Tt,className:"w-full py-3 rounded-xl font-semibold bg-white/5 text-slate-400 hover:bg-white/10 transition-colors disabled:opacity-50",children:"Cancel"})]})]})})()})})}),b.jsx(ar,{children:Gn&&yt&&yt.proofPhotos&&yt.proofPhotos.length>0&&b.jsx(We.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",onClick:()=>{In(!1),Nn(null),vn(null)},children:b.jsxs(We.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"relative max-w-lg w-full",onClick:K=>K.stopPropagation(),children:[b.jsx("button",{onClick:()=>{In(!1),Nn(null),vn(null)},className:"absolute -top-12 right-0 p-2 text-white/70 hover:text-white transition-colors z-10",children:b.jsx(Wr,{size:28})}),b.jsxs("div",{className:"rounded-2xl overflow-hidden border border-white/10 shadow-2xl",children:[b.jsxs("div",{className:"relative bg-black",children:[b.jsx("img",{src:yt.proofPhotos[Lt],alt:`Proof photo ${Lt+1}`,className:"w-full h-auto max-h-[50vh] object-contain"}),yt.proofPhotos.length>1&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>$t(K=>K>0?K-1:yt.proofPhotos.length-1),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:b.jsx(NI,{size:24})}),b.jsx("button",{onClick:()=>$t(K=>K<yt.proofPhotos.length-1?K+1:0),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white/80 hover:text-white hover:bg-black/70 transition-all",children:b.jsx(DI,{size:24})})]}),b.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/60 rounded-full text-white text-xs font-medium",children:[Lt+1," / ",yt.proofPhotos.length]})]}),yt.proofPhotos.length>1&&b.jsx("div",{className:"flex gap-1 p-2 bg-bg-dark/80 overflow-x-auto",children:yt.proofPhotos.map((K,Ae)=>b.jsx("button",{onClick:()=>$t(Ae),className:At("w-12 h-12 rounded-md overflow-hidden border-2 flex-shrink-0 transition-all",Lt===Ae?"border-accent-primary":"border-transparent opacity-60 hover:opacity-100"),children:b.jsx("img",{src:K,alt:"",className:"w-full h-full object-cover"})},Ae))}),b.jsxs("div",{className:"p-4 bg-bg-dark/95",children:[b.jsx("p",{className:"text-white font-semibold mb-1",children:yt.text}),b.jsxs("p",{className:"text-slate-400 text-xs mb-4",children:["Completed by ",yt.completedBy,"  ",cs(yt.completedAt)]}),b.jsx("div",{className:"flex gap-2 justify-center pb-1",children:["","","","","",""].map(K=>b.jsx("button",{onClick:()=>{kt!==null&&(I(kt,K),ve())},className:"text-2xl hover:scale-125 transition-transform p-2 rounded-full hover:bg-white/10 active:scale-95",title:"React",children:K},K))})]})]}),b.jsxs("div",{className:"mt-4 flex gap-3 justify-center",children:[b.jsxs("button",{onClick:async()=>{window.confirm("Delete this photo?")&&(await B(kt,Lt),yt?.proofPhotos?.length===1?In(!1):$t(0))},className:"flex-1 py-3 bg-red-500/10 text-red-400 rounded-xl font-semibold hover:bg-red-500/20 flex items-center justify-center gap-2",children:[b.jsx(kf,{size:20}),"Delete Photo"]}),b.jsxs("button",{onClick:()=>ki.current?.click(),className:"flex-1 py-3 bg-white/10 text-white rounded-xl font-semibold hover:bg-white/20 flex items-center justify-center gap-2",children:[b.jsx(nh,{size:20}),"Add Photo"]})]}),b.jsx("button",{onClick:()=>{const K=a.findIndex(Ae=>Ae.id===yt.id);K!==-1&&h(K),In(!1),Nn(null),vn(null)},className:"mt-2 w-full py-2 text-sm text-red-400 hover:text-red-300 transition-colors",children:"Mark as In Progress"})]})})}),b.jsx(ar,{children:pr&&Vr&&b.jsxs(We.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-24 left-1/2 -translate-x-1/2 bg-slate-900 border border-white/20 text-white px-6 py-3 rounded-full shadow-2xl z-50 flex items-center gap-4",children:[b.jsxs("span",{children:["Marked as ",Vr.wasCompleted?"incomplete":"complete"]}),b.jsx("button",{onClick:()=>{h(Vr.index),He(!1)},className:"font-bold text-accent-primary hover:text-white transition-colors",children:"Undo"}),b.jsx("button",{onClick:()=>He(!1),className:"text-slate-400 hover:text-white",children:b.jsx(Wr,{size:16})})]})}),b.jsx(ar,{children:jn&&b.jsx(We.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",children:b.jsxs(We.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-slate-900 border border-white/20 rounded-3xl p-8 max-w-sm w-full shadow-2xl relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-20 pointer-events-none",children:b.jsx(vS,{className:"w-32 h-32 text-accent-gold rotate-12"})}),b.jsxs("div",{className:"relative z-10 text-center",children:[b.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Welcome! "}),b.jsxs("p",{className:"text-slate-400 mb-8 h-12",children:[ti===0&&"Tap any tile to mark it as complete.",ti===1&&"Start 'Edit Mode' to add your own tasks.",ti===2&&"Invite friends to play together!"]}),b.jsx("div",{className:"flex justify-center mb-8",children:b.jsx("div",{className:"w-32 h-32 bg-black/40 rounded-2xl border border-white/10 flex items-center justify-center relative",children:b.jsxs(ar,{mode:"wait",children:[ti===0&&b.jsxs(We.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute inset-0 flex items-center justify-center",children:[b.jsx("div",{className:"w-16 h-16 bg-accent-primary/20 rounded-lg border border-accent-primary flex items-center justify-center",children:b.jsx(Ns,{className:"w-8 h-8 text-white"})}),b.jsx(We.div,{animate:{scale:[1,1.2,1],opacity:[0,1,0]},transition:{repeat:1/0,duration:1.5},className:"absolute w-20 h-20 rounded-full border-2 border-white/50"})]},"step0"),ti===1&&b.jsx(We.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:b.jsx(Uy,{className:"w-12 h-12 text-blue-400"})},"step1"),ti===2&&b.jsx(We.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:b.jsx(Df,{className:"w-12 h-12 text-green-400"})},"step2")]})})}),b.jsx("div",{className:"flex gap-2 justify-center mb-6",children:[0,1,2].map(K=>b.jsx("div",{className:At("w-2 h-2 rounded-full transition-colors",K===ti?"bg-white":"bg-white/20")},K))}),b.jsx("button",{onClick:sn,className:"w-full py-3 bg-white text-black font-bold rounded-xl hover:bg-slate-200 transition-colors",children:ti===2?"Let's Play!":"Next"})]})]})})})]}),b.jsxs("div",{className:"only-print hidden",children:[b.jsxs("div",{className:"flex justify-between items-end mb-4 border-b-2 border-black pb-2",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("img",{src:"/logo.png",className:"h-12 w-auto",alt:"Logo"}),b.jsx("h1",{className:"text-2xl font-bold",children:re||"2026 Edition"})]}),b.jsxs("div",{className:"text-right",children:[b.jsxs("p",{className:"text-xs uppercase tracking-widest mb-0.5",children:["Status Report (",ae,"",ae,")"]}),b.jsxs("p",{className:"text-xl font-bold",children:[m," / ",ae*2+2," Bingos"]})]})]}),b.jsx("div",{className:`grid gap-0 border-2 border-black ${ae===3?"grid-cols-3":ae===4?"grid-cols-4":ae===5?"grid-cols-5":"grid-cols-6"}`,children:a.map(K=>b.jsxs("div",{className:"aspect-square border border-black p-1.5 flex flex-col justify-between relative overflow-hidden min-h-[80px]",children:[b.jsx("div",{className:`font-bold leading-tight z-10 ${ae>=5?"text-[10px]":"text-[11px]"}`,children:K.text}),K.isCompleted&&!K.isFreeSpace&&b.jsxs("div",{className:"mt-0.5 relative z-10",children:[b.jsx("div",{className:"text-[7px] uppercase font-bold text-slate-700",children:"Completed by:"}),b.jsx("div",{className:"text-[9px] font-mono font-bold leading-none",children:K.completedBy||"User"}),b.jsx("div",{className:"text-[7px] text-slate-600 mt-0.5",children:cs(K.completedAt)})]}),K.isCompleted&&b.jsx("div",{className:"absolute bottom-1 right-1 text-3xl font-bold text-slate-200 opacity-60 pointer-events-none z-0",children:""}),K.isFreeSpace&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center font-bold text-xl rotate-[-45deg] opacity-20",children:"FREE"})]},K.id))}),b.jsxs("div",{className:"mt-4 text-[9px] text-center border-t border-black pt-2 flex justify-between text-slate-500",children:[b.jsxs("span",{children:["Generated on ",new Date().toLocaleDateString()," at ",new Date().toLocaleTimeString()]}),b.jsx("span",{children:"bingo.mysunsar.com"})]})]}),b.jsx(nF,{items:a,isOpen:Hs,onClose:()=>Ko(!1)}),at&&b.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[b.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>De(!1)}),b.jsxs("div",{className:"relative w-full max-w-md bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[b.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[b.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[b.jsx(Df,{className:"w-5 h-5 text-accent-primary"}),"Shared With"]}),b.jsx("button",{onClick:()=>De(!1),className:"text-slate-400 hover:text-white",children:b.jsx(Wr,{className:"w-5 h-5"})})]}),b.jsxs("div",{className:"p-6",children:[ot.length===0?b.jsx("div",{className:"text-center text-slate-400 py-8",children:b.jsx("p",{children:"This board hasn't been shared yet."})}):b.jsx("div",{className:"space-y-4 mb-6",children:ot.map(K=>b.jsxs("div",{className:"flex items-center justify-between bg-white/5 p-3 rounded-xl border border-white/5",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold text-white",children:K.name.charAt(0)}),b.jsxs("div",{children:[b.jsx("div",{className:"text-sm font-semibold text-white",children:K.name}),b.jsxs("div",{className:"text-xs text-slate-400",children:[K.email,"  ",K.role]})]})]}),b.jsx("button",{onClick:()=>Vt(K.id,K.name),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Remove User",children:b.jsx(kf,{size:16})})]},K.id))}),b.jsxs("button",{onClick:jt,className:"w-full py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all flex items-center justify-center gap-2",children:[b.jsx(nh,{size:18}),"Invite New User"]})]})]})]}),xt&&b.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[b.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>dt(!1)}),b.jsxs("div",{className:"relative w-full max-w-sm bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[b.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center bg-gradient-to-r from-accent-primary/10 to-accent-secondary/10",children:[b.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[b.jsx(wS,{className:"w-5 h-5 text-accent-primary"}),"Ready to Go Live?"]}),b.jsx("button",{onClick:()=>dt(!1),className:"text-slate-400 hover:text-white",children:b.jsx(Wr,{className:"w-5 h-5"})})]}),b.jsxs("div",{className:"p-6",children:[b.jsxs("p",{className:"text-slate-300 mb-6 leading-relaxed",children:["Going live will ",b.jsx("strong",{children:"lock the board"})," for play mode. You won't be able to edit items easily anymore."]}),b.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 mb-6 cursor-pointer hover:bg-white/10 transition-colors",onClick:()=>mn(!zt),children:b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx("div",{className:`mt-1 w-5 h-5 rounded border flex items-center justify-center transition-colors ${zt?"bg-accent-primary border-accent-primary":"border-slate-500"}`,children:zt&&b.jsx(Ns,{size:14,className:"text-white"})}),b.jsxs("div",{children:[b.jsx("div",{className:"font-semibold text-white",children:"Shuffle Items?"}),b.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Randomize the grid arrangement one last time before locking."})]})]})}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:()=>dt(!1),className:"flex-1 py-3 bg-slate-800 text-slate-300 font-bold rounded-xl hover:bg-slate-700 transition-colors",children:"Cancel"}),b.jsxs("button",{onClick:_i,className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary text-white font-bold rounded-xl hover:shadow-lg hover:shadow-accent-primary/20 transition-all flex items-center justify-center gap-2",children:[b.jsx(TB,{size:16}),"Lock & Play"]})]})]})]})]})]})},Ao=({className:t,...e})=>b.jsx("div",{className:At("skeleton-glass",t),...e}),J7=()=>{const{user:t,logout:e}=mc(),n=jI(),{openSettings:r}=Nh(),a=oh(),[l,c]=S.useState([]),[h,d]=S.useState(!0),[m,g]=S.useState(!1),[v,w]=S.useState(null),[A,k]=S.useState(5),[M,I]=S.useState(null),[B,H]=S.useState(""),q=(V,P)=>{V.preventDefault(),V.stopPropagation(),I(P.id),H(P.title)},le=async V=>{if(V.preventDefault(),V.stopPropagation(),!!M){try{await ri(Rr(ai,"boards",M),{title:B}),c(P=>P.map(ve=>ve.id===M?{...ve,title:B}:ve))}catch(P){console.error("Error updating title:",P)}I(null)}},re=V=>{V.preventDefault(),V.stopPropagation(),I(null)},ae=V=>{V.key==="Enter"?le(V):V.key==="Escape"?(V.stopPropagation(),I(null)):V.stopPropagation()},N=[{size:3,label:"33",description:"Quick (9 tiles)",icon:""},{size:4,label:"44",description:"Compact (16 tiles)",icon:""},{size:5,label:"55",description:"Classic (25 tiles)",icon:""},{size:6,label:"66",description:"Extended (36 tiles)",icon:""}],C={blank:{name:"Blank Canvas ",items:[]},default:{name:"2026 Goals ",items:["Travel to a new country","Host a dinner party","Read 12 books","Go camping","Try a new hobby","Exercise 3x/week for a month","Save a specific amount","Visit a museum","Date night at a fancy place","Cook a complex meal","Walk 10k steps for a week","Watch all Oscar nominees","FREE SPACE","Volunteer somewhere","Learn a new skill","No takeout for a month","Go to a concert","Plant a garden","Digital detox weekend","Write a journal","Call parents weekly","Take a spontaneous trip","Learn a new recipe","Do a puzzle","Visit a national park"]},fitness:{name:"Fitness Challenge ",items:["Run a 5k","Do 50 pushups in a row","Try a yoga class","Drink 3L water for a week","No sugar for 7 days","Go for a hike","Meal prep for a week","Climb a bouldering wall","Try Pilates","Walk 15k steps in a day","Do a spin class","Bike 20km","FREE SPACE","Touch your toes","Hold a plank for 2 min","Try CrossFit","Go swimming","Meditate for 10 mins x 7","Try a new sport","Sleep 8 hours x 5 days","Do 100 squats","Run a 10k","Go to the gym 4x in a week","Stretch daily for a week","Join a run club"]},couples:{name:"Couple Goals ",items:["Date night (no phones)","Cook a meal together","Weekend getaway","Watch a whole series","Breakfast in bed","Go for a long walk","Plan a future trip","Give each other massages","Recreate first date","Take a dance class","Stargazing date","Write love letters","FREE SPACE","Visit a winery/brewery","Do a puzzle together","Double date","Sunset picnic","Bake something sweet","Volunteer together","Learn a couple's skill","Game night","Make a photo album","Try a new restaurant","Surprise gift","Kiss in the rain"]},personal:{name:"Personal Growth ",items:["Read 1 book/month","Learn a new language","Start a journal","Digital detox (24h)","Meditate daily (1 week)","Drink 2L water daily","Wake up at 6am (1 week)","Declutter a room","Learn to invest","Take a solo trip","Volunteer","Compliment a stranger","FREE SPACE","No social media (weekend)","Learn an instrument","Cook a new cuisine","Write a gratitude list","Take a cold shower","Listen to a podcast","Fix sleep schedule","Walk 10k steps","Call an old friend","Create a vision board","Save 10% income","Take a course"]},knitting:{name:"Knitting Goals ",items:["Finish a WIP","Cast on a sweater","Learn brioche","Knit socks","Stash bust project","Try colorwork","Knit a hat","Use luxury yarn","Fix a mistake","Knit a gift","Block a project","Organize needles","FREE SPACE","Try a new fiber","Knit in public","Attend a knit night","Learn magic loop","Design a pattern","Teach someone to knit","Finish a blanket","Knit a shawl","Try cables","Buy souvenir yarn","Weave in ends immediately","Knit a gauge swatch"]},weaving:{name:"Weaving Goals ",items:["Warp the loom","Weave a rug","Try a new structure","Sample a pattern","Use handspun yarn","Finish a scarf","Hemstitching","Fix a broken warp","Weave a towel","Try tapestry","Mix fibers","Organize yarn stash","FREE SPACE","Weave a placemat","Attend a workshop","Try doublewidth","Weave transparency","Calculate warp correctly","Finish raw edges","Weave with rags","Try tablet weaving","Rigid heddle project","Floor loom project","Visit a mill","Share a project online"]},spinning:{name:"Spinning Goals ",items:["Spin 100g fiber","Ply a yarn","Try a new breed","Spin lace weight","Spin art yarn","Comb fleece","Card a batt","Spin on a drop spindle","Clean the wheel","Spin distinct colors","Skein and wash","Fractal spin","FREE SPACE","Spin silk","Spin cotton","Navajo ply","Spin for a project","Participate in Tour de Fleece","Sample a blend","Teach spinning","Spin consistent grist","Dye fiber","Blend colors on hackle","Spin exotic fiber","Fill a bobbin"]},painting:{name:"Painting Goals ",items:["Paint a landscape","Try watercolors","Paint a portrait","Mix a new color","Paint en plein air","Visit a gallery","Finish a sketchbook","Try oils","Paint a still life","Use a palette knife","Paint an animal","Try abstract","FREE SPACE","Clean brushes properly","Paint on canvas","Paint on wood","Follow a tutorial","Paint a sky","Try gouache","Varnish a painting","Frame a piece","Paint daily for a week","Recreate a master","Paint a self-portrait","Host a paint night"]},corporate:{name:"Corporate Bingo ",items:['"Circle back"',`"Let's take this offline"`,"Meeting that could be an email",'"Synergy"','"Low hanging fruit"','"Touch base"',"Someone forgets to mute","Screen share fails",'"Can you see my screen?"',"Awkward silence",'"Bandwidth"','"Deep dive"',"FREE SPACE","Pet interrupts video call","Echo on the line",'"Per my last email"','"Drill down"','"Out of pocket"','"Hard stop"','"Boil the ocean"',"Reply All disaster",'"Move the needle"','"Blue sky thinking"','"Paradigm shift"','"Quick win"']},travel:{name:"Travel Bucket List ",items:["Visit a new continent","Go on a solo trip","See the Northern Lights","Swim in an ocean","Road trip across 3 states","Fly First Class","Visit a National Park","Eat street food","Stay in a hostel","Learn 'Hello' in 5 languages","Visit a Wonder of the World","Go on a cruise","FREE SPACE","Make a travel vlog","Sleep under the stars","Visit a castle","Ride a train","See a volcano","Go scuba diving","Watch a sunrise on a mountain","Visit a winery","Ride a camel/elephant","Go skiing/snowboarding","Visit a tropical island","Send a postcard"]}};S.useEffect(()=>{if(!t)return;(async()=>{try{console.log("Fetching boards for user:",t.uid,t.email);const P=new Map;try{const Y=im(ko(ai,"boards"),rm(`members.${t.uid}`,"in",["owner","editor","viewer"])),j=await Yl(Y);console.log("Boards with membership found:",j.docs.length),j.docs.forEach(T=>{const L=T.data(),W=L.members?.[t.uid],Z=L.members||{},fe=Object.values(Z).filter(ge=>ge!=="owner").length;P.set(T.id,{id:T.id,...L,sharedCount:fe,myRole:W,members:Z})})}catch(Y){console.error("Error querying boards by membership:",Y)}try{const Y=im(ko(ai,"years"),rm("ownerId","==",t.uid)),j=await Yl(Y);console.log("Legacy boards (years collection) found:",j.docs.length),j.docs.forEach(T=>{const L=T.data();P.set(`legacy_${T.id}`,{id:T.id,title:L.title||"2026 Bingo",createdAt:L.createdAt,isLocked:L.isLocked,ownerId:L.ownerId,myRole:"owner",members:{}})})}catch(Y){console.log("Years collection query failed:",Y)}try{const Y=await Yl(ko(ai,"years"));console.log("All years docs:",Y.docs.length),Y.docs.forEach(j=>{const T=j.data();if(T.ownerId===t.uid||T.members?.[t.uid]){const L=`legacy_years_${j.id}`;P.has(L)||P.set(L,{id:j.id,title:T.title||`${j.id} Bingo`,createdAt:T.createdAt,isLocked:T.isLocked,ownerId:T.ownerId,myRole:T.ownerId===t.uid?"owner":T.members?.[t.uid]||"viewer",members:T.members||{}})}})}catch(Y){console.log("Direct years fetch failed:",Y)}const ve=Array.from(P.values()),be=new Set;ve.forEach(Y=>{Y.myRole!=="owner"&&(Y.ownerId&&Y.ownerId!==t.uid&&be.add(Y.ownerId),Y.members&&Object.entries(Y.members).forEach(([j,T])=>{T==="owner"&&j!==t.uid&&be.add(j)}))});const J=Array.from(be),X={};for(const Y of J)try{const j=await Eh(Rr(ai,"users",Y));if(j.exists()){const T=j.data();X[Y]=T.displayName||T.email||"Unknown"}}catch{console.log("Could not fetch owner info for:",Y)}const G=ve.map(Y=>{let j=Y.ownerId;if(Y.members){const T=Object.keys(Y.members).find(L=>Y.members[L]==="owner"&&L!==t.uid);T&&(j=T)}return Y.myRole!=="owner"&&j&&X[j]?{...Y,ownerName:X[j]}:Y});console.log("Total boards to display:",G.length,G.map(Y=>Y.title)),c(G)}catch(P){console.error("Error fetching boards:",P)}finally{d(!1)}})()},[t]);const O=async V=>{if(!t)return;const P=C[V],ve=A,be=ve*ve,J=ve%2===1?Math.floor(be/2):-1,X=ve%2===1?be-1:be,G=await n.prompt("What would you like to call this board?",{title:"Board Title",inputDefaultValue:P.name,confirmText:"Create"});if(G)try{const Y=P.items.filter(Z=>Z.trim().toUpperCase()!=="FREE SPACE"&&Z!=="FREE SPACE"),j=[...Y].sort(()=>.5-Math.random());for(;j.length<X;)j.push(Y[j.length%Y.length]||`Goal ${j.length+1}`);const T=[];let L=0;for(let Z=0;Z<be;Z++)Z===J&&ve%2===1?T.push({id:Z,text:"FREE ",isCompleted:!0,isFreeSpace:!0,completedBy:"System"}):(T.push({id:Z,text:j[L],isCompleted:!1,isFreeSpace:!1,targetCount:1,currentCount:0}),L++);const W=await L2(ko(ai,"boards"),{title:G,gridSize:ve,ownerId:t.uid,members:{[t.uid]:"owner"},items:T,createdAt:Be.now(),isLocked:!1,lastUpdated:Be.now()});a(`/board/${W.id}`)}catch(Y){console.error("Error creating board:",Y),await n.alert("Failed to create board. Please try again.",{title:"Error",type:"error"})}finally{g(!1),w(null),k(5)}};if(h)return b.jsx("div",{className:"min-h-screen bg-transparent p-6 relative",children:b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsxs("header",{className:"flex justify-between items-center mb-12 py-2",children:[b.jsx(Ao,{className:"h-10 w-32 md:w-40"}),b.jsxs("div",{className:"flex gap-2 items-center",children:[b.jsx(Ao,{className:"w-10 h-10 rounded-full"}),b.jsx(Ao,{className:"w-10 h-10 rounded-full"}),b.jsx(Ao,{className:"w-20 h-10 rounded-xl"})]})]}),b.jsxs("div",{className:"mb-10",children:[b.jsx(Ao,{className:"h-12 w-64 mb-3 rounded-lg"}),b.jsx(Ao,{className:"h-6 w-48 rounded-md"})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((V,P)=>b.jsx(Ao,{className:"h-48 rounded-2xl"},P))})]})});const U=async(V,P,ve)=>{if(V.stopPropagation(),await n.confirm(`This will permanently delete "${ve}" and all its data.

This action cannot be undone.`,{title:"Delete Board?",confirmText:"Delete",type:"error"}))try{await j2(Rr(ai,"boards",P)),c(J=>J.filter(X=>X.id!==P)),await n.alert("Board deleted successfully.",{title:"Deleted",type:"success"})}catch(J){console.error("Error deleting board:",J),await n.alert("Failed to delete board. Please try again.",{title:"Error",type:"error"})}},z=async(V,P,ve)=>{if(V.stopPropagation(),!t)return;if(await n.confirm(`You will no longer have access to "${ve}".

You can ask the owner to re-share it if needed.`,{title:"Leave Board?",confirmText:"Leave",type:"warning"}))try{await ri(Rr(ai,"boards",P),{[`members.${t.uid}`]:nm()}),c(J=>J.filter(X=>X.id!==P)),await n.alert("You have left the board.",{title:"Left Board",type:"success"})}catch(J){console.error("Error leaving board:",J),await n.alert("Failed to leave board. Please try again.",{title:"Error",type:"error"})}};return b.jsxs("div",{className:"min-h-screen bg-transparent text-white p-6 relative",children:[b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsxs("header",{className:"flex justify-between items-center mb-12 py-2",children:[b.jsx("img",{src:"/logo.png",alt:"SunSar Bingo",className:"h-10 sm:h-12 w-auto object-contain cursor-pointer active:scale-95 transition-transform"}),b.jsxs("div",{className:"flex gap-2 items-center",children:[b.jsx("button",{onClick:()=>a("/help"),className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Help Guide",children:b.jsx(kI,{size:20})}),b.jsx("button",{onClick:r,className:"p-2.5 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-colors",title:"Settings",children:b.jsx(PI,{size:20})}),b.jsx("button",{onClick:e,className:"bg-white/5 hover:bg-white/10 px-4 py-2 rounded-xl text-sm font-semibold transition-colors border border-white/10 hover:border-white/20",children:"Logout"})]})]}),b.jsxs("div",{className:"mb-10",children:[b.jsxs("h1",{className:"text-4xl sm:text-5xl font-extrabold text-white tracking-tight",children:["My ",b.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent italic",children:"Boards"})]}),b.jsxs("p",{className:"text-slate-400 mt-2 text-base sm:text-lg",children:["Welcome back, ",b.jsx("span",{className:"text-accent-primary font-medium",children:t?.displayName?.split(" ")[0]||"Bingo Player"})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[b.jsxs("button",{onClick:()=>g(!0),className:"create-card group relative flex flex-col items-center justify-center h-48 rounded-2xl transition-all cursor-pointer shadow-2xl",children:[b.jsx("div",{className:"relative z-10 w-14 h-14 rounded-full bg-gradient-to-br from-accent-primary to-accent-secondary flex items-center justify-center mb-4 group-hover:scale-110 transition-transform shadow-[0_0_20px_rgba(139,92,246,0.5)]",children:b.jsx(nh,{className:"w-7 h-7 text-white"})}),b.jsx("span",{className:"relative z-10 font-bold text-lg text-white group-hover:text-white transition-colors tracking-wide",children:"Create New Board"})]}),l.filter(V=>V.myRole==="owner").map(V=>{const ve=V.id==="2026"||!V.ownerId?`/board/legacy/${V.id}`:`/board/${V.id}`;return b.jsxs("div",{onClick:be=>{be.preventDefault(),console.log("Navigating to board:",ve),a(ve)},className:"dashboard-card group relative h-48 rounded-2xl p-6 flex flex-col justify-between cursor-pointer overflow-hidden active:scale-[0.99]",children:[b.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:b.jsx("button",{onClick:be=>U(be,V.id,V.title),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-white/10 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",title:"Delete Board",children:b.jsx(kf,{size:18})})}),b.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"h-7 mb-2",children:!!V.sharedCount&&V.sharedCount>0&&b.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider bg-emerald-500/20 text-emerald-400 border border-emerald-500/30",children:[b.jsx(t8,{size:10}),"Shared with ",V.sharedCount]})}),M===V.id?b.jsxs("div",{className:"flex items-center gap-2 mb-1.5 z-30 relative",onClick:be=>be.stopPropagation(),children:[b.jsx("input",{type:"text",value:B,onChange:be=>H(be.target.value),onKeyDown:ae,onClick:be=>be.stopPropagation(),autoFocus:!0,className:"bg-black/50 text-white font-bold text-xl rounded px-2 py-0.5 border border-accent-primary outline-none min-w-0 flex-1 w-full"}),b.jsx("button",{onClick:le,className:"p-1 text-green-400 hover:bg-green-400/20 rounded-full transition-colors",children:b.jsx(Ns,{size:18})}),b.jsx("button",{onClick:re,className:"p-1 text-red-400 hover:bg-red-400/20 rounded-full transition-colors",children:b.jsx(Wr,{size:18})})]}):b.jsxs("div",{className:"flex items-start gap-2 pr-8 mb-1.5",children:[b.jsx("h3",{className:"text-xl font-bold text-white line-clamp-2 group-hover:text-accent-primary transition-colors",children:V.title}),b.jsx("button",{onClick:be=>q(be,V),className:"opacity-0 group-hover:opacity-100 text-slate-400 hover:text-white p-1.5 rounded-full hover:bg-white/10 transition-all z-20",title:"Rename Board",children:b.jsx(kB,{size:14})})]}),b.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[b.jsx(gm,{className:"w-3.5 h-3.5"}),V.createdAt?.toDate?V.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),b.jsx("div",{className:"mt-4",children:b.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-primary/10 text-accent-primary border border-accent-primary/20 group-hover:bg-accent-primary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},V.id)})]}),l.filter(V=>V.myRole!=="owner").length>0&&b.jsxs(b.Fragment,{children:[b.jsxs("h2",{className:"text-xl font-bold text-white mt-10 mb-6 flex items-center gap-2",children:[b.jsx("span",{className:"bg-gradient-to-r from-accent-secondary to-pink-500 bg-clip-text text-transparent",children:"Shared With Me"}),b.jsxs("span",{className:"text-sm font-normal text-slate-500",children:["(",l.filter(V=>V.myRole!=="owner").length,")"]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.filter(V=>V.myRole!=="owner").map(V=>{const ve=V.id==="2026"||!V.ownerId?`/board/legacy/${V.id}`:`/board/${V.id}`;return b.jsxs("div",{onClick:be=>{be.preventDefault(),console.log("Navigating to shared board:",ve),a(ve)},className:"dashboard-card group relative h-48 rounded-2xl p-6 flex flex-col justify-between cursor-pointer overflow-hidden active:scale-[0.99]",children:[b.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity pointer-events-none",children:b.jsx(MI,{className:"w-24 h-24"})}),b.jsx("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:b.jsx("button",{onClick:be=>z(be,V.id,V.title),className:"p-2 text-slate-500 hover:text-amber-400 hover:bg-white/10 rounded-full transition-all opacity-100 md:opacity-0 md:group-hover:opacity-100",title:"Leave Board",children:b.jsx(OI,{size:18})})}),b.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"h-7 mb-2",children:b.jsx("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider ${V.myRole==="editor"?"bg-accent-secondary/20 text-accent-secondary border border-accent-secondary/30":"bg-blue-500/20 text-blue-400 border border-blue-500/30"}`,children:V.myRole==="editor"?" Editor":" Viewer"})}),b.jsx("h3",{className:"text-xl font-bold text-white mb-1 line-clamp-1 pr-8",children:V.title}),V.ownerName&&b.jsxs("div",{className:"text-xs text-slate-500 mb-1.5",children:["Shared by ",b.jsx("span",{className:"text-slate-400",children:V.ownerName})]}),b.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[b.jsx(gm,{className:"w-3.5 h-3.5"}),V.createdAt?.toDate?V.createdAt.toDate().toLocaleDateString():"Unknown date"]})]}),b.jsx("div",{className:"mt-4",children:b.jsx("span",{className:"inline-block px-4 py-1.5 rounded-xl text-xs font-bold bg-accent-secondary/10 text-accent-secondary border border-accent-secondary/20 group-hover:bg-accent-secondary group-hover:text-white transition-all shadow-sm",children:"Open Board"})})]})]},V.id)})})]})]}),m&&b.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[b.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>{v?w(null):g(!1)}}),b.jsxs("div",{className:"relative w-full max-w-2xl bg-slate-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[b.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center shrink-0",children:[b.jsx("h2",{className:"text-xl font-bold text-white",children:v?C[v].name:"Choose a Template"}),b.jsx("button",{onClick:()=>{v?w(null):g(!1)},className:"text-slate-400 hover:text-white",children:b.jsx(nh,{className:"w-6 h-6 rotate-45"})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:v?b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-3",children:"Grid Size"}),b.jsx("div",{className:"grid grid-cols-4 gap-2",children:N.map(({size:V,label:P,icon:ve})=>b.jsxs("button",{onClick:()=>k(V),className:`p-3 rounded-xl border text-center transition-all ${A===V?"bg-accent-primary/20 border-accent-primary text-white":"bg-white/5 border-white/10 text-slate-400 hover:bg-white/10 hover:text-white"}`,children:[b.jsx("span",{className:"text-lg block",children:ve}),b.jsx("span",{className:"font-bold text-sm",children:P}),b.jsxs("span",{className:"text-[10px] block opacity-70",children:[V*V," tiles"]})]},V))})]}),b.jsx("div",{className:"flex justify-center",children:b.jsx("div",{className:`aspect-square w-full max-w-[380px] grid gap-1.5 p-3 bg-slate-950/50 rounded-xl border border-white/10 ${A===3?"grid-cols-3":A===4?"grid-cols-4":A===5?"grid-cols-5":"grid-cols-6"}`,children:(()=>{const V=A*A,P=A%2===1?Math.floor(V/2):-1,ve=C[v].items.filter(be=>be.trim().toUpperCase()!=="FREE SPACE");return Array.from({length:V},(be,J)=>{const X=J===P&&A%2===1,G=J<P||P===-1?J:J-1,Y=X?"FREE":ve[G%ve.length]||`Goal ${J+1}`;return b.jsx("div",{className:`
                                                                relative rounded-lg flex items-center justify-center p-1 text-center select-none overflow-hidden 
                                                                ${A<=4?"text-[9px] sm:text-[11px]":"text-[7px] sm:text-[9px]"}
                                                                leading-tight font-medium border shadow-sm
                                                                ${X?"bg-gradient-to-br from-accent-gold/20 to-accent-secondary/20 border-accent-gold/50 text-accent-gold font-bold":"bg-white/5 border-white/10 text-slate-300"}
                                                            `,children:b.jsx("span",{className:"line-clamp-2",children:Y})},J)})})()})}),b.jsxs("div",{className:"flex gap-3 pt-4",children:[b.jsx("button",{onClick:()=>w(null),className:"flex-1 py-3 rounded-xl font-semibold bg-white/5 text-slate-300 hover:bg-white/10 transition-colors",children:"Back"}),b.jsxs("button",{onClick:()=>O(v),className:"flex-1 py-3 bg-gradient-to-r from-accent-primary to-accent-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-accent-primary/25 transition-all",children:["Create ",A,"",A," Board"]})]})]}):b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(C).map(([V,P])=>b.jsxs("button",{onClick:()=>w(V),className:"flex flex-col items-start p-4 rounded-xl bg-white/5 hover:bg-white/10 border border-white/5 hover:border-accent-primary/50 transition-all text-left group",children:[b.jsx("h3",{className:"font-bold text-white group-hover:text-accent-primary transition-colors",children:P.name}),b.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Click to preview"})]},V))})})]})]})]})},Z7=()=>{const{settings:t}=Nh(),e=S.useRef(null),n=S.useRef(null),r=S.useRef([]),a=S.useMemo(()=>{switch(t.theme){case"midnight":return{type:"stars",particleCount:150,baseColor:"rgba(100, 150, 255, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #0a1628 0%, #020617 50%, #000 100%)",shootingStars:!0};case"cosmic":return{type:"stars",particleCount:200,baseColor:"rgba(139, 92, 246, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #1e1b4b 0%, #0f172a 40%, #020617 100%)",shootingStars:!0};case"forest":return{type:"leaves",particleCount:40,baseColor:"rgba(100, 200, 120, ",bgGradient:"radial-gradient(ellipse at 30% 80%, #0a3d1a 0%, #052e16 50%, #021a09 100%)",shootingStars:!1};case"ocean":return{type:"bubbles",particleCount:60,baseColor:"rgba(100, 220, 255, ",bgGradient:"radial-gradient(ellipse at 50% 100%, #0c4a5e 0%, #083344 50%, #041825 100%)",shootingStars:!1};case"sunset":return{type:"embers",particleCount:50,baseColor:"rgba(255, 150, 80, ",bgGradient:"radial-gradient(ellipse at 50% 100%, #4a1a00 0%, #2a0a0a 50%, #1a0505 100%)",shootingStars:!1};default:return{type:"aurora",particleCount:80,baseColor:"rgba(180, 120, 255, ",bgGradient:"radial-gradient(ellipse at 50% 0%, #1a1040 0%, #0f111a 50%, #0a0b10 100%)",shootingStars:!1}}},[t.theme]);return S.useEffect(()=>{const l=e.current;if(!l)return;const c=()=>{const d=[];for(let m=0;m<a.particleCount;m++)d.push(eq(l.width,l.height,a.type));r.current=d},h=()=>{l.width=window.innerWidth,l.height=window.innerHeight,c()};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[a]),S.useEffect(()=>{if(t.enableAnimation===!1)return;const l=e.current;if(!l)return;const c=l.getContext("2d");if(!c)return;let h=0,d=null;const m=()=>{c.clearRect(0,0,l.width,l.height),r.current.forEach(g=>{tq(g,l.width,l.height,a.type),nq(c,g,a)}),a.shootingStars&&(h++,h>300&&Math.random()<.01&&(d={x:Math.random()*l.width,y:Math.random()*l.height*.5,length:80+Math.random()*40,speed:15+Math.random()*10,opacity:1},h=0),d&&(c.beginPath(),c.strokeStyle=`rgba(255, 255, 255, ${d.opacity})`,c.lineWidth=2,c.moveTo(d.x,d.y),c.lineTo(d.x-d.length,d.y-d.length*.3),c.stroke(),d.x+=d.speed,d.y+=d.speed*.3,d.opacity-=.02,d.opacity<=0&&(d=null))),n.current=requestAnimationFrame(m)};return m(),()=>{n.current&&cancelAnimationFrame(n.current)}},[t.enableAnimation,a]),b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 z-[-2] transition-all duration-1000",style:{background:a.bgGradient}}),b.jsx("canvas",{ref:e,className:"fixed inset-0 z-[-1] pointer-events-none",style:{opacity:t.enableAnimation===!1?0:.8}}),b.jsxs("div",{className:"fixed inset-0 z-[-1] pointer-events-none overflow-hidden",children:[b.jsx("div",{className:`absolute w-[600px] h-[600px] rounded-full blur-[120px] animate-float-slow ${t.theme==="midnight"?"bg-blue-500/10":t.theme==="cosmic"?"bg-violet-600/20":t.theme==="forest"?"bg-green-500/10":t.theme==="ocean"?"bg-cyan-500/10":t.theme==="sunset"?"bg-orange-500/10":"bg-purple-500/10"}`,style:{top:"-15%",left:"-10%"}}),b.jsx("div",{className:`absolute w-[500px] h-[500px] rounded-full blur-[100px] animate-float-slower ${t.theme==="midnight"?"bg-indigo-500/10":t.theme==="cosmic"?"bg-pink-600/20":t.theme==="forest"?"bg-emerald-500/10":t.theme==="ocean"?"bg-teal-500/10":t.theme==="sunset"?"bg-rose-500/10":"bg-pink-500/10"}`,style:{bottom:"-10%",right:"-5%"}})]})]})};function eq(t,e,n){const r={x:Math.random()*t,y:Math.random()*e,opacity:Math.random()*.5+.2};switch(n){case"stars":return{...r,size:Math.random()*2+.5,speedX:0,speedY:0,opacity:Math.random()*.8+.2};case"leaves":return{...r,size:Math.random()*6+3,speedX:Math.random()*.5-.25,speedY:Math.random()*.8+.3,hue:Math.random()*40+80};case"bubbles":return{...r,size:Math.random()*8+2,speedX:Math.random()*.3-.15,speedY:-(Math.random()*.8+.3)};case"embers":return{...r,size:Math.random()*3+1,speedX:Math.random()*.4-.2,speedY:-(Math.random()*1+.5),hue:Math.random()*30+15};default:return{...r,size:Math.random()*4+1,speedX:Math.random()*.3-.15,speedY:Math.random()*.2-.1,hue:Math.random()*60+240}}}function tq(t,e,n,r){t.x+=t.speedX,t.y+=t.speedY,r==="stars"&&(t.opacity+=(Math.random()-.5)*.05,t.opacity=Math.max(.1,Math.min(1,t.opacity))),t.x<0&&(t.x=e),t.x>e&&(t.x=0),t.y<0&&(t.y=n),t.y>n&&(t.y=0)}function nq(t,e,n){switch(t.beginPath(),n.type){case"stars":t.fillStyle=`rgba(255, 255, 255, ${e.opacity})`,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill(),e.opacity>.7&&(t.beginPath(),t.fillStyle=`rgba(200, 220, 255, ${e.opacity*.3})`,t.arc(e.x,e.y,e.size*3,0,Math.PI*2),t.fill());break;case"leaves":t.fillStyle=`hsla(${e.hue}, 60%, 50%, ${e.opacity})`,t.ellipse(e.x,e.y,e.size,e.size*.5,e.x*.01,0,Math.PI*2),t.fill();break;case"bubbles":t.strokeStyle=n.baseColor+`${e.opacity})`,t.lineWidth=1,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.stroke(),t.beginPath(),t.fillStyle=`rgba(255, 255, 255, ${e.opacity*.5})`,t.arc(e.x-e.size*.3,e.y-e.size*.3,e.size*.2,0,Math.PI*2),t.fill();break;case"embers":const r=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size);r.addColorStop(0,`hsla(${e.hue}, 100%, 70%, ${e.opacity})`),r.addColorStop(1,`hsla(${e.hue}, 100%, 50%, 0)`),t.fillStyle=r,t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fill();break;default:const a=t.createRadialGradient(e.x,e.y,0,e.x,e.y,e.size*2);a.addColorStop(0,`hsla(${e.hue}, 80%, 60%, ${e.opacity})`),a.addColorStop(1,`hsla(${e.hue}, 80%, 60%, 0)`),t.fillStyle=a,t.arc(e.x,e.y,e.size*2,0,Math.PI*2),t.fill();break}}const Co=({number:t,title:e,text:n,imageSrc:r})=>b.jsxs("div",{className:"relative pl-8 border-l border-white/10 pb-8 last:pb-0 last:border-l-0",children:[b.jsx("div",{className:"absolute -left-4 top-0 w-8 h-8 rounded-full bg-slate-900 border border-accent-primary text-accent-primary font-bold flex items-center justify-center text-sm shadow-[0_0_10px_rgba(139,92,246,0.2)]",children:t}),b.jsxs("div",{className:"mb-2",children:[b.jsx("h4",{className:"text-lg font-bold text-white",children:e}),b.jsx("p",{className:"text-slate-400 text-sm mt-1",children:n})]}),r&&b.jsxs(We.div,{whileHover:{scale:1.02},className:"mt-4 rounded-xl overflow-hidden border border-white/10 shadow-2xl bg-black/40 group relative",children:[b.jsx("img",{src:r,alt:e,className:"w-full h-auto object-cover opacity-80 group-hover:opacity-100 transition-opacity duration-500"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"})]})]}),iq=()=>{const t=oh();return b.jsx("div",{className:"min-h-screen bg-transparent text-white p-6 relative overflow-x-hidden pb-32",children:b.jsxs("div",{className:"max-w-5xl mx-auto",children:[b.jsxs(We.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>t("/dashboard"),className:"flex items-center gap-2 text-slate-400 hover:text-white transition-colors mb-8 group",children:[b.jsx(sB,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),"Back to App"]}),b.jsxs("div",{className:"text-center mb-16",children:[b.jsx(We.div,{initial:{scale:0},animate:{scale:1},className:"inline-flex items-center justify-center w-20 h-20 rounded-3xl bg-gradient-to-br from-accent-primary to-accent-secondary mb-6 shadow-2xl shadow-accent-primary/20",children:b.jsx(pm,{size:40,className:"text-white"})}),b.jsxs(We.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl sm:text-5xl font-extrabold mb-4",children:["How to Play ",b.jsx("span",{className:"bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent",children:"Bingo"})]}),b.jsx(We.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-xl text-slate-400 max-w-2xl mx-auto",children:"A step-by-step guide to turning your 2026 goals into a social game."})]}),b.jsxs("div",{className:"grid gap-12",children:[b.jsxs(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[b.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[b.jsx("div",{className:"p-3 bg-blue-500/20 rounded-xl text-blue-400",children:b.jsx(nh,{size:32})}),b.jsx("h2",{className:"text-3xl font-bold",children:"1. Creating a Board"})]}),b.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-8 backdrop-blur-sm",children:[b.jsx(Co,{number:1,title:"Start from Dashboard",text:"Click the 'Create Board' button on your dashboard. You can choose to start fresh or use a template (like 'Self Care' or 'Travel').",imageSrc:"/assets/help/dashboard.png"}),b.jsx(Co,{number:2,title:"Customize Setup",text:"Give your board a name (e.g., '2026 Goals') and choose a Grid Size. 3x3 is great for quick games, while 5x5 is the classic challenge."}),b.jsx(Co,{number:3,title:"Fill Your Tiles",text:"The most fun part! Fill in each tile with a specific goal. You can drag to reorder or click 'Shuffle' to mix them up.",imageSrc:"/assets/help/grid.png"}),b.jsx(Co,{number:4,title:"Lock & Play",text:"When you're happy, click 'Go Live'. This locks the grid structure so you can start marking progress."})]})]}),b.jsxs(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[b.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[b.jsx("div",{className:"p-3 bg-green-500/20 rounded-xl text-green-400",children:b.jsx(FB,{size:32})}),b.jsx("h2",{className:"text-3xl font-bold",children:"2. Playing & Tracking"})]}),b.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-8 backdrop-blur-sm",children:[b.jsx(Co,{number:1,title:"Tap to Interact",text:"Tap any tile on your board. If it's a '1-time' goal, you can complete it instantly. For multi-count goals (e.g., 'Read 5 Books'), you can add progress."}),b.jsx(Co,{number:2,title:"Add Photo Proof",text:"Don't just say you did itprove it! Upload photos directly to the tile. This is great for memories later.",imageSrc:"/assets/help/modal.png"}),b.jsx(Co,{number:3,title:"Win with Bingo!",text:"Complete a full row, column, or diagonal to get a BINGO! Watch out for the confetti celebration."})]})]}),b.jsxs(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[b.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[b.jsx("div",{className:"p-3 bg-purple-500/20 rounded-xl text-purple-400",children:b.jsx(QB,{size:32})}),b.jsx("h2",{className:"text-3xl font-bold",children:"3. Playing with Friends"})]}),b.jsx("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-8 backdrop-blur-sm",children:b.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[b.jsxs("div",{children:[b.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[b.jsx(Df,{size:20,className:"text-accent-secondary"}),"Shared Boards"]}),b.jsxs("p",{className:"text-slate-400 mb-4",children:["Invite friends to the ",b.jsx("strong",{children:"same board"}),". You all share the same grid but complete tiles individually (or together!)."]}),b.jsxs("ul",{className:"space-y-3",children:[b.jsxs("li",{className:"flex items-start gap-3",children:[b.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary mt-2"}),b.jsx("span",{className:"text-sm text-slate-300",children:'Great for couples (e.g., "Our 2026 Bucket List")'})]}),b.jsxs("li",{className:"flex items-start gap-3",children:[b.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-primary mt-2"}),b.jsx("span",{className:"text-sm text-slate-300",children:"Perfect for team challenges"})]})]})]}),b.jsxs("div",{children:[b.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[b.jsx(KB,{size:20,className:"text-accent-gold"}),"Competition Mode"]}),b.jsxs("p",{className:"text-slate-400 mb-4",children:["When playing on a shared board, the tile shows ",b.jsx("strong",{children:"who completed it first"}),"."]}),b.jsx("div",{className:"bg-black/40 rounded-xl p-4 border border-white/5",children:b.jsxs("div",{className:"text-center",children:[b.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Tile Status"}),b.jsx("div",{className:"mt-2 font-bold text-white",children:'"Run a Marathon"'}),b.jsx("div",{className:"text-xs text-accent-primary mt-1",children:"Completed by You"})]})})]})]})})]})]}),b.jsx("div",{className:"mt-16 text-center",children:b.jsx("button",{onClick:()=>t("/dashboard"),className:"px-8 py-4 bg-white text-bg-dark font-bold rounded-2xl text-lg hover:scale-105 transition-transform shadow-xl shadow-white/10",children:"Let's Get Started"})})]})})},rq=()=>{const{user:t,loading:e}=mc();return e?b.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-bg-dark text-slate-500",children:"Initializing..."}):b.jsxs(b.Fragment,{children:[b.jsx(Z7,{}),b.jsx(BM,{}),b.jsx(DM,{children:b.jsxs(oM,{children:[b.jsx(Ta,{path:"/login",element:t?b.jsx(kl,{to:"/dashboard",replace:!0}):b.jsx(W8,{})}),b.jsx(Ta,{path:"/help",element:b.jsx(iq,{})}),b.jsx(Ta,{path:"/dashboard",element:t?b.jsx(J7,{}):b.jsx(kl,{to:"/login",replace:!0})}),b.jsx(Ta,{path:"/board/legacy/:yearId",element:t?b.jsx(GS,{}):b.jsx(kl,{to:"/login",replace:!0})}),b.jsx(Ta,{path:"/board/:boardId",element:t?b.jsx(GS,{}):b.jsx(kl,{to:"/login",replace:!0})}),b.jsx(Ta,{path:"/",element:b.jsx(kl,{to:t?"/dashboard":"/login",replace:!0})}),b.jsx(Ta,{path:"*",element:b.jsx(kl,{to:t?"/dashboard":"/login",replace:!0})})]})})]})};function sq(){return b.jsx(yL,{children:b.jsx(X8,{children:b.jsx(r8,{children:b.jsx(rq,{})})})})}console.log("Main.tsx full run");const $S=document.getElementById("root");$S?ck.createRoot($S).render(b.jsx(S.StrictMode,{children:b.jsx(sq,{})})):console.error("Root not found");export{Va as C,os as F,Cm as _,Vn as a,gA as b,Lo as c,lr as d,Wm as e,l0 as g,qo as i,r0 as p,Qr as r,s0 as u};
